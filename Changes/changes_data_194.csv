id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fbarbican~stable%2Fussuri~I3b9bce933ddf3de3cc59d9e12106c442e10d993b,openstack/barbican,stable/ussuri,I3b9bce933ddf3de3cc59d9e12106c442e10d993b,Drop lower-constraints job to unblock gate,MERGED,2021-03-08 14:50:24.000000000,2021-03-08 16:35:05.000000000,2021-03-08 16:21:23.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 14:50:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/35f1367726a072ff390883019b0ac1d9ae1729a2', 'message': 'Drop lower-constraints job to unblock gate\n\nChange-Id: I3b9bce933ddf3de3cc59d9e12106c442e10d993b\n'}]",0,779278,35f1367726a072ff390883019b0ac1d9ae1729a2,8,2,1,7973,,,0,"Drop lower-constraints job to unblock gate

Change-Id: I3b9bce933ddf3de3cc59d9e12106c442e10d993b
",git fetch https://review.opendev.org/openstack/barbican refs/changes/78/779278/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,35f1367726a072ff390883019b0ac1d9ae1729a2,drop-lower-constraints,, - openstack-lower-constraints-jobs,0,1
openstack%2Fopenstack-helm-images~master~I0bfa37808d222ded724e05697e39ab8a6a6e9641,openstack/openstack-helm-images,master,I0bfa37808d222ded724e05697e39ab8a6a6e9641,Change get-pip url,MERGED,2021-03-08 14:02:53.000000000,2021-03-08 16:16:56.000000000,2021-03-08 16:14:40.000000000,"[{'_account_id': 8863}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-08 14:02:53.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_xenial', 'ceph-daemon/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f4cc60b8b1b164e49495f6fa42359eddc7e43609', 'message': 'Change get-pip url\n\nThe path for get-pip.py script in version 3.5 has been changed\nwith this commit [1].\n\n[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37\n\nChange-Id: I0bfa37808d222ded724e05697e39ab8a6a6e9641\n'}]",0,779267,f4cc60b8b1b164e49495f6fa42359eddc7e43609,11,5,1,20676,,,0,"Change get-pip url

The path for get-pip.py script in version 3.5 has been changed
with this commit [1].

[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37

Change-Id: I0bfa37808d222ded724e05697e39ab8a6a6e9641
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/67/779267/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config-helper/Dockerfile.ubuntu_xenial', 'ceph-daemon/Dockerfile.ubuntu_xenial']",2,f4cc60b8b1b164e49495f6fa42359eddc7e43609,, curl -sSL https://bootstrap.pypa.io/pip/3.5/get-pip.py | python3 ;\, curl -sSL https://bootstrap.pypa.io/3.5/get-pip.py | python3 ;\,2,2
openstack%2Fkuryr-kubernetes~master~I2bd8ddd81c874005f0eea2059c006f4095276223,openstack/kuryr-kubernetes,master,I2bd8ddd81c874005f0eea2059c006f4095276223,Move ovn jobs to voting,MERGED,2021-02-05 18:44:14.000000000,2021-03-08 16:15:39.000000000,2021-03-08 16:09:18.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-02-05 18:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3387e04a5c21ab42c72bc95568ce6f7aa009ea9b', 'message': ""Move ovn jobs to voting and allow jobs to fail fast\n\nThe OVN jobs have been green for a while so we should\nmove them to voting. Also, this commit enforces gate jobs\nare marked as failed as soon as an issue happened as they\nalready have passed on the check queue and typically shouldn't\nfail.\n\nChange-Id: I2bd8ddd81c874005f0eea2059c006f4095276223\n""}, {'number': 2, 'created': '2021-03-07 16:40:36.000000000', 'files': ['.zuul.d/sdn.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aa923f56ae538fd60a380b51d5e4f5cd57e91747', 'message': 'Move ovn jobs to voting\n\nThe OVN jobs tempest-containerized-ovn-provider-ovn\nand tempest-containerized-ovn-ipv6 have been green for\na while so we should move them to voting.\n\nChange-Id: I2bd8ddd81c874005f0eea2059c006f4095276223\n'}]",0,774294,aa923f56ae538fd60a380b51d5e4f5cd57e91747,16,5,2,27032,,,0,"Move ovn jobs to voting

The OVN jobs tempest-containerized-ovn-provider-ovn
and tempest-containerized-ovn-ipv6 have been green for
a while so we should move them to voting.

Change-Id: I2bd8ddd81c874005f0eea2059c006f4095276223
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/94/774294/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/sdn.yaml']",2,3387e04a5c21ab42c72bc95568ce6f7aa009ea9b,update-ci,, voting: false voting: false,1,2
openstack%2Fpython-cinderclient~master~I4b97e040f3e790ac114dcd43c68e6b67b1079adf,openstack/python-cinderclient,master,I4b97e040f3e790ac114dcd43c68e6b67b1079adf,Remove all usage of six library,MERGED,2020-09-30 02:41:43.000000000,2021-03-08 16:05:48.000000000,2021-03-08 16:02:59.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-30 02:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/bf6265c1fb6d44bd9197ce18aa873cfc16ad91b2', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I4b97e040f3e790ac114dcd43c68e6b67b1079adf\n'}, {'number': 2, 'created': '2020-09-30 02:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/6e4b72ba590150b41959cbfba6f18faedf998ce0', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I4b97e040f3e790ac114dcd43c68e6b67b1079adf\n'}, {'number': 3, 'created': '2020-09-30 06:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/d09a38158c16484612239a347a01f1a34f62a612', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I4b97e040f3e790ac114dcd43c68e6b67b1079adf\n'}, {'number': 4, 'created': '2020-10-06 08:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/4a1ec9a9df40d2803c841f3c92efd94c159be12f', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I4b97e040f3e790ac114dcd43c68e6b67b1079adf\n'}, {'number': 5, 'created': '2020-10-07 06:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/3fe6ab8b62f9e27b4cc5874af6fcd5c2a23c12be', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I4b97e040f3e790ac114dcd43c68e6b67b1079adf\n'}, {'number': 6, 'created': '2021-02-05 09:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/da3a881a1bd2dfe499edc31163d8c4f236c6458a', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I4b97e040f3e790ac114dcd43c68e6b67b1079adf\n'}, {'number': 7, 'created': '2021-03-04 08:04:13.000000000', 'files': ['cinderclient/tests/unit/test_shell.py', 'cinderclient/client.py', 'cinderclient/tests/unit/test_utils.py', 'cinderclient/tests/unit/test_client.py', 'cinderclient/apiclient/base.py', 'cinderclient/tests/functional/test_volume_create_cli.py', 'tools/lintstack.py', 'requirements.txt', 'cinderclient/tests/functional/test_volume_extend_cli.py', 'cinderclient/v3/volume_types.py', 'cinderclient/shell.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/v2/shell.py', 'cinderclient/tests/unit/v3/test_volumes.py', 'cinderclient/utils.py', 'cinderclient/tests/unit/test_api_versions.py', 'cinderclient/shell_utils.py', 'cinderclient/v3/group_types.py', 'tools/colorizer.py', 'lower-constraints.txt', 'cinderclient/tests/functional/base.py', 'cinderclient/base.py', 'cinderclient/v3/shell.py', 'cinderclient/tests/functional/test_snapshot_create_cli.py', 'cinderclient/tests/unit/v2/test_availability_zone.py', 'cinderclient/tests/unit/v2/fakes.py', 'cinderclient/tests/unit/v3/test_messages.py', 'cinderclient/v3/groups.py', 'cinderclient/tests/unit/test_base.py', 'tools/install_venv.py', 'cinderclient/tests/unit/utils.py', 'cinderclient/tests/unit/v3/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/cea1f674ae1ce545c0cac209b423ac9d626f0c68', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I4b97e040f3e790ac114dcd43c68e6b67b1079adf\n'}]",33,755164,cea1f674ae1ce545c0cac209b423ac9d626f0c68,25,5,7,30407,,,0,"Remove all usage of six library

Replace six with Python 3 style code.

Change-Id: I4b97e040f3e790ac114dcd43c68e6b67b1079adf
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/64/755164/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/unit/test_shell.py', 'cinderclient/client.py', 'cinderclient/tests/unit/test_utils.py', 'cinderclient/tests/unit/test_client.py', 'cinderclient/apiclient/base.py', 'cinderclient/tests/functional/test_volume_create_cli.py', 'tools/lintstack.py', 'requirements.txt', 'cinderclient/tests/functional/test_volume_extend_cli.py', 'cinderclient/v3/volume_types.py', 'cinderclient/shell.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/v2/shell.py', 'cinderclient/tests/unit/v3/test_volumes.py', 'cinderclient/utils.py', 'cinderclient/tests/unit/test_api_versions.py', 'cinderclient/v3/group_types.py', 'tools/colorizer.py', 'lower-constraints.txt', 'cinderclient/tests/functional/base.py', 'cinderclient/base.py', 'cinderclient/v3/shell.py', 'cinderclient/tests/functional/test_snapshot_create_cli.py', 'cinderclient/tests/unit/v2/test_availability_zone.py', 'cinderclient/tests/unit/v2/fakes.py', 'cinderclient/tests/unit/v3/test_messages.py', 'cinderclient/tests/unit/test_base.py', 'tools/install_venv.py', 'cinderclient/tests/unit/utils.py', 'cinderclient/tests/unit/v3/test_shell.py']",30,bf6265c1fb6d44bd9197ce18aa873cfc16ad91b2,remove-six, from urllib import parse {str('key'): str('value')}})) msg = 'the following arguments are required: <log-level>',import six from six.moves.urllib import parse {six.text_type('key'): six.text_type('value')}})) # Different error message from argparse library in Python 2 and 3 if six.PY3: msg = 'the following arguments are required: <log-level>' else: msg = 'too few arguments',78,131
openstack%2Fnova~master~I342e95fef0a792299180a4d8076e6e7c4041ac9b,openstack/nova,master,I342e95fef0a792299180a4d8076e6e7c4041ac9b,libvirt: Add firmware auto-configuration support,MERGED,2021-02-19 17:16:34.000000000,2021-03-08 15:59:39.000000000,2021-03-08 15:55:56.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 17:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91f136017de430faf6e5778b79c5eaf3617e4db8', 'message': 'libvirt: Add firmware auto-configuration support\n\nThis is the guest or ""domain"" side of the config changes.\n\nAs noted in change Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6, since\nlibvirt 5.2 [1], libvirt has provided the ability to automatically\nconfigure bootloader paths. This means libvirt can now take a minimal\nloader configuration like so:\n\n  <os firmware=\'efi\'>\n    <type machine=\'q35\'>hvm</type>\n    <loader secure=\'yes\'/>\n    <boot dev=\'hd\'/>\n  </os>\n\nand convert it into something explicit like so:\n\n  <os>\n    <type arch=\'x86_64\' machine=\'pc-q35-5.1\'>hvm</type>\n    <loader readonly=\'yes\' secure=\'yes\' type=\'pflash\'>{...}/OVMF_CODE.secboot.fd</loader>\n    <nvram template=\'{...}/OVMF_VARS.secboot.fd\'>{...}/mydomain_VARS.fd</nvram>\n    <boot dev=\'hd\'/>\n  </os>\n\nIn change Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6, we added the\nability to identify this capability from the host. In this change, we\nadd the ability to configure it for the guest.\n\n[1] https://www.libvirt.org/news.html#v5-2-0-2019-04-03\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: I342e95fef0a792299180a4d8076e6e7c4041ac9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-02-20 15:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cad9fae74fc0062d59de67c799def83cd183091', 'message': 'libvirt: Add firmware auto-configuration support\n\nThis is the guest or ""domain"" side of the config changes.\n\nAs noted in change Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6, since\nlibvirt 5.2 [1], libvirt has provided the ability to automatically\nconfigure bootloader paths. This means libvirt can now take a minimal\nloader configuration like so:\n\n  <os firmware=\'efi\'>\n    <type machine=\'q35\'>hvm</type>\n    <loader secure=\'yes\'/>\n    <boot dev=\'hd\'/>\n  </os>\n\nand convert it into something explicit like so:\n\n  <os>\n    <type arch=\'x86_64\' machine=\'pc-q35-5.1\'>hvm</type>\n    <loader readonly=\'yes\' secure=\'yes\' type=\'pflash\'>{...}/OVMF_CODE.secboot.fd</loader>\n    <nvram template=\'{...}/OVMF_VARS.secboot.fd\'>{...}/mydomain_VARS.fd</nvram>\n    <boot dev=\'hd\'/>\n  </os>\n\nIn change Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6, we added the\nability to identify this capability from the host. In this change, we\nadd the ability to configure it for the guest.\n\n[1] https://www.libvirt.org/news.html#v5-2-0-2019-04-03\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: I342e95fef0a792299180a4d8076e6e7c4041ac9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-03-05 16:58:19.000000000', 'files': ['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8da39de00744d22ba2b2ed9edcb131ee2d7d17f2', 'message': 'libvirt: Add firmware auto-configuration support\n\nThis is the guest or ""domain"" side of the config changes.\n\nAs noted in change Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6, since\nlibvirt 5.2 [1], libvirt has provided the ability to automatically\nconfigure bootloader paths. This means libvirt can now take a minimal\nloader configuration like so:\n\n  <os firmware=\'efi\'>\n    <type machine=\'q35\'>hvm</type>\n    <loader secure=\'yes\'/>\n    <boot dev=\'hd\'/>\n  </os>\n\nand convert it into something explicit like so:\n\n  <os>\n    <type arch=\'x86_64\' machine=\'pc-q35-5.1\'>hvm</type>\n    <loader readonly=\'yes\' secure=\'yes\' type=\'pflash\'>{...}/OVMF_CODE.secboot.fd</loader>\n    <nvram template=\'{...}/OVMF_VARS.secboot.fd\'>{...}/mydomain_VARS.fd</nvram>\n    <boot dev=\'hd\'/>\n  </os>\n\nIn change Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6, we added the\nability to identify this capability from the host. In this change, we\nadd the ability to configure it for the guest.\n\n[1] https://www.libvirt.org/news.html#v5-2-0-2019-04-03\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: I342e95fef0a792299180a4d8076e6e7c4041ac9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",7,776678,8da39de00744d22ba2b2ed9edcb131ee2d7d17f2,65,5,3,15334,,,0,"libvirt: Add firmware auto-configuration support

This is the guest or ""domain"" side of the config changes.

As noted in change Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6, since
libvirt 5.2 [1], libvirt has provided the ability to automatically
configure bootloader paths. This means libvirt can now take a minimal
loader configuration like so:

  <os firmware='efi'>
    <type machine='q35'>hvm</type>
    <loader secure='yes'/>
    <boot dev='hd'/>
  </os>

and convert it into something explicit like so:

  <os>
    <type arch='x86_64' machine='pc-q35-5.1'>hvm</type>
    <loader readonly='yes' secure='yes' type='pflash'>{...}/OVMF_CODE.secboot.fd</loader>
    <nvram template='{...}/OVMF_VARS.secboot.fd'>{...}/mydomain_VARS.fd</nvram>
    <boot dev='hd'/>
  </os>

In change Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6, we added the
ability to identify this capability from the host. In this change, we
add the ability to configure it for the guest.

[1] https://www.libvirt.org/news.html#v5-2-0-2019-04-03

Blueprint: allow-secure-boot-for-qemu-kvm-guests
Change-Id: I342e95fef0a792299180a4d8076e6e7c4041ac9b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/776678/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,91f136017de430faf6e5778b79c5eaf3617e4db8,bp/allow-secure-boot-for-qemu-kvm-guests, guest.os_type = fields.VMMode.HVM <type>hvm</type>, <type>None</type>,77,34
openstack%2Fcharm-octavia~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-octavia,master,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:48:00.000000000,2021-03-08 15:20:23.000000000,2021-03-08 15:20:23.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3d02ef6cc701671f877853aaaa89021d947e3a01', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 2, 'created': '2021-02-23 10:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/837127598e33c4d0424abe4898e2809a7b05e6c0', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 3, 'created': '2021-02-23 10:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2a579059dc24e0163d14f8c510af06d88db9ce47', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 4, 'created': '2021-02-24 11:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0373a3e6bcb1734c10836258bd04821f2629e03f', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 5, 'created': '2021-03-02 11:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/6f5f93ae5085e9334f5b00530df23a2427582090', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 6, 'created': '2021-03-02 11:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e8fae6db43654ef3f79fc8f40daefcdea4372f60', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 7, 'created': '2021-03-03 08:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/54b2e82b5f8615f1ce6224428ec077e7007c810f', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 8, 'created': '2021-03-04 08:19:26.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/924bc0e28a7f759bd042af1c6213ada447390710', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}]",0,776380,924bc0e28a7f759bd042af1c6213ada447390710,88,5,8,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/80/776380/8 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,3d02ef6cc701671f877853aaaa89021d947e3a01,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - bionic-rocky-ha - bionic-stein-ha - bionic-train-ha-ovn - bionic-train-ha - focal-ussuri-ha-ovn - focal-ussuri-ha vars: needs_charm_build: true charm_build_name: octavia - job: name: bionic-rocky-ha parent: func-target dependencies: &smoke-jobs - focal-ussuri-ha - focal-ussuri-ha-ovn vars: tox_extra_args: bionic-rocky-ha - job: name: bionic-stein-ha parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bionic-stein-ha - job: name: bionic-train-ha-ovn parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bionic-train-ha-ovn - job: name: bionic-train-ha parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bionic-train-ha - job: name: focal-ussuri-ha-ovn parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: focal-ussuri-ha-ovn - job: name: focal-ussuri-ha parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: focal-ussuri-ha,,53,0
openstack%2Fironic-python-agent~stable%2Fvictoria~I9405995915a874b00b7177c9642c5469d05d66a8,openstack/ironic-python-agent,stable/victoria,I9405995915a874b00b7177c9642c5469d05d66a8,Increase the memory limit for qemu-img,MERGED,2021-03-08 11:23:24.000000000,2021-03-08 15:19:09.000000000,2021-03-08 15:16:42.000000000,"[{'_account_id': 1926}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-08 11:23:24.000000000', 'files': ['ironic_python_agent/shell/write_image.sh', 'releasenotes/notes/up-qemuimg-mem-1536183a02b3a235.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/de1e75126a09db9d27bfb4d77a3d2eab99c66c0c', 'message': ""Increase the memory limit for qemu-img\n\nWe appear to be bumping up against this limit when deploying\nRHCOS images(currently 977MB). Curiously the problem isn't\nhappening all the time but increasing the limit eliminates it.\n\nThis limit was intruduced to guard against a malicious image\nallocating an arbitrary amount of memory. Nothing else runs\non hosts when IPA is running so we should be ok bumping up\nthe limit.\n\nStory: #2008667\nTask: #41955\nChange-Id: I9405995915a874b00b7177c9642c5469d05d66a8\n(cherry picked from commit 5492ad7da59571581e9f70fd054efafb39e12593)\n""}]",0,779147,de1e75126a09db9d27bfb4d77a3d2eab99c66c0c,9,4,1,10239,,,0,"Increase the memory limit for qemu-img

We appear to be bumping up against this limit when deploying
RHCOS images(currently 977MB). Curiously the problem isn't
happening all the time but increasing the limit eliminates it.

This limit was intruduced to guard against a malicious image
allocating an arbitrary amount of memory. Nothing else runs
on hosts when IPA is running so we should be ok bumping up
the limit.

Story: #2008667
Task: #41955
Change-Id: I9405995915a874b00b7177c9642c5469d05d66a8
(cherry picked from commit 5492ad7da59571581e9f70fd054efafb39e12593)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/47/779147/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/shell/write_image.sh', 'releasenotes/notes/up-qemuimg-mem-1536183a02b3a235.yaml']",2,de1e75126a09db9d27bfb4d77a3d2eab99c66c0c,,--- fixes: - | Increase memory usage limit for ``qemu-img convert`` command to 2 GiB. See `Story 2008667 <https://storyboard.openstack.org/#!/story/2008667>`_ for details. ,,9,2
openstack%2Fdiskimage-builder~master~Ifde16e40b4e241c6c4c93df44330c403ee903e6f,openstack/diskimage-builder,master,Ifde16e40b4e241c6c4c93df44330c403ee903e6f,Change get-pip url,MERGED,2021-03-08 08:16:28.000000000,2021-03-08 15:13:28.000000000,2021-03-08 15:10:39.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 08:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f87089c8a404fabd30379ab2c1f92a0b9c1e342d', 'message': 'Changed get-pip url\n\nThe path for get-pip.py script in version 3.5 has been changed\nwith this commit [1].\n\n[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37\n\nChange-Id: Ifde16e40b4e241c6c4c93df44330c403ee903e6f\n'}, {'number': 2, 'created': '2021-03-08 08:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a8a44b2cf82716aabb75f054b40ebfdd7910ee65', 'message': 'Changed get-pip url\n\nThe path for get-pip.py script in version 3.5 has been changed\nwith this commit [1].\n\n[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37\n\nChange-Id: Ifde16e40b4e241c6c4c93df44330c403ee903e6f\n'}, {'number': 3, 'created': '2021-03-08 08:19:52.000000000', 'files': ['diskimage_builder/elements/pip-and-virtualenv/source-repository-pip-and-virtualenv'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8b0e2417a63914bbd90ffad66c9c22af2c9bb13d', 'message': 'Change get-pip url\n\nThe path for get-pip.py script in version 3.5 has been changed\nwith this commit [1].\n\n[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37\n\nChange-Id: Ifde16e40b4e241c6c4c93df44330c403ee903e6f\n'}]",0,779173,8b0e2417a63914bbd90ffad66c9c22af2c9bb13d,11,5,3,20676,,,0,"Change get-pip url

The path for get-pip.py script in version 3.5 has been changed
with this commit [1].

[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37

Change-Id: Ifde16e40b4e241c6c4c93df44330c403ee903e6f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/73/779173/3 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pip-and-virtualenv/source-repository-pip-and-virtualenv'],1,f87089c8a404fabd30379ab2c1f92a0b9c1e342d,,pip-and-virtualenv file /tmp/get-pip.py https://bootstrap.pypa.io/pip/3.5/get-pip.py,pip-and-virtualenv file /tmp/get-pip.py https://bootstrap.pypa.io/3.5/get-pip.py,1,1
openstack%2Foslo.messaging~stable%2Fussuri~Id5cddbefbe24ef100f1cc522f44430df77d217cb,openstack/oslo.messaging,stable/ussuri,Id5cddbefbe24ef100f1cc522f44430df77d217cb,Correctly handle missing RabbitMQ queues,MERGED,2021-03-01 15:56:43.000000000,2021-03-08 15:09:03.000000000,2021-03-08 15:05:11.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 15:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8229a14933bbe384372406da50d46f11a634bf96', 'message': ""Correctly handle missing RabbitMQ queues\n\nCurrently, setting the '[oslo_messaging] direct_mandatory_flag' config\noption to 'True' (the default) will result in a 'MessageUndeliverable'\nexception being raised when sending a reply if a RabbitMQ queue is\nmissing [1]. It was the responsibility of the application to handle\nthis exception, however, many applications are not doing so. This has\nresulted in a number of bug reports.\n\nStart handling this error condition, using a retry loop to attempt to\nresend the message and work around any temporary glitches. Since\nattempting to send a reply will will no longer raise an exception,\nthere is little benefit in retaining the '[oslo_messaging]\ndirect_mandatory_flag' config option: users setting this to False will\nsimply not benefit from the retry logic and improved logging added\nhere. This option is already deprecated though and will be fully\nremoved in a future release.\n\n[1] https://www.rabbitmq.com/channels.html\n\nConflicts:\n- oslo_messaging/_drivers/amqpdriver.py\n- oslo_messaging/_drivers/impl_rabbit.py\n\nChange-Id: Id5cddbefbe24ef100f1cc522f44430df77d217cb\nCloses-Bug: #1905965\n(cherry picked from commit 4937949dffecdf8863a7876e5a6b0b18e811c3ac)\n(cherry picked from commit 391ce7fc69adc8d713d8ca64e76d901eb3e65df1)\n""}, {'number': 2, 'created': '2021-03-02 06:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6a97bd33ae85c37498dab30fddc9e2fc20c5aad5', 'message': ""Correctly handle missing RabbitMQ queues\n\nCurrently, setting the '[oslo_messaging] direct_mandatory_flag' config\noption to 'True' (the default) will result in a 'MessageUndeliverable'\nexception being raised when sending a reply if a RabbitMQ queue is\nmissing [1]. It was the responsibility of the application to handle\nthis exception, however, many applications are not doing so. This has\nresulted in a number of bug reports.\n\nStart handling this error condition, using a retry loop to attempt to\nresend the message and work around any temporary glitches. Since\nattempting to send a reply will will no longer raise an exception,\nthere is little benefit in retaining the '[oslo_messaging]\ndirect_mandatory_flag' config option: users setting this to False will\nsimply not benefit from the retry logic and improved logging added\nhere. This option is already deprecated though and will be fully\nremoved in a future release.\n\n[1] https://www.rabbitmq.com/channels.html\n\nConflicts:\n- oslo_messaging/_drivers/amqpdriver.py\n- oslo_messaging/_drivers/impl_rabbit.py\n\nNOTE(hberaud): Conflicts are due to different log levels and option help\n\nChange-Id: Id5cddbefbe24ef100f1cc522f44430df77d217cb\nCloses-Bug: #1905965\n(cherry picked from commit 4937949dffecdf8863a7876e5a6b0b18e811c3ac)\n(cherry picked from commit 391ce7fc69adc8d713d8ca64e76d901eb3e65df1)\n""}, {'number': 3, 'created': '2021-03-02 10:59:07.000000000', 'files': ['releasenotes/notes/handle-missing-queue-553a803f94976be7.yaml', 'oslo_messaging/_drivers/amqpdriver.py', 'doc/source/admin/rabbit.rst', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/36b5e06c92337cd04d1c8ae4840dbc224faeaa9f', 'message': ""Correctly handle missing RabbitMQ queues\n\nCurrently, setting the '[oslo_messaging] direct_mandatory_flag' config\noption to 'True' (the default) will result in a 'MessageUndeliverable'\nexception being raised when sending a reply if a RabbitMQ queue is\nmissing [1]. It was the responsibility of the application to handle\nthis exception, however, many applications are not doing so. This has\nresulted in a number of bug reports.\n\nStart handling this error condition, using a retry loop to attempt to\nresend the message and work around any temporary glitches. Since\nattempting to send a reply will will no longer raise an exception,\nthere is little benefit in retaining the '[oslo_messaging]\ndirect_mandatory_flag' config option: users setting this to False will\nsimply not benefit from the retry logic and improved logging added\nhere. This option is already deprecated though and will be fully\nremoved in a future release.\n\n[1] https://www.rabbitmq.com/channels.html\n\nChange-Id: Id5cddbefbe24ef100f1cc522f44430df77d217cb\nCloses-Bug: #1905965\n(cherry picked from commit 4937949dffecdf8863a7876e5a6b0b18e811c3ac)\n(cherry picked from commit 391ce7fc69adc8d713d8ca64e76d901eb3e65df1)\n""}]",2,778019,36b5e06c92337cd04d1c8ae4840dbc224faeaa9f,14,2,3,28522,,,0,"Correctly handle missing RabbitMQ queues

Currently, setting the '[oslo_messaging] direct_mandatory_flag' config
option to 'True' (the default) will result in a 'MessageUndeliverable'
exception being raised when sending a reply if a RabbitMQ queue is
missing [1]. It was the responsibility of the application to handle
this exception, however, many applications are not doing so. This has
resulted in a number of bug reports.

Start handling this error condition, using a retry loop to attempt to
resend the message and work around any temporary glitches. Since
attempting to send a reply will will no longer raise an exception,
there is little benefit in retaining the '[oslo_messaging]
direct_mandatory_flag' config option: users setting this to False will
simply not benefit from the retry logic and improved logging added
here. This option is already deprecated though and will be fully
removed in a future release.

[1] https://www.rabbitmq.com/channels.html

Change-Id: Id5cddbefbe24ef100f1cc522f44430df77d217cb
Closes-Bug: #1905965
(cherry picked from commit 4937949dffecdf8863a7876e5a6b0b18e811c3ac)
(cherry picked from commit 391ce7fc69adc8d713d8ca64e76d901eb3e65df1)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/19/778019/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/handle-missing-queue-553a803f94976be7.yaml', 'oslo_messaging/_drivers/amqpdriver.py', 'doc/source/admin/rabbit.rst', 'oslo_messaging/_drivers/impl_rabbit.py']",4,8229a14933bbe384372406da50d46f11a634bf96,backport-mandatory-to-ussuri," 'in case the client queue does not exist.' 'MessageUndeliverable exception will be used to loop for a ' 'timeout to lets a chance to sender to recover.' 'This flag is deprecated and it will not be possible to ' 'deactivate this functionality anymore'),"," 'in case the client queue does not exist.'),",63,24
openstack%2Ftripleo-ci-health-queries~master~I1a2b75e5987367b625a17456ae8175986d404040,openstack/tripleo-ci-health-queries,master,I1a2b75e5987367b625a17456ae8175986d404040,Changing source url for queries from github to opendev as the project has moved from github to opendev.,MERGED,2021-03-05 14:08:39.000000000,2021-03-08 15:08:33.000000000,2021-03-08 15:08:33.000000000,"[{'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-03-05 14:08:39.000000000', 'files': ['src/test-load.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/b2a140f04c5b3f0991e0dc520853da6ca2d62b87', 'message': 'Changing source url for queries from github to opendev as the project has moved from github to opendev.\n\nChange-Id: I1a2b75e5987367b625a17456ae8175986d404040\n'}]",0,778928,b2a140f04c5b3f0991e0dc520853da6ca2d62b87,7,3,1,32458,,,0,"Changing source url for queries from github to opendev as the project has moved from github to opendev.

Change-Id: I1a2b75e5987367b625a17456ae8175986d404040
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/28/778928/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-load.yml'],1,b2a140f04c5b3f0991e0dc520853da6ca2d62b87,move_queries_url, url: https://opendev.org/openstack/tripleo-ci-health-queries/raw/branch/master/build/queries.json, url: https://raw.githubusercontent.com/rdo-infra/queries/main/build/queries.json,1,1
openstack%2Ftempest~master~I6d862b4dd41ea86a659e6431bcb215e9e12cf35d,openstack/tempest,master,I6d862b4dd41ea86a659e6431bcb215e9e12cf35d,Make _create_security_group() non-private,MERGED,2021-02-22 13:20:10.000000000,2021-03-08 15:05:29.000000000,2021-03-08 15:02:21.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-02-22 13:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e9c32c70ce6e6d594516e9dc1840a4efd37ed562', 'message': 'Make _create_security_group() non-private\n\n_create_security_group() is made public by this commit as\nthe tempest.scenario.manager interface is meant to be\nconsumed by tempest plugins.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I6d862b4dd41ea86a659e6431bcb215e9e12cf35d\n'}, {'number': 2, 'created': '2021-03-01 14:35:31.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_volume_migrate_attached.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/scenario/test_volume_backup_restore.py', 'tempest/scenario/test_network_v6.py', 'tempest/scenario/test_snapshot_pattern.py', 'tempest/scenario/test_minimum_basic.py', 'tempest/scenario/test_server_basic_ops.py', 'tempest/scenario/test_volume_boot_pattern.py', 'tempest/scenario/test_network_advanced_server_ops.py', 'tempest/scenario/test_shelve_instance.py', 'tempest/scenario/test_stamp_pattern.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/582c170b2ccf0f5bf08ae9ea08b1eaf3bc4bc93c', 'message': 'Make _create_security_group() non-private\n\n_create_security_group() is made public by this commit as\nthe tempest.scenario.manager interface is meant to be\nconsumed by tempest plugins.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I6d862b4dd41ea86a659e6431bcb215e9e12cf35d\n'}]",0,776932,582c170b2ccf0f5bf08ae9ea08b1eaf3bc4bc93c,20,6,2,30742,,,0,"Make _create_security_group() non-private

_create_security_group() is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I6d862b4dd41ea86a659e6431bcb215e9e12cf35d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/776932/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/test_minimum_basic.py', 'tempest/scenario/manager.py', 'tempest/scenario/test_server_basic_ops.py', 'tempest/scenario/test_volume_boot_pattern.py', 'tempest/scenario/test_volume_migrate_attached.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/scenario/test_volume_backup_restore.py', 'tempest/scenario/test_network_v6.py', 'tempest/scenario/test_snapshot_pattern.py', 'tempest/scenario/test_shelve_instance.py', 'tempest/scenario/test_stamp_pattern.py']",11,e9c32c70ce6e6d594516e9dc1840a4efd37ed562,bp/tempest-scenario-manager-stable, security_group = self.create_security_group(), security_group = self._create_security_group(),16,16
openstack%2Ftripleo-validations~master~I9137821c8396568be125ec686bad2534f9d433b2,openstack/tripleo-validations,master,I9137821c8396568be125ec686bad2534f9d433b2,Fix unbound variable,MERGED,2021-03-05 00:20:38.000000000,2021-03-08 14:54:11.000000000,2021-03-08 13:50:54.000000000,"[{'_account_id': 6816}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-03-05 00:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8a07f3783fa50ae3d75d41d25b78437a36cafe8f', 'message': 'Fix unbound variable\n\nIf operator runs script without any variables it will fail as\n\nscripts/run-local-test: line 26: $1: unbound variable\n\nThis patch adds usage function and check if script is run without\nROLE_NAME\n\nChange-Id: I9137821c8396568be125ec686bad2534f9d433b2\n'}, {'number': 2, 'created': '2021-03-05 12:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9966df4b398bf2ac7d28ba93e13d70095f454f23', 'message': 'Fix unbound variable\n\nIf operator runs script without any variables it will fail as\n\nscripts/run-local-test: line 26: $1: unbound variable\n\nThis patch adds usage function and check if script is run without\nROLE_NAME\n\nChange-Id: I9137821c8396568be125ec686bad2534f9d433b2\n'}, {'number': 3, 'created': '2021-03-05 15:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/51db491a8b626f909ed9554424baf1c994a2f1ee', 'message': 'Fix unbound variable\n\nIf operator runs script without any variables it will fail as\n\nscripts/run-local-test: line 26: $1: unbound variable\n\nThis patch adds usage function and check if script is run without\nROLE_NAME\n\nChange-Id: I9137821c8396568be125ec686bad2534f9d433b2\n'}, {'number': 4, 'created': '2021-03-05 15:59:01.000000000', 'files': ['scripts/run-local-test'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0550d6900ca074e0ecb7bef4ceb499d427360c62', 'message': 'Fix unbound variable\n\nIf operator runs script without any variables it will fail as\n\nscripts/run-local-test: line 26: $1: unbound variable\n\nThis patch adds usage function and check if script is run without\nROLE_NAME\n\nChange-Id: I9137821c8396568be125ec686bad2534f9d433b2\n'}]",4,778800,0550d6900ca074e0ecb7bef4ceb499d427360c62,15,7,4,11090,,,0,"Fix unbound variable

If operator runs script without any variables it will fail as

scripts/run-local-test: line 26: $1: unbound variable

This patch adds usage function and check if script is run without
ROLE_NAME

Change-Id: I9137821c8396568be125ec686bad2534f9d433b2
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/00/778800/4 && git format-patch -1 --stdout FETCH_HEAD,['scripts/run-local-test'],1,8a07f3783fa50ae3d75d41d25b78437a36cafe8f,unbound_variable,"## Functions ----------------------------------------------------------------- function usage() { echo ""Usage: ROLE_NAME=ROLE_NAME ${0##*/} or"" echo ""${0##*/} ROLE_NAME"" }if [ ""${ROLE_NAME}x"" = ""x"" -a ""${1}x"" = ""x"" ]; then usage; exit 2 fi## Shell Opts ---------------------------------------------------------------- set -o pipefail set -xeuo ",## Shell Opts ---------------------------------------------------------------- set -o pipefail set -xeuo,14,4
openstack%2Ftempest~master~I3c7d3a4993eefc6da5ec37b3c4c64fb66a3c2794,openstack/tempest,master,I3c7d3a4993eefc6da5ec37b3c4c64fb66a3c2794,Add a [compute-feature-enabled]/fixed_key flag,ABANDONED,2021-03-02 17:19:59.000000000,2021-03-08 14:44:59.000000000,,"[{'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-03-02 17:19:59.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/79f57767ecccd6a621a8a901b6ec071ba66d11fb', 'message': 'Add a [compute-feature-enabled]/fixed_key flag\n\nFor tests requiring a fixed key or key manager service enabled\nthis can be used along with CONF.service_available.<key-manager> when\nfor different deployments specifically, one not having the key manager\nenabled, we can use this flag to run the test.\n\nRelated: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/778215\nChange-Id: I3c7d3a4993eefc6da5ec37b3c4c64fb66a3c2794\n'}]",0,778223,79f57767ecccd6a621a8a901b6ec071ba66d11fb,7,6,1,27478,,,0,"Add a [compute-feature-enabled]/fixed_key flag

For tests requiring a fixed key or key manager service enabled
this can be used along with CONF.service_available.<key-manager> when
for different deployments specifically, one not having the key manager
enabled, we can use this flag to run the test.

Related: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/778215
Change-Id: I3c7d3a4993eefc6da5ec37b3c4c64fb66a3c2794
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/778223/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,79f57767ecccd6a621a8a901b6ec071ba66d11fb,fixed-key-flag," cfg.BoolOpt('fixed_key', default=False, help=""If false, skip fixed key tests""),",,3,0
openstack%2Ftripleo-ci~master~I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e,openstack/tripleo-ci,master,I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e,Collect default working-dir,MERGED,2021-02-23 13:46:26.000000000,2021-03-08 14:39:46.000000000,2021-03-08 14:39:46.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 13:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/84bdb0018e03fec63657af243b333bf61f4854ce', 'message': 'DNM: Add ~/overcloud-deploy to collect logs config\n\nAdd the consistent working directory used for all the files\ngenerated by an overcloud deployment. All generated files will\neventually be migrated under this directory.\n\nDepends-On: I0d803f695c725c58ef2e6b655753b6c8248d1b2f\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\n'}, {'number': 2, 'created': '2021-03-03 12:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7b8fffcbbc97c97621bc8063507006cba5509074', 'message': 'DNM: Add ~/overcloud-deploy to collect logs config\n\nAdd the consistent working directory used for all the files\ngenerated by an overcloud deployment. All generated files will\neventually be migrated under this directory.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\n'}, {'number': 3, 'created': '2021-03-08 07:24:43.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bdc56343acaf04babe13ce0154449c33c22a721b', 'message': ""Collect default working-dir\n\nWith change I0d803f695c725c58ef2e6b655753b6c8248d1b2f\nwe use a different working_dir which defaults to\n$HOME/overcloud-deploy-<stack> to store all files. Let's\ncollect it for ease of troubleshooting of CI jobs.\n\nChange-Id: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e\n""}]",2,777107,bdc56343acaf04babe13ce0154449c33c22a721b,19,7,3,7144,,,0,"Collect default working-dir

With change I0d803f695c725c58ef2e6b655753b6c8248d1b2f
we use a different working_dir which defaults to
$HOME/overcloud-deploy-<stack> to store all files. Let's
collect it for ease of troubleshooting of CI jobs.

Change-Id: I384d15f819f8f5f5654ea8d98a67cdaaec1cff2e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/07/777107/2 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,84bdb0018e03fec63657af243b333bf61f4854ce,ephemeral-heat, - /home/{{ undercloud_user }}/overcloud_deploy/,,1,0
openstack%2Fmanila~master~I24b32c8521805a7d67d512d36d644c0f07c532ea,openstack/manila,master,I24b32c8521805a7d67d512d36d644c0f07c532ea,[doc] remove project_id from api endpoints,MERGED,2021-02-03 19:25:11.000000000,2021-03-08 14:18:20.000000000,2021-03-08 14:15:18.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-02-03 19:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1f89cf87976503c3867b2ec9291465981d700780', 'message': '[doc] remove project_id from api endpoints\n\nAs of API version 2.60, a project_id is no\nlonger needed in the API URLs.\n\nFix the docs to indicate that.\n\nChange-Id: I24b32c8521805a7d67d512d36d644c0f07c532ea\nImplements: bp remove-project-id-from-urls\nDepends-On: I5127e150e8a71e621890f30dba6720b3932cf583\nDepends-On: I25aeb1b6dd1a4150c6e542e29b7d43e18d9ad94c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-02-06 00:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/33b55a87c3273efd9683b834ceb49965a2568224', 'message': '[doc] remove project_id from api endpoints\n\nAs of API version 2.60, a project_id is no\nlonger needed in the API URLs.\n\nFix the docs to indicate that.\n\nChange-Id: I24b32c8521805a7d67d512d36d644c0f07c532ea\nImplements: bp remove-project-id-from-urls\nDepends-On: I5127e150e8a71e621890f30dba6720b3932cf583\nDepends-On: I25aeb1b6dd1a4150c6e542e29b7d43e18d9ad94c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-02-10 05:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/007b9896eacd558e7d9d3ffe8c0e6b9e49cb005c', 'message': '[doc] remove project_id from api endpoints\n\nAs of API version 2.60, a project_id is no\nlonger needed in the API URLs.\n\nFix the docs to indicate that.\n\nAlso fix up a few quota parameters that use\nproject_id in a different place in the API path.\n\nChange-Id: I24b32c8521805a7d67d512d36d644c0f07c532ea\nImplements: bp remove-project-id-from-urls\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2021-02-10 05:59:27.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/share-instances.inc', 'api-ref/source/share-networks.inc', 'api-ref/source/limits.inc', 'api-ref/source/quota-sets.inc', 'api-ref/source/share-replica-export-locations.inc', 'api-ref/source/share-types.inc', 'api-ref/source/services.inc', 'api-ref/source/snapshot-instances.inc', 'api-ref/source/extensions.inc', 'api-ref/source/share-actions.inc', 'api-ref/source/share-replicas.inc', 'api-ref/source/share-access-rules.inc', 'api-ref/source/share-servers.inc', 'api-ref/source/snapshots.inc', 'api-ref/source/share-export-locations.inc', 'api-ref/source/shares.inc', 'api-ref/source/availability-zones.inc', 'api-ref/source/index.rst', 'api-ref/source/security-services.inc', 'api-ref/source/share-access-rule-metadata.inc', 'api-ref/source/os-share-manage.inc', 'api-ref/source/share-group-snapshots.inc', 'api-ref/source/share-metadata.inc', 'doc/source/install/common/controller-node-prerequisites.rst', 'api-ref/source/share-migration.inc', 'api-ref/source/scheduler-stats.inc', 'api-ref/source/share-groups.inc', 'api-ref/source/share-network-subnets.inc', 'api-ref/source/quota-classes.inc', 'api-ref/source/user-messages.inc', 'api-ref/source/share-group-types.inc', 'api-ref/source/share-instance-export-locations.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/de29398128fa05ccfce526e0e3512b31c70b5228', 'message': '[doc] remove project_id from api endpoints\n\nAs of API version 2.60, a project_id is no\nlonger needed in the API URLs.\n\nFix the docs to indicate that.\n\nAlso fix up a few quota parameters that use\nproject_id in a different place in the API path.\n\nChange-Id: I24b32c8521805a7d67d512d36d644c0f07c532ea\nImplements: bp remove-project-id-from-urls\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,773987,de29398128fa05ccfce526e0e3512b31c70b5228,32,4,4,16643,,,0,"[doc] remove project_id from api endpoints

As of API version 2.60, a project_id is no
longer needed in the API URLs.

Fix the docs to indicate that.

Also fix up a few quota parameters that use
project_id in a different place in the API path.

Change-Id: I24b32c8521805a7d67d512d36d644c0f07c532ea
Implements: bp remove-project-id-from-urls
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/87/773987/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/share-instances.inc', 'api-ref/source/share-networks.inc', 'api-ref/source/limits.inc', 'api-ref/source/quota-sets.inc', 'api-ref/source/share-replica-export-locations.inc', 'api-ref/source/share-types.inc', 'api-ref/source/services.inc', 'api-ref/source/snapshot-instances.inc', 'api-ref/source/extensions.inc', 'api-ref/source/share-actions.inc', 'api-ref/source/share-replicas.inc', 'api-ref/source/share-access-rules.inc', 'api-ref/source/share-servers.inc', 'api-ref/source/snapshots.inc', 'api-ref/source/share-export-locations.inc', 'api-ref/source/shares.inc', 'api-ref/source/availability-zones.inc', 'api-ref/source/index.rst', 'api-ref/source/security-services.inc', 'api-ref/source/share-access-rule-metadata.inc', 'api-ref/source/os-share-manage.inc', 'api-ref/source/share-group-snapshots.inc', 'api-ref/source/share-metadata.inc', 'doc/source/install/common/controller-node-prerequisites.rst', 'api-ref/source/share-migration.inc', 'api-ref/source/scheduler-stats.inc', 'api-ref/source/share-groups.inc', 'api-ref/source/share-network-subnets.inc', 'api-ref/source/quota-classes.inc', 'api-ref/source/user-messages.inc', 'api-ref/source/share-group-types.inc', 'api-ref/source/share-instance-export-locations.inc']",32,1f89cf87976503c3867b2ec9291465981d700780,bp/remove-project-id-from-urls,.. rest_method:: GET /v2/share_instances/{share_instance_id}/export_locations.. rest_method:: GET /v2/share_instances/{share_instance_id}/export_locations/{export_location_id},.. rest_method:: GET /v2/{project_id}/share_instances/{share_instance_id}/export_locations.. rest_method:: GET /v2/{project_id}/share_instances/{share_instance_id}/export_locations/{export_location_id},205,189
openstack%2Fopenstack-virtual-baremetal~stable%2F1.0~Icf5c87ae1ab083a143a0f3f8a991426bb5433c37,openstack/openstack-virtual-baremetal,stable/1.0,Icf5c87ae1ab083a143a0f3f8a991426bb5433c37,When private network is created suffix it with identifier,MERGED,2021-03-05 04:46:58.000000000,2021-03-08 14:17:56.000000000,2021-03-08 14:17:56.000000000,"[{'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-05 04:46:58.000000000', 'files': ['openstack_virtual_baremetal/deploy.py'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/eff1572fea3a67b9de89cd88ab239c4c4ad9f686', 'message': ""When private network is created suffix it with identifier\n\nIt's needed when environments/create-private-network.yaml\nis used with ovb jobs where '--id' is used, in this\ncase each ovb env should have seperate private network\nwith different id.\n\nRelated-Change: https://review.rdoproject.org/r/#/c/32142/\n\nChange-Id: Icf5c87ae1ab083a143a0f3f8a991426bb5433c37\n(cherry picked from commit 02cdcbb7523d9219c1c2d52b989e1fbd6c128f85)\n""}]",0,778821,eff1572fea3a67b9de89cd88ab239c4c4ad9f686,9,5,1,13861,,,0,"When private network is created suffix it with identifier

It's needed when environments/create-private-network.yaml
is used with ovb jobs where '--id' is used, in this
case each ovb env should have seperate private network
with different id.

Related-Change: https://review.rdoproject.org/r/#/c/32142/

Change-Id: Icf5c87ae1ab083a143a0f3f8a991426bb5433c37
(cherry picked from commit 02cdcbb7523d9219c1c2d52b989e1fbd6c128f85)
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/21/778821/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_virtual_baremetal/deploy.py'],1,eff1572fea3a67b9de89cd88ab239c4c4ad9f686,private_nw_support-stable/1.0," priv_network = env_data['parameter_defaults'].get('private_net_cidr') if priv_network: _add_identifier(env_data, 'private_net', args.id, default='private')",,3,0
openstack%2Fcharm-octavia~master~I86831c9d00902c24833cdb1299a5c5f4567f43db,openstack/charm-octavia,master,I86831c9d00902c24833cdb1299a5c5f4567f43db,Prune gate tests,MERGED,2021-02-20 00:04:17.000000000,2021-03-08 14:16:32.000000000,2021-03-08 14:16:32.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/904792efaef99d14818c3b309c16b9be060ef98c', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I86831c9d00902c24833cdb1299a5c5f4567f43db\n'}, {'number': 2, 'created': '2021-02-23 18:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5df709b7b6f58cd5872605f7a1a5aca3b4cbd6f8', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I86831c9d00902c24833cdb1299a5c5f4567f43db\n'}, {'number': 3, 'created': '2021-03-08 10:09:22.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3adb44e3a5adf6563210e8ca40456cca84aa17a0', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I86831c9d00902c24833cdb1299a5c5f4567f43db\n'}]",2,776758,3adb44e3a5adf6563210e8ca40456cca84aa17a0,20,5,3,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I86831c9d00902c24833cdb1299a5c5f4567f43db
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/58/776758/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,904792efaef99d14818c3b309c16b9be060ef98c,change-776758-2,dev_bundles: - bionic-rocky-ha - bionic-rocky-lxd,- bionic-rocky-ha- bionic-rocky-lxd,3,2
openstack%2Fnova~master~Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,openstack/nova,master,Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,Centralize sqlite FK constraint enforcement,MERGED,2021-02-03 05:56:18.000000000,2021-03-08 13:54:12.000000000,2021-03-08 13:46:42.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-03 05:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94d4d9197bec01a514bfa9ca6a3fc4cb1e829948', 'message': ""Centralize sqlite FK constraint enforcement\n\nThere's a TODO in the code to centralize foreign key constraint\nenforcement for sqlite for unit and functional tests and we're missing\nenforcement of FK constraints in a couple of test classes that should\nhave it.\n\nThis resolves the TODO and turns on FK constraint enforcement where it\nis missing. Do this to enhance testing in preparation for a proposed\nchange to the database archiving logic later in this patch series.\n\nChange-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f\n""}, {'number': 2, 'created': '2021-02-12 21:51:02.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/test.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/172024db7174bdac05a3d3172c645b0db83ae41e', 'message': ""Centralize sqlite FK constraint enforcement\n\nThere's a TODO in the code to centralize foreign key constraint\nenforcement for sqlite for unit and functional tests and we're missing\nenforcement of FK constraints in a couple of test classes that should\nhave it.\n\nThis resolves the TODO and turns on FK constraint enforcement where it\nis missing. Do this to enhance testing in preparation for a proposed\nchange to the database archiving logic later in this patch series.\n\nChange-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f\n""}]",0,773833,172024db7174bdac05a3d3172c645b0db83ae41e,22,3,2,4690,,,0,"Centralize sqlite FK constraint enforcement

There's a TODO in the code to centralize foreign key constraint
enforcement for sqlite for unit and functional tests and we're missing
enforcement of FK constraints in a couple of test classes that should
have it.

This resolves the TODO and turns on FK constraint enforcement where it
is missing. Do this to enhance testing in preparation for a proposed
change to the database archiving logic later in this patch series.

Change-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/773833/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/test.py', 'nova/tests/unit/db/test_db_api.py']",4,94d4d9197bec01a514bfa9ca6a3fc4cb1e829948,bug/1837995, self.enforce_fk_constraints(engine=self.engine),"from sqlalchemy.dialects import sqlite dialect = self.engine.url.get_dialect() if dialect == sqlite.dialect: # We're seeing issues with foreign key support in SQLite 3.6.20 # SQLAlchemy doesn't support it at all with < SQLite 3.6.19 # It works fine in SQLite 3.7. # So return early to skip this test if running SQLite < 3.7 import sqlite3 tup = sqlite3.sqlite_version_info if tup[0] < 3 or (tup[0] == 3 and tup[1] < 7): self.skipTest( 'sqlite version too old for reliable SQLA foreign_keys') self.conn.execute(""PRAGMA foreign_keys = ON"")",22,30
openstack%2Fneutron~master~I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45,openstack/neutron,master,I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45,Implement secure RBAC for RBAC policy API,MERGED,2020-12-03 23:04:21.000000000,2021-03-08 13:53:02.000000000,2021-03-08 13:45:52.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 23:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61cf7e66df713c3262404d125752f7aa23046136', 'message': 'Implement secure RBAC for RBAC policy API\n\nThis commit updates the RBAC resource policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45\n'}, {'number': 2, 'created': '2020-12-15 13:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59f4d515ad48664cf9f642eea35f325bab8eea1b', 'message': 'Implement secure RBAC for RBAC policy API\n\nThis commit updates the RBAC resource policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45\n'}, {'number': 3, 'created': '2020-12-17 11:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4147965afba5d507bbb375b9d5f00f0b2d65a344', 'message': 'Implement secure RBAC for RBAC policy API\n\nThis commit updates the RBAC resource policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45\n'}, {'number': 4, 'created': '2021-01-21 16:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1b85af555e808b4a5a6443c8f010fe8a3cf9095', 'message': 'Implement secure RBAC for RBAC policy API\n\nThis commit updates the RBAC resource policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45\n'}, {'number': 5, 'created': '2021-02-18 12:29:17.000000000', 'files': ['neutron/conf/policies/rbac.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2638c8a561af6cd495c1ba9abfa4dff58f5a9e48', 'message': 'Implement secure RBAC for RBAC policy API\n\nThis commit updates the RBAC resource policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45\n'}]",2,765416,2638c8a561af6cd495c1ba9abfa4dff58f5a9e48,36,5,5,5046,,,0,"Implement secure RBAC for RBAC policy API

This commit updates the RBAC resource policies to understand scope checking
and account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I3eb8c0969e1db867fcb2f148c2feb6f69fc75a45
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/765416/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/rbac.py'],1,61cf7e66df713c3262404d125752f7aa23046136,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The RBAC API now supports system scope and default roles. """""" deprecated_restrict_wildcard = policy.DeprecatedRule( name='restrict_wildcard', check_str=base.policy_or( '(not field:rbac_policy:target_tenant=*)', base.RULE_ADMIN_ONLY) ) deprecated_create_rbac_policy = policy.DeprecatedRule( name='create_rbac_policy', check_str=base.RULE_ANY ) deprecated_create_rbac_policy_target_tenant = policy.DeprecatedRule( name='create_rbac_policy:target_tenant', check_str='rule:restrict_wildcard' ) deprecated_update_rbac_policy = policy.DeprecatedRule( name='update_rbac_policy', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_update_rbac_policy_tenant_target = policy.DeprecatedRule( name='update_rbac_policy:target_tenant', check_str=base.policy_and( 'rule:restrict_wildcard', base.RULE_ADMIN_OR_OWNER) ) deprecated_get_rbac_policy = policy.DeprecatedRule( name='get_rbac_policy', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_delete_rbac_policy = policy.DeprecatedRule( name='delete_rbac_policy', check_str=base.RULE_ADMIN_OR_OWNER ) name='restrict_wildcard', check_str=base.policy_or( '(not field:rbac_policy:target_tenant=*)', base.RULE_ADMIN_ONLY), description='Definition of a wildcard target_tenant'), name='create_rbac_policy', check_str=base.PROJECT_MEMBER, scope_types=['project'], description='Create an RBAC policy', operations=[ { 'method': 'POST', 'path': COLLECTION_PATH, }, ], deprecated_rule=deprecated_create_rbac_policy, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), policy.DocumentedRuleDefault( name='create_rbac_policy:target_tenant', check_str='rule:restrict_wildcard', description='Specify ``target_tenant`` when creating an RBAC policy', operations=[ name='update_rbac_policy', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['project', 'system'], description='Update an RBAC policy', operations=[ { 'method': 'PUT', 'path': RESOURCE_PATH, ], deprecated_rule=deprecated_update_rbac_policy, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_rbac_policy:target_tenant', check_str=base.policy_and( 'rule:restrict_wildcard', base.RULE_ADMIN_OR_OWNER), description='Update ``target_tenant`` attribute of an RBAC policy', operations=[ name='get_rbac_policy', check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['project', 'system'], description='Get an RBAC policy', operations=[ ], deprecated_rule=deprecated_update_rbac_policy, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_rbac_policy', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['project', 'system'], description='Delete an RBAC policy', operations=[ ], deprecated_rule=deprecated_delete_rbac_policy, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'restrict_wildcard', base.policy_or('(not field:rbac_policy:target_tenant=*)', base.RULE_ADMIN_ONLY), 'Definition of a wildcard target_tenant'), 'create_rbac_policy', base.RULE_ANY, 'Create an RBAC policy', [ 'create_rbac_policy:target_tenant', 'rule:restrict_wildcard', 'Specify ``target_tenant`` when creating an RBAC policy', [ { 'method': 'POST', 'path': COLLECTION_PATH, ] 'update_rbac_policy', base.RULE_ADMIN_OR_OWNER, 'Update an RBAC policy', [ 'update_rbac_policy:target_tenant', base.policy_and('rule:restrict_wildcard', base.RULE_ADMIN_OR_OWNER), 'Update ``target_tenant`` attribute of an RBAC policy', [ { 'method': 'PUT', 'path': RESOURCE_PATH, }, ] ), policy.DocumentedRuleDefault( 'get_rbac_policy', base.RULE_ADMIN_OR_OWNER, 'Get an RBAC policy', [ ] 'delete_rbac_policy', base.RULE_ADMIN_OR_OWNER, 'Delete an RBAC policy', [ ]",98,41
openstack%2Fnova~master~I1fe8e8bb181fa2a704eec38be09619e5a648f2f1,openstack/nova,master,I1fe8e8bb181fa2a704eec38be09619e5a648f2f1,Replace md5 for fips,MERGED,2021-02-25 21:26:10.000000000,2021-03-08 13:52:48.000000000,2021-03-08 13:46:08.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 21:26:10.000000000', 'files': ['nova/crypto.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59986cfd4f1155603fcf3a87270612e17037e92e', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to generate fingerprints when ssh keys are\nbeing generated and imported.  Without this patch, these operations\nfail on FIPS enabled systems.\n\nChange-Id: I1fe8e8bb181fa2a704eec38be09619e5a648f2f1\n'}]",2,777686,59986cfd4f1155603fcf3a87270612e17037e92e,14,4,1,9914,,,0,"Replace md5 for fips

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

In this case, md5 is used to generate fingerprints when ssh keys are
being generated and imported.  Without this patch, these operations
fail on FIPS enabled systems.

Change-Id: I1fe8e8bb181fa2a704eec38be09619e5a648f2f1
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/777686/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/crypto.py'],1,59986cfd4f1155603fcf3a87270612e17037e92e,fix_fingerprints_for_fips,"from oslo_utils.secretutils import md5 raw_fp = md5(pub_data, usedforsecurity=False).hexdigest()"," digest = hashes.Hash(hashes.MD5(), backends.default_backend()) digest.update(pub_data) md5hash = digest.finalize() raw_fp = binascii.hexlify(md5hash).decode('ascii')",2,4
openstack%2Fkolla-ansible~master~I69ca16a4a87b4c7d7a47ff8fdeb2e0f2d37b759a,openstack/kolla-ansible,master,I69ca16a4a87b4c7d7a47ff8fdeb2e0f2d37b759a,Use Docker healthchecks for sahara services,ABANDONED,2021-03-06 17:14:19.000000000,2021-03-08 13:51:34.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-06 17:14:19.000000000', 'files': ['ansible/roles/sahara/handlers/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-sahara-887bf70c87a7140f.yaml', 'ansible/roles/sahara/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc9fb052269c32d4c98dcfb63d6b8b7f6b357916', 'message': 'Use Docker healthchecks for sahara services\n\nThis change enables the use of Docker healthchecks for sahara services.\nImplements: blueprint container-health-check\n\nChange-Id: I69ca16a4a87b4c7d7a47ff8fdeb2e0f2d37b759a\n'}]",0,779080,cc9fb052269c32d4c98dcfb63d6b8b7f6b357916,5,2,1,31506,,,0,"Use Docker healthchecks for sahara services

This change enables the use of Docker healthchecks for sahara services.
Implements: blueprint container-health-check

Change-Id: I69ca16a4a87b4c7d7a47ff8fdeb2e0f2d37b759a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/779080/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/sahara/handlers/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-sahara-887bf70c87a7140f.yaml', 'ansible/roles/sahara/tasks/check-containers.yml']",4,cc9fb052269c32d4c98dcfb63d6b8b7f6b357916,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,37,0
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I3f9004fd8abffefe8cfeee9011ed0e323652fdd1,openstack/puppet-tripleo,stable/victoria,I3f9004fd8abffefe8cfeee9011ed0e323652fdd1,Handle cinder_mount_point_base for cinder mounting needs,MERGED,2021-03-03 11:29:34.000000000,2021-03-08 13:49:53.000000000,2021-03-08 13:49:53.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 11:29:34.000000000', 'files': ['spec/classes/tripleo_profile_base_glance_backend_cinder_spec.rb', 'manifests/profile/base/glance/backend/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1234d16497d26c1e5f1ac249f9800358820a9dec', 'message': 'Handle cinder_mount_point_base for cinder mounting needs\n\nAdding cinder_mount_point_base parameter, to provide the\nmount point for *fs volumes.\n\nDepends-On: Ib724f6e895716847827be48ed08b01a7a312338f\nChange-Id: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1\n(cherry picked from commit a2dbbaedabf81ac8dd5438eee3857c4a29b95f1a)\n'}]",0,778419,1234d16497d26c1e5f1ac249f9800358820a9dec,13,2,1,19138,,,0,"Handle cinder_mount_point_base for cinder mounting needs

Adding cinder_mount_point_base parameter, to provide the
mount point for *fs volumes.

Depends-On: Ib724f6e895716847827be48ed08b01a7a312338f
Change-Id: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1
(cherry picked from commit a2dbbaedabf81ac8dd5438eee3857c4a29b95f1a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/19/778419/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_glance_backend_cinder_spec.rb', 'manifests/profile/base/glance/backend/cinder.pp']",2,1234d16497d26c1e5f1ac249f9800358820a9dec,glance-cinder-mountpoint-stable/victoria,"# [*cinder_mount_point_base*] # (Optional) Directory where the NFS volume is mounted on the glance node. # Defaults to hiera('glance::backend::cinder::cinder_mount_point_base', undef) # $cinder_mount_point_base = hiera('glance::backend::cinder::cinder_mount_point_base', undef), cinder_mount_point_base => $cinder_mount_point_base,",,8,0
openstack%2Freleases~master~I490a935c6220217da5791e6dd4566303e696d9cb,openstack/releases,master,I490a935c6220217da5791e6dd4566303e696d9cb,Release final python-blazarclient for Wallaby,MERGED,2021-03-05 15:13:41.000000000,2021-03-08 13:35:35.000000000,2021-03-08 13:35:35.000000000,"[{'_account_id': 308}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 15:13:41.000000000', 'files': ['deliverables/wallaby/python-blazarclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/10feca2d684fc558501ef33572caed903ce1e717', 'message': 'Release final python-blazarclient for Wallaby\n\nThis proposed a release for python-blazarclient to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 11.\n\n$ git log --oneline --no-merges 3.1.1..22cafd2\n22cafd2 Provide a default affinity value\n65e5f9b Uncap PrettyTable\nd2503ab Use unittest.mock instead of third party mock\n1db6cb3 Remove use of mock.seal()\ne875b75 Bump hacking max version to 3.0.1 and fix pep8\n56c539a Replace deprecated UPPER_CONSTRAINTS_FILE variable\ncff1b05 Remove six\naa0e1dc Remove the unused coding style modules\ne4ccb1d bump py37 to py38 in tox.ini\ndb0aeec Remove install unnecessary packages\n802605a Add Python3 wallaby unit tests\nc393b6d Update master for stable/victoria\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I490a935c6220217da5791e6dd4566303e696d9cb\n'}]",0,778958,10feca2d684fc558501ef33572caed903ce1e717,9,4,1,28522,,,0,"Release final python-blazarclient for Wallaby

This proposed a release for python-blazarclient to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 11.

$ git log --oneline --no-merges 3.1.1..22cafd2
22cafd2 Provide a default affinity value
65e5f9b Uncap PrettyTable
d2503ab Use unittest.mock instead of third party mock
1db6cb3 Remove use of mock.seal()
e875b75 Bump hacking max version to 3.0.1 and fix pep8
56c539a Replace deprecated UPPER_CONSTRAINTS_FILE variable
cff1b05 Remove six
aa0e1dc Remove the unused coding style modules
e4ccb1d bump py37 to py38 in tox.ini
db0aeec Remove install unnecessary packages
802605a Add Python3 wallaby unit tests
c393b6d Update master for stable/victoria

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I490a935c6220217da5791e6dd4566303e696d9cb
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/778958/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-blazarclient.yaml'],1,10feca2d684fc558501ef33572caed903ce1e717,cwi-client-final,releases: - version: 3.2.0 projects: - repo: openstack/python-blazarclient hash: 22cafd21a5dba5eafa7c70a1f6bde5e0005ec87c,,5,0
openstack%2Ftripleo-ci~master~I2f7d3dd9730dc30284bb52e3eca73375c7d550d2,openstack/tripleo-ci,master,I2f7d3dd9730dc30284bb52e3eca73375c7d550d2,Deprecate non content provider standalone zuul templates,MERGED,2021-03-04 12:07:14.000000000,2021-03-08 13:23:51.000000000,2021-03-08 13:23:51.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-03-04 12:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fa65e75cd1ce945b43b3c0a99b52349468a875a3', 'message': 'Deprecate non content provider standlone zuul templates\n\nMoves the tripleo-standalone-scenarios-full and -multinode-ipa\nto deprecated-jobs.yaml as part of our CI optimisation [1]\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I2f7d3dd9730dc30284bb52e3eca73375c7d550d2\n'}, {'number': 2, 'created': '2021-03-05 09:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1967288a937a26053efb21af4b812ad31a4ef385', 'message': 'Deprecate non content provider standlone zuul templates\n\nMoves the tripleo-standalone-scenarios-full and -multinode-ipa\nto deprecated-jobs.yaml as part of our CI optimisation [1]\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I2f7d3dd9730dc30284bb52e3eca73375c7d550d2\n'}, {'number': 3, 'created': '2021-03-05 09:33:35.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/deprecated-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/649226326c2e4c0d010ca50ac73177f15a35baa2', 'message': 'Deprecate non content provider standalone zuul templates\n\nMoves the tripleo-standalone-scenarios-full and -multinode-ipa\nto deprecated-jobs.yaml as part of our CI optimisation [1]\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I2f7d3dd9730dc30284bb52e3eca73375c7d550d2\n'}]",0,778662,649226326c2e4c0d010ca50ac73177f15a35baa2,16,10,3,8449,,,0,"Deprecate non content provider standalone zuul templates

Moves the tripleo-standalone-scenarios-full and -multinode-ipa
to deprecated-jobs.yaml as part of our CI optimisation [1]

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I2f7d3dd9730dc30284bb52e3eca73375c7d550d2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/62/778662/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/deprecated-jobs.yaml']",2,fa65e75cd1ce945b43b3c0a99b52349468a875a3,tripleo-ci-reduce,"# # DEPRECATED MULTINODE TEMPLATES: # # # DEPRECATED STANDALONE TEMPLATES # - project-template: name: tripleo-standalone-scenarios-full check: jobs: - tripleo-ci-centos-8-scenario001-standalone: files: &scen1_files # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - workbooks/ceph-ansible.yaml - tripleo_common/actions/ansible.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*ceph.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*logging.*$ - ^((docker|puppet)/services|deployment)/.*metrics.*$ - ^((docker|puppet)/services|deployment)/.*monitoring.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ^((docker|puppet)/services|deployment)/database/redis.*$ - ci/environments/scenario001-standalone.yaml # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/certmonger/ceph.*$ # ceph dashboard - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ # tripleo-quickstart-extras - roles/standalone/.* - roles/validate-tempest/.* # tripleo-ci - roles/run-test/.* - roles/common/.* - roles/prepare-node/.* - roles/ceph-loop-device/.* # scen1/4 ceph - tripleo-ci-centos-8-scenario002-standalone: files: &scen2_files # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*barbican.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*ec2-api.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ^((docker|puppet)/services|deployment)/.*swift.*$ - ^((docker|puppet)/services|deployment)/.*zaqar.*$ - ^((docker|puppet)/services|deployment)/database/redis.*$ - ci/environments/scenario002-standalone.yaml # puppet-tripleo - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/barbican.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/nova/ec2.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - ^manifests/profile/(base|pacemaker)/swift.*$ - ^manifests/profile/(base|pacemaker)/zaqar.*$ - tripleo-ci-centos-8-scenario003-standalone: files: &scen3_files # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*designate.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*mistral.*$ - ^((docker|puppet)/services|deployment)/.*nova.*$ - ^((docker|puppet)/services|deployment)/.*sahara.*$ - ci/environments/scenario003-standalone.yaml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/mistral.*$ - ^manifests/profile/(base|pacemaker)/sahara.*$ - ^manifests/profile/(base|pacemaker)/designate.*$ - tripleo-ci-centos-8-scenario004-standalone: files: &scen4_files # tripleo-heat-templates - ^(docker/services|deployment)/ceph.*$ - ^(docker/services|deployment)/glance.*$ - ^(docker/services|deployment)/manila.*$ - ^((docker|puppet)/services|deployment)/database/mysql.*$ - ci/environments/scenario004-standalone.yaml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/manila.*$ - ^manifests/profile/(base|pacemaker)/ceph.*$ # ceph_nfs / ganesha - tripleo-ci-centos-8-scenario010-standalone: files: &scen10_files # tripleo-common - workbooks/octavia_post.yaml - playbooks/octavia-files.yaml - playbooks/roles/octavia.*$ - playbooks/roles/common/.*$ # tripleo-quickstart - config/general_config/featureset062.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/base/database/mysql.*$ - ^manifests/profile/base/octavia.*$ # tripleo-quickstart-extras - roles/octavia-amphora-download/.* # tripleo-heat-templates # TODO(beagles): octavia testing touches neutron, glance and nova. # It may be sensible to expand this list after it has proven itself. - ^(docker/services|deployment)/octavia.*$ - ci/environments/scenario010-standalone.yaml - ^environments\services/octavia.*.yaml # python-tempestconf - ^config_tempest/services/octavia.*$ - tripleo-ci-centos-7-scenario010-standalone: files: *scen10_files - tripleo-ci-centos-7-scenario010-ovn-provider-standalone: files: *scen10_files - tripleo-ci-centos-8-scenario010-ovn-provider-standalone: files: *scen10_files - tripleo-ci-centos-8-scenario012-standalone: files: &scen12_files # tripleo-heat-templates - ^(docker/services|deployment)/glance.*$ - ^(docker/services|deployment)/ironic.*$ - ci/environments/scenario012-standalone.yaml # tripleo-quickstart - config/general_config/featureset060.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - tripleo-ci-centos-8-scenario007-standalone: files: &scen7_files # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*neutron.*$ - ci/environments/scenario007-standalone.yaml # puppet-tripleo - ^manifests/haproxy.*$ - tripleo-ci-centos-7-standalone-rocky - tripleo-ci-centos-8-standalone-upgrade-ussuri - tripleo-ci-centos-8-standalone - tripleo-ci-centos-8-standalone-build - tripleo-ci-centos-7-standalone - tripleo-ci-centos-7-scenario001-standalone: files: *scen1_files - tripleo-ci-centos-7-scenario002-standalone: files: *scen2_files - tripleo-ci-centos-7-scenario003-standalone: files: *scen3_files - tripleo-ci-centos-7-scenario004-standalone: files: *scen4_files gate: queue: tripleo jobs: - tripleo-ci-centos-7-scenario001-standalone: files: *scen1_files - tripleo-ci-centos-7-scenario002-standalone: files: *scen2_files - tripleo-ci-centos-7-scenario003-standalone: files: *scen3_files - tripleo-ci-centos-7-scenario004-standalone: files: *scen4_files - tripleo-ci-centos-8-scenario001-standalone: files: *scen1_files - tripleo-ci-centos-8-scenario002-standalone: files: *scen2_files - tripleo-ci-centos-8-scenario003-standalone: files: *scen3_files - tripleo-ci-centos-8-scenario004-standalone: files: *scen4_files - tripleo-ci-centos-8-scenario007-standalone: files: *scen7_files - tripleo-ci-centos-8-standalone-upgrade-ussuri - tripleo-ci-centos-7-standalone - tripleo-ci-centos-8-standalone - tripleo-ci-centos-7-standalone - tripleo-ci-centos-8-standalone - tripleo-ci-centos-8-standalone-build - tripleo-ci-centos-7-scenario010-standalone: files: *scen10_files - tripleo-ci-centos-8-scenario012-standalone: files: *scen12_files - project-template: name: tripleo-standalone-multinode-ipa check: jobs: - tripleo-ci-centos-8-standalone-on-multinode-ipa: files: &tls_ipa_files # tripleo-quickstart-extras - ^roles/.*multinode-ipa.*$ - ^roles/standalone.*$ - ^playbooks/multinode-standalone-ipa.yml.*$ # tripleo-heat-templates - environments/ssl/tls-everywhere-endpoints-dns.yaml - environments/services/haproxy-public-tls-certmonger.yaml - environments/services/haproxy-public-tls-inject.yaml - environments/ssl/enable-internal-tls.yaml - environments/ssl/enable-internal-tls.j2.yaml - environments/ssl/enable-tls.yaml - ci/environments/standalone-ipa.yaml - deployment/ipa/ipaservices-baremetal-ansible.yaml - deployment/apache/* - deployment/ceph-ansible/* - deployment/database/* - deployment/etcd/* - deployment/haproxy/* - deployment/metrics/* - deployment/neutron/* - deployment/nova/* - deployment/octavia/* - deployment/ovn/* - deployment/rabbitmq/* # puppet - manifests/profile/base/rabbitmq.pp",,282,127
openstack%2Freleases~master~I0040100344b2887ae8bc323fa32dbbdbcf831490,openstack/releases,master,I0040100344b2887ae8bc323fa32dbbdbcf831490,Propose to move sushy-cli to independent,ABANDONED,2021-03-08 12:23:04.000000000,2021-03-08 13:18:22.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 12:23:04.000000000', 'files': ['deliverables/_independent/sushy-cli.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1928c5db21570058e7099c260d649fe5ad3b7139', 'message': ""Propose to move sushy-cli to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: I0040100344b2887ae8bc323fa32dbbdbcf831490\n""}]",0,779249,1928c5db21570058e7099c260d649fe5ad3b7139,6,2,1,28522,,,0,"Propose to move sushy-cli to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I0040100344b2887ae8bc323fa32dbbdbcf831490
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/779249/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-cli.yaml'],1,1928c5db21570058e7099c260d649fe5ad3b7139,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~Id700b6ef671079b999ef1b39ac7a0d0bcee8f0bd,openstack/releases,master,Id700b6ef671079b999ef1b39ac7a0d0bcee8f0bd,Propose to move python-ironic-inspector-client to independent,ABANDONED,2021-03-08 12:10:45.000000000,2021-03-08 13:18:02.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 12:10:45.000000000', 'files': ['deliverables/_independent/python-ironic-inspector-client.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8cba9ee181e4d7155a5b7aba002703b980463a85', 'message': ""Propose to move python-ironic-inspector-client to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: Id700b6ef671079b999ef1b39ac7a0d0bcee8f0bd\n""}]",0,779242,8cba9ee181e4d7155a5b7aba002703b980463a85,6,2,1,28522,,,0,"Propose to move python-ironic-inspector-client to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: Id700b6ef671079b999ef1b39ac7a0d0bcee8f0bd
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/779242/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-ironic-inspector-client.yaml'],1,8cba9ee181e4d7155a5b7aba002703b980463a85,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~I5ad591ecf2f1269724057e273b244c9d24d72c94,openstack/releases,master,I5ad591ecf2f1269724057e273b244c9d24d72c94,Propose to move blazar-nova to independent,ABANDONED,2021-03-08 11:10:15.000000000,2021-03-08 13:16:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 11:10:15.000000000', 'files': ['deliverables/_independent/blazar-nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fe031e8366ef80a59b30023af18b822ad3ab25c2', 'message': ""Propose to move blazar-nova to independent\n\nProject did not have any change merged over the cycle, maybe it is time to\ntransition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree, leave a\n-1 with some detail on the status, then we will cut the Wallaby stable branch\nfor this project.\n\nChange-Id: I5ad591ecf2f1269724057e273b244c9d24d72c94\n""}]",0,779216,fe031e8366ef80a59b30023af18b822ad3ab25c2,6,1,1,28522,,,0,"Propose to move blazar-nova to independent

Project did not have any change merged over the cycle, maybe it is time to
transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree, leave a
-1 with some detail on the status, then we will cut the Wallaby stable branch
for this project.

Change-Id: I5ad591ecf2f1269724057e273b244c9d24d72c94
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/779216/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/blazar-nova.yaml'],1,fe031e8366ef80a59b30023af18b822ad3ab25c2,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~I2a805856b6ca63cc06492836b608171cb3dd2861,openstack/releases,master,I2a805856b6ca63cc06492836b608171cb3dd2861,Propose to move python-monascaclient to independent,ABANDONED,2021-03-08 12:15:50.000000000,2021-03-08 13:16:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:15:50.000000000', 'files': ['deliverables/_independent/python-monascaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/83275080973fb40525ec967039864aa3698f05b0', 'message': ""Propose to move python-monascaclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: I2a805856b6ca63cc06492836b608171cb3dd2861\n""}]",0,779243,83275080973fb40525ec967039864aa3698f05b0,4,1,1,28522,,,0,"Propose to move python-monascaclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I2a805856b6ca63cc06492836b608171cb3dd2861
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/779243/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-monascaclient.yaml'],1,83275080973fb40525ec967039864aa3698f05b0,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~If26d523ff98bad06d57ffb49d6f554171f9972ba,openstack/releases,master,If26d523ff98bad06d57ffb49d6f554171f9972ba,Propose to move python-aodhclient to independent,ABANDONED,2021-03-08 12:02:47.000000000,2021-03-08 13:16:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:02:47.000000000', 'files': ['deliverables/_independent/python-aodhclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a3ef7145c158ed8271198734a10ebf7cadc9928f', 'message': ""Propose to move python-aodhclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: If26d523ff98bad06d57ffb49d6f554171f9972ba\n""}]",0,779234,a3ef7145c158ed8271198734a10ebf7cadc9928f,4,1,1,28522,,,0,"Propose to move python-aodhclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: If26d523ff98bad06d57ffb49d6f554171f9972ba
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/779234/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-aodhclient.yaml'],1,a3ef7145c158ed8271198734a10ebf7cadc9928f,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~I0cd8640ffb8bb171a869e2dc9a1f4717ea9ea358,openstack/releases,master,I0cd8640ffb8bb171a869e2dc9a1f4717ea9ea358,Propose to move python-blazarclient to independent,ABANDONED,2021-03-08 12:06:06.000000000,2021-03-08 13:15:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:06:06.000000000', 'files': ['deliverables/_independent/python-blazarclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1df5224929dbcb011353d47a97f8b240cb6007d7', 'message': ""Propose to move python-blazarclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: I0cd8640ffb8bb171a869e2dc9a1f4717ea9ea358\n""}]",0,779237,1df5224929dbcb011353d47a97f8b240cb6007d7,4,1,1,28522,,,0,"Propose to move python-blazarclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I0cd8640ffb8bb171a869e2dc9a1f4717ea9ea358
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/779237/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-blazarclient.yaml'],1,1df5224929dbcb011353d47a97f8b240cb6007d7,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~Ic3ef5d3b675f311480afb5c45ed44a45c1839cbe,openstack/releases,master,Ic3ef5d3b675f311480afb5c45ed44a45c1839cbe,Propose to move python-barbicanclient to independent,ABANDONED,2021-03-08 12:04:12.000000000,2021-03-08 13:15:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:04:12.000000000', 'files': ['deliverables/_independent/python-barbicanclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7b66a4dfd18ec81e6d71ff357933250f860fe40f', 'message': ""Propose to move python-barbicanclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: Ic3ef5d3b675f311480afb5c45ed44a45c1839cbe\n""}]",0,779236,7b66a4dfd18ec81e6d71ff357933250f860fe40f,4,1,1,28522,,,0,"Propose to move python-barbicanclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: Ic3ef5d3b675f311480afb5c45ed44a45c1839cbe
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/779236/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-barbicanclient.yaml'],1,7b66a4dfd18ec81e6d71ff357933250f860fe40f,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~Ia3e31b627f738661022271cca47feceb27daa2db,openstack/releases,master,Ia3e31b627f738661022271cca47feceb27daa2db,Propose to move python-adjutantclient to independent,ABANDONED,2021-03-08 11:59:15.000000000,2021-03-08 13:14:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 11:59:15.000000000', 'files': ['deliverables/_independent/python-adjutantclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fa0d716eccd3c6a9433058e2c9f11f7771e47406', 'message': ""Propose to move python-adjutantclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: Ia3e31b627f738661022271cca47feceb27daa2db\n""}]",0,779231,fa0d716eccd3c6a9433058e2c9f11f7771e47406,4,1,1,28522,,,0,"Propose to move python-adjutantclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: Ia3e31b627f738661022271cca47feceb27daa2db
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/779231/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-adjutantclient.yaml'],1,fa0d716eccd3c6a9433058e2c9f11f7771e47406,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~I39d01e34c5c294e4c2be6fbe2656f78f9484cfb6,openstack/releases,master,I39d01e34c5c294e4c2be6fbe2656f78f9484cfb6,Propose to move python-glanceclient to independent,ABANDONED,2021-03-08 12:09:27.000000000,2021-03-08 13:11:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:09:27.000000000', 'files': ['deliverables/_independent/python-glanceclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fb0f672d8a02ad5dc96bb6f8b1b3dd26d75bdef8', 'message': ""Propose to move python-glanceclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: I39d01e34c5c294e4c2be6fbe2656f78f9484cfb6\n""}]",0,779241,fb0f672d8a02ad5dc96bb6f8b1b3dd26d75bdef8,4,1,1,28522,,,0,"Propose to move python-glanceclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I39d01e34c5c294e4c2be6fbe2656f78f9484cfb6
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/779241/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-glanceclient.yaml'],1,fb0f672d8a02ad5dc96bb6f8b1b3dd26d75bdef8,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~I51320ca3f19d3e12a549f9813b826317bb9d1f13,openstack/releases,master,I51320ca3f19d3e12a549f9813b826317bb9d1f13,Propose to move python-zunclient to independent,ABANDONED,2021-03-08 12:21:47.000000000,2021-03-08 13:10:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:21:47.000000000', 'files': ['deliverables/_independent/python-zunclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3916e70eed27b5b3705f2369911fe6a9144332de', 'message': ""Propose to move python-zunclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: I51320ca3f19d3e12a549f9813b826317bb9d1f13\n""}]",0,779248,3916e70eed27b5b3705f2369911fe6a9144332de,4,1,1,28522,,,0,"Propose to move python-zunclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I51320ca3f19d3e12a549f9813b826317bb9d1f13
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/779248/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-zunclient.yaml'],1,3916e70eed27b5b3705f2369911fe6a9144332de,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~I2ffa35592c4ca50437ce05e04ac7cbed9d17b990,openstack/releases,master,I2ffa35592c4ca50437ce05e04ac7cbed9d17b990,Propose to move python-zaqarclient to independent,ABANDONED,2021-03-08 12:20:51.000000000,2021-03-08 13:10:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:20:51.000000000', 'files': ['deliverables/_independent/python-zaqarclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d3157a9ab0e709e67019cc057bca9616228fd3d2', 'message': ""Propose to move python-zaqarclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: I2ffa35592c4ca50437ce05e04ac7cbed9d17b990\n""}]",0,779247,d3157a9ab0e709e67019cc057bca9616228fd3d2,4,1,1,28522,,,0,"Propose to move python-zaqarclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I2ffa35592c4ca50437ce05e04ac7cbed9d17b990
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/779247/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-zaqarclient.yaml'],1,d3157a9ab0e709e67019cc057bca9616228fd3d2,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~I59f6482e067834837b992b4cf137a5cb1648d93b,openstack/releases,master,I59f6482e067834837b992b4cf137a5cb1648d93b,Propose to move python-octaviaclient to independent,ABANDONED,2021-03-08 12:17:48.000000000,2021-03-08 13:10:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:17:48.000000000', 'files': ['deliverables/_independent/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/15872ba0d0c16061fa6b7fa2ba9c811bef2da04c', 'message': ""Propose to move python-octaviaclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: I59f6482e067834837b992b4cf137a5cb1648d93b\n""}]",0,779244,15872ba0d0c16061fa6b7fa2ba9c811bef2da04c,4,1,1,28522,,,0,"Propose to move python-octaviaclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I59f6482e067834837b992b4cf137a5cb1648d93b
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/779244/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-octaviaclient.yaml'],1,15872ba0d0c16061fa6b7fa2ba9c811bef2da04c,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Fmanila~master~I298cf625c869394ca3582b9224a737d722567dec,openstack/manila,master,I298cf625c869394ca3582b9224a737d722567dec,Fixed some syntax errors,MERGED,2021-03-08 01:20:35.000000000,2021-03-08 13:09:54.000000000,2021-03-08 12:09:11.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 01:20:35.000000000', 'files': ['manila/api/openstack/api_version_request.py', 'doc/source/admin/capabilities_and_extra_specs.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/3bedb15bbb08aecdbc17de4203a14d41d8a78863', 'message': 'Fixed some syntax errors\n\nChange-Id: I298cf625c869394ca3582b9224a737d722567dec\n'}]",0,779120,3bedb15bbb08aecdbc17de4203a14d41d8a78863,17,2,1,30407,,,0,"Fixed some syntax errors

Change-Id: I298cf625c869394ca3582b9224a737d722567dec
",git fetch https://review.opendev.org/openstack/manila refs/changes/20/779120/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/openstack/api_version_request.py', 'doc/source/admin/capabilities_and_extra_specs.rst']",2,3bedb15bbb08aecdbc17de4203a14d41d8a78863,, must be an integer and greater than 0. If administrators set this capability type can not be greater than the specified value. must be an integer and greater than 0. If administrators set this capability type can not be less than the specified value., must be integers and greater than 0. If administrators set this capability type can not greater than the specified value. must be integers and greater than 0. If administrators set this capability type can not less than the specified value.,6,6
openstack%2Freleases~master~I386ddd742e34bedc1346f65160765ae71ed3f4c3,openstack/releases,master,I386ddd742e34bedc1346f65160765ae71ed3f4c3,Propose to move python-watcherclient to independent,ABANDONED,2021-03-08 12:19:39.000000000,2021-03-08 13:09:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:19:39.000000000', 'files': ['deliverables/_independent/python-watcherclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8557bd9ddc1ae6cfb09b667dadf0865cefcee40a', 'message': ""Propose to move python-watcherclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: I386ddd742e34bedc1346f65160765ae71ed3f4c3\n""}]",0,779246,8557bd9ddc1ae6cfb09b667dadf0865cefcee40a,4,1,1,28522,,,0,"Propose to move python-watcherclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I386ddd742e34bedc1346f65160765ae71ed3f4c3
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/779246/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-watcherclient.yaml'],1,8557bd9ddc1ae6cfb09b667dadf0865cefcee40a,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~I01778d2848bdb2fba9dd10f513e19234e6e189f3,openstack/releases,master,I01778d2848bdb2fba9dd10f513e19234e6e189f3,Propose to move python-solumclient to independent,ABANDONED,2021-03-08 12:18:43.000000000,2021-03-08 13:09:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:18:43.000000000', 'files': ['deliverables/_independent/python-solumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e1f54728dfa5387cd33a6b73123a66d9886c67f5', 'message': ""Propose to move python-solumclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: I01778d2848bdb2fba9dd10f513e19234e6e189f3\n""}]",0,779245,e1f54728dfa5387cd33a6b73123a66d9886c67f5,4,1,1,28522,,,0,"Propose to move python-solumclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I01778d2848bdb2fba9dd10f513e19234e6e189f3
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/779245/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-solumclient.yaml'],1,e1f54728dfa5387cd33a6b73123a66d9886c67f5,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~I234d2ba0ed0d2430b9ffe0be329b8232ab22ff9b,openstack/releases,master,I234d2ba0ed0d2430b9ffe0be329b8232ab22ff9b,Propose to move python-brick-cinderclient to independent,ABANDONED,2021-03-08 12:07:47.000000000,2021-03-08 13:08:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 12:07:47.000000000', 'files': ['deliverables/_independent/python-brick-cinderclient-ext.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b3f0edfd95afdf991df471834d05b718a6d1ff1c', 'message': ""Propose to move python-brick-cinderclient to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby\nstable branch for this project.\n\nChange-Id: I234d2ba0ed0d2430b9ffe0be329b8232ab22ff9b\n""}]",0,779239,b3f0edfd95afdf991df471834d05b718a6d1ff1c,4,1,1,28522,,,0,"Propose to move python-brick-cinderclient to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby
stable branch for this project.

Change-Id: I234d2ba0ed0d2430b9ffe0be329b8232ab22ff9b
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/779239/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-brick-cinderclient-ext.yaml'],1,b3f0edfd95afdf991df471834d05b718a6d1ff1c,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Freleases~master~I5e379cc4e62e070838fc8117f027ba6e4c23a3ee,openstack/releases,master,I5e379cc4e62e070838fc8117f027ba6e4c23a3ee,Propose to move ceilometermiddleware to independent,ABANDONED,2021-03-08 11:16:37.000000000,2021-03-08 13:08:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 11:16:37.000000000', 'files': ['deliverables/_independent/ceilometermiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c2cd7fca9b8c38b4a66c4a835213ab955e7586f1', 'message': ""Propose to move ceilometermiddleware to independent\n\nProject did not have any change merged over the cycle, maybe it is time\nto transition it independent.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\ntransition and we will process right away. If the team doesn't agree,\nleave a -1 with some detail on the status, then we will cut the Wallaby stable\nbranch for this project.\n\nChange-Id: I5e379cc4e62e070838fc8117f027ba6e4c23a3ee\n""}]",0,779219,c2cd7fca9b8c38b4a66c4a835213ab955e7586f1,4,1,1,28522,,,0,"Propose to move ceilometermiddleware to independent

Project did not have any change merged over the cycle, maybe it is time
to transition it independent.

If the team is ready to proceed, please leave a +1 to acknowledge this
transition and we will process right away. If the team doesn't agree,
leave a -1 with some detail on the status, then we will cut the Wallaby stable
branch for this project.

Change-Id: I5e379cc4e62e070838fc8117f027ba6e4c23a3ee
",git fetch https://review.opendev.org/openstack/releases refs/changes/19/779219/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/ceilometermiddleware.yaml'],1,c2cd7fca9b8c38b4a66c4a835213ab955e7586f1,move-to-independent,,release-model: cycle-with-intermediary,0,1
openstack%2Fkolla-ansible~master~I0f107d8239ae0cbef3bb4569ec5d77326f8974fc,openstack/kolla-ansible,master,I0f107d8239ae0cbef3bb4569ec5d77326f8974fc,Document calculation of indentation,MERGED,2021-03-08 09:35:05.000000000,2021-03-08 12:56:03.000000000,2021-03-08 12:54:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-08 09:35:05.000000000', 'files': ['ansible/action_plugins/merge_configs.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d33a2f5980dd6e6c3ae0c2225cbbf1c17d68ea4', 'message': 'Document calculation of indentation\n\nChange-Id: I0f107d8239ae0cbef3bb4569ec5d77326f8974fc\n'}]",0,779188,0d33a2f5980dd6e6c3ae0c2225cbbf1c17d68ea4,9,3,1,15197,,,0,"Document calculation of indentation

Change-Id: I0f107d8239ae0cbef3bb4569ec5d77326f8974fc
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/779188/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/action_plugins/merge_configs.py'],1,0d33a2f5980dd6e6c3ae0c2225cbbf1c17d68ea4,zookeeper-cfg-syntax," # We want additional values to be written out under the # first value with the same indentation, like this: # key = value1 # value2",,4,0
openstack%2Ftripleo-quickstart~master~Ie6259b3235f5f5efba70dabaa508ef8800d3874f,openstack/tripleo-quickstart,master,Ie6259b3235f5f5efba70dabaa508ef8800d3874f,Added pacemaker repo config,ABANDONED,2021-02-01 11:40:56.000000000,2021-03-08 12:36:35.000000000,,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-01 11:40:56.000000000', 'files': ['config/release/dependency_ci/pacemaker/repo_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f93f8f8fd66b0583d6b76aa1939638a02eec251c', 'message': 'Added pacemaker repo config\n\nIn order to test latest pacemaker and HA related rpm we are\ncreating a pacemaker deps line.\n\nWe will disable the default HA repo and pull the latest packages HA\npackage from [1].\nWe will pull the latest pacemaker dependencies from [2], we increased\nproirity of this repo and added includepkgs to just pull pacemaker deps\nfrom appstream repo.\n\n[1] http://mirror.centos.org/centos/8-stream/HighAvailability/x86_64/os/Packages/\n[2] http://mirror.den01.meanservers.net/centos/8-stream/AppStream/x86_64/os/\n\nChange-Id: Ie6259b3235f5f5efba70dabaa508ef8800d3874f\n'}]",1,773370,f93f8f8fd66b0583d6b76aa1939638a02eec251c,6,3,1,29775,,,0,"Added pacemaker repo config

In order to test latest pacemaker and HA related rpm we are
creating a pacemaker deps line.

We will disable the default HA repo and pull the latest packages HA
package from [1].
We will pull the latest pacemaker dependencies from [2], we increased
proirity of this repo and added includepkgs to just pull pacemaker deps
from appstream repo.

[1] http://mirror.centos.org/centos/8-stream/HighAvailability/x86_64/os/Packages/
[2] http://mirror.den01.meanservers.net/centos/8-stream/AppStream/x86_64/os/

Change-Id: Ie6259b3235f5f5efba70dabaa508ef8800d3874f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/70/773370/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/dependency_ci/pacemaker/repo_config.yaml'],1,f93f8f8fd66b0583d6b76aa1939638a02eec251c,pacemaker_deps_pipeline,"--- add_repos: - type: generic reponame: quickstart-centos-centos8stream-appstreams filename: ""quickstart-centos-centos8stream-appstreams-dependency.repo"" baseurl: ""http://mirror.den01.meanservers.net/centos/8-stream/AppStream/x86_64/os/"" priority: 10 includepkgs: - pacemaker* - fence* update_container: false - type: generic reponame: quickstart-centos-centos8stream-highavailability filename: ""quickstart-centos-centos8stream-highavailability-dependency.repo"" baseurl: ""http://mirror.den01.meanservers.net/centos/8-stream/HighAvailability/x86_64/os/"" update_container: false dependency_override_repos: - quickstart-centos-highavailability dep_repo_cmd_after: | {% if dependency_override_repos is defined %} {% for item in dependency_override_repos %} sudo dnf config-manager --set-disabled {{ item }} {% endfor %} sudo dnf clean metadata; sudo dnf clean all; sudo dnf update -y; {% endif %} ",,27,0
openstack%2Ftripleo-quickstart-extras~master~Ie59e77ca355df7571cf18c4da98806bb4ce8d0af,openstack/tripleo-quickstart-extras,master,Ie59e77ca355df7571cf18c4da98806bb4ce8d0af,[wip]New playbook to support ansible deps pipeline,ABANDONED,2021-01-20 11:11:02.000000000,2021-03-08 12:35:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 11:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/faa5f70116df5bce5c2abc1ca10c64dd4b09925d', 'message': 'WIP ansible dependency pipeline\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 2, 'created': '2021-01-20 13:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9e9457ea816bfcd35d171a91627d8991fba91262', 'message': 'WIP ansible dependency pipeline\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 3, 'created': '2021-01-20 14:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/073bcbe13a43c757ef0fd27f85fafa4fe8695160', 'message': 'WIP ansible dependency pipeline\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 4, 'created': '2021-01-20 15:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/28b56dc9f111e75f6be32102625a0a67ca0642ac', 'message': 'WIP ansible dependency pipeline\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 5, 'created': '2021-01-21 14:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/55258a41d3e0ed8fbbd34c9cc7e45b1caff972fa', 'message': 'WIP ansible dependency pipeline\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 6, 'created': '2021-01-21 14:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/028109e99c87c58eb50ce1236998ff4c0f2fad72', 'message': 'WIP ansible dependency pipeline\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 7, 'created': '2021-01-21 15:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/01fc127053562dafd7515e1636734e8514ee83b6', 'message': 'WIP ansible dependency pipeline\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 8, 'created': '2021-01-22 03:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8d32a254747cc9dcc33c0f37df8d61eec9f8cc79', 'message': 'WIP ansible dependency pipeline\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 9, 'created': '2021-01-22 05:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a5f08443cf629ee2b82decea9ebca47d06bec716', 'message': 'WIP ansible dependency pipeline\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 10, 'created': '2021-01-25 11:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6b5d07f3643a4cb089d7fb451f619bd66684f803', 'message': 'WIP ansible dependency pipeline\n\nTo test latest ansible we are creating an ansible dependency line.\nWe added a new playbook ansible_deps_line.yml in undercloud-setup role\nwhich will only execute when ansible_deps_line var is defined.\n\nAs latest ansible rpm is not available we need to pip install it.\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 11, 'created': '2021-01-25 11:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f8ccdf741bb88c536b083fc1597aa29a53d100a8', 'message': 'WIP ansible dependency pipeline\n\nTo test latest ansible we are creating an ansible dependency line.\nWe added a new playbook ansible_deps_line.yml in undercloud-setup role\nwhich will only execute when ansible_deps_line var is defined.\n\nAs latest ansible rpm is not available we need to pip install it.\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}, {'number': 12, 'created': '2021-01-25 13:21:14.000000000', 'files': ['roles/undercloud-setup/tasks/ansible_deps_line.yml', 'zuul.d/layout.yaml', 'roles/undercloud-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aa0b8be8dd8a63381cbc13e91618988876953604', 'message': '[wip]New playbook to support ansible deps pipeline\n\nTo test latest ansible we are creating an ansible dependency line.\nHere we added a new playbook ansible_deps_line.yml in undercloud-setup\nrole which will only execute when ansible_deps_line var is defined.\n\nAs latest ansible rpm is not available we need remove the older rpm\nwith --nodeps and pip install the latest ansible.\n\nChange-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af\n'}]",3,771590,aa0b8be8dd8a63381cbc13e91618988876953604,27,2,12,29775,,,0,"[wip]New playbook to support ansible deps pipeline

To test latest ansible we are creating an ansible dependency line.
Here we added a new playbook ansible_deps_line.yml in undercloud-setup
role which will only execute when ansible_deps_line var is defined.

As latest ansible rpm is not available we need remove the older rpm
with --nodeps and pip install the latest ansible.

Change-Id: Ie59e77ca355df7571cf18c4da98806bb4ce8d0af
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/90/771590/12 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/undercloud-setup/tasks/main.yml']",2,faa5f70116df5bce5c2abc1ca10c64dd4b09925d,ansible_dependency_pipeline,- name: Remove ansible rpm and install via ansible pip shell: > set -o pipefail && sudo $(command -v dnf || command -v yum) remove -y ansible sudo pip install ansible changed_when: true ,,7,33
openstack%2Ftripleo-quickstart~master~I3f067136b190e7c0669880d51af56fc5492f2ad6,openstack/tripleo-quickstart,master,I3f067136b190e7c0669880d51af56fc5492f2ad6,wip Add ansible dependency repo files,ABANDONED,2021-01-25 11:38:46.000000000,2021-03-08 12:33:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-25 11:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2232d458c84347bf336d0a6c03d86ab8989cd364', 'message': 'wip Add ansible dependency repo files\n\nChange-Id: I3f067136b190e7c0669880d51af56fc5492f2ad6\n'}, {'number': 2, 'created': '2021-01-25 13:45:30.000000000', 'files': ['zuul.d/layout.yaml', 'config/release/dependency_ci/ansible/repo_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7c8d795e2ba7cb11928b972a9333538b7361bcfd', 'message': 'wip Add ansible dependency repo files\n\nChange-Id: I3f067136b190e7c0669880d51af56fc5492f2ad6\n'}]",0,772320,7c8d795e2ba7cb11928b972a9333538b7361bcfd,5,2,2,29775,,,0,"wip Add ansible dependency repo files

Change-Id: I3f067136b190e7c0669880d51af56fc5492f2ad6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/20/772320/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/dependency_ci/ansible/repo_config.yaml'],1,2232d458c84347bf336d0a6c03d86ab8989cd364,ansible_dependency_pipeline,ansible_deps_line: true ,,1,0
openstack%2Ftripleo-validations~stable%2Fvictoria~Ib3665ebe7354203928dd41bf1c5f111cd55e833a,openstack/tripleo-validations,stable/victoria,Ib3665ebe7354203928dd41bf1c5f111cd55e833a,[DNM] Test only to run a validation job,ABANDONED,2021-02-11 06:51:19.000000000,2021-03-08 12:33:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-11 06:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a83a64913e1e94572e9e1d72d1762a1d35b5fef7', 'message': '[DNM] Test only to run a validation job\n\nTesting if we are hitting crypto error in older branches\n\nChange-Id: Ib3665ebe7354203928dd41bf1c5f111cd55e833a\n'}, {'number': 2, 'created': '2021-02-11 07:27:13.000000000', 'files': ['.zuul.yaml', 'roles/ceph/tasks/ceph-ansible-installed.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0da9fe9e01fa9de90e231605fb1dfb2b953f4ab5', 'message': '[DNM] Test only to run a validation job\n\nTesting if we are hitting crypto error in older branches\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/774813\nChange-Id: Ib3665ebe7354203928dd41bf1c5f111cd55e833a\n'}]",0,775074,0da9fe9e01fa9de90e231605fb1dfb2b953f4ab5,5,1,2,29775,,,0,"[DNM] Test only to run a validation job

Testing if we are hitting crypto error in older branches

Depends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/774813
Change-Id: Ib3665ebe7354203928dd41bf1c5f111cd55e833a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/74/775074/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'roles/ceph/tasks/ceph-ansible-installed.yaml']",2,a83a64913e1e94572e9e1d72d1762a1d35b5fef7,,- name: Check if ceph-ansible is installed or not,- name: Check if ceph-ansible is installed,6,371
openstack%2Ftripleo-validations~stable%2Fussuri~Id2388657142db4a0a6173ea63a543f90b013008b,openstack/tripleo-validations,stable/ussuri,Id2388657142db4a0a6173ea63a543f90b013008b,[DNM] Test only to run a validation job,ABANDONED,2021-02-12 03:06:01.000000000,2021-03-08 12:33:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-12 03:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cb270fa7d2f2de275cc15c1deb5cc156b3a08d02', 'message': '[DNM] Test only to run a validation job\n\nTesting if we are hitting crypto error in ussuri branch.\n\nChange-Id: Id2388657142db4a0a6173ea63a543f90b013008b\n'}, {'number': 2, 'created': '2021-02-12 03:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/66a9446332f8adef89f74b7a6bb715a377dd1f66', 'message': '[DNM] Test only to run a validation job\n\nTesting if we are hitting crypto error in ussuri branch.\n\nChange-Id: Id2388657142db4a0a6173ea63a543f90b013008b\n'}, {'number': 3, 'created': '2021-02-12 03:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7bc5e73e27bf79e707cb5072a55b319d30fab9c8', 'message': '[DNM] Test only to run a validation job\n\nTesting if we are hitting crypto error in ussuri branch.\n\nChange-Id: Id2388657142db4a0a6173ea63a543f90b013008b\n'}, {'number': 4, 'created': '2021-02-12 05:14:09.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f3138428d5d2e74d61548b2554c2a3073da2afae', 'message': '[DNM] Test only to run a validation job\n\nTesting if we are hitting crypto error in ussuri branch.\n\nChange-Id: Id2388657142db4a0a6173ea63a543f90b013008b\n'}]",0,775310,f3138428d5d2e74d61548b2554c2a3073da2afae,12,1,4,29775,,,0,"[DNM] Test only to run a validation job

Testing if we are hitting crypto error in ussuri branch.

Change-Id: Id2388657142db4a0a6173ea63a543f90b013008b
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/10/775310/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ceph/tasks/ceph-ansible-installed.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml']",3,cb270fa7d2f2de275cc15c1deb5cc156b3a08d02,,, - tripleo-multinode-container-minimal-pipeline - openstack-python3-ussuri-jobs - release-notes-jobs-python3 - openstack-tox-docs: &tripleo-docs files: - ^doc/.* - ^README.rst - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario004-standalone: &scenario004 vars: consumer_job: true build_container_images: false tags: - standalone dependencies: &deps - openstack-tox-linters - tripleo-ci-centos-8-content-provider files: - ^roles/ceph.*$ gate: jobs: - openstack-tox-linters - openstack-tox-docs: *tripleo-docs - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario004-standalone: *scenario004 promote: jobs: - promote-openstack-tox-docs: *tripleo-docs,2,29
openstack%2Ftripleo-quickstart-extras~master~Ie400225d5031206db7e66b4dd6fabe2c4a1ed34e,openstack/tripleo-quickstart-extras,master,Ie400225d5031206db7e66b4dd6fabe2c4a1ed34e,[DNM] Disable swift from undercloud,ABANDONED,2021-01-05 05:23:29.000000000,2021-03-08 12:32:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-05 05:23:29.000000000', 'files': ['roles/extras-common/README.md', 'roles/extras-common/defaults/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4df93d3ea27321c231b585857a644662b828fe17', 'message': '[DNM] Disable swift from undercloud\n\nWith this patch, We are testing disabling swift in undercloud by\nadding `enable_swift` = False in undercloud.conf\n\nTemporaily removed some jobs from layout to avoid unneccesary trigger\nto save ci resources.\n\nChange-Id: Ie400225d5031206db7e66b4dd6fabe2c4a1ed34e\n'}]",0,769245,4df93d3ea27321c231b585857a644662b828fe17,5,2,1,29775,,,0,"[DNM] Disable swift from undercloud

With this patch, We are testing disabling swift in undercloud by
adding `enable_swift` = False in undercloud.conf

Temporaily removed some jobs from layout to avoid unneccesary trigger
to save ci resources.

Change-Id: Ie400225d5031206db7e66b4dd6fabe2c4a1ed34e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/45/769245/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/extras-common/README.md', 'roles/extras-common/defaults/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'zuul.d/layout.yaml']",4,4df93d3ea27321c231b585857a644662b828fe17,ci-swiftless-undercloud,, - tripleo-multinode-branchful - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - tripleo-standalone-multinode-ipa-pipeline - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-standalone-on-multinode-ipa: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/ipa-multinode.*$ - ^roles/standalone.*$ - ^playbooks/multinode-standalone-ipa.yml.*$,13,20
openstack%2Freleases~master~I5150ee9068dac067e6a0240951a4600becb4a850,openstack/releases,master,I5150ee9068dac067e6a0240951a4600becb4a850,Change primary eamil for Rico Lin,MERGED,2021-03-05 09:39:36.000000000,2021-03-08 12:32:33.000000000,2021-03-08 12:32:33.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 09:39:36.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1c342a7c429448810a9e40d8f77693577c88e08e', 'message': 'Change primary eamil for Rico Lin\n\nRico recently change his primary email\nfrom rico.lin.guanyu@gmail.com\nto ricolin@ricolky.com\n\nChange-Id: I5150ee9068dac067e6a0240951a4600becb4a850\n'}]",0,778862,1c342a7c429448810a9e40d8f77693577c88e08e,7,3,1,12404,,,0,"Change primary eamil for Rico Lin

Rico recently change his primary email
from rico.lin.guanyu@gmail.com
to ricolin@ricolky.com

Change-Id: I5150ee9068dac067e6a0240951a4600becb4a850
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/778862/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,1c342a7c429448810a9e40d8f77693577c88e08e,update-emails, email: ricolin@ricolky.com, email: rico.lin.guanyu@gmail.com,1,1
openstack%2Ftripleo-quickstart-extras~master~Ic00031bc1a92efe239d73fcdbf9ca2c1cddb327e,openstack/tripleo-quickstart-extras,master,Ic00031bc1a92efe239d73fcdbf9ca2c1cddb327e,[dnm] Enable Config-debug and set control vip to .3,ABANDONED,2021-02-23 03:07:43.000000000,2021-03-08 12:32:05.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-02-23 03:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d4510290ce2cac4492f6f61f2f191cfab8206338', 'message': '[dnm] Enable Config-debug and set control vip to .3\n\nto debug https://bugs.launchpad.net/tripleo/+bug/1915519\n\nChange-Id: Ic00031bc1a92efe239d73fcdbf9ca2c1cddb327e\n'}, {'number': 2, 'created': '2021-02-23 05:51:26.000000000', 'files': ['roles/standalone/templates/standalone.sh.j2', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0a5fbf9112dd2c8e149ae4c6d4a90a9b785dfb6c', 'message': '[dnm] Enable Config-debug and set control vip to .3\n\nto debug https://bugs.launchpad.net/tripleo/+bug/1915519\n\nChange-Id: Ic00031bc1a92efe239d73fcdbf9ca2c1cddb327e\n'}]",0,777044,0a5fbf9112dd2c8e149ae4c6d4a90a9b785dfb6c,5,1,2,29775,,,0,"[dnm] Enable Config-debug and set control vip to .3

to debug https://bugs.launchpad.net/tripleo/+bug/1915519

Change-Id: Ic00031bc1a92efe239d73fcdbf9ca2c1cddb327e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/44/777044/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2']",2,d4510290ce2cac4492f6f61f2f191cfab8206338,, -e {{overcloud_templates_path}}/environments/config-debug.yaml \ --control-virtual-ip 192.168.24.3 \,,3,55
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9a7d2d028a145d62ea37b84a0d3701b55390568c,openstack/tripleo-heat-templates,stable/train,I9a7d2d028a145d62ea37b84a0d3701b55390568c,[dnm] Test Changing Vip for Ganesha and enable ConfigDebug,ABANDONED,2021-02-22 08:02:04.000000000,2021-03-08 12:31:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 08:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c432c04f900a699b12d74a51213ff495216843fd', 'message': '[dnm] Test Changing wip for Ganesha\n\nChange-Id: I9a7d2d028a145d62ea37b84a0d3701b55390568c\n'}, {'number': 2, 'created': '2021-02-23 06:52:29.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69fa095a37fbfc613db49073e769109387973e67', 'message': '[dnm] Test Changing Vip for Ganesha and enable ConfigDebug\n\nChange-Id: I9a7d2d028a145d62ea37b84a0d3701b55390568c\n'}]",0,776896,69fa095a37fbfc613db49073e769109387973e67,7,2,2,29775,,,0,"[dnm] Test Changing Vip for Ganesha and enable ConfigDebug

Change-Id: I9a7d2d028a145d62ea37b84a0d3701b55390568c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/776896/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'zuul.d/layout.yaml']",2,c432c04f900a699b12d74a51213ff495216843fd,,, templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - check-requirements - release-notes-jobs-python3 - openstack-python-jobs - tripleo-standalone-scenarios-pipeline - openstack-python3-train-jobs - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-train-pipeline - tripleo-ci-centos-7-content-provider: dependencies: &deps_unit_lint - openstack-tox-pep8 - tripleo-ci-centos-8-content-provider: dependencies: *deps_unit_lint - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: &multi_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &deps_cprovider - tripleo-ci-centos-8-content-provider files: - ci/environments/scenario007-multinode-containers.yaml - ^(deployment|docker|puppet)/neutron-plugin-ml2.yaml #LP1765975 - ^(deployment|docker|puppet)/.*.*ovn.*$ - ^(deployment|docker|puppet)/.*tacker.*$ - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-8-scenario010-standalone: vars: *multi_consumer_vars dependencies: *deps_cprovider files: - ^(deployment|docker|puppet)/.*octavia.*$ - ^deployment/ceph-ansible.*$ - ^deployment/octavia/*$ - ci/environments/scenario010-standalone.yaml - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* gate: queue: tripleo jobs: - openstack-tox-pep8,1,52
openstack%2Fironic~master~Ia6d34b31680967a0d14687e5a54d68a1f1644308,openstack/ironic,master,Ia6d34b31680967a0d14687e5a54d68a1f1644308,Add support for using NVMe specific cleaning,MERGED,2021-03-02 05:27:23.000000000,2021-03-08 12:26:39.000000000,2021-03-08 12:24:55.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-02 05:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/502aca5835d2c3fdcdda94a96a9b14c628d21efe', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n(this specific change adds extra documentation to the earlier set of\npatches implementing this).\n\nStory: 2008290\nChange-Id: Ia6d34b31680967a0d14687e5a54d68a1f1644308\n'}, {'number': 2, 'created': '2021-03-02 21:25:14.000000000', 'files': ['doc/source/admin/cleaning.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/aa42582ac406951cc02f7b08a0bf8dbe4411ba0a', 'message': 'Add support for using NVMe specific cleaning\n\nThis change adds support for utilising NVMe specific cleaning tools\non supported devices. This will remove the neccessity of using shred to\nsecurely delete the contents of a NVMe drive and enable using nvme-cli\ntools instead, improving cleaning performance and reducing wear on the device.\n(this specific change adds extra documentation to the earlier set of\npatches implementing this).\n\nStory: 2008290\nTask: 41168\nChange-Id: Ia6d34b31680967a0d14687e5a54d68a1f1644308\n'}]",9,778134,aa42582ac406951cc02f7b08a0bf8dbe4411ba0a,16,4,2,32177,,,0,"Add support for using NVMe specific cleaning

This change adds support for utilising NVMe specific cleaning tools
on supported devices. This will remove the neccessity of using shred to
securely delete the contents of a NVMe drive and enable using nvme-cli
tools instead, improving cleaning performance and reducing wear on the device.
(this specific change adds extra documentation to the earlier set of
patches implementing this).

Story: 2008290
Task: 41168
Change-Id: Ia6d34b31680967a0d14687e5a54d68a1f1644308
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/778134/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/cleaning.rst'],1,502aca5835d2c3fdcdda94a96a9b14c628d21efe,story-2008290-lite,"The generic hardware manager first identifies whether a device is an NVMe drive or an ATA drive so that it can attempt a platform-specific secure erase method. In case of an NVMe drives, it tries to perform a secure format operation by using ``nvme-cli`` utility. This behavior can be controlled using the following configuration option (by default it is set to True):: [deploy] enable_nvme_secure_erase=True In case of ATA drives, it tries to perform ATA disk erase by using ``hdparm`` utility. If neither method is not supported, it performs software based disk erase using ``shred`` utility. By default, the number of iterations performed by ``shred`` for software based disk erase is 1. To configure the number of iterations, use the following configuration option::consuming process. To mitigate this, we suggest using NVMe drives with support for NVMe Secure Erase (based on ``nvme-cli`` format command) or ATA drives with support for cryptographic ATA Security Erase, as typically the erase_devices step in the deploy interface takes the longest time to complete of all cleaning steps.","The generic hardware manager first tries to perform ATA disk erase by using ``hdparm`` utility. If ATA disk erase is not supported, it performs software based disk erase using ``shred`` utility. By default, the number of iterations performed by ``shred`` for software based disk erase is 1. To configure the number of iterations, use the following configuration option::consuming process. To mitigate this, we suggest using disks with support for cryptographic ATA Security Erase, as typically the erase_devices step in the deploy interface takes the longest time to complete of all cleaning steps.",22,8
openstack%2Fvalidations-common~master~Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2,openstack/validations-common,master,Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2,Docs are now built in pdf,MERGED,2021-03-02 11:06:00.000000000,2021-03-08 11:48:36.000000000,2021-03-08 11:46:37.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-03-02 11:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a6029c6b5a3b90d4ff12a99cf5cdfaed20fcf0dd', 'message': ""Docs are now built in pdf\n\nAdds __init__.py to libraries dir, because sphinx\ndoesn't generate proper toctree otherwise.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2\n""}, {'number': 2, 'created': '2021-03-02 12:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4be611fb31c4a3f304dfda342975cfe17a43034a', 'message': ""Docs are now built in pdf\n\nAdds __init__.py to libraries dir, because sphinx\ndoesn't generate proper toctree otherwise.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2\n""}, {'number': 3, 'created': '2021-03-02 13:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/253ce3a93b2b0e4a9c9aa660f36ce2fe8f9e20a5', 'message': ""Docs are now built in pdf\n\nAdds __init__.py to libraries dir, because sphinx\ndoesn't generate proper toctree otherwise.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2\n""}, {'number': 4, 'created': '2021-03-03 08:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d2570db371c3c22942447dcea6a6ba2fce9282e6', 'message': ""Docs are now built in pdf\n\nAdds __init__.py to libraries dir, because sphinx\ndoesn't generate proper toctree otherwise.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2\n""}, {'number': 5, 'created': '2021-03-03 13:22:06.000000000', 'files': ['doc/source/conf.py', 'validations_common/tests/callback_plugins/test_validation_stdout.py', 'doc/requirements.txt', 'validations_common/library/__init__.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d9434d88c1d5c1b66009d16d90627071ef5433cf', 'message': ""Docs are now built in pdf\n\nAdds __init__.py to libraries dir, because sphinx\ndoesn't generate proper toctree otherwise.\n\nFixes indentation in one of the docstrings that blocked\nthe jobs.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2\n""}]",3,778169,d9434d88c1d5c1b66009d16d90627071ef5433cf,25,7,5,32926,,,0,"Docs are now built in pdf

Adds __init__.py to libraries dir, because sphinx
doesn't generate proper toctree otherwise.

Fixes indentation in one of the docstrings that blocked
the jobs.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id5d1f5acce172ea90574a257fb0e8bc3da1f6fe2
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/69/778169/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'validations_common/library/__init__.py', 'tox.ini']",4,a6029c6b5a3b90d4ff12a99cf5cdfaed20fcf0dd,docs/pdf,[testenv:pdf-docs] whitelist_externals = make description = Build PDF documentation. envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf,; [testenv:pdf-docs] ; whitelist_externals = make ; deps = {[testenv:docs]deps} ; commands = ; sphinx-build -W -b latex doc/source doc/build/pdf ; make -C doc/build/pdf,15,6
openstack%2Ftripleo-ci~master~I66da92fcabf204ab9ed3653132ee5221c220c5a0,openstack/tripleo-ci,master,I66da92fcabf204ab9ed3653132ee5221c220c5a0,Remove tempest variables from testenv files,MERGED,2021-03-02 09:44:25.000000000,2021-03-08 11:46:32.000000000,2021-03-08 11:46:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 09:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4a6228a8c5ea63f0528ea1f136bb819d7974b019', 'message': 'Remove tempest variables from testenv files\n\nSome variables like tempestmail_log_server and tempest_track_resources\nare no longer required because it belongs to validate-tempest role, that\nis deprecated now. Other variables like tempest_test_image_path and\ntempest_tempest_conf_overrides should be used only when required. In the\ncase of these testenv, this is overriding what is in tempest.yml task in\ntripleo-quickstart-extras, making it hard to change cirros image.\nRemoving here will have no impact, and all common tempest variables\nshould indeed be centralized in tempest.yml task.\n\nChange-Id: I66da92fcabf204ab9ed3653132ee5221c220c5a0\n'}, {'number': 2, 'created': '2021-03-03 09:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3f153ec7c10dd0d8a903e9cc69eabb44bff1ed58', 'message': 'Remove tempest variables from testenv files\n\nSome variables like tempestmail_log_server and tempest_track_resources\nare no longer required because it belongs to validate-tempest role, that\nis deprecated now. Other variables like tempest_test_image_path and\ntempest_tempest_conf_overrides should be used only when required. In the\ncase of these testenv, this is overriding what is in tempest.yml task in\ntripleo-quickstart-extras, making it hard to change cirros image.\nRemoving here will have no impact, and all common tempest variables\nshould indeed be centralized in tempest.yml task.\n\nChange-Id: I66da92fcabf204ab9ed3653132ee5221c220c5a0\n'}, {'number': 3, 'created': '2021-03-03 09:10:49.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml', 'toci-quickstart/config/testenv/multinode-psi.yml', 'toci-quickstart/config/testenv/ovb-psi.yml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e0f47848c10f2cd5f6c5a03ebe8bc97933f2702c', 'message': 'Remove tempest variables from testenv files\n\nSome variables like tempestmail_log_server and tempest_track_resources\nare no longer required because it belongs to validate-tempest role, that\nis deprecated now. Other variables like tempest_test_image_path and\ntempest_tempest_conf_overrides should be used only when required. In the\ncase of these testenv, this is overriding what is in tempest.yml task in\ntripleo-quickstart-extras, making it hard to change cirros image.\nRemoving here will have no impact, and all common tempest variables\nshould indeed be centralized in tempest.yml task.\n\nChange-Id: I66da92fcabf204ab9ed3653132ee5221c220c5a0\n'}]",0,778155,e0f47848c10f2cd5f6c5a03ebe8bc97933f2702c,16,5,3,8367,,,0,"Remove tempest variables from testenv files

Some variables like tempestmail_log_server and tempest_track_resources
are no longer required because it belongs to validate-tempest role, that
is deprecated now. Other variables like tempest_test_image_path and
tempest_tempest_conf_overrides should be used only when required. In the
case of these testenv, this is overriding what is in tempest.yml task in
tripleo-quickstart-extras, making it hard to change cirros image.
Removing here will have no impact, and all common tempest variables
should indeed be centralized in tempest.yml task.

Change-Id: I66da92fcabf204ab9ed3653132ee5221c220c5a0
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/55/778155/3 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml', 'toci-quickstart/config/testenv/multinode-psi.yml', 'toci-quickstart/config/testenv/ovb-psi.yml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml']",8,4a6228a8c5ea63f0528ea1f136bb819d7974b019,remove-tempest-variables,,# We don't need to cleanup TripleO CI tempest_track_resources: false # Use cirros cached image tempest_test_image_path: /opt/cache/files/cirros-0.4.0-x86_64-disk.img tempest_tempest_conf_overrides: image.image_path: http://images.rdoproject.org/cirros/cirros-0.4.0-x86_64-disk.img ,0,64
openstack%2Freleases~master~Ib6efac12278c12aa1f320c12a86cbcd164faed90,openstack/releases,master,Ib6efac12278c12aa1f320c12a86cbcd164faed90,Release cinder-tempest-plugin 1.4.0,MERGED,2021-03-03 23:11:59.000000000,2021-03-08 11:37:09.000000000,2021-03-08 11:37:09.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 23:11:59.000000000', 'files': ['deliverables/wallaby/cinder-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/08b5a55d753c9efe777f814c177f7c2051394870', 'message': 'Release cinder-tempest-plugin 1.4.0\n\nIntermediate release. We have collected enough changes since 1.3.0.\nMoreover, a relevant set of changes is coming to tempest and\nit would make sense to mark this currently working release.\n\nChange-Id: Ib6efac12278c12aa1f320c12a86cbcd164faed90\n'}]",0,778591,08b5a55d753c9efe777f814c177f7c2051394870,10,6,1,10459,,,0,"Release cinder-tempest-plugin 1.4.0

Intermediate release. We have collected enough changes since 1.3.0.
Moreover, a relevant set of changes is coming to tempest and
it would make sense to mark this currently working release.

Change-Id: Ib6efac12278c12aa1f320c12a86cbcd164faed90
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/778591/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/cinder-tempest-plugin.yaml'],1,08b5a55d753c9efe777f814c177f7c2051394870,cinder-tempest-plugin-140, - version: 1.4.0 projects: - repo: openstack/cinder-tempest-plugin hash: 641d6a009ead01eaa056608067119ca3e8e12e2d,,4,0
openstack%2Freleases~master~Ia6be75df1986537815f2438a7fac4ee4e522d799,openstack/releases,master,Ia6be75df1986537815f2438a7fac4ee4e522d799,Release final python-vitrageclient for Wallaby,MERGED,2021-03-05 15:35:28.000000000,2021-03-08 11:35:03.000000000,2021-03-08 11:35:03.000000000,"[{'_account_id': 308}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 15:35:28.000000000', 'files': ['deliverables/wallaby/python-vitrageclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6604dd4d216fd18286433d039d1c981c96a0ad59', 'message': 'Release final python-vitrageclient for Wallaby\n\nThis proposed a release for python-vitrageclient to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 11.\n\n$ git log --oneline --no-merges 4.2.0..8293be5\n8293be5 Revert ""remove py37""\n764e430 remove py37\n7dbc1e8 Remove unicode  from client\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ia6be75df1986537815f2438a7fac4ee4e522d799\n'}]",0,778974,6604dd4d216fd18286433d039d1c981c96a0ad59,9,4,1,28522,,,0,"Release final python-vitrageclient for Wallaby

This proposed a release for python-vitrageclient to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 11.

$ git log --oneline --no-merges 4.2.0..8293be5
8293be5 Revert ""remove py37""
764e430 remove py37
7dbc1e8 Remove unicode  from client

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ia6be75df1986537815f2438a7fac4ee4e522d799
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/778974/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-vitrageclient.yaml'],1,6604dd4d216fd18286433d039d1c981c96a0ad59,cwi-client-final, - version: 4.3.0 projects: - repo: openstack/python-vitrageclient hash: 8293be5fed973d6e4a06a18e4aad16868412e021,,4,0
openstack%2Freleases~master~Ibff157e8eeb04c50aaeb1a04b9c45c8fa23040be,openstack/releases,master,Ibff157e8eeb04c50aaeb1a04b9c45c8fa23040be,Release final python-magnumclient for Wallaby,MERGED,2021-03-05 15:19:23.000000000,2021-03-08 11:34:06.000000000,2021-03-08 11:34:06.000000000,"[{'_account_id': 308}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 15:19:23.000000000', 'files': ['deliverables/wallaby/python-magnumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0202fbcdbc4cf0ad2411e46f113853114fc379b5', 'message': 'Release final python-magnumclient for Wallaby\n\nThis proposed a release for python-magnumclient to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 11.\n\n$ git log --oneline --no-merges 3.3.0..e2bcf6e\ne2bcf6e Uncap PrettyTable\n201b352 Add CT tags argument and field to client\n0799acf Nodegroup min_node_count should default to 0\n0a35b68 Drop lower constraints testing\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ibff157e8eeb04c50aaeb1a04b9c45c8fa23040be\n'}]",0,778963,0202fbcdbc4cf0ad2411e46f113853114fc379b5,9,4,1,28522,,,0,"Release final python-magnumclient for Wallaby

This proposed a release for python-magnumclient to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 11.

$ git log --oneline --no-merges 3.3.0..e2bcf6e
e2bcf6e Uncap PrettyTable
201b352 Add CT tags argument and field to client
0799acf Nodegroup min_node_count should default to 0
0a35b68 Drop lower constraints testing

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ibff157e8eeb04c50aaeb1a04b9c45c8fa23040be
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/778963/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-magnumclient.yaml'],1,0202fbcdbc4cf0ad2411e46f113853114fc379b5,cwi-client-final, - version: 3.4.0 projects: - repo: openstack/python-magnumclient hash: e2bcf6e98011f04f7768ab5859077f43093166d8,,4,0
openstack%2Freleases~master~I2cf9ea480cbdbdfecb3101e6667ba6d80ffb3a05,openstack/releases,master,I2cf9ea480cbdbdfecb3101e6667ba6d80ffb3a05,Release OpenStack-Ansible Victoria,MERGED,2021-03-06 05:41:35.000000000,2021-03-08 11:32:59.000000000,2021-03-08 11:32:59.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-06 05:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/32e1ab5a590606818ac726b19b6c150e7ccb3b87', 'message': 'Release OpenStack-Ansible Victoria\n\nChange-Id: I2cf9ea480cbdbdfecb3101e6667ba6d80ffb3a05\n'}, {'number': 2, 'created': '2021-03-06 05:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dac90c859fb290672009972a5d043172f3b299a7', 'message': 'Release OpenStack-Ansible Victoria\n\nChange-Id: I2cf9ea480cbdbdfecb3101e6667ba6d80ffb3a05\n'}, {'number': 3, 'created': '2021-03-06 05:57:39.000000000', 'files': ['deliverables/victoria/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ac1a275e57e7890fa45de379874a900c4d54cb54', 'message': 'Release OpenStack-Ansible Victoria\n\nChange-Id: I2cf9ea480cbdbdfecb3101e6667ba6d80ffb3a05\n'}]",0,779001,ac1a275e57e7890fa45de379874a900c4d54cb54,13,3,3,28619,,,0,"Release OpenStack-Ansible Victoria

Change-Id: I2cf9ea480cbdbdfecb3101e6667ba6d80ffb3a05
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/779001/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,32e1ab5a590606818ac726b19b6c150e7ccb3b87,release_osa,,,0,0
openstack%2Freleases~master~Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a,openstack/releases,master,Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a,Cinder team releases for stable/victoria,MERGED,2021-03-02 18:56:12.000000000,2021-03-08 11:32:53.000000000,2021-03-08 11:32:53.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-02 18:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/600b41b46fd78ec2e67ecbd14e1f13a080bdfa7b', 'message': 'Cinder team releases for stable/victoria\n\nChange-Id: Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a\n'}, {'number': 2, 'created': '2021-03-03 13:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/47d3e8b499d7526d1a8e515bb3ed9749cc739a4c', 'message': 'Cinder team releases for stable/victoria\n\nChange-Id: Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a\n'}, {'number': 3, 'created': '2021-03-05 10:11:09.000000000', 'files': ['deliverables/victoria/os-brick.yaml', 'deliverables/victoria/python-cinderclient.yaml', 'deliverables/victoria/python-brick-cinderclient-ext.yaml', 'deliverables/victoria/cinderlib.yaml', 'deliverables/victoria/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9d13acb923ebefcd7105f8ca91ff99ee485fc924', 'message': 'Cinder team releases for stable/victoria\n\nChange-Id: Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a\n'}]",13,778231,9d13acb923ebefcd7105f8ca91ff99ee485fc924,21,5,3,27615,,,0,"Cinder team releases for stable/victoria

Change-Id: Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/778231/3 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/os-brick.yaml', 'deliverables/victoria/python-cinderclient.yaml', 'deliverables/victoria/python-brick-cinderclient-ext.yaml', 'deliverables/victoria/cinderlib.yaml', 'deliverables/victoria/cinder.yaml']",5,600b41b46fd78ec2e67ecbd14e1f13a080bdfa7b,778231, - version: 17.0.2 projects: - repo: openstack/cinder hash: deb31a0c4d35ea6c479bfe466b780ed07a489276,,20,0
openstack%2Fovn-octavia-provider~stable%2Fvictoria~Ibde099db717787d7905d7c7850bebda7e9e261a8,openstack/ovn-octavia-provider,stable/victoria,Ibde099db717787d7905d7c7850bebda7e9e261a8,Don't try to store protocol=None in OVSDB,MERGED,2021-03-04 21:04:25.000000000,2021-03-08 11:30:46.000000000,2021-03-08 11:29:18.000000000,"[{'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 21:04:25.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/674203b4bf959729a0eeef1d44aa831fba6ed484', 'message': ""Don't try to store protocol=None in OVSDB\n\nThe schema for the 'protocol' column is 0 or 1 strings in the set\n('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are\nrepresented by []. Passing None will cause a schema error to be\nthrown, so pass [] instead of None when protocol is not set.\n\nChange-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8\nCloses-Bug: #1916646\n(cherry picked from commit a641c2c395043cfc0119fafa3f91d3256c120d70)\n""}]",0,778694,674203b4bf959729a0eeef1d44aa831fba6ed484,9,4,1,1131,,,0,"Don't try to store protocol=None in OVSDB

The schema for the 'protocol' column is 0 or 1 strings in the set
('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are
represented by []. Passing None will cause a schema error to be
thrown, so pass [] instead of None when protocol is not set.

Change-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8
Closes-Bug: #1916646
(cherry picked from commit a641c2c395043cfc0119fafa3f91d3256c120d70)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/94/778694/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,674203b4bf959729a0eeef1d44aa831fba6ed484,," protocol=[], protocol=[], protocol=[]) protocol=[],"," protocol=None, protocol=None, protocol=None) protocol=None,",5,5
openstack%2Fovn-octavia-provider~stable%2Fussuri~Ibde099db717787d7905d7c7850bebda7e9e261a8,openstack/ovn-octavia-provider,stable/ussuri,Ibde099db717787d7905d7c7850bebda7e9e261a8,Don't try to store protocol=None in OVSDB,MERGED,2021-03-04 21:28:19.000000000,2021-03-08 11:30:36.000000000,2021-03-08 11:29:22.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 21:28:19.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f4861f9d9234fc304e84a3afe4190f319974b238', 'message': ""Don't try to store protocol=None in OVSDB\n\nThe schema for the 'protocol' column is 0 or 1 strings in the set\n('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are\nrepresented by []. Passing None will cause a schema error to be\nthrown, so pass [] instead of None when protocol is not set.\n\nChange-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8\nCloses-Bug: #1916646\n(cherry picked from commit a641c2c395043cfc0119fafa3f91d3256c120d70)\n""}]",0,778779,f4861f9d9234fc304e84a3afe4190f319974b238,9,3,1,1131,,,0,"Don't try to store protocol=None in OVSDB

The schema for the 'protocol' column is 0 or 1 strings in the set
('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are
represented by []. Passing None will cause a schema error to be
thrown, so pass [] instead of None when protocol is not set.

Change-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8
Closes-Bug: #1916646
(cherry picked from commit a641c2c395043cfc0119fafa3f91d3256c120d70)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/79/778779/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,f4861f9d9234fc304e84a3afe4190f319974b238,778694-ussuri, protocol = protocol.lower() if protocol else [], protocol = protocol.lower() if protocol else None,5,5
openstack%2Fkolla-ansible~stable%2Fvictoria~Ibffd96fe008b6fcefcd73ac3c1bc579507dca5c7,openstack/kolla-ansible,stable/victoria,Ibffd96fe008b6fcefcd73ac3c1bc579507dca5c7,CI: Temporarily disable rabbitmq internal tls,MERGED,2020-11-05 18:53:42.000000000,2021-03-08 11:28:50.000000000,2020-11-06 00:03:56.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-05 18:53:42.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7ba5efab1295f2a84e24a678162196f1eef18b2', 'message': 'CI: Temporarily disable rabbitmq internal tls\n\nDue to an incompatibility between oslo.messaging and new kombu/amqp mix -\nNova RMQ TLS is not working. See [1] and [2].\n\n[1]: https://launchpad.net/bugs/1902696\n[2]: https://review.opendev.org/#/c/761194/\n\nChange-Id: Ibffd96fe008b6fcefcd73ac3c1bc579507dca5c7\n(cherry picked from commit ff441c1c0ceb8fc06a17f5db8e460ad00e8db365)\n'}]",0,761655,d7ba5efab1295f2a84e24a678162196f1eef18b2,10,3,1,30491,,,0,"CI: Temporarily disable rabbitmq internal tls

Due to an incompatibility between oslo.messaging and new kombu/amqp mix -
Nova RMQ TLS is not working. See [1] and [2].

[1]: https://launchpad.net/bugs/1902696
[2]: https://review.opendev.org/#/c/761194/

Change-Id: Ibffd96fe008b6fcefcd73ac3c1bc579507dca5c7
(cherry picked from commit ff441c1c0ceb8fc06a17f5db8e460ad00e8db365)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/761655/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,d7ba5efab1295f2a84e24a678162196f1eef18b2,temp_disable_rmq_tls-stable/victoria,"# FIXME(mnasiadka): Re-enable when https://review.opendev.org/#/c/761194/ is merged rabbitmq_enable_tls: ""no""","rabbitmq_enable_tls: ""yes""",2,1
openstack%2Freleases~master~Iea33c2bd4bd20dd0f92fd9a7e12008d841176974,openstack/releases,master,Iea33c2bd4bd20dd0f92fd9a7e12008d841176974,Add delete option to list_eol_stale_branches.sh,MERGED,2021-02-24 18:18:47.000000000,2021-03-08 11:25:39.000000000,2021-03-08 11:25:39.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-24 18:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e74262818eb9922af588f4a67c88b8bcd24469d3', 'message': 'Add delete option to list_eol_stale_branches.sh\n\nThis patch adds a question whether to delete a stale eol branch if it\ndoes not contain open patches.\nThe deletion is done by git command, which requires deletion rights for\nthe user who is running this script.\n\nChange-Id: Iea33c2bd4bd20dd0f92fd9a7e12008d841176974\n'}, {'number': 2, 'created': '2021-03-03 21:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/77b00106830fe70fe86999d247d88d391ee09ec0', 'message': ""Add delete option to list_eol_stale_branches.sh\n\nThis patch adds a question whether to delete a stale eol branch if it\ndoes not contain open patches.\nThe deletion is done via Gerrit API, which requires 'delete reference'\naccess category for the user who is running this script.\n\nChange-Id: Iea33c2bd4bd20dd0f92fd9a7e12008d841176974\n""}, {'number': 3, 'created': '2021-03-04 11:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4a7264fbbcd81c8d5047c9da486554e13aae500f', 'message': ""Add delete option to list_eol_stale_branches.sh\n\nThis patch adds a question whether to delete a stale eol branch if it\ndoes not contain open patches.\nThe deletion is done via Gerrit API, which requires 'delete reference'\naccess category for the user who is running this script.\n\nChange-Id: Iea33c2bd4bd20dd0f92fd9a7e12008d841176974\n""}, {'number': 4, 'created': '2021-03-04 16:13:07.000000000', 'files': ['tools/delete_stable_branch.py', 'tools/list_eol_stale_branches.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/6a8941429f3c34f0c4fc732cb1af1010ee85ef62', 'message': ""Add delete option to list_eol_stale_branches.sh\n\nThis patch adds a question whether to delete a stale eol branch if it\ndoes not contain open patches.\nThe deletion is done via Gerrit API, which requires 'delete reference'\naccess category for the user who is running this script.\n\nChange-Id: Iea33c2bd4bd20dd0f92fd9a7e12008d841176974\n""}]",6,777446,6a8941429f3c34f0c4fc732cb1af1010ee85ef62,27,4,4,17685,,,0,"Add delete option to list_eol_stale_branches.sh

This patch adds a question whether to delete a stale eol branch if it
does not contain open patches.
The deletion is done via Gerrit API, which requires 'delete reference'
access category for the user who is running this script.

Change-Id: Iea33c2bd4bd20dd0f92fd9a7e12008d841176974
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/777446/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/list_eol_stale_branches.sh'],1,e74262818eb9922af588f4a67c88b8bcd24469d3,delete-eol-branch," echo ""Patches remained open on stale branch (make sure to abandon them):"" else read -p ""> Do you want to delete the branch stable/${em_serie} from ${repo} repository? [y/N]: "" YN if [ ""${YN,,}"" == ""y"" ]; then pushd ${repo} >/dev/null git push origin --delete ""refs/heads/stable/${em_serie}"" popd >/dev/null fi"," echo ""Patches remain opened on stale branch:""",8,1
openstack%2Frequirements~master~Ic800d4f93cc324787fe22e27a25411e1565185d5,openstack/requirements,master,Ic800d4f93cc324787fe22e27a25411e1565185d5,Pin kombu and amqp requirements due to incompatibility,ABANDONED,2020-11-03 16:43:09.000000000,2021-03-08 11:18:53.000000000,,"[{'_account_id': 9708}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-03 16:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/81810db85e4984acae7601adb2367a52a715ed7b', 'message': 'Pin kombu and amqp requirements due to incompatibility\n\nkombu 5.0.2 bumped the amqp dependency from 2.6.1 to 5.0 but amqp 5.0\nremoved ca_certs ssl parameter from the connect call path. The\noslo.messaging still passes that parameter making nova fail if ssl is\nconfigured for RPC.\n\nRelated-Bug: #1902696\nChange-Id: Ic800d4f93cc324787fe22e27a25411e1565185d5\n'}, {'number': 2, 'created': '2020-11-04 08:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5c19f97c1a3997cee442f6ebdff7a54320a39790', 'message': 'Pin kombu and amqp requirements due to incompatibility\n\nkombu 5.0.2 bumped the amqp dependency from 2.6.1 to 5.0 but amqp 5.0\nremoved ca_certs ssl parameter from the connect call path. The\noslo.messaging still passes that parameter making nova fail if ssl is\nconfigured for RPC.\n\nTo keep the resulting constraints consistent the vine constraint moved\nback to 1.3.0 from 5.0.0\n\nThis patch partially reverts I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533\n\nRelated-Bug: #1902696\nChange-Id: Ic800d4f93cc324787fe22e27a25411e1565185d5\n'}, {'number': 3, 'created': '2020-11-24 12:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f7ddb1139854f1bd9169c1d336f65b99235a042b', 'message': 'Avoid amqp 5.0.0 and 5.0.1 due to missing ca_certs\n\nDue to a bug [1] The oslo.messaging fails to work with amqp if SSL is\nconfigured. The bug has been fixed in amqp version 5.0.2\n\n[1] https://github.com/celery/py-amqp/issues/342\n\nRelated-Bug: #1902696\nChange-Id: Ic800d4f93cc324787fe22e27a25411e1565185d5\n'}, {'number': 4, 'created': '2020-11-26 13:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d24d0b75baff50e7190fca478ec2e0fbc65b963a', 'message': 'Pin kombu and amqp requirements due to incompatibility\n\nkombu 5.0.2 bumped the amqp dependency from 2.6.1 to 5.0 but amqp 5.0\nremoved ca_certs ssl parameter from the connect call path. The\noslo.messaging still passes that parameter making nova fail if ssl is\nconfigured for RPC.\n\nLater amqp 5.0.2 reintroduced the ca_certs parameter but kolla now fails\nwith\n\nValueError: check_hostname needs a SSL context with either CERT_OPTIONAL or CERT_REQUIRED\n\nTo keep the resulting constraints consistent the vine constraint moved\nback to 1.3.0 from 5.0.0\n\nThis patch partially reverts I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533\n\nRelated-Bug: #1902696\nChange-Id: Ic800d4f93cc324787fe22e27a25411e1565185d5\n'}, {'number': 5, 'created': '2020-11-26 14:17:56.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e6c457ce452586749e554e036f92ec06876be39f', 'message': 'Pin kombu and amqp requirements due to incompatibility\n\nkombu 5.0.2 bumped the amqp dependency from 2.6.1 to 5.0 but amqp 5.0\nremoved ca_certs ssl parameter from the connect call path. The\noslo.messaging still passes that parameter making nova fail if ssl is\nconfigured for RPC.\n\nLater amqp 5.0.2 reintroduced the ca_certs parameter but kolla now fails\nwith\n\nValueError: check_hostname needs a SSL context with either CERT_OPTIONAL or CERT_REQUIRED\n\nTo keep the resulting constraints consistent the vine constraint moved\nback to 1.3.0 from 5.0.0\n\nThis patch partially reverts I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533\n\nRelated-Bug: #1902696\nChange-Id: Ic800d4f93cc324787fe22e27a25411e1565185d5\n'}]",0,761194,e6c457ce452586749e554e036f92ec06876be39f,40,6,5,9708,,,0,"Pin kombu and amqp requirements due to incompatibility

kombu 5.0.2 bumped the amqp dependency from 2.6.1 to 5.0 but amqp 5.0
removed ca_certs ssl parameter from the connect call path. The
oslo.messaging still passes that parameter making nova fail if ssl is
configured for RPC.

Later amqp 5.0.2 reintroduced the ca_certs parameter but kolla now fails
with

ValueError: check_hostname needs a SSL context with either CERT_OPTIONAL or CERT_REQUIRED

To keep the resulting constraints consistent the vine constraint moved
back to 1.3.0 from 5.0.0

This patch partially reverts I1bc1fe988e3cfd4824dd7b4a9327a67db46c1533

Related-Bug: #1902696
Change-Id: Ic800d4f93cc324787fe22e27a25411e1565185d5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/761194/3 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,81810db85e4984acae7601adb2367a52a715ed7b,bug/1902696,amqp===2.6.1kombu===5.0.1,amqp===5.0.1kombu===5.0.2,6,4
openstack%2Ftripleo-ci~master~I5b904aa969222740b444cd73e722c09168924716,openstack/tripleo-ci,master,I5b904aa969222740b444cd73e722c09168924716,Set image and container build jobs non-voting: stream,MERGED,2021-03-02 13:13:08.000000000,2021-03-08 11:13:04.000000000,2021-03-07 16:07:16.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 13:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cb1d14d475d838cf5bf53c97daed9ba057397f9b', 'message': 'DNM: Add master specific build image jobs for stream\n\nChange-Id: I5b904aa969222740b444cd73e722c09168924716\n'}, {'number': 2, 'created': '2021-03-03 17:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f626454b6a12da8a726900c45059de8b9481bc5d', 'message': 'DNM: image-build jobs non-voting duirng stream transition\n\nSet the image-build jobs to non-voting during\nthe transition from centos release nodes to\ncentos stream nodes on all releases.\n\nChange-Id: I5b904aa969222740b444cd73e722c09168924716\n'}, {'number': 3, 'created': '2021-03-03 23:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/45b15a36adacc36796890eb990925e6068ddff9c', 'message': 'DNM: image-build jobs non-voting duirng stream transition\n\nSet the image-build jobs to non-voting during\nthe transition from centos release nodes to\ncentos stream nodes on all releases.\n\nChange-Id: I5b904aa969222740b444cd73e722c09168924716\n'}, {'number': 4, 'created': '2021-03-03 23:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d286bb04416826253c42290136762550b53d45dd', 'message': 'Make image-and continer-build non-voting - stream transition\n\nSet conatiner and imagebuild jobs to non-voting during\nthe transition from centos release nodes to\ncentos stream nodes on all releases.\n\nChange-Id: I5b904aa969222740b444cd73e722c09168924716\n'}, {'number': 5, 'created': '2021-03-03 23:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bbda17bf6f5301cff6b38ecf16eb73a15643536a', 'message': 'Set image and container build jobs non-voting: stream\n\nSet container and image build jobs to non-voting during\nthe transition from centos release nodes to\ncentos stream nodes on all releases.\n\nChange-Id: I5b904aa969222740b444cd73e722c09168924716\n'}, {'number': 6, 'created': '2021-03-04 19:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f078594d5c8ce517ab07936891931f826287007f', 'message': 'Set image and container build jobs non-voting: stream\n\nSet container and image build jobs to non-voting during\nthe transition from centos release nodes to\ncentos stream nodes on all releases.\n\nAdd volume_mounts for centos-8 container builds.\n\nChange-Id: I5b904aa969222740b444cd73e722c09168924716\n'}, {'number': 7, 'created': '2021-03-04 19:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/62f1c058b1f50632e369b4897500d13ed41fe599', 'message': 'Set image and container build jobs non-voting: stream\n\nSet container and image build jobs to non-voting during\nthe transition from centos release nodes to\ncentos stream nodes on all releases.\n\nAdd volume_mounts for centos-8 container builds.\n\nChange-Id: I5b904aa969222740b444cd73e722c09168924716\n'}, {'number': 8, 'created': '2021-03-04 21:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/154c0777c0693a8f9b59d46e1504f748ec0633a7', 'message': 'Set image and container build jobs non-voting: stream\n\nSet container and image build jobs to non-voting during\nthe transition from centos release nodes to\ncentos stream nodes on all releases.\n\nRelated-Bug: #1917808\nChange-Id: I5b904aa969222740b444cd73e722c09168924716\n'}, {'number': 9, 'created': '2021-03-04 21:43:59.000000000', 'files': ['zuul.d/build-containers.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/41847d7f49c9625a550f3068719d92f1ab134cf7', 'message': 'Set image and container build jobs non-voting: stream\n\nSet container and image build jobs to non-voting during\nthe transition from centos release nodes to\ncentos stream nodes on all releases.\n\nRelated-Bug: #1917808\nChange-Id: I5b904aa969222740b444cd73e722c09168924716\n'}]",0,778189,41847d7f49c9625a550f3068719d92f1ab134cf7,30,5,9,9976,,,0,"Set image and container build jobs non-voting: stream

Set container and image build jobs to non-voting during
the transition from centos release nodes to
centos stream nodes on all releases.

Related-Bug: #1917808
Change-Id: I5b904aa969222740b444cd73e722c09168924716
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/89/778189/6 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-image.yaml'],1,cb1d14d475d838cf5bf53c97daed9ba057397f9b,centos-8-stream-content-master, - tripleo-buildimage-overcloud-full-centos-8-master: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-8-master: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-master: files: *build_images_hardened_files - tripleo-buildimage-overcloud-full-centos-8-master: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-8-master: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-master: files: *build_images_hardened_files - tripleo-buildimage-overcloud-full-centos-8-master: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-8-master: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-master: files: *build_images_hardened_files - tripleo-buildimage-overcloud-full-centos-8-master: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-8-master: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-master: files: *build_images_hardened_files branches: ^(?!master|stable/(queens|rocky|stein)).*$ branches: ^(?!master|stable/(queens|rocky|stein)).*$ branches: ^(?!master|stable/(queens|rocky|stein)).*$ name: tripleo-buildimage-ironic-python-agent-centos-8-master parent: tripleo-buildimage-ironic-python-agent-centos-8 branches: master nodeset: single-centos-8-stream-node - job: name: tripleo-buildimage-overcloud-full-centos-8-master parent: tripleo-buildimage-overcloud-full-centos-8 branches: master nodeset: single-centos-8-stream-node - job: name: tripleo-buildimage-overcloud-hardened-full-centos-8-master parent: tripleo-buildimage-overcloud-hardened-full-centos-8 branches: master nodeset: single-centos-8-stream-node - job:, branches: ^(?!stable/(queens|rocky|stein)).*$ branches: ^(?!stable/(queens|rocky|stein)).*$ branches: ^(?!stable/(queens|rocky|stein)).*$,46,3
openstack%2Fcinder~master~Ia038bad53a749d615068007574590b0224d72700,openstack/cinder,master,Ia038bad53a749d615068007574590b0224d72700,Handle changed volume file names in remotefs snap existence check,NEW,2019-01-24 10:40:05.000000000,2021-03-08 11:08:02.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25257}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30615}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-01-24 10:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc52c7be06e88d5ac9c2d13e952967d405fa97f6', 'message': '[WIP] Update volume provider_location during pull based snap deletion\n\nDuring Nova based deletion of snapshots a volumes provider_location\nmay change. This updates this location in case of such a pull based\nsnapshot deletion.\n\nChange-Id: Ia038bad53a749d615068007574590b0224d72700\nCloses-Bug: #1813138\n'}, {'number': 2, 'created': '2019-01-25 08:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22942cd4165b39a7e19486e167b0892801285df5', 'message': '[WIP] Update volume provider_location during pull based snap deletion\n\nDuring Nova based deletion of snapshots a volumes provider_location\nmay change. This updates this location in case of such a pull based\nsnapshot deletion.\n\nCloses-Bug: #1813138\nChange-Id: Ia038bad53a749d615068007574590b0224d72700\n'}, {'number': 3, 'created': '2019-01-25 11:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0de2e3079734fdde40144c48f8184e1559ffefa', 'message': '[WIP] Update volume provider_location during pull based snap deletion\n\nDuring Nova based deletion of snapshots a volumes provider_location\nmay change. This updates this location in case of such a pull based\nsnapshot deletion.\n\nCloses-Bug: #1813138\nChange-Id: Ia038bad53a749d615068007574590b0224d72700\n'}, {'number': 4, 'created': '2019-01-31 11:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b149191e57df38652b6f147816c105e87ed38180', 'message': '[WIP] Handle changed volume file names in remotefs snap existence check\n\nDuring Nova based deletion of snapshots a volumes underlying file name\nmay change. This updates _snapshots_exist in remotefs.py to handle\nthis in case of such a pull based snapshot deletion.\n\nCloses-Bug: #1813138\nChange-Id: Ia038bad53a749d615068007574590b0224d72700\n'}, {'number': 5, 'created': '2019-06-17 12:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a97d102d7e23abdca1562e2d907d172d3eda440', 'message': 'Handle changed volume file names in remotefs snap existence check\n\nDuring Nova based deletion of snapshots a volumes underlying file name\nmay change. This updates _snapshots_exist in remotefs.py to handle\nthis in case of such a pull based snapshot deletion.\n\nCloses-Bug: #1813138\n\nChange-Id: Ia038bad53a749d615068007574590b0224d72700\n'}, {'number': 6, 'created': '2019-09-03 09:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca55529161540fc53b44898170b4b37b4c99736c', 'message': 'Handle changed volume file names in remotefs snap existence check\n\nDuring Nova based deletion of snapshots a volumes underlying file name\nmay change. This updates _snapshots_exist in remotefs.py to handle\nthis in case of such a pull based snapshot deletion.\n\nCloses-Bug: #1813138\n\nChange-Id: Ia038bad53a749d615068007574590b0224d72700\n'}, {'number': 7, 'created': '2019-09-18 07:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d64dcde27308e60017f672dcf65f3f2636c88301', 'message': 'Handle changed volume file names in remotefs snap existence check\n\nDuring Nova based deletion of snapshots a volumes underlying file name\nis changed if the deleted snapshot is the last existing beside the\nvolume itself.\nThis also updates _snapshots_exist in remotefs.py to more robustly\ndetect if no snapshots exist.This includes handling cases where the\ndata still contains the outdated volume file name.\n\nCloses-Bug: #1813138\n\nChange-Id: Ia038bad53a749d615068007574590b0224d72700\n'}, {'number': 8, 'created': '2019-09-23 08:39:52.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c71dcedddd40c62aa14365d4313359eece27d04', 'message': 'Handle changed volume file names in remotefs snap existence check\n\nDuring Nova based deletion of snapshots a volumes underlying file name\nis changed if the deleted snapshot is the last existing beside the\nvolume itself.\nThis also updates _snapshots_exist in remotefs.py to more robustly\ndetect if no snapshots exist.This includes handling cases where the\ndata still contains the outdated volume file name.\n\nCloses-Bug: #1813138\n\nChange-Id: Ia038bad53a749d615068007574590b0224d72700\n'}]",5,632982,7c71dcedddd40c62aa14365d4313359eece27d04,312,50,8,13915,,,0,"Handle changed volume file names in remotefs snap existence check

During Nova based deletion of snapshots a volumes underlying file name
is changed if the deleted snapshot is the last existing beside the
volume itself.
This also updates _snapshots_exist in remotefs.py to more robustly
detect if no snapshots exist.This includes handling cases where the
data still contains the outdated volume file name.

Closes-Bug: #1813138

Change-Id: Ia038bad53a749d615068007574590b0224d72700
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/632982/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,cc52c7be06e88d5ac9c2d13e952967d405fa97f6,bug/1813138," # Update the volumes provider_location if this was the last snaps. if len(snap_info) == 1: snapshot.volume.provider_location = info[""snapshot_file""]",,4,0
openstack%2Fcinder~master~I22ec3e861e00a82d49c01133fd0f20afbac31d9d,openstack/cinder,master,I22ec3e861e00a82d49c01133fd0f20afbac31d9d,update snapshot attrs to snapshot metadata,NEW,2020-02-27 06:04:12.000000000,2021-03-08 10:56:31.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 14806}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30428}, {'_account_id': 30615}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-02-27 06:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0dbb31477186da2bb362cb5e3f8e9e1c0b73a15', 'message': 'update some snapshot attrs to snapshot metadata\n\nThis patch will some attrs of snapshot vdisk to cinder snapshot metadata\ntable. vdisk_UID and volume_name will be updated during create_snapshot and\ncreate_group_snapshot.\n\nCloses-Bug: #1864402\n\nChange-Id: I22ec3e861e00a82d49c01133fd0f20afbac31d9d\n'}, {'number': 2, 'created': '2020-02-28 06:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed983bf8e2167f7f158e4e003b2a9e6ed51c2f5f', 'message': 'update some snapshot attrs to snapshot metadata\n\nThis patch will some attrs of snapshot vdisk to cinder snapshot metadata\ntable. vdisk_UID and volume_name will be updated during create_snapshot and\ncreate_group_snapshot.\n\nCloses-Bug: #1864402\n\nChange-Id: I22ec3e861e00a82d49c01133fd0f20afbac31d9d\n'}, {'number': 3, 'created': '2020-02-28 14:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16b39b6428d3fe4a750a945b273d33d2dca9591f', 'message': 'update some snapshot attrs to snapshot metadata\n\nThis patch will some attrs of snapshot vdisk to cinder snapshot metadata\ntable. vdisk_UID and volume_name will be updated during create_snapshot\nand create_group_snapshot.\n\nCloses-Bug: #1864402\n\nChange-Id: I22ec3e861e00a82d49c01133fd0f20afbac31d9d\n'}, {'number': 4, 'created': '2020-03-02 03:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03ac48a272502b8ac3fe2dfa23c0841075202626', 'message': 'update some snapshot attrs to snapshot metadata\n\nThis patch will some attrs of snapshot vdisk to cinder snapshot metadata\ntable. vdisk_UID and volume_name will be updated during create_snapshot\nand create_group_snapshot.\n\nCloses-Bug: #1864402\n\nChange-Id: I22ec3e861e00a82d49c01133fd0f20afbac31d9d\n'}, {'number': 5, 'created': '2020-03-13 06:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a348cda3781af8ec81294eab9a2b3df439a0034', 'message': 'update some snapshot attrs to snapshot metadata\n\nThis patch will some attrs of snapshot vdisk to cinder snapshot metadata\ntable. vdisk_UID and volume_name will be updated during create_snapshot\nand create_group_snapshot.\n\nCloses-Bug: #1864402\n\nChange-Id: I22ec3e861e00a82d49c01133fd0f20afbac31d9d\n'}, {'number': 6, 'created': '2020-04-24 07:11:33.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc6124b784c7e17dfbadc5aff4b678e870fff6ce', 'message': 'update snapshot attrs to snapshot metadata\n\nThis patch will update some attrs of snapshot vdisk to cinder\nsnapshot metadata table. vdisk_UID and volume_name will be updated\nduring create_snapshot and create_group_snapshot.\n\nCloses-Bug: #1864402\n\nChange-Id: I22ec3e861e00a82d49c01133fd0f20afbac31d9d\n'}]",6,710187,bc6124b784c7e17dfbadc5aff4b678e870fff6ce,148,39,6,30428,,,0,"update snapshot attrs to snapshot metadata

This patch will update some attrs of snapshot vdisk to cinder
snapshot metadata table. vdisk_UID and volume_name will be updated
during create_snapshot and create_group_snapshot.

Closes-Bug: #1864402

Change-Id: I22ec3e861e00a82d49c01133fd0f20afbac31d9d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/710187/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,a0dbb31477186da2bb362cb5e3f8e9e1c0b73a15,bug/1864402_vdisk_UID," def lsvdiskcopyattr(self, vdisk): """"""Return vdisk attributes or None if it doesn't exist."""""" ssh_cmd = ['svcinfo', 'lsvdisk', '-bytes', '-delim', '!', '""%s""' % vdisk] out, err = self._ssh(ssh_cmd, check_exit_code=False) LOG.debug('OUTPUT of lsvdisk is %s', out) if not err: return CLIResponse((out, err), ssh_cmd=ssh_cmd, delim='!', with_header=False)[1] if 'CMMVC5754E' in err: return None msg = (_('CLI Exception output:\n command: %(cmd)s\n ' 'stdout: %(out)s\n stderr: %(err)s.') % {'cmd': ssh_cmd, 'out': out, 'err': err}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) snapshot_metadata = self.get_snapshot_stats(snapshot['name']) 'replication_status': fields.ReplicationStatus.NOT_CAPABLE, 'metadata': snapshot_metadata}) def get_vdisk_copy_attr(self, vdisk): attrs = self.ssh.lsvdiskcopyattr(vdisk) return attrs def get_snapshot_stats(self, volume, static=True, dynamic=False): snapshot_stats = {} static_stats = {} dynamic_stats = {} attr = self.get_vdisk_attributes(volume) static_props = ['vdisk_UID', 'volume_name'] dynamic_props = ['used_capacity', 'real_capacity'] if static: for prop in static_props: static_stats[prop] = attr.get(prop) snapshot_stats.update(static_stats) if dynamic: copy_attr = self.get_vdisk_copy_attr(volume) for prop in dynamic_props: dynamic_stats[prop] = copy_attr.get(prop) snapshot_stats.update(dynamic_stats) return snapshot_stats snapshot_metadata = self._helpers.get_snapshot_stats( snapshot['name']) snapshot_model_update = {'metadata': snapshot_metadata} return snapshot_model_update ", 'replication_status': fields.ReplicationStatus.NOT_CAPABLE}),74,1
openstack%2Fheat~master~I4c9e0729f338de67b4b598fcd0e72646289d5025,openstack/heat,master,I4c9e0729f338de67b4b598fcd0e72646289d5025,Allow deleting Server/DeployedServer without swift/zaqar,MERGED,2021-03-04 05:24:59.000000000,2021-03-08 10:45:40.000000000,2021-03-08 10:44:08.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-03-04 05:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/834e991b1a5d6f7e2b5d3a73bca033987e006eff', 'message': 'Allow deleting Server/DeplpyedServer without swift/zaqar\n\nWhen swift and zaqar used for software_config_transport\nare removed/disabled in the deployment, we should be\nable to delete Server/DeplpyedServer resources.\n\nChange-Id: I4c9e0729f338de67b4b598fcd0e72646289d5025\nTask: 2008685\n'}, {'number': 2, 'created': '2021-03-04 07:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/382e82a11975eb0f799389b76e2ccc73f642b6ec', 'message': 'Allow deleting Server/DeployedServer without swift/zaqar\n\nWhen swift and zaqar used for software_config_transport\nare removed/disabled in the deployment, we should be\nable to delete Server/DeplpyedServer resources.\n\nChange-Id: I4c9e0729f338de67b4b598fcd0e72646289d5025\nTask: 2008685\n'}, {'number': 3, 'created': '2021-03-05 05:10:56.000000000', 'files': ['heat/tests/openstack/nova/test_server.py', 'heat/engine/resources/server_base.py', 'heat/tests/openstack/nova/fakes.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0b593c218d9f87c9b105cd8ac1e92949d73aa592', 'message': 'Allow deleting Server/DeployedServer without swift/zaqar\n\nWhen swift and zaqar used for software_config_transport\nare removed/disabled in the deployment, we should be\nable to delete Server/DeplpyedServer resources.\n\nChange-Id: I4c9e0729f338de67b4b598fcd0e72646289d5025\nTask: 2008685\n'}]",0,778611,0b593c218d9f87c9b105cd8ac1e92949d73aa592,18,4,3,8833,,,0,"Allow deleting Server/DeployedServer without swift/zaqar

When swift and zaqar used for software_config_transport
are removed/disabled in the deployment, we should be
able to delete Server/DeplpyedServer resources.

Change-Id: I4c9e0729f338de67b4b598fcd0e72646289d5025
Task: 2008685
",git fetch https://review.opendev.org/openstack/heat refs/changes/11/778611/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/nova/test_server.py', 'heat/engine/resources/server_base.py', 'heat/tests/openstack/nova/fakes.py']",3,834e991b1a5d6f7e2b5d3a73bca033987e006eff,," def delete_servers_5678(self, **kw): return (202, None) ",,62,5
openstack%2Fkolla-ansible~stable%2Fussuri~I3296dcc4780160cbf88bd18285571276f58bb249,openstack/kolla-ansible,stable/ussuri,I3296dcc4780160cbf88bd18285571276f58bb249,Fix Cinder log parsing,MERGED,2021-03-06 15:55:20.000000000,2021-03-08 10:21:38.000000000,2021-03-08 10:19:56.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-06 15:55:20.000000000', 'files': ['ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'releasenotes/notes/fix-cinder-logging-22fea4739begd6s.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4fff72255d11a109eafbdfdea922583ac9a9a75', 'message': ""Fix Cinder log parsing\n\nThe Cinder API log is currently written to a file called\ncinder-wsgi.log, and the WSGI logs to cinder-api.log. Fluentd\nthen tries to parse the WSGI log as an OpenStack log which\nresults in 'got incomplete line' errors and prevents proper\ningestion of these logs.\n\nCo-Authored-By: yaoning <yaoning@unitedstack.com>\nCloses-Bug: 1916752\nChange-Id: I3296dcc4780160cbf88bd18285571276f58bb249\n(cherry picked from commit fa5511c75d79d8e258c4fa880d2c7a880b838bde)\n""}]",0,779003,b4fff72255d11a109eafbdfdea922583ac9a9a75,9,3,1,30491,,,0,"Fix Cinder log parsing

The Cinder API log is currently written to a file called
cinder-wsgi.log, and the WSGI logs to cinder-api.log. Fluentd
then tries to parse the WSGI log as an OpenStack log which
results in 'got incomplete line' errors and prevents proper
ingestion of these logs.

Co-Authored-By: yaoning <yaoning@unitedstack.com>
Closes-Bug: 1916752
Change-Id: I3296dcc4780160cbf88bd18285571276f58bb249
(cherry picked from commit fa5511c75d79d8e258c4fa880d2c7a880b838bde)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/779003/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'releasenotes/notes/fix-cinder-logging-22fea4739begd6s.yaml']",3,b4fff72255d11a109eafbdfdea922583ac9a9a75,,--- fixes: - | Fixes some configuration issues around Cinder logging. `LP#1916752 <https://bugs.launchpad.net/kolla-ansible/+bug/1916752>`__ ,,9,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I3296dcc4780160cbf88bd18285571276f58bb249,openstack/kolla-ansible,stable/victoria,I3296dcc4780160cbf88bd18285571276f58bb249,Fix Cinder log parsing,MERGED,2021-03-06 15:36:15.000000000,2021-03-08 10:21:18.000000000,2021-03-08 10:19:52.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-06 15:36:15.000000000', 'files': ['ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'releasenotes/notes/fix-cinder-logging-22fea4739begd6s.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9f8543f1dcf5e421ff8838a5808977d5bbf39eb', 'message': ""Fix Cinder log parsing\n\nThe Cinder API log is currently written to a file called\ncinder-wsgi.log, and the WSGI logs to cinder-api.log. Fluentd\nthen tries to parse the WSGI log as an OpenStack log which\nresults in 'got incomplete line' errors and prevents proper\ningestion of these logs.\n\nCo-Authored-By: yaoning <yaoning@unitedstack.com>\nCloses-Bug: 1916752\nChange-Id: I3296dcc4780160cbf88bd18285571276f58bb249\n(cherry picked from commit fa5511c75d79d8e258c4fa880d2c7a880b838bde)\n""}]",0,779002,b9f8543f1dcf5e421ff8838a5808977d5bbf39eb,9,3,1,30491,,,0,"Fix Cinder log parsing

The Cinder API log is currently written to a file called
cinder-wsgi.log, and the WSGI logs to cinder-api.log. Fluentd
then tries to parse the WSGI log as an OpenStack log which
results in 'got incomplete line' errors and prevents proper
ingestion of these logs.

Co-Authored-By: yaoning <yaoning@unitedstack.com>
Closes-Bug: 1916752
Change-Id: I3296dcc4780160cbf88bd18285571276f58bb249
(cherry picked from commit fa5511c75d79d8e258c4fa880d2c7a880b838bde)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/779002/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'releasenotes/notes/fix-cinder-logging-22fea4739begd6s.yaml']",3,b9f8543f1dcf5e421ff8838a5808977d5bbf39eb,,--- fixes: - | Fixes some configuration issues around Cinder logging. `LP#1916752 <https://bugs.launchpad.net/kolla-ansible/+bug/1916752>`__ ,,9,1
openstack%2Ftripleo-ansible~master~If4f8bf9ffb91b102633d2b23d1b036dd2868c82f,openstack/tripleo-ansible,master,If4f8bf9ffb91b102633d2b23d1b036dd2868c82f,Allow a custom state when creating a container,ABANDONED,2021-02-23 10:00:27.000000000,2021-03-08 10:12:55.000000000,,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 10:00:27.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cecef3375108e715c795105a098f95fd5102a9f6', 'message': ""Allow a custom state when creating a container\n\nAt the moment we hardcode the container state to 'present'. This state\nwill basically make sure the container is present and also started.\nThere can be a need to be able to just create a container without\nstarting it, because we need to start it later in the deployment.\n\nLet's allow services to override this, while still defaulting to\n'present'.\n\nChange-Id: If4f8bf9ffb91b102633d2b23d1b036dd2868c82f\nCo-Authored-By: Carlos Gonalves <cgoncalves@redhat.com>\n""}]",0,777085,cecef3375108e715c795105a098f95fd5102a9f6,7,3,1,20172,,,0,"Allow a custom state when creating a container

At the moment we hardcode the container state to 'present'. This state
will basically make sure the container is present and also started.
There can be a need to be able to just create a container without
starting it, because we need to start it later in the deployment.

Let's allow services to override this, while still defaulting to
'present'.

Change-Id: If4f8bf9ffb91b102633d2b23d1b036dd2868c82f
Co-Authored-By: Carlos Gonalves <cgoncalves@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/777085/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'],1,cecef3375108e715c795105a098f95fd5102a9f6,bgpsupport," state: ""{{ lookup('dict', container_data).value.state | default('present') }}""", state: present,1,1
openstack%2Fironic~master~Ib182ee6f2894fcdcea369a60dc5bd922a16434e2,openstack/ironic,master,Ib182ee6f2894fcdcea369a60dc5bd922a16434e2,"Revert ""Update iDRAC doc with missing interfaces""",MERGED,2021-03-05 11:35:33.000000000,2021-03-08 10:11:59.000000000,2021-03-08 10:09:34.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-05 11:35:33.000000000', 'files': ['doc/source/admin/drivers/idrac.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a8b5137db342d0f13be20348c84284c171c4b063', 'message': 'Revert ""Update iDRAC doc with missing interfaces""\n\nThis reverts commit b0df0960e2c53a4fe6673ba0a1ed546ffd156dc7.\n\nReason for revert: Need to split in separate patches and backport virtual media boot part.\n\nChange-Id: Ib182ee6f2894fcdcea369a60dc5bd922a16434e2\n'}]",0,778835,a8b5137db342d0f13be20348c84284c171c4b063,8,4,1,27909,,,0,"Revert ""Update iDRAC doc with missing interfaces""

This reverts commit b0df0960e2c53a4fe6673ba0a1ed546ffd156dc7.

Reason for revert: Need to split in separate patches and backport virtual media boot part.

Change-Id: Ib182ee6f2894fcdcea369a60dc5bd922a16434e2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/778835/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/idrac.rst'],1,a8b5137db342d0f13be20348c84284c171c4b063,doc-update,"================ =================================================================== ===================================================``boot`` ``ipxe``, ``pxe````vendor`` ``idrac-wsman``, ``idrac``, ``no-vendor`` ================ ===================================================","================ ============================================================================ ============================================================``boot`` ``ipxe``, ``pxe``, ``idrac-redfish-virtual-media````vendor`` ``idrac-wsman``, ``idrac``, ``idrac-redfish``, ``no-vendor`` ================ ============================================================",5,5
openstack%2Fpython-tackerclient~master~I319c34febd719f08537195881f31416a0b127ef6,openstack/python-tackerclient,master,I319c34febd719f08537195881f31416a0b127ef6,Add links to readme.rst,NEW,2021-01-03 02:57:32.000000000,2021-03-08 09:56:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-01-03 02:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/1ea9a89c0c68ab234146b8109c3fb02313cfc8ba', 'message': 'Add links to readme.rst\n\nChange-Id: I319c34febd719f08537195881f31416a0b127ef6\n'}, {'number': 2, 'created': '2021-01-03 03:00:27.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/a9f44ec98e08efa64f37fa773796b35ef5202290', 'message': 'Add links to readme.rst\n\nChange-Id: I319c34febd719f08537195881f31416a0b127ef6\n'}]",0,768925,a9f44ec98e08efa64f37fa773796b35ef5202290,5,3,2,27383,,,0,"Add links to readme.rst

Change-Id: I319c34febd719f08537195881f31416a0b127ef6
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/25/768925/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1ea9a89c0c68ab234146b8109c3fb02313cfc8ba,update_url,* Bugs: https://bugs.launchpad.net/python-tackerclient * Blueprints: https://blueprints.launchpad.net/python-tackerclient * PyPi: https://pypi.org/project/python-keystoneclient,,3,0
openstack%2Fkuryr-kubernetes~master~I9c53bc4dd3529a48f5ba1ab77268d6a984a84808,openstack/kuryr-kubernetes,master,I9c53bc4dd3529a48f5ba1ab77268d6a984a84808,DevStack: Support dual stack,MERGED,2021-02-22 12:35:09.000000000,2021-03-08 09:28:15.000000000,2021-03-08 09:21:07.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-02-22 12:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4ac64349c30ba63174e9fbc3045ef9bb3fa81e27', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 2, 'created': '2021-02-22 14:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/86f0d2f368ba294aac0a663486efda79a51923b0', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 3, 'created': '2021-02-23 11:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fb98eee83f3ac0f92073dc3e7076f58ef3960c79', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 4, 'created': '2021-02-23 11:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9b10e5500a939eb2be6e37490ba71fa754d1ee4e', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 5, 'created': '2021-02-23 13:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/15d16fc769b7ae4e9f2300a35bb0840105030366', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 6, 'created': '2021-02-23 14:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/64ac7bf6eb3172e61bf5027ffbac64090d931743', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 7, 'created': '2021-02-25 08:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/666dca7c245a34af1e23f8760a45f901bc3f3fc7', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 8, 'created': '2021-02-25 11:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9419edfabd16d45c8fbd4795ef2ce4785b65e7de', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 9, 'created': '2021-02-25 16:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ec5e79b53532a4887c0a70ae5f1a0622ffded668', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 10, 'created': '2021-03-01 08:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fe4f0f64973010f4af81d411d92e4791103c5df0', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 11, 'created': '2021-03-01 15:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cbe4e38e78b30e7361b4d418610a0eeb44dcd4a4', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 12, 'created': '2021-03-02 10:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/daddd7a77b9fa4fcb2a6e0397fe63cdd1a94aec7', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 13, 'created': '2021-03-03 10:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/339544f52847a1f956e5edb518979c7ffa3e528a', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}, {'number': 14, 'created': '2021-03-03 16:17:07.000000000', 'files': ['.zuul.d/project.yaml', 'devstack/plugin.sh', '.zuul.d/octavia.yaml', 'devstack/lib/kuryr_kubernetes', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1c1d1d463a73d4b72819b45309b2e1555a98cea2', 'message': 'DevStack: Support dual stack\n\nThis commit makes sure DevStack plugin is able to run with dual stack\nand create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s\nis also configured with that.\n\nImplements: blueprint dual-stack\n\nChange-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808\n'}]",13,776927,1c1d1d463a73d4b72819b45309b2e1555a98cea2,65,5,14,11600,,,0,"DevStack: Support dual stack

This commit makes sure DevStack plugin is able to run with dual stack
and create 2 subnetpools, 2 service subnets and 2 pod subnets. The K8s
is also configured with that.

Implements: blueprint dual-stack

Change-Id: I9c53bc4dd3529a48f5ba1ab77268d6a984a84808
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/27/776927/5 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'devstack/plugin.sh', '.zuul.d/octavia.yaml', 'devstack/lib/kuryr_kubernetes', 'devstack/settings']",5,4ac64349c30ba63174e9fbc3045ef9bb3fa81e27,dual-stack,KURYR_DUAL_STACK=${KURYR_DUAL_STACK:-False},,176,164
openstack%2Freleases~master~I07d7fba5b9e80213246cb79e927e0e4a98b150a7,openstack/releases,master,I07d7fba5b9e80213246cb79e927e0e4a98b150a7,Release ipa-builder 2.5.0,MERGED,2021-03-03 18:08:59.000000000,2021-03-08 09:28:00.000000000,2021-03-08 09:28:00.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 18:08:59.000000000', 'files': ['deliverables/_independent/ironic-python-agent-builder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/09ea1d1edda39d03a4cff1e114e35c8200e86e5d', 'message': 'Release ipa-builder 2.5.0\n\nChange-Id: I07d7fba5b9e80213246cb79e927e0e4a98b150a7\n'}]",0,778529,09ea1d1edda39d03a4cff1e114e35c8200e86e5d,12,6,1,23851,,,0,"Release ipa-builder 2.5.0

Change-Id: I07d7fba5b9e80213246cb79e927e0e4a98b150a7
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/778529/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/ironic-python-agent-builder.yaml'],1,09ea1d1edda39d03a4cff1e114e35c8200e86e5d,ipa-builder-250, - version: 2.5.0 projects: - repo: openstack/ironic-python-agent-builder hash: 863735c202c1a5a32513635ce7f0b65675253751,,4,0
openstack%2Frequirements~master~Iaee5cfca77ce83514c3359301126592d45460a4b,openstack/requirements,master,Iaee5cfca77ce83514c3359301126592d45460a4b,Updated from generate-constraints,MERGED,2021-03-08 06:29:42.000000000,2021-03-08 09:27:29.000000000,2021-03-08 09:24:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 06:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5b2a5e57f8b854eef298ba19e8384e1585dd1783', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaee5cfca77ce83514c3359301126592d45460a4b\n'}, {'number': 2, 'created': '2021-03-08 06:32:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/79ff19fa57044575ea93b57c29c0e0b46028989d', 'message': 'Updated from generate-constraints\n\nChange-Id: Iaee5cfca77ce83514c3359301126592d45460a4b\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,779135,79ff19fa57044575ea93b57c29c0e0b46028989d,10,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Iaee5cfca77ce83514c3359301126592d45460a4b
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/779135/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5b2a5e57f8b854eef298ba19e8384e1585dd1783,openstack/requirements/constraints/noclob,arrow===1.0.3Pygments===2.8.1importlib-metadata===3.7.2pkg-resources===0.0.0tenacity===7.0.0,arrow===1.0.2Pygments===2.8.0importlib-metadata===3.7.0tenacity===6.3.1setuptools===54.1.0,5,5
openstack%2Freleases~master~I3035e6c233bbd8f1448a898235a7a4ef9ff7f3b3,openstack/releases,master,I3035e6c233bbd8f1448a898235a7a4ef9ff7f3b3,Release final os-brick for Wallaby,MERGED,2021-03-01 09:43:45.000000000,2021-03-08 09:12:31.000000000,2021-03-08 09:12:31.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/03787957204cddcc941535bf831b1421c140944b', 'message': 'Release final os-brick for Wallaby\n\nThis proposed a release for os-brick to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 4.2.0..28c200a\nf8de438 ScaleIO: More connection info backward compatibility\nc598659 Update TOX_CONSTRAINTS_FILE\n920a35f Add fixtures to test-reqs\n1432c36 FC: Fix not flushing on detach\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I3035e6c233bbd8f1448a898235a7a4ef9ff7f3b3\n'}, {'number': 2, 'created': '2021-03-05 23:35:57.000000000', 'files': ['deliverables/wallaby/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aa65c4952e927fc31b4bd24e45efc87c9cdfa16a', 'message': 'Release final os-brick for Wallaby\n\nRelease os-brick 4.3.0 and cut the stable branch.\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I3035e6c233bbd8f1448a898235a7a4ef9ff7f3b3\n'}]",0,777954,aa65c4952e927fc31b4bd24e45efc87c9cdfa16a,16,6,2,28522,,,0,"Release final os-brick for Wallaby

Release os-brick 4.3.0 and cut the stable branch.

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I3035e6c233bbd8f1448a898235a7a4ef9ff7f3b3
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/777954/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/os-brick.yaml'],1,03787957204cddcc941535bf831b1421c140944b,wallaby-lib-freeze, - version: 4.3.0 projects: - repo: openstack/os-brick hash: 28c200a8d3c43da04c70eba18269060af44de402,,4,0
openstack%2Fproject-config~master~I67912064487598c0e5b4ce3001276f42e0ebcad1,openstack/project-config,master,I67912064487598c0e5b4ce3001276f42e0ebcad1,Add custom cirros image with ahci module enabled to cache,MERGED,2021-03-03 22:28:19.000000000,2021-03-08 08:43:53.000000000,2021-03-04 01:00:55.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 22:28:19.000000000', 'files': ['nodepool/elements/cache-devstack/source-repository-images'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5ee0780486be4340c3585a115018dd4b192d5b72', 'message': 'Add custom cirros image with ahci module enabled to cache\n\nAs discussed on the ML [1] the nova-next job is looking to start testing\nthe q35 machine type. In order to do this *before* the next Cirros\nrelease a custom dev build of the Cirros image has been built with the\nahci module included, as is now required to allow for SATA based config\ndrives to work.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020823.html\n\nChange-Id: I67912064487598c0e5b4ce3001276f42e0ebcad1\n'}]",0,778590,5ee0780486be4340c3585a115018dd4b192d5b72,10,3,1,10135,,,0,"Add custom cirros image with ahci module enabled to cache

As discussed on the ML [1] the nova-next job is looking to start testing
the q35 machine type. In order to do this *before* the next Cirros
release a custom dev build of the Cirros image has been built with the
ahci module included, as is now required to allow for SATA based config
drives to work.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020823.html

Change-Id: I67912064487598c0e5b4ce3001276f42e0ebcad1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/778590/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/cache-devstack/source-repository-images'],1,5ee0780486be4340c3585a115018dd4b192d5b72,,cirros-0.5.1-dev-ahci-x86_64-disk.img file /opt/cache/files/cirros-0.5.1-dev-ahci-x86_64-disk.img https://yarwood.me.uk/cirros-0.5.1-dev-ahci/cirros-0.5.1-dev-ahci-x86_64-disk.img,,1,0
openstack%2Foctavia~master~I6453c177408e6d9db46317e3b3de26df3e44671c,openstack/octavia,master,I6453c177408e6d9db46317e3b3de26df3e44671c,Small fix in loadbalancer POST api-ref,MERGED,2021-02-01 18:01:36.000000000,2021-03-08 08:18:43.000000000,2021-03-08 08:16:39.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2021-02-01 18:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56420d758bd2585936d9b3f6a1be9853c5638d49', 'message': 'Small fix in loadbalancer POST api-ref\n\nThe user can set flavor_id and provider, but the provider of the flavor\nprofiles must match the provider parameter.\n\nChange-Id: I6453c177408e6d9db46317e3b3de26df3e44671c\n'}, {'number': 2, 'created': '2021-02-02 15:50:32.000000000', 'files': ['api-ref/source/v2/loadbalancer.inc'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6a7d8b2cdc6f06fea2858e074b4549c49bcd20d7', 'message': 'Small fix in loadbalancer POST api-ref\n\nThe user can set flavor_id and provider, but the provider of the flavor\nprofiles must match the provider parameter.\n\nChange-Id: I6453c177408e6d9db46317e3b3de26df3e44671c\n'}]",2,773460,6a7d8b2cdc6f06fea2858e074b4549c49bcd20d7,14,5,2,29244,,,0,"Small fix in loadbalancer POST api-ref

The user can set flavor_id and provider, but the provider of the flavor
profiles must match the provider parameter.

Change-Id: I6453c177408e6d9db46317e3b3de26df3e44671c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/60/773460/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/loadbalancer.inc'],1,56420d758bd2585936d9b3f6a1be9853c5638d49,,Setting both a flavor_id and a provider will result in a conflict error if the provider doesn't match the provider of the configured flavor profiles.,Setting both a flavor_id and a provider will result in a conflict error.,2,1
openstack%2Fcharm-vault~master~I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97,openstack/charm-vault,master,I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97,add restart and reload action,MERGED,2021-03-01 19:53:29.000000000,2021-03-08 08:07:09.000000000,2021-03-08 08:07:09.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 19:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e505834a40c390d0362067f2307142e1bcb29223', 'message': 'add restart and reload action\n\nCloses-Bug: #1916921\nChange-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97\n'}, {'number': 2, 'created': '2021-03-02 00:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e739a8f016b762a2aa8a75a58718fe2aebb8ce8b', 'message': 'add restart and reload action\n\nCloses-Bug: #1916921\nChange-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97\n'}, {'number': 3, 'created': '2021-03-03 14:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/07e169113b9ba43b3088c9028e70991adc2f635a', 'message': 'add restart and reload action\n\nCloses-Bug: #1916921\nChange-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/512\n'}, {'number': 4, 'created': '2021-03-03 15:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c05a1ae62a3329554e6eefc3cc35230c0f9e57be', 'message': 'add restart and reload action\n\nCloses-Bug: #1916921\nChange-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/512\n'}, {'number': 5, 'created': '2021-03-03 15:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/3d058e3def31c79b11ffc955dc91c0393b203684', 'message': 'add restart and reload action\n\nCloses-Bug: #1916921\nChange-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/512\n'}, {'number': 6, 'created': '2021-03-03 21:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/a1611639fadac9ee726d4bc61fb8e7806e7248a0', 'message': 'add restart and reload action\n\nCloses-Bug: #1916921\nChange-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/512\n'}, {'number': 7, 'created': '2021-03-05 00:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/92a9bd5747b7c4ea2e8383ad9ba48854d3d5b62e', 'message': 'add restart and reload action\n\nMain reasoning for this change is to add ability\nto reload Vault configuration by SIGHUP without\nthe Vault getting sealed.\nUpstream use of HUP with ExecReload can be found in the official docs\nhttps://www.vaultproject.io/guides/operations/deployment-guide#configure-systemd\nRestart was also added as an extra feature.\n\nCloses-Bug: #1916921\nChange-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/512\n'}, {'number': 8, 'created': '2021-03-05 15:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/27491d8c04e7ae937eb09a4bcd8ed8b3685a2aa8', 'message': 'add restart and reload action\n\nMain reasoning for this change is to add ability\nto reload Vault configuration by SIGHUP without\nthe Vault getting sealed.\nUpstream use of HUP with ExecReload can be found in the official docs\nhttps://www.vaultproject.io/guides/operations/deployment-guide#configure-systemd\nRestart was also added as an extra feature.\n\nCloses-Bug: #1916921\nChange-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/512\n'}, {'number': 9, 'created': '2021-03-07 00:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/19fe733b7b48d3e0f50e88dc54dfcf01a10fa416', 'message': 'add restart and reload action\n\nMain reasoning for this change is to add ability\nto reload Vault configuration by SIGHUP without\nthe Vault getting sealed.\nUpstream use of HUP with ExecReload can be found in the official docs\nhttps://www.vaultproject.io/guides/operations/deployment-guide#configure-systemd\nRestart was also added as an extra feature.\n\nCloses-Bug: #1916921\nChange-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/512\n'}, {'number': 10, 'created': '2021-03-07 00:23:36.000000000', 'files': ['src/actions/reload', 'src/README.md', 'src/actions.yaml', 'src/actions/restart', 'src/actions/actions.py', 'src/templates/vault.service.j2'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/6521e42c1c945354d56a22f21e76e1ffbfff4c99', 'message': 'add restart and reload action\n\nMain reasoning for this change is to add ability\nto reload Vault configuration by SIGHUP without\nthe Vault getting sealed.\nUpstream use of HUP with ExecReload can be found in the official docs\nhttps://www.vaultproject.io/guides/operations/deployment-guide#configure-systemd\nRestart was also added as an extra feature.\n\nCloses-Bug: #1916921\nChange-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/517\n'}]",12,778059,6521e42c1c945354d56a22f21e76e1ffbfff4c99,55,7,10,32930,,,0,"add restart and reload action

Main reasoning for this change is to add ability
to reload Vault configuration by SIGHUP without
the Vault getting sealed.
Upstream use of HUP with ExecReload can be found in the official docs
https://www.vaultproject.io/guides/operations/deployment-guide#configure-systemd
Restart was also added as an extra feature.

Closes-Bug: #1916921
Change-Id: I1a0a0f6aba5f94d76cd80cf37c970c65f354ad97
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/517
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/59/778059/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'src/actions/actions.py', 'src/templates/vault.service.j2']",3,e505834a40c390d0362067f2307142e1bcb29223,bug/1916921,ExecReload=/bin/kill --signal HUP $MAINPID,,48,0
openstack%2Ftripleo-ci~master~I9a58d847812f5af730d441bed872199d041c0fbc,openstack/tripleo-ci,master,I9a58d847812f5af730d441bed872199d041c0fbc,Collect default working-dir,ABANDONED,2021-03-08 07:13:51.000000000,2021-03-08 07:26:19.000000000,,[],"[{'number': 1, 'created': '2021-03-08 07:13:51.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e054d1a8fdcd21d3f925fe3ffa23c05f30e6c05d', 'message': ""Collect default working-dir\n\nWith change I0d803f695c725c58ef2e6b655753b6c8248d1b2f\nwe use a different working_dir which defaults to\n$HOME/overcloud-deploy-<stack> to store all files. Let's\ncollect it for ease of troubleshooting of CI jobs.\n\nChange-Id: I9a58d847812f5af730d441bed872199d041c0fbc\n""}]",0,779159,e054d1a8fdcd21d3f925fe3ffa23c05f30e6c05d,3,0,1,8833,,,0,"Collect default working-dir

With change I0d803f695c725c58ef2e6b655753b6c8248d1b2f
we use a different working_dir which defaults to
$HOME/overcloud-deploy-<stack> to store all files. Let's
collect it for ease of troubleshooting of CI jobs.

Change-Id: I9a58d847812f5af730d441bed872199d041c0fbc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/59/779159/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,e054d1a8fdcd21d3f925fe3ffa23c05f30e6c05d,, - /home/{{undercloud_user}}/overcloud-deploy-*/,,1,0
openstack%2Ftooz~master~Id5bcba601640c6267bd7b22d8c8c54965bd81289,openstack/tooz,master,Id5bcba601640c6267bd7b22d8c8c54965bd81289,[DNM] Gate test,ABANDONED,2021-03-05 13:21:54.000000000,2021-03-08 07:24:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-05 13:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/5bb7a08eff59ce6f7042709d46a4288333e81fbc', 'message': '[DNM] Gate test\n\nChange-Id: Id5bcba601640c6267bd7b22d8c8c54965bd81289\n'}, {'number': 2, 'created': '2021-03-05 15:31:11.000000000', 'files': ['requirements.txt', 'tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/69aedc5481061badb19e05693552f9ae6d7e7586', 'message': '[DNM] Gate test\n\nChange-Id: Id5bcba601640c6267bd7b22d8c8c54965bd81289\n'}]",0,778911,69aedc5481061badb19e05693552f9ae6d7e7586,7,1,2,4264,,,0,"[DNM] Gate test

Change-Id: Id5bcba601640c6267bd7b22d8c8c54965bd81289
",git fetch https://review.opendev.org/openstack/tooz refs/changes/11/778911/2 && git format-patch -1 --stdout FETCH_HEAD,['tooz/drivers/redis.py'],1,5bb7a08eff59ce6f7042709d46a4288333e81fbc,tooz-gate,#,,1,0
openstack%2Fcinder~master~I63f4ae165486451b8c3da2e5d7a40a4c2a96ad4a,openstack/cinder,master,I63f4ae165486451b8c3da2e5d7a40a4c2a96ad4a,Nimble: Add support for revert to snapshot,MERGED,2020-10-12 12:38:42.000000000,2021-03-08 07:21:25.000000000,2020-10-21 05:55:46.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16186}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 31868}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-10-12 12:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ff6654b16168a6fc7d0b570bf9b804d55e73045', 'message': 'Add support for reverting to snapshot in the Nimble Storage iSCSI and FC drivers\n\nblueprint nimble-add-revert-to-snapshot-support\n\nChange-Id: I63f4ae165486451b8c3da2e5d7a40a4c2a96ad4a\n'}, {'number': 2, 'created': '2020-10-12 17:05:08.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py', 'releasenotes/notes/1899512-7a872a2c19e53536.yaml', 'doc/source/configuration/block-storage/drivers/nimble-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/56ee0971b3a74240fdd008b090b46ec9917d1ee2', 'message': 'Nimble: Add support for revert to snapshot\n\nblueprint nimble-add-revert-to-snapshot-support\n\nChange-Id: I63f4ae165486451b8c3da2e5d7a40a4c2a96ad4a\n'}]",1,757554,56ee0971b3a74240fdd008b090b46ec9917d1ee2,119,28,2,16186,,,0,"Nimble: Add support for revert to snapshot

blueprint nimble-add-revert-to-snapshot-support

Change-Id: I63f4ae165486451b8c3da2e5d7a40a4c2a96ad4a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/757554/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py', 'doc/source/configuration/block-storage/drivers/nimble-volume-driver.rst']",4,8ff6654b16168a6fc7d0b570bf9b804d55e73045,new,* Volume Revert to Snapshot,,88,2
openstack%2Fsenlin~master~I49a90dc60649e01e6fead031b90f49fd29b2518e,openstack/senlin,master,I49a90dc60649e01e6fead031b90f49fd29b2518e,Add placeholder for lowercase node names,MERGED,2021-03-04 01:01:05.000000000,2021-03-08 07:15:24.000000000,2021-03-08 07:14:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2021-03-04 01:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/656cfb6f1e10d05f3c9e497083c34549d0829c20', 'message': ""Add placeholder for lowercase node names\n\nAdd placeholder 'r' in node.name.format cluster config option to use only\nlowercase random letters for node name.\n\nChange-Id: I49a90dc60649e01e6fead031b90f49fd29b2518e\n""}, {'number': 2, 'created': '2021-03-04 01:02:57.000000000', 'files': ['senlin/common/utils.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/7d6eebf5c34ce8eab8a53f96f35079a275710589', 'message': ""Add placeholder for lowercase node names\n\nAdd placeholder 'r' in node.name.format cluster config option to use\nonly lowercase random letters for node name.\n\nChange-Id: I49a90dc60649e01e6fead031b90f49fd29b2518e\n""}]",0,778598,7d6eebf5c34ce8eab8a53f96f35079a275710589,8,2,2,27224,,,0,"Add placeholder for lowercase node names

Add placeholder 'r' in node.name.format cluster config option to use
only lowercase random letters for node name.

Change-Id: I49a90dc60649e01e6fead031b90f49fd29b2518e
",git fetch https://review.opendev.org/openstack/senlin refs/changes/98/778598/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/common/utils.py'],1,656cfb6f1e10d05f3c9e497083c34549d0829c20,lowercase_nodename," pattern = re.compile(""(\$\d{0,8}[rRI])"") if t == ""R"" or t == ""r"": # random string if t == ""r"": sub = sub.lower()"," pattern = re.compile(""(\$\d{0,8}[RI])"") if t == ""R"": # random string",4,2
openstack%2Ftripleo-ansible~master~I7737f9fc5104b769ef78b76e20a019cc1dafba8f,openstack/tripleo-ansible,master,I7737f9fc5104b769ef78b76e20a019cc1dafba8f,"node provision, generate ansible inventory",MERGED,2021-01-19 01:06:05.000000000,2021-03-08 07:11:20.000000000,2021-03-08 07:09:51.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-19 01:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e77e378bd9662dc9ae78086c05f5af3af997e56', 'message': 'node provision, generate ansible inventory\n\nGenerate an ansible inventory from neutron resource\ninformation when network port management is enabled\nin the overcloud node provision cli workflow.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/771291\nDepends-On: https://review.opendev.org/771292\nChange-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f\n'}, {'number': 2, 'created': '2021-01-19 01:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f87edf4e7a1e9a270e7b3350101c214238a21bc2', 'message': 'node provision, generate ansible inventory\n\nGenerate an ansible inventory from neutron resource\ninformation when network port management is enabled\nin the overcloud node provision cli workflow.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/771291\nDepends-On: https://review.opendev.org/771292\nChange-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f\n'}, {'number': 3, 'created': '2021-01-21 12:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55dc0a8efc24b170fab6e1ab5006a1d9471faf64', 'message': 'node provision, generate ansible inventory\n\nGenerate an ansible inventory from neutron resource\ninformation when network port management is enabled\nin the overcloud node provision cli workflow.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/771291\nDepends-On: https://review.opendev.org/771292\nChange-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f\n'}, {'number': 4, 'created': '2021-01-21 12:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/554f71954aa5e32e40f4c6261ae757e1fff83eba', 'message': 'node provision, generate ansible inventory\n\nGenerate an ansible inventory from neutron resource\ninformation when network port management is enabled\nin the overcloud node provision cli workflow.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/771291\nDepends-On: https://review.opendev.org/771292\nChange-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f\n'}, {'number': 5, 'created': '2021-01-25 15:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/79115c1321b5ac7be68a474f344eb3c9c1bfe461', 'message': 'node provision, generate ansible inventory\n\nGenerate an ansible inventory from neutron resource\ninformation when network port management is enabled\nin the overcloud node provision cli workflow.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/771291\nDepends-On: https://review.opendev.org/771292\nChange-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f\n'}, {'number': 6, 'created': '2021-01-25 18:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c9b53e9570aae1d64f012ef80a2c6b5e89143f9', 'message': 'node provision, generate ansible inventory\n\nGenerate an ansible inventory from neutron resource\ninformation when network port management is enabled\nin the overcloud node provision cli workflow.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/771291\nDepends-On: https://review.opendev.org/771292\nChange-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f\n'}, {'number': 7, 'created': '2021-01-27 20:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3fa34b3eee19080137b55856ad839031258118a', 'message': 'node provision, generate ansible inventory\n\nGenerate an ansible inventory from neutron resource\ninformation when network port management is enabled\nin the overcloud node provision cli workflow.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/771291\nDepends-On: https://review.opendev.org/771292\nChange-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f\n'}, {'number': 8, 'created': '2021-02-03 14:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be363b1083ff009b78b7c1351e27d35de1eef043', 'message': 'node provision, generate ansible inventory\n\nGenerate an ansible inventory from neutron resource\ninformation when network port management is enabled\nin the overcloud node provision cli workflow.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/771291\nDepends-On: https://review.opendev.org/771292\nChange-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f\n'}, {'number': 9, 'created': '2021-02-10 13:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2a17baf58f88f4b9d91026cb0b5f3cbb7cf2f0f', 'message': 'node provision, generate ansible inventory\n\nGenerate an ansible inventory from neutron resource\ninformation when network port management is enabled\nin the overcloud node provision cli workflow.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/771291\nDepends-On: https://review.opendev.org/771292\nChange-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f\n'}, {'number': 10, 'created': '2021-03-07 11:40:06.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_generate_ansible_inventory.py', 'tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db36cf0b8fdf6693d226624b79a0a90cec104a15', 'message': 'node provision, generate ansible inventory\n\nGenerate an ansible inventory from neutron resource\ninformation when network port management is enabled\nin the overcloud node provision cli workflow.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/771291\nDepends-On: https://review.opendev.org/771292\nChange-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f\n'}]",3,771294,db36cf0b8fdf6693d226624b79a0a90cec104a15,40,7,10,24245,,,0,"node provision, generate ansible inventory

Generate an ansible inventory from neutron resource
information when network port management is enabled
in the overcloud node provision cli workflow.

Partial-Implements: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/771291
Depends-On: https://review.opendev.org/771292
Change-Id: I7737f9fc5104b769ef78b76e20a019cc1dafba8f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/771294/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_generate_ansible_inventory.py', 'tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml']",2,0e77e378bd9662dc9ae78086c05f5af3af997e56,network-data-v2," ssh_network: ctlplane python_interpreter: null ssh_private_key_file: /home/stack/.ssh/id_rsa - name: Generate ansible inventory tripleo_generate_ansible_inventory: plan: ""{{ stack_name }}"" work_dir: ""{{ output_dir }}"" ansible_ssh_user: ""{{ ssh_user_name }}"" ansible_python_interpreter: ""{{ python_interpreter }}"" ansible_ssh_private_key_file: ""{{ ssh_private_key_file }}"" when: manage_network_ports|default(false)",,14,1
openstack%2Ftripleo-ci~master~I848ee924911f5d210006d6cc96b3281300f95e53,openstack/tripleo-ci,master,I848ee924911f5d210006d6cc96b3281300f95e53,(wes) DNM test CI jobs - stream,ABANDONED,2021-03-07 18:00:23.000000000,2021-03-08 07:09:20.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-07 18:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9f801e2c56d26e3ad168e6ff09af89a7b87a53d1', 'message': 'DNM test CI jobs - stream\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/777655/\nChange-Id: I848ee924911f5d210006d6cc96b3281300f95e53\n'}, {'number': 2, 'created': '2021-03-07 21:27:51.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/multinode.yml', 'roles/tripleo-repos/tasks/main.yml', 'roles/oooci-build-images/tasks/main.yaml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'roles/common/tasks/main.yml', 'roles/run-test/tasks/main.yaml', 'toci-quickstart/config/testenv/ovb.yml', 'roles/prepare-node/tasks/main.yaml', 'roles/ceph-loop-device/defaults/main.yml', 'roles/build-containers/defaults/main.yaml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cca56d6c9fcfc0fc738b8a0e17c4b063de94cb05', 'message': '(wes) DNM test CI jobs - stream\n\nChange-Id: I848ee924911f5d210006d6cc96b3281300f95e53\n'}]",0,779104,cca56d6c9fcfc0fc738b8a0e17c4b063de94cb05,6,3,2,10969,,,0,"(wes) DNM test CI jobs - stream

Change-Id: I848ee924911f5d210006d6cc96b3281300f95e53
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/04/779104/2 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/multinode.yml', 'roles/tripleo-repos/tasks/main.yml', 'roles/oooci-build-images/tasks/main.yaml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'roles/common/tasks/main.yml', 'roles/run-test/tasks/main.yaml', 'toci-quickstart/config/testenv/ovb.yml', 'roles/prepare-node/tasks/main.yaml', 'roles/ceph-loop-device/defaults/main.yml', 'roles/build-containers/defaults/main.yaml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml']",13,9f801e2c56d26e3ad168e6ff09af89a7b87a53d1,testallstream,# test,,13,0
openstack%2Fmurano~master~I1b6c6485bc651fd0b87244a68204036dd4aa37f4,openstack/murano,master,I1b6c6485bc651fd0b87244a68204036dd4aa37f4,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-25 21:47:29.000000000,2021-03-08 07:08:18.000000000,2021-03-08 07:06:55.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-25 21:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/7032b4a4323d11c4e50cc69588a4221d9373a147', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1b6c6485bc651fd0b87244a68204036dd4aa37f4\n""}, {'number': 2, 'created': '2020-12-26 20:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/4b42a54465819b2c511f5d66d83f932a60789492', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1b6c6485bc651fd0b87244a68204036dd4aa37f4\n""}, {'number': 3, 'created': '2020-12-29 22:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/260e75d3cb476fe5fa38d63488a262e472805a64', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1b6c6485bc651fd0b87244a68204036dd4aa37f4\n""}, {'number': 4, 'created': '2021-02-11 18:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/32c55079ba1f4dce4f5850012f06af0a4dd5fbaa', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1b6c6485bc651fd0b87244a68204036dd4aa37f4\n""}, {'number': 5, 'created': '2021-02-12 17:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/16bd84b2f99a266eac1a6f4cd44e2a2e5fa30e33', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1b6c6485bc651fd0b87244a68204036dd4aa37f4\n""}, {'number': 6, 'created': '2021-02-17 00:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/87bc018be16eee523424c712482fa43dc28f1fbd', 'message': '[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of \'[oslo_policy] policy_file\'\'\nconfig option from \'policy.json\' to \'policy.yaml\' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\nCONF object needs to be initialized before policy enforcer(). That\nneed to remove cfg.CONF.unregister_opts from TestAuthUtils cleanup\nas this is taken care by cfg.clear() with proper workflow otherwise\nit end up with error\n""oslo_config.cfg.ArgsAlreadyParsedError: arguments\nalready parsed: reset before unregistering options""\n\n- https://b132754ee7062a9ab187-9add4719a9922a9385555a8552fc2366.ssl.cf5.rackcdn.com/768520/5/check/openstack-tox-py38/7964354/testr_results.html\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1b6c6485bc651fd0b87244a68204036dd4aa37f4\n'}, {'number': 7, 'created': '2021-03-07 01:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/45102b913db0dbcbe97d24392bcebf45ce5f2697', 'message': '[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of \'[oslo_policy] policy_file\'\'\nconfig option from \'policy.json\' to \'policy.yaml\' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\nCONF object needs to be initialized before policy enforcer(). That\nneed to remove cfg.CONF.unregister_opts from TestAuthUtils cleanup\nas this is taken care by cfg.clear() with proper workflow otherwise\nit end up with error\n""oslo_config.cfg.ArgsAlreadyParsedError: arguments\nalready parsed: reset before unregistering options""\n\n- https://b132754ee7062a9ab187-9add4719a9922a9385555a8552fc2366.ssl.cf5.rackcdn.com/768520/5/check/openstack-tox-py38/7964354/testr_results.html\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1b6c6485bc651fd0b87244a68204036dd4aa37f4\n'}, {'number': 8, 'created': '2021-03-07 23:50:54.000000000', 'files': ['murano/common/config.py', 'test-requirements.txt', 'murano/cmd/status.py', 'lower-constraints.txt', 'murano/tests/unit/cmd/test_status.py', 'doc/source/configuration/sample_policy.rst', 'murano/common/policy.py', 'requirements.txt', 'murano/tests/unit/common/test_auth_utils.py', 'murano/tests/unit/api/base.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-b41728d03ee008e8.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/murano/commit/1c87ebf9a8a79d990e4a1ba44452b50efae77883', 'message': '[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of \'[oslo_policy] policy_file\'\'\nconfig option from \'policy.json\' to \'policy.yaml\' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\nCONF object needs to be initialized before policy enforcer(). That\nneed to remove cfg.CONF.unregister_opts from TestAuthUtils cleanup\nas this is taken care by cfg.clear() with proper workflow otherwise\nit end up with error\n""oslo_config.cfg.ArgsAlreadyParsedError: arguments\nalready parsed: reset before unregistering options""\n\n- https://b132754ee7062a9ab187-9add4719a9922a9385555a8552fc2366.ssl.cf5.rackcdn.com/768520/5/check/openstack-tox-py38/7964354/testr_results.html\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1b6c6485bc651fd0b87244a68204036dd4aa37f4\n'}]",1,768520,1c87ebf9a8a79d990e4a1ba44452b50efae77883,21,2,8,8556,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

CONF object needs to be initialized before policy enforcer(). That
need to remove cfg.CONF.unregister_opts from TestAuthUtils cleanup
as this is taken care by cfg.clear() with proper workflow otherwise
it end up with error
""oslo_config.cfg.ArgsAlreadyParsedError: arguments
already parsed: reset before unregistering options""

- https://b132754ee7062a9ab187-9add4719a9922a9385555a8552fc2366.ssl.cf5.rackcdn.com/768520/5/check/openstack-tox-py38/7964354/testr_results.html

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I1b6c6485bc651fd0b87244a68204036dd4aa37f4
",git fetch https://review.opendev.org/openstack/murano refs/changes/20/768520/7 && git format-patch -1 --stdout FETCH_HEAD,"['murano/common/policy.py', 'requirements.txt', 'murano/common/config.py', 'murano/tests/unit/api/base.py', 'murano/cmd/status.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-b41728d03ee008e8.yaml', 'lower-constraints.txt', 'setup.cfg', 'murano/tests/unit/cmd/test_status.py', 'doc/source/configuration/sample_policy.rst']",10,7032b4a4323d11c4e50cc69588a4221d9373a147,policy-json-to-yaml,.. warning:: JSON formatted policy file is deprecated since Murano 11.0.0 (Wallaby). This `oslopolicy-convert-json-to-yaml`__ tool will migrate your existing JSON-formatted policy file to YAML in a backward-compatible way. .. __: https://docs.openstack.org/oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html ,,82,30
openstack%2Fsolum~master~I1d74949c9d19ff543571382f887b5ed40756ecb9,openstack/solum,master,I1d74949c9d19ff543571382f887b5ed40756ecb9,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-24 01:31:03.000000000,2021-03-08 06:56:51.000000000,2021-03-08 06:55:30.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-24 01:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/1a06f7de2cca10a050855ee9fe7558cf6a797c5e', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1d74949c9d19ff543571382f887b5ed40756ecb9\n""}, {'number': 2, 'created': '2021-02-11 18:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/2e61f8ef835c4d0c8232773bf79cdf4292fbf745', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1d74949c9d19ff543571382f887b5ed40756ecb9\n""}, {'number': 3, 'created': '2021-02-12 17:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/af97cf8fbc3cda2e9d5b073a9d00504c71504746', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1d74949c9d19ff543571382f887b5ed40756ecb9\n""}, {'number': 4, 'created': '2021-02-16 23:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/f48fcc282083d2ec3d672cf6eab17749772b6a0e', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1d74949c9d19ff543571382f887b5ed40756ecb9\n""}, {'number': 5, 'created': '2021-02-17 00:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/d79a56ad5ba931b4b6e31688de3dafff9e3731e0', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1d74949c9d19ff543571382f887b5ed40756ecb9\n""}, {'number': 6, 'created': '2021-02-17 16:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/affe3d24068293a2603bef9a262d4e1bfa6e5550', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1d74949c9d19ff543571382f887b5ed40756ecb9\n""}, {'number': 7, 'created': '2021-03-06 23:56:27.000000000', 'files': ['requirements.txt', 'solum/tests/cmd/test_status.py', 'solum/common/policy.py', 'solum/cmd/status.py', 'solum/common/config.py', 'lower-constraints.txt', 'releasenotes/notes/deprecate-json-formatted-policy-file-23144ea954ae3b4a.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/solum/commit/86765728bbe9d6287845d10f8a0201e8b3f447b6', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1d74949c9d19ff543571382f887b5ed40756ecb9\n""}]",0,768381,86765728bbe9d6287845d10f8a0201e8b3f447b6,19,2,7,8556,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I1d74949c9d19ff543571382f887b5ed40756ecb9
",git fetch https://review.opendev.org/openstack/solum refs/changes/81/768381/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'solum/tests/cmd/test_status.py', 'solum/common/policy.py', 'solum/cmd/status.py', 'solum/common/config.py', 'lower-constraints.txt', 'releasenotes/notes/deprecate-json-formatted-policy-file-23144ea954ae3b4a.yaml', 'setup.cfg']",8,1a06f7de2cca10a050855ee9fe7558cf6a797c5e,policy-json-to-yaml, solum.api.app = solum.common.config:set_config_defaults, solum.api.app = solum.common.config:set_cors_middleware_defaults,53,17
openstack%2Fmurano-apps~master~I1e49f9af932c6b55243d1375b23ae16f56503461,openstack/murano-apps,master,I1e49f9af932c6b55243d1375b23ae16f56503461,Migrate the functional job to Zuul v3,MERGED,2021-02-24 22:25:57.000000000,2021-03-08 06:07:54.000000000,2021-03-08 06:07:54.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 22:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-apps/commit/48dedf60ef0e84ca586c49fbe0aa62c491da657e', 'message': 'Migrate the functional job to Zuul v3\n\nUse devstack-tox-functional, running the custom tox environment\nafter exporting the devstack environment.\n\nChange-Id: I1e49f9af932c6b55243d1375b23ae16f56503461\n'}, {'number': 2, 'created': '2021-02-24 22:36:29.000000000', 'files': ['playbooks/legacy/murano-apps-refstackclient-unittest/run.yaml', '.zuul.yaml', 'playbooks/legacy/murano-apps-refstackclient-unittest/post.yaml'], 'web_link': 'https://opendev.org/openstack/murano-apps/commit/a35fdf8fdaf297d8dab639aa646e59b4629153b5', 'message': 'Migrate the functional job to Zuul v3\n\nUse devstack-tox-functional, running the custom tox environment\nafter exporting the devstack environment.\n\nChange-Id: I1e49f9af932c6b55243d1375b23ae16f56503461\n'}]",2,777478,a35fdf8fdaf297d8dab639aa646e59b4629153b5,8,2,2,10459,,,0,"Migrate the functional job to Zuul v3

Use devstack-tox-functional, running the custom tox environment
after exporting the devstack environment.

Change-Id: I1e49f9af932c6b55243d1375b23ae16f56503461
",git fetch https://review.opendev.org/openstack/murano-apps refs/changes/78/777478/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/murano-apps-refstackclient-unittest/run.yaml', '.zuul.yaml', 'playbooks/legacy/murano-apps-refstackclient-unittest/post.yaml']",3,48dedf60ef0e84ca586c49fbe0aa62c491da657e,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,11,182
openstack%2Fcinder~master~Ia43548a51fb009617b1deccac21ac0000a8a239a,openstack/cinder,master,Ia43548a51fb009617b1deccac21ac0000a8a239a,Fix: Extend fails after blockRebase,NEW,2020-11-18 13:34:57.000000000,2021-03-08 05:42:50.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 31868}, {'_account_id': 32171}]","[{'number': 1, 'created': '2020-11-18 13:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38ca3a789758841a18a289f735ad72c8f92b79df', 'message': ""Fix: Extend fails after blockRebase\n\nWhen we create a snapshot of attached volume and delete it, nova\nperforms a blockRebase operation which merges the base volume file\ninto the snapshot file.\nThis changes the volume's file name hence making it inaccessible\nsince the current code points to the original volume file.\nThis is fixed by storing the volume file path in the <volume>.info\nfile and updating it after every blockRebase operation.\nThis way we track the current volume file and can use it for operations\nlike extend volume.\n\nChange-Id: Ia43548a51fb009617b1deccac21ac0000a8a239a\nCloses-Bug: #1903319\n""}, {'number': 2, 'created': '2020-11-23 19:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c573b22b58b95002b48b451e311128e0aa9f57e7', 'message': ""Fix: Extend fails after blockRebase\n\nWhen we create a snapshot of attached volume and delete it, nova\nperforms a blockRebase operation which merges the base volume file\ninto the snapshot file.\nThis changes the volume's file name hence making it inaccessible\nsince the current code points to the original volume file.\nThis is fixed by storing the volume file path in the <volume>.info\nfile and updating it after every blockRebase operation.\nThis way we track the current volume file and can use it for operations\nlike extend volume.\n\nChange-Id: Ia43548a51fb009617b1deccac21ac0000a8a239a\nCloses-Bug: #1903319\n""}, {'number': 3, 'created': '2021-01-05 14:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94c806b4e6e6caed230c19fe56040af2321aa15f', 'message': ""Fix: Extend fails after blockRebase\n\nWhen we create a snapshot of attached volume and delete it, nova\nperforms a blockRebase operation which merges the base volume file\ninto the snapshot file.\nThis changes the volume's file name hence making it inaccessible\nsince the current code points to the original volume file.\nThis is fixed by storing the volume file path in the <volume>.info\nfile and updating it after every blockRebase operation.\nThis way we track the current volume file and can use it for operations\nlike extend volume.\n\nChange-Id: Ia43548a51fb009617b1deccac21ac0000a8a239a\nCloses-Bug: #1903319\n""}, {'number': 4, 'created': '2021-02-08 09:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1acbc9bbcbfd9c84897820ec44177f95e7199587', 'message': ""Fix: Extend fails after blockRebase\n\nWhen we create a snapshot of attached volume and delete it, nova\nperforms a blockRebase operation which merges the base volume file\ninto the snapshot file.\nThis changes the volume's file name hence making it inaccessible\nsince the current code points to the original volume file.\nThis is fixed by storing the volume file path in the <volume>.info\nfile and updating it after every blockRebase operation.\nThis way we track the current volume file and can use it for operations\nlike extend volume.\n\nChange-Id: Ia43548a51fb009617b1deccac21ac0000a8a239a\nCloses-Bug: #1903319\n""}, {'number': 5, 'created': '2021-02-16 10:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/029107755db636b62f7757fbedfd712c5598bd11', 'message': ""Fix: Extend fails after blockRebase\n\nWhen we create a snapshot of attached volume and delete it, nova\nperforms a blockRebase operation which merges the base volume file\ninto the snapshot file.\nThis changes the volume's file name hence making it inaccessible\nsince the current code points to the original volume file.\nThis is fixed by storing the volume file path in the <volume>.info\nfile and updating it after every blockRebase operation.\nThis way we track the current volume file and can use it for operations\nlike extend volume.\n\nChange-Id: Ia43548a51fb009617b1deccac21ac0000a8a239a\nCloses-Bug: #1903319\n""}, {'number': 6, 'created': '2021-03-05 21:42:51.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'releasenotes/notes/nfs-fix-extend-after-rebase-96c47cb1a92bf60a.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/nfs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7154e6e1bd8dce2d35528b16fede8dd27e35afdc', 'message': ""Fix: Extend fails after blockRebase\n\nWhen we create a snapshot of attached volume and delete it, nova\nperforms a blockRebase operation which merges the base volume file\ninto the snapshot file.\nThis changes the volume's file name hence making it inaccessible\nsince the current code points to the original volume file.\nThis is fixed by storing the volume file path in the <volume>.info\nfile and updating it after every blockRebase operation.\nThis way we track the current volume file and can use it for operations\nlike extend volume.\n\nChange-Id: Ia43548a51fb009617b1deccac21ac0000a8a239a\nCloses-Bug: #1903319\n""}]",6,763181,7154e6e1bd8dce2d35528b16fede8dd27e35afdc,152,18,6,27615,,,0,"Fix: Extend fails after blockRebase

When we create a snapshot of attached volume and delete it, nova
performs a blockRebase operation which merges the base volume file
into the snapshot file.
This changes the volume's file name hence making it inaccessible
since the current code points to the original volume file.
This is fixed by storing the volume file path in the <volume>.info
file and updating it after every blockRebase operation.
This way we track the current volume file and can use it for operations
like extend volume.

Change-Id: Ia43548a51fb009617b1deccac21ac0000a8a239a
Closes-Bug: #1903319
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/763181/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nfs.py', 'cinder/volume/drivers/remotefs.py']",2,38ca3a789758841a18a289f735ad72c8f92b79df,bp/add-support-store-volume-format-info," def _local_path_volume_info(self, volume): return '%s%s' % (self.local_path(volume), '.info') def _read_file(self, filename): """"""This method is to make it easier to stub out code for testing. Returns a string representing the contents of the file. """""" with open(filename, 'r') as f: return f.read() def _write_info_file(self, info_path, snap_info, is_volume=False): if not is_volume and 'active' not in snap_info.keys(): msg = _(""'active' must be present when writing snap_info."") raise exception.RemoteFSException(msg) if not (os.path.exists(info_path) or os.name == 'nt'): # We're not managing file permissions on Windows. # Plus, 'truncate' is not available. self._execute('truncate', ""-s0"", info_path, run_as_root=self._execute_as_root) self._set_rw_permissions(info_path) with open(info_path, 'w') as f: json.dump(snap_info, f, indent=1, sort_keys=True) def _read_info_file(self, info_path, empty_if_missing=False): """"""Return dict of snapshot information. :param info_path: path to file :param empty_if_missing: True=return empty dict if no file """""" if not os.path.exists(info_path): if empty_if_missing is True: return {} return json.loads(self._read_file(info_path)) info_path = self._local_path_volume_info(volume) info = self._read_info_file(info_path, empty_if_missing=True) info[volume.id] = volume.name self._write_info_file(info_path, info, is_volume=True) def local_path_after_rebase(self, volume): """"""Get volume path (mounted locally fs path) for given volume. The volume file path is tracked in the info file and updated after a blockRebase operation, this method returns the that path from info file. :param volume: volume reference """""" remotefs_share = volume.provider_location path = self._get_mount_point_for_share(remotefs_share) info_path = '%s%s' % (os.path.join(path, volume.name), '.info') info = self._read_info_file(info_path, empty_if_missing=True) return os.path.join(path, info[volume.id]) if 'active' in snap_info: return snap_info['active'] # No info file = no snapshots exist vol_path = os.path.basename(self.local_path(volume)) return vol_path snap_info[snapshot.volume.id] = info['snapshot_file']"," def _local_path_volume_info(self, volume): return '%s%s' % (self.local_path(volume), '.info') def _read_file(self, filename): """"""This method is to make it easier to stub out code for testing. Returns a string representing the contents of the file. """""" with open(filename, 'r') as f: return f.read() def _write_info_file(self, info_path, snap_info): if 'active' not in snap_info.keys(): msg = _(""'active' must be present when writing snap_info."") raise exception.RemoteFSException(msg) if not (os.path.exists(info_path) or os.name == 'nt'): # We're not managing file permissions on Windows. # Plus, 'truncate' is not available. self._execute('truncate', ""-s0"", info_path, run_as_root=self._execute_as_root) self._set_rw_permissions(info_path) with open(info_path, 'w') as f: json.dump(snap_info, f, indent=1, sort_keys=True) def _read_info_file(self, info_path, empty_if_missing=False): """"""Return dict of snapshot information. :param info_path: path to file :param empty_if_missing: True=return empty dict if no file """""" if not os.path.exists(info_path): if empty_if_missing is True: return {} return json.loads(self._read_file(info_path)) if not snap_info: # No info file = no snapshots exist vol_path = os.path.basename(self.local_path(volume)) return vol_path return snap_info['active']",72,49
openstack%2Fshade~master~I4fecbe536fda9d4232aa7902c72f06c2e32ea1e6,openstack/shade,master,I4fecbe536fda9d4232aa7902c72f06c2e32ea1e6,create port add host,ABANDONED,2021-01-19 07:24:19.000000000,2021-03-08 05:38:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-19 07:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/3625e47cab863ed7c3770be8b653434d70c6bf76', 'message': ""create port add host\n\nAdd 'binding:host_id' field when create port and update port\n\nChange-Id: I4fecbe536fda9d4232aa7902c72f06c2e32ea1e6\n""}, {'number': 2, 'created': '2021-01-19 07:36:16.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/058f650dbf81f256f82de74f95a08f07c4a03298', 'message': ""create port add host\n\nAdd 'binding:host_id' field when create port and update port\n\nChange-Id: I4fecbe536fda9d4232aa7902c72f06c2e32ea1e6\n""}]",0,771364,058f650dbf81f256f82de74f95a08f07c4a03298,6,1,2,32644,,,0,"create port add host

Add 'binding:host_id' field when create port and update port

Change-Id: I4fecbe536fda9d4232aa7902c72f06c2e32ea1e6
",git fetch https://review.opendev.org/openstack/shade refs/changes/64/771364/2 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,3625e47cab863ed7c3770be8b653434d70c6bf76,create_port_add_host," 'device_owner', 'device_id', 'binding:host_id') :param binding:host_id: The ID or name of the host. (Optional) 'extra_dhcp_opts', 'device_owner', 'device_id', 'binding:host_id') :param binding:host_id: The ID or name of the host. (Optional)"," 'device_owner', 'device_id') 'extra_dhcp_opts', 'device_owner', 'device_id')",4,3
openstack%2Fpython-octaviaclient~master~Ie05570e3cb00c0f55376a5e31ef9d885d7ea7cbd,openstack/python-octaviaclient,master,Ie05570e3cb00c0f55376a5e31ef9d885d7ea7cbd,Add batch udpating members settings,ABANDONED,2020-11-13 07:04:24.000000000,2021-03-08 05:38:45.000000000,,"[{'_account_id': 10068}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 07:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/6f906f27075e98117b3f6b22a707817bc73c444c', 'message': 'Add batch udpating members settings\n\nOctavia api has batch updating members settings, but python-octaviaclient does not.\n\nChange-Id: Ie05570e3cb00c0f55376a5e31ef9d885d7ea7cbd\n'}, {'number': 2, 'created': '2020-11-13 07:06:16.000000000', 'files': ['octaviaclient/api/v2/octavia.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/79f64519b63de1575d8873e5cbef73a35bbf8afb', 'message': 'Add batch udpating members settings\n\nOctavia api has batch updating members settings, but\npython-octaviaclient does not.\n\nChange-Id: Ie05570e3cb00c0f55376a5e31ef9d885d7ea7cbd\n'}]",0,762620,79f64519b63de1575d8873e5cbef73a35bbf8afb,7,4,2,32644,,,0,"Add batch udpating members settings

Octavia api has batch updating members settings, but
python-octaviaclient does not.

Change-Id: Ie05570e3cb00c0f55376a5e31ef9d885d7ea7cbd
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/20/762620/1 && git format-patch -1 --stdout FETCH_HEAD,['octaviaclient/api/v2/octavia.py'],1,6f906f27075e98117b3f6b22a707817bc73c444c,add_batch_updating_members_settings," @correct_return_codes def member_sets(self, pool_id, **kwargs): """"""Batch updating members settings :param pool_id: ID of the pool :param kwargs: A dict of the values of member to be updated :return: Response code from the API """""" url = const.BASE_MEMBER_URL.format(pool_id=pool_id) response = self._create(url, method='PUT', **kwargs) return response ",,15,0
openstack%2Fdevstack~master~Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,openstack/devstack,master,Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,Fix get-pip URL,ABANDONED,2021-03-08 04:43:13.000000000,2021-03-08 04:51:37.000000000,,[],"[{'number': 1, 'created': '2021-03-08 04:43:13.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/08595b2b359292e90c9c0559204643bf539e4e28', 'message': 'Fix get-pip URL\n\nThis has been failing to install with this message, which I think\nmeans we need to change our URL for getting pip:\n\n The URL you are using to fetch this script has changed, and this one will no\n longer work. Please use get-pip.py from the following URL instead:\n    https://bootstrap.pypa.io/pip/2.7/get-pip.py\n Sorry if this change causes any inconvenience for you!\n\nChange-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51\n'}]",0,779129,08595b2b359292e90c9c0559204643bf539e4e28,2,0,1,4393,,,0,"Fix get-pip URL

This has been failing to install with this message, which I think
means we need to change our URL for getting pip:

 The URL you are using to fetch this script has changed, and this one will no
 longer work. Please use get-pip.py from the following URL instead:
    https://bootstrap.pypa.io/pip/2.7/get-pip.py
 Sorry if this change causes any inconvenience for you!

Change-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51
",git fetch https://review.opendev.org/openstack/devstack refs/changes/29/779129/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,08595b2b359292e90c9c0559204643bf539e4e28,get-pip,"PIP_GET_PIP_URL=${PIP_GET_PIP_URL:-""https://bootstrap.pypa.io/pip/2.7/get-pip.py""}","PIP_GET_PIP_URL=${PIP_GET_PIP_URL:-""https://bootstrap.pypa.io/get-pip.py""}",1,1
openstack%2Fdesignate-dashboard~stable%2Fvictoria~I6bd42b175e74c9015db803eaaff09d908fae6a10,openstack/designate-dashboard,stable/victoria,I6bd42b175e74c9015db803eaaff09d908fae6a10,Fix lower-constrains job,ABANDONED,2021-03-08 03:25:56.000000000,2021-03-08 04:49:37.000000000,,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-08 03:25:56.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/d52c77bc3be3c6b2c196fe3c8d350f97f730263e', 'message': 'Fix lower-constrains job\n\nApplied the same fix as was done for designate.\n\nhacking in lower-constraints.txt was too old and we cannot pass\nthe pip resolver. Linters are not used in lower-constraints job,\nso we can safely drop them from lower-constraints.txt.\n\nChange-Id: I6bd42b175e74c9015db803eaaff09d908fae6a10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9cc36c1ecc83f29b3984cead7dd35d2355765a27)\n'}]",2,779124,d52c77bc3be3c6b2c196fe3c8d350f97f730263e,4,3,1,841,,,0,"Fix lower-constrains job

Applied the same fix as was done for designate.

hacking in lower-constraints.txt was too old and we cannot pass
the pip resolver. Linters are not used in lower-constraints job,
so we can safely drop them from lower-constraints.txt.

Change-Id: I6bd42b175e74c9015db803eaaff09d908fae6a10
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit 9cc36c1ecc83f29b3984cead7dd35d2355765a27)
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/24/779124/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt']",2,d52c77bc3be3c6b2c196fe3c8d350f97f730263e,temp-job-disable,PyYAML==3.13,flake8==2.5.5hacking==0.12.0mccabe==0.2.1pyflakes==0.8.1PyYAML==3.12,2,6
openstack%2Ftripleo-quickstart-extras~master~Ib1fa6bb3e69cead424837f97228ae1d829f4b2c7,openstack/tripleo-quickstart-extras,master,Ib1fa6bb3e69cead424837f97228ae1d829f4b2c7,Add dirs to be mounted when building containers - centos,MERGED,2021-03-05 19:54:59.000000000,2021-03-08 04:12:20.000000000,2021-03-07 21:27:11.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-05 19:54:59.000000000', 'files': ['roles/container-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d7e9ca5ba2555f0af51edfd7e68ef124b40e3a86', 'message': 'Add dirs to be mounted when building containers - centos\n\ncentos 8 stream jobs require additional dirs\nto be mounted when building containers.\nThis review adds those dirs when running Centos\n8 and newer versions.\n\nChange-Id: Ib1fa6bb3e69cead424837f97228ae1d829f4b2c7\n'}]",1,779036,d7e9ca5ba2555f0af51edfd7e68ef124b40e3a86,17,5,1,9976,,,0,"Add dirs to be mounted when building containers - centos

centos 8 stream jobs require additional dirs
to be mounted when building containers.
This review adds those dirs when running Centos
8 and newer versions.

Change-Id: Ib1fa6bb3e69cead424837f97228ae1d829f4b2c7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/36/779036/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/container-build/tasks/main.yaml'],1,d7e9ca5ba2555f0af51edfd7e68ef124b40e3a86,centos-8-stream-content-master," when: - (ansible_distribution == 'RedHat') or (ansible_distribution_major_version|int < 8) - name: Set container_image_build_volumes fact for CentOS set_fact: container_image_build_volumes: - ""/etc/yum.repos.d:/etc/distro.repos.d:z"" - ""/etc/pki/rpm-gpg:/etc/pki/rpm-gpg:z"" - ""/etc/dnf/vars:/etc/dnf/vars:z"" when: - ansible_distribution == 'CentOS' - ansible_distribution_major_version|int >= 8",,12,0
openstack%2Fironic~master~I6c3dc74705bde02bd02882d14838f184f8d4a5e3,openstack/ironic,master,I6c3dc74705bde02bd02882d14838f184f8d4a5e3,Allow instance_info to override node interface,MERGED,2021-02-24 16:52:01.000000000,2021-03-08 03:21:01.000000000,2021-03-08 03:19:40.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 16:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ce7fcb4e606b1dfe977034adbfa894b6bce1e7e', 'message': 'Allow instance_info to override node interface\n\nThis change allows instance_info values to override node interface\ndefinitions, so non-admins can make temporary changes to various\ninterfaces.\n\nStory: #2008652\nTask: #41918\nChange-Id: I6c3dc74705bde02bd02882d14838f184f8d4a5e3\n'}, {'number': 2, 'created': '2021-02-25 21:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/069438a58f4883eaa56ef47a9b2c8d2eb96f5660', 'message': 'Allow instance_info to override node interface\n\nThis change allows instance_info values to override node interface\ndefinitions, so non-admins can make temporary changes to various\ninterfaces.\n\nStory: #2008652\nTask: #41918\nChange-Id: I6c3dc74705bde02bd02882d14838f184f8d4a5e3\n'}, {'number': 3, 'created': '2021-03-05 18:33:49.000000000', 'files': ['ironic/tests/unit/common/test_driver_factory.py', 'doc/source/admin/index.rst', 'ironic/common/driver_factory.py', 'doc/source/admin/node-interface-override.rst', 'releasenotes/notes/instance-info-interface-override-287c7fcff1081469.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a165fe3264fd8f3a4bd7af9d7a958b9b3abf099f', 'message': 'Allow instance_info to override node interface\n\nThis change allows instance_info values to override node interface\ndefinitions, so non-admins can make temporary changes to various\ninterfaces.\n\nStory: #2008652\nTask: #41918\nChange-Id: I6c3dc74705bde02bd02882d14838f184f8d4a5e3\n'}]",4,777434,a165fe3264fd8f3a4bd7af9d7a958b9b3abf099f,33,3,3,7386,,,0,"Allow instance_info to override node interface

This change allows instance_info values to override node interface
definitions, so non-admins can make temporary changes to various
interfaces.

Story: #2008652
Task: #41918
Change-Id: I6c3dc74705bde02bd02882d14838f184f8d4a5e3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/777434/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_driver_factory.py', 'ironic/common/driver_factory.py', 'releasenotes/notes/instance-info-interface-override-287c7fcff1081469.yaml']",3,7ce7fcb4e606b1dfe977034adbfa894b6bce1e7e,bp/instance-info-interface-override,--- features: - | Allows node _interface values to be overridden by values in instance_info. This gives non-admins a temporary method of setting interface values.,,52,3
openstack%2Fmanila-tempest-plugin~master~I0c35aff993e67c1ef44c27580f8c2c829a6275f7,openstack/manila-tempest-plugin,master,I0c35aff993e67c1ef44c27580f8c2c829a6275f7,Remove a duplicated skipped functions,MERGED,2021-02-21 09:15:11.000000000,2021-03-08 02:27:41.000000000,2021-03-08 02:27:41.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-02-21 09:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/479fcf611aede2c964877ffe3c3e8d4fe825f186', 'message': 'Remove a duplicated skipped functions\n\n""skip_if_microversion_lt"" and ""skip_if_microversion_not_supported""\nfunctions already exist under utils module.\n\nChange-Id: I0c35aff993e67c1ef44c27580f8c2c829a6275f7\n'}, {'number': 2, 'created': '2021-02-21 09:51:00.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_share_types_extra_specs_negative.py', 'manila_tempest_tests/tests/api/test_replication_export_locations.py', 'manila_tempest_tests/tests/api/test_shares_actions_negative.py', 'manila_tempest_tests/tests/scenario/test_share_basic_ops.py', 'manila_tempest_tests/tests/api/admin/test_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_types_extra_specs.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_manage.py', 'manila_tempest_tests/tests/api/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_services_negative.py', 'manila_tempest_tests/tests/api/admin/test_scheduler_stats.py', 'manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/tests/api/test_share_group_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/admin/test_user_messages_negative.py', 'manila_tempest_tests/tests/api/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions_negative.py', 'manila_tempest_tests/tests/api/admin/test_quotas.py', 'manila_tempest_tests/tests/api/test_replication_negative.py', 'manila_tempest_tests/tests/api/test_availability_zones.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/admin/test_share_instances.py', 'manila_tempest_tests/tests/api/test_quotas.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'manila_tempest_tests/tests/api/admin/test_quotas_negative.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage.py', 'manila_tempest_tests/tests/api/admin/test_user_messages.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py', 'manila_tempest_tests/tests/api/test_share_networks.py', 'manila_tempest_tests/tests/api/admin/test_migration.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_share_networks_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types.py', 'manila_tempest_tests/tests/api/admin/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_instances_negative.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9dca2c46a16c2583fb62cfa7349648ed996d6cb8', 'message': 'Remove a duplicated skipped functions\n\n""skip_if_microversion_lt"" and ""skip_if_microversion_not_supported""\nfunctions already exist under utils module.\n\nChange-Id: I0c35aff993e67c1ef44c27580f8c2c829a6275f7\n'}]",0,776824,9dca2c46a16c2583fb62cfa7349648ed996d6cb8,11,5,2,19262,,,0,"Remove a duplicated skipped functions

""skip_if_microversion_lt"" and ""skip_if_microversion_not_supported""
functions already exist under utils module.

Change-Id: I0c35aff993e67c1ef44c27580f8c2c829a6275f7
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/24/776824/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/admin/test_share_types_extra_specs_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions_negative.py', 'manila_tempest_tests/tests/scenario/test_share_basic_ops.py', 'manila_tempest_tests/tests/api/admin/test_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_types_extra_specs.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_manage.py', 'manila_tempest_tests/tests/api/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_services_negative.py', 'manila_tempest_tests/tests/api/admin/test_scheduler_stats.py', 'manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/tests/api/test_share_group_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/admin/test_user_messages_negative.py', 'manila_tempest_tests/tests/api/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions_negative.py', 'manila_tempest_tests/tests/api/admin/test_quotas.py', 'manila_tempest_tests/tests/api/test_replication_negative.py', 'manila_tempest_tests/tests/api/test_availability_zones.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/admin/test_share_instances.py', 'manila_tempest_tests/tests/api/test_quotas.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'manila_tempest_tests/tests/api/admin/test_quotas_negative.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage.py', 'manila_tempest_tests/tests/api/admin/test_user_messages.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py', 'manila_tempest_tests/tests/api/test_share_networks.py', 'manila_tempest_tests/tests/api/admin/test_migration.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_share_networks_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types.py', 'manila_tempest_tests/tests/api/admin/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_instances_negative.py']",38,479fcf611aede2c964877ffe3c3e8d4fe825f186,skip_micro,"from manila_tempest_tests import utils @utils.skip_if_microversion_not_supported(""2.34"") @utils.skip_if_microversion_lt(""2.35"")"," @base.skip_if_microversion_not_supported(""2.34"") @base.skip_if_microversion_lt(""2.35"")",140,140
openstack%2Fdevstack~master~If05cb21611f72c65565d2b16917ecdf9e89c946f,openstack/devstack,master,If05cb21611f72c65565d2b16917ecdf9e89c946f,Add none rfb neigotiation type for vnc auth_schemes,ABANDONED,2021-03-01 04:24:17.000000000,2021-03-08 01:40:41.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-03-01 04:24:17.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4c55dd5dd7f37230bf2aa13095129cc1993ce780', 'message': 'Add none rfb neigotiation type for vnc auth_schemes\n\nAs we need to use `vencrypt` rfb neigotiation to reset the vnc password,\nwe should add `none` type to auth_schemes for the tempest case.\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nBlueprint: nova-support-webvnc-with-password-anthentication\n\nChange-Id: If05cb21611f72c65565d2b16917ecdf9e89c946f\n'}]",2,777923,4c55dd5dd7f37230bf2aa13095129cc1993ce780,5,7,1,31412,,,0,"Add none rfb neigotiation type for vnc auth_schemes

As we need to use `vencrypt` rfb neigotiation to reset the vnc password,
we should add `none` type to auth_schemes for the tempest case.

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Blueprint: nova-support-webvnc-with-password-anthentication

Change-Id: If05cb21611f72c65565d2b16917ecdf9e89c946f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/23/777923/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,4c55dd5dd7f37230bf2aa13095129cc1993ce780,bp/nova-support-webvnc-with-password-anthentication," iniset $conf vnc auth_schemes ""none, vencrypt"""," iniset $conf vnc auth_schemes ""vencrypt""",1,1
openstack%2Fmanila-tempest-plugin~master~Iade5b2658df59b7d6cdc9f69418afb16a0108353,openstack/manila-tempest-plugin,master,Iade5b2658df59b7d6cdc9f69418afb16a0108353,Fix extra specs for share type,MERGED,2021-02-17 19:43:29.000000000,2021-03-08 01:38:31.000000000,2021-03-08 01:38:31.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-02-17 19:43:29.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_multi_backend.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/3024bb2bae37a9c2d8cc84fabe998f01f0f434f8', 'message': 'Fix extra specs for share type\n\nIn case the backends don\'t have the same capabilities\nshare creation can fail. For instance, if one of the\nbackend has the ability to create share from snapshot\nand the other does not.\nIn case ""capability_create_share_from_snapshot_support""\nparameter is defined in tempest.conf and it is also\nspecified in extra specs one of the share will fail to\ncreate.\n\nChange-Id: Iade5b2658df59b7d6cdc9f69418afb16a0108353\n'}]",5,776259,3024bb2bae37a9c2d8cc84fabe998f01f0f434f8,16,5,1,19262,,,0,"Fix extra specs for share type

In case the backends don't have the same capabilities
share creation can fail. For instance, if one of the
backend has the ability to create share from snapshot
and the other does not.
In case ""capability_create_share_from_snapshot_support""
parameter is defined in tempest.conf and it is also
specified in extra specs one of the share will fail to
create.

Change-Id: Iade5b2658df59b7d6cdc9f69418afb16a0108353
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/59/776259/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/admin/test_multi_backend.py'],1,3024bb2bae37a9c2d8cc84fabe998f01f0f434f8,extra_specs," ""driver_handles_share_servers"": CONF.share.multitenancy_enabled, } st = cls.create_share_type(name=st_name, extra_specs=extra_specs)"," } st = cls.create_share_type( name=st_name, extra_specs=cls.add_extra_specs_to_dict(extra_specs))",3,3
openstack%2Fcyborg~master~Ifa8598715077696921bf535ea168f29b787292fd,openstack/cyborg,master,Ifa8598715077696921bf535ea168f29b787292fd,improve drivers with enumerate(),MERGED,2021-03-02 12:35:00.000000000,2021-03-08 01:17:25.000000000,2021-03-08 01:16:20.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-03-02 12:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7b866bb6ba090a19e30919d7b1a3adec42830cc7', 'message': 'improve drivers with enumerate()\n\nChange-Id: Ifa8598715077696921bf535ea168f29b787292fd\n'}, {'number': 2, 'created': '2021-03-03 02:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/152b63e8d628c2fc734a22daff96c9e6bb8a2b24', 'message': 'improve drivers with enumerate()\n\nChange-Id: Ifa8598715077696921bf535ea168f29b787292fd\n'}, {'number': 3, 'created': '2021-03-04 08:22:32.000000000', 'files': ['cyborg/accelerator/drivers/nic/intel/sysinfo.py', 'cyborg/accelerator/drivers/qat/intel/sysinfo.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/15b1d6287467f0d6b96269bbb05741f10ad050bf', 'message': 'improve drivers with enumerate()\n\nChange-Id: Ifa8598715077696921bf535ea168f29b787292fd\n'}]",4,778183,15b1d6287467f0d6b96269bbb05741f10ad050bf,18,4,3,25738,,,0,"improve drivers with enumerate()

Change-Id: Ifa8598715077696921bf535ea168f29b787292fd
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/83/778183/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/drivers/nic/intel/sysinfo.py', 'cyborg/accelerator/drivers/qat/intel/sysinfo.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py']",3,7b866bb6ba090a19e30919d7b1a3adec42830cc7,bug-fix01," for index, val in enumerate(values): for index, val in enumerate(values):", for val in values: index = index + 1 for val in values: index = index + 1,6,8
openstack%2Fcinder~master~Ib7856390053d75bd845476f25891923873bf3078,openstack/cinder,master,Ib7856390053d75bd845476f25891923873bf3078,Simplify composite check strings for project personas,MERGED,2021-02-17 02:36:10.000000000,2021-03-08 01:05:02.000000000,2021-03-07 18:05:06.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-17 02:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a26bc09e3fc1c74c95b0bad1d3a525011e6bc5a9', 'message': ""Simplify composite check strings for project personas\n\nThis commit adds two check strings to cinder's base policies that\nsimplify project personas.\n\nThe is_admin_project check isn't used in the admin_or_owner rule. The\nis_admin property of the context object actually evaluates to\ncontext_is_admin, which just checks if 'admin' is in context.roles.\n\nThis check string simplies the indirection. Future patches will likely\nchange many of the admin_or_owner checks to support system-scope, which\nwill require modifications to the existing deprecated defaults.\n\nThe other thing this change does is include project-reader and\nproject-member personas into cinder's default check strings. While\ncinder doesn't fully support system-scope, we can still pursue\nproject-personas, allowing a more consistent experience across OpenStack\nservices.\n\nChange-Id: Ib7856390053d75bd845476f25891923873bf3078\n""}, {'number': 2, 'created': '2021-02-17 17:48:52.000000000', 'files': ['cinder/policies/base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8e569864f46764fe4befbeb297254082c09bdea', 'message': ""Simplify composite check strings for project personas\n\nThis commit adds two check strings to cinder's base policies that\nsimplify project personas.\n\nThe is_admin_project check isn't used in the admin_or_owner rule. The\nis_admin property of the context object actually evaluates to\ncontext_is_admin, which just checks if 'admin' is in context.roles.\n\nThis check string simplies the indirection. Future patches will likely\nchange many of the admin_or_owner checks to support system-scope, which\nwill require modifications to the existing deprecated defaults.\n\nThe other thing this change does is include project-reader and\nproject-member personas into cinder's default check strings. While\ncinder doesn't fully support system-scope, we can still pursue\nproject-personas, allowing a more consistent experience across OpenStack\nservices.\n\nChange-Id: Ib7856390053d75bd845476f25891923873bf3078\n""}]",0,775959,f8e569864f46764fe4befbeb297254082c09bdea,75,5,2,5046,,,0,"Simplify composite check strings for project personas

This commit adds two check strings to cinder's base policies that
simplify project personas.

The is_admin_project check isn't used in the admin_or_owner rule. The
is_admin property of the context object actually evaluates to
context_is_admin, which just checks if 'admin' is in context.roles.

This check string simplies the indirection. Future patches will likely
change many of the admin_or_owner checks to support system-scope, which
will require modifications to the existing deprecated defaults.

The other thing this change does is include project-reader and
project-member personas into cinder's default check strings. While
cinder doesn't fully support system-scope, we can still pursue
project-personas, allowing a more consistent experience across OpenStack
services.

Change-Id: Ib7856390053d75bd845476f25891923873bf3078
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/775959/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/base.py'],1,a26bc09e3fc1c74c95b0bad1d3a525011e6bc5a9,secure-rbac,LEGACY_ADMIN_OR_PROJECT_MEMBER = ( 'role:admin or (role:member and project_id:%(project_id)s)' ) LEGACY_ADMIN_OR_PROJECT_READER = ( 'role:admin or (role:reader and project_id:%(project_id)s)' ),,6,0
openstack%2Fkarbor~master~I25a0dc5968c155cc7b6dd36e693bf0afde7a30f4,openstack/karbor,master,I25a0dc5968c155cc7b6dd36e693bf0afde7a30f4,add unittest for restore api,ABANDONED,2020-03-16 07:01:25.000000000,2021-03-08 01:04:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 29139}, {'_account_id': 29147}]","[{'number': 1, 'created': '2020-03-16 07:01:25.000000000', 'files': ['karbor/tests/unit/api/v1/test_restores.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/cc47b89d5735a0a2582617712e4e57b19e267cce', 'message': 'add unittest for restore api\n\nChange-Id: I25a0dc5968c155cc7b6dd36e693bf0afde7a30f4\n'}]",0,713167,cc47b89d5735a0a2582617712e4e57b19e267cce,8,3,1,29147,,,0,"add unittest for restore api

Change-Id: I25a0dc5968c155cc7b6dd36e693bf0afde7a30f4
",git fetch https://review.opendev.org/openstack/karbor refs/changes/67/713167/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/api/v1/test_restores.py'],1,cc47b89d5735a0a2582617712e4e57b19e267cce,," @mock.patch('karbor.api.v1.restores.RestoresController._restore_update') @mock.patch( 'karbor.objects.restore.Restore.create') def test_restore_create_failstatus(self, mock_restore_create, mock_restore_update): with mock.patch.object(self.controller.protection_api, 'restore', autospec=True) as mock_restore: error_msg = ""failed to create flow"" mock_restore.side_effect = exception.FlowError(flow='restore', error=error_msg) restore = self._restore_in_request_body() body = {""restore"": restore} req = fakes.HTTPRequest.blank('/v1/restores') self.controller.create(req, body=body) self.assertTrue(mock_restore_create.called) self.assertTrue(mock_restore_update.called) def test_restore_show_Notfound(self): with mock.patch.object(self.controller, '_restore_get', autospec=True) as mock_get: restore_id = '2a9ce1f3-cc1a-4516-9435-0ebb13caa398' mock_get.side_effect = exception.RestoreNotFound(restore_id) req = fakes.HTTPRequest.blank('/v1/restores') self.assertRaises(exc.HTTPNotFound, self.controller.show, req, restore_id) ",,26,0
openstack%2Ffreezer-api~master~I9799f2db01ad2cfd22c1f215414379cdf91053fb,openstack/freezer-api,master,I9799f2db01ad2cfd22c1f215414379cdf91053fb,DNM: tesing gate,ABANDONED,2021-03-07 23:46:10.000000000,2021-03-08 00:36:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-07 23:46:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/8cafdd34964f42b7bfd59800e2c797099e642b0a', 'message': 'DNM: tesing gate\n\nChange-Id: I9799f2db01ad2cfd22c1f215414379cdf91053fb\n'}]",0,779116,8cafdd34964f42b7bfd59800e2c797099e642b0a,3,1,1,8556,,,0,"DNM: tesing gate

Change-Id: I9799f2db01ad2cfd22c1f215414379cdf91053fb
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/16/779116/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8cafdd34964f42b7bfd59800e2c797099e642b0a,,#test gate,,1,0
openstack%2Fmagnum~master~I4c740de0ed3127a9d7fbb2a72e0ce8203058d8c9,openstack/magnum,master,I4c740de0ed3127a9d7fbb2a72e0ce8203058d8c9,DNM: tetsing tox cover job,ABANDONED,2021-03-07 23:40:44.000000000,2021-03-08 00:36:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-07 23:40:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/31884db9aef49158f9b415c642bd78e3843104d2', 'message': 'DNM: tetsing tox cover job\n\nChange-Id: I4c740de0ed3127a9d7fbb2a72e0ce8203058d8c9\n'}]",0,779115,31884db9aef49158f9b415c642bd78e3843104d2,3,1,1,8556,,,0,"DNM: tetsing tox cover job

Change-Id: I4c740de0ed3127a9d7fbb2a72e0ce8203058d8c9
",git fetch https://review.opendev.org/openstack/magnum refs/changes/15/779115/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,31884db9aef49158f9b415c642bd78e3843104d2,,, - openstack-python3-victoria-jobs - check-requirements - publish-openstack-docs-pti - release-notes-jobs-python3 check: jobs: - magnum-tempest-plugin-tests-api - magnum-container-build gate: queue: magnum jobs: - magnum-tempest-plugin-tests-api post: jobs: - magnum-container-publish,0,15
openstack%2Fneutron-vpnaas-dashboard~master~I603542251dbbecc0796839621f0eb8fba2d35a19,openstack/neutron-vpnaas-dashboard,master,I603542251dbbecc0796839621f0eb8fba2d35a19,Imported Translations from Zanata,MERGED,2020-12-11 07:35:49.000000000,2021-03-08 00:21:33.000000000,2021-03-08 00:20:16.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-12-11 07:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/22a94e17fbf167249467c485acb674705ad2bdec', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I603542251dbbecc0796839621f0eb8fba2d35a19\n'}, {'number': 2, 'created': '2021-03-03 07:23:26.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'neutron_vpnaas_dashboard/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/f0a1186b5f0328837fe4038d4dda766b4cb8987f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I603542251dbbecc0796839621f0eb8fba2d35a19\n'}]",0,766678,f0a1186b5f0328837fe4038d4dda766b4cb8987f,11,4,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I603542251dbbecc0796839621f0eb8fba2d35a19
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/78/766678/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po']",2,22a94e17fbf167249467c485acb674705ad2bdec,zanata/translations,"""POT-Creation-Date: 2020-10-14 12:55+0000\n""","""POT-Creation-Date: 2020-10-02 07:38+0000\n""msgid ""3.0.0.0rc1"" msgstr ""3.0.0.0rc1"" ",5,8
openstack%2Fsahara-dashboard~master~Iba394881cb0415923fdd31aa7b20efb9e69e52a0,openstack/sahara-dashboard,master,Iba394881cb0415923fdd31aa7b20efb9e69e52a0,Imported Translations from Zanata,MERGED,2021-03-03 08:11:05.000000000,2021-03-08 00:20:12.000000000,2021-03-08 00:20:12.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 08:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/3bc0e217d2b4caadcf07043a568ef6bdece34908', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iba394881cb0415923fdd31aa7b20efb9e69e52a0\n'}, {'number': 2, 'created': '2021-03-06 08:06:33.000000000', 'files': ['sahara_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'sahara_dashboard/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/084b61a636789ec32ddc9d34f34fc4ab7fb7ec0a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iba394881cb0415923fdd31aa7b20efb9e69e52a0\n'}]",0,778382,084b61a636789ec32ddc9d34f34fc4ab7fb7ec0a,9,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iba394881cb0415923fdd31aa7b20efb9e69e52a0
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/82/778382/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'sahara_dashboard/locale/zh_Hans/LC_MESSAGES/django.po']",2,3bc0e217d2b4caadcf07043a568ef6bdece34908,zanata/translations,"""POT-Creation-Date: 2021-01-28 11:53+0000\n""","""POT-Creation-Date: 2019-04-22 11:41+0000\n""",2,2
openstack%2Fneutron~stable%2Fvictoria~I8ced69f4f8e7d7c73da130a57e89e9d66590390b,openstack/neutron,stable/victoria,I8ced69f4f8e7d7c73da130a57e89e9d66590390b,[L3][HA] Retry when setting HA router GW status.,MERGED,2021-03-03 16:55:04.000000000,2021-03-08 00:05:26.000000000,2021-03-08 00:03:57.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:55:04.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9073d7c3bc9d1d9254294d698a6fae319fd22ad', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)\n'}]",0,778503,b9073d7c3bc9d1d9254294d698a6fae319fd22ad,30,4,1,16688,,,0,"[L3][HA] Retry when setting HA router GW status.

When a HA router instance changes the state (active, backup), the
GW interface is set to up or down. As reported in the bug, while
keepalived is configuring the interface, the interface disappears
and appears again from the kernel namespace, as seen in the udev
messages.

This patch is a workaround until the real issue is addressed (if
possible), retrying the interface configuration for a small period
of time.

Related-Bug: #1916024

Change-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b
(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/778503/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py']",2,b9073d7c3bc9d1d9254294d698a6fae319fd22ad,bug/1916024," try: utils.wait_until_true(ns_dev.exists, timeout=3) except utils.WaitTimeout: LOG.debug('Device %s may have been deleted concurrently', device_name) return False return True "," if not ns_dev.exists(): LOG.debug(""Device %s may concurrently be deleted."", device_name) return",14,5
openstack%2Fmanila~master~I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295,openstack/manila,master,I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295,Adds support min/max share size limited by share_type,MERGED,2020-12-08 11:40:49.000000000,2021-03-07 23:00:52.000000000,2021-03-07 22:59:36.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 32531}]","[{'number': 1, 'created': '2020-12-08 11:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/62c713354f79ffc7f880bcde425236afd66cea0b', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}, {'number': 2, 'created': '2020-12-08 11:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a2279f83719861991586ff76b39c77b169bff382', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nImplements: blueprint share-size-limited-by-share-type\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}, {'number': 3, 'created': '2020-12-09 08:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2b0d059002e835aa38d5a097eefc1f19c1d219cd', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nImplements: blueprint share-size-limited-by-share-type\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}, {'number': 4, 'created': '2020-12-10 09:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7252b2c319b41178f166171e4a99b363cda9ca2c', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nImplements: blueprint share-size-limited-by-share-type\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}, {'number': 5, 'created': '2020-12-11 02:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0ae835f11ce3cd4d12b64093bf169279d34d3658', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nImplements: blueprint share-size-limited-by-share-type\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}, {'number': 6, 'created': '2020-12-11 05:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c1ca5338bb7db23c21d14832371dafca765a28a5', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nImplements: blueprint share-size-limited-by-share-type\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}, {'number': 7, 'created': '2020-12-11 08:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b3031b24215691b49fd1ba788f0a680a8ccc2c53', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nImplements: blueprint share-size-limited-by-share-type\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}, {'number': 8, 'created': '2021-02-01 07:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/814d9b27b65d63d9bb3bae10be17b0a8a6299e4f', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start. when manage share,\ncheck it after get true size of share at manager layer.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nImplements: blueprint share-size-limited-by-share-type\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}, {'number': 9, 'created': '2021-02-05 08:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/de6147a8928b3edb917faed1a6645d1914c6069d', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start. when manage share,\ncheck it after get true size of share at manager layer.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nImplements: blueprint share-size-limited-by-share-type\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}, {'number': 10, 'created': '2021-03-06 06:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/86e48d10746e246ee5e00498f67524758099db53', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start. when manage share,\ncheck it after get true size of share at manager layer.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nImplements: blueprint share-size-limited-by-share-type\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}, {'number': 11, 'created': '2021-03-06 06:31:26.000000000', 'files': ['manila/api/common.py', 'manila/share/share_types.py', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'doc/source/admin/capabilities_and_extra_specs.rst', 'manila/tests/share/test_share_types.py', 'manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/share/manager.py', 'manila/common/constants.py', 'releasenotes/notes/min-max-share-size-on-type-a7c69046e5c57944.yaml', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/74415f6d4a7bb8b72be3e81abf79fd8597100f27', 'message': ""Adds support min/max share size limited by share_type\n\nAllows set min/max share size that can be created in\nextra_specs for each share_type.the share size will\nbe checked at API level as part of share create,\nextend, shrink, migration_start. when manage share,\ncheck it after get true size of share at manager layer.\nnew extra_specs keys are supported for set min/max\nsize of share.\n'provisioning:max_share_size'\n'provisioning:min_share_size'\n\nImplements: blueprint share-size-limited-by-share-type\nChange-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295\n""}]",38,765975,74415f6d4a7bb8b72be3e81abf79fd8597100f27,72,8,11,30407,,,0,"Adds support min/max share size limited by share_type

Allows set min/max share size that can be created in
extra_specs for each share_type.the share size will
be checked at API level as part of share create,
extend, shrink, migration_start. when manage share,
check it after get true size of share at manager layer.
new extra_specs keys are supported for set min/max
size of share.
'provisioning:max_share_size'
'provisioning:min_share_size'

Implements: blueprint share-size-limited-by-share-type
Change-Id: I5ce0fabf59bfca5ebaf0be5ffe9986e2b0480295
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/765975/11 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/share/share_types.py', 'manila/tests/share/test_share_types.py']",4,62c713354f79ffc7f880bcde425236afd66cea0b,bp/share-size-limited-by-share-type," def test_provision_filter_on_size(self): share_types.create(self.ctxt, ""type1"", {""key1"": ""val1"", ""key2"": ""val2""}) share_types.create(self.ctxt, ""type2"", {share_types.MIN_SIZE_KEY: ""12"", ""key3"": ""val3""}) share_types.create(self.ctxt, ""type3"", {share_types.MAX_SIZE_KEY: ""99"", ""key4"": ""val4""}) share_types.create(self.ctxt, ""type4"", {share_types.MIN_SIZE_KEY: ""24"", share_types.MAX_SIZE_KEY: ""99"", ""key4"": ""val4""}) # Make sure we don't raise if there are no min/max set type1 = share_types.get_share_type_by_name(self.ctxt, 'type1') share_types.provision_filter_on_size(self.ctxt, type1, ""11"") # verify minimum size requirements type2 = share_types.get_share_type_by_name(self.ctxt, 'type2') self.assertRaises(exception.InvalidInput, share_types.provision_filter_on_size, self.ctxt, type2, ""11"") share_types.provision_filter_on_size(self.ctxt, type2, ""12"") share_types.provision_filter_on_size(self.ctxt, type2, ""100"") # verify max size requirements type3 = share_types.get_share_type_by_name(self.ctxt, 'type3') self.assertRaises(exception.InvalidInput, share_types.provision_filter_on_size, self.ctxt, type3, ""100"") share_types.provision_filter_on_size(self.ctxt, type3, ""99"") share_types.provision_filter_on_size(self.ctxt, type3, ""1"") # verify min and max type4 = share_types.get_share_type_by_name(self.ctxt, 'type4') self.assertRaises(exception.InvalidInput, share_types.provision_filter_on_size, self.ctxt, type4, ""20"") self.assertRaises(exception.InvalidInput, share_types.provision_filter_on_size, self.ctxt, type4, ""100"") share_types.provision_filter_on_size(self.ctxt, type4, ""24"") share_types.provision_filter_on_size(self.ctxt, type4, ""99"") share_types.provision_filter_on_size(self.ctxt, type4, ""30"")",,180,0
openstack%2Fglance~master~Ie86e0ae16c81fb7aa353dd350f0a4f3cf852d893,openstack/glance,master,Ie86e0ae16c81fb7aa353dd350f0a4f3cf852d893,Fix test_cache_middleware ImageStub,MERGED,2021-03-07 16:15:14.000000000,2021-03-07 22:16:07.000000000,2021-03-07 22:14:43.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-07 16:15:14.000000000', 'files': ['glance/tests/unit/test_cache_middleware.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/81fea796d979cd8bba8211ee29b05f951ada1944', 'message': 'Fix test_cache_middleware ImageStub\n\nThis fixes the ImageStub in the test_cache_middleware module, which\ndoes not implement enough of a real image to be usable in the next\npatch where we need to dict() it. This does that refactor ahead of\ntime so that patch is smaller.\n\nChange-Id: Ie86e0ae16c81fb7aa353dd350f0a4f3cf852d893\n'}]",0,779103,81fea796d979cd8bba8211ee29b05f951ada1944,12,3,1,4393,,,0,"Fix test_cache_middleware ImageStub

This fixes the ImageStub in the test_cache_middleware module, which
does not implement enough of a real image to be usable in the next
patch where we need to dict() it. This does that refactor ahead of
time so that patch is smaller.

Change-Id: Ie86e0ae16c81fb7aa353dd350f0a4f3cf852d893
",git fetch https://review.opendev.org/openstack/glance refs/changes/03/779103/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/test_cache_middleware.py'],1,81fea796d979cd8bba8211ee29b05f951ada1944,secure-rbac,"from oslo_utils.fixture import uuidsentinel as uuidsfrom glance.tests.unit import test_policy def __init__(self, image_id, owner, extra_properties=None, visibility='private'): self.container_format = 'bare' self.disk_format = 'raw' self.updated_at = self.created_at = None self.name = 'foo' self.min_disk = self.min_ram = 0 self.protected = False self.os_hidden = False self.checksum = 0 self.os_hash_algo = 'md5' self.os_hash_value = None self.owner = owner self.virtual_size = 0 self.tags = [] image = ImageStub('test1', uuids.owner) image = ImageStub(image_id, request.context.project_id) request.environ['api.cache.image'] = image for k, v in image_meta.items(): setattr(image, k, v) image = ImageStub(image_id, request.context.project_id) image = ImageStub(image_id, request.context.project_id, extra_properties=extra_properties) image = ImageStub(image_id, request.context.project_id, extra_properties=extra_properties) image = test_policy.ImageStub( image_id, extra_properties=extra_properties) image = ImageStub(image_id, request.context.project_id, extra_properties=extra_properties)"," def __init__(self, image_id, extra_properties=None, visibility='private'): image = ImageStub('test1') request.environ['api.cache.image'] = ImageStub(image_id) image = ImageStub(image_id) image = ImageStub(image_id, extra_properties=extra_properties) image = ImageStub(image_id, extra_properties=extra_properties) image = ImageStub(image_id, extra_properties=extra_properties) image = ImageStub(image_id, extra_properties=extra_properties)",32,8
openstack%2Frequirements~master~Ieac1adaed9f40d51e8f18b981417d0052ea81c67,openstack/requirements,master,Ieac1adaed9f40d51e8f18b981417d0052ea81c67,Updated from generate-constraints,MERGED,2021-03-07 06:29:42.000000000,2021-03-07 22:01:37.000000000,2021-03-07 22:00:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-07 06:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/23358d17238038978ef93fcf0ab78239b1c86db2', 'message': 'Updated from generate-constraints\n\nChange-Id: Ieac1adaed9f40d51e8f18b981417d0052ea81c67\n'}, {'number': 2, 'created': '2021-03-07 18:23:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ac8bcb00122ccd4c4c8cc22612c14c3c37624026', 'message': 'Updated from generate-constraints\n\nHeld back tenacity-7.0.0\nReadded setuptools\nremoved pkg-resources\n\nChange-Id: Ieac1adaed9f40d51e8f18b981417d0052ea81c67\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,779091,ac8bcb00122ccd4c4c8cc22612c14c3c37624026,12,2,2,11131,,,0,"Updated from generate-constraints

Held back tenacity-7.0.0
Readded setuptools
removed pkg-resources

Change-Id: Ieac1adaed9f40d51e8f18b981417d0052ea81c67
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/779091/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,23358d17238038978ef93fcf0ab78239b1c86db2,openstack/requirements/constraints/noclob,croniter===1.0.8importlib-metadata===3.7.0keyring===23.0.0Sphinx===3.5.2pkg-resources===0.0.0tenacity===7.0.0,croniter===1.0.7importlib-metadata===3.7.0;python_version=='3.6'keyring===22.3.0Sphinx===3.5.1tenacity===6.3.1setuptools===54.1.0,6,6
openstack%2Fglance~master~Id5251b77fe1671594912e0dcfef7296007dab9b5,openstack/glance,master,Id5251b77fe1671594912e0dcfef7296007dab9b5,Make copy_image plugin use action wrapper,MERGED,2021-02-09 20:14:25.000000000,2021-03-07 22:00:14.000000000,2021-03-07 21:58:56.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 20:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9a19d9c4ce67311ef224c0bf332a2b3a760cc0b1', 'message': 'Make copy_image plugin use action wrapper\n\nThis makes the copy_image plugin use the action wrapper for its\nmanipulation of the image, in line with all the others. This adds\nimage_size and image_locations properties to the wrapper, which\ncopy-image needs.\n\nChange-Id: Id5251b77fe1671594912e0dcfef7296007dab9b5\n'}, {'number': 2, 'created': '2021-02-10 14:42:45.000000000', 'files': ['glance/tests/unit/async_/flows/test_copy_image.py', 'glance/async_/flows/api_image_import.py', 'glance/async_/flows/_internal_plugins/copy_image.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a3af0719975bd38cd6abdf17aa3a014adf3b46ac', 'message': 'Make copy_image plugin use action wrapper\n\nThis makes the copy_image plugin use the action wrapper for its\nmanipulation of the image, in line with all the others. This adds\nimage_size and image_locations properties to the wrapper, which\ncopy-image needs.\n\nChange-Id: Id5251b77fe1671594912e0dcfef7296007dab9b5\n'}]",0,774727,a3af0719975bd38cd6abdf17aa3a014adf3b46ac,20,2,2,4393,,,0,"Make copy_image plugin use action wrapper

This makes the copy_image plugin use the action wrapper for its
manipulation of the image, in line with all the others. This adds
image_size and image_locations properties to the wrapper, which
copy-image needs.

Change-Id: Id5251b77fe1671594912e0dcfef7296007dab9b5
",git fetch https://review.opendev.org/openstack/glance refs/changes/27/774727/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/flows/test_copy_image.py', 'glance/async_/flows/api_image_import.py', 'glance/async_/flows/_internal_plugins/copy_image.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",4,9a19d9c4ce67311ef224c0bf332a2b3a760cc0b1,bug/1914826," def test_image_size(self): mock_repo = mock.MagicMock() mock_image = mock_repo.get.return_value mock_image.image_id = IMAGE_ID1 mock_image.extra_properties = {'os_glance_import_task': TASK_ID1} mock_image.size = 123 wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1, TASK_ID1) with wrapper as action: self.assertEqual(123, action.image_size) def test_image_locations(self): mock_repo = mock.MagicMock() mock_image = mock_repo.get.return_value mock_image.image_id = IMAGE_ID1 mock_image.extra_properties = {'os_glance_import_task': TASK_ID1} mock_image.locations = {'some': {'complex': ['structure']}} wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1, TASK_ID1) with wrapper as action: self.assertEqual({'some': {'complex': ['structure']}}, action.image_locations) # Mutate our copy action.image_locations['foo'] = 'bar' # Make sure we did not mutate the image itself self.assertEqual({'some': {'complex': ['structure']}}, mock_image.locations) ",,52,4
openstack%2Fneutron~stable%2Fussuri~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,stable/ussuri,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-03 10:20:21.000000000,2021-03-07 21:36:48.000000000,2021-03-07 21:35:19.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 10:20:21.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/664ee1d6d4b5c183bdcbf9af3fa0c045eea91747', 'message': 'Fix wrong packet_type set for IPv6 GRE tunnels in OVS\n\nIn patch [1] it was by mistake set to ""legacy"" but it should be\n""legacy_l2"".\nThis patch fixes that mistake.\n\nCloses-bug: #1917448\n\n[1] https://review.opendev.org/c/openstack/neutron/+/763204\n\nConflicts:\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n\nChange-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238\n(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)\n'}]",0,778255,664ee1d6d4b5c183bdcbf9af3fa0c045eea91747,20,3,1,11975,,,0,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/778255/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",3,664ee1d6d4b5c183bdcbf9af3fa0c045eea91747,bug/1917448-stable/victoria-stable/ussuri," 'packet_type': 'legacy_l2',",,3,2
openstack%2Ftripleo-quickstart~master~I1d6376dc9706dffc5b822925889538b13235410c,openstack/tripleo-quickstart,master,I1d6376dc9706dffc5b822925889538b13235410c,Update master release to c8 stream repos/image,MERGED,2021-02-25 19:19:33.000000000,2021-03-07 18:19:55.000000000,2021-03-07 18:18:29.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-02-25 19:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9494399ab4d879eadf54f86832ebdb22c0670b5a', 'message': 'DNM: Update master release to c8 stream repos/image\n\nChange-Id: I1d6376dc9706dffc5b822925889538b13235410c\n'}, {'number': 2, 'created': '2021-03-04 15:00:47.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/139b5f35d95e29ee9757405cd7b2e4593580a975', 'message': 'Update master release to c8 stream repos/image\n\nPull centos-8 stream repos when running jobs on\nthe master branch.\nCheck jobs will match integration jobs - the repos\nfor which are being updated in\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/774911.\n\nTested in patch:\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/771717:\n(note the repos used in check jobs on that patch)\n\nChange-Id: I1d6376dc9706dffc5b822925889538b13235410c\n'}]",1,777655,139b5f35d95e29ee9757405cd7b2e4593580a975,21,7,2,9976,,,0,"Update master release to c8 stream repos/image

Pull centos-8 stream repos when running jobs on
the master branch.
Check jobs will match integration jobs - the repos
for which are being updated in
https://review.opendev.org/c/openstack/tripleo-quickstart/+/774911.

Tested in patch:
https://review.opendev.org/c/openstack/tripleo-ci/+/771717:
(note the repos used in check jobs on that patch)

Change-Id: I1d6376dc9706dffc5b822925889538b13235410c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/55/777655/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,9494399ab4d879eadf54f86832ebdb22c0670b5a,centos-8-stream-content-master," baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/BaseOS/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/AppStream/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/PowerTools/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/HighAvailability/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/extras/x86_64/os/baseos_undercloud_image_url: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2baseos_md5sum: ""70d5c374156f2ab92c058b6a6150f55e CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2"""," baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/BaseOS/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/AppStream/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/PowerTools/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/HighAvailability/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/extras/x86_64/os/baseos_undercloud_image_url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2baseos_md5sum: ""d89eb49f2c264d29225cecf2b6c83322 CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2""",7,7
openstack%2Fhorizon~master~If961997b85e6e03aa7349f20a5d7bd68834976a5,openstack/horizon,master,If961997b85e6e03aa7349f20a5d7bd68834976a5,Imported Translations from Zanata,MERGED,2021-03-03 06:48:45.000000000,2021-03-07 17:42:54.000000000,2021-03-07 17:41:39.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-03 06:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fcac2ac2ed2b6e6c964e6dc1e1a603c3bb4c6c65', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If961997b85e6e03aa7349f20a5d7bd68834976a5\n'}, {'number': 2, 'created': '2021-03-04 06:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3ba2a56a4823c88262c224bdb7ac274805774057', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If961997b85e6e03aa7349f20a5d7bd68834976a5\n'}, {'number': 3, 'created': '2021-03-05 06:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a2a9f78cca1c00b08779fd6bff511b72b6b772f2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If961997b85e6e03aa7349f20a5d7bd68834976a5\n'}, {'number': 4, 'created': '2021-03-06 06:53:12.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'horizon/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'horizon/locale/zh_Hant/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'openstack_auth/locale/eo/LC_MESSAGES/django.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-configuration.po', 'openstack_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_Hant/LC_MESSAGES/django.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'openstack_auth/locale/zh_Hant/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_Hant/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/djangojs.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-configuration.po', 'openstack_auth/locale/zh_Hans/LC_MESSAGES/django.po', 'horizon/locale/zh_Hant/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po', 'horizon/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/87edcb619394aebdd022683441f66536f7d3a9c0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If961997b85e6e03aa7349f20a5d7bd68834976a5\n'}]",0,778366,87edcb619394aebdd022683441f66536f7d3a9c0,15,3,4,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If961997b85e6e03aa7349f20a5d7bd68834976a5
",git fetch https://review.opendev.org/openstack/horizon refs/changes/66/778366/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/zh_Hant/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_Hans/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_Hant/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'horizon/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/zh_Hant/LC_MESSAGES/djangojs.po', 'horizon/locale/zh_Hant/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'horizon/locale/zh_Hant/LC_MESSAGES/django.po', 'horizon/locale/zh_Hans/LC_MESSAGES/django.po']",11,fcac2ac2ed2b6e6c964e6dc1e1a603c3bb4c6c65,zanata/translations,"""POT-Creation-Date: 2021-03-02 20:20+0000\n""","""POT-Creation-Date: 2019-09-20 14:33+0000\n""",15,12
openstack%2Ftripleo-ci~master~If0fff013de9029c98c5d5630f6ef2faeb899df8b,openstack/tripleo-ci,master,If0fff013de9029c98c5d5630f6ef2faeb899df8b,Add volume_mounts for centos 8 container builds,MERGED,2021-03-04 21:49:11.000000000,2021-03-07 16:07:20.000000000,2021-03-07 16:07:20.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 21:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5cf062edc3922b12e2f3f6970da0cf5fc90624d5', 'message': 'Add volume_mounts for centos 8 container builds\n\ncentos 8 stream jobs require additional dirs\nto be mounted when building containers.\nThis reviwe adds those dir to the centos-8\nvars.\n\nChange-Id: If0fff013de9029c98c5d5630f6ef2faeb899df8b\n'}, {'number': 2, 'created': '2021-03-05 15:35:25.000000000', 'files': ['roles/build-containers/vars/centos-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1a28214ec75908e3285611fb1dc319f5c7f2bb6a', 'message': 'Add volume_mounts for centos 8 container builds\n\ncentos 8 stream jobs require additional dirs\nto be mounted when building containers.\nThis reviwe adds those dir to the centos-8\nvars.\n\nChange-Id: If0fff013de9029c98c5d5630f6ef2faeb899df8b\n'}]",0,778782,1a28214ec75908e3285611fb1dc319f5c7f2bb6a,20,5,2,9976,,,0,"Add volume_mounts for centos 8 container builds

centos 8 stream jobs require additional dirs
to be mounted when building containers.
This reviwe adds those dir to the centos-8
vars.

Change-Id: If0fff013de9029c98c5d5630f6ef2faeb899df8b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/82/778782/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/vars/centos-8.yml'],1,5cf062edc3922b12e2f3f6970da0cf5fc90624d5,centos-8-stream-content-master," volume_mounts: - ""/etc/yum.repos.d:/etc/distro.repos.d:z"" - ""/etc/pki/rpm-gpg:/etc/pki/rpm-gpg:z"" - ""/etc/dnf/vars:/etc/dnf/vars:z""",,5,0
openstack%2Fneutron~stable%2Fstein~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/stein,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:37:30.000000000,2021-03-07 16:06:57.000000000,2021-03-07 16:05:30.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 09:37:30.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/51ba854a0c326390737c4f83a283c34805c819d4', 'message': 'Add some wait time between stopping and starting again ovsdb monitor\n\nIn functional tests of the ovsdb_monitor, sometimes during high load\nof the host where tests are run, ""error"" message from the killed process\ncan be received by neutron\'s async_process after new process was\nalready spawned.\nAnd that causes failure of the test as new ovsdb_monitor will not\nreceive events which are expected.\n\nTo workaround that issue this patch adds sleep for few seconds between\nstopping old and starting new ovsdb_monitor process.\n\nCloses-Bug: #1907068\nChange-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c\n(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)\n'}]",0,778828,51ba854a0c326390737c4f83a283c34805c819d4,20,3,1,11975,,,0,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/778828/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'],1,51ba854a0c326390737c4f83a283c34805c819d4,bug/1907068-stable/victoria-stable/ussuri-stable/train-stable/stein,"import time # NOTE(slaweq): lets give async process few more seconds to receive # ""error"" from the old ovsdb monitor process and then start new one time.sleep(5)",,4,0
openstack%2Fglance~master~Ib1138ee2cd0383f14c710716f3c103a146b0c4dd,openstack/glance,master,Ib1138ee2cd0383f14c710716f3c103a146b0c4dd,Make inject_image_metadata use action wrapper,MERGED,2021-02-09 20:14:25.000000000,2021-03-07 16:06:54.000000000,2021-03-07 16:05:36.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 20:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5adc1682449a8eb5e040448314a4337f842b2cfb', 'message': 'Make inject_image_metadata use action wrapper\n\nThis makes the inject_image_metadata task use the ImportActionWrapper.\nBecause of the inbuilt rejection of internal os_glance_* property\nmanipulation, this also brings an operator-visible change to the\ninjection behavior. Specifically, os_glance_* keys can no longer be\ninjected via config (nor should they ever have been).\n\nChange-Id: Ib1138ee2cd0383f14c710716f3c103a146b0c4dd\n'}, {'number': 2, 'created': '2021-02-10 14:42:45.000000000', 'files': ['glance/async_/flows/plugins/inject_image_metadata.py', 'glance/tests/unit/async_/flows/plugins/test_inject_image_metadata.py', 'releasenotes/notes/os-glance-injection-disallowed-5dad244dfb071938.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/2e06864b2c0126aabd57df84a0830789663f2119', 'message': 'Make inject_image_metadata use action wrapper\n\nThis makes the inject_image_metadata task use the ImportActionWrapper.\nBecause of the inbuilt rejection of internal os_glance_* property\nmanipulation, this also brings an operator-visible change to the\ninjection behavior. Specifically, os_glance_* keys can no longer be\ninjected via config (nor should they ever have been).\n\nChange-Id: Ib1138ee2cd0383f14c710716f3c103a146b0c4dd\n'}]",0,774726,2e06864b2c0126aabd57df84a0830789663f2119,29,2,2,4393,,,0,"Make inject_image_metadata use action wrapper

This makes the inject_image_metadata task use the ImportActionWrapper.
Because of the inbuilt rejection of internal os_glance_* property
manipulation, this also brings an operator-visible change to the
injection behavior. Specifically, os_glance_* keys can no longer be
injected via config (nor should they ever have been).

Change-Id: Ib1138ee2cd0383f14c710716f3c103a146b0c4dd
",git fetch https://review.opendev.org/openstack/glance refs/changes/26/774726/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/async_/flows/plugins/inject_image_metadata.py', 'glance/tests/unit/async_/flows/plugins/test_inject_image_metadata.py', 'releasenotes/notes/os-glance-injection-disallowed-5dad244dfb071938.yaml']",3,5adc1682449a8eb5e040448314a4337f842b2cfb,bug/1914826,"--- upgrade: - | The ``inject_image_metadata`` task will no longer allow setting properties in the reserved ``os_glance_*`` namespace, in line with the blanket prohibition on such via the API. It has always been dangerous to do this, so no operator should have any such configuration in production. If any keys in this namespace are set, they will be dropped (and logged) during the injection process. ",,32,22
openstack%2Fkuryr~master~I5f761b1d4bd04345bb339d251b8de95817a76cce,openstack/kuryr,master,I5f761b1d4bd04345bb339d251b8de95817a76cce,remove unicode from code,MERGED,2021-03-04 02:39:34.000000000,2021-03-07 15:41:40.000000000,2021-03-07 15:40:33.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-03-04 02:39:34.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/8ef17575c8498c82d3484866e5da11f877145537', 'message': ""remove unicode from code\n\nIn Python 3, all strings are represented in Unicode.In Python 2 are\nstored internally as 8-bit ASCII, hence it is required to attach 'u'\nto make it Unicode. It is no longer necessary now.'\n\nChange-Id: I5f761b1d4bd04345bb339d251b8de95817a76cce\n""}]",0,778603,8ef17575c8498c82d3484866e5da11f877145537,10,4,1,32291,,,0,"remove unicode from code

In Python 3, all strings are represented in Unicode.In Python 2 are
stored internally as 8-bit ASCII, hence it is required to attach 'u'
to make it Unicode. It is no longer necessary now.'

Change-Id: I5f761b1d4bd04345bb339d251b8de95817a76cce
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/03/778603/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,8ef17575c8498c82d3484866e5da11f877145537,,"copyright = '2016, Kuryr developers'# html_title = 'Kuryr v0.0.1a' (master_doc, 'kuryr.tex', 'Kuryr Documentation', 'Kuryr Developers', 'manual'), (master_doc, 'kuryr', 'Kuryr Documentation', ['Kuryr developers'], 1) (master_doc, 'kuryr', 'Kuryr Documentation', 'Kuryr developers', 'kuryr', 'One line description of project.',","copyright = u'2016, Kuryr developers'# html_title = u'Kuryr v0.0.1a' (master_doc, 'kuryr.tex', u'Kuryr Documentation', u'Kuryr Developers', 'manual'), (master_doc, 'kuryr', u'Kuryr Documentation', [u'Kuryr developers'], 1) (master_doc, 'kuryr', u'Kuryr Documentation', u'Kuryr developers', 'kuryr', 'One line description of project.',",11,11
openstack%2Fneutron~stable%2Fussuri~I8ced69f4f8e7d7c73da130a57e89e9d66590390b,openstack/neutron,stable/ussuri,I8ced69f4f8e7d7c73da130a57e89e9d66590390b,[L3][HA] Retry when setting HA router GW status.,MERGED,2021-03-03 16:55:55.000000000,2021-03-07 14:26:00.000000000,2021-03-07 14:24:03.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:55:55.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/590551dbbff5ba0b2a43772c3ef117377f783db8', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)\n'}]",0,778504,590551dbbff5ba0b2a43772c3ef117377f783db8,17,3,1,16688,,,0,"[L3][HA] Retry when setting HA router GW status.

When a HA router instance changes the state (active, backup), the
GW interface is set to up or down. As reported in the bug, while
keepalived is configuring the interface, the interface disappears
and appears again from the kernel namespace, as seen in the udev
messages.

This patch is a workaround until the real issue is addressed (if
possible), retrying the interface configuration for a small period
of time.

Related-Bug: #1916024

Change-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b
(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/778504/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py']",2,590551dbbff5ba0b2a43772c3ef117377f783db8,bug/1916024," try: utils.wait_until_true(ns_dev.exists, timeout=3) except utils.WaitTimeout: LOG.debug('Device %s may have been deleted concurrently', device_name) return False return True "," if not ns_dev.exists(): LOG.debug(""Device %s may concurrently be deleted."", device_name) return",14,5
openstack%2Fnova~master~If9f3ede3e8449f9a6c8d1da927974c0a73923d51,openstack/nova,master,If9f3ede3e8449f9a6c8d1da927974c0a73923d51,libvirt: Add support for virtio-based input devices,MERGED,2020-10-07 16:09:44.000000000,2021-03-07 14:25:55.000000000,2021-03-07 14:24:16.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-07 16:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d44b230b6f858502cfb084bfa57437507a6b522d', 'message': ""libvirt: Add support for virtio-based input devices\n\nThe USB-based tablet is often the only USB device in an x86 instance,\nwhile the USB-based keyboard is often the only such device in an AArch64\ninstance (x86 have PS2 keyboards and mice). Replacing these with\nvirtio-based devices can eliminate the need to have a USB host adapter\nin the instance. Enable just that possibility by adding a new value\nimage metadata property, 'hw_input_bus', along with two new values for\nthe 'hw_pointer_model' image metadata property, 'tablet' and 'mouse',\nthe former of which replaces the old 'usbtablet' value and the latter of\nwhich is added for completeness' sake.\n\nChange-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-10-08 09:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16d8e045d386cad5b3fdfe59fa949a3ae73fe8df', 'message': ""libvirt: Add support for virtio-based input devices\n\nThe USB-based tablet is often the only USB device in an x86 instance,\nwhile the USB-based keyboard is often the only such device in an AArch64\ninstance (x86 have PS2 keyboards and mice). Replacing these with\nvirtio-based devices can eliminate the need to have a USB host adapter\nin the instance. Enable just that possibility by adding a new value\nimage metadata property, 'hw_input_bus', along with two new values for\nthe 'hw_pointer_model' image metadata property, 'tablet' and 'mouse',\nthe former of which replaces the old 'usbtablet' value and the latter of\nwhich is added for completeness' sake.\n\nChange-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-10-09 15:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3320cbddbfa4cfabafc0be7dae8974adcf9fde02', 'message': ""libvirt: Add support for virtio-based input devices\n\nThe USB-based tablet is often the only USB device in an x86 instance,\nwhile the USB-based keyboard is often the only such device in an AArch64\ninstance (x86 have PS2 keyboards and mice). Replacing these with\nvirtio-based devices can eliminate the need to have a USB host adapter\nin the instance. Enable just that possibility by adding a new value\nimage metadata property, 'hw_input_bus', along with two new values for\nthe 'hw_pointer_model' image metadata property, 'tablet' and 'mouse',\nthe former of which replaces the old 'usbtablet' value and the latter of\nwhich is added for completeness' sake.\n\nChange-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-11-11 11:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2303618ba189a84ce223b5bbab8e98258b9b61b1', 'message': ""libvirt: Add support for virtio-based input devices\n\nThe USB-based tablet is often the only USB device in an x86 instance,\nwhile the USB-based keyboard is often the only such device in an AArch64\ninstance (x86 have PS2 keyboards and mice). Replacing these with\nvirtio-based devices can eliminate the need to have a USB host adapter\nin the instance. Enable just that possibility by adding a new value\nimage metadata property, 'hw_input_bus', along with two new values for\nthe 'hw_pointer_model' image metadata property, 'tablet' and 'mouse',\nthe former of which replaces the old 'usbtablet' value and the latter of\nwhich is added for completeness' sake.\n\nChange-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-11-24 16:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5358430cdac39acd28a5643d93149cf7e8b4fc92', 'message': ""libvirt: Add support for virtio-based input devices\n\nThe USB-based tablet is often the only USB device in an x86 instance,\nwhile the USB-based keyboard is often the only such device in an AArch64\ninstance (x86 have PS2 keyboards and mice). Replacing these with\nvirtio-based devices can eliminate the need to have a USB host adapter\nin the instance. Enable just that possibility by adding a new value\nimage metadata property, 'hw_input_bus'. This allows us to specify not\nonly virtio-based pointer and keyboard input devices but also USB\nequivalents.\n\nChange-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-01-27 15:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95671e5091da645fedbe47e9df83760fc29ec5a0', 'message': ""libvirt: Add support for virtio-based input devices\n\nThe USB-based tablet is often the only USB device in an x86 instance,\nwhile the USB-based keyboard is often the only such device in an AArch64\ninstance (x86 have PS2 keyboards and mice). Replacing these with\nvirtio-based devices can eliminate the need to have a USB host adapter\nin the instance. Enable just that possibility by adding a new value\nimage metadata property, 'hw_input_bus'. This allows us to specify not\nonly virtio-based pointer and keyboard input devices but also USB\nequivalents.\n\nChange-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-01-27 16:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/baf13f4d7ac81caf089d1c38c8c4f03e88a6104e', 'message': ""libvirt: Add support for virtio-based input devices\n\nThe USB-based tablet is often the only USB device in an x86 instance,\nwhile the USB-based keyboard is often the only such device in an AArch64\ninstance (x86 have PS2 keyboards and mice). Replacing these with\nvirtio-based devices can eliminate the need to have a USB host adapter\nin the instance. Enable just that possibility by adding a new value\nimage metadata property, 'hw_input_bus'. This allows us to specify not\nonly virtio-based pointer and keyboard input devices but also USB\nequivalents.\n\nChange-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-03-01 12:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0cd6c6c5dcc84b7c5d82bb7a8d4e11b3c5ab803', 'message': ""libvirt: Add support for virtio-based input devices\n\nThe USB-based tablet is often the only USB device in an x86 instance,\nwhile the USB-based keyboard is often the only such device in an AArch64\ninstance (x86 have PS2 keyboards and mice). Replacing these with\nvirtio-based devices can eliminate the need to have a USB host adapter\nin the instance. Enable just that possibility by adding a new value\nimage metadata property, 'hw_input_bus'. This allows us to specify not\nonly virtio-based pointer and keyboard input devices but also USB\nequivalents.\n\nChange-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2021-03-05 11:00:30.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/common_payloads/ImageMetaPropsPayload.json', 'nova/objects/fields.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/notifications/objects/image.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'releasenotes/notes/add-hw_input_bus-image-metadata-prop-059bea459dec618e.yaml', 'nova/tests/unit/objects/test_image_meta.py', 'nova/objects/image_meta.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f63c68195d296ad44cff615a470cd11518a41df', 'message': ""libvirt: Add support for virtio-based input devices\n\nThe USB-based tablet is often the only USB device in an x86 instance,\nwhile the USB-based keyboard is often the only such device in an AArch64\ninstance (x86 have PS2 keyboards and mice). Replacing these with\nvirtio-based devices can eliminate the need to have a USB host adapter\nin the instance. Enable just that possibility by adding a new value\nimage metadata property, 'hw_input_bus'. This allows us to specify not\nonly virtio-based pointer and keyboard input devices but also USB\nequivalents.\n\nNote that this also fixes one instance of a particular class of bugs,\nwhereby we have checks for *guest* architecture-specific behavior that\nare being toggled based on the *host* architecture. In this instance,\nwe were attempting to add a keyboard device on AArch64 guests since they\ndon't have one by default, but we were determining the architecture by\nlooking at the CPU architecture reported in the host capabilities. By\nreplacing this check of the host capabilities with a call to the\n'nova.virt.libvirt.utils.get_arch' helper, we correctly handle requests\nto create non-host architecture guests via the 'hw_architecture' image\nmetadata property. There are many other instances of this bug and those\ncan be resolved separately.\n\nChange-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",6,756552,3f63c68195d296ad44cff615a470cd11518a41df,97,13,9,15334,,,0,"libvirt: Add support for virtio-based input devices

The USB-based tablet is often the only USB device in an x86 instance,
while the USB-based keyboard is often the only such device in an AArch64
instance (x86 have PS2 keyboards and mice). Replacing these with
virtio-based devices can eliminate the need to have a USB host adapter
in the instance. Enable just that possibility by adding a new value
image metadata property, 'hw_input_bus'. This allows us to specify not
only virtio-based pointer and keyboard input devices but also USB
equivalents.

Note that this also fixes one instance of a particular class of bugs,
whereby we have checks for *guest* architecture-specific behavior that
are being toggled based on the *host* architecture. In this instance,
we were attempting to add a keyboard device on AArch64 guests since they
don't have one by default, but we were determining the architecture by
looking at the CPU architecture reported in the host capabilities. By
replacing this check of the host capabilities with a call to the
'nova.virt.libvirt.utils.get_arch' helper, we correctly handle requests
to create non-host architecture guests via the 'hw_architecture' image
metadata property. There are many other instances of this bug and those
can be resolved separately.

Change-Id: If9f3ede3e8449f9a6c8d1da927974c0a73923d51
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/756552/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/objects/image.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/objects/test_image_meta.py', 'nova/objects/fields.py', 'nova/objects/image_meta.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,d44b230b6f858502cfb084bfa57437507a6b522d,bp/smarter-usb-devices," image_meta['properties']['hw_pointer_model'] = 'tablet' image_meta['properties']['hw_input_bus'] = 'usb' tablet = self._test_guest_add_pointer_device(image_meta) self.assertEqual('tablet', tablet.type) self.assertEqual('usb', tablet.bus) image_meta['properties']['hw_pointer_model'] = 'tablet' image_meta['properties']['hw_input_bus'] = 'virtio' tablet = self._test_guest_add_pointer_device(image_meta) self.assertEqual('tablet', tablet.type) self.assertEqual('virtio', tablet.bus) image_meta['properties']['hw_pointer_model'] = 'mouse' image_meta['properties']['hw_input_bus'] = 'usb' tablet = self._test_guest_add_pointer_device(image_meta) self.assertEqual('mouse', tablet.type) self.assertEqual('usb', tablet.bus) ",,140,29
openstack%2Fneutron~stable%2Ftrain~I8ced69f4f8e7d7c73da130a57e89e9d66590390b,openstack/neutron,stable/train,I8ced69f4f8e7d7c73da130a57e89e9d66590390b,[L3][HA] Retry when setting HA router GW status.,MERGED,2021-03-03 16:56:20.000000000,2021-03-07 14:22:59.000000000,2021-03-07 14:21:43.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:56:20.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/12c07ba3ea9c6501dd7494561e2920496407c48b', 'message': '[L3][HA] Retry when setting HA router GW status.\n\nWhen a HA router instance changes the state (active, backup), the\nGW interface is set to up or down. As reported in the bug, while\nkeepalived is configuring the interface, the interface disappears\nand appears again from the kernel namespace, as seen in the udev\nmessages.\n\nThis patch is a workaround until the real issue is addressed (if\npossible), retrying the interface configuration for a small period\nof time.\n\nRelated-Bug: #1916024\n\nChange-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b\n(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)\n'}]",0,778505,12c07ba3ea9c6501dd7494561e2920496407c48b,23,3,1,16688,,,0,"[L3][HA] Retry when setting HA router GW status.

When a HA router instance changes the state (active, backup), the
GW interface is set to up or down. As reported in the bug, while
keepalived is configuring the interface, the interface disappears
and appears again from the kernel namespace, as seen in the udev
messages.

This patch is a workaround until the real issue is addressed (if
possible), retrying the interface configuration for a small period
of time.

Related-Bug: #1916024

Change-Id: I8ced69f4f8e7d7c73da130a57e89e9d66590390b
(cherry picked from commit 662f483120972a373e19bde52f16392e2ccb9c82)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/778505/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py']",2,12c07ba3ea9c6501dd7494561e2920496407c48b,bug/1916024," try: utils.wait_until_true(ns_dev.exists, timeout=3) except utils.WaitTimeout: LOG.debug('Device %s may have been deleted concurrently', device_name) return False return True "," if not ns_dev.exists(): LOG.debug(""Device %s may concurrently be deleted."", device_name) return",14,5
openstack%2Fnova~master~Ib40c25db2c16373677ff32e4e95292fbab498751,openstack/nova,master,Ib40c25db2c16373677ff32e4e95292fbab498751,conf: Drop '[scheduler] periodic_task_interval',MERGED,2021-02-02 11:28:48.000000000,2021-03-07 12:29:56.000000000,2021-03-07 12:28:10.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe078062c3fa23f3b1329ae6e695adadbb375d87', 'message': ""conf: Drop '[scheduler] periodic_task_interval'\n\nAs the help text for this option stated:\n\n  Currently there are no in-tree scheduler driver [sic] that use this\n  option.\n\nNow that we no longer support out-of-tree drivers, it's time to remove\nthis. Do so.\n\nChange-Id: Ib40c25db2c16373677ff32e4e95292fbab498751\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': ['nova/scheduler/manager.py', 'nova/scheduler/driver.py', 'releasenotes/notes/remove-customer-filters-95ab8c7a3aff058d.yaml', 'nova/conf/scheduler.py', 'nova/conf/service.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9d53f366ff8c9a29c4ddbf0fa27febbce7442fc9', 'message': ""conf: Drop '[scheduler] periodic_task_interval'\n\nAs the help text for this option stated:\n\n  Currently there are no in-tree scheduler driver [sic] that use this\n  option.\n\nNow that we no longer support out-of-tree drivers, it's time to remove\nthis. Do so.\n\nChange-Id: Ib40c25db2c16373677ff32e4e95292fbab498751\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,773638,9d53f366ff8c9a29c4ddbf0fa27febbce7442fc9,19,4,2,15334,,,0,"conf: Drop '[scheduler] periodic_task_interval'

As the help text for this option stated:

  Currently there are no in-tree scheduler driver [sic] that use this
  option.

Now that we no longer support out-of-tree drivers, it's time to remove
this. Do so.

Change-Id: Ib40c25db2c16373677ff32e4e95292fbab498751
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/773638/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/scheduler/driver.py', 'releasenotes/notes/remove-customer-filters-95ab8c7a3aff058d.yaml', 'nova/conf/scheduler.py', 'nova/conf/service.py']",5,fe078062c3fa23f3b1329ae6e695adadbb375d87,remove-custom-schedulers,,* scheduler.periodic_task_interval,3,35
openstack%2Fnova~master~I546d3d329a69acaad3ada48ccbfddf3a274b6ce2,openstack/nova,master,I546d3d329a69acaad3ada48ccbfddf3a274b6ce2,Drop support for custom schedulers,MERGED,2021-02-02 11:28:48.000000000,2021-03-07 11:37:22.000000000,2021-03-07 11:35:48.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5511d66bb2d05676aefad191c03bba50ed41a5a7', 'message': ""Drop support for custom schedulers\n\nWe deprecated this functionality in Ussuri and can now remove it. It's\nhighly unlikely that there exists a functioning alternative to this\nscheduler and it's not something we can really support nowadays.\n\nChange-Id: I546d3d329a69acaad3ada48ccbfddf3a274b6ce2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_manager.py', 'nova/tests/functional/libvirt/base.py', 'nova/cmd/scheduler.py', 'releasenotes/notes/remove-customer-filters-95ab8c7a3aff058d.yaml', 'nova/conf/scheduler.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/5aeb3a387494c4559d183d1290db3c92a96dfb90', 'message': ""Drop support for custom schedulers\n\nWe deprecated this functionality in Ussuri and can now remove it. It's\nhighly unlikely that there exists a functioning alternative to this\nscheduler and it's not something we can really support nowadays.\n\nChange-Id: I546d3d329a69acaad3ada48ccbfddf3a274b6ce2\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,773637,5aeb3a387494c4559d183d1290db3c92a96dfb90,31,3,2,15334,,,0,"Drop support for custom schedulers

We deprecated this functionality in Ussuri and can now remove it. It's
highly unlikely that there exists a functioning alternative to this
scheduler and it's not something we can really support nowadays.

Change-Id: I546d3d329a69acaad3ada48ccbfddf3a274b6ce2
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/773637/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/tests/unit/scheduler/test_manager.py', 'nova/tests/functional/libvirt/base.py', 'nova/cmd/scheduler.py', 'releasenotes/notes/remove-customer-filters-95ab8c7a3aff058d.yaml', 'nova/conf/scheduler.py', 'setup.cfg']",7,5511d66bb2d05676aefad191c03bba50ed41a5a7,remove-custom-schedulers,,nova.scheduler.driver = filter_scheduler = nova.scheduler.filter_scheduler:FilterScheduler,19,60
openstack%2Fkolla-ansible~master~Ia082a1c002cc4e8b04f7696fdee827b747c6d13f,openstack/kolla-ansible,master,Ia082a1c002cc4e8b04f7696fdee827b747c6d13f,Remove whitespace around equal signs in zookeeper.cfg,MERGED,2021-03-04 16:58:00.000000000,2021-03-07 11:06:27.000000000,2021-03-07 11:04:54.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-04 16:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/23b43687c00173028cb615e924e8e6b85c38cf22', 'message': ""Remove whitespace around equal signs in zookeeper.cfg\n\nThe merge_configs action plugin is updated with an option to control\nwhether whitespace should be used around equal signs. The default\nremains to use whitespace: only zookeeper.cfg doesn't use them.\n\nThis is to avoid issues with the zkCleanup.sh script which expects no\nwhitespace. The ZooKeeper documentation also uses no whitespace in\nconfiguration file examples.\n\nChange-Id: Ia082a1c002cc4e8b04f7696fdee827b747c6d13f\nCloses-Bug: #1917490\n""}, {'number': 2, 'created': '2021-03-05 14:12:35.000000000', 'files': ['ansible/roles/zookeeper/tasks/config.yml', 'releasenotes/notes/zookeeper-cfg-syntax-02e93c01d6a24f35.yaml', 'tests/test_merge_config.py', 'ansible/action_plugins/merge_configs.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b723ead051b7f722ad61db1bb65a07259817719', 'message': ""Remove whitespace around equal signs in zookeeper.cfg\n\nThe merge_configs action plugin is updated with an option to control\nwhether whitespace should be used around equal signs. The default\nremains to use whitespace: only zookeeper.cfg doesn't use them.\n\nThis is to avoid issues with the zkCleanup.sh script which expects no\nwhitespace. The ZooKeeper documentation also uses no whitespace in\nconfiguration file examples.\n\nChange-Id: Ia082a1c002cc4e8b04f7696fdee827b747c6d13f\nCloses-Bug: #1917490\n""}]",5,778751,2b723ead051b7f722ad61db1bb65a07259817719,14,3,2,15197,,,0,"Remove whitespace around equal signs in zookeeper.cfg

The merge_configs action plugin is updated with an option to control
whether whitespace should be used around equal signs. The default
remains to use whitespace: only zookeeper.cfg doesn't use them.

This is to avoid issues with the zkCleanup.sh script which expects no
whitespace. The ZooKeeper documentation also uses no whitespace in
configuration file examples.

Change-Id: Ia082a1c002cc4e8b04f7696fdee827b747c6d13f
Closes-Bug: #1917490
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/778751/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/zookeeper/tasks/config.yml', 'releasenotes/notes/zookeeper-cfg-syntax-02e93c01d6a24f35.yaml', 'tests/test_merge_config.py', 'ansible/action_plugins/merge_configs.py']",4,23b43687c00173028cb615e924e8e6b85c38cf22,zookeeper-cfg-syntax," whitespace: description: - Whether whitespace characters should be used around equal signs default: True required: False type: bool def __init__(self, whitespace=True): self._whitespace = ' ' if whitespace else '' fp.write('{}{}=\n'.format(key, self._whitespace)) fp.write('{}{}={}{}\n'.format( key, self._whitespace, self._whitespace, value)) else: whitespace = ' ' * (len(self._whitespace) * 2 + 1) fp.write('{}{}{}\n'.format( len(key) * ' ', whitespace, value)) config = OverrideConfigParser( whitespace=self._task.args.get('whitespace', True)) new_task.args.pop('whitespace', None)"," def __init__(self): fp.write('{} =\n'.format(key)) fp.write('{} = {}\n'.format(key, value)) else: fp.write('{} {}\n'.format(len(key) * ' ', value)) config = OverrideConfigParser()",55,5
openstack%2Fmanila-specs~master~I225e178c2c03ee31fc749c5a708be17e7dfeae74,openstack/manila-specs,master,I225e178c2c03ee31fc749c5a708be17e7dfeae74,Add xena directory for specs,ABANDONED,2021-03-04 02:05:39.000000000,2021-03-07 10:58:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-04 02:05:39.000000000', 'files': ['doc/source/index.rst', 'specs/xena/remove-me.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/1f74d85611d98fa8c131f2164cd6b6e2c2dad14c', 'message': 'Add xena directory for specs\n\nChange-Id: I225e178c2c03ee31fc749c5a708be17e7dfeae74\n'}]",0,778601,1f74d85611d98fa8c131f2164cd6b6e2c2dad14c,4,1,1,32326,,,0,"Add xena directory for specs

Change-Id: I225e178c2c03ee31fc749c5a708be17e7dfeae74
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/01/778601/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/xena/remove-me.rst']",2,1f74d85611d98fa8c131f2164cd6b6e2c2dad14c,,.. This file is a place holder. It should be removed by any patch proposing a spec for the Xena release ================================ No specs have yet been approved. ================================ ,,15,0
openstack%2Fglance~master~Ifc2f49d49ff62c49c7dd1d2174a78bb1451b7bf3,openstack/glance,master,Ifc2f49d49ff62c49c7dd1d2174a78bb1451b7bf3,Fix nonsensical test mocks and assertions,MERGED,2021-02-09 20:14:25.000000000,2021-03-07 10:33:24.000000000,2021-03-07 10:32:12.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 20:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fb328ba07ba60791684382c8f9c79d8d56fc59aa', 'message': 'Fix nonsensical test mocks and assertions\n\nThe test_inject_image_metadata test was doing some completely\nnonsensical mock behavior, like mocking something after we have\nrun the method under test, and re-mocking the image repo with the\nthing that was supposed to change so that the assertions were not\neven checking the actual behavior. None of the three tests were\nactually testing the desired behavior.\n\nIn the case of the admin_user test, it was also asserting that things\nwere not run that *should* be, probably because the mocks were done\nafter the execution and asserting that they *were* run would never\nwork.\n\nThis also wires up the image and image_repo mocks that were in\nsetUp(), but unused (and incorrect) so that we can assert the calls\nare actually as we expect.\n\nChange-Id: Ifc2f49d49ff62c49c7dd1d2174a78bb1451b7bf3\n'}, {'number': 2, 'created': '2021-02-10 14:42:45.000000000', 'files': ['glance/tests/unit/async_/flows/plugins/test_inject_image_metadata.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/b1e757884aa1a10c939337ba83caf9bf8d615305', 'message': 'Fix nonsensical test mocks and assertions\n\nThe test_inject_image_metadata test was doing some completely\nnonsensical mock behavior, like mocking something after we have\nrun the method under test, and re-mocking the image repo with the\nthing that was supposed to change so that the assertions were not\neven checking the actual behavior. None of the three tests were\nactually testing the desired behavior.\n\nIn the case of the admin_user test, it was also asserting that things\nwere not run that *should* be, probably because the mocks were done\nafter the execution and asserting that they *were* run would never\nwork.\n\nThis also wires up the image and image_repo mocks that were in\nsetUp(), but unused (and incorrect) so that we can assert the calls\nare actually as we expect.\n\nChange-Id: Ifc2f49d49ff62c49c7dd1d2174a78bb1451b7bf3\n'}]",4,774725,b1e757884aa1a10c939337ba83caf9bf8d615305,19,3,2,4393,,,0,"Fix nonsensical test mocks and assertions

The test_inject_image_metadata test was doing some completely
nonsensical mock behavior, like mocking something after we have
run the method under test, and re-mocking the image repo with the
thing that was supposed to change so that the assertions were not
even checking the actual behavior. None of the three tests were
actually testing the desired behavior.

In the case of the admin_user test, it was also asserting that things
were not run that *should* be, probably because the mocks were done
after the execution and asserting that they *were* run would never
work.

This also wires up the image and image_repo mocks that were in
setUp(), but unused (and incorrect) so that we can assert the calls
are actually as we expect.

Change-Id: Ifc2f49d49ff62c49c7dd1d2174a78bb1451b7bf3
",git fetch https://review.opendev.org/openstack/glance refs/changes/25/774725/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/plugins/test_inject_image_metadata.py'],1,fb328ba07ba60791684382c8f9c79d8d56fc59aa,bug/1914826," self.image_id = UUID1 container_format='bare', extra_properties={}) self.img_repo.get.return_value = self.image inject_image_metadata.execute() self.img_repo.get.assert_called_once_with(self.image_id) self.img_repo.save.assert_called_once_with(self.image) self.assertEqual({""test"": ""abc""}, self.image.extra_properties) self.img_repo.get.assert_called_once_with(UUID1) self.img_repo.save.assert_called_once_with(self.image) self.img_repo.get.assert_not_called() self.img_repo.save.assert_not_called()"," self.image_id = mock.MagicMock() container_format='bare') with mock.patch.object(self.img_repo, 'get') as get_mock: image = mock.MagicMock(image_id=self.image_id, extra_properties={""test"": ""abc""}) get_mock.return_value = image with mock.patch.object(self.img_repo, 'save') as save_mock: inject_image_metadata.execute() get_mock.assert_called_once_with(self.image_id) save_mock.assert_called_once_with(image) self.assertEqual({""test"": ""abc""}, image.extra_properties) with mock.patch.object(self.img_repo, 'get') as get_mock: get_mock.assert_not_called() with mock.patch.object(self.img_repo, 'save') as save_mock: save_mock.assert_not_called() with mock.patch.object(self.img_repo, 'get') as get_mock: get_mock.assert_not_called() with mock.patch.object(self.img_repo, 'save') as save_mock: save_mock.assert_not_called()",12,24
openstack%2Fnova~master~I4abee9b93fe3840e463325c6cf7b2b52448bfca4,openstack/nova,master,I4abee9b93fe3840e463325c6cf7b2b52448bfca4,apidb: Compact Pike database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-03-07 10:16:37.000000000,2021-03-07 10:15:09.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-23 11:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a8ed7ed098220373d50a2ada425dc84a7b238ad', 'message': ""apidb: Compact Pike database migrations\n\nSpecific changes include:\n\n- Add 'traits' and 'resource_provider_traits' tables (041)\n- Add 'tags' column to 'build_requests' table (042)\n- Add 'consumers' table (043)\n- Add 'projects', 'users' tables (044)\n- Change type of 'project_id' and 'user_id' columns of 'consumers' table to 'Integer' (044)\n\nChange-Id: I4abee9b93fe3840e463325c6cf7b2b52448bfca4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-01-19 10:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbd25e29c8770043508d4fa316914dbfbcfea86d', 'message': ""apidb: Compact Pike database migrations\n\nSpecific changes include:\n\n- Add 'traits' and 'resource_provider_traits' tables (041)\n- Add 'tags' column to 'build_requests' table (042)\n- Add 'consumers' table (043)\n- Add 'projects', 'users' tables (044)\n- Change type of 'project_id' and 'user_id' columns of 'consumers' table to 'Integer' (044)\n\nChange-Id: I4abee9b93fe3840e463325c6cf7b2b52448bfca4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-02-10 15:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/828be256c94e2711a5b758e56c0bf5885acd7af0', 'message': ""apidb: Compact Pike database migrations\n\nSpecific changes include:\n\n- Add 'traits' and 'resource_provider_traits' tables (041)\n- Add 'tags' column to 'build_requests' table (042)\n- Add 'consumers' table (043)\n- Add 'projects', 'users' tables (044)\n- Change type of 'project_id' and 'user_id' columns of 'consumers' table to 'Integer' (044)\n\nChange-Id: I4abee9b93fe3840e463325c6cf7b2b52448bfca4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-02-10 19:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/200c24f9f1836f0d7605fea08c32e8ba43c3476e', 'message': ""apidb: Compact Pike database migrations\n\nSpecific changes include:\n\n- Add 'traits' and 'resource_provider_traits' tables (041)\n- Add 'tags' column to 'build_requests' table (042)\n- Add 'consumers' table (043)\n- Add 'projects', 'users' tables (044)\n- Change type of 'project_id' and 'user_id' columns of 'consumers' table to 'Integer' (044)\n\nChange-Id: I4abee9b93fe3840e463325c6cf7b2b52448bfca4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-03-03 15:10:54.000000000', 'files': ['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/035_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/033_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/037_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/042_build_requests_add_tags.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/044_placement_add_projects_users.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/034_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/039_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/041_resource_provider_traits.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/032_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/031_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/044_pike.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/036_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/038_placeholder.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/040_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/043_placement_consumers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/31f01aa44f8e2e82277c567c3b91631f62cb68a3', 'message': ""apidb: Compact Pike database migrations\n\nSpecific changes include:\n\n- Add 'traits' and 'resource_provider_traits' tables (041)\n- Add 'tags' column to 'build_requests' table (042)\n- Add 'consumers' table (043)\n- Add 'projects', 'users' tables (044)\n- Change type of 'project_id' and 'user_id' columns of 'consumers' table to 'Integer' (044)\n\nChange-Id: I4abee9b93fe3840e463325c6cf7b2b52448bfca4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,759403,31f01aa44f8e2e82277c567c3b91631f62cb68a3,67,12,5,15334,,,0,"apidb: Compact Pike database migrations

Specific changes include:

- Add 'traits' and 'resource_provider_traits' tables (041)
- Add 'tags' column to 'build_requests' table (042)
- Add 'consumers' table (043)
- Add 'projects', 'users' tables (044)
- Change type of 'project_id' and 'user_id' columns of 'consumers' table to 'Integer' (044)

Change-Id: I4abee9b93fe3840e463325c6cf7b2b52448bfca4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/759403/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/035_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/033_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/037_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/042_build_requests_add_tags.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/044_placement_add_projects_users.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/034_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/039_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/041_resource_provider_traits.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/032_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/031_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/044_pike.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/036_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/038_placeholder.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/040_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/043_placement_consumers.py']",17,2a8ed7ed098220373d50a2ada425dc84a7b238ad,bp/compact-db-migrations-wallaby,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Database migrations for consumers"""""" from migrate import UniqueConstraint from sqlalchemy import Column from sqlalchemy import DateTime from sqlalchemy import Index from sqlalchemy import Integer from sqlalchemy import MetaData from sqlalchemy import String from sqlalchemy import Table def upgrade(migrate_engine): meta = MetaData() meta.bind = migrate_engine consumers = Table('consumers', meta, Column('created_at', DateTime), Column('updated_at', DateTime), Column('id', Integer, primary_key=True, nullable=False, autoincrement=True), Column('uuid', String(length=36), nullable=False), Column('project_id', String(length=255), nullable=False), Column('user_id', String(length=255), nullable=False), Index('consumers_project_id_uuid_idx', 'project_id', 'uuid'), Index('consumers_project_id_user_id_uuid_idx', 'project_id', 'user_id', 'uuid'), UniqueConstraint('uuid', name='uniq_consumers0uuid'), mysql_engine='InnoDB', mysql_charset='latin1' ) consumers.create(checkfirst=True) ",83,500
openstack%2Fglance~master~I0574ee3daf08d59b4547e353c921451e756e09f6,openstack/glance,master,I0574ee3daf08d59b4547e353c921451e756e09f6,Allow plugins to mutate image extra_properties,MERGED,2021-02-09 20:14:25.000000000,2021-03-07 09:49:48.000000000,2021-03-07 09:48:29.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 20:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9cf5c1769cd05212d58211ee254fa9c95a65a605', 'message': 'Allow plugins to mutate image extra_properties\n\nThis adds a set_image_extra_properties() method to the action wrapper.\nIt specifically disallows setting os_glance_* properties, for two\nreasons. First, several (such as the task lock and the store lists)\nneed special handling to be atomic. Second, setting os_glance_*\nproperties from image metadata injection is almost definitely\ndestined for failure, now or later, as it would muck with our\ninternals. As discussed during the work to formally reserve that\nnamespace from the API, we also need to make sure operators do not\nset these keys during injection.\n\nThis makes us drop any such keys, with appropriate logging. The\nnext patch will make the metadata injection task use this and is\nthe point at which we will actually change that behavior.\n\nChange-Id: I0574ee3daf08d59b4547e353c921451e756e09f6\n'}, {'number': 2, 'created': '2021-02-10 14:42:45.000000000', 'files': ['glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e54a1a52ec246e199d2a9731a390111ae3ba61da', 'message': 'Allow plugins to mutate image extra_properties\n\nThis adds a set_image_extra_properties() method to the action wrapper.\nIt specifically disallows setting os_glance_* properties, for two\nreasons. First, several (such as the task lock and the store lists)\nneed special handling to be atomic. Second, setting os_glance_*\nproperties from image metadata injection is almost definitely\ndestined for failure, now or later, as it would muck with our\ninternals. As discussed during the work to formally reserve that\nnamespace from the API, we also need to make sure operators do not\nset these keys during injection.\n\nThis makes us drop any such keys, with appropriate logging. The\nnext patch will make the metadata injection task use this and is\nthe point at which we will actually change that behavior.\n\nChange-Id: I0574ee3daf08d59b4547e353c921451e756e09f6\n'}]",2,774724,e54a1a52ec246e199d2a9731a390111ae3ba61da,32,2,2,4393,,,0,"Allow plugins to mutate image extra_properties

This adds a set_image_extra_properties() method to the action wrapper.
It specifically disallows setting os_glance_* properties, for two
reasons. First, several (such as the task lock and the store lists)
need special handling to be atomic. Second, setting os_glance_*
properties from image metadata injection is almost definitely
destined for failure, now or later, as it would muck with our
internals. As discussed during the work to formally reserve that
namespace from the API, we also need to make sure operators do not
set these keys during injection.

This makes us drop any such keys, with appropriate logging. The
next patch will make the metadata injection task use this and is
the point at which we will actually change that behavior.

Change-Id: I0574ee3daf08d59b4547e353c921451e756e09f6
",git fetch https://review.opendev.org/openstack/glance refs/changes/24/774724/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",2,9cf5c1769cd05212d58211ee254fa9c95a65a605,bug/1914826," @mock.patch.object(import_flow, 'LOG') def test_set_image_extra_properties(self, mock_log): mock_repo = mock.MagicMock() mock_image = mock_repo.get.return_value mock_image.image_id = IMAGE_ID1 mock_image.extra_properties = {'os_glance_import_task': TASK_ID1} mock_image.status = 'bar' wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1, TASK_ID1) with wrapper as action: action.set_image_extra_properties({'foo': 'bar', 'os_glance_foo': 'baz'}) self.assertEqual({'foo': 'bar', 'os_glance_import_task': TASK_ID1}, mock_image.extra_properties) mock_log.warning.assert_called_once_with( 'Dropping %(key)s=%(val)s during metadata injection for %(image)s', {'key': 'os_glance_foo', 'val': 'baz', 'image': IMAGE_ID1}) ",,39,0
openstack%2Fcinder~master~I31eff1e4ee0acb1252582c07bab973a367c3c3e7,openstack/cinder,master,I31eff1e4ee0acb1252582c07bab973a367c3c3e7,Get rid of renaming error logs under special context,NEW,2021-03-01 22:33:54.000000000,2021-03-07 09:27:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-01 22:33:54.000000000', 'files': ['cinder/volume/drivers/inspur/instorage/instorage_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7908d986bf3732ba5021463410d06bbde1fe97ec', 'message': 'Get rid of renaming error logs under special context\n\nThis patch allows to retype between two pools for same\ninspur storage without displaying renaming error logs in\ncase ambiguous error logs give users a misconception.\n\nCloses-Bug: #1917287\nChange-Id: I31eff1e4ee0acb1252582c07bab973a367c3c3e7\n'}]",0,778085,7908d986bf3732ba5021463410d06bbde1fe97ec,18,1,1,30696,,,0,"Get rid of renaming error logs under special context

This patch allows to retype between two pools for same
inspur storage without displaying renaming error logs in
case ambiguous error logs give users a misconception.

Closes-Bug: #1917287
Change-Id: I31eff1e4ee0acb1252582c07bab973a367c3c3e7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/778085/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/inspur/instorage/instorage_common.py'],1,7908d986bf3732ba5021463410d06bbde1fe97ec,bug/1917287," vdisk_exist_flag = self._assistant.is_vdisk_defined( original_volume_name) try: if not vdisk_exist_flag: self._assistant.rename_vdisk( current_name, original_volume_name) else: return {'_name_id': new_volume['_name_id'] or new_volume['id']}"," try: self._assistant.rename_vdisk(current_name, original_volume_name)",7,1
openstack%2Fos-brick~master~I0278c502806b99f8ec65cb146e3852e43031e9b8,openstack/os-brick,master,I0278c502806b99f8ec65cb146e3852e43031e9b8,Avoid unhandled exceptions during connecting to iSCSI portals,MERGED,2021-02-15 02:08:21.000000000,2021-03-07 06:35:43.000000000,2021-03-05 22:29:12.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 02:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/88bcb5e11e45149c83dd1379de424c413b7a37d8', 'message': 'Avould unhandled exceptions during connecting to iSCSI portals\n\nCurrently we don\'t properly catch some possible exceptions during\nconnectiing to iSCSI portals, like failures in ""iscsiadm -m session""\nBecause of this _connect_vol threads can abort unexpectedly in some\nfailure patterns, and this abort causes hung in subsequent steps\nwaiting for results from _connct_vl threads.\n\nThis change ensures that any exceptions during connecting to iSCSI\nportals are handled in the _connect_vol method corectly, to avoid\nunexpected abort without updating thread results.\n\nCloses-Bug: #1915678\nChange-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8\n'}, {'number': 2, 'created': '2021-02-15 02:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6a854b5d97177b2676ee5a89a1485062be68bf42', 'message': 'Avould unhandled exceptions during connecting to iSCSI portals\n\nCurrently we don\'t properly catch some possible exceptions during\nconnectiing to iSCSI portals, like failures in ""iscsiadm -m session"".\nBecause of this _connect_vol threads can abort unexpectedly in some\nfailure patterns, and this abort causes hung in subsequent steps\nwaiting for results from _connct_vol threads.\n\nThis change ensures that any exceptions during connecting to iSCSI\nportals are handled in the _connect_vol method corectly, to avoid\nunexpected abort without updating thread results.\n\nCloses-Bug: #1915678\nChange-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8\n'}, {'number': 3, 'created': '2021-02-25 08:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bf0c82675f1ece78519e343552838f6cb4b966da', 'message': 'Avoid unhandled exceptions during connecting to iSCSI portals\n\nCurrently we don\'t properly catch some possible exceptions during\nconnectiing to iSCSI portals, like failures in ""iscsiadm -m session"".\nBecause of this _connect_vol threads can abort unexpectedly in some\nfailure patterns, and this abort causes hung in subsequent steps\nwaiting for results from _connct_vol threads.\n\nThis change ensures that any exceptions during connecting to iSCSI\nportals are handled in the _connect_vol method corectly, to avoid\nunexpected abort without updating thread results.\n\nCloses-Bug: #1915678\nChange-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8\n'}, {'number': 4, 'created': '2021-03-03 12:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/812ab43b0fd1b214c0b4a3ad67a85ea0161e6a30', 'message': 'Avoid unhandled exceptions during connecting to iSCSI portals\n\nCurrently we don\'t properly catch some possible exceptions during\nconnectiing to iSCSI portals, like failures in ""iscsiadm -m session"".\nBecause of this _connect_vol threads can abort unexpectedly in some\nfailure patterns, and this abort causes hung in subsequent steps\nwaiting for results from _connct_vol threads.\n\nThis change ensures that any exceptions during connecting to iSCSI\nportals are handled in the _connect_vol method corectly, to avoid\nunexpected abort without updating thread results.\n\nCloses-Bug: #1915678\nChange-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8\n'}, {'number': 5, 'created': '2021-03-04 03:01:55.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/bug-1915678-901a6bd24ecede72.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4478433550ddab970f106636a4ba5fbba82c5e39', 'message': 'Avoid unhandled exceptions during connecting to iSCSI portals\n\nCurrently we don\'t properly catch some possible exceptions during\nconnectiing to iSCSI portals, like failures in ""iscsiadm -m session"".\nBecause of this _connect_vol threads can abort unexpectedly in some\nfailure patterns, and this abort causes hung in subsequent steps\nwaiting for results from _connct_vol threads.\n\nThis change ensures that any exceptions during connecting to iSCSI\nportals are handled in the _connect_vol method corectly, to avoid\nunexpected abort without updating thread results.\n\nCloses-Bug: #1915678\nChange-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8\n'}]",16,775545,4478433550ddab970f106636a4ba5fbba82c5e39,104,5,5,9816,,,0,"Avoid unhandled exceptions during connecting to iSCSI portals

Currently we don't properly catch some possible exceptions during
connectiing to iSCSI portals, like failures in ""iscsiadm -m session"".
Because of this _connect_vol threads can abort unexpectedly in some
failure patterns, and this abort causes hung in subsequent steps
waiting for results from _connct_vol threads.

This change ensures that any exceptions during connecting to iSCSI
portals are handled in the _connect_vol method corectly, to avoid
unexpected abort without updating thread results.

Closes-Bug: #1915678
Change-Id: I0278c502806b99f8ec65cb146e3852e43031e9b8
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/45/775545/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py']",2,88bcb5e11e45149c83dd1379de424c413b7a37d8,bug/1915678," device = hctl = session = None try: session, manual_scan = self._connect_to_iscsi_portal(props) except Exception: LOG.exception('Exception connecting to %s', portal) pass do_scans = rescans > 0 or manual_scan # Scan is sent on connect by iscsid, but we must do it manually on # manual scan mode. This scan cannot count towards total rescans. if manual_scan: num_rescans = -1 seconds_next_scan = 0 else: num_rescans = 0 seconds_next_scan = 4 "," device = hctl = None session, manual_scan = self._connect_to_iscsi_portal(props) do_scans = rescans > 0 or manual_scan # Scan is sent on connect by iscsid, but we must do it manually on # manual scan mode. This scan cannot count towards total rescans. if manual_scan: num_rescans = -1 seconds_next_scan = 0 else: num_rescans = 0 seconds_next_scan = 4",28,11
openstack%2Fos-brick~master~I94c00afc80f20965a0b391ee3bf21162b827bd31,openstack/os-brick,master,I94c00afc80f20965a0b391ee3bf21162b827bd31,NVMeOF connector driver connection information compatibility fix,MERGED,2021-02-23 10:00:47.000000000,2021-03-07 05:18:07.000000000,2021-03-05 23:13:58.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9535}, {'_account_id': 13671}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 31016}]","[{'number': 1, 'created': '2021-02-23 10:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8773b21357bd3f1bad5e8c942ec59d464539a655', 'message': 'NVMeOF connector compatibility fix\n\nBug: Issue 1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 2, 'created': '2021-02-23 13:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fea32f938c353a191948c078a7e76aeb39ac3306', 'message': 'NVMeOF connector compatibility fix\n\nBug: Issue 1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 3, 'created': '2021-02-24 10:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1c3f789b130f0459c92d83be885cd0c70f173772', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 4, 'created': '2021-02-24 13:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f9de79061de8f49908d82b3d4c25712d01e4db0a', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 5, 'created': '2021-02-25 12:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bd6ab8000dded0310e79df2537897788e0995db7', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 6, 'created': '2021-02-28 09:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/01c61108f261faa42e31c98298b860bb7cf651c8', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 7, 'created': '2021-03-02 11:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/91916913fbc4e1f739ffd6c0a408399edcba9d5c', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 8, 'created': '2021-03-02 16:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bf3f101e4a6246c2f93ad76440fc906cc252cd83', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 9, 'created': '2021-03-04 10:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/94ba956b49ae95fbac6138e44a9263d5ae4265c8', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 10, 'created': '2021-03-04 10:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/763a4893ce9a961da597a31ee3d0416d8300f103', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 11, 'created': '2021-03-04 20:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e912d3c4c086ee113e8347ade77c72b10bd095bc', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 12, 'created': '2021-03-05 11:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3be22fd639605d99bf0a0b36bf9d1f6a2c08c070', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 13, 'created': '2021-03-05 13:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d831fdbe4e3d7313fec68da5434afb437136c094', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 14, 'created': '2021-03-05 14:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bd4e793abb2a4d35cf9fae28497ef204556e9850', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}, {'number': 15, 'created': '2021-03-05 14:25:33.000000000', 'files': ['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connectors/nvmeof.py', 'releasenotes/notes/update-nvmeof-connector-6260a658c15a9a6e.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5e71a2daa40b0b8da93a784c78a304185bc84480', 'message': 'NVMeOF connector driver connection information compatibility fix\n\nMerges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when \'volume_replicas\' is specified in the connection information.\n\nAlso includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.\n\nCloses-Bug: #1916264\nChange-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31\n'}]",65,777086,5e71a2daa40b0b8da93a784c78a304185bc84480,186,8,15,16721,,,0,"NVMeOF connector driver connection information compatibility fix

Merges the original nvmeof.py connector with the refactor change ""NVMeOF Connector support MDRAID replication"" such that the new features introduced in the mdraid+ change are only used when 'volume_replicas' is specified in the connection information.

Also includes a couple minor fixes to the nvmeof v2/mdraid+ mode of operation: host nqn generation and handling of raising connect volume exceptions.

Closes-Bug: #1916264
Change-Id: I94c00afc80f20965a0b391ee3bf21162b827bd31
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/86/777086/8 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/nvmeof.py'],1,8773b21357bd3f1bad5e8c942ec59d464539a655,nvmeof_connector_compatibility,"import jsonimport refrom os_brick.i18n import _ def get_search_path(self): if not volume_replicas: # compatibility return [] suuid = nvmf._get_system_uuid() if suuid: ret['system uuid'] = suuid # compatibility def _get_system_uuid(self): # RSD requires system_uuid to let Cinder RSD Driver identify # Nova node for later RSD volume attachment. try: out, err = self._execute('cat', '/sys/class/dmi/id/product_uuid', root_helper=self._root_helper, run_as_root=True) except putils.ProcessExecutionError: try: out, err = self._execute('dmidecode', '-ssystem-uuid', root_helper=self._root_helper, run_as_root=True) if not out: LOG.warning('dmidecode returned empty system-uuid') except putils.ProcessExecutionError as e: LOG.debug(""Unable to locate dmidecode. For Cinder RSD Backend,"" "" please make sure it is installed: %s"", e) out = """" return out.strip() def _get_nvme_devices(self): nvme_devices = [] # match nvme devices like /dev/nvme10n10 pattern = r'/dev/nvme[0-9]+n[0-9]+' cmd = ['nvme', 'list'] for retry in range(1, self.device_scan_attempts + 1): try: (out, err) = self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) for line in out.split('\n'): result = re.match(pattern, line) if result: nvme_devices.append(result.group(0)) LOG.debug(""_get_nvme_devices returned %(nvme_devices)s"", {'nvme_devices': nvme_devices}) return nvme_devices except putils.ProcessExecutionError: LOG.warning( ""Failed to list available NVMe connected controllers, "" ""retrying."") time.sleep(retry ** 2) else: msg = _(""Failed to retrieve available connected NVMe controllers "" ""when running nvme list."") raise exception.CommandExecutionFailed(message=msg) @utils.retry(exceptions=exception.VolumePathsNotFound) def _get_device_path(self, current_nvme_devices): all_nvme_devices = self._get_nvme_devices() LOG.debug(""all_nvme_devices are %(all_nvme_devices)s"", {'all_nvme_devices': all_nvme_devices}) path = set(all_nvme_devices) - set(current_nvme_devices) if not path: raise exception.VolumePathsNotFound() return list(path) @utils.retry(exceptions=putils.ProcessExecutionError) def _try_connect_nvme(self, cmd): self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) def _get_nvme_subsys(self): # Example output: # { # 'Subsystems' : [ # { # 'Name' : 'nvme-subsys0', # 'NQN' : 'nqn.2016-06.io.spdk:cnode1' # }, # { # 'Paths' : [ # { # 'Name' : 'nvme0', # 'Transport' : 'rdma', # 'Address' : 'traddr=10.0.2.15 trsvcid=4420' # } # ] # } # ] # } # cmd = ['nvme', 'list-subsys', '-o', 'json'] ret_val = self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) return ret_val @utils.retry(exceptions=exception.NotFound, retries=5) def _is_nvme_available(self, nvme_name): nvme_name_pattern = ""/dev/%sn[0-9]+"" % nvme_name for nvme_dev_name in self._get_nvme_devices(): if re.match(nvme_name_pattern, nvme_dev_name): return True else: LOG.error(""Failed to find nvme device"") raise exception.NotFound() def _wait_for_blk(self, nvme_transport_type, conn_nqn, target_portal, port): # Find nvme name in subsystem list and wait max 15 seconds # until new volume will be available in kernel nvme_name = """" nvme_address = ""traddr=%s trsvcid=%s"" % (target_portal, port) # Get nvme subsystems in order to find # nvme name for connected nvme try: (out, err) = self._get_nvme_subsys() except putils.ProcessExecutionError: LOG.error(""Failed to get nvme subsystems"") raise # Get subsystem list. Throw exception if out is currupt or empty try: subsystems = json.loads(out)['Subsystems'] except Exception: return False # Find nvme name among subsystems for i in range(0, int(len(subsystems) / 2)): subsystem = subsystems[i * 2] if 'NQN' in subsystem and subsystem['NQN'] == conn_nqn: for path in subsystems[i * 2 + 1]['Paths']: if (path['Transport'] == nvme_transport_type and path['Address'] == nvme_address): nvme_name = path['Name'] break if not nvme_name: return False # Wait until nvme will be available in kernel return self._is_nvme_available(nvme_name) def _try_disconnect_volume(self, conn_nqn, ignore_errors=False): cmd = [ 'nvme', 'disconnect', '-n', conn_nqn] try: self._execute( *cmd, root_helper=self._root_helper, run_as_root=True) except putils.ProcessExecutionError: LOG.error( ""Failed to disconnect from NVMe nqn "" ""%(conn_nqn)s"", {'conn_nqn': conn_nqn}) if not ignore_errors: raise """"""Discover and attach the volume. :param connection_properties: The dictionary that describes all of the target volume attributes. connection_properties must include: nqn - NVMe subsystem name to the volume to be connected target_port - NVMe target port that hosts the nqn sybsystem target_portal - NVMe target ip that hosts the nqn sybsystem :type connection_properties: dict :returns: dict """""" if connection_properties.get('volume_replicas'): # compatibility return self.connect_volume_plus(connection_properties) current_nvme_devices = self._get_nvme_devices() device_info = {'type': 'block'} conn_nqn = connection_properties['nqn'] target_portal = connection_properties['target_portal'] port = connection_properties['target_port'] nvme_transport_type = connection_properties['transport_type'] host_nqn = connection_properties.get('host_nqn') cmd = [ 'nvme', 'connect', '-t', nvme_transport_type, '-n', conn_nqn, '-a', target_portal, '-s', port] if host_nqn: cmd.extend(['-q', host_nqn]) self._try_connect_nvme(cmd) try: self._wait_for_blk(nvme_transport_type, conn_nqn, target_portal, port) except exception.NotFound: LOG.error(""Waiting for nvme failed"") self._try_disconnect_volume(conn_nqn, True) raise exception.NotFound(message=""nvme connect: NVMe device "" ""not found"") path = self._get_device_path(current_nvme_devices) device_info['path'] = path[0] LOG.debug(""NVMe device to be connected to is %(path)s"", {'path': path[0]}) return device_info @utils.trace @synchronized('connect_volume') def disconnect_volume(self, connection_properties, device_info, force=False, ignore_errors=False): """"""Detach and flush the volume. :param connection_properties: The dictionary that describes all of the target volume attributes. connection_properties must include: device_path - path to the volume to be connected :type connection_properties: dict :param device_info: historical difference, but same as connection_props :type device_info: dict """""" if connection_properties.get('volume_replicas'): # compatibility return self.disconnect_volume_plus(connection_properties) conn_nqn = connection_properties['nqn'] if device_info and device_info.get('path'): device_path = device_info.get('path') else: device_path = connection_properties['device_path'] or '' current_nvme_devices = self._get_nvme_devices() if device_path not in current_nvme_devices: LOG.warning(""Trying to disconnect device %(device_path)s with "" ""subnqn %(conn_nqn)s that is not connected."", {'device_path': device_path, 'conn_nqn': conn_nqn}) return LOG.debug( ""Trying to disconnect from device %(device_path)s with "" ""subnqn %(conn_nqn)s"", {'device_path': device_path, 'conn_nqn': conn_nqn}) cmd = [ 'nvme', 'disconnect', '-n', conn_nqn] try: self._execute( *cmd, root_helper=self._root_helper, run_as_root=True) except putils.ProcessExecutionError: LOG.error( ""Failed to disconnect from NVMe nqn "" ""%(conn_nqn)s with device_path %(device_path)s"", {'conn_nqn': conn_nqn, 'device_path': device_path}) if not ignore_errors: raise @utils.trace @synchronized('extend_volume') def extend_volume(self, connection_properties): """"""Update the local kernel's size information. Try and update the local kernel's size information for an LVM volume. """""" if connection_properties.get('volume_replicas'): # compatibility return self.extend_volume_plus(connection_properties) volume_paths = self.get_volume_paths(connection_properties) if volume_paths: return self._linuxscsi.extend_volume( volume_paths, use_multipath=self.use_multipath) else: LOG.warning(""Couldn't find any volume paths on the host to "" ""extend volume for %(props)s"", {'props': connection_properties}) raise exception.VolumePathsNotFound() @utils.trace @synchronized('connect_volume') def connect_volume_plus(self, connection_properties): def disconnect_volume_plus(self, connection_properties, device_info, force=False, ignore_errors=False): @synchronized('extend_volume') def extend_volume_plus(self, connection_properties):"," def get_search_path(): def disconnect_volume(self, connection_properties, device_info, force=False, ignore_errors=False): def extend_volume(self, connection_properties):",294,4
openstack%2Fglance~master~I575dbc45781aaed521aeb5ef085322ad2018f378,openstack/glance,master,I575dbc45781aaed521aeb5ef085322ad2018f378,Make image_conversion use action wrapper,MERGED,2021-02-09 20:14:25.000000000,2021-03-07 03:27:16.000000000,2021-03-07 03:26:05.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 20:14:25.000000000', 'files': ['glance/tests/unit/async_/flows/plugins/test_image_conversion.py', 'glance/async_/flows/plugins/image_conversion.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/d2bb1252e6192773cdb7960c25f8031ae896fd71', 'message': 'Make image_conversion use action wrapper\n\nThis makes the image_conversion plugin use the action wrapper for\nits image inspection and mutation activities.\n\nNote that several important actions from the execute handler are not\nasserted in the test, so this adds those checks to make sure they\nare actually happening.\n\nChange-Id: I575dbc45781aaed521aeb5ef085322ad2018f378\n'}]",0,774723,d2bb1252e6192773cdb7960c25f8031ae896fd71,24,2,1,4393,,,0,"Make image_conversion use action wrapper

This makes the image_conversion plugin use the action wrapper for
its image inspection and mutation activities.

Note that several important actions from the execute handler are not
asserted in the test, so this adds those checks to make sure they
are actually happening.

Change-Id: I575dbc45781aaed521aeb5ef085322ad2018f378
",git fetch https://review.opendev.org/openstack/glance refs/changes/23/774723/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/flows/plugins/test_image_conversion.py', 'glance/async_/flows/plugins/image_conversion.py']",2,d2bb1252e6192773cdb7960c25f8031ae896fd71,bug/1914826," def __init__(self, context, task_id, task_type, action_wrapper): self.action_wrapper = action_wrapper self.image_id = action_wrapper.image_id with self.action_wrapper as action: return self._execute(action, file_path, **kwargs) def _execute(self, action, file_path, **kwargs): action.set_image_attribute(virtual_size=virtual_size) action.set_image_attribute(disk_format=target_format, container_format='bare') :param action_wrapper: An api_image_import.ActionWrapper. action_wrapper = kwargs.get('action_wrapper') _ConvertImage(context, task_id, task_type, action_wrapper)"," def __init__(self, context, task_id, task_type, image_repo, image_id): self.image_repo = image_repo self.image_id = image_id image = self.image_repo.get(self.image_id) image.virtual_size = virtual_size self.image_repo.save(image) image.disk_format = target_format image.container_format = 'bare' self.image_repo.save(image) image_repo = kwargs.get('image_repo') image_id = kwargs.get('image_id') _ConvertImage(context, task_id, task_type, image_repo, image_id),",31,21
openstack%2Fproject-config~master~I2fd3672f0ba2f50a7660f2f4f420ca62fb6d4527,openstack/project-config,master,I2fd3672f0ba2f50a7660f2f4f420ca62fb6d4527,Add zuul-client to openstack tenant,MERGED,2021-03-07 02:40:16.000000000,2021-03-07 03:13:11.000000000,2021-03-07 02:54:49.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-07 02:40:16.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4527c552a2ef9fdb7587fcd7d0a8a5575e64f262', 'message': ""Add zuul-client to openstack tenant\n\nApparently the openstack tenant wants the zuul repo in it.  It's\ngoing to need zuul-client too since they share jobs.\n\nChange-Id: I2fd3672f0ba2f50a7660f2f4f420ca62fb6d4527\n""}]",0,779090,4527c552a2ef9fdb7587fcd7d0a8a5575e64f262,8,3,1,1,,,0,"Add zuul-client to openstack tenant

Apparently the openstack tenant wants the zuul repo in it.  It's
going to need zuul-client too since they share jobs.

Change-Id: I2fd3672f0ba2f50a7660f2f4f420ca62fb6d4527
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/779090/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,4527c552a2ef9fdb7587fcd7d0a8a5575e64f262,, - zuul/zuul-client,,1,0
openstack%2Fneutron~stable%2Fvictoria~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,stable/victoria,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-03 10:19:50.000000000,2021-03-07 02:51:29.000000000,2021-03-07 02:50:07.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 10:19:50.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/467e5d8645652a6659973fa359543be4ed40781d', 'message': 'Fix wrong packet_type set for IPv6 GRE tunnels in OVS\n\nIn patch [1] it was by mistake set to ""legacy"" but it should be\n""legacy_l2"".\nThis patch fixes that mistake.\n\nCloses-bug: #1917448\n\n[1] https://review.opendev.org/c/openstack/neutron/+/763204\n\nConflicts:\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n\nChange-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238\n(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)\n'}]",0,778400,467e5d8645652a6659973fa359543be4ed40781d,24,4,1,11975,,,0,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/778400/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",3,467e5d8645652a6659973fa359543be4ed40781d,bug/1917448-stable/victoria," 'packet_type': 'legacy_l2',",,3,2
openstack%2Frequirements~master~Ia1aad0c61ae9959b3dfa4e148f0a3ce332d774af,openstack/requirements,master,Ia1aad0c61ae9959b3dfa4e148f0a3ce332d774af,DNM: test docutils-0.16,ABANDONED,2020-03-28 17:30:45.000000000,2021-03-07 01:15:53.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-28 17:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ea1b44ccaaa0d8b1c78519809f77849bfc7b2108', 'message': 'DNM: test docutils-0.16\n\nChange-Id: Ia1aad0c61ae9959b3dfa4e148f0a3ce332d774af\n'}, {'number': 2, 'created': '2020-08-14 17:03:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/83af27157323366875f30a24fbe9865f0edecdee', 'message': 'DNM: test docutils-0.16\n\nChange-Id: Ia1aad0c61ae9959b3dfa4e148f0a3ce332d774af\n'}]",0,715641,83af27157323366875f30a24fbe9865f0edecdee,8,2,2,14288,,,0,"DNM: test docutils-0.16

Change-Id: Ia1aad0c61ae9959b3dfa4e148f0a3ce332d774af
",git fetch https://review.opendev.org/openstack/requirements refs/changes/41/715641/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ea1b44ccaaa0d8b1c78519809f77849bfc7b2108,test-docutils-0.16,docutils===0.16,docutils===0.15.2,1,1
openstack%2Ftempest~master~I6e4e590a1315825677b835e626e15174c5e69cb5,openstack/tempest,master,I6e4e590a1315825677b835e626e15174c5e69cb5,Add release notes for an Wallaby intermediate release.,MERGED,2021-02-27 15:45:48.000000000,2021-03-07 01:15:41.000000000,2021-03-07 01:12:25.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-02-27 15:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c666b4c4e90feefa4dbbd0b23fc394351caba84', 'message': 'Add release notes for an Wallaby intermediate release.\n\nChange-Id: I6e4e590a1315825677b835e626e15174c5e69cb5\n'}, {'number': 2, 'created': '2021-03-05 18:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ac72a3fdc02ec3f41c1d070b7c4d2cadfbb8276f', 'message': 'Add release notes for an Wallaby intermediate release.\n\nChange-Id: I6e4e590a1315825677b835e626e15174c5e69cb5\n'}, {'number': 3, 'created': '2021-03-06 17:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/90ae8d183b6b6337bb9d53f341df5c7111c22af0', 'message': 'Add release notes for an Wallaby intermediate release.\n\nChange-Id: I6e4e590a1315825677b835e626e15174c5e69cb5\n'}, {'number': 4, 'created': '2021-03-06 17:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/784e76e2d76c5d2783f374fbb0da8f162e06627f', 'message': 'Add release notes for an Wallaby intermediate release.\n\nChange-Id: I6e4e590a1315825677b835e626e15174c5e69cb5\n'}, {'number': 5, 'created': '2021-03-06 17:17:40.000000000', 'files': ['releasenotes/notes/intermediate-wallaby-release-55a0b31b1dee7b23.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8169f5a3833b55065abb1a937e44853d028d614', 'message': 'Add release notes for an Wallaby intermediate release.\n\nChange-Id: I6e4e590a1315825677b835e626e15174c5e69cb5\n'}]",0,777865,b8169f5a3833b55065abb1a937e44853d028d614,15,4,5,8556,,,0,"Add release notes for an Wallaby intermediate release.

Change-Id: I6e4e590a1315825677b835e626e15174c5e69cb5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/65/777865/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/intermediate-wallaby-release-55a0b31b1dee7b23.yaml'],1,9c666b4c4e90feefa4dbbd0b23fc394351caba84,,--- prelude: > This is an intermediate release during the Wallaby development cycle to make new functionality available to plugins and other consumers. ,,4,0
openstack%2Ftempest~master~I9053faa255e3680d7f870e3cdedf62fb2eb5cb1a,openstack/tempest,master,I9053faa255e3680d7f870e3cdedf62fb2eb5cb1a,Support scope in dynamic cred for specific roles,MERGED,2021-03-03 00:13:16.000000000,2021-03-07 01:14:27.000000000,2021-03-07 01:12:16.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-03 00:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c8ae802b62f16217b0e96b1886b3f2a1a8a12b9', 'message': ""Support scope in dynamic cred for specific roles\n\nWe already added scope support for 'admin', 'member',\nand 'reader' role. This commit is to adds the scope\nsupport for specific roles, basically in get_creds_by_roles().\n\nTest can now request the scope along with the number of roles\nusing the scope as prefix in credential type. Fpr example:\n\n    credentials = [['my_role', 'role1'], # this will be old style and project scoped\n                   ['project_my_role', 'role1'], # this will be project scoped\n                   ['domain_my_role', 'role1'], # this will be domain scoped\n                   ['system_my_role', 'role1']] # this will be system scoped\n\nand below is how test can access the credential manager of respective\ncredentials type:\n\n    cls.os_my_role.any_client\n    cls.os_project_my_role.any_client\n    cls.os_domain_my_role.any_client\n    cls.os_system_my_role.any_client\n\nCloses-Bug: #1917168\nChange-Id: I9053faa255e3680d7f870e3cdedf62fb2eb5cb1a\n""}, {'number': 2, 'created': '2021-03-03 16:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a2ad50507d3c80a54df478984ec2d44e1c8a2d2b', 'message': ""Support scope in dynamic cred for specific roles\n\nWe already added scope support for 'admin', 'member',\nand 'reader' role. This commit is to adds the scope\nsupport for specific roles, basically in get_creds_by_roles().\n\nTest can now request the scope along with the number of roles\nusing the scope as prefix in credential type. Fpr example:\n\n    credentials = [['my_role', 'role1'], # this will be old style and project scoped\n                   ['project_my_role', 'role1'], # this will be project scoped\n                   ['domain_my_role', 'role1'], # this will be domain scoped\n                   ['system_my_role', 'role1']] # this will be system scoped\n\nand below is how test can access the credential manager of respective\ncredentials type:\n\n    cls.os_my_role.any_client\n    cls.os_project_my_role.any_client\n    cls.os_domain_my_role.any_client\n    cls.os_system_my_role.any_client\n\nCloses-Bug: #1917168\nChange-Id: I9053faa255e3680d7f870e3cdedf62fb2eb5cb1a\n""}, {'number': 3, 'created': '2021-03-05 15:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/39c1bb57897ec7391d231217e257e3cba6242265', 'message': ""Support scope in dynamic cred for specific roles\n\nWe already added scope support for 'admin', 'member',\nand 'reader' role. This commit is to adds the scope\nsupport for specific roles, basically in get_creds_by_roles().\n\nTest can now request the scope along with the number of roles\nusing the scope as prefix in credential type. Fpr example:\n\n    credentials = [['my_role', 'role1'], # this will be old style and project scoped\n                   ['project_my_role', 'role1'], # this will be project scoped\n                   ['domain_my_role', 'role1'], # this will be domain scoped\n                   ['system_my_role', 'role1']] # this will be system scoped\n\nand below is how test can access the credential manager of respective\ncredentials type:\n\n    cls.os_my_role.any_client\n    cls.os_project_my_role.any_client\n    cls.os_domain_my_role.any_client\n    cls.os_system_my_role.any_client\n\nCloses-Bug: #1917168\nChange-Id: I9053faa255e3680d7f870e3cdedf62fb2eb5cb1a\n""}, {'number': 4, 'created': '2021-03-06 17:14:25.000000000', 'files': ['releasenotes/notes/support-scope-in-get-roles-dynamic-creds-90bfab163c1c289a.yaml', 'tempest/lib/common/dynamic_creds.py', 'tempest/lib/common/preprov_creds.py', 'tempest/lib/common/cred_provider.py', 'tempest/tests/test_base_test.py', 'tempest/tests/lib/common/test_dynamic_creds.py', 'tempest/test.py', 'tempest/tests/test_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2d0da049d0b0c401e9633c8f31336f1ff9e4aa7a', 'message': ""Support scope in dynamic cred for specific roles\n\nWe already added scope support for 'admin', 'member',\nand 'reader' role. This commit is to adds the scope\nsupport for specific roles, basically in get_creds_by_roles().\n\nTest can now request the scope along with the number of roles\nusing the scope as prefix in credential type. Fpr example:\n\n    credentials = [['my_role', 'role1'], # this will be old style and project scoped\n                   ['project_my_role', 'role1'], # this will be project scoped\n                   ['domain_my_role', 'role1'], # this will be domain scoped\n                   ['system_my_role', 'role1']] # this will be system scoped\n\nand below is how test can access the credential manager of respective\ncredentials type:\n\n    cls.os_my_role.any_client\n    cls.os_project_my_role.any_client\n    cls.os_domain_my_role.any_client\n    cls.os_system_my_role.any_client\n\nCloses-Bug: #1917168\nChange-Id: I9053faa255e3680d7f870e3cdedf62fb2eb5cb1a\n""}]",2,778342,2d0da049d0b0c401e9633c8f31336f1ff9e4aa7a,27,2,4,8556,,,0,"Support scope in dynamic cred for specific roles

We already added scope support for 'admin', 'member',
and 'reader' role. This commit is to adds the scope
support for specific roles, basically in get_creds_by_roles().

Test can now request the scope along with the number of roles
using the scope as prefix in credential type. Fpr example:

    credentials = [['my_role', 'role1'], # this will be old style and project scoped
                   ['project_my_role', 'role1'], # this will be project scoped
                   ['domain_my_role', 'role1'], # this will be domain scoped
                   ['system_my_role', 'role1']] # this will be system scoped

and below is how test can access the credential manager of respective
credentials type:

    cls.os_my_role.any_client
    cls.os_project_my_role.any_client
    cls.os_domain_my_role.any_client
    cls.os_system_my_role.any_client

Closes-Bug: #1917168
Change-Id: I9053faa255e3680d7f870e3cdedf62fb2eb5cb1a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/778342/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/support-scope-in-get-roles-dynamic-creds-90bfab163c1c289a.yaml', 'tempest/lib/common/dynamic_creds.py', 'tempest/lib/common/preprov_creds.py', 'tempest/lib/common/cred_provider.py', 'tempest/tests/lib/common/test_dynamic_creds.py', 'tempest/test.py', 'tempest/tests/test_test.py']",7,0c8ae802b62f16217b0e96b1886b3f2a1a8a12b9,bug/1917168," def test_setup_credentials_with_role_and_system_scope(self): expected_creds = [['system_my_role', 'role1', 'role2']] class SystemRoleCredentials(self.parent_test): credentials = expected_creds expected_clients = 'clients' with mock.patch.object( SystemRoleCredentials, 'get_client_manager') as mock_get_client_manager: mock_get_client_manager.return_value = expected_clients sys_creds = SystemRoleCredentials() sys_creds.setup_credentials() self.assertTrue(hasattr(sys_creds, 'os_system_my_role')) self.assertEqual(expected_clients, sys_creds.os_system_my_role) self.assertTrue(hasattr(sys_creds, 'os_roles_system_my_role')) self.assertEqual(expected_clients, sys_creds.os_roles_system_my_role) self.assertEqual(1, mock_get_client_manager.call_count) self.assertEqual( expected_creds[0][1:], mock_get_client_manager.mock_calls[0][2]['roles']) self.assertEqual( 'system', mock_get_client_manager.mock_calls[0][2]['scope']) def test_setup_credentials_with_multiple_role_and_system_scope(self): expected_creds = [['system_my_role', 'role1', 'role2'], ['system_my_role2', 'role1', 'role2'], ['system_my_role3', 'role3']] class SystemRoleCredentials(self.parent_test): credentials = expected_creds expected_clients = 'clients' with mock.patch.object( SystemRoleCredentials, 'get_client_manager') as mock_get_client_manager: mock_get_client_manager.return_value = expected_clients sys_creds = SystemRoleCredentials() sys_creds.setup_credentials() self.assertTrue(hasattr(sys_creds, 'os_system_my_role')) self.assertEqual(expected_clients, sys_creds.os_system_my_role) self.assertTrue(hasattr(sys_creds, 'os_roles_system_my_role')) self.assertEqual(expected_clients, sys_creds.os_roles_system_my_role) self.assertTrue(hasattr(sys_creds, 'os_system_my_role2')) self.assertEqual(expected_clients, sys_creds.os_system_my_role2) self.assertTrue(hasattr(sys_creds, 'os_roles_system_my_role2')) self.assertEqual(expected_clients, sys_creds.os_roles_system_my_role2) self.assertTrue(hasattr(sys_creds, 'os_system_my_role3')) self.assertEqual(expected_clients, sys_creds.os_system_my_role3) self.assertTrue(hasattr(sys_creds, 'os_roles_system_my_role3')) self.assertEqual(expected_clients, sys_creds.os_roles_system_my_role3) self.assertEqual(3, mock_get_client_manager.call_count) self.assertEqual( expected_creds[0][1:], mock_get_client_manager.mock_calls[0][2]['roles']) self.assertEqual( 'system', mock_get_client_manager.mock_calls[0][2]['scope']) self.assertEqual( expected_creds[1][1:], mock_get_client_manager.mock_calls[1][2]['roles']) self.assertEqual( 'system', mock_get_client_manager.mock_calls[1][2]['scope']) self.assertEqual( expected_creds[2][1:], mock_get_client_manager.mock_calls[2][2]['roles']) self.assertEqual( 'system', mock_get_client_manager.mock_calls[2][2]['scope']) def test_setup_credentials_with_role_and_multiple_scope(self): expected_creds = [['my_role', 'role1', 'role2'], ['project_my_role', 'role1', 'role2'], ['domain_my_role', 'role1', 'role2'], ['system_my_role', 'role1', 'role2']] class SystemRoleCredentials(self.parent_test): credentials = expected_creds expected_clients = 'clients' with mock.patch.object( SystemRoleCredentials, 'get_client_manager') as mock_get_client_manager: mock_get_client_manager.return_value = expected_clients sys_creds = SystemRoleCredentials() sys_creds.setup_credentials() self.assertTrue(hasattr(sys_creds, 'os_my_role')) self.assertEqual(expected_clients, sys_creds.os_my_role) self.assertTrue(hasattr(sys_creds, 'os_roles_my_role')) self.assertEqual(expected_clients, sys_creds.os_roles_my_role) self.assertTrue(hasattr(sys_creds, 'os_project_my_role')) self.assertEqual(expected_clients, sys_creds.os_project_my_role) self.assertTrue(hasattr(sys_creds, 'os_roles_project_my_role')) self.assertEqual(expected_clients, sys_creds.os_roles_project_my_role) self.assertTrue(hasattr(sys_creds, 'os_domain_my_role')) self.assertEqual(expected_clients, sys_creds.os_domain_my_role) self.assertTrue(hasattr(sys_creds, 'os_roles_domain_my_role')) self.assertEqual(expected_clients, sys_creds.os_roles_domain_my_role) self.assertTrue(hasattr(sys_creds, 'os_system_my_role')) self.assertEqual(expected_clients, sys_creds.os_system_my_role) self.assertTrue(hasattr(sys_creds, 'os_roles_system_my_role')) self.assertEqual(expected_clients, sys_creds.os_roles_system_my_role) self.assertEqual(4, mock_get_client_manager.call_count) self.assertEqual( expected_creds[0][1:], mock_get_client_manager.mock_calls[0][2]['roles']) self.assertEqual( 'project', mock_get_client_manager.mock_calls[0][2]['scope']) self.assertEqual( expected_creds[1][1:], mock_get_client_manager.mock_calls[1][2]['roles']) self.assertEqual( 'project', mock_get_client_manager.mock_calls[1][2]['scope']) self.assertEqual( expected_creds[2][1:], mock_get_client_manager.mock_calls[2][2]['roles']) self.assertEqual( 'domain', mock_get_client_manager.mock_calls[2][2]['scope']) self.assertEqual( expected_creds[3][1:], mock_get_client_manager.mock_calls[3][2]['roles']) self.assertEqual( 'system', mock_get_client_manager.mock_calls[3][2]['scope']) ",,522,18
openstack%2Frequirements~master~I6a526d3011e4f7ea7a522b7d3c1057e97c8577dd,openstack/requirements,master,I6a526d3011e4f7ea7a522b7d3c1057e97c8577dd,Updated from generate-constraints,MERGED,2021-03-05 06:29:15.000000000,2021-03-07 01:13:52.000000000,2021-03-07 01:12:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 06:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b59b6c2240cc0026e51c75815764abab9ea47c8e', 'message': 'Updated from generate-constraints\n\nChange-Id: I6a526d3011e4f7ea7a522b7d3c1057e97c8577dd\n'}, {'number': 2, 'created': '2021-03-06 06:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3ff14831d85c6489976301872d89d2ba4ef58577', 'message': 'Updated from generate-constraints\n\nChange-Id: I6a526d3011e4f7ea7a522b7d3c1057e97c8577dd\n'}, {'number': 3, 'created': '2021-03-06 19:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fbd1851a9c9b02b93fa3ec5cdfd50f10378ed180', 'message': 'Updated from generate-constraints\n\nChange-Id: I6a526d3011e4f7ea7a522b7d3c1057e97c8577dd\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2021-03-06 21:56:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dd7ba07bc996fc076a120b26e1926ae14653555e', 'message': 'Updated from generate-constraints\n\nhold back tenacity-7.0.0\n\nChange-Id: I6a526d3011e4f7ea7a522b7d3c1057e97c8577dd\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,778844,dd7ba07bc996fc076a120b26e1926ae14653555e,18,2,4,11131,,,0,"Updated from generate-constraints

hold back tenacity-7.0.0

Change-Id: I6a526d3011e4f7ea7a522b7d3c1057e97c8577dd
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/44/778844/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b59b6c2240cc0026e51c75815764abab9ea47c8e,openstack/requirements/constraints/noclob,grpcio===1.36.1moto===2.0.1google-api-core===1.26.1defusedxml===0.7.0google-auth===1.27.1eventlet===0.30.2google-auth-httplib2===0.1.0google-api-python-client===2.0.2boto3===1.17.21yamlloader===1.0.0 protobuf===3.15.5botocore===1.20.21jsonpatch===1.31dulwich===0.20.20pymemcache===3.4.1pkg-resources===0.0.0tenacity===7.0.0xmlschema===1.5.2importlib-resources===5.1.2zipp===3.4.1,grpcio===1.36.0moto===2.0.0google-api-core===1.26.0defusedxml===0.6.0google-auth===1.27.0eventlet===0.30.1google-auth-httplib2===0.0.4google-api-python-client===1.12.8boto3===1.17.19yamlloader===0.5.5 protobuf===3.15.3botocore===1.20.19jsonpatch===1.30dulwich===0.20.19pymemcache===3.4.0tenacity===6.3.1xmlschema===1.5.1importlib-resources===5.1.1zipp===3.4.0setuptools===54.0.0,20,20
openstack%2Fos-brick~master~I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973,openstack/os-brick,master,I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973,Move os-brick to new hacking 4.0.0,MERGED,2021-02-10 15:14:52.000000000,2021-03-07 00:43:31.000000000,2021-03-05 01:44:45.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-10 15:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/60477a24f70e6aca96146134cc5cc32403f32fe3', 'message': 'Move os-brick to new hacking 4.0.0\n\nChange-Id: I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973\n'}, {'number': 2, 'created': '2021-02-10 18:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6b42d43b4a45a83de211805ef02a1cdef002585a', 'message': 'Move os-brick to new hacking 4.0.0\n\nChange-Id: I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973\n'}, {'number': 3, 'created': '2021-02-18 13:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1e2fa92b3af757017c156f2e95f42884a8274426', 'message': 'Move os-brick to new hacking 4.0.0\n\nChange-Id: I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973\n'}, {'number': 4, 'created': '2021-02-23 16:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/45c0b272649f07fc97b283e2d55c833247102672', 'message': 'Move os-brick to new hacking 4.0.0\n\nChange-Id: I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973\n'}, {'number': 5, 'created': '2021-03-04 19:17:52.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/tests/initiator/test_connector.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7faaf75948aec53dfe4f294470346ec464c74731', 'message': 'Move os-brick to new hacking 4.0.0\n\nChange-Id: I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973\n'}]",0,774883,7faaf75948aec53dfe4f294470346ec464c74731,70,6,5,30615,,,0,"Move os-brick to new hacking 4.0.0

Change-Id: I24704ab5b74b2f5bdc5b2343ed5ea1ae6acfe973
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/83/774883/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,60477a24f70e6aca96146134cc5cc32403f32fe3,,"hacking>=4.0.0,<4.0.1 # Apache-2.0","hacking>=3.1.0,<3.2.0 # Apache-2.0",1,1
openstack%2Fcinder~master~I394343fc2db128f3cead741846cde684196c3c05,openstack/cinder,master,I394343fc2db128f3cead741846cde684196c3c05,[SVF] Update volume replication properties,MERGED,2021-01-20 07:22:55.000000000,2021-03-07 00:42:50.000000000,2021-03-05 08:09:44.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 14806}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 32036}, {'_account_id': 32171}]","[{'number': 1, 'created': '2021-01-20 07:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e270c53382da13d570ebdb11f83a80914ff3e4cb', 'message': '[SVF] Update volume replication properties\n\n[Spectrum Virtualize Family] Updating replication properties in volume\nmetadata for hyperswap volumes and volumes with replication enabled\nthat were missed from metadata.\n\ncloses bug: #1912451\n\nChange-Id: I394343fc2db128f3cead741846cde684196c3c05\n'}, {'number': 2, 'created': '2021-01-21 09:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f29c7413a11fb31d5f7084765afd789d9dfb43ca', 'message': '[SVF] Update volume replication properties\n\n[Spectrum Virtualize Family] Updating replication properties in volume\nmetadata for hyperswap volumes and volumes with replication enabled\nthat were missed from metadata.\n\ncloses bug: #1912451\n\nChange-Id: I394343fc2db128f3cead741846cde684196c3c05\n'}, {'number': 3, 'created': '2021-01-22 16:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0cf4266aa16ad0bc64b02e3ec004695d5cd50df', 'message': '[SVF] Update volume replication properties\n\n[Spectrum Virtualize Family] Updating replication properties in volume\nmetadata for hyperswap volumes and volumes with replication enabled\nthat were missed from metadata.\n\ncloses bug: #1912451\n\nChange-Id: I394343fc2db128f3cead741846cde684196c3c05\n'}, {'number': 4, 'created': '2021-02-08 12:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0e1046d840975388ef522a9b4e1c8deac5e994f', 'message': '[SVF] Update volume replication properties\n\n[Spectrum Virtualize Family] Updating replication properties in volume\nmetadata for hyperswap volumes and volumes with replication enabled\nthat were missed from metadata.\n\ncloses bug: #1912451\n\nChange-Id: I394343fc2db128f3cead741846cde684196c3c05\n'}, {'number': 5, 'created': '2021-02-09 15:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d076320c9a2408f3544037addeccaceb5fae3e49', 'message': '[SVF] Update volume replication properties\n\n[Spectrum Virtualize Family] Updating replication properties in volume\nmetadata for hyperswap volumes and volumes with replication enabled\nthat were missed from metadata.\n\ncloses bug: #1912451\n\nChange-Id: I394343fc2db128f3cead741846cde684196c3c05\n'}, {'number': 6, 'created': '2021-02-18 14:46:56.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1912451-ibm-svf-update-replication-properties-68c4f9ea56df212d.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/01c9aba1fa12cfdd3e3ebd0a50974037c5c09ee2', 'message': '[SVF] Update volume replication properties\n\n[Spectrum Virtualize Family] Updated replication properties for\nHyperSwap volumes and volumes with replication enabled that were\nmissing from volume metadata.\n\ncloses bug: #1912451\n\nChange-Id: I394343fc2db128f3cead741846cde684196c3c05\n'}]",20,771563,01c9aba1fa12cfdd3e3ebd0a50974037c5c09ee2,192,8,6,32266,,,0,"[SVF] Update volume replication properties

[Spectrum Virtualize Family] Updated replication properties for
HyperSwap volumes and volumes with replication enabled that were
missing from volume metadata.

closes bug: #1912451

Change-Id: I394343fc2db128f3cead741846cde684196c3c05
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/771563/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,e270c53382da13d570ebdb11f83a80914ff3e4cb,bug/1912451," def _update_replication_properties(self, ctxt, volume, model_update): relationship_info = self._helpers.get_relationship_info(volume.name) metadata = self.db.volume_admin_metadata_get(ctxt.elevated(), volume['id']) model_update['metadata'] = metadata # Update model during retype for replication if not relationship_info: # The following metadata needs to be updated during a retype if 'Aux Cluster Name' in model_update['metadata']: del model_update['metadata']['Aux Cluster Name'] if 'Mirroring State' in model_update['metadata']: del model_update['metadata']['Mirroring State'] if 'Copy Type' in model_update['metadata']: del model_update['metadata']['Copy Type'] if 'Aux Volume Name' in model_update['metadata']: del model_update['metadata']['Aux Volume Name'] else: if relationship_info.get('aux_cluster_name', None): model_update['metadata']['Aux Cluster Name'] =\ relationship_info['aux_cluster_name'] if relationship_info.get('state', None): model_update['metadata']['Mirroring State'] =\ relationship_info['state'] if relationship_info.get('copy_type', None): model_update['metadata']['Copy Type'] =\ relationship_info['copy_type'] if relationship_info.get('aux_vdisk_name', None): model_update['metadata']['Aux Volume Name'] =\ relationship_info['aux_vdisk_name'] return model_update model_update = dict() # Updating Hyperswap volume replication properties model_update = self._update_replication_properties(ctxt, volume, model_update) model_update['replication_status'] =\ fields.ReplicationStatus.NOT_CAPABLE model_update['replication_status'] = \ fields.ReplicationStatus.ENABLED model_update = dict() ctxt = context.get_admin_context() # Updating Hyperswap volume replication properties model_update = self._update_replication_properties(ctxt, tgt_volume, model_update) model_update['replication_status'] =\ fields.ReplicationStatus.NOT_CAPABLE model_update['replication_status'] = \ fields.ReplicationStatus.ENABLED model_update = dict() # Updating Hyperswap volume replication properties model_update = self._update_replication_properties(ctxt, volume, model_update)", model_update = None model_update = {'replication_status': fields.ReplicationStatus.NOT_CAPABLE} model_update = {'replication_status': fields.ReplicationStatus.ENABLED} ctxt = context.get_admin_context() model_update = {'replication_status': fields.ReplicationStatus.NOT_CAPABLE} model_update = {'replication_status': fields.ReplicationStatus.ENABLED} model_update = None,53,11
openstack%2Fos-brick~master~Ie7dcc859e1291bd1d50b1ae516be38d8732de836,openstack/os-brick,master,Ie7dcc859e1291bd1d50b1ae516be38d8732de836,Update requirements for wallaby release,MERGED,2021-03-05 02:04:22.000000000,2021-03-06 23:29:16.000000000,2021-03-05 15:56:21.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32171}]","[{'number': 1, 'created': '2021-03-05 02:04:22.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9a59547a4bde51682e9f960c37a40b6f1d10d2ac', 'message': ""Update requirements for wallaby release\n\nRaise the minimum versions in the various requirements files to\nreflect what we're actually testing with right now.\n\nChange-Id: Ie7dcc859e1291bd1d50b1ae516be38d8732de836\n""}]",1,778807,9a59547a4bde51682e9f960c37a40b6f1d10d2ac,17,5,1,5314,,,0,"Update requirements for wallaby release

Raise the minimum versions in the various requirements files to
reflect what we're actually testing with right now.

Change-Id: Ie7dcc859e1291bd1d50b1ae516be38d8732de836
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/07/778807/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt']",4,9a59547a4bde51682e9f960c37a40b6f1d10d2ac,update-requirements, openstackdocstheme>=2.2.7 # Apache-2.0 reno>=3.2.0 # Apache-2.0 sphinx>=3.5.1 # BSD os-api-ref>=2.1.0 # Apache-2.0 sphinxcontrib-apidoc>=0.3.0 # BSD,"openstackdocstheme>=2.2.1 # Apache-2.0 reno>=3.1.0 # Apache-2.0 sphinx>=2.0.0,!=2.1.0 # BSD os-api-ref>=1.5.0 # Apache-2.0 sphinxcontrib-apidoc>=0.2.0 # BSD",32,33
openstack%2Felection~master~Iea2bd07e34e4e2c800618eb9fff8c47515486df1,openstack/election,master,Iea2bd07e34e4e2c800618eb9fff8c47515486df1,Add Gage Hugo candidacy for OpenStack Helm,MERGED,2021-03-05 20:41:28.000000000,2021-03-06 22:44:24.000000000,2021-03-06 22:43:16.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 20:41:28.000000000', 'files': ['candidates/xena/OpenStack_Helm/gagehugo@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/290456b7bde6b8d5c2b722700c0ee45fc28d7d17', 'message': 'Add Gage Hugo candidacy for OpenStack Helm\n\nChange-Id: Iea2bd07e34e4e2c800618eb9fff8c47515486df1\n'}]",0,779046,290456b7bde6b8d5c2b722700c0ee45fc28d7d17,8,3,1,21420,,,0,"Add Gage Hugo candidacy for OpenStack Helm

Change-Id: Iea2bd07e34e4e2c800618eb9fff8c47515486df1
",git fetch https://review.opendev.org/openstack/election refs/changes/46/779046/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/OpenStack_Helm/gagehugo@gmail.com'],1,290456b7bde6b8d5c2b722700c0ee45fc28d7d17,,"Hello everyone, I would like to continue serving as the OpenStack-Helm PTL for the Xena cycle. This last cycle had us begin to publish chart tarballs publically on every chart change, making them easy to consume. We also shored up our testing coverage, setting up TLS gates as well as multinode ones. I would like to continue in the direction the project is going, further improving the project in these aspects and beyond. Thank you! - Gage ",,14,0
openstack%2Fpython-tripleoclient~master~Ib42a655a93a647651a20f1d6ac42fcb96bb4c271,openstack/python-tripleoclient,master,Ib42a655a93a647651a20f1d6ac42fcb96bb4c271,UX improvement when no nodes are found,MERGED,2021-03-04 21:18:46.000000000,2021-03-06 21:59:39.000000000,2021-03-06 21:58:31.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-04 21:18:46.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/590df6635b7bd1f38e99a038b7db54c41976bd0e', 'message': 'UX improvement when no nodes are found\n\nWhen an operator executes a client command targetting the overcloud\nthe client performs a host lookup which can fail there are no hosts\nreturned from a given stack. This change implements a check that\nthe object has some value before attempting to iterate through the\nnodes. If the object is null, an exception is raised to inform the\noperator there was an error, and provides insight on how they might\nresolve the issue. This is an improvement over the current setup\nwhich simply results in an AttributeError should no nodes be\nreturned from a given stack.\n\nChange-Id: Ib42a655a93a647651a20f1d6ac42fcb96bb4c271\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,778778,590df6635b7bd1f38e99a038b7db54c41976bd0e,12,3,1,7353,,,0,"UX improvement when no nodes are found

When an operator executes a client command targetting the overcloud
the client performs a host lookup which can fail there are no hosts
returned from a given stack. This change implements a check that
the object has some value before attempting to iterate through the
nodes. If the object is null, an exception is raised to inform the
operator there was an error, and provides insight on how they might
resolve the issue. This is an improvement over the current setup
which simply results in an AttributeError should no nodes be
returned from a given stack.

Change-Id: Ib42a655a93a647651a20f1d6ac42fcb96bb4c271
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/778778/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,590df6635b7bd1f38e99a038b7db54c41976bd0e,ux-cli, if not role_net_ip_map: raise exceptions.DeploymentError( 'No overcloud hosts were found in the current stack.' ' Check the stack name and try again.' ),,5,0
openstack%2Fglance~master~Icd56ce4f0fb0b70fdfc649474766b638a707fdd0,openstack/glance,master,Icd56ce4f0fb0b70fdfc649474766b638a707fdd0,Bump Images API version to 2.12,MERGED,2021-02-16 15:34:27.000000000,2021-03-06 21:55:06.000000000,2021-03-06 21:53:41.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 15:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bd6d0e4006d349278ef87f85a96641d50040aaf0', 'message': 'Bump Images API version to 2.12\n\nChange-Id: Icd56ce4f0fb0b70fdfc649474766b638a707fdd0\n'}, {'number': 2, 'created': '2021-02-19 19:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/98e8b883ec7e5f723d5524cae3456133d922d262', 'message': 'Bump Images API version to 2.12\n\nChange-Id: Icd56ce4f0fb0b70fdfc649474766b638a707fdd0\n'}, {'number': 3, 'created': '2021-02-19 20:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b1969f54fb0e53bcda2bf1e17f6127cf8d888a2c', 'message': 'Bump Images API version to 2.12\n\nChange-Id: Icd56ce4f0fb0b70fdfc649474766b638a707fdd0\n'}, {'number': 4, 'created': '2021-02-22 06:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/37c8c75dbdf3c59d9e436878847af677f59102ea', 'message': 'Bump Images API version to 2.12\n\nChange-Id: Icd56ce4f0fb0b70fdfc649474766b638a707fdd0\n'}, {'number': 5, 'created': '2021-02-24 06:00:03.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/af3ce1adc98cf652e06af0fdb87206c9897ace2f', 'message': 'Bump Images API version to 2.12\n\nRelated: blueprint messages-api\nChange-Id: Icd56ce4f0fb0b70fdfc649474766b638a707fdd0\n'}]",1,775860,af3ce1adc98cf652e06af0fdb87206c9897ace2f,26,4,5,9303,,,0,"Bump Images API version to 2.12

Related: blueprint messages-api
Change-Id: Icd56ce4f0fb0b70fdfc649474766b638a707fdd0
",git fetch https://review.opendev.org/openstack/glance refs/changes/60/775860/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py']",3,bd6d0e4006d349278ef87f85a96641d50040aaf0,bump-image-api-version," build_version_object(2.12, 'v2', 'CURRENT'), build_version_object(2.11, 'v2', 'SUPPORTED'),"," build_version_object(2.11, 'v2', 'CURRENT'),",28,9
openstack%2Fneutron~stable%2Fstein~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,stable/stein,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-03 10:21:23.000000000,2021-03-06 21:55:04.000000000,2021-03-06 21:53:34.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 10:21:23.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/afbcd89f7e614a6c2ef565b4b17dc754307c3a5a', 'message': 'Fix wrong packet_type set for IPv6 GRE tunnels in OVS\n\nIn patch [1] it was by mistake set to ""legacy"" but it should be\n""legacy_l2"".\nThis patch fixes that mistake.\n\nCloses-bug: #1917448\n\n[1] https://review.opendev.org/c/openstack/neutron/+/763204\n\nConflicts:\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n\nChange-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238\n(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)\n'}]",0,778417,afbcd89f7e614a6c2ef565b4b17dc754307c3a5a,15,3,1,11975,,,0,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/778417/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",3,afbcd89f7e614a6c2ef565b4b17dc754307c3a5a,bug/1917448-stable/victoria-stable/ussuri-stable/train-stable/stein," 'packet_type': 'legacy_l2',",,3,2
openstack%2Ftrove-dashboard~master~I5e471554b30568bd96cb78d922767e644549c873,openstack/trove-dashboard,master,I5e471554b30568bd96cb78d922767e644549c873,Add ability to update allowed_cidr for an existing instance.,MERGED,2021-02-23 00:22:40.000000000,2021-03-06 20:52:51.000000000,2021-03-06 20:51:11.000000000,"[{'_account_id': 1736}, {'_account_id': 3031}, {'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 00:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/49e4f7af3e9245fd8c7cb1ecc3ede9d7d77ad403', 'message': 'Add ability to update allowed_cidr for an existing instance.\n\nChange-Id: I5e471554b30568bd96cb78d922767e644549c873\n'}, {'number': 2, 'created': '2021-02-23 00:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/3b956fb0e7fc8ef9a04b8602958e321c88e650a9', 'message': 'Add ability to update allowed_cidr for an existing instance.\n\nChange-Id: I5e471554b30568bd96cb78d922767e644549c873\n'}, {'number': 3, 'created': '2021-02-23 03:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/b7b27e206ab67238d2ce19c022739d5b5dfab10f', 'message': 'Add ability to update allowed_cidr for an existing instance.\n\nChange-Id: I5e471554b30568bd96cb78d922767e644549c873\n'}, {'number': 4, 'created': '2021-03-06 20:25:36.000000000', 'files': ['releasenotes/notes/allow-updating-of-allowed-cidr-18d04641909ec3e3.yaml', 'trove_dashboard/api/trove.py', 'trove_dashboard/content/databases/forms.py', 'trove_dashboard/content/databases/views.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/26a40acc6e641e449db1913edf46e899ecb13d09', 'message': 'Add ability to update allowed_cidr for an existing instance.\n\nChange-Id: I5e471554b30568bd96cb78d922767e644549c873\n'}]",0,777029,26a40acc6e641e449db1913edf46e899ecb13d09,15,4,4,3031,,,0,"Add ability to update allowed_cidr for an existing instance.

Change-Id: I5e471554b30568bd96cb78d922767e644549c873
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/29/777029/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/allow-updating-of-allowed-cidr-18d04641909ec3e3.yaml', 'trove_dashboard/api/trove.py', 'trove_dashboard/content/databases/forms.py', 'trove_dashboard/content/databases/views.py']",4,49e4f7af3e9245fd8c7cb1ecc3ede9d7d77ad403,," 'allowed_cidr': instance.access.get( 'allowed_cidr', '0.0.0.0/0'),",,22,3
openstack%2Fglance-tempest-plugin~master~I9515dff85f8d00c657ca7053b21202d530098ccf,openstack/glance-tempest-plugin,master,I9515dff85f8d00c657ca7053b21202d530098ccf,Increase oslo.policy logging for protection tests,MERGED,2021-03-03 04:14:12.000000000,2021-03-06 20:30:43.000000000,2021-03-06 20:30:43.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 04:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/3b138463fb0adfcb43442c408ccf8a9203116596', 'message': ""Increase oslo.policy logging for protection tests\n\nOne of the advantages of protection tests is to make sure glance is\ndoing the right thing with oslo.policy. This commit increase the\noslo.policy debug logging so we can more easily see what's going on in\nlogs.\n\nChange-Id: I9515dff85f8d00c657ca7053b21202d530098ccf\n""}, {'number': 2, 'created': '2021-03-04 13:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/9ebd208d406ecac43bde6098917701c9e173740a', 'message': ""Increase oslo.policy logging for protection tests\n\nOne of the advantages of protection tests is to make sure glance is\ndoing the right thing with oslo.policy. This commit increase the\noslo.policy debug logging so we can more easily see what's going on in\nlogs.\n\nChange-Id: I9515dff85f8d00c657ca7053b21202d530098ccf\n""}, {'number': 3, 'created': '2021-03-06 19:00:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/b23fefad3e6b90e8985b6667b580be69ee0c9532', 'message': ""Increase oslo.policy logging for protection tests\n\nOne of the advantages of protection tests is to make sure glance is\ndoing the right thing with oslo.policy. This commit increase the\noslo.policy debug logging so we can more easily see what's going on in\nlogs.\n\nChange-Id: I9515dff85f8d00c657ca7053b21202d530098ccf\n""}]",0,778356,b23fefad3e6b90e8985b6667b580be69ee0c9532,14,2,3,5046,,,0,"Increase oslo.policy logging for protection tests

One of the advantages of protection tests is to make sure glance is
doing the right thing with oslo.policy. This commit increase the
oslo.policy debug logging so we can more easily see what's going on in
logs.

Change-Id: I9515dff85f8d00c657ca7053b21202d530098ccf
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/56/778356/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3b138463fb0adfcb43442c408ccf8a9203116596,secure-rbac," devstack_local_conf: test-config: $GLANCE_API_CONF: DEFAULT: default_log_levels: ""amqp=WARN, amqplib=WARN, boto=WARN, qpid=WARN, sqlalchemy=WARN, suds=INFO, oslo.messaging=INFO, oslo_messaging=INFO, iso8601=WARN, requests.packages.urllib3.connectionpool=WARN, urllib3.connectionpool=WARN, websocket=WARN, requests.packages.urllib3.util.retry=WARN, urllib3.util.retry=WARN, keystonemiddleware=WARN, routes.middleware=WARN, stevedore=WARN, taskflow=WARN, keystoneauth=WARN, oslo.cache=INFO, dogpile.core.dogpile=INFO, oslo_policy=DEBUG"" $GLANCE_API_CONF: DEFAULT: default_log_levels: ""amqp=WARN, amqplib=WARN, boto=WARN, qpid=WARN, sqlalchemy=WARN, suds=INFO, oslo.messaging=INFO, oslo_messaging=INFO, iso8601=WARN, requests.packages.urllib3.connectionpool=WARN, urllib3.connectionpool=WARN, websocket=WARN, requests.packages.urllib3.util.retry=WARN, urllib3.util.retry=WARN, keystonemiddleware=WARN, routes.middleware=WARN, stevedore=WARN, taskflow=WARN, keystoneauth=WARN, oslo.cache=INFO, dogpile.core.dogpile=INFO, oslo_policy=DEBUG""",,8,0
openstack%2Fglance-tempest-plugin~master~Id4e788395483187e15f000b11b1ad612b5c5093e,openstack/glance-tempest-plugin,master,Id4e788395483187e15f000b11b1ad612b5c5093e,trivial: Fix incorrect project name in setup.cfg,MERGED,2021-02-02 03:10:05.000000000,2021-03-06 20:22:17.000000000,2021-03-06 20:22:17.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 03:10:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/92c98e36302f45cd85137782fc35992a7c35e4e8', 'message': 'trivial: Fix incorrect project name in setup.cfg\n\nThis must have been left over copy/pasta from when the tempest plumbing\nwas laid down during the community goal.\n\nChange-Id: Id4e788395483187e15f000b11b1ad612b5c5093e\n'}]",0,773562,92c98e36302f45cd85137782fc35992a7c35e4e8,9,4,1,5046,,,0,"trivial: Fix incorrect project name in setup.cfg

This must have been left over copy/pasta from when the tempest plumbing
was laid down during the community goal.

Change-Id: Id4e788395483187e15f000b11b1ad612b5c5093e
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/62/773562/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,92c98e36302f45cd85137782fc35992a7c35e4e8,,summary = Tempest plugin tests for Glance.,summary = Tempest plugin tests for Cinder.,1,1
openstack%2Frequirements~master~Ia2899b52214fd4babebbbe4fd84754611b8b6a23,openstack/requirements,master,Ia2899b52214fd4babebbbe4fd84754611b8b6a23,Updated from generate-constraints,ABANDONED,2021-03-04 06:20:19.000000000,2021-03-06 19:39:00.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 06:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/18bd5202c04da8c24a21b737b305a600fd33a2ca', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia2899b52214fd4babebbbe4fd84754611b8b6a23\n'}, {'number': 2, 'created': '2021-03-04 06:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4a64c59d52a2018385646b2890ed19bc97b0faa6', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia2899b52214fd4babebbbe4fd84754611b8b6a23\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2021-03-04 07:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b374c8f2e63bff62254d784473b827744228f1ae', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia2899b52214fd4babebbbe4fd84754611b8b6a23\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2021-03-04 07:02:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d559668f8b2d2e3ee67675f20c8857eadc3a50a0', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia2899b52214fd4babebbbe4fd84754611b8b6a23\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,778614,d559668f8b2d2e3ee67675f20c8857eadc3a50a0,15,2,4,11131,,,0,"Updated from generate-constraints

Change-Id: Ia2899b52214fd4babebbbe4fd84754611b8b6a23
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/778614/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,18bd5202c04da8c24a21b737b305a600fd33a2ca,openstack/requirements/constraints/noclob,grpcio===1.36.1moto===2.0.1eventlet===0.30.2castellan===3.7.1boto3===1.17.20yamlloader===1.0.0 protobuf===3.15.4botocore===1.20.20dulwich===0.20.20pkg-resources===0.0.0tenacity===7.0.0ovsdbapp===1.9.0,grpcio===1.36.0moto===2.0.0eventlet===0.30.1castellan===3.7.0boto3===1.17.19yamlloader===0.5.5 protobuf===3.15.3botocore===1.20.19dulwich===0.20.19tenacity===6.3.1ovsdbapp===1.8.0setuptools===54.0.0,12,12
openstack%2Fglance~master~Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89,openstack/glance,master,Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89,Add glance functional protection tests to check and gate,MERGED,2021-03-01 21:51:01.000000000,2021-03-06 19:36:28.000000000,2021-03-06 19:32:49.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 21:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0b2cb7481724335856e8e4cb64d0c385f605c9b3', 'message': ""Add glance functional protection tests for project personas\n\nThis commit updates glance's zuul configuration to tack on a job\ndedicated to protection API authroization. The tests for this job live\nin glance-tempest-plugin and they currently test full support for\nproject-reader and project-admin against in the images API.\n\nFuture changes will update the policies in glance to consume\nsystem-scope and additional test coverage will be added to\nglance-tempest-plugin. But, until that happens, having protection\ntesting as part of the check and gate jobs is vital to ensuring we don't\ninadvertently expose sensitive information or APIs to users.\n\nDepends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742\nChange-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89\n""}, {'number': 2, 'created': '2021-03-01 21:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0b3f91c885787a9b7b1b0d4905c0b5daa3cc6ac3', 'message': ""Add glance functional protection tests to check and gate\n\nThis commit updates glance's zuul configuration to tack on a job\ndedicated to protecting API authroization. The tests for this job live\nin glance-tempest-plugin and they currently test full support for\nproject-reader and project-admin against the images API.\n\nFuture changes will update the policies in glance to consume\nsystem-scope and additional test coverage will be added to\nglance-tempest-plugin. But, until that happens, having protection\ntesting as part of the check and gate jobs is vital to ensuring we don't\ninadvertently expose sensitive information or APIs to users.\n\nThis level of testing will also be useful in the future if we decide to\nrefactor authorization logic out of various parts of glance and into a\nconsistent layer.\n\nDepends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742\nChange-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89\n""}, {'number': 3, 'created': '2021-03-02 13:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1c60dfa625cdc4810c1f0ddb21f57b79647a09b9', 'message': ""Add glance functional protection tests to check and gate\n\nThis commit updates glance's zuul configuration to tack on a job\ndedicated to protecting API authroization. The tests for this job live\nin glance-tempest-plugin and they currently test full support for\nproject-reader and project-admin against the images API.\n\nFuture changes will update the policies in glance to consume\nsystem-scope and additional test coverage will be added to\nglance-tempest-plugin. But, until that happens, having protection\ntesting as part of the check and gate jobs is vital to ensuring we don't\ninadvertently expose sensitive information or APIs to users.\n\nThis level of testing will also be useful in the future if we decide to\nrefactor authorization logic out of various parts of glance and into a\nconsistent layer.\n\nDepends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742\nChange-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89\n""}, {'number': 4, 'created': '2021-03-02 14:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/44943996a7580cd56bc0a313ec733c34a63a04f7', 'message': ""Add glance functional protection tests to check and gate\n\nThis commit updates glance's zuul configuration to tack on a job\ndedicated to protecting API authroization. The tests for this job live\nin glance-tempest-plugin and they currently test full support for\nproject-reader and project-admin against the images API.\n\nFuture changes will update the policies in glance to consume\nsystem-scope and additional test coverage will be added to\nglance-tempest-plugin. But, until that happens, having protection\ntesting as part of the check and gate jobs is vital to ensuring we don't\ninadvertently expose sensitive information or APIs to users.\n\nThis level of testing will also be useful in the future if we decide to\nrefactor authorization logic out of various parts of glance and into a\nconsistent layer.\n\nDepends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742\nChange-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89\n""}, {'number': 5, 'created': '2021-03-02 14:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9c575c1124f648d49437710197a830ca98b1ba0d', 'message': ""Add glance functional protection tests to check and gate\n\nThis commit updates glance's zuul configuration to tack on a job\ndedicated to protecting API authroization. The tests for this job live\nin glance-tempest-plugin and they currently test full support for\nproject-reader and project-admin against the images API.\n\nFuture changes will update the policies in glance to consume\nsystem-scope and additional test coverage will be added to\nglance-tempest-plugin. But, until that happens, having protection\ntesting as part of the check and gate jobs is vital to ensuring we don't\ninadvertently expose sensitive information or APIs to users.\n\nThis level of testing will also be useful in the future if we decide to\nrefactor authorization logic out of various parts of glance and into a\nconsistent layer.\n\nDepends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742\nChange-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89\n""}, {'number': 6, 'created': '2021-03-02 19:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/adad19680177b6edf560630afeb0be4561b1efac', 'message': ""Add glance functional protection tests to check and gate\n\nThis commit updates glance's zuul configuration to tack on a job\ndedicated to protecting API authroization. The tests for this job live\nin glance-tempest-plugin and they currently test full support for\nproject-reader and project-admin against the images API.\n\nFuture changes will update the policies in glance to consume\nsystem-scope and additional test coverage will be added to\nglance-tempest-plugin. But, until that happens, having protection\ntesting as part of the check and gate jobs is vital to ensuring we don't\ninadvertently expose sensitive information or APIs to users.\n\nThis level of testing will also be useful in the future if we decide to\nrefactor authorization logic out of various parts of glance and into a\nconsistent layer.\n\nDepends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742\nChange-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89\n""}, {'number': 7, 'created': '2021-03-03 23:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/62d5ccbc8b05783a110f501d57bbfd7c1f4e59eb', 'message': ""Add glance functional protection tests to check and gate\n\nThis commit updates glance's zuul configuration to tack on a job\ndedicated to protecting API authroization. The tests for this job live\nin glance-tempest-plugin and they currently test full support for\nproject-reader and project-admin against the images API.\n\nFuture changes will update the policies in glance to consume\nsystem-scope and additional test coverage will be added to\nglance-tempest-plugin. But, until that happens, having protection\ntesting as part of the check and gate jobs is vital to ensuring we don't\ninadvertently expose sensitive information or APIs to users.\n\nThis level of testing will also be useful in the future if we decide to\nrefactor authorization logic out of various parts of glance and into a\nconsistent layer.\n\nDepends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742\nChange-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89\n""}, {'number': 8, 'created': '2021-03-04 18:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1330fd8c218a0a9db4019888a7aabf834bd3fef0', 'message': ""Add glance functional protection tests to check and gate\n\nThis commit updates glance's zuul configuration to tack on a job\ndedicated to protecting API authroization. The tests for this job live\nin glance-tempest-plugin and they currently test full support for\nproject-reader and project-admin against the images API.\n\nFuture changes will update the policies in glance to consume\nsystem-scope and additional test coverage will be added to\nglance-tempest-plugin. But, until that happens, having protection\ntesting as part of the check and gate jobs is vital to ensuring we don't\ninadvertently expose sensitive information or APIs to users.\n\nThis level of testing will also be useful in the future if we decide to\nrefactor authorization logic out of various parts of glance and into a\nconsistent layer.\n\nDepends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742\nChange-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89\n""}, {'number': 9, 'created': '2021-03-04 21:56:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/8d694786d3f2450b6cfe1e8fe5cb8a54f9623662', 'message': ""Add glance functional protection tests to check and gate\n\nThis commit updates glance's zuul configuration to tack on a job\ndedicated to protecting API authroization. The tests for this job live\nin glance-tempest-plugin and they currently test full support for\nproject-reader and project-admin against the images API.\n\nFuture changes will update the policies in glance to consume\nsystem-scope and additional test coverage will be added to\nglance-tempest-plugin. But, until that happens, having protection\ntesting as part of the check and gate jobs is vital to ensuring we don't\ninadvertently expose sensitive information or APIs to users.\n\nThis level of testing will also be useful in the future if we decide to\nrefactor authorization logic out of various parts of glance and into a\nconsistent layer.\n\nDepends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742\nChange-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89\n""}]",3,778079,8d694786d3f2450b6cfe1e8fe5cb8a54f9623662,45,3,9,5046,,,0,"Add glance functional protection tests to check and gate

This commit updates glance's zuul configuration to tack on a job
dedicated to protecting API authroization. The tests for this job live
in glance-tempest-plugin and they currently test full support for
project-reader and project-admin against the images API.

Future changes will update the policies in glance to consume
system-scope and additional test coverage will be added to
glance-tempest-plugin. But, until that happens, having protection
testing as part of the check and gate jobs is vital to ensuring we don't
inadvertently expose sensitive information or APIs to users.

This level of testing will also be useful in the future if we decide to
refactor authorization logic out of various parts of glance and into a
consistent layer.

Depends-On: https://review.opendev.org/c/openstack/glance-tempest-plugin/+/775742
Change-Id: Iddee8144fb21b7ac2dec4e7fbc62c132c186fa89
",git fetch https://review.opendev.org/openstack/glance refs/changes/79/778079/9 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0b2cb7481724335856e8e4cb64d0c385f605c9b3,secure-rbac, - glance-protection-functional - glance-protection-functional,,2,0
openstack%2Fcinder~master~I7bad7b5ebaff3d191c0701a9e72ed4c6334ecaa3,openstack/cinder,master,I7bad7b5ebaff3d191c0701a9e72ed4c6334ecaa3,Update secure RBAC check strings with descriptions,MERGED,2020-11-18 14:41:53.000000000,2021-03-06 19:27:31.000000000,2021-03-05 05:29:20.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9954}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-11-18 14:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a534eb51f1f4bf27a3dcf92d1431d95cbb044a3', 'message': 'Update secure RBAC check strings with descriptions\n\nThis commit attempts to clarify the intended usage of each persona.\nAfter reading the comment for each, it should be clear how and when to\napply them to specific resources. If not, then we should continue to\nimprove the definition and remove ambiguity.\n\nChange-Id: I7bad7b5ebaff3d191c0701a9e72ed4c6334ecaa3\n'}, {'number': 2, 'created': '2020-11-18 14:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3e4b7608ca674cc83730ded332fddd2755d7af0', 'message': 'Update secure RBAC check strings with descriptions\n\nThis commit attempts to clarify the intended usage of each persona.\nAfter reading the comment for each, it should be clear how and when to\napply them to specific resources. If not, then we should continue to\nimprove the definition and remove ambiguity.\n\nThis commit also adds a new composite check string for system\nadministrators and project members. This implements a more robust\nsecurity posture where system administrators are allowed to do things\nthat project member can do. Individual deployments can offload some of\nthe administrative burden to system members if desired by override the\ndefault SYSTEM_ADMIN_OR_PROJECT_MEMBER check string.\n\nChange-Id: I7bad7b5ebaff3d191c0701a9e72ed4c6334ecaa3\n'}, {'number': 3, 'created': '2021-02-16 16:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/889611b531b37532ad6229ff85f150ae38803832', 'message': 'Update secure RBAC check strings with descriptions\n\nThis commit attempts to clarify the intended usage of each persona.\nAfter reading the comment for each, it should be clear how and when to\napply them to specific resources. If not, then we should continue to\nimprove the definition and remove ambiguity.\n\nThis commit also adds a new composite check string for system\nadministrators and project members. This implements a more robust\nsecurity posture where system administrators are allowed to do things\nthat project member can do. Individual deployments can offload some of\nthe administrative burden to system members if desired by override the\ndefault SYSTEM_ADMIN_OR_PROJECT_MEMBER check string.\n\nChange-Id: I7bad7b5ebaff3d191c0701a9e72ed4c6334ecaa3\n'}, {'number': 4, 'created': '2021-02-17 17:48:52.000000000', 'files': ['cinder/policies/base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fc6fab79d10a66a8e388d22e7f0ccb736b22eea', 'message': 'Update secure RBAC check strings with descriptions\n\nThis commit attempts to clarify the intended usage of each persona.\nAfter reading the comment for each, it should be clear how and when to\napply them to specific resources. If not, then we should continue to\nimprove the definition and remove ambiguity.\n\nThis commit also adds a new composite check string for system\nadministrators and project members. This implements a more robust\nsecurity posture where system administrators are allowed to do things\nthat project member can do. Individual deployments can offload some of\nthe administrative burden to system members if desired by override the\ndefault SYSTEM_ADMIN_OR_PROJECT_MEMBER check string.\n\nChange-Id: I7bad7b5ebaff3d191c0701a9e72ed4c6334ecaa3\n'}]",1,763195,9fc6fab79d10a66a8e388d22e7f0ccb736b22eea,154,17,4,5046,,,0,"Update secure RBAC check strings with descriptions

This commit attempts to clarify the intended usage of each persona.
After reading the comment for each, it should be clear how and when to
apply them to specific resources. If not, then we should continue to
improve the definition and remove ambiguity.

This commit also adds a new composite check string for system
administrators and project members. This implements a more robust
security posture where system administrators are allowed to do things
that project member can do. Individual deployments can offload some of
the administrative burden to system members if desired by override the
default SYSTEM_ADMIN_OR_PROJECT_MEMBER check string.

Change-Id: I7bad7b5ebaff3d191c0701a9e72ed4c6334ecaa3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/763195/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/base.py'],1,8a534eb51f1f4bf27a3dcf92d1431d95cbb044a3,secure-rbac,"# Generic policy check string for system administrators. These are the people # who need the highest level of authorization to operate the deployment. # They're allowed to create, read, update, or delete any system-specific # resource. They can also operate on project-specific resources where # applicable (e.g., cleaning up volumes or backups) # Generic policy check string for system users who don't require all the # authorization that system administrators typically have. This persona, or # check string, typically isn't used by default, but it's existence it useful # in the event a deployment wants to offload some administrative action from # system administrator to system members # Generic policy check string for read-only access to system-level resources. # This persona is useful for someone who needs access for auditing or even # support. These uses are also able to view project-specific resources where # applicable (e.g., listing all volumes in the deployment, regardless of the # project they belong to).# This check string is reserved for actions that require the highest level of # authorization on a project or resources within the project (e.g., setting the # default volume type for a project) # This check string is the primary use case for typical end-users, who are # working with resources that belong to a project (e.g., creating volumes and # backups). # This check string should only be used to protect read-only project-specific # resources. It should not be used to protect APIs that make writable changes # (e.g., updating a volume or deleting a backup).",,28,0
openstack%2Fneutron~master~Ic15361e34a2a9c371954d2f0851d230b8f9feb1f,openstack/neutron,master,Ic15361e34a2a9c371954d2f0851d230b8f9feb1f,Remove try block from privileged ip_lib module,MERGED,2021-02-24 15:57:02.000000000,2021-03-06 19:20:36.000000000,2021-03-06 19:19:11.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 15:57:02.000000000', 'files': ['neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d442657363dc54a236b41cd651849ac42a9bf47', 'message': ""Remove try block from privileged ip_lib module\n\nIt was marked that this try..except.. block can be removed when we will\nbe using pyroute2 >= 0.5.13. Now we have 0.5.13 in the lower-constraints\nalready so it's time to remove it.\n\nChange-Id: Ic15361e34a2a9c371954d2f0851d230b8f9feb1f\n""}]",2,777415,8d442657363dc54a236b41cd651849ac42a9bf47,47,5,1,11975,,,0,"Remove try block from privileged ip_lib module

It was marked that this try..except.. block can be removed when we will
be using pyroute2 >= 0.5.13. Now we have 0.5.13 in the lower-constraints
already so it's time to remove it.

Change-Id: Ic15361e34a2a9c371954d2f0851d230b8f9feb1f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/777415/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/privileged/agent/linux/ip_lib.py'],1,8d442657363dc54a236b41cd651849ac42a9bf47,cleaning, link_id = ip.link_lookup(ifname=device), # TODO(ralonsoh): remove try block when the mininimum pyroute2 version # is >= 0.5.13 try: link_id = ip.link_lookup(ifname=device) except NetlinkError: link_id = None,1,6
openstack%2Fdevstack~master~Ic7e215c3e48a9c453d19355ad7d683494811d2af,openstack/devstack,master,Ic7e215c3e48a9c453d19355ad7d683494811d2af,Remove MAINTAINERS.rst,MERGED,2021-03-02 16:52:27.000000000,2021-03-06 18:57:19.000000000,2021-03-06 18:55:07.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 16:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c3850710a4ba75dc888e455322a5086563dad98d', 'message': 'Remove MAINTAINERS.rst\n\nThis file is mega out-of-date and no longer helpful. Remove it.\n\nChange-Id: Ic7e215c3e48a9c453d19355ad7d683494811d2af\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-03-05 15:11:29.000000000', 'files': ['HACKING.rst', 'MAINTAINERS.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3948fcb03c96bacc0c620de5b2c18a475e7afef2', 'message': 'Remove MAINTAINERS.rst\n\nThis file is mega out-of-date and no longer helpful. Remove it.\n\nChange-Id: Ic7e215c3e48a9c453d19355ad7d683494811d2af\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,778220,3948fcb03c96bacc0c620de5b2c18a475e7afef2,11,3,2,15334,,,0,"Remove MAINTAINERS.rst

This file is mega out-of-date and no longer helpful. Remove it.

Change-Id: Ic7e215c3e48a9c453d19355ad7d683494811d2af
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/778220/2 && git format-patch -1 --stdout FETCH_HEAD,"['HACKING.rst', 'MAINTAINERS.rst']",2,c3850710a4ba75dc888e455322a5086563dad98d,trivial,,MAINTAINERS =========== Overview -------- The following is a list of people known to have interests in particular areas or sub-systems of devstack. It is a rather general guide intended to help seed the initial reviewers list of a change. A +1 on a review from someone identified as being a maintainer of its affected area is a very positive flag to the core team for the veracity of the change. The ``devstack-core`` group can still be added to all reviews. Format ~~~~~~ The format of the file is the name of the maintainer and their gerrit-registered email. Maintainers ----------- .. contents:: :local: Ceph ~~~~ * Sebastien Han <sebastien.han@enovance.com> Cinder ~~~~~~ Fedora/CentOS/RHEL ~~~~~~~~~~~~~~~~~~ * Ian Wienand <iwienand@redhat.com> Neutron ~~~~~~~ MidoNet ~~~~~~~ * Jaume Devesa <devvesa@gmail.com> * Ryu Ishimoto <ryu@midokura.com> * YAMAMOTO Takashi <yamamoto@midokura.com> OpenDaylight ~~~~~~~~~~~~ * Kyle Mestery <mestery@mestery.com> OpenFlow Agent (ofagent) ~~~~~~~~~~~~~~~~~~~~~~~~ * YAMAMOTO Takashi <yamamoto@valinux.co.jp> * Fumihiko Kakuma <kakuma@valinux.co.jp> Swift ~~~~~ * Chmouel Boudjnah <chmouel@enovance.com> SUSE ~~~~ * Ralf Haferkamp <rhafer@suse.de> * Vincent Untz <vuntz@suse.com> Tempest ~~~~~~~ Zaqar (Marconi) ~~~~~~~~~~~~~~~ * Flavio Percoco <flaper87@gmail.com> * Malini Kamalambal <malini.kamalambal@rackspace.com> Oracle Linux ~~~~~~~~~~~~ * Wiekus Beukes <wiekus.beukes@oracle.com> ,0,91
openstack%2Fdevstack~master~If7055feb88391f496a5e5e4c72008bf0050c5356,openstack/devstack,master,If7055feb88391f496a5e5e4c72008bf0050c5356,Remove references to XenAPI driver,MERGED,2021-03-02 16:52:27.000000000,2021-03-06 18:56:23.000000000,2021-03-06 18:55:01.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 16:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a0a06eaef2e9a191b553eba35a84fb39226846df', 'message': 'Remove references to XenAPI driver\n\nThe XenAPI driver was removed during the Victoria release [1], while the\nlibvirt+xen driver has been removed in the Wallaby release [2]. Remove\nreferences to Xen from DevStack since its all a no-op now.\n\n[1] I42b302afbb1cfede7a0f7b16485a596cd70baf17\n[2] I73305e82da5d8da548961b801a8e75fb0e8c4cf1\n\nChange-Id: If7055feb88391f496a5e5e4c72008bf0050c5356\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-03-05 15:11:29.000000000', 'files': ['doc/source/plugins.rst', 'tools/uec/meta.py', 'functions', 'lib/nova', 'doc/source/configuration.rst', 'tools/image_list.sh', 'lib/cinder_plugins/XenAPINFS', 'lib/tempest', 'lib/nova_plugins/hypervisor-xenserver', 'functions-common', 'lib/glance', 'tools/xen/README.md', 'stackrc', 'HACKING.rst', 'MAINTAINERS.rst', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/970891a4ef863344fb1425727b3c3bf91b1c8bb5', 'message': 'Remove references to XenAPI driver\n\nThe XenAPI driver was removed during the Victoria release [1], while the\nlibvirt+xen driver has been removed in the Wallaby release [2]. Remove\nreferences to Xen from DevStack since its all a no-op now.\n\n[1] I42b302afbb1cfede7a0f7b16485a596cd70baf17\n[2] I73305e82da5d8da548961b801a8e75fb0e8c4cf1\n\nChange-Id: If7055feb88391f496a5e5e4c72008bf0050c5356\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,778219,970891a4ef863344fb1425727b3c3bf91b1c8bb5,11,3,2,15334,,,0,"Remove references to XenAPI driver

The XenAPI driver was removed during the Victoria release [1], while the
libvirt+xen driver has been removed in the Wallaby release [2]. Remove
references to Xen from DevStack since its all a no-op now.

[1] I42b302afbb1cfede7a0f7b16485a596cd70baf17
[2] I73305e82da5d8da548961b801a8e75fb0e8c4cf1

Change-Id: If7055feb88391f496a5e5e4c72008bf0050c5356
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/19/778219/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/plugins.rst', 'tools/uec/meta.py', 'functions', 'lib/nova', 'doc/source/configuration.rst', 'tools/image_list.sh', 'lib/cinder_plugins/XenAPINFS', 'lib/tempest', 'lib/nova_plugins/hypervisor-xenserver', 'functions-common', 'lib/glance', 'tools/xen/README.md', 'stackrc', 'HACKING.rst', 'MAINTAINERS.rst', 'stack.sh']",16,a0a06eaef2e9a191b553eba35a84fb39226846df,trivial,,"# Nova # ----- if is_service_enabled nova && [[ ""$VIRT_DRIVER"" == 'xenserver' ]]; then # Look for the backend password here because read_password # is not a library function. read_password XENAPI_PASSWORD ""ENTER A PASSWORD TO USE FOR XEN."" fi ",6,289
openstack%2Fglance-tempest-plugin~master~Ia57440962140fe9f8d47c29b1b49dfbe9f846149,openstack/glance-tempest-plugin,master,Ia57440962140fe9f8d47c29b1b49dfbe9f846149,"Add tests for image membership, deactivation, and reactivation",MERGED,2021-02-16 05:52:28.000000000,2021-03-06 18:51:54.000000000,2021-03-06 18:51:54.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 05:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/2ab1460b35af40b831804546823bce152d0f6db3', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/775741\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 2, 'created': '2021-02-16 15:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/7b10cd4dae85e7a63dbb6e26b0c430de3b0a5e30', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/775741\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 3, 'created': '2021-02-19 11:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/7764335bb84f83b103b4a7feb0ed417407c597aa', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/775741\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 4, 'created': '2021-02-24 17:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/fa0569bb7d68e297c5696b704ebfc25d616a3b01', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 5, 'created': '2021-03-02 19:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/8aba7de3151fd3972c68b5a915d1e3bc29a912fc', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 6, 'created': '2021-03-02 19:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/cab8d2bf0e30790aa42c7d734cf820ea7654920d', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 7, 'created': '2021-03-02 20:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/f4b668212aa7eab4b7126f09db1534924de84946', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 8, 'created': '2021-03-02 21:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/fac28bb104baecf82d609f061801832d7d7591df', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 9, 'created': '2021-03-02 22:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/f200b76c68dec1a8520c23297473e11de0404551', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 10, 'created': '2021-03-03 00:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/fcef73267fbd1f13b444c9cce78b692f7056720f', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 11, 'created': '2021-03-03 00:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/fa22c387d8e3054808e4bbf4faa336741e6242bb', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 12, 'created': '2021-03-03 20:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/f23f2b76d856111e68d745b9474dd8f0a83167a1', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 13, 'created': '2021-03-03 23:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/3fda3747466467b08bda61eeac647946f7a22b93', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}, {'number': 14, 'created': '2021-03-04 17:18:26.000000000', 'files': ['glance_tempest_plugin/tests/rbac/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/aec88f1ff59b90ee8fb3fc38cf1ea492934a209a', 'message': 'Add tests for image membership, deactivation, and reactivation\n\nThis commit builds on\nhttps://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by\nadding explicit tempest protection tests for sharing images between\nprojects, image deactivation, and reactivation.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/778753\n\nChange-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149\n'}]",30,775742,aec88f1ff59b90ee8fb3fc38cf1ea492934a209a,50,3,14,5046,,,0,"Add tests for image membership, deactivation, and reactivation

This commit builds on
https://review.opendev.org/c/openstack/glance-tempest-plugin/+/773568 by
adding explicit tempest protection tests for sharing images between
projects, image deactivation, and reactivation.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/778753

Change-Id: Ia57440962140fe9f8d47c29b1b49dfbe9f846149
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/42/775742/13 && git format-patch -1 --stdout FETCH_HEAD,['glance_tempest_plugin/tests/rbac/v2/test_images.py'],1,2ab1460b35af40b831804546823bce152d0f6db3,secure-rbac," @abc.abstractmethod def test_add_image_member(self): pass @abc.abstractmethod def test_get_image_member(self): pass @abc.abstractmethod def test_list_image_members(self): pass @abc.abstractmethod def test_update_image_member(self): pass @abc.abstractmethod def test_delete_image_member(self): pass @abc.abstractmethod def test_deactivate_image(self): pass @abc.abstractmethod def test_reactivate_image(self): pass @abc.abstractmethod def test_copy_image(self): pass def test_add_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('create_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member=member_project_id) def test_get_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('show_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member_id=member_project_id) def test_list_image_members(self): member_one_client = self.setup_user_client() member_one_project_id = member_one_client.credentials.project_id member_two_client = self.setup_user_client() member_two_project_id = member_two_client.credentials.project_id project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) for project_id in [member_one_project_id, member_two_project_id]: project_client.image_member_client_v2.create_image_member( image['id'], member=project_id) resp = self.do_request('list_image_members', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id']) members = set(m['member_id'] for m in resp['members']) self.assertIn(member_one_project_id, members) self.assertIn(member_two_project_id, members) def test_update_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member_id=member_project_id, status='accepted') def test_delete_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('delete_image_member', client=self.persona.image_member_client_v2, expected_status=204, image_id=image['id'], member_id=member_project_id) def test_deactivate_image(self): project_client = self.setup_user_client() file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=204, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=204, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=204, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=204, image_id=image['id']) def test_reactivate_image(self): project_client = self.setup_user_client() file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=204, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=204, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.admin_images_client.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=204, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.admin_images_client.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=204, image_id=image['id']) def test_copy_image(self): skip_msg = 'Copy image requires multiple glance backends.' raise self.skipException(skip_msg) def test_add_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('create_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.Forbidden, image_id=image['id'], member=member_project_id) def test_update_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.Forbidden, image_id=image['id'], member_id=member_project_id, status='accepted') def test_delete_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('delete_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.Forbidden, image_id=image['id'], member_id=member_project_id) def test_deactivate_image(self): project_client = self.setup_user_client() file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) def test_reactivate_image(self): project_client = self.setup_user_client() file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.admin_images_client.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.admin_images_client.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) def test_add_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('create_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member=member_project_id) def test_get_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('show_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member_id=member_project_id) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) # The user can't show the members for this image because they can't get # the image or pass the get_image policy, which is processed before # fetching the members. self.do_request('show_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id) def test_list_image_members(self): project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) member_one_client = self.setup_user_client(project_id=project_id) member_one_project_id = member_one_client.credentials.project_id member_two_client = self.setup_user_client() member_two_project_id = member_two_client.credentials.project_id project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) for project_id in [member_one_project_id, member_two_project_id]: project_client.image_member_client_v2.create_image_member( image['id'], member=project_id) resp = self.do_request('list_image_members', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id']) members = set(m['member_id'] for m in resp['members']) self.assertIn(member_one_project_id, members) self.assertNotIn(member_two_project_id, members) def test_update_image_member(self): project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=self.persona.credentials.project_id) self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member_id=self.persona.credentials.project_id, status='accepted') self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member_id=self.persona.credentials.project_id, status='rejected') member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id, status='accepted') self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id, status='rejected') def test_delete_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('delete_image_member', client=self.persona.image_member_client_v2, expected_status=204, image_id=image['id'], member_id=member_project_id) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('delete_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id) def test_deactivate_image(self): project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=204, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=204, image_id=image['id']) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) # The user can't deactivate this image because they can't find it. self.do_request('deactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) # The user can't deactivate this image because they can't find it. self.do_request('deactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) def test_reactivate_image(self): project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=204, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=204, image_id=image['id']) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) # The user can't reactivate this image because they can't find it. self.do_request('reactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) # The user can't reactivate this image because they can't find it. self.do_request('reactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.admin_images_client.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.admin_images_client.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) def test_copy_image(self): skip_msg = 'Copy image requires multiple glance backends.' raise self.skipException(skip_msg) def test_add_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('create_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.Forbidden, image_id=image['id'], member=member_project_id) def test_update_image_member(self): project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=self.persona.credentials.project_id) self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.Forbidden, image_id=image['id'], member_id=self.persona.credentials.project_id, status='accepted') self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.Forbidden, image_id=image['id'], member_id=self.persona.credentials.project_id, status='rejected') member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id, status='accepted') self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id, status='rejected') def test_delete_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('delete_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.Forbidden, image_id=image['id'], member_id=member_project_id) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('delete_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id) def test_deactivate_image(self): project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) # The user can't deactivate this image because they can't find it. self.do_request('deactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) # The user can't deactivate this image because they can't find it. self.do_request('deactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) def test_reactivate_image(self): project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) # The user can't reactivate this image because they can't find it. self.do_request('reactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) # The user can't reactivate this image because they can't find it. self.do_request('reactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.admin_images_client.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.admin_images_client.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id'])",,797,0
openstack%2Fdevstack~master~Idc95c6467a8c6e0c0ed07a6458425ff0a10ff995,openstack/devstack,master,Idc95c6467a8c6e0c0ed07a6458425ff0a10ff995,nova: Remove nova-xvpvncproxy,MERGED,2021-03-02 16:52:27.000000000,2021-03-06 18:38:44.000000000,2021-03-06 18:37:30.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 16:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2a2fe2620127b834de6fe689a3d9809b207bb6c8', 'message': ""nova: Remove nova-xvpvncproxy\n\nThis was removed this service from nova in Ussuri [1]. There's no need\nto keep this around.\n\n[1] I2f7f2379d0cd54e4d0a91008ddb44858cfc5a4cf\n\nChange-Id: Idc95c6467a8c6e0c0ed07a6458425ff0a10ff995\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-03-05 15:11:29.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3c6d1059298788d4ce35845fdb1bef2938046702', 'message': ""nova: Remove nova-xvpvncproxy\n\nThis was removed this service from nova in Ussuri [1]. There's no need\nto keep this around.\n\n[1] I2f7f2379d0cd54e4d0a91008ddb44858cfc5a4cf\n\nChange-Id: Idc95c6467a8c6e0c0ed07a6458425ff0a10ff995\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",11,778218,3c6d1059298788d4ce35845fdb1bef2938046702,14,3,2,15334,,,0,"nova: Remove nova-xvpvncproxy

This was removed this service from nova in Ussuri [1]. There's no need
to keep this around.

[1] I2f7f2379d0cd54e4d0a91008ddb44858cfc5a4cf

Change-Id: Idc95c6467a8c6e0c0ed07a6458425ff0a10ff995
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/778218/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,2a2fe2620127b834de6fe689a3d9809b207bb6c8,trivial," # (novnc, spice, serial) so that their ports will not collide if # These settings don't hurt anything if n-novnc is disabled SPICEHTML5PROXY_URL=${SPICEHTML5PROXY_URL:-""http://$SERVICE_HOST:$((6081 + offset))/spice_auto.html""} if is_service_enabled n-novnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then # (novnc, spice, serial) so that their ports will not collide if if is_service_enabled n-novnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then for srv in n-novnc n-spice n-sproxy; do for srv in n-novnc n-spice n-sproxy; do for srv in n-novnc n-spice n-sproxy; do"," # (novnc, xvpvnc, spice, serial) so that their ports will not collide if # These settings don't hurt anything if n-xvnc and n-novnc are disabled XVPVNCPROXY_URL=${XVPVNCPROXY_URL:-""http://$SERVICE_HOST:$((6081 + offset))/console""} iniset $NOVA_CPU_CONF vnc xvpvncproxy_base_url ""$XVPVNCPROXY_URL"" SPICEHTML5PROXY_URL=${SPICEHTML5PROXY_URL:-""http://$SERVICE_HOST:$((6082 + offset))/spice_auto.html""} if is_service_enabled n-novnc || is_service_enabled n-xvnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then # (novnc, xvpvnc, spice, serial) so that their ports will not collide if if is_service_enabled n-novnc || is_service_enabled n-xvnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then iniset $conf vnc xvpvncproxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf vnc xvpvncproxy_port $((6081 + offset)) for srv in n-novnc n-xvnc n-spice n-sproxy; do run_process n-xvnc ""$NOVA_BIN_DIR/nova-xvpvncproxy --config-file $api_cell_conf"" run_process n-xvnc-cell${i} ""$NOVA_BIN_DIR/nova-xvpvncproxy --config-file $conf"" for srv in n-novnc n-xvnc n-spice n-sproxy; do for srv in n-novnc n-xvnc n-spice n-sproxy; do",9,15
openstack%2Fglance~master~I8f1d03275e6ec51a802cc4b4107f3ab648f535a1,openstack/glance,master,I8f1d03275e6ec51a802cc4b4107f3ab648f535a1,Add missing fail case tests for image_conversion,MERGED,2021-02-09 20:14:25.000000000,2021-03-06 17:37:26.000000000,2021-03-06 17:35:00.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 20:14:25.000000000', 'files': ['glance/tests/unit/async_/flows/plugins/test_image_conversion.py', 'glance/async_/flows/plugins/image_conversion.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/050802dd67b9135e04a65d340531157c94248c51', 'message': 'Add missing fail case tests for image_conversion\n\nThe tests for the image_conversion plugin were missing basically all\nof the places where the task can fail (or NOP). This adds tests for\nthose things to validate behavior before moving the task to use the\nimport wrapper.\n\nNote that in the process, I found a potential bug in the handling of\nthe metadata response from qemu-img when probing for the format. We\ntolerate ""format"" being missing from the result, but will end up\npassing None as an argument to \'qemu-img convert\', which will fail.\nThis fixes that to raise RuntimeError in line with the existing\nbehavior of ""raise RuntimeError if any error is reported"".\n\nChange-Id: I8f1d03275e6ec51a802cc4b4107f3ab648f535a1\n'}]",2,774722,050802dd67b9135e04a65d340531157c94248c51,13,2,1,4393,,,0,"Add missing fail case tests for image_conversion

The tests for the image_conversion plugin were missing basically all
of the places where the task can fail (or NOP). This adds tests for
those things to validate behavior before moving the task to use the
import wrapper.

Note that in the process, I found a potential bug in the handling of
the metadata response from qemu-img when probing for the format. We
tolerate ""format"" being missing from the result, but will end up
passing None as an argument to 'qemu-img convert', which will fail.
This fixes that to raise RuntimeError in line with the existing
behavior of ""raise RuntimeError if any error is reported"".

Change-Id: I8f1d03275e6ec51a802cc4b4107f3ab648f535a1
",git fetch https://review.opendev.org/openstack/glance refs/changes/22/774722/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/flows/plugins/test_image_conversion.py', 'glance/async_/flows/plugins/image_conversion.py']",2,050802dd67b9135e04a65d340531157c94248c51,bug/1914826," try: source_format = metadata['format'] except KeyError: msg = (""Failed to do introspection as part of image "" ""conversion for %(iid)s: Source format not reported"") LOG.error(msg, {'iid': self.image_id}) raise RuntimeError(msg) ", source_format = metadata.get('format'),132,1
openstack%2Ftempest~master~I010434e1a97520cc7a55384af55e0b61ee4e2556,openstack/tempest,master,I010434e1a97520cc7a55384af55e0b61ee4e2556,Update dynamic creds to properly handle types during creation,MERGED,2021-03-04 17:14:33.000000000,2021-03-06 17:36:29.000000000,2021-03-06 17:33:36.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-04 17:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee0c04a69901d240d694400a8fc92be367faa026', 'message': 'Update dynamic creds to properly handle types during creation\n\nChange-Id: I010434e1a97520cc7a55384af55e0b61ee4e2556\n'}, {'number': 2, 'created': '2021-03-05 02:53:24.000000000', 'files': ['tempest/lib/common/dynamic_creds.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ef13f406b95cceaed5ce8d125574ec11399ec50d', 'message': ""Update dynamic creds to properly handle types during creation\n\nA recent change modified how credential_types are passed into\n_create_creds:\n\n  https://review.opendev.org/c/openstack/tempest/+/773177\n\nThis change updates the code to check for types and only cast creds to a\nlist if it's a string.\n\nIt also adds a condition to only create a project role assignment if the\ncredential type is project-scoped. Otherwise, this fails with\nsystem-scoped credentials.\n\nChange-Id: I010434e1a97520cc7a55384af55e0b61ee4e2556\n""}]",0,778753,ef13f406b95cceaed5ce8d125574ec11399ec50d,14,3,2,5046,,,0,"Update dynamic creds to properly handle types during creation

A recent change modified how credential_types are passed into
_create_creds:

  https://review.opendev.org/c/openstack/tempest/+/773177

This change updates the code to check for types and only cast creds to a
list if it's a string.

It also adds a condition to only create a project role assignment if the
credential type is project-scoped. Otherwise, this fails with
system-scoped credentials.

Change-Id: I010434e1a97520cc7a55384af55e0b61ee4e2556
",git fetch https://review.opendev.org/openstack/tempest refs/changes/53/778753/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/dynamic_creds.py'],1,ee0c04a69901d240d694400a8fc92be367faa026,778753," if scope == 'project': self.creds_client.assign_user_role( user, project, self.identity_admin_role) if isinstance(cred_type, str): cred_type = [cred_type] roles=cred_type, scope=scope)"," self.creds_client.assign_user_role( user, project, self.identity_admin_role) roles=[cred_type], scope=scope)",6,3
openstack%2Fglance~master~I6db86b3e17a6a2f78745b40381b9419fb4404a4e,openstack/glance,master,I6db86b3e17a6a2f78745b40381b9419fb4404a4e,Pass ImageActionWrapper to internal plugins,MERGED,2021-02-05 22:24:41.000000000,2021-03-06 17:36:27.000000000,2021-03-06 17:33:44.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 22:24:41.000000000', 'files': ['glance/tests/unit/async_/flows/test_web_download.py', 'glance/tests/unit/async_/flows/test_copy_image.py', 'glance/async_/flows/_internal_plugins/web_download.py', 'glance/async_/flows/api_image_import.py', 'glance/async_/flows/_internal_plugins/copy_image.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/68646db35d4a389237b9c1db75c074ba90fa1ec6', 'message': ""Pass ImageActionWrapper to internal plugins\n\nThe _internal_plugins/* tasks are not getting passed the\nImportActionWrapper, and thus are doing things against the image\nthat do not respect the task lock, nor apply multiple updates\natomically.\n\nThis fixes that and brings them in line with the base tasks, using the\nwrapper for things like getting the image_id. The copy_image task\nlooks at the image for a few other things that are not exposed out\nof the wrapper, so I left the image_repo.get() in that task until I\ncan extend it. They are read-only though, so not a big deal.\n\nThe web-download test also was not passing the right options to\nthat task (confusing task_repo and image_repo), which this cleans\nup as well. It was also missing validation of the code that reverts\nthe state to 'queued' when web-download fails, so that is added here\nas well.\n\nChange-Id: I6db86b3e17a6a2f78745b40381b9419fb4404a4e\nRelated-Bug: #1914826\n""}]",0,774313,68646db35d4a389237b9c1db75c074ba90fa1ec6,18,2,1,4393,,,0,"Pass ImageActionWrapper to internal plugins

The _internal_plugins/* tasks are not getting passed the
ImportActionWrapper, and thus are doing things against the image
that do not respect the task lock, nor apply multiple updates
atomically.

This fixes that and brings them in line with the base tasks, using the
wrapper for things like getting the image_id. The copy_image task
looks at the image for a few other things that are not exposed out
of the wrapper, so I left the image_repo.get() in that task until I
can extend it. They are read-only though, so not a big deal.

The web-download test also was not passing the right options to
that task (confusing task_repo and image_repo), which this cleans
up as well. It was also missing validation of the code that reverts
the state to 'queued' when web-download fails, so that is added here
as well.

Change-Id: I6db86b3e17a6a2f78745b40381b9419fb4404a4e
Related-Bug: #1914826
",git fetch https://review.opendev.org/openstack/glance refs/changes/13/774313/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/flows/test_web_download.py', 'glance/tests/unit/async_/flows/test_copy_image.py', 'glance/async_/flows/_internal_plugins/web_download.py', 'glance/async_/flows/api_image_import.py', 'glance/async_/flows/_internal_plugins/copy_image.py']",5,68646db35d4a389237b9c1db75c074ba90fa1ec6,bug/1914826," def __init__(self, task_id, task_type, image_repo, action_wrapper): self.image_id = action_wrapper.image_id self.action_wrapper = action_wrapper :param image_id: Image ID. :param action_wrapper: An api_image_import.ActionWrapper. action_wrapper = kwargs.get('action_wrapper') _CopyImage(task_id, task_type, image_repo, action_wrapper),"," def __init__(self, task_id, task_type, image_repo, image_id): self.image_id = image_id :param uri: URI the image data is downloaded from. image_id = kwargs.get('image_id') _CopyImage(task_id, task_type, image_repo, image_id),",56,44
openstack%2Fnova~master~Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6,openstack/nova,master,Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6,apidb: Compact Ocata database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-03-06 17:36:21.000000000,2021-03-06 17:34:24.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-23 11:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18f11ea742b70c8d911b12e03cb0a76fdef128d7', 'message': ""apidb: Compact Ocata database migrations\n\nSpecific changes include:\n\n- Add 'resource_classes' table (026)\n- Add 'quota_classes', 'quota_usages', 'quotas', 'project_user_quotas',\n  'reservations' and 'resource_classes' tables (027)\n- Alter type of 'instance' column of 'build_requests' table to\n  'MediumText' (028)\n- Add 'placement_aggregates' table (029)\n\nChange-Id: Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-01-19 10:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b45f19df8866464fe56fca8a9a3a4ddb158af58', 'message': ""apidb: Compact Ocata database migrations\n\nSpecific changes include:\n\n- Add 'resource_classes' table (026)\n- Add 'quota_classes', 'quota_usages', 'quotas', 'project_user_quotas',\n  'reservations' and 'resource_classes' tables (027)\n- Alter type of 'instance' column of 'build_requests' table to\n  'MediumText' (028)\n- Add 'placement_aggregates' table (029)\n\nChange-Id: Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-02-10 15:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca7d18b31590d9ad5109d7fb56aa9a4df46e233a', 'message': ""apidb: Compact Ocata database migrations\n\nSpecific changes include:\n\n- Add 'resource_classes' table (026)\n- Add 'quota_classes', 'quota_usages', 'quotas', 'project_user_quotas',\n  'reservations' and 'resource_classes' tables (027)\n- Alter type of 'instance' column of 'build_requests' table to\n  'MediumText' (028)\n- Add 'placement_aggregates' table (029)\n\nChange-Id: Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-02-10 19:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd0dc3cb51cbd3aac61b75341801fd1d2be8ff26', 'message': ""apidb: Compact Ocata database migrations\n\nSpecific changes include:\n\n- Add 'resource_classes' table (026)\n- Add 'quota_classes', 'quota_usages', 'quotas', 'project_user_quotas',\n  'reservations' and 'resource_classes' tables (027)\n- Alter type of 'instance' column of 'build_requests' table to\n  'MediumText' (028)\n- Add 'placement_aggregates' table (029)\n\nChange-Id: Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-03-03 11:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7575882a4feaf447180048c4b431015da52543a', 'message': ""apidb: Compact Ocata database migrations\n\nSpecific changes include:\n\n- Add 'resource_classes' table (026)\n- Add 'quota_classes', 'quota_usages', 'quotas', 'project_user_quotas',\n  'reservations' and 'resource_classes' tables (027)\n- Alter type of 'instance' column of 'build_requests' table to\n  'MediumText' (028)\n- Add 'placement_aggregates' table (029)\n\nNote that migration 030 included a check to ensure cell mappings were\ncreated when upgrading existing deployments. Since users will now be\nrequired to upgrade to at Ocata before running migrations, this is no\nlonger necessary. The check was never executed for new deployments,\nas noted in the migration itself:\n\n  NOTE(danms): We need to be careful here if this is a new\n  installation, which can't possibly have any mappings. Check\n  to see if any flavors are defined to determine if we are\n  upgrading an existing system. If not, then don't obsess over\n  the lack of mappings.\n\nChange-Id: Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-03-03 14:29:30.000000000', 'files': ['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/027_quotas.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/022_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/026_add_resource_classes.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/024_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/029_placement_aggregates.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/030_require_cell_setup.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/021_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/030_ocata.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/028_build_requests_instance_mediumtext.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/023_placeholder.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/025_placeholder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/743693c7401f510416552c327f93d5e43632c8d7', 'message': ""apidb: Compact Ocata database migrations\n\nSpecific changes include:\n\n- Add 'resource_classes' table (026)\n- Add 'quota_classes', 'quota_usages', 'quotas', 'project_user_quotas',\n  'reservations' and 'resource_classes' tables (027)\n- Alter type of 'instance' column of 'build_requests' table to\n  'MediumText' (028)\n- Add 'placement_aggregates' table (029)\n\nNote that migration 030 included a check to ensure cell mappings were\ncreated when upgrading existing deployments. Since users will now be\nrequired to upgrade to at Ocata before running migrations, this is no\nlonger necessary. The check was never executed for new deployments,\nas noted in the migration itself:\n\n  NOTE(danms): We need to be careful here if this is a new\n  installation, which can't possibly have any mappings. Check\n  to see if any flavors are defined to determine if we are\n  upgrading an existing system. If not, then don't obsess over\n  the lack of mappings.\n\nChange-Id: Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",19,759402,743693c7401f510416552c327f93d5e43632c8d7,89,12,6,15334,,,0,"apidb: Compact Ocata database migrations

Specific changes include:

- Add 'resource_classes' table (026)
- Add 'quota_classes', 'quota_usages', 'quotas', 'project_user_quotas',
  'reservations' and 'resource_classes' tables (027)
- Alter type of 'instance' column of 'build_requests' table to
  'MediumText' (028)
- Add 'placement_aggregates' table (029)

Note that migration 030 included a check to ensure cell mappings were
created when upgrading existing deployments. Since users will now be
required to upgrade to at Ocata before running migrations, this is no
longer necessary. The check was never executed for new deployments,
as noted in the migration itself:

  NOTE(danms): We need to be careful here if this is a new
  installation, which can't possibly have any mappings. Check
  to see if any flavors are defined to determine if we are
  upgrading an existing system. If not, then don't obsess over
  the lack of mappings.

Change-Id: Ibf82b5e8f46b89f8c7dcdc1925bf48d581cdc3f6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/759402/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/027_quotas.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/022_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/026_add_resource_classes.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/024_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/029_placement_aggregates.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/030_require_cell_setup.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/021_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/030_ocata.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/028_build_requests_instance_mediumtext.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/023_placeholder.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/025_placeholder.py']",14,18f11ea742b70c8d911b12e03cb0a76fdef128d7,bp/compact-db-migrations-wallaby,," # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for backports. # Do not use this number for new work. New work starts after # all the placeholders. # # See this for more information: # http://lists.openstack.org/pipermail/openstack-dev/2013-March/006827.html def upgrade(migrate_engine): pass ",111,607
openstack%2Fglance~master~Id613cfd61760c383c7c3cc6aea3f37eecb5ed4d9,openstack/glance,master,Id613cfd61760c383c7c3cc6aea3f37eecb5ed4d9,Make action wrapper support arbitrary properties,MERGED,2021-02-09 20:14:25.000000000,2021-03-06 17:34:06.000000000,2021-03-06 17:34:06.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 20:14:25.000000000', 'files': ['glance/async_/flows/_internal_plugins/web_download.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/5331f1e0badf0820a93264e6d7063927b2afe51b', 'message': 'Make action wrapper support arbitrary properties\n\nPreviously, the only attribute of the image that an import plugin\ncould change was the status. In order to convert the rest of the\nplugins to use the wrapper, we need to define additional properties\nthat they can mutate. This removes set_image_status() and replaces\nit with set_image_attribute() which allows a subset of those\nproperties to be set.\n\nThis also ends up passing the action wrapper to all plugin init\nmethods by way of just putting it straight into the kwargs that we\ngive to everything. That is added here as setup for the patches to\nfollow which depend on it.\n\nChange-Id: Id613cfd61760c383c7c3cc6aea3f37eecb5ed4d9\n'}]",0,774721,5331f1e0badf0820a93264e6d7063927b2afe51b,12,2,1,4393,,,0,"Make action wrapper support arbitrary properties

Previously, the only attribute of the image that an import plugin
could change was the status. In order to convert the rest of the
plugins to use the wrapper, we need to define additional properties
that they can mutate. This removes set_image_status() and replaces
it with set_image_attribute() which allows a subset of those
properties to be set.

This also ends up passing the action wrapper to all plugin init
methods by way of just putting it straight into the kwargs that we
give to everything. That is added here as setup for the patches to
follow which depend on it.

Change-Id: Id613cfd61760c383c7c3cc6aea3f37eecb5ed4d9
",git fetch https://review.opendev.org/openstack/glance refs/changes/21/774721/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/async_/flows/_internal_plugins/web_download.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",3,5331f1e0badf0820a93264e6d7063927b2afe51b,bug/1914826," wrapper.__enter__.return_value.set_image_attribute.assert_not_called() action.set_image_attribute.assert_called_once_with(status='queued') action.set_image_attribute(status='bar') def test_set_image_attribute(self): mock_repo = mock.MagicMock() mock_image = mock_repo.get.return_value mock_image.extra_properties = {'os_glance_import_task': TASK_ID1} mock_image.status = 'bar' wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1, TASK_ID1) with wrapper as action: action.set_image_attribute(status='foo', virtual_size=123) mock_repo.save.assert_called_once_with(mock_image, 'bar') self.assertEqual('foo', mock_image.status) self.assertEqual(123, mock_image.virtual_size) def test_set_image_attribute_disallowed(self): mock_repo = mock.MagicMock() mock_image = mock_repo.get.return_value mock_image.extra_properties = {'os_glance_import_task': TASK_ID1} mock_image.status = 'bar' wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1, TASK_ID1) with wrapper as action: self.assertRaises(AttributeError, action.set_image_attribute, id='foo') ", wrapper.__enter__.return_value.set_image_status.assert_not_called() action.set_image_status.assert_called_once_with('queued') action.set_image_status('bar'),46,12
openstack%2Fglance~master~Iebbb2dcb767ecf3c965f34f1ca04af20a2039be1,openstack/glance,master,Iebbb2dcb767ecf3c965f34f1ca04af20a2039be1,Make web-download revert all stores on fail,MERGED,2021-02-05 22:24:41.000000000,2021-03-06 17:33:58.000000000,2021-03-06 17:33:58.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 22:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/82f529e31a4df58163b390216228aef5c996353b', 'message': 'Make web-download revert all stores on fail\n\nIf web-download fails to stage the image, no subsequent import to\nstore tasks could have run. Thus, we should remove all of them from\n""importing"" and add them to ""failed"" so that it is obvious from the\noutside that we failed.\n\nThis is another good reason for having the $image/tasks API, but we\nalso should not continue advertising ""yes we\'re importing to $store""\nwhen we are not.\n\nChange-Id: Iebbb2dcb767ecf3c965f34f1ca04af20a2039be1\nCloses-Bug: #1914826\n'}, {'number': 2, 'created': '2021-02-08 16:46:28.000000000', 'files': ['glance/tests/unit/async_/flows/test_web_download.py', 'glance/async_/flows/_internal_plugins/web_download.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/cbb2af6e329c1bf6c1c39cb59f95aaad2c0d7a07', 'message': 'Make web-download revert all stores on fail\n\nIf web-download fails to stage the image, no subsequent import to\nstore tasks could have run. Thus, we should remove all of them from\n""importing"" and add them to ""failed"" so that it is obvious from the\noutside that we failed.\n\nThis is another good reason for having the $image/tasks API, but we\nalso should not continue advertising ""yes we\'re importing to $store""\nwhen we are not.\n\nChange-Id: Iebbb2dcb767ecf3c965f34f1ca04af20a2039be1\nCloses-Bug: #1914826\n'}]",4,774314,cbb2af6e329c1bf6c1c39cb59f95aaad2c0d7a07,19,2,2,4393,,,0,"Make web-download revert all stores on fail

If web-download fails to stage the image, no subsequent import to
store tasks could have run. Thus, we should remove all of them from
""importing"" and add them to ""failed"" so that it is obvious from the
outside that we failed.

This is another good reason for having the $image/tasks API, but we
also should not continue advertising ""yes we're importing to $store""
when we are not.

Change-Id: Iebbb2dcb767ecf3c965f34f1ca04af20a2039be1
Closes-Bug: #1914826
",git fetch https://review.opendev.org/openstack/glance refs/changes/14/774314/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/flows/test_web_download.py', 'glance/async_/flows/_internal_plugins/web_download.py']",2,82f529e31a4df58163b390216228aef5c996353b,bug/1914826," def __init__(self, task_id, task_type, uri, action_wrapper, stores): self.stores = stores # NOTE(danms): If we failed to stage the image, then none # of the _ImportToStore() tasks could have run, so we need # to move all stores out of ""importing"" and into ""failed"". action.remove_importing_stores(self.stores) action.add_failed_stores(self.stores) LOG.warning('Dropped stores %s' % self.stores) else: LOG.warning('Not my fault') stores = kwargs.get('backend', [None]) _WebDownload(task_id, task_type, uri, action_wrapper, stores),"," def __init__(self, task_id, task_type, uri, action_wrapper): _WebDownload(task_id, task_type, uri, action_wrapper),",51,15
openstack%2Fneutron~master~Ia27bfff290730eb44c641a18e9c30d91664a2510,openstack/neutron,master,Ia27bfff290730eb44c641a18e9c30d91664a2510,Implement secure RBAC for Floating IP API,MERGED,2020-12-04 12:45:13.000000000,2021-03-06 17:32:23.000000000,2021-03-06 17:30:42.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-04 12:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e1560121d354f9c0f98c650a627ff1c2cb2d1e7', 'message': 'Implement secure RBAC for Floating IP API\n\nThis commit updates the policies for Floating IP API to understand\nscope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ia27bfff290730eb44c641a18e9c30d91664a2510\n'}, {'number': 2, 'created': '2020-12-15 13:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71477cdfbb88b924b2dfb9915c01f77bde3a6bb1', 'message': 'Implement secure RBAC for Floating IP API\n\nThis commit updates the policies for Floating IP API to understand\nscope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ia27bfff290730eb44c641a18e9c30d91664a2510\n'}, {'number': 3, 'created': '2021-01-21 16:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d519c0087ba18701b89b952de6fd6a2aa20adb4b', 'message': 'Implement secure RBAC for Floating IP API\n\nThis commit updates the policies for Floating IP API to understand\nscope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ia27bfff290730eb44c641a18e9c30d91664a2510\n'}, {'number': 4, 'created': '2021-02-18 12:27:23.000000000', 'files': ['neutron/conf/policies/floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/09664c593f36044bb6667cd35b8205db2fffa2db', 'message': 'Implement secure RBAC for Floating IP API\n\nThis commit updates the policies for Floating IP API to understand\nscope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ia27bfff290730eb44c641a18e9c30d91664a2510\n'}]",1,765526,09664c593f36044bb6667cd35b8205db2fffa2db,42,6,4,11975,,,0,"Implement secure RBAC for Floating IP API

This commit updates the policies for Floating IP API to understand
scope checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: Ia27bfff290730eb44c641a18e9c30d91664a2510
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/765526/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/floatingip.py'],1,4e1560121d354f9c0f98c650a627ff1c2cb2d1e7,secure-rbac,"DEPRECATION_REASON = ( ""The Floating IP API now supports system scope and default roles."") name='create_floatingip', check_str=base.PROJECT_MEMBER, description='Create a floating IP', operations=[ ], scope_types=['project'], deprecated_rule=policy.DeprecatedRule( name='create_floatingip', check_str=base.RULE_ANY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='create_floatingip:floating_ip_address', check_str=base.SYSTEM_ADMIN, description='Create a floating IP with a specific IP address', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='create_floatingip:floating_ip_address', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='get_floatingip', check_str=base.SYSTEM_OR_PROJECT_READER, description='Get a floating IP', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='get_floatingip', check_str=base.RULE_ADMIN_OR_OWNER), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='update_floatingip', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, description='Update a floating IP', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='create_floatingip', check_str=base.RULE_ADMIN_OR_OWNER), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='delete_floatingip', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, description='Delete a floating IP', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='create_floatingip', check_str=base.RULE_ADMIN_OR_OWNER), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby'"," 'create_floatingip', base.RULE_ANY, 'Create a floating IP', [ ] 'create_floatingip:floating_ip_address', base.RULE_ADMIN_ONLY, 'Create a floating IP with a specific IP address', [ ] 'get_floatingip', base.RULE_ADMIN_OR_OWNER, 'Get a floating IP', [ ] 'update_floatingip', base.RULE_ADMIN_OR_OWNER, 'Update a floating IP', [ ] 'delete_floatingip', base.RULE_ADMIN_OR_OWNER, 'Delete a floating IP', [ ]",57,25
openstack%2Fneutron~master~Ia1b83ea394e16aa215fb5136bdbc224a0788bb68,openstack/neutron,master,Ia1b83ea394e16aa215fb5136bdbc224a0788bb68,Implement secure RBAC for address_scope API,MERGED,2020-12-01 16:17:26.000000000,2021-03-06 17:30:54.000000000,2021-03-06 17:29:07.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5046}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-01 16:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44caaa085295c054f44a321da2e49582d3a2ac3f', 'message': 'Implement secure RBAC for address_scope API\n\nThis commit updates the policies for address_scope API to\nunderstand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ia1b83ea394e16aa215fb5136bdbc224a0788bb68\n'}, {'number': 2, 'created': '2020-12-15 13:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cf85b4d2cd7792b2fbfab527d0f422f8c40a6c9', 'message': 'Implement secure RBAC for address_scope API\n\nThis commit updates the policies for address_scope API to\nunderstand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ia1b83ea394e16aa215fb5136bdbc224a0788bb68\n'}, {'number': 3, 'created': '2021-01-21 16:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61a1127051360f6ae51c9fbb4a8eb45d140c305a', 'message': 'Implement secure RBAC for address_scope API\n\nThis commit updates the policies for address_scope API to\nunderstand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ia1b83ea394e16aa215fb5136bdbc224a0788bb68\n'}, {'number': 4, 'created': '2021-02-18 12:27:11.000000000', 'files': ['neutron/conf/policies/address_scope.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/66dac905bde071741e8588b2c1223404658726b8', 'message': 'Implement secure RBAC for address_scope API\n\nThis commit updates the policies for address_scope API to\nunderstand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ia1b83ea394e16aa215fb5136bdbc224a0788bb68\n'}]",3,764980,66dac905bde071741e8588b2c1223404658726b8,38,9,4,11975,,,0,"Implement secure RBAC for address_scope API

This commit updates the policies for address_scope API to
understand scope checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: Ia1b83ea394e16aa215fb5136bdbc224a0788bb68
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/764980/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/address_scope.py'],1,44caaa085295c054f44a321da2e49582d3a2ac3f,secure-rbac,"DEPRECATION_REASON = ( ""The Address scope API now supports system scope and default roles."") name='create_address_scope', check_str=base.PROJECT_MEMBER, description='Create an address scope', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='create_address_scope', check_str=base.RULE_ANY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='create_address_scope:shared', check_str=base.SYSTEM_ADMIN, description='Create a shared address scope', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='create_address_scope:shared', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='get_address_scope', check_str=base.policy_or(base.SYSTEM_OR_PROJECT_READER, 'rule:shared_address_scopes'), description='Get an address scope', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='get_address_scope', check_str=base.policy_or(base.RULE_ADMIN_OR_OWNER, 'rule:shared_address_scopes')), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='update_address_scope', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, description='Update an address scope', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='update_address_scope', check_str=base.RULE_ADMIN_OR_OWNER), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='update_address_scope:shared', check_str=base.SYSTEM_ADMIN, description='Update ``shared`` attribute of an address scope', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='update_address_scope:shared', check_str=base.RULE_ADMIN_ONLY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby' name='delete_address_scope', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, description='Delete an address scope', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='delete_address_scope', check_str=base.RULE_ADMIN_OR_OWNER), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby'"," 'create_address_scope', base.RULE_ANY, 'Create an address scope', [ ] 'create_address_scope:shared', base.RULE_ADMIN_ONLY, 'Create a shared address scope', [ ] 'get_address_scope', base.policy_or(base.RULE_ADMIN_OR_OWNER, 'rule:shared_address_scopes'), 'Get an address scope', [ ] 'update_address_scope', base.RULE_ADMIN_OR_OWNER, 'Update an address scope', [ ] 'update_address_scope:shared', base.RULE_ADMIN_ONLY, 'Update ``shared`` attribute of an address scope', [ ] 'delete_address_scope', base.RULE_ADMIN_OR_OWNER, 'Delete an address scope', [ ]",71,31
openstack%2Fnova~master~I66003220bf173dfa917a13c5a408b1ea31cbc057,openstack/nova,master,I66003220bf173dfa917a13c5a408b1ea31cbc057,docs: Add admin docs for configuring and updating machine types,MERGED,2021-02-10 16:51:25.000000000,2021-03-06 17:27:12.000000000,2021-03-06 17:24:00.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 16:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b598f32aa46da5461dd44d0b00a297283fa24aa7', 'message': 'WIP docs: Add admin docs for configuring and updating machine types\n\nChange-Id: I66003220bf173dfa917a13c5a408b1ea31cbc057\n'}, {'number': 2, 'created': '2021-02-11 11:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42e0c3320bd6285bb9e8b890478857c49a9fa593', 'message': 'docs: Add admin docs for configuring and updating machine types\n\nWith the various nova-manage and nova-status parts in place we can\ndocument how an operator/admin would go about changing the underlying\n[libvirt]hw_machine_type config within an environment.\n\nChange-Id: I66003220bf173dfa917a13c5a408b1ea31cbc057\n'}, {'number': 3, 'created': '2021-02-11 15:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/113310cfa2e9ca68338dbcb5a6d462a4fdb7641f', 'message': 'docs: Add admin docs for configuring and updating machine types\n\nThis change simply documents how an operator/admin would go about\nchanging the underlying [libvirt]hw_machine_type config within an\nenvironment while ensuring existing instances are not impacted.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I66003220bf173dfa917a13c5a408b1ea31cbc057\n'}, {'number': 4, 'created': '2021-02-15 13:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4af54cd38cb2454b73b4cc00f1233c83f5da5ce7', 'message': 'docs: Add admin docs for configuring and updating machine types\n\nThis change simply documents how an operator/admin would go about\nchanging the underlying [libvirt]hw_machine_type config within an\nenvironment while ensuring existing instances are not impacted.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I66003220bf173dfa917a13c5a408b1ea31cbc057\n'}, {'number': 5, 'created': '2021-02-17 09:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6433efd40b9a3185fe199c316d34a6e5f0549775', 'message': 'docs: Add admin docs for configuring and updating machine types\n\nThis change simply documents how an operator/admin would go about\nchanging the underlying [libvirt]hw_machine_type config within an\nenvironment while ensuring existing instances are not impacted.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I66003220bf173dfa917a13c5a408b1ea31cbc057\n'}, {'number': 6, 'created': '2021-03-01 13:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39481ce5c70bff05950b18d93fc739e58312f23c', 'message': 'docs: Add admin docs for configuring and updating machine types\n\nThis change simply documents how an operator/admin would go about\nchanging the underlying [libvirt]hw_machine_type config within an\nenvironment while ensuring existing instances are not impacted.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I66003220bf173dfa917a13c5a408b1ea31cbc057\n'}, {'number': 7, 'created': '2021-03-01 22:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56f22951f064c3bbe4079933bade009c0475f75a', 'message': 'docs: Add admin docs for configuring and updating machine types\n\nThis change simply documents how an operator/admin would go about\nchanging the underlying [libvirt]hw_machine_type config within an\nenvironment while ensuring existing instances are not impacted.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I66003220bf173dfa917a13c5a408b1ea31cbc057\n'}, {'number': 8, 'created': '2021-03-03 14:04:25.000000000', 'files': ['doc/source/admin/hw-machine-type.rst', 'doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/9020896cb7fe4cbafb4cb36a15faa1bf3f70d731', 'message': 'docs: Add admin docs for configuring and updating machine types\n\nThis change simply documents how an operator/admin would go about\nchanging the underlying [libvirt]hw_machine_type config within an\nenvironment while ensuring existing instances are not impacted.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I66003220bf173dfa917a13c5a408b1ea31cbc057\n'}]",26,774899,9020896cb7fe4cbafb4cb36a15faa1bf3f70d731,46,5,8,10135,,,0,"docs: Add admin docs for configuring and updating machine types

This change simply documents how an operator/admin would go about
changing the underlying [libvirt]hw_machine_type config within an
environment while ensuring existing instances are not impacted.

blueprint: libvirt-default-machine-type
Change-Id: I66003220bf173dfa917a13c5a408b1ea31cbc057
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/774899/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/hw-machine-type.rst', 'doc/source/admin/index.rst']",2,b598f32aa46da5461dd44d0b00a297283fa24aa7,spec/libvirt-default-machine-type, hw-machine-type,,202,0
openstack%2Fneutron~stable%2Fvictoria~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/victoria,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:29:02.000000000,2021-03-06 17:26:05.000000000,2021-03-06 17:21:33.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 09:29:02.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd8dddd41af57d66ec39a04fafe74abf7cd475c3', 'message': 'Add some wait time between stopping and starting again ovsdb monitor\n\nIn functional tests of the ovsdb_monitor, sometimes during high load\nof the host where tests are run, ""error"" message from the killed process\ncan be received by neutron\'s async_process after new process was\nalready spawned.\nAnd that causes failure of the test as new ovsdb_monitor will not\nreceive events which are expected.\n\nTo workaround that issue this patch adds sleep for few seconds between\nstopping old and starting new ovsdb_monitor process.\n\nCloses-Bug: #1907068\nChange-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c\n(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)\n'}]",0,778825,bd8dddd41af57d66ec39a04fafe74abf7cd475c3,9,3,1,11975,,,0,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/778825/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'],1,bd8dddd41af57d66ec39a04fafe74abf7cd475c3,bug/1907068-stable/victoria,"import time # NOTE(slaweq): lets give async process few more seconds to receive # ""error"" from the old ovsdb monitor process and then start new one time.sleep(5)",,4,0
openstack%2Fnova~master~I39909ace97f62e87f326d4d822d4e4c391445765,openstack/nova,master,I39909ace97f62e87f326d4d822d4e4c391445765,nova-manage: Add libvirt list_unset_machine_type command,MERGED,2021-02-10 16:51:25.000000000,2021-03-06 17:26:03.000000000,2021-03-06 17:21:43.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 16:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6991d2a66311e2c58fd75a988987b8bc984ab204', 'message': ""WIP nova-manage: Add machine_type list_unset command\n\nThis change adds a machine_type command to list all instance UUIDs with\nhw_machine_type unset in their image metadata. This will be useful to\noperators attempting to change the [libvirt]hw_machine_type default in\nthe future as it allows them to confirm if it is safe to change the\nconfigurable without impacting existing instances.\n\nNOTE(lyarwood): Still WIP as I'd like to get some approval of the\napproach in machine_type_utils._get_instances_without_mtype of filtering\nin python instead of a DB query. I still have the code for the latter to\nhand so I'm fine either way.\n\nChange-Id: I39909ace97f62e87f326d4d822d4e4c391445765\n""}, {'number': 2, 'created': '2021-02-11 11:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/179470fd25dd8334bc9eb3a5303d4b2c83f6196d', 'message': ""WIP nova-manage: Add machine_type list_unset command\n\nThis change adds a machine_type command to list all instance UUIDs with\nhw_machine_type unset in their image metadata. This will be useful to\noperators attempting to change the [libvirt]hw_machine_type default in\nthe future as it allows them to confirm if it is safe to change the\nconfigurable without impacting existing instances.\n\nNOTE(lyarwood): Still WIP as I'd like to get some approval of the\napproach in machine_type_utils._get_instances_without_mtype of filtering\nin python instead of a DB query. I still have the code for the latter to\nhand so I'm fine either way.\n\nChange-Id: I39909ace97f62e87f326d4d822d4e4c391445765\n""}, {'number': 3, 'created': '2021-02-11 15:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/307e8a1027025b9b5c4896cd22155c37f8cd8492', 'message': ""WIP nova-manage: Add machine_type list_unset command\n\nNOTE(lyarwood): Still WIP as I'd like to get some approval of the\napproach in machine_type_utils._get_instances_without_mtype of filtering\nin python instead of a DB query. I still have the code for the latter to\nhand so I'm fine either way.\n\nThis change adds a machine_type command to list all instance UUIDs with\nhw_machine_type unset in their image metadata. This will be useful to\noperators attempting to change the [libvirt]hw_machine_type default in\nthe future as it allows them to confirm if it is safe to change the\nconfigurable without impacting existing instances.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I39909ace97f62e87f326d4d822d4e4c391445765\n""}, {'number': 4, 'created': '2021-02-15 13:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/061eae4b9428424afe129be7e88d0c9839bf715a', 'message': ""WIP nova-manage: Add machine_type list_unset command\n\nNOTE(lyarwood): Still WIP as I'd like to get some approval of the\napproach in machine_type_utils._get_instances_without_mtype of filtering\nin python instead of a DB query. I still have the code for the latter to\nhand so I'm fine either way.\n\nThis change adds a machine_type command to list all instance UUIDs with\nhw_machine_type unset in their image metadata. This will be useful to\noperators attempting to change the [libvirt]hw_machine_type default in\nthe future as it allows them to confirm if it is safe to change the\nconfigurable without impacting existing instances.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I39909ace97f62e87f326d4d822d4e4c391445765\n""}, {'number': 5, 'created': '2021-02-17 09:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38f0f05f1065ed4360fa1ac30495777fbe2979c7', 'message': ""WIP nova-manage: Add machine_type list_unset command\n\nNOTE(lyarwood): Still WIP as I'd like to get some approval of the\napproach in machine_type_utils._get_instances_without_mtype of filtering\nin python instead of a DB query. I still have the code for the latter to\nhand so I'm fine either way.\n\nThis change adds a machine_type command to list all instance UUIDs with\nhw_machine_type unset in their image metadata. This will be useful to\noperators attempting to change the [libvirt]hw_machine_type default in\nthe future as it allows them to confirm if it is safe to change the\nconfigurable without impacting existing instances.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I39909ace97f62e87f326d4d822d4e4c391445765\n""}, {'number': 6, 'created': '2021-03-01 13:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f33af93db590051586df77fd0c19c5946d1fb68', 'message': 'nova-manage: Add libvirt list_unset_machine_type command\n\nThis change adds a libvirt command to list all instance UUIDs with\nhw_machine_type unset in their image metadata. This will be useful to\noperators attempting to change the [libvirt]hw_machine_type default in\nthe future as it allows them to confirm if it is safe to change the\nconfigurable without impacting existing instances.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I39909ace97f62e87f326d4d822d4e4c391445765\n'}, {'number': 7, 'created': '2021-03-01 22:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4dcf74d39afcdba37918a0d6978a5f4d683d047', 'message': 'nova-manage: Add libvirt list_unset_machine_type command\n\nThis change adds a libvirt command to list all instance UUIDs with\nhw_machine_type unset in their image metadata. This will be useful to\noperators attempting to change the [libvirt]hw_machine_type default in\nthe future as it allows them to confirm if it is safe to change the\nconfigurable without impacting existing instances.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I39909ace97f62e87f326d4d822d4e4c391445765\n'}, {'number': 8, 'created': '2021-03-03 14:04:25.000000000', 'files': ['nova/virt/libvirt/machine_type_utils.py', 'nova/tests/functional/libvirt/test_machine_type.py', 'nova/tests/unit/cmd/test_manage.py', 'doc/source/cli/nova-manage.rst', 'releasenotes/notes/libvirt-store-and-change-default-machine-type-bf86b4973c4dee4c.yaml', 'nova/cmd/manage.py', 'nova/tests/unit/virt/libvirt/test_machine_type_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a5b07d9fc000765eeb0687f374f2803a73f3b7d', 'message': 'nova-manage: Add libvirt list_unset_machine_type command\n\nThis change adds a libvirt command to list all instance UUIDs with\nhw_machine_type unset in their image metadata. This will be useful to\noperators attempting to change the [libvirt]hw_machine_type default in\nthe future as it allows them to confirm if it is safe to change the\nconfigurable without impacting existing instances.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I39909ace97f62e87f326d4d822d4e4c391445765\n'}]",31,774897,9a5b07d9fc000765eeb0687f374f2803a73f3b7d,61,4,8,10135,,,0,"nova-manage: Add libvirt list_unset_machine_type command

This change adds a libvirt command to list all instance UUIDs with
hw_machine_type unset in their image metadata. This will be useful to
operators attempting to change the [libvirt]hw_machine_type default in
the future as it allows them to confirm if it is safe to change the
configurable without impacting existing instances.

blueprint: libvirt-default-machine-type
Change-Id: I39909ace97f62e87f326d4d822d4e4c391445765
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/774897/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_machine_type.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/virt/test_machine_type_utils.py', 'releasenotes/notes/libvirt-store-and-change-default-machine-type-bf86b4973c4dee4c.yaml', 'nova/cmd/manage.py', 'nova/virt/machine_type_utils.py']",6,6991d2a66311e2c58fd75a988987b8bc984ab204,spec/libvirt-default-machine-type," def _get_instances_without_mtype( context: 'nova_context.RequestContext', ) -> ty.List[objects.Instance]: """"""Fetch a list of instance UUIDs from the DB without hw_machine_type set :param meta: 'sqlalchemy.MetaData' pointing to a given cell DB :returns: A list of Instance objects or an empty list """""" instances = objects.InstanceList.get_all( context, expected_attrs=['system_metadata']) instances_without = [] for instance in instances: if instance.deleted == 0 and instance.vm_state != vm_states.BUILDING: if instance.image_meta.properties.get('hw_machine_type') is None: instances_without.append(instance) return instances_without def _get_cell_mappings( context: 'nova_context.RequestContext', cell_uuid: ty.Optional[str] = None, ) -> objects.CellMappingList: """"""Fetch a CellMappingList optionally only for cell_uuid :param context: :param cell_uuid: :returns: CellMappingList of CellMapping objects :raises: exception.CellMappingNotFound """""" # Fetch the target cell but wrap it in a CellMappingList if cell_uuid: return objects.CellMappingList( objects=[objects.CellMapping.get_by_uuid(context, cell_uuid)]) # Otherwise fetch all cell mappings, drop cell0 and return a list cell_mappings = objects.CellMappingList.get_all(context) return objects.CellMappingList( objects=[m for m in cell_mappings if not m.is_cell0()]) def get_instances_without_type( context: 'nova_context.RequestContext', cell_uuid: ty.Optional[str] = None, ) -> ty.List[objects.Instance]: """"""Find instances without hw_machine_type set, optionally within a cell. :param context: Request context :param cell_uuid: Optional cell UUID to look within :returns: A list of Instance objects or an empty list """""" instance_list = [] for cell_mapping in _get_cell_mappings(context, cell_uuid): with nova_context.target_cell(context, cell_mapping) as cctxt: instance_list += _get_instances_without_mtype(cctxt) return instance_list",,327,0
openstack%2Fnova~master~I72a03e74fae8704546013d978e9c27a2573b219b,openstack/nova,master,I72a03e74fae8704546013d978e9c27a2573b219b,libvirt: Add a config update workflow test for [libvirt]hw_machine_type,MERGED,2021-02-10 16:51:25.000000000,2021-03-06 17:23:29.000000000,2021-03-06 17:23:29.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 16:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c16f27f0d64bff3197d4ac95caecca6e01afaf13', 'message': 'WIP libvirt: Add a config update workflow func test for [libvirt]hw_machine_type\n\nChange-Id: I72a03e74fae8704546013d978e9c27a2573b219b\n'}, {'number': 2, 'created': '2021-02-11 11:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/155166ca9defaaf9e29b1c161d6181f206a0beb0', 'message': 'libvirt: Add a config update workflow test for [libvirt]hw_machine_type\n\nChange-Id: I72a03e74fae8704546013d978e9c27a2573b219b\n'}, {'number': 3, 'created': '2021-02-11 15:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f88bc683ea654472794d3dfa8b29a3634356599c', 'message': 'libvirt: Add a config update workflow test for [libvirt]hw_machine_type\n\nThe previous changes in this series have added small targeted\nfunctional tests as parts of the workflow were introduced. Now that\nthese are all in place this change adds a larger test that merges these\ndifferent parts of the workflow together to ensure it works as expected.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I72a03e74fae8704546013d978e9c27a2573b219b\n'}, {'number': 4, 'created': '2021-02-15 13:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03e3f6b3faa4166136636e3076b5c8640bdcd3af', 'message': 'libvirt: Add a config update workflow test for [libvirt]hw_machine_type\n\nThe previous changes in this series have added small targeted\nfunctional tests as parts of the workflow were introduced. Now that\nthese are all in place this change adds a larger test that merges these\ndifferent parts of the workflow together to ensure it works as expected.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I72a03e74fae8704546013d978e9c27a2573b219b\n'}, {'number': 5, 'created': '2021-02-17 09:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6ff979aab9a0b7f683c09d0643fa3b21f3bbdab', 'message': 'libvirt: Add a config update workflow test for [libvirt]hw_machine_type\n\nThe previous changes in this series have added small targeted\nfunctional tests as parts of the workflow were introduced. Now that\nthese are all in place this change adds a larger test that merges these\ndifferent parts of the workflow together to ensure it works as expected.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I72a03e74fae8704546013d978e9c27a2573b219b\n'}, {'number': 6, 'created': '2021-03-01 13:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d5e010b9f52499994c46656c0fee3c1fe35e835', 'message': 'libvirt: Add a config update workflow test for [libvirt]hw_machine_type\n\nThe previous changes in this series have added small targeted\nfunctional tests as parts of the workflow were introduced. Now that\nthese are all in place this change adds a larger test that merges these\ndifferent parts of the workflow together to ensure it works as expected.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I72a03e74fae8704546013d978e9c27a2573b219b\n'}, {'number': 7, 'created': '2021-03-01 22:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86b9ab3fc59329ea648b9a5590c6fd56fed783e7', 'message': 'libvirt: Add a config update workflow test for [libvirt]hw_machine_type\n\nThe previous changes in this series have added small targeted\nfunctional tests as parts of the workflow were introduced. Now that\nthese are all in place this change adds a larger test that merges these\ndifferent parts of the workflow together to ensure it works as expected.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I72a03e74fae8704546013d978e9c27a2573b219b\n'}, {'number': 8, 'created': '2021-03-03 14:04:25.000000000', 'files': ['nova/tests/functional/libvirt/test_machine_type.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b44c7ccefa5b2fe04611b1143cf61ecfffdb20b', 'message': 'libvirt: Add a config update workflow test for [libvirt]hw_machine_type\n\nThe previous changes in this series have added small targeted\nfunctional tests as parts of the workflow were introduced. Now that\nthese are all in place this change adds a larger test that merges these\ndifferent parts of the workflow together to ensure it works as expected.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I72a03e74fae8704546013d978e9c27a2573b219b\n'}]",14,774898,0b44c7ccefa5b2fe04611b1143cf61ecfffdb20b,61,4,8,10135,,,0,"libvirt: Add a config update workflow test for [libvirt]hw_machine_type

The previous changes in this series have added small targeted
functional tests as parts of the workflow were introduced. Now that
these are all in place this change adds a larger test that merges these
different parts of the workflow together to ensure it works as expected.

blueprint: libvirt-default-machine-type
Change-Id: I72a03e74fae8704546013d978e9c27a2573b219b
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/774898/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_machine_type.py'],1,c16f27f0d64bff3197d4ac95caecca6e01afaf13,spec/libvirt-default-machine-type," def test_host_config_update_workflow(self): """"""Mimic a real world host config update workflow This test ties together various bits tested above into a complete workflow that should be typical of an operator attempting to update the host [libvirt]hw_machine_type configurable within their env. """""" self.flags(hw_machine_type='x86_64=pc', group='libvirt') # Launch some instances and assert their machine type server_with, server_without = self._create_servers() self._assert_machine_type(server_with['id'], 'q35') self._assert_machine_type(server_without['id'], 'pc') # Unset the machine type from one to mimic an existing instance without # a machine type set self._unset_machine_type(server_without['id']) # Assert that this instance is listed by machine_type_utils instances = machine_type_utils.get_instances_without_type(self.context) self.assertEqual( server_without['id'], instances[0].uuid ) # Assert this instance can be updated correctly machine_type_utils.update_machine_type( self.context, server_without['id'], 'pc', force=True ) # Assert that no instances are listed self.assertFalse( machine_type_utils.get_instances_without_type(self.context) ) # Change the actual config on the compute, this doesn't require a # restart of the service in func tests but in the real world would # require one to take effect. self.flags(hw_machine_type='x86_64=pc-q35-1.2', group='libvirt') # Assert the existing instances remain the same even after reboot self._reboot_server(server_with, hard=True) self._reboot_server(server_without, hard=True) self._assert_machine_type(server_with['id'], 'q35') self._assert_machine_type(server_without['id'], 'pc') # Assert that new instances are spawned with the expected machine type server_with, server_without = self._create_servers() self._assert_machine_type(server_with['id'], 'q35') self._assert_machine_type(server_without['id'], 'pc-q35-1.2')",,54,0
openstack%2Fnova~master~Ia222e0f64b932e6aefe779b168d0aa4e9ff48075,openstack/nova,master,Ia222e0f64b932e6aefe779b168d0aa4e9ff48075,Fix ImageBackendFixture not to support direct_snapshot,MERGED,2021-03-03 13:46:59.000000000,2021-03-06 17:23:02.000000000,2021-03-06 17:23:02.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 13:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ecfd19312ef100ef3eac7c7b31c19f4bc2de68c', 'message': 'Fix ImageBackendFixture not to support direct_snapshot\n\nThe ImageBackendFixture mocks returns a mocked disk and that disk\nblindly supports the direct_snapshot call by returning a MagicMock as a\nresult. A real imagebacked returns the location of the snapshot instead.\nWhen the result of the snapshot is uploaded to the GlanceFixture the\nfixtures stores the metadata including the MagicMock. Later when such\nsnapshot is downloaded from the fixture (e.g. during unshelve) the\nGlance fixture tries to deepcopy the metadata to avoid clients modifying\nthe returned data to affect the internal state of the fixture. But\nMagicMock cannot be deep copied.\n\nAn easy fix is to declare direct_snapshot not supported for\nImageBackendFixture by raising NotImplementedError. This is already\nhandled by the virt driver as we have real backends that are not\nsupporting the direct snapshot call. This way the whole issue in the\nGlanceFixture can be avoided.\n\nAlso this path re-enables parts of the\ntest_hw_machine_type_config_update_workflow test case that was turned\noff due to the above described issue in the image backend fixture. The\nchange in the asserts of that test is due to having a wrong assert in\nthe first place.\n\nChange-Id: Ia222e0f64b932e6aefe779b168d0aa4e9ff48075\n'}, {'number': 2, 'created': '2021-03-03 14:04:25.000000000', 'files': ['nova/tests/unit/virt/libvirt/fake_imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/947f813e562101d6c05ae47940f36de7c33604e5', 'message': 'Fix ImageBackendFixture not to support direct_snapshot\n\nThe ImageBackendFixture mocks returns a mocked disk and that disk\nblindly supports the direct_snapshot call by returning a MagicMock as a\nresult. A real imagebacked returns the location of the snapshot instead.\nWhen the result of the snapshot is uploaded to the GlanceFixture the\nfixtures stores the metadata including the MagicMock. Later when such\nsnapshot is downloaded from the fixture (e.g. during unshelve) the\nGlance fixture tries to deepcopy the metadata to avoid clients modifying\nthe returned data to affect the internal state of the fixture. But\nMagicMock cannot be deep copied.\n\nAn easy fix is to declare direct_snapshot not supported for\nImageBackendFixture by raising NotImplementedError. This is already\nhandled by the virt driver as we have real backends that are not\nsupporting the direct snapshot call. This way the whole issue in the\nGlanceFixture can be avoided.\n\nChange-Id: Ia222e0f64b932e6aefe779b168d0aa4e9ff48075\n'}]",0,778462,947f813e562101d6c05ae47940f36de7c33604e5,20,5,2,9708,,,0,"Fix ImageBackendFixture not to support direct_snapshot

The ImageBackendFixture mocks returns a mocked disk and that disk
blindly supports the direct_snapshot call by returning a MagicMock as a
result. A real imagebacked returns the location of the snapshot instead.
When the result of the snapshot is uploaded to the GlanceFixture the
fixtures stores the metadata including the MagicMock. Later when such
snapshot is downloaded from the fixture (e.g. during unshelve) the
Glance fixture tries to deepcopy the metadata to avoid clients modifying
the returned data to affect the internal state of the fixture. But
MagicMock cannot be deep copied.

An easy fix is to declare direct_snapshot not supported for
ImageBackendFixture by raising NotImplementedError. This is already
handled by the virt driver as we have real backends that are not
supporting the direct snapshot call. This way the whole issue in the
GlanceFixture can be avoided.

Change-Id: Ia222e0f64b932e6aefe779b168d0aa4e9ff48075
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/778462/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_machine_type.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py']",2,7ecfd19312ef100ef3eac7c7b31c19f4bc2de68c,spec/libvirt-default-machine-type, disk.direct_snapshot.side_effect = ( NotImplementedError('direct_snapshot() is not implemented')) ,,7,4
openstack%2Fnova~master~Ic3ae48c57e61c4e45883fbae1328a448be025953,openstack/nova,master,Ic3ae48c57e61c4e45883fbae1328a448be025953,nova-status: Add hw_machine_type check for libvirt instances,MERGED,2021-01-13 16:28:51.000000000,2021-03-06 17:22:20.000000000,2021-03-06 17:22:20.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-13 16:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/248617034eed2c529810f374c21f552c4462287e', 'message': 'WIP nova-status: Add hw_machine_type check for libvirt instances\n\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 2, 'created': '2021-02-04 13:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c2c5dd0bda6078452c48279d1c77600b20d7608', 'message': 'WIP nova-status: Add hw_machine_type check for libvirt instances\n\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 3, 'created': '2021-02-04 14:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d070e11f3b4b6f50b6c08e29db50a11cd26d07c1', 'message': 'WIP nova-status: Add hw_machine_type check for libvirt instances\n\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 4, 'created': '2021-02-08 15:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93b878bb0cd2051e47492fe9a6026f9d89645224', 'message': 'WIP nova-status: Add hw_machine_type check for libvirt instances\n\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 5, 'created': '2021-02-10 16:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/202cb149f9162d922d48d491b756089618a41926', 'message': 'nova-status: Add hw_machine_type check for libvirt instances\n\nThis change introduces a new nova-status check for instances hosted on\nkvm or QEMU hosts to ensure a ``hw_machine_type`` has been recorded.\nThis should allow operators to be confident that they can change the\n``[libvirt]hw_machine_type`` config option without impacting any\nexisting instances within an environment.\n\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 6, 'created': '2021-02-11 11:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b05e75b8792861c6513b00aeb754b6f7563fe171', 'message': 'nova-status: Add hw_machine_type check for libvirt instances\n\nThis change introduces a new nova-status check for instances hosted on\nkvm or QEMU hosts to ensure a ``hw_machine_type`` has been recorded.\nThis should allow operators to be confident that they can change the\n``[libvirt]hw_machine_type`` config option without impacting any\nexisting instances within an environment.\n\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 7, 'created': '2021-02-11 15:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9acab84cd695a89625405948e7e2ae657e0e0ad', 'message': 'nova-status: Add hw_machine_type check for libvirt instances\n\nThis change introduces a new nova-status check to ensure a machine type\nhas been recorded for each instance within an environment.\n\nnova-status will fail with a warning when instances are found, directing\nthe operator to use the previously added nova-manage list_unset and\nupdate commands to set a machine type for these instances. The logic for\nthis check comes entirely from the list_unset command.\n\nIt is noted in the warning output that this can be ignored if no libvirt\nor HyperV based computes are present in the environment as\nhw_machine_type is only used by these two virt drivers at present.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 8, 'created': '2021-02-15 13:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7562e534d50fe65b388bd38075cb3a0eb3e8593e', 'message': 'nova-status: Add hw_machine_type check for libvirt instances\n\nThis change introduces a new nova-status check to ensure a machine type\nhas been recorded for each instance within an environment.\n\nnova-status will fail with a warning when instances are found, directing\nthe operator to use the previously added nova-manage list_unset and\nupdate commands to set a machine type for these instances. The logic for\nthis check comes entirely from the list_unset command.\n\nIt is noted in the warning output that this can be ignored if no libvirt\nor HyperV based computes are present in the environment as\nhw_machine_type is only used by these two virt drivers at present.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 9, 'created': '2021-02-17 09:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c5b8dd25c131d19936fb24895cfe412a74e0c14', 'message': 'nova-status: Add hw_machine_type check for libvirt instances\n\nThis change introduces a new nova-status check to ensure a machine type\nhas been recorded for each instance within an environment.\n\nnova-status will fail with a warning when instances are found, directing\nthe operator to use the previously added nova-manage list_unset and\nupdate commands to set a machine type for these instances. The logic for\nthis check comes entirely from the list_unset command.\n\nIt is noted in the warning output that this can be ignored if no libvirt\nor HyperV based computes are present in the environment as\nhw_machine_type is only used by these two virt drivers at present.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 10, 'created': '2021-03-01 13:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a7c65c41551057ae0cdf32cee62308068f5df09', 'message': 'nova-status: Add hw_machine_type check for libvirt instances\n\nThis change introduces a new nova-status check to ensure a machine type\nhas been recorded for each instance within an environment.\n\nnova-status will fail with a warning when instances are found, directing\nthe operator to use the previously added nova-manage list_unset and\nupdate commands to set a machine type for these instances. The logic for\nthis check comes entirely from the list_unset command.\n\nIt is noted in the warning output that this can be ignored if no libvirt\nor HyperV based computes are present in the environment as\nhw_machine_type is only used by these two virt drivers at present.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 11, 'created': '2021-03-01 22:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e24fc003c0cb8a150899840839d4f9d6c406c9a', 'message': 'nova-status: Add hw_machine_type check for libvirt instances\n\nThis change introduces a new nova-status check to ensure a machine type\nhas been recorded for each instance within an environment.\n\nnova-status will fail with a warning when instances are found, directing\nthe operator to use the previously added nova-manage list_unset and\nupdate commands to set a machine type for these instances. The logic for\nthis check comes entirely from the list_unset command.\n\nIt is noted in the warning output that this can be ignored if no libvirt\nor HyperV based computes are present in the environment as\nhw_machine_type is only used by these two virt drivers at present.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}, {'number': 12, 'created': '2021-03-03 14:04:25.000000000', 'files': ['nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'releasenotes/notes/libvirt-store-and-change-default-machine-type-bf86b4973c4dee4c.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8cddd243bfaac4454b088d49ba65d4fb3c42211a', 'message': 'nova-status: Add hw_machine_type check for libvirt instances\n\nThis change introduces a new nova-status check to ensure a machine type\nhas been recorded for each instance within an environment.\n\nnova-status will fail with a warning when instances are found, directing\nthe operator to use the previously added nova-manage list_unset and\nupdate commands to set a machine type for these instances. The logic for\nthis check comes entirely from the list_unset command.\n\nIt is noted in the warning output that this can be ignored if no libvirt\nor HyperV based computes are present in the environment as\nhw_machine_type is only used by these two virt drivers at present.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953\n'}]",5,770643,8cddd243bfaac4454b088d49ba65d4fb3c42211a,82,4,12,10135,,,0,"nova-status: Add hw_machine_type check for libvirt instances

This change introduces a new nova-status check to ensure a machine type
has been recorded for each instance within an environment.

nova-status will fail with a warning when instances are found, directing
the operator to use the previously added nova-manage list_unset and
update commands to set a machine type for these instances. The logic for
this check comes entirely from the list_unset command.

It is noted in the warning output that this can be ignored if no libvirt
or HyperV based computes are present in the environment as
hw_machine_type is only used by these two virt drivers at present.

blueprint: libvirt-default-machine-type
Change-Id: Ic3ae48c57e61c4e45883fbae1328a448be025953
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/770643/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/status.py'],1,248617034eed2c529810f374c21f552c4462287e,spec/libvirt-default-machine-type," def _get_instance_count_without_mtype(self, meta): instances = Table('instances', meta, autoload=True) system_metadata = Table( 'instance_system_metadata', meta, autoload=True) mtype_query = select( [system_metadata.c.instance_uuid]).select_from( system_metadata).where( system_metadata.c.key == 'hw_machine_type') result = select( [sqlfunc.count()]).select_from( instances).where(and_( instances.c.uuid.notin_(mtype_query), instances.c.deleted == 0)).execute().fetchall() return result[0][0] def _cell_has_libvirt_computes(self, meta): compute_nodes = Table('compute_nodes', meta, autoload=True) return any(select( [compute_nodes.c.id]).select_from( compute_nodes).where( compute_nodes.c.hypervisor_type.in_( ['QEMU', 'kvm'])).execute().fetchall() ) def _check_libvirt_machine_type_set(self): instance_count_by_cell = collections.defaultdict(int) ctxt = nova_context.get_admin_context() for cell_mapping in self._get_non_cell0_mappings(): with nova_context.target_cell(ctxt, cell_mapping) as cctxt: meta = MetaData(bind=db_session.get_engine(context=cctxt)) if self._cell_has_libvirt_computes(meta): count = self._get_instance_count_without_mtype(meta) if count > 0: instance_count_by_cell[cell_mapping.uuid] = count if instance_count_by_cell: cell_list = """" for cell, count in instance_count_by_cell.items(): cell_list += f""{cell}={count}, "" msg = (_(""The following cells were found to contain QEMU based "" ""instances without hw_machine_type set in their system "" ""metadata. https://docs.openstack.org/ for more "" ""details. %s"" % cell_list)) return upgradecheck.Result(upgradecheck.Code.WARNING, msg) return upgradecheck.Result(upgradecheck.Code.SUCCESS) (_('Older than N-1 computes'), _check_old_computes), # Added in Wallaby (_('hw_machine_type set'), _check_libvirt_machine_type_set),"," (_('Older than N-1 computes'), _check_old_computes)",50,1
openstack%2Ftripleo-ansible~master~I1221b8cd2145f9e3783ff0033a5092250a0d2c92,openstack/tripleo-ansible,master,I1221b8cd2145f9e3783ff0033a5092250a0d2c92,Remove unused cli-baremetal-configure.yaml playbook,MERGED,2021-03-01 15:56:36.000000000,2021-03-06 16:41:25.000000000,2021-03-06 16:40:10.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-01 15:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ffa63374a3776196c23cf1dbb031c8648aad5569', 'message': 'Remove unused cli-baremetal-configure.yaml playbook\n\nThis has never been used in the python-tripleoclient.\n\nChange-Id: I1221b8cd2145f9e3783ff0033a5092250a0d2c92\n'}, {'number': 2, 'created': '2021-03-02 04:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/40b327f7dea4ee358c92a67be496122047158e37', 'message': 'Remove unused cli-baremetal-configure.yaml playbook\n\nThis has never been used in the python-tripleoclient.\n\nChange-Id: I1221b8cd2145f9e3783ff0033a5092250a0d2c92\n'}, {'number': 3, 'created': '2021-03-02 05:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31182020f9396bdc26b84df0c815650dff88fed5', 'message': 'Remove unused cli-baremetal-configure.yaml playbook\n\nThis has never been used in the python-tripleoclient.\n\nChange-Id: I1221b8cd2145f9e3783ff0033a5092250a0d2c92\n'}, {'number': 4, 'created': '2021-03-02 05:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e8104da4ab9cd40d98cc7cf917008c75afd37dc9', 'message': 'Remove unused cli-baremetal-configure.yaml playbook\n\nThis has never been used in the python-tripleoclient.\n\nChange-Id: I1221b8cd2145f9e3783ff0033a5092250a0d2c92\n'}, {'number': 5, 'created': '2021-03-02 05:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba815458ed033535d218a90afd46965060fae3b2', 'message': 'Remove unused cli-baremetal-configure.yaml playbook\n\nThis has never been used in the python-tripleoclient.\n\nChange-Id: I1221b8cd2145f9e3783ff0033a5092250a0d2c92\n'}, {'number': 6, 'created': '2021-03-03 04:19:10.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-configure.yaml', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_configure.py', 'tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/21c8f684d179d5171e1a0ce322a2faae403a001d', 'message': 'Remove unused cli-baremetal-configure.yaml playbook\n\nThis has never been used in the python-tripleoclient.\n\nChange-Id: I1221b8cd2145f9e3783ff0033a5092250a0d2c92\n'}]",0,778018,21c8f684d179d5171e1a0ce322a2faae403a001d,26,4,6,8833,,,0,"Remove unused cli-baremetal-configure.yaml playbook

This has never been used in the python-tripleoclient.

Change-Id: I1221b8cd2145f9e3783ff0033a5092250a0d2c92
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/778018/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-baremetal-configure.yaml', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_configure.py', 'tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py']",3,ffa63374a3776196c23cf1dbb031c8648aad5569,mistral_lib_remove,,"from tripleo_common.actions import baremetal def baremetal_configure_boot(self, kwargs): """"""Run the action configure boot, and return data. :param kwargs: options to pass into the ConfigureBootAction :type kwargs: Dictionary :returns: Object """""" action = baremetal.ConfigureBootAction(**kwargs) baremetal_client = ironicclient.Client( 1, session=self.sess ) image_client = glanceclient.Client(2, session=self.sess) return action.configure_boot( baremetal_client, image_client ) def baremetal_configure_root_device(self, kwargs): """"""Run the action configure root device, and return data. :param kwargs: options to pass into the ConfigureRootDeviceAction :type kwargs: Dictionary :returns: Object """""" action = baremetal.ConfigureRootDeviceAction(**kwargs) baremetal_client = ironicclient.Client( 1, session=self.sess ) inspector_client = self.get_ironic_inspector_client() if not action.root_device: return else: return action.configure_root_device( baremetal_client, inspector_client ) ",0,244
openstack%2Fcinder~master~I8b67cc2d9a51f777a245739299e4bc44a7d0733b,openstack/cinder,master,I8b67cc2d9a51f777a245739299e4bc44a7d0733b,Tests: Don't assert notifier not called,MERGED,2021-03-04 15:38:36.000000000,2021-03-06 16:37:03.000000000,2021-03-04 23:12:11.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 15:38:36.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f0be9994631fa2792f86dd27ffe539b8acbc686', 'message': ""Tests: Don't assert notifier not called\n\nThis doesn't work reliably -- it could be\nmade to, but just skip this check for now\nto prevent spurious failures.\n\nRelated-Bug: #1803648\n\nChange-Id: I8b67cc2d9a51f777a245739299e4bc44a7d0733b\n""}]",0,778734,9f0be9994631fa2792f86dd27ffe539b8acbc686,30,3,1,4523,,,0,"Tests: Don't assert notifier not called

This doesn't work reliably -- it could be
made to, but just skip this check for now
to prevent spurious failures.

Related-Bug: #1803648

Change-Id: I8b67cc2d9a51f777a245739299e4bc44a7d0733b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/778734/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume.py'],1,9f0be9994631fa2792f86dd27ffe539b8acbc686,,, mock_notify.assert_not_called() mock_notify.assert_not_called() mock_notify.assert_not_called() ,1,4
openstack%2Fkolla-ansible~master~I3296dcc4780160cbf88bd18285571276f58bb249,openstack/kolla-ansible,master,I3296dcc4780160cbf88bd18285571276f58bb249,Fix Cinder log parsing,MERGED,2021-02-24 13:27:23.000000000,2021-03-06 15:35:57.000000000,2021-03-04 13:03:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-24 13:27:23.000000000', 'files': ['ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'releasenotes/notes/fix-cinder-logging-22fea4739begd6s.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa5511c75d79d8e258c4fa880d2c7a880b838bde', 'message': ""Fix Cinder log parsing\n\nThe Cinder API log is currently written to a file called\ncinder-wsgi.log, and the WSGI logs to cinder-api.log. Fluentd\nthen tries to parse the WSGI log as an OpenStack log which\nresults in 'got incomplete line' errors and prevents proper\ningestion of these logs.\n\nCo-Authored-By: yaoning <yaoning@unitedstack.com>\nCloses-Bug: 1916752\nChange-Id: I3296dcc4780160cbf88bd18285571276f58bb249\n""}]",0,777381,fa5511c75d79d8e258c4fa880d2c7a880b838bde,12,4,1,17669,,,0,"Fix Cinder log parsing

The Cinder API log is currently written to a file called
cinder-wsgi.log, and the WSGI logs to cinder-api.log. Fluentd
then tries to parse the WSGI log as an OpenStack log which
results in 'got incomplete line' errors and prevents proper
ingestion of these logs.

Co-Authored-By: yaoning <yaoning@unitedstack.com>
Closes-Bug: 1916752
Change-Id: I3296dcc4780160cbf88bd18285571276f58bb249
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/81/777381/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'releasenotes/notes/fix-cinder-logging-22fea4739begd6s.yaml']",3,fa5511c75d79d8e258c4fa880d2c7a880b838bde,,--- fixes: - | Fixes some configuration issues around Cinder logging. `LP#1916752 <https://bugs.launchpad.net/kolla-ansible/+bug/1916752>`__ ,,9,1
openstack%2Fkolla-ansible~master~I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b,openstack/kolla-ansible,master,I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b,CI: Move from ceph-ansible to cephadm,MERGED,2021-01-19 10:28:31.000000000,2021-03-06 15:31:01.000000000,2021-03-05 09:11:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-19 10:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/925900979c1b7e539a47993c85501117f217eac2', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 2, 'created': '2021-01-19 11:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/199ee5a24a058210356aee204cc755af9d3778df', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 3, 'created': '2021-02-10 14:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8923597fe534c7c9f68cdb426ee8f6c899f2aab', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 4, 'created': '2021-02-10 15:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26b990b869070c96d5b53019251c9ee057fa09d0', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 5, 'created': '2021-02-10 15:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f5bdf114e6f19d72af702e973074b82978839b2', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 6, 'created': '2021-02-10 15:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0396cc0f591d342fd133ebe76d48a53f80641edc', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 7, 'created': '2021-02-10 15:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08d1d823f83b2cf4ec96def0824964067796d032', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 8, 'created': '2021-02-10 16:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c5baaf201d12160c1adfa84984088fe96b98b8d', 'message': 'CI: Move from ceph-ansible to cephadm\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/774622\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 9, 'created': '2021-02-12 07:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37ee94c17b17097e4c42737554694279d79445d3', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 10, 'created': '2021-02-16 11:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/912b099e18a742514afec1ed7a20f68e7854eee0', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 11, 'created': '2021-02-16 11:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c092c726277218d3c57d614c62cf4a91f2f17b64', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 12, 'created': '2021-02-16 12:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a92cf2ac297bcca5100dfe1d21de0b247d30cb3', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 13, 'created': '2021-02-16 13:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46399af59984f4bcf074a69c90a41b38c53f6eeb', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 14, 'created': '2021-02-16 13:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9f77a48f4694425aa554adcf03d9bc0431950ec3', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 15, 'created': '2021-02-16 14:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2d74c5286e8e7afd0eaa4bf2f87865569f8f150', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 16, 'created': '2021-02-16 14:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b233a382ddadd0768d79db4a36742894d3cd3b3', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 17, 'created': '2021-02-16 15:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0f1e7903bcd731d10dbb72d440601ba09e8626f', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 18, 'created': '2021-02-18 09:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a11d80595f7117ab7c29120d8f4ab82c14b79a21', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 19, 'created': '2021-02-18 15:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f0690bd718fd9eb3f09845b6c0afc98be263196', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 20, 'created': '2021-02-19 06:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7fc17ebbd06283dbdda13c21d933bfd167dc5270', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 21, 'created': '2021-02-19 09:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/99be8b59b5574cf873597af5187e79a5c56d4370', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 22, 'created': '2021-02-19 09:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6b9c614f8310d8609eaedbf58d84c1f9bb6b934', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 23, 'created': '2021-02-19 10:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f76ba4fcffec2f8a0d1580ecf15739dcbf7e3d5b', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 24, 'created': '2021-02-19 11:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5c9d8756cacfe1eda7e11542af2cb711974e0b1', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 25, 'created': '2021-02-19 11:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/020f832abbf1c682980703eeee4637b35c273bdf', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 26, 'created': '2021-02-19 11:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/950b834afa7cc23ad9404c8afcdc9142f357f9b3', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 27, 'created': '2021-02-19 13:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/95c207c636dad2147c1f46fccda34f631c8f46b1', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 28, 'created': '2021-02-19 14:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/098e167ecb56c6b404e07614f4476fe48030b398', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 29, 'created': '2021-02-19 14:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ed2d953645598c487226bff0f34556843f600e2', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 30, 'created': '2021-02-22 09:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c0a92a89a82197068db43e3035ac189104da455', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 31, 'created': '2021-02-22 11:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/abc80a62cf33da60db8b693b0b6a297a6c53f3e9', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 32, 'created': '2021-02-22 12:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f5613a022fca8245670ddd2e1e3aae32ad66185', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 33, 'created': '2021-02-22 12:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/43448871d9768853a2b5e493d5b9e5efe94b29fc', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 34, 'created': '2021-02-22 12:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58a79e7c7abeb094c7f6e3c9f810b4adee497a1a', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 35, 'created': '2021-02-22 13:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47ed28dffd3055e655a5e759c9a01e8d73bbebcf', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 36, 'created': '2021-02-22 13:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4eb22da6558e6b3d39069f632d63abff01220b02', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 37, 'created': '2021-02-22 13:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c72d24c75a183cd6088b7555bbfb922084b8b4d', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 38, 'created': '2021-02-22 14:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d962a8ffc9819148ed5fe1cd73affbed8c75d04d', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 39, 'created': '2021-02-22 17:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b9344f6c52637644ac352456f530839e1f135c4', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 40, 'created': '2021-02-22 17:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c72be20055f4338057a5941e6de2bb288dd346da', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 41, 'created': '2021-02-22 18:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2eef11f986a82adcc5198439d18a8d95c0d538f5', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 42, 'created': '2021-02-23 06:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/949281db8b7a548efdefef5484c4428da4d4caaa', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 43, 'created': '2021-02-24 13:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a666d8a4fa13eb1726f7261f9037c00a578d780', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 44, 'created': '2021-02-25 18:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/884105065b811745676088e2fafe45b47dd94a24', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 45, 'created': '2021-02-26 06:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f0d5cda50dbe6142a1766f6ac19f4761e4ef05e', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 46, 'created': '2021-02-26 07:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb9b8ddcb851beb20143d33173abd32e9471b1c6', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 47, 'created': '2021-02-26 07:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2cc126e9c419eab0a0adf3932cdb804e562d95c9', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 48, 'created': '2021-02-26 07:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0f5ef4c849f6a1aeba11decb4c6846c04909867', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 49, 'created': '2021-02-26 08:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0437c64dd08744ca94d98a7dbf07156dfbad2823', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 50, 'created': '2021-02-26 08:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d1d7ecec47c24275ddb474de7bbb25e96fcb824b', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 51, 'created': '2021-02-26 08:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d434e038fe2961284e7b0054041d52ad0508319c', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 52, 'created': '2021-02-26 09:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9fbda921f07379341bb4d02c10758544ed968de', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 53, 'created': '2021-02-26 09:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d417f67431dd168c49a19029a75e96143995fd5d', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 54, 'created': '2021-02-26 10:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22676a8082856ff1dc58dd2aab5c24e67af30d4d', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 55, 'created': '2021-02-26 11:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cae621ace2f7c7ada6b90ad3977630b52a8003eb', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 56, 'created': '2021-02-26 11:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc19be889d1c7843b5918d8a5f8e9706a8fefaf2', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 57, 'created': '2021-02-26 12:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb009401fd79fa403c507d69ed01dfd33082b852', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 58, 'created': '2021-03-01 13:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3caa3da0170ebf662512c1f844a4eca37e155a8e', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 59, 'created': '2021-03-02 10:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1d84b801b60175313d6a8fa91b7d94ad2451319', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}, {'number': 60, 'created': '2021-03-02 16:50:40.000000000', 'files': ['tests/check-config.sh', 'tests/run.yml', 'tests/setup_gate.sh', 'roles/cephadm/tasks/pkg_redhat.yml', 'tests/templates/globals-default.j2', 'roles/cephadm/defaults/main.yml', 'zuul.d/base.yaml', 'tests/test-core-openstack.sh', 'roles/cephadm/tasks/main.yml', 'tests/get_logs.sh', 'tests/deploy-ceph-ansible.sh', 'roles/cephadm/templates/cephadm.yml.j2', 'zuul.d/project.yaml', 'tests/templates/ceph-ansible.j2', 'zuul.d/jobs.yaml', 'roles/cephadm/tasks/pkg_debian.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65a16a08e2d8f25a1dfa3038eb0eb12e5d742057', 'message': 'CI: Move from ceph-ansible to cephadm\n\nChange-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b\n'}]",24,771418,65a16a08e2d8f25a1dfa3038eb0eb12e5d742057,136,5,60,22629,,,0,"CI: Move from ceph-ansible to cephadm

Change-Id: I81a4f8f8b8faa7559740531bb16d8aec7fc23f9b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/771418/53 && git format-patch -1 --stdout FETCH_HEAD,"['tests/get_logs.sh', 'tests/check-config.sh', 'tests/deploy-ceph-ansible.sh', 'tests/run.yml', 'tests/setup_gate.sh', 'tests/deploy-ceph.sh', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'tests/templates/ceph-ansible.j2', 'tests/test-core-openstack.sh', 'zuul.d/jobs.yaml']",11,925900979c1b7e539a47993c85501117f217eac2,, name: kolla-ansible-centos8-source-cephadm parent: kolla-ansible-cephadm-base name: kolla-ansible-ubuntu-source-cephadm parent: kolla-ansible-cephadm-base name: kolla-ansible-centos8-source-upgrade-cephadm parent: kolla-ansible-cephadm-base name: kolla-ansible-ubuntu-source-upgrade-cephadm parent: kolla-ansible-cephadm-base, name: kolla-ansible-centos8-source-ceph-ansible parent: kolla-ansible-ceph-ansible-base name: kolla-ansible-ubuntu-source-ceph-ansible parent: kolla-ansible-ceph-ansible-base name: kolla-ansible-centos8-source-upgrade-ceph-ansible parent: kolla-ansible-ceph-ansible-base name: kolla-ansible-ubuntu-source-upgrade-ceph-ansible parent: kolla-ansible-ceph-ansible-base,137,179
openstack%2Fcinder~stable%2Fussuri~I4383b691a8cc4aacb046332e418aafb88ba8ba56,openstack/cinder,stable/ussuri,I4383b691a8cc4aacb046332e418aafb88ba8ba56,NetApp SolidFire: Fix duplicate volume when API response is lost,MERGED,2020-11-26 04:06:32.000000000,2021-03-06 15:04:03.000000000,2021-03-06 15:01:21.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30555}]","[{'number': 1, 'created': '2020-11-26 04:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4f106e4c219f178358b3f0971b83a8b0e03337f', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option sf_volume_create_timeout to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n""}, {'number': 2, 'created': '2021-03-03 21:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a812cc56ad8cac3c9c7a880f92f05b4d6e4e682', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option sf_volume_create_timeout to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n""}, {'number': 3, 'created': '2021-03-05 15:20:27.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-duplicate-volume-request-lost-adefacda1298dc62.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d73da73283c783f90e878c5fbd53e114e1918f0a', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option sf_volume_create_timeout to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)\n""}]",0,764274,d73da73283c783f90e878c5fbd53e114e1918f0a,44,4,3,30555,,,0,"NetApp SolidFire: Fix duplicate volume when API response is lost

The SolidFire driver retries API requests in case a connection
error occurrs. When network is unstable, there may be the
possibility that the SolidFire backend successfully receive
and process a create volume operation, but fail to deliver the
response back to the driver.

When this scenario occurrs, the SolidFire driver automatically
resends the request, creating a second volume and leaving a
duplicate unused. Although this doesn't affect
driver functionality at first moment (the volume id from the
cluster is always correctly associated to cinder provider id),
further operations may hit the unused volume, leading to
unexpected hehavior.

This patch fixes this issue by:

1. Checking if the volume name already exists in the
backend before trying to create it. Volume creation will
raise a exception and abort in case of a volume is found.

2. Checking for volume creation right after a read timeout is
detected, preventing invalid API calls.

3. Adding option sf_volume_create_timeout to the SolidFire
driver, to allow users to set the appropriate timeout value for
their environment.

Closes-Bug: #1896112
Change-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56
(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)
(cherry picked from commit deb31a0c4d35ea6c479bfe466b780ed07a489276)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/764274/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-duplicate-volume-request-lost-adefacda1298dc62.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",3,c4f106e4c219f178358b3f0971b83a8b0e03337f,bug/1896112," if params and params.get('startVolumeID', None): selected_volumes = [v for v in volumes if v.get('volumeID') != params['startVolumeID']] else: result = {'result': {'volumes': []}} ", if params and params['startVolumeID']: selected_volumes = [v for v in volumes if v.get('volumeID') != params['startVolumeID']],86,8
openstack%2Fneutron~master~Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee,openstack/neutron,master,Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee,Config option to disable the DHCP functions,MERGED,2021-01-25 07:56:26.000000000,2021-03-06 15:03:26.000000000,2021-03-06 15:00:57.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-01-25 07:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/273844b670db3d66d87e861467a300323f3ab6c9', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``enable_distributed_dhcp`` [1]\nto disable:\n* DHCP scheduling for networks\n* DHCP privisioning block\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/5/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 2, 'created': '2021-01-25 08:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/557222141f46de2f5cb18174ecce0afae2b4a797', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``enable_distributed_dhcp`` [1]\nto disable:\n* DHCP scheduling for networks\n* DHCP privisioning block\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/5/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 3, 'created': '2021-01-25 10:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1f7f3f261257074494b4b7b267241f4cf76e206', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``enable_distributed_dhcp`` [1]\nto disable:\n* DHCP scheduling for networks\n* DHCP privisioning block\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/5/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 4, 'created': '2021-01-26 01:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68b7a45fb05beda60ef19360b7faec9a199eb85c', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``enable_distributed_dhcp`` [1]\nto disable:\n* DHCP provisioning block\n* DHCP API extension and scheduler\n* Network scheduling mechanism\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/5/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 5, 'created': '2021-01-27 09:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9730803fb2ee12e662143c0508fa43aef30bfed', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``disable_traditional_dhcp`` [1]\nto disable:\n* DHCP provisioning block\n* DHCP API extension and scheduler\n* Network scheduling mechanism\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/7/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 6, 'created': '2021-01-28 01:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52d315ddf32e0fd28e85e9fb9cdcdd07c4def599', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``disable_traditional_dhcp`` [1]\nto disable:\n* DHCP provisioning block\n* DHCP API extension and scheduler\n* Network scheduling mechanism\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/7/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 7, 'created': '2021-02-01 03:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b7e56f27b782ffa57f62dbfca2100ba60fdf14e', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``disable_traditional_dhcp`` [1]\nto disable:\n* DHCP provisioning block\n* DHCP API extension and scheduler\n* Network scheduling mechanism\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/7/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 8, 'created': '2021-02-03 04:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43eb67a5e8749dff5bdbae2e0c06c78e4c27f4f6', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``disable_traditional_dhcp`` [1]\nto disable:\n* DHCP provisioning block\n* DHCP API extension and scheduler\n* Network scheduling mechanism\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/7/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 9, 'created': '2021-02-05 05:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60572115e65c12cb6d13f59940f926958c23b658', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``disable_traditional_dhcp`` [1]\nto disable:\n* DHCP provisioning block\n* DHCP scheduler API extension\n* Network scheduling mechanism\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/7/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 10, 'created': '2021-02-19 01:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58a11f2b9f0ba700ee50c4bfbaf5c8c2fef56739', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``disable_traditional_dhcp`` [1]\nto disable:\n* DHCP provisioning block\n* DHCP scheduler API extension\n* Network scheduling mechanism\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/7/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 11, 'created': '2021-02-23 01:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f919ff2e40226da7139d1b4af2915628b23c34d0', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``disable_traditional_dhcp`` [1]\nto disable:\n* DHCP provisioning block\n* DHCP scheduler API extension\n* Network scheduling mechanism\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/7/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 12, 'created': '2021-02-25 03:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bdeab6a5323492f54af64626c26ba94c6dffd7c', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``disable_traditional_dhcp`` [1]\nto disable:\n* DHCP provisioning block\n* DHCP scheduler API extension\n* Network scheduling mechanism\n* DHCP RPC/notification\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/768588/7/specs/wallaby/distributed_dhcp.rst#185\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 13, 'created': '2021-03-02 06:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f216a864d33bd21cd4ee9f5a86d1bab3ae09172d', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``enable_traditional_dhcp``,\nif set False, neutron-server will disable:\n* DHCP provisioning block\n* DHCP scheduler API extension\n* Network scheduling mechanism\n* DHCP RPC/notification\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}, {'number': 14, 'created': '2021-03-05 10:08:25.000000000', 'files': ['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/extensions/dhcpagentscheduler.py', 'neutron/conf/common.py', 'releasenotes/notes/config_disable_traditional_dhcp-e553e2bd327c37c5.yaml', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e3a83c21304c28054bb0134add1688e9f3a9140', 'message': 'Config option to disable the DHCP functions\n\nThis patch adds a new config option ``enable_traditional_dhcp``,\nif set False, neutron-server will disable:\n* DHCP provisioning block\n* DHCP scheduler API extension\n* Network scheduling mechanism\n* DHCP RPC/notification\n\nPartially-Implements: bp/distributed-dhcp-for-ml2-ovs\nRelated-Bug: #1900934\n\nChange-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee\n'}]",49,772255,8e3a83c21304c28054bb0134add1688e9f3a9140,159,8,14,9531,,,0,"Config option to disable the DHCP functions

This patch adds a new config option ``enable_traditional_dhcp``,
if set False, neutron-server will disable:
* DHCP provisioning block
* DHCP scheduler API extension
* Network scheduling mechanism
* DHCP RPC/notification

Partially-Implements: bp/distributed-dhcp-for-ml2-ovs
Related-Bug: #1900934

Change-Id: Icfbfc9691c5cf837406ff4291b3e3ed4970b26ee
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/772255/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/extensions/dhcpagentscheduler.py', 'neutron/conf/common.py', 'neutron/plugins/ml2/plugin.py']",5,273844b670db3d66d87e861467a300323f3ab6c9,bp/distributed-dhcp-for-ml2-ovs, dhcpagentscheduler.disable_extension_by_config(aliases) if cfg.CONF.enable_distributed_dhcp: return if not cfg.CONF.enable_distributed_dhcp: self.agent_notifiers[const.AGENT_TYPE_DHCP] = ( dhcp_rpc_agent_api.DhcpAgentNotifyAPI() ) if cfg.CONF.enable_distributed_dhcp: return, self.agent_notifiers[const.AGENT_TYPE_DHCP] = ( dhcp_rpc_agent_api.DhcpAgentNotifyAPI() ),36,4
openstack%2Frequirements~master~I2d16b9aadddd325df3e75416a807979c000b5286,openstack/requirements,master,I2d16b9aadddd325df3e75416a807979c000b5286,update constraint for os_vif to new release 2.4.0,MERGED,2021-03-05 10:07:37.000000000,2021-03-06 14:36:20.000000000,2021-03-06 14:34:52.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 10:07:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bd53daee985609b99e1a092e8e32cf2fc1f3ad93', 'message': 'update constraint for os_vif to new release 2.4.0\n\nmeta: version: 2.4.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I9a1c3d06521fc7c562caf63bae664c22b2d9306c\nmeta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>\nmeta: release:Code-Review+1: sean mooney <smooney@redhat.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I2d16b9aadddd325df3e75416a807979c000b5286\n'}]",0,778874,bd53daee985609b99e1a092e8e32cf2fc1f3ad93,12,3,1,11131,,,0,"update constraint for os_vif to new release 2.4.0

meta: version: 2.4.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I9a1c3d06521fc7c562caf63bae664c22b2d9306c
meta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Code-Review+1: sean mooney <smooney@redhat.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I2d16b9aadddd325df3e75416a807979c000b5286
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/778874/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bd53daee985609b99e1a092e8e32cf2fc1f3ad93,new-release,os-vif===2.4.0,os-vif===2.3.0,1,1
openstack%2Fnova~master~I6b80021a2f90d3379c821dc8f02a72f350169eb3,openstack/nova,master,I6b80021a2f90d3379c821dc8f02a72f350169eb3,nova-manage: Add libvirt update_machine_type command,MERGED,2021-02-10 16:51:25.000000000,2021-03-06 14:34:15.000000000,2021-03-06 14:32:02.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 16:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9584b76f8d8fe1c56adfddb059cf7d12f18d20d6', 'message': 'nova-manage: Add machine_type update command\n\nThis change adds a second `update` command to the `machine_type` group\nwithin nova-manage. This command will set or update the machine type of\nthe instance assuming the following criteria are met:\n\n* The instance must have a ``vm_state`` of ``STOPPED``, ``SHELVED`` or\n  ``SHELVED_OFFLOADED``.\n\n* The machine type is supported. The supported list includes alias and\n  versioned types of ``pc``, ``pc-i440fx``, ``pc-q35``, ``q35``, ``virt``,\n  ``s390-ccw-virtio``, ``hyperv-gen1`` and ``hyperv-gen2`` as supported by\n  the hyperv driver.\n\n* The update will not move the instance between underlying machine types.\n  For example, ``pc`` to ``q35``.\n\n* The update will not move the instance between an alias and versioned\n  machine type or vice versa. For example, ``pc`` to ``pc-1.2.3`` or\n  ``pc-1.2.3`` to ``pc``.\n\nA ``--force`` flag is provided to skip the above checks but caution\nshould be taken as this could easily lead to the underlying ABI of the\ninstance changing when moving between machine types.\n\nChange-Id: I6b80021a2f90d3379c821dc8f02a72f350169eb3\n'}, {'number': 2, 'created': '2021-02-11 11:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0564331399fe5559aa5aaa618d39f24d5c115aa', 'message': 'nova-manage: Add machine_type update command\n\nThis change adds a second `update` command to the `machine_type` group\nwithin nova-manage. This command will set or update the machine type of\nthe instance assuming the following criteria are met:\n\n* The instance must have a ``vm_state`` of ``STOPPED``, ``SHELVED`` or\n  ``SHELVED_OFFLOADED``.\n\n* The machine type is supported. The supported list includes alias and\n  versioned types of ``pc``, ``pc-i440fx``, ``pc-q35``, ``q35``, ``virt``,\n  ``s390-ccw-virtio``, ``hyperv-gen1`` and ``hyperv-gen2`` as supported by\n  the hyperv driver.\n\n* The update will not move the instance between underlying machine types.\n  For example, ``pc`` to ``q35``.\n\n* The update will not move the instance between an alias and versioned\n  machine type or vice versa. For example, ``pc`` to ``pc-1.2.3`` or\n  ``pc-1.2.3`` to ``pc``.\n\nA ``--force`` flag is provided to skip the above checks but caution\nshould be taken as this could easily lead to the underlying ABI of the\ninstance changing when moving between machine types.\n\nChange-Id: I6b80021a2f90d3379c821dc8f02a72f350169eb3\n'}, {'number': 3, 'created': '2021-02-11 15:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed335cfb3fd3a900741f17b55f7c49c85b87700d', 'message': 'nova-manage: Add machine_type update command\n\nThis change adds a second update command to the machine_type group\nwithin nova-manage. This command will set or update the machine type of\nthe instance when the following criteria are met:\n\n* The instance must have a ``vm_state`` of ``STOPPED``, ``SHELVED`` or\n  ``SHELVED_OFFLOADED``.\n\n* The machine type is supported. The supported list includes alias and\n  versioned types of ``pc``, ``pc-i440fx``, ``pc-q35``, ``q35``, ``virt``,\n  ``s390-ccw-virtio``, ``hyperv-gen1`` and ``hyperv-gen2`` as supported by\n  the hyperv driver.\n\n* The update will not move the instance between underlying machine types.\n  For example, ``pc`` to ``q35``.\n\n* The update will not move the instance between an alias and versioned\n  machine type or vice versa. For example, ``pc`` to ``pc-1.2.3`` or\n  ``pc-1.2.3`` to ``pc``.\n\nA --force flag is provided to skip the above checks but caution\nshould be taken as this could easily lead to the underlying ABI of the\ninstance changing when moving between machine types.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I6b80021a2f90d3379c821dc8f02a72f350169eb3\n'}, {'number': 4, 'created': '2021-02-15 13:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dfd77a9b7733ebfa6e8b0bced2adc2975b09170', 'message': 'nova-manage: Add machine_type update command\n\nThis change adds a second update command to the machine_type group\nwithin nova-manage. This command will set or update the machine type of\nthe instance when the following criteria are met:\n\n* The instance must have a ``vm_state`` of ``STOPPED``, ``SHELVED`` or\n  ``SHELVED_OFFLOADED``.\n\n* The machine type is supported. The supported list includes alias and\n  versioned types of ``pc``, ``pc-i440fx``, ``pc-q35``, ``q35``, ``virt``,\n  ``s390-ccw-virtio``, ``hyperv-gen1`` and ``hyperv-gen2`` as supported by\n  the hyperv driver.\n\n* The update will not move the instance between underlying machine types.\n  For example, ``pc`` to ``q35``.\n\n* The update will not move the instance between an alias and versioned\n  machine type or vice versa. For example, ``pc`` to ``pc-1.2.3`` or\n  ``pc-1.2.3`` to ``pc``.\n\nA --force flag is provided to skip the above checks but caution\nshould be taken as this could easily lead to the underlying ABI of the\ninstance changing when moving between machine types.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I6b80021a2f90d3379c821dc8f02a72f350169eb3\n'}, {'number': 5, 'created': '2021-02-17 09:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e850fb57376c0adedec5d0d8b7ee6e405c9932f', 'message': 'nova-manage: Add machine_type update command\n\nThis change adds a second update command to the machine_type group\nwithin nova-manage. This command will set or update the machine type of\nthe instance when the following criteria are met:\n\n* The instance must have a ``vm_state`` of ``STOPPED``, ``SHELVED`` or\n  ``SHELVED_OFFLOADED``.\n\n* The machine type is supported. The supported list includes alias and\n  versioned types of ``pc``, ``pc-i440fx``, ``pc-q35``, ``q35``, ``virt``,\n  ``s390-ccw-virtio``, ``hyperv-gen1`` and ``hyperv-gen2`` as supported by\n  the hyperv driver.\n\n* The update will not move the instance between underlying machine types.\n  For example, ``pc`` to ``q35``.\n\n* The update will not move the instance between an alias and versioned\n  machine type or vice versa. For example, ``pc`` to ``pc-1.2.3`` or\n  ``pc-1.2.3`` to ``pc``.\n\nA --force flag is provided to skip the above checks but caution\nshould be taken as this could easily lead to the underlying ABI of the\ninstance changing when moving between machine types.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I6b80021a2f90d3379c821dc8f02a72f350169eb3\n'}, {'number': 6, 'created': '2021-03-01 13:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/064633821b1f128510d89d33e300c689e6fd1c40', 'message': 'nova-manage: Add libvirt update_machine_type command\n\nThis change adds a second update command to the libvirt group\nwithin nova-manage. This command will set or update the machine type of\nthe instance when the following criteria are met:\n\n* The instance must have a ``vm_state`` of ``STOPPED``, ``SHELVED`` or\n  ``SHELVED_OFFLOADED``.\n\n* The machine type is supported. The supported list includes alias and\n  versioned types of ``pc``, ``pc-i440fx``, ``pc-q35``, ``q35``, ``virt``,\n  ``s390-ccw-virtio``, ``hyperv-gen1`` and ``hyperv-gen2`` as supported by\n  the hyperv driver.\n\n* The update will not move the instance between underlying machine types.\n  For example, ``pc`` to ``q35``.\n\n* The update will not move the instance between an alias and versioned\n  machine type or vice versa. For example, ``pc`` to ``pc-1.2.3`` or\n  ``pc-1.2.3`` to ``pc``.\n\nA --force flag is provided to skip the above checks but caution\nshould be taken as this could easily lead to the underlying ABI of the\ninstance changing when moving between machine types.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I6b80021a2f90d3379c821dc8f02a72f350169eb3\n'}, {'number': 7, 'created': '2021-03-01 22:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0acf61eff222144762732d6477038f95ea647a96', 'message': 'nova-manage: Add libvirt update_machine_type command\n\nThis change adds a second update command to the libvirt group\nwithin nova-manage. This command will set or update the machine type of\nthe instance when the following criteria are met:\n\n* The instance must have a ``vm_state`` of ``STOPPED``, ``SHELVED`` or\n  ``SHELVED_OFFLOADED``.\n\n* The machine type is supported. The supported list includes alias and\n  versioned types of ``pc``, ``pc-i440fx``, ``pc-q35``, ``q35``, ``virt``\n  or ``s390-ccw-virtio``.\n\n* The update will not move the instance between underlying machine types.\n  For example, ``pc`` to ``q35``.\n\n* The update will not move the instance between an alias and versioned\n  machine type or vice versa. For example, ``pc`` to ``pc-1.2.3`` or\n  ``pc-1.2.3`` to ``pc``.\n\nA --force flag is provided to skip the above checks but caution\nshould be taken as this could easily lead to the underlying ABI of the\ninstance changing when moving between machine types.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I6b80021a2f90d3379c821dc8f02a72f350169eb3\n'}, {'number': 8, 'created': '2021-03-03 14:04:25.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/machine_type_utils.py', 'nova/tests/functional/libvirt/test_machine_type.py', 'nova/tests/unit/cmd/test_manage.py', 'doc/source/cli/nova-manage.rst', 'nova/tests/functional/integrated_helpers.py', 'releasenotes/notes/libvirt-store-and-change-default-machine-type-bf86b4973c4dee4c.yaml', 'nova/cmd/manage.py', 'nova/tests/unit/virt/libvirt/test_machine_type_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c70cde057d20bb2c05a133e52b9ec560bd792698', 'message': 'nova-manage: Add libvirt update_machine_type command\n\nThis change adds a second update command to the libvirt group\nwithin nova-manage. This command will set or update the machine type of\nthe instance when the following criteria are met:\n\n* The instance must have a ``vm_state`` of ``STOPPED``, ``SHELVED`` or\n  ``SHELVED_OFFLOADED``.\n\n* The machine type is supported. The supported list includes alias and\n  versioned types of ``pc``, ``pc-i440fx``, ``pc-q35``, ``q35``, ``virt``\n  or ``s390-ccw-virtio``.\n\n* The update will not move the instance between underlying machine types.\n  For example, ``pc`` to ``q35``.\n\n* The update will not move the instance between an alias and versioned\n  machine type or vice versa. For example, ``pc`` to ``pc-1.2.3`` or\n  ``pc-1.2.3`` to ``pc``.\n\nA --force flag is provided to skip the above checks but caution\nshould be taken as this could easily lead to the underlying ABI of the\ninstance changing when moving between machine types.\n\nblueprint: libvirt-default-machine-type\nChange-Id: I6b80021a2f90d3379c821dc8f02a72f350169eb3\n'}]",65,774896,c70cde057d20bb2c05a133e52b9ec560bd792698,70,3,8,10135,,,0,"nova-manage: Add libvirt update_machine_type command

This change adds a second update command to the libvirt group
within nova-manage. This command will set or update the machine type of
the instance when the following criteria are met:

* The instance must have a ``vm_state`` of ``STOPPED``, ``SHELVED`` or
  ``SHELVED_OFFLOADED``.

* The machine type is supported. The supported list includes alias and
  versioned types of ``pc``, ``pc-i440fx``, ``pc-q35``, ``q35``, ``virt``
  or ``s390-ccw-virtio``.

* The update will not move the instance between underlying machine types.
  For example, ``pc`` to ``q35``.

* The update will not move the instance between an alias and versioned
  machine type or vice versa. For example, ``pc`` to ``pc-1.2.3`` or
  ``pc-1.2.3`` to ``pc``.

A --force flag is provided to skip the above checks but caution
should be taken as this could easily lead to the underlying ABI of the
instance changing when moving between machine types.

blueprint: libvirt-default-machine-type
Change-Id: I6b80021a2f90d3379c821dc8f02a72f350169eb3
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/774896/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/functional/libvirt/test_machine_type.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/virt/test_machine_type_utils.py', 'nova/tests/functional/integrated_helpers.py', 'releasenotes/notes/libvirt-store-and-change-default-machine-type-bf86b4973c4dee4c.yaml', 'nova/cmd/manage.py', 'nova/virt/machine_type_utils.py']",8,9584b76f8d8fe1c56adfddb059cf7d12f18d20d6,spec/libvirt-default-machine-type,"import re import typing as ty from nova.compute import vm_statesfrom nova import exceptionfrom oslo_utils import versionutils SUPPORTED_TYPE_PATTERNS = [ # As defined by nova.virt.libvirt.utils.get_default_machine_type r'^pc$', r'^q35$', r'^virt$', r'^s390-ccw-virtio$', # versioned types of the above r'^pc-\d+.\d+', r'^pc-i440fx-\d+.\d+', r'^pc-q35-\d+.\d+', r'^virt-\d+.\d+', r'^s390-ccw-virtio-\d+.\d+', # RHEL specific versions of the pc-i440fx and pc-q35 types r'^pc-i440fx-rhel\d.\d+.\d+', r'^pc-q35-rhel\d.\d+.\d+', # As defined by nova.virt.hyperv.constants.IMAGE_PROP_VM_GEN_{1,2} r'^hyperv-gen1', r'^hyperv-gen2', ] ALLOWED_UPDATE_VM_STATES = [ vm_states.STOPPED, vm_states.SHELVED, vm_states.SHELVED_OFFLOADED ] def _check_machine_type_support( mtype: str ): """"""Check that the provided machine type is supported This check is done without access to the compute host and so instead relies on a hardcoded list of supported machine types to validate the provided machine type. :param machine_type: Machine type to check :raises: nova.exception.UnsupportedMachineType """""" if not any(m for m in SUPPORTED_TYPE_PATTERNS if re.match(m, mtype)): raise exception.UnsupportedMachineType(machine_type=mtype) def _check_update_to_existing_type( existing_type: str, machine_type: str ): """"""Check the update to an existing machine type The aim here is to block operators from moving between the underying machine types, between versioned and aliased types or to an older version of the same type during an update. :param existing_type: The existing machine type :param machine_type: The new machine type :raises: nova.exception.InvalidMachineTypeUpdate """""" # Check that we are not switching between types or between an alias and # versioned type such as q35 to pc-q35-5.2.0 etc. for m in SUPPORTED_TYPE_PATTERNS: if re.match(m, existing_type) and not re.match(m, machine_type): raise exception.InvalidMachineTypeUpdate( existing_machine_type=existing_type, machine_type=machine_type) # Now check that the new version isn't older than the original. # This needs to support x.y and x.y.z as used by RHEL shipped QEMU version_pattern = r'\d+\.\d+$|\d+\.\d+\.\d+$' if any(re.findall(version_pattern, existing_type)): existing_version = re.findall(version_pattern, existing_type)[0] new_version = re.findall(version_pattern, machine_type)[0] if (versionutils.convert_version_to_int(new_version) < versionutils.convert_version_to_int(existing_version)): raise exception.InvalidMachineTypeUpdate( existing_machine_type=existing_type, machine_type=machine_type) def _check_vm_state( instance: 'objects.Instance', ): """"""Ensure the vm_state of the instance is in ALLOWED_UPDATE_VM_STATES :param instance: Instance object to check :raises: nova.exception.InstanceInvalidState """""" if instance.vm_state not in ALLOWED_UPDATE_VM_STATES: raise exception.InstanceInvalidState( instance_uuid=instance.uuid, attr='vm_state', state=instance.vm_state, method='update machine type.') def update_machine_type( context: 'nova_context.RequestContext', instance_uuid: str, machine_type: str, force: ty.Optional[bool] = False, ) -> ty.Tuple[str, str]: """"""Set or update the stored machine type of an instance :param instance_uuid: Instance UUID to update. :param machine_type: Machine type to update. :param force: If the update should be forced. :returns: A tuple of the updated machine type and original machine type. """""" im = objects.InstanceMapping.get_by_instance_uuid( context, instance_uuid) with nova_context.target_cell(context, im.cell_mapping) as cctxt: instance = objects.instance.Instance.get_by_uuid( cctxt, instance_uuid, expected_attrs=['system_metadata']) # Fetch the existing system metadata machine type if one is recorded existing_mtype = instance.image_meta.properties.get('hw_machine_type') # Return if the type is already updated if existing_mtype and existing_mtype == machine_type: return (machine_type, existing_mtype) # If the caller wants to force the update now is the time to do it. if force: instance.system_metadata['image_hw_machine_type'] = machine_type instance.save() return (machine_type, existing_mtype) # Ensure the instance is in a suitable vm_state to update _check_vm_state(instance) # Ensure the supplied machine type is supported _check_machine_type_support(machine_type) # If the instance already has a type ensure the update is valid if existing_mtype: _check_update_to_existing_type(existing_mtype, machine_type) # Finally save the machine type in the instance system metadata instance.system_metadata['image_hw_machine_type'] = machine_type instance.save() return (machine_type, existing_mtype)",,699,0
openstack%2Frequirements~master~Ia4900fb8b37d3711c080e5d0c22b963495e2f852,openstack/requirements,master,Ia4900fb8b37d3711c080e5d0c22b963495e2f852,update constraint for tosca-parser to new release 2.3.0,MERGED,2021-03-05 10:07:09.000000000,2021-03-06 14:34:05.000000000,2021-03-06 14:32:36.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 10:07:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/707a2bfb64cb3e19b76214e39f44aa8d2936304e', 'message': 'update constraint for tosca-parser to new release 2.3.0\n\nmeta: version: 2.3.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ie1dd06525b161219de0d85ac8dad7aa0fcc8573c\nmeta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ia4900fb8b37d3711c080e5d0c22b963495e2f852\n'}]",0,778873,707a2bfb64cb3e19b76214e39f44aa8d2936304e,12,3,1,11131,,,0,"update constraint for tosca-parser to new release 2.3.0

meta: version: 2.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie1dd06525b161219de0d85ac8dad7aa0fcc8573c
meta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ia4900fb8b37d3711c080e5d0c22b963495e2f852
",git fetch https://review.opendev.org/openstack/requirements refs/changes/73/778873/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,707a2bfb64cb3e19b76214e39f44aa8d2936304e,new-release,tosca-parser===2.3.0,tosca-parser===2.2.0,1,1
openstack%2Fpython-openstackclient~master~I9486a09531b11f27a9ff0d68fd4ad8c68a65cccf,openstack/python-openstackclient,master,I9486a09531b11f27a9ff0d68fd4ad8c68a65cccf,network: Add missing subnet unset --gateway <subnet-id>,MERGED,2021-03-05 12:56:29.000000000,2021-03-06 13:58:37.000000000,2021-03-06 13:57:27.000000000,"[{'_account_id': 2}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-05 12:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4b2dd061e8a18a254ef93774d44f0e151844f206', 'message': 'network: Allow user to unset gateway for a subnet\n\nStory: 2008695\nTask: 42003\nChange-Id: I9486a09531b11f27a9ff0d68fd4ad8c68a65cccf\n'}, {'number': 2, 'created': '2021-03-05 14:16:06.000000000', 'files': ['releasenotes/notes/subnet-unset-gateway-20239d5910e10778.yaml', 'openstackclient/tests/unit/network/v2/test_subnet.py', 'openstackclient/network/v2/subnet.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ed731d6cd9254eae047d14ccd55132229e13e7d1', 'message': 'network: Add missing subnet unset --gateway <subnet-id>\n\nStory: 2008695\nTask: 42003\nChange-Id: I9486a09531b11f27a9ff0d68fd4ad8c68a65cccf\n'}]",0,778906,ed731d6cd9254eae047d14ccd55132229e13e7d1,12,4,2,28022,,,0,"network: Add missing subnet unset --gateway <subnet-id>

Story: 2008695
Task: 42003
Change-Id: I9486a09531b11f27a9ff0d68fd4ad8c68a65cccf
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/06/778906/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/subnet.py'],1,4b2dd061e8a18a254ef93774d44f0e151844f206,," '--gateway', action='store_true', help=_(""Remove gateway IP from this subnet"") ) parser.add_argument( if parsed_args.gateway: attrs['gateway_ip'] = None",,7,0
openstack%2Fopenstack-ansible-os_octavia~master~I947c4b38810b8ad4ed22a5c6fc39ef9c5978a114,openstack/openstack-ansible-os_octavia,master,I947c4b38810b8ad4ed22a5c6fc39ef9c5978a114,[WIP] Add integrated test for Octavia,ABANDONED,2021-03-06 03:36:36.000000000,2021-03-06 12:32:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-06 03:36:36.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/14ea9bd2dc26dafdf0ac0f60dbac7c4057281478', 'message': '[WIP] Add integrated test for Octavia\n\nThis patch set aims to kick the tires on an integrated test\nwith Octavia deployed. The goal is to test amphora deployment\nand connectivity (if possible). Do not merge!\n\nChange-Id: I947c4b38810b8ad4ed22a5c6fc39ef9c5978a114\n'}]",0,779069,14ea9bd2dc26dafdf0ac0f60dbac7c4057281478,6,1,1,16011,,,0,"[WIP] Add integrated test for Octavia

This patch set aims to kick the tires on an integrated test
with Octavia deployed. The goal is to test amphora deployment
and connectivity (if possible). Do not merge!

Change-Id: I947c4b38810b8ad4ed22a5c6fc39ef9c5978a114
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/69/779069/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,14ea9bd2dc26dafdf0ac0f60dbac7c4057281478,integrated_octavia,"--- # Copyright 2021, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Ubuntu Focal - job: name: openstack-ansible-deploy-aio_octavia_lxc-ubuntu-focal parent: openstack-ansible-deploy-aio nodeset: ubuntu-focal - job: name: openstack-ansible-deploy-aio_octavia_metal-ubuntu-focal parent: openstack-ansible-deploy-aio nodeset: ubuntu-focal ",,33,0
openstack%2Fpuppet-tripleo~master~I29e3e8b5dab256816ea108d23ccb1f0558e43e82,openstack/puppet-tripleo,master,I29e3e8b5dab256816ea108d23ccb1f0558e43e82,Add ports filtering support to XtremIO Cinder driver,MERGED,2021-02-17 20:08:23.000000000,2021-03-06 11:46:18.000000000,2021-03-06 11:45:06.000000000,"[{'_account_id': 7160}, {'_account_id': 11904}, {'_account_id': 12670}, {'_account_id': 13671}, {'_account_id': 14624}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 20:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5e7f106798ef2cbe62cfb145db7259fe982884d2', 'message': 'Add ports filtering support to XtremIO Cinder driver\n\nIf there are some iSCSI or FC targets (ESXi for example) that\nare not connected to the OpenStack host,\nattach volume operation waits until timeout.\nThe XtremIO Cinder driver needs a new option to support ports\nfiltering.\n\nDepends-On: https://review.opendev.org/#/c/776260\nCloses-Bug: #1915800\nChange-Id: I29e3e8b5dab256816ea108d23ccb1f0558e43e82\n'}, {'number': 2, 'created': '2021-02-18 12:49:54.000000000', 'files': ['releasenotes/notes/xtremio-add-ports-option-b1e60a97ba56f21e.yaml', 'manifests/profile/base/cinder/volume/dellemc_xtremio_iscsi.pp', 'manifests/profile/base/cinder/volume/dellemc_xtremio.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4c981b570210a10eac3f88c44570629d04eded64', 'message': 'Add ports filtering support to XtremIO Cinder driver\n\nIf there are some iSCSI or FC targets (ESXi for example) that\nare not connected to the OpenStack host,\nattach volume operation waits until timeout.\nThe XtremIO Cinder driver needs a new option to support ports\nfiltering.\n\nDepends-On: https://review.opendev.org/#/c/776260\nRelated-Bug: #1915800\nChange-Id: I29e3e8b5dab256816ea108d23ccb1f0558e43e82\n'}]",1,776264,4c981b570210a10eac3f88c44570629d04eded64,23,8,2,31016,,,0,"Add ports filtering support to XtremIO Cinder driver

If there are some iSCSI or FC targets (ESXi for example) that
are not connected to the OpenStack host,
attach volume operation waits until timeout.
The XtremIO Cinder driver needs a new option to support ports
filtering.

Depends-On: https://review.opendev.org/#/c/776260
Related-Bug: #1915800
Change-Id: I29e3e8b5dab256816ea108d23ccb1f0558e43e82
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/64/776264/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume/dellemc_xtremio_iscsi.pp', 'releasenotes/notes/xtremio-add-ports-option-b1e60a97ba56f21e.yaml', 'manifests/profile/base/cinder/volume/dellemc_xtremio.pp']",3,5e7f106798ef2cbe62cfb145db7259fe982884d2,bug/1915800," 'CinderXtremioPorts' => hiera('cinder::backend::dellemc_xtremio::xtremio_ports', undef), xtremio_ports => $backend_config['CinderXtremioPorts'],",,8,0
openstack%2Fpython-openstackclient~master~I7e00851a03470364db00f0f114fc724b0f686b72,openstack/python-openstackclient,master,I7e00851a03470364db00f0f114fc724b0f686b72,Add reno for change Ic3c555226a220efd9b0f27edffccf6c4c95c2747,MERGED,2021-01-11 14:25:43.000000000,2021-03-06 11:46:09.000000000,2021-03-06 11:41:23.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-11 14:25:43.000000000', 'files': ['releasenotes/notes/story-2007727-69b705c561309742.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bb15b29190dfe77ea0218a01edc1f4886993b177', 'message': ""Add reno for change Ic3c555226a220efd9b0f27edffccf6c4c95c2747\n\nChange Ic3c555226a220efd9b0f27edffccf6c4c95c2747 introduced some\nvalidation for the 'openstack server group create --policy' command.\nCall this out in the release notes.\n\nChange-Id: I7e00851a03470364db00f0f114fc724b0f686b72\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,770128,bb15b29190dfe77ea0218a01edc1f4886993b177,11,2,1,15334,,,0,"Add reno for change Ic3c555226a220efd9b0f27edffccf6c4c95c2747

Change Ic3c555226a220efd9b0f27edffccf6c4c95c2747 introduced some
validation for the 'openstack server group create --policy' command.
Call this out in the release notes.

Change-Id: I7e00851a03470364db00f0f114fc724b0f686b72
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/28/770128/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/story-2007727-69b705c561309742.yaml'],1,bb15b29190dfe77ea0218a01edc1f4886993b177,story/2007727,"--- fixes: - | The ``openstack server group create`` command will now validate the policy value requested with ``--policy``, restricting it to the valid values allowed by given microversions. ",,6,0
openstack%2Ftempest~master~Iff0209e0723e7c7199c5d1812415979c9acf5f90,openstack/tempest,master,Iff0209e0723e7c7199c5d1812415979c9acf5f90,Add bandwidth inventory to the subnodes in tempest-multinode-full-py3,MERGED,2021-03-03 12:35:43.000000000,2021-03-06 11:46:05.000000000,2021-03-06 11:41:14.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-03 12:35:43.000000000', 'files': ['zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/24762611f36da82e2a3cb8f5f8e4ccc3c8b53336', 'message': 'Add bandwidth inventory to the subnodes in tempest-multinode-full-py3\n\nChange-Id: Iff0209e0723e7c7199c5d1812415979c9acf5f90\nClosing-Bug: #1917610\n'}]",0,778451,24762611f36da82e2a3cb8f5f8e4ccc3c8b53336,13,5,1,11975,,,0,"Add bandwidth inventory to the subnodes in tempest-multinode-full-py3

Change-Id: Iff0209e0723e7c7199c5d1812415979c9acf5f90
Closing-Bug: #1917610
",git fetch https://review.opendev.org/openstack/tempest refs/changes/51/778451/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,24762611f36da82e2a3cb8f5f8e4ccc3c8b53336,bug/1917610," devstack_local_conf: post-config: ""/$NEUTRON_CORE_PLUGIN_CONF"": ovs: bridge_mappings: public:br-ex resource_provider_bandwidths: br-ex:1000000:1000000",,6,0
openstack%2Ftrove-dashboard~master~If3314e94319056fe45499e83ff1bb15c4d19c64c,openstack/trove-dashboard,master,If3314e94319056fe45499e83ff1bb15c4d19c64c,Use MultiIPField for access form to avoid need for custom validation,MERGED,2021-02-23 05:18:52.000000000,2021-03-06 11:03:20.000000000,2021-03-06 11:03:20.000000000,"[{'_account_id': 3031}, {'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 05:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/87780573569634a4b7e70b0d4197723ed227c3b7', 'message': 'Use MultiIPField for access form to avoid need for custom validation\n\nChange-Id: If3314e94319056fe45499e83ff1bb15c4d19c64c\n'}, {'number': 2, 'created': '2021-03-06 10:45:14.000000000', 'files': ['trove_dashboard/content/databases/workflows/create_instance.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/42d6638d3b76ad59d0f8dda1a901e47407c3e946', 'message': 'Use MultiIPField for access form to avoid need for custom validation\n\nChange-Id: If3314e94319056fe45499e83ff1bb15c4d19c64c\n'}]",0,777050,42d6638d3b76ad59d0f8dda1a901e47407c3e946,12,3,2,3031,,,0,"Use MultiIPField for access form to avoid need for custom validation

Change-Id: If3314e94319056fe45499e83ff1bb15c4d19c64c
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/50/777050/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/databases/workflows/create_instance.py', 'requirements.txt']",2,87780573569634a4b7e70b0d4197723ed227c3b7,,,netaddr>=0.7.18 # BSD,7,19
openstack%2Fneutron~stable%2Fqueens~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/queens,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:40:57.000000000,2021-03-06 10:44:45.000000000,2021-03-06 10:44:45.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 09:40:57.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9fae2581f301e4f7e0e3132acf64a1157b8f35b', 'message': 'Add some wait time between stopping and starting again ovsdb monitor\n\nIn functional tests of the ovsdb_monitor, sometimes during high load\nof the host where tests are run, ""error"" message from the killed process\ncan be received by neutron\'s async_process after new process was\nalready spawned.\nAnd that causes failure of the test as new ovsdb_monitor will not\nreceive events which are expected.\n\nTo workaround that issue this patch adds sleep for few seconds between\nstopping old and starting new ovsdb_monitor process.\n\nCloses-Bug: #1907068\nChange-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c\n(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)\n'}]",0,778830,c9fae2581f301e4f7e0e3132acf64a1157b8f35b,9,3,1,11975,,,0,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/778830/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'],1,c9fae2581f301e4f7e0e3132acf64a1157b8f35b,bug/1907068-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens,"import time # NOTE(slaweq): lets give async process few more seconds to receive # ""error"" from the old ovsdb monitor process and then start new one time.sleep(5)",,4,0
openstack%2Foctavia~stable%2Fussuri~I17dd7ad2865fdc0b29308e482dd4ca9d385d4d7b,openstack/octavia,stable/ussuri,I17dd7ad2865fdc0b29308e482dd4ca9d385d4d7b,Drop lower constraints testing (stable Ussuri),MERGED,2021-03-05 14:31:21.000000000,2021-03-06 08:53:57.000000000,2021-03-06 08:46:32.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 14:31:21.000000000', 'files': ['lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cddbc3c83729ceb34069ed17dd4d553b9f6f0f1b', 'message': 'Drop lower constraints testing (stable Ussuri)\n\nThis topic was discussed on the ML and QA team proposed to\nto drop testing lower-constraints [1].\n\nProposing to drop this test because the complexity and\nrecurring pain needed to maintain it now exceeds the\nbenefits provided by it on the stable branches.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I17dd7ad2865fdc0b29308e482dd4ca9d385d4d7b\n'}]",0,778944,cddbc3c83729ceb34069ed17dd4d553b9f6f0f1b,8,3,1,1131,,,0,"Drop lower constraints testing (stable Ussuri)

This topic was discussed on the ML and QA team proposed to
to drop testing lower-constraints [1].

Proposing to drop this test because the complexity and
recurring pain needed to maintain it now exceeds the
benefits provided by it on the stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I17dd7ad2865fdc0b29308e482dd4ca9d385d4d7b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/44/778944/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",3,cddbc3c83729ceb34069ed17dd4d553b9f6f0f1b,oslo_lc_drop,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt whitelist_externals = sh commands = sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/unit stestr run {posargs}' sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/functional stestr run {posargs}' ,0,189
openstack%2Foctavia~stable%2Fussuri~I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,openstack/octavia,stable/ussuri,I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,Fix LB failover when IP addresses exhausted,MERGED,2021-03-05 16:45:33.000000000,2021-03-06 08:52:34.000000000,2021-03-06 08:46:12.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 16:45:33.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/Fix-failover-ip-addresses-exhausted-69110b2fa4683e1a.yaml', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/63fb9f69e183034d7af1461b4738a6551dfe8a99', 'message': 'Fix LB failover when IP addresses exhausted\n\nWhen a load balancer failover was performed on a load balancer where\nthe VIP address is on a subnet that has no IP addresses available,\nthe VIP address may be deactivated.\nThis patch corrects the failover flow to not deallocate the VIP\naddress on a failover revert flow due to the subnet being out of\nIP addresses.\n\nStory: 2008625\nTask: 41827\nChange-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b\n(cherry picked from commit e3ab49c60aa835cb4034568ea25f06472127388c)\n'}]",0,778997,63fb9f69e183034d7af1461b4738a6551dfe8a99,8,3,1,11628,,,0,"Fix LB failover when IP addresses exhausted

When a load balancer failover was performed on a load balancer where
the VIP address is on a subnet that has no IP addresses available,
the VIP address may be deactivated.
This patch corrects the failover flow to not deallocate the VIP
address on a failover revert flow due to the subnet being out of
IP addresses.

Story: 2008625
Task: 41827
Change-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b
(cherry picked from commit e3ab49c60aa835cb4034568ea25f06472127388c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/97/778997/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/Fix-failover-ip-addresses-exhausted-69110b2fa4683e1a.yaml', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py']",7,63fb9f69e183034d7af1461b4738a6551dfe8a99,," network_tasks.AllocateVIPforFailover( requires=constants.LOADBALANCER, provides=constants.VIP))"," network_tasks.AllocateVIP(requires=constants.LOADBALANCER, provides=constants.VIP))",74,4
openstack%2Foctavia~stable%2Ftrain~Ia419b0ca986735f24a8ee48c315d9cb74620eff3,openstack/octavia,stable/train,Ia419b0ca986735f24a8ee48c315d9cb74620eff3,Drop lower constraints testing (stable Train),MERGED,2021-03-05 14:37:08.000000000,2021-03-06 08:51:39.000000000,2021-03-06 08:46:23.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 14:37:08.000000000', 'files': ['lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/44206993ada9c6afd0f5ff532c8984f9bc2cf396', 'message': 'Drop lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto drop testing lower-constraints [1].\n\nProposing to drop this test because the complexity and\nrecurring pain needed to maintain it now exceeds the\nbenefits provided by it on the stable branches.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia419b0ca986735f24a8ee48c315d9cb74620eff3\n'}]",0,778949,44206993ada9c6afd0f5ff532c8984f9bc2cf396,9,3,1,1131,,,0,"Drop lower constraints testing (stable Train)

This topic was discussed on the ML and QA team proposed to
to drop testing lower-constraints [1].

Proposing to drop this test because the complexity and
recurring pain needed to maintain it now exceeds the
benefits provided by it on the stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ia419b0ca986735f24a8ee48c315d9cb74620eff3
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/778949/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",3,44206993ada9c6afd0f5ff532c8984f9bc2cf396,oslo_lc_drop,,[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt whitelist_externals = sh commands = sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/unit stestr run {posargs}' sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/functional stestr run {posargs}' ,0,189
openstack%2Fcookbook-openstack-block-storage~stable%2Fstein~Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55,openstack/cookbook-openstack-block-storage,stable/stein,Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55,Add a nova section to cinder configuration,MERGED,2021-03-05 12:18:51.000000000,2021-03-06 08:50:43.000000000,2021-03-06 08:50:43.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 12:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/a26a6f116ac3e923cc0bf5c385b47132a962328e', 'message': 'Add a nova section to cinder configuration\n\nCinder needs to send notifications to nova when attached volumes\nare being extended. By default, cinder uses the client context\nfor this, but nova requires admin privileges for this. So we\nconfigure cinder to use the nova service user instead. See\nalso [0].\n\nAdded minor version bump for stable branch.\n\n(cherry picked from commit f6c6e8b180fa6f3422ea04e157b2ce523dc67891)\n[0] https://bugs.launchpad.net/openstack-ansible/+bug/1902914\n\nChange-Id: Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55\n'}, {'number': 2, 'created': '2021-03-06 00:00:09.000000000', 'files': ['recipes/cinder-common.rb', 'attributes/cinder_conf.rb', 'spec/api_spec.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/4eda4565c03776e7e873d7c0cdee51a6c35e1a25', 'message': 'Add a nova section to cinder configuration\n\nCinder needs to send notifications to nova when attached volumes\nare being extended. By default, cinder uses the client context\nfor this, but nova requires admin privileges for this. So we\nconfigure cinder to use the nova service user instead. See\nalso [0].\n\nAdded minor version bump for stable branch.\n\n(cherry picked from commit f6c6e8b180fa6f3422ea04e157b2ce523dc67891)\n[0] https://bugs.launchpad.net/openstack-ansible/+bug/1902914\n\nChange-Id: Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55\n'}]",0,778893,4eda4565c03776e7e873d7c0cdee51a6c35e1a25,13,2,2,13252,,,0,"Add a nova section to cinder configuration

Cinder needs to send notifications to nova when attached volumes
are being extended. By default, cinder uses the client context
for this, but nova requires admin privileges for this. So we
configure cinder to use the nova service user instead. See
also [0].

Added minor version bump for stable branch.

(cherry picked from commit f6c6e8b180fa6f3422ea04e157b2ce523dc67891)
[0] https://bugs.launchpad.net/openstack-ansible/+bug/1902914

Change-Id: Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/93/778893/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/cinder-common.rb', 'attributes/cinder_conf.rb', 'metadata.rb']",3,a26a6f116ac3e923cc0bf5c385b47132a962328e,change-778893-1,version '19.2.0',version '19.1.0',14,1
openstack%2Fpython-tripleoclient~master~I62352871311e98927fbd560b4235114c8c62f223,openstack/python-tripleoclient,master,I62352871311e98927fbd560b4235114c8c62f223,Don't use mistral actions for baremetal workflow,MERGED,2021-03-01 09:41:29.000000000,2021-03-06 08:18:32.000000000,2021-03-06 08:17:20.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-01 09:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a4a71f66d29a85e32371812f68b2b445e0824a55', 'message': ""Don't use mistral actions for baremetal workflow\n\nThis refactors and moves the code to tripleoclient\nfor us to be able to remove dependency on mistral-lib.\n\nChange-Id: I62352871311e98927fbd560b4235114c8c62f223\n""}, {'number': 2, 'created': '2021-03-01 11:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/53689033135176f0da1ce0c1f10f17928e120e62', 'message': ""Don't use mistral actions for baremetal workflow\n\nThis refactors and moves the code to tripleoclient\nfor us to be able to remove dependency on mistral-lib.\n\nChange-Id: I62352871311e98927fbd560b4235114c8c62f223\n""}, {'number': 3, 'created': '2021-03-01 12:28:38.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/600c7df81916b41aa5133d0fa7aa272a4ee7cd6c', 'message': ""Don't use mistral actions for baremetal workflow\n\nThis refactors and moves the code to tripleoclient\nfor us to be able to remove dependency on mistral-lib.\n\nChange-Id: I62352871311e98927fbd560b4235114c8c62f223\n""}]",0,777950,600c7df81916b41aa5133d0fa7aa272a4ee7cd6c,31,5,3,8833,,,0,"Don't use mistral actions for baremetal workflow

This refactors and moves the code to tripleoclient
for us to be able to remove dependency on mistral-lib.

Change-Id: I62352871311e98927fbd560b4235114c8c62f223
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/50/777950/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/exceptions.py']",5,a4a71f66d29a85e32371812f68b2b445e0824a55,mistral_lib_remove,"class RootDeviceDetectionError(Base): """"""Failed to detect the root device"""""" ",,716,87
openstack%2Foctavia~stable%2Ftrain~I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,openstack/octavia,stable/train,I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,Fix LB failover when IP addresses exhausted,MERGED,2021-03-05 17:03:44.000000000,2021-03-06 08:17:26.000000000,2021-03-06 08:16:06.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 17:03:44.000000000', 'files': ['octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/Fix-failover-ip-addresses-exhausted-69110b2fa4683e1a.yaml', 'octavia/controller/worker/v1/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4c9d7405aff22829c03ef6bb25294b0472aa0dbe', 'message': 'Fix LB failover when IP addresses exhausted\n\nWhen a load balancer failover was performed on a load balancer where\nthe VIP address is on a subnet that has no IP addresses available,\nthe VIP address may be deactivated.\nThis patch corrects the failover flow to not deallocate the VIP\naddress on a failover revert flow due to the subnet being out of\nIP addresses.\n\nStory: 2008625\nTask: 41827\nChange-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b\n(cherry picked from commit e3ab49c60aa835cb4034568ea25f06472127388c)\n'}]",0,778988,4c9d7405aff22829c03ef6bb25294b0472aa0dbe,8,3,1,11628,,,0,"Fix LB failover when IP addresses exhausted

When a load balancer failover was performed on a load balancer where
the VIP address is on a subnet that has no IP addresses available,
the VIP address may be deactivated.
This patch corrects the failover flow to not deallocate the VIP
address on a failover revert flow due to the subnet being out of
IP addresses.

Story: 2008625
Task: 41827
Change-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b
(cherry picked from commit e3ab49c60aa835cb4034568ea25f06472127388c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/88/778988/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/Fix-failover-ip-addresses-exhausted-69110b2fa4683e1a.yaml', 'octavia/controller/worker/v1/tasks/network_tasks.py']",4,4c9d7405aff22829c03ef6bb25294b0472aa0dbe,,"class AllocateVIPforFailover(AllocateVIP): """"""Task to allocate/validate the VIP for a failover flow."""""" def revert(self, result, loadbalancer, *args, **kwargs): """"""Handle a failure to allocate vip."""""" if isinstance(result, failure.Failure): LOG.exception(""Unable to allocate VIP"") return vip = result LOG.info(""Failover revert is not deallocating vip %s because this is "" ""a failover."", vip.ip_address) ",,37,2
openstack%2Ftripleo-heat-templates~master~I66b472d37041f67907691f55c153ff880093e4bc,openstack/tripleo-heat-templates,master,I66b472d37041f67907691f55c153ff880093e4bc,Support configuring cinder's RPC and WSGI timeouts,MERGED,2021-02-24 21:50:46.000000000,2021-03-06 07:23:27.000000000,2021-03-06 07:21:05.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-24 21:50:46.000000000', 'files': ['deployment/cinder/cinder-base.yaml', 'releasenotes/notes/cinder-add-timeout-parameters-54550a6e1c11c0b9.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3af965d6d26d3e6a8ddf48a158d930d308a3f70d', 'message': ""Support configuring cinder's RPC and WSGI timeouts\n\nNew CinderRpcResponseTimeout and CinderApiWsgiTimeout parameters\nsupport configuring cinder's corresponding RPC response and WSGI\nconnection timeouts. The default values (60s each) match the existing\ndefaults.\n\nChange-Id: I66b472d37041f67907691f55c153ff880093e4bc\n""}]",0,777472,3af965d6d26d3e6a8ddf48a158d930d308a3f70d,20,6,1,21129,,,0,"Support configuring cinder's RPC and WSGI timeouts

New CinderRpcResponseTimeout and CinderApiWsgiTimeout parameters
support configuring cinder's corresponding RPC response and WSGI
connection timeouts. The default values (60s each) match the existing
defaults.

Change-Id: I66b472d37041f67907691f55c153ff880093e4bc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/777472/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-base.yaml', 'releasenotes/notes/cinder-add-timeout-parameters-54550a6e1c11c0b9.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml']",3,3af965d6d26d3e6a8ddf48a158d930d308a3f70d,cinder-timeouts," CinderApiWsgiTimeout: default: 60 description: The number of seconds until a Cinder API WSGI connection times out. type: number cinder::wsgi::apache::vhost_custom_fragment: str_replace: template: ""Timeout TIMEOUT"" params: TIMEOUT: {get_param: CinderApiWsgiTimeout}", -,21,1
openstack%2Ftripleo-heat-templates~master~I3485543210aa04c89d9c0873a6d0e10c3d5758fc,openstack/tripleo-heat-templates,master,I3485543210aa04c89d9c0873a6d0e10c3d5758fc,Fix plan-samples README.rst,MERGED,2021-03-04 08:14:48.000000000,2021-03-06 07:21:21.000000000,2021-03-06 07:21:21.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 08:14:48.000000000', 'files': ['plan-samples/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7d824688ec348606805a19edb8b988fac5a807f', 'message': 'Fix plan-samples README.rst\n\nThis is quite stale referencing mistral workflows.\n\nChange-Id: I3485543210aa04c89d9c0873a6d0e10c3d5758fc\n'}]",4,778618,e7d824688ec348606805a19edb8b988fac5a807f,8,3,1,8833,,,0,"Fix plan-samples README.rst

This is quite stale referencing mistral workflows.

Change-Id: I3485543210aa04c89d9c0873a6d0e10c3d5758fc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/778618/1 && git format-patch -1 --stdout FETCH_HEAD,['plan-samples/README.rst'],1,e7d824688ec348606805a19edb8b988fac5a807f,,The ``plan-environment.yaml`` file provides the details of playbooks and their parameters required for use cases like derived parameter workflow. It has a section ``playbook_parameters`` that is used to specify playbook name and playbooks parameters. These plan environment files can be provided as with ``-p`` option to the ``openstack overcloud deploy``. The sample format to provide the playbook specific parameters:: playbook_parameters: cli-derive-parameters.yaml:,"The ``plan-environment.yaml`` file provides the details of the plan to be deployed by TripleO. Along with the details of the heat environments and parameters, it is also possible to provide workflow specific parameters to the TripleO mistral workflows. A new section ``workflow_parameters`` has been added to provide workflow specific parameters. This provides a clear separation of heat environment parameters and the workflow only parameters. These customized plan environment files can be provided as with ``-p`` option to the ``openstack overcloud deploy`` and ``openstack overcloud plan create`` commands. The sample format to provide the workflow specific parameters:: workflow_parameters: tripleo.derive_params.v1.derive_parameters: All the parameters specified under the workflow name will be passed as ``user_input`` to the workflow, while invoking from the tripleoclient.",11,15
openstack%2Fneutron~master~Ia6c9eb461a116852db877dc40dd8f53a8be5b47f,openstack/neutron,master,Ia6c9eb461a116852db877dc40dd8f53a8be5b47f,Implement secure RBAC for the logging API,MERGED,2020-12-07 18:03:49.000000000,2021-03-06 06:32:20.000000000,2021-03-06 06:29:41.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-07 18:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43db8f4c837e1aa764736a0550d3b100eea70d0e', 'message': 'Implement secure RBAC for the logging API\n\nThis commit updates the logging policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Ia6c9eb461a116852db877dc40dd8f53a8be5b47f\n'}, {'number': 2, 'created': '2020-12-15 16:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b44cbbb3d7f2b4152196db3433ba8d067256f7f', 'message': 'Implement secure RBAC for the logging API\n\nThis commit updates the logging policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Ia6c9eb461a116852db877dc40dd8f53a8be5b47f\n'}, {'number': 3, 'created': '2020-12-17 11:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/216fd230028717875d769b640698a66925faf7f9', 'message': 'Implement secure RBAC for the logging API\n\nThis commit updates the logging policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Ia6c9eb461a116852db877dc40dd8f53a8be5b47f\n'}, {'number': 4, 'created': '2021-01-21 16:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/514c7fa7181e69a0a8e879696c16d4683149062b', 'message': 'Implement secure RBAC for the logging API\n\nThis commit updates the logging policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Ia6c9eb461a116852db877dc40dd8f53a8be5b47f\n'}, {'number': 5, 'created': '2021-02-18 12:27:48.000000000', 'files': ['neutron/conf/policies/logging.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/755982b0a2e7833645dc439a0d27c77504208ca7', 'message': 'Implement secure RBAC for the logging API\n\nThis commit updates the logging policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Ia6c9eb461a116852db877dc40dd8f53a8be5b47f\n'}]",1,765845,755982b0a2e7833645dc439a0d27c77504208ca7,31,6,5,5046,,,0,"Implement secure RBAC for the logging API

This commit updates the logging policies to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: Ia6c9eb461a116852db877dc40dd8f53a8be5b47f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/765845/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/logging.py'],1,43db8f4c837e1aa764736a0550d3b100eea70d0e,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The logging API now supports system scope and default roles. """""" deprecated_get_loggable_resource = policy.DeprecatedRule( name='get_loggable_resource', check_str=base.RULE_ADMIN_ONLY ) deprecated_create_log = policy.DeprecatedRule( name='create_log', check_str=base.RULE_ADMIN_ONLY ) deprecated_get_log = policy.DeprecatedRule( name='get_log', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_log = policy.DeprecatedRule( name='update_log', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_log = policy.DeprecatedRule( name='delete_log', check_str=base.RULE_ADMIN_ONLY ) name='get_loggable_resource', check_str=base.SYSTEM_READER, scope_types=['system'], description='Get loggable resources', operations=[ ], deprecated_rule=deprecated_get_loggable_resource, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_log', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Create a network log', operations=[ ], deprecated_rule=deprecated_create_log, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_log', check_str=base.SYSTEM_READER, scope_types=['system'], description='Get a network log', operations=[ ], deprecated_rule=deprecated_get_log, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_log', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update a network log', operations=[ ], deprecated_rule=deprecated_update_log, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_log', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Delete a network log', operations=[ ], deprecated_rule=deprecated_delete_log, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'get_loggable_resource', base.RULE_ADMIN_ONLY, 'Get loggable resources', [ ] 'create_log', base.RULE_ADMIN_ONLY, 'Create a network log', [ ] 'get_log', base.RULE_ADMIN_ONLY, 'Get a network log', [ ] 'update_log', base.RULE_ADMIN_ONLY, 'Update a network log', [ ] 'delete_log', base.RULE_ADMIN_ONLY, 'Delete a network log', [ ]",72,25
openstack%2Ftripleo-ansible~master~I953c35c9ec24844598108bc173e84868393a98aa,openstack/tripleo-ansible,master,I953c35c9ec24844598108bc173e84868393a98aa,Update Octavia keypair when public key changed,MERGED,2020-01-27 20:30:54.000000000,2021-03-06 05:15:54.000000000,2021-03-06 05:15:54.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24042}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-01-27 20:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9168a5634c60b6962e8256b32c5848d05e0851da', 'message': 'Update Octavia keypair when public key changed\n\nA change in the desired public key was not being reflected in the\nOvercloud on stack update/upgrade. TripleO should replace the keypair\neven when the desired public key changed, i.e. its fingerprint does not\nmatch the one (possibly) already existing in the overcloud. We should\ncompare fingerprints and replace (delete and create, no keypair update\noption) when they mismatch.\n\nCloses-Bug: #1861031\n\nChange-Id: I953c35c9ec24844598108bc173e84868393a98aa\n'}, {'number': 2, 'created': '2020-01-27 21:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/610e18b5df3251e5f79dbd9c69624d556c358516', 'message': 'Update Octavia keypair when public key changed\n\nA change in the desired public key was not being reflected in the\nOvercloud on stack update/upgrade. TripleO should replace the keypair\neven when the desired public key changed, i.e. its fingerprint does not\nmatch the one (possibly) already existing in the overcloud. We should\ncompare fingerprints and replace (delete and create, no keypair update\noption) when they mismatch.\n\nCloses-Bug: #1861031\n\nChange-Id: I953c35c9ec24844598108bc173e84868393a98aa\n'}, {'number': 3, 'created': '2020-12-22 16:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ef9294a87272af2127154c762aa02f8d2309202', 'message': 'Update Octavia keypair when public key changed\n\nA change in the desired public key was not being reflected in the\nOvercloud on stack update/upgrade. TripleO should replace the keypair\neven when the desired public key changed, i.e. its fingerprint does not\nmatch the one (possibly) already existing in the overcloud. We should\ncompare fingerprints and replace (delete and create, no keypair update\noption) when they mismatch.\n\nCloses-Bug: #1861031\n\nChange-Id: I953c35c9ec24844598108bc173e84868393a98aa\n'}, {'number': 4, 'created': '2021-03-01 22:24:28.000000000', 'files': ['tripleo_ansible/roles/octavia_undercloud/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bcc3efd65032968b36b2f58e486bd9687bc6f01c', 'message': 'Update Octavia keypair when public key changed\n\nA change in the desired public key was not being reflected in the\nOvercloud on stack update/upgrade. TripleO should replace the keypair\neven when the desired public key changed, i.e. its fingerprint does not\nmatch the one (possibly) already existing in the overcloud. We should\ncompare fingerprints and replace (delete and create, no keypair update\noption) when they mismatch.\n\nCloses-Bug: #1861031\n\nChange-Id: I953c35c9ec24844598108bc173e84868393a98aa\n'}]",6,704421,bcc3efd65032968b36b2f58e486bd9687bc6f01c,25,9,4,6469,,,0,"Update Octavia keypair when public key changed

A change in the desired public key was not being reflected in the
Overcloud on stack update/upgrade. TripleO should replace the keypair
even when the desired public key changed, i.e. its fingerprint does not
match the one (possibly) already existing in the overcloud. We should
compare fingerprints and replace (delete and create, no keypair update
option) when they mismatch.

Closes-Bug: #1861031

Change-Id: I953c35c9ec24844598108bc173e84868393a98aa
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/704421/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_undercloud/tasks/main.yml'],1,9168a5634c60b6962e8256b32c5848d05e0851da,bug/1861031,"- name: get the desired public key fingerprint ssh-keygen -E md5 -lf {{ amp_ssh_key_path_final }} | awk '{ print $2 }' | cut -c 5- register: ssh_keygen_results - name: get overcloud public key fingerprint, if exists shell: |- openstack keypair show {{ amp_ssh_key_name }} -f value -c fingerprint register: keypair_fingerprint ignore_errors: true - name: delete existing keypair (differs from desired public key fingerprint) shell: |- openstack keypair delete {{ amp_ssh_key_name }} environment: OS_USERNAME: ""{{ auth_username }}"" OS_PASSWORD: ""{{ auth_password }}"" OS_PROJECT_NAME: ""{{ auth_project_name }}"" when: - keypair_fingerprint.rc == 0 - ssh_keygen_results.stdout != keypair_fingerprint.stdout - name: upload pub key to overcloud shell: |- openstack keypair create --public-key {{ amp_ssh_key_path_final }} {{ amp_ssh_key_name }} environment: OS_USERNAME: ""{{ auth_username }}"" OS_PASSWORD: ""{{ auth_password }}"" OS_PROJECT_NAME: ""{{ auth_project_name }}"" when: - (keypair_fingerprint.rc != 0) or (ssh_keygen_results.stdout != keypair_fingerprint.stdout)",- name: upload pub key to overcloud openstack keypair show {{ amp_ssh_key_name }} || \ openstack keypair create --public-key {{ amp_ssh_key_path_final }} {{ amp_ssh_key_name }},30,3
openstack%2Ftripleo-ansible~master~I995bdd471911e0122d1170f73033e79935bbbed9,openstack/tripleo-ansible,master,I995bdd471911e0122d1170f73033e79935bbbed9,Fix param name in container_puppet_config example,MERGED,2021-03-01 12:32:43.000000000,2021-03-06 05:02:00.000000000,2021-03-06 05:00:53.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-01 12:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac6f74f2957d04e189fbf5012e305174a671556f', 'message': 'Fix param name in container_puppet_config example\n\nChange-Id: I995bdd471911e0122d1170f73033e79935bbbed9\n'}, {'number': 2, 'created': '2021-03-03 12:09:50.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aaf7529d74069d4204b0344c259f8a55832db2e1', 'message': 'Fix param name in container_puppet_config example\n\nChange-Id: I995bdd471911e0122d1170f73033e79935bbbed9\n'}]",0,777988,aaf7529d74069d4204b0344c259f8a55832db2e1,15,4,2,6469,,,0,"Fix param name in container_puppet_config example

Change-Id: I995bdd471911e0122d1170f73033e79935bbbed9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/777988/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'],1,ac6f74f2957d04e189fbf5012e305174a671556f,, puppet_config: /var/lib/container-puppet/container-puppet.json, puppet-config: /var/lib/container-puppet/container-puppet.json,1,1
openstack%2Fneutron~master~I171e03218e9c6c44eb45d89a7d83fa8eac58573c,openstack/neutron,master,I171e03218e9c6c44eb45d89a7d83fa8eac58573c,Implement secure RBAC for subnet pool API,MERGED,2020-12-03 23:04:21.000000000,2021-03-06 04:12:11.000000000,2021-03-06 04:08:27.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 23:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bbc22a3b72bed53636d03400cc1fe9a63adc15a', 'message': 'Implement secure RBAC for subnet pool API\n\nThis commit updates the subnet pool policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I171e03218e9c6c44eb45d89a7d83fa8eac58573c\n'}, {'number': 2, 'created': '2020-12-08 09:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/275fef58d5af96e55c32bb85aca100c26470835a', 'message': 'Implement secure RBAC for subnet pool API\n\nThis commit updates the subnet pool policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I171e03218e9c6c44eb45d89a7d83fa8eac58573c\n'}, {'number': 3, 'created': '2020-12-15 16:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56aaee9a1c56890e5f20ebb9f92667ce99dd8f77', 'message': 'Implement secure RBAC for subnet pool API\n\nThis commit updates the subnet pool policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I171e03218e9c6c44eb45d89a7d83fa8eac58573c\n'}, {'number': 4, 'created': '2020-12-17 11:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/145b20fab70916f32adf053bb624326f2a845d76', 'message': 'Implement secure RBAC for subnet pool API\n\nThis commit updates the subnet pool policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I171e03218e9c6c44eb45d89a7d83fa8eac58573c\n'}, {'number': 5, 'created': '2021-01-21 15:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/376a6e7714b05b0ceeae424d2e3ed4493b53a58d', 'message': 'Implement secure RBAC for subnet pool API\n\nThis commit updates the subnet pool policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I171e03218e9c6c44eb45d89a7d83fa8eac58573c\n'}, {'number': 6, 'created': '2021-01-22 08:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1fe61f2c5c341477b85ad2af2d73bd97d791a09', 'message': 'Implement secure RBAC for subnet pool API\n\nThis commit updates the subnet pool policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I171e03218e9c6c44eb45d89a7d83fa8eac58573c\n'}, {'number': 7, 'created': '2021-02-18 12:28:50.000000000', 'files': ['neutron/conf/policies/subnetpool.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f58d09686ce682c5ecc2772c32bceaea8e61ba4c', 'message': 'Implement secure RBAC for subnet pool API\n\nThis commit updates the subnet pool policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I171e03218e9c6c44eb45d89a7d83fa8eac58573c\n'}]",10,765391,f58d09686ce682c5ecc2772c32bceaea8e61ba4c,52,7,7,5046,,,0,"Implement secure RBAC for subnet pool API

This commit updates the subnet pool policies to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I171e03218e9c6c44eb45d89a7d83fa8eac58573c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/765391/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/subnetpool.py'],1,6bbc22a3b72bed53636d03400cc1fe9a63adc15a,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The subnet pool API now supports system scope and default roles. """"""deprecated_create_subnet_pool = policy.DeprecatedRule( name='create_subnetpool', check_str=base.RULE_ANY ) deprecated_create_subnet_pool_shared = policy.DeprecatedRule( name='create_subnetpool:shared', check_str=base.RULE_ADMIN_ONLY ) deprecated_create_subnet_pool_default = policy.DeprecatedRule( name='create_subnetpool:is_default', check_str=base.RULE_ADMIN_ONLY ) deprecated_get_subnetpool = policy.DeprecatedRule( name='get_subnetpool', check_str=base.policy_or( base.RULE_ADMIN_OR_OWNER, 'rule:shared_subnetpools' ) ) deprecated_update_subnet_pool = policy.DeprecatedRule( name='update_subnetpool', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_update_subnet_pool_default = policy.DeprecatedRule( name='update_subnetpool:is_default', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_subnet_pool = policy.DeprecatedRule( name='delete_subnetpool', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_onboard_network_subnets = policy.DeprecatedRule( name='onboard_network_subnets', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_add_prefixes = policy.DeprecatedRule( name='add_prefixes', check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_remove_prefixes = policy.DeprecatedRule( name='remove_prefixes', check_str=base.RULE_ADMIN_OR_OWNER ) name='shared_subnetpools', check_str='field:subnetpools:shared=True', description='Definition of a shared subnetpool' name='create_subnetpool', check_str=base.PROJECT_MEMBER, scope_types=['project'], description='Create a subnetpool', operations=[ ], deprecated_rule=deprecated_create_subnet_pool, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_subnetpool:shared', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Create a shared subnetpool', operations=[ ], deprecated_rule=deprecated_create_subnet_pool_shared, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_subnetpool:is_default', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description=( 'Specify ``is_default`` attribute when creating a subnetpool' ), operations=[ ], deprecated_rule=deprecated_create_subnet_pool_default, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_subnetpool', check_str=base.policy_or( base.SYSTEM_OR_PROJECT_READER, 'rule:shared_subnetpools' ), scope_types=['system', 'project'], description='Get a subnetpool', operations=[ ], deprecated_rule=deprecated_get_subnetpool, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_subnetpool', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Update a subnetpool', operations=[ ], deprecated_rule=deprecated_update_subnet_pool, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_subnetpool:is_default', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update ``is_default`` attribute of a subnetpool', operations=[ ], deprecated_rule=deprecated_update_subnet_pool_default, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_subnetpool', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Delete a subnetpool', operations=[ ], deprecated_rule=deprecated_delete_subnet_pool, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='onboard_network_subnets', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Onboard existing subnet into a subnetpool', operations=[ ], deprecated_rule=deprecated_onboard_network_subnets, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='add_prefixes', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Add prefixes to a subnetpool', operations=[ ], deprecated_rule=deprecated_add_prefixes, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='remove_prefixes', check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description='Remove unallocated prefixes from a subnetpool', operations=[ ], deprecated_rule=deprecated_remove_prefixes, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'shared_subnetpools', 'field:subnetpools:shared=True', 'Definition of a shared subnetpool' 'create_subnetpool', base.RULE_ANY, 'Create a subnetpool', [ ] 'create_subnetpool:shared', base.RULE_ADMIN_ONLY, 'Create a shared subnetpool', [ ] 'create_subnetpool:is_default', base.RULE_ADMIN_ONLY, 'Specify ``is_default`` attribute when creating a subnetpool', [ ] 'get_subnetpool', base.policy_or(base.RULE_ADMIN_OR_OWNER, 'rule:shared_subnetpools'), 'Get a subnetpool', [ ] 'update_subnetpool', base.RULE_ADMIN_OR_OWNER, 'Update a subnetpool', [ ] 'update_subnetpool:is_default', base.RULE_ADMIN_ONLY, 'Update ``is_default`` attribute of a subnetpool', [ ] 'delete_subnetpool', base.RULE_ADMIN_OR_OWNER, 'Delete a subnetpool', [ ] 'onboard_network_subnets', base.RULE_ADMIN_OR_OWNER, 'Onboard existing subnet into a subnetpool', [ ] 'add_prefixes', base.RULE_ADMIN_OR_OWNER, 'Add prefixes to a subnetpool', [ ] 'remove_prefixes', base.RULE_ADMIN_OR_OWNER, 'Remove unallocated prefixes from a subnetpool', [ ]",146,54
openstack%2Fneutron~master~Ibacb2c2ef4f3ab9f55c9f51dbd1023fce92ff64d,openstack/neutron,master,Ibacb2c2ef4f3ab9f55c9f51dbd1023fce92ff64d,Implement secure RBAC for availability_zone API,MERGED,2020-12-03 15:55:37.000000000,2021-03-06 04:10:49.000000000,2021-03-06 04:07:59.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 5046}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 15:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e75c4f1c1203ba187a1a7335248cb76d8cee459', 'message': 'Implement secure RBAC for availability_zone API\n\nThis commit updates the policies for availability_zone API\nto understand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ibacb2c2ef4f3ab9f55c9f51dbd1023fce92ff64d\n'}, {'number': 2, 'created': '2020-12-15 13:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9315fab95b6f0dc53613958e6c91a654e09218a8', 'message': 'Implement secure RBAC for availability_zone API\n\nThis commit updates the policies for availability_zone API\nto understand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ibacb2c2ef4f3ab9f55c9f51dbd1023fce92ff64d\n'}, {'number': 3, 'created': '2021-01-21 16:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49e231d730cc87b085296bae56aeb6277d061546', 'message': 'Implement secure RBAC for availability_zone API\n\nThis commit updates the policies for availability_zone API\nto understand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ibacb2c2ef4f3ab9f55c9f51dbd1023fce92ff64d\n'}, {'number': 4, 'created': '2021-02-18 12:27:15.000000000', 'files': ['neutron/conf/policies/availability_zone.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/74e54e240f7a78d4ccc8e4274d7605edafd25509', 'message': 'Implement secure RBAC for availability_zone API\n\nThis commit updates the policies for availability_zone API\nto understand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ibacb2c2ef4f3ab9f55c9f51dbd1023fce92ff64d\n'}]",6,765344,74e54e240f7a78d4ccc8e4274d7605edafd25509,27,8,4,11975,,,0,"Implement secure RBAC for availability_zone API

This commit updates the policies for availability_zone API
to understand scope checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: Ibacb2c2ef4f3ab9f55c9f51dbd1023fce92ff64d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/765344/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/availability_zone.py'],1,1e75c4f1c1203ba187a1a7335248cb76d8cee459,secure-rbac,"DEPRECATION_REASON = ( ""The Availability Zone API now supports system scope and default roles."") name='get_availability_zone', check_str=base.SYSTEM_OR_PROJECT_READER, description='List availability zones', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='get_availability_zone', check_Str=base.RULE_ANY), deprecated_reason=DEPRECATION_REASON, deprecated_since='Wallaby'"," 'get_availability_zone', base.RULE_ANY, 'List availability zones', [ ]",14,5
openstack%2Fneutron~stable%2Ftrain~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/train,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:33:51.000000000,2021-03-06 04:10:45.000000000,2021-03-06 04:08:18.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 09:33:51.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/faa7289027bec9da293a8b20986fd2e2f9429c37', 'message': 'Add some wait time between stopping and starting again ovsdb monitor\n\nIn functional tests of the ovsdb_monitor, sometimes during high load\nof the host where tests are run, ""error"" message from the killed process\ncan be received by neutron\'s async_process after new process was\nalready spawned.\nAnd that causes failure of the test as new ovsdb_monitor will not\nreceive events which are expected.\n\nTo workaround that issue this patch adds sleep for few seconds between\nstopping old and starting new ovsdb_monitor process.\n\nCloses-Bug: #1907068\nChange-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c\n(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)\n'}]",0,778827,faa7289027bec9da293a8b20986fd2e2f9429c37,10,3,1,11975,,,0,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/778827/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'],1,faa7289027bec9da293a8b20986fd2e2f9429c37,bug/1907068-stable/victoria-stable/ussuri-stable/train,"import time # NOTE(slaweq): lets give async process few more seconds to receive # ""error"" from the old ovsdb monitor process and then start new one time.sleep(5)",,4,0
openstack%2Fneutron~stable%2Ftrain~Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,openstack/neutron,stable/train,Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238,Fix wrong packet_type set for IPv6 GRE tunnels in OVS,MERGED,2021-03-03 10:20:48.000000000,2021-03-06 04:04:36.000000000,2021-03-06 04:02:17.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 10:20:48.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/346866777f11db4e1860aabb9c780393edecdb88', 'message': 'Fix wrong packet_type set for IPv6 GRE tunnels in OVS\n\nIn patch [1] it was by mistake set to ""legacy"" but it should be\n""legacy_l2"".\nThis patch fixes that mistake.\n\nCloses-bug: #1917448\n\n[1] https://review.opendev.org/c/openstack/neutron/+/763204\n\nConflicts:\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n\nChange-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238\n(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)\n'}]",0,778416,346866777f11db4e1860aabb9c780393edecdb88,13,3,1,11975,,,0,"Fix wrong packet_type set for IPv6 GRE tunnels in OVS

In patch [1] it was by mistake set to ""legacy"" but it should be
""legacy_l2"".
This patch fixes that mistake.

Closes-bug: #1917448

[1] https://review.opendev.org/c/openstack/neutron/+/763204

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: Idb743bbfd5454b8d245c4dd4b8c3d7021e90d238
(cherry picked from commit 1dbe389392bbfadebe8c12b06171cf04a24d32ff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/778416/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/common/test_ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",3,346866777f11db4e1860aabb9c780393edecdb88,bug/1917448-stable/victoria-stable/ussuri-stable/train," 'packet_type': 'legacy_l2',",,3,2
openstack%2Ftripleo-common~stable%2Fussuri~I24615a067a56ac226b07c2ebcf477b3682dfed2f,openstack/tripleo-common,stable/ussuri,I24615a067a56ac226b07c2ebcf477b3682dfed2f,Remove layout override and wire up buildimage template instead,MERGED,2021-03-03 10:47:07.000000000,2021-03-06 03:59:03.000000000,2021-03-06 03:54:57.000000000,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 10:47:07.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/88f5c8902744470fc98eab1769347eb70957264d', 'message': ""Remove layout override and wire up buildimage template instead\n\nThis wires up the tripleo-buildimage-jobs and updates buildimage\njob overrides in the check layout. The depends-on adds the\nfiles: matches in the template layout so no need to override here.\nThe gate layout overrides are removed altogether as we don't want\nthe dependencies: optimization in the gate. Part of wider tripleo-ci\noptimization [1].\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083\n\nChange-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f\n(cherry picked from commit ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9)\n""}]",0,778408,88f5c8902744470fc98eab1769347eb70957264d,10,5,1,8449,,,0,"Remove layout override and wire up buildimage template instead

This wires up the tripleo-buildimage-jobs and updates buildimage
job overrides in the check layout. The depends-on adds the
files: matches in the template layout so no need to override here.
The gate layout overrides are removed altogether as we don't want
the dependencies: optimization in the gate. Part of wider tripleo-ci
optimization [1].

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083

Change-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f
(cherry picked from commit ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/778408/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,88f5c8902744470fc98eab1769347eb70957264d,tripleo-ci-reduce, - tripleo-buildimage-jobs, files: - ^image-yaml/.*$ files: - ^image-yaml/.*$ files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-full-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-ironic-python-agent-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-8: files: - ^image-yaml/.*$,1,15
openstack%2Ftripleo-quickstart~master~I79a29622d87ac72fb0a030af3b5a929fc24af020,openstack/tripleo-quickstart,master,I79a29622d87ac72fb0a030af3b5a929fc24af020,Updating promotion testing hash master to c8 stream repos and baseos image,MERGED,2021-02-10 17:49:10.000000000,2021-03-06 03:59:00.000000000,2021-03-06 03:55:06.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-02-10 17:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4e584e8710a739144c30ca24bf4dc881782af904', 'message': 'Updating promotion testing hash master to c8 stream repos and baseos image\n\n8-stream - BaseOS, AppStream, PowerTools, HighAvailability, extras,\n8 - ceph-nautilus, ceph-octopus, collectd-5\n\nChange-Id: I79a29622d87ac72fb0a030af3b5a929fc24af020\n'}, {'number': 2, 'created': '2021-02-22 14:44:00.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e3fb0544bc7a377176b31c1c47273593f395f7e5', 'message': 'Updating promotion testing hash master to c8 stream repos and baseos image\n\n8-stream - BaseOS, AppStream, PowerTools, HighAvailability, extras,\n8 - ceph-nautilus, ceph-octopus, collectd-5\n\nChange-Id: I79a29622d87ac72fb0a030af3b5a929fc24af020\n'}]",0,774911,e3fb0544bc7a377176b31c1c47273593f395f7e5,16,6,2,32458,,,0,"Updating promotion testing hash master to c8 stream repos and baseos image

8-stream - BaseOS, AppStream, PowerTools, HighAvailability, extras,
8 - ceph-nautilus, ceph-octopus, collectd-5

Change-Id: I79a29622d87ac72fb0a030af3b5a929fc24af020
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/11/774911/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'],1,4e584e8710a739144c30ca24bf4dc881782af904,centos-8-stream-content-master," baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/BaseOS/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/AppStream/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/PowerTools/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/HighAvailability/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/extras/x86_64/os/base_image_url: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2 base_image_path: ""{{ ansible_user_dir }}/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2""baseos_undercloud_image_url: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2baseos_md5sum: ""70d5c374156f2ab92c058b6a6150f55e CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2"""," baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/BaseOS/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/AppStream/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/PowerTools/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/HighAvailability/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/extras/x86_64/os/base_image_url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2 base_image_path: ""{{ ansible_user_dir }}/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2""baseos_undercloud_image_url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2baseos_md5sum: ""d89eb49f2c264d29225cecf2b6c83322 CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2""",9,9
openstack%2Fglance~master~Ie97b226e65af4ee995be6f539ad33e1fbd8cc375,openstack/glance,master,Ie97b226e65af4ee995be6f539ad33e1fbd8cc375,DNM: Test if fake method works in cache middleware tests,ABANDONED,2021-03-05 20:10:07.000000000,2021-03-06 03:58:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-05 20:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9dcecd2f86d73c7d23f8bb3fc766e1fc479223f0', 'message': ""DNM: Test is fake method work\n\nI'm updating the policy code in the cache middleware to enforce proper\ntargets and the tests are failing to translate the ImageTarget to a\ndictionary.\n\nIn the process of updating the ImageStub, I became suspicious that the\nfake code was running.\n\nI attempted to break this by throwing an exception in the fake\nimplementation, but it passes for me locally.\n\nChange-Id: Ie97b226e65af4ee995be6f539ad33e1fbd8cc375\n""}, {'number': 2, 'created': '2021-03-05 20:11:08.000000000', 'files': ['glance/tests/unit/test_cache_middleware.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/289e2fa1f4a8c9ef4835f8aac7436e9aacc272b2', 'message': ""DNM: Test if fake method works in cache middleware tests\n\nI'm updating the policy code in the cache middleware to enforce proper\ntargets and the tests are failing to translate the ImageTarget to a\ndictionary.\n\nIn the process of updating the ImageStub, I became suspicious that the\nfake code was running.\n\nI attempted to break this by throwing an exception in the fake\nimplementation, but it passes for me locally.\n\nChange-Id: Ie97b226e65af4ee995be6f539ad33e1fbd8cc375\n""}]",0,779042,289e2fa1f4a8c9ef4835f8aac7436e9aacc272b2,5,1,2,5046,,,0,"DNM: Test if fake method works in cache middleware tests

I'm updating the policy code in the cache middleware to enforce proper
targets and the tests are failing to translate the ImageTarget to a
dictionary.

In the process of updating the ImageStub, I became suspicious that the
fake code was running.

I attempted to break this by throwing an exception in the fake
implementation, but it passes for me locally.

Change-Id: Ie97b226e65af4ee995be6f539ad33e1fbd8cc375
",git fetch https://review.opendev.org/openstack/glance refs/changes/42/779042/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/test_cache_middleware.py'],1,9dcecd2f86d73c7d23f8bb3fc766e1fc479223f0,, raise Exception('Boom'),,1,0
openstack%2Ftripleo-common~stable%2Ftrain~I24615a067a56ac226b07c2ebcf477b3682dfed2f,openstack/tripleo-common,stable/train,I24615a067a56ac226b07c2ebcf477b3682dfed2f,Remove layout override and wire up buildimage template instead,MERGED,2021-03-03 10:54:03.000000000,2021-03-06 03:58:56.000000000,2021-03-06 03:55:02.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-03-03 10:54:03.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d6da694b0f39b897d3c2a22642e8d48ea619e659', 'message': ""Remove layout override and wire up buildimage template instead\n\nThis wires up the tripleo-buildimage-jobs and updates buildimage\njob overrides in the check layout. The depends-on adds the\nfiles: matches in the template layout so no need to override here.\nThe gate layout overrides are removed altogether as we don't want\nthe dependencies: optimization in the gate. Part of wider tripleo-ci\noptimization [1].\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083\n\nChange-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f\n(cherry picked from commit ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9)\n""}]",0,778410,d6da694b0f39b897d3c2a22642e8d48ea619e659,10,7,1,8449,,,0,"Remove layout override and wire up buildimage template instead

This wires up the tripleo-buildimage-jobs and updates buildimage
job overrides in the check layout. The depends-on adds the
files: matches in the template layout so no need to override here.
The gate layout overrides are removed altogether as we don't want
the dependencies: optimization in the gate. Part of wider tripleo-ci
optimization [1].

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083

Change-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f
(cherry picked from commit ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/778410/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d6da694b0f39b897d3c2a22642e8d48ea619e659,tripleo-ci-reduce, - tripleo-buildimage-jobs, files: - ^image-yaml/.*$ files: - ^image-yaml/.*$ files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-full-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-ironic-python-agent-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-8: files: - ^image-yaml/.*$,1,15
openstack%2Fneutron~stable%2Frocky~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/rocky,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:39:48.000000000,2021-03-06 03:57:36.000000000,2021-03-06 03:57:36.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 09:39:48.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07fb325b44b7420279cdcc8b18135ba3de2de45b', 'message': 'Add some wait time between stopping and starting again ovsdb monitor\n\nIn functional tests of the ovsdb_monitor, sometimes during high load\nof the host where tests are run, ""error"" message from the killed process\ncan be received by neutron\'s async_process after new process was\nalready spawned.\nAnd that causes failure of the test as new ovsdb_monitor will not\nreceive events which are expected.\n\nTo workaround that issue this patch adds sleep for few seconds between\nstopping old and starting new ovsdb_monitor process.\n\nCloses-Bug: #1907068\nChange-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c\n(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)\n'}]",0,778829,07fb325b44b7420279cdcc8b18135ba3de2de45b,7,3,1,11975,,,0,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/778829/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'],1,07fb325b44b7420279cdcc8b18135ba3de2de45b,bug/1907068-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky,"import time # NOTE(slaweq): lets give async process few more seconds to receive # ""error"" from the old ovsdb monitor process and then start new one time.sleep(5)",,4,0
openstack%2Ftripleo-common~stable%2Fvictoria~I24615a067a56ac226b07c2ebcf477b3682dfed2f,openstack/tripleo-common,stable/victoria,I24615a067a56ac226b07c2ebcf477b3682dfed2f,Remove layout override and wire up buildimage template instead,MERGED,2021-03-03 10:41:34.000000000,2021-03-06 03:14:53.000000000,2021-03-06 03:11:42.000000000,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 10:41:34.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ead9b50f057be61c6665ee6e179ab0b396668d47', 'message': ""Remove layout override and wire up buildimage template instead\n\nThis wires up the tripleo-buildimage-jobs and updates buildimage\njob overrides in the check layout. The depends-on adds the\nfiles: matches in the template layout so no need to override here.\nThe gate layout overrides are removed altogether as we don't want\nthe dependencies: optimization in the gate. Part of wider tripleo-ci\noptimization [1].\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083\n\nChange-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f\n(cherry picked from commit ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9)\n""}]",0,778406,ead9b50f057be61c6665ee6e179ab0b396668d47,13,5,1,8449,,,0,"Remove layout override and wire up buildimage template instead

This wires up the tripleo-buildimage-jobs and updates buildimage
job overrides in the check layout. The depends-on adds the
files: matches in the template layout so no need to override here.
The gate layout overrides are removed altogether as we don't want
the dependencies: optimization in the gate. Part of wider tripleo-ci
optimization [1].

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/777083

Change-Id: I24615a067a56ac226b07c2ebcf477b3682dfed2f
(cherry picked from commit ca603f39b6d612fd2950cd7d7eb84ae3e2cecff9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/778406/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,ead9b50f057be61c6665ee6e179ab0b396668d47,tripleo-ci-reduce, - tripleo-buildimage-jobs, files: - ^image-yaml/.*$ files: - ^image-yaml/.*$ files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-full-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-ironic-python-agent-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-8: files: - ^image-yaml/.*$,1,15
openstack%2Fcinder~master~I667213a1abb025010dc306e4a012dd87c4818756,openstack/cinder,master,I667213a1abb025010dc306e4a012dd87c4818756,PowerMax Driver - Extend replicated volume,MERGED,2020-12-15 14:56:04.000000000,2021-03-06 02:47:07.000000000,2021-03-05 00:02:11.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 30555}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-12-15 14:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f8eade049d8bc17eb885d27b5baf7610270819f', 'message': 'PowerMax Driver - Extend replicated volume\n\nIn a replicated scenario it is possible for an R2 volume to be larger\nthan its paired R1 if we do not force a new volume creation on both\nsides of the pair.  While using existing volumes is more efficient it\nthrows an exception if we want to extend the R1 to a size that is less\nthan or equal to the R2.\n\nTo fix this we are setting the create_new_volumes flag to true for\nall replicated volumes.  It will remain false for non replicated volumes.\n\nChange-Id: I667213a1abb025010dc306e4a012dd87c4818756\n'}, {'number': 2, 'created': '2021-03-03 09:16:42.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/881f72569ac0e509a459f808c18eed06dcf01f10', 'message': 'PowerMax Driver - Extend replicated volume\n\nIn a replicated scenario it is possible for an R2 volume to be larger\nthan its paired R1 if we do not force a new volume creation on both\nsides of the pair.  While using existing volumes is more efficient it\nthrows an exception if we want to extend the R1 to a size that is less\nthan or equal to the R2.\n\nTo fix this we are setting the create_new_volumes flag to true for\nall replicated volumes.  It will remain false for non replicated volumes.\n\nChange-Id: I667213a1abb025010dc306e4a012dd87c4818756\n'}]",2,767172,881f72569ac0e509a459f808c18eed06dcf01f10,89,6,2,12670,,,0,"PowerMax Driver - Extend replicated volume

In a replicated scenario it is possible for an R2 volume to be larger
than its paired R1 if we do not force a new volume creation on both
sides of the pair.  While using existing volumes is more efficient it
throws an exception if we want to extend the R1 to a size that is less
than or equal to the R2.

To fix this we are setting the create_new_volumes flag to true for
all replicated volumes.  It will remain false for non replicated volumes.

Change-Id: I667213a1abb025010dc306e4a012dd87c4818756
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/767172/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",3,1f8eade049d8bc17eb885d27b5baf7610270819f,expand-rep-vol," 'create_new_volumes': 'True',"," 'create_new_volumes': 'False',",6,2
openstack%2Foctavia~stable%2Fvictoria~I736816247131715f5c385b4680614ec3218a2ad7,openstack/octavia,stable/victoria,I736816247131715f5c385b4680614ec3218a2ad7,Fix pools going into ERROR when updating the pool,MERGED,2021-02-22 08:20:48.000000000,2021-03-06 02:44:00.000000000,2021-03-06 02:42:22.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-02-22 08:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/24e3a4d93a5c0ae6dcc880b35bd847ba0393e040', 'message': 'Fix pools going into ERROR when updating the pool\n\nThere was a bug that would cause a pool to go into ERROR if you attempted\nto update the CRL or client certificate on the pool.\n\nChange-Id: I736816247131715f5c385b4680614ec3218a2ad7\nStory: 2008295\nTask: 41180\n(cherry picked from commit 370aa4e61c421311b06d986aafdf123cd6737fd8)\n'}, {'number': 2, 'created': '2021-03-05 21:56:06.000000000', 'files': ['releasenotes/notes/fix-pool-crl-2cc6f2705f5b2009.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3acd516e6168202c526b66962bab3c4bfd7b687b', 'message': 'Fix pools going into ERROR when updating the pool\n\nThere was a bug that would cause a pool to go into ERROR if you attempted\nto update the CRL or client certificate on the pool.\n\nChange-Id: I736816247131715f5c385b4680614ec3218a2ad7\nStory: 2008295\nTask: 41180\n(cherry picked from commit 370aa4e61c421311b06d986aafdf123cd6737fd8)\n'}]",0,776906,3acd516e6168202c526b66962bab3c4bfd7b687b,16,4,2,6469,,,0,"Fix pools going into ERROR when updating the pool

There was a bug that would cause a pool to go into ERROR if you attempted
to update the CRL or client certificate on the pool.

Change-Id: I736816247131715f5c385b4680614ec3218a2ad7
Story: 2008295
Task: 41180
(cherry picked from commit 370aa4e61c421311b06d986aafdf123cd6737fd8)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/06/776906/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-pool-crl-2cc6f2705f5b2009.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",5,24e3a4d93a5c0ae6dcc880b35bd847ba0393e040,," pool_dict['tls_certificate_id'] = pool_dict.pop( 'tls_container_ref') if 'crl_container_ref' in pool_dict: pool_dict['crl_container_id'] = pool_dict.pop('crl_container_ref') pool_dict.pop('crl_container_data', None)"," pool_dict['tls_container_id'] = pool_dict.pop('tls_container_ref') if 'client_crl_container_ref' in pool_dict: pool_dict['client_crl_container_id'] = pool_dict.pop( 'client_crl_container_ref') pool_dict.pop('client_crl_container_data', None)",41,14
openstack%2Fpython-tripleoclient~stable%2Ftrain~I31f2a554b03677fe29bd1186dee5d278b6d0554b,openstack/python-tripleoclient,stable/train,I31f2a554b03677fe29bd1186dee5d278b6d0554b,Modifying Openstack client for undercloud and overcloud backup,MERGED,2021-02-18 18:29:50.000000000,2021-03-06 02:36:38.000000000,2021-03-06 02:35:02.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-02-18 18:29:50.000000000', 'files': ['tripleoclient/tests/v1/overcloud_backup/__init__.py', 'tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/v1/overcloud_backup.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5929466e8d053f6a931de6550f95ead8c01527af', 'message': ""Modifying Openstack client for undercloud and overcloud backup\n\n- Not a clean cherry-pick\n- Adding v1/overcloud_backup.py and test/overcloud_backup/\n  to cover overcloud backup use case and following the structure\n  of stable/ussuri and stable/victoria.\n- Old Undercloud backup was renamed as legacy, and it is only executed\n  if any of the flags '--add-path' or '--exclude-path' is used.\n- The new functionallity, which uses Ansible and BAR role from\n  tripleo-ansible will be default behavior unless the previous\n  stated condition.\n- Updating setup.cfg to add overcloud_backup.\n- '--init' flag was marked with WARNING indicating it will be\n  deprecated and replaced by '--setup-nfs' and '--setup-rear'.\n  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,\n  so it doesn't break interface.\n- '--setup-nfs' flag added which installs and configure NFS\n  on the 'BackupNode' host.\n- '--setup-rear' flag added which installs and configure ReaR\n  on the 'Undercloud' or the 'Controller' nodes.\n- '--extra-vars' was enabled to pass variables to the playbooks\n  by specifying JSON/YAML string or full path of the file.\n- Now 'tags' parameter is used internally to specify which\n  tasks to run.\n- '--storage-ip' flag on overcloud backup command was marked with\n  WARNING indicating it will be deprecated in favor of '--extra-vars'\n  which allows to pass this and more properties.\n  Thought, it has precedence over '--extra-vars'. If used it will replace\n  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.\n\nBugzilla: #1824806\nChange-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b\n(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)\n""}]",0,776514,5929466e8d053f6a931de6550f95ead8c01527af,7,6,1,32728,,,0,"Modifying Openstack client for undercloud and overcloud backup

- Not a clean cherry-pick
- Adding v1/overcloud_backup.py and test/overcloud_backup/
  to cover overcloud backup use case and following the structure
  of stable/ussuri and stable/victoria.
- Old Undercloud backup was renamed as legacy, and it is only executed
  if any of the flags '--add-path' or '--exclude-path' is used.
- The new functionallity, which uses Ansible and BAR role from
  tripleo-ansible will be default behavior unless the previous
  stated condition.
- Updating setup.cfg to add overcloud_backup.
- '--init' flag was marked with WARNING indicating it will be
  deprecated and replaced by '--setup-nfs' and '--setup-rear'.
  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,
  so it doesn't break interface.
- '--setup-nfs' flag added which installs and configure NFS
  on the 'BackupNode' host.
- '--setup-rear' flag added which installs and configure ReaR
  on the 'Undercloud' or the 'Controller' nodes.
- '--extra-vars' was enabled to pass variables to the playbooks
  by specifying JSON/YAML string or full path of the file.
- Now 'tags' parameter is used internally to specify which
  tasks to run.
- '--storage-ip' flag on overcloud backup command was marked with
  WARNING indicating it will be deprecated in favor of '--extra-vars'
  which allows to pass this and more properties.
  Thought, it has precedence over '--extra-vars'. If used it will replace
  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.

Bugzilla: #1824806
Change-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b
(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/776514/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_backup/__init__.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/v1/overcloud_backup.py', 'setup.cfg']",6,5929466e8d053f6a931de6550f95ead8c01527af,cli/backup-stable/train, overcloud_backup = tripleoclient.v1.overcloud_backup:BackupOvercloud,,842,15
openstack%2Fpython-tripleoclient~stable%2Fussuri~I31f2a554b03677fe29bd1186dee5d278b6d0554b,openstack/python-tripleoclient,stable/ussuri,I31f2a554b03677fe29bd1186dee5d278b6d0554b,Modifying Openstack client for undercloud and overcloud backup,MERGED,2021-02-12 12:34:14.000000000,2021-03-06 02:32:55.000000000,2021-03-06 02:31:07.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-02-12 12:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fe98eb45edf75a6b372ba1c4f4a0b8f9a9063c3c', 'message': ""Modifying Openstack client for undercloud and overcloud backup\n\n- '--init' flag was marked with WARNING indicating it will be\n  deprecated and replaced by '--setup-nfs' and '--setup-rear'.\n  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,\n  so it doesn't break interface.\n- '--setup-nfs' flag added which installs and configure NFS\n  on the 'BackupNode' host.\n- '--setup-rear' flag added which installs and configure ReaR\n  on the 'Undercloud' or the 'Controller' nodes.\n- '--extra-vars' was enabled to pass variables to the playbooks\n  by specifying JSON/YAML string or full path of the file.\n- Now 'tags' parameter is used internally to specify which\n  tasks to run.\n- '--storage-ip' flag on overcloud backup command was marked with\n  WARNING indicating it will be deprecated in favor of '--extra-vars'\n  which allows to pass this and more properties.\n  Thought, it has precedence over '--extra-vars'. If used it will replace\n  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.\n\nBugzilla: #1824806\nChange-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b\n(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)\n""}, {'number': 2, 'created': '2021-02-12 13:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8feb9ff8722c50ed9c156b4bb7a4cb9d79b5e098', 'message': ""Modifying Openstack client for undercloud and overcloud backup\n\n- '--init' flag was marked with WARNING indicating it will be\n  deprecated and replaced by '--setup-nfs' and '--setup-rear'.\n  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,\n  so it doesn't break interface.\n- '--setup-nfs' flag added which installs and configure NFS\n  on the 'BackupNode' host.\n- '--setup-rear' flag added which installs and configure ReaR\n  on the 'Undercloud' or the 'Controller' nodes.\n- '--extra-vars' was enabled to pass variables to the playbooks\n  by specifying JSON/YAML string or full path of the file.\n- Now 'tags' parameter is used internally to specify which\n  tasks to run.\n- '--storage-ip' flag on overcloud backup command was marked with\n  WARNING indicating it will be deprecated in favor of '--extra-vars'\n  which allows to pass this and more properties.\n  Thought, it has precedence over '--extra-vars'. If used it will replace\n  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.\n\nBugzilla: #1824806\nChange-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b\n(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)\n""}, {'number': 3, 'created': '2021-02-12 14:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f77391436e6c987c2288fa93b1fd2e36a5d12e08', 'message': ""Modifying Openstack client for undercloud and overcloud backup\n\n- '--init' flag was marked with WARNING indicating it will be\n  deprecated and replaced by '--setup-nfs' and '--setup-rear'.\n  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,\n  so it doesn't break interface.\n- '--setup-nfs' flag added which installs and configure NFS\n  on the 'BackupNode' host.\n- '--setup-rear' flag added which installs and configure ReaR\n  on the 'Undercloud' or the 'Controller' nodes.\n- '--extra-vars' was enabled to pass variables to the playbooks\n  by specifying JSON/YAML string or full path of the file.\n- Now 'tags' parameter is used internally to specify which\n  tasks to run.\n- '--storage-ip' flag on overcloud backup command was marked with\n  WARNING indicating it will be deprecated in favor of '--extra-vars'\n  which allows to pass this and more properties.\n  Thought, it has precedence over '--extra-vars'. If used it will replace\n  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.\n\nBugzilla: #1824806\nChange-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b\n(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)\n""}, {'number': 4, 'created': '2021-02-12 14:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6156ea295c93e0a0eeebda471fa768e6e906f1dd', 'message': ""Modifying Openstack client for undercloud and overcloud backup\n\n- '--init' flag was marked with WARNING indicating it will be\n  deprecated and replaced by '--setup-nfs' and '--setup-rear'.\n  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,\n  so it doesn't break interface.\n- '--setup-nfs' flag added which installs and configure NFS\n  on the 'BackupNode' host.\n- '--setup-rear' flag added which installs and configure ReaR\n  on the 'Undercloud' or the 'Controller' nodes.\n- '--extra-vars' was enabled to pass variables to the playbooks\n  by specifying JSON/YAML string or full path of the file.\n- Now 'tags' parameter is used internally to specify which\n  tasks to run.\n- '--storage-ip' flag on overcloud backup command was marked with\n  WARNING indicating it will be deprecated in favor of '--extra-vars'\n  which allows to pass this and more properties.\n  Thought, it has precedence over '--extra-vars'. If used it will replace\n  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.\n\nBugzilla: #1824806\nChange-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b\n(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)\n""}, {'number': 5, 'created': '2021-02-12 15:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/485120971aa476b0a429b74232122396764faeda', 'message': ""Modifying Openstack client for undercloud and overcloud backup\n\n- '--init' flag was marked with WARNING indicating it will be\n  deprecated and replaced by '--setup-nfs' and '--setup-rear'.\n  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,\n  so it doesn't break interface.\n- '--setup-nfs' flag added which installs and configure NFS\n  on the 'BackupNode' host.\n- '--setup-rear' flag added which installs and configure ReaR\n  on the 'Undercloud' or the 'Controller' nodes.\n- '--extra-vars' was enabled to pass variables to the playbooks\n  by specifying JSON/YAML string or full path of the file.\n- Now 'tags' parameter is used internally to specify which\n  tasks to run.\n- '--storage-ip' flag on overcloud backup command was marked with\n  WARNING indicating it will be deprecated in favor of '--extra-vars'\n  which allows to pass this and more properties.\n  Thought, it has precedence over '--extra-vars'. If used it will replace\n  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.\n\nBugzilla: #1824806\nChange-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b\n(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)\n""}, {'number': 6, 'created': '2021-02-15 10:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/20aaf94bcf955060d8af4f2d1d7d2bb34c5212ab', 'message': ""Modifying Openstack client for undercloud and overcloud backup\n\n- '--init' flag was marked with WARNING indicating it will be\n  deprecated and replaced by '--setup-nfs' and '--setup-rear'.\n  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,\n  so it doesn't break interface.\n- '--setup-nfs' flag added which installs and configure NFS\n  on the 'BackupNode' host.\n- '--setup-rear' flag added which installs and configure ReaR\n  on the 'Undercloud' or the 'Controller' nodes.\n- '--extra-vars' was enabled to pass variables to the playbooks\n  by specifying JSON/YAML string or full path of the file.\n- Now 'tags' parameter is used internally to specify which\n  tasks to run.\n- '--storage-ip' flag on overcloud backup command was marked with\n  WARNING indicating it will be deprecated in favor of '--extra-vars'\n  which allows to pass this and more properties.\n  Thought, it has precedence over '--extra-vars'. If used it will replace\n  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.\n\nBugzilla: #1824806\nChange-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b\n(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)\n""}, {'number': 7, 'created': '2021-02-15 12:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/078f0356ce03569a3f97057eed4f098c4bffe25c', 'message': ""Modifying Openstack client for undercloud and overcloud backup\n\n- '--init' flag was marked with WARNING indicating it will be\n  deprecated and replaced by '--setup-nfs' and '--setup-rear'.\n  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,\n  so it doesn't break interface.\n- '--setup-nfs' flag added which installs and configure NFS\n  on the 'BackupNode' host.\n- '--setup-rear' flag added which installs and configure ReaR\n  on the 'Undercloud' or the 'Controller' nodes.\n- '--extra-vars' was enabled to pass variables to the playbooks\n  by specifying JSON/YAML string or full path of the file.\n- Now 'tags' parameter is used internally to specify which\n  tasks to run.\n- '--storage-ip' flag on overcloud backup command was marked with\n  WARNING indicating it will be deprecated in favor of '--extra-vars'\n  which allows to pass this and more properties.\n  Thought, it has precedence over '--extra-vars'. If used it will replace\n  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.\n\nBugzilla: #1824806\nChange-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b\n(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)\n""}, {'number': 8, 'created': '2021-02-16 11:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6a86794dc61c9630839e0d37b94226722558f817', 'message': ""Modifying Openstack client for undercloud and overcloud backup\n\n- Adding v1/overcloud_backup.py and test/overcloud_backup/\n  to cover overcloud backup use case and following the structure\n  of stable/victoria.\n- Moving back v2/undercloud_backup.py to v1/undercloud_backup.py\n  to follow same structure of stable/victoria.\n- Moving back tests/v2/undercloud/test_backup.py to\n  tests/v1/undercloud/test_backup.py to follow same structure\n  of stable/victoria.\n- Updating setup.cfg from undercloud_backup v2 to v1 and adding\n  overcloud_backup.\n- '--init' flag was marked with WARNING indicating it will be\n  deprecated and replaced by '--setup-nfs' and '--setup-rear'.\n  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,\n  so it doesn't break interface.\n- '--setup-nfs' flag added which installs and configure NFS\n  on the 'BackupNode' host.\n- '--setup-rear' flag added which installs and configure ReaR\n  on the 'Undercloud' or the 'Controller' nodes.\n- '--extra-vars' was enabled to pass variables to the playbooks\n  by specifying JSON/YAML string or full path of the file.\n- Now 'tags' parameter is used internally to specify which\n  tasks to run.\n- '--storage-ip' flag on overcloud backup command was marked with\n  WARNING indicating it will be deprecated in favor of '--extra-vars'\n  which allows to pass this and more properties.\n  Thought, it has precedence over '--extra-vars'. If used it will replace\n  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.\n\nBugzilla: #1824806\nChange-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b\n(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)\n""}, {'number': 9, 'created': '2021-02-17 11:34:30.000000000', 'files': ['tripleoclient/tests/v1/overcloud_backup/__init__.py', 'tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/v2/undercloud/test_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/v1/overcloud_backup.py', 'tripleoclient/v2/undercloud_backup.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8c45380b7ada734ee4ac58baf6ea980ffff1ac9f', 'message': ""Modifying Openstack client for undercloud and overcloud backup\n\n- Adding v1/overcloud_backup.py and test/overcloud_backup/\n  to cover overcloud backup use case and following the structure\n  of stable/victoria.\n- Moving back v2/undercloud_backup.py to v1/undercloud_backup.py\n  to follow same structure of stable/victoria.\n- Moving back tests/v2/undercloud/test_backup.py to\n  tests/v1/undercloud/test_backup.py to follow same structure\n  of stable/victoria.\n- Updating setup.cfg from undercloud_backup v2 to v1 and adding\n  overcloud_backup.\n- '--init' flag was marked with WARNING indicating it will be\n  deprecated and replaced by '--setup-nfs' and '--setup-rear'.\n  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,\n  so it doesn't break interface.\n- '--setup-nfs' flag added which installs and configure NFS\n  on the 'BackupNode' host.\n- '--setup-rear' flag added which installs and configure ReaR\n  on the 'Undercloud' or the 'Controller' nodes.\n- '--extra-vars' was enabled to pass variables to the playbooks\n  by specifying JSON/YAML string or full path of the file.\n- Now 'tags' parameter is used internally to specify which\n  tasks to run.\n- '--storage-ip' flag on overcloud backup command was marked with\n  WARNING indicating it will be deprecated in favor of '--extra-vars'\n  which allows to pass this and more properties.\n  Thought, it has precedence over '--extra-vars'. If used it will replace\n  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.\n\nBugzilla: #1824806\nChange-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b\n(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)\n""}]",10,775374,8c45380b7ada734ee4ac58baf6ea980ffff1ac9f,25,6,9,32728,,,0,"Modifying Openstack client for undercloud and overcloud backup

- Adding v1/overcloud_backup.py and test/overcloud_backup/
  to cover overcloud backup use case and following the structure
  of stable/victoria.
- Moving back v2/undercloud_backup.py to v1/undercloud_backup.py
  to follow same structure of stable/victoria.
- Moving back tests/v2/undercloud/test_backup.py to
  tests/v1/undercloud/test_backup.py to follow same structure
  of stable/victoria.
- Updating setup.cfg from undercloud_backup v2 to v1 and adding
  overcloud_backup.
- '--init' flag was marked with WARNING indicating it will be
  deprecated and replaced by '--setup-nfs' and '--setup-rear'.
  Now it receives arguments: 'rear' and 'nfs'. Defaults to: rear,
  so it doesn't break interface.
- '--setup-nfs' flag added which installs and configure NFS
  on the 'BackupNode' host.
- '--setup-rear' flag added which installs and configure ReaR
  on the 'Undercloud' or the 'Controller' nodes.
- '--extra-vars' was enabled to pass variables to the playbooks
  by specifying JSON/YAML string or full path of the file.
- Now 'tags' parameter is used internally to specify which
  tasks to run.
- '--storage-ip' flag on overcloud backup command was marked with
  WARNING indicating it will be deprecated in favor of '--extra-vars'
  which allows to pass this and more properties.
  Thought, it has precedence over '--extra-vars'. If used it will replace
  the '--extra-vars' property 'tripleo_backup_and_restore_nfs_server'.

Bugzilla: #1824806
Change-Id: I31f2a554b03677fe29bd1186dee5d278b6d0554b
(cherry picked from commit 945882fe726c66a9bf6b1f8f39d61141ebc38f78)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/74/775374/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py']",2,fe98eb45edf75a6b372ba1c4f4a0b8f9a9063c3c,cli/backup-stable/ussuri,"# Copyright 2018 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import mock from osc_lib.tests import utils from tripleoclient import constants from tripleoclient.tests import fakes from tripleoclient.v1 import undercloud_backup from unittest.mock import call class TestUndercloudBackup(utils.TestCommand): def setUp(self): super(TestUndercloudBackup, self).setUp() # Get the command object to test app_args = mock.Mock() app_args.verbose_level = 1 self.app.options = fakes.FakeOptions() self.cmd = undercloud_backup.BackupUndercloud(self.app, app_args) self.app.client_manager.workflow_engine = mock.Mock() self.workflow = self.app.client_manager.workflow_engine @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_withargs(self, mock_playbook): arglist = [ '--add-path', '/tmp/foo.yaml', '--add-path', '/tmp/bar.yaml' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook=mock.ANY, inventory=mock.ANY, tags=None, skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars={'sources_path': '/home/stack/,/tmp/bar.yaml,/tmp/foo.yaml'}) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_withargs_remove(self, mock_playbook): arglist = [ '--add-path', '/tmp/foo.yaml', '--exclude-path', '/tmp/bar.yaml', '--exclude-path', '/home/stack/', '--add-path', '/tmp/bar.yaml' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook=mock.ANY, inventory=mock.ANY, tags=None, skip_tags=None, verbosity=3, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, extra_vars={'sources_path': '/tmp/foo.yaml'}) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_withargs_remove_double(self, mock_playbook): arglist = [ '--add-path', '/tmp/foo.yaml', '--add-path', '/tmp/bar.yaml', '--exclude-path', '/tmp/foo.yaml', '--exclude-path', '/tmp/foo.yaml' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook=mock.ANY, inventory=mock.ANY, tags=None, skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars={'sources_path': '/home/stack/,/tmp/bar.yaml'}) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_withargs_remove_unex(self, mock_playbook): arglist = [ '--add-path', '/tmp/foo.yaml', '--exclude-path', '/tmp/non-existing-path.yaml' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook=mock.ANY, inventory=mock.ANY, tags=None, skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars={'sources_path': '/home/stack/,/tmp/foo.yaml'}) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_noargs(self, mock_playbook): arglist = [] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-undercloud-backup.yaml', inventory=parsed_args.inventory, tags='bar_create_recover_image', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_init(self, mock_playbook): arglist = [ '--init' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='prepare-undercloud-backup.yaml', inventory=parsed_args.inventory, tags='bar_setup_rear', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_init_nfs(self, mock_playbook): arglist = [ '--init', 'nfs' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='prepare-nfs-backup.yaml', inventory=parsed_args.inventory, tags='bar_setup_nfs_server', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_setup_nfs(self, mock_playbook): arglist = [ '--setup-nfs' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='prepare-nfs-backup.yaml', inventory=parsed_args.inventory, tags='bar_setup_nfs_server', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_setup_rear(self, mock_playbook): arglist = [ '--setup-rear' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='prepare-undercloud-backup.yaml', inventory=parsed_args.inventory, tags='bar_setup_rear', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_setup_rear_extra_vars_inline(self, mock_playbook): arglist = [ '--setup-rear', '--extra-vars', '{""tripleo_backup_and_restore_nfs_server"": ""192.168.24.1""}' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) extra_vars_dict = { 'tripleo_backup_and_restore_nfs_server': '192.168.24.1' } self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='prepare-undercloud-backup.yaml', inventory=parsed_args.inventory, tags='bar_setup_rear', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=extra_vars_dict ) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_setup_nfs_rear_with_inventory(self, mock_playbook): arglist = [ '--setup-nfs', '--setup-rear', '--inventory', '/tmp/test_inventory.yaml' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) calls = [call(workdir=mock.ANY, playbook='prepare-nfs-backup.yaml', inventory=parsed_args.inventory, tags='bar_setup_nfs_server', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None), call(workdir=mock.ANY, playbook='prepare-undercloud-backup.yaml', inventory=parsed_args.inventory, tags='bar_setup_rear', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None)] mock_playbook.assert_has_calls(calls) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_setup_nfs_with_extra_vars(self, mock_playbook): arglist = [ '--setup-nfs', '--extra-vars', '/tmp/test_vars.yaml' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='prepare-nfs-backup.yaml', inventory=parsed_args.inventory, tags='bar_setup_nfs_server', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars='/tmp/test_vars.yaml' ) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_inventory(self, mock_playbook): arglist = [ '--inventory', '/tmp/test_inventory.yaml' ] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-undercloud-backup.yaml', inventory=parsed_args.inventory, tags='bar_create_recover_image', skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) ",,640,0
openstack%2Fneutron~stable%2Fussuri~Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,openstack/neutron,stable/ussuri,Ib37a52a623943ae4b6a4ec829c5d12a74514e86c,Add some wait time between stopping and starting again ovsdb monitor,MERGED,2021-03-05 09:30:37.000000000,2021-03-06 02:25:52.000000000,2021-03-06 02:23:44.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 09:30:37.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8f1eaf8f06158995e45180c7b9ad5e553bc1e31', 'message': 'Add some wait time between stopping and starting again ovsdb monitor\n\nIn functional tests of the ovsdb_monitor, sometimes during high load\nof the host where tests are run, ""error"" message from the killed process\ncan be received by neutron\'s async_process after new process was\nalready spawned.\nAnd that causes failure of the test as new ovsdb_monitor will not\nreceive events which are expected.\n\nTo workaround that issue this patch adds sleep for few seconds between\nstopping old and starting new ovsdb_monitor process.\n\nCloses-Bug: #1907068\nChange-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c\n(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)\n'}]",0,778826,f8f1eaf8f06158995e45180c7b9ad5e553bc1e31,8,3,1,11975,,,0,"Add some wait time between stopping and starting again ovsdb monitor

In functional tests of the ovsdb_monitor, sometimes during high load
of the host where tests are run, ""error"" message from the killed process
can be received by neutron's async_process after new process was
already spawned.
And that causes failure of the test as new ovsdb_monitor will not
receive events which are expected.

To workaround that issue this patch adds sleep for few seconds between
stopping old and starting new ovsdb_monitor process.

Closes-Bug: #1907068
Change-Id: Ib37a52a623943ae4b6a4ec829c5d12a74514e86c
(cherry picked from commit 0aa7f5b5117945499a8511987668d6c59fc680e5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/778826/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_ovsdb_monitor.py'],1,f8f1eaf8f06158995e45180c7b9ad5e553bc1e31,bug/1907068-stable/victoria-stable/ussuri,"import time # NOTE(slaweq): lets give async process few more seconds to receive # ""error"" from the old ovsdb monitor process and then start new one time.sleep(5)",,4,0
openstack%2Fneutron~stable%2Ftrain~I080381cb8a88a27130ac21c0e27fc915e38bdedd,openstack/neutron,stable/train,I080381cb8a88a27130ac21c0e27fc915e38bdedd,Ignore python warnings in the fullstack job,MERGED,2021-03-04 13:34:58.000000000,2021-03-06 02:10:30.000000000,2021-03-06 02:08:24.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 13:34:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0165b1beb1f6861971887aa688dc7d4652ddd41', 'message': 'Ignore python warnings in the fullstack job\n\nIf there is too much output produced to the stdout/stderr during the\ntests, stestr can hangs and job will then time out.\nTo avoid that in fullstack job, this patch is doing the same what\nwas already done for functional job as well - set PYTHONWARNINGS\nvariable to ""ignore"" to ignore all warnings and not send them to stdout.\nAll info really needed to debug tests is still in the tests\' logs in\nspecific directories.\n\nChange-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd\n(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)\n'}]",0,778684,a0165b1beb1f6861971887aa688dc7d4652ddd41,9,4,1,11975,,,0,"Ignore python warnings in the fullstack job

If there is too much output produced to the stdout/stderr during the
tests, stestr can hangs and job will then time out.
To avoid that in fullstack job, this patch is doing the same what
was already done for functional job as well - set PYTHONWARNINGS
variable to ""ignore"" to ignore all warnings and not send them to stdout.
All info really needed to debug tests is still in the tests' logs in
specific directories.

Change-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd
(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/778684/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a0165b1beb1f6861971887aa688dc7d4652ddd41,improve-neutron-ci-stable/victoria-stable/ussuri-stable/train,"# Because of issue with stestr and Python3, we need to avoid too much output # to be produced during tests, so we will ignore python warnings here PYTHONWARNINGS=ignore",,3,0
openstack%2Fneutron~stable%2Fstein~I080381cb8a88a27130ac21c0e27fc915e38bdedd,openstack/neutron,stable/stein,I080381cb8a88a27130ac21c0e27fc915e38bdedd,Ignore python warnings in the fullstack job,MERGED,2021-03-04 13:36:59.000000000,2021-03-06 02:10:15.000000000,2021-03-06 02:08:16.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 13:36:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72802580b3bc6e4935ff31ddd9bb7b80b0686e50', 'message': 'Ignore python warnings in the fullstack job\n\nIf there is too much output produced to the stdout/stderr during the\ntests, stestr can hangs and job will then time out.\nTo avoid that in fullstack job, this patch is doing the same what\nwas already done for functional job as well - set PYTHONWARNINGS\nvariable to ""ignore"" to ignore all warnings and not send them to stdout.\nAll info really needed to debug tests is still in the tests\' logs in\nspecific directories.\n\nChange-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd\n(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)\n'}]",0,778685,72802580b3bc6e4935ff31ddd9bb7b80b0686e50,8,3,1,11975,,,0,"Ignore python warnings in the fullstack job

If there is too much output produced to the stdout/stderr during the
tests, stestr can hangs and job will then time out.
To avoid that in fullstack job, this patch is doing the same what
was already done for functional job as well - set PYTHONWARNINGS
variable to ""ignore"" to ignore all warnings and not send them to stdout.
All info really needed to debug tests is still in the tests' logs in
specific directories.

Change-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd
(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/778685/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,72802580b3bc6e4935ff31ddd9bb7b80b0686e50,improve-neutron-ci-stable/victoria-stable/ussuri-stable/train-stable/stein,"# Because of issue with stestr and Python3, we need to avoid too much output # to be produced during tests, so we will ignore python warnings here PYTHONWARNINGS=ignore",,3,0
openstack%2Fneutron~stable%2Fussuri~I080381cb8a88a27130ac21c0e27fc915e38bdedd,openstack/neutron,stable/ussuri,I080381cb8a88a27130ac21c0e27fc915e38bdedd,Ignore python warnings in the fullstack job,MERGED,2021-03-04 13:34:23.000000000,2021-03-06 01:56:21.000000000,2021-03-06 01:54:42.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 13:34:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b16c29faf23aac54f2e924d2ed90232da6004f2a', 'message': 'Ignore python warnings in the fullstack job\n\nIf there is too much output produced to the stdout/stderr during the\ntests, stestr can hangs and job will then time out.\nTo avoid that in fullstack job, this patch is doing the same what\nwas already done for functional job as well - set PYTHONWARNINGS\nvariable to ""ignore"" to ignore all warnings and not send them to stdout.\nAll info really needed to debug tests is still in the tests\' logs in\nspecific directories.\n\nChange-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd\n(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)\n'}]",0,778683,b16c29faf23aac54f2e924d2ed90232da6004f2a,9,4,1,11975,,,0,"Ignore python warnings in the fullstack job

If there is too much output produced to the stdout/stderr during the
tests, stestr can hangs and job will then time out.
To avoid that in fullstack job, this patch is doing the same what
was already done for functional job as well - set PYTHONWARNINGS
variable to ""ignore"" to ignore all warnings and not send them to stdout.
All info really needed to debug tests is still in the tests' logs in
specific directories.

Change-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd
(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/778683/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b16c29faf23aac54f2e924d2ed90232da6004f2a,improve-neutron-ci-stable/victoria-stable/ussuri,"# Because of issue with stestr and Python3, we need to avoid too much output # to be produced during tests, so we will ignore python warnings here PYTHONWARNINGS=ignore",,3,0
openstack%2Fneutron~stable%2Fvictoria~I080381cb8a88a27130ac21c0e27fc915e38bdedd,openstack/neutron,stable/victoria,I080381cb8a88a27130ac21c0e27fc915e38bdedd,Ignore python warnings in the fullstack job,MERGED,2021-03-04 13:33:36.000000000,2021-03-06 01:56:08.000000000,2021-03-06 01:54:33.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 13:33:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9ca847ff308f0e776e324da34e5498d6b2efeb0', 'message': 'Ignore python warnings in the fullstack job\n\nIf there is too much output produced to the stdout/stderr during the\ntests, stestr can hangs and job will then time out.\nTo avoid that in fullstack job, this patch is doing the same what\nwas already done for functional job as well - set PYTHONWARNINGS\nvariable to ""ignore"" to ignore all warnings and not send them to stdout.\nAll info really needed to debug tests is still in the tests\' logs in\nspecific directories.\n\nChange-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd\n(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)\n'}]",0,778682,d9ca847ff308f0e776e324da34e5498d6b2efeb0,9,4,1,11975,,,0,"Ignore python warnings in the fullstack job

If there is too much output produced to the stdout/stderr during the
tests, stestr can hangs and job will then time out.
To avoid that in fullstack job, this patch is doing the same what
was already done for functional job as well - set PYTHONWARNINGS
variable to ""ignore"" to ignore all warnings and not send them to stdout.
All info really needed to debug tests is still in the tests' logs in
specific directories.

Change-Id: I080381cb8a88a27130ac21c0e27fc915e38bdedd
(cherry picked from commit 14955f93f6841fc65b7d761f15cf2227f31042d8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/778682/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d9ca847ff308f0e776e324da34e5498d6b2efeb0,improve-neutron-ci-stable/victoria,"# Because of issue with stestr and Python3, we need to avoid too much output # to be produced during tests, so we will ignore python warnings here PYTHONWARNINGS=ignore",,3,0
openstack%2Fopenstack-helm~master~Ibf7a9251da7d268472510211a55ae2798746cb13,openstack/openstack-helm,master,Ibf7a9251da7d268472510211a55ae2798746cb13,Fix name of variables error About ceph-rgw,MERGED,2021-03-03 06:43:15.000000000,2021-03-06 01:24:15.000000000,2021-03-06 01:22:08.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 33089}]","[{'number': 1, 'created': '2021-03-03 06:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5462f6b7c19cb539391a27bf91e7c49239cbf793', 'message': 'Fix name of variable error About ceph-rgw\n\nThe name of variables should be OSH_EXTRA_HELM_ARGS_CEPH_RGW.\n\nChange-Id: Ibf7a9251da7d268472510211a55ae2798746cb13\n'}, {'number': 2, 'created': '2021-03-03 06:47:00.000000000', 'files': ['tools/deployment/multinode/090-ceph-radosgateway.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0ba0252bf3f35de75352f01de196ff3588c35a06', 'message': 'Fix name of variables error About ceph-rgw\n\nThe name of variables should be OSH_EXTRA_HELM_ARGS_CEPH_RGW.\n\nChange-Id: Ibf7a9251da7d268472510211a55ae2798746cb13\n'}]",0,778363,0ba0252bf3f35de75352f01de196ff3588c35a06,17,7,2,30449,,,0,"Fix name of variables error About ceph-rgw

The name of variables should be OSH_EXTRA_HELM_ARGS_CEPH_RGW.

Change-Id: Ibf7a9251da7d268472510211a55ae2798746cb13
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/63/778363/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/090-ceph-radosgateway.sh'],1,5462f6b7c19cb539391a27bf91e7c49239cbf793,ceph-radosgateway, ${OSH_EXTRA_HELM_ARGS_CEPH_RGW}, ${OSH_EXTRA_HELM_ARGS_HEAT},1,1
openstack%2Fneutron~stable%2Frocky~Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b,openstack/neutron,stable/rocky,Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b,Workaround for TCP checksum issue with ovs-dpdk and  veth pair,MERGED,2021-03-01 17:53:35.000000000,2021-03-06 00:48:53.000000000,2021-03-06 00:48:53.000000000,"[{'_account_id': 11975}, {'_account_id': 14029}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 17:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a49c80f328919a2f7d6d9b249b8f8f9ac825ad1', 'message': 'Workaround for TCP checksum issue with ovs-dpdk and  veth pair\n\nThe need for this change stems from following issues:\n1) When ovs_use_veth = False with ovs-dpdk issue with ovs\nwas observed - after vswitch restart interface is not comming up.\nMeaning ovs-dpdk uses ovs internal ports and it is not able to bring\nthem up on restart.\n2) When ovs_use_veth = True and ovs-dpkd is used, packets sent with\nincorrect checksum due to the fact that ovs-dpdk does not do checksum\ncalculations for veth interface.\n\nThis commit allows to use second option and resolve checksum issue by\ndisabling checksum offload.\n\nCloses-Bug: #1832021\nRelated-Bug: #1831935\n\nChange-Id: Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b\n(cherry picked from commit 11838a2bc50caa40e776bce211f5f2d1d16a14af)\n'}, {'number': 2, 'created': '2021-03-02 11:55:24.000000000', 'files': ['etc/neutron/rootwrap.d/dhcp.filters', 'neutron/agent/linux/interface.py', 'neutron/agent/linux/ethtool.py', 'etc/neutron/rootwrap.d/l3.filters', 'neutron/tests/unit/agent/linux/test_interface.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e87f18d2fcee2be36c001f7df623ca9c0aa3baad', 'message': 'Workaround for TCP checksum issue with ovs-dpdk and  veth pair\n\nThe need for this change stems from following issues:\n1) When ovs_use_veth = False with ovs-dpdk issue with ovs\nwas observed - after vswitch restart interface is not comming up.\nMeaning ovs-dpdk uses ovs internal ports and it is not able to bring\nthem up on restart.\n2) When ovs_use_veth = True and ovs-dpkd is used, packets sent with\nincorrect checksum due to the fact that ovs-dpdk does not do checksum\ncalculations for veth interface.\n\nThis commit allows to use second option and resolve checksum issue by\ndisabling checksum offload.\n\nCloses-Bug: #1832021\nRelated-Bug: #1831935\n\nChange-Id: Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b\n(cherry picked from commit 11838a2bc50caa40e776bce211f5f2d1d16a14af)\n'}]",1,778041,e87f18d2fcee2be36c001f7df623ca9c0aa3baad,10,4,2,10058,,,0,"Workaround for TCP checksum issue with ovs-dpdk and  veth pair

The need for this change stems from following issues:
1) When ovs_use_veth = False with ovs-dpdk issue with ovs
was observed - after vswitch restart interface is not comming up.
Meaning ovs-dpdk uses ovs internal ports and it is not able to bring
them up on restart.
2) When ovs_use_veth = True and ovs-dpkd is used, packets sent with
incorrect checksum due to the fact that ovs-dpdk does not do checksum
calculations for veth interface.

This commit allows to use second option and resolve checksum issue by
disabling checksum offload.

Closes-Bug: #1832021
Related-Bug: #1831935

Change-Id: Iecce8d2c6c2c46718cc1020c6e8f914cd4560e4b
(cherry picked from commit 11838a2bc50caa40e776bce211f5f2d1d16a14af)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/778041/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron/rootwrap.d/dhcp.filters', 'neutron/agent/linux/interface.py', 'neutron/agent/linux/ethtool.py', 'etc/neutron/rootwrap.d/l3.filters', 'neutron/tests/unit/agent/linux/test_interface.py']",5,1a49c80f328919a2f7d6d9b249b8f8f9ac825ad1,bug/1832021,"from neutron.agent.linux import ethtoolfrom neutron.conf.plugins.ml2.drivers import ovs_conf from neutron.plugins.ml2.drivers.openvswitch.agent.common \ import constants as ovs_const self.eth_tool_p = mock.patch.object(ethtool, 'Ethtool') self.eth_tool = self.eth_tool_p.start() ovs_conf.register_ovs_agent_opts(self.conf) self.conf.set_override( 'datapath_type', ovs_const.OVS_DATAPATH_NETDEV, group='OVS') ns_dev.name = devname self.eth_tool.assert_has_calls([mock.call.offload( devname, rx=False, tx=False, namespace=namespace)])",,61,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Ia1337dcbeceed485eda14733221164529daf0856,openstack/python-tripleoclient,stable/victoria,Ia1337dcbeceed485eda14733221164529daf0856,Add label argument for the container image build,MERGED,2021-03-02 19:15:46.000000000,2021-03-06 00:18:57.000000000,2021-03-06 00:17:21.000000000,"[{'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 19:15:46.000000000', 'files': ['tripleoclient/v2/tripleo_container_image.py', 'releasenotes/notes/image-build-labels-97fda64f693cd8ba.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/530b3aad98dcddaa33c5cb6aa04b2710b5a257fa', 'message': 'Add label argument for the container image build\n\nThis change adds a new argument for the container image build CLI,\nwhich allows operators to inject specific labels into a build that\nalso supports basic string replacement from user input. This\nfeature will allow maintainers and vendors to appropriately label\ntheir container images without running any post validation or\ninjection.\n\nChange-Id: Ia1337dcbeceed485eda14733221164529daf0856\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7)\n'}]",0,778115,530b3aad98dcddaa33c5cb6aa04b2710b5a257fa,10,4,1,7353,,,0,"Add label argument for the container image build

This change adds a new argument for the container image build CLI,
which allows operators to inject specific labels into a build that
also supports basic string replacement from user input. This
feature will allow maintainers and vendors to appropriately label
their container images without running any post validation or
injection.

Change-Id: Ia1337dcbeceed485eda14733221164529daf0856
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/778115/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/tripleo_container_image.py', 'releasenotes/notes/image-build-labels-97fda64f693cd8ba.yaml']",2,530b3aad98dcddaa33c5cb6aa04b2710b5a257fa,container-labels,"--- features: - The container image build command now has the ability to inject labels into various images being constructed. To add labels into a container, the argument `--label` can be specified multiple times. The value is always a key=value pair and each key must be unique. other: - The container image build label agument has the ability to do simple string replacements following the python standard. Available options for string replacement are `registry`, `namespace`, `prefix`, `image`, `tag`, and `name`. Example usage `--label component=""%(prefix)s-%(name)s-container""`. ",,44,0
openstack%2Fcinder~master~I680cb8c4be13bcd3ac6785a7afa81ce5d3477f91,openstack/cinder,master,I680cb8c4be13bcd3ac6785a7afa81ce5d3477f91,Properly handle InvalidScope exceptions,MERGED,2021-02-16 20:49:57.000000000,2021-03-05 23:52:20.000000000,2021-03-05 05:29:42.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 20:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7fc8a1fc2d11807f165ed640dec6077be70d0663', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're starting to set scope_types on default policies, we\nshould make sure we handle InvalidScope exceptions from oslo.policy in\nthe event enforce_scope=True. Operators won't use this switch for a\nwhile, but it prepares us for when cinder will be system-scope aware.\n\nChange-Id: I680cb8c4be13bcd3ac6785a7afa81ce5d3477f91\n""}, {'number': 2, 'created': '2021-02-16 21:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7aea7628b3def5efc8ef2b08d84257c099e0c55b', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're starting to set scope_types on default policies, we\nshould make sure we handle InvalidScope exceptions from oslo.policy in\nthe event enforce_scope=True. Operators won't use this switch for a\nwhile, but it prepares us for when cinder will be system-scope aware.\n\nThis commit also bumps the minimum version of oslo.policy to 3.6.2,\nwhich is safer when running tests in parallel with different\npolicy configurations.\n\nChange-Id: I680cb8c4be13bcd3ac6785a7afa81ce5d3477f91\n""}, {'number': 3, 'created': '2021-02-17 17:48:52.000000000', 'files': ['requirements.txt', 'cinder/policy.py', 'lower-constraints.txt', 'cinder/tests/unit/test_policy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/118da903b1ff15805ae2efaf397d139145e1cf0c', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're starting to set scope_types on default policies, we\nshould make sure we handle InvalidScope exceptions from oslo.policy in\nthe event enforce_scope=True. Operators won't use this switch for a\nwhile, but it prepares us for when cinder will be system-scope aware.\n\nThis commit also bumps the minimum version of oslo.policy to 3.6.2,\nwhich is safer when running tests in parallel with different\npolicy configurations.\n\nChange-Id: I680cb8c4be13bcd3ac6785a7afa81ce5d3477f91\n""}]",0,775931,118da903b1ff15805ae2efaf397d139145e1cf0c,81,4,3,5046,,,0,"Properly handle InvalidScope exceptions

Now that we're starting to set scope_types on default policies, we
should make sure we handle InvalidScope exceptions from oslo.policy in
the event enforce_scope=True. Operators won't use this switch for a
while, but it prepares us for when cinder will be system-scope aware.

This commit also bumps the minimum version of oslo.policy to 3.6.2,
which is safer when running tests in parallel with different
policy configurations.

Change-Id: I680cb8c4be13bcd3ac6785a7afa81ce5d3477f91
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/775931/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policy.py', 'cinder/tests/unit/test_policy.py']",2,7fc8a1fc2d11807f165ed640dec6077be70d0663,secure-rbac," def test_enforce_properly_handles_invalid_scope_exception(self): self.fixture.config(enforce_scope=True, group='oslo_policy') project_context = context.RequestContext(project_id='fake-project-id', roles=['bar']) policy.reset() policy.init() rule = oslo_policy.RuleDefault('foo', 'role:bar', scope_types=['system']) policy._ENFORCER.register_defaults([rule]) self.assertRaises(exception.PolicyNotAuthorized, policy.enforce, project_context, 'foo', {}) def test_enforce_does_not_raise_forbidden(self): self.fixture.config(enforce_scope=False, group='oslo_policy') project_context = context.RequestContext(project_id='fake-project-id', roles=['bar']) policy.reset() policy.init() rule = oslo_policy.RuleDefault('foo', 'role:bar', scope_types=['system']) policy._ENFORCER.register_defaults([rule]) self.assertTrue(policy.enforce(project_context, 'foo', {}))",,34,6
openstack%2Ftacker~master~Id7c190768f21be0df4189bdc805a002a0958b9d0,openstack/tacker,master,Id7c190768f21be0df4189bdc805a002a0958b9d0,[DNM] Fix the retry issue in IF condition,ABANDONED,2021-03-05 10:24:24.000000000,2021-03-05 23:31:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-05 10:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/aec8bab9b418f8dad78ca2b009f717de001d8592', 'message': '[DNM] Fix the retry issue in IF condition\n\nChange-Id: Id7c190768f21be0df4189bdc805a002a0958b9d0\n'}, {'number': 2, 'created': '2021-03-05 10:49:11.000000000', 'files': ['tacker/vnfm/infra_drivers/openstack/openstack.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/8a8639f769bc56964794c2ac2bbbed7adeffbb3a', 'message': '[DNM] Fix the retry issue in IF condition\n\nChange-Id: Id7c190768f21be0df4189bdc805a002a0958b9d0\n'}]",0,778876,8a8639f769bc56964794c2ac2bbbed7adeffbb3a,6,1,2,32219,,,0,"[DNM] Fix the retry issue in IF condition

Change-Id: Id7c190768f21be0df4189bdc805a002a0958b9d0
",git fetch https://review.opendev.org/openstack/tacker refs/changes/76/778876/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/infra_drivers/openstack/openstack.py'],1,aec8bab9b418f8dad78ca2b009f717de001d8592,dnmpatch, if 'before_error_point' not in vnf or \ if 'before_error_point' not in vnf or \, if not 'before_error_point' in vnf or \ if not 'before_error_point' in vnf or \,2,2
openstack%2Ftacker~master~I782eb49b809149da34d6505d74c6a9dff30c3a35,openstack/tacker,master,I782eb49b809149da34d6505d74c6a9dff30c3a35,[DNM] Check retry for MySQL issues,ABANDONED,2021-02-26 17:31:22.000000000,2021-03-05 23:31:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 17:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/804b66adeeeff2123f8ca6cada0c616ce4e89271', 'message': '[DNM] Check retry for MySQL issues\n\nChange-Id: I782eb49b809149da34d6505d74c6a9dff30c3a35\n'}, {'number': 2, 'created': '2021-03-01 10:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6a7ced40dcbc66bafbcfd3ce3052d02edd1d6d66', 'message': '[DNM] Check retry for MySQL issues\n\nChange-Id: I782eb49b809149da34d6505d74c6a9dff30c3a35\n'}, {'number': 3, 'created': '2021-03-01 10:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e066369404546e640368cfaf0a8f93f182597e43', 'message': '[DNM] Check retry for MySQL issues\n\nChange-Id: I782eb49b809149da34d6505d74c6a9dff30c3a35\n'}, {'number': 4, 'created': '2021-03-05 06:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2ce3d03903596c0c37118f7817a7aa3b009c9d25', 'message': '[DNM] Check retry for MySQL issues\n\nChange-Id: I782eb49b809149da34d6505d74c6a9dff30c3a35\n'}, {'number': 5, 'created': '2021-03-05 09:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e56337efd6f668d83bbfe1e8c4abd9068416796', 'message': '[DNM] Check retry for MySQL issues\n\nChange-Id: I782eb49b809149da34d6505d74c6a9dff30c3a35\n'}, {'number': 6, 'created': '2021-03-05 10:46:55.000000000', 'files': ['api-ref/source/v1/vnflcm.inc', 'tacker/tests/unit/vnflcm/test_load_vnf_interfaces.py', 'tacker/common/exceptions.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/objects/fields.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/1dc6ac24467707607660a44e0c3121d308d8433a', 'message': '[DNM] Check retry for MySQL issues\n\nChange-Id: I782eb49b809149da34d6505d74c6a9dff30c3a35\n'}]",4,777773,1dc6ac24467707607660a44e0c3121d308d8433a,20,1,6,32219,,,0,"[DNM] Check retry for MySQL issues

Change-Id: I782eb49b809149da34d6505d74c6a9dff30c3a35
",git fetch https://review.opendev.org/openstack/tacker refs/changes/73/777773/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/vnflcm.inc', 'tacker/tests/unit/vnflcm/test_load_vnf_interfaces.py', 'tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/common/exceptions.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/objects/fields.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py']",20,804b66adeeeff2123f8ca6cada0c616ce4e89271,dnmpatch," instantiate_vnf_req=instantiate_vnf_req, error_point=vnf_dict['error_point']) if vnf_dict['error_point'] <= 3: try: self._vnf_manager.invoke( vim_connection_info.vim_type, 'create_wait', plugin=self._vnfm_plugin, context=context, vnf_dict=final_vnf_dict, vnf_id=final_vnf_dict['instance_id'], auth_attr=vim_connection_info.access_info) except Exception as exp: with excutils.save_and_reraise_exception(): exp.reraise = False LOG.error(""Vnf creation wait failed for vnf instance "" ""%(id)s due to error : %(error)s"", {""id"": vnf_instance.id, ""error"": encodeutils.exception_to_unicode(exp)}) raise exceptions.VnfInstantiationWaitFailed( id=vnf_instance.id, error=encodeutils.exception_to_unicode(exp)) else: try: self._vnf_manager.invoke( vim_connection_info.vim_type, 'update_stack_wait', plugin=self._vnfm_plugin, context=context, vnf_dict=final_vnf_dict, stack_id=instance_id, auth_attr=vim_connection_info.access_info) except Exception as exp: with excutils.save_and_reraise_exception(): exp.reraise = False LOG.error(""Vnf update wait failed for vnf instance "" ""%(id)s due to error : %(error)s"", {""id"": vnf_instance.id, ""error"": encodeutils.exception_to_unicode(exp)}) raise exceptions.VnfInstantiationWaitFailed( id=vnf_instance.id, error=encodeutils.exception_to_unicode(exp)) vnf_dict['new_error_point'] = 2 if vnf_dict['error_point'] <= 3: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'instantiate_start', vnf_instance, vnfd_dict), 'instantiate_start', context=context, vnf_instance=vnf_instance, additional_params=instantiate_vnf_req.additional_params) vnf_dict['new_error_point'] = 3 if vnf_dict['error_point'] <= 4: self._instantiate_vnf(context, vnf_instance, vnf_dict, vim_connection_info, instantiate_vnf_req) vnf_dict['new_error_point'] = 5 vnf_dict['new_error_point'] = 6 if vnf_dict['error_point'] <= 6: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'instantiate_end', vnf_instance, vnfd_dict), 'instantiate_end', context=context, vnf_instance=vnf_instance, additional_params=instantiate_vnf_req.additional_params) def terminate_vnf(self, context, vnf_instance, terminate_vnf_req, vnf_dict): vnf_dict['new_error_point'] = 2 if vnf_dict['error_point'] <= 2: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'terminate_start', vnf_instance, vnfd_dict), 'terminate_start', context=context, vnf_instance=vnf_instance, additional_params=terminate_vnf_req.additional_params) vnf_dict['new_error_point'] = 3 if vnf_dict['error_point'] <= 4: self._delete_vnf_instance_resources(context, vnf_instance, vim_connection_info, terminate_vnf_req=terminate_vnf_req) vnf_dict['new_error_point'] = 5 if vnf_dict['new_error_point'] == 3: if hasattr(vnf_instance.instantiated_vnf_info, 'instance_id'): if vnf_instance.instantiated_vnf_info.instance_id: vnf_dict['new_error_point'] = 4 vnf_dict['new_error_point'] = 6 if vnf_dict['error_point'] <= 6: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'terminate_end', vnf_instance, vnfd_dict), 'terminate_end', context=context, vnf_instance=vnf_instance, additional_params=terminate_vnf_req.additional_params) heal_vnf_request, error_point, vnf): heal_vnf_request=heal_vnf_request, error_point=error_point) vnf['new_error_point'] = 4 if vnf_dict['error_point'] != 4: try: self._delete_vnf_instance_resources(context, vnf_instance, vim_connection_info, update_instantiated_state=False) except Exception as exc: with excutils.save_and_reraise_exception() as exc_ctxt: exc_ctxt.reraise = False err_msg = (""Failed to delete vnf resources for "" ""vnf instance %(id)s before respawning. "" ""The vnf is in inconsistent state. "" ""Error: %(error)s"") LOG.error(err_msg % {""id"": vnf_instance.id, ""error"": str(exc)}) raise exceptions.VnfHealFailed(id=vnf_instance.id, error=encodeutils.exception_to_unicode(exc)) vnf_dict['new_error_point'] = 2 if vnf_dict['error_point'] <= 2: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'heal_start', vnf_instance, vnfd_dict), 'heal_start', context=context, vnf_instance=vnf_instance, additional_params=heal_vnf_request.additional_params) vnf_dict['new_error_point'] = 3 try: heal_flag = False if vnf_dict['error_point'] <= 4: if not heal_vnf_request.vnfc_instance_id: self._respawn_vnf(context, vnf_instance, vnf_dict, vim_connection_info, heal_vnf_request) else: heal_flag = True self._heal_vnf(context, vnf_instance, vim_connection_info, heal_vnf_request, vnf_dict['error_point'], vnf_dict) LOG.info(""Request received for healing vnf '%s' is completed "" ""successfully"", vnf_instance.id) except Exception as exp: with excutils.save_and_reraise_exception(): if vnf_dict['new_error_point'] == 3: if not heal_flag: if hasattr(vnf_instance.instantiated_vnf_info, 'instance_id'): if vnf_instance.instantiated_vnf_info.instance_id: vnf_dict['new_error_point'] = 4 LOG.error(""Unable to heal vnf '%s' instance. "" ""Error: %s"", heal_vnf_request.vnfc_instance_id, encodeutils.exception_to_unicode(exp)) vnf_dict['new_error_point'] = 5 vnf_dict['new_error_point'] = 6 if vnf_dict['error_point'] <= 6: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'heal_end', vnf_instance, vnfd_dict), 'heal_end', context=context, vnf_instance=vnf_instance, additional_params=heal_vnf_request.additional_params) if vnf_info['error_point'] <= 1: self._vnfm_plugin._update_vnf_scaling( context, vnf_info, 'ACTIVE', 'PENDING_' + scale_vnf_request.type) if vnf_info['error_point'] <= 2: if len(scale_id_list) != 0: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'scale_start', vnf_instance, vnfd_dict), 'scale_start', context=context, vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params) if vnf_info['error_point'] <= 6: if len(id_list) != 0: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'scale_end', vnf_instance, vnfd_dict), 'scale_end', context=context, vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params) if vnf_info['error_point'] < 7: self._vnfm_plugin._update_vnf_scaling(context, vnf_info, 'PENDING_' + scale_vnf_request.type, 'ACTIVE', vnf_instance=vnf_instance, vnf_lcm_op_occ=vnf_lcm_op_occ) vnf_lcm_op_occ.error_point = 1 if vnf_info['error_point'] <= 4: self._scale_vnf(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, scale_name_list, grp_id) vnf_lcm_op_occ.error_point = 5 vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.error_point = 4 vnf_lcm_op_occ.error_point = 4 vnf_lcm_op_occ.error_point = 4"," instantiate_vnf_req=instantiate_vnf_req) try: self._vnf_manager.invoke( vim_connection_info.vim_type, 'create_wait', plugin=self._vnfm_plugin, context=context, vnf_dict=final_vnf_dict, vnf_id=final_vnf_dict['instance_id'], auth_attr=vim_connection_info.access_info) except Exception as exp: with excutils.save_and_reraise_exception(): exp.reraise = False LOG.error(""Vnf creation wait failed for vnf instance "" ""%(id)s due to error : %(error)s"", {""id"": vnf_instance.id, ""error"": encodeutils.exception_to_unicode(exp)}) raise exceptions.VnfInstantiationWaitFailed( id=vnf_instance.id, error=encodeutils.exception_to_unicode(exp)) self._mgmt_manager.invoke( self._load_vnf_interface( context, 'instantiate_start', vnf_instance, vnfd_dict), 'instantiate_start', context=context, vnf_instance=vnf_instance, additional_params=instantiate_vnf_req.additional_params) self._instantiate_vnf(context, vnf_instance, vnf_dict, vim_connection_info, instantiate_vnf_req) self._mgmt_manager.invoke( self._load_vnf_interface( context, 'instantiate_end', vnf_instance, vnfd_dict), 'instantiate_end', context=context, vnf_instance=vnf_instance, additional_params=instantiate_vnf_req.additional_params) def terminate_vnf(self, context, vnf_instance, terminate_vnf_req): self._mgmt_manager.invoke( self._load_vnf_interface( context, 'terminate_start', vnf_instance, vnfd_dict), 'terminate_start', context=context, vnf_instance=vnf_instance, additional_params=terminate_vnf_req.additional_params) self._delete_vnf_instance_resources(context, vnf_instance, vim_connection_info, terminate_vnf_req=terminate_vnf_req) self._mgmt_manager.invoke( self._load_vnf_interface( context, 'terminate_end', vnf_instance, vnfd_dict), 'terminate_end', context=context, vnf_instance=vnf_instance, additional_params=terminate_vnf_req.additional_params) heal_vnf_request): heal_vnf_request=heal_vnf_request) try: self._delete_vnf_instance_resources(context, vnf_instance, vim_connection_info, update_instantiated_state=False) except Exception as exc: with excutils.save_and_reraise_exception() as exc_ctxt: exc_ctxt.reraise = False err_msg = (""Failed to delete vnf resources for vnf instance "" ""%(id)s before respawning. The vnf is in "" ""inconsistent state. Error: %(error)s"") LOG.error(err_msg % {""id"": vnf_instance.id, ""error"": str(exc)}) raise exceptions.VnfHealFailed(id=vnf_instance.id, error=encodeutils.exception_to_unicode(exc)) self._mgmt_manager.invoke( self._load_vnf_interface( context, 'heal_start', vnf_instance, vnfd_dict), 'heal_start', context=context, vnf_instance=vnf_instance, additional_params=heal_vnf_request.additional_params) if not heal_vnf_request.vnfc_instance_id: self._respawn_vnf(context, vnf_instance, vnf_dict, vim_connection_info, heal_vnf_request) else: self._heal_vnf(context, vnf_instance, vim_connection_info, heal_vnf_request) LOG.info(""Request received for healing vnf '%s' is completed "" ""successfully"", vnf_instance.id) self._mgmt_manager.invoke( self._load_vnf_interface( context, 'heal_end', vnf_instance, vnfd_dict), 'heal_end', context=context, vnf_instance=vnf_instance, additional_params=heal_vnf_request.additional_params) self._vnfm_plugin._update_vnf_scaling( context, vnf_info, 'ACTIVE', 'PENDING_' + scale_vnf_request.type) if len(scale_id_list) != 0: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'scale_start', vnf_instance, vnfd_dict), 'scale_start', context=context, vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params) if len(id_list) != 0: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'scale_end', vnf_instance, vnfd_dict), 'scale_end', context=context, vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params) self._vnfm_plugin._update_vnf_scaling(context, vnf_info, 'PENDING_' + scale_vnf_request.type, 'ACTIVE', vnf_instance=vnf_instance, vnf_lcm_op_occ=vnf_lcm_op_occ) vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.error_point = 4 vnf_lcm_op_occ.error_point = 5 self._scale_vnf(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, scale_name_list, grp_id) ",2349,348
openstack%2Ftacker~master~I435cc0dccb13625cca4b8260d691ba8a04e07edf,openstack/tacker,master,I435cc0dccb13625cca4b8260d691ba8a04e07edf,[DNM] Test proper fixes for retry,ABANDONED,2021-03-05 14:25:53.000000000,2021-03-05 23:30:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-05 14:25:53.000000000', 'files': ['api-ref/source/v1/vnflcm.inc', 'tacker/tests/unit/vnflcm/test_load_vnf_interfaces.py', 'tacker/common/exceptions.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/objects/fields.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/e85b4518c0e99ed98ed3320b28c9291b384b43a6', 'message': '[DNM] Test proper fixes for retry\n\nChange-Id: I435cc0dccb13625cca4b8260d691ba8a04e07edf\n'}]",0,778941,e85b4518c0e99ed98ed3320b28c9291b384b43a6,3,1,1,32219,,,0,"[DNM] Test proper fixes for retry

Change-Id: I435cc0dccb13625cca4b8260d691ba8a04e07edf
",git fetch https://review.opendev.org/openstack/tacker refs/changes/41/778941/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/vnflcm.inc', 'tacker/tests/unit/vnflcm/test_load_vnf_interfaces.py', 'tacker/common/exceptions.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/objects/fields.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py']",21,e85b4518c0e99ed98ed3320b28c9291b384b43a6,DNMPatch," vnf_lcm_op_occ.error_point = \ vnf_info['current_error_point'] final_vnf_dict['before_error_point'] = \ vnf_dict['before_error_point'] if vnf_dict['before_error_point'] <= 3: try: self._vnf_manager.invoke( vim_connection_info.vim_type, 'create_wait', plugin=self._vnfm_plugin, context=context, vnf_dict=final_vnf_dict, vnf_id=final_vnf_dict['instance_id'], auth_attr=vim_connection_info.access_info) except Exception as exp: with excutils.save_and_reraise_exception(): exp.reraise = False LOG.error(""Vnf creation wait failed for vnf instance "" ""%(id)s due to error : %(error)s"", {""id"": vnf_instance.id, ""error"": encodeutils.exception_to_unicode(exp)}) raise exceptions.VnfInstantiationWaitFailed( id=vnf_instance.id, error=encodeutils.exception_to_unicode(exp)) else: try: self._vnf_manager.invoke( vim_connection_info.vim_type, 'update_stack_wait', plugin=self._vnfm_plugin, context=context, vnf_dict=final_vnf_dict, stack_id=instance_id, auth_attr=vim_connection_info.access_info) except Exception as exp: with excutils.save_and_reraise_exception(): exp.reraise = False LOG.error(""Vnf update wait failed for vnf instance "" ""%(id)s due to error : %(error)s"", {""id"": vnf_instance.id, ""error"": encodeutils.exception_to_unicode(exp)}) raise exceptions.VnfInstantiationWaitFailed( id=vnf_instance.id, error=encodeutils.exception_to_unicode(exp)) vnf_dict['current_error_point'] = 2 if vnf_dict['before_error_point'] <= 2: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'instantiate_start', vnf_instance, vnfd_dict), 'instantiate_start', context=context, vnf_instance=vnf_instance, additional_params=instantiate_vnf_req.additional_params) vnf_dict['current_error_point'] = 3 if vnf_dict['before_error_point'] <= 4: self._instantiate_vnf(context, vnf_instance, vnf_dict, vim_connection_info, instantiate_vnf_req) vnf_dict['current_error_point'] = 5 vnf_dict['current_error_point'] = 6 if vnf_dict['before_error_point'] <= 6: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'instantiate_end', vnf_instance, vnfd_dict), 'instantiate_end', context=context, vnf_instance=vnf_instance, additional_params=instantiate_vnf_req.additional_params) def terminate_vnf(self, context, vnf_instance, terminate_vnf_req, vnf_dict): vnf_dict['current_error_point'] = 2 if vnf_dict['before_error_point'] <= 2: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'terminate_start', vnf_instance, vnfd_dict), 'terminate_start', context=context, vnf_instance=vnf_instance, additional_params=terminate_vnf_req.additional_params) vnf_dict['current_error_point'] = 3 if vnf_dict['before_error_point'] <= 4: self._delete_vnf_instance_resources(context, vnf_instance, vim_connection_info, terminate_vnf_req=terminate_vnf_req) vnf_dict['current_error_point'] = 5 if vnf_dict['current_error_point'] == 3: if hasattr(vnf_instance.instantiated_vnf_info, 'instance_id'): if vnf_instance.instantiated_vnf_info.instance_id: vnf_dict['current_error_point'] = 4 vnf_dict['current_error_point'] = 6 if vnf_dict['before_error_point'] <= 6: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'terminate_end', vnf_instance, vnfd_dict), 'terminate_end', context=context, vnf_instance=vnf_instance, additional_params=terminate_vnf_req.additional_params) heal_vnf_request, vnf): vnf['current_error_point'] = 4 if vnf_dict['before_error_point'] != 4: try: self._delete_vnf_instance_resources(context, vnf_instance, vim_connection_info, update_instantiated_state=False) except Exception as exc: with excutils.save_and_reraise_exception() as exc_ctxt: exc_ctxt.reraise = False err_msg = (""Failed to delete vnf resources for "" ""vnf instance %(id)s before respawning. "" ""The vnf is in inconsistent state. "" ""Error: %(error)s"") LOG.error(err_msg % {""id"": vnf_instance.id, ""error"": str(exc)}) raise exceptions.VnfHealFailed(id=vnf_instance.id, error=encodeutils.exception_to_unicode(exc)) vnf_dict['current_error_point'] = 2 if vnf_dict['before_error_point'] <= 2: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'heal_start', vnf_instance, vnfd_dict), 'heal_start', context=context, vnf_instance=vnf_instance, additional_params=heal_vnf_request.additional_params) vnf_dict['current_error_point'] = 3 try: heal_flag = False if vnf_dict['before_error_point'] <= 4: if not heal_vnf_request.vnfc_instance_id: self._respawn_vnf(context, vnf_instance, vnf_dict, vim_connection_info, heal_vnf_request) else: heal_flag = True self._heal_vnf(context, vnf_instance, vim_connection_info, heal_vnf_request, vnf_dict) LOG.info(""Request received for healing vnf '%s' is completed "" ""successfully"", vnf_instance.id) except Exception as exp: with excutils.save_and_reraise_exception(): if vnf_dict['current_error_point'] == 3: if not heal_flag: if hasattr(vnf_instance.instantiated_vnf_info, 'instance_id'): if vnf_instance.instantiated_vnf_info.instance_id: vnf_dict['current_error_point'] = 4 LOG.error(""Unable to heal vnf '%s' instance. "" ""Error: %s"", heal_vnf_request.vnfc_instance_id, encodeutils.exception_to_unicode(exp)) vnf_dict['current_error_point'] = 6 if vnf_dict['before_error_point'] <= 6: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'heal_end', vnf_instance, vnfd_dict), 'heal_end', context=context, vnf_instance=vnf_instance, additional_params=heal_vnf_request.additional_params) if vnf_info['before_error_point'] <= 1: self._vnfm_plugin._update_vnf_scaling( context, vnf_info, 'ACTIVE', 'PENDING_' + scale_vnf_request.type) vnf_info['current_error_point'] = 2 if vnf_info['before_error_point'] <= 2: if len(scale_id_list) != 0: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'scale_start', vnf_instance, vnfd_dict), 'scale_start', context=context, vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params) vnf_info['current_error_point'] = 3 vnf_info['current_error_point'] = 6 if vnf_info['before_error_point'] <= 6: if len(id_list) != 0: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'scale_end', vnf_instance, vnfd_dict), 'scale_end', context=context, vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params) if vnf_info['before_error_point'] < 7: vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.operation_state = 'COMPLETED' vnf_lcm_op_occ.resource_changes = resource_changes self._vnfm_plugin._update_vnf_scaling(context, vnf_info, 'PENDING_' + scale_vnf_request.type, 'ACTIVE', vnf_instance=vnf_instance, vnf_lcm_op_occ=vnf_lcm_op_occ) vnf_info['current_error_point'] = 7 vnf_info['current_error_point'] = 1 if vnf_info['before_error_point'] <= 4: self._scale_vnf(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, scale_name_list, grp_id) resource_changes = self._scale_resource_update(context, vnf_info, vnf_info['current_error_point'] = 5 vnf_info['current_error_point'] = 4 vnf_info['current_error_point'] = 4 vnf_info['current_error_point'] = 4"," try: self._vnf_manager.invoke( vim_connection_info.vim_type, 'create_wait', plugin=self._vnfm_plugin, context=context, vnf_dict=final_vnf_dict, vnf_id=final_vnf_dict['instance_id'], auth_attr=vim_connection_info.access_info) except Exception as exp: with excutils.save_and_reraise_exception(): exp.reraise = False LOG.error(""Vnf creation wait failed for vnf instance "" ""%(id)s due to error : %(error)s"", {""id"": vnf_instance.id, ""error"": encodeutils.exception_to_unicode(exp)}) raise exceptions.VnfInstantiationWaitFailed( id=vnf_instance.id, error=encodeutils.exception_to_unicode(exp)) self._mgmt_manager.invoke( self._load_vnf_interface( context, 'instantiate_start', vnf_instance, vnfd_dict), 'instantiate_start', context=context, vnf_instance=vnf_instance, additional_params=instantiate_vnf_req.additional_params) self._instantiate_vnf(context, vnf_instance, vnf_dict, vim_connection_info, instantiate_vnf_req) self._mgmt_manager.invoke( self._load_vnf_interface( context, 'instantiate_end', vnf_instance, vnfd_dict), 'instantiate_end', context=context, vnf_instance=vnf_instance, additional_params=instantiate_vnf_req.additional_params) def terminate_vnf(self, context, vnf_instance, terminate_vnf_req): self._mgmt_manager.invoke( self._load_vnf_interface( context, 'terminate_start', vnf_instance, vnfd_dict), 'terminate_start', context=context, vnf_instance=vnf_instance, additional_params=terminate_vnf_req.additional_params) self._delete_vnf_instance_resources(context, vnf_instance, vim_connection_info, terminate_vnf_req=terminate_vnf_req) self._mgmt_manager.invoke( self._load_vnf_interface( context, 'terminate_end', vnf_instance, vnfd_dict), 'terminate_end', context=context, vnf_instance=vnf_instance, additional_params=terminate_vnf_req.additional_params) heal_vnf_request): try: self._delete_vnf_instance_resources(context, vnf_instance, vim_connection_info, update_instantiated_state=False) except Exception as exc: with excutils.save_and_reraise_exception() as exc_ctxt: exc_ctxt.reraise = False err_msg = (""Failed to delete vnf resources for vnf instance "" ""%(id)s before respawning. The vnf is in "" ""inconsistent state. Error: %(error)s"") LOG.error(err_msg % {""id"": vnf_instance.id, ""error"": str(exc)}) raise exceptions.VnfHealFailed(id=vnf_instance.id, error=encodeutils.exception_to_unicode(exc)) self._mgmt_manager.invoke( self._load_vnf_interface( context, 'heal_start', vnf_instance, vnfd_dict), 'heal_start', context=context, vnf_instance=vnf_instance, additional_params=heal_vnf_request.additional_params) if not heal_vnf_request.vnfc_instance_id: self._respawn_vnf(context, vnf_instance, vnf_dict, vim_connection_info, heal_vnf_request) else: self._heal_vnf(context, vnf_instance, vim_connection_info, heal_vnf_request) LOG.info(""Request received for healing vnf '%s' is completed "" ""successfully"", vnf_instance.id) self._mgmt_manager.invoke( self._load_vnf_interface( context, 'heal_end', vnf_instance, vnfd_dict), 'heal_end', context=context, vnf_instance=vnf_instance, additional_params=heal_vnf_request.additional_params) self._vnfm_plugin._update_vnf_scaling( context, vnf_info, 'ACTIVE', 'PENDING_' + scale_vnf_request.type) vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.error_point = 2 if len(scale_id_list) != 0: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'scale_start', vnf_instance, vnfd_dict), 'scale_start', context=context, vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params) vnf_lcm_op_occ.error_point = 3 vnf_lcm_op_occ.error_point = 6 if len(id_list) != 0: self._mgmt_manager.invoke( self._load_vnf_interface( context, 'scale_end', vnf_instance, vnfd_dict), 'scale_end', context=context, vnf_instance=vnf_instance, additional_params=scale_vnf_request.additional_params) vnf_lcm_op_occ.error_point = 7 vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.operation_state = 'COMPLETED' vnf_lcm_op_occ.resource_changes = resource_changes self._vnfm_plugin._update_vnf_scaling(context, vnf_info, 'PENDING_' + scale_vnf_request.type, 'ACTIVE', vnf_instance=vnf_instance, vnf_lcm_op_occ=vnf_lcm_op_occ) vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.error_point = 4 vnf_lcm_op_occ.error_point = 5 self._scale_vnf(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, scale_name_list, grp_id) resource_changes = self._scale_resource_update(context, vnf_info,",2412,322
openstack%2Fovn-octavia-provider~master~I682997a4fceb139419a4b12d9c8fc6c504c329d5,openstack/ovn-octavia-provider,master,I682997a4fceb139419a4b12d9c8fc6c504c329d5,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-09-24 21:28:00.000000000,2021-03-05 22:51:22.000000000,2021-03-05 22:49:10.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-24 21:28:00.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/hacking/checks.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/884d5e15789e737be33471f53e77efbf1f822d34', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual.\n\nChange-Id: I682997a4fceb139419a4b12d9c8fc6c504c329d5\n'}]",0,754219,884d5e15789e737be33471f53e77efbf1f822d34,8,4,1,1131,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual.

Change-Id: I682997a4fceb139419a4b12d9c8fc6c504c329d5
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/19/754219/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/hacking/checks.py', 'tox.ini', 'HACKING.rst']",4,884d5e15789e737be33471f53e77efbf1f822d34,assertCountEqual,- [N348] Detect usage of assertItemsEqual,,18,5
openstack%2Fopenstack-helm~master~Ib52e77330cadf45bd3353bfaedc251485620d9f8,openstack/openstack-helm,master,Ib52e77330cadf45bd3353bfaedc251485620d9f8,Remove congress residue,MERGED,2021-03-04 12:34:44.000000000,2021-03-05 22:49:58.000000000,2021-03-05 22:45:35.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 12:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ccc577c8a7a2e2a8e52ee2d4e30432e7fa35369f', 'message': ""Remove congress residue\n\nAbout congress chart,It's been removed,Remove congress residue now.\n\nRelated-Bug: #1917762\nChange-Id: Ib52e77330cadf45bd3353bfaedc251485620d9f8\n""}, {'number': 2, 'created': '2021-03-04 13:48:50.000000000', 'files': ['keystone/values_overrides/netpol.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/Chart.yaml', 'tools/deployment/multinode/200-congress.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86fd8dd1344cda72386756be928cbc62b5746ccf', 'message': ""Remove congress residue\n\nAbout congress chart,It's been removed,Remove congress residue now.\n\nRelated-Bug: #1917762\nChange-Id: Ib52e77330cadf45bd3353bfaedc251485620d9f8\n""}]",0,778668,86fd8dd1344cda72386756be928cbc62b5746ccf,16,3,2,30449,,,0,"Remove congress residue

About congress chart,It's been removed,Remove congress residue now.

Related-Bug: #1917762
Change-Id: Ib52e77330cadf45bd3353bfaedc251485620d9f8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/68/778668/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/values_overrides/netpol.yaml', 'tools/deployment/multinode/200-congress.sh']",2,ccc577c8a7a2e2a8e52ee2d4e30432e7fa35369f,Remove_congress,,"#!/bin/bash # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe #NOTE: Deploy command # don't scale out ds node # only one node per environment should be in active state # https://docs.openstack.org/congress/latest/admin/ha-overview.html#ha-overview helm upgrade --install congress ./congress \ --namespace=openstack \ --set pod.replicas.api=2 \ --set pod.replicas.policy_engine=2 \ --set pod.replicas.datasource=1 \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_CONGRESS} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh openstack #NOTE: Validate Deployment info export OS_CLOUD=openstack_helm openstack service list ",0,36
openstack%2Fopenstack-helm~master~I291d973946387a9c7742a2ff84be7b16de3e18da,openstack/openstack-helm,master,I291d973946387a9c7742a2ff84be7b16de3e18da,Add nfs cinder backup override,MERGED,2021-02-11 19:13:51.000000000,2021-03-05 22:48:09.000000000,2021-03-05 22:45:24.000000000,"[{'_account_id': 8898}, {'_account_id': 14675}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}, {'_account_id': 32349}, {'_account_id': 32618}, {'_account_id': 32854}]","[{'number': 1, 'created': '2021-02-11 19:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aee300dbdb770fcabcc579fcdcfe00c4691c83a9', 'message': 'add nfs cinder backup override\n\nStory: 2008613\nTask: 41818\nSigned-off-by: Lucas Cavalcante <lucasmedeiros.cavalcante@windriver.com>\nChange-Id: I291d973946387a9c7742a2ff84be7b16de3e18da\n'}, {'number': 2, 'created': '2021-02-12 11:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4cd69477f03aad9dded8c6c2f65c4e316d959b24', 'message': 'Add nfs cinder backup override\n\nStory: 2008613\nTask: 41818\nSigned-off-by: Lucas Cavalcante <lucasmedeiros.cavalcante@windriver.com>\nChange-Id: I291d973946387a9c7742a2ff84be7b16de3e18da\n'}, {'number': 3, 'created': '2021-02-17 15:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/200f1aeb712ad51effb71751a43793bffca457ed', 'message': 'Add nfs cinder backup override\n\nStory: 2008613\nTask: 41818\nSigned-off-by: Lucas Cavalcante <lucasmedeiros.cavalcante@windriver.com>\nChange-Id: I291d973946387a9c7742a2ff84be7b16de3e18da\n'}, {'number': 4, 'created': '2021-02-18 05:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a369fb8502f7128f8425d5e40780f25a18ae9ca5', 'message': 'Add nfs cinder backup override\n\nStory: 2008613\nTask: 41818\nSigned-off-by: Lucas Cavalcante <lucasmedeiros.cavalcante@windriver.com>\nChange-Id: I291d973946387a9c7742a2ff84be7b16de3e18da\n'}, {'number': 5, 'created': '2021-03-02 12:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4534f8caa101b67725e3d2d3a041e02e09eab703', 'message': 'Add nfs cinder backup override\n\nStory: 2008613\nTask: 41818\nChange-Id: I291d973946387a9c7742a2ff84be7b16de3e18da\nSigned-off-by: Lucas Cavalcante <lucasmedeiros.cavalcante@windriver.com>\n'}, {'number': 6, 'created': '2021-03-04 11:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3ee3c624f58c1ce282edccf41763f89a91f6803', 'message': 'Add nfs cinder backup override\n\nStory: 2008613\nTask: 41818\nChange-Id: I291d973946387a9c7742a2ff84be7b16de3e18da\nSigned-off-by: Lucas Cavalcante <lucasmedeiros.cavalcante@windriver.com>\n'}, {'number': 7, 'created': '2021-03-04 11:40:12.000000000', 'files': ['cinder/values_overrides/nfs-cinder-backup.yaml', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/379f95bc44981dbd1b3095069d9cfeca2cb30cc0', 'message': 'Add nfs cinder backup override\n\nStory: 2008613\nTask: 41818\nChange-Id: I291d973946387a9c7742a2ff84be7b16de3e18da\nSigned-off-by: Lucas Cavalcante <lucasmedeiros.cavalcante@windriver.com>\n'}]",0,775256,379f95bc44981dbd1b3095069d9cfeca2cb30cc0,67,11,7,27498,,,0,"Add nfs cinder backup override

Story: 2008613
Task: 41818
Change-Id: I291d973946387a9c7742a2ff84be7b16de3e18da
Signed-off-by: Lucas Cavalcante <lucasmedeiros.cavalcante@windriver.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/56/775256/7 && git format-patch -1 --stdout FETCH_HEAD,['cinder/values_overrides/nfs-cinder-backup.yaml'],1,aee300dbdb770fcabcc579fcdcfe00c4691c83a9,change-775256-5,conf: cinder: DEFAULT: backup_driver: cinder.backup.drivers.nfs.NFSBackupDriver backup_mount_point_base: /backup/openstack/cinder backup_share: 10.30.1.3:/ pod: mounts: cinder_backup: cinder_backup: volumeMounts: - mountPath: /backup name: nfs-backup volumes: - emptyDir: {} name: nfs-backup security_context: cinder_backup: container: cinder_backup: readOnlyRootFilesystem: false runAsGroup: 42424 runAsUser: 42424 ... ,,24,0
openstack%2Fovn-octavia-provider~master~I854094d4e31b834a51e7acfa34d6c9eccef9ab53,openstack/ovn-octavia-provider,master,I854094d4e31b834a51e7acfa34d6c9eccef9ab53,Delay string interpolations at logging calls,MERGED,2021-01-29 19:25:55.000000000,2021-03-05 22:39:21.000000000,2021-03-05 22:36:43.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 19:25:55.000000000', 'files': ['ovn_octavia_provider/helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/22250628375ab0644dd25e2bcce8f7de061e9e9e', 'message': 'Delay string interpolations at logging calls\n\nFix two places where we were constructing strings\neven if we might not log them.\n\nChange-Id: I854094d4e31b834a51e7acfa34d6c9eccef9ab53\n'}]",0,773175,22250628375ab0644dd25e2bcce8f7de061e9e9e,12,3,1,1131,,,0,"Delay string interpolations at logging calls

Fix two places where we were constructing strings
even if we might not log them.

Change-Id: I854094d4e31b834a51e7acfa34d6c9eccef9ab53
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/75/773175/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,22250628375ab0644dd25e2bcce8f7de061e9e9e,delay-interp," LOG.error(""Error while updating the load balancer status: %s"", e.fault_string) LOG.warning('The loadbalancer %(lb)s is not associated with ' 'the router %(router)s', {'lb': ovn_lb.name, 'router': ovn_lr.name})"," msg = (""Error while updating the load balancer "" ""status: %s"") % e.fault_string LOG.error(msg) msg = ('The loadbalancer %(lb)s is not associated with ' 'the router %(router)s' % {'lb': ovn_lb.name, 'router': ovn_lr.name}) LOG.warning(msg)",5,8
openstack%2Fovn-octavia-provider~master~Ida43d9123ab3e26b9cf4b0cbe157be187d7d1241,openstack/ovn-octavia-provider,master,Ida43d9123ab3e26b9cf4b0cbe157be187d7d1241,Use get_ovn_ovsdb_retry_max_interval(),MERGED,2020-12-01 19:57:40.000000000,2021-03-05 22:37:21.000000000,2021-03-05 22:36:09.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-01 19:57:40.000000000', 'files': ['ovn_octavia_provider/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/037d3d071a7d583746cd9e484724ce665e56440e', 'message': 'Use get_ovn_ovsdb_retry_max_interval()\n\nUse the config option instead of a hard-coded 180 in\nOvnNbIdlForLb class.\n\nChange-Id: Ida43d9123ab3e26b9cf4b0cbe157be187d7d1241\n'}]",0,764998,037d3d071a7d583746cd9e484724ce665e56440e,8,4,1,1131,,,0,"Use get_ovn_ovsdb_retry_max_interval()

Use the config option instead of a hard-coded 180 in
OvnNbIdlForLb class.

Change-Id: Ida43d9123ab3e26b9cf4b0cbe157be187d7d1241
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/98/764998/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/ovsdb/impl_idl_ovn.py'],1,037d3d071a7d583746cd9e484724ce665e56440e,use-max-config,"config.register_opts() wait=tenacity.wait_exponential( max=config.get_ovn_ovsdb_retry_max_interval()),"," wait=tenacity.wait_exponential(max=180),",3,1
openstack%2Fopenstack-chef~stable%2Fstein~Idfc0afd9ddbd9085f5b39267a50eb949930a0c70,openstack/openstack-chef,stable/stein,Idfc0afd9ddbd9085f5b39267a50eb949930a0c70,Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15,MERGED,2021-03-05 00:55:04.000000000,2021-03-05 22:32:51.000000000,2021-03-05 22:30:36.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 00:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/d83a89213648b3f21c8b0872521d28f7bf5148a2', 'message': 'Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15\n\nThis works around a problem that was introducted in berkshelf-7.2.0 for Ruby 3.0\nsupport that now breaks berks with the following error:\n\n  ArgumentError wrong number of arguments (given 3, expected 1..2)\n\nThis should be removed after we remove support for Chef/Cinc 15.\n\nSigned-off-by: Lance Albertson <lance@osuosl.org>\nChange-Id: Idfc0afd9ddbd9085f5b39267a50eb949930a0c70\n'}, {'number': 2, 'created': '2021-03-05 19:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/f93767dbb2cd3a72bff124dd42459f796f772d16', 'message': 'Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15\n\nThis works around a problem that was introducted in berkshelf-7.2.0 for Ruby 3.0\nsupport that now breaks berks with the following error:\n\n  ArgumentError wrong number of arguments (given 3, expected 1..2)\n\nThis should be removed after we remove support for Chef/Cinc 15.\n\nIn addition, fix version constraint on openstackdocstheme to fix doc builds.\n\nSigned-off-by: Lance Albertson <lance@osuosl.org>\nChange-Id: Idfc0afd9ddbd9085f5b39267a50eb949930a0c70\n'}, {'number': 3, 'created': '2021-03-05 19:34:28.000000000', 'files': ['playbooks/roles/install-chef/tasks/main.yaml', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/df12478f99a8e8669b2444819ed8db7545636960', 'message': 'Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15\n\nThis works around a problem that was introducted in berkshelf-7.2.0 for Ruby 3.0\nsupport that now breaks berks with the following error:\n\n  ArgumentError wrong number of arguments (given 3, expected 1..2)\n\nThis should be removed after we remove support for Chef/Cinc 15.\n\nIn addition, fix version constraint on openstackdocstheme to fix doc builds.\n\nSigned-off-by: Lance Albertson <lance@osuosl.org>\nChange-Id: Idfc0afd9ddbd9085f5b39267a50eb949930a0c70\n'}]",0,778801,df12478f99a8e8669b2444819ed8db7545636960,12,2,3,21961,,,0,"Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15

This works around a problem that was introducted in berkshelf-7.2.0 for Ruby 3.0
support that now breaks berks with the following error:

  ArgumentError wrong number of arguments (given 3, expected 1..2)

This should be removed after we remove support for Chef/Cinc 15.

In addition, fix version constraint on openstackdocstheme to fix doc builds.

Signed-off-by: Lance Albertson <lance@osuosl.org>
Change-Id: Idfc0afd9ddbd9085f5b39267a50eb949930a0c70
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/01/778801/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/install-chef/tasks/main.yaml'],1,d83a89213648b3f21c8b0872521d28f7bf5148a2,change-778801-1, # TODO(ramereth): > 7.1.0 doesn't work with ruby 2.6 which is used on Chef/Cinc 15 # Remove this once we remove testing for Chef/Cinc 15 shell: /opt/chef/embedded/bin/gem install -N berkshelf -v 7.1.0, shell: /opt/chef/embedded/bin/gem install -N berkshelf,3,1
openstack%2Ftripleo-ansible~master~I64846594123b9d5f333082b3f7714186713caffb,openstack/tripleo-ansible,master,I64846594123b9d5f333082b3f7714186713caffb,Ensure $HOME dir exists and has the right owner/group,MERGED,2021-03-04 09:34:08.000000000,2021-03-05 22:23:26.000000000,2021-03-05 22:23:26.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 09:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a121a3166ae54bad4c5cdfed6cf55552ab93876', 'message': 'Ensure $HOME dir exists and has the right owner/group\n\nThis changes adds an additional task to make sure the\noutput of the useradd module is consistent when the\nHOME dir for a given user is created.\nIn particular this tasks ensure the HOME dir has the\nright owner/group associated to the user that has been\ncreated.\n\nChange-Id: I64846594123b9d5f333082b3f7714186713caffb\n'}, {'number': 2, 'created': '2021-03-04 15:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fcd470a766b005c5358cad2847381d6dd07cfb62', 'message': 'Ensure $HOME dir exists and has the right owner/group\n\nThis changes adds an additional task to make sure the\noutput of the useradd module is consistent when the\nHOME dir for a given user is created.\nIn particular this tasks ensure the HOME dir has the\nright owner/group associated to the user that has been\ncreated.\n\nChange-Id: I64846594123b9d5f333082b3f7714186713caffb\n'}, {'number': 3, 'created': '2021-03-05 08:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c02f9fbde3f828191391ccd7117de62b743f291a', 'message': 'Ensure $HOME dir exists and has the right owner/group\n\nThis changes adds an additional task to make sure the\noutput of the useradd module is consistent when the\nHOME dir for a given user is created.\nIn particular this tasks ensure the HOME dir has the\nright owner/group associated to the user that has been\ncreated.\n\nCloses-Bug: #1917856\nChange-Id: I64846594123b9d5f333082b3f7714186713caffb\n'}, {'number': 4, 'created': '2021-03-05 08:05:31.000000000', 'files': ['tripleo_ansible/roles/tripleo_create_admin/tasks/create_user.yml', 'tripleo_ansible/playbooks/cli-enable-ssh-admin.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e67d35c3d0d19f2b78b15e04812fa8af2709cae', 'message': 'Ensure $HOME dir exists and has the right owner/group\n\nThis changes adds an additional task to make sure the\noutput of the useradd module is consistent when the\nHOME dir for a given user is created.\nIn particular this tasks ensure the HOME dir has the\nright owner/group associated to the user that has been\ncreated.\n\nCloses-Bug: #1917856\nChange-Id: I64846594123b9d5f333082b3f7714186713caffb\n'}]",17,778624,7e67d35c3d0d19f2b78b15e04812fa8af2709cae,53,9,4,25402,,,0,"Ensure $HOME dir exists and has the right owner/group

This changes adds an additional task to make sure the
output of the useradd module is consistent when the
HOME dir for a given user is created.
In particular this tasks ensure the HOME dir has the
right owner/group associated to the user that has been
created.

Closes-Bug: #1917856
Change-Id: I64846594123b9d5f333082b3f7714186713caffb
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/778624/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_create_admin/tasks/create_user.yml'],1,4a121a3166ae54bad4c5cdfed6cf55552ab93876,user_home,- name: ensure home dir has the right owner/group for user {{ tripleo_admin_user }} file: path: /home/{{ tripleo_admin_user }} state: directory owner: '{{ tripleo_admin_user }}' group: '{{ tripleo_admin_user }}' mode: 0700 ,,8,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I9751aa9b6739e8083103791579c1d5a71b938b0b,openstack/tripleo-ansible,stable/train,I9751aa9b6739e8083103791579c1d5a71b938b0b,Fix triple molecule modules job,MERGED,2021-03-03 03:37:14.000000000,2021-03-05 22:23:22.000000000,2021-03-05 22:23:22.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-03-03 03:37:14.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2715f5def0c5b396e0545d5a4ee1cd77a072e750', 'message': 'Fix triple molecule modules job\n\nRemove --detach when not starting container.\nChange-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b\n(cherry picked from commit 4eee228dc572a4365dc950ef4e30667f0d807338)\n'}]",0,778244,2715f5def0c5b396e0545d5a4ee1cd77a072e750,8,5,1,10969,,,0,"Fix triple molecule modules job

Remove --detach when not starting container.
Change-Id: I9751aa9b6739e8083103791579c1d5a71b938b0b
(cherry picked from commit 4eee228dc572a4365dc950ef4e30667f0d807338)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/778244/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py']",2,2715f5def0c5b396e0545d5a4ee1cd77a072e750,fix11-stable/train," 'absent', 'present', 'stopped', 'started', 'created']), if action == 'create': b_command.remove(b'--detach=True') if self.running: self.stop() self.delete() self.create() def recreate_run(self): """"""Recreate and run the container."""""" if self.running: self.stop() if self.container.exists and self.restart: if self.container.running: self.container.restart() self.results['actions'].append('restarted %s' % self.container.name) else: self.container.start() self.results['actions'].append('started %s' % self.container.name) self.update_container_result() return self.container.recreate_run() self.container.recreate_run() def make_created(self): """"""Run actions if desired state is 'created'."""""" if not self.container.exists and not self.image: self.module.fail_json(msg='Cannot create container when image' ' is not specified!') if not self.container.exists: self.container.create() self.results['actions'].append('created %s' % self.container.name) self.update_container_result() return else: if (self.container.different or self.recreate): self.container.recreate() self.results['actions'].append('recreated %s' % self.container.name) self.update_container_result() return self.update_container_result(changed=False) return 'stopped': self.make_stopped, 'created': self.make_created,"," 'absent', 'present', 'stopped', 'started']), self.container.recreate() self.container.recreate() 'stopped': self.make_stopped",55,6
openstack%2Fcharm-mysql-router~master~Icd30f9ade2c7aadbadaa57300c22786cde63957f,openstack/charm-mysql-router,master,Icd30f9ade2c7aadbadaa57300c22786cde63957f,Implement validated restart on change,MERGED,2021-02-20 00:15:40.000000000,2021-03-05 22:12:26.000000000,2021-03-05 22:12:26.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 00:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/89f85db6496dc7f2a99569e10aa6d33c668d6237', 'message': 'Enable metadata cache parameters\n\nAdd new metadata cache parameters.\nUpdate the config file update and restart on changed infrastructure to\nhandle these parameters.\n\nSee ""Metadata Cache Options""\nhttps://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html\n\nChange-Id: Icd30f9ade2c7aadbadaa57300c22786cde63957f\nPartial-Bug: #1915842\n'}, {'number': 2, 'created': '2021-03-02 22:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/058f5911afd229434938f384075b3558ba82bb0e', 'message': 'Enable metadata cache parameters\n\nAdd new metadata cache parameters.\nUpdate the config file update and restart on changed infrastructure to\nhandle these parameters.\n\nSee ""Metadata Cache Options""\nhttps://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html\n\nChange-Id: Icd30f9ade2c7aadbadaa57300c22786cde63957f\nPartial-Bug: #1915842\n'}, {'number': 3, 'created': '2021-03-04 20:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/1ea43e01c261b8d7ba24e5bb28b51b897df41319', 'message': 'Implement validated restart on change\n\nAdd new metadata cache parameters.\nUse the charm-helpers\' pausable_restart_on_change for config-changed\nValidate connectivity on restart to resolve LP Bug #1915842\n\nSee ""Metadata Cache Options""\nhttps://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html\n\nCloses-Bug: #1915842\nChange-Id: Icd30f9ade2c7aadbadaa57300c22786cde63957f\n'}, {'number': 4, 'created': '2021-03-05 03:06:56.000000000', 'files': ['src/config.yaml', 'src/lib/charm/openstack/mysql_router.py', 'src/wheelhouse.txt', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/reactive/mysql_router_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/80339e4625b0bd956ffe65ad6d64d5b8fe9f2509', 'message': 'Implement validated restart on change\n\nAdd new metadata cache parameters.\nUse the charm-helpers\' pausable_restart_on_change for config-changed\nValidate connectivity on restart to resolve LP Bug #1915842\n\nSee ""Metadata Cache Options""\nhttps://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html\n\nCloses-Bug: #1915842\nChange-Id: Icd30f9ade2c7aadbadaa57300c22786cde63957f\n'}]",1,776764,80339e4625b0bd956ffe65ad6d64d5b8fe9f2509,27,4,4,20805,,,0,"Implement validated restart on change

Add new metadata cache parameters.
Use the charm-helpers' pausable_restart_on_change for config-changed
Validate connectivity on restart to resolve LP Bug #1915842

See ""Metadata Cache Options""
https://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html

Closes-Bug: #1915842
Change-Id: Icd30f9ade2c7aadbadaa57300c22786cde63957f
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/64/776764/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/mysql_router.py']",2,89f85db6496dc7f2a99569e10aa6d33c668d6237,bug/1915842,"import contextlib @property def ssl_ca(self): """"""Return the SSL Certificate Authority :param self: Self :type self: MySQLInnoDBClusterCharm instance :returns: Cluster username :rtype: str """""" if self.db_router_endpoint: return json.loads(self.db_router_endpoint.ssl_ca) def update_config_parameter( self, heading, param, value, restart_on_change=True): Restart on change based on the mysqlrouter.conf. :param restart_on_change: Restart if the config file has changed. We may be called mutiple times and need to supress the individual restarts. :type restart_on_change: Bool if restart_on_change: # Restart if this one update changes the conf file _restart_on_change_context = self.restart_on_change else: # Do not restart even if this update changes the conf file # We may be called multiple times and should be in an existing # self.restart_on_changed context _restart_on_change_context = contextlib.suppress with _restart_on_change_context(): def config_changed(self): """"""Config changed. Custom config changed as we are not using templates we need to update config one parameter at a time. We only update after the mysql-router service has bootstrapped. Only restart once. :side effect: Calls update_config_parameter and restarts mysql-router if the config file has changed. :returns: This function is called for its side effect :rtype: None """""" if not os.path.exists(self.mysqlrouter_conf): ch_core.hookenv.log( ""mysqlrouter.conf does not yet exist. "" ""Skipping config changed."", ""DEBUG"") return ch_core.hookenv.log(""Updating metadata_cache parameters"", ""DEBUG"") with self.restart_on_change(): self.update_config_parameter( ""metadata_cache:jujuCluster"", ""ttl"", str(self.options.ttl), restart_on_change=False) self.update_config_parameter( ""metadata_cache:jujuCluster"", ""auth_cache_ttl"", str(self.options.auth_cache_ttl), restart_on_change=False) self.update_config_parameter( ""metadata_cache:jujuCluster"", ""auth_cache_refresh_interval"", str(self.options.auth_cache_refresh_interval), restart_on_change=False) if self.ssl_ca: ch_core.hookenv.log( ""Updating TLS mode to PASSTHROUGH"", ""DEBUG"") self.update_config_parameter( ""DEFAULT"", ""client_ssl_mode"", ""PASSTHROUGH"", restart_on_change=False) else: ch_core.hookenv.log( ""Updating TLS mode to PREFERRED"", ""DEBUG"") self.update_config_parameter( ""DEFAULT"", ""client_ssl_mode"", ""PREFERRED"", restart_on_change=False)"," def update_config_parameter(self, heading, param, value): Restart on changed based on the mysqlrouter.conf. with self.restart_on_change():",96,3
openstack%2Fkeystone-tempest-plugin~master~Ic9a81a55073e03886bddb9a0888ac450b95b61cd,openstack/keystone-tempest-plugin,master,Ic9a81a55073e03886bddb9a0888ac450b95b61cd,Consume enforce_scope config from Tempest,NEW,2021-03-05 16:01:05.000000000,2021-03-05 22:10:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-05 16:01:05.000000000', 'files': ['keystone_tempest_plugin/config.py', 'keystone_tempest_plugin/tests/rbac/v3/base.py'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/b9b5bb9816ef5da02332f7f078532a876a14cea1', 'message': 'Consume enforce_scope config from Tempest\n\nTempest has added a centralized config option to tell if\nservices has enforce_scope enabled in test env so that their\ntest can be run with scoped token.\n- https://review.opendev.org/c/openstack/tempest/+/773816\n\nCONF.enforce_scope.<service-name>\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/778979\nChange-Id: Ic9a81a55073e03886bddb9a0888ac450b95b61cd\n'}]",0,778980,b9b5bb9816ef5da02332f7f078532a876a14cea1,2,1,1,8556,,,0,"Consume enforce_scope config from Tempest

Tempest has added a centralized config option to tell if
services has enforce_scope enabled in test env so that their
test can be run with scoped token.
- https://review.opendev.org/c/openstack/tempest/+/773816

CONF.enforce_scope.<service-name>

Depends-On: https://review.opendev.org/c/openstack/keystone/+/778979
Change-Id: Ic9a81a55073e03886bddb9a0888ac450b95b61cd
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/80/778980/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone_tempest_plugin/config.py', 'keystone_tempest_plugin/tests/rbac/v3/base.py']",2,b9b5bb9816ef5da02332f7f078532a876a14cea1,secure-rbac, if not CONF.enforce_scope.keystone:, if not CONF.identity_feature_enabled.enforce_scope:,1,5
openstack%2Fkayobe~stable%2Fvictoria~Id5ed0b594d6270c4a03606caa776bbb291be2694,openstack/kayobe,stable/victoria,Id5ed0b594d6270c4a03606caa776bbb291be2694,Update IPA docs and test build with extra-hardware,MERGED,2021-02-22 15:38:08.000000000,2021-03-05 21:52:58.000000000,2021-03-05 21:50:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-02-22 15:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b9b0ddd1218c1540ab3535acecae5345c438565b', 'message': 'Update IPA docs and test build with extra-hardware\n\nChange-Id: Id5ed0b594d6270c4a03606caa776bbb291be2694\n(cherry picked from commit d765fbc5ebb7c1a8f80d4c49f3846107e4f23189)\n'}, {'number': 2, 'created': '2021-02-23 08:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0f904e63f7b80b707fa5fe31ee6757b10ef3d092', 'message': 'Update IPA docs and test build with extra-hardware\n\nChange-Id: Id5ed0b594d6270c4a03606caa776bbb291be2694\n(cherry picked from commit d765fbc5ebb7c1a8f80d4c49f3846107e4f23189)\n'}, {'number': 3, 'created': '2021-03-03 14:09:02.000000000', 'files': ['doc/source/configuration/reference/ironic-python-agent.rst', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6df44cd4bfeff56c216b7c9441224b294093d56a', 'message': 'Update IPA docs and test build with extra-hardware\n\nChange-Id: Id5ed0b594d6270c4a03606caa776bbb291be2694\n(cherry picked from commit d765fbc5ebb7c1a8f80d4c49f3846107e4f23189)\n'}]",0,776947,6df44cd4bfeff56c216b7c9441224b294093d56a,17,3,3,15197,,,0,"Update IPA docs and test build with extra-hardware

Change-Id: Id5ed0b594d6270c4a03606caa776bbb291be2694
(cherry picked from commit d765fbc5ebb7c1a8f80d4c49f3846107e4f23189)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/47/776947/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/reference/ironic-python-agent.rst', 'playbooks/kayobe-seed-base/overrides.yml.j2']",2,b9b0ddd1218c1540ab3535acecae5345c438565b,ipa-extra-hardware-stable/victoria,"# Build seed deployment images (IPA) with extra-hardware elementipa_build_dib_elements_extra: - ""extra-hardware""",# Build seed deployment images (IPA),10,30
openstack%2Fglance~master~Iacbfb57cc8b85ef8163ab0900e2d4ad5723e715c,openstack/glance,master,Iacbfb57cc8b85ef8163ab0900e2d4ad5723e715c,WIP: Pass a target to task policy enforce,ABANDONED,2021-03-05 00:08:42.000000000,2021-03-05 21:45:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-05 00:08:42.000000000', 'files': ['glance/api/policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/468cd5f17ba43ade73cc6de46ce07c664cd78040', 'message': ""WIP: Pass a target to task policy enforce\n\nThis is a guess, but the new rules want a target with a project_id,\nI think. Maybe we're always failing with new defaults because of that?\n\nThis is an untested attempt to poke that. Probably will fail lots of\nunit tests.\n\nChange-Id: Iacbfb57cc8b85ef8163ab0900e2d4ad5723e715c\n""}]",1,778799,468cd5f17ba43ade73cc6de46ce07c664cd78040,6,1,1,4393,,,0,"WIP: Pass a target to task policy enforce

This is a guess, but the new rules want a target with a project_id,
I think. Maybe we're always failing with new defaults because of that?

This is an untested attempt to poke that. Probably will fail lots of
unit tests.

Change-Id: Iacbfb57cc8b85ef8163ab0900e2d4ad5723e715c
",git fetch https://review.opendev.org/openstack/glance refs/changes/99/778799/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/policy.py'],1,468cd5f17ba43ade73cc6de46ce07c664cd78040,secure-rbac," self.target = {'project_id': self.context.project_id} self.policy.enforce(self.context, 'get_task', self.target) self.policy.enforce(self.context, 'add_task', self.target) self.policy.enforce(self.context, 'modify_task', self.target)"," self.policy.enforce(self.context, 'get_task', {}) self.policy.enforce(self.context, 'add_task', {}) self.policy.enforce(self.context, 'modify_task', {})",4,3
openstack%2Foctavia~stable%2Fvictoria~I6dd8e99b07ff557674871cb503dece96a9df3ada,openstack/octavia,stable/victoria,I6dd8e99b07ff557674871cb503dece96a9df3ada,Disable auto configuration of new interfaces in NetworkManager,MERGED,2021-02-22 08:18:22.000000000,2021-03-05 21:40:03.000000000,2021-03-05 21:38:06.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 08:18:22.000000000', 'files': ['elements/amphora-agent/static/etc/NetworkManager/conf.d/no-auto-default.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b9f622b335dd4f95f1a6004bb94159f891ca0980', 'message': 'Disable auto configuration of new interfaces in NetworkManager\n\nNetworkManager in Centos images configures new network devices as soon\nas they appear in the default namespace, it means that we might have\nconflicts between the management interface\'s routes and address and the\nnew VIP or member interfaces\' routes and addresses during a small period\nof time before they are moved to the amphora-haproxy namespace.\n\nNow, the ""no-auto-default=*"" option is enabled in NetworkManager, it\ndisables the configuration of new interfaces, while the management\ninterface is still enabled/configured through cloud-init.\n\nStory 2008599\nTask 41773\n\nChange-Id: I6dd8e99b07ff557674871cb503dece96a9df3ada\n(cherry picked from commit a518cefda1332042d50e5ce2814f0af933c62457)\n'}]",0,776903,b9f622b335dd4f95f1a6004bb94159f891ca0980,12,4,1,6469,,,0,"Disable auto configuration of new interfaces in NetworkManager

NetworkManager in Centos images configures new network devices as soon
as they appear in the default namespace, it means that we might have
conflicts between the management interface's routes and address and the
new VIP or member interfaces' routes and addresses during a small period
of time before they are moved to the amphora-haproxy namespace.

Now, the ""no-auto-default=*"" option is enabled in NetworkManager, it
disables the configuration of new interfaces, while the management
interface is still enabled/configured through cloud-init.

Story 2008599
Task 41773

Change-Id: I6dd8e99b07ff557674871cb503dece96a9df3ada
(cherry picked from commit a518cefda1332042d50e5ce2814f0af933c62457)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/03/776903/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/static/etc/NetworkManager/conf.d/no-auto-default.conf'],1,b9f622b335dd4f95f1a6004bb94159f891ca0980,,[main] # Disable auto configuration for newly detected devices. # This prevents having temporary addresses and routes in the default namespace # between the detection of a new devices and its move to the amphora-haproxy # namespace. # The management interface configuration is triggered by cloud-init. no-auto-default=* ,,7,0
openstack%2Ftripleo-ansible~master~I607c29c45148b57dee34741397cf7a16ced8ef78,openstack/tripleo-ansible,master,I607c29c45148b57dee34741397cf7a16ced8ef78,Enable fact bits for ceph execution,MERGED,2021-03-03 19:05:28.000000000,2021-03-05 21:36:46.000000000,2021-03-05 21:36:46.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-03-03 19:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d2ba65ddd7b86ec6645fb91fe027e1c75539072d', 'message': 'Enable fact bits for ceph execution\n\nceph-ansible still requires that all the facts be collected by default\nand inject fact vars is enabled. We want to turn that off for tripleo,\nbut in the mean time we need to force it back on when in run ansible for\nceph.\n\nChange-Id: I607c29c45148b57dee34741397cf7a16ced8ef78\nRelated-Bug: #1915761\n'}, {'number': 2, 'created': '2021-03-03 20:02:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff8d309e9560826c918081a337a10524e13f4013', 'message': 'Enable fact bits for ceph execution\n\nceph-ansible still requires that all the facts be collected by default\nand inject fact vars is enabled. We want to turn that off for tripleo,\nbut in the mean time we need to force it back on when in run ansible for\nceph.\n\nChange-Id: I607c29c45148b57dee34741397cf7a16ced8ef78\nRelated-Bug: #1915761\nRelated-Bug: #1917621\n'}]",2,778553,ff8d309e9560826c918081a337a10524e13f4013,14,6,2,14985,,,0,"Enable fact bits for ceph execution

ceph-ansible still requires that all the facts be collected by default
and inject fact vars is enabled. We want to turn that off for tripleo,
but in the mean time we need to force it back on when in run ansible for
ceph.

Change-Id: I607c29c45148b57dee34741397cf7a16ced8ef78
Related-Bug: #1915761
Related-Bug: #1917621
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/778553/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'],1,d2ba65ddd7b86ec6645fb91fe027e1c75539072d,bug/1915761," # NOTE(mwhahaha): we need to force this for now until ansible addresses fact stuff - ANSIBLE_INJECT_FACT_VARS=True - ANSIBLE_GATHER_SUBSET=""all"" - ANSIBLE_CACHE_PLUGIN=""memory""",,4,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,openstack/tripleo-ansible,stable/train,Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,[tripleo_transfer] Do transfers directly from src to dst,MERGED,2021-03-04 12:17:54.000000000,2021-03-05 21:36:42.000000000,2021-03-05 21:36:42.000000000,"[{'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-03-04 12:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5b095bb67bc0a00a1eb2666edfe98d29a068315', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\nDepends-On: https://review.opendev.org/778650\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)\n'}, {'number': 2, 'created': '2021-03-05 11:01:13.000000000', 'files': ['tripleo_ansible/roles/tripleo-transfer/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo-transfer/tasks/flag.yml', 'tripleo_ansible/roles/tripleo-transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo-transfer/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eb70943c2de117288b3c228fa88c000d750a4635', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\nDepends-On: https://review.opendev.org/778650\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)\n'}]",0,778665,eb70943c2de117288b3c228fa88c000d750a4635,12,6,2,6816,,,0,"[tripleo_transfer] Do transfers directly from src to dst

When running fetch with become, the slurp module will also
be used to fetch the contents of the file for determining
the remote checksum. This effectively doubles the transfer
size [0] and shows up as a MemoryError when the file size
is large enough.

In TripleO this is problematic in large & old deployments
when transferring the /var/lib/mysql folder.

This patch switches to using rsync directly between the src
and dst hosts to transfer the data. This is advantageous not
only for solving the above-mentioned bug, but is also faster.

A simpler implementation using synchronize was attempted [1],
but there were issues with the mistral container which
prevented that approach from being successful.

[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes
[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11

Closes-Bug: #1908425
Closes-Bug: rhbz#1904681
Closes-Bug: rhbz#1916162
Depends-On: https://review.opendev.org/778650

Change-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f
(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/778665/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo-transfer/tasks/flag.yml', 'tripleo_ansible/roles/tripleo-transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo-transfer/vars/main.yml']",5,d5b095bb67bc0a00a1eb2666edfe98d29a068315,bz/1916162-stable/train,"# All variables intended for internal use should be placed in this file. # make sure we have a trailing forward slash in the src, otherwise rsync creates extra dir tripleo_transfer_src_dir_safe: ""{{ tripleo_transfer_src_dir }}/"" # make sure we do not have a trailing forward slash in the dest tripleo_transfer_dest_dir_safe: ""{{ tripleo_transfer_dest_dir | regex_replace('\\/$', '') }}""","- name: ensure tripleo_transfer storage directory is removed file: path: ""{{ tripleo_transfer_storage_root_dir }}"" state: absent delegate_to: localhost become: ""{{ tripleo_transfer_storage_root_become }}""",100,98
openstack%2Foctavia~stable%2Fvictoria~If403a90ec27721ef63b6ae666fd77dfc9df0295e,openstack/octavia,stable/victoria,If403a90ec27721ef63b6ae666fd77dfc9df0295e,Fix PROXYV2 pools,MERGED,2021-02-02 09:07:28.000000000,2021-03-05 21:26:33.000000000,2021-03-05 21:24:09.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 09:07:28.000000000', 'files': ['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'releasenotes/notes/fix-proxyv2-44a7627294922a8e.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fb54ec51eeacb31f31c356eea46d2cf0b56c5c25', 'message': 'Fix PROXYV2 pools\n\nThere was a bug in the initial PROXYV2 patch that causes pools to\ngo into ERROR when using PROXYV2 protocol.\nThis patch corrects that issue.\n\nChange-Id: If403a90ec27721ef63b6ae666fd77dfc9df0295e\nStory: 2008237\nTask: 41080\n(cherry picked from commit 4024536621616c6df88686d80694b48dec612010)\n'}]",0,773615,fb54ec51eeacb31f31c356eea46d2cf0b56c5c25,24,6,1,29244,,,0,"Fix PROXYV2 pools

There was a bug in the initial PROXYV2 patch that causes pools to
go into ERROR when using PROXYV2 protocol.
This patch corrects that issue.

Change-Id: If403a90ec27721ef63b6ae666fd77dfc9df0295e
Story: 2008237
Task: 41080
(cherry picked from commit 4024536621616c6df88686d80694b48dec612010)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/15/773615/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'releasenotes/notes/fix-proxyv2-44a7627294922a8e.yaml']",2,fb54ec51eeacb31f31c356eea46d2cf0b56c5c25,,--- fixes: - | Fixed a bug where pools with PROXYV2 will go into ERROR. ,,5,0
openstack%2Foctavia~stable%2Fussuri~I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,openstack/octavia,stable/ussuri,I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,Support deletion of all tags,MERGED,2021-02-02 08:41:57.000000000,2021-03-05 21:21:13.000000000,2021-03-05 21:19:21.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28514}]","[{'number': 1, 'created': '2021-02-02 08:41:57.000000000', 'files': ['octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/95a97cf1eba85222e4ff683b88878f0f030a2f11', 'message': 'Support deletion of all tags\n\nAdd support for removal of all tags by PUTing empty tags array.\n\nAlso moved assignment after initial session query for the\nobject in the listener update path.\n\nTask: #41009\nStory: #2008220\n\nChange-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70\nSigned-off-by: Andrew Karpow <andrew.karpow@sap.com>\n(cherry picked from commit 7ad022379ff2e366d3dfd73113d4619b0137551c)\n(cherry picked from commit adb4e78e4439181f57c17f277bad0cd325f219cf)\n'}]",0,773609,95a97cf1eba85222e4ff683b88878f0f030a2f11,19,5,1,29244,,,0,"Support deletion of all tags

Add support for removal of all tags by PUTing empty tags array.

Also moved assignment after initial session query for the
object in the listener update path.

Task: #41009
Story: #2008220

Change-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70
Signed-off-by: Andrew Karpow <andrew.karpow@sap.com>
(cherry picked from commit 7ad022379ff2e366d3dfd73113d4619b0137551c)
(cherry picked from commit adb4e78e4439181f57c17f277bad0cd325f219cf)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/09/773609/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",2,95a97cf1eba85222e4ff683b88878f0f030a2f11,," def test_update_delete_tag(self): project_id = uuidutils.generate_uuid() lb = self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=project_id, admin_state_up=False, tags=['test_tag1'],) lb_dict = lb.get(self.root_tag) lb_json = self._build_body({'tags': []}) self.set_lb_status(lb_dict.get('id')) response = self.put(self.LB_PATH.format(lb_id=lb_dict.get('id')), lb_json) api_lb = response.json.get(self.root_tag) self.assertEqual([], api_lb.get('tags')) ",,20,5
openstack%2Fkayobe~stable%2Fvictoria~I782be627c6e78370555bc7d155261fc15fc93348,openstack/kayobe,stable/victoria,I782be627c6e78370555bc7d155261fc15fc93348,[DNM] Test Docker pull rate limits,ABANDONED,2021-02-26 10:20:24.000000000,2021-03-05 21:08:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 10:20:24.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-seed-base/pre.yml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/57d06e1dfd0fe615c9e3a353269744fee6ab3040', 'message': '[DNM] Test Docker pull rate limits\n\nChange-Id: I782be627c6e78370555bc7d155261fc15fc93348\n(cherry picked from commit 558e6efc058b7b4e622e0c89483f10fbf03fb0be)\n'}]",20,777737,57d06e1dfd0fe615c9e3a353269744fee6ab3040,3,1,1,15197,,,0,"[DNM] Test Docker pull rate limits

Change-Id: I782be627c6e78370555bc7d155261fc15fc93348
(cherry picked from commit 558e6efc058b7b4e622e0c89483f10fbf03fb0be)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/37/777737/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-seed-base/pre.yml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml']",5,57d06e1dfd0fe615c9e3a353269744fee6ab3040,," vars: image_url: ""https://registry-1.docker.io/v2/ratelimitpreview/test/manifests/latest"" token_url: ""https://auth.docker.io/token?service=registry.docker.io&scope=repository:ratelimitpreview/test:pull"" - package: name: jq become: True - shell: ""curl -s '{{ token_url }}' | jq -r .token"" args: warn: false register: token - debug: var: token - shell: ""curl -s --head -H 'Authorization: Bearer {{ token.stdout }}' '{{ image_url }}'"" args: warn: false register: rate_limits - debug: msg: ""{{ rate_limits.stdout }}"" - shell: 'echo ""{{ rate_limits.stdout }}"" | grep RateLimit-Remaining | sed ""s/^RateLimit-Remaining: \([0-9]*\);.*/\1/""' register: rate_limit_remaining - debug: var: rate_limit_remaining #- fail: # msg: ""Docker pull rate limit of {{ rate_limit_remaining.stdout }} on {{ ansible_hostname }} is too low"" # when: (rate_limit_remaining.stdout | int) < 50 ",,109,0
openstack%2Ftripleo-heat-templates~master~I92353622994b28c895d95bdcbe348a73b6c6bb99,openstack/tripleo-heat-templates,master,I92353622994b28c895d95bdcbe348a73b6c6bb99,Upgrade mariadb storage during upgrade tasks,MERGED,2020-12-17 12:24:47.000000000,2021-03-05 20:52:40.000000000,2021-02-26 02:11:10.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-17 12:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad3516951017d742aabd2771f69ffdfd9554196c', 'message': 'WIP upgrade mariadb storage during upgrade tasks\n\nChange-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99\n'}, {'number': 2, 'created': '2020-12-21 09:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3168df27ccb5355b1e49ca2ea8f72ba73228c81', 'message': 'WIP upgrade mariadb storage during upgrade tasks\n\nChange-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99\n'}, {'number': 3, 'created': '2021-01-27 14:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c997fc46424cb7d84d2ef93bd4b5f737927a8ce5', 'message': 'Upgrade mariadb storage during upgrade tasks\n\nWhen a tripleo major upgrade or FFU causes an update or mariadb\nto a new major version (e.g. 10.1 -> 10.3), some internal DB\ntables must be upgraded (myisam tables), and sometimes some\nthe existing user tables may be migrated to new mariadb defaults.\n\nMove the db-specific upgrade steps into a dedicated script and\nmake sure that it is called at the right time while upgrading\nthe undercloud and/or the overcloud.\n\nCloses-Bug: #1913438\n\nChange-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99\n'}, {'number': 4, 'created': '2021-02-16 08:17:42.000000000', 'files': ['deployment/database/mysql-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/database/mysql-base.yaml', 'container_config_scripts/mysql_upgrade_db.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/712cfcc71bb9061082154460a6e04a619055f0a0', 'message': 'Upgrade mariadb storage during upgrade tasks\n\nWhen a tripleo major upgrade or FFU causes an update or mariadb\nto a new major version (e.g. 10.1 -> 10.3), some internal DB\ntables must be upgraded (myisam tables), and sometimes the\nexisting user tables may be migrated to new mariadb defaults.\n\nMove the db-specific upgrade steps into a dedicated script and\nmake sure that it is called at the right time while upgrading\nthe undercloud and/or the overcloud.\n\nCloses-Bug: #1913438\n\nChange-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99\n'}]",2,767524,712cfcc71bb9061082154460a6e04a619055f0a0,29,8,4,20778,,,0,"Upgrade mariadb storage during upgrade tasks

When a tripleo major upgrade or FFU causes an update or mariadb
to a new major version (e.g. 10.1 -> 10.3), some internal DB
tables must be upgraded (myisam tables), and sometimes the
existing user tables may be migrated to new mariadb defaults.

Move the db-specific upgrade steps into a dedicated script and
make sure that it is called at the right time while upgrading
the undercloud and/or the overcloud.

Closes-Bug: #1913438

Change-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/767524/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/mysql-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml']",2,ad3516951017d742aabd2771f69ffdfd9554196c,ffu-mariadb-upgrade," - 'compact_tables=\$(mysql -se ''SELECT CONCAT(\""`\"",TABLE_SCHEMA,\""`.`\"",TABLE_NAME,\""`\"") FROM information_schema.tables WHERE ENGINE = \""InnoDB\"" and ROW_FORMAT = \""Compact\"";'');' - 'for i in \$compact_tables; do echo converting row format of table \$i; echo mysql -e \""ALTER TABLE \$i ROW_FORMAT=DYNAMIC;\""; done;'",,52,13
openstack%2Fbarbican~stable%2Fvictoria~Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0,openstack/barbican,stable/victoria,Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0,Use system locks in pkcs11 library,MERGED,2021-03-02 21:44:27.000000000,2021-03-05 20:36:10.000000000,2021-03-05 20:33:39.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 21:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/84b848a12ba6ba9c223f0a7b1dd483ef7b83847e', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)\n'}, {'number': 2, 'created': '2021-03-04 19:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e879fb9702ecdf70f4620f4d999813c281a6ebd0', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)\n'}, {'number': 3, 'created': '2021-03-04 20:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b99f58a2c72889be9bb517f59cd23e022a03a2a5', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)\n'}, {'number': 4, 'created': '2021-03-04 23:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6453c2c8483d951fd0c45090036ed5a0eecaa8a1', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)\n'}, {'number': 5, 'created': '2021-03-04 23:28:05.000000000', 'files': ['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/add-os-locking-ok-option-d0cfc5883355632a.yaml', 'barbican/plugin/crypto/pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/7a889cd200cc7a30ce1240cfd9718a60b1dbea21', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)\n'}]",0,778239,7a889cd200cc7a30ce1240cfd9718a60b1dbea21,20,3,5,7973,,,0,"Use system locks in pkcs11 library

This patch adds a new option to the PKCS#11 backend: `os_locking_ok`.
When set to true, the flag CKF_OS_LOCKING_OK is passed to the
C_Initialize function for the client library.

Change-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0
(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/39/778239/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/add-os-locking-ok-option-d0cfc5883355632a.yaml', 'barbican/plugin/crypto/pkcs11.py']",3,84b848a12ba6ba9c223f0a7b1dd483ef7b83847e,pkcs11-os-locking-stable/victoria,"CKF_OS_LOCKING_OK = 0x02 typedef void * CK_VOID_PTR; typedef CK_VOID_PTR * CK_VOID_PTR_PTR; typedef CK_RV (*CK_CREATEMUTEX)(CK_VOID_PTR_PTR); typedef CK_RV (*CK_DESTROYMUTEX)(CK_VOID_PTR); typedef CK_RV (*CK_LOCKMUTEX)(CK_VOID_PTR); typedef CK_RV (*CK_UNLOCKMUTEX)(CK_VOID_PTR); typedef struct CK_C_INITIALIZE_ARGS { CK_CREATEMUTEX CreateMutex; CK_DESTROYMUTEX DestroyMutex; CK_LOCKMUTEX LockMutex; CK_UNLOCKMUTEX UnlockMutex; CK_FLAGS flags; CK_VOID_PTR pReserved; } CK_C_INITIALIZE_ARGS; token_label=None, os_locking_ok=False): if os_locking_ok: init_arg_pt = self.ffi.new(""CK_C_INITIALIZE_ARGS *"") init_arg_pt.flags = CKF_OS_LOCKING_OK else: init_arg_pt = self.ffi.NULL rv = self.lib.C_Initialize(init_arg_pt) token = Token( ) LOG.debug(""Slot %s: label: %s sn: %s"", token.slot_id, token.label, token.serial_number) tokens.append(token)", token_label=None): rv = self.lib.C_Initialize(self.ffi.NULL) tokens.append(Token( )),46,5
openstack%2Fpython-glanceclient~master~Ia505cf6f47ca6c628e195be3ca5231d22d53040d,openstack/python-glanceclient,master,Ia505cf6f47ca6c628e195be3ca5231d22d53040d,Get tasks associated with image,MERGED,2021-02-18 08:17:42.000000000,2021-03-05 20:21:04.000000000,2021-03-05 20:15:21.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 08:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/f2ec7a8901d181a02dde14a5e7e7dca3d95d833d', 'message': 'Get tasks assoiciated with image\n\nAdd support to get tasks associated with specific image.\nbp: messages-api\n\nChange-Id: Ia505cf6f47ca6c628e195be3ca5231d22d53040d\n'}, {'number': 2, 'created': '2021-02-25 16:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/5f257fac32f1af32e1a2d92b38a5528c71220400', 'message': 'Get tasks assoiciated with image\n\nAdd support to get tasks associated with specific image.\nbp: messages-api\n\nChange-Id: Ia505cf6f47ca6c628e195be3ca5231d22d53040d\n'}, {'number': 3, 'created': '2021-03-02 08:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/95aaaa3dbd57428496acdff190ed33804a592b79', 'message': 'Get tasks associated with image\n\nAdd support to get tasks associated with specific image.\nbp: messages-api\n\nChange-Id: Ia505cf6f47ca6c628e195be3ca5231d22d53040d\n'}, {'number': 4, 'created': '2021-03-02 18:02:13.000000000', 'files': ['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/images.py', 'glanceclient/v2/shell.py', 'releasenotes/notes/image-tasks-api-ee3ea043557a1dfa.yaml', 'glanceclient/tests/unit/v2/base.py', 'glanceclient/tests/unit/v2/test_images.py', 'glanceclient/common/utils.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/e0a35a1150a7afe1e28b8d9b59a9e41951276baa', 'message': 'Get tasks associated with image\n\nAdd support to get tasks associated with specific image.\nbp: messages-api\n\nChange-Id: Ia505cf6f47ca6c628e195be3ca5231d22d53040d\n'}]",18,776403,e0a35a1150a7afe1e28b8d9b59a9e41951276baa,28,5,4,9303,,,0,"Get tasks associated with image

Add support to get tasks associated with specific image.
bp: messages-api

Change-Id: Ia505cf6f47ca6c628e195be3ca5231d22d53040d
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/03/776403/4 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/images.py', 'glanceclient/v2/shell.py', 'releasenotes/notes/image-tasks-api-ee3ea043557a1dfa.yaml', 'glanceclient/common/utils.py']",5,f2ec7a8901d181a02dde14a5e7e7dca3d95d833d,image-tasks-api,"def print_dict_list(objects, fields): pt = prettytable.PrettyTable([f for f in fields], caching=False) pt.align = 'l' for o in objects: row = [] for field in fields: field_name = field.lower().replace(' ', '_') # NOTE (abhishekk) mapping field to actual name in the # structure. if field_name == 'task_id': field_name = 'id' data = o.get(field_name, '') row.append(data) pt.add_row(row) print(encodeutils.safe_decode(pt.get_string())) ",,84,0
openstack%2Fopenstack-helm-infra~master~I41ca3ee2490eadce8d043cf6a757bf8569f31931,openstack/openstack-helm-infra,master,I41ca3ee2490eadce8d043cf6a757bf8569f31931,Update rbac api version for elastic-metricbeat,MERGED,2021-02-24 07:41:30.000000000,2021-03-05 19:33:28.000000000,2021-03-05 19:29:21.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33089}]","[{'number': 1, 'created': '2021-02-24 07:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b5141f83e5914bc4d952a0cf75b01005c497164', 'message': 'Update rbac api version for elastic-metricbeat\n\nWhen using a helm3 to deploy , it fail! Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: I41ca3ee2490eadce8d043cf6a757bf8569f31931\n'}, {'number': 2, 'created': '2021-02-25 08:47:10.000000000', 'files': ['elastic-metricbeat/templates/deployment-modules.yaml', 'elastic-metricbeat/Chart.yaml', 'releasenotes/notes/elastic-metricbeat.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2ff4c5c40ba136358bf67f4f6671d8b6a16132dd', 'message': 'Update rbac api version for elastic-metricbeat\n\nWhen using a helm3 to deploy , it fail! Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.This change optimized deployment.\n\nChange-Id: I41ca3ee2490eadce8d043cf6a757bf8569f31931\n'}]",2,777305,2ff4c5c40ba136358bf67f4f6671d8b6a16132dd,19,5,2,30449,,,0,"Update rbac api version for elastic-metricbeat

When using a helm3 to deploy , it fail! Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.This change optimized deployment.

Change-Id: I41ca3ee2490eadce8d043cf6a757bf8569f31931
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/05/777305/2 && git format-patch -1 --stdout FETCH_HEAD,"['elastic-metricbeat/templates/deployment-modules.yaml', 'elastic-metricbeat/Chart.yaml', 'releasenotes/notes/elastic-metricbeat.yaml']",3,7b5141f83e5914bc4d952a0cf75b01005c497164,update-elastic-rbac, - 0.1.2 Update RBAC apiVersion from /v1beta1 to /v1,,3,2
openstack%2Fopenstack-helm-infra~master~I2760befdc20e73989bce5cc581d086de57f91383,openstack/openstack-helm-infra,master,I2760befdc20e73989bce5cc581d086de57f91383,Update rbac api version for kubernetes-node-problem-detector,MERGED,2021-02-24 07:54:45.000000000,2021-03-05 19:31:29.000000000,2021-03-05 19:29:01.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33089}]","[{'number': 1, 'created': '2021-02-24 07:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ce4ef965dd8e1d855228cfcdc519b470002d9031', 'message': 'Update rbac api version for kubernetes-node-problem-detector\n\nWhen using a helm3 to deploy , it fail! Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: I2760befdc20e73989bce5cc581d086de57f91383\n'}, {'number': 2, 'created': '2021-02-25 08:49:30.000000000', 'files': ['releasenotes/notes/kubernetes-node-problem-detector.yaml', 'kubernetes-node-problem-detector/templates/daemonset.yaml', 'kubernetes-node-problem-detector/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f33e27cf51193e89e8e717a5d04cfdda4dedf58d', 'message': 'Update rbac api version for kubernetes-node-problem-detector\n\nWhen using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.\n\nChange-Id: I2760befdc20e73989bce5cc581d086de57f91383\n'}]",2,777306,f33e27cf51193e89e8e717a5d04cfdda4dedf58d,17,5,2,30449,,,0,"Update rbac api version for kubernetes-node-problem-detector

When using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.

Change-Id: I2760befdc20e73989bce5cc581d086de57f91383
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/06/777306/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/kubernetes-node-problem-detector.yaml', 'kubernetes-node-problem-detector/templates/daemonset.yaml', 'kubernetes-node-problem-detector/Chart.yaml']",3,ce4ef965dd8e1d855228cfcdc519b470002d9031,update-k8s-detector-rbac,version: 0.1.3,version: 0.1.2,3,2
openstack%2Fopenstack-helm-infra~master~Ib82120611659bd36bae35f2e90054642fb8ee31f,openstack/openstack-helm-infra,master,Ib82120611659bd36bae35f2e90054642fb8ee31f,Rename mariadb backup identities,MERGED,2021-03-03 18:38:33.000000000,2021-03-05 19:29:07.000000000,2021-03-05 19:29:07.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-03 18:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/89db3881717c02326def9eff3e6bc4bc00fb6151', 'message': 'Rename mariadb backup identities\n\nChallenge:\nNow remote_ks_admin and remote_rgw_user are using for user labels\nof backup target openstack cloud.\nWhen the backup user doesn\'t exist and we can enable job_ks_user\nmanifest.\nBut job_ks_user uses .Vaules.secrets.identity.admin and mariadb,\nwhile secret-rgw and cron-job-backup-mariadb use .Values.secrets.\nidentity.remote_ks_admin and remote_rgw_user.\nIt requires to use same values for admin and remote_ks_admin,\nand for mariadb and remote_rgw_user.\nSeems it isbreaking values consistency.\n\nSuggestion:\nNow providing 2 kinds of backup - pvc and swift.\n""remote_"" means the swift backup.\nIn fact, mariadb chart has no case to access to keystone except\nswift backup. So we can remove remote_xx_* prefix and there is\nno confusion.\n\nChange-Id: Ib82120611659bd36bae35f2e90054642fb8ee31f\n'}, {'number': 2, 'created': '2021-03-03 18:47:16.000000000', 'files': ['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/templates/secret-rgw.yaml', 'mariadb/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5db88a5fb487521e1cf20506150d7ec77c520c7c', 'message': 'Rename mariadb backup identities\n\nChallenge:\nNow remote_ks_admin and remote_rgw_user are using for user labels\nof backup target openstack cloud.\nWhen the backup user doesn\'t exist and we can enable job_ks_user\nmanifest.\nBut job_ks_user uses .Vaules.secrets.identity.admin and mariadb,\nwhile secret-rgw and cron-job-backup-mariadb use .Values.secrets.\nidentity.remote_ks_admin and remote_rgw_user.\nIt requires to use same values for admin and remote_ks_admin,\nand for mariadb and remote_rgw_user.\nSeems it isbreaking values consistency.\n\nSuggestion:\nNow providing 2 kinds of backup - pvc and swift.\n""remote_"" means the swift backup.\nIn fact, mariadb chart has no case to access to keystone except\nswift backup. So we can remove remote_xx_* prefix and there is\nno confusion.\n\nChange-Id: Ib82120611659bd36bae35f2e90054642fb8ee31f\n'}]",1,778541,5db88a5fb487521e1cf20506150d7ec77c520c7c,9,4,2,31746,,,0,"Rename mariadb backup identities

Challenge:
Now remote_ks_admin and remote_rgw_user are using for user labels
of backup target openstack cloud.
When the backup user doesn't exist and we can enable job_ks_user
manifest.
But job_ks_user uses .Vaules.secrets.identity.admin and mariadb,
while secret-rgw and cron-job-backup-mariadb use .Values.secrets.
identity.remote_ks_admin and remote_rgw_user.
It requires to use same values for admin and remote_ks_admin,
and for mariadb and remote_rgw_user.
Seems it isbreaking values consistency.

Suggestion:
Now providing 2 kinds of backup - pvc and swift.
""remote_"" means the swift backup.
In fact, mariadb chart has no case to access to keystone except
swift backup. So we can remove remote_xx_* prefix and there is
no confusion.

Change-Id: Ib82120611659bd36bae35f2e90054642fb8ee31f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/41/778541/2 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/cron-job-backup-mariadb.yaml', 'mariadb/templates/secret-rgw.yaml', 'mariadb/values.yaml']",3,89db3881717c02326def9eff3e6bc4bc00fb6151,, admin: keystone-admin-user mariadb: mariadb-backup-user admin: mariadb:, remote_ks_admin: keystone-admin-user remote_rgw_user: mariadb-backup-user remote_ks_admin: remote_rgw_user:,10,10
openstack%2Fpuppet-cinder~master~I5d4934549de9350b8816d688ce8526dbc5d0f603,openstack/puppet-cinder,master,I5d4934549de9350b8816d688ce8526dbc5d0f603,Add ports filtering support to XtremIO Cinder driver,MERGED,2021-02-17 19:54:50.000000000,2021-03-05 19:22:16.000000000,2021-03-05 19:20:25.000000000,"[{'_account_id': 7160}, {'_account_id': 9816}, {'_account_id': 11904}, {'_account_id': 12670}, {'_account_id': 13671}, {'_account_id': 14624}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 19:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/54654cbaae34fb29778270e787b76329929385db', 'message': 'Add ports filtering support to XtremIO Cinder driver\n\nIf there are some iSCSI or FC targets (ESXi for example) that\nare not connected to the OpenStack host,\nattach volume operation waits until timeout.\nThe XtremIO Cinder driver needs a new option to support ports\nfiltering.\n\nDepends-On: https://review.opendev.org/#/c/775798\nCloses-Bug: #1915800\nChange-Id: I5d4934549de9350b8816d688ce8526dbc5d0f603\n'}, {'number': 2, 'created': '2021-02-17 20:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/2e889e3dd326ede6383a2e25a1c607b9de7aa141', 'message': 'Add ports filtering support to XtremIO Cinder driver\n\nIf there are some iSCSI or FC targets (ESXi for example) that\nare not connected to the OpenStack host,\nattach volume operation waits until timeout.\nThe XtremIO Cinder driver needs a new option to support ports\nfiltering.\n\nDepends-On: https://review.opendev.org/#/c/775798\nCloses-Bug: #1915800\nChange-Id: I5d4934549de9350b8816d688ce8526dbc5d0f603\n'}, {'number': 3, 'created': '2021-02-18 12:46:50.000000000', 'files': ['manifests/backend/dellemc_xtremio_iscsi.pp', 'spec/defines/cinder_backend_dellemc_xtremio_spec.rb', 'manifests/backend/dellemc_xtremio.pp', 'releasenotes/notes/xtremio-add-ports-option-6d6e98fb90b906fe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/cc8665d4738064e7e25466526d01c14903c6b505', 'message': 'Add ports filtering support to XtremIO Cinder driver\n\nIf there are some iSCSI or FC targets (ESXi for example) that\nare not connected to the OpenStack host,\nattach volume operation waits until timeout.\nThe XtremIO Cinder driver needs a new option to support ports\nfiltering.\n\nDepends-On: https://review.opendev.org/#/c/775798\nRelated-Bug: #1915800\nChange-Id: I5d4934549de9350b8816d688ce8526dbc5d0f603\n'}]",6,776260,cc8665d4738064e7e25466526d01c14903c6b505,23,10,3,31016,,,0,"Add ports filtering support to XtremIO Cinder driver

If there are some iSCSI or FC targets (ESXi for example) that
are not connected to the OpenStack host,
attach volume operation waits until timeout.
The XtremIO Cinder driver needs a new option to support ports
filtering.

Depends-On: https://review.opendev.org/#/c/775798
Related-Bug: #1915800
Change-Id: I5d4934549de9350b8816d688ce8526dbc5d0f603
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/60/776260/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_xtremio_iscsi.pp', 'spec/defines/cinder_backend_dellemc_xtremio_spec.rb', 'manifests/backend/dellemc_xtremio.pp', 'releasenotes/notes/xtremio-add-ports-option-6d6e98fb90b906fe.yaml']",4,54654cbaae34fb29778270e787b76329929385db,bug/1915800,--- fixes: - | `Bug #1915800 <https://bugs.launchpad.net/cinder/+bug/1915800>`_: Add support for ports filtering in XtremIO driver.,,21,0
openstack%2Fopenstack-chef~stable%2Fstein~Ied3bb008208231bd4c9b6c2e86c716eac66267aa,openstack/openstack-chef,stable/stein,Ied3bb008208231bd4c9b6c2e86c716eac66267aa,Switch to newer openstackdocstheme version,ABANDONED,2021-03-05 01:14:16.000000000,2021-03-05 19:19:47.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 01:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/73976f786613a0c95f4fb59c40dbb19f4b18cba5', 'message': ""Switch to newer openstackdocstheme version\n\nSwitch to openstackdocstheme 2.2.1 version. Using\nthis version will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: Ied3bb008208231bd4c9b6c2e86c716eac66267aa\n""}, {'number': 2, 'created': '2021-03-05 02:07:59.000000000', 'files': ['.zuul.yaml', 'doc/source/conf.py', 'doc/requirements.txt', 'deploy-guide/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/78ca1f633cfef00d14449cc46e920dc1b64fa565', 'message': ""Switch to newer openstackdocstheme version\n\nSwitch to openstackdocstheme 2.2.1 version. Using\nthis version will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nFixes for Stein branch:\n\n- Use stien upper constraints file\n- Temporarily disable Chef/Cinc 15 gates until this is merged\n\nChange-Id: Ied3bb008208231bd4c9b6c2e86c716eac66267aa\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,778802,78ca1f633cfef00d14449cc46e920dc1b64fa565,5,2,2,21961,,,0,"Switch to newer openstackdocstheme version

Switch to openstackdocstheme 2.2.1 version. Using
this version will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Fixes for Stein branch:

- Use stien upper constraints file
- Temporarily disable Chef/Cinc 15 gates until this is merged

Change-Id: Ied3bb008208231bd4c9b6c2e86c716eac66267aa
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/02/778802/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'deploy-guide/source/conf.py']",3,73976f786613a0c95f4fb59c40dbb19f4b18cba5,stable/stein-openstackdocstheme,openstackdocs_repo_name = 'openstack/openstack-chef' openstackdocs_auto_name = False openstackdocs_bug_project = 'openstack-chef' openstackdocs_bug_tag = u'deploy-guide'pygments_style = 'native',"repository_name = 'openstack/openstack-chef' bug_project = 'openstack-chef' bug_tag = u'deploy-guide'# The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. version = '0.1' # The full version, including alpha/beta/rc tags. release = '0.1' pygments_style = 'sphinx'",14,21
openstack%2Fmanila-specs~master~Idc26194321b0385edc617386e97c369b022f54ef,openstack/manila-specs,master,Idc26194321b0385edc617386e97c369b022f54ef,Add xena directory for specs,MERGED,2021-03-04 07:24:49.000000000,2021-03-05 19:17:59.000000000,2021-03-05 19:13:34.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 07:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/1187bc1d266366708675d6c1585fd77b5f425470', 'message': 'Add xena directory for specs\n\nChange-Id: Idc26194321b0385edc617386e97c369b022f54ef\n'}, {'number': 2, 'created': '2021-03-04 08:09:34.000000000', 'files': ['doc/source/index.rst', 'specs/xena/remove-me.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/570c53257e2dee1d0b5d2024ca4fb968f54e52ce', 'message': 'Add xena directory for specs\n\nChange-Id: Idc26194321b0385edc617386e97c369b022f54ef\n'}]",0,778616,570c53257e2dee1d0b5d2024ca4fb968f54e52ce,9,2,2,30407,,,0,"Add xena directory for specs

Change-Id: Idc26194321b0385edc617386e97c369b022f54ef
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/16/778616/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/xena/remove-me.rst']",2,1187bc1d266366708675d6c1585fd77b5f425470,,.. This file is a place holder. It should be removed by any patch proposing a spec for the Xena release ================================ No specs have yet been approved. ================================,,16,0
openstack%2Ftripleo-ci~master~I694404ea5bff3a21ca8437c6213bd0b0eadb572f,openstack/tripleo-ci,master,I694404ea5bff3a21ca8437c6213bd0b0eadb572f,Adding a check to see if os is stream os.,MERGED,2021-02-12 18:38:22.000000000,2021-03-05 19:08:09.000000000,2021-03-05 19:08:09.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-02-12 18:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a8447fa6d7f692456c473ddcda29970200f38e45', 'message': 'Adding a check to see if os is stream os.\n\nIn centos 8 stream nodes some repos are not being updated to stream repos (they are still centos 8 repos) as --stream arg is not being set in tripleo-repos command. So this patch:\n\n1. Sets ""is_stream_node""=false\n2. If os is stream it overwrites ""is_stream_node"" to true\n3. If ""is_stream_node""= true it adds arg --stream to tripleo-repos command\n\nChange-Id: I694404ea5bff3a21ca8437c6213bd0b0eadb572f\n'}, {'number': 2, 'created': '2021-02-16 18:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6b0a1911bafef64537ea5b389ca0204e93b5bdc0', 'message': 'Adding a check to see if os is stream os.\n\nIn centos 8 stream nodes some repos are not being updated to stream repos (they are still centos 8 repos) as --stream arg is not being set in tripleo-repos command. Also later in repo urls $stream is not rendered and container image build fails. So this patch:\n\n1. Sets ""is_stream_node""=false\n2. If os is stream it overwrites ""is_stream_node"" to true\n3. If ""is_stream_node""= true it adds arg --stream to tripleo-repos command\n4. Adds --volume flag to openstack tripleo container image build\n\nChange-Id: I694404ea5bff3a21ca8437c6213bd0b0eadb572f\n'}, {'number': 3, 'created': '2021-02-22 18:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4232e9536ba09784b23da65426243c132cc73db0', 'message': 'Adding a check to see if os is stream os.\n\nIn centos 8 stream nodes some repos are not being updated to stream repos (they are still centos 8 repos) as --stream arg is not being set in tripleo-repos command. Also later in repo urls $stream is not rendered and container image build fails. So this patch:\n\n1. Sets ""is_stream_node""=false\n2. If os is stream it overwrites ""is_stream_node"" to true\n3. If ""is_stream_node"" == ""True"" it adds arg --stream to tripleo-repos command\n4. Adds --volume flag to openstack tripleo container image build\n\nChange-Id: I694404ea5bff3a21ca8437c6213bd0b0eadb572f\n'}, {'number': 4, 'created': '2021-03-04 20:24:08.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml', 'roles/build-containers/templates/tripleo-build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e0f75e1ed7101b65df774ac432cfc9c9ad6a87f8', 'message': 'Adding a check to see if os is stream os.\n\nIn centos 8 stream nodes some repos are not being updated to stream repos (they are still centos 8 repos) as --stream arg is not being set in tripleo-repos command. Also later in repo urls $stream is not rendered and container image build fails. So this patch:\n\n1. Sets ""is_stream_node""=false\n2. If os is stream it overwrites ""is_stream_node"" to true\n3. If ""is_stream_node"" == ""True"" it adds arg --stream to tripleo-repos command\n4. Adds --volume flag to openstack tripleo container image build\n\nI am adding a task to read /etc/os-release and get the name ""Stream"" as I could not find an ansible_distribution variable that shows it is a stream node https://termbin.com/fuke\n\nChange-Id: I694404ea5bff3a21ca8437c6213bd0b0eadb572f\n'}]",2,775429,e0f75e1ed7101b65df774ac432cfc9c9ad6a87f8,28,5,4,32458,,,0,"Adding a check to see if os is stream os.

In centos 8 stream nodes some repos are not being updated to stream repos (they are still centos 8 repos) as --stream arg is not being set in tripleo-repos command. Also later in repo urls $stream is not rendered and container image build fails. So this patch:

1. Sets ""is_stream_node""=false
2. If os is stream it overwrites ""is_stream_node"" to true
3. If ""is_stream_node"" == ""True"" it adds arg --stream to tripleo-repos command
4. Adds --volume flag to openstack tripleo container image build

I am adding a task to read /etc/os-release and get the name ""Stream"" as I could not find an ansible_distribution variable that shows it is a stream node https://termbin.com/fuke

Change-Id: I694404ea5bff3a21ca8437c6213bd0b0eadb572f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/29/775429/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-repos/tasks/main.yml'],1,a8447fa6d7f692456c473ddcda29970200f38e45,centos-8-stream-content-master,"- name: Get /etc/os-release name shell: 'source /etc/os-release && echo -e -n ""$NAME""' register: os_name_output - name: Set stream false set_fact: is_stream_node: false - name: Set stream true if stream node set_fact: is_stream_node: true when: ""os_name_output.stdout_lines[0]| regex_search('(S|s)tream$')"" if [ ""{{ is_stream_node }}"" ]; then tripleo-repos \ -b ""{{ ci_branch | default('master') }}"" \ $MIRROR \ --rdo-mirror $RDO_MIRROR_HOST $REPO ceph opstools \ --stream else tripleo-repos \ -b ""{{ ci_branch | default('master') }}"" \ $MIRROR \ --rdo-mirror $RDO_MIRROR_HOST $REPO ceph opstools fi"," tripleo-repos \ -b ""{{ ci_branch | default('master') }}"" \ $MIRROR \ --rdo-mirror $RDO_MIRROR_HOST $REPO ceph opstools",25,4
openstack%2Ftripleo-ci~master~I88e4673358a67bd282cc6df4596be6e19ad331e2,openstack/tripleo-ci,master,I88e4673358a67bd282cc6df4596be6e19ad331e2,Define centos-8 stream nodesets for upstream jobs,MERGED,2021-01-20 20:46:31.000000000,2021-03-05 19:08:02.000000000,2021-03-05 19:08:02.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 20:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e829694c377493d661ec6c07ca7d6b8fd5078208', 'message': 'DNM: Testing centos-8-stream node\n\nWith dependency repos\n\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 2, 'created': '2021-01-21 14:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ce31ba78473d760944c7f1b39c2efcdb89876f34', 'message': 'DNM: Testing centos-8-stream node\n\nWith dependency repos\n\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 3, 'created': '2021-01-21 19:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2c8a065e958efed3b3008a2ef1991e70450467cc', 'message': 'DNM: Testing centos-8-stream node\n\nWith dependency repos\n\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 4, 'created': '2021-01-25 17:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dd05b25b6b96e0783b0444ffc0d3a7926bf2f32c', 'message': 'DNM: Testing centos-8-stream node\n\nWith dependency repos\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/772378\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 5, 'created': '2021-01-26 17:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/61a1ae01806fad9be1c02fcc810f67c9f552b1c3', 'message': 'DNM: Testing centos-8-stream node\n\nWith dependency repos\n - standalone\n - multinode\n\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 6, 'created': '2021-02-22 22:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/516bbfcc677c0ebc0eccbe2dc1a46ec889a21832', 'message': 'DNM: Testing centos-8-stream node\n\nWith dependency repos\n - standalone\n - multinode\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/774911\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 7, 'created': '2021-02-22 22:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/658877ae2ecc9258629e4b78cb1d2ddfb86f5716', 'message': 'DNM: Testing centos-8-stream node\n\nWith dependency repos\n - standalone\n - multinode\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/774911\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 8, 'created': '2021-02-23 12:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/30849c42a1b91e9dbc9d950845b4ace48737ab03', 'message': 'DNM: Testing centos-8-stream node\n\nWith dependency repos\n - standalone\n - provider\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/774911\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 9, 'created': '2021-02-23 18:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9a9e2242397af18868fdcbe27f52865aeaa99bdc', 'message': 'DNM: Testing centos-8-stream node\n\nWith dependency repos\n - standalone\n - provider\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/774911\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 10, 'created': '2021-02-25 19:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1467dd08292b064e80d670126a8fccbe48d8beca', 'message': 'DNM: Testing centos-8-stream node\n\nWith dependency repos\n - standalone\n - provider\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/777655\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 11, 'created': '2021-03-02 12:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/56cc2bce6ebfbd46c27c7d8652c364cc2b3d7048', 'message': 'Use centos-8-stream node for master provider job\n\nDefine centos-8 nodeset for the stable release\nprovider jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/777655\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 12, 'created': '2021-03-02 12:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/433d3be9637eff44cd4bcf2051d5cd52efe4d7a9', 'message': 'Use centos-8-stream node for master provider job\n\nDefine centos-8 nodeset for the stable release\nprovider jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/777655\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 13, 'created': '2021-03-03 21:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/648ba8674a523d341062c3435f556f34de0dbead', 'message': 'Use centos-8-stream node for master provider job\n\nDefine centos-8 nodeset for the stable release\nprovider jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/777655\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 14, 'created': '2021-03-03 21:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/01a44104bdd27dad3e81258b075d12390de58661', 'message': 'Define centos-8 stream nodesets for upstream jobs\n\nThis review adds single, two and three node nodesets\nusing centos-8 stream labels.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/777655\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}, {'number': 15, 'created': '2021-03-04 21:35:23.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f470ff77580e50705a6cec4508ad477a67c9bcf1', 'message': 'Define centos-8 stream nodesets for upstream jobs\n\nThis review adds single, two and three node nodesets\nusing centos-8 stream labels.\n\nChange-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2\n'}]",4,771717,f470ff77580e50705a6cec4508ad477a67c9bcf1,57,7,15,9976,,,0,"Define centos-8 stream nodesets for upstream jobs

This review adds single, two and three node nodesets
using centos-8 stream labels.

Change-Id: I88e4673358a67bd282cc6df4596be6e19ad331e2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/17/771717/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/layout.yaml']",2,e829694c377493d661ec6c07ca7d6b8fd5078208,centos-8-stream-content-master, - tripleo-ci-centos-8-stream-standalone, templates: - tripleo-ci-build-containers-jobs - tripleo-ci-buildimage-jobs - tripleo-multinode-branchful - tripleo-multinode-container-full-pipeline - tripleo-standalone-scenarios-pipeline - tripleo-undercloud-jobs-pipeline - tripleo-periodic,10,8
openstack%2Foctavia~master~I998bea5e7bcdc28962f2f393e204791a0b519910,openstack/octavia,master,I998bea5e7bcdc28962f2f393e204791a0b519910,Add HTTP/2 to default lists of ALPN protocols,MERGED,2021-02-22 17:07:55.000000000,2021-03-05 19:02:24.000000000,2021-03-05 18:51:26.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 17:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1cb883d7519a0e5cc8b57b7c207729ab8c77d697', 'message': 'Add HTTP/2 to default lists of ALPN protocols\n\nThe two tested Linux distributions for Wallaby release (Ubuntu 20.04 and\nCentOS 8) [1] provide a recent enough HAProxy version (>=2.0) that allow\nus to add HTTP/2 to the default ALPN protocols list for listeners and\npools.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I998bea5e7bcdc28962f2f393e204791a0b519910\n'}, {'number': 2, 'created': '2021-02-24 12:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a92a792edf6a7128f0f812858b60413a8ca8961f', 'message': 'Add HTTP/2 to default lists of ALPN protocols\n\nThe two tested Linux distributions for Wallaby release (Ubuntu 20.04 and\nCentOS 8) [1] provide a recent enough HAProxy version (>=2.0) that allow\nus to add HTTP/2 to the default ALPN protocols list for listeners and\npools.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I998bea5e7bcdc28962f2f393e204791a0b519910\n'}, {'number': 3, 'created': '2021-03-05 12:32:02.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'etc/octavia.conf', 'releasenotes/notes/add-h2-alpn-protocol-to-default-e2d499d21a5d90d1.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dd3edb635bd69b06f7f7007c1009014488d52ddf', 'message': 'Add HTTP/2 to default lists of ALPN protocols\n\nThe two tested Linux distributions for Wallaby release (Ubuntu 20.04 and\nCentOS 8) [1] provide a recent enough HAProxy version (>=2.0) that allow\nus to add HTTP/2 to the default ALPN protocols list for listeners and\npools.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I998bea5e7bcdc28962f2f393e204791a0b519910\n'}]",2,776968,dd3edb635bd69b06f7f7007c1009014488d52ddf,17,4,3,6469,,,0,"Add HTTP/2 to default lists of ALPN protocols

The two tested Linux distributions for Wallaby release (Ubuntu 20.04 and
CentOS 8) [1] provide a recent enough HAProxy version (>=2.0) that allow
us to add HTTP/2 to the default ALPN protocols list for listeners and
pools.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I998bea5e7bcdc28962f2f393e204791a0b519910
",git fetch https://review.opendev.org/openstack/octavia refs/changes/68/776968/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'etc/octavia.conf', 'releasenotes/notes/add-h2-alpn-protocol-to-default-e2d499d21a5d90d1.yaml']",3,1cb883d7519a0e5cc8b57b7c207729ab8c77d697,http2,--- features: - | The HTTP/2 protocol is now added to the default ALPN protocol list for listener and pools. ,,11,4
openstack%2Ftripleo-ansible~stable%2Ftrain~I4d5049ef863c5685b1d817a865a8a44c4429480c,openstack/tripleo-ansible,stable/train,I4d5049ef863c5685b1d817a865a8a44c4429480c,[tripleo_transfer] Convert testing to use delegated driver,MERGED,2021-03-03 20:00:25.000000000,2021-03-05 18:58:22.000000000,2021-03-05 18:58:22.000000000,"[{'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 20:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46bf80130d81fdfcd23514d3ea8efc81b1a89869', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)\n""}, {'number': 2, 'created': '2021-03-03 20:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/11222640aa39993a1c60de61a28622adf885d3a2', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)\n""}, {'number': 3, 'created': '2021-03-05 10:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6fed0f94a43264215e0fdbe87a26e38e1379470d', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)\n""}, {'number': 4, 'created': '2021-03-05 10:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/345fa8eaec3e8a79af8aec804f6c6680039d4803', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)\n""}, {'number': 5, 'created': '2021-03-05 10:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ea9ddcd35c86c1cd91e0f41ec40f9a6b92224733', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)\n""}, {'number': 6, 'created': '2021-03-05 10:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ae77d13c9f70ad52ee09e511374822c8fa81370b', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)\n""}, {'number': 7, 'created': '2021-03-05 10:48:37.000000000', 'files': ['tripleo_ansible/roles/tripleo-transfer/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0585cc48ff578c4c26813d4042c0f69fd66c8452', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)\n""}]",0,778566,0585cc48ff578c4c26813d4042c0f69fd66c8452,18,4,7,6816,,,0,"[tripleo_transfer] Convert testing to use delegated driver

The current driver is podman which creates problems when we
try to use the synchronize module for the file copy between
hosts. To make room for this option, we switch to using the
delegated driver and two inventory hosts (which are localhost)
instead which is more efficient, more portable and opens more
options.

We also add 'any_errors_fatal: true' to the play
arguments to ensure that any error stops the whole test.

The converge playbook is targeted at localhost, rather than
all instances, because that is the way that the role being
tested is used in TripleO.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162

Change-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c
(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/778566/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-transfer/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/molecule.yml']",4,46bf80130d81fdfcd23514d3ea8efc81b1a89869,bz/1916162-stable/train, name: delegated options: managed: false login_cmd_template: >- ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o Compression=no -o TCPKeepAlive=yes -o VerifyHostKeyDNS=no -o ForwardX11=no -o ForwardAgent=no {instance} ansible_connection_options: ansible_connection: ssh - name: controller1 - name: controller2 config_options: defaults: fact_caching: jsonfile fact_caching_connection: /tmp/molecule/facts inventory: hosts: all: hosts: controller1: ansible_host: 127.0.0.2 controller2: ansible_host: 127.0.0.3," name: podman - name: overcloud-controller-0 hostname: overcloud-controller-0 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*setuptools command: /sbin/init tmpfs: - /run - /tmp volumes: - /sys/fs/cgroup:/sys/fs/cgroup:ro - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw privileged: true environment: http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" - name: overcloud-controller-1 hostname: overcloud-controller-1 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*setuptools command: /sbin/init tmpfs: - /run - /tmp volumes: - /sys/fs/cgroup:/sys/fs/cgroup:ro - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw privileged: true environment: http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" inventory: vars: ansible_python_interpreter: /usr/bin/python3 - destroy - create - prepare - verify - destroy lint: enabled: false lint: name: flake8",66,92
openstack%2Ftripleo-validations~master~I327227e194d89cd34ea8b35d3625f69d789f23cb,openstack/tripleo-validations,master,I327227e194d89cd34ea8b35d3625f69d789f23cb,Add python-devel to script,ABANDONED,2021-03-04 23:34:43.000000000,2021-03-05 18:54:31.000000000,,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-03-04 23:34:43.000000000', 'files': ['scripts/run-local-test'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4dbb8f58e361f4b01d68ef30eb231629971a1702', 'message': ""Add python-devel to script\n\nIn CentOS NetInstall python-devel is not included so pip cannot build\nsome modules and fails like\n\nbuilding 'netifaces' extension\n    netifaces.c:1:10: fatal error: Python.h: No such file or directory\n        1 | #include <Python.h>\n\nThis patch adds python*-devel to script to ensure that python headers\nare added.\n\nChange-Id: I327227e194d89cd34ea8b35d3625f69d789f23cb\n""}]",1,778795,4dbb8f58e361f4b01d68ef30eb231629971a1702,4,5,1,11090,,,0,"Add python-devel to script

In CentOS NetInstall python-devel is not included so pip cannot build
some modules and fails like

building 'netifaces' extension
    netifaces.c:1:10: fatal error: Python.h: No such file or directory
        1 | #include <Python.h>

This patch adds python*-devel to script to ensure that python headers
are added.

Change-Id: I327227e194d89cd34ea8b35d3625f69d789f23cb
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/95/778795/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/run-local-test'],1,4dbb8f58e361f4b01d68ef30eb231629971a1702,," sudo ""${RHT_PKG_MGR}"" install -y python*-virtualenv python*-devel"," sudo ""${RHT_PKG_MGR}"" install -y python*-virtualenv",1,1
openstack%2Fironic~master~Id9a9a53156f7fd866d93569347a81e27c6f0673c,openstack/ironic,master,Id9a9a53156f7fd866d93569347a81e27c6f0673c,Lazy-load node details from the DB,MERGED,2021-02-22 13:10:16.000000000,2021-03-05 17:59:53.000000000,2021-03-05 17:50:30.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 13:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f98569fa38f7afac338ca885a28acfe3e5aa2848', 'message': 'For power sync, get only the nodes from the DB\n\nThe power sync periodic retrieves the ports, the portgroups,\nthe volume_connectors and the volume_targets from the DB for\neach node. As these are not needed, skip them when initialising\nthe task manager. This reduces the amount of DB commands by\ntwo thirds roughly.\n\nChange-Id: Id9a9a53156f7fd866d93569347a81e27c6f0673c\n'}, {'number': 2, 'created': '2021-02-27 12:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e56cee4e7ba97d25d93ef2e32a79baf2707b538c', 'message': ""Lazy-load node details from the DB\n\nIn order to reduce the load on the database backend, only lazy-load\na node's ports, portgroups, volume_connectors, and volume_targets.\nWith the power-sync as the main user, this change should reduce the\nnumber of DB operations by two thirds roughly.\n\nChange-Id: Id9a9a53156f7fd866d93569347a81e27c6f0673c\n""}, {'number': 3, 'created': '2021-02-27 14:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c7851bf22dcb7039a67b3200a74c9a55c846ccf9', 'message': ""Lazy-load node details from the DB\n\nIn order to reduce the load on the database backend, only lazy-load\na node's ports, portgroups, volume_connectors, and volume_targets.\nWith the power-sync as the main user, this change should reduce the\nnumber of DB operations by two thirds roughly.\n\nChange-Id: Id9a9a53156f7fd866d93569347a81e27c6f0673c\n""}, {'number': 4, 'created': '2021-02-27 17:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/017f751465da52dae975d1966f908cc0222e639e', 'message': ""Lazy-load node details from the DB\n\nIn order to reduce the load on the database backend, only lazy-load\na node's ports, portgroups, volume_connectors, and volume_targets.\nWith the power-sync as the main user, this change should reduce the\nnumber of DB operations by two thirds roughly.\n\nChange-Id: Id9a9a53156f7fd866d93569347a81e27c6f0673c\n""}, {'number': 5, 'created': '2021-03-02 08:11:18.000000000', 'files': ['ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/modules/irmc/test_inspect.py', 'ironic/tests/unit/conductor/test_task_manager.py', 'releasenotes/notes/taskmanager-lazy-load-32a14526c647c2f0.yaml', 'ironic/conductor/task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/82cab603bbb21d81769cdc4f50d4fa445d026e5c', 'message': ""Lazy-load node details from the DB\n\nIn order to reduce the load on the database backend, only lazy-load\na node's ports, portgroups, volume_connectors, and volume_targets.\nWith the power-sync as the main user, this change should reduce the\nnumber of DB operations by two thirds roughly.\n\nChange-Id: Id9a9a53156f7fd866d93569347a81e27c6f0673c\n""}]",24,776930,82cab603bbb21d81769cdc4f50d4fa445d026e5c,42,5,5,11292,,,0,"Lazy-load node details from the DB

In order to reduce the load on the database backend, only lazy-load
a node's ports, portgroups, volume_connectors, and volume_targets.
With the power-sync as the main user, this change should reduce the
number of DB operations by two thirds roughly.

Change-Id: Id9a9a53156f7fd866d93569347a81e27c6f0673c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/776930/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/task_manager.py']",3,f98569fa38f7afac338ca885a28acfe3e5aa2848,story_2008626," load_driver=True, nodes_only=False): if not nodes_only: self.ports = objects.Port.list_by_node_id(context, self.node.id) self.portgroups = \ objects.Portgroup.list_by_node_id(context, self.node.id) self.volume_connectors = \ objects.VolumeConnector.list_by_node_id(context, self.node.id) self.volume_targets = objects.VolumeTarget.list_by_node_id( context, self.node.id) "," load_driver=True): self.ports = objects.Port.list_by_node_id(context, self.node.id) self.portgroups = objects.Portgroup.list_by_node_id(context, self.node.id) self.volume_connectors = objects.VolumeConnector.list_by_node_id( context, self.node.id) self.volume_targets = objects.VolumeTarget.list_by_node_id( context, self.node.id)",24,18
openstack%2Fcinder~stable%2Fussuri~I84629cde6d27d6889a30d7c13d99f57c660adde7,openstack/cinder,stable/ussuri,I84629cde6d27d6889a30d7c13d99f57c660adde7,[SVF]:Fix clone fcmap not being deleted in cleanup,MERGED,2020-12-17 06:41:07.000000000,2021-03-05 17:59:35.000000000,2021-03-05 17:54:37.000000000,"[{'_account_id': 5314}, {'_account_id': 6062}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 23802}, {'_account_id': 27615}, {'_account_id': 32036}]","[{'number': 1, 'created': '2020-12-17 06:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3a322669dfb8e2fa9bca8b982ee4042016b31df', 'message': '[SVF]:Fix clone fcmap not being deleted in cleanup\n\n[Spectrum Virtualize Family] check_vdisk_fc_mappings is not deleting\nclone fc maps, if the flashcopy status is in copying autodelete is set\nto on and copy progress is 100%. when multiple clones and snapshots\nare created using common source volume, deleting the source volume\nis not removing all the fcmaps involved in mapping with source volume.\n\nThis patch fixes the issue by removing the clone fcmap and then\nremoving the snapshot fcmap when the source has more than one fcmap.\n\nCloses-Bug: #1890254\n\nChange-Id: I84629cde6d27d6889a30d7c13d99f57c660adde7\n(cherry picked from commit 3570a79a16127fd42216aa40b4f492e40533f0ed)\n'}, {'number': 2, 'created': '2021-03-03 05:35:50.000000000', 'files': ['releasenotes/notes/bug-1890254-clone-fcmap-is-not-deleting-in-cleanup-f5bbb467be1b889d.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c469c1294d5a09f926905414f505d6e84ebaf506', 'message': '[SVF]:Fix clone fcmap not being deleted in cleanup\n\n[Spectrum Virtualize Family] check_vdisk_fc_mappings is not deleting\nclone fc maps, if the flashcopy status is in copying autodelete is set\nto on and copy progress is 100%. when multiple clones and snapshots\nare created using common source volume, deleting the source volume\nis not removing all the fcmaps involved in mapping with source volume.\n\nThis patch fixes the issue by removing the clone fcmap and then\nremoving the snapshot fcmap when the source has more than one fcmap.\n\nCloses-Bug: #1890254\n\nChange-Id: I84629cde6d27d6889a30d7c13d99f57c660adde7\n(cherry picked from commit 3570a79a16127fd42216aa40b4f492e40533f0ed)\n(cherry picked from commit 6e592a8dd49a85f8658ffeeb8c95a9d39f1d8507)\n'}]",2,767334,c469c1294d5a09f926905414f505d6e84ebaf506,40,7,2,32171,,,0,"[SVF]:Fix clone fcmap not being deleted in cleanup

[Spectrum Virtualize Family] check_vdisk_fc_mappings is not deleting
clone fc maps, if the flashcopy status is in copying autodelete is set
to on and copy progress is 100%. when multiple clones and snapshots
are created using common source volume, deleting the source volume
is not removing all the fcmaps involved in mapping with source volume.

This patch fixes the issue by removing the clone fcmap and then
removing the snapshot fcmap when the source has more than one fcmap.

Closes-Bug: #1890254

Change-Id: I84629cde6d27d6889a30d7c13d99f57c660adde7
(cherry picked from commit 3570a79a16127fd42216aa40b4f492e40533f0ed)
(cherry picked from commit 6e592a8dd49a85f8658ffeeb8c95a9d39f1d8507)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/767334/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1890254-clone-fcmap-is-not-deleting-in-cleanup-f5bbb467be1b889d.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",3,a3a322669dfb8e2fa9bca8b982ee4042016b31df,bug/1890254-stable/ussuri," @cinder_utils.trace def _check_delete_vdisk_fc_mappings(self, name, allow_snaps=True, allow_fctgt=False): progress = attrs['progress'] LOG.debug('Loopcall: source: %s, target: %s, copy_rate: %s, ' 'status: %s, progress: %s, mapid: %s', source, target, copy_rate, status, progress, map_id) if allow_fctgt and target == name and status == 'copying': try: self.ssh.stopfcmap(map_id) except exception.VolumeBackendAPIException as ex: LOG.warning(ex) wait_for_copy = True try: attrs = self._get_flashcopy_mapping_attributes(map_id) except exception.VolumeBackendAPIException as ex: LOG.warning(ex) wait_for_copy = True continue try: if status in ['copying', 'prepared']: self.ssh.stopfcmap(map_id) # Need to wait for the fcmap to change to # stopped state before remove fcmap wait_for_copy = True elif status in ['stopping', 'preparing']: wait_for_copy = True else: self.ssh.rmfcmap(map_id) except exception.VolumeBackendAPIException as ex: LOG.warning(ex) try: if status == 'prepared': self.ssh.stopfcmap(map_id) self.ssh.rmfcmap(map_id) elif status in ['idle_or_copied', 'stopped']: # Prepare failed or stopped self.ssh.rmfcmap(map_id) elif (status in ['copying', 'prepared'] and progress == '100'): self.ssh.stopfcmap(map_id) else: wait_for_copy = True except exception.VolumeBackendAPIException as ex: LOG.warning(ex) @cinder_utils.trace def _check_vdisk_fc_mappings(self, name, allow_snaps=True, allow_fctgt=False): """"""FlashCopy mapping check helper."""""" # if this is a remove disk we need to be down to one fc clone mapping_ids = self._get_vdisk_fc_mappings(name) if len(mapping_ids) > 1 and allow_fctgt: LOG.debug('Loopcall: vdisk %s has ' 'more than one fc map. Waiting.', name) for map_id in mapping_ids: attrs = self._get_flashcopy_mapping_attributes(map_id) if not attrs: continue source = attrs['source_vdisk_name'] target = attrs['target_vdisk_name'] copy_rate = attrs['copy_rate'] status = attrs['status'] progress = attrs['progress'] LOG.debug('Loopcall: source: %s, target: %s, copy_rate: %s, ' 'status: %s, progress: %s, mapid: %s', source, target, copy_rate, status, progress, map_id) if copy_rate != '0' and source == name: try: if status in ['copying'] and progress == '100': self.ssh.stopfcmap(map_id) elif status == 'idle_or_copied' and progress == '100': # wait for auto-delete of fcmap. continue elif status in ['idle_or_copied', 'stopped']: # Prepare failed or stopped self.ssh.rmfcmap(map_id) # handle VolumeBackendAPIException to let it go through # next attempts in case of any cli exception. except exception.VolumeBackendAPIException as ex: LOG.warning(ex) return return self._check_delete_vdisk_fc_mappings( name, allow_snaps=allow_snaps, allow_fctgt=allow_fctgt) self.ssh.stopfcmap(map_id)"," def _check_vdisk_fc_mappings(self, name, allow_snaps=True, allow_fctgt=False): LOG.debug('Loopcall: _check_vdisk_fc_mappings(), vdisk %s.', name) if allow_fctgt and target == name and status == 'copying': self.ssh.stopfcmap(map_id) attrs = self._get_flashcopy_mapping_attributes(map_id) if status in ['copying', 'prepared']: self.ssh.stopfcmap(map_id) # Need to wait for the fcmap to change to # stopped state before remove fcmap elif status in ['stopping', 'preparing']: wait_for_copy = True else: self.ssh.rmfcmap(map_id) if status == 'prepared': self.ssh.stopfcmap(map_id) self.ssh.rmfcmap(map_id) elif status in ['idle_or_copied', 'stopped']: # Prepare failed or stopped self.ssh.rmfcmap(map_id) else: self.ssh.stopfcmap(map_id, split=True)",257,22
openstack%2Fneutron~master~I76af24a5153f1bc38b630da42de07f0f7b40cc41,openstack/neutron,master,I76af24a5153f1bc38b630da42de07f0f7b40cc41,Implement secure RBAC for service providers API,MERGED,2021-01-21 16:44:48.000000000,2021-03-05 17:59:33.000000000,2021-03-05 17:54:07.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-01-21 16:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cae6d48a0813bb7b176517b5771434cfaa1eb338', 'message': 'Implement secure RBAC for service providers API\n\nThis commit updates the policies for service providers API\nto understand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I76af24a5153f1bc38b630da42de07f0f7b40cc41\n'}, {'number': 2, 'created': '2021-02-18 12:28:36.000000000', 'files': ['neutron/conf/policies/service_type.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/57164efc9827f7975cdfa171a5a88e6fcc4059e5', 'message': 'Implement secure RBAC for service providers API\n\nThis commit updates the policies for service providers API\nto understand scope checking and account for a read-only role.\n\nThis is part of a broader series of changes across OpenStack to\nprovide a consistent RBAC experience and improve security.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I76af24a5153f1bc38b630da42de07f0f7b40cc41\n'}]",0,771850,57164efc9827f7975cdfa171a5a88e6fcc4059e5,30,6,2,11975,,,0,"Implement secure RBAC for service providers API

This commit updates the policies for service providers API
to understand scope checking and account for a read-only role.

This is part of a broader series of changes across OpenStack to
provide a consistent RBAC experience and improve security.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: I76af24a5153f1bc38b630da42de07f0f7b40cc41
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/771850/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/service_type.py'],1,cae6d48a0813bb7b176517b5771434cfaa1eb338,secure-rbac,"from oslo_log import versionutilsDEPRECATION_REASON = ( ""The Service Providers API now supports system scope and default roles."") name='get_service_provider', check_str=base.SYSTEM_OR_PROJECT_READER, description='Get service providers', operations=[ ], scope_types=['system', 'project'], deprecated_rule=policy.DeprecatedRule( name='get_service_provider', check_str=base.RULE_ANY), deprecated_reason=DEPRECATION_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'get_service_provider', base.RULE_ANY, 'Get service providers', [ ]",15,5
openstack%2Freleases~master~I3523b079b457b8f94780bd7c8f6e616f81f6eb40,openstack/releases,master,I3523b079b457b8f94780bd7c8f6e616f81f6eb40,Tag stable/rocky tripleo repos as EOL,MERGED,2021-02-05 14:32:02.000000000,2021-03-05 17:40:50.000000000,2021-03-05 17:40:50.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9003}, {'_account_id': 9592}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-05 14:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/19cbafaa84ec9c4ada966494ad96ea020eca4216', 'message': 'Tag stable/rocky tripleo repos as EOL\n\nAs discussed at [1],[2] this tags the last commits to the\nstable/rocky branch as rocky-eol.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019338.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019860.html\n\nChange-Id: I3523b079b457b8f94780bd7c8f6e616f81f6eb40\n'}, {'number': 2, 'created': '2021-03-01 09:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bfb91b1323f79e809aa620b3f4dbb5aed8ca9c36', 'message': 'Tag stable/rocky tripleo repos as EOL\n\nAs discussed at [1],[2] this tags the last commits to the\nstable/rocky branch as rocky-eol.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019338.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019860.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020274.html\n\nChange-Id: I3523b079b457b8f94780bd7c8f6e616f81f6eb40\n'}, {'number': 3, 'created': '2021-03-05 16:46:32.000000000', 'files': ['deliverables/rocky/os-net-config.yaml', 'deliverables/rocky/instack-undercloud.yaml', 'deliverables/rocky/python-tripleoclient.yaml', 'deliverables/rocky/tripleo-heat-templates.yaml', 'deliverables/rocky/tripleo-ipsec.yaml', 'deliverables/rocky/tripleo-common.yaml', 'deliverables/rocky/tripleo-validations.yaml', 'deliverables/rocky/tripleo-puppet-elements.yaml', 'deliverables/rocky/os-apply-config.yaml', 'deliverables/rocky/puppet-tripleo.yaml', 'deliverables/rocky/paunch.yaml', 'deliverables/rocky/os-collect-config.yaml', 'deliverables/rocky/os-refresh-config.yaml', 'deliverables/rocky/tripleo-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1d793e3dd13b581c47c0282c0153d27fc4621241', 'message': 'Tag stable/rocky tripleo repos as EOL\n\nAs discussed at [1],[2] this tags the last commits to the\nstable/rocky branch as rocky-eol.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019338.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019860.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020274.html\n\nChange-Id: I3523b079b457b8f94780bd7c8f6e616f81f6eb40\n'}]",13,774244,1d793e3dd13b581c47c0282c0153d27fc4621241,48,11,3,8449,,,0,"Tag stable/rocky tripleo repos as EOL

As discussed at [1],[2] this tags the last commits to the
stable/rocky branch as rocky-eol.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019338.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019860.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020274.html

Change-Id: I3523b079b457b8f94780bd7c8f6e616f81f6eb40
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/774244/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/os-net-config.yaml', 'deliverables/rocky/instack-undercloud.yaml', 'deliverables/rocky/python-tripleoclient.yaml', 'deliverables/rocky/tripleo-heat-templates.yaml', 'deliverables/rocky/tripleo-ipsec.yaml', 'deliverables/rocky/tripleo-common.yaml', 'deliverables/rocky/tripleo-validations.yaml', 'deliverables/rocky/tripleo-puppet-elements.yaml', 'deliverables/rocky/os-apply-config.yaml', 'deliverables/rocky/puppet-tripleo.yaml', 'deliverables/rocky/paunch.yaml', 'deliverables/rocky/os-collect-config.yaml', 'deliverables/rocky/os-refresh-config.yaml', 'deliverables/rocky/tripleo-image-elements.yaml']",14,19cbafaa84ec9c4ada966494ad96ea020eca4216,I3523b079b457b8f94780bd7c8f6e616f81f6eb40, - version: rocky-eol projects: - repo: openstack/tripleo-image-elements hash: 6cabcd7fe5147ef26d921511e482eb3111b32274,,54,2
openstack%2Fcookbook-openstack-block-storage~master~Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55,openstack/cookbook-openstack-block-storage,master,Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55,Add a nova section to cinder configuration,MERGED,2021-03-04 13:17:29.000000000,2021-03-05 17:29:11.000000000,2021-03-05 17:29:11.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 13:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/88b42bf13a482eed5199e4fd41874c2bdc0ec3b8', 'message': 'Add a nova section to cinder configuration\n\nCinder needs to send notifications to nova when attached volumes\nare being extended. By default, cinder uses the client context\nfor this, but nova requires admin privileges for this. So we\nconfigure cinder to use the nova service user instead. See\nalso [0].\n\n[0] https://bugs.launchpad.net/openstack-ansible/+bug/1902914\n\nChange-Id: Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55\n'}, {'number': 2, 'created': '2021-03-04 15:06:19.000000000', 'files': ['recipes/cinder-common.rb', 'attributes/cinder_conf.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/f6c6e8b180fa6f3422ea04e157b2ce523dc67891', 'message': 'Add a nova section to cinder configuration\n\nCinder needs to send notifications to nova when attached volumes\nare being extended. By default, cinder uses the client context\nfor this, but nova requires admin privileges for this. So we\nconfigure cinder to use the nova service user instead. See\nalso [0].\n\n[0] https://bugs.launchpad.net/openstack-ansible/+bug/1902914\n\nChange-Id: Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55\n'}]",0,778674,f6c6e8b180fa6f3422ea04e157b2ce523dc67891,12,2,2,13252,,,0,"Add a nova section to cinder configuration

Cinder needs to send notifications to nova when attached volumes
are being extended. By default, cinder uses the client context
for this, but nova requires admin privileges for this. So we
configure cinder to use the nova service user instead. See
also [0].

[0] https://bugs.launchpad.net/openstack-ansible/+bug/1902914

Change-Id: Ib4c6820dd15ecfa3e3763c188e0a2cc322ecea55
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/74/778674/2 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/cinder-common.rb', 'attributes/cinder_conf.rb']",2,88b42bf13a482eed5199e4fd41874c2bdc0ec3b8,add-nova-section, conf['nova']['auth_type'] = 'password' conf['nova']['region_name'] = node['openstack']['region'] conf['nova']['username'] = node['openstack']['compute']['conf']['keystone_authtoken']['username'] conf['nova']['project_name'] = node['openstack']['compute']['conf']['keystone_authtoken']['project_name'] conf['nova']['user_domain_name'] = node['openstack']['compute']['conf']['keystone_authtoken']['user_domain_name'] conf['nova']['project_domain_name'] = node['openstack']['identity']['admin_domain_name'],,13,0
openstack%2Fos-brick~stable%2Fussuri~I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc,openstack/os-brick,stable/ussuri,I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc,ScaleIO: More connection info backward compatibility,MERGED,2021-03-02 17:41:57.000000000,2021-03-05 17:14:43.000000000,2021-03-05 17:12:04.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-03-02 17:41:57.000000000', 'files': ['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fba9810de8b6c56d743b1ed4d4fd6240edfde391', 'message': ""ScaleIO: More connection info backward compatibility\n\nSimilar to I6f01a178616b74ed9a86876ca46e7e46eb360518, this patch\nfixes a compatibility issue when the new connection properties\ndictionary exists, but is missing the 'failed_over' field. This\nsituation may arise when booting a shelved instance whose connection\nproperties were created prior to when the ScaleIO driver was enhanced\nto support replication failover.\n\nRelated-Bug: #1823200\nChange-Id: I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc\n(cherry picked from commit f8de43834b7fc930ed317823c98551092ee04774)\n(cherry picked from commit 9317f9facbdce47a7974e39e29c898a96b3434e8)\n""}]",0,778224,fba9810de8b6c56d743b1ed4d4fd6240edfde391,18,4,1,21129,,,0,"ScaleIO: More connection info backward compatibility

Similar to I6f01a178616b74ed9a86876ca46e7e46eb360518, this patch
fixes a compatibility issue when the new connection properties
dictionary exists, but is missing the 'failed_over' field. This
situation may arise when booting a shelved instance whose connection
properties were created prior to when the ScaleIO driver was enhanced
to support replication failover.

Related-Bug: #1823200
Change-Id: I9b2a9cd2839a4efec824fc68cb2163ad70f4ebdc
(cherry picked from commit f8de43834b7fc930ed317823c98551092ee04774)
(cherry picked from commit 9317f9facbdce47a7974e39e29c898a96b3434e8)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/24/778224/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py']",2,fba9810de8b6c56d743b1ed4d4fd6240edfde391,scaleio-connector," def test_connection_properties_without_failed_over(self): """"""Handle connection properties with 'failed_over' missing"""""" connection_properties = dict(self.fake_connection_properties) connection_properties.pop('failed_over') self.connector.connect_volume(connection_properties) self.get_password_mock.assert_called_once_with( scaleio.CONNECTOR_CONF_PATH, connection_properties['config_group'], False)",,12,1
openstack%2Fbarbican~master~Ic2b85246c37e856c38cb47613313b19e653118de,openstack/barbican,master,Ic2b85246c37e856c38cb47613313b19e653118de,Allow multiple token labels for PKCS#11 driver,MERGED,2021-02-25 16:20:07.000000000,2021-03-05 17:12:12.000000000,2021-03-05 17:08:43.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-02-25 16:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b27a19a0611153e98b629fa281ed370686d8f236', 'message': 'Allow multiple token labels for PKCS#11 driver\n\nThis patch changes the slot selection logic to look for more than one\ntoken label in the list of slots, using the first token that is found.\n\nThis change is required to enable load balancing with devices that\nuse separate tokens for this feature.\n\nThis patch adds a new option in the [p11_crypto_plugin] section\n""token_labels"", and deprecates the ""token_label"" option.\n\nFor backwards compatibility, the ""token_label"" option will still be used\nif present.\n\nChange-Id: Ic2b85246c37e856c38cb47613313b19e653118de\n'}, {'number': 2, 'created': '2021-02-25 19:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/db26e798a3930233dfea2a6807fb3cf4d02ea0c3', 'message': 'Allow multiple token labels for PKCS#11 driver\n\nThis patch changes the slot selection logic to look for more than one\ntoken label in the list of slots, using the first token that is found.\n\nThis change is required to enable load balancing with devices that\nuse separate tokens for this feature.\n\nThis patch adds a new option in the [p11_crypto_plugin] section\n""token_labels"", and deprecates the ""token_label"" option.\n\nFor backwards compatibility, the ""token_label"" option will still be used\nif present.\n\nChange-Id: Ic2b85246c37e856c38cb47613313b19e653118de\n'}, {'number': 3, 'created': '2021-03-01 17:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/cad0745e689a205d364b678ac2984609c723c992', 'message': 'Allow multiple token labels for PKCS#11 driver\n\nThis patch changes the slot selection logic to look for more than one\ntoken label in the list of slots, using the first token that is found.\n\nThis change is required to enable load balancing with devices that\nuse separate tokens for this feature.\n\nThis patch adds a new option in the [p11_crypto_plugin] section\n""token_labels"", and deprecates the ""token_label"" option.\n\nFor backwards compatibility, the ""token_label"" option will still be used\nif present.\n\nChange-Id: Ic2b85246c37e856c38cb47613313b19e653118de\n'}, {'number': 4, 'created': '2021-03-04 17:49:20.000000000', 'files': ['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/allow-multiple-pkcs11-token-labels-61b63e34b7c8cc1a.yaml', 'barbican/cmd/barbican_manage.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py', 'barbican/tests/plugin/crypto/test_pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/1ca03610d7257c782b11d6bcf54074d66a79c545', 'message': 'Allow multiple token labels for PKCS#11 driver\n\nThis patch changes the slot selection logic to look for more than one\ntoken label in the list of slots, using the first token that is found.\n\nThis change is required to enable load balancing with devices that\nuse separate tokens for this feature.\n\nThis patch adds a new option in the [p11_crypto_plugin] section\n""token_labels"", and deprecates the ""token_label"" option.\n\nFor backwards compatibility, the ""token_label"" option will still be used\nif present.\n\nChange-Id: Ic2b85246c37e856c38cb47613313b19e653118de\n'}]",1,777618,1ca03610d7257c782b11d6bcf54074d66a79c545,15,3,4,7973,,,0,"Allow multiple token labels for PKCS#11 driver

This patch changes the slot selection logic to look for more than one
token label in the list of slots, using the first token that is found.

This change is required to enable load balancing with devices that
use separate tokens for this feature.

This patch adds a new option in the [p11_crypto_plugin] section
""token_labels"", and deprecates the ""token_label"" option.

For backwards compatibility, the ""token_label"" option will still be used
if present.

Change-Id: Ic2b85246c37e856c38cb47613313b19e653118de
",git fetch https://review.opendev.org/openstack/barbican refs/changes/18/777618/4 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/allow-multiple-pkcs11-token-labels-61b63e34b7c8cc1a.yaml', 'barbican/plugin/crypto/pkcs11.py']",3,b27a19a0611153e98b629fa281ed370686d8f236,use-multiple-token-labels," token_labels=None, token_labels, LOG.debug(""Connected to PCKS#11 Token in Slot %s"", self.slot_id) def _get_slot_id(self, token_serial_number, token_labels, slot_id): if token_labels: ""Ignoring token_labels: %s from barbican.conf"", token_labels if token_labels: for token in tokens: if token.label in token_labels: LOG.debug(""Found token label: %s in slot %s"", token.label, token.slot_id) if slot_id: LOG.warning(""Ignoring slot_id: %s from barbican.conf"", slot_id) return token.slot_id raise ValueError(""Token Labels not found."")"," token_label=None, token_label, LOG.debug(""Connected to PCKS11 sn: %s label: %s slot: %s"", token_serial_number, token_label, self.slot_id) def _get_slot_id(self, token_serial_number, token_label, slot_id): if token_label: ""Ignoring token_label: %s from barbican.conf"", token_label if token_label: matched = list(itertools.dropwhile( lambda x: x.label != token_label, tokens )) if len(matched) > 1: raise ValueError(""More than one matching token label found"") if len(matched) < 1: raise ValueError(""Token Label not found."") token = matched.pop() LOG.debug(""Found token label: %s in slot %s"", token.label, token.slot_id) if slot_id: LOG.warning(""Ignoring slot_id: %s from barbican.conf"", slot_id) return token.slot_id",80,50
openstack%2Fpython-tackerclient~master~I5401641a46228374927e0875ba1d3a93eeb188c9,openstack/python-tackerclient,master,I5401641a46228374927e0875ba1d3a93eeb188c9,Switch to Ussuri jobs,NEW,2019-10-22 06:36:48.000000000,2021-03-05 17:08:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-22 06:36:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/ff84420d41de396ee38e85a752284b175cffb5b1', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I5401641a46228374927e0875ba1d3a93eeb188c9\n'}]",0,689979,ff84420d41de396ee38e85a752284b175cffb5b1,3,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I5401641a46228374927e0875ba1d3a93eeb188c9
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/79/689979/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ff84420d41de396ee38e85a752284b175cffb5b1,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Frequirements~master~I423f6ef4a2347bf3d0d4930e1a60df60f823d107,openstack/requirements,master,I423f6ef4a2347bf3d0d4930e1a60df60f823d107,update constraint for monasca-common to new release 3.3.0,MERGED,2021-03-05 10:12:33.000000000,2021-03-05 16:52:17.000000000,2021-03-05 16:50:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 10:12:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a515e9b69529f4841be5a7600bdcd4c681ebafb9', 'message': 'update constraint for monasca-common to new release 3.3.0\n\nmeta: version: 3.3.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Icfb8c0800109872ac92d574aecabb3cb1da3a195\nmeta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I423f6ef4a2347bf3d0d4930e1a60df60f823d107\n'}]",0,778875,a515e9b69529f4841be5a7600bdcd4c681ebafb9,9,3,1,11131,,,0,"update constraint for monasca-common to new release 3.3.0

meta: version: 3.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Icfb8c0800109872ac92d574aecabb3cb1da3a195
meta: release:Code-Review+1: Martin Chacon Piza <martin@chaconpiza.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I423f6ef4a2347bf3d0d4930e1a60df60f823d107
",git fetch https://review.opendev.org/openstack/requirements refs/changes/75/778875/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a515e9b69529f4841be5a7600bdcd4c681ebafb9,new-release,monasca-common===3.3.0,monasca-common===3.2.0,1,1
openstack%2Frequirements~master~I2d9d4386132c658b0ee5e78f7bc91e9343d461ca,openstack/requirements,master,I2d9d4386132c658b0ee5e78f7bc91e9343d461ca,update constraint for glance_store to new release 2.5.0,MERGED,2021-03-05 10:05:00.000000000,2021-03-05 16:42:29.000000000,2021-03-05 16:40:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 10:05:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/da884164a8eabc0f21ddd1a19e4a4c9928252b86', 'message': 'update constraint for glance_store to new release 2.5.0\n\nmeta: version: 2.5.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Abhishek Kekane <akekane@redhat.com>\nmeta: release:Change-Id: I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I2d9d4386132c658b0ee5e78f7bc91e9343d461ca\n'}]",0,778872,da884164a8eabc0f21ddd1a19e4a4c9928252b86,9,3,1,11131,,,0,"update constraint for glance_store to new release 2.5.0

meta: version: 2.5.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Abhishek Kekane <akekane@redhat.com>
meta: release:Change-Id: I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Code-Review+1: Dan Smith <dms@danplanet.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2d9d4386132c658b0ee5e78f7bc91e9343d461ca
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/778872/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,da884164a8eabc0f21ddd1a19e4a4c9928252b86,new-release,glance-store===2.5.0,glance-store===2.4.0,1,1
openstack%2Ftripleo-heat-templates~master~Id836676826f6e7c97ef8e3d665ab3e467ad055ba,openstack/tripleo-heat-templates,master,Id836676826f6e7c97ef8e3d665ab3e467ad055ba,Add posibilities to set ovndbs monitor interval,MERGED,2020-02-28 08:27:47.000000000,2021-03-05 16:40:59.000000000,2021-03-05 16:38:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-28 08:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c25d46043b0113ec02e1f27e36d89250295b3bb', 'message': 'Add posibilities to set ovndbs monitor interval\n\nAdd posibilities to configure ovn dbs monitor interval\nin tht by OVNDBSPacemakerMonitorInterval (default 30s).\nUnder load, this can create extra stress and since the\ntimeout has already been bumped, it makes sense to bump\nthis interval to a higher value as a trade off\nbetween detecting a failure and stressing the service.\n\nDepends-On: https://review.opendev.org/#/c/710407/\nChange-Id: Id836676826f6e7c97ef8e3d665ab3e467ad055ba\n'}, {'number': 2, 'created': '2021-02-25 14:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0608efc4f7e0e8c5c6865563178d7d2e967149c3', 'message': 'Add posibilities to set ovndbs monitor interval\n\nAdd posibilities to configure ovn dbs monitor interval\nin tht by OVNDBSPacemakerMonitorInterval (default 30s).\nUnder load, this can create extra stress and since the\ntimeout has already been bumped, it makes sense to bump\nthis interval to a higher value as a trade off\nbetween detecting a failure and stressing the service.\n\nDepends-On: https://review.opendev.org/#/c/727652/\nChange-Id: Id836676826f6e7c97ef8e3d665ab3e467ad055ba\n'}, {'number': 3, 'created': '2021-03-03 16:02:05.000000000', 'files': ['releasenotes/notes/monitor_interval_ovndbs-b14c886737965300.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ece6f97af8837de65f993c56b9ae3041cff6731', 'message': 'Add posibilities to set ovndbs monitor interval\n\nAdd posibilities to configure ovn dbs monitor interval\nin tht by OVNDBSPacemakerMonitorInterval (default 30s).\nUnder load, this can create extra stress and since the\ntimeout has already been bumped, it makes sense to bump\nthis interval to a higher value as a trade off\nbetween detecting a failure and stressing the service.\n\nDepends-On: https://review.opendev.org/#/c/710407/\nChange-Id: Id836676826f6e7c97ef8e3d665ab3e467ad055ba\n'}]",0,710409,9ece6f97af8837de65f993c56b9ae3041cff6731,29,7,3,11082,,,0,"Add posibilities to set ovndbs monitor interval

Add posibilities to configure ovn dbs monitor interval
in tht by OVNDBSPacemakerMonitorInterval (default 30s).
Under load, this can create extra stress and since the
timeout has already been bumped, it makes sense to bump
this interval to a higher value as a trade off
between detecting a failure and stressing the service.

Depends-On: https://review.opendev.org/#/c/710407/
Change-Id: Id836676826f6e7c97ef8e3d665ab3e467ad055ba
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/710409/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/monitor_interval_ovndbs-b14c886737965300.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml']",2,3c25d46043b0113ec02e1f27e36d89250295b3bb,change-710409-1, OVNDBSPacemakerMonitorInterval: description: monitor interval for ovn dbs resource in seconds type: number default: 30 - tripleo::profile::pacemaker::ovn_dbs_bundle::monitor_interval: {get_param: OVNDBSPacemakerMonitorInterval},,14,1
openstack%2Frequirements~master~I58e7a20e9051c5ad54cb6c64ca0c31e406fe8a96,openstack/requirements,master,I58e7a20e9051c5ad54cb6c64ca0c31e406fe8a96,update constraint for kuryr-lib to new release 2.3.0,MERGED,2021-03-05 10:04:46.000000000,2021-03-05 16:30:34.000000000,2021-03-05 16:23:48.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 10:04:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eabb06f5bcaa2911f40fb6175258159c1beaae27', 'message': 'update constraint for kuryr-lib to new release 2.3.0\n\nmeta: version: 2.3.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ied58267663edeecfc970adbb4624c89a68937896\nmeta: release:Code-Review+1: Maysa de Macedo Souza <maysa.macedo95@gmail.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: hongbin <hongbin034@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I58e7a20e9051c5ad54cb6c64ca0c31e406fe8a96\n'}]",0,778871,eabb06f5bcaa2911f40fb6175258159c1beaae27,9,3,1,11131,,,0,"update constraint for kuryr-lib to new release 2.3.0

meta: version: 2.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ied58267663edeecfc970adbb4624c89a68937896
meta: release:Code-Review+1: Maysa de Macedo Souza <maysa.macedo95@gmail.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: hongbin <hongbin034@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I58e7a20e9051c5ad54cb6c64ca0c31e406fe8a96
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/778871/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,eabb06f5bcaa2911f40fb6175258159c1beaae27,new-release,kuryr-lib===2.3.0,kuryr-lib===2.2.0,1,1
openstack%2Frequirements~master~Id947e97510cb84c3c80cedbdfa955c4303a879b2,openstack/requirements,master,Id947e97510cb84c3c80cedbdfa955c4303a879b2,update constraint for heat-translator to new release 2.2.0,MERGED,2021-03-05 09:58:15.000000000,2021-03-05 16:27:34.000000000,2021-03-05 16:23:41.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 09:58:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/984277598aa389d07087fdb925a138cadebca2ff', 'message': 'update constraint for heat-translator to new release 2.2.0\n\nmeta: version: 2.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I3d16919d8ee19c2160fcccd5a7bef35d50fc488a\nmeta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Id947e97510cb84c3c80cedbdfa955c4303a879b2\n'}]",0,778870,984277598aa389d07087fdb925a138cadebca2ff,9,3,1,11131,,,0,"update constraint for heat-translator to new release 2.2.0

meta: version: 2.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I3d16919d8ee19c2160fcccd5a7bef35d50fc488a
meta: release:Code-Review+1: Rico Lin <ricolin@ricolky.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Id947e97510cb84c3c80cedbdfa955c4303a879b2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/778870/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,984277598aa389d07087fdb925a138cadebca2ff,new-release,heat-translator===2.2.0,heat-translator===2.1.0,1,1
openstack%2Fdevstack~master~I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4,openstack/devstack,master,I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4,orchestrate-devstack: Copy controller ceph.conf and keyrings to subnode,MERGED,2020-09-30 12:07:49.000000000,2021-03-05 16:12:05.000000000,2021-02-11 03:23:23.000000000,"[{'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-30 12:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/af52357b4034f923d094ea6ae3aa62af5cd307ad', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and admin keyring to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\nDepends-On: https://review.opendev.org/755269\n'}, {'number': 2, 'created': '2020-09-30 13:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b103cbd1b8d72a76be41a3f059318362d3ae884a', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 3, 'created': '2020-09-30 14:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7af0ef18d016ac07376706573dfcad7e01e8e091', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 4, 'created': '2020-09-30 18:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d1d3bc1557339906e1a6a028678afd3880ead219', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 5, 'created': '2020-10-01 09:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2b498bb8cffccffdfbc9eb2b21bf170e5df9e49a', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 6, 'created': '2020-10-01 09:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7fc21c82f5cb1d784db1fd634555fb66d6112177', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 7, 'created': '2020-10-01 14:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/773a78c946ba75751bae6cc8848af5af61cf3973', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 8, 'created': '2020-10-05 09:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/07477ff2e86762b63cf4f6d3b1e863c9de3a4cd0', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 9, 'created': '2020-10-05 09:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b07245c68d2035d815c61471474017b7742bc491', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 10, 'created': '2020-10-05 11:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9fae961939f28be9affdfbee7e0d9e9f0fab1050', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 11, 'created': '2020-10-06 11:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f917982474049c94d159c48be695abd1c251b5e3', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 12, 'created': '2020-10-06 14:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ee1d3f18fe982fc329b37ff4f2ea8f10a00ce6c6', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 13, 'created': '2020-12-07 13:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/94faaeb6308bb7de0cf57bd7f0b49944f9aacc9d', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 14, 'created': '2020-12-07 21:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c0f48de3032b3688a34df8ae729b8785a4f93399', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 15, 'created': '2020-12-09 15:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6c8d483532ce67d1f3b23ba93329655e4f394755', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 16, 'created': '2020-12-09 15:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8e3c144987717ffc620220fa974f400f2e6b3028', 'message': 'WIP orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 17, 'created': '2020-12-24 11:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/731f48087a218ae6bb818e571139ba6d4bfae000', 'message': 'orchestrate-devstack: Copy ceph.conf and keyrings to subnode\n\nThis change introduces a basic role to copy the contents of /etc/ceph\nbetween the controller and subnodes during orchestrate-devstack allowing\na multinode ceph job to be introduced by\nI9ffdff44a3ad42ebdf26ab72e24dfe3b12b1ef8b.\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 18, 'created': '2021-01-04 11:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8e4ac4d5190f6b8a4575a151273ec76978493eb3', 'message': 'orchestrate-devstack: Copy controller ceph.conf and keyrings to subnode\n\nThis change introduces a basic role to copy the contents of /etc/ceph\nbetween the controller and subnodes during orchestrate-devstack allowing\na multinode ceph job to be introduced by\nI9ffdff44a3ad42ebdf26ab72e24dfe3b12b1ef8b.\n\nNote that this role is only used when devstack-plugin-ceph is enabled.\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}, {'number': 19, 'created': '2021-02-10 16:01:06.000000000', 'files': ['roles/sync-controller-ceph-conf-and-keys/tasks/main.yaml', 'roles/orchestrate-devstack/tasks/main.yaml', 'roles/sync-controller-ceph-conf-and-keys/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e11d367d8e31a4875301e2e890fa8ffede270ec2', 'message': 'orchestrate-devstack: Copy controller ceph.conf and keyrings to subnode\n\nThis change introduces a basic role to copy the contents of /etc/ceph\nbetween the controller and subnodes during orchestrate-devstack allowing\na multinode ceph job to be introduced by\nI9ffdff44a3ad42ebdf26ab72e24dfe3b12b1ef8b.\n\nNote that this role is only used when devstack-plugin-ceph is enabled.\n\nChange-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4\n'}]",7,755270,e11d367d8e31a4875301e2e890fa8ffede270ec2,61,7,19,10135,,,0,"orchestrate-devstack: Copy controller ceph.conf and keyrings to subnode

This change introduces a basic role to copy the contents of /etc/ceph
between the controller and subnodes during orchestrate-devstack allowing
a multinode ceph job to be introduced by
I9ffdff44a3ad42ebdf26ab72e24dfe3b12b1ef8b.

Note that this role is only used when devstack-plugin-ceph is enabled.

Change-Id: I324c0f35db34f8540ca164bf8c6e3dea67c5b1b4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/755270/14 && git format-patch -1 --stdout FETCH_HEAD,['roles/orchestrate-devstack/tasks/main.yaml'],1,af52357b4034f923d094ea6ae3aa62af5cd307ad,native-zuulv3-migration," - name: Sync minimal ceph.conf and admin key ring to subnode include_role: name: sync-ceph-conf-and-keys when: ""'devstack-plugin-ceph' in devstack_plugins"" ",,5,0
openstack%2Fsahara-dashboard~master~I0342d9a3dfb441f89aa9d100b4eadbc6d49f87e5,openstack/sahara-dashboard,master,I0342d9a3dfb441f89aa9d100b4eadbc6d49f87e5,Fix lower-constraints job,MERGED,2021-03-03 18:32:10.000000000,2021-03-05 15:49:47.000000000,2021-03-05 15:49:47.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2021-03-03 18:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/2f3c853ce45abfb30554338bb79f5b10f824f3c1', 'message': '[DNM] Test lower-constraints job\n\nChange-Id: I0342d9a3dfb441f89aa9d100b4eadbc6d49f87e5\n'}, {'number': 2, 'created': '2021-03-03 18:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/758181ba85a827332c1ca98c5ce64ce8f9fa7464', 'message': 'Bump mccabe version to fix lower-constraints job\n\nChange-Id: I0342d9a3dfb441f89aa9d100b4eadbc6d49f87e5\n'}, {'number': 3, 'created': '2021-03-05 06:11:40.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/445306dda9d06c505588ef817094e6187006e04f', 'message': 'Fix lower-constraints job\n\nlower-constraints job does not need linters, So we can drop\nmccabe to fix the lower-constraints job.\n\nChange-Id: I0342d9a3dfb441f89aa9d100b4eadbc6d49f87e5\n'}]",0,778539,445306dda9d06c505588ef817094e6187006e04f,13,3,3,29313,,,0,"Fix lower-constraints job

lower-constraints job does not need linters, So we can drop
mccabe to fix the lower-constraints job.

Change-Id: I0342d9a3dfb441f89aa9d100b4eadbc6d49f87e5
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/39/778539/3 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,2f3c853ce45abfb30554338bb79f5b10f824f3c1,,mccabe==0.6.0,mccabe==0.2.1,1,1
openstack%2Fcharm-keystone-saml-mellon~master~Ia2942709123d5f039d6b0f0040b9f07689f49e7a,openstack/charm-keystone-saml-mellon,master,Ia2942709123d5f039d6b0f0040b9f07689f49e7a,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:57:40.000000000,2021-03-05 15:30:52.000000000,2021-03-05 15:30:52.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:57:40.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/47a368c35b6509aebd2912753a56b3a0f6cb777c', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ia2942709123d5f039d6b0f0040b9f07689f49e7a\n'}]",0,778294,47a368c35b6509aebd2912753a56b3a0f6cb777c,11,3,1,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ia2942709123d5f039d6b0f0040b9f07689f49e7a
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/94/778294/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,47a368c35b6509aebd2912753a56b3a0f6cb777c,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-mysql-innodb-cluster~master~Ieac649d4dfff3364c26186be4374cd662dde0089,openstack/charm-mysql-innodb-cluster,master,Ieac649d4dfff3364c26186be4374cd662dde0089,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 20:59:19.000000000,2021-03-05 15:30:11.000000000,2021-03-05 15:30:11.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 20:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/e1d3dff89e043e5746300e3e8264318b238706b6', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ieac649d4dfff3364c26186be4374cd662dde0089\n'}, {'number': 2, 'created': '2021-03-05 12:37:47.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/53bf5af4f1c335c8bf7f51e3c980536ab87f88ee', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: Ieac649d4dfff3364c26186be4374cd662dde0089\n'}]",0,778301,53bf5af4f1c335c8bf7f51e3c980536ab87f88ee,10,3,2,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: Ieac649d4dfff3364c26186be4374cd662dde0089
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/01/778301/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,e1d3dff89e043e5746300e3e8264318b238706b6,hirsute-metadata,- hirsute,,1,0
openstack%2Fnetworking-odl~stable%2Ftrain~Idcd1e39b4d60d33c2396f9495b66b089341748ff,openstack/networking-odl,stable/train,Idcd1e39b4d60d33c2396f9495b66b089341748ff,Dropping lower constraints testing (stable Train),MERGED,2021-01-12 15:32:59.000000000,2021-03-05 15:27:23.000000000,2021-03-05 15:16:30.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 15:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b24771fb15a61cfb1e7bb5cfac6c4ff25194a5f2', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}, {'number': 2, 'created': '2021-02-19 12:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/91fb906821db736732862254361add1da79268f6', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}, {'number': 3, 'created': '2021-02-19 15:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9dd7628ee318ed187ff7c603458e2feafe82466c', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}, {'number': 4, 'created': '2021-02-22 09:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/17e39fc2a258669bf20eaf842f305914b81e0372', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}, {'number': 5, 'created': '2021-02-22 14:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d613743b10756373258e670ac5cd58d86708f380', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}, {'number': 6, 'created': '2021-02-23 17:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7b8ee4a8ad6c3e9d8027172ca8bc34e08a27b46f', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}, {'number': 7, 'created': '2021-02-24 09:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2732bbf59e438f5c93629d2b41f4987af00fc7be', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}, {'number': 8, 'created': '2021-03-01 10:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e13b53c0f25e5d1a586a1365ad861f7a97dc9eb6', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}, {'number': 9, 'created': '2021-03-01 12:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0d13cffb15ade88bce7e40d19c71868148f2f351', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}, {'number': 10, 'created': '2021-03-04 11:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3a9f0e0a02de064300bb5a3c55cf75894f2edaea', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\nMake functional tests non-voting now to keep the gating work for older\nbranches.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}, {'number': 11, 'created': '2021-03-04 11:10:19.000000000', 'files': ['playbooks/functional/pre.yaml', 'tools/configure_for_func_testing.sh', 'test-requirements.txt', '.zuul.d/project.yaml', 'lower-constraints.txt', '.zuul.d/jobs.yaml', 'tox.ini', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/20f118035802ec38aa407132707819c15e9c300a', 'message': 'Dropping lower constraints testing (stable Train)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\nMake functional tests non-voting now to keep the gating work for older\nbranches.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff\n'}]",13,770385,20f118035802ec38aa407132707819c15e9c300a,38,4,11,8313,,,0,"Dropping lower constraints testing (stable Train)

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].

Make functional tests non-voting now to keep the gating work for older
branches.

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Use the networking-l2gw project new location

networking-l2gw and networking-l2gw-tempest-plugin are
imported to new location now and supposed to be retired from
openstack/namespace[1].

-https://review.opendev.org/#/c/744110/

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html

networking-l2gw location change original-Change-Id:
I38509a2fafc07e5196ba9f8f1dc11e617cbc74f5
(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)

Change-Id: Idcd1e39b4d60d33c2396f9495b66b089341748ff
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/85/770385/10 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'lower-constraints.txt', 'tox.ini']",3,b24771fb15a61cfb1e7bb5cfac6c4ff25194a5f2,oslo_lc_drop,,[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,257
openstack%2Fmonasca-grafana-datasource~master~Ic00f39bef0cbffc81161367bcf313a3af4294803,openstack/monasca-grafana-datasource,master,Ic00f39bef0cbffc81161367bcf313a3af4294803,Updating Monasca-Grafana-Plugin structure to work with Grafana v7.0.x,ABANDONED,2021-02-11 16:17:23.000000000,2021-03-05 15:11:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-11 16:17:23.000000000', 'files': ['partials/annotations.editor.html', 'dist/plugin.json', 'plugin.json', 'dist/module.js.LICENSE.txt', 'src/types.ts', 'README.rst', 'partials/query.editor.html', 'src/img/logo.svg', 'src/QueryEditor.tsx', 'src/datasource.ts', 'CONTRIBUTING.rst', 'dist/CHANGELOG.md', 'examples/examples/active_routers.json', 'partials/query.options.html', 'jest.config.js', 'dist/img/logo.svg', 'LICENSE', 'examples/examples/openstack_default_dashboard.json', 'examples/examples/mysql_performance.json', 'examples/examples/rabbitmq_activity.json', 'datasource.js', 'dist/module.js', 'examples/examples/solidfire_overview.json', 'query_ctrl.js', 'dist/README.md', 'CHANGELOG.md', 'examples/examples/README.txt', 'README.md', 'img/openstack_logo.png', 'tsconfig.json', 'src/module.ts', 'examples/examples/node_activity.json', 'module.js', 'package.json', 'coverage/junit.xml', 'dist/module.js.map', 'partials/config.html', 'examples/examples/customer_compute_breakdown.json', 'examples/examples/vertica_resource_pools.json', 'src/plugin.json', 'dist/LICENSE', 'examples/examples/customer_default_project_dashboard.json', 'src/ConfigEditor.tsx'], 'web_link': 'https://opendev.org/openstack/monasca-grafana-datasource/commit/ab06a6167766fd6316ff3259f196f2540da01047', 'message': 'Updating Monasca-Grafana-Plugin structure to work with Grafana v7.0.x\n\nChange-Id: Ic00f39bef0cbffc81161367bcf313a3af4294803\n'}]",0,775205,ab06a6167766fd6316ff3259f196f2540da01047,4,2,1,29909,,,0,"Updating Monasca-Grafana-Plugin structure to work with Grafana v7.0.x

Change-Id: Ic00f39bef0cbffc81161367bcf313a3af4294803
",git fetch https://review.opendev.org/openstack/monasca-grafana-datasource refs/changes/05/775205/1 && git format-patch -1 --stdout FETCH_HEAD,"['partials/annotations.editor.html', 'dist/plugin.json', 'plugin.json', 'dist/module.js.LICENSE.txt', 'src/types.ts', 'README.rst', 'partials/query.editor.html', 'src/img/logo.svg', 'src/QueryEditor.tsx', 'src/datasource.ts', 'CONTRIBUTING.rst', 'dist/CHANGELOG.md', 'examples/examples/active_routers.json', 'partials/query.options.html', 'jest.config.js', 'dist/img/logo.svg', 'LICENSE', 'examples/examples/openstack_default_dashboard.json', 'examples/examples/mysql_performance.json', 'examples/examples/rabbitmq_activity.json', 'datasource.js', 'dist/module.js', 'examples/examples/solidfire_overview.json', 'query_ctrl.js', 'dist/README.md', 'CHANGELOG.md', 'examples/examples/README.txt', 'README.md', 'img/openstack_logo.png', 'tsconfig.json', 'src/module.ts', 'examples/examples/node_activity.json', 'module.js', 'package.json', 'coverage/junit.xml', 'dist/module.js.map', 'partials/config.html', 'examples/examples/customer_compute_breakdown.json', 'examples/examples/vertica_resource_pools.json', 'src/plugin.json', 'dist/LICENSE', 'examples/examples/customer_default_project_dashboard.json', 'src/ConfigEditor.tsx']",43,ab06a6167766fd6316ff3259f196f2540da01047,tasks/piotrowskim/plugin_update,"import React, { ChangeEvent, PureComponent } from 'react'; import { LegacyForms } from '@grafana/ui'; import { DataSourcePluginOptionsEditorProps } from '@grafana/data'; import { MyDataSourceOptions, MySecureJsonData } from './types'; const { SecretFormField, FormField } = LegacyForms; interface Props extends DataSourcePluginOptionsEditorProps<MyDataSourceOptions> {} interface State {} export class ConfigEditor extends PureComponent<Props, State> { onPathChange = (event: ChangeEvent<HTMLInputElement>) => { const { onOptionsChange, options } = this.props; const jsonData = { ...options.jsonData, path: event.target.value, }; onOptionsChange({ ...options, jsonData }); }; // Secure field (only sent to the backend) onAPIKeyChange = (event: ChangeEvent<HTMLInputElement>) => { const { onOptionsChange, options } = this.props; onOptionsChange({ ...options, secureJsonData: { apiKey: event.target.value, }, }); }; onResetAPIKey = () => { const { onOptionsChange, options } = this.props; onOptionsChange({ ...options, secureJsonFields: { ...options.secureJsonFields, apiKey: false, }, secureJsonData: { ...options.secureJsonData, apiKey: '', }, }); }; render() { const { options } = this.props; const { jsonData, secureJsonFields } = options; const secureJsonData = (options.secureJsonData || {}) as MySecureJsonData; return ( <div className=""gf-form-group""> <div className=""gf-form""> <FormField label=""Path"" labelWidth={6} inputWidth={20} onChange={this.onPathChange} value={jsonData.path || ''} placeholder=""json field returned to frontend"" /> </div> <div className=""gf-form-inline""> <div className=""gf-form""> <SecretFormField isConfigured={(secureJsonFields && secureJsonFields.apiKey) as boolean} value={secureJsonData.apiKey || ''} label=""API Key"" placeholder=""secure json field (backend only)"" labelWidth={6} inputWidth={20} onReset={this.onResetAPIKey} onChange={this.onAPIKeyChange} /> </div> </div> </div> ); } } ",,3223,1085
openstack%2Fos-brick~master~Icaa8919f5fbab9d6ee7541365eb795b1067ab6ab,openstack/os-brick,master,Icaa8919f5fbab9d6ee7541365eb795b1067ab6ab,Fix import order of libraries,MERGED,2021-03-03 14:24:58.000000000,2021-03-05 15:01:07.000000000,2021-03-04 15:15:32.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 14:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4afc1176310e7d3f82a444d52779950ce10eb228', 'message': 'Fix import order in exception.py\n\nFollow the standard order of stdlib,\nthird party, then project imports.\n\nChange-Id: Icaa8919f5fbab9d6ee7541365eb795b1067ab6ab\n'}, {'number': 2, 'created': '2021-03-03 14:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/418be6cd41aef6540d700577fb5109fa4a9659b5', 'message': 'Fix import order of libraries\n\nFollow the standard order of stdlib,\nthird party, then project imports.\n\nChange-Id: Icaa8919f5fbab9d6ee7541365eb795b1067ab6ab\n'}, {'number': 3, 'created': '2021-03-03 21:29:28.000000000', 'files': ['os_brick/tests/encryptors/test_base.py', 'os_brick/tests/base.py', 'os_brick/initiator/linuxrbd.py', 'os_brick/tests/windows/test_base_connector.py', 'os_brick/local_dev/lvm.py', 'os_brick/remotefs/windows_remotefs.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'os_brick/initiator/connectors/base.py', 'os_brick/encryptors/__init__.py', 'os_brick/tests/encryptors/test_cryptsetup.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py', 'os_brick/encryptors/luks.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/encryptors/test_luks.py', 'os_brick/encryptors/cryptsetup.py', 'os_brick/exception.py', 'os_brick/tests/caches/test_opencas.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9d19bb93f3ecb2afd957fb2f05c4439ae298601d', 'message': 'Fix import order of libraries\n\nFollow the standard order of stdlib,\nthird party, then project imports.\n\nChange-Id: Icaa8919f5fbab9d6ee7541365eb795b1067ab6ab\n'}]",0,778470,9d19bb93f3ecb2afd957fb2f05c4439ae298601d,43,3,3,4523,,,0,"Fix import order of libraries

Follow the standard order of stdlib,
third party, then project imports.

Change-Id: Icaa8919f5fbab9d6ee7541365eb795b1067ab6ab
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/70/778470/3 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/exception.py'],1,4afc1176310e7d3f82a444d52779950ce10eb228,,from oslo_concurrency import processutils as putilsfrom os_brick.i18n import _ ,from oslo_concurrency import processutils as putilsfrom os_brick.i18n import _,3,2
openstack%2Fos-brick~master~Ica408f9bf737e2651c5e2567da18fdafeabfb9ff,openstack/os-brick,master,Ica408f9bf737e2651c5e2567da18fdafeabfb9ff,Add release note for nvmeof connector,ABANDONED,2021-03-05 02:38:46.000000000,2021-03-05 14:45:57.000000000,,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 16721}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-03-05 02:38:46.000000000', 'files': ['releasenotes/notes/update-nvmeof-connector-6260a658c15a9a6e.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1d591425426777e268f063da8ecafd52faeaec0e', 'message': 'Add release note for nvmeof connector\n\nRelease note for changes I84145ce0be96c3e39b00720bddd179f91703b978\nand I94c00afc80f20965a0b391ee3bf21162b827bd31.\n\nChange-Id: Ica408f9bf737e2651c5e2567da18fdafeabfb9ff\n'}]",0,778810,1d591425426777e268f063da8ecafd52faeaec0e,14,5,1,5314,,,0,"Add release note for nvmeof connector

Release note for changes I84145ce0be96c3e39b00720bddd179f91703b978
and I94c00afc80f20965a0b391ee3bf21162b827bd31.

Change-Id: Ica408f9bf737e2651c5e2567da18fdafeabfb9ff
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/10/778810/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/update-nvmeof-connector-6260a658c15a9a6e.yaml'],1,1d591425426777e268f063da8ecafd52faeaec0e,nvmeof-relnote,"--- features: - | NVMeOF connector: The NVMeOF connector was upgraded in the previous release to support MDRAID replication, but we forgot to mention it. The connector continues to support MDRAID replication in this release. fixes: - | `Bug #1916264 <https://bugs.launchpad.net/os-brick/+bug/1916264>`_: fixed a regression in the NVMeOF connector that prevented volume attachments for drivers not using MDRAID replication. ",,13,0
openstack%2Foctavia~master~Ic94d226ad6e25323b94bc85f3ad847937b3be218,openstack/octavia,master,Ic94d226ad6e25323b94bc85f3ad847937b3be218,Add retry for getting amphora VM,MERGED,2020-05-07 10:21:38.000000000,2021-03-05 14:39:26.000000000,2021-03-05 14:35:38.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-05-07 10:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8eacdd2e6317021a662eb27df2d5d874d7d2d629', 'message': 'Add retry for getting amphora VM\n\nAn inssue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 2, 'created': '2020-05-14 10:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b487e613177bca2f888dad6db08327b5b9467fdb', 'message': 'Add retry for getting amphora VM\n\nAn inssue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 3, 'created': '2020-05-14 10:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/32c32f526805db2771b2691c26e2b15d74980986', 'message': 'Add retry for getting amphora VM\n\nAn inssue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 4, 'created': '2020-05-18 07:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e81d0a13c8b5ffbe7ffbf052f9dec0b714ee1531', 'message': 'Add retry for getting amphora VM\n\nAn inssue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 5, 'created': '2020-08-24 09:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9958631cb14a92f27499e07584db7ded6bd105ab', 'message': 'Add retry for getting amphora VM\n\nAn inssue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 6, 'created': '2020-08-27 09:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2eda9610f357cbd55112f930edc4dfb9fe9d5086', 'message': 'Add retry for getting amphora VM\n\nAn issue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 7, 'created': '2020-09-02 07:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5046717643bb3866a79508164ff4e2829d225293', 'message': 'Add retry for getting amphora VM\n\nAn issue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 8, 'created': '2020-09-25 09:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e62093751c6ea738a1a25e3fe682242d3de8aa3c', 'message': 'Add retry for getting amphora VM\n\nAn issue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 9, 'created': '2021-01-21 09:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3b162cf97b6a1b93d4a6fba5672e12925fa61fbe', 'message': 'Add retry for getting amphora VM\n\nAn issue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 10, 'created': '2021-03-01 09:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6df87e25bba980f5b6cfaed95fa7c45f97b232a0', 'message': 'Add retry for getting amphora VM\n\nAn issue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 11, 'created': '2021-03-01 09:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8549cac8d97cf3a8a2acd70cfeb02b9b2d7887ec', 'message': 'Add retry for getting amphora VM\n\nAn issue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}, {'number': 12, 'created': '2021-03-01 09:44:45.000000000', 'files': ['releasenotes/notes/add-retry-for-getting-amphora-7f96ec666403ea49.yaml', 'octavia/compute/drivers/nova_driver.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/08e1d6d060f04a23849082bc8f7d08114798a3c5', 'message': 'Add retry for getting amphora VM\n\nAn issue has been observed several times when amphora VM failed\nto get, although its creation was successful.\nAdd retry to avoid stop loadbalancer creation.\n\nChange-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218\nStory: 2007637\nTask: 39690\n'}]",27,726084,08e1d6d060f04a23849082bc8f7d08114798a3c5,41,7,12,7249,,,0,"Add retry for getting amphora VM

An issue has been observed several times when amphora VM failed
to get, although its creation was successful.
Add retry to avoid stop loadbalancer creation.

Change-Id: Ic94d226ad6e25323b94bc85f3ad847937b3be218
Story: 2007637
Task: 39690
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/726084/7 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/compute/drivers/nova_driver.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py']",2,8eacdd2e6317021a662eb27df2d5d874d7d2d629,," def test_get_amphora_retried(self): self.manager.manager.get.side_effect = [Exception, self.nova_response] amphora, fault = self.manager.get_amphora(self.amphora.compute_id) self.assertEqual(self.amphora, amphora) self.assertEqual(self.nova_response.fault, fault) self.manager.manager.get.called_with(server=amphora.id) ",,17,5
openstack%2Fpython-tripleoclient~master~I821907aae8403cca79e3b1d972a1b352ef7f0e62,openstack/python-tripleoclient,master,I821907aae8403cca79e3b1d972a1b352ef7f0e62,network provision command - create/update overcloud VIPs,ABANDONED,2021-02-10 13:20:17.000000000,2021-03-05 14:32:29.000000000,,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-10 13:20:17.000000000', 'files': ['tripleoclient/tests/v2/overcloud_network/test_overcloud_network.py', 'tripleoclient/v2/overcloud_network.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9b1e1817b695a3a100df44bc6409371431ab487c', 'message': ""network provision command - create/update overcloud VIPs\n\nAdds option '--vips' and '--stack' to the 'overcloud network\nprovision' command. When '--vips' argument is used VIPs for\nthe overcloud stack specified using the '--stack' argument\nwill be created/updated.\n\nAlso renames a test.\n\nChange-Id: I821907aae8403cca79e3b1d972a1b352ef7f0e62\nDepends-On: https://review.opendev.org/774857\nPartial-Implements: blueprint network-data-v2-ports\n""}]",0,774858,9b1e1817b695a3a100df44bc6409371431ab487c,9,5,1,24245,,,0,"network provision command - create/update overcloud VIPs

Adds option '--vips' and '--stack' to the 'overcloud network
provision' command. When '--vips' argument is used VIPs for
the overcloud stack specified using the '--stack' argument
will be created/updated.

Also renames a test.

Change-Id: I821907aae8403cca79e3b1d972a1b352ef7f0e62
Depends-On: https://review.opendev.org/774857
Partial-Implements: blueprint network-data-v2-ports
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/58/774858/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/overcloud_network/test_overcloud_network.py', 'tripleoclient/v2/overcloud_network.py']",2,9b1e1817b695a3a100df44bc6409371431ab487c,network-data-v2," parser.add_argument('--vips', default=False, action='store_true', help=_('Create Virtual IP neutron API resources.')) parser.add_argument('--stack', dest='stack', help=_('Name of the overcloud heat stack ' '(default=Env: OVERCLOUD_STACK_NAME)'), default=utils.env('OVERCLOUD_STACK_NAME', default='overcloud')) ""overwrite"": overwrite, ""vips"": parsed_args.vips, ""stack"": parsed_args.stack"," ""overwrite"": overwrite",15,4
openstack%2Freleases~master~I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7,openstack/releases,master,I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7,Adding a tool to catch projects that missed branching,MERGED,2021-02-18 16:59:34.000000000,2021-03-05 14:20:39.000000000,2021-03-05 14:20:39.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-18 16:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c95b6b6348cdf3bb53ecc57905daa73a0fda9d0c', 'message': ""[WIP] Adding a tool to catch projects that missed branching\n\nThis tool will be used in doc addition around the branching period\nto ensure that we don't miss to create stable branches for project.\n\nChange-Id: I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7\n""}, {'number': 2, 'created': '2021-02-18 18:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8a9e5500de5d4350a26baca960e7abed1a54db81', 'message': ""[WIP] Adding a tool to catch projects that missed branching\n\nThis tool will be used in doc addition around the branching period\nto ensure that we don't miss to create stable branches for project.\n\nChange-Id: I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7\n""}, {'number': 3, 'created': '2021-02-18 18:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/76a700a78d7c660b036bba89ec7e8123ce14e2e7', 'message': ""Adding a tool to catch projects that missed branching\n\nThis tool will be used in doc addition around the branching period\nto ensure that we don't miss to create stable branches for project.\n\nAlso this tooling should be used around each trailing deadline to ensure\nto not forget a trailing projects. Trailing projects are those who can\neasily meet the conditions that lead to forget to branch them.\n\nChange-Id: I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7\n""}, {'number': 4, 'created': '2021-03-01 14:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4e3766f058a129ac9852b65300c28d7eb3372dfc', 'message': ""Adding a tool to catch projects that missed branching\n\nThis tool will be used in doc addition around the branching period\nto ensure that we don't miss to create stable branches for project.\n\nAlso this tooling should be used around each trailing deadline to ensure\nto not forget a trailing projects. Trailing projects are those who can\neasily meet the conditions that lead to forget to branch them.\n\nAdding usage of this tooling in our process to ensure to check that\npoint once a time at each new series.\n\nChange-Id: I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7\n""}, {'number': 5, 'created': '2021-03-03 12:51:26.000000000', 'files': ['doc/source/reference/using.rst', 'openstack_releases/series_status.py', 'doc/source/reference/process.rst', 'openstack_releases/cmds/list_series.py', 'setup.cfg', 'tools/list_unbranched_projects.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/c42fa888659b0ad7880c6c9bfac4734bfa56b825', 'message': ""Adding a tool to catch projects that missed branching\n\nThis tool will be used in doc addition around the branching period\nto ensure that we don't miss to create stable branches for project.\n\nAlso this tooling should be used around each trailing deadline to ensure\nto not forget a trailing projects. Trailing projects are those who can\neasily meet the conditions that lead to forget to branch them.\n\nAdding usage of this tooling in our process to ensure to check that\npoint once a time at each new series.\n\nChange-Id: I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7\n""}]",5,776496,c42fa888659b0ad7880c6c9bfac4734bfa56b825,20,4,5,28522,,,0,"Adding a tool to catch projects that missed branching

This tool will be used in doc addition around the branching period
to ensure that we don't miss to create stable branches for project.

Also this tooling should be used around each trailing deadline to ensure
to not forget a trailing projects. Trailing projects are those who can
easily meet the conditions that lead to forget to branch them.

Adding usage of this tooling in our process to ensure to check that
point once a time at each new series.

Change-Id: I2a8bd25ecfe5bb1bde5af16b08f897a5bdc11cb7
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/776496/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/series_status.py', 'openstack_releases/cmds/list_series.py', 'setup.cfg', 'tools/list_unbranched_projects.sh']",4,c95b6b6348cdf3bb53ecc57905daa73a0fda9d0c,ensure-branching,"#!/bin/bash # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # Extended Maintenance was introduced during Queens # All the following cycle under EM should be added there. function help { # Display helping message cat <<EOF usage: $0 [<args>] Retrieve unbranched projects for maintained series Arguments: -d, --debug Turn on the debug mode -h, --help show this help message and exit examples: $(basename $0) EOF } for i in ""$@""; do case $i in # Turn on the debug mode -d|--debug) set -x shift 1 ;; # Display the helping message -h|--help) help exit 0 ;; esac done GERRIT_URL=""https://review.opendev.org"" TOOLSDIR=""$( cd ""$( dirname ""${BASH_SOURCE[0]}"" )"" && pwd )"" BASEDIR=$(dirname $TOOLSDIR) source $TOOLSDIR/functions enable_tox_venv series=($(list-maintained-series)) # Make sure no pager is configured so the output is not blocked export PAGER= setup_temp_space 'list-eol-stale-branches' for serie in ""${series[@]}""; do echo ""Unbranched projects for ${serie}:"" grep -L ""stable/${serie}"" deliverables/${serie}/*.yaml | \ grep -v tempest | \ grep -v patrol done ",,82,2
openstack%2Ftosca-parser~master~I64c45953e5c4bb5612f5a98e65033e98b43417c7,openstack/tosca-parser,master,I64c45953e5c4bb5612f5a98e65033e98b43417c7,Make custom definitions biggest priority,MERGED,2020-06-15 15:39:28.000000000,2021-03-05 14:15:15.000000000,2021-03-05 14:14:00.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-06-15 15:39:28.000000000', 'files': ['toscaparser/elements/statefulentitytype.py'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/093fc8025eeabcbb9d1d8d0b3a4d4adc3e6e6a0d', 'message': 'Make custom definitions biggest priority\n\nMake custom type definitions bigger priority than internal normative TOSCA definitions\n\nChange-Id: I64c45953e5c4bb5612f5a98e65033e98b43417c7\nCloses-Bug: #1883562\n'}]",0,735623,093fc8025eeabcbb9d1d8d0b3a4d4adc3e6e6a0d,9,6,1,30516,,,0,"Make custom definitions biggest priority

Make custom type definitions bigger priority than internal normative TOSCA definitions

Change-Id: I64c45953e5c4bb5612f5a98e65033e98b43417c7
Closes-Bug: #1883562
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/23/735623/1 && git format-patch -1 --stdout FETCH_HEAD,['toscaparser/elements/statefulentitytype.py'],1,093fc8025eeabcbb9d1d8d0b3a4d4adc3e6e6a0d,bug/1883562, if custom_def and entitytype in list(custom_def.keys()): self.defs = custom_def[entitytype] elif entire_entitytype in list(self.TOSCA_DEF.keys()):, if entire_entitytype in list(self.TOSCA_DEF.keys()): elif custom_def and entitytype in list(custom_def.keys()): self.defs = custom_def[entitytype],3,3
openstack%2Fopenstack-ansible-ops~master~Ib922f1b254d1becdad6d6943f559a74e3c3e833a,openstack/openstack-ansible-ops,master,Ib922f1b254d1becdad6d6943f559a74e3c3e833a,Make use of systemd_service role in elasticsearch,NEW,2021-03-05 13:36:31.000000000,2021-03-05 14:05:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-05 13:36:31.000000000', 'files': ['elk_metrics_7x/roles/elasticsearch/tasks/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elasticsearch/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/systemd.elasticsearch-overrides.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/621c7cbc5693c6d33b470bc3d26cd9c30cc851fe', 'message': 'Make use of systemd_service role in elasticsearch\n\nDepends-On: Ida8668f5548a15a8f597839bd9002585aeea5d1a\n\nChange-Id: Ib922f1b254d1becdad6d6943f559a74e3c3e833a\n'}]",0,778917,621c7cbc5693c6d33b470bc3d26cd9c30cc851fe,3,2,1,25600,,,0,"Make use of systemd_service role in elasticsearch

Depends-On: Ida8668f5548a15a8f597839bd9002585aeea5d1a

Change-Id: Ib922f1b254d1becdad6d6943f559a74e3c3e833a
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/17/778917/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elasticsearch/tasks/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/systemd.general-overrides.conf.j2', 'elk_metrics_7x/roles/elasticsearch/defaults/main.yml', 'elk_metrics_7x/roles/elasticsearch/templates/systemd.elasticsearch-overrides.conf.j2']",4,621c7cbc5693c6d33b470bc3d26cd9c30cc851fe,,,{% include 'templates/systemd.general-overrides.conf.j2' %} # This first line clears the source ExecStart ExecStart= # This runs our ExecStart as an override. ExecStart=/usr/share/elasticsearch/bin/elasticsearch -p ${PID_DIR}/elasticsearch.pid {% if elastic_memory_lock | bool %} # Limit memory usage LimitMEMLOCK=infinity {% endif %} # Number of File Descriptors LimitNOFILE=65536 {% if elastic_systemd_timeout is defined %} # Allow a slow startup before the systemd notifier module kicks in to extend the timeout TimeoutStartSec={{ elastic_systemd_timeout }} {% endif %} ,39,43
openstack%2Fbarbican~stable%2Fvictoria~Iee4584c6fde08728c017468d9de1db73f2c79d8d,openstack/barbican,stable/victoria,Iee4584c6fde08728c017468d9de1db73f2c79d8d,Update hacking for Python3,MERGED,2021-03-04 20:41:12.000000000,2021-03-05 14:02:48.000000000,2021-03-05 14:00:43.000000000,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 20:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1aa486fa0b0821f47fe02da39015e0aed6964802', 'message': ""Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found by updated hacking version.\n\nUpdate local hacking checks for new flake8, remove\ntest B314 since that tests difference between Python 2 and 3,\nthere's no need to advise using six anymore.\nUse oslotest.base directly, this fixes the hacking tests.\n\nRemove ddt usage in testsuite, it does not work with current hacking\nversion anymore.\n\nChange-Id: Iee4584c6fde08728c017468d9de1db73f2c79d8d\n(cherry picked from commit 9dbeefb55eb55a9baa481ec6d6293527d46e04a5)\n""}, {'number': 2, 'created': '2021-03-04 23:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/53430861092bbf9e576958ca9002c575132e2fc2', 'message': ""Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found by updated hacking version.\n\nUpdate local hacking checks for new flake8, remove\ntest B314 since that tests difference between Python 2 and 3,\nthere's no need to advise using six anymore.\nUse oslotest.base directly, this fixes the hacking tests.\n\nRemove ddt usage in testsuite, it does not work with current hacking\nversion anymore.\n\nChange-Id: Iee4584c6fde08728c017468d9de1db73f2c79d8d\n(cherry picked from commit 9dbeefb55eb55a9baa481ec6d6293527d46e04a5)\n""}, {'number': 3, 'created': '2021-03-04 23:27:44.000000000', 'files': ['barbican/tests/common/test_utils.py', 'test-requirements.txt', 'functionaltests/api/v1/functional/test_containers.py', 'barbican/cmd/pkcs11_kek_rewrap.py', 'barbican/common/utils.py', 'barbican/tests/model/repositories/test_repositories_containers.py', 'api-guide/source/conf.py', 'barbican/cmd/keystone_listener.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/hacking/checks.py', 'barbican/model/repositories.py', 'barbican/tests/test_hacking.py', 'barbican/model/clean.py', 'barbican/plugin/snakeoil_ca.py', 'barbican/cmd/worker.py', 'tox.ini', 'barbican/common/config.py', 'barbican/plugin/dogtag.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/df5fb602f0f7c62bca0b66b64cd1da903cc7dd9b', 'message': ""Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found by updated hacking version.\n\nUpdate local hacking checks for new flake8, remove\ntest B314 since that tests difference between Python 2 and 3,\nthere's no need to advise using six anymore.\nUse oslotest.base directly, this fixes the hacking tests.\n\nRemove ddt usage in testsuite, it does not work with current hacking\nversion anymore.\n\nChange-Id: Iee4584c6fde08728c017468d9de1db73f2c79d8d\n(cherry picked from commit 9dbeefb55eb55a9baa481ec6d6293527d46e04a5)\n""}]",0,778692,df5fb602f0f7c62bca0b66b64cd1da903cc7dd9b,12,3,3,7973,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found by updated hacking version.

Update local hacking checks for new flake8, remove
test B314 since that tests difference between Python 2 and 3,
there's no need to advise using six anymore.
Use oslotest.base directly, this fixes the hacking tests.

Remove ddt usage in testsuite, it does not work with current hacking
version anymore.

Change-Id: Iee4584c6fde08728c017468d9de1db73f2c79d8d
(cherry picked from commit 9dbeefb55eb55a9baa481ec6d6293527d46e04a5)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/92/778692/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'functionaltests/api/v1/functional/test_containers.py', 'barbican/cmd/pkcs11_kek_rewrap.py', 'barbican/common/utils.py', 'api-guide/source/conf.py', 'barbican/cmd/keystone_listener.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/hacking/checks.py', 'barbican/model/repositories.py', 'barbican/tests/test_hacking.py', 'barbican/model/clean.py', 'barbican/plugin/snakeoil_ca.py', 'barbican/cmd/worker.py', 'tox.ini', 'barbican/common/config.py', 'barbican/plugin/dogtag.py']",16,1aa486fa0b0821f47fe02da39015e0aed6964802,update-hacking-stable/victoria,,,66,187
openstack%2Fglance~master~I2d397b129f9de050625ea56dba2ba4b7bfa0fc2c,openstack/glance,master,I2d397b129f9de050625ea56dba2ba4b7bfa0fc2c,WIP: download_image policy check,ABANDONED,2021-03-05 06:33:31.000000000,2021-03-05 14:00:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-05 06:33:31.000000000', 'files': ['glance/policies/image.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/8698708a102c1ea527d418939ceadb6f8b4e3d45', 'message': 'WIP: download_image policy check\n\nChange-Id: I2d397b129f9de050625ea56dba2ba4b7bfa0fc2c\n'}]",0,778845,8698708a102c1ea527d418939ceadb6f8b4e3d45,4,1,1,9303,,,0,"WIP: download_image policy check

Change-Id: I2d397b129f9de050625ea56dba2ba4b7bfa0fc2c
",git fetch https://review.opendev.org/openstack/glance refs/changes/45/778845/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/policies/image.py'],1,8698708a102c1ea527d418939ceadb6f8b4e3d45,dnm-secure-rbac," check_str=base.ADMIN_OR_PROJECT_MEMBER,"," check_str=base.ADMIN_OR_PROJECT_MEMBER_DOWNLOAD_IMAGE,",1,1
openstack%2Fironic-lib~master~I55b2cc42789218afcf4ff05cdd50a250992cb9db,openstack/ironic-lib,master,I55b2cc42789218afcf4ff05cdd50a250992cb9db,Fixes parsing blkid output with iSCSI devices,MERGED,2021-03-04 14:53:35.000000000,2021-03-05 13:59:49.000000000,2021-03-05 13:23:15.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-04 14:53:35.000000000', 'files': ['ironic_lib/utils.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/41939c60d443add76e71e069557a486a9c37ddb4', 'message': 'Fixes parsing blkid output with iSCSI devices\n\nThey have a colon in device names, so the current logic breaks.\nAlso add a more useful error message when splitting.\n\nChange-Id: I55b2cc42789218afcf4ff05cdd50a250992cb9db\n'}]",0,778714,41939c60d443add76e71e069557a486a9c37ddb4,10,3,1,10239,,,0,"Fixes parsing blkid output with iSCSI devices

They have a colon in device names, so the current logic breaks.
Also add a more useful error message when splitting.

Change-Id: I55b2cc42789218afcf4ff05cdd50a250992cb9db
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/14/778714/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/utils.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",3,41939c60d443add76e71e069557a486a9c37ddb4,split," output = output.split(': ', 1)[1]"," output = output.split(':', 1)[1]",12,6
openstack%2Foctavia~stable%2Fvictoria~I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90,openstack/octavia,stable/victoria,I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90,Fix setting None in tls_versions and tls_ciphers in pools,MERGED,2021-02-02 08:02:39.000000000,2021-03-05 13:59:26.000000000,2021-03-05 13:57:00.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2021-02-02 08:02:39.000000000', 'files': ['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py', 'releasenotes/notes/fix-unset-for-tls_versions-tls_ciphers-in-pools-7534715ce28bd8cb.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/550c1341f9f059f1792944c0060bd7a0cd5ca448', 'message': 'Fix setting None in tls_versions and tls_ciphers in pools\n\nSetting None in tls_versions and tls_ciphers should reset their value\nto the default value\n\nStory 2008367\nTask 41276\n\nChange-Id: I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90\n(cherry picked from commit 8a207a7e036538abe68db38539c2c785537171dd)\n'}]",0,773598,550c1341f9f059f1792944c0060bd7a0cd5ca448,18,4,1,29244,,,0,"Fix setting None in tls_versions and tls_ciphers in pools

Setting None in tls_versions and tls_ciphers should reset their value
to the default value

Story 2008367
Task 41276

Change-Id: I64a7072b2c4e1a12b5d908647f1eddcad7ec3b90
(cherry picked from commit 8a207a7e036538abe68db38539c2c785537171dd)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/773598/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py', 'releasenotes/notes/fix-unset-for-tls_versions-tls_ciphers-in-pools-7534715ce28bd8cb.yaml']",3,550c1341f9f059f1792944c0060bd7a0cd5ca448,,"--- fixes: - | Fix an issue when updating ``tls_versions`` and ``tls_ciphers`` in Pools with empty (None) values, unsetting theses parameters now resets their values to the default values. ",,161,0
openstack%2Fneutron~master~I85a71b389442581acc5fdd6ec18ef420e683fa2b,openstack/neutron,master,I85a71b389442581acc5fdd6ec18ef420e683fa2b,DNM Rally test of all secure-rbac patches,ABANDONED,2021-02-18 12:33:08.000000000,2021-03-05 13:58:29.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 12:33:08.000000000', 'files': ['neutron/service.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/de1d7b3897f097b4517b44ed660cc717fbe8adf8', 'message': 'DNM Rally test of all secure-rbac patches\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/764980\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/765344\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/765847\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/765526\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/765846\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/765845\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/765844\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/765840\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/765417\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/765416\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/771850\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/765391\nChange-Id: I85a71b389442581acc5fdd6ec18ef420e683fa2b\n'}]",0,776426,de1d7b3897f097b4517b44ed660cc717fbe8adf8,6,2,1,11975,,,0,"DNM Rally test of all secure-rbac patches

Depends-On: https://review.opendev.org/c/openstack/neutron/+/764980
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765344
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765847
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765526
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765846
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765845
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765844
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765840
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765417
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765416
Depends-On: https://review.opendev.org/c/openstack/neutron/+/771850
Depends-On: https://review.opendev.org/c/openstack/neutron/+/765391
Change-Id: I85a71b389442581acc5fdd6ec18ef420e683fa2b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/776426/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/service.py'],1,de1d7b3897f097b4517b44ed660cc717fbe8adf8,secure-rbac,# NOTE(SK): This is just a test of all secure-rbac rules ,,2,0
openstack%2Fironic~master~I0fa02ca41b132ebebe13bfdc03e18bd0423df087,openstack/ironic,master,I0fa02ca41b132ebebe13bfdc03e18bd0423df087,[DNM] Test the CI fix,ABANDONED,2021-03-04 14:55:04.000000000,2021-03-05 13:55:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-04 14:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d27bca38185001f4b53d52c177ccba3064bb64e2', 'message': '[DNM] Test the CI fix\n\nChange-Id: I0fa02ca41b132ebebe13bfdc03e18bd0423df087\nDepends-On: https://review.opendev.org/c/openstack/ironic-lib/+/778714\n'}, {'number': 2, 'created': '2021-03-04 21:19:19.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7994c64e5cc33d4d94211dec9bf3813cf154722', 'message': '[DNM] Test the CI fix\n\nChange-Id: I0fa02ca41b132ebebe13bfdc03e18bd0423df087\nDepends-On: https://review.opendev.org/c/openstack/ironic-lib/+/778714\n'}]",0,778718,f7994c64e5cc33d4d94211dec9bf3813cf154722,9,1,2,10239,,,0,"[DNM] Test the CI fix

Change-Id: I0fa02ca41b132ebebe13bfdc03e18bd0423df087
Depends-On: https://review.opendev.org/c/openstack/ironic-lib/+/778714
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/778718/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,d27bca38185001f4b53d52c177ccba3064bb64e2,test, required-projects: - openstack/ironic-lib,,2,0
openstack%2Fopenstack-helm~master~I044a8393575c466efdb8c4d30a740568cb8c621a,openstack/openstack-helm,master,I044a8393575c466efdb8c4d30a740568cb8c621a,Add an unlimited proxy-body-size property to horizon/values.yaml,ABANDONED,2021-03-04 21:05:47.000000000,2021-03-05 13:45:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-04 21:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7249231647d1ea9761d972ea4a99be750ec615b4', 'message': ""The current network.dashboard.ingress.annotations in horizon/values.yaml do not include the kubernetes property 'proxy-body-size'. This makes the resulting nginx.conf file in ingress add the default rule 'max_body_size 1m' to the horizon servers, which limits all http requests' size inside horizon to 1MB, making it impossible to upload images larger than that to glance using the horizon GUI, for example.\n\nThis change adds said property to horizon/values.yaml, making horizon's servers in nginx.conf include a 'max_body_size' of 0 (unlimited), which makes the image upload feature usable again.\n\nStory: 2008692\nTask: 41996\nChange-Id: I044a8393575c466efdb8c4d30a740568cb8c621a\n""}, {'number': 2, 'created': '2021-03-04 21:10:45.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ccf30107e8a6a66396edddad56de37f6474b4952', 'message': ""Add an unlimited proxy-body-size property to horizon/values.yaml\n\nThe current network.dashboard.ingress.annotations in horizon/values.yaml do not include the kubernetes property 'proxy-body-size'. This makes the resulting nginx.conf file in ingress add the default rule 'max_body_size 1m' to the horizon servers, which limits all http requests' size inside horizon to 1MB, making it impossible to upload images larger than that to glance using the horizon GUI, for example.\n\nThis change adds said property to horizon/values.yaml, making horizon's servers in nginx.conf include a 'max_body_size' of 0 (unlimited), which makes the image upload feature usable again.\n\nStory: 2008692\nTask: 41996\nChange-Id: I044a8393575c466efdb8c4d30a740568cb8c621a\n""}]",1,778777,ccf30107e8a6a66396edddad56de37f6474b4952,6,2,2,33006,,,0,"Add an unlimited proxy-body-size property to horizon/values.yaml

The current network.dashboard.ingress.annotations in horizon/values.yaml do not include the kubernetes property 'proxy-body-size'. This makes the resulting nginx.conf file in ingress add the default rule 'max_body_size 1m' to the horizon servers, which limits all http requests' size inside horizon to 1MB, making it impossible to upload images larger than that to glance using the horizon GUI, for example.

This change adds said property to horizon/values.yaml, making horizon's servers in nginx.conf include a 'max_body_size' of 0 (unlimited), which makes the image upload feature usable again.

Story: 2008692
Task: 41996
Change-Id: I044a8393575c466efdb8c4d30a740568cb8c621a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/77/778777/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,7249231647d1ea9761d972ea4a99be750ec615b4,," nginx.ingress.kubernetes.io/proxy-body-size: ""0""",,1,0
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I8d68387ba2a8000d2ccda0ab2f7899df1d529b00,openstack/puppet-tripleo,stable/victoria,I8d68387ba2a8000d2ccda0ab2f7899df1d529b00,Replace deprecated zuul template tripleo-standalone-multinode-ipa,MERGED,2021-03-04 12:38:46.000000000,2021-03-05 13:37:06.000000000,2021-03-05 13:37:06.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-03-04 12:38:46.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f5e362b5416c26c63e0a6736da735c460bac324b', 'message': 'Replace deprecated zuul template tripleo-standalone-multinode-ipa\n\nThe tripleo-standalone-multinode-ipa is being deprecated at [1]\nand instead we should be using the content provider -pipeline\nversion. Part of CI optimisation at [2].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/778662\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I8d68387ba2a8000d2ccda0ab2f7899df1d529b00\n(cherry picked from commit 62063946cf7143b97ccb1f4ccb0218d0554bcacc)\n'}]",0,778669,f5e362b5416c26c63e0a6736da735c460bac324b,10,10,1,8449,,,0,"Replace deprecated zuul template tripleo-standalone-multinode-ipa

The tripleo-standalone-multinode-ipa is being deprecated at [1]
and instead we should be using the content provider -pipeline
version. Part of CI optimisation at [2].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/778662
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I8d68387ba2a8000d2ccda0ab2f7899df1d529b00
(cherry picked from commit 62063946cf7143b97ccb1f4ccb0218d0554bcacc)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/69/778669/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f5e362b5416c26c63e0a6736da735c460bac324b,tripleo-ci-reduce, - tripleo-standalone-multinode-ipa-pipeline, - tripleo-standalone-multinode-ipa,1,1
openstack%2Fdevstack~master~I52fec12b78ecd8f76f835551ccb84dfb1d5b3d8a,openstack/devstack,master,I52fec12b78ecd8f76f835551ccb84dfb1d5b3d8a,nova: Die if console TLS enabled with tls-proxy,MERGED,2021-03-02 16:52:27.000000000,2021-03-05 13:32:21.000000000,2021-03-05 13:29:35.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 16:52:27.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8f3e51d79f392151023f3853a6c8a3f7b868ecfa', 'message': ""nova: Die if console TLS enabled with tls-proxy\n\nWe require the 'tls-proxy' service to set up certificates for us. Hard\nfail if 'NOVA_CONSOLE_PROXY_COMPUTE_TLS' is enabled but the 'tls-proxy'\nservice is not.\n\nChange-Id: I52fec12b78ecd8f76f835551ccb84dfb1d5b3d8a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,778217,8f3e51d79f392151023f3853a6c8a3f7b868ecfa,8,3,1,15334,,,0,"nova: Die if console TLS enabled with tls-proxy

We require the 'tls-proxy' service to set up certificates for us. Hard
fail if 'NOVA_CONSOLE_PROXY_COMPUTE_TLS' is enabled but the 'tls-proxy'
service is not.

Change-Id: I52fec12b78ecd8f76f835551ccb84dfb1d5b3d8a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/778217/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,8f3e51d79f392151023f3853a6c8a3f7b868ecfa,trivial,"# Validate configuration if ! is_service_enabled tls-proxy && [ ""$NOVA_CONSOLE_PROXY_COMPUTE_TLS"" == ""True"" ]; then die $LINENO ""enabling TLS for the console proxy requires the tls-proxy service"" fi ",,5,0
openstack%2Fnova~master~Iff5ca9f4a51fe30435e57f0a9ca3d43a2065978c,openstack/nova,master,Iff5ca9f4a51fe30435e57f0a9ca3d43a2065978c,tests: Stop mocking 'nova.virt.libvirt.utils.get_arch',MERGED,2021-03-05 11:00:30.000000000,2021-03-05 13:32:15.000000000,2021-03-05 13:29:49.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 11:00:30.000000000', 'files': ['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a65e4201cc03f89d37296ddb803934c5a7977a71', 'message': ""tests: Stop mocking 'nova.virt.libvirt.utils.get_arch'\n\nIn change I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c we introduced a mock\nof nova.virt.libvirt.utils.get_arch' to the 'FakeLibvirtFixture'. This\nwas a follow-up to change Icf55488e61793d5b055d230c8524df8210cd00fd\nwhich introduced this mock for many individual libvirt-related tests. In\nchange I458b1db091e33c0b835e44b5a86de6c0a08f99a3, we decided to poison\n'os.uname' rather than 'get_arch' since that was the underlying cause of\ntest differences, but we never extended this reasoning to the existing\nmocks of 'get_arch'. The mocking of 'get_arch' is now a hindrance to any\ntest that wants to validate behavior where the architecture requested\nvia image metadata (the 'hw_architecture' property) differs from the\nhost architecture, so it is time to make this switch and stop mocking\n'get_arch' (almost) entirely.\n\nChange-Id: Iff5ca9f4a51fe30435e57f0a9ca3d43a2065978c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,778879,a65e4201cc03f89d37296ddb803934c5a7977a71,10,3,1,15334,,,0,"tests: Stop mocking 'nova.virt.libvirt.utils.get_arch'

In change I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c we introduced a mock
of nova.virt.libvirt.utils.get_arch' to the 'FakeLibvirtFixture'. This
was a follow-up to change Icf55488e61793d5b055d230c8524df8210cd00fd
which introduced this mock for many individual libvirt-related tests. In
change I458b1db091e33c0b835e44b5a86de6c0a08f99a3, we decided to poison
'os.uname' rather than 'get_arch' since that was the underlying cause of
test differences, but we never extended this reasoning to the existing
mocks of 'get_arch'. The mocking of 'get_arch' is now a hindrance to any
test that wants to validate behavior where the architecture requested
via image metadata (the 'hw_architecture' property) differs from the
host architecture, so it is time to make this switch and stop mocking
'get_arch' (almost) entirely.

Change-Id: Iff5ca9f4a51fe30435e57f0a9ca3d43a2065978c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/778879/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,a65e4201cc03f89d37296ddb803934c5a7977a71,bp/smarter-usb-devices,"import collections_fake_NodeDevXml_children = collections.defaultdict(list) :rtype: collections.OrderedDict disk_info = collections.OrderedDict() # ensure tests perform the same on all host architectures; this is # already done by the fakelibvirt fixture but we want to change the # architecture in some tests _p = mock.patch('os.uname') self.mock_uname = _p.start() self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.X86_64) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.PPC64) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.S390X) fake_domain_caps.return_value = collections.defaultdict( self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', guestarch) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', guestarch) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', guestarch) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', guestarch) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.I686) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', guestarch) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', guestarch) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', guest_arch) guest = vconfig.LibvirtConfigGuest() image_meta = objects.ImageMeta.from_dict({}) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.X86_64) self.mock_uname.assert_called_once() self.mock_uname.reset_mock() self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.S390) self.mock_uname.assert_called_once() self.mock_uname.reset_mock() self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.S390X) self.mock_uname.assert_called_once() self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', arch_to_mock) guest_cfg = vconfig.LibvirtConfigGuest() self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.S390X) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.ARMV7) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.AARCH64) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.AARCH64) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', guestarch) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.PPC64) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', guestarch) self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', guestarch) mock_volume_get.return_value = { 'attachments': collections.OrderedDict(attachments), 'multiattach': True, 'id': 'd30559cf-f092-4693-8589-0d0a1e7d9b1f', } mock_volume_get.return_value = { 'attachments': collections.OrderedDict(attachments), 'multiattach': True, 'id': 'd30559cf-f092-4693-8589-0d0a1e7d9b1f', } drvr.active_migrations[instance.uuid] = collections.deque() drvr.active_migrations[instance.uuid] = collections.deque()","from collections import defaultdict from collections import deque from collections import OrderedDict_fake_NodeDevXml_children = defaultdict(list) :rtype: OrderedDict disk_info = OrderedDict() # ensure tests perform the same on all host architectures _p = mock.patch( 'nova.virt.libvirt.utils.get_arch', return_value=fields.Architecture.X86_64) self.mock_get_arch = _p.start() self.mock_get_arch.return_value = fields.Architecture.PPC64 self.mock_get_arch.return_value = fields.Architecture.S390X fake_domain_caps.return_value = defaultdict( self.mock_get_arch.return_value = guestarch self.mock_get_arch.return_value = guestarch self.mock_get_arch.return_value = guestarch self.mock_get_arch.return_value = guestarch self.mock_get_arch.return_value = fields.Architecture.I686 self.mock_get_arch.return_value = guestarch self.mock_get_arch.return_value = guestarch self.mock_get_arch.return_value = guest_arch guest = vconfig.LibvirtConfigGuest() image_meta = objects.ImageMeta() self.mock_get_arch.return_value = fields.Architecture.X86_64 self.mock_get_arch.assert_called_with(image_meta) self.mock_get_arch.reset_mock() self.mock_get_arch.return_value = fields.Architecture.S390 self.mock_get_arch.assert_called_with(image_meta) self.mock_get_arch.reset_mock() self.mock_get_arch.return_value = fields.Architecture.S390X self.mock_get_arch.assert_called_with(image_meta) guest_cfg = vconfig.LibvirtConfigGuest() self.mock_get_arch.return_value = arch_to_mock self.mock_get_arch.return_value = fields.Architecture.S390X self.mock_get_arch.return_value = fields.Architecture.ARMV7 self.mock_get_arch.return_value = fields.Architecture.AARCH64 self.mock_get_arch.return_value = fields.Architecture.AARCH64 self.mock_get_arch.return_value = guestarch self.mock_get_arch.return_value = fields.Architecture.PPC64 self.mock_get_arch.return_value = guestarch self.mock_get_arch.return_value = guestarch mock_volume_get.return_value = ( {'attachments': OrderedDict(attachments), 'multiattach': True, 'id': 'd30559cf-f092-4693-8589-0d0a1e7d9b1f'}) mock_volume_get.return_value = ( {'attachments': OrderedDict(attachments), 'multiattach': True, 'id': 'd30559cf-f092-4693-8589-0d0a1e7d9b1f'}) drvr.active_migrations[instance.uuid] = deque() drvr.active_migrations[instance.uuid] = deque()",94,68
openstack%2Foctavia~master~Icb1430a3709566796e39fbfa962c2541c504b9ae,openstack/octavia,master,Icb1430a3709566796e39fbfa962c2541c504b9ae,Fix health manager messages about failed failovers,MERGED,2021-02-18 14:23:00.000000000,2021-03-05 13:30:35.000000000,2021-03-05 13:24:31.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 14:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/31efbaedf50b15a409e2aafd6ec341cd3e3578b7', 'message': 'Fix health manager messages about failed failovers\n\nThe health manager displayed some incorrect statistics about failed\nfailovers, they were marked as ""successfully completed failovers"".\nThe exception from the failover_amphora function was not reraised when\ncalled from health-manager, now the exception is reraised, allowing the\nhealth-manager to compute correct statistics.\n\nStory 2008636\nTask 41876\n\nChange-Id: Icb1430a3709566796e39fbfa962c2541c504b9ae\n'}, {'number': 2, 'created': '2021-02-18 15:06:23.000000000', 'files': ['octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/controller/healthmanager/health_manager.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3f6fb8af228b60aebde18dc974d40d6d9cb3dc0a', 'message': 'Fix health manager messages about failed failovers\n\nThe health manager displayed some incorrect statistics about failed\nfailovers, they were marked as ""successfully completed failovers"".\nThe exception from the failover_amphora function was not reraised when\ncalled from health-manager, now the exception is reraised, allowing the\nhealth-manager to compute correct statistics.\n\nStory 2008636\nTask 41876\n\nChange-Id: Icb1430a3709566796e39fbfa962c2541c504b9ae\n'}]",0,776467,3f6fb8af228b60aebde18dc974d40d6d9cb3dc0a,11,4,2,29244,,,0,"Fix health manager messages about failed failovers

The health manager displayed some incorrect statistics about failed
failovers, they were marked as ""successfully completed failovers"".
The exception from the failover_amphora function was not reraised when
called from health-manager, now the exception is reraised, allowing the
health-manager to compute correct statistics.

Story 2008636
Task 41876

Change-Id: Icb1430a3709566796e39fbfa962c2541c504b9ae
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/776467/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/controller/healthmanager/health_manager.py']",5,31efbaedf50b15a409e2aafd6ec341cd3e3578b7,," self.cw.failover_amphora, amp_health.amphora_id, reraise=True)"," self.cw.failover_amphora, amp_health.amphora_id)",58,5
openstack%2Ftripleo-ansible~stable%2Fussuri~Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,openstack/tripleo-ansible,stable/ussuri,Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,[tripleo_transfer] Do transfers directly from src to dst,MERGED,2021-03-04 11:54:40.000000000,2021-03-05 13:30:25.000000000,2021-03-05 13:30:25.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-03-04 11:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d86879606c87743ca6b12eb10c76f0d36b42a966', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\nDepends-On: https://review.opendev.org/778649\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)\n'}, {'number': 2, 'created': '2021-03-04 11:57:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/vars/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/flag.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7775d18a2bed76d6559621f8bcabcf4c59f604a', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\nDepends-On: https://review.opendev.org/778649\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)\n'}]",0,778655,c7775d18a2bed76d6559621f8bcabcf4c59f604a,10,4,2,6816,,,0,"[tripleo_transfer] Do transfers directly from src to dst

When running fetch with become, the slurp module will also
be used to fetch the contents of the file for determining
the remote checksum. This effectively doubles the transfer
size [0] and shows up as a MemoryError when the file size
is large enough.

In TripleO this is problematic in large & old deployments
when transferring the /var/lib/mysql folder.

This patch switches to using rsync directly between the src
and dst hosts to transfer the data. This is advantageous not
only for solving the above-mentioned bug, but is also faster.

A simpler implementation using synchronize was attempted [1],
but there were issues with the mistral container which
prevented that approach from being successful.

[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes
[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11

Closes-Bug: #1908425
Closes-Bug: rhbz#1904681
Closes-Bug: rhbz#1916162
Depends-On: https://review.opendev.org/778649

Change-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f
(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/778655/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/vars/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/flag.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",5,d86879606c87743ca6b12eb10c76f0d36b42a966,bz/1916162-stable/ussuri,"- name: Collect facts hosts: all gather_facts: false any_errors_fatal: true tasks: - name: Gather a minimal set of facts setup: gather_subset: '!all,min'", tripleo_transfer_storage_root_dir: /tmp/transfer-staging,100,97
openstack%2Foctavia~master~I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,openstack/octavia,master,I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,Fix LB failover when IP addresses exhausted,MERGED,2021-03-04 23:50:33.000000000,2021-03-05 13:21:57.000000000,2021-03-05 13:09:22.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2021-03-04 23:50:33.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/Fix-failover-ip-addresses-exhausted-69110b2fa4683e1a.yaml', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3ab49c60aa835cb4034568ea25f06472127388c', 'message': 'Fix LB failover when IP addresses exhausted\n\nWhen a load balancer failover was performed on a load balancer where\nthe VIP address is on a subnet that has no IP addresses available,\nthe VIP address may be deactivated.\nThis patch corrects the failover flow to not deallocate the VIP\naddress on a failover revert flow due to the subnet being out of\nIP addresses.\n\nStory: 2008625\nTask: 41827\nChange-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b\n'}]",0,778797,e3ab49c60aa835cb4034568ea25f06472127388c,14,6,1,11628,,,0,"Fix LB failover when IP addresses exhausted

When a load balancer failover was performed on a load balancer where
the VIP address is on a subnet that has no IP addresses available,
the VIP address may be deactivated.
This patch corrects the failover flow to not deallocate the VIP
address on a failover revert flow due to the subnet being out of
IP addresses.

Story: 2008625
Task: 41827
Change-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/97/778797/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/Fix-failover-ip-addresses-exhausted-69110b2fa4683e1a.yaml', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py']",7,e3ab49c60aa835cb4034568ea25f06472127388c,," network_tasks.AllocateVIPforFailover( requires=constants.LOADBALANCER, provides=constants.VIP))"," network_tasks.AllocateVIP(requires=constants.LOADBALANCER, provides=constants.VIP))",74,4
openstack%2Foctavia~stable%2Ftrain~I6dd8e99b07ff557674871cb503dece96a9df3ada,openstack/octavia,stable/train,I6dd8e99b07ff557674871cb503dece96a9df3ada,Disable auto configuration of new interfaces in NetworkManager,MERGED,2021-02-22 08:19:48.000000000,2021-03-05 13:21:41.000000000,2021-03-05 13:07:13.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 08:19:48.000000000', 'files': ['elements/amphora-agent/static/etc/NetworkManager/conf.d/no-auto-default.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0288729295df217788a7e2c42034df84188807f8', 'message': 'Disable auto configuration of new interfaces in NetworkManager\n\nNetworkManager in Centos images configures new network devices as soon\nas they appear in the default namespace, it means that we might have\nconflicts between the management interface\'s routes and address and the\nnew VIP or member interfaces\' routes and addresses during a small period\nof time before they are moved to the amphora-haproxy namespace.\n\nNow, the ""no-auto-default=*"" option is enabled in NetworkManager, it\ndisables the configuration of new interfaces, while the management\ninterface is still enabled/configured through cloud-init.\n\nStory 2008599\nTask 41773\n\nChange-Id: I6dd8e99b07ff557674871cb503dece96a9df3ada\n(cherry picked from commit a518cefda1332042d50e5ce2814f0af933c62457)\n(cherry picked from commit b9f622b335dd4f95f1a6004bb94159f891ca0980)\n(cherry picked from commit 7b2424685e9f29116d48cf2d0922f552fd4c2fdd)\n'}]",0,776905,0288729295df217788a7e2c42034df84188807f8,8,4,1,6469,,,0,"Disable auto configuration of new interfaces in NetworkManager

NetworkManager in Centos images configures new network devices as soon
as they appear in the default namespace, it means that we might have
conflicts between the management interface's routes and address and the
new VIP or member interfaces' routes and addresses during a small period
of time before they are moved to the amphora-haproxy namespace.

Now, the ""no-auto-default=*"" option is enabled in NetworkManager, it
disables the configuration of new interfaces, while the management
interface is still enabled/configured through cloud-init.

Story 2008599
Task 41773

Change-Id: I6dd8e99b07ff557674871cb503dece96a9df3ada
(cherry picked from commit a518cefda1332042d50e5ce2814f0af933c62457)
(cherry picked from commit b9f622b335dd4f95f1a6004bb94159f891ca0980)
(cherry picked from commit 7b2424685e9f29116d48cf2d0922f552fd4c2fdd)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/776905/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/static/etc/NetworkManager/conf.d/no-auto-default.conf'],1,0288729295df217788a7e2c42034df84188807f8,,[main] # Disable auto configuration for newly detected devices. # This prevents having temporary addresses and routes in the default namespace # between the detection of a new devices and its move to the amphora-haproxy # namespace. # The management interface configuration is triggered by cloud-init. no-auto-default=* ,,7,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,openstack/tripleo-ansible,stable/victoria,Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,[tripleo_transfer] Do transfers directly from src to dst,MERGED,2021-03-04 11:53:32.000000000,2021-03-05 13:21:22.000000000,2021-03-05 13:21:22.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-03-04 11:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eed02aca75d6dd8796557cefff406c70828b7e97', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\nDepends-On: https://review.opendev.org/778648\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)\n'}, {'number': 2, 'created': '2021-03-04 11:56:50.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/vars/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/flag.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/447eae0f560ec816b177a297da52e056be5dbde5', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\nDepends-On: https://review.opendev.org/778648\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)\n'}]",0,778654,447eae0f560ec816b177a297da52e056be5dbde5,10,4,2,6816,,,0,"[tripleo_transfer] Do transfers directly from src to dst

When running fetch with become, the slurp module will also
be used to fetch the contents of the file for determining
the remote checksum. This effectively doubles the transfer
size [0] and shows up as a MemoryError when the file size
is large enough.

In TripleO this is problematic in large & old deployments
when transferring the /var/lib/mysql folder.

This patch switches to using rsync directly between the src
and dst hosts to transfer the data. This is advantageous not
only for solving the above-mentioned bug, but is also faster.

A simpler implementation using synchronize was attempted [1],
but there were issues with the mistral container which
prevented that approach from being successful.

[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes
[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11

Closes-Bug: #1908425
Closes-Bug: rhbz#1904681
Closes-Bug: rhbz#1916162
Depends-On: https://review.opendev.org/778648

Change-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f
(cherry picked from commit d7730980c9a45e93b314e5971e876e11b2ce12a9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/778654/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/vars/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/flag.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",5,eed02aca75d6dd8796557cefff406c70828b7e97,bz/1916162-stable/victoria,"- name: Collect facts hosts: all gather_facts: false any_errors_fatal: true tasks: - name: Gather a minimal set of facts setup: gather_subset: '!all,min'", tripleo_transfer_storage_root_dir: /tmp/transfer-staging,100,97
openstack%2Foctavia~stable%2Fussuri~I736816247131715f5c385b4680614ec3218a2ad7,openstack/octavia,stable/ussuri,I736816247131715f5c385b4680614ec3218a2ad7,Fix pools going into ERROR when updating the pool,MERGED,2021-02-22 08:21:27.000000000,2021-03-05 13:16:26.000000000,2021-03-05 13:07:04.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 08:21:27.000000000', 'files': ['releasenotes/notes/fix-pool-crl-2cc6f2705f5b2009.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ebe234eb252ffd4a051eab6bf05e587430d8432e', 'message': 'Fix pools going into ERROR when updating the pool\n\nThere was a bug that would cause a pool to go into ERROR if you attempted\nto update the CRL or client certificate on the pool.\n\nChange-Id: I736816247131715f5c385b4680614ec3218a2ad7\nStory: 2008295\nTask: 41180\n(cherry picked from commit 370aa4e61c421311b06d986aafdf123cd6737fd8)\n(cherry picked from commit 24e3a4d93a5c0ae6dcc880b35bd847ba0393e040)\n'}]",0,776907,ebe234eb252ffd4a051eab6bf05e587430d8432e,8,3,1,6469,,,0,"Fix pools going into ERROR when updating the pool

There was a bug that would cause a pool to go into ERROR if you attempted
to update the CRL or client certificate on the pool.

Change-Id: I736816247131715f5c385b4680614ec3218a2ad7
Story: 2008295
Task: 41180
(cherry picked from commit 370aa4e61c421311b06d986aafdf123cd6737fd8)
(cherry picked from commit 24e3a4d93a5c0ae6dcc880b35bd847ba0393e040)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/776907/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-pool-crl-2cc6f2705f5b2009.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",5,ebe234eb252ffd4a051eab6bf05e587430d8432e,," pool_dict['tls_certificate_id'] = pool_dict.pop( 'tls_container_ref') if 'crl_container_ref' in pool_dict: pool_dict['crl_container_id'] = pool_dict.pop('crl_container_ref') pool_dict.pop('crl_container_data', None)"," pool_dict['tls_container_id'] = pool_dict.pop('tls_container_ref') if 'client_crl_container_ref' in pool_dict: pool_dict['client_crl_container_id'] = pool_dict.pop( 'client_crl_container_ref') pool_dict.pop('client_crl_container_data', None)",41,14
openstack%2Fpuppet-tripleo~master~I8d68387ba2a8000d2ccda0ab2f7899df1d529b00,openstack/puppet-tripleo,master,I8d68387ba2a8000d2ccda0ab2f7899df1d529b00,Replace deprecated zuul template tripleo-standalone-multinode-ipa,MERGED,2021-03-04 12:17:23.000000000,2021-03-05 13:15:50.000000000,2021-03-05 13:15:50.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 12:17:23.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/62063946cf7143b97ccb1f4ccb0218d0554bcacc', 'message': 'Replace deprecated zuul template tripleo-standalone-multinode-ipa\n\nThe tripleo-standalone-multinode-ipa is being deprecated at [1]\nand instead we should be using the content provider -pipeline\nversion. Part of CI optimisation at [2].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/778662\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I8d68387ba2a8000d2ccda0ab2f7899df1d529b00\n'}]",0,778664,62063946cf7143b97ccb1f4ccb0218d0554bcacc,9,7,1,8449,,,0,"Replace deprecated zuul template tripleo-standalone-multinode-ipa

The tripleo-standalone-multinode-ipa is being deprecated at [1]
and instead we should be using the content provider -pipeline
version. Part of CI optimisation at [2].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/778662
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I8d68387ba2a8000d2ccda0ab2f7899df1d529b00
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/64/778664/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,62063946cf7143b97ccb1f4ccb0218d0554bcacc,tripleo-ci-reduce, - tripleo-standalone-multinode-ipa-pipeline, - tripleo-standalone-multinode-ipa,1,1
openstack%2Foctavia~stable%2Fvictoria~Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,openstack/octavia,stable/victoria,Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,Fix overriding default listener timeout values in config file,MERGED,2021-03-03 07:47:46.000000000,2021-03-05 13:15:23.000000000,2021-03-05 13:09:55.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2021-03-03 07:47:46.000000000', 'files': ['releasenotes/notes/fix-default-timeout-values-for-listeners-108c8048ba8beb9a.yaml', 'octavia/api/v2/types/listener.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/db/prepare.py', 'octavia/tests/functional/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bf7632e65b8458ff5e2e5dbf739299a36eac3d26', 'message': 'Fix overriding default listener timeout values in config file\n\nThe default value for timeout parameters in the BaseListenerType was\nnot correctly set because the class was defined before reading the\nconfig file.\n\nStory 2008666\nTask 41953\n\nChange-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88\n(cherry picked from commit b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932)\n'}]",0,778377,bf7632e65b8458ff5e2e5dbf739299a36eac3d26,11,4,1,29244,,,0,"Fix overriding default listener timeout values in config file

The default value for timeout parameters in the BaseListenerType was
not correctly set because the class was defined before reading the
config file.

Story 2008666
Task 41953

Change-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88
(cherry picked from commit b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/77/778377/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-default-timeout-values-for-listeners-108c8048ba8beb9a.yaml', 'octavia/api/v2/types/listener.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/db/prepare.py', 'octavia/tests/functional/api/v2/test_listener.py']",5,bf7632e65b8458ff5e2e5dbf739299a36eac3d26,," def test_create_with_default_timeouts(self): self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group='haproxy_amphora', timeout_client_data=20) self.conf.config(group='haproxy_amphora', timeout_member_connect=21) self.conf.config(group='haproxy_amphora', timeout_member_data=constants.MIN_TIMEOUT) self.conf.config(group='haproxy_amphora', timeout_tcp_inspect=constants.MAX_TIMEOUT) listener_api = self.test_create() self.assertEqual(20, listener_api.get('timeout_client_data')) self.assertEqual(21, listener_api.get('timeout_member_connect')) self.assertEqual(constants.MIN_TIMEOUT, listener_api.get('timeout_member_data')) self.assertEqual(constants.MAX_TIMEOUT, listener_api.get('timeout_tcp_inspect')) ",,99,21
openstack%2Fironic~master~I68c5f2bae76ca313ba77285747dc6b1bc8b623b9,openstack/ironic,master,I68c5f2bae76ca313ba77285747dc6b1bc8b623b9,Port/Portgroup project scoped access,MERGED,2021-02-13 00:37:13.000000000,2021-03-05 13:14:32.000000000,2021-03-05 13:05:50.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-13 00:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb848a54807f1be8908e312904e6be5ed50ba6fb', 'message': 'WIP: port/portgroup project scoped access\n\nChange-Id: I68c5f2bae76ca313ba77285747dc6b1bc8b623b9\n'}, {'number': 2, 'created': '2021-02-13 18:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4aaffe9297799c3f57df7cdc811d1b644ee3bc2c', 'message': 'WIP: port/portgroup project scoped access\n\nChange-Id: I68c5f2bae76ca313ba77285747dc6b1bc8b623b9\n'}, {'number': 3, 'created': '2021-02-17 20:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/91a33cdc2c1a4e1acede32988d23bec95bf401a1', 'message': 'WIP: port/portgroup project scoped access\n\nChange-Id: I68c5f2bae76ca313ba77285747dc6b1bc8b623b9\n'}, {'number': 4, 'created': '2021-02-18 05:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/80a538443ce8bc868350a1677bc4412e9df74676', 'message': ""Port/Portgroup project scoped access\n\nThis patch implements the project scoped rbac policies for a\nsystem and project scoped deployment of ironic. Because of the\nnature of Ports and Portgroups, along with the subcontroller\nresources, this change was a little more invasive than was\noriginally anticipated. In that process, along with some\ndiscussion in the #openstack-ironic IRC channel, that it\nwould be most security concious to respond only with 404s if\nthe user simply does not have access to the underlying node\nobject.\n\nIn essence, their view of the universe has been restricted as\nthey have less acess rights, and we appropriately enforce that.\nNot expecting that, or not conciously being aware of that, can\nquickly lead to confusion though. Possibly a day or more of\nJulia's life as well, but it comes down to perceptions and\nawareness.\n\nChange-Id: I68c5f2bae76ca313ba77285747dc6b1bc8b623b9\n""}, {'number': 5, 'created': '2021-02-23 23:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cb6dab788e7d256927eda2191bbadd2a548d37e7', 'message': ""WIP Port/Portgroup project scoped access\n\nThis patch implements the project scoped rbac policies for a\nsystem and project scoped deployment of ironic. Because of the\nnature of Ports and Portgroups, along with the subcontroller\nresources, this change was a little more invasive than was\noriginally anticipated. In that process, along with some\ndiscussion in the #openstack-ironic IRC channel, that it\nwould be most security concious to respond only with 404s if\nthe user simply does not have access to the underlying node\nobject.\n\nIn essence, their view of the universe has been restricted as\nthey have less acess rights, and we appropriately enforce that.\nNot expecting that, or not conciously being aware of that, can\nquickly lead to confusion though. Possibly a day or more of\nJulia's life as well, but it comes down to perceptions and\nawareness.\n\nChange-Id: I68c5f2bae76ca313ba77285747dc6b1bc8b623b9\n""}, {'number': 6, 'created': '2021-02-24 17:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae22bd86695929878ff60bf0eb52248eae2cbba3', 'message': ""Port/Portgroup project scoped access\n\nThis patch implements the project scoped rbac policies for a\nsystem and project scoped deployment of ironic. Because of the\nnature of Ports and Portgroups, along with the subcontroller\nresources, this change was a little more invasive than was\noriginally anticipated. In that process, along with some\ndiscussion in the #openstack-ironic IRC channel, that it\nwould be most security concious to respond only with 404s if\nthe user simply does not have access to the underlying node\nobject.\n\nIn essence, their view of the universe has been restricted as\nthey have less acess rights, and we appropriately enforce that.\nNot expecting that, or not conciously being aware of that, can\nquickly lead to confusion though. Possibly a day or more of\nJulia's life as well, but it comes down to perceptions and\nawareness.\n\nChange-Id: I68c5f2bae76ca313ba77285747dc6b1bc8b623b9\n""}, {'number': 7, 'created': '2021-03-01 18:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/270e7058bbec9d544b273ad321c0f0173e1edc09', 'message': ""Port/Portgroup project scoped access\n\nThis patch implements the project scoped rbac policies for a\nsystem and project scoped deployment of ironic. Because of the\nnature of Ports and Portgroups, along with the subcontroller\nresources, this change was a little more invasive than was\noriginally anticipated. In that process, along with some\ndiscussion in the #openstack-ironic IRC channel, that it\nwould be most security concious to respond only with 404s if\nthe user simply does not have access to the underlying node\nobject.\n\nIn essence, their view of the universe has been restricted as\nthey have less acess rights, and we appropriately enforce that.\nNot expecting that, or not conciously being aware of that, can\nquickly lead to confusion though. Possibly a day or more of\nJulia's life as well, but it comes down to perceptions and\nawareness.\n\nChange-Id: I68c5f2bae76ca313ba77285747dc6b1bc8b623b9\n""}, {'number': 8, 'created': '2021-03-02 23:45:29.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/api/test_acl.py', 'ironic/objects/portgroup.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml', 'ironic/tests/unit/objects/test_portgroup.py', 'ironic/tests/unit/api/test_rbac_legacy.yaml', 'doc/source/admin/secure-rbac.rst', 'ironic/db/sqlalchemy/api.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/api/controllers/v1/node.py', 'ironic/db/api.py', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9dfe5ddaad7324d8d89fef0661f41f18542028f', 'message': ""Port/Portgroup project scoped access\n\nThis patch implements the project scoped rbac policies for a\nsystem and project scoped deployment of ironic. Because of the\nnature of Ports and Portgroups, along with the subcontroller\nresources, this change was a little more invasive than was\noriginally anticipated. In that process, along with some\ndiscussion in the #openstack-ironic IRC channel, that it\nwould be most security concious to respond only with 404s if\nthe user simply does not have access to the underlying node\nobject.\n\nIn essence, their view of the universe has been restricted as\nthey have less acess rights, and we appropriately enforce that.\nNot expecting that, or not conciously being aware of that, can\nquickly lead to confusion though. Possibly a day or more of\nJulia's life as well, but it comes down to perceptions and\nawareness.\n\nChange-Id: I68c5f2bae76ca313ba77285747dc6b1bc8b623b9\n""}]",36,775465,e9dfe5ddaad7324d8d89fef0661f41f18542028f,50,5,8,11655,,,0,"Port/Portgroup project scoped access

This patch implements the project scoped rbac policies for a
system and project scoped deployment of ironic. Because of the
nature of Ports and Portgroups, along with the subcontroller
resources, this change was a little more invasive than was
originally anticipated. In that process, along with some
discussion in the #openstack-ironic IRC channel, that it
would be most security concious to respond only with 404s if
the user simply does not have access to the underlying node
object.

In essence, their view of the universe has been restricted as
they have less acess rights, and we appropriately enforce that.
Not expecting that, or not conciously being aware of that, can
quickly lead to confusion though. Possibly a day or more of
Julia's life as well, but it comes down to perceptions and
awareness.

Change-Id: I68c5f2bae76ca313ba77285747dc6b1bc8b623b9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/775465/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/api/test_acl.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml']",7,eb848a54807f1be8908e312904e6be5ed50ba6fb,secure-rbac, body: node_uuid: 22e26c0b-03f2-4d2e-ae87-c02d7f33c000 address: 03:04:05:06:07:08, body: *port_body,133,97
openstack%2Foctavia~stable%2Ftrain~If2841720009c2e402127e2e0080efdd56b68f6c9,openstack/octavia,stable/train,If2841720009c2e402127e2e0080efdd56b68f6c9,Configure rsyslog on Octavia service nodes in devstack,MERGED,2021-02-22 08:51:42.000000000,2021-03-05 13:14:05.000000000,2021-03-05 13:06:25.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 08:51:42.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/726d322f0a6edd52ff281a320a5c0505f3e97792', 'message': 'Configure rsyslog on Octavia service nodes in devstack\n\n{admin,tenant}_log_targets options are configured with\nMGMT_PORT_IP in devstack, which contains the IP address\nof the local management interface. In multinode setup,\nit means that the second node should run a rsyslog\nservice to receive logs from amphorae that have been\nspawned by its worker.\n\nChange-Id: If2841720009c2e402127e2e0080efdd56b68f6c9\n(cherry picked from commit f45092a87673b54d578d8df058917e325d9b77b8)\n(cherry picked from commit 0e593f4d2645f74e780b6da288f2fc36f75dca8e)\n(cherry picked from commit e9bc5d9f71c54fc05f93c6359ee1275e97ea4760)\n'}]",0,776912,726d322f0a6edd52ff281a320a5c0505f3e97792,9,4,1,6469,,,0,"Configure rsyslog on Octavia service nodes in devstack

{admin,tenant}_log_targets options are configured with
MGMT_PORT_IP in devstack, which contains the IP address
of the local management interface. In multinode setup,
it means that the second node should run a rsyslog
service to receive logs from amphorae that have been
spawned by its worker.

Change-Id: If2841720009c2e402127e2e0080efdd56b68f6c9
(cherry picked from commit f45092a87673b54d578d8df058917e325d9b77b8)
(cherry picked from commit 0e593f4d2645f74e780b6da288f2fc36f75dca8e)
(cherry picked from commit e9bc5d9f71c54fc05f93c6359ee1275e97ea4760)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/12/776912/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,726d322f0a6edd52ff281a320a5c0505f3e97792,, configure_rsyslog, configure_rsyslog,1,2
openstack%2Foctavia~master~I6505243ddbf1eab7d110e9bfa03bffda840f07ae,openstack/octavia,master,I6505243ddbf1eab7d110e9bfa03bffda840f07ae,Fix grenade resource waiters,MERGED,2021-03-05 01:40:26.000000000,2021-03-05 13:13:48.000000000,2021-03-05 13:07:20.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 01:40:26.000000000', 'files': ['devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d17b23282cf7c315251a37f39fa8d3fc35c05e3c', 'message': 'Fix grenade resource waiters\n\nThe grenade job resource.sh script is waiting for the created object\nstatus but not the overall load balancer status to go ACTIVE.\nThis can lead to the script failing with a 409 error.\n\nThis patch adds a check for the load balancer to be unlocked before\nadvancing to the next create call.\n\nChange-Id: I6505243ddbf1eab7d110e9bfa03bffda840f07ae\n'}]",0,778804,d17b23282cf7c315251a37f39fa8d3fc35c05e3c,8,4,1,11628,,,0,"Fix grenade resource waiters

The grenade job resource.sh script is waiting for the created object
status but not the overall load balancer status to go ACTIVE.
This can lead to the script failing with a 409 error.

This patch adds a check for the load balancer to be unlocked before
advancing to the next create call.

Change-Id: I6505243ddbf1eab7d110e9bfa03bffda840f07ae
",git fetch https://review.opendev.org/openstack/octavia refs/changes/04/778804/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/resources.sh'],1,d17b23282cf7c315251a37f39fa8d3fc35c05e3c,," _wait_for_status ""ACTIVE"" ""ONLINE"" openstack loadbalancer show lb1 _wait_for_status ""ACTIVE"" ""ONLINE"" openstack loadbalancer show lb1 _wait_for_status ""ACTIVE"" ""ONLINE"" openstack loadbalancer show lb1 _wait_for_status ""ACTIVE"" ""ONLINE"" openstack loadbalancer show lb1 _wait_for_status ""ACTIVE"" ""ONLINE"" openstack loadbalancer show lb1",,5,0
openstack%2Foctavia~stable%2Fussuri~Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,openstack/octavia,stable/ussuri,Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88,Fix overriding default listener timeout values in config file,MERGED,2021-03-03 07:53:04.000000000,2021-03-05 13:13:34.000000000,2021-03-05 13:06:00.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 07:53:04.000000000', 'files': ['releasenotes/notes/fix-default-timeout-values-for-listeners-108c8048ba8beb9a.yaml', 'octavia/api/v2/types/listener.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/db/prepare.py', 'octavia/tests/functional/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/27230ba862cb0250463a4a2e04e96866681170f0', 'message': 'Fix overriding default listener timeout values in config file\n\nThe default value for timeout parameters in the BaseListenerType was\nnot correctly set because the class was defined before reading the\nconfig file.\n\nConflicts:\n\toctavia/db/prepare.py\n\nStory 2008666\nTask 41953\n\nChange-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88\n(cherry picked from commit b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932)\n(cherry picked from commit bf7632e65b8458ff5e2e5dbf739299a36eac3d26)\n'}]",0,778378,27230ba862cb0250463a4a2e04e96866681170f0,9,4,1,29244,,,0,"Fix overriding default listener timeout values in config file

The default value for timeout parameters in the BaseListenerType was
not correctly set because the class was defined before reading the
config file.

Conflicts:
	octavia/db/prepare.py

Story 2008666
Task 41953

Change-Id: Ia4aa2047a79ad6fc3e33c7ebe2da9438914f7a88
(cherry picked from commit b95fbe9ed4d8585e72bfc4f93aefb3d3ca1ab932)
(cherry picked from commit bf7632e65b8458ff5e2e5dbf739299a36eac3d26)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/78/778378/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-default-timeout-values-for-listeners-108c8048ba8beb9a.yaml', 'octavia/api/v2/types/listener.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/db/prepare.py', 'octavia/tests/functional/api/v2/test_listener.py']",5,27230ba862cb0250463a4a2e04e96866681170f0,," def test_create_with_default_timeouts(self): self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group='haproxy_amphora', timeout_client_data=20) self.conf.config(group='haproxy_amphora', timeout_member_connect=21) self.conf.config(group='haproxy_amphora', timeout_member_data=constants.MIN_TIMEOUT) self.conf.config(group='haproxy_amphora', timeout_tcp_inspect=constants.MAX_TIMEOUT) listener_api = self.test_create() self.assertEqual(20, listener_api.get('timeout_client_data')) self.assertEqual(21, listener_api.get('timeout_member_connect')) self.assertEqual(constants.MIN_TIMEOUT, listener_api.get('timeout_member_data')) self.assertEqual(constants.MAX_TIMEOUT, listener_api.get('timeout_tcp_inspect')) ",,100,21
openstack%2Fpython-tripleoclient~stable%2Fussuri~I3e85d30d7815322f1efa9029f1ed1c4222927930,openstack/python-tripleoclient,stable/ussuri,I3e85d30d7815322f1efa9029f1ed1c4222927930,Make content provider depend on linters in check layout,MERGED,2021-03-03 11:32:40.000000000,2021-03-05 13:13:07.000000000,2021-03-05 12:59:55.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 11:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/64ec2c9ed2a29f66d1e329724d12eccdd2b00e27', 'message': 'Make content provider depend on linters in check layout\n\nAs part of [1] this makes the content provider depend on the pep8\nand py jobs to improve CI efficiency. Equivalent patches posted to\nmaster [2] victoria [3] but ussuri layout is different so decided\nagainst the cherrypick here.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/770917\n[3] https://review.opendev.org/c/openstack/python-tripleoclient/+/778412\n\nChange-Id: I3e85d30d7815322f1efa9029f1ed1c4222927930\n'}, {'number': 2, 'created': '2021-03-03 11:37:23.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fa12b5adeb9a4e304a42e015b8fcf557f39ca203', 'message': 'Make content provider depend on linters in check layout\n\nAs part of [1] this makes the content provider depend on the pep8\nand py jobs to improve CI efficiency. Equivalent patches posted to\nmaster [2] victoria [3] but ussuri layout is different so decided\nagainst the cherrypick here.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/770917\n[3] https://review.opendev.org/c/openstack/python-tripleoclient/+/778412\n\nChange-Id: I3e85d30d7815322f1efa9029f1ed1c4222927930\n'}]",0,778415,fa12b5adeb9a4e304a42e015b8fcf557f39ca203,13,3,2,8449,,,0,"Make content provider depend on linters in check layout

As part of [1] this makes the content provider depend on the pep8
and py jobs to improve CI efficiency. Equivalent patches posted to
master [2] victoria [3] but ussuri layout is different so decided
against the cherrypick here.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
[2] https://review.opendev.org/c/openstack/python-tripleoclient/+/770917
[3] https://review.opendev.org/c/openstack/python-tripleoclient/+/778412

Change-Id: I3e85d30d7815322f1efa9029f1ed1c4222927930
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/778415/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,64ec2c9ed2a29f66d1e329724d12eccdd2b00e27,tripleo-ci-reduce, - tripleo-ci-centos-8-content-provider: dependencies: - tripleo-ci-centos-8-containers-undercloud-minion: dependencies: - tripleo-ci-centos-8-content-provider, - tripleo-ci-centos-8-containers-undercloud-minion: dependencies: &deps_unit_lint,5,2
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Icdd2c581c8e610eb687042044c2a8f3efee44527,openstack/python-tripleoclient,stable/victoria,Icdd2c581c8e610eb687042044c2a8f3efee44527,Add lint dependencies for content provider,MERGED,2021-03-03 11:20:31.000000000,2021-03-05 13:13:06.000000000,2021-03-05 12:58:53.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 11:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1e1312fdacb3d03db36a1e8012d2c351d7a1b369', 'message': 'Add lint dependencies for content provider\n\nIf linting fails, content provider still builds.\nWhis is suboptimal, since standalone/multinode jobs will be skipped and\nnothing will use those builds.\n\nPut cprovider into dependency on the linting jobs as well.\n\nChange-Id: Icdd2c581c8e610eb687042044c2a8f3efee44527\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-03-03 11:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cdde68bc713500913e619d757f8052419ab95b2c', 'message': 'Add lint dependencies for content provider\n\nIf linting fails, content provider still builds.\nWhis is suboptimal, since standalone/multinode jobs will be skipped and\nnothing will use those builds.\n\nPut cprovider into dependency on the linting jobs as well.\n\nChange-Id: Icdd2c581c8e610eb687042044c2a8f3efee44527\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 9014c68e60d6420c70728304bf77e5c5049f1a72)\n'}, {'number': 3, 'created': '2021-03-03 11:23:17.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ace1a5fabb6f2ebffc4c0e481b23d0cd2a2aa1b8', 'message': 'Add lint dependencies for content provider\n\nIf linting fails, content provider still builds.\nWhis is suboptimal, since standalone/multinode jobs will be skipped and\nnothing will use those builds.\n\nPut cprovider into dependency on the linting jobs as well.\n\nChange-Id: Icdd2c581c8e610eb687042044c2a8f3efee44527\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 9014c68e60d6420c70728304bf77e5c5049f1a72)\n'}]",0,778412,ace1a5fabb6f2ebffc4c0e481b23d0cd2a2aa1b8,16,2,3,8449,,,0,"Add lint dependencies for content provider

If linting fails, content provider still builds.
Whis is suboptimal, since standalone/multinode jobs will be skipped and
nothing will use those builds.

Put cprovider into dependency on the linting jobs as well.

Change-Id: Icdd2c581c8e610eb687042044c2a8f3efee44527
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 9014c68e60d6420c70728304bf77e5c5049f1a72)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/778412/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,1e1312fdacb3d03db36a1e8012d2c351d7a1b369,tripleo-ci-reduce, - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py37 dependencies: &cprovider dependencies: *cprovider dependencies: *cprovider dependencies: *cprovider dependencies: *cprovider dependencies: *cprovider dependencies: *cprovider dependencies: *cprovider, - tripleo-ci-centos-8-content-provider dependencies: &deps_unit_lint_cprovider - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py38 dependencies: *deps_unit_lint_cprovider dependencies: *deps_unit_lint_cprovider dependencies: *deps_unit_lint_cprovider dependencies: *deps_unit_lint_cprovider dependencies: *deps_unit_lint_cprovider dependencies: *deps_unit_lint_cprovider dependencies: *deps_unit_lint_cprovider,13,12
openstack%2Foctavia~stable%2Ftrain~I736816247131715f5c385b4680614ec3218a2ad7,openstack/octavia,stable/train,I736816247131715f5c385b4680614ec3218a2ad7,Fix pools going into ERROR when updating the pool,MERGED,2021-02-22 08:48:08.000000000,2021-03-05 13:06:47.000000000,2021-03-05 13:06:47.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 08:48:08.000000000', 'files': ['releasenotes/notes/fix-pool-crl-2cc6f2705f5b2009.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a001c6aef3f7ad3f079ac9e44243320b7cff89b2', 'message': 'Fix pools going into ERROR when updating the pool\n\nThere was a bug that would cause a pool to go into ERROR if you attempted\nto update the CRL or client certificate on the pool.\n\nConflicts:\n    octavia/api/drivers/amphora_driver/v2/driver.py\n\nChange-Id: I736816247131715f5c385b4680614ec3218a2ad7\nStory: 2008295\nTask: 41180\n(cherry picked from commit 370aa4e61c421311b06d986aafdf123cd6737fd8)\n(cherry picked from commit 24e3a4d93a5c0ae6dcc880b35bd847ba0393e040)\n(cherry picked from commit ebe234eb252ffd4a051eab6bf05e587430d8432e)\n'}]",0,776909,a001c6aef3f7ad3f079ac9e44243320b7cff89b2,7,3,1,6469,,,0,"Fix pools going into ERROR when updating the pool

There was a bug that would cause a pool to go into ERROR if you attempted
to update the CRL or client certificate on the pool.

Conflicts:
    octavia/api/drivers/amphora_driver/v2/driver.py

Change-Id: I736816247131715f5c385b4680614ec3218a2ad7
Story: 2008295
Task: 41180
(cherry picked from commit 370aa4e61c421311b06d986aafdf123cd6737fd8)
(cherry picked from commit 24e3a4d93a5c0ae6dcc880b35bd847ba0393e040)
(cherry picked from commit ebe234eb252ffd4a051eab6bf05e587430d8432e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/09/776909/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-pool-crl-2cc6f2705f5b2009.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",5,a001c6aef3f7ad3f079ac9e44243320b7cff89b2,," pool_dict['tls_certificate_id'] = pool_dict.pop( 'tls_container_ref') if 'crl_container_ref' in pool_dict: pool_dict['crl_container_id'] = pool_dict.pop('crl_container_ref') pool_dict.pop('crl_container_data', None)"," pool_dict['tls_container_id'] = pool_dict.pop('tls_container_ref') if 'client_crl_container_ref' in pool_dict: pool_dict['client_crl_container_id'] = pool_dict.pop( 'client_crl_container_ref') pool_dict.pop('client_crl_container_data', None)",42,14
openstack%2Fneutron~stable%2Ftrain~Ic32413f88dd0d2a0479d692b6d824503f7819462,openstack/neutron,stable/train,Ic32413f88dd0d2a0479d692b6d824503f7819462,"DNM, Just a test of the tempest fix",ABANDONED,2021-03-03 12:37:12.000000000,2021-03-05 12:58:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-03 12:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c00017719efb85785656e27f72d0288cbc0494f0', 'message': 'DNM, Just a test of the tempest fix\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/778451\n\nChange-Id: Ic32413f88dd0d2a0479d692b6d824503f7819462\nRelated-bug: #1917610\n'}]",0,778452,c00017719efb85785656e27f72d0288cbc0494f0,3,1,1,11975,,,0,"DNM, Just a test of the tempest fix

Depends-On: https://review.opendev.org/c/openstack/tempest/+/778451

Change-Id: Ic32413f88dd0d2a0479d692b6d824503f7819462
Related-bug: #1917610
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/778452/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,c00017719efb85785656e27f72d0288cbc0494f0,bug/1917610,,,0,0
openstack%2Ftempest~master~I11248fd0906d910180be30de7b59231e534b4563,openstack/tempest,master,I11248fd0906d910180be30de7b59231e534b4563,Add alt project persona in dynamic credential,MERGED,2021-01-29 19:29:49.000000000,2021-03-05 12:51:56.000000000,2021-03-04 04:51:18.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29585}]","[{'number': 1, 'created': '2021-01-29 19:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a430914702f84bb6f07da86f78c2f34f12783c0', 'message': ""Add other project's admin in dynamic credential\n\nTempest dynamic credential does not support two\nseparate project admin but sometime we need to\ncheck the test behavior by requesting API with\ndifferent project admin role.\n\nChange-Id: I11248fd0906d910180be30de7b59231e534b4563\n""}, {'number': 2, 'created': '2021-01-29 22:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9058d61411113484b4b842609ed17ee7e323c6ca', 'message': ""Add other project's admin in dynamic credential\n\nTempest dynamic credential does not support two\nseparate project admin but sometime we need to\ncheck the test behavior by requesting API with\ndifferent project admin role.\n\nChange-Id: I11248fd0906d910180be30de7b59231e534b4563\n""}, {'number': 3, 'created': '2021-01-30 00:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a3692fec58060a218539c63fe8f8c4555032952', 'message': ""Add other project's admin in dynamic credential\n\nTempest dynamic credential does not support two\nseparate project admin but sometime we need to\ncheck the test behavior by requesting API with\ndifferent project admin role.\n\nChange-Id: I11248fd0906d910180be30de7b59231e534b4563\n""}, {'number': 4, 'created': '2021-02-16 19:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3fe08e7c635b84fbdec0de13b0845e9ed17bf51f', 'message': ""Add other project's admin in dynamic credential\n\nTempest dynamic credential does not support two\nseparate project admin but sometime we need to\ncheck the test behavior by requesting API with\ndifferent project admin role.\n\nChange-Id: I11248fd0906d910180be30de7b59231e534b4563\n""}, {'number': 5, 'created': '2021-02-16 22:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/230874c22ac4250048b56f6833225ab2db4ab52b', 'message': 'Add alt project persona in dynamic credential\n\nTempest dynamic credential does not support two\nseparate project admin or reader but sometime we need to\ncheck the test behavior by requesting API with\ndifferent project admin or reader role.\n\nThis commit add support of alt project admin and reader,\nalso provide consistent method name for alt project member\nrole.\n\nChange-Id: I11248fd0906d910180be30de7b59231e534b4563\n'}, {'number': 6, 'created': '2021-02-23 00:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9dd4101fcf4684cf12cd2e7d50f1aad9da5759f4', 'message': 'Add alt project persona in dynamic credential\n\nTempest dynamic credential does not support two\nseparate project admin or reader but sometime we need to\ncheck the test behavior by requesting API with\ndifferent project admin or reader role.\n\nThis commit add support of alt project admin and reader,\nalso provide consistent method name for alt project member\nrole.\n\nChange-Id: I11248fd0906d910180be30de7b59231e534b4563\n'}, {'number': 7, 'created': '2021-02-26 21:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3ec78462ce19fa84c80f1be3909b30b862c1cd81', 'message': 'Add alt project persona in dynamic credential\n\nTempest dynamic credential does not support two\nseparate project admin or reader but sometime we need to\ncheck the test behavior by requesting API with\ndifferent project admin or reader role.\n\nThis commit add support of alt project admin and reader,\nalso provide consistent method name for alt project member\nrole.\n\nChange-Id: I11248fd0906d910180be30de7b59231e534b4563\n'}, {'number': 8, 'created': '2021-02-27 23:29:41.000000000', 'files': ['tempest/lib/common/dynamic_creds.py', 'tempest/lib/common/preprov_creds.py', 'releasenotes/notes/add-alt-project-dynamic-creds-1a3bc543e65d9433.yaml', 'tempest/lib/common/cred_provider.py', 'tempest/tests/lib/common/test_dynamic_creds.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/420586c8b4aeac438ed80cdfed14c43468c0d70a', 'message': 'Add alt project persona in dynamic credential\n\nTempest dynamic credential does not support two\nseparate project admin or reader but sometime we need to\ncheck the test behavior by requesting API with\ndifferent project admin or reader role.\n\nThis commit add support of alt project admin and reader,\nalso provide consistent method name for alt project member\nrole.\n\nChange-Id: I11248fd0906d910180be30de7b59231e534b4563\n'}]",4,773177,420586c8b4aeac438ed80cdfed14c43468c0d70a,45,4,8,8556,,,0,"Add alt project persona in dynamic credential

Tempest dynamic credential does not support two
separate project admin or reader but sometime we need to
check the test behavior by requesting API with
different project admin or reader role.

This commit add support of alt project admin and reader,
also provide consistent method name for alt project member
role.

Change-Id: I11248fd0906d910180be30de7b59231e534b4563
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/773177/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/dynamic_creds.py', 'tempest/lib/common/cred_provider.py']",2,0a430914702f84bb6f07da86f78c2f34f12783c0,secure-rbac, def get_project_alt_admin_creds(self): return @abc.abstractmethod,,8,1
openstack%2Fironic~stable%2Fvictoria~I9937fab18a50111ec56a3fd023cdb9d510a1e990,openstack/ironic,stable/victoria,I9937fab18a50111ec56a3fd023cdb9d510a1e990,Always retry locking when performing task handoff,MERGED,2021-03-03 00:13:12.000000000,2021-03-05 12:39:54.000000000,2021-03-05 12:38:01.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29100}]","[{'number': 1, 'created': '2021-03-03 00:13:12.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/test_task_manager.py', 'releasenotes/notes/story-2008323-fix-stuck-deploying-state-43d51149a02c08b8.yaml', 'ironic/conductor/task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/25a05cf352b5125fdfa3b702e8318a12160f1993', 'message': 'Always retry locking when performing task handoff\n\nThere are some Ironic execution workflows where there is not an easy way\nto retry, such as when attempting to hand off the processing of an async\ntask to a conductor. Task handoff can require releasing a lock on the\nnode, so the next entity processing the task can acquire the lock\nitself. However, this is vulnerable to race conditions, as there is no\nuniform retry mechanism built in to such handoffs. Consider the\ncontinue_node_deploy/clean logic, which does this:\n\n  method = \'continue_node_%s\' % operation\n  # Need to release the lock to let the conductor take it\n  task.release_resources()\n  getattr(rpc, method)(task.context, uuid, topic=topic\n\nIf another process obtains a lock between the releasing of resources and\nthe acquiring of the lock during the continue_node_* operation, and\nholds the lock longer than the max attempt * interval window (which\ndefaults to 3 seconds), then the handoff will never complete. Beyond\nthat, because there is no proper queue for processes waiting on the\nlock, there is no fairness, so it\'s also possible that instead of one\nlong lock being held, the lock is obtained and held for a short window\nseveral times by other competing processes.\n\nThis manifests as nodes occasionally getting stuck in the ""DEPLOYING""\nstate during a deploy. For example, a user may attempt to open or access\nthe serial console before the deploy is complete--the serial console\nprocess obtains a lock and starves the conductor of the lock, so the\nconductor cannot finish the deploy. It\'s also possible a long heartbeat\nor badly-timed sequence of heartbeats could do the same.\n\nTo fix this, this commit introduces the concept of a ""patient"" lock,\nwhich will retry indefinitely until it doesn\'t encounter the NodeLocked\nexception. This overrides any retry behavior.\n\n  .. note::\n     There may be other cases where such a lock is desired.\n\nStory: #2008323\nChange-Id: I9937fab18a50111ec56a3fd023cdb9d510a1e990\n(cherry picked from commit bfc2ad56d558fbb73497dcf641b61a5ab0c23b5f)\n'}]",0,778241,25a05cf352b5125fdfa3b702e8318a12160f1993,15,3,1,11655,,,0,"Always retry locking when performing task handoff

There are some Ironic execution workflows where there is not an easy way
to retry, such as when attempting to hand off the processing of an async
task to a conductor. Task handoff can require releasing a lock on the
node, so the next entity processing the task can acquire the lock
itself. However, this is vulnerable to race conditions, as there is no
uniform retry mechanism built in to such handoffs. Consider the
continue_node_deploy/clean logic, which does this:

  method = 'continue_node_%s' % operation
  # Need to release the lock to let the conductor take it
  task.release_resources()
  getattr(rpc, method)(task.context, uuid, topic=topic

If another process obtains a lock between the releasing of resources and
the acquiring of the lock during the continue_node_* operation, and
holds the lock longer than the max attempt * interval window (which
defaults to 3 seconds), then the handoff will never complete. Beyond
that, because there is no proper queue for processes waiting on the
lock, there is no fairness, so it's also possible that instead of one
long lock being held, the lock is obtained and held for a short window
several times by other competing processes.

This manifests as nodes occasionally getting stuck in the ""DEPLOYING""
state during a deploy. For example, a user may attempt to open or access
the serial console before the deploy is complete--the serial console
process obtains a lock and starves the conductor of the lock, so the
conductor cannot finish the deploy. It's also possible a long heartbeat
or badly-timed sequence of heartbeats could do the same.

To fix this, this commit introduces the concept of a ""patient"" lock,
which will retry indefinitely until it doesn't encounter the NodeLocked
exception. This overrides any retry behavior.

  .. note::
     There may be other cases where such a lock is desired.

Story: #2008323
Change-Id: I9937fab18a50111ec56a3fd023cdb9d510a1e990
(cherry picked from commit bfc2ad56d558fbb73497dcf641b61a5ab0c23b5f)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/778241/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/test_task_manager.py', 'releasenotes/notes/story-2008323-fix-stuck-deploying-state-43d51149a02c08b8.yaml', 'ironic/conductor/task_manager.py']",5,25a05cf352b5125fdfa3b702e8318a12160f1993,story/2008323-stable/victoria," purpose='unspecified action', retry=True, patient=False, :param patient: whether to indefinitely retry locking if it fails. Set this to True if there is an operation that does not have any fallback or built-in retry mechanism, such as finalizing a state transition during deploy/clean. The default retry behavior is to retry a configured number of times and then give up. Default: False. self._patient = patient if self._patient: attempts = None elif self._retry:"," purpose='unspecified action', retry=True, if self._retry:",82,4
openstack%2Fkayobe~master~Idaedcc58e00d06caf4e5e360011d1c5c5c7dbe44,openstack/kayobe,master,Idaedcc58e00d06caf4e5e360011d1c5c5c7dbe44,Ubuntu: fix deployment image build,MERGED,2021-01-28 17:49:18.000000000,2021-03-05 12:14:38.000000000,2021-03-05 12:13:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-01-28 17:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/16b4281c5cf87a5c781f57b3652d7f91214073a9', 'message': 'Ubuntu: fix deployment image build\n\nThe updated role fixes an issue with activation of the DIB virtualenv.\n\nChange-Id: Idaedcc58e00d06caf4e5e360011d1c5c5c7dbe44\nStory: 2004960\nTask: 41710\n'}, {'number': 2, 'created': '2021-02-23 13:03:57.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/303fd1d45cb2f21543287c03cb84d8d707ee0a94', 'message': 'Ubuntu: fix deployment image build\n\nThe updated role fixes an issue with activation of the DIB virtualenv\nand ensures the kpartx package is installed.\n\nChange-Id: Idaedcc58e00d06caf4e5e360011d1c5c5c7dbe44\nStory: 2004960\nTask: 41710\n'}]",0,772929,303fd1d45cb2f21543287c03cb84d8d707ee0a94,23,4,2,15197,,,0,"Ubuntu: fix deployment image build

The updated role fixes an issue with activation of the DIB virtualenv
and ensures the kpartx package is installed.

Change-Id: Idaedcc58e00d06caf4e5e360011d1c5c5c7dbe44
Story: 2004960
Task: 41710
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/29/772929/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,16b4281c5cf87a5c781f57b3652d7f91214073a9,story/2004960, version: v1.10.3, version: v1.10.2,1,1
openstack%2Ftripleo-ansible~master~I847a03dca8f0754300c3fa2fbbda2eaadf0fd693,openstack/tripleo-ansible,master,I847a03dca8f0754300c3fa2fbbda2eaadf0fd693,Add test for snake_case filter,ABANDONED,2021-03-04 22:43:56.000000000,2021-03-05 12:12:55.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 22:43:56.000000000', 'files': ['tripleo_ansible/tests/plugins/filter/test_helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a1d25c326cf05d3bb69865fdd50de8eb4b445c87', 'message': 'Add test for snake_case filter\n\nChange-Id: I847a03dca8f0754300c3fa2fbbda2eaadf0fd693\n'}]",3,778787,a1d25c326cf05d3bb69865fdd50de8eb4b445c87,5,3,1,13177,,,0,"Add test for snake_case filter

Change-Id: I847a03dca8f0754300c3fa2fbbda2eaadf0fd693
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/778787/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/tests/plugins/filter/test_helpers.py'],1,a1d25c326cf05d3bb69865fdd50de8eb4b445c87,filter_snake_case," def test_snake_case(self): expected_string = ""ceph_storage"" result = self.filters.snake_case(""CephStorage"") self.assertEqual(result, expected_string) expected_string = ""http_worker"" result = self.filters.snake_case(""HTTPWorker"") self.assertEqual(result, expected_string) expected_string = ""metrics_qdr"" result = self.filters.snake_case(""MetricsQdr"") self.assertEqual(result, expected_string) ",,13,0
openstack%2Fcharm-layer-openstack-api~master~I9ea2edfacf7020768ab83fb603af1be0d42190fb,openstack/charm-layer-openstack-api,master,I9ea2edfacf7020768ab83fb603af1be0d42190fb,Update worker-multiplier config description,MERGED,2021-03-05 04:41:55.000000000,2021-03-05 12:11:07.000000000,2021-03-05 12:11:07.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 04:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/d8ffefb5ff699ee15870cbb99b1adacd997fa1c9', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: I9ea2edfacf7020768ab83fb603af1be0d42190fb\n'}, {'number': 2, 'created': '2021-03-05 09:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/8b7f72222c3235b3344f2b819a87f8f20e7bbd2e', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: I9ea2edfacf7020768ab83fb603af1be0d42190fb\n'}, {'number': 3, 'created': '2021-03-05 11:38:54.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/34311a62e963d0ce903b7ddb9d70b8f071f71651', 'message': 'Update worker-multiplier config description\n\nBased on the change in charm-helpers:\nhttps://github.com/juju/charm-helpers/pull/553\n\nRelated-Bug: #1843011\nChange-Id: I9ea2edfacf7020768ab83fb603af1be0d42190fb\n'}]",0,778839,34311a62e963d0ce903b7ddb9d70b8f071f71651,24,3,3,8108,,,0,"Update worker-multiplier config description

Based on the change in charm-helpers:
https://github.com/juju/charm-helpers/pull/553

Related-Bug: #1843011
Change-Id: I9ea2edfacf7020768ab83fb603af1be0d42190fb
",git fetch https://review.opendev.org/openstack/charm-layer-openstack-api refs/changes/39/778839/2 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,d8ffefb5ff699ee15870cbb99b1adacd997fa1c9,bug/1843011, of CPU cores a service unit has. This default value will be capped to 4 workers unless this configuration option is set.," of CPU cores a service unit has. When deployed in a LXD container, this default value will be capped to 4 workers unless this configuration option is set.",2,3
openstack%2Fcharm-mysql-innodb-cluster~master~Ibc76b03de99af32e7f9d8e2ace702d96d75d6a5b,openstack/charm-mysql-innodb-cluster,master,Ibc76b03de99af32e7f9d8e2ace702d96d75d6a5b,Re-enable scale in scale out test,MERGED,2021-02-06 17:48:22.000000000,2021-03-05 11:58:03.000000000,2021-03-05 11:58:03.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-06 17:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/32da7b91ab68c1a1275a5172fe89475b9701b0e5', 'message': 'Fix log text for remove-instance action\n\nNoop text change. Also validates the functest pr.\n\nChange-Id: Ibc76b03de99af32e7f9d8e2ace702d96d75d6a5b\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/499\n'}, {'number': 2, 'created': '2021-02-09 23:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/0584cbc8a03d0e79b2d22292604184c7f533f4e6', 'message': '[DNM] Validate Scaleout Test\n\nChange-Id: Ibc76b03de99af32e7f9d8e2ace702d96d75d6a5b\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/499\n'}, {'number': 3, 'created': '2021-02-10 00:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/19fbeb3937c3adf13e77f1152ac541c0b50f8d8b', 'message': '[DNM] Validate Scaleout Test\n\nChange-Id: Ibc76b03de99af32e7f9d8e2ace702d96d75d6a5b\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/499\n'}, {'number': 4, 'created': '2021-02-10 02:07:56.000000000', 'files': ['src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/reactive/mysql_innodb_cluster_handlers.py', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/638d97ddf390f9e073113d67aaf1ddfcd982c787', 'message': 'Re-enable scale in scale out test\n\nAdd the cluster.available flag to the scale_out handler.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/499\nChange-Id: Ibc76b03de99af32e7f9d8e2ace702d96d75d6a5b\n'}]",0,774356,638d97ddf390f9e073113d67aaf1ddfcd982c787,35,4,4,20805,,,0,"Re-enable scale in scale out test

Add the cluster.available flag to the scale_out handler.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/499
Change-Id: Ibc76b03de99af32e7f9d8e2ace702d96d75d6a5b
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/56/774356/4 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/mysql_innodb_cluster.py'],1,32da7b91ab68c1a1275a5172fe89475b9701b0e5,mysql-scale-in-out," ch_core.hookenv.log(""Remove instance: {}."".format(address))"," ch_core.hookenv.log(""Rejoin instance: {}."".format(address))",1,1
openstack%2Fkayobe~stable%2Ftrain~Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,openstack/kayobe,stable/train,Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,Add ipa_build_upper_constraints_file variable,MERGED,2021-02-17 07:00:30.000000000,2021-03-05 11:47:09.000000000,2021-03-05 11:45:52.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 07:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/35e85e2399c630836b69a984d0d208cb93ddb560', 'message': 'Add ipa_build_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the ipa-build-dib virtual environment. This can\nbe used when we need a newer version of diskimage-builder than the one\navailable in upper constraints for the current release.\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n(cherry picked from commit 8cd41659a0a188f54ffac917b753e41514ce15e0)\n'}, {'number': 2, 'created': '2021-02-23 13:28:18.000000000', 'files': ['doc/source/configuration/ironic-python-agent.rst', 'ansible/group_vars/all/ipa', 'ansible/overcloud-ipa-build.yml', 'releasenotes/notes/ipa-build-upper-constraints-5686abaa161b0d94.yaml', 'ansible/seed-ipa-build.yml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/63c68e328d2f8636626ab4502503141f30bc3da3', 'message': 'Add ipa_build_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the ipa-build-dib virtual environment. This can\nbe used when we need a newer version of diskimage-builder than the one\navailable in upper constraints for the current release.\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n(cherry picked from commit 56c1a886f5dc0683084495745fe54e27e0de08eb)\n'}]",0,775965,63c68e328d2f8636626ab4502503141f30bc3da3,24,3,2,15197,,,0,"Add ipa_build_upper_constraints_file variable

This variable allows to customise the upper constraints file used to
install packages inside the ipa-build-dib virtual environment. This can
be used when we need a newer version of diskimage-builder than the one
available in upper constraints for the current release.

Change-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c
(cherry picked from commit 56c1a886f5dc0683084495745fe54e27e0de08eb)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/775965/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/ironic-python-agent.rst', 'ansible/group_vars/all/ipa', 'ansible/overcloud-ipa-build.yml', 'releasenotes/notes/ipa-build-upper-constraints-5686abaa161b0d94.yaml', 'ansible/seed-ipa-build.yml', 'etc/kayobe/ipa.yml']",6,35e85e2399c630836b69a984d0d208cb93ddb560,ipa-build-uc-stable/train,# Upper constraints file for installing packages in the virtual environment # used for building IPA images. Default is {{ pip_upper_constraints_file }}. #ipa_build_upper_constraints_file: ,,20,2
openstack%2Fironic~master~I691b76879ba00fb5535d7016c9d6fb53e9dde462,openstack/ironic,master,I691b76879ba00fb5535d7016c9d6fb53e9dde462,Update iDRAC doc with missing interfaces,MERGED,2021-01-20 14:25:20.000000000,2021-03-05 11:35:33.000000000,2021-01-21 08:53:21.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-20 14:25:20.000000000', 'files': ['doc/source/admin/drivers/idrac.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b0df0960e2c53a4fe6673ba0a1ed546ffd156dc7', 'message': 'Update iDRAC doc with missing interfaces\n\nChange-Id: I691b76879ba00fb5535d7016c9d6fb53e9dde462\n'}]",0,771653,b0df0960e2c53a4fe6673ba0a1ed546ffd156dc7,9,4,1,27909,,,0,"Update iDRAC doc with missing interfaces

Change-Id: I691b76879ba00fb5535d7016c9d6fb53e9dde462
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/771653/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/idrac.rst'],1,b0df0960e2c53a4fe6673ba0a1ed546ffd156dc7,doc-update,"================ ============================================================================ ============================================================``boot`` ``ipxe``, ``pxe``, ``idrac-redfish-virtual-media````vendor`` ``idrac-wsman``, ``idrac``, ``idrac-redfish``, ``no-vendor`` ================ ============================================================","================ =================================================================== ===================================================``boot`` ``ipxe``, ``pxe````vendor`` ``idrac-wsman``, ``idrac``, ``no-vendor`` ================ ===================================================",5,5
openstack%2Fcharm-layer-openstack-api~master~Iad6603ef9cecefddbe88766580112191c0472a35,openstack/charm-layer-openstack-api,master,Iad6603ef9cecefddbe88766580112191c0472a35,Fix boilerplate,MERGED,2021-03-05 09:51:08.000000000,2021-03-05 11:34:06.000000000,2021-03-05 11:34:06.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 32930}]","[{'number': 1, 'created': '2021-03-05 09:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/2be3c5bf5a24466d5a983f649525635d1d5632a6', 'message': ""Fix boilerplate\n\nWith charm-tools>=2.8 the build output folder layout\nhas changed.\nAlso the linter will fail if the actions/ folder doesn't\nexist.\n\nChange-Id: Iad6603ef9cecefddbe88766580112191c0472a35\n""}, {'number': 2, 'created': '2021-03-05 10:28:35.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'actions/.gitkeep', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/b3ad0c16598b51a2f3a29acf0d4b02101e042a4a', 'message': ""Fix boilerplate\n\nWith charm-tools>=2.8 the build output folder layout\nhas changed.\nAlso the linter will fail if the actions/ folder doesn't\nexist.\nAlso put the right flake8 in the right *requirements.txt\nfile.\n\nChange-Id: Iad6603ef9cecefddbe88766580112191c0472a35\n""}]",2,778868,b3ad0c16598b51a2f3a29acf0d4b02101e042a4a,13,4,2,31289,,,0,"Fix boilerplate

With charm-tools>=2.8 the build output folder layout
has changed.
Also the linter will fail if the actions/ folder doesn't
exist.
Also put the right flake8 in the right *requirements.txt
file.

Change-Id: Iad6603ef9cecefddbe88766580112191c0472a35
",git fetch https://review.opendev.org/openstack/charm-layer-openstack-api refs/changes/68/778868/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'actions/.gitkeep', 'tox.ini']",3,2be3c5bf5a24466d5a983f649525635d1d5632a6,fix-boilerplate, charm-build --log-level DEBUG -o {envdir}/tmp/build/builds ., charm-build --log-level DEBUG -o {envdir}/tmp/build .,2,2
openstack%2Fansible-role-collect-logs~master~I20db56f19bc90f404d451028f9506282bd988e1b,openstack/ansible-role-collect-logs,master,I20db56f19bc90f404d451028f9506282bd988e1b,Fix zuul-ansible-role-collect-logs,ABANDONED,2020-11-10 14:49:59.000000000,2021-03-05 11:27:45.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-10 14:49:59.000000000', 'files': ['tasks/collect.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3c106f8005c1baded56a0e386c12b1dfcf2e1219', 'message': 'Fix zuul-ansible-role-collect-logs\n\nAdd notest tag to task that delegates to\nlocalhost and ""Executing local code is prohibited"".\n\nChange-Id: I20db56f19bc90f404d451028f9506282bd988e1b\n'}]",0,762156,3c106f8005c1baded56a0e386c12b1dfcf2e1219,5,3,1,13861,,,0,"Fix zuul-ansible-role-collect-logs

Add notest tag to task that delegates to
localhost and ""Executing local code is prohibited"".

Change-Id: I20db56f19bc90f404d451028f9506282bd988e1b
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/56/762156/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/collect.yml'],1,3c106f8005c1baded56a0e386c12b1dfcf2e1219,, tags: notest,,1,0
openstack%2Fnova~stable%2Fvictoria~I03cf285ad83e09d88cdb702a88dfed53c01610f8,openstack/nova,stable/victoria,I03cf285ad83e09d88cdb702a88dfed53c01610f8,Handle instance = None in _local_delete_cleanup,MERGED,2021-02-23 20:13:01.000000000,2021-03-05 11:12:54.000000000,2021-03-05 11:02:07.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:13:01.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1914777.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35112d7667cee9fc33db660ee241164b38468c31', 'message': 'Handle instance = None in _local_delete_cleanup\n\nChange I4d3193d8401614311010ed0e055fcb3aaeeebaed added some\nadditional local delete cleanup to prevent leaking of placement\nallocations. The change introduced a regression in our ""delete while\nbooting"" handling as the _local_delete_cleanup required a valid\ninstance object to do its work and in two cases, we could have\ninstance = None from _lookup_instance if we are racing with a create\nrequest and the conductor has deleted the instance record while we\nare in the middle of processing the delete request.\n\nThis handles those scenarios by doing two things:\n\n  (1) Changing the _local_delete_cleanup and\n      _update_queued_for_deletion methods to take an instance UUID\n      instead of a full instance object as they really only need the\n      UUID to do their work\n  (2) Saving a copy of the instance UUID before doing another instance\n      lookup which might return None and passing that UUID to the\n      _local_delete_cleanup and _update_queued_for_deletion methods\n\nCloses-Bug: #1914777\n\nChange-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8\n(cherry picked from commit 123f6262f63477d3f50dfad09688978e044bd9e0)\n'}]",0,777209,35112d7667cee9fc33db660ee241164b38468c31,15,3,1,4690,,,0,"Handle instance = None in _local_delete_cleanup

Change I4d3193d8401614311010ed0e055fcb3aaeeebaed added some
additional local delete cleanup to prevent leaking of placement
allocations. The change introduced a regression in our ""delete while
booting"" handling as the _local_delete_cleanup required a valid
instance object to do its work and in two cases, we could have
instance = None from _lookup_instance if we are racing with a create
request and the conductor has deleted the instance record while we
are in the middle of processing the delete request.

This handles those scenarios by doing two things:

  (1) Changing the _local_delete_cleanup and
      _update_queued_for_deletion methods to take an instance UUID
      instead of a full instance object as they really only need the
      UUID to do their work
  (2) Saving a copy of the instance UUID before doing another instance
      lookup which might return None and passing that UUID to the
      _local_delete_cleanup and _update_queued_for_deletion methods

Closes-Bug: #1914777

Change-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8
(cherry picked from commit 123f6262f63477d3f50dfad09688978e044bd9e0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/777209/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/api.py', 'nova/tests/functional/regressions/test_bug_1914777.py', 'nova/tests/unit/compute/test_api.py']",3,35112d7667cee9fc33db660ee241164b38468c31,bug/1914777," update_qfd.assert_called_once_with(admin_context, instance.uuid, False) update_qfd.assert_called_once_with(self.context, instance.uuid, False) self.compute_api._update_queued_for_deletion( self.context, inst.uuid, True)"," update_qfd.assert_called_once_with(admin_context, instance, False) update_qfd.assert_called_once_with(self.context, instance, False) self.compute_api._update_queued_for_deletion(self.context, inst, True)",29,36
openstack%2Fkolla-ansible~master~I20c1d9bddee5a046b521b9378bade2ab50612be0,openstack/kolla-ansible,master,I20c1d9bddee5a046b521b9378bade2ab50612be0,CI: octavia: create and test a load balancer,MERGED,2021-03-03 09:24:17.000000000,2021-03-05 11:12:15.000000000,2021-03-05 11:00:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-03-03 09:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1314cb1391fe328fed0ae1cf7fd1f095e66e66a', 'message': 'CI: octavia: create and test a load balancer\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nChange-Id: I20c1d9bddee5a046b521b9378bade2ab50612be0\n'}, {'number': 2, 'created': '2021-03-03 13:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9fab88186b8ad34d28b734175996e6958d4df52', 'message': 'CI: octavia: create and test a load balancer\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nChange-Id: I20c1d9bddee5a046b521b9378bade2ab50612be0\n'}, {'number': 3, 'created': '2021-03-04 01:28:01.000000000', 'files': ['tests/test-octavia.sh', 'tests/run.yml', 'tests/setup_gate.sh', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/366ba8526e5b2fd3955cb86cec982066ac6ecd5c', 'message': 'CI: octavia: create and test a load balancer\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nChange-Id: I20c1d9bddee5a046b521b9378bade2ab50612be0\n'}]",0,778390,366ba8526e5b2fd3955cb86cec982066ac6ecd5c,16,4,3,26285,,,0,"CI: octavia: create and test a load balancer

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Change-Id: I20c1d9bddee5a046b521b9378bade2ab50612be0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/778390/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-octavia.sh', 'tests/run.yml', 'tests/setup_gate.sh', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",7,b1314cb1391fe328fed0ae1cf7fd1f095e66e66a,bp/implement-automatic-deploy-of-octavia, name: kolla-ansible-centos8-source-octavia parent: kolla-ansible-octavia-base nodeset: kolla-ansible-centos8 vars: base_distro: centos install_type: source - job: name: kolla-ansible-ubuntu-source-octavia parent: kolla-ansible-octavia-base nodeset: kolla-ansible-focal vars: base_distro: ubuntu install_type: source - job:,,156,0
openstack%2Foctavia~stable%2Ftrain~Ib089affa229531cd72f6853105d74b446687ae86,openstack/octavia,stable/train,Ib089affa229531cd72f6853105d74b446687ae86,Use 'bash' in the keepalived check script,MERGED,2021-02-22 08:12:34.000000000,2021-03-05 11:11:23.000000000,2021-03-05 11:05:43.000000000,"[{'_account_id': 6732}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27442}]","[{'number': 1, 'created': '2021-02-22 08:12:34.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/keepalived_check_script.conf.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d2caf0b25eeaafc3f23bfd9dd17676b614f502ab', 'message': 'Use \'bash\' in the keepalived check script\n\nUse bash instead of sh to avoid the error ""shopt: not found""\n\nChange-Id: Ib089affa229531cd72f6853105d74b446687ae86\nStory: 2008437\nTask: 41399\n(cherry picked from commit 1a86e454e7be22b36039a4a4bac6a886f523e9d3)\n(cherry picked from commit b339d009754d30b95ddd56b4ff680e14b3823e54)\n'}]",0,776898,d2caf0b25eeaafc3f23bfd9dd17676b614f502ab,10,6,1,6469,,,0,"Use 'bash' in the keepalived check script

Use bash instead of sh to avoid the error ""shopt: not found""

Change-Id: Ib089affa229531cd72f6853105d74b446687ae86
Story: 2008437
Task: 41399
(cherry picked from commit 1a86e454e7be22b36039a4a4bac6a886f523e9d3)
(cherry picked from commit b339d009754d30b95ddd56b4ff680e14b3823e54)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/776898/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/api_server/templates/keepalived_check_script.conf.j2'],1,d2caf0b25eeaafc3f23bfd9dd17676b614f502ab,, bash $file, sh $file,1,1
openstack%2Fkolla-ansible~master~I8ac30dea6c8402d97189c6b05032c608936b0ff2,openstack/kolla-ansible,master,I8ac30dea6c8402d97189c6b05032c608936b0ff2,octavia: support tenant management network,MERGED,2020-10-01 16:30:32.000000000,2021-03-05 11:10:39.000000000,2021-03-05 10:59:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-10-01 16:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c7779a4a228a912c5fd7a0e3ca4cd3712833958', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 2, 'created': '2020-10-01 16:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0da1a70deab89ae62ce339552a1730f744523d27', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 3, 'created': '2020-10-01 18:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78a3b0722d8440e91833c3a8fd927d760a3b23d3', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 4, 'created': '2020-10-01 18:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25ae694a2358fa746eb8e9871954feef881ccce7', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 5, 'created': '2020-10-01 18:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db7733cd510992739e1ff5244b7f9b24926c343e', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 6, 'created': '2020-10-01 20:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b50704e6422bfb90b4f936fd2b88a799b56dda07', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 7, 'created': '2020-10-02 08:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef51ddbcec477960d0089a828e9c0bc5d46e3d7c', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 8, 'created': '2020-10-02 15:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/62cc01dc58b164606e32d54d253621bde7bf8f46', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 9, 'created': '2020-10-07 16:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/38bef0b8e0289a1ed1f314b3a4825cff6ff8ad37', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 10, 'created': '2020-10-08 14:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc3fcabb6d9b13aefc66a161858dd46097468292', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 11, 'created': '2020-10-08 14:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3537a3a418c71534fe2155c7db7136774598edae', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 12, 'created': '2020-10-15 09:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f88c547e5a85166cbbea149ac3578e0608f31b3', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n- used for ci, test or poc\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 13, 'created': '2020-10-15 09:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b867335c2d43401d103ceb7445303c494810126d', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n- used for ci, test or poc\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 14, 'created': '2020-10-15 09:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/67f2f233ad776a815abe5859a215db4ac2c340d9', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n- used for ci, test or poc\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 15, 'created': '2021-01-09 15:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/80af9a3b3f617acedb5fd530a0c10af3b514f824', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n- used for ci, test or poc\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 16, 'created': '2021-01-12 12:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/335850c541b0db11e02b5e33ec8781367c3ed1e4', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n- used for ci, test or poc\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 17, 'created': '2021-01-12 13:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/234fc8de2464bf0d85373c4dcacfaa23b51298d7', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n- used for ci, test or poc\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 18, 'created': '2021-01-13 14:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8010b3fc8823674be4e77147b6767725bf0bc69d', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n- used for ci, test or poc\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 19, 'created': '2021-01-21 14:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/189ab03a82dab542eeacbb5a7d2244caf611d8f7', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n- used for ci, test or poc\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 20, 'created': '2021-02-03 16:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9de196c56d3fa3656442fc8e4d0caafdc5c68a29', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n- used for ci, test or poc\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}, {'number': 21, 'created': '2021-03-03 09:24:17.000000000', 'files': ['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/destroy/tasks/cleanup_host.yml', 'ansible/roles/octavia/tasks/config-host.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/octavia/tasks/precheck.yml', 'ansible/roles/octavia/tasks/prepare.yml', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/octavia/tasks/hm-interface.yml', 'ansible/roles/octavia/templates/octavia-interface.service.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d3ebc0452d9e473476f1181c4f143e350c3dace', 'message': 'octavia: support tenant management network\n\n- bind health manager port to ovs\n- create a octavia-interface.service (used for creating health manager\n  interface after reboot)\n- used for ci, test or poc\n\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n'}]",24,755589,5d3ebc0452d9e473476f1181c4f143e350c3dace,88,5,21,14826,,,0,"octavia: support tenant management network

- bind health manager port to ovs
- create a octavia-interface.service (used for creating health manager
  interface after reboot)
- used for ci, test or poc

Implements: blueprint implement-automatic-deploy-of-octavia

Change-Id: I8ac30dea6c8402d97189c6b05032c608936b0ff2
Co-Authored-By: wu.chunyang <wuchunyang@yovole.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/755589/16 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/config-host.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/octavia/tasks/prepare.yml', 'ansible/group_vars/all.yml', 'ansible/roles/octavia/tasks/hm-interface.yml', 'ansible/roles/octavia/templates/octavia-interface.service.j2', 'etc/kolla/globals.yml']",8,3c7779a4a228a912c5fd7a0e3ca4cd3712833958,bp/implement-automatic-deploy-of-octavia,"#octavia_network_interface: ""o-hm0""# Octavia network type options are [ tenant, provider ] # * tenant indicates that we will create a tenant network and a network # interface on the Octavia worker nodes for communication with amphorae. # * provider indicates that we will create a flat or vlan provider network. # In this case octavia_network_interface should be set to a network interface # on the Octavia woker nodes on the same provider network. #octavia_network_type: ""tenant"" ","#octavia_network_interface: ""{{ api_interface }}""",144,2
openstack%2Fswift~master~I644d7afee393afb703eb37f19749204ed98a37db,openstack/swift,master,I644d7afee393afb703eb37f19749204ed98a37db,relinker: Stop reporting errors about reaped/cleaned-up datafiles,MERGED,2021-03-04 20:18:29.000000000,2021-03-05 11:04:35.000000000,2021-03-05 02:31:18.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 20:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/af3bba77ea9244203e3dd1bd5bc6e17858f6d3bd', 'message': ""relinker: Stop reporting errors about reaped/cleaned-up datafiles\n\nThis isn't at all exceptional, and operators shouldn't need to bump up\nreclaim_age to avoid false-positive errors in their logs.\n\nChange-Id: I644d7afee393afb703eb37f19749204ed98a37db\n""}, {'number': 2, 'created': '2021-03-04 20:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2699aa7f8593721103bfb863fd99bbbe0f996fe8', 'message': ""relinker: Stop reporting errors about reaped/cleaned-up datafiles\n\nThis isn't at all exceptional, and operators shouldn't need to bump up\nreclaim_age to avoid false-positive errors in their logs.\n\nChange-Id: I644d7afee393afb703eb37f19749204ed98a37db\n""}, {'number': 3, 'created': '2021-03-04 23:00:44.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b8aefd750e18414eba8a4e956f56823d34851f73', 'message': ""relinker: Stop reporting errors about reaped/cleaned-up datafiles\n\nThis isn't at all exceptional, and operators shouldn't need to bump up\nreclaim_age to avoid false-positive errors in their logs.\n\nChange-Id: I644d7afee393afb703eb37f19749204ed98a37db\n""}]",5,778773,b8aefd750e18414eba8a4e956f56823d34851f73,12,2,3,15343,,,0,"relinker: Stop reporting errors about reaped/cleaned-up datafiles

This isn't at all exceptional, and operators shouldn't need to bump up
reclaim_age to avoid false-positive errors in their logs.

Change-Id: I644d7afee393afb703eb37f19749204ed98a37db
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/778773/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",2,af3bba77ea9244203e3dd1bd5bc6e17858f6d3bd,," # Relinking will take a while; we'll likely have some tombstones # transition to being reapable during the process. When we open # them in the new partition space, they'll get cleaned up and # raise DiskFileNotExist. Without replicators running, this is # likely the first opportunity for clean-up. To avoid a false- # positive error below, open up in the old space *first* -- if # that raises DiskFileNotExist, ignore it and move on. loc = diskfile.AuditLocation( os.path.dirname(fname), device, partition, policy) df = diskfile_mgr.get_diskfile_from_audit_location(loc) try: with df.open(): pass except DiskFileQuarantined as exc: logger.warning('ERROR Object %(obj)s failed audit and was' ' quarantined: %(err)r', {'obj': loc, 'err': exc}) errors += 1 continue except DiskFileNotExist as exc: logger.debug('Found reapable on-disk file: %s', fname) continue ",,54,5
openstack%2Fkolla-ansible~master~I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9,openstack/kolla-ansible,master,I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9,CI: octavia: remove octavia from magnum scenario,MERGED,2020-09-25 08:28:12.000000000,2021-03-05 11:00:14.000000000,2021-03-05 11:00:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-09-25 08:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29f4b8d979d0b1202aec9837bfa077d5cf43c54e', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 2, 'created': '2020-09-25 08:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5eb1b63cea230e1efab1784a05d50b4cf5fa0d84', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 3, 'created': '2020-09-25 10:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3fed94d3b611baba4ad4ff5695928281f3ebc33d', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 4, 'created': '2020-09-25 12:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/62322f21d074303d00ea19ee35b3ae139258c760', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 5, 'created': '2020-09-25 15:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7d268db5de8e47d8e774cf9f6fe42379be77a11', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 6, 'created': '2020-09-25 16:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5459ce6563aa2bb999af1a2d073f3d04e2644184', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 7, 'created': '2020-09-25 18:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ceebe6af4c4520c7f8e22e427b22ac2c1858a91', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 8, 'created': '2020-09-28 18:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cceecf831b38ac511244ea2d4dd392cd4e3480fe', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 9, 'created': '2020-09-29 08:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/21fc9749717b065bc3c2e87a57e866385f87e4dd', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 10, 'created': '2020-10-01 15:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e6dab09ea28b9c32d37b4bea454c222010cc8a2', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 11, 'created': '2020-10-01 16:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f5403888023679d575c76c7eff6a6bcc41fd5efb', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 12, 'created': '2020-10-01 18:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/caab3ee109bae9ecc3f7c7b86db8066de7711a58', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 13, 'created': '2020-10-01 18:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74cc64bcb6f13e481588ed4e9fdc23b76a699ffe', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 14, 'created': '2020-10-01 20:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/34a872b22e28d7e9fd44285898884f868a148501', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 15, 'created': '2020-10-02 08:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d0451567f25ed50f60fd18e2d6337fab42364d5', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 16, 'created': '2020-10-02 14:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/956956b2c5513e9b1a94fb31ec0f0b69309a0f8b', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 17, 'created': '2020-10-05 16:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5484d1edd7ad991adb6631a21ef5e78d59d0940', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 18, 'created': '2020-10-06 07:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/577dad6ae4e0fde251f5b8fc6b3948ee5d278a29', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 19, 'created': '2020-10-06 11:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6ce0ab132f7f2fe3d7d9b9aba3a99b46e6a26eb', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 20, 'created': '2020-10-06 11:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c59635745124bf96a16a9a133411d51b1caa6f2', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 21, 'created': '2020-10-07 16:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f64d08054d0ce9964c9efa650b95828367e7b3fe', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 22, 'created': '2020-10-08 14:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f1c78c76c399019cf56132b22f59565d881e910', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 23, 'created': '2020-10-08 14:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/212d05d2f0fc651653a8a4da3280a7ca51febe03', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 24, 'created': '2020-10-12 13:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71d35ba54cfe0b78cb27e46eccf038081db36725', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 25, 'created': '2020-10-15 10:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57e396d9b40ea22009cde8441ccfb6950e0308d1', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 26, 'created': '2021-01-21 09:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a8dc6879615164a1596aacf02943ed6af0455dc', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 27, 'created': '2021-01-22 17:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/911ab702b3a4f0349e9064a4c9d55d0b3e207de0', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 28, 'created': '2021-01-27 09:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df26b7f183d316c3311ca5d3c24ab60687369872', 'message': 'CI: octavia: create and test a load balancer\n\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 29, 'created': '2021-01-27 09:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab19e4ffb09445ada8439988ca5ba2976a78c36a', 'message': 'CI: octavia: create and test a load balancer\n\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 30, 'created': '2021-01-27 09:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/355b17ba0e5417e5d66ff561ef7cb5acfc718e18', 'message': 'CI: octavia: create and test a load balancer\n\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 31, 'created': '2021-01-28 01:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6616ccd4c6d3e69d6010f648eb7afbb3e532a0db', 'message': 'CI: octavia: create and test a load balancer\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 32, 'created': '2021-01-28 01:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a880155a4790ac405c9f3d022073781c6dcec77', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 33, 'created': '2021-01-28 13:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69800cfd4119bfc9c45cd5e0508edf3cb086e76e', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 34, 'created': '2021-01-29 01:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74ff7c9d01d508ee3772d578d76facc61dcadc39', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 35, 'created': '2021-01-29 06:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af54c17b5a477c1c26c433a54b052404c9dfbc4c', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 36, 'created': '2021-01-29 10:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a9e7d2c1f8fca5beefb9dc040cd49b9d31d6b3c', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 37, 'created': '2021-01-30 11:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fda053da40b063a45c8b3f2dcfc4571d7b446579', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 38, 'created': '2021-01-31 07:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a72264fc891bdbadaee0a7ccc513f193feee0a2c', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 39, 'created': '2021-02-03 16:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2d6c0b01004755b160740318989e470091a1e59', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 40, 'created': '2021-02-04 07:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1fa22a7277e992a169837ccfa8863e7fec1ba37d', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 41, 'created': '2021-02-24 16:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c1a1dc8d476f89d709fbd2c67212f3e775d203f', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 42, 'created': '2021-02-24 16:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09b895c1f123ebb3b92537d7bed2f22c50820aac', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 43, 'created': '2021-02-25 08:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c20ab8f1be83f5df62a8efbc46b799c17ab9096e', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 44, 'created': '2021-02-25 16:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7dcae3aa3e71d8bbab5e72eba5b85573e24fa8e7', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 45, 'created': '2021-03-01 09:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9142ab519797b94d9997d8932adb09718ad844e9', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 46, 'created': '2021-03-01 14:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b5617edb6ef6d25731d275b1e8c7d784047bb71', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 47, 'created': '2021-03-02 01:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/168ccbd255eff0fffca2bebfd554ef3cf4ad5d1c', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 48, 'created': '2021-03-02 08:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a41d30fdbedc058856e556ad3be548c932035cc', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 49, 'created': '2021-03-02 14:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7641f6cdde713cb95ec12c05f18af85556b4c477', 'message': 'CI: octavia: create and test a load balancer\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}, {'number': 50, 'created': '2021-03-03 09:24:17.000000000', 'files': ['tests/test-magnum.sh', 'tests/run.yml', 'tests/setup_gate.sh', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c5ccb915e785e4fa928519b3e4f21686266fbb6', 'message': 'CI: octavia: remove octavia from magnum scenario\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589\nCo-Authored-By: wu.chunyang <wuchunyang@yovole.com>\n\nChange-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9\n'}]",12,754285,3c5ccb915e785e4fa928519b3e4f21686266fbb6,190,10,50,14826,,,0,"CI: octavia: remove octavia from magnum scenario

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/755589
Co-Authored-By: wu.chunyang <wuchunyang@yovole.com>

Change-Id: I489c1ca23d8abc350d3204ecc167d5d93bbbd1d9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/754285/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-magnum.sh'],1,29f4b8d979d0b1202aec9837bfa077d5cf43c54e,bp/implement-automatic-deploy-of-octavia,"function register_amphora_image { amphora_url=https://tarballs.opendev.org/openstack/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-bionic.qcow2 curl -o amphora.qcow2 $amphora_url export OS_USERNAME=octavia export OS_PASSWORD=$(awk '$1 == ""octavia_keystone_password:"" { print $2 }' /etc/kolla/passwords.yml) export OS_PROJECT_NAME=service openstack image create amphora-x64-haproxy --file amphora.qcow2 --tag amphora --disk-format qcow2 . /etc/kolla/admin-openrc.sh } function test_octavia { register_amphora_image # Smoke test. # Create a server to act as a backend. openstack server create --wait --image cirros --flavor m1.tiny --key-name mykey --network demo-net kolla_boot_test --wait member_fip=$(openstack floating ip create public1 -f value -c floating_ip_address) openstack server add floating ip kolla_boot_test ${member_fip} member_ip=$(openstack floating ip show ${member_fip} -f value -c fixed_ip_address) # Dummy HTTP server. ssh cirros@${member_fip} 'nohup sh -c ""while true; do echo -e \""HTTP/1.1 200 OK\n\n $(date)\"" | sudo nc -l -p 8000; done &""' # Create a load balancer. openstack loadbalancer create --name lb --vip-subnet-id demo-subnet --wait openstack loadbalancer listener create --name listener --protocol HTTP --protocol-port 8000 --wait lb openstack loadbalancer pool create --name pool --lb-algorithm ROUND_ROBIN --listener listener --protocol HTTP --wait openstack loadbalancer member create --subnet-id demo-subnet --address ${member_ip} --protocol-port 8000 pool --wait # Add a floating IP to the load balancer. lb_fip=$(openstack floating ip create public1 -f value -c name) lb_vip=$(openstack loadbalancer show lb -f value -c vip_address) lb_port_id=$(openstack port list --fixed-ip ip-address=$lb_vip -f value -c ID) openstack floating ip set $lb_fip --port $lb_port_id # Attempt to access the load balanced HTTP server. attempts=12 for i in $(seq 1 ${attempts}); do if curl $lb_fip:8000; then break elif [[ $i -eq ${attempts} ]]; then echo ""Failed to access load balanced service after ${attempts} attempts"" return 1 else echo ""Cannot access load balancer - retrying"" fi sleep 10 done # Clean up. openstack loadbalancer delete lb --cascade --wait openstack floating ip delete ${lb_fip} openstack server remove floating ip kolla_boot_test ${member_fip} openstack floating ip delete ${member_fip} openstack server delete --wait kolla_boot_test",function test_octavia {,56,0
openstack%2Fneutron~master~If9f696d1e18e0bf9eda18efa2ae708a779133bfc,openstack/neutron,master,If9f696d1e18e0bf9eda18efa2ae708a779133bfc,[OVN] Bump OVN version to v20.12.0,ABANDONED,2021-02-12 13:47:04.000000000,2021-03-05 10:31:47.000000000,,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-02-12 13:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f3be16d66a3a4fa6a06bf9877800f755ce741d8', 'message': '[OVN] Bump OVN version to v20.12.0\n\nThis commit bumps the OVN version used in the gate from v20.06.1 to the\nlatest tagged version, v20.12.0.\n\nChange-Id: If9f696d1e18e0bf9eda18efa2ae708a779133bfc\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 2, 'created': '2021-02-12 15:49:02.000000000', 'files': ['zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/75eb6fc7ec1c154a064e77ced1c0f6d0cb602422', 'message': '[OVN] Bump OVN version to v20.12.0\n\nThis commit bumps the OVN version used in the gate from v20.06.1 to the\nlatest tagged version, v20.12.0.\n\nChange-Id: If9f696d1e18e0bf9eda18efa2ae708a779133bfc\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",6,775383,75eb6fc7ec1c154a064e77ced1c0f6d0cb602422,12,5,2,11952,,,0,"[OVN] Bump OVN version to v20.12.0

This commit bumps the OVN version used in the gate from v20.06.1 to the
latest tagged version, v20.12.0.

Change-Id: If9f696d1e18e0bf9eda18efa2ae708a779133bfc
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/775383/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml']",3,3f3be16d66a3a4fa6a06bf9877800f755ce741d8,, OVN_BRANCH: v20.12.0, OVN_BRANCH: v20.06.1,5,5
openstack%2Fnova~master~I2ef7c5bef87bd64c087f3b136c2faac9a3865f10,openstack/nova,master,I2ef7c5bef87bd64c087f3b136c2faac9a3865f10,libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`,MERGED,2021-02-05 13:41:31.000000000,2021-03-05 10:16:00.000000000,2021-03-04 22:02:33.000000000,"[{'_account_id': 6962}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 13:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5f513806bb35053168dfeeed4f545f758839444', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n     </cpu>\n\nAbility to selectively disable CPU flags lets one avoid certain flags\nthat are causing a performance penalty, or other trouble.\n\nCloses-Bug: 1852437\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 2, 'created': '2021-02-08 11:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e55912a2ada23c8d08b4db31e2e8a7d1dfca1ff3', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n     </cpu>\n\nAbility to selectively disable CPU flags lets one avoid certain flags\nthat are causing a performance penalty, or other trouble.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 3, 'created': '2021-02-08 12:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31a4646b33a38260075a9d65d823ce31fa6030fc', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n     </cpu>\n\nAbility to selectively disable CPU flags lets you avoid any CPU flags\nthat can be a security risk, a performance penalty, or other trouble.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 4, 'created': '2021-02-08 17:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c951e42c217a937b2570230cb15d25e68ce70275', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n     </cpu>\n\nAbility to selectively disable CPU flags lets you avoid any CPU flags\nthat can be a security risk, a performance penalty, or other trouble.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 5, 'created': '2021-02-08 17:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a450a0ab3a7428aea839f38f5ef70726590ccc1', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n     </cpu>\n\nAbility to selectively disable CPU flags lets you avoid any CPU flags\nthat can be a security risk, a performance penalty, or other trouble.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 6, 'created': '2021-02-12 18:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f3742475a0c5491194e14dd3c0c23aac8897319', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, on a compute node that is running hardware (e.g.\nan Intel server that supports TSX) and virtualization software that\nsupports the given CPU flags, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n     </cpu>\n\nThis ability to selectively disable CPU flags lets you avoid any CPU\nflags that need to be disabled for any number of reasons.  E.g. disable\na CPU flag that is a potential security risk, or disable one that causes\na performance penalty.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 7, 'created': '2021-02-16 15:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d80b1b0c794e338bfb1b03b1ac4ab79360cf266', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, on a compute node that is running hardware (e.g.\nan Intel server that supports TSX) and virtualization software that\nsupports the given CPU flags, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n     </cpu>\n\nThis ability to selectively disable CPU flags lets you avoid any CPU\nflags that need to be disabled for any number of reasons.  E.g. disable\na CPU flag that is a potential security risk, or disable one that causes\na performance penalty.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 8, 'created': '2021-02-18 13:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7597c4b97f0e7424583c8eb33f55c5ccf13c6873', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, on a compute node that is running hardware (e.g.\nan Intel server that supports TSX) and virtualization software that\nsupports the given CPU flags, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n     </cpu>\n\nThis ability to selectively disable CPU flags lets you avoid any CPU\nflags that need to be disabled for any number of reasons.  E.g. disable\na CPU flag that is a potential security risk, or disable one that causes\na performance penalty.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 9, 'created': '2021-03-01 11:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/857d19a6b41cfc6f075abd9d0899a670eb75b8f5', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, on a compute node that is running hardware (e.g.\nan Intel server that supports TSX) and virtualization software that\nsupports the given CPU flags, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n     </cpu>\n\nThis ability to selectively disable CPU flags lets you avoid any CPU\nflags that need to be disabled for any number of reasons.  E.g. disable\na CPU flag that is a potential security risk, or disable one that causes\na performance penalty.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 10, 'created': '2021-03-01 11:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/315adc3ef37554e4877d704ee23f0fc868192f0c', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, on a compute node that is running hardware (e.g.\nan Intel server that supports TSX) and virtualization software that\nsupports the given CPU flags, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n     </cpu>\n\nThis ability to selectively disable CPU flags lets you avoid any CPU\nflags that need to be disabled for any number of reasons.  E.g. disable\na CPU flag that is a potential security risk, or disable one that causes\na performance penalty.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 11, 'created': '2021-03-01 15:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d897ce2a545fd1b774d6c65017e71c016606eedf', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, on a compute node that is running hardware (e.g.\nan Intel server that supports TSX) and virtualization software that\nsupports the given CPU flags, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n     </cpu>\n\nThis ability to selectively disable CPU flags lets you avoid any CPU\nflags that need to be disabled for any number of reasons.  E.g. disable\na CPU flag that is a potential security risk, or disable one that causes\na performance penalty.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 12, 'created': '2021-03-04 16:42:56.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/conf/libvirt.py', 'releasenotes/notes/allow-disabling-cpu-flags-cc861a3bdfffadf8.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bcd6b42047ea9422a58a4273d831e23f2ea27092', 'message': ""libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`\n\nParse a comma-separated list of CPU flags from\n`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',\nenable the feature in Nova guest CPU guest XML, or if it starts with\n'-', disable the feature.  If neither '+' nor '-' is specified, enable\nthe flag.  For example, on a compute node that is running hardware (e.g.\nan Intel server that supports TSX) and virtualization software that\nsupports the given CPU flags, if a user provides this config:\n\n    [libvirt]\n    cpu_mode = custom\n    cpu_models = Cascadelake-Server\n    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr\n\nThen Nova should generate this CPU for the guest:\n\n     <cpu match='exact'>\n       <model fallback='forbid'>Cascadelake-Server</model>\n       <vendor>Intel</vendor>\n       <feature policy='require' name='ssbd'/>\n       <feature policy='require' name='mtrr'/>\n       <feature policy='disable' name='hle'/>\n       <feature policy='disable' name='rtm'/>\n     </cpu>\n\nThis ability to selectively disable CPU flags lets you avoid any CPU\nflags that need to be disabled for any number of reasons.  E.g. disable\na CPU flag that is a potential security risk, or disable one that causes\na performance penalty.\n\nblueprint: allow-disabling-cpu-flags\n\nChange-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10\nSigned-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}]",108,774240,bcd6b42047ea9422a58a4273d831e23f2ea27092,127,7,12,6962,,,0,"libvirt: Allow disabling CPU flags via `cpu_model_extra_flags`

Parse a comma-separated list of CPU flags from
`[libvirt]/cpu_model_extra_flags`.  If the CPU flag starts with '+',
enable the feature in Nova guest CPU guest XML, or if it starts with
'-', disable the feature.  If neither '+' nor '-' is specified, enable
the flag.  For example, on a compute node that is running hardware (e.g.
an Intel server that supports TSX) and virtualization software that
supports the given CPU flags, if a user provides this config:

    [libvirt]
    cpu_mode = custom
    cpu_models = Cascadelake-Server
    cpu_model_extra_flags = -hle, -rtm, +ssbd, mtrr

Then Nova should generate this CPU for the guest:

     <cpu match='exact'>
       <model fallback='forbid'>Cascadelake-Server</model>
       <vendor>Intel</vendor>
       <feature policy='require' name='ssbd'/>
       <feature policy='require' name='mtrr'/>
       <feature policy='disable' name='hle'/>
       <feature policy='disable' name='rtm'/>
     </cpu>

This ability to selectively disable CPU flags lets you avoid any CPU
flags that need to be disabled for any number of reasons.  E.g. disable
a CPU flag that is a potential security risk, or disable one that causes
a performance penalty.

blueprint: allow-disabling-cpu-flags

Change-Id: I2ef7c5bef87bd64c087f3b136c2faac9a3865f10
Signed-off-by: Patrick Uiterwijk <patrick@puiterwijk.org>
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/774240/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,f5f513806bb35053168dfeeed4f545f758839444,bp/allow-disabling-cpu-flags," @mock.patch.object(libvirt_driver.LOG, 'warning') def test_get_guest_cpu_config_custom_flags_enabled_and_disabled(self, mock_warn): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict(self.test_image_meta) self.flags(cpu_mode=""custom"", cpu_models=[""Cascadelake-Server""], cpu_model_extra_flags=['-hle', '-rtm', '+ssbd', 'mtrr'], group='libvirt') disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref, image_meta) conf = drvr._get_guest_config(instance_ref, _fake_network_info(self), image_meta, disk_info) features = [feature.name for feature in conf.cpu.features] self.assertIsInstance(conf.cpu, vconfig.LibvirtConfigGuestCPU) self.assertEqual(conf.cpu.mode, ""custom"") self.assertEqual(conf.cpu.model, ""Cascadelake-Server"") self.assertIn(""ssbd"", features) self.assertIn(""mtrr"", features) self.assertNotIn(""hle"", features) self.assertNotIn(""rtm"", features) self.assertEqual(conf.cpu.sockets, instance_ref.flavor.vcpus) self.assertEqual(conf.cpu.cores, 1) self.assertEqual(conf.cpu.threads, 1) mock_warn.assert_not_called() ",,48,1
openstack%2Fpython-octaviaclient~master~I9b32be11ff6a66015f648ac151fb22cf3ebfd520,openstack/python-octaviaclient,master,I9b32be11ff6a66015f648ac151fb22cf3ebfd520,Remove install unnecessary packages,MERGED,2020-09-14 01:57:31.000000000,2021-03-05 10:11:01.000000000,2021-03-05 10:08:21.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2020-09-14 01:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/dcb7f0e5deaa07d9fc3e41c28bbd9fe4accb6ff7', 'message': 'Remove install unnecessary packages\n\nThe docs and releasenotes requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: I9b32be11ff6a66015f648ac151fb22cf3ebfd520\n'}, {'number': 2, 'created': '2021-02-11 17:55:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/80a533105af7ea9e3392c3044d32e90d19d35d66', 'message': 'Remove install unnecessary packages\n\nThe docs and releasenotes requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: I9b32be11ff6a66015f648ac151fb22cf3ebfd520\n'}]",0,751629,80a533105af7ea9e3392c3044d32e90d19d35d66,13,5,2,32291,,,0,"Remove install unnecessary packages

The docs and releasenotes requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: I9b32be11ff6a66015f648ac151fb22cf3ebfd520
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/29/751629/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dcb7f0e5deaa07d9fc3e41c28bbd9fe4accb6ff7,,, -r{toxinidir}/requirements.txt -r{toxinidir}/requirements.txt,0,2
openstack%2Ftempest~master~Ifafe67f89349a9715ad850be29708fcf18613946,openstack/tempest,master,Ifafe67f89349a9715ad850be29708fcf18613946,Add release notes page for version 25.0.1,ABANDONED,2020-12-17 13:24:38.000000000,2021-03-05 10:10:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-17 13:24:38.000000000', 'files': ['releasenotes/source/v25.0.1.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/846e0eef53eb6e61e8c0f944aabff53e5b4e99a9', 'message': 'Add release notes page for version 25.0.1\n\nTempest 25.0.1 has been released [1].\nThis commit adds a new page for 25.0.1 release notes.\n\n[1] https://review.opendev.org/c/openstack/releases/+/767180\n\nChange-Id: Ifafe67f89349a9715ad850be29708fcf18613946\n'}]",0,767535,846e0eef53eb6e61e8c0f944aabff53e5b4e99a9,7,1,1,22873,,,0,"Add release notes page for version 25.0.1

Tempest 25.0.1 has been released [1].
This commit adds a new page for 25.0.1 release notes.

[1] https://review.opendev.org/c/openstack/releases/+/767180

Change-Id: Ifafe67f89349a9715ad850be29708fcf18613946
",git fetch https://review.opendev.org/openstack/tempest refs/changes/35/767535/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/v25.0.1.rst', 'releasenotes/source/index.rst']",2,846e0eef53eb6e61e8c0f944aabff53e5b4e99a9,, v25.0.1,,6,0
openstack%2Freleases~master~I9a1c3d06521fc7c562caf63bae664c22b2d9306c,openstack/releases,master,I9a1c3d06521fc7c562caf63bae664c22b2d9306c,Release final os-vif for Wallaby,MERGED,2021-03-01 09:44:38.000000000,2021-03-05 09:47:49.000000000,2021-03-05 09:47:49.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:44:38.000000000', 'files': ['deliverables/wallaby/os-vif.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/174950309e661092ffe2af8cfa380f51aaf45eb6', 'message': 'Release final os-vif for Wallaby\n\nThis proposed a release for os-vif to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 2.3.0..6167658\n44d8937 Resolve dependency issues\n7b54dec Drop use of deprecated collections classes\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I9a1c3d06521fc7c562caf63bae664c22b2d9306c\n'}]",1,777955,174950309e661092ffe2af8cfa380f51aaf45eb6,13,6,1,28522,,,0,"Release final os-vif for Wallaby

This proposed a release for os-vif to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 2.3.0..6167658
44d8937 Resolve dependency issues
7b54dec Drop use of deprecated collections classes

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I9a1c3d06521fc7c562caf63bae664c22b2d9306c
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/777955/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/os-vif.yaml'],1,174950309e661092ffe2af8cfa380f51aaf45eb6,wallaby-lib-freeze, - version: 2.4.0 projects: - repo: openstack/os-vif hash: 6167658e5b61b5408c4a631cc41b7bfc6f16f164,,4,0
openstack%2Freleases~master~Ied58267663edeecfc970adbb4624c89a68937896,openstack/releases,master,Ied58267663edeecfc970adbb4624c89a68937896,Release final kuryr for Wallaby,MERGED,2021-03-01 09:38:03.000000000,2021-03-05 09:47:09.000000000,2021-03-05 09:47:09.000000000,"[{'_account_id': 308}, {'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:38:03.000000000', 'files': ['deliverables/wallaby/kuryr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/15ef7a09f95f3c4cbdac3f27893aeef9bf166416', 'message': 'Release final kuryr for Wallaby\n\nThis proposed a release for kuryr to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 2.2.0..f973749\ncdb9fe3 Remove run_as_root which fails without root_helper\n78c31d3 Remove the unused coding style modules\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ied58267663edeecfc970adbb4624c89a68937896\n'}]",0,777947,15ef7a09f95f3c4cbdac3f27893aeef9bf166416,11,5,1,28522,,,0,"Release final kuryr for Wallaby

This proposed a release for kuryr to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 2.2.0..f973749
cdb9fe3 Remove run_as_root which fails without root_helper
78c31d3 Remove the unused coding style modules

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ied58267663edeecfc970adbb4624c89a68937896
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/777947/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/kuryr.yaml'],1,15ef7a09f95f3c4cbdac3f27893aeef9bf166416,wallaby-lib-freeze, - version: 2.3.0 projects: - repo: openstack/kuryr hash: f9737498168abe81b442649a296e85198d96e29a,,4,0
openstack%2Freleases~master~Icfb8c0800109872ac92d574aecabb3cb1da3a195,openstack/releases,master,Icfb8c0800109872ac92d574aecabb3cb1da3a195,Release final monasca-common for Wallaby,MERGED,2021-03-01 09:39:32.000000000,2021-03-05 09:46:14.000000000,2021-03-05 09:46:14.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:39:32.000000000', 'files': ['deliverables/wallaby/monasca-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7544105e5c17478992d96404a75dad1170c767ca', 'message': 'Release final monasca-common for Wallaby\n\nThis proposed a release for monasca-common to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 3.2.0..9aa47af\n9aa47af Fix zuul publish docker image job\nccae320 Use C compiler to build cryptography\nf59a2f2 Bump librdkafka to 1.6.0\nc491b34 [goal] Deprecate the JSON formatted policy file\n99f6cf2 Fix zuul publish docker image job\n6ffab58 Remove six\n429f515 Add py38 in setup metadata\nfd7c3bf bump py37 to py38 in tox.ini\ne4861ac Add Python3 wallaby unit tests\ne8a953b [goal] Migrate testing to ubuntu focal\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Icfb8c0800109872ac92d574aecabb3cb1da3a195\n'}]",0,777948,7544105e5c17478992d96404a75dad1170c767ca,11,4,1,28522,,,0,"Release final monasca-common for Wallaby

This proposed a release for monasca-common to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 3.2.0..9aa47af
9aa47af Fix zuul publish docker image job
ccae320 Use C compiler to build cryptography
f59a2f2 Bump librdkafka to 1.6.0
c491b34 [goal] Deprecate the JSON formatted policy file
99f6cf2 Fix zuul publish docker image job
6ffab58 Remove six
429f515 Add py38 in setup metadata
fd7c3bf bump py37 to py38 in tox.ini
e4861ac Add Python3 wallaby unit tests
e8a953b [goal] Migrate testing to ubuntu focal

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Icfb8c0800109872ac92d574aecabb3cb1da3a195
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/777948/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/monasca-common.yaml'],1,7544105e5c17478992d96404a75dad1170c767ca,wallaby-lib-freeze,releases: - version: 3.3.0 projects: - repo: openstack/monasca-common hash: 9aa47afe5d39efcfd2f8b64810ac58857b4f7997,,5,0
openstack%2Freleases~master~I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe,openstack/releases,master,I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe,Release final glance_store for Wallaby,MERGED,2021-03-01 10:08:02.000000000,2021-03-05 09:44:57.000000000,2021-03-05 09:44:57.000000000,"[{'_account_id': 308}, {'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-03-01 10:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b3d442df7a4a800e4cfea1d52a78f7c7f7918daf', 'message': 'Release final glance_store for Wallaby\n\nThis proposed a release for glance_store to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\nChange-Id: I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe\n'}, {'number': 2, 'created': '2021-03-01 14:49:57.000000000', 'files': ['deliverables/wallaby/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c5874e226a798bd71a516967d4cd4d64d7a02521', 'message': 'Release final glance_store for Wallaby\n\nThis proposed a release for glance_store to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\nChange-Id: I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe\n'}]",0,777970,c5874e226a798bd71a516967d4cd4d64d7a02521,21,8,2,28522,,,0,"Release final glance_store for Wallaby

This proposed a release for glance_store to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

Change-Id: I7f3d12e82a555f0c656cc7a9a828f8f11e7bdbfe
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/777970/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/glance-store.yaml'],1,b3d442df7a4a800e4cfea1d52a78f7c7f7918daf,wallaby-lib-freeze, - version: 2.5.0 projects: - repo: openstack/glance_store hash: 5457a929c9ef6df8ddf5e192f855f658d887fa5b,,4,0
openstack%2Freleases~master~Ie1dd06525b161219de0d85ac8dad7aa0fcc8573c,openstack/releases,master,Ie1dd06525b161219de0d85ac8dad7aa0fcc8573c,Release final tosca-parser for Wallaby,MERGED,2021-03-01 09:49:25.000000000,2021-03-05 09:43:54.000000000,2021-03-05 09:43:54.000000000,"[{'_account_id': 308}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:49:25.000000000', 'files': ['deliverables/wallaby/tosca-parser.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cb8719b710a4ab1f85b2bfc28e4e687c0ecbc380', 'message': 'Release final tosca-parser for Wallaby\n\nThis proposed a release for tosca-parser to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 2.2.0..a1c2cbe\nd353bbc Remove depreciated file babel.cfg\n6f253c5 Dropping explicit unicode literal\n1f6f7a0 Update TOX_CONSTRAINTS_FILE\nce8fa0f Move tosca-parser to new hacking 4.0.0\ndf16f01 Support ""Implementation"" definition as Artifact Name\nb0c5c55 Drop Python 2 support\n62f0d45 Add Python3 wallaby unit tests\n00d3a39 Add validation for required property of policies\n0653750 Fix error parsing scalar unit contraints\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ie1dd06525b161219de0d85ac8dad7aa0fcc8573c\n'}]",1,777961,cb8719b710a4ab1f85b2bfc28e4e687c0ecbc380,10,4,1,28522,,,0,"Release final tosca-parser for Wallaby

This proposed a release for tosca-parser to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 2.2.0..a1c2cbe
d353bbc Remove depreciated file babel.cfg
6f253c5 Dropping explicit unicode literal
1f6f7a0 Update TOX_CONSTRAINTS_FILE
ce8fa0f Move tosca-parser to new hacking 4.0.0
df16f01 Support ""Implementation"" definition as Artifact Name
b0c5c55 Drop Python 2 support
62f0d45 Add Python3 wallaby unit tests
00d3a39 Add validation for required property of policies
0653750 Fix error parsing scalar unit contraints

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ie1dd06525b161219de0d85ac8dad7aa0fcc8573c
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/777961/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/tosca-parser.yaml'],1,cb8719b710a4ab1f85b2bfc28e4e687c0ecbc380,wallaby-lib-freeze, - version: 2.3.0 projects: - repo: openstack/tosca-parser hash: a1c2cbe960766629c74f3d26a46219b52f5f1bb3,,4,0
openstack%2Freleases~master~I3d16919d8ee19c2160fcccd5a7bef35d50fc488a,openstack/releases,master,I3d16919d8ee19c2160fcccd5a7bef35d50fc488a,Release final heat-translator for Wallaby,MERGED,2021-03-01 09:58:10.000000000,2021-03-05 09:38:43.000000000,2021-03-05 09:38:43.000000000,"[{'_account_id': 308}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-01 09:58:10.000000000', 'files': ['deliverables/wallaby/heat-translator.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f94431e418b6f86a05e1348493ebe75db0f261bb', 'message': 'Release final heat-translator for Wallaby\n\nThis proposed a release for heat-translator to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 8.\n\n$ git log --oneline --no-merges 2.1.0..7109d4c\n615c76b Remove depreciated file babel.cfg\ne41b382 Dropping explicit unicode literal\n91c4415 Update TOX_CONSTRAINTS_FILE\n6687b35 Move heat-translator to new hacking 4.0.0\n4809045 Remove six support\n1823e85 Switch to wallaby job template\n828ede5 [goal] Migrate testing to ubuntu focal\nbfb642e drop mock from lower-constraints\n7dc0b74 Fix hacking min version to 3.0.1\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I3d16919d8ee19c2160fcccd5a7bef35d50fc488a\n'}]",0,777964,f94431e418b6f86a05e1348493ebe75db0f261bb,9,4,1,28522,,,0,"Release final heat-translator for Wallaby

This proposed a release for heat-translator to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 8.

$ git log --oneline --no-merges 2.1.0..7109d4c
615c76b Remove depreciated file babel.cfg
e41b382 Dropping explicit unicode literal
91c4415 Update TOX_CONSTRAINTS_FILE
6687b35 Move heat-translator to new hacking 4.0.0
4809045 Remove six support
1823e85 Switch to wallaby job template
828ede5 [goal] Migrate testing to ubuntu focal
bfb642e drop mock from lower-constraints
7dc0b74 Fix hacking min version to 3.0.1

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I3d16919d8ee19c2160fcccd5a7bef35d50fc488a
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/777964/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/heat-translator.yaml'],1,f94431e418b6f86a05e1348493ebe75db0f261bb,wallaby-lib-freeze,releases: - version: 2.2.0 projects: - repo: openstack/heat-translator hash: 7109d4cd52784ad110a202b54540417510bc0e91,,5,0
openstack%2Fneutron-specs~master~I67ebf642fbb130a7701792d66629dbab2d76181b,openstack/neutron-specs,master,I67ebf642fbb130a7701792d66629dbab2d76181b,L3 router support ECMP,MERGED,2020-05-20 07:57:56.000000000,2021-03-05 09:37:27.000000000,2021-03-05 09:34:19.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 31814}]","[{'number': 1, 'created': '2020-05-20 07:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c8064c7e5922ebfa95577a4fc34227c7c6991944', 'message': 'add file l3-router-support-ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 2, 'created': '2020-05-20 08:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d1ff7419fdac8c58d24a414ad15f105206bc43a4', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 3, 'created': '2020-05-20 08:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fba99e117f71c364de20929a3194057983a9c288', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 4, 'created': '2020-05-20 08:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1d5f42c081659ddcc3d072e9ba1b58261eccec4b', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 5, 'created': '2020-05-20 09:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6786edcb22639135596d0a81e843dfe854e0fcfc', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 6, 'created': '2020-05-20 12:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e94f4b0ea794f23ff2db8faf1fa34e67d937ba51', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 7, 'created': '2020-05-21 07:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6fce63c6b96ed078568ef4660ab4a19a4a560543', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 8, 'created': '2020-05-21 07:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dd20082ed1f7a3644c6c7d1ee9b278f7e11af5d9', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 9, 'created': '2020-05-21 08:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d3ec1b266a7a5ace8a874c3ac586839aa64699a5', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 10, 'created': '2020-05-21 09:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6abb175fc46a4bb651481c60199e56acb68f61a0', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 11, 'created': '2020-05-21 09:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4bf5a47630f60e6dd694579e8658c8bfda6ed060', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 12, 'created': '2020-05-21 09:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f467a7e0cdea9fbe4975c436f92032e4218ad928', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 13, 'created': '2020-05-21 09:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8ee82ad2e91ad17896e245e9567d0bfcba15a624', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 14, 'created': '2020-05-21 10:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3df07a35ceacbb94f26c6193ef44bfadd29236e2', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 15, 'created': '2020-05-21 10:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/78223a0c347f34fe1d570b4c819510a0fdb3d854', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 16, 'created': '2020-05-21 10:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a422d79e6010878a132d0bfdd8fc935bd04262c6', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 17, 'created': '2020-05-21 10:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c4480d0dbb3b282b5c5c1c95c07a62c30bd21ad1', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 18, 'created': '2020-05-21 11:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2a1b4ed068d84b87a98276d845fc526c584d0107', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 19, 'created': '2020-05-21 12:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/58f22eff2aa0dcf32f74203c66308373b1a43ef5', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 20, 'created': '2020-05-21 12:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6738b9c4607f9ccd646eeb43823de47fa36f54ed', 'message': 'l3 router support ecmp\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 21, 'created': '2020-05-22 01:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/28e812b8a9021baa334c7ee3ef4ad876170827ce', 'message': 'l3 router support ecmp\n\nThis spec outlines the Implementation plan of ecmp in neutron\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 22, 'created': '2020-05-22 02:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a1cff195bc26e97736846561c090a899a5dfae8a', 'message': 'l3 router support ecmp\n\nThis spec outlines the Implementation plan of ecmp in neutron\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 23, 'created': '2020-06-02 08:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dc3a4cdbed85aae2aa4614516fbf074a9bbd548d', 'message': 'l3 router support ecmp\n\nThis spec outlines the Implementation plan of ecmp in neutron\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 24, 'created': '2020-06-02 08:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f8ae79119c063b2cf8061b7e4bd052923279a1f8', 'message': 'l3 router support ecmp\n\nThis spec outlines the Implementation plan of ecmp in neutron\n\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 25, 'created': '2020-06-19 13:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9588b38187b06ddcc4812e3946e71efbd6c4598c', 'message': 'L3 router support ecmp\n\nThis spec outlines the Implementation plan of ecmp in neutron\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 26, 'created': '2020-07-10 11:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e1a752a81dca6e5c322bd94e2f53d18271a9210f', 'message': 'L3 router support ecmp\n\nThis spec outlines the Implementation plan of ecmp in neutron\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 27, 'created': '2020-07-14 12:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/267de087bdc8725ddd64837b93795ce2349ea028', 'message': 'L3 router support ecmp\n\nThis spec outlines the Implementation plan of ecmp in neutron\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 28, 'created': '2020-07-29 11:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/11260b62c9d7b2bb868d41e28a872c5e063d818f', 'message': 'L3 router support ecmp\n\nThis spec outlines the Implementation plan of ecmp in neutron\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 29, 'created': '2020-09-03 03:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/33164e24e3487056622130dc24a9556049740eb7', 'message': 'L3 router support ecmp\n\nThis spec outlines the Implementation plan of ecmp in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 30, 'created': '2020-09-09 08:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4d3c4614d4701f052feaf5db50a918bd0af9a339', 'message': 'L3 router support ecmp\n\nThis spec outlines the Implementation plan of ecmp in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 31, 'created': '2020-09-10 10:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fb8046dd34f96161fb90ba039deb2b6f71032ce1', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ecmp in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 32, 'created': '2020-11-04 07:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cada7b6800a689dc60255aaa28b49acb131aa076', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ECMP in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 33, 'created': '2020-11-11 11:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a1d8bfc5c94e841b73f1435aa4dfbd1efdf75ac8', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ECMP in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 34, 'created': '2020-11-26 02:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/508bd5e90454a2f88950dff347674e01e872d226', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ECMP in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 35, 'created': '2020-11-26 08:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fa8f20ab30d588f8c5bbbbb95240ba60ed174fb5', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ECMP in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 36, 'created': '2020-12-04 02:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b8358fd12f1b21c6db70085676404cccfa8d7fc4', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ECMP in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 37, 'created': '2021-01-21 10:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7350c9dcb861fbb96bb1843ac79f909c524c5174', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ECMP in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 38, 'created': '2021-01-27 11:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1f9b92a8b3dd438353356c34b76297e815e21899', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ECMP in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 39, 'created': '2021-02-19 10:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8c4f714ca980ffa253924fb6c9e650e52908905e', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ECMP in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 40, 'created': '2021-02-19 10:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4e229cc57ea56b7a655318bb499e8b1d0513f422', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ECMP in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}, {'number': 41, 'created': '2021-02-25 12:37:59.000000000', 'files': ['specs/wallaby/l3-router-support-ecmp.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9cbcaa13e34729831d878b5853a8b6a722217e63', 'message': 'L3 router support ECMP\n\nThis spec outlines the Implementation plan of ECMP in neutron.\nPatch for this spec:\nhttps://review.opendev.org/#/c/743661\n\nRelated-Bug: #1880532\nChange-Id: I67ebf642fbb130a7701792d66629dbab2d76181b\n'}]",253,729532,9cbcaa13e34729831d878b5853a8b6a722217e63,151,12,41,31814,,,0,"L3 router support ECMP

This spec outlines the Implementation plan of ECMP in neutron.
Patch for this spec:
https://review.opendev.org/#/c/743661

Related-Bug: #1880532
Change-Id: I67ebf642fbb130a7701792d66629dbab2d76181b
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/32/729532/20 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/l3-router-support-ecmp.rst'],1,c8064c7e5922ebfa95577a4fc34227c7c6991944,l3-ecmp,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== L3 router support NDP proxy =========================== ,,14,0
openstack%2Fkolla~master~Ib590065ef867f3f508860bc2c6cc1a240055cab8,openstack/kolla,master,Ib590065ef867f3f508860bc2c6cc1a240055cab8,WIP: Try building Kibana images using arm packages,ABANDONED,2021-03-04 16:27:15.000000000,2021-03-05 09:33:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-03-04 16:27:15.000000000', 'files': ['kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f5a621127fd7b224956b200dfaa3b65504aacd4c', 'message': 'WIP: Try building Kibana images using arm packages\n\nChange-Id: Ib590065ef867f3f508860bc2c6cc1a240055cab8\n'}]",0,778744,f5a621127fd7b224956b200dfaa3b65504aacd4c,6,2,1,17669,,,0,"WIP: Try building Kibana images using arm packages

Change-Id: Ib590065ef867f3f508860bc2c6cc1a240055cab8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/778744/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/template/repos.yaml'],1,f5a621127fd7b224956b200dfaa3b65504aacd4c,," kibana: ""deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" kibana: ""deb https://artifacts.elastic.co/packages/oss-7.x/apt stable main"""," kibana: ""deb [arch=amd64] https://artifacts.elastic.co/packages/oss-7.x/apt stable main"" kibana: ""deb [arch=amd64] https://artifacts.elastic.co/packages/oss-7.x/apt stable main""",2,2
openstack%2Fhorizon~master~I173f4d647474c21c5d062280bd5703edffb4978e,openstack/horizon,master,I173f4d647474c21c5d062280bd5703edffb4978e,"import ""collections.abc"" explicitly",MERGED,2021-02-10 09:50:50.000000000,2021-03-05 09:32:57.000000000,2021-03-05 09:30:12.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 09:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d7a54bdd51bf4603981e968c05616f78a3319820', 'message': ""Fix deprecation warning of 'collections'\n\nUsing or importing the ABCs from 'collections' instead of from\n'collections.abc' is deprecated since Python 3.3, and in 3.9 it\nwill stop working. So this patch fixes this deprecation warning.\n\nChange-Id: I173f4d647474c21c5d062280bd5703edffb4978e\n""}, {'number': 2, 'created': '2021-02-11 10:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8e657c15ef3a0d891bc94e1b9cc09d4cc00f6454', 'message': ""Switch to collections.abc.*\n\nThe abstract base classes previously defined in 'collections'\nwere moved to 'collections.abc' in 3.3. The aliases will be\nremoved in 3.10 [1]. So this patch import abc from \ncollections.abc in those files where abc is directly imported\nfrom collection before.\n\n[1] https://docs.python.org/3/library/collections.abc.html\nChange-Id: I173f4d647474c21c5d062280bd5703edffb4978e\n""}, {'number': 3, 'created': '2021-02-11 10:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8f287aa71dbc73f2e332c965b656929f8190468c', 'message': ""Switch to collections.abc.*\n\nThe abstract base classes previously defined in 'collections'\nwere moved to 'collections.abc' in 3.3. The aliases will be\nremoved in 3.10 [1]. So this patch import abc from\ncollections.abc in those files where abc is directly imported\nfrom collection before.\n\n[1] https://docs.python.org/3/library/collections.abc.html\nChange-Id: I173f4d647474c21c5d062280bd5703edffb4978e\n""}, {'number': 4, 'created': '2021-02-15 05:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5cc930627d1489e02224e7f63779c8835273409c', 'message': 'import ""collections.abc"" explicitly\n\nCollections Abstract Base Classes have been moved to the\ncollections.abc module, which was part of the collections\nmodule before[1] [2]. Usage from the collections module\ndirectly is deprecated and will be removed from 3.10.\nThis commit updates to import abc module explicitly\nwherever required as the same will no longer be visible/directly\nused from the collections module.\n\n[1] https://docs.python.org/3/library/collections.abc.html\n[2] http://paste.openstack.org/show/802512/\n\nChange-Id: I173f4d647474c21c5d062280bd5703edffb4978e\n'}, {'number': 5, 'created': '2021-03-04 18:48:42.000000000', 'files': ['horizon/base.py', 'horizon/tables/base.py', 'horizon/test/helpers.py', 'openstack_dashboard/test/integration_tests/decorators.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6efaee23d5bc2631b8db912d2cefbf58b8a1a074', 'message': 'import ""collections.abc"" explicitly\n\nCollections Abstract Base Classes have been moved to the\ncollections.abc module, which was part of the collections\nmodule before[1] [2]. Usage from the collections module\ndirectly is deprecated and will be removed from 3.10.\nThis commit updates to import abc module explicitly\nwherever required as the same will no longer be visible/directly\nused from the collections module.\n\n[1] https://docs.python.org/3/library/collections.abc.html\n[2] http://paste.openstack.org/show/802512/\n\nChange-Id: I173f4d647474c21c5d062280bd5703edffb4978e\n'}]",5,774790,6efaee23d5bc2631b8db912d2cefbf58b8a1a074,28,4,5,29313,,,0,"import ""collections.abc"" explicitly

Collections Abstract Base Classes have been moved to the
collections.abc module, which was part of the collections
module before[1] [2]. Usage from the collections module
directly is deprecated and will be removed from 3.10.
This commit updates to import abc module explicitly
wherever required as the same will no longer be visible/directly
used from the collections module.

[1] https://docs.python.org/3/library/collections.abc.html
[2] http://paste.openstack.org/show/802512/

Change-Id: I173f4d647474c21c5d062280bd5703edffb4978e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/90/774790/2 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/base.py', 'horizon/tables/base.py', 'horizon/test/helpers.py', 'openstack_dashboard/test/integration_tests/decorators.py']",4,d7a54bdd51bf4603981e968c05616f78a3319820,,"from collections import abc if bugs and isinstance(bugs, abc.Iterable):","import collections if bugs and isinstance(bugs, collections.abc.Iterable):",9,7
openstack%2Fnova~stable%2Fvictoria~I8249c572c6f727ef4ca434843106b9b57c47e585,openstack/nova,stable/victoria,I8249c572c6f727ef4ca434843106b9b57c47e585,Add regression test for bug 1914777,MERGED,2021-02-23 20:09:46.000000000,2021-03-05 09:31:58.000000000,2021-03-05 09:29:27.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:09:46.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1914777.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4f17ea2f7dedb67802c2a8bc0caa64ff66fd2c9c', 'message': ""Add regression test for bug 1914777\n\nThis adds two tests to cover a regression where racing create and\ndelete requests could result in a user receiving a 500 error when\nattempting to delete an instance:\n\n  Unexpected exception in API method: AttributeError: 'NoneType' object\n  has no attribute 'uuid'\n\nRelated-Bug: #1914777\n\nChange-Id: I8249c572c6f727ef4ca434843106b9b57c47e585\n(cherry picked from commit f7975d640ce1e9fa06d045d35177f07451716f0c)\n""}]",0,777121,4f17ea2f7dedb67802c2a8bc0caa64ff66fd2c9c,10,3,1,4690,,,0,"Add regression test for bug 1914777

This adds two tests to cover a regression where racing create and
delete requests could result in a user receiving a 500 error when
attempting to delete an instance:

  Unexpected exception in API method: AttributeError: 'NoneType' object
  has no attribute 'uuid'

Related-Bug: #1914777

Change-Id: I8249c572c6f727ef4ca434843106b9b57c47e585
(cherry picked from commit f7975d640ce1e9fa06d045d35177f07451716f0c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/777121/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1914777.py'],1,4f17ea2f7dedb67802c2a8bc0caa64ff66fd2c9c,bug/1914777,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import context as nova_context from nova import exception from nova import objects from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import integrated_helpers from nova.tests.unit import policy_fixture class TestDeleteWhileBooting(test.TestCase, integrated_helpers.InstanceHelperMixin): """"""This tests race scenarios where an instance is deleted while booting. In these scenarios, the nova-api service is racing with nova-conductor service; nova-conductor is in the middle of booting the instance when nova-api begins fulfillment of a delete request. As the two services delete records out from under each other, both services need to handle it properly such that a delete request will always be fulfilled. Another scenario where two requests can race and delete things out from under each other is if two or more delete requests are racing while the instance is booting. In order to force things into states where bugs have occurred, we must mock some object retrievals from the database to simulate the different points at which a delete request races with a create request or another delete request. We aim to mock only the bare minimum necessary to recreate the bug scenarios. """""" def setUp(self): super(TestDeleteWhileBooting, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.GlanceFixture(self)) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.api self.ctxt = nova_context.get_context() # We intentionally do not start a conductor or scheduler service, since # our goal is to simulate an instance that has not been scheduled yet. # Kick off a server create request and move on once it's in the BUILD # state. Since we have no conductor or scheduler service running, the # server will ""hang"" in an unscheduled state for testing. self.server = self._create_server(expected_state='BUILD') # Simulate that a different request has deleted the build request # record after this delete request has begun processing. (The first # lookup of the build request occurs in the servers API to get the # instance object in order to delete it). # We need to get the build request now before we mock the method. self.br = objects.BuildRequest.get_by_instance_uuid( self.ctxt, self.server['id']) @mock.patch('nova.objects.build_request.BuildRequest.get_by_instance_uuid') def test_build_request_and_instance_not_found(self, mock_get_br): """"""This tests a scenario where another request has deleted the build request record and the instance record ahead of us. """""" # The first lookup at the beginning of the delete request in the # ServersController succeeds and the second lookup to handle ""delete # while booting"" in compute/api fails after a different request has # deleted it. br_not_found = exception.BuildRequestNotFound(uuid=self.server['id']) mock_get_br.side_effect = [self.br, br_not_found] # FIXME(melwitt): Delete request fails due to the AttributeError. ex = self.assertRaises( client.OpenStackApiException, self._delete_server, self.server) self.assertEqual(500, ex.response.status_code) self.assertIn('AttributeError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self._delete_server(self.server) @mock.patch('nova.objects.build_request.BuildRequest.get_by_instance_uuid') @mock.patch('nova.objects.InstanceMapping.get_by_instance_uuid') @mock.patch('nova.objects.instance.Instance.get_by_uuid') def test_deleting_instance_at_the_same_time(self, mock_get_i, mock_get_im, mock_get_br): """"""This tests the scenario where another request is trying to delete the instance record at the same time we are, while the instance is booting. An example of this: while the create and delete are running at the same time, the delete request deletes the build request, the create request finds the build request already deleted when it tries to delete it. The create request deletes the instance record and then delete request tries to lookup the instance after it deletes the build request. Its attempt to lookup the instance fails because the create request already deleted it. """""" # First lookup at the beginning of the delete request in the # ServersController succeeds, second lookup to handle ""delete while # booting"" in compute/api fails after the conductor has deleted it. br_not_found = exception.BuildRequestNotFound(uuid=self.server['id']) mock_get_br.side_effect = [self.br, br_not_found] # Simulate the instance transitioning from having no cell assigned to # having a cell assigned while the delete request is being processed. # First lookup of the instance mapping has the instance unmapped (no # cell) and subsequent lookups have the instance mapped to cell1. no_cell_im = objects.InstanceMapping( context=self.ctxt, instance_uuid=self.server['id'], cell_mapping=None) has_cell_im = objects.InstanceMapping( context=self.ctxt, instance_uuid=self.server['id'], cell_mapping=self.cell_mappings['cell1']) mock_get_im.side_effect = [ no_cell_im, has_cell_im, has_cell_im, has_cell_im] # Simulate that the instance object has been created by the conductor # in the create path while the delete request is being processed. # First lookups are before the instance has been deleted and the last # lookup is after the conductor has deleted the instance. Use the build # request to make an instance object for testing. i = self.br.get_new_instance(self.ctxt) i_not_found = exception.InstanceNotFound(instance_id=self.server['id']) mock_get_i.side_effect = [i, i, i, i_not_found] # Simulate that the conductor is running instance_destroy at the same # time as we are. def fake_instance_destroy(*args, **kwargs): # NOTE(melwitt): This is a misleading exception, as it is not only # raised when a constraint on 'host' is not met, but also when two # instance_destroy calls are racing. In this test, the soft delete # returns 0 rows affected because another request soft deleted the # record first. raise exception.ObjectActionError( action='destroy', reason='host changed') self.stub_out( 'nova.objects.instance.Instance.destroy', fake_instance_destroy) # FIXME(melwitt): Delete request fails due to the AttributeError. ex = self.assertRaises( client.OpenStackApiException, self._delete_server, self.server) self.assertEqual(500, ex.response.status_code) self.assertIn('AttributeError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self._delete_server(self.server) ",,151,0
openstack%2Foctavia~stable%2Fvictoria~Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,openstack/octavia,stable/victoria,Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,Fix nf_conntrack_buckets sysctl in Amphora,MERGED,2021-02-02 08:12:47.000000000,2021-03-05 09:18:56.000000000,2021-03-05 08:58:38.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2021-02-02 08:12:47.000000000', 'files': ['releasenotes/notes/fix-nf_conntrack_buckets-sysctl-75ae6dbb9d052863.yaml', 'elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel', 'octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dd1580d332c2191e8d28bab692c1fa08e3e8ae80', 'message': ""Fix nf_conntrack_buckets sysctl in Amphora\n\nSetting nf_conntrack_buckets in the amphora namespace fails because this\nsysctl can only be set in the initial namespace (cf kernel doc at\nhttps://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)\n\nThis commit allows to set nf_conntrack_buckets in the initial namespace,\nthe value is then inherited by other namespaces.\n\nConntrack is not enabled in the main namespace, the new default value\ndoesn't affect this namespace behavior.\n\nStory: 2008028\nTask: 40682\n\nChange-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615\n(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)\n""}]",0,773599,dd1580d332c2191e8d28bab692c1fa08e3e8ae80,14,4,1,29244,,,0,"Fix nf_conntrack_buckets sysctl in Amphora

Setting nf_conntrack_buckets in the amphora namespace fails because this
sysctl can only be set in the initial namespace (cf kernel doc at
https://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)

This commit allows to set nf_conntrack_buckets in the initial namespace,
the value is then inherited by other namespaces.

Conntrack is not enabled in the main namespace, the new default value
doesn't affect this namespace behavior.

Story: 2008028
Task: 40682

Change-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615
(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/99/773599/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-nf_conntrack_buckets-sysctl-75ae6dbb9d052863.yaml', 'elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel', 'octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2']",3,dd1580d332c2191e8d28bab692c1fa08e3e8ae80,,"# Set nf_conntrack_buckets sysctl in the main namespace (nf_conntrack_buckets # cannot be set in another net namespace, but its value is inherited from the # main namespace) ExecStart=-/sbin/sysctl -w net.netfilter.nf_conntrack_buckets=125000",,9,1
openstack%2Ftripleo-ci~master~Ie2340e02bc26f55648e2c829e40df048edc1a0d8,openstack/tripleo-ci,master,Ie2340e02bc26f55648e2c829e40df048edc1a0d8,Add standalone001 to tripleoclient utils changes,MERGED,2021-03-04 14:49:42.000000000,2021-03-05 09:13:26.000000000,2021-03-05 09:13:26.000000000,"[{'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 14:49:42.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/17d7d68398dba728e499dd7d42fb2672cc9474c2', 'message': ""Add standalone001 to tripleoclient utils changes\n\nWith newer versions, we're using the ansible settings from tripleoclient\nso we need to add some scenario testing for things like ceph-ansible\nwhen we change the utils.py from tripleoclient.\n\nChange-Id: Ie2340e02bc26f55648e2c829e40df048edc1a0d8\nRelated-Bug: #1917621\n""}]",0,778712,17d7d68398dba728e499dd7d42fb2672cc9474c2,9,5,1,14985,,,0,"Add standalone001 to tripleoclient utils changes

With newer versions, we're using the ansible settings from tripleoclient
so we need to add some scenario testing for things like ceph-ansible
when we change the utils.py from tripleoclient.

Change-Id: Ie2340e02bc26f55648e2c829e40df048edc1a0d8
Related-Bug: #1917621
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/12/778712/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,17d7d68398dba728e499dd7d42fb2672cc9474c2,bug/1917621, - tripleoclient/utils.py,,1,0
openstack%2Ftripleo-quickstart-extras~master~I06dd113e41d4b47e74663cc5c7bea74434cfa0fc,openstack/tripleo-quickstart-extras,master,I06dd113e41d4b47e74663cc5c7bea74434cfa0fc,Ensure locale is set to en_US.UTF-8 for baremetal systems,MERGED,2021-03-03 19:35:17.000000000,2021-03-05 09:12:34.000000000,2021-03-05 09:12:34.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 19:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/49209e7d5e3d2f13a75805d1b1e24e14d7a712dd', 'message': 'Ensure locale is set to en_US.UTF-8 for baremetal systems\n\nRHEL 8.4 guest images set the locale to LANG=en_US\nwhich results in error during the deploy.\nThis role ensure that the locale includes\nLANG=en_US.UTF-8 after the image boots.\n\nChange-Id: I06dd113e41d4b47e74663cc5c7bea74434cfa0fc\n'}, {'number': 2, 'created': '2021-03-03 21:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0a479264e35d0593334b4fc4bdd9578030f77c22', 'message': 'Ensure locale is set to en_US.UTF-8 for baremetal systems\n\nRHEL 8.4 guest images set the locale to LANG=en_US\nwhich results in error during the deploy.\nThis role ensure that the locale includes\nLANG=en_US.UTF-8 after the image boots.\n\nChange-Id: I06dd113e41d4b47e74663cc5c7bea74434cfa0fc\n'}, {'number': 3, 'created': '2021-03-03 22:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/911c52a1ac76714e0df27e7e1a16206cc583e117', 'message': 'Ensure locale is set to en_US.UTF-8 for baremetal systems\n\nRHEL 8.4 guest images set the locale to LANG=en_US\nwhich results in error during the deploy.\nThis role ensure that the locale includes\nLANG=en_US.UTF-8 after the image boots.\n\nChange-Id: I06dd113e41d4b47e74663cc5c7bea74434cfa0fc\n'}, {'number': 4, 'created': '2021-03-04 12:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/40a4f429755075a12e4ab0c9ae077a62fa7fa481', 'message': 'Ensure locale is set to en_US.UTF-8 for baremetal systems\n\nRHEL 8.4 guest images set the locale to LANG=en_US\nwhich results in error during the deploy.\nThis role ensure that the locale includes\nLANG=en_US.UTF-8 after the image boots.\n\nChange-Id: I06dd113e41d4b47e74663cc5c7bea74434cfa0fc\n'}, {'number': 5, 'created': '2021-03-04 16:44:07.000000000', 'files': ['playbooks/baremetal-prep-virthost.yml', 'roles/baremetal-prep-virthost/tasks/set_locale_UTF_8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3d81be621749552dc0748a0ec572d19fc482880e', 'message': 'Ensure locale is set to en_US.UTF-8 for baremetal systems\n\nRHEL 8.4 guest images set the locale to LANG=en_US\nwhich results in error during the deploy.\nThis role ensure that the locale includes\nLANG=en_US.UTF-8 after the image boots.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1935345\nChange-Id: I06dd113e41d4b47e74663cc5c7bea74434cfa0fc\n'}]",0,778561,3d81be621749552dc0748a0ec572d19fc482880e,18,6,5,9976,,,0,"Ensure locale is set to en_US.UTF-8 for baremetal systems

RHEL 8.4 guest images set the locale to LANG=en_US
which results in error during the deploy.
This role ensure that the locale includes
LANG=en_US.UTF-8 after the image boots.

Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1935345
Change-Id: I06dd113e41d4b47e74663cc5c7bea74434cfa0fc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/61/778561/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/baremetal-prep-virthost.yml', 'roles/baremetal-prep-virthost/tasks/set_locale_UTF_8.yml']",2,49209e7d5e3d2f13a75805d1b1e24e14d7a712dd,locale-lang,"--- - name: Get current locale and language configuration command: localectl status register: locale_status changed_when: false - name: run localectl to set LANG=en_US.UTF-8 become: true command: ""localectl set-locale LANG=en_US.UTF-8"" when: ""'LANG=en_US.UTF-8' not in '{{ locale_status.stdout }}'"" ",,21,0
openstack%2Foctavia~stable%2Fvictoria~I05488e91b33dfed891c0a896a86d8bd94bc4a918,openstack/octavia,stable/victoria,I05488e91b33dfed891c0a896a86d8bd94bc4a918,Drop lower constraints testing (stable Victoria),MERGED,2021-01-12 21:21:41.000000000,2021-03-05 08:44:55.000000000,2021-03-05 08:41:33.000000000,"[{'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 21:21:41.000000000', 'files': ['lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/85875bcd318acee2af4f7ec314891892bd3a69ec', 'message': 'Drop lower constraints testing (stable Victoria)\n\nThis topic was discussed on the ML and QA team proposed to\nto drop testing lower-constraints [1].\n\nProposing to drop this test because the complexity and\nrecurring pain needed to maintain it now exceeds the\nbenefits provided by it on the stable branches.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I05488e91b33dfed891c0a896a86d8bd94bc4a918\n'}]",0,770476,85875bcd318acee2af4f7ec314891892bd3a69ec,18,3,1,1131,,,0,"Drop lower constraints testing (stable Victoria)

This topic was discussed on the ML and QA team proposed to
to drop testing lower-constraints [1].

Proposing to drop this test because the complexity and
recurring pain needed to maintain it now exceeds the
benefits provided by it on the stable branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I05488e91b33dfed891c0a896a86d8bd94bc4a918
",git fetch https://review.opendev.org/openstack/octavia refs/changes/76/770476/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",3,85875bcd318acee2af4f7ec314891892bd3a69ec,oslo_lc_drop,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt whitelist_externals = sh commands = sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/unit stestr run {posargs}' sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/functional stestr run {posargs}' ,0,188
openstack%2Foctavia~stable%2Fvictoria~I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,openstack/octavia,stable/victoria,I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,Support deletion of all tags,MERGED,2021-02-02 08:41:06.000000000,2021-03-05 08:43:38.000000000,2021-03-05 08:41:23.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 28514}]","[{'number': 1, 'created': '2021-02-02 08:41:06.000000000', 'files': ['octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/adb4e78e4439181f57c17f277bad0cd325f219cf', 'message': 'Support deletion of all tags\n\nAdd support for removal of all tags by PUTing empty tags array.\n\nAlso moved assignment after initial session query for the\nobject in the listener update path.\n\nTask: #41009\nStory: #2008220\n\nChange-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70\nSigned-off-by: Andrew Karpow <andrew.karpow@sap.com>\n(cherry picked from commit 7ad022379ff2e366d3dfd73113d4619b0137551c)\n'}]",0,773608,adb4e78e4439181f57c17f277bad0cd325f219cf,14,4,1,29244,,,0,"Support deletion of all tags

Add support for removal of all tags by PUTing empty tags array.

Also moved assignment after initial session query for the
object in the listener update path.

Task: #41009
Story: #2008220

Change-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70
Signed-off-by: Andrew Karpow <andrew.karpow@sap.com>
(cherry picked from commit 7ad022379ff2e366d3dfd73113d4619b0137551c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/08/773608/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",2,adb4e78e4439181f57c17f277bad0cd325f219cf,," def test_update_delete_tag(self): project_id = uuidutils.generate_uuid() lb = self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=project_id, admin_state_up=False, tags=['test_tag1'],) lb_dict = lb.get(self.root_tag) lb_json = self._build_body({'tags': []}) self.set_lb_status(lb_dict.get('id')) response = self.put(self.LB_PATH.format(lb_id=lb_dict.get('id')), lb_json) api_lb = response.json.get(self.root_tag) self.assertEqual([], api_lb.get('tags')) ",,20,5
openstack%2Fpython-openstackclient~stable%2Fussuri~I2ea2def607ec5be112e42d53a1e660fef0cdd69c,openstack/python-openstackclient,stable/ussuri,I2ea2def607ec5be112e42d53a1e660fef0cdd69c,Fix reverted osc-lib interface change,MERGED,2021-01-19 15:29:32.000000000,2021-03-05 08:30:57.000000000,2021-03-05 08:29:39.000000000,"[{'_account_id': 2}, {'_account_id': 11109}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-19 15:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f73203b9be7f634c473b3e0ae184b171b7e62b19', 'message': 'Fix reverted osc-lib interface change\n\nThe patch https://review.opendev.org/#/c/673389/ introduced a regression\nby changing the osc-lib interface.\n\nTwo conflicting attempts to fix the regression were launched:\n\n1) Reverting the patch.\n\n2) The patch https://review.opendev.org/683119 changes the exception\n   from the generic CommandError back to a specific Forbidden exception.\n\n   The patch https://review.opendev.org/683118 catches this exception\n   and passes on, i.e. re-implements the same behavior as before.\n\nThe first idea was implemented, the initial patch reverted. The second\nidea was partially implemented. The change in python-openstackclient\n(683118) was merged. The change in osc-lib was approved but failed to\nmerge because the initial change had been reverted.\n\nNow we have again a situation where the exception produced in osc-lib\ndoes not match the exception expected by the caller.\n\nIt is unclear if the osc-lib interface will ever get a rebased version\nof https://review.opendev.org/683119 merged, so the safest way to\naddress the issue is to also catch the exception that used to be\nthrown before the inital change and is again thrown after the inital\nchange has been reverted.\n\nChange-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c\n(cherry picked from commit 0a8753dc3eaeda25554ccd769350de1e9792a62b)\n'}, {'number': 2, 'created': '2021-01-21 14:26:33.000000000', 'files': ['openstackclient/identity/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0a8d855764c049be983ece4aaad02eea866da09e', 'message': 'Fix reverted osc-lib interface change\n\nThe patch https://review.opendev.org/#/c/673389/ introduced a regression\nby changing the osc-lib interface.\n\nTwo conflicting attempts to fix the regression were launched:\n\n1) Reverting the patch.\n\n2) The patch https://review.opendev.org/683119 changes the exception\n   from the generic CommandError back to a specific Forbidden exception.\n\n   The patch https://review.opendev.org/683118 catches this exception\n   and passes on, i.e. re-implements the same behavior as before.\n\nThe first idea was implemented, the initial patch reverted. The second\nidea was partially implemented. The change in python-openstackclient\n(683118) was merged. The change in osc-lib was approved but failed to\nmerge because the initial change had been reverted.\n\nNow we have again a situation where the exception produced in osc-lib\ndoes not match the exception expected by the caller.\n\nIt is unclear if the osc-lib interface will ever get a rebased version\nof https://review.opendev.org/683119 merged, so the safest way to\naddress the issue is to also catch the exception that used to be\nthrown before the inital change and is again thrown after the inital\nchange has been reverted.\n\nChange-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c\n(cherry picked from commit 0a8753dc3eaeda25554ccd769350de1e9792a62b)\n'}]",0,771408,0a8d855764c049be983ece4aaad02eea866da09e,12,4,2,15334,,,0,"Fix reverted osc-lib interface change

The patch https://review.opendev.org/#/c/673389/ introduced a regression
by changing the osc-lib interface.

Two conflicting attempts to fix the regression were launched:

1) Reverting the patch.

2) The patch https://review.opendev.org/683119 changes the exception
   from the generic CommandError back to a specific Forbidden exception.

   The patch https://review.opendev.org/683118 catches this exception
   and passes on, i.e. re-implements the same behavior as before.

The first idea was implemented, the initial patch reverted. The second
idea was partially implemented. The change in python-openstackclient
(683118) was merged. The change in osc-lib was approved but failed to
merge because the initial change had been reverted.

Now we have again a situation where the exception produced in osc-lib
does not match the exception expected by the caller.

It is unclear if the osc-lib interface will ever get a rebased version
of https://review.opendev.org/683119 merged, so the safest way to
address the issue is to also catch the exception that used to be
thrown before the inital change and is again thrown after the inital
change has been reverted.

Change-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c
(cherry picked from commit 0a8753dc3eaeda25554ccd769350de1e9792a62b)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/08/771408/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/identity/common.py'],1,f73203b9be7f634c473b3e0ae184b171b7e62b19,fix_rbac_regression," except (exceptions.Forbidden, identity_exc.Forbidden):", except exceptions.Forbidden:,1,1
openstack%2Fpuppet-tripleo~master~Ie250cb642841abc2f1b559c813d8750008101d73,openstack/puppet-tripleo,master,Ie250cb642841abc2f1b559c813d8750008101d73,"Revert ""Revert ""Add replication_probe_interval for ovsdbs""""",ABANDONED,2020-05-13 07:33:06.000000000,2021-03-05 08:30:10.000000000,,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-13 07:33:06.000000000', 'files': ['releasenotes/notes/replication_probe_interval_ovn_dbs-df22bef3bb12a0f7.yaml', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6c3dc3ee274d5eeb2bef3cc41f1adfc0db4b10ce', 'message': 'Revert ""Revert ""Add replication_probe_interval for ovsdbs""""\n\nNow with current version of ovs changes should work because\npatch [0] introduce inactive_probe_interval_to_master\n\n[0]https://patchwork.ozlabs.org/patch/1238976/\n\nThis reverts commit 9c05cdf97f7329634b5bc55492cf66423c634028.\n\nChange-Id: Ie250cb642841abc2f1b559c813d8750008101d73\n'}]",0,727645,6c3dc3ee274d5eeb2bef3cc41f1adfc0db4b10ce,4,8,1,11082,,,0,"Revert ""Revert ""Add replication_probe_interval for ovsdbs""""

Now with current version of ovs changes should work because
patch [0] introduce inactive_probe_interval_to_master

[0]https://patchwork.ozlabs.org/patch/1238976/

This reverts commit 9c05cdf97f7329634b5bc55492cf66423c634028.

Change-Id: Ie250cb642841abc2f1b559c813d8750008101d73
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/45/727645/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/replication_probe_interval_ovn_dbs-df22bef3bb12a0f7.yaml', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp']",2,6c3dc3ee274d5eeb2bef3cc41f1adfc0db4b10ce,,"# [*replication_probe_interval*] # (Optional) probe interval for ovsdb-server. It configure probe interval for connection for ovsdb-server when it is # in backup mode and connects to the active ovsdb-server for replication # Defaults to 60000 # $ovn_dbs_docker_image = hiera('tripleo::profile::pacemaker::ovn_dbs_bundle::ovn_dbs_docker_image', undef), $ovn_dbs_control_port = hiera('tripleo::profile::pacemaker::ovn_dbs_bundle::control_port', '3125'), $bootstrap_node = hiera('ovn_dbs_short_bootstrap_node_name'), $step = Integer(hiera('step')), $pcs_tries = hiera('pcs_tries', 20), $ovn_dbs_vip = hiera('ovn_dbs_vip'), $nb_db_port = 6641, $sb_db_port = 6642, $meta_params = '', $op_params = '', $container_backend = 'docker', $tls_priorities = hiera('tripleo::pacemaker::tls_priorities', undef), $bundle_user = undef, $log_driver = undef, $enable_internal_tls = hiera('enable_internal_tls', false), $ca_file = undef, $dbs_timeout = hiera('tripleo::profile::pacemaker::ovn_dbs_bundle::dbs_timeout', 60), $listen_on_master_ip_only = hiera('tripleo::profile::pacemaker::ovn_dbs_bundle::listen_on_master_ip_only', 'yes'), $replication_probe_interval = hiera('tripleo::profile::pacemaker::ovn_dbs_bundle::replication_probe_interval', 60000),listen_on_master_ip_only=${listen_on_master_ip_only} inactive_probe_interval_to_master=${replication_probe_interval}"""," $ovn_dbs_docker_image = hiera('tripleo::profile::pacemaker::ovn_dbs_bundle::ovn_dbs_docker_image', undef), $ovn_dbs_control_port = hiera('tripleo::profile::pacemaker::ovn_dbs_bundle::control_port', '3125'), $bootstrap_node = hiera('ovn_dbs_short_bootstrap_node_name'), $step = Integer(hiera('step')), $pcs_tries = hiera('pcs_tries', 20), $ovn_dbs_vip = hiera('ovn_dbs_vip'), $nb_db_port = 6641, $sb_db_port = 6642, $meta_params = '', $op_params = '', $container_backend = 'docker', $tls_priorities = hiera('tripleo::pacemaker::tls_priorities', undef), $bundle_user = undef, $log_driver = undef, $enable_internal_tls = hiera('enable_internal_tls', false), $ca_file = undef, $dbs_timeout = hiera('tripleo::profile::pacemaker::ovn_dbs_bundle::dbs_timeout', 60), $listen_on_master_ip_only = hiera('tripleo::profile::pacemaker::ovn_dbs_bundle::listen_on_master_ip_only', 'yes'),listen_on_master_ip_only=${listen_on_master_ip_only}""",31,19
openstack%2Fproject-config~master~Ib269cdc2bc6b9f96ba1e7a07a594267f49cbfcd5,openstack/project-config,master,Ib269cdc2bc6b9f96ba1e7a07a594267f49cbfcd5,Add an nl01.opendev.org config,MERGED,2021-02-22 18:50:59.000000000,2021-03-05 08:11:57.000000000,2021-03-05 06:48:41.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 18:50:59.000000000', 'files': ['nodepool/nl01.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f9d92fbea2fce2e81ba3868399c274de9dbd95be', 'message': 'Add an nl01.opendev.org config\n\nThis is prep work for eventually deploying an nl01.opendev.org server.\nFirst thing this allows us to do is find and deploy the right config in\ntesting. Once nl01.openstack.org has been completely replaced we can\nremove its config from this repo.\n\nChange-Id: Ib269cdc2bc6b9f96ba1e7a07a594267f49cbfcd5\n'}]",0,776979,f9d92fbea2fce2e81ba3868399c274de9dbd95be,8,3,1,4146,,,0,"Add an nl01.opendev.org config

This is prep work for eventually deploying an nl01.opendev.org server.
First thing this allows us to do is find and deploy the right config in
testing. Once nl01.openstack.org has been completely replaced we can
remove its config from this repo.

Change-Id: Ib269cdc2bc6b9f96ba1e7a07a594267f49cbfcd5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/776979/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl01.opendev.org.yaml'],1,f9d92fbea2fce2e81ba3868399c274de9dbd95be,prep-nl01.opendev-config,"elements-dir: /etc/nodepool/elements images-dir: /opt/nodepool_dib zookeeper-servers: - host: zk01.openstack.org port: 2181 - host: zk02.openstack.org port: 2181 - host: zk03.openstack.org port: 2181 # NOTE(pabelanger): To avoid a race conditions between multiple launchers, only # nl01.o.o will manage min-ready of our labels. If nl01.o.o is ever disabled, # another launcher will need to assume this logic. labels: - name: centos-7 min-ready: 1 - name: centos-8 min-ready: 1 - name: centos-8-stream min-ready: 1 - name: debian-buster min-ready: 1 - name: debian-stretch min-ready: 1 - name: fedora-31 min-ready: 1 - name: fedora-32 min-ready: 1 - name: gentoo-17-0-systemd min-ready: 1 - name: opensuse-15 min-ready: 1 - name: opensuse-tumbleweed min-ready: 1 - name: ubuntu-bionic # Common job platform min-ready: 10 - name: ubuntu-focal min-ready: 1 - name: ubuntu-xenial min-ready: 1 providers: - name: rax-dfw region-name: 'DFW' cloud: rax boot-timeout: 120 launch-timeout: 600 rate: 0.001 diskimages: &provider_diskimages - name: centos-7 config-drive: true - name: centos-8 config-drive: true - name: centos-8-stream config-drive: true - name: debian-buster config-drive: true - name: debian-stretch config-drive: true - name: fedora-31 config-drive: true - name: fedora-32 config-drive: true - name: gentoo-17-0-systemd config-drive: true - name: opensuse-15 config-drive: true - name: opensuse-tumbleweed config-drive: true - name: ubuntu-bionic config-drive: true - name: ubuntu-focal config-drive: true - name: ubuntu-xenial config-drive: true pools: - name: main max-servers: 140 labels: &provider_pools_labels - name: centos-7 min-ram: 8192 flavor-name: 'Performance' diskimage: centos-7 key-name: infra-root-keys-2020-05-13 - name: centos-8 min-ram: 8192 flavor-name: 'Performance' diskimage: centos-8 key-name: infra-root-keys-2020-05-13 - name: centos-8-stream min-ram: 8192 flavor-name: 'Performance' diskimage: centos-8-stream key-name: infra-root-keys-2020-05-13 - name: debian-buster min-ram: 8000 flavor-name: 'Performance' diskimage: debian-buster key-name: infra-root-keys-2020-05-13 - name: debian-stretch min-ram: 8000 flavor-name: 'Performance' diskimage: debian-stretch key-name: infra-root-keys-2020-05-13 - name: fedora-31 min-ram: 8000 flavor-name: 'Performance' diskimage: fedora-31 key-name: infra-root-keys-2020-05-13 - name: fedora-32 min-ram: 8000 flavor-name: 'Performance' diskimage: fedora-32 key-name: infra-root-keys-2020-05-13 - name: gentoo-17-0-systemd min-ram: 8000 flavor-name: 'Performance' diskimage: gentoo-17-0-systemd key-name: infra-root-keys-2020-05-13 - name: opensuse-15 min-ram: 8000 flavor-name: 'Performance' diskimage: opensuse-15 key-name: infra-root-keys-2020-05-13 - name: opensuse-tumbleweed min-ram: 8000 flavor-name: 'Performance' diskimage: opensuse-tumbleweed key-name: infra-root-keys-2020-05-13 - name: ubuntu-bionic min-ram: 8192 flavor-name: 'Performance' diskimage: ubuntu-bionic key-name: infra-root-keys-2020-05-13 - name: ubuntu-focal min-ram: 8192 flavor-name: 'Performance' diskimage: ubuntu-focal key-name: infra-root-keys-2020-05-13 - name: ubuntu-xenial min-ram: 8192 flavor-name: 'Performance' diskimage: ubuntu-xenial key-name: infra-root-keys-2020-05-13 - name: rax-iad region-name: 'IAD' cloud: rax boot-timeout: 120 launch-timeout: 600 rate: 0.001 diskimages: *provider_diskimages pools: - name: main max-servers: 145 labels: *provider_pools_labels - name: rax-ord region-name: 'ORD' cloud: rax boot-timeout: 120 launch-timeout: 600 rate: 0.001 diskimages: *provider_diskimages pools: - name: main max-servers: 195 labels: labels: *provider_pools_labels diskimages: - name: centos-7 - name: centos-8 - name: centos-8-stream - name: debian-buster - name: debian-stretch - name: fedora-31 - name: fedora-32 - name: gentoo-17-0-systemd - name: opensuse-15 - name: opensuse-tumbleweed - name: ubuntu-bionic - name: ubuntu-focal - name: ubuntu-xenial ",,185,0
openstack%2Foctavia~stable%2Fvictoria~I1c5cb987945a7a465bfecfda399dfe93fc1b76bb,openstack/octavia,stable/victoria,I1c5cb987945a7a465bfecfda399dfe93fc1b76bb,Validate listener protocol in amphora driver,MERGED,2021-02-02 08:22:12.000000000,2021-03-05 07:48:06.000000000,2021-03-05 07:46:36.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 08:22:12.000000000', 'files': ['octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b326d636699ea325a28531a42953fbb11eef1cf8', 'message': ""Validate listener protocol in amphora driver\n\nValidate that the amphora driver supports the listener protocol when\nreceving a listener_create request.\n\nIt returns an UnsupportedOptionError exception to the user if the\namphora driver doesn't support a protocol that is defined in the API\n(ex: SCTP is supported in the API in the Victoria release, but not in\nthe amphora driver).\n\nStory: 2008545\nTask: 41647\n\nChange-Id: I1c5cb987945a7a465bfecfda399dfe93fc1b76bb\n(cherry picked from commit fbbc5f9024b0408d5ff70bb8f2c4c690f0304c33)\n""}]",0,773602,b326d636699ea325a28531a42953fbb11eef1cf8,12,3,1,29244,,,0,"Validate listener protocol in amphora driver

Validate that the amphora driver supports the listener protocol when
receving a listener_create request.

It returns an UnsupportedOptionError exception to the user if the
amphora driver doesn't support a protocol that is defined in the API
(ex: SCTP is supported in the API in the Victoria release, but not in
the amphora driver).

Story: 2008545
Task: 41647

Change-Id: I1c5cb987945a7a465bfecfda399dfe93fc1b76bb
(cherry picked from commit fbbc5f9024b0408d5ff70bb8f2c4c690f0304c33)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/773602/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",4,b326d636699ea325a28531a42953fbb11eef1cf8,,"from octavia_lib.common import constants as lib_constsAMPHORA_SUPPORTED_PROTOCOLS = [ lib_consts.PROTOCOL_TCP, lib_consts.PROTOCOL_HTTP, lib_consts.PROTOCOL_HTTPS, lib_consts.PROTOCOL_TERMINATED_HTTPS, lib_consts.PROTOCOL_PROXY, lib_consts.PROTOCOL_PROXYV2, lib_consts.PROTOCOL_UDP, ] def _validate_listener_protocol(self, listener): if listener.protocol not in AMPHORA_SUPPORTED_PROTOCOLS: msg = ('Amphora provider does not support %s protocol. ' 'Supported: %s' % (listener.protocol, "", "".join(AMPHORA_SUPPORTED_PROTOCOLS))) raise exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) self._validate_listener_protocol(listener)",,72,2
openstack%2Fpython-tackerclient~master~I25e1bdc32e0b91bbe02b82f79918c02b98e5f110,openstack/python-tackerclient,master,I25e1bdc32e0b91bbe02b82f79918c02b98e5f110,Fix error message for nonexistent vnf package,MERGED,2021-02-10 08:16:12.000000000,2021-03-05 06:57:33.000000000,2021-03-05 06:56:21.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31072}, {'_account_id': 32102}, {'_account_id': 32219}]","[{'number': 1, 'created': '2021-02-10 08:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/37af0d67089da3b8dd2f7ccde01a8281ba9471fe', 'message': '[WIP]Fix error message for nonexistent vnf package\n\nIn Victoria release, the error handling of non-existing VNF package\nwas modified, please refer to [1].\nOn passing a non-existing vnf package uuid to ""vnf package upload""\ncommand, the tacker server sends an HTTP response with ""Content-Type""\nheader as ""application/problem+json"" and the reason for a failure\ndescribed in the JSON problem details object.\n\nIn the current design, tackerclient does not support content-type\n""application/problem+json"".\n\nImplementation:\n* While parsing HTTP request, this patch adds new content-type\n  ""application/problem+json"".\n* De-serialize the JSON problem details object, to create an exception\n  with HTTP status code and message\n\nThis patch fixes the issue and now it will output below error message:\n\n  $ openstack vnf package upload --path sample_vnf_pkg.zip dummy-id\n  Can not find requested vnf package: dummy-id\n\nNote: This bug was earlier address in Ussuri release, please refer [2].\n\n[1] https://review.opendev.org/c/openstack/tacker/+/747678/37/tacker/api/vnfpkgm/v1/controller.py\n[2] https://review.opendev.org/c/openstack/python-tackerclient/+/688886\n\nCloses-Bug: #1847726\nChange-Id: I25e1bdc32e0b91bbe02b82f79918c02b98e5f110\n'}, {'number': 2, 'created': '2021-02-18 09:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/54cd00a6ea409b88f2f9c0f030443e99027231c2', 'message': 'Fix error message for nonexistent vnf package\n\nIn Victoria release, the error handling of non-existing VNF package\nwas modified, please refer to [1].\nOn passing a non-existing vnf package uuid to ""vnf package upload""\ncommand, the tacker server sends an HTTP response with ""Content-Type""\nheader as ""application/problem+json"" and the reason for a failure\ndescribed in the JSON problem details object.\n\nIn the current design, tackerclient does not support content-type\n""application/problem+json"".\n\nImplementation:\n* While parsing HTTP request, this patch adds new content-type\n  ""application/problem+json"".\n* De-serialize the JSON problem details object, to create an exception\n  with HTTP status code and message\n\nThis patch fixes the issue and now it will output below error message:\n\n  $ openstack vnf package upload --path sample_vnf_pkg.zip dummy-id\n  Can not find requested vnf package: dummy-id\n\nNote: This bug was earlier address in Ussuri release, please refer [2].\n\n[1] https://review.opendev.org/c/openstack/tacker/+/747678/37/tacker/api/vnfpkgm/v1/controller.py\n[2] https://review.opendev.org/c/openstack/python-tackerclient/+/688886\n\nCloses-Bug: #1847726\nChange-Id: I25e1bdc32e0b91bbe02b82f79918c02b98e5f110\n'}, {'number': 3, 'created': '2021-02-19 04:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/b446b8b942193920010240f57baa9b976e4d8d02', 'message': 'Fix error message for nonexistent vnf package\n\nIn Victoria release, the error handling of non-existing VNF package\nwas modified, please refer to [1].\nOn passing a non-existing vnf package uuid to ""vnf package upload""\ncommand, the tacker server sends an HTTP response with ""Content-Type""\nheader as ""application/problem+json"" and the reason for a failure\ndescribed in the JSON problem details object.\n\nIn the current design, tackerclient does not support content-type\n""application/problem+json"".\n\nImplementation:\n* While parsing HTTP request, this patch adds new content-type\n  ""application/problem+json"".\n* De-serialize the JSON problem details object, to create an exception\n  with HTTP status code and message\n\nThis patch fixes the issue and now it will output below error message:\n\n  $ openstack vnf package upload --path sample_vnf_pkg.zip dummy-id\n  Can not find requested vnf package: dummy-id\n\nNote: This bug was earlier address in Ussuri release, please refer [2].\n\n[1] https://review.opendev.org/c/openstack/tacker/+/747678/37/tacker/api/vnfpkgm/v1/controller.py\n[2] https://review.opendev.org/c/openstack/python-tackerclient/+/688886\n\nCloses-Bug: #1847726\nChange-Id: I25e1bdc32e0b91bbe02b82f79918c02b98e5f110\n'}, {'number': 4, 'created': '2021-03-03 02:33:32.000000000', 'files': ['tackerclient/v1_0/client.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/e7a0c96920349c5a335b9eb5e5aabd38d378434a', 'message': 'Fix error message for nonexistent vnf package\n\nIn Victoria release, the error handling of non-existing VNF package\nwas modified, please refer to [1].\nOn passing a non-existing vnf package uuid to ""vnf package upload""\ncommand, the tacker server sends an HTTP response with ""Content-Type""\nheader as ""application/problem+json"" and the reason for a failure\ndescribed in the JSON problem details object.\n\nThis patch extracts the ETSI error message in method\nexception_handler_v10.\n\nFixes the issue and now it will output below error message:\n\n  $ openstack vnf package upload --path sample_vnf_pkg.zip dummy-id\n  Can not find requested vnf package: dummy-id\n\nNote: This bug was earlier address in Ussuri release, please refer [2].\n\n[1] https://review.opendev.org/c/openstack/tacker/+/747678/37/tacker/api/vnfpkgm/v1/controller.py\n[2] https://review.opendev.org/c/openstack/python-tackerclient/+/688886\n\nCo-Authored-By: Wataru Juso  w-juso@nec.com\nCloses-Bug: #1847726\nChange-Id: I25e1bdc32e0b91bbe02b82f79918c02b98e5f110\n'}]",2,774776,e7a0c96920349c5a335b9eb5e5aabd38d378434a,31,8,4,32102,,,0,"Fix error message for nonexistent vnf package

In Victoria release, the error handling of non-existing VNF package
was modified, please refer to [1].
On passing a non-existing vnf package uuid to ""vnf package upload""
command, the tacker server sends an HTTP response with ""Content-Type""
header as ""application/problem+json"" and the reason for a failure
described in the JSON problem details object.

This patch extracts the ETSI error message in method
exception_handler_v10.

Fixes the issue and now it will output below error message:

  $ openstack vnf package upload --path sample_vnf_pkg.zip dummy-id
  Can not find requested vnf package: dummy-id

Note: This bug was earlier address in Ussuri release, please refer [2].

[1] https://review.opendev.org/c/openstack/tacker/+/747678/37/tacker/api/vnfpkgm/v1/controller.py
[2] https://review.opendev.org/c/openstack/python-tackerclient/+/688886

Co-Authored-By: Wataru Juso  w-juso@nec.com
Closes-Bug: #1847726
Change-Id: I25e1bdc32e0b91bbe02b82f79918c02b98e5f110
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/76/774776/3 && git format-patch -1 --stdout FETCH_HEAD,['tackerclient/v1_0/client.py'],1,37af0d67089da3b8dd2f7ccde01a8281ba9471fe,bug/1847726,"import json def _handle_problem_json_response(self, resp): # Create response body with HTTP status code and message response = json.loads(resp.text) status_code = STATUS_CODE_MAP.get(resp.status_code) response_body = dict() response_body[status_code] = dict() response_body[status_code]['code'] = response['status'] response_body[status_code]['message'] = response['detail'] return response_body elif 'application/problem+json' == resp.headers.get('Content-Type'): self.format = 'problem+json' if self.format == 'problem+json': replybody = self._handle_problem_json_response(resp) if status_code in (204, 202) or self.format in ('zip', 'text', 'any', 'problem+json'):"," if status_code in (204, 202) or self.format in ('zip', 'text', 'any'):",17,1
openstack%2Fkeystonemiddleware~master~Id62149ddfc52a9ab7f6224813434152bc282d3cf,openstack/keystonemiddleware,master,Id62149ddfc52a9ab7f6224813434152bc282d3cf,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 07:06:18.000000000,2021-03-05 05:56:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-24 07:06:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c0daf51f9bc72566e5ccd6876a08b85e04e98044', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Id62149ddfc52a9ab7f6224813434152bc282d3cf\n'}]",0,768432,c0daf51f9bc72566e5ccd6876a08b85e04e98044,3,1,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Id62149ddfc52a9ab7f6224813434152bc282d3cf
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/32/768432/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c0daf51f9bc72566e5ccd6876a08b85e04e98044,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Foctavia~master~Ibb461802bedbff9a49af339d0c66e853709e16aa,openstack/octavia,master,Ibb461802bedbff9a49af339d0c66e853709e16aa,Replace deprecated UPPER_CONSTRAINTS_FILE variable,ABANDONED,2020-12-03 05:48:56.000000000,2021-03-05 05:56:14.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 05:48:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/21eab27d6679f3c9f69b210d667a3b93b5ba88a5', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nChange-Id: Ibb461802bedbff9a49af339d0c66e853709e16aa\n'}]",0,765240,21eab27d6679f3c9f69b210d667a3b93b5ba88a5,6,2,1,30384,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

Change-Id: Ibb461802bedbff9a49af339d0c66e853709e16aa
",git fetch https://review.opendev.org/openstack/octavia refs/changes/40/765240/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,21eab27d6679f3c9f69b210d667a3b93b5ba88a5,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fdesignate~stable%2Fussuri~I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,openstack/designate,stable/ussuri,I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,Update zones masters using pool target masters.,MERGED,2020-07-28 18:26:25.000000000,2021-03-05 05:37:57.000000000,2021-03-04 22:59:30.000000000,"[{'_account_id': 2276}, {'_account_id': 11628}, {'_account_id': 14826}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-07-28 18:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/595ace59853ea9093ded69048fb648964a6fef77', 'message': ""Update zones masters using pool target masters.\n\nThis change enforces the update of the zone masters\nfor all zones that belongs to a particular pool, using\nthe pool's defined target(s) masters and forcing a update_zone\ncall.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)\n""}, {'number': 2, 'created': '2020-08-04 22:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8a9301f13e0a2c822e8526454a650702ffd4765a', 'message': ""Update zones masters using pool target masters.\n\nThis change enforces the update of the zone masters\nfor all zones that belongs to a particular pool, using\nthe pool's defined target(s) masters and forcing a update_zone\ncall.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)\n""}, {'number': 3, 'created': '2021-01-13 21:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/106fcc13ed18058205771a37d3d63c6a6b766c1f', 'message': ""Update zones masters using pool target masters.\n\nThis change enforces the update of the zone masters\nfor all zones that belongs to a particular pool, using\nthe pool's defined target(s) masters and forcing a update_zone\ncall.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)\n""}, {'number': 4, 'created': '2021-02-26 13:47:05.000000000', 'files': ['designate/tests/unit/backend/test_bind9.py', 'designate/manage/pool.py', 'designate/backend/impl_bind9.py', 'designate/tests/test_manage/__init__.py', 'designate/tests/test_manage/test_update_pool.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b967e9f706373f1aad6db882c2295fbbe1fadfc9', 'message': ""Update zones masters using pool target masters.\n\nThis change enforces the update of the zone masters\nfor all zones that belongs to a particular pool, using\nthe pool's defined target(s) masters and forcing a update_zone\ncall.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)\n""}]",0,743610,b967e9f706373f1aad6db882c2295fbbe1fadfc9,24,6,4,2276,,,0,"Update zones masters using pool target masters.

This change enforces the update of the zone masters
for all zones that belongs to a particular pool, using
the pool's defined target(s) masters and forcing a update_zone
call.

This change also, moves the backend base class update_zone
method as an abstract method, allowing to each backend
implementation to create its own update logic. For the
case of bind9 its extended to allow running a rndc modzone
with the new given masters for the zone fixing the behavior
exposed on LP: #1879798.

Fixes-Bug: #1879798

Change-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)
",git fetch https://review.opendev.org/openstack/designate refs/changes/10/743610/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/backend/test_bind9.py', 'designate/manage/pool.py', 'designate/backend/impl_bind9.py', 'designate/tests/test_manage/__init__.py', 'designate/tests/test_manage/test_update_pool.py']",5,595ace59853ea9093ded69048fb648964a6fef77,bug/1879798,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from unittest import mock from designate.tests.test_manage import DesignateManageTestCase from designate.manage.pool import PoolCommands from designate.tests import fixtures from designate import objects LOG = logging.getLogger(__name__) class UpdatePoolTestCase(DesignateManageTestCase): def setUp(self): super(DesignateManageTestCase, self).setUp() self.stdlog = fixtures.StandardLogging() self.useFixture(self.stdlog) def hydrate_pool_targets(self, targets): pool_targets = objects.PoolTargetList() masters = objects.PoolTargetMasterList() for target in targets: masters.append(target) target = objects.PoolTarget(masters=masters) target.masters = masters pool_targets.append(target) return pool_targets def test_update_pools_zones(self): values = dict( name='example.com.', email='info@example.com', type='PRIMARY' ) zone = self.central_service.create_zone( self.admin_context, zone=objects.Zone.from_dict(values)) # Ensure the correct NS Records are in place pool = self.central_service.get_pool( self.admin_context, zone.pool_id) pool.targets = self.hydrate_pool_targets([objects.PoolTargetMaster( pool_target_id=pool.id, host=""127.0.0.1"", port=""53"")]) command = PoolCommands() command.context = self.admin_context command.central_api = self.central_service with mock.patch.object(self.central_service, ""update_zone"") as mock_update_zone: command._update_zones(pool) mock_update_zone.assert_called_once() ",,147,0
openstack%2Fnova~stable%2Fussuri~Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190,openstack/nova,stable/ussuri,Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190,Fallback to same-cell resize with qos ports,MERGED,2021-02-03 15:42:24.000000000,2021-03-05 05:06:20.000000000,2021-03-04 13:08:43.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-03 15:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b27382564315ba9a02e5b16f0389df627800abe0', 'message': 'Fallback to same-cell resize with qos ports\n\nThe cross-cell resize code does not consider neutron ports with resource\nrequest. To avoid migration failures this patch makes nova to fall back\nto same cell resize if the instance has neutron ports with resource\nrequest.\n\nThe stable only difference is due to change in the reproduction patch\nId91d2e817ef6bd21124bb840bdb098054e9753b8 on stable.\n\nChange-Id: Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190\nCloses-Bug: #1907522\nCloses-Bug: #1907511\n(cherry picked from commit 1c056c384d1b89dd877e1aa3108b1797d7881223)\n'}, {'number': 2, 'created': '2021-03-01 17:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef4425e17c03940a6708146771a644b2c7bf9f4b', 'message': 'Fallback to same-cell resize with qos ports\n\nThe cross-cell resize code does not consider neutron ports with resource\nrequest. To avoid migration failures this patch makes nova to fall back\nto same cell resize if the instance has neutron ports with resource\nrequest.\n\nThe stable only difference is due to change in the reproduction patch\nId91d2e817ef6bd21124bb840bdb098054e9753b8 on stable.\n\nThe stable/ussuri specific test change is due to\necff78e05d40b0bcb9237d4cfea53fd3223f37a0 missing from ussuri.\n\nChange-Id: Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190\nCloses-Bug: #1907522\nCloses-Bug: #1907511\n(cherry picked from commit 1c056c384d1b89dd877e1aa3108b1797d7881223)\n'}, {'number': 3, 'created': '2021-03-02 13:43:31.000000000', 'files': ['doc/source/admin/configuration/cross-cell-resize.rst', 'releasenotes/notes/cros-scell-resize-not-supported-with-ports-having-resource-request-a8e1029ef5983793.yaml', 'nova/tests/unit/compute/test_compute_api.py', 'api-guide/source/port_with_resource_request.rst', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8daac915bba7e9431c70b27ffef34bef28a9b0e1', 'message': 'Fallback to same-cell resize with qos ports\n\nThe cross-cell resize code does not consider neutron ports with resource\nrequest. To avoid migration failures this patch makes nova to fall back\nto same cell resize if the instance has neutron ports with resource\nrequest.\n\nThe stable/ussuri specific test change is due to\necff78e05d40b0bcb9237d4cfea53fd3223f37a0 missing from ussuri.\n\nChange-Id: Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190\nCloses-Bug: #1907522\nCloses-Bug: #1907511\n(cherry picked from commit 1c056c384d1b89dd877e1aa3108b1797d7881223)\n(cherry picked from commit 6b57575092aa5f16f51e5af8b0e62617f46b420a)\n'}]",1,773932,8daac915bba7e9431c70b27ffef34bef28a9b0e1,31,4,3,9708,,,0,"Fallback to same-cell resize with qos ports

The cross-cell resize code does not consider neutron ports with resource
request. To avoid migration failures this patch makes nova to fall back
to same cell resize if the instance has neutron ports with resource
request.

The stable/ussuri specific test change is due to
ecff78e05d40b0bcb9237d4cfea53fd3223f37a0 missing from ussuri.

Change-Id: Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190
Closes-Bug: #1907522
Closes-Bug: #1907511
(cherry picked from commit 1c056c384d1b89dd877e1aa3108b1797d7881223)
(cherry picked from commit 6b57575092aa5f16f51e5af8b0e62617f46b420a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/773932/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/cross-cell-resize.rst', 'releasenotes/notes/cros-scell-resize-not-supported-with-ports-having-resource-request-a8e1029ef5983793.yaml', 'nova/tests/unit/compute/test_compute_api.py', 'api-guide/source/port_with_resource_request.rst', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",6,b27382564315ba9a02e5b16f0389df627800abe0,bug/1907522," def _allow_cross_cell_resize(self, context, instance): return False if self.network_api.get_requested_resource_for_instance( context, instance.uuid): LOG.info( 'Request is allowed by policy to perform cross-cell ' 'resize but the instance has ports with resource request ' 'and cross-cell resize is not supported with such ports.', instance=instance) return False "," @staticmethod def _allow_cross_cell_resize(context, instance): # TODO(gibi): do not allow cross cell migration if the instance has # neutron ports with resource request. See bug 1907522. allowed = False",74,32
openstack%2Fnova~master~I7aa10ab5acaa207a451a2f9ac3a4825a276a405f,openstack/nova,master,I7aa10ab5acaa207a451a2f9ac3a4825a276a405f,POC: tests: Adds test checking unbalanced NUMA node association,NEW,2021-03-04 16:09:37.000000000,2021-03-05 04:09:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-04 16:09:37.000000000', 'files': ['nova/tests/unit/scheduler/test_host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff951c53f83f85671be39b6d2104be0375ade719', 'message': 'POC: tests: Adds test checking unbalanced NUMA node association\n\nAccording to [1], the NUMA nodes used should be chosen randomly. However, the\nnuma_fit_instance_to_host documentation mentions that it returns a new\nInstanceNUMATopology with its cell ids set to host cell ids of the first successful\npermutation or None, which means that the NUMA node 0 will be filled up, and\nthen instances will start getting scheduled on NUMA node 1.\n\nThis can result in a problematic imbalance on the compute nodes, and could generate\nproblems for live migrations, as the instances are live migrated to the same NUMA node\non a different node.\n\nThis adds a unit test that illustrates the NUMA node imbalance.\n\n[1] https://docs.openstack.org/nova/latest/admin/cpu-topologies.html#customizing-instance-numa-placement-policies\n\nChange-Id: I7aa10ab5acaa207a451a2f9ac3a4825a276a405f\n'}]",1,778740,ff951c53f83f85671be39b6d2104be0375ade719,4,1,1,8213,,,0,"POC: tests: Adds test checking unbalanced NUMA node association

According to [1], the NUMA nodes used should be chosen randomly. However, the
numa_fit_instance_to_host documentation mentions that it returns a new
InstanceNUMATopology with its cell ids set to host cell ids of the first successful
permutation or None, which means that the NUMA node 0 will be filled up, and
then instances will start getting scheduled on NUMA node 1.

This can result in a problematic imbalance on the compute nodes, and could generate
problems for live migrations, as the instances are live migrated to the same NUMA node
on a different node.

This adds a unit test that illustrates the NUMA node imbalance.

[1] https://docs.openstack.org/nova/latest/admin/cpu-topologies.html#customizing-instance-numa-placement-policies

Change-Id: I7aa10ab5acaa207a451a2f9ac3a4825a276a405f
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/778740/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/scheduler/test_host_manager.py'],1,ff951c53f83f85671be39b6d2104be0375ade719,," def test_stat_consumption_unbalanced_numa_nodes(self): inst_topology = objects.InstanceNUMATopology( cells = [objects.InstanceNUMACell( cpuset=set([0]), memory=128, id=0)]) req_specs = [objects.RequestSpec( instance_uuid=uuids.instance, project_id='12345', numa_topology=inst_topology, pci_requests=objects.InstancePCIRequests(requests=[]), flavor=objects.Flavor(root_gb=0, ephemeral_gb=0, memory_mb=128, vcpus=1)) for i in range(5)] host = host_manager.HostState(""fakehost"", ""fakenode"", uuids.cell) self.assertIsNone(host.updated) host.numa_topology = fakes.NUMA_TOPOLOGY # let's make sure our host has 2 NUMA nodes. self.assertEqual(2, len(host.numa_topology)) for i in range(len(req_specs)): host.consume_from_request(req_specs[i]) self.assertIsInstance(req_specs[i].numa_topology, objects.InstanceNUMATopology) # let's make sure that every instance lands in the NUMA node 0. self.assertEqual(128 * (i + 1), host.numa_topology.cells[0].memory_usage) self.assertEqual(i + 1, host.numa_topology.cells[0].cpu_usage) ",,33,0
openstack%2Fironic~master~I8dfd16abf9da0c1a72858a45bdc1aa277351e00f,openstack/ironic,master,I8dfd16abf9da0c1a72858a45bdc1aa277351e00f,expose owner and lessee in baremetal volume policy,ABANDONED,2020-12-17 20:43:22.000000000,2021-03-05 03:38:11.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-17 20:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f0a6d5dc0e9aa5d24afe03b81e64ec24366c1db', 'message': 'Expose owner and lessee in baremetal volume policy\n\nThis change enables non-admins to have access to baremetal volume\noperations, by exposing owner and lessee fields to baremetal\nvolume policy checks. Note that this access requires a policy\nchange.\n\nStory: #2006506\nTask: #41432\nChange-Id: I8dfd16abf9da0c1a72858a45bdc1aa277351e00f\n'}, {'number': 2, 'created': '2020-12-17 20:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed550b34a7a32560f1a044929239d0ceb002b4a4', 'message': 'Expose owner and lessee in baremetal volume policy\n\nThis change enables non-admins to have access to baremetal volume\noperations, by exposing owner and lessee fields to baremetal\nvolume policy checks. Note that this access requires a policy\nchange.\n\nStory: #2006506\nTask: #41432\nChange-Id: I8dfd16abf9da0c1a72858a45bdc1aa277351e00f\n'}, {'number': 3, 'created': '2020-12-18 15:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c4939993867d250297b678c0de8f4713134fb928', 'message': 'Expose owner and lessee in baremetal volume policy\n\nThis change enables non-admins to have access to baremetal volume\noperations, by exposing owner and lessee fields to baremetal\nvolume policy checks. Note that this access requires a policy\nchange.\n\nStory: #2006506\nTask: #41432\nChange-Id: I8dfd16abf9da0c1a72858a45bdc1aa277351e00f\n'}, {'number': 4, 'created': '2021-01-04 18:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a97ea86faa63cfbf052fc8f845c834c6216e911', 'message': 'Expose owner and lessee in baremetal volume policy\n\nThis change enables non-admins to have access to baremetal volume\noperations, by exposing owner and lessee fields to baremetal\nvolume policy checks. Note that this access requires a policy\nchange.\n\nStory: #2006506\nTask: #41432\nChange-Id: I8dfd16abf9da0c1a72858a45bdc1aa277351e00f\n'}, {'number': 5, 'created': '2021-02-19 19:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca2274902fa12392305f5392eaec8a9dff2688f9', 'message': 'Expose owner and lessee in baremetal volume policy\n\nThis change enables non-admins to have access to baremetal volume\noperations, by exposing owner and lessee fields to baremetal\nvolume policy checks. Note that this access requires a policy\nchange.\n\nStory: #2006506\nTask: #41432\nChange-Id: I8dfd16abf9da0c1a72858a45bdc1aa277351e00f\n'}, {'number': 6, 'created': '2021-02-24 04:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1706fb582b91275660f08b1ec3da848a13b55187', 'message': 'Expose owner and lessee in baremetal volume policy\n\nThis change enables non-admins to have access to baremetal volume\noperations, by exposing owner and lessee fields to baremetal\nvolume policy checks. Note that this access requires a policy\nchange.\n\nStory: #2006506\nTask: #41432\nChange-Id: I8dfd16abf9da0c1a72858a45bdc1aa277351e00f\n'}, {'number': 7, 'created': '2021-03-04 18:06:13.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/db/test_volume_connectors.py', 'ironic/tests/unit/db/test_volume_targets.py', 'releasenotes/notes/volume-owner-lessee-policy-f159f62b806ea49b.yaml', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/objects/volume_connector.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml', 'ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/api/controllers/v1/volume_target.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/objects/test_volume_connector.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/tests/unit/objects/test_volume_target.py', 'ironic/objects/volume_target.py', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6371e66756b160790123799690eb5bc08621e709', 'message': 'expose owner and lessee in baremetal volume policy\n\nThis change enables non-admins to have access to baremetal volume\noperations, by exposing owner and lessee fields to baremetal\nvolume policy checks. Note that this access requires a policy\nchange.\n\nStory: #2006506\nTask: #41432\nChange-Id: I8dfd16abf9da0c1a72858a45bdc1aa277351e00f\n'}]",15,767631,6371e66756b160790123799690eb5bc08621e709,35,2,7,7386,,,0,"expose owner and lessee in baremetal volume policy

This change enables non-admins to have access to baremetal volume
operations, by exposing owner and lessee fields to baremetal
volume policy checks. Note that this access requires a policy
change.

Story: #2006506
Task: #41432
Change-Id: I8dfd16abf9da0c1a72858a45bdc1aa277351e00f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/767631/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/db/test_volume_connectors.py', 'ironic/tests/unit/db/test_volume_targets.py', 'releasenotes/notes/volume-owner-lessee-policy-f159f62b806ea49b.yaml', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/objects/volume_connector.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/objects/test_volume_connector.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/tests/unit/objects/test_volume_target.py', 'ironic/objects/volume_target.py']",14,2f0a6d5dc0e9aa5d24afe03b81e64ec24366c1db,bp/volume-owner-lessee-policy," sort_key=None, sort_dir=None, project=None): :param project: a node owner or lessee to match against sort_dir=sort_dir, project=project) sort_key=None, sort_dir=None, project=None): :param project: a node owner or lessee to match against sort_dir=sort_dir, project=project)"," sort_key=None, sort_dir=None): sort_dir=sort_dir) sort_key=None, sort_dir=None): sort_dir=sort_dir)",309,121
openstack%2Foctavia~stable%2Fvictoria~I23319b1d8d3de0509b20d4a37bff93fc2155d47f,openstack/octavia,stable/victoria,I23319b1d8d3de0509b20d4a37bff93fc2155d47f,Pin pylint version,MERGED,2021-02-22 12:15:56.000000000,2021-03-05 03:33:37.000000000,2021-03-05 03:32:25.000000000,"[{'_account_id': 1131}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 12:15:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0fc8f22373437a2901984b986defb09f2764dbe5', 'message': ""Pin pylint version\n\nPylint 2.7 added new checks that make pep8 fail. Following what we've\ndone in previous stable branches, it is better to set an upper\nconstraint version to pylint requirement than addressing additional\nchecks as future pylint versions are released.\n\nChange-Id: I23319b1d8d3de0509b20d4a37bff93fc2155d47f\n""}]",0,776926,0fc8f22373437a2901984b986defb09f2764dbe5,20,4,1,6469,,,0,"Pin pylint version

Pylint 2.7 added new checks that make pep8 fail. Following what we've
done in previous stable branches, it is better to set an upper
constraint version to pylint requirement than addressing additional
checks as future pylint versions are released.

Change-Id: I23319b1d8d3de0509b20d4a37bff93fc2155d47f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/26/776926/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0fc8f22373437a2901984b986defb09f2764dbe5,,"pylint>=2.2.0,<=2.6.0 # GPLv2",pylint>=2.2.0 # GPLv2,1,1
openstack%2Fcinder~master~Ideeee3b1ba22054f3e9b8e2cc8f7f18f0089c314,openstack/cinder,master,Ideeee3b1ba22054f3e9b8e2cc8f7f18f0089c314,Refresh the volume object when detaching volume,ABANDONED,2020-04-26 08:34:55.000000000,2021-03-05 03:12:45.000000000,,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21129}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 29705}, {'_account_id': 31854}]","[{'number': 1, 'created': '2020-04-26 08:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef3bbe1d73a0b8c2ab7f2471d06f0ff89b768e7a', 'message': 'regain the volume object\n\nwhen detaching volume, cinder-volume sends a notification with\nan old volume object. but this object has changed above.\nso we need regain the volume ojbect\n\nChange-Id: Ideeee3b1ba22054f3e9b8e2cc8f7f18f0089c314\n'}, {'number': 2, 'created': '2021-02-26 03:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4ce084ab220ef20e795ad070574a747536a175d', 'message': 'Refresh  the volume object when delete an attachment\n\nwhen we delete an attachment, cinder-volume sends a notification with\nan old volume object which is wrong.\nthis change refreshs the db object before sending the notification.\nCloses-Bug: #1916980\n\nChange-Id: Ideeee3b1ba22054f3e9b8e2cc8f7f18f0089c314\n'}, {'number': 3, 'created': '2021-02-26 03:51:27.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b50689f62e642d5dcb7cb824e127804dcc5bacbc', 'message': 'Refresh the volume object when detaching volume\n\nwhen we detach a volume, cinder-volume sends a notification with\nan old volume object which is wrong.\nthis change refreshs the db object before sending the notification.\nCloses-Bug: #1916980\n\nChange-Id: Ideeee3b1ba22054f3e9b8e2cc8f7f18f0089c314\n'}]",6,723179,b50689f62e642d5dcb7cb824e127804dcc5bacbc,57,22,3,26285,,,0,"Refresh the volume object when detaching volume

when we detach a volume, cinder-volume sends a notification with
an old volume object which is wrong.
this change refreshs the db object before sending the notification.
Closes-Bug: #1916980

Change-Id: Ideeee3b1ba22054f3e9b8e2cc8f7f18f0089c314
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/723179/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,ef3bbe1d73a0b8c2ab7f2471d06f0ff89b768e7a,bug/1916980," vref = objects.Volume.get_by_id(context, vref.id)",,1,0
openstack%2Fcyborg~master~I400c722b9b06fb4085927751282647795744a14f,openstack/cyborg,master,I400c722b9b06fb4085927751282647795744a14f,bug-fix: correct the comment for each vendor driver,MERGED,2021-03-02 08:30:28.000000000,2021-03-05 02:45:39.000000000,2021-03-05 02:44:24.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-03-02 08:30:28.000000000', 'files': ['cyborg/accelerator/drivers/qat/intel/driver.py', 'cyborg/accelerator/drivers/gpu/nvidia/driver.py', 'cyborg/accelerator/drivers/fpga/intel/driver.py', 'cyborg/accelerator/drivers/fpga/inspur/driver.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8d56b2bc70983b49c3cba7e06df8289db7c3d573', 'message': 'bug-fix: correct the comment for each vendor driver\n\nChange-Id: I400c722b9b06fb4085927751282647795744a14f\n'}]",0,778147,8d56b2bc70983b49c3cba7e06df8289db7c3d573,11,4,1,25738,,,0,"bug-fix: correct the comment for each vendor driver

Change-Id: I400c722b9b06fb4085927751282647795744a14f
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/47/778147/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/drivers/qat/intel/driver.py', 'cyborg/accelerator/drivers/gpu/nvidia/driver.py', 'cyborg/accelerator/drivers/fpga/intel/driver.py', 'cyborg/accelerator/drivers/fpga/inspur/driver.py']",4,8d56b2bc70983b49c3cba7e06df8289db7c3d573,bug-fix," """"""Class for Inspur FPGA drivers. Vendor should implement their specific drivers in this class."," """"""Base class for FPGA drivers. This is just a virtual FPGA drivers interface. Vendor should implement their specific drivers.",8,16
openstack%2Fsenlin-dashboard~master~I602cd2b5985f7fd7eb0d83bc4fbb68fc032dfabe,openstack/senlin-dashboard,master,I602cd2b5985f7fd7eb0d83bc4fbb68fc032dfabe,Imported Translations from Zanata,MERGED,2021-03-03 08:20:03.000000000,2021-03-05 02:19:34.000000000,2021-03-04 21:09:49.000000000,"[{'_account_id': 1736}, {'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-03 08:20:03.000000000', 'files': ['senlin_dashboard/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/65a29cbbe2345d73aff0eb8cb96ebeaf42cf97f6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I602cd2b5985f7fd7eb0d83bc4fbb68fc032dfabe\n'}]",0,778383,65a29cbbe2345d73aff0eb8cb96ebeaf42cf97f6,9,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I602cd2b5985f7fd7eb0d83bc4fbb68fc032dfabe
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/83/778383/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin_dashboard/locale/zh_Hans/LC_MESSAGES/django.po'],1,65a29cbbe2345d73aff0eb8cb96ebeaf42cf97f6,zanata/translations,"""POT-Creation-Date: 2021-02-16 06:33+0000\n""","""POT-Creation-Date: 2020-09-16 08:58+0000\n""",1,1
openstack%2Fneutron~master~I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72,openstack/neutron,master,I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72,DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table,MERGED,2019-04-11 18:47:41.000000000,2021-03-05 02:12:25.000000000,2019-06-13 09:57:32.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 7016}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 18051}, {'_account_id': 19307}, {'_account_id': 22348}, {'_account_id': 23913}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-11 18:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9123eacf5a74e93c7ca25a1751cc0296825c7d3c', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch allows the ARP requests to reach the ARP Responder table and\nonly filters the ARP requests before it reaches the physical network.\n\nThis patch also adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port.\n\n[1] https://review.openstack.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 2, 'created': '2019-04-11 18:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e01139d89a320b85914ccf89d5b41d49895495f', 'message': '(WIP)DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch allows the ARP requests to reach the ARP Responder table and\nonly filters the ARP requests before it reaches the physical network.\n\nThis patch also adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port.\n\n[1] https://review.openstack.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 3, 'created': '2019-04-12 18:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5bd4182092b8538d4a62f46f3298179404046a9c', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch allows the ARP requests to reach the ARP Responder table and\nonly filters the ARP requests before it reaches the physical network.\n\nThis patch also adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port.\n\n[1] https://review.openstack.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 4, 'created': '2019-04-15 23:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c4f997f75610c3324587ca891c4894c3736c572', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch allows the ARP requests to reach the ARP Responder table and\nonly filters the ARP requests before it reaches the physical network.\n\nThis patch also adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port.\n\n[1] https://review.openstack.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 5, 'created': '2019-04-16 07:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0134cba9819cd13f1fb2ab4d8b73f678aaf6097', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch allows the ARP requests to reach the ARP Responder table and\nonly filters the ARP requests before it reaches the physical network.\n\nThis patch also adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port.\n\n[1] https://review.openstack.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 6, 'created': '2019-04-16 19:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62829215072cae5bf970088fdbe66cce987d09a6', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.openstack.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 7, 'created': '2019-04-16 19:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ecce67fa1266ab1cf177d123e9a97da52344c19', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.openstack.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 8, 'created': '2019-04-18 23:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ee25034d350cccc02bc13e240105a3361b0ec46', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.openstack.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 9, 'created': '2019-05-10 18:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cd55a130a15425a053f18ced516c1365d458f70', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.opendev.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 10, 'created': '2019-05-24 07:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5a672756f48e44c1e5f7574509e2009e8205202', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.opendev.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 11, 'created': '2019-05-29 19:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76884f57570133741890b6c3bea2ac71e7fab55f', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.opendev.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}, {'number': 12, 'created': '2019-05-30 08:11:35.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', '.zuul.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/52b537ca22b2d7d81a84b2f75de577d8dffee94c', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.opendev.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n'}]",5,651905,52b537ca22b2d7d81a84b2f75de577d8dffee94c,98,16,12,7016,,,0,"DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table

DVR does the ARP table update through the control plane, and does not
allow any ARP requests to get out of the node.

In order to address the allowed address pair VRRP IP issue with DVR,
we need to add an ARP entry into the ARP Responder table for the
allowed address pair IP ( which is taken care by the patch in [1])

This patch adds a rule in the br-int to redirect the packet
destinated to the router to the actual router-port and also moves
the arp filtering rule to the tunnel or the physical port based on the
configuration.

By adding the above rule it allows the ARP requests to reach the
ARP Responder table and filters the ARP requests before it reaches
the physical network or the tunnel.

[1] https://review.opendev.org/#/c/601336/
Related-Bug: #1774459

Change-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/651905/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",4,9123eacf5a74e93c7ca25a1751cc0296825c7d3c,dvr-remove-arp-update-through-control-plane," def _arp_dvr_dst_mac_match(ofp, ofpp, vlan, dvr_mac): # If eth_dst is equal to the dvr mac of this host, then # flag it as matched. return ofpp.OFPMatch(vlan_vid=vlan | ofp.OFPVID_PRESENT, eth_dst=dvr_mac) @staticmethod def _dvr_dst_mac_table_id(network_type): if network_type == p_const.TYPE_VLAN: return constants.ARP_DVR_MAC_TO_DST_MAC_VLAN else: return constants.ARP_DVR_MAC_TO_DST_MAC def install_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_dst_mac_table_id(network_type) # Match the destination MAC with the DVR MAC (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) # Incoming packet will come with destination MAC of DVR host MAC from # the ARP Responder. The Source MAC in this case will have the source # MAC of the port MAC that responded from the ARP responder. # So just remove the DVR host MAC from the 'eth_dst' and replace it # with the gateway-mac. The packet should end up in the right the table # for the packet to reach the router interface. actions = [ ofpp.OFPActionSetField(eth_dst=gateway_mac), ofpp.OFPActionOutput(rtr_port, 0) ] self.install_apply_actions(table_id=table_id, priority=5, match=match, actions=actions) @staticmethod def delete_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_to_src_mac_table_id(network_type) (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) for table in table_id: self.uninstall_flows( strict=True, priority=5, table_id=table, match=match) def add_dvr_gateway_mac_arp_vlan(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC_VLAN) def remove_dvr_gateway_mac_arp_vlan(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) def add_dvr_gateway_mac_arp_tun(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC) def remove_dvr_gateway_mac_arp_tun(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) ",,112,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,openstack/tripleo-heat-templates,stable/train,Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,Use include task for host prep tasks,MERGED,2021-02-24 16:09:51.000000000,2021-03-05 02:06:10.000000000,2021-03-05 02:06:10.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-02-24 16:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c75072d39c57b63f167ea27d8b8fb3789758191f', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}, {'number': 2, 'created': '2021-03-01 21:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16d4dd149665b4248b240a7d2bb461f235f0a8ef', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}, {'number': 3, 'created': '2021-03-01 21:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8738d392901ab6791bfbb3df3d93a5094f2fe4c', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}, {'number': 4, 'created': '2021-03-01 21:59:17.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc07523928c15c0d822b2edb91d1875fc23b7068', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}]",0,777425,cc07523928c15c0d822b2edb91d1875fc23b7068,16,4,4,14985,,,0,"Use include task for host prep tasks

Import tasks causes the tasks always to be pulled in and just skipped at
run time. This is terribly slow with more roles even when not running
against those hosts.  A similar effort was applied to the update process
I2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used
here.

Change-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33
Related-Bug: #1915761
(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/777425/4 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,c75072d39c57b63f167ea27d8b8fb3789758191f,bug/1915761-stable/train, - include_tasks: {{role.name}}/host_prep_tasks.yaml, - import_tasks: {{role.name}}/host_prep_tasks.yaml,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I49a2c42dcbb74671834f312798367f411c819813,openstack/tripleo-heat-templates,stable/train,I49a2c42dcbb74671834f312798367f411c819813,Use ansible_facts instead,MERGED,2021-02-24 16:05:05.000000000,2021-03-05 02:05:52.000000000,2021-03-05 02:05:52.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 16:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79ee481e679e4d805ca6e6cbefb502471a7ee110', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}, {'number': 2, 'created': '2021-03-01 21:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4f462b7af4c6793aaad6dce4ce43d0a3fb7eaa4', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}, {'number': 3, 'created': '2021-03-01 21:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78b13e3b2db680f07035e11d728f6bee6a36e2e8', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}, {'number': 4, 'created': '2021-03-01 21:59:17.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/ipa/ipaclient-baremetal-ansible.yaml', 'deployment/deprecated/kubernetes/kubernetes-master-baremetal-ansible.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps.j2', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/tls/undercloud-tls.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: I49a2c42dcbb74671834f312798367f411c819813\nRelated-Bug: #1915761\n(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)\n'}]",0,777421,4e79336d69e6b7fa4b026922bac7953bafeee96d,15,3,4,14985,,,0,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: I49a2c42dcbb74671834f312798367f411c819813
Related-Bug: #1915761
(cherry picked from commit 8d1fc85744f6a17415ce8e57afd4e8f1a1f7c922)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/777421/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/ipa/ipaservices-baremetal-ansible.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/ipa/ipaclient-baremetal-ansible.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps.j2', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/tls/undercloud-tls.yaml']",26,79ee481e679e4d805ca6e6cbefb502471a7ee110,bug/1915761-stable/train," - ansible_facts['os_family'] == 'RedHat' - ansible_facts['distribution_major_version'] is version('8', '==') nova_service: ""nova/{{ ansible_facts['nodename'] }}"""," - ansible_os_family == 'RedHat' - ansible_distribution_major_version == '8' nova_service: ""nova/{{ ansible_nodename }}""",56,55
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0cd5b24933e50680baefd055d6e68e277ab09315,openstack/tripleo-heat-templates,stable/train,I0cd5b24933e50680baefd055d6e68e277ab09315,Drop service facts usage,MERGED,2021-02-24 16:05:05.000000000,2021-03-05 02:05:45.000000000,2021-03-05 02:05:45.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 16:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29878b368d6e3b3a0c1fc703bbac0809599b86e2', 'message': 'Drop service facts usage\n\nThis change switches from using service facts to using systemctl\ncommands to do service checks. This is done to reduce the amount of\nmemory used as part of the deployment.\n\nChange-Id: I0cd5b24933e50680baefd055d6e68e277ab09315\nRelated-Bug: #1915761\n(cherry picked from commit f9100964f976dd2a590973f313fa6a2449d37b3f)\n'}, {'number': 2, 'created': '2021-03-01 21:41:44.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/time/timezone-baremetal-ansible.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6902fcea0947a99b780254de8b8f40f467ea4a3c', 'message': 'Drop service facts usage\n\nThis change switches from using service facts to using systemctl\ncommands to do service checks. This is done to reduce the amount of\nmemory used as part of the deployment.\n\nChange-Id: I0cd5b24933e50680baefd055d6e68e277ab09315\nRelated-Bug: #1915761\n(cherry picked from commit f9100964f976dd2a590973f313fa6a2449d37b3f)\n'}]",0,777420,6902fcea0947a99b780254de8b8f40f467ea4a3c,21,3,2,14985,,,0,"Drop service facts usage

This change switches from using service facts to using systemctl
commands to do service checks. This is done to reduce the amount of
memory used as part of the deployment.

Change-Id: I0cd5b24933e50680baefd055d6e68e277ab09315
Related-Bug: #1915761
(cherry picked from commit f9100964f976dd2a590973f313fa6a2449d37b3f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/777420/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/deploy-steps-tasks-step-0.j2.yaml']",3,29878b368d6e3b3a0c1fc703bbac0809599b86e2,bug/1915761-stable/train,- name: Check cloud-init status shell: systemctl is-active cloud-init.service || systemctl is-enabled cloud-init.service failed_when: false become: true register: cloud_init_enabled when: - cloud_init_enabled.rc is defined - cloud_init_enabled.rc == 0,- name: Populate service facts service_facts: when: > 'cloud-init.service' in ansible_facts.services and ansible_facts.services['cloud-init.service']['status'] == 'enabled',26,14
openstack%2Frequirements~master~I7ead4753427d3492d02fd8256768e6efba52a12a,openstack/requirements,master,I7ead4753427d3492d02fd8256768e6efba52a12a,"Revert ""update constraint for ironic-lib to new release 4.6.0""",MERGED,2021-03-04 14:57:53.000000000,2021-03-05 01:57:18.000000000,2021-03-05 01:56:04.000000000,"[{'_account_id': 11131}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-04 14:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/de102c713fa31955b6a19df8f81320f27001468c', 'message': 'Revert ""update constraint for ironic-lib to new release 4.6.0""\n\nThis reverts commit 347e83cf56faa4c634cfa54e07c9731585c2e13e.\n\nReason for revert: broke the ironic CI, see this patch:\nhttps://review.opendev.org/c/openstack/ironic-lib/+/778714\n\nChange-Id: I7ead4753427d3492d02fd8256768e6efba52a12a\n'}, {'number': 2, 'created': '2021-03-04 15:01:42.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2a907762cfdee24d78b0e2cf23857cdde5e7bc98', 'message': 'Revert ""update constraint for ironic-lib to new release 4.6.0""\n\nThis reverts commit 347e83cf56faa4c634cfa54e07c9731585c2e13e.\n\nReason for revert: broke the ironic CI, see this patch:\nhttps://review.opendev.org/c/openstack/ironic-lib/+/778714\n\nChange-Id: I7ead4753427d3492d02fd8256768e6efba52a12a\n'}]",0,778691,2a907762cfdee24d78b0e2cf23857cdde5e7bc98,9,4,2,10239,,,0,"Revert ""update constraint for ironic-lib to new release 4.6.0""

This reverts commit 347e83cf56faa4c634cfa54e07c9731585c2e13e.

Reason for revert: broke the ironic CI, see this patch:
https://review.opendev.org/c/openstack/ironic-lib/+/778714

Change-Id: I7ead4753427d3492d02fd8256768e6efba52a12a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/778691/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,de102c713fa31955b6a19df8f81320f27001468c,new-release,ironic-lib===4.5.0,ironic-lib===4.6.0,1,1
openstack%2Fopenstack-chef~master~Ica4a65a98f3b3b509d1aa8df5f36f62f3677acab,openstack/openstack-chef,master,Ica4a65a98f3b3b509d1aa8df5f36f62f3677acab,Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15,MERGED,2021-03-04 23:28:59.000000000,2021-03-05 01:46:10.000000000,2021-03-05 01:45:06.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 23:28:59.000000000', 'files': ['playbooks/roles/install-chef/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/2d4e29c2a4acd1b5aa7483526359319cd6944a52', 'message': 'Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15\n\nThis works around a problem that was introducted in berkshelf-7.2.0 for Ruby 3.0\nsupport that now breaks berks with the following error:\n\n  ArgumentError wrong number of arguments (given 3, expected 1..2)\n\nThis should be removed after we remove support for Chef/Cinc 15.\n\nSigned-off-by: Lance Albertson <lance@osuosl.org>\nChange-Id: Ica4a65a98f3b3b509d1aa8df5f36f62f3677acab\n'}]",0,778794,2d4e29c2a4acd1b5aa7483526359319cd6944a52,7,2,1,21961,,,0,"Pin berkshelf to < 7.2.0 to work around issues with Chef/Cinc 15

This works around a problem that was introducted in berkshelf-7.2.0 for Ruby 3.0
support that now breaks berks with the following error:

  ArgumentError wrong number of arguments (given 3, expected 1..2)

This should be removed after we remove support for Chef/Cinc 15.

Signed-off-by: Lance Albertson <lance@osuosl.org>
Change-Id: Ica4a65a98f3b3b509d1aa8df5f36f62f3677acab
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/94/778794/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/install-chef/tasks/main.yaml'],1,2d4e29c2a4acd1b5aa7483526359319cd6944a52,, # TODO(ramereth): > 7.1.0 doesn't work with ruby 2.6 which is used on Chef/Cinc 15 # Remove this once we remove testing for Chef/Cinc 15 shell: /opt/chef/embedded/bin/gem install -N berkshelf -v 7.1.0, shell: /opt/chef/embedded/bin/gem install -N berkshelf,3,1
openstack%2Ftripleo-heat-templates~master~I23c600c1754d463028259a7dc2c6e5538c512ca4,openstack/tripleo-heat-templates,master,I23c600c1754d463028259a7dc2c6e5538c512ca4,Add hostname and stack_name tags to ports,MERGED,2020-11-08 23:58:31.000000000,2021-03-05 00:58:03.000000000,2020-11-16 17:56:12.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-11-08 23:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5e1adc6354b9bccc74e198b84d653f5e3214b03', 'message': ""Add hostname and stack_name tags to ports\n\nSet tag's with the stack name and the hostname\non composable network node ports. The tags will\nbe used by network-data-v2 with port management\nhandled outside of heat.\n\nChange-Id: I23c600c1754d463028259a7dc2c6e5538c512ca4\n""}, {'number': 2, 'created': '2020-11-09 11:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5eeda47f878a242f6b1fd4fb293b1ebbfe2459be', 'message': ""Add hostname and stack_name tags to ports\n\nSet tag's with the stack name and the hostname\non composable network node ports. The tags will\nbe used by network-data-v2 with port management\nhandled outside of heat.\n\nChange-Id: I23c600c1754d463028259a7dc2c6e5538c512ca4\n""}, {'number': 3, 'created': '2020-11-10 15:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f3a91c6f7f5886c846c9f1a015bc588349c52ab', 'message': ""Add hostname and stack_name tags to ports\n\nSet tag's with the stack name and the hostname\non composable network node ports. The tags will\nbe used by network-data-v2 with port management\nhandled outside of heat.\n\nChange-Id: I23c600c1754d463028259a7dc2c6e5538c512ca4\n""}, {'number': 4, 'created': '2020-11-14 00:39:29.000000000', 'files': ['network/ports/from_service_v6.yaml', 'network/ports/noop.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'network/ports/port.j2', 'network/ports/port_from_pool.j2', 'network/ports/from_service.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28f2a709124f62469acafb64110f755edec82636', 'message': ""Add hostname and stack_name tags to ports\n\nSet tag's with the stack name and the hostname\non composable network node ports. The tags will\nbe used by network-data-v2 with port management\nhandled outside of heat.\n\nChange-Id: I23c600c1754d463028259a7dc2c6e5538c512ca4\n""}]",1,761845,28f2a709124f62469acafb64110f755edec82636,26,5,4,24245,,,0,"Add hostname and stack_name tags to ports

Set tag's with the stack name and the hostname
on composable network node ports. The tags will
be used by network-data-v2 with port management
handled outside of heat.

Change-Id: I23c600c1754d463028259a7dc2c6e5538c512ca4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/761845/4 && git format-patch -1 --stdout FETCH_HEAD,['network/ports/port.j2'],1,b5e1adc6354b9bccc74e198b84d653f5e3214b03,network-data-v2, tags: - str_replace: template: hostname=%hostname% params: %hostname%: {get_param: DnsName} - str_replace: template: stack_name=%stack_name% params: %stack_name%: {get_param: 'OS::stack_name'},,9,0
openstack%2Ftripleo-heat-templates~master~I0fa2230ae4f8ff4fdc6fc4b79e7bdcf3bdff342f,openstack/tripleo-heat-templates,master,I0fa2230ae4f8ff4fdc6fc4b79e7bdcf3bdff342f,Pre-fix neutron resource tags with 'tripleo_',MERGED,2020-11-30 09:28:01.000000000,2021-03-05 00:54:48.000000000,2020-12-10 23:56:30.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-30 09:28:01.000000000', 'files': ['network/ports/port.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e7015081d19c1df0470e1a2654d7425f42e4b41', 'message': ""Pre-fix neutron resource tags with 'tripleo_'\n\nTag was added to neutron port resources in:\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/761845\n\nTag's previously added was pefixed with 'tripleo_'. This\nchange adds the 'tripleo_' prefix to the tags on neutron\nport resources as well.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I0fa2230ae4f8ff4fdc6fc4b79e7bdcf3bdff342f\n""}]",0,764615,1e7015081d19c1df0470e1a2654d7425f42e4b41,22,5,1,24245,,,0,"Pre-fix neutron resource tags with 'tripleo_'

Tag was added to neutron port resources in:
https://review.opendev.org/c/openstack/tripleo-heat-templates/+/761845

Tag's previously added was pefixed with 'tripleo_'. This
change adds the 'tripleo_' prefix to the tags on neutron
port resources as well.

Partial-Implements: blueprint network-data-v2-ports
Change-Id: I0fa2230ae4f8ff4fdc6fc4b79e7bdcf3bdff342f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/764615/1 && git format-patch -1 --stdout FETCH_HEAD,['network/ports/port.j2'],1,1e7015081d19c1df0470e1a2654d7425f42e4b41,network-data-v2, template: tripleo_hostname=$HOSTNAME template: tripleo_stack_name=$STACK_NAME, template: hostname=$HOSTNAME template: stack_name=$STACK_NAME,2,2
openstack%2Ftripleo-heat-templates~master~I0d39ea713ce1201b60f3def69f453792e402eb33,openstack/tripleo-heat-templates,master,I0d39ea713ce1201b60f3def69f453792e402eb33,Add an index tag on neutron network resources,MERGED,2021-01-28 01:10:50.000000000,2021-03-05 00:54:43.000000000,2021-02-03 12:59:10.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-28 01:10:50.000000000', 'files': ['network/network.j2', 'tools/process-templates.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d0125ed4023eb7c524d09a0e5865e8d3e22a492', 'message': ""Add an index tag on neutron network resources\n\nWhen using the multiple nic-config templates in THT\nand in tripleo-ansible the ordering of networks in\nthe network_data file matters.\n\nAdd a a tag 'tripleo_net_idx' to neutron resources\nto keep track of the ordering.\n\nDepends-On: https://review.opendev.org/772795\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: I0d39ea713ce1201b60f3def69f453792e402eb33\n""}]",0,772816,2d0125ed4023eb7c524d09a0e5865e8d3e22a492,9,4,1,24245,,,0,"Add an index tag on neutron network resources

When using the multiple nic-config templates in THT
and in tripleo-ansible the ordering of networks in
the network_data file matters.

Add a a tag 'tripleo_net_idx' to neutron resources
to keep track of the ordering.

Depends-On: https://review.opendev.org/772795
Partial-Implements: blueprint network-data-v2-ports
Change-Id: I0d39ea713ce1201b60f3def69f453792e402eb33
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/772816/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/network.j2', 'tools/process-templates.py']",2,2d0125ed4023eb7c524d09a0e5865e8d3e22a492,network-data-v2," # Set internal network index key for each network, network resources # are created with a tag tripleo_net_idx for idx, net in enumerate(network_data): network_data[idx].update({'idx': idx}) ",,6,0
openstack%2Ftripleo-common~master~I6162ee854b08668274df32120e3ffc961b6cf807,openstack/tripleo-common,master,I6162ee854b08668274df32120e3ffc961b6cf807,Add an internal index to network_data,MERGED,2021-01-28 01:06:49.000000000,2021-03-05 00:54:34.000000000,2021-02-03 12:58:34.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-28 01:06:49.000000000', 'files': ['tripleo_common/utils/template.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ff52ddb3912ade33c9884e415ee260c5a57ab9f7', 'message': ""Add an internal index to network_data\n\nWhen using the multiple nic-config templates in THT\nand in tripleo-ansible the ordering of networks in\nthe network_data file matters.\n\nAdd and 'idx' key internally so that we can put a tag\non neutron network resources to keep track of the\nordering.\n\nChange-Id: I6162ee854b08668274df32120e3ffc961b6cf807\nPartial-Implements: blueprint network-data-v2-ports\n""}]",0,772795,ff52ddb3912ade33c9884e415ee260c5a57ab9f7,10,4,1,24245,,,0,"Add an internal index to network_data

When using the multiple nic-config templates in THT
and in tripleo-ansible the ordering of networks in
the network_data file matters.

Add and 'idx' key internally so that we can put a tag
on neutron network resources to keep track of the
ordering.

Change-Id: I6162ee854b08668274df32120e3ffc961b6cf807
Partial-Implements: blueprint network-data-v2-ports
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/95/772795/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/template.py'],1,ff52ddb3912ade33c9884e415ee260c5a57ab9f7,network-data-v2," # Set internal network index key for each network, network resources # are created with a tag tripleo_net_idx for idx, net in enumerate(network_data): network_data[idx].update({'idx': idx})",,4,0
openstack%2Ftripleo-heat-templates~master~I098f24423716688fe8ff61a894516f3e860b2a4c,openstack/tripleo-heat-templates,master,I098f24423716688fe8ff61a894516f3e860b2a4c,Set tag hints on ControlVirtualIP,MERGED,2021-02-23 22:41:50.000000000,2021-03-05 00:52:25.000000000,2021-03-02 01:53:26.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-23 22:41:50.000000000', 'files': ['overcloud.j2.yaml', 'deployed-server/deployed-neutron-port.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3b8515c4f389fbd8ff0cf9eb65b0b73f730724a', 'message': 'Set tag hints on ControlVirtualIP\n\nSet tags tripleo_vip_net=ctlplane and tripleo_stack_name=$STACK_NAME\non the ControlVirtualIP port.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I098f24423716688fe8ff61a894516f3e860b2a4c\n'}]",0,777252,d3b8515c4f389fbd8ff0cf9eb65b0b73f730724a,10,6,1,24245,,,0,"Set tag hints on ControlVirtualIP

Set tags tripleo_vip_net=ctlplane and tripleo_stack_name=$STACK_NAME
on the ControlVirtualIP port.

Related: blueprint network-data-v2-ports
Change-Id: I098f24423716688fe8ff61a894516f3e860b2a4c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/777252/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'deployed-server/deployed-neutron-port.yaml']",2,d3b8515c4f389fbd8ff0cf9eb65b0b73f730724a,network-data-v2, tags: default: [] type: comma_delimited_list,,9,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0c509370332797fe563804b0ddb8f1a5d4742994,openstack/tripleo-heat-templates,stable/victoria,I0c509370332797fe563804b0ddb8f1a5d4742994,Remove tripleo_transfer cleanup.yml reference,MERGED,2021-03-04 11:39:33.000000000,2021-03-04 23:54:23.000000000,2021-03-04 23:54:23.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 11:39:33.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04b9cad83877fea416656bc46c1e7f5f325981fa', 'message': 'Remove tripleo_transfer cleanup.yml reference\n\nWith the changes in https://review.opendev.org/771657\nthis cleanup task file no longer exists. The cleanup\nis done within the role automatically via a block/rescue.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\nNeeded-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n\nChange-Id: I0c509370332797fe563804b0ddb8f1a5d4742994\n(cherry picked from commit 0f081b4f8032f1cd00f7f653d0a0614d09f4cb61)\n'}]",0,778648,04b9cad83877fea416656bc46c1e7f5f325981fa,11,4,1,6816,,,0,"Remove tripleo_transfer cleanup.yml reference

With the changes in https://review.opendev.org/771657
this cleanup task file no longer exists. The cleanup
is done within the role automatically via a block/rescue.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162
Needed-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f

Change-Id: I0c509370332797fe563804b0ddb8f1a5d4742994
(cherry picked from commit 0f081b4f8032f1cd00f7f653d0a0614d09f4cb61)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/778648/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,04b9cad83877fea416656bc46c1e7f5f325981fa,bz/1916162-stable/victoria,, - name: cleanup tripleo_transfer include_role: name: tripleo_transfer tasks_from: cleanup.yml,0,4
openstack%2Fdesignate~stable%2Ftrain~I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,openstack/designate,stable/train,I9dddd4130a0cbb29311eeb52e077e216c8c03f3a,Update zones masters using pool target masters.,MERGED,2020-07-28 18:26:36.000000000,2021-03-04 23:48:36.000000000,2021-03-04 23:47:19.000000000,"[{'_account_id': 2276}, {'_account_id': 11628}, {'_account_id': 14826}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 32438}]","[{'number': 1, 'created': '2020-07-28 18:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4d963adaaeb7fa672837cafae6288502c6b24041', 'message': ""Update zones masters using pool target masters.\n\nThis change enforces the update of the zone masters\nfor all zones that belongs to a particular pool, using\nthe pool's defined target(s) masters and forcing a update_zone\ncall.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)\n""}, {'number': 2, 'created': '2020-08-04 22:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0eb828e8be3a077f564cf53de5c1fb9e5c1f49ba', 'message': ""Update zones masters using pool target masters.\n\nThis change enforces the update of the zone masters\nfor all zones that belongs to a particular pool, using\nthe pool's defined target(s) masters and forcing a update_zone\ncall.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)\n""}, {'number': 3, 'created': '2020-08-20 22:43:32.000000000', 'files': ['designate/tests/unit/backend/test_bind9.py', 'designate/manage/pool.py', 'designate/backend/impl_bind9.py', 'designate/tests/test_manage/__init__.py', 'designate/tests/test_manage/test_update_pool.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/953492904772933f5f8e265d1ae6cc1e6385fcc6', 'message': ""Update zones masters using pool target masters.\n\nThis change enforces the update of the zone masters\nfor all zones that belongs to a particular pool, using\nthe pool's defined target(s) masters and forcing a update_zone\ncall.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)\n""}]",0,743611,953492904772933f5f8e265d1ae6cc1e6385fcc6,26,6,3,2276,,,0,"Update zones masters using pool target masters.

This change enforces the update of the zone masters
for all zones that belongs to a particular pool, using
the pool's defined target(s) masters and forcing a update_zone
call.

This change also, moves the backend base class update_zone
method as an abstract method, allowing to each backend
implementation to create its own update logic. For the
case of bind9 its extended to allow running a rndc modzone
with the new given masters for the zone fixing the behavior
exposed on LP: #1879798.

Fixes-Bug: #1879798

Change-Id: I9dddd4130a0cbb29311eeb52e077e216c8c03f3a
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
(cherry picked from commit 3756fc51e71aaf0ba7cfb9155ca5d1de26ab78bc)
",git fetch https://review.opendev.org/openstack/designate refs/changes/11/743611/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/backend/test_bind9.py', 'designate/manage/pool.py', 'designate/backend/impl_bind9.py', 'designate/tests/test_manage/__init__.py', 'designate/tests/test_manage/test_update_pool.py']",5,4d963adaaeb7fa672837cafae6288502c6b24041,bug/1879798,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from unittest import mock from designate.tests.test_manage import DesignateManageTestCase from designate.manage.pool import PoolCommands from designate.tests import fixtures from designate import objects LOG = logging.getLogger(__name__) class UpdatePoolTestCase(DesignateManageTestCase): def setUp(self): super(DesignateManageTestCase, self).setUp() self.stdlog = fixtures.StandardLogging() self.useFixture(self.stdlog) def hydrate_pool_targets(self, targets): pool_targets = objects.PoolTargetList() masters = objects.PoolTargetMasterList() for target in targets: masters.append(target) target = objects.PoolTarget(masters=masters) target.masters = masters pool_targets.append(target) return pool_targets def test_update_pools_zones(self): values = dict( name='example.com.', email='info@example.com', type='PRIMARY' ) zone = self.central_service.create_zone( self.admin_context, zone=objects.Zone.from_dict(values)) # Ensure the correct NS Records are in place pool = self.central_service.get_pool( self.admin_context, zone.pool_id) pool.targets = self.hydrate_pool_targets([objects.PoolTargetMaster( pool_target_id=pool.id, host=""127.0.0.1"", port=""53"")]) command = PoolCommands() command.context = self.admin_context command.central_api = self.central_service with mock.patch.object(self.central_service, ""update_zone"") as mock_update_zone: command._update_zones(pool) mock_update_zone.assert_called_once() ",,147,0
openstack%2Fos-brick~master~Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2,openstack/os-brick,master,Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2,Remove six,MERGED,2020-09-27 07:42:19.000000000,2021-03-04 23:48:14.000000000,2021-03-04 00:52:17.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-09-27 07:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b40aea10ea0bd3fb08112332a7bf4694b5642c1f', 'message': 'Remove six\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 2, 'created': '2020-09-27 09:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0e6c23e88266291a1073b0287343948b579938ac', 'message': 'Remove six\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 3, 'created': '2020-09-28 09:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/701c2add3dd73d7a88249c558127874b05db9eed', 'message': 'Remove six\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 4, 'created': '2020-09-30 06:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4fdf1c62b9e422148df1b0174b4b1a847d521892', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 5, 'created': '2021-01-07 06:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e211d33616baf61c38cef74c776c28f2cb2b2b7c', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 6, 'created': '2021-01-07 09:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5ddf7a166cbb8079e382a4bb6404c06160f5c797', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 7, 'created': '2021-01-14 09:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/01a3f1fb27a43d38f7a99f39bc4756d8e47df4d3', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 8, 'created': '2021-02-15 08:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1251ba6d4adab4202d1eee986d7ffd0436c24b88', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 9, 'created': '2021-02-25 11:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f8cf9371ad06edb0be148c6d462195933bf90b1d', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 10, 'created': '2021-02-25 11:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6d38987419e980e6a15e8be33b952247a9f3e8ad', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 11, 'created': '2021-03-02 02:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6199e931838f3ca14daac9d071a0487c60f234e4', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 12, 'created': '2021-03-02 06:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2b1b8261ed40611728ef293d947fcace720bcbd2', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 13, 'created': '2021-03-02 09:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/293732ba58278fa93fca22cd6a2945b6ea8dd3a5', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}, {'number': 14, 'created': '2021-03-03 06:41:30.000000000', 'files': ['os_brick/initiator/connectors/vmware.py', 'os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/tests/remotefs/test_remotefs.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/rootwrap.py', 'os_brick/tests/windows/test_base_connector.py', 'os_brick/local_dev/lvm.py', 'os_brick/tests/privileged/test_rootwrap.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'os_brick/tests/test_exception.py', 'tools/lintstack.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/tests/encryptors/test_cryptsetup.py', 'os_brick/utils.py', 'os_brick/remotefs/remotefs.py', 'os_brick/encryptors/base.py', 'os_brick/tests/test_executor.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/storpool.py', 'os_brick/exception.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a9011e5558590c1503bba09cdf39d87d707b385d', 'message': 'Remove six\n\nReplace to Python 3 style code.\n\nChange-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2\n'}]",52,754598,a9011e5558590c1503bba09cdf39d87d707b385d,149,14,14,30092,,,0,"Remove six

Replace to Python 3 style code.

Change-Id: Ieaeb7b0dc4dceb519778ec8d7e45f53a070d34e2
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/98/754598/12 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/vmware.py', 'os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/tests/remotefs/test_remotefs.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/rootwrap.py', 'os_brick/tests/windows/test_base_connector.py', 'os_brick/tests/privileged/test_rootwrap.py', 'os_brick/tests/initiator/connectors/test_scaleio.py', 'os_brick/tests/test_exception.py', 'tools/lintstack.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/tests/encryptors/test_cryptsetup.py', 'os_brick/utils.py', 'os_brick/remotefs/remotefs.py', 'os_brick/encryptors/base.py', 'os_brick/tests/test_executor.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/storpool.py', 'os_brick/exception.py']",21,b40aea10ea0bd3fb08112332a7bf4694b5642c1f,bp/six-removal, return str(self.msg),import six return six.text_type(self.msg),45,72
openstack%2Fcharm-interface-mysql-router~master~Id7f05dc80ef665d2672f512d191d8fffc0014ec7,openstack/charm-interface-mysql-router,master,Id7f05dc80ef665d2672f512d191d8fffc0014ec7,Set private-address on db-router relation,MERGED,2021-03-01 18:18:20.000000000,2021-03-04 23:26:49.000000000,2021-03-04 23:26:49.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 18:18:20.000000000', 'files': ['requires.py', 'unit_tests/test_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-mysql-router/commit/f6ebeef9ae56f18a4e41d51da946a4dffcd8ccd9', 'message': 'Set private-address on db-router relation\n\nAvoid LP Bug#1917346 when setting MySQL authentication and the expected\nIP address for connectivity.\n\nChange-Id: Id7f05dc80ef665d2672f512d191d8fffc0014ec7\nPartial-Bug: #1917346\n'}]",0,778045,f6ebeef9ae56f18a4e41d51da946a4dffcd8ccd9,7,3,1,20805,,,0,"Set private-address on db-router relation

Avoid LP Bug#1917346 when setting MySQL authentication and the expected
IP address for connectivity.

Change-Id: Id7f05dc80ef665d2672f512d191d8fffc0014ec7
Partial-Bug: #1917346
",git fetch https://review.opendev.org/openstack/charm-interface-mysql-router refs/changes/45/778045/1 && git format-patch -1 --stdout FETCH_HEAD,"['requires.py', 'unit_tests/test_requires.py']",2,f6ebeef9ae56f18a4e41d51da946a4dffcd8ccd9,bug/1917346," ""{}_hostname"".format(_prefix): _host, ""private-address"": _host}"," ""{}_hostname"".format(_prefix): _host}",3,1
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I7ee221be2a01b0e8b22b51902a81fe29bb624db3,openstack/puppet-openstack-integration,stable/train,I7ee221be2a01b0e8b22b51902a81fe29bb624db3,Update the cirros version to 0.5.1,MERGED,2021-03-04 10:39:42.000000000,2021-03-04 23:15:55.000000000,2021-03-04 23:15:55.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 10:39:42.000000000', 'files': ['run_tests.sh', 'manifests/tempest.pp', 'manifests/provision.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6ef855f4d2393e3bb30e8ec3faf4795e4d5a252d', 'message': 'Update the cirros version to 0.5.1\n\nWe are hitting random timeout issues when intances trying to get\nmetadata. This version includes a fix for this [1].\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n\nChange-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3\n(cherry picked from commit 90671b2e0b05ea908a375c5bdb271afb55014870)\n'}]",0,778635,6ef855f4d2393e3bb30e8ec3faf4795e4d5a252d,8,4,1,16312,,,0,"Update the cirros version to 0.5.1

We are hitting random timeout issues when intances trying to get
metadata. This version includes a fix for this [1].

[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129

Change-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3
(cherry picked from commit 90671b2e0b05ea908a375c5bdb271afb55014870)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/778635/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'manifests/tempest.pp', 'manifests/provision.pp']",3,6ef855f4d2393e3bb30e8ec3faf4795e4d5a252d,, source => '/tmp/openstack/image/cirros-0.5.1-x86_64-disk.img' source => '/tmp/openstack/image/cirros-0.5.1-x86_64-disk.img', source => '/tmp/openstack/image/cirros-0.4.0-x86_64-disk.img' source => '/tmp/openstack/image/cirros-0.4.0-x86_64-disk.img',7,7
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I62f35dce338ae186a217dd1d0a141d3a737243a0,openstack/puppet-openstack-integration,stable/train,I62f35dce338ae186a217dd1d0a141d3a737243a0,pin bundler to 2.2.11,MERGED,2021-03-04 10:39:42.000000000,2021-03-04 23:15:51.000000000,2021-03-04 23:15:51.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 10:39:42.000000000', 'files': ['playbooks/run-unit-tests.yaml', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-lint-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d266e3df36d914f2697d0429b7024a8ae6c8fcc0', 'message': ""pin bundler to 2.2.11\n\nIt seems the latest 2.2.12 requires rake>13.0 installed and that\nrequirement doesn't work well in current our CI jobs.\nLet's pin it to the previous version until we resolve the issue.\n\nThis change also removes the pin for the very old Ruby version.\n\nCloses-Bug: #1917457\nChange-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0\n(cherry picked from commit 4d2d86e0df434ee25a508aceb1ea209a0c64f80b)\n""}]",0,778634,d266e3df36d914f2697d0429b7024a8ae6c8fcc0,7,4,1,16312,,,0,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0
(cherry picked from commit 4d2d86e0df434ee25a508aceb1ea209a0c64f80b)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/34/778634/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-unit-tests.yaml', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-lint-tests.yaml']",4,d266e3df36d914f2697d0429b7024a8ae6c8fcc0,, cmd += ' -v 2.2.11', if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end,4,12
openstack%2Fneutron~stable%2Ftrain~I97ada62484023b9833ed12afd68eb4c8d337fd1f,openstack/neutron,stable/train,I97ada62484023b9833ed12afd68eb4c8d337fd1f,"Improve ""get_devices_with_ip"" performance",MERGED,2021-03-01 10:34:05.000000000,2021-03-04 23:14:18.000000000,2021-03-04 23:11:36.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 10:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae4bc64b1ef5af0d73787d1ec82148515a0dde1d', 'message': 'Improve ""get_devices_with_ip"" performance\n\nAs reported in LP#1896734, there is a limit in the size of information\nthat can be transmitted in one single message between an application\nand the privsep daemon. The read socket buffer is limited in size;\na message exceeding this size will generate an exception.\n\nIn order to limit the amount of information to be sent, this patch\nimproves the performance of ""get_devices_with_ip"". In the previous\nimplementation, the whole list of network devices from a namespace\nwas retrieved. In some environments, the list of devices could be\nso big that the list returned by ""privileged.get_link_devices"" can\nexceed the read buffer size (as reported in the LP bug when the\nOVS agent tries to retrieve the list of IP addresses in the system).\n\nNow the function calls ""privileged.get_ip_addresses"", that returns\na much smaller list. This patch is also reducing the number of system\ncalls to just one; the previous implementation was retrieving first\nthe devices link information list (that method was returning a much\nbigger blob) and then, per device, retrieving the IP address\ninformation.\n\nChange-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f\nRelated-Bug: #1896734\n(cherry picked from commit a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57)\n'}, {'number': 2, 'created': '2021-03-02 09:45:50.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc9b849bf39c894355b533f60d8a5a0dc8f04b8f', 'message': 'Improve ""get_devices_with_ip"" performance\n\nAs reported in LP#1896734, there is a limit in the size of information\nthat can be transmitted in one single message between an application\nand the privsep daemon. The read socket buffer is limited in size;\na message exceeding this size will generate an exception.\n\nIn order to limit the amount of information to be sent, this patch\nimproves the performance of ""get_devices_with_ip"". In the previous\nimplementation, the whole list of network devices from a namespace\nwas retrieved. In some environments, the list of devices could be\nso big that the list returned by ""privileged.get_link_devices"" can\nexceed the read buffer size (as reported in the LP bug when the\nOVS agent tries to retrieve the list of IP addresses in the system).\n\nNow the function calls ""privileged.get_ip_addresses"", that returns\na much smaller list. This patch is also reducing the number of system\ncalls to just one; the previous implementation was retrieving first\nthe devices link information list (that method was returning a much\nbigger blob) and then, per device, retrieving the IP address\ninformation.\n\nConflicts:\n    neutron/tests/functional/agent/linux/test_ip_lib.py\n\nChange-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f\nRelated-Bug: #1896734\n(cherry picked from commit a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57)\n'}]",0,777978,cc9b849bf39c894355b533f60d8a5a0dc8f04b8f,35,4,2,16688,,,0,"Improve ""get_devices_with_ip"" performance

As reported in LP#1896734, there is a limit in the size of information
that can be transmitted in one single message between an application
and the privsep daemon. The read socket buffer is limited in size;
a message exceeding this size will generate an exception.

In order to limit the amount of information to be sent, this patch
improves the performance of ""get_devices_with_ip"". In the previous
implementation, the whole list of network devices from a namespace
was retrieved. In some environments, the list of devices could be
so big that the list returned by ""privileged.get_link_devices"" can
exceed the read buffer size (as reported in the LP bug when the
OVS agent tries to retrieve the list of IP addresses in the system).

Now the function calls ""privileged.get_ip_addresses"", that returns
a much smaller list. This patch is also reducing the number of system
calls to just one; the previous implementation was retrieving first
the devices link information list (that method was returning a much
bigger blob) and then, per device, retrieving the IP address
information.

Conflicts:
    neutron/tests/functional/agent/linux/test_ip_lib.py

Change-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f
Related-Bug: #1896734
(cherry picked from commit a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/777978/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py']",3,ae4bc64b1ef5af0d73787d1ec82148515a0dde1d,bug/1896734,,"from pyroute2.netlink.rtnl import ifaddrmsgclass ParseLinkDeviceTestCase(base.BaseTestCase): def setUp(self): super(ParseLinkDeviceTestCase, self).setUp() self._mock_get_ip_addresses = mock.patch.object(priv_lib, 'get_ip_addresses') self.mock_get_ip_addresses = self._mock_get_ip_addresses.start() self.addCleanup(self._stop_mock) def _stop_mock(self): self._mock_get_ip_addresses.stop() def test_parse_link_devices(self): device = ({'index': 1, 'attrs': [['IFLA_IFNAME', 'int_name']]}) self.mock_get_ip_addresses.return_value = [ {'prefixlen': 24, 'scope': 200, 'event': 'RTM_NEWADDR', 'attrs': [ ['IFA_ADDRESS', '192.168.10.20'], ['IFA_FLAGS', ifaddrmsg.IFA_F_PERMANENT]]}, {'prefixlen': 64, 'scope': 200, 'event': 'RTM_DELADDR', 'attrs': [ ['IFA_ADDRESS', '2001:db8::1'], ['IFA_FLAGS', ifaddrmsg.IFA_F_PERMANENT]]}] retval = ip_lib._parse_link_device('namespace', device) expected = [{'scope': 'site', 'cidr': '192.168.10.20/24', 'dynamic': False, 'dadfailed': False, 'name': 'int_name', 'broadcast': None, 'tentative': False, 'event': 'added'}, {'scope': 'site', 'cidr': '2001:db8::1/64', 'dynamic': False, 'dadfailed': False, 'name': 'int_name', 'broadcast': None, 'tentative': False, 'event': 'removed'}] self.assertEqual(expected, retval) ",105,56
openstack%2Fopenstack-ansible~stable%2Fvictoria~I3d3e32458e7102c74feeb430b1e8f27f3ede0583,openstack/openstack-ansible,stable/victoria,I3d3e32458e7102c74feeb430b1e8f27f3ede0583,Bump SHAs for stable/victoria,MERGED,2021-02-14 17:34:07.000000000,2021-03-04 23:07:27.000000000,2021-03-04 23:04:27.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-14 17:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bccadbb97ea64815c0d515c45b81a90c2c6c5748', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I3d3e32458e7102c74feeb430b1e8f27f3ede0583\n'}, {'number': 2, 'created': '2021-02-23 11:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/17634d23135349a74a04b254d09de01a603c90a8', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I3d3e32458e7102c74feeb430b1e8f27f3ede0583\n'}, {'number': 3, 'created': '2021-02-23 11:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f8c9b3c0b416f7ad16a94e697bfbc39fe7da9333', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I3d3e32458e7102c74feeb430b1e8f27f3ede0583\n'}, {'number': 4, 'created': '2021-02-26 08:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c8a933f3f673c201a11e40b2fc2a0487e3feadde', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I3d3e32458e7102c74feeb430b1e8f27f3ede0583\n'}, {'number': 5, 'created': '2021-03-02 15:38:52.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/enable_aide-d9783c50675cb80f.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fb71a1bb8222861cde391e29b8cb906ee62ace07', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I3d3e32458e7102c74feeb430b1e8f27f3ede0583\n'}]",0,775521,fb71a1bb8222861cde391e29b8cb906ee62ace07,35,6,5,28619,,,0,"Bump SHAs for stable/victoria

Change-Id: I3d3e32458e7102c74feeb430b1e8f27f3ede0583
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/21/775521/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,bccadbb97ea64815c0d515c45b81a90c2c6c5748,bump_osa, version: c58a529b1cd2a3a9fe8951e4a14f659b4b760312 version: 8b4b2251f9b4fc61650188084b7071fbfe1d44de version: 9359ee913fb6ca42dd9cb7cc30c0072bc0cb652d version: 1e3595903fc0756c68174b1d4e6e7de7ae13504b, version: 7c47977963eebe00aeabebfbfd904fa1be6b2ee1 version: 3420f29a5557af0aa09b5aefe73b20de60f22cc7 version: a1cefe886be52edaeb98935e525c28ccf11530c6 version: 2e32d1a9e07e0bd91446087ae1c5652b779f8a0e,60,60
openstack%2Fneutron~master~Id61d24ca2d7b1293e9f1bc84f52944321880dbbd,openstack/neutron,master,Id61d24ca2d7b1293e9f1bc84f52944321880dbbd,Add new policy rules NET_OWNER and PARENT_OWNER,MERGED,2021-03-03 09:32:51.000000000,2021-03-04 22:52:29.000000000,2021-03-04 22:50:36.000000000,"[{'_account_id': 4694}, {'_account_id': 5046}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 09:32:51.000000000', 'files': ['neutron/conf/policies/base.py', 'neutron/conf/policies/subnet.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c2f0bba61575088526da8a2da376cb1bf4a3043', 'message': 'Add new policy rules NET_OWNER and PARENT_OWNER\n\nIn old policies we have rules ADMIN_OR_NET_OWNER and\nADMIN_OR_PARENT_OWNER but now as we are moving to new secure RBAC\nroles we need to extract ""admin-ness"" from those rules as\nADMIN is already checked in the default roles, like SYSTEM_ADMIN or\nPROJECT_ADMIN.\nThis patch proposes such new rules and uses them in the subnet policies\nwhich were already migrated to the new secure-rbac policies.\n\nChange-Id: Id61d24ca2d7b1293e9f1bc84f52944321880dbbd\n'}]",0,778391,9c2f0bba61575088526da8a2da376cb1bf4a3043,13,6,1,11975,,,0,"Add new policy rules NET_OWNER and PARENT_OWNER

In old policies we have rules ADMIN_OR_NET_OWNER and
ADMIN_OR_PARENT_OWNER but now as we are moving to new secure RBAC
roles we need to extract ""admin-ness"" from those rules as
ADMIN is already checked in the default roles, like SYSTEM_ADMIN or
PROJECT_ADMIN.
This patch proposes such new rules and uses them in the subnet policies
which were already migrated to the new secure-rbac policies.

Change-Id: Id61d24ca2d7b1293e9f1bc84f52944321880dbbd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/778391/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/base.py', 'neutron/conf/policies/subnet.py']",2,9c2f0bba61575088526da8a2da376cb1bf4a3043,secure-rbac," base.RULE_NET_OWNER), base.RULE_NET_OWNER), base.RULE_NET_OWNER),"," base.RULE_ADMIN_OR_NET_OWNER), base.RULE_ADMIN_OR_NET_OWNER), base.RULE_ADMIN_OR_NET_OWNER),",6,3
openstack%2Fmanila-image-elements~master~Ie97fec3d6edf93a1506a38ead8a17534e6bb0ccd,openstack/manila-image-elements,master,Ie97fec3d6edf93a1506a38ead8a17534e6bb0ccd,Remove lower-constraints job,MERGED,2021-02-16 17:31:53.000000000,2021-03-04 22:24:18.000000000,2021-03-04 22:24:18.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-02-16 17:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/6f7a54b3f1ea1c2fe889153a0b9c67bf7da497bf', 'message': 'Upgrade docutils from 0.11 to 0.12\n\nThe sphinx 2.0.0 package depends on docutils>=0.12. This patch\nmodifies the lower-constraints.txt and test-requirements.txt files\nto address this dependency conflict.\n\nChange-Id: Ie97fec3d6edf93a1506a38ead8a17534e6bb0ccd\n'}, {'number': 2, 'created': '2021-03-04 17:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/4af4b1a9f4aa93e80bc2bb10224840f4592e2d0c', 'message': 'Remove lower-constraints job\n\nThis patch removes the lower-constraints job entirely. This change\nis needed due to an update in the pip-dependency-resolver which\nbroke the lower-constraints job.\n\nChange-Id: Ie97fec3d6edf93a1506a38ead8a17534e6bb0ccd\n'}, {'number': 3, 'created': '2021-03-04 17:40:26.000000000', 'files': ['lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/6496b2f2ba474a330fa9eef75f3efdafeb99ae45', 'message': 'Remove lower-constraints job\n\nThis patch removes the lower-constraints job entirely. This change\nis needed due to an update in the pip-dependency-resolver which\nbroke the lower-constraints job.\n\nChange-Id: Ie97fec3d6edf93a1506a38ead8a17534e6bb0ccd\n'}]",1,775881,6496b2f2ba474a330fa9eef75f3efdafeb99ae45,13,3,3,32411,,,0,"Remove lower-constraints job

This patch removes the lower-constraints job entirely. This change
is needed due to an update in the pip-dependency-resolver which
broke the lower-constraints job.

Change-Id: Ie97fec3d6edf93a1506a38ead8a17534e6bb0ccd
",git fetch https://review.opendev.org/openstack/manila-image-elements refs/changes/81/775881/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,6f7a54b3f1ea1c2fe889153a0b9c67bf7da497bf,lower-constraints,docutils==0.12,docutils==0.11,2,2
openstack%2Fopenstack-helm-images~master~I3b938a0040f3a800e52d3602c252e8a58a57f1c6,openstack/openstack-helm-images,master,I3b938a0040f3a800e52d3602c252e8a58a57f1c6,Add monasca-api image,MERGED,2021-01-18 19:09:35.000000000,2021-03-04 22:16:39.000000000,2021-03-04 22:11:59.000000000,"[{'_account_id': 1004}, {'_account_id': 8863}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-01-18 19:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0a018265e4e5306cdc0354ef5274321dbdc2ec04', 'message': 'Add monasca image\n\nmonasca-api only for now\n\nDepends-On: https://review.opendev.org/openstack/loci/771265/\nChange-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6\n'}, {'number': 2, 'created': '2021-01-18 19:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b6ae39cedc8b13e35ea4836bd7e3d2de76a872fd', 'message': 'Add monasca image\n\nmonasca-api only for now\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/771265\nChange-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6\n'}, {'number': 3, 'created': '2021-01-18 20:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/067527db65b32f1d0510218bf1906eaf45f230fa', 'message': 'Add monasca image\n\nmonasca-api only for now\nUse influxdb instead of cassandra\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/771265\nChange-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6\n'}, {'number': 4, 'created': '2021-01-18 21:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a818ec6e2b376ef71b0e54f6170f9a024b343584', 'message': 'Add monasca image\n\nmonasca-api and monasca-events-api\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/771265\nChange-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6\n'}, {'number': 5, 'created': '2021-01-20 13:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/571b40d663b151634fbd525f92f8539410b6ac61', 'message': 'Add monasca image\n\nmonasca-api and monasca-events-api\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/771265\nChange-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6\n'}, {'number': 6, 'created': '2021-01-20 13:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2b17c630ab6c68e20f4eaa4c6290db0171582cad', 'message': 'Add monasca image\n\nmonasca-api and monasca-events-api\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/771265\nChange-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6\n'}, {'number': 7, 'created': '2021-02-05 16:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c58d3c2189185ce6c00116e289de2c37be40afce', 'message': 'Add monasca image\n\nmonasca-api and monasca-events-api\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/771265\nChange-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6\n'}, {'number': 8, 'created': '2021-02-05 17:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3d3127d6bfc3a72a19e92cc6a20c9f51e7a2c420', 'message': 'Add monasca image\n\nmonasca-api and monasca-events-api\n\nDepends-On: https://review.opendev.org/c/openstack/loci/+/771265\nChange-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6\n'}, {'number': 9, 'created': '2021-02-25 14:13:55.000000000', 'files': ['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3e2a3d4aa28d15b6eb25050e55fa8d9254349ee6', 'message': 'Add monasca-api image\n\nChange-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6\n'}]",3,771267,3e2a3d4aa28d15b6eb25050e55fa8d9254349ee6,50,7,9,31746,,,0,"Add monasca-api image

Change-Id: I3b938a0040f3a800e52d3602c252e8a58a57f1c6
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/67/771267/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh']",2,0a018265e4e5306cdc0354ef5274321dbdc2ec04,,"nova_profiles=${nova_profiles:-""'fluent ceph linuxbridge openvswitch configdrive qemu apache migration'""}monasca_profile=${monasca_profile:-""'monasca'""}. monasca_pip_packages=${monasca_pip_packages:-""cassandra-driver""}","nova_profiles=${nova_profiles:-""'fluent ceph linuxbridge openvswitch configdrive qemu apache'""}",20,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,openstack/tripleo-heat-templates,stable/victoria,Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33,Use include task for host prep tasks,MERGED,2021-02-23 21:13:48.000000000,2021-03-04 22:11:18.000000000,2021-03-04 22:11:18.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22eb95106b903feb1e030c571ee921e46957455d', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}, {'number': 2, 'created': '2021-02-24 14:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/413f71910a8ffb59c1d5baf66141da69d7bb4ba1', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}, {'number': 3, 'created': '2021-03-01 21:17:21.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67ad3daa2150b996fa48125f2e71ab92ab877eb8', 'message': 'Use include task for host prep tasks\n\nImport tasks causes the tasks always to be pulled in and just skipped at\nrun time. This is terribly slow with more roles even when not running\nagainst those hosts.  A similar effort was applied to the update process\nI2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used\nhere.\n\nChange-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33\nRelated-Bug: #1915761\n(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)\n'}]",0,777227,67ad3daa2150b996fa48125f2e71ab92ab877eb8,27,3,3,14985,,,0,"Use include task for host prep tasks

Import tasks causes the tasks always to be pulled in and just skipped at
run time. This is terribly slow with more roles even when not running
against those hosts.  A similar effort was applied to the update process
I2eab008ca27546acbd2b1275f07bcca0b84b858c which should also be used
here.

Change-Id: Ibd9bb9f8a4c6a7ce3c6ebd11ce5cf444dde57c33
Related-Bug: #1915761
(cherry picked from commit 73043121e3e05d7ab67503752165da53431a9b34)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/777227/3 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,22eb95106b903feb1e030c571ee921e46957455d,bug/1915761-stable/victoria, - include_tasks: {{role.name}}/host_prep_tasks.yaml, - import_tasks: {{role.name}}/host_prep_tasks.yaml,1,1
openstack%2Fhorizon~master~If5059d03f6bd7e94796065aa1b51c0c23ac85f5e,openstack/horizon,master,If5059d03f6bd7e94796065aa1b51c0c23ac85f5e,Support policy-in-code and deprecated policy,MERGED,2020-09-07 08:10:53.000000000,2021-03-04 22:04:23.000000000,2021-03-04 22:01:52.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8556}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-09-07 08:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d0285e702c70c1074a51270797c8cecce7b66fe1', 'message': 'Support policy-in-code and deprecated policy\n\nChange-Id: If5059d03f6bd7e94796065aa1b51c0c23ac85f5e\n'}, {'number': 2, 'created': '2020-09-08 03:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/48f5365da8f92a4c1362a37a1cb310bd9e02bd84', 'message': 'Support policy-in-code and deprecated policy\n\nThis commit allows horizon to handle deprecated policy rules.\nThe approach is explained in the document updated by this change.\n\noslo.policy requirement is updated. oslo.policy 3.2.0 is chosen\njust because it is the first release in Victoria cycle.\nI did not check the detail minimum version though.\n\nChange-Id: If5059d03f6bd7e94796065aa1b51c0c23ac85f5e\n'}, {'number': 3, 'created': '2021-01-25 23:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/566407ae0e6ceadfe4d875b215c5b0894ffffb91', 'message': 'Support policy-in-code and deprecated policy\n\nThis commit allows horizon to handle deprecated policy rules.\nThe approach is explained in the document updated by this change.\n\noslo.policy requirement is updated. oslo.policy 3.2.0 is chosen\njust because it is the first release in Victoria cycle.\nI did not check the detail minimum version though.\n\nChange-Id: If5059d03f6bd7e94796065aa1b51c0c23ac85f5e\n'}, {'number': 4, 'created': '2021-01-26 13:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8007aed07bbc6adc18cb5cf5d0be78b1f5f59438', 'message': 'Support policy-in-code and deprecated policy\n\nThis commit allows horizon to handle deprecated policy rules.\nThe approach is explained in the document updated by this change.\n\noslo.policy requirement is updated. oslo.policy 3.2.0 is chosen\njust because it is the first release in Victoria cycle.\nI did not check the detail minimum version though.\n\nChange-Id: If5059d03f6bd7e94796065aa1b51c0c23ac85f5e\n'}, {'number': 5, 'created': '2021-01-26 21:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9beeddd6c0421833c4cd7cb9b1f2375cebe8e24a', 'message': 'Support policy-in-code and deprecated policy\n\nThis commit allows horizon to handle deprecated policy rules.\nThe approach is explained in the document updated by this change.\n\noslo.policy requirement is updated. oslo.policy 3.2.0 is chosen\njust because it is the first release in Victoria cycle.\nrequirements.txt and lower-constraints.txt are updated accordingly\nincluding oslo.policy dependencies.\n\nChange-Id: If5059d03f6bd7e94796065aa1b51c0c23ac85f5e\n'}, {'number': 6, 'created': '2021-01-27 14:04:01.000000000', 'files': ['openstack_dashboard/conf/nova_policy.json', 'openstack_auth/policy.py', 'openstack_dashboard/conf/neutron_policy.json', 'releasenotes/notes/policy-in-code-support-f79d559c25976215.yaml', 'openstack_dashboard/conf/default_policies/cinder.yaml', 'openstack_dashboard/conf/neutron_policy.yaml', 'requirements.txt', 'openstack_auth/defaults.py', 'openstack_dashboard/conf/default_policies/glance.yaml', 'openstack_dashboard/conf/cinder_policy.yaml', 'openstack_dashboard/conf/default_policies/keystone.yaml', 'openstack_dashboard/conf/cinder_policy.json', 'openstack_dashboard/conf/glance_policy.json', 'openstack_dashboard/conf/glance_policy.yaml', 'openstack_dashboard/conf/default_policies/neutron.yaml', 'doc/source/contributor/topics/policy.rst', 'doc/source/configuration/settings.rst', 'openstack_dashboard/conf/default_policies/nova.yaml', 'openstack_dashboard/conf/keystone_policy.yaml', 'lower-constraints.txt', 'openstack_dashboard/management/commands/dump_default_policies.py', 'openstack_dashboard/conf/keystone_policy.json', 'openstack_dashboard/conf/default_policies/README.txt', 'openstack_dashboard/conf/nova_policy.yaml', 'openstack_dashboard/defaults.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b7bb76eb204ef1cbd6df9f416437263a67371ba5', 'message': 'Support policy-in-code and deprecated policy\n\nThis commit allows horizon to handle deprecated policy rules.\nThe approach is explained in the document updated by this change.\n\noslo.policy requirement is updated. oslo.policy 3.2.0 is chosen\njust because it is the first release in Victoria cycle.\nrequirements.txt and lower-constraints.txt are updated accordingly\nincluding oslo.policy dependencies.\n\nChange-Id: If5059d03f6bd7e94796065aa1b51c0c23ac85f5e\n'}]",23,750134,b7bb76eb204ef1cbd6df9f416437263a67371ba5,36,7,6,841,,,0,"Support policy-in-code and deprecated policy

This commit allows horizon to handle deprecated policy rules.
The approach is explained in the document updated by this change.

oslo.policy requirement is updated. oslo.policy 3.2.0 is chosen
just because it is the first release in Victoria cycle.
requirements.txt and lower-constraints.txt are updated accordingly
including oslo.policy dependencies.

Change-Id: If5059d03f6bd7e94796065aa1b51c0c23ac85f5e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/34/750134/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/conf/nova_policy.json', 'openstack_dashboard/conf/default_policies/neutron.yaml', 'doc/source/contributor/topics/policy.rst', 'doc/source/configuration/settings.rst', 'openstack_auth/policy.py', 'openstack_dashboard/conf/default_policies/nova.yaml', 'openstack_dashboard/conf/keystone_policy.yaml', 'openstack_dashboard/conf/neutron_policy.json', 'openstack_dashboard/management/commands/dump_default_policies.py', 'openstack_dashboard/conf/default_policies/cinder.yaml', 'openstack_dashboard/conf/neutron_policy.yaml', 'openstack_dashboard/conf/keystone_policy.json', 'openstack_auth/defaults.py', 'openstack_dashboard/conf/default_policies/glance.yaml', 'openstack_dashboard/conf/cinder_policy.yaml', 'openstack_dashboard/conf/default_policies/README.txt', 'openstack_dashboard/conf/default_policies/keystone.yaml', 'openstack_dashboard/conf/cinder_policy.json', 'openstack_dashboard/conf/glance_policy.json', 'openstack_dashboard/conf/nova_policy.yaml', 'openstack_dashboard/defaults.py', 'openstack_dashboard/conf/glance_policy.yaml']",22,d0285e702c70c1074a51270797c8cecce7b66fe1,secure-rbac,"# Defines the default rule used for policies that historically had an # empty policy in the supplied policy.json file. #""default"": """" # DEPRECATED # ""default"":""role:admin"" has been deprecated since Ussuri in favor of # ""default"":"""". # In order to allow operators to accept the default policies from code # by not defining them in the policy file, while still working with # old policy files that rely on the ``default`` rule for policies that # are not specified in the policy file, the ``default`` rule must now # be explicitly set to ``""role:admin""`` when that is the desired # default for unspecified rules. # Defines the rule for the is_admin:True check. #""context_is_admin"": ""role:admin"" #""add_image"": ""rule:default"" #""delete_image"": ""rule:default"" #""get_image"": ""rule:default"" #""get_images"": ""rule:default"" #""modify_image"": ""rule:default"" #""publicize_image"": ""role:admin"" #""communitize_image"": ""rule:default"" #""download_image"": ""rule:default"" #""upload_image"": ""rule:default"" #""delete_image_location"": ""rule:default"" #""get_image_location"": ""rule:default"" #""set_image_location"": ""rule:default"" #""add_member"": ""rule:default"" #""delete_member"": ""rule:default"" #""get_member"": ""rule:default"" #""get_members"": ""rule:default"" #""modify_member"": ""rule:default"" #""manage_image_cache"": ""role:admin"" #""deactivate"": ""rule:default"" #""reactivate"": ""rule:default"" #""copy_image"": ""role:admin"" #""get_task"": ""rule:default"" #""get_tasks"": ""rule:default"" #""add_task"": ""rule:default"" #""modify_task"": ""rule:default"" #""tasks_api_access"": ""role:admin"" #""get_metadef_namespace"": ""rule:default"" #""get_metadef_namespaces"": ""rule:default"" #""modify_metadef_namespace"": ""rule:default"" #""add_metadef_namespace"": ""rule:default"" #""delete_metadef_namespace"": ""rule:default"" #""get_metadef_object"": ""rule:default"" #""get_metadef_objects"": ""rule:default"" #""modify_metadef_object"": ""rule:default"" #""add_metadef_object"": ""rule:default"" #""delete_metadef_object"": ""rule:default"" #""list_metadef_resource_types"": ""rule:default"" #""get_metadef_resource_type"": ""rule:default"" #""add_metadef_resource_type_association"": ""rule:default"" #""remove_metadef_resource_type_association"": ""rule:default"" #""get_metadef_property"": ""rule:default"" #""get_metadef_properties"": ""rule:default"" #""modify_metadef_property"": ""rule:default"" #""add_metadef_property"": ""rule:default"" #""remove_metadef_property"": ""rule:default"" #""get_metadef_tag"": ""rule:default"" #""get_metadef_tags"": ""rule:default"" #""modify_metadef_tag"": ""rule:default"" #""add_metadef_tag"": ""rule:default"" #""add_metadef_tags"": ""rule:default"" #""delete_metadef_tag"": ""rule:default"" #""delete_metadef_tags"": ""rule:default"" ",,15205,787
openstack%2Fopenstack-ansible-ops~master~If25b446b49a29d1ac86261fe632bb6fe791f13ce,openstack/openstack-ansible-ops,master,If25b446b49a29d1ac86261fe632bb6fe791f13ce,apm-server gets fussy about file-permissions,MERGED,2021-03-03 14:55:04.000000000,2021-03-04 21:57:35.000000000,2021-03-04 21:56:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-03 14:55:04.000000000', 'files': ['elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/dc262581c6e93b01d22f1c7817e8ffbe71018947', 'message': 'apm-server gets fussy about file-permissions\n\n""Exiting: error loading config file: config file\n(""/etc/apm-server/apm-server.yml"") must be owned by the user identifier\n(uid=0) or root""\n\napm-server is normally run under its own user, and permissions on\n/etc/apm-server/apm-server.yml reflect that, so we disable the check\nwhile running running `setup` under root.\n\nChange-Id: If25b446b49a29d1ac86261fe632bb6fe791f13ce\n'}]",0,778481,dc262581c6e93b01d22f1c7817e8ffbe71018947,12,3,1,25600,,,0,"apm-server gets fussy about file-permissions

""Exiting: error loading config file: config file
(""/etc/apm-server/apm-server.yml"") must be owned by the user identifier
(uid=0) or root""

apm-server is normally run under its own user, and permissions on
/etc/apm-server/apm-server.yml reflect that, so we disable the check
while running running `setup` under root.

Change-Id: If25b446b49a29d1ac86261fe632bb6fe791f13ce
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/81/778481/1 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml'],1,dc262581c6e93b01d22f1c7817e8ffbe71018947,," {% if elastic_beat_name == ""apm-server"" -%} --strict.perms=false {%- endif %}",,3,0
openstack%2Fos-brick~master~I5cadb10ee418dd1f5e8a7d407a93d95ebcbaedb8,openstack/os-brick,master,I5cadb10ee418dd1f5e8a7d407a93d95ebcbaedb8,Enforce import order with flake8-import-order,MERGED,2021-03-03 21:29:28.000000000,2021-03-04 21:55:23.000000000,2021-03-04 17:48:07.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 21:29:28.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/55376b85ffa90a343fd90f3980fc58ea2da9d00f', 'message': 'Enforce import order with flake8-import-order\n\nUse flake8-import-order to enforce the correct\norder of imports (stdlib, third-party, project).\n\nChange-Id: I5cadb10ee418dd1f5e8a7d407a93d95ebcbaedb8\n'}]",0,778583,55376b85ffa90a343fd90f3980fc58ea2da9d00f,14,2,1,4523,,,0,"Enforce import order with flake8-import-order

Use flake8-import-order to enforce the correct
order of imports (stdlib, third-party, project).

Change-Id: I5cadb10ee418dd1f5e8a7d407a93d95ebcbaedb8
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/83/778583/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,55376b85ffa90a343fd90f3980fc58ea2da9d00f,,application-import-names = os_brick import-order-style = pep8,,3,0
openstack%2Fmagnum~master~Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d,openstack/magnum,master,Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d,Only allow zero node count from microversion 1.10,MERGED,2021-02-16 11:17:19.000000000,2021-03-04 21:55:21.000000000,2021-03-04 21:54:00.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 11:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9374355a58054ff7489fa2986fa698db4fdd14a7', 'message': 'Only allow zero node count for microversion 1.10\n\nAt present, all clients can request resize of cluster nodes to zero.\nThis PS ensures that only requests with 1.10 microversion header or more\nare fulfilled.\n\nAdditionally, unit tests are also included to ensure that the\nmicroversions are respected for create, update and resizing clusters\nto/with zero node count.\n\nAdditionally, unit tests for the following APIs are tested explictly:\n- resize API with microversion 1.7\n- upgrade API with microversion 1.8\n- nodegroup API with microversion 1.9\n\nChange-Id: Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d\n'}, {'number': 2, 'created': '2021-02-16 11:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3360e0edc75c0860710665d6b16074f656ac9c4a', 'message': 'Only allow zero node count for microversion 1.10\n\nAt present, all clients can request resize of cluster nodes to zero.\nThis PS ensures that only requests with 1.10 microversion header or more\nare fulfilled.\n\nAdditionally, unit tests are also included to ensure that the\nmicroversions are respected for create, update and resizing clusters\nto/with zero node count.\n\nAdditionally, unit tests for the following APIs are tested explictly:\n- resize API with microversion 1.7\n- upgrade API with microversion 1.8\n- nodegroup API with microversion 1.9\n\nChange-Id: Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d\nStory: 2005054\nTask: 41840\n'}, {'number': 3, 'created': '2021-02-16 12:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cc224bca54c099568691636368918eb10aa52247', 'message': 'Only allow zero node count for microversion 1.10\n\nAt present, all clients can request resize of cluster nodes to zero.\nThis PS ensures that only requests with 1.10 microversion header or more\nare fulfilled.\n\nAdditionally, unit tests are also included to ensure that the\nmicroversions are respected for create, update and resizing clusters\nto/with zero node count.\n\nAdditionally, unit tests for the following APIs are tested explictly:\n- resize API with microversion 1.7\n- upgrade API with microversion 1.8\n- nodegroup API with microversion 1.9\n\nStory: 2005054\nTask: 41840\nChange-Id: Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d\n'}, {'number': 4, 'created': '2021-02-16 13:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/141e1744cc09b397602f7adbe7b0d3a053f4ef70', 'message': 'Only allow zero node count for microversion 1.10\n\nAt present, all clients can request resize of cluster nodes to zero.\nThis PS ensures that only requests with 1.10 microversion header or more\nare fulfilled.\n\nStory: 2007851\nTask: 41841\n\nAdditionally, unit tests are also included to ensure that the\nmicroversions are respected for create, update and resizing clusters\nto/with zero node count.\n\nAdditionally, unit tests for the following APIs are tested explictly:\n- resize API with microversion 1.7\n- upgrade API with microversion 1.8\n- nodegroup API with microversion 1.9\n\nStory: 2005054\nTask: 41840\n\nChange-Id: Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d\n'}, {'number': 5, 'created': '2021-02-16 13:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5dcedf0bbce1737908422861b8a27dfa71f884ea', 'message': 'Only allow zero node count from microversion 1.10\n\nAt present, all clients can request resize of cluster nodes to zero.\nThis PS ensures that only requests with 1.10 microversion header or more\nare fulfilled.\n\nStory: 2007851\nTask: 41841\n\nAdditionally, unit tests are also included to ensure that the\nmicroversions are respected for create, update and resizing clusters\nto/with zero node count.\n\nAdditionally, unit tests for the following APIs are tested explictly:\n- resize API with microversion 1.7\n- upgrade API with microversion 1.8\n- nodegroup API with microversion 1.9\n\nStory: 2005054\nTask: 41840\n\nChange-Id: Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d\n'}, {'number': 6, 'created': '2021-02-16 14:04:36.000000000', 'files': ['magnum/tests/unit/api/controllers/v1/test_cluster_actions.py', 'magnum/api/controllers/v1/cluster_actions.py', 'magnum/api/controllers/v1/cluster.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/common/exception.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0e6d178939647e61fee1485e7b3611f093adb7c6', 'message': 'Only allow zero node count from microversion 1.10\n\nAt present, all clients can request resize of cluster nodes to zero.\nThis PS ensures that only requests with 1.10 microversion header or more\nare fulfilled.\n\nStory: 2007851\nTask: 41841\n\nAdditionally, unit tests are also included to ensure that the\nmicroversions are respected for create, update and resizing clusters\nwith zero node count.\n\nAdditionally, unit tests for the following APIs are tested explictly:\n- resize API with microversion 1.7\n- upgrade API with microversion 1.8\n- nodegroup API with microversion 1.9\n\nStory: 2005054\nTask: 41840\n\nChange-Id: Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d\n'}]",1,775805,0e6d178939647e61fee1485e7b3611f093adb7c6,17,3,6,28022,,,0,"Only allow zero node count from microversion 1.10

At present, all clients can request resize of cluster nodes to zero.
This PS ensures that only requests with 1.10 microversion header or more
are fulfilled.

Story: 2007851
Task: 41841

Additionally, unit tests are also included to ensure that the
microversions are respected for create, update and resizing clusters
with zero node count.

Additionally, unit tests for the following APIs are tested explictly:
- resize API with microversion 1.7
- upgrade API with microversion 1.8
- nodegroup API with microversion 1.9

Story: 2005054
Task: 41840

Change-Id: Iba9d619d2e92abcbaa3eca5da68f5e0f203dea8d
",git fetch https://review.opendev.org/openstack/magnum refs/changes/05/775805/6 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/api/controllers/v1/test_cluster_actions.py', 'magnum/api/controllers/v1/cluster_actions.py', 'magnum/api/controllers/v1/cluster.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/common/exception.py']",5,9374355a58054ff7489fa2986fa698db4fdd14a7,microversion,"class ZeroNodeCountNotSupported(NotSupported): message = _(""Resizing a nodegroup to zero is not supported in the "" ""provided microversion."") class ClusterUpgradeNotSupported(NotSupported): message = _(""Cluster upgrade is not supported in the "" ""provided microversion."") ",,155,20
openstack%2Fhorizon~master~I9e37dc1eaa08adf36d11975fed6f5a0a90cdde52,openstack/horizon,master,I9e37dc1eaa08adf36d11975fed6f5a0a90cdde52,test: Ensure to stop mock when create_mocks decorator exits,MERGED,2021-02-26 13:41:28.000000000,2021-03-04 21:46:41.000000000,2021-03-04 21:45:06.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-26 13:41:28.000000000', 'files': ['openstack_dashboard/test/helpers.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/overview/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1dd12d8deb229216189b0a075052e104f73de111', 'message': 'test: Ensure to stop mock when create_mocks decorator exits\n\nDuring reviewing https://review.opendev.org/c/openstack/horizon/+/772603,\nwe noticed that a method decorated by create_mocks is called multiple time\nin a single test. Previously create_mocks decorator does not stop mocking,\nso this means that multiple active mock can exist for one method.\nIn general, it is not a good idea to mock a method multiple times at the\nsame time.\n\nTo cope with this situation, this commit ensures for create_mocks decorator\nto stop active mocks when exiting the decorator.\n\nThis works for most cases, but it does not work only when mocking and\nassertions are handled by separate methods and test logic is placed between\nthem. To cope with this, ""stop_mock"" optional argument is introduced.\n\nFYI: Details on why ""stop_mock"" is needed.\nI explored various ways but could not find a good way so far.\ncreate_mocks needs to be a decorator as it needs to refer an object\nreference (self). On the other hand, if we would like to merge the logic of\nmocking and assertions (for example, _stub_api_calls() and _check_api_calls()\nin openstack_dashboard/dashboards/project/overview/tests.py), a context\nmanager would be good as we would like to call it inside a class.\nHowever, we cannot mix a decorator and a context manger as a decorator is\nexecuted when a context manager is iniitialized and stopping mock in\nthe create_mocks decorator is done during the initialization of the\ncontext manager and methods are not mocked when test code is run.\n\nChange-Id: I9e37dc1eaa08adf36d11975fed6f5a0a90cdde52\n'}]",0,777749,1dd12d8deb229216189b0a075052e104f73de111,12,3,1,841,,,0,"test: Ensure to stop mock when create_mocks decorator exits

During reviewing https://review.opendev.org/c/openstack/horizon/+/772603,
we noticed that a method decorated by create_mocks is called multiple time
in a single test. Previously create_mocks decorator does not stop mocking,
so this means that multiple active mock can exist for one method.
In general, it is not a good idea to mock a method multiple times at the
same time.

To cope with this situation, this commit ensures for create_mocks decorator
to stop active mocks when exiting the decorator.

This works for most cases, but it does not work only when mocking and
assertions are handled by separate methods and test logic is placed between
them. To cope with this, ""stop_mock"" optional argument is introduced.

FYI: Details on why ""stop_mock"" is needed.
I explored various ways but could not find a good way so far.
create_mocks needs to be a decorator as it needs to refer an object
reference (self). On the other hand, if we would like to merge the logic of
mocking and assertions (for example, _stub_api_calls() and _check_api_calls()
in openstack_dashboard/dashboards/project/overview/tests.py), a context
manager would be good as we would like to call it inside a class.
However, we cannot mix a decorator and a context manger as a decorator is
executed when a context manager is iniitialized and stopping mock in
the create_mocks decorator is done during the initialization of the
context manager and methods are not mocked when test code is run.

Change-Id: I9e37dc1eaa08adf36d11975fed6f5a0a90cdde52
",git fetch https://review.opendev.org/openstack/horizon refs/changes/49/777749/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/helpers.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/overview/tests.py']",3,1dd12d8deb229216189b0a075052e104f73de111,create-mocks," api.neutron: ('is_quotas_extension_supported',), usage.quotas: ('tenant_quota_usages',), }, stop_mock=False) # NOTE: _stub_api_calls() and _check_api_calls() are used as pair # and the test logic will be placed between these calls, # so we cannot stop mocking when exiting this method."," api.neutron: ('is_quotas_extension_supported',) }) @test.create_mocks({usage.quotas: ('tenant_quota_usages',)})",21,6
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,openstack/puppet-tripleo,stable/victoria,I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,Add authtoken security options,MERGED,2021-02-16 09:38:37.000000000,2021-03-04 21:42:52.000000000,2021-03-04 21:41:30.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-16 09:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1ce2c6ae33849594a5064707e5d2bd5a77cf8672', 'message': 'Add authtoken security options\n\nAdd ability to specify the memcache_security_strategy and\nmemcache_secret_key for keystone authtoken middleware.\nThe keys for individual services are hashed with a salt,\nto isolate them.\n\nChange-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7\n(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)\n'}, {'number': 2, 'created': '2021-02-23 09:50:02.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'manifests/profile/base/designate/authtoken.pp', 'releasenotes/notes/add-memcache-security-92060c4fe540774c.yaml', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f08f2e8e68c0b4752fdaf53d391cebbd2ad7331f', 'message': 'Add authtoken security options\n\nAdd ability to specify the memcache_security_strategy and\nmemcache_secret_key for keystone authtoken middleware.\nThe keys for individual services are hashed with a salt,\nto isolate them.\n\nChange-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7\n(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)\n'}]",0,775782,f08f2e8e68c0b4752fdaf53d391cebbd2ad7331f,33,7,2,14250,,,0,"Add authtoken security options

Add ability to specify the memcache_security_strategy and
memcache_secret_key for keystone authtoken middleware.
The keys for individual services are hashed with a salt,
to isolate them.

Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7
(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/82/775782/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'manifests/profile/base/designate/authtoken.pp', 'releasenotes/notes/add-memcache-security-92060c4fe540774c.yaml', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp']",18,1ce2c6ae33849594a5064707e5d2bd5a77cf8672,memcached-cert-stable/victoria,"# [*memcached_port*] # (Optional) Memcached port to use. # Defaults to hiera('memcached_authtoken_port', 11211) # # [*security_strategy*] # (Optional) Memcached (authtoken) security strategy. # Defaults to hiera('memcached_authtoken_security_strategy', undef) # # [*secret_key*] # (Optional) Memcached (authtoken) secret key, used with security_strategy. # The key is hashed with a salt, to isolate services. # Defaults to hiera('memcached_authtoken_secret_key', undef) # $memcached_port = hiera('memcached_authtoken_port', 11211), $security_strategy = hiera('memcached_authtoken_security_strategy', undef), $secret_key = hiera('memcached_authtoken_secret_key', undef), if $secret_key { $hashed_secret_key = sha256(""${secret_key}+aodh"") } else { $hashed_secret_key = undef } class { 'aodh::keystone::authtoken': memcached_servers => $memcache_servers, memcache_security_strategy => $security_strategy, memcache_secret_key => $hashed_secret_key,", class { 'aodh::keystone::authtoken': memcached_servers => $memcache_servers,432,17
openstack%2Fpython-openstackclient~master~I37ef09eca0db9286544a4b0bb33f845311baa9b2,openstack/python-openstackclient,master,I37ef09eca0db9286544a4b0bb33f845311baa9b2,compute: Remove deprecated 'server migrate --live' option,MERGED,2021-01-21 12:27:51.000000000,2021-03-04 21:33:34.000000000,2021-03-04 21:29:55.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-21 12:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/baa9001d093ca6b3b217dcccbc4c53b150bfefbe', 'message': ""compute: Remove deprecated 'server migrate --live' option\n\nIt's been long enough. Time to remove this.\n\nChange-Id: I37ef09eca0db9286544a4b0bb33f845311baa9b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-22 13:01:26.000000000', 'files': ['releasenotes/notes/remove-deprecated-server-migrate-live-option-28ec43ee210124dc.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/70480fa86236f7de583c7b098cc53f0acedfd91d', 'message': ""compute: Remove deprecated 'server migrate --live' option\n\nIt's been long enough. Time to remove this.\n\nChange-Id: I37ef09eca0db9286544a4b0bb33f845311baa9b2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771804,70480fa86236f7de583c7b098cc53f0acedfd91d,11,2,2,15334,,,0,"compute: Remove deprecated 'server migrate --live' option

It's been long enough. Time to remove this.

Change-Id: I37ef09eca0db9286544a4b0bb33f845311baa9b2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/04/771804/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deprecated-server-migrate-live-option-28ec43ee210124dc.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,baa9001d093ca6b3b217dcccbc4c53b150bfefbe,osc-first," parser.add_argument( if parsed_args.live_migration: # Technically we could pass a non-None host with # --os-compute-api-version < 2.30 but that is the same thing # as the --live option bypassing the scheduler which we don't # want to support, so if the user is using --live-migration # and --host, we want to enforce that they are using version # 2.30 or greater. if ( parsed_args.host and compute_client.api_version < api_versions.APIVersion('2.30') ): raise exceptions.CommandError( '--os-compute-api-version 2.30 or greater is required ' 'when using --host' ) # The host parameter is required in the API even if None. kwargs['host'] = parsed_args.host else: # cold migration"," # The --live and --host options are mutually exclusive ways of asking # for a target host during a live migration. host_group = parser.add_mutually_exclusive_group() # TODO(mriedem): Remove --live in the next major version bump after # the Train release. host_group.add_argument( '--live', metavar='<hostname>', help=_( '**Deprecated** This option is problematic in that it ' 'requires a host and prior to compute API version 2.30, ' 'specifying a host during live migration will bypass ' 'validation by the scheduler which could result in ' 'failures to actually migrate the server to the specified ' 'host or over-subscribe the host. Use the ' '``--live-migration`` option instead. If both this option ' 'and ``--live-migration`` are used, ``--live-migration`` ' 'takes priority.' ), ) host_group.add_argument( def _log_warning_for_live(self, parsed_args): if parsed_args.live: # NOTE(mriedem): The --live option requires a host and if # --os-compute-api-version is less than 2.30 it will forcefully # bypass the scheduler which is dangerous. self.log.warning(_( 'The --live option has been deprecated. Please use the ' '--live-migration option instead.')) # Check for live migration. if parsed_args.live or parsed_args.live_migration: # Always log a warning if --live is used. self._log_warning_for_live(parsed_args) # Prefer --live-migration over --live if both are specified. if parsed_args.live_migration: # Technically we could pass a non-None host with # --os-compute-api-version < 2.30 but that is the same thing # as the --live option bypassing the scheduler which we don't # want to support, so if the user is using --live-migration # and --host, we want to enforce that they are using version # 2.30 or greater. if ( parsed_args.host and compute_client.api_version < api_versions.APIVersion('2.30') ): raise exceptions.CommandError( '--os-compute-api-version 2.30 or greater is required ' 'when using --host' ) # The host parameter is required in the API even if None. kwargs['host'] = parsed_args.host else: kwargs['host'] = parsed_args.live else:",67,219
openstack%2Ftempest~master~I82bb3c5bbeaa4de04f607266311e8452e25ce6b5,openstack/tempest,master,I82bb3c5bbeaa4de04f607266311e8452e25ce6b5,Update subunit_describe_calls about new ports,MERGED,2017-12-13 05:19:37.000000000,2021-03-04 21:31:50.000000000,2021-03-04 21:27:11.000000000,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2017-12-13 05:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7983ed8763e2203e77ab5aa5c3739107a159dcd8', 'message': 'Update version in subunit_describe_calls\n\nThis commit updates the default version explanation in\nsubunit_describe_calls doc from Kilo to Newton. It seems like Newton[0]\nis the latest for that. From Ocata, there\'s no ""Firewalls and default\nports"" section in that doc, anymore.[1]\n\nAnd this commit also fixes some markups as inline literals.\n\n[0] https://docs.openstack.org/newton/config-reference/firewalls-default-ports.html\n[1] https://docs.openstack.org/ocata/config-reference/\n\nChange-Id: I82bb3c5bbeaa4de04f607266311e8452e25ce6b5\n'}, {'number': 2, 'created': '2021-03-02 20:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/88e679f14223d4417c11ea8dafef36e4f1cfde2a', 'message': ""Update subunit_describe_calls about new ports\n\nThis commit updates the default version explanation in\nsubunit_describe_calls. It seems the 'Firewalls and default ports' is moved\nto a new location. In Newton it was here [0] but from Ocata it gives 404 [1].\nIt got moved to [2].\n\nAnd this commit also fixes some markups as inline literals.\n\n[0] https://docs.openstack.org/newton/config-reference/firewalls-default-ports.html\n[1] https://docs.openstack.org/ocata/config-reference/\n[2] https://docs.openstack.org/install-guide/firewalls-default-ports.html\n\nChange-Id: I82bb3c5bbeaa4de04f607266311e8452e25ce6b5\n""}, {'number': 3, 'created': '2021-03-03 09:02:31.000000000', 'files': ['tempest/cmd/subunit_describe_calls.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f7d53297ba58563ece8765be61cb1bc95e2fc8b4', 'message': ""Update subunit_describe_calls about new ports\n\nThis commit updates the default version explanation in\nsubunit_describe_calls. It seems the 'Firewalls and default ports'\nis moved to a new location. In Newton it was here [0] but from Ocata\nit gives 404 [1] because it got moved to [2].\n\nAnd this commit also fixes some markups as inline literals.\n\n[0] https://docs.openstack.org/newton/config-reference/firewalls-default-ports.html\n[1] https://docs.openstack.org/ocata/config-reference/\n[2] https://docs.openstack.org/install-guide/firewalls-default-ports.html\n\nChange-Id: I82bb3c5bbeaa4de04f607266311e8452e25ce6b5\n""}]",1,527577,f7d53297ba58563ece8765be61cb1bc95e2fc8b4,27,5,3,5689,,,0,"Update subunit_describe_calls about new ports

This commit updates the default version explanation in
subunit_describe_calls. It seems the 'Firewalls and default ports'
is moved to a new location. In Newton it was here [0] but from Ocata
it gives 404 [1] because it got moved to [2].

And this commit also fixes some markups as inline literals.

[0] https://docs.openstack.org/newton/config-reference/firewalls-default-ports.html
[1] https://docs.openstack.org/ocata/config-reference/
[2] https://docs.openstack.org/install-guide/firewalls-default-ports.html

Change-Id: I82bb3c5bbeaa4de04f607266311e8452e25ce6b5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/527577/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/subunit_describe_calls.py'],1,7983ed8763e2203e77ab5aa5c3739107a159dcd8,update-version-in-subunit-describe-calls,``--subunit`` parameter. This is then parsed checking for details contained in the file_bytes of the ``--non-subunit-name`` parameter (the default is pythonlogging which is what Tempest uses to store logs). By default `the OpenStack Newton release port defaults <http://docs.openstack.org/newton/config-reference/firewalls-default-ports.html>`_ are used unless a file is provided via the ``--ports`` option. The resulting output is dumped in JSON output to the path provided in the ``--output-file`` option.,--subunit parameter. This is then parsed checking for details contained in the file_bytes of the --non-subunit-name parameter (the default is pythonlogging which is what Tempest uses to store logs). By default the OpenStack Kilo release port defaults (http://bit.ly/22jpF5P) are used unless a file is provided via the --ports option. The resulting output is dumped in JSON output to the path provided in the --output-file option.,8,6
openstack%2Fpython-openstackclient~master~I6b4f80882dbbeb6a2a7e877f63becae7211b7f9a,openstack/python-openstackclient,master,I6b4f80882dbbeb6a2a7e877f63becae7211b7f9a,compute: Improve 'server create --block-device-mapping' option parsing,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 21:31:43.000000000,2021-03-04 21:27:44.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/aee80c4d822fe54ddbdb849e4a2014312bed0c22', 'message': ""compute: Improve 'server create --block-device-mapping' option parsing\n\nOnce again, custom actions to the rescue.\n\nChange-Id: I6b4f80882dbbeb6a2a7e877f63becae7211b7f9a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/074e045c6938189c77fd13ce4dd9fccf69d3a12a', 'message': ""compute: Improve 'server create --block-device-mapping' option parsing\n\nOnce again, custom actions to the rescue.\n\nChange-Id: I6b4f80882dbbeb6a2a7e877f63becae7211b7f9a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771696,074e045c6938189c77fd13ce4dd9fccf69d3a12a,10,2,2,15334,,,0,"compute: Improve 'server create --block-device-mapping' option parsing

Once again, custom actions to the rescue.

Change-Id: I6b4f80882dbbeb6a2a7e877f63becae7211b7f9a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/771696/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,aee80c4d822fe54ddbdb849e4a2014312bed0c22,osc-first,"class BDMLegacyAction(argparse.Action): def __call__(self, parser, namespace, values, option_string=None): # Make sure we have an empty dict rather than None if getattr(namespace, self.dest, None) is None: setattr(namespace, self.dest, []) dev_name, sep, dev_map = values.partition('=') dev_map = dev_map.split(':') if dev_map else dev_map if not dev_name or not dev_map or len(dev_map) > 4: msg = _( ""Invalid argument %s; argument must be of form "" ""'dev-name=id[:type[:size[:delete-on-terminate]]]'"" ) raise argparse.ArgumentTypeError(msg % values) mapping = { 'device_name': dev_name, # store target; this may be a name and will need verification later 'uuid': dev_map[0], 'source_type': 'volume', 'destination_type': 'volume', } # decide source and destination type if len(dev_map) > 1 and dev_map[1]: if dev_map[1] not in ('volume', 'snapshot', 'image'): msg = _( ""Invalid argument %s; 'type' must be one of: volume, "" ""snapshot, image"" ) raise argparse.ArgumentTypeError(msg % values) mapping['source_type'] = dev_map[1] # 3. append size and delete_on_termination, if present if len(dev_map) > 2 and dev_map[2]: mapping['volume_size'] = dev_map[2] if len(dev_map) > 3 and dev_map[3]: mapping['delete_on_termination'] = dev_map[3] getattr(namespace, self.dest).append(mapping) action=BDMLegacyAction, default=[], for mapping in parsed_args.block_device_mapping: if mapping['source_type'] == 'volume': volume_id = utils.find_resource( volume_client.volumes, mapping['uuid'], ).id mapping['uuid'] = volume_id elif mapping['source_type'] == 'snapshot': snapshot_id = utils.find_resource( volume_client.volume_snapshots, mapping['uuid'], ).id mapping['uuid'] = snapshot_id elif mapping['source_type'] == 'image': # NOTE(mriedem): In case --image is specified with the same # image, that becomes the root disk for the server. If the # block device is specified with a root device name, e.g. # vda, then the compute API will likely fail complaining # that there is a conflict. So if using the same image ID, # which doesn't really make sense but it's allowed, the # device name would need to be a non-root device, e.g. vdb. # Otherwise if the block device image is different from the # one specified by --image, then the compute service will # create a volume from the image and attach it to the # server as a non-root volume. image_id = image_client.find_image( mapping['uuid'], ignore_missing=False, ).id mapping['uuid'] = image_id boot_args = [parsed_args.server_name, image, flavor] "," action=parseractions.KeyValueAction, default={}, boot_args = [parsed_args.server_name, image, flavor] for dev_name in sorted(parsed_args.block_device_mapping): dev_map = parsed_args.block_device_mapping[dev_name] dev_map = dev_map.split(':') if dev_map[0]: mapping = {'device_name': dev_name} # 1. decide source and destination type if (len(dev_map) > 1 and dev_map[1] in ('volume', 'snapshot', 'image')): mapping['source_type'] = dev_map[1] else: mapping['source_type'] = 'volume' mapping['destination_type'] = 'volume' # 2. check target exist, update target uuid according by # source type if mapping['source_type'] == 'volume': volume_id = utils.find_resource( volume_client.volumes, dev_map[0]).id mapping['uuid'] = volume_id elif mapping['source_type'] == 'snapshot': snapshot_id = utils.find_resource( volume_client.volume_snapshots, dev_map[0]).id mapping['uuid'] = snapshot_id elif mapping['source_type'] == 'image': # NOTE(mriedem): In case --image is specified with the same # image, that becomes the root disk for the server. If the # block device is specified with a root device name, e.g. # vda, then the compute API will likely fail complaining # that there is a conflict. So if using the same image ID, # which doesn't really make sense but it's allowed, the # device name would need to be a non-root device, e.g. vdb. # Otherwise if the block device image is different from the # one specified by --image, then the compute service will # create a volume from the image and attach it to the # server as a non-root volume. image_id = image_client.find_image(dev_map[0], ignore_missing=False).id mapping['uuid'] = image_id # 3. append size and delete_on_termination if exist if len(dev_map) > 2 and dev_map[2]: mapping['volume_size'] = dev_map[2] if len(dev_map) > 3 and dev_map[3]: mapping['delete_on_termination'] = dev_map[3] else: msg = _( 'Volume, volume snapshot or image (name or ID) must ' 'be specified if --block-device-mapping is specified' ) raise exceptions.CommandError(msg)",152,85
openstack%2Frequirements~master~Ia365959b8aa4777228684a9836bdbad7c95b2151,openstack/requirements,master,Ia365959b8aa4777228684a9836bdbad7c95b2151,update constraint for octavia-lib to new release 2.3.1,MERGED,2021-03-04 16:29:36.000000000,2021-03-04 21:31:37.000000000,2021-03-04 21:30:17.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-04 16:29:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/669190a66739074f947d8b52386d2853f7c0e723', 'message': 'update constraint for octavia-lib to new release 2.3.1\n\nmeta: version: 2.3.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Change-Id: Ice2a6d2cc5285169fb03d94201feb8205173851d\nmeta: release:Code-Review+1: Carlos Gonalves <cgoncalves@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ia365959b8aa4777228684a9836bdbad7c95b2151\n'}]",0,778745,669190a66739074f947d8b52386d2853f7c0e723,9,3,1,11131,,,0,"update constraint for octavia-lib to new release 2.3.1

meta: version: 2.3.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Michael Johnson <johnsomor@gmail.com>
meta: release:Commit: Michael Johnson <johnsomor@gmail.com>
meta: release:Change-Id: Ice2a6d2cc5285169fb03d94201feb8205173851d
meta: release:Code-Review+1: Carlos Gonalves <cgoncalves@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: Ia365959b8aa4777228684a9836bdbad7c95b2151
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/778745/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,669190a66739074f947d8b52386d2853f7c0e723,new-release,octavia-lib===2.3.1,octavia-lib===2.3.0,1,1
openstack%2Fpython-openstackclient~master~I73864ccbf5bf181fecf505ca168c1a35a8b0af3a,openstack/python-openstackclient,master,I73864ccbf5bf181fecf505ca168c1a35a8b0af3a,compute: Deprecate 'server create --file',MERGED,2021-01-21 12:27:51.000000000,2021-03-04 21:29:48.000000000,2021-03-04 21:29:48.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-21 12:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dea18e4007e9bc630158002d8e58bc9cd6ecd76c', 'message': ""compute: Deprecate 'server create --file'\n\nThe parameter isn't actually deprecated, since we need to support older\nAPI microversion, however, we now emit an error if someone attempts to\nboot a server with the wrong microversion. This would happen server-side\nanyway since this parameter was removed entirely in API microversion\n2.57.\n\nChange-Id: I73864ccbf5bf181fecf505ca168c1a35a8b0af3a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-22 13:01:26.000000000', 'files': ['releasenotes/notes/deprecated-server-create-file-option-80246b13bd3c1b43.yaml', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6f3969a0c8a608236a6f7258aa213c12af060a9d', 'message': ""compute: Deprecate 'server create --file'\n\nThe parameter isn't actually deprecated, since we need to support older\nAPI microversion, however, we now emit an error if someone attempts to\nboot a server with the wrong microversion. This would happen server-side\nanyway since this parameter was removed entirely in API microversion\n2.57.\n\nChange-Id: I73864ccbf5bf181fecf505ca168c1a35a8b0af3a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771803,6f3969a0c8a608236a6f7258aa213c12af060a9d,9,2,2,15334,,,0,"compute: Deprecate 'server create --file'

The parameter isn't actually deprecated, since we need to support older
API microversion, however, we now emit an error if someone attempts to
boot a server with the wrong microversion. This would happen server-side
anyway since this parameter was removed entirely in API microversion
2.57.

Change-Id: I73864ccbf5bf181fecf505ca168c1a35a8b0af3a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/03/771803/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecated-server-create-file-option-80246b13bd3c1b43.yaml', 'openstackclient/compute/v2/server.py']",2,dea18e4007e9bc630158002d8e58bc9cd6ecd76c,osc-first, 'File(s) to inject into image before boot ' '(supported by --os-compute-api-version 2.57 or below)' if parsed_args.file: if compute_client.api_version >= api_versions.APIVersion('2.57'): msg = _( 'Personality files are deprecated and are not supported ' 'for --os-compute-api-version greater than 2.56; use ' 'user data instead' ) raise exceptions.CommandError(msg) , 'File to inject into image before boot ',18,1
openstack%2Fpython-openstackclient~master~I53f27eb3e3c1a84d0d77a1672c008d0e8bb8536f,openstack/python-openstackclient,master,I53f27eb3e3c1a84d0d77a1672c008d0e8bb8536f,compute: Stop silently ignore --(no-)disk-overcommit,MERGED,2021-01-21 12:27:51.000000000,2021-03-04 21:29:38.000000000,2021-03-04 21:29:38.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-21 12:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6165696892140c9d08a2ce891f64fd58da0f6a91', 'message': 'compute: Stop silently ignore --(no-)disk-overcommit\n\nThese options are not supported from Nova API microversion 2.25 and\nabove. This can be a source of confusion. Start warning, with an eye on\nerroring out in the future.\n\nChange-Id: I53f27eb3e3c1a84d0d77a1672c008d0e8bb8536f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-01-22 13:01:26.000000000', 'files': ['releasenotes/notes/warn-on-disk-overcommit-087ae46f12d74693.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8868c77a201703edaded5d06aa1734265431f786', 'message': 'compute: Stop silently ignore --(no-)disk-overcommit\n\nThese options are not supported from Nova API microversion 2.25 and\nabove. This can be a source of confusion. Start warning, with an eye on\nerroring out in the future.\n\nChange-Id: I53f27eb3e3c1a84d0d77a1672c008d0e8bb8536f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,771802,8868c77a201703edaded5d06aa1734265431f786,9,2,2,15334,,,0,"compute: Stop silently ignore --(no-)disk-overcommit

These options are not supported from Nova API microversion 2.25 and
above. This can be a source of confusion. Start warning, with an eye on
erroring out in the future.

Change-Id: I53f27eb3e3c1a84d0d77a1672c008d0e8bb8536f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/02/771802/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/warn-on-disk-overcommit-087ae46f12d74693.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,6165696892140c9d08a2ce891f64fd58da0f6a91,osc-first," help=_( 'Allow disk over-commit on the destination host' '(supported with --os-compute-api-version 2.24 or below)' ), '(supported with --os-compute-api-version 2.24 or below)' elif parsed_args.disk_overcommit is not None: # TODO(stephenfin): Raise an error here in OSC 7.0 msg = _( 'The --disk-overcommit and --no-disk-overcommit ' 'options are only supported by ' '--os-compute-api-version 2.24 or below; this will ' 'be an error in a future release' ) self.log.warning(msg)"," help=_('Allow disk over-commit on the destination host'),",57,1
openstack%2Fpython-openstackclient~master~Ieedc77d6dc3d4a3cd93b29672faa97dd4e8c1185,openstack/python-openstackclient,master,Ieedc77d6dc3d4a3cd93b29672faa97dd4e8c1185,compute: Auto-configure shared/block live migration,MERGED,2021-01-21 12:27:51.000000000,2021-03-04 21:29:26.000000000,2021-03-04 21:29:26.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-21 12:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/14481fb53f93c6bfc3aa84a3730c8f747b296e7d', 'message': ""compute: Auto-configure shared/block live migration\n\nAPI microversion 2.25 introduced the 'block_migration=auto' value for\nthe os-migrateLive server action. This is a sensible default that we\nshould use, allowing users to avoid stating one of the\n'--block-migration' or '--shared-migration' parameters explicitly.\n\nWhile we're here, we take the opportunity to fix up some formatting in\nthe function, which is really rather messy.\n\nChange-Id: Ieedc77d6dc3d4a3cd93b29672faa97dd4e8c1185\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-22 13:01:26.000000000', 'files': ['releasenotes/notes/auto-configure-block-live-migration-437d461c914f8f2f.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2bdf34dcc3f8957ff78709467197b5fcb44e07c3', 'message': ""compute: Auto-configure shared/block live migration\n\nAPI microversion 2.25 introduced the 'block_migration=auto' value for\nthe os-migrateLive server action. This is a sensible default that we\nshould use, allowing users to avoid stating one of the\n'--block-migration' or '--shared-migration' parameters explicitly.\n\nWhile we're here, we take the opportunity to fix up some formatting in\nthe function, which is really rather messy.\n\nChange-Id: Ieedc77d6dc3d4a3cd93b29672faa97dd4e8c1185\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771801,2bdf34dcc3f8957ff78709467197b5fcb44e07c3,11,3,2,15334,,,0,"compute: Auto-configure shared/block live migration

API microversion 2.25 introduced the 'block_migration=auto' value for
the os-migrateLive server action. This is a sensible default that we
should use, allowing users to avoid stating one of the
'--block-migration' or '--shared-migration' parameters explicitly.

While we're here, we take the opportunity to fix up some formatting in
the function, which is really rather messy.

Change-Id: Ieedc77d6dc3d4a3cd93b29672faa97dd4e8c1185
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/01/771801/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/auto-configure-block-live-migration-437d461c914f8f2f.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,14481fb53f93c6bfc3aa84a3730c8f747b296e7d,osc-first," help=_( 'Live migrate the server; use the ``--host`` option to ' 'specify a target host for the migration which will be ' 'validated by the scheduler' ), help=_( '**Deprecated** This option is problematic in that it ' 'requires a host and prior to compute API version 2.30, ' 'specifying a host during live migration will bypass ' 'validation by the scheduler which could result in ' 'failures to actually migrate the server to the specified ' 'host or over-subscribe the host. Use the ' '``--live-migration`` option instead. If both this option ' 'and ``--live-migration`` are used, ``--live-migration`` ' 'takes priority.' ), help=_( 'Migrate the server to the specified host. ' '(supported with --os-compute-api-version 2.30 or above ' 'when used with the --live-migration option) ' '(supported with --os-compute-api-version 2.56 or above ' 'when used without the --live-migration option)' ), default=None, help=_( 'Perform a shared live migration ' '(default before --os-compute-api-version 2.25, auto after)' ), help=_( 'Perform a block live migration ' '(auto-configured from --os-compute-api-version 2.25)' ), help=_( 'Do not over-commit disk on the destination host (default)' ), kwargs = {} block_migration = parsed_args.block_migration if block_migration is None: if ( compute_client.api_version < api_versions.APIVersion('2.25') ): block_migration = False else: block_migration = 'auto' kwargs['block_migration'] = block_migration if ( parsed_args.host and compute_client.api_version < api_versions.APIVersion('2.30') ): 'when using --host' ) "," help=_('Live migrate the server. Use the ``--host`` option to ' 'specify a target host for the migration which will be ' 'validated by the scheduler.'), help=_('**Deprecated** This option is problematic in that it ' 'requires a host and prior to compute API version 2.30, ' 'specifying a host during live migration will bypass ' 'validation by the scheduler which could result in ' 'failures to actually migrate the server to the specified ' 'host or over-subscribe the host. Use the ' '``--live-migration`` option instead. If both this option ' 'and ``--live-migration`` are used, ``--live-migration`` ' 'takes priority.'), help=_('Migrate the server to the specified host. Requires ' '``--os-compute-api-version`` 2.30 or greater when used ' 'with the ``--live-migration`` option, otherwise requires ' '``--os-compute-api-version`` 2.56 or greater.'), default=False, help=_('Perform a shared live migration (default)'), help=_('Perform a block live migration'), help=_('Do not over-commit disk on the' ' destination host (default)'), kwargs = { 'block_migration': parsed_args.block_migration } if (parsed_args.host and compute_client.api_version < api_versions.APIVersion('2.30')): 'when using --host')",90,48
openstack%2Fpython-openstackclient~master~If4eba38ccfb208ee186b90a0eec95e5fe6cf8415,openstack/python-openstackclient,master,If4eba38ccfb208ee186b90a0eec95e5fe6cf8415,compute: Add 'server create --block-device' option,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 21:28:59.000000000,2021-03-04 21:28:59.000000000,"[{'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d35cec8a27b58748bc139b57dea66dfa7325c7c7', 'message': ""compute: Add 'server create --block-device' option\n\nOne of the last big gaps with novaclient. As noted in the release note,\nthe current '--block-device-mapping' format is based on the old BDM v1\nformat, even though it actually results in BDM v2-style requests to the\nserver. It's time to replace that.\n\nChange-Id: If4eba38ccfb208ee186b90a0eec95e5fe6cf8415\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0eb530ce80f8097cc1090347bf75248f49622801', 'message': ""compute: Add 'server create --block-device' option\n\nOne of the last big gaps with novaclient. As noted in the release note,\nthe current '--block-device-mapping' format is based on the old BDM v1\nformat, even though it actually results in BDM v2-style requests to the\nserver. It's time to replace that.\n\nChange-Id: If4eba38ccfb208ee186b90a0eec95e5fe6cf8415\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-01-22 13:01:26.000000000', 'files': ['releasenotes/notes/add-missing-server-create-opts-d5e32bd743e9e132.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ace4bfb6404b7b39c597c4884c56e26a47a94fc4', 'message': ""compute: Add 'server create --block-device' option\n\nOne of the last big gaps with novaclient. As noted in the release note,\nthe current '--block-device-mapping' format is based on the old BDM v1\nformat, even though it actually results in BDM v2-style requests to the\nserver. It's time to replace that.\n\nChange-Id: If4eba38ccfb208ee186b90a0eec95e5fe6cf8415\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",8,771699,ace4bfb6404b7b39c597c4884c56e26a47a94fc4,16,3,3,15334,,,0,"compute: Add 'server create --block-device' option

One of the last big gaps with novaclient. As noted in the release note,
the current '--block-device-mapping' format is based on the old BDM v1
format, even though it actually results in BDM v2-style requests to the
server. It's time to replace that.

Change-Id: If4eba38ccfb208ee186b90a0eec95e5fe6cf8415
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/99/771699/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-missing-server-create-opts-d5e32bd743e9e132.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,d35cec8a27b58748bc139b57dea66dfa7325c7c7,osc-first," # TODO(stephenfin): Remove this in the v7.0 '**Deprecated** Create a block device on the server.\n' 'Replaced by --block-device' ), ) parser.add_argument( '--block-device', metavar='', action=parseractions.MultiKeyValueAction, dest='block_devices', default=[], required_keys=[], optional_keys=[ 'id', 'source', 'dest', 'bus', 'type', 'device', 'size', 'format', 'bootindex', 'shutdown', 'tag', 'volume_type', ], help=_( 'Create a block device on the server.\n' 'Block device in the format:\n' 'id=<uuid>: name or ID of the volume, snapshot or ID ' '(required if using source image, snapshot or volume),\n' 'source=<source_type>: source type ' '(one of: image, snapshot, volume, blank),\n' 'dest=<destination_type>: destination type ' '(one of: volume, local) (optional),\n' 'bus=<disk_bus>: device bus ' '(one of: uml, lxc, virtio, ...) (optional),\n' 'type=<device_type>: device type ' '(one of: disk, cdrom, etc. (optional),\n' 'device=<device_name>: name of the device (optional),\n' 'size=<volume_size>: size of the block device in MiB (for ' 'swap) or GiB (for everything else) (optional),\n' 'format=<guest_format>: format of device (optional),\n' 'bootindex=<boot_index>: index of disk used to order boot ' 'disk ' '(required for volume-backed instances),\n' 'shutdown=<mode>: one of preserve, remove (optional),\n' 'tag=<tag>: device metadata tag (optional),\n' 'volume_type=<volume_type>: type of volume to create (name or ' 'ID) when source if blank, image or snapshot and dest is ' 'volume (optional)' def _resolve_mapping_id(mapping): # Handle block device by device name order, like: vdb -> vdc -> vdd for mapping in parsed_args.block_device_mapping: _resolve_mapping_id(mapping) block_device_mapping_v2.append(mapping) for mapping in parsed_args.block_devices: # transform from the ""user-friendly"" names to what the API actually # wants mapping = { field: mapping[alias] for alias, field in { 'id': 'uuid', 'source': 'source_type', 'dest': 'destination_type', 'bus': 'disk_bus', 'device': 'device_name', 'size': 'volume_size', 'format': 'guest_format', 'bootindex': 'boot_index', 'type': 'device_type', 'shutdown': 'delete_on_termination', 'tag': 'tag', 'volume_type': 'volume_type', }.items() if alias in mapping } if 'tag' in mapping and ( compute_client.api_version < api_versions.APIVersion('2.42') ): msg = _( '--os-compute-api-version 2.42 or greater is ' 'required to support the tag key of --block-device' ) raise exceptions.CommandError(msg) if 'volume_type' in mapping and ( compute_client.api_version < api_versions.APIVersion('2.67') ): msg = _( '--os-compute-api-version 2.67 or greater is ' 'required to support the volume_type key of --block-device' ) raise exceptions.CommandError(msg) if 'source_type' in mapping: if mapping['source_type'] not in ( 'volume', 'image', 'snapshot', 'blank', ): msg = _( 'The source key of --block-device should be one ' 'of: volume, image, snapshot, blank' ) raise exceptions.CommandError(msg) else: mapping['source_type'] = 'blank' if 'destination_type' in mapping: if mapping['destination_type'] not in ('local', 'volume'): msg = _( 'The dest key of --block-device should be ' 'one of: local, volume' ) raise exceptions.CommandError(msg) else: if mapping['source_type'] in ('image', 'blank'): mapping['destination_type'] = 'local' else: # volume, snapshot mapping['destination_type'] = 'volume' if 'delete_on_termination' in mapping: if mapping['delete_on_termination'] not in ( 'remove', 'preserve', ): msg = _( 'The shutdown key of --block-device should be one of: ' 'remove, preserve' ) raise exceptions.CommandError(msg) mapping['delete_on_termination'] = ( mapping['delete_on_termination'] == 'remove' ) else: if mapping['destination_type'] == 'local': mapping['delete_on_termination'] = True _resolve_mapping_id(mapping) "," 'Create a block device on the server.\n' # Handle block device by device name order, like: vdb -> vdc -> vdd for mapping in parsed_args.block_device_mapping:",353,3
openstack%2Fpython-openstackclient~master~I2413b826385792a4f33ff70e75621b48de65c799,openstack/python-openstackclient,master,I2413b826385792a4f33ff70e75621b48de65c799,compute: Remove references to optional extensions,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 21:28:31.000000000,2021-03-04 21:28:31.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b8ab754020902ca7b63d6336049333f78184e132', 'message': 'compute: Remove references to optional extensions\n\nThis is no longer a thing in nova.\n\nChange-Id: I2413b826385792a4f33ff70e75621b48de65c799\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f2deabb136efdfca02a51b503f97cbb436ddfb45', 'message': 'compute: Remove references to optional extensions\n\nThis is no longer a thing in nova.\n\nChange-Id: I2413b826385792a4f33ff70e75621b48de65c799\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,771698,f2deabb136efdfca02a51b503f97cbb436ddfb45,9,2,2,15334,,,0,"compute: Remove references to optional extensions

This is no longer a thing in nova.

Change-Id: I2413b826385792a4f33ff70e75621b48de65c799
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/98/771698/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,b8ab754020902ca7b63d6336049333f78184e132,osc-first," help=_('Hints for the scheduler'),"," help=_('Hints for the scheduler (optional extension)'),",1,1
openstack%2Fpython-openstackclient~master~I450e429ade46a7103740150c90e3ba9f2894e1a5,openstack/python-openstackclient,master,I450e429ade46a7103740150c90e3ba9f2894e1a5,compute: Add missing 'server create' options,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 21:28:13.000000000,2021-03-04 21:28:13.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dfd1f430051b74b7a6ff22888d65c54e3dfb352a', 'message': ""compute: Add missing 'server create' options\n\nAdd some volume-related options, namely '--snapshot', '--swap', and\n'--ephemeral'. All are shortcuts to avoid having to use\n'--block-device-mapping'.\n\nChange-Id: I450e429ade46a7103740150c90e3ba9f2894e1a5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['releasenotes/notes/add-missing-server-create-opts-d5e32bd743e9e132.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4da4b96296c6b6d4351ebd47e32d5049a88211f1', 'message': ""compute: Add missing 'server create' options\n\nAdd some volume-related options, namely '--snapshot', '--swap', and\n'--ephemeral'. All are shortcuts to avoid having to use\n'--block-device-mapping'.\n\nChange-Id: I450e429ade46a7103740150c90e3ba9f2894e1a5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771697,4da4b96296c6b6d4351ebd47e32d5049a88211f1,9,2,2,15334,,,0,"compute: Add missing 'server create' options

Add some volume-related options, namely '--snapshot', '--swap', and
'--ephemeral'. All are shortcuts to avoid having to use
'--block-device-mapping'.

Change-Id: I450e429ade46a7103740150c90e3ba9f2894e1a5
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/97/771697/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-missing-server-create-opts-d5e32bd743e9e132.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,dfd1f430051b74b7a6ff22888d65c54e3dfb352a,osc-first," disk_group.add_argument( '--snapshot', metavar='<snapshot>', help=_( 'Create server using this snapshot as the boot disk (name or ' 'ID)\n' 'This option automatically creates a block device mapping ' 'with a boot index of 0. On many hypervisors (libvirt/kvm ' 'for example) this will be device vda. Do not create a ' 'duplicate mapping using --block-device-mapping for this ' 'volume.' ), ) 'mutually exclusive with the ``--volume`` and ``--snapshot`` ' 'options.' '--swap', metavar='<swap>', type=int, help=( ""Create and attach a local swap block device of <swap_size> "" ""MiB."" ), ) parser.add_argument( '--ephemeral', metavar='<size=size[,format=format]>', action=parseractions.MultiKeyValueAction, dest='ephemerals', default=[], required_keys=['size'], optional_keys=['format'], help=( ""Create and attach a local ephemeral block device of <size> "" ""GiB and format it to <format>."" ), ) parser.add_argument( help=_( 'Select an availability zone for the server. ' 'Host and node are optional parameters. ' 'Availability zone in the format ' '<zone-name>:<host-name>:<node-name>, ' '<zone-name>::<node-name>, <zone-name>:<host-name> ' 'or <zone-name>' ), parser.add_argument( '--wait', action='store_true', help=_('Wait for build to complete'), ) snapshot = None if parsed_args.snapshot: # --snapshot and --boot-from-volume are mutually exclusive. if parsed_args.boot_from_volume: msg = _('--snapshot is not allowed with --boot-from-volume') raise exceptions.CommandError(msg) snapshot = utils.find_resource( volume_client.volume_snapshots, parsed_args.snapshot, ).id elif snapshot: block_device_mapping_v2 = [{ 'uuid': snapshot, 'boot_index': '0', 'source_type': 'snapshot', 'destination_type': 'volume', 'delete_on_termination': False }] if parsed_args.swap: block_device_mapping_v2.append({ 'boot_index': -1, 'source_type': 'blank', 'destination_type': 'local', 'guest_format': 'swap', 'volume_size': parsed_args.swap, 'delete_on_termination': True, }) for mapping in parsed_args.ephemerals: block_device_mapping_dict = { 'boot_index': -1, 'source_type': 'blank', 'destination_type': 'local', 'delete_on_termination': True, 'volume_size': mapping['size'], } if 'format' in mapping: block_device_mapping_dict['guest_format'] = mapping['format'] block_device_mapping_v2.append(block_device_mapping_dict) "," 'mutually exclusive with the ``--volume`` option.' help=_('Select an availability zone for the server. ' 'Host and node are optional parameters. ' 'Availability zone in the format ' '<zone-name>:<host-name>:<node-name>, ' '<zone-name>::<node-name>, <zone-name>:<host-name> ' 'or <zone-name>'), '--wait', action='store_true', help=_('Wait for build to complete'), ) parser.add_argument( # Lookup parsed_args.volume # Lookup parsed_args.flavor",335,14
openstack%2Foctavia~master~I29eeebb15a58cc54789edcb11c64ba47373cfb7b,openstack/octavia,master,I29eeebb15a58cc54789edcb11c64ba47373cfb7b,Update osutil support for SUSE distro,NEW,2018-02-07 17:22:18.000000000,2021-03-04 21:24:41.000000000,,"[{'_account_id': 1916}, {'_account_id': 6469}, {'_account_id': 6593}, {'_account_id': 6876}, {'_account_id': 7016}, {'_account_id': 7102}, {'_account_id': 11628}, {'_account_id': 13404}, {'_account_id': 14892}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22595}, {'_account_id': 25623}]","[{'number': 1, 'created': '2018-02-07 17:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e39660463752a69d285b2df9c76b5cd8ca26802a', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 2, 'created': '2018-04-13 08:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/418139e5c967e9e1bd8ef0b914699f6d158b63b3', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 3, 'created': '2018-10-15 18:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c9e8a86623a54f67a2a69276f0ca6d52ceec1079', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 4, 'created': '2018-10-17 21:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/62e65b03325fd9504459dbceb2800876804a4f82', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 5, 'created': '2018-10-30 21:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/13e57f4b082cfd2feeb69f4d61c5e9c2c186f14d', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 6, 'created': '2019-02-21 17:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/29cef3d0961266fcb74d353f9415d5f434cf586e', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 7, 'created': '2019-02-26 04:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0a856c78af506d7ebc3040909009c97ac8c19b57', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 8, 'created': '2019-03-11 19:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/73d68274aae7c7e05820e795d2341bd0c66ea672', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 9, 'created': '2019-03-11 19:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b7c854f35b551d6f7889d07b7e20908ea813f854', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 10, 'created': '2019-08-19 18:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/eb41ab8aee2f810d2c05d7ec4d80381039b87ad8', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 11, 'created': '2019-08-21 19:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7aa928cebdb287b5ef63241ed25d6f47ac214c77', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 12, 'created': '2019-08-26 04:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/24309d11547caba580c6082836798b0f28ed0859', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n'}, {'number': 13, 'created': '2020-05-15 20:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/37898b49c0bfdcf326bdbfe76ea2d7e3e0f07dc3', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n(cherry picked from commit 24309d11547caba580c6082836798b0f28ed0859)\n'}, {'number': 14, 'created': '2020-05-18 19:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/97c1d22858741ec28def8c49addc58a09bb27473', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n(cherry picked from commit 24309d11547caba580c6082836798b0f28ed0859)\n'}, {'number': 15, 'created': '2020-05-18 22:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b00c45fc0f57c16565a23affa5067f75ad191301', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n(cherry picked from commit 24309d11547caba580c6082836798b0f28ed0859)\n'}, {'number': 16, 'created': '2020-05-19 18:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/257df2d8c2480cad8fb9b32d932ab411c8198f10', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n(cherry picked from commit 24309d11547caba580c6082836798b0f28ed0859)\n'}, {'number': 17, 'created': '2020-05-27 15:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a67989898a58f67b8ac015f3767a377f9f71d268', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n(cherry picked from commit 24309d11547caba580c6082836798b0f28ed0859)\n'}, {'number': 18, 'created': '2020-05-27 19:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/85ac768efef6892f27b476c3eae0f9fa50fa0ffd', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n(cherry picked from commit 24309d11547caba580c6082836798b0f28ed0859)\n'}, {'number': 19, 'created': '2020-06-05 14:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7ddf1cae2ea1785eb443964c74b6d41f3edd3dce', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n(cherry picked from commit 24309d11547caba580c6082836798b0f28ed0859)\n'}, {'number': 20, 'created': '2021-03-04 18:56:59.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/suse_route_ethX.conf.j2', 'octavia/common/constants.py', 'octavia/amphorae/backends/agent/api_server/templates/suse_plug_port_ethX.conf.j2', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/amphorae/backends/agent/api_server/templates/suse_plug_vip_ethX.conf.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/658911e1368e5edc7edc3d52c6ee2e359fbd746e', 'message': 'Update osutil support for SUSE distro\n\nProvide osutil support for SUSE distro to create networks\nin a SUSE distro based Amphora Image.\nThis is a generic patch that can support different SUSE\nflavors.\nThis patch will be the base patch and the diskimage builder\nand devstack related changes to include the elements to build\nthe required services will depend on this patch\n\nChange-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b\n(cherry picked from commit 24309d11547caba580c6082836798b0f28ed0859)\n'}]",35,541811,658911e1368e5edc7edc3d52c6ee2e359fbd746e,55,13,20,7016,,,0,"Update osutil support for SUSE distro

Provide osutil support for SUSE distro to create networks
in a SUSE distro based Amphora Image.
This is a generic patch that can support different SUSE
flavors.
This patch will be the base patch and the diskimage builder
and devstack related changes to include the elements to build
the required services will depend on this patch

Change-Id: I29eeebb15a58cc54789edcb11c64ba47373cfb7b
(cherry picked from commit 24309d11547caba580c6082836798b0f28ed0859)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/11/541811/20 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/suse_route_ethX.conf.j2', 'octavia/common/constants.py', 'octavia/amphorae/backends/agent/api_server/templates/suse_plug_port_ethX.conf.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/amphorae/backends/agent/api_server/templates/suse_plug_vip_ethX.conf.j2']",5,e39660463752a69d285b2df9c76b5cd8ca26802a,fix_osutils,"{# # Copyright 2018 SUSE LLC # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. #} # Generated by Octavia agent DEVICE=""{{ interface }}"" ONBOOT=""yes"" TYPE=""Ethernet"" USERCTL=""yes"" STARTMODE=""auto"" LINK_REQUIRED=""no"" {%- if vrrp_ip %} {%- if vrrp_ipv6 %} IPV6INIT=""yes"" IPV6_DEFROUTE=""yes"" IPV6_AUTOCONF=""no"" IPV6ADDR=""{{ vrrp_ip }}/{{ prefix }}"" {%- if gateway %} IPV6_DEFAULTGW=""{{ gateway }}"" {%- endif %} {%- if mtu %} IPV6_MTU=""{{ mtu }}"" {%- endif %} {%- else %} {# not vrrp_ipv6 #} BOOTPROTO=""static"" IPADDR=""{{ vrrp_ip }}"" NETMASK=""{{ netmask }}"" {%- if gateway %} GATEWAY=""{{ gateway }}"" {%- endif %} MTU=""{{ mtu }}"" LABEL_0=""0"" IPADDR_0=""{{ vip }}"" NETMASK_0=""{{ netmask }}"" {%- endif %} {# end if vrrp_ipv6 #} {%- else %} {# not vrrp_ip #} {%- if vip_ipv6 %} IPV6INIT=""yes"" IPV6_DEFROUTE=""yes"" IPV6_AUTOCONF=""yes"" {%- else %} BOOTPROTO=""dhcp"" {%- endif %} {# end if vip_ipv6 #} {%- endif %} {# end if vrrp_ip #} {%- if vip_ipv6 %} IPV6ADDR_SECONDARIES=""{{ vip }}/{{ prefix }}"" {%- endif %} ",,277,0
openstack%2Fzaqar-ui~master~I8e6d2b6ad228a98805bc1a4d7a171e8e6b76c312,openstack/zaqar-ui,master,I8e6d2b6ad228a98805bc1a4d7a171e8e6b76c312,Imported Translations from Zanata,MERGED,2021-03-03 08:37:05.000000000,2021-03-04 21:06:40.000000000,2021-03-04 21:04:19.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-03 08:37:05.000000000', 'files': ['zaqar_ui/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'zaqar_ui/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/6da23dd284e9307cdf1fed1bdfb0dc558beed753', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8e6d2b6ad228a98805bc1a4d7a171e8e6b76c312\n'}]",0,778385,6da23dd284e9307cdf1fed1bdfb0dc558beed753,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8e6d2b6ad228a98805bc1a4d7a171e8e6b76c312
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/85/778385/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar_ui/locale/zh_Hans/LC_MESSAGES/djangojs.po', 'zaqar_ui/locale/zh_Hans/LC_MESSAGES/django.po']",2,6da23dd284e9307cdf1fed1bdfb0dc558beed753,zanata/translations,"""POT-Creation-Date: 2021-02-16 08:30+0000\n""","""POT-Creation-Date: 2018-02-19 00:40+0000\n""",2,2
openstack%2Foctavia-tempest-plugin~master~Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007,openstack/octavia-tempest-plugin,master,Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007,Enable HTTPS on the test servers,MERGED,2020-10-27 23:16:00.000000000,2021-03-04 21:05:00.000000000,2021-03-04 21:03:42.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-10-27 23:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/908e31c4edcb5fda42b670328c9d2221a7757a43', 'message': 'Enable HTTPS on the test servers\n\nThis patch creates the required pki resources and enables HTTPS\non the test web servers. It sets up port 443 for regular HTTPS and\nport 9443 for HTTPS that will require a valid client certificate.\n\nChange-Id: Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007\nStory: 2003858\nTask: 41170\n'}, {'number': 2, 'created': '2020-10-28 14:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/238854811ec30379b982ded6aefdc62c053be0c9', 'message': 'Enable HTTPS on the test servers\n\nThis patch creates the required pki resources and enables HTTPS\non the test web servers. It sets up port 443 for regular HTTPS and\nport 9443 for HTTPS that will require a valid client certificate.\n\nChange-Id: Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007\nStory: 2003858\nTask: 41170\n'}, {'number': 3, 'created': '2020-10-28 22:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a19ea35b4d2fb7f5d71fccdbecfb61107d1ffc4f', 'message': 'Enable HTTPS on the test servers\n\nThis patch creates the required pki resources and enables HTTPS\non the test web servers. It sets up port 443 for regular HTTPS and\nport 9443 for HTTPS that will require a valid client certificate.\n\nChange-Id: Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007\nStory: 2003858\nTask: 41170\n'}, {'number': 4, 'created': '2020-12-07 19:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bd2215d86ad2fc73d23ad35ce61b62bbdb3c4110', 'message': 'Enable HTTPS on the test servers\n\nThis patch creates the required pki resources and enables HTTPS\non the test web servers. It sets up port 443 for regular HTTPS and\nport 9443 for HTTPS that will require a valid client certificate.\n\nChange-Id: Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007\nStory: 2003858\nTask: 41170\n'}, {'number': 5, 'created': '2021-02-25 00:36:07.000000000', 'files': ['octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/baf12e025c104c6f0da4521f741ba24ef8349269', 'message': 'Enable HTTPS on the test servers\n\nThis patch creates the required pki resources and enables HTTPS\non the test web servers. It sets up port 443 for regular HTTPS and\nport 9443 for HTTPS that will require a valid client certificate.\n\nChange-Id: Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007\nStory: 2003858\nTask: 41170\n'}]",9,759973,baf12e025c104c6f0da4521f741ba24ef8349269,35,5,5,11628,,,0,"Enable HTTPS on the test servers

This patch creates the required pki resources and enables HTTPS
on the test web servers. It sets up port 443 for regular HTTPS and
port 9443 for HTTPS that will require a valid client certificate.

Change-Id: Ib7cee4c8600fd1be4a9d7027d3ca1f413a0b1007
Story: 2003858
Task: 41170
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/73/759973/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/common/constants.py']",2,908e31c4edcb5fda42b670328c9d2221a7757a43,test-reencryption, # Paths inside the test webservers test_server_binary = '/dev/shm/test_server.bin' test_server_cert = '/dev/shm/cert.pem' test_server_key = '/dev/shm/key.pem' test_server_client_ca = '/dev/shm/client_ca.pem',,131,7
openstack%2Fzun-ui~master~I7f4003a71e4ba1df6f9ceaa539d85f834650f4fc,openstack/zun-ui,master,I7f4003a71e4ba1df6f9ceaa539d85f834650f4fc,Imported Translations from Zanata,MERGED,2021-03-03 08:42:39.000000000,2021-03-04 21:03:24.000000000,2021-03-04 21:01:22.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-03 08:42:39.000000000', 'files': ['zun_ui/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/aa4875f1218ff9f1cfa32640ccab28fe7b245410', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7f4003a71e4ba1df6f9ceaa539d85f834650f4fc\n'}]",0,778386,aa4875f1218ff9f1cfa32640ccab28fe7b245410,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7f4003a71e4ba1df6f9ceaa539d85f834650f4fc
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/86/778386/1 && git format-patch -1 --stdout FETCH_HEAD,['zun_ui/locale/zh_Hans/LC_MESSAGES/django.po'],1,aa4875f1218ff9f1cfa32640ccab28fe7b245410,zanata/translations,"""POT-Creation-Date: 2021-02-16 06:31+0000\n""","""POT-Creation-Date: 2019-04-27 16:02+0000\n""",1,1
openstack%2Ftripleo-common~master~I93b2c82e9451bd68955040f09ec9eb97db7c0098,openstack/tripleo-common,master,I93b2c82e9451bd68955040f09ec9eb97db7c0098,Convert AnsiblePlaybookAction to utility,MERGED,2021-03-01 09:42:39.000000000,2021-03-04 21:03:17.000000000,2021-03-04 21:01:35.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-01 09:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ef71e39eab5f7f4b9c74b6c39beed60817564a6c', 'message': 'Convert AnsiblePlaybookAction to utility\n\nNot used as mistral action as mistral has been\nremoved from undercloud.\n\nChange-Id: I93b2c82e9451bd68955040f09ec9eb97db7c0098\n'}, {'number': 2, 'created': '2021-03-01 11:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/541ffe2641122e9914aac56001c8a847816facdd', 'message': 'Convert AnsiblePlaybookAction to utility\n\nNot used as mistral action as mistral has been\nremoved from undercloud.\n\nChange-Id: I93b2c82e9451bd68955040f09ec9eb97db7c0098\n'}, {'number': 3, 'created': '2021-03-01 12:12:20.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/tests/actions/test_ansible.py', 'tripleo_common/utils/ansible.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/utils/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/50a24d529b38e0f717f77bb42a8c40a2a7a3b344', 'message': 'Convert AnsiblePlaybookAction to utility\n\nNot used as mistral action as mistral has been\nremoved from undercloud.\n\nChange-Id: I93b2c82e9451bd68955040f09ec9eb97db7c0098\n'}]",1,777951,50a24d529b38e0f717f77bb42a8c40a2a7a3b344,17,5,3,8833,,,0,"Convert AnsiblePlaybookAction to utility

Not used as mistral action as mistral has been
removed from undercloud.

Change-Id: I93b2c82e9451bd68955040f09ec9eb97db7c0098
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/777951/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/tests/actions/test_ansible.py', 'tripleo_common/utils/ansible.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/utils/test_ansible.py']",6,ef71e39eab5f7f4b9c74b6c39beed60817564a6c,mistral_lib_remove,"# Copyright 2017 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json import os from six.moves import configparser import shutil import sys import tempfile from unittest import mock from oslo_concurrency import processutils from tripleo_common.utils import ansible from tripleo_common.tests import base class AnsiblePlaybookTest(base.TestCase): def setUp(self): super(AnsiblePlaybookTest, self).setUp() self.limit_hosts = None self.remote_user = 'fido' self.become = True self.become_user = 'root' self.extra_vars = {""var1"": True, ""var2"": 0} self.verbosity = 2 self.ctx = mock.MagicMock() self.max_message_size = 1024 self.work_dir = tempfile.mkdtemp('tripleo-ansible') self.playbook = os.path.join(self.work_dir, ""playbook.yaml"") @mock.patch('tempfile.mkdtemp') @mock.patch(""tripleo_common.utils.ansible.write_default_ansible_cfg"") @mock.patch(""oslo_concurrency.processutils.execute"") def test_run(self, mock_execute, mock_write_cfg, mock_work_dir): mock_execute.return_value = ('', '') mock_work_dir.return_value = self.work_dir ansible_config_path = os.path.join(self.work_dir, 'ansible.cfg') mock_write_cfg.return_value = ansible_config_path ansible.run_ansible_playbook( playbook=self.playbook, limit_hosts=self.limit_hosts, remote_user=self.remote_user, become=self.become, become_user=self.become_user, extra_vars=self.extra_vars, verbosity=self.verbosity) mock_write_cfg.assert_called_once_with(self.work_dir, self.remote_user, ssh_private_key=None, override_ansible_cfg=None) pb = os.path.join(self.work_dir, 'playbook.yaml') env = { 'HOME': self.work_dir, 'ANSIBLE_LOCAL_TEMP': self.work_dir, 'ANSIBLE_CONFIG': ansible_config_path, 'ANSIBLE_CALLBACK_WHITELIST': 'tripleo_dense,tripleo_profile_tasks,tripleo_states', 'ANSIBLE_STDOUT_CALLBACK': 'tripleo_dense', 'PROFILE_TASKS_TASK_OUTPUT_LIMIT': '20', } python_version = sys.version_info.major ansible_playbook_cmd = 'ansible-playbook-{}'.format(python_version) mock_execute.assert_called_once_with( ansible_playbook_cmd, '-v', pb, '--become', '--become-user', self.become_user, '--extra-vars', json.dumps(self.extra_vars), env_variables=env, cwd=self.work_dir, log_errors=processutils.LogErrors.ALL) @mock.patch('tempfile.mkdtemp') @mock.patch(""tripleo_common.utils.ansible.write_default_ansible_cfg"") @mock.patch(""oslo_concurrency.processutils.execute"") def test_run_with_limit(self, mock_execute, mock_write_cfg, mock_work_dir): mock_execute.return_value = ('', '') mock_work_dir.return_value = self.work_dir ansible_config_path = os.path.join(self.work_dir, 'ansible.cfg') mock_write_cfg.return_value = ansible_config_path ansible.run_ansible_playbook( playbook=self.playbook, limit_hosts=['compute35'], blacklisted_hostnames=['compute21'], remote_user=self.remote_user, become=self.become, become_user=self.become_user, extra_vars=self.extra_vars, verbosity=self.verbosity) mock_write_cfg.assert_called_once_with(self.work_dir, self.remote_user, ssh_private_key=None, override_ansible_cfg=None) pb = os.path.join(self.work_dir, 'playbook.yaml') env = { 'HOME': self.work_dir, 'ANSIBLE_LOCAL_TEMP': self.work_dir, 'ANSIBLE_CONFIG': ansible_config_path, 'ANSIBLE_CALLBACK_WHITELIST': 'tripleo_dense,tripleo_profile_tasks,tripleo_states', 'ANSIBLE_STDOUT_CALLBACK': 'tripleo_dense', 'PROFILE_TASKS_TASK_OUTPUT_LIMIT': '20', } python_version = sys.version_info.major ansible_playbook_cmd = 'ansible-playbook-{}'.format(python_version) mock_execute.assert_called_once_with( ansible_playbook_cmd, '-v', pb, '--limit', ""['compute35']"", '--become', '--become-user', self.become_user, '--extra-vars', json.dumps(self.extra_vars), env_variables=env, cwd=self.work_dir, log_errors=processutils.LogErrors.ALL) @mock.patch('tempfile.mkdtemp') @mock.patch(""shutil.rmtree"") @mock.patch(""tripleo_common.utils.ansible.write_default_ansible_cfg"") @mock.patch(""oslo_concurrency.processutils.execute"") def test_work_dir_cleanup(self, mock_execute, mock_write_cfg, mock_rmtree, mock_work_dir): mock_execute.return_value = ('', '') mock_work_dir.return_value = self.work_dir ansible_config_path = os.path.join(self.work_dir, 'ansible.cfg') mock_write_cfg.return_value = ansible_config_path try: ansible.run_ansible_playbook( playbook=self.playbook, limit_hosts=self.limit_hosts, remote_user=self.remote_user, become=self.become, become_user=self.become_user, extra_vars=self.extra_vars, verbosity=0) mock_rmtree.assert_called_once_with(self.work_dir) finally: # Since we mocked the delete we need to manually cleanup. shutil.rmtree(self.work_dir) @mock.patch(""shutil.rmtree"") @mock.patch(""tripleo_common.utils.ansible.write_default_ansible_cfg"") @mock.patch(""oslo_concurrency.processutils.execute"") def test_work_dir_no_cleanup(self, mock_execute, mock_write_cfg, mock_rmtree): mock_execute.return_value = ('', '') # Specity a self.work_dir, this should not be deleted automatically. work_dir = tempfile.mkdtemp() ansible_config_path = os.path.join(work_dir, 'ansible.cfg') mock_write_cfg.return_value = ansible_config_path try: ansible.run_ansible_playbook( playbook=self.playbook, limit_hosts=self.limit_hosts, remote_user=self.remote_user, become=self.become, become_user=self.become_user, extra_vars=self.extra_vars, verbosity=self.verbosity, work_dir=work_dir) # verify the rmtree is not called mock_rmtree.assert_not_called() finally: shutil.rmtree(work_dir) class CopyConfigFileTest(base.TestCase): def test_copy_config_file(self): with tempfile.NamedTemporaryFile() as ansible_cfg_file: ansible_cfg_path = ansible_cfg_file.name work_dir = tempfile.mkdtemp(prefix='ansible-mistral-action-test') # Needed for the configparser to be able to read this file. ansible_cfg_file.write(b'[defaults]\n') ansible_cfg_file.write(b'[ssh_connection]\n') ansible_cfg_file.flush() resulting_ansible_config = ansible.write_default_ansible_cfg( work_dir, None, None, None, base_ansible_cfg=ansible_cfg_path) self.assertEqual(resulting_ansible_config, os.path.join(work_dir, 'ansible.cfg')) config = configparser.ConfigParser() config.read(resulting_ansible_config) retry_files_enabled = config.get('defaults', 'retry_files_enabled') self.assertEqual(retry_files_enabled, 'False') log_path = config.get('defaults', 'log_path') self.assertEqual(log_path, os.path.join(work_dir, 'ansible.log')) def test_override_ansible_cfg(self): with tempfile.NamedTemporaryFile() as ansible_cfg_file: ansible_cfg_path = ansible_cfg_file.name work_dir = tempfile.mkdtemp(prefix='ansible-mistral-action-test') # Needed for the configparser to be able to read this file. ansible_cfg_file.write(b'[defaults]\n') ansible_cfg_file.write(b'[ssh_connection]\n') ansible_cfg_file.flush() override_ansible_cfg = ( ""[defaults]\n"" ""forks=10\n"" ""[ssh_connection]\n"" ""custom_option=custom_value\n"" ) resulting_ansible_config = ansible.write_default_ansible_cfg( work_dir, None, None, None, base_ansible_cfg=ansible_cfg_path, override_ansible_cfg=override_ansible_cfg) ansible_cfg = configparser.ConfigParser() ansible_cfg.read(resulting_ansible_config) self.assertEqual('10', ansible_cfg.get('defaults', 'forks')) self.assertEqual('custom_value', ansible_cfg.get('ssh_connection', 'custom_option')) @mock.patch(""multiprocessing.cpu_count"") def test_override_ansible_cfg_empty(self, cpu_count): with tempfile.NamedTemporaryFile() as ansible_cfg_file: ansible_cfg_path = ansible_cfg_file.name work_dir = tempfile.mkdtemp(prefix='ansible-mistral-action-test') # Needed for the configparser to be able to read this file. ansible_cfg_file.write(b'[defaults]\n') ansible_cfg_file.write(b'[ssh_connection]\n') ansible_cfg_file.flush() cpu_count.return_value = 4 override_ansible_cfg = """" resulting_ansible_config = ansible.write_default_ansible_cfg( work_dir, None, None, base_ansible_cfg=ansible_cfg_path, override_ansible_cfg=override_ansible_cfg) ansible_cfg = configparser.ConfigParser() ansible_cfg.read(resulting_ansible_config) self.assertEqual('16', ansible_cfg.get('defaults', 'forks')) ",,643,897
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0c509370332797fe563804b0ddb8f1a5d4742994,openstack/tripleo-heat-templates,stable/train,I0c509370332797fe563804b0ddb8f1a5d4742994,Remove tripleo_transfer cleanup.yml reference,MERGED,2021-03-04 11:42:29.000000000,2021-03-04 21:01:55.000000000,2021-03-04 21:01:55.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 11:42:29.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/526791d6c60edab16e1b909f30a6c234e01cddec', 'message': 'Remove tripleo_transfer cleanup.yml reference\n\nWith the changes in https://review.opendev.org/771657\nthis cleanup task file no longer exists. The cleanup\nis done within the role automatically via a block/rescue.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\nNeeded-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n\nChange-Id: I0c509370332797fe563804b0ddb8f1a5d4742994\n(cherry picked from commit 0f081b4f8032f1cd00f7f653d0a0614d09f4cb61)\n'}]",0,778650,526791d6c60edab16e1b909f30a6c234e01cddec,8,4,1,6816,,,0,"Remove tripleo_transfer cleanup.yml reference

With the changes in https://review.opendev.org/771657
this cleanup task file no longer exists. The cleanup
is done within the role automatically via a block/rescue.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162
Needed-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f

Change-Id: I0c509370332797fe563804b0ddb8f1a5d4742994
(cherry picked from commit 0f081b4f8032f1cd00f7f653d0a0614d09f4cb61)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/778650/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,526791d6c60edab16e1b909f30a6c234e01cddec,bz/1916162-stable/train,, - name: cleanup tripleo_transfer include_role: name: tripleo-transfer tasks_from: cleanup.yml,0,4
openstack%2Fheat-dashboard~master~Idc5ac8abf4dbcff02ea8bf3f9d3ece653b0b33e2,openstack/heat-dashboard,master,Idc5ac8abf4dbcff02ea8bf3f9d3ece653b0b33e2,Imported Translations from Zanata,MERGED,2021-03-03 06:44:32.000000000,2021-03-04 21:01:26.000000000,2021-03-04 20:59:51.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-03 06:44:32.000000000', 'files': ['heat_dashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'heat_dashboard/locale/zh_Hant/LC_MESSAGES/django.po', 'heat_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/15b787ec6abfd7c861ac302e7b1f674aac236177', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Idc5ac8abf4dbcff02ea8bf3f9d3ece653b0b33e2\n'}]",0,778364,15b787ec6abfd7c861ac302e7b1f674aac236177,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Idc5ac8abf4dbcff02ea8bf3f9d3ece653b0b33e2
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/64/778364/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_dashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'heat_dashboard/locale/zh_Hant/LC_MESSAGES/django.po', 'heat_dashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po']",3,15b787ec6abfd7c861ac302e7b1f674aac236177,zanata/translations,"""POT-Creation-Date: 2020-12-23 15:26+0000\n""","""POT-Creation-Date: 2019-03-18 17:15+0000\n""",3,3
openstack%2Fmurano-dashboard~master~I3531c2c0c6fbdc102169c1f9451a858b8c601151,openstack/murano-dashboard,master,I3531c2c0c6fbdc102169c1f9451a858b8c601151,Imported Translations from Zanata,MERGED,2021-03-03 07:08:35.000000000,2021-03-04 20:59:41.000000000,2021-03-04 20:59:41.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-03 07:08:35.000000000', 'files': ['muranodashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'muranodashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/dd78672b3f45b802efc4af2569ceb11e4abdd1ba', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3531c2c0c6fbdc102169c1f9451a858b8c601151\n'}]",0,778372,dd78672b3f45b802efc4af2569ceb11e4abdd1ba,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3531c2c0c6fbdc102169c1f9451a858b8c601151
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/72/778372/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/locale/zh_Hans/LC_MESSAGES/django.po', 'muranodashboard/locale/zh_Hans/LC_MESSAGES/djangojs.po']",2,dd78672b3f45b802efc4af2569ceb11e4abdd1ba,zanata/translations,"""POT-Creation-Date: 2021-02-07 02:47+0000\n""","""POT-Creation-Date: 2018-02-13 04:35+0000\n""",2,2
openstack%2Fmagnum-ui~master~I49e34dc63146ed630368d7da02cd696b566f0a29,openstack/magnum-ui,master,I49e34dc63146ed630368d7da02cd696b566f0a29,Imported Translations from Zanata,MERGED,2021-03-03 06:55:57.000000000,2021-03-04 20:56:04.000000000,2021-03-04 20:54:36.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-03 06:55:57.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/zh_Hans/LC_MESSAGES/django.po', 'magnum_ui/locale/zh_Hans/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/e5518874c224dc76d3c6ff9f96f1c7f3cda3ce0a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I49e34dc63146ed630368d7da02cd696b566f0a29\n'}]",0,778369,e5518874c224dc76d3c6ff9f96f1c7f3cda3ce0a,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I49e34dc63146ed630368d7da02cd696b566f0a29
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/69/778369/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/zh_Hans/LC_MESSAGES/django.po', 'magnum_ui/locale/zh_Hans/LC_MESSAGES/djangojs.po']",3,e5518874c224dc76d3c6ff9f96f1c7f3cda3ce0a,zanata/translations,"""POT-Creation-Date: 2021-02-17 01:05+0000\n""","""POT-Creation-Date: 2020-04-02 03:39+0000\n""",3,6
openstack%2Fbarbican~stable%2Fvictoria~Iad2e2f56e4cd71f371c760eef85cb121ef1438fe,openstack/barbican,stable/victoria,Iad2e2f56e4cd71f371c760eef85cb121ef1438fe,Fix hacking min version to 3.0.1,ABANDONED,2021-03-03 17:44:58.000000000,2021-03-04 20:42:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-03 17:44:58.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/d1657580995f487e80fc4f9a2a57cda8c7ec8a33', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Iad2e2f56e4cd71f371c760eef85cb121ef1438fe\n(cherry picked from commit dbda8ecbe3c4bedc1d6d89d850a8a574603e244a)\n'}]",0,778520,d1657580995f487e80fc4f9a2a57cda8c7ec8a33,3,2,1,7973,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Iad2e2f56e4cd71f371c760eef85cb121ef1438fe
(cherry picked from commit dbda8ecbe3c4bedc1d6d89d850a8a574603e244a)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/20/778520/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d1657580995f487e80fc4f9a2a57cda8c7ec8a33,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fbarbican~stable%2Fvictoria~I57b0e2e5c82faa4bed9c177f789ff50ae7188f53,openstack/barbican,stable/victoria,I57b0e2e5c82faa4bed9c177f789ff50ae7188f53,Use a newer version of hacking,ABANDONED,2021-03-04 19:51:24.000000000,2021-03-04 20:41:59.000000000,,[],"[{'number': 1, 'created': '2021-03-04 19:51:24.000000000', 'files': ['test-requirements.txt', 'barbican/cmd/retry_scheduler.py', 'functionaltests/api/v1/functional/test_containers.py', 'barbican/cmd/db_manage.py', 'barbican/cmd/pkcs11_kek_rewrap.py', 'barbican/common/utils.py', 'barbican/cmd/keystone_listener.py', 'barbican/model/migration/alembic_migrations/versions/0f8c192a061f_add_secret_consumers.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/model/repositories.py', 'barbican/model/clean.py', 'barbican/plugin/snakeoil_ca.py', 'barbican/model/migration/alembic_migrations/versions/39cf2e645cba_ocata_rebase.py', 'barbican/cmd/worker.py', 'barbican/common/config.py', 'barbican/plugin/dogtag.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/03136fad09b23d46f7a30685e8d672c39afe8c0a', 'message': ""Use a newer version of hacking\n\nThis patch raises the hacking version cap to fix a pip resolution issue\nthat is breaking the stable gates.\n\nMost changes are # noqa: XXXX additions for the new issues that are\nbeing raised by the newer version of hacking.  We'll fix these\neventually in the master branch.\n\nChange-Id: I57b0e2e5c82faa4bed9c177f789ff50ae7188f53\n""}]",0,778770,03136fad09b23d46f7a30685e8d672c39afe8c0a,2,0,1,7973,,,0,"Use a newer version of hacking

This patch raises the hacking version cap to fix a pip resolution issue
that is breaking the stable gates.

Most changes are # noqa: XXXX additions for the new issues that are
being raised by the newer version of hacking.  We'll fix these
eventually in the master branch.

Change-Id: I57b0e2e5c82faa4bed9c177f789ff50ae7188f53
",git fetch https://review.opendev.org/openstack/barbican refs/changes/70/778770/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'barbican/cmd/retry_scheduler.py', 'functionaltests/api/v1/functional/test_containers.py', 'barbican/cmd/db_manage.py', 'barbican/cmd/pkcs11_kek_rewrap.py', 'barbican/common/utils.py', 'barbican/cmd/keystone_listener.py', 'barbican/model/migration/alembic_migrations/versions/0f8c192a061f_add_secret_consumers.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/model/repositories.py', 'barbican/model/clean.py', 'barbican/plugin/snakeoil_ca.py', 'barbican/model/migration/alembic_migrations/versions/39cf2e645cba_ocata_rebase.py', 'barbican/cmd/worker.py', 'barbican/common/config.py', 'barbican/plugin/dogtag.py']",16,03136fad09b23d46f7a30685e8d672c39afe8c0a,,import pki.cert # noqa: E402 import pki.client # noqa: E402 import pki.crypto as cryptoutil # noqa: E402 import pki.key as key # noqa: E402 import pki.kra # noqa: E402 import pki.profile # noqa: E402 from requests import exceptions as request_exceptions # noqa: E402 import six # noqa: E402 from barbican.common import exception # noqa: E402 from barbican.common import utils # noqa: E402 from barbican import i18n as u # noqa: E402import barbican.plugin.dogtag_config_opts # noqa: E402 import barbican.plugin.interface.certificate_manager as cm # noqa: E402 import barbican.plugin.interface.secret_store as sstore # noqa: E402,import pki.cert import pki.client import pki.crypto as cryptoutil import pki.key as key import pki.kra import pki.profile from requests import exceptions as request_exceptions import six from barbican.common import exception from barbican.common import utils from barbican import i18n as uimport barbican.plugin.dogtag_config_opts # noqa import barbican.plugin.interface.certificate_manager as cm import barbican.plugin.interface.secret_store as sstore,65,58
openstack%2Ftripleo-common~stable%2Ftrain~I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,openstack/tripleo-common,stable/train,I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,Handle containers without a namespace,MERGED,2021-02-11 14:17:38.000000000,2021-03-04 20:37:44.000000000,2021-03-04 20:36:19.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-11 14:17:38.000000000', 'files': ['tripleo_common/image/image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7d7a983caa44f08ff62c707b942ec186728e2506', 'message': 'Handle containers without a namespace\n\nSatellite server does not include a namespace when exposing containers.\nThis change fixes our image-serve metadata creation to understand this\nconcept and build the _catalog we provide correctly. We will only handle\ntwo types of containers path structures with the image-serve.\n\n   * host:port/namespace/container:tag\n   * host:port/container:tag\n\nChange-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775158\nCloses-Bug: #1913782\n(cherry picked from commit 7e797317a33a5c5881a1e24b9666ae774ca224c0)\n'}]",0,775107,7d7a983caa44f08ff62c707b942ec186728e2506,11,4,1,14985,,,0,"Handle containers without a namespace

Satellite server does not include a namespace when exposing containers.
This change fixes our image-serve metadata creation to understand this
concept and build the _catalog we provide correctly. We will only handle
two types of containers path structures with the image-serve.

   * host:port/namespace/container:tag
   * host:port/container:tag

Change-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775158
Closes-Bug: #1913782
(cherry picked from commit 7e797317a33a5c5881a1e24b9666ae774ca224c0)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/775107/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_export.py'],1,7d7a983caa44f08ff62c707b942ec186728e2506,bug/1913782-stable/train," metadata_set = set(['blobs', 'manifests', 'tags']) contents_set = set(os.listdir(namespace_path)) # handle containers with no namespaces if metadata_set.issubset(contents_set): catalog_entries.append(namespace) for image in list(contents_set - metadata_set):", for image in os.listdir(namespace_path):,6,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I0c509370332797fe563804b0ddb8f1a5d4742994,openstack/tripleo-heat-templates,stable/ussuri,I0c509370332797fe563804b0ddb8f1a5d4742994,Remove tripleo_transfer cleanup.yml reference,MERGED,2021-03-04 11:41:11.000000000,2021-03-04 20:36:27.000000000,2021-03-04 20:36:27.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 11:41:11.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f8d90c29453cc68f520840978d973b8b0a6f929', 'message': 'Remove tripleo_transfer cleanup.yml reference\n\nWith the changes in https://review.opendev.org/771657\nthis cleanup task file no longer exists. The cleanup\nis done within the role automatically via a block/rescue.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\nNeeded-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n\nChange-Id: I0c509370332797fe563804b0ddb8f1a5d4742994\n(cherry picked from commit 0f081b4f8032f1cd00f7f653d0a0614d09f4cb61)\n'}]",0,778649,1f8d90c29453cc68f520840978d973b8b0a6f929,8,4,1,6816,,,0,"Remove tripleo_transfer cleanup.yml reference

With the changes in https://review.opendev.org/771657
this cleanup task file no longer exists. The cleanup
is done within the role automatically via a block/rescue.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162
Needed-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f

Change-Id: I0c509370332797fe563804b0ddb8f1a5d4742994
(cherry picked from commit 0f081b4f8032f1cd00f7f653d0a0614d09f4cb61)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/778649/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,1f8d90c29453cc68f520840978d973b8b0a6f929,bz/1916162-stable/ussuri,, - name: cleanup tripleo_transfer include_role: name: tripleo_transfer tasks_from: cleanup.yml,0,4
openstack%2Ftripleo-common~stable%2Fussuri~I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,openstack/tripleo-common,stable/ussuri,I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad,Handle containers without a namespace,MERGED,2021-02-04 15:16:11.000000000,2021-03-04 20:29:08.000000000,2021-03-04 20:27:28.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-04 15:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4ef788798776abed9d691fd6b25b5289744d69aa', 'message': 'Handle containers without a namespace\n\nSatellite server does not include a namespace when exposing containers.\nThis change fixes our image-serve metadata creation to understand this\nconcept and build the _catalog we provide correctly. We will only handle\ntwo types of containers path structures with the image-serve.\n\n   * host:port/namespace/container:tag\n   * host:port/container:tag\n\nChange-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/773968\nCloses-Bug: #1913782\n'}, {'number': 2, 'created': '2021-02-11 14:17:13.000000000', 'files': ['tripleo_common/image/image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0193f55647d27a57f5c937e24afd757ba7c7eb77', 'message': 'Handle containers without a namespace\n\nSatellite server does not include a namespace when exposing containers.\nThis change fixes our image-serve metadata creation to understand this\nconcept and build the _catalog we provide correctly. We will only handle\ntwo types of containers path structures with the image-serve.\n\n   * host:port/namespace/container:tag\n   * host:port/container:tag\n\nChange-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/773968\nCloses-Bug: #1913782\n(cherry picked from commit 7e797317a33a5c5881a1e24b9666ae774ca224c0)\n'}]",0,773970,0193f55647d27a57f5c937e24afd757ba7c7eb77,14,4,2,14985,,,0,"Handle containers without a namespace

Satellite server does not include a namespace when exposing containers.
This change fixes our image-serve metadata creation to understand this
concept and build the _catalog we provide correctly. We will only handle
two types of containers path structures with the image-serve.

   * host:port/namespace/container:tag
   * host:port/container:tag

Change-Id: I259a0d5fcbae8f8a6bbeffa5fdb744d3291315ad
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/773968
Closes-Bug: #1913782
(cherry picked from commit 7e797317a33a5c5881a1e24b9666ae774ca224c0)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/773970/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_export.py'],1,4ef788798776abed9d691fd6b25b5289744d69aa,bug/1913782-stable/ussuri," metadata_set = set(['blobs', 'manifests', 'tags']) contents_set = set(os.listdir(namespace_path)) # handle containers with no namespaces if metadata_set.issubset(contents_set): catalog_entries.append(namespace) for image in list(contents_set - metadata_set):", for image in os.listdir(namespace_path):,6,1
openstack%2Fnova~master~Idc035671892e4668141a93763f8f2bed7a630812,openstack/nova,master,Idc035671892e4668141a93763f8f2bed7a630812,nova-manage: Add libvirt get_machine_type command,MERGED,2021-01-06 14:42:25.000000000,2021-03-04 20:19:01.000000000,2021-03-04 20:17:17.000000000,"[{'_account_id': 4393}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 14:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40a92544f10ef2afb6d0ce4e98cd126bc89440fd', 'message': 'WIP nova-manage: Add commands for managaing instance machine type\n\nThis change adds two new commands under a new libvirt category to\nnova-manage to help operators check, initially set and update in the\nfuture the machine type of an instance.\n\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 2, 'created': '2021-01-12 17:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d86a8d94eb9cc8a5d19024d6231ef7e0b08edeba', 'message': 'WIP nova-manage: Add commands for managing instance machine type\n\nThis change adds two new commands under a new libvirt category to\nnova-manage to help operators check, initially set and update in the\nfuture the machine type of an instance.\n\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 3, 'created': '2021-01-13 16:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53eb87171aa2da4952f7542b1aa713be2c824b53', 'message': 'WIP nova-manage: Add commands for managing instance machine type\n\nThis change adds two new commands under a new libvirt category to\nnova-manage to help operators check, initially set and update in the\nfuture the machine type of an instance.\n\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 4, 'created': '2021-02-04 13:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3759530ef2c551b85b24782e74c140bc704c83a7', 'message': 'WIP nova-manage: Add commands for managing instance machine type\n\nThis change adds two new commands under a new libvirt category to\nnova-manage to help operators check, initially set and update in the\nfuture the machine type of an instance.\n\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 5, 'created': '2021-02-04 14:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38f1cc346e4d9db5d47afd5223d1ec5101d9cdc1', 'message': 'WIP nova-manage: Add commands for managing instance machine type\n\nThis change adds two new commands under a new libvirt category to\nnova-manage to help operators check, initially set and update in the\nfuture the machine type of an instance.\n\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 6, 'created': '2021-02-08 15:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e62b4f95f8ac0ece7fde229a05d672a4da6843e', 'message': 'nova-manage: Add commands for managing instance machine type\n\nThis change adds two new commands under a new libvirt category to\nnova-manage to help operators check, initially set and update in the\nfuture the machine type of an instance.\n\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 7, 'created': '2021-02-10 16:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78822d6eae20eb376823f1f6a70d8d6d2407f0d4', 'message': 'nova-manage: Add machine_type get command\n\nThis change introduces the first `machine_type` command to nova-manage.\nA basic `get` command to fetch the current `hw_machine_type` image\nproperty value if set.\n\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 8, 'created': '2021-02-11 11:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/169bf6d1970f67426aadae65916ecd5decb18691', 'message': 'nova-manage: Add machine_type get command\n\nThis change introduces the first `machine_type` command to nova-manage.\nA basic `get` command to fetch the current `hw_machine_type` image\nproperty value if set.\n\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 9, 'created': '2021-02-11 15:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7160076b117288eefc958e69e57f8af9d0248d84', 'message': 'nova-manage: Add machine_type get command\n\nThis change introduces the first machine_type command to nova-manage to\nfetch and display the current machine type if set in the system metadata\nof the instance.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 10, 'created': '2021-02-15 13:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33f90b9a49f0c97b158bb59da8bf93914bc82192', 'message': 'nova-manage: Add machine_type get command\n\nThis change introduces the first machine_type command to nova-manage to\nfetch and display the current machine type if set in the system metadata\nof the instance.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 11, 'created': '2021-02-17 09:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/211caf454c31a59876b589e16a74247843e67cf6', 'message': 'nova-manage: Add machine_type get command\n\nThis change introduces the first machine_type command to nova-manage to\nfetch and display the current machine type if set in the system metadata\nof the instance.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 12, 'created': '2021-03-01 13:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42618111b678250e1a3aa3c7d823385ea0abfcdf', 'message': 'nova-manage: Add libvirt get_machine_type command\n\nThis change introduces the first machine_type command to nova-manage to\nfetch and display the current machine type if set in the system metadata\nof the instance.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}, {'number': 13, 'created': '2021-03-03 14:04:25.000000000', 'files': ['nova/virt/libvirt/machine_type_utils.py', 'nova/tests/functional/libvirt/test_machine_type.py', 'nova/tests/unit/cmd/test_manage.py', 'doc/source/cli/nova-manage.rst', 'mypy-files.txt', 'releasenotes/notes/libvirt-store-and-change-default-machine-type-bf86b4973c4dee4c.yaml', 'nova/cmd/manage.py', 'nova/tests/unit/virt/libvirt/test_machine_type_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/20692c245c64a85780db620f4148889ad867b911', 'message': 'nova-manage: Add libvirt get_machine_type command\n\nThis change introduces the first machine_type command to nova-manage to\nfetch and display the current machine type if set in the system metadata\nof the instance.\n\nblueprint: libvirt-default-machine-type\nChange-Id: Idc035671892e4668141a93763f8f2bed7a630812\n'}]",49,769548,20692c245c64a85780db620f4148889ad867b911,88,4,13,10135,,,0,"nova-manage: Add libvirt get_machine_type command

This change introduces the first machine_type command to nova-manage to
fetch and display the current machine type if set in the system metadata
of the instance.

blueprint: libvirt-default-machine-type
Change-Id: Idc035671892e4668141a93763f8f2bed7a630812
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/769548/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cmd/test_manage.py', 'releasenotes/notes/bp-libvirt-default-machine-type-738a017f977082b1.yaml', 'nova/cmd/manage.py']",3,40a92544f10ef2afb6d0ce4e98cd126bc89440fd,spec/libvirt-default-machine-type,"from nova.compute import vm_statesclass LibvirtCommands(object): """"""Commands for managing aspects of libvirt hosted instances"""""" def __init__(self): pass @action_description( _(""Fetch the stored machine type of the instance from the database."")) @args('--instance-uuid', metavar='<instance_uuid>', dest='instance_uuid', required=True, help='UUID of instance to fetch the machine type for') def get_machine_type(self, instance_uuid=None): """"""Fetch the stored machine type of the instance from the database. Return codes: * 0: Command completed successfully. * 1: An unexpected error happened during run. * 2: Unable to find instance or instance mapping. * 3: No machine type found for the instance. """""" ctxt = context.get_admin_context() try: im = objects.InstanceMapping.get_by_instance_uuid( ctxt, instance_uuid) with context.target_cell(ctxt, im.cell_mapping) as cctxt: instance = objects.instance.Instance.get_by_id( cctxt, instance_uuid, expected_attrs=['system_metadata']) if (instance.system_metadata and instance.system_metadata.get('hw_machine_type') ): print(_(instance.system_metadata.get('hw_machine_type'))) return 0 else: print(_('No machine type registered for instance %s' % instance_uuid)) return 3 except (exception.InstanceNotFound, exception.InstanceMappingNotFound) as e: print(_(str(e))) return 2 except Exception: LOG.exception('Unexpected error') return 1 def _update_machine_type(self, instance, machine_type): allowed_states = [vm_states.STOPPED, vm_states.SHELVED_OFFLOADED] if instance.vm_state not in allowed_states: print(_('Unable to change the machine type for instance %s while ' 'it has a vm_state of %s, has to be STOPPED or ' 'SHELVED_OFFLOADED.') % (instance.uuid, instance.vm_state)) return 3 # NOTE(lyarwood): If a machine type is already recorded ensure the # caller is not attempting to move between underlying machine types # without a full rebuild of the instance. # TODO(lyarwood): Add a --force param to allow this? existing_mtype = instance.system_metadata.get('hw_machine_type') if existing_mtype: for mtype in ['pc', 'i440fx', 'q35']: if mtype in existing_mtype and mtype not in machine_type: print(_(""Unable to update instance %(instance_uuid)s from "" ""machine type %(existing_machine_type)s to "" ""machine type %(machine_type)s. To do this please "" ""rebuild the instance after changing the "" ""[libvirt]/hw_machine_type config or by selecting "" ""an image to rebuild the instance with "" ""hw_machine_type=%(machine_type)s set as an image "" ""property."") % { 'instance_uuid': instance.uuid, 'existing_machine_type': existing_mtype, 'machine_type': machine_type, }) return 4 # TODO(lyarwood): Add some basic version validation here to stop # operators accidently moving to an older version print(_('Updating instance %s machine type from %s to %s') % ( instance.uuid, existing_mtype, machine_type)) else: print(_('Setting instance %s machine type to %s') % ( instance.uuid, machine_type)) instance.system_metadata['hw_machine_type'] = machine_type instance.save() return 0 @action_description( _(""Update the stored machine type of the instance in the database. "" ""This is only allowed for instances with a STOPPED or "" ""SHELVED_OFFLOADED vm_state."")) @args('--instance-uuid', metavar='<instance_uuid>', required=True, dest='instance_uuid', help='UUID of instance to update') @args('--machine_type', metavar='<machine_type>', required=True, dest='machine_type', help='Machine type to set') def update_machine_type(self, instance_uuid=None, machine_type=None): """"""Update the machine type of a given instance in the DB. Return codes: * 0: Command completed successfully. * 1: An unexpected error happened during run. * 2: Unable to find instance or instance mapping. * 3: Instance vm_state is not STOPPED or SHELVED_OFFLOADED. * 4: Unable to move between PC and Q35 machine types. """""" try: # Fetch the instance after targetting the cell it resides in ctxt = context.get_admin_context() im = objects.InstanceMapping.get_by_instance_uuid( ctxt, instance_uuid) with context.target_cell(ctxt, im.cell_mapping) as cctxt: instance = objects.instance.Instance.get_by_id( cctxt, instance_uuid, expected_attrs=['system_metadata']) # NOTE(lyarwood): Now that we have the cell targetted context # and instance record go ahead and update the machine type. return self._update_machine_type(instance, machine_type) except (exception.InstanceNotFound, exception.InstanceMappingNotFound) as e: print(_(str(e))) return 2 except Exception: LOG.exception('Unexpected error') return 1 'placement': PlacementCommands, 'libvirt': LibvirtCommands,", 'placement': PlacementCommands,410,1
openstack%2Fpython-tripleoclient~master~I3c0466aeed8cd7d2248c0d769b24821110a0e0a5,openstack/python-tripleoclient,master,I3c0466aeed8cd7d2248c0d769b24821110a0e0a5,Add new option for `setup-only`,MERGED,2021-01-27 14:42:00.000000000,2021-03-04 20:07:53.000000000,2021-03-04 20:06:24.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-01-27 14:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/15975e0479db678048bc78a678f9fb65d1d6d0ce', 'message': 'Add new option for `setup-only`\n\nThis change implements the ability to run all of the required setup\ntasks to enable manual playbook execution. When the option is invoked,\nthe following workflows will be run:\n\n* Generate the new Ansible content\n* Downlad the Ansible content\n* SSH key validation and application to overcloud nodes\n\nThis new option allows us to retain the current logic of stack-only\nwhich will ensure legacy workflows are not interupted while also\nenabling a more ansible centric user experience.\n\nrhbz: 1873246\nChange-Id: I3c0466aeed8cd7d2248c0d769b24821110a0e0a5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2021-01-27 19:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/03b08a173b51b92616d89b633e0409519cf838e3', 'message': 'Add new option for `setup-only`\n\nThis change implements the ability to run all of the required setup\ntasks to enable manual playbook execution. When the option is invoked,\nthe following workflows will be run:\n\n* Generate the new Ansible content\n* Downlad the Ansible content\n* SSH key validation and application to overcloud nodes\n\nThis new option allows us to retain the current logic of stack-only\nwhich will ensure legacy workflows are not interupted while also\nenabling a more ansible centric user experience.\n\nrhbz: 1873246\nChange-Id: I3c0466aeed8cd7d2248c0d769b24821110a0e0a5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2021-01-28 18:49:59.000000000', 'files': ['releasenotes/notes/config-download-setup-only-1423abc46b294939.yaml', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/be580c669065c59789601f28bfbaee8318e67c0d', 'message': 'Add new option for `setup-only`\n\nThis change implements the ability to run all of the required setup\ntasks to enable manual playbook execution. When the option is invoked,\nthe following workflows will be run:\n\n* Generate the new Ansible content\n* Downlad the Ansible content\n* SSH key validation and application to overcloud nodes\n\nThis new option allows us to retain the current logic of stack-only\nwhich will ensure legacy workflows are not interupted while also\nenabling a more ansible centric user experience.\n\nrhbz: 1873246\nChange-Id: I3c0466aeed8cd7d2248c0d769b24821110a0e0a5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",8,772701,be580c669065c59789601f28bfbaee8318e67c0d,21,7,3,7353,,,0,"Add new option for `setup-only`

This change implements the ability to run all of the required setup
tasks to enable manual playbook execution. When the option is invoked,
the following workflows will be run:

* Generate the new Ansible content
* Downlad the Ansible content
* SSH key validation and application to overcloud nodes

This new option allows us to retain the current logic of stack-only
which will ensure legacy workflows are not interupted while also
enabling a more ansible centric user experience.

rhbz: 1873246
Change-Id: I3c0466aeed8cd7d2248c0d769b24821110a0e0a5
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/01/772701/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/config-download-setup-only-1423abc46b294939.yaml', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",4,15975e0479db678048bc78a678f9fb65d1d6d0ce,,"from tripleoclient.v1 import overcloud_config '--setup-only', action='store_true', default=False, help=_('option will automate the setup and download steps ' 'required to prepare the environment for manual ' 'ansible execution.') ) parser.add_argument( '--config-dir', dest='config_dir', default=os.path.join( constants.CLOUD_HOME_DIR, 'tripleo-config' ), help=_('The directory where the configuration files will be ' 'pushed'), ) parser.add_argument( '--config-type', dest='config_type', type=list, default=None, help=_('Only used when ""--setup-only"" is invoked. ' 'Type of object config to be extract from the deployment, ' 'defaults to all keys available'), ) parser.add_argument( '--no-preserve-config', dest='preserve_config_dir', action='store_false', default=True, help=('Only used when ""--setup-only"" is invoked. ' 'If specified, will delete and recreate the --config-dir ' 'if it already exists. Default is to use the existing dir ' 'location and overwrite files. Files in --config-dir not ' 'from the stack will be preserved by default.') ) parser.add_argument( help=_('Only used when ""--setup-only"" is invoked. ' 'Directory to use for saved output when using ' if parsed_args.config_download or parsed_args.setup_only: if not parsed_args.config_download_only and \ not parsed_args.setup_only: forks=parsed_args.ansible_forks, setup_only=parsed_args.setup_only if parsed_args.setup_only: # Download config config_dir = os.path.abspath(parsed_args.config_dir) config_type = parsed_args.config_type preserve_config_dir = parsed_args.preserve_config_dir extra_vars = { 'plan': stack.stack_name, 'config_dir': config_dir, 'preserve_config': preserve_config_dir } if parsed_args.config_type: extra_vars['config_type'] = config_type with utils.TempDirs() as tmp: utils.run_ansible_playbook( playbook='cli-config-download-export.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=utils.playbook_verbosity(self=self), extra_vars=extra_vars ) # Run admin authorize deployment.get_hosts_and_enable_ssh_admin( stack, parsed_args.overcloud_ssh_network, parsed_args.overcloud_ssh_user, self.get_key_pair(parsed_args), parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self) ) ", help=_('Directory to use for saved output when using ' if parsed_args.config_download: if not parsed_args.config_download_only: forks=parsed_args.ansible_forks,141,7
openstack%2Foctavia~stable%2Fussuri~I4531ff80ac82a61e527c024101e0785d49aa135b,openstack/octavia,stable/ussuri,I4531ff80ac82a61e527c024101e0785d49aa135b,Fix amphora image build,MERGED,2021-03-04 13:19:02.000000000,2021-03-04 20:04:52.000000000,2021-03-04 20:03:09.000000000,"[{'_account_id': 1131}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-03-04 13:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0e001b2909102507acd759efc364104ffc768add', 'message': 'Fix amphora image build\n\nUpstream get-pip.sh recently introduced a regression where it does not\nwork well with Python <=3.5. DIB, upper-constrained at version 2.35.0 in\nrequirements/upper-constraints.txt, wants to install pip with Python 2,\nand that fails with with error message:\n\n  ""ERROR: This script does not work on Python 2.7 The minimum supported\n   Python version is 3.6.""\n\nSee attached story for more logging.\n\nTo work-around this issue on stable/ussuri, we have to make a\ncompromise: build amphora images using a >= 3.x DIB version. We could\neither pick a 3.x DIB released version or Git master branch. For\nconsistency with what was done in stable/stein and stable/train\nnot so long ago, we propose Git master branch.\n\nChange-Id: I4531ff80ac82a61e527c024101e0785d49aa135b\n'}, {'number': 2, 'created': '2021-03-04 14:08:24.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d4704d39fe95b2c2abf3f38752c0338a1fe5009', 'message': 'Fix amphora image build\n\nUpstream get-pip.sh recently introduced a regression where it does not\nwork well with Python <=3.5. DIB, upper-constrained at version 2.35.0 in\nrequirements/upper-constraints.txt, wants to install pip with Python 2,\nand that fails with with error message:\n\n  ""ERROR: This script does not work on Python 2.7 The minimum supported\n   Python version is 3.6.""\n\nSee attached story for more logging.\n\nTo work-around this issue on stable/ussuri, we have to make a\ncompromise: build amphora images using a >= 3.x DIB version. We could\neither pick a 3.x DIB released version or Git master branch. For\nconsistency with what was done in stable/stein and stable/train\nnot so long ago, we propose Git master branch.\n\nTask: 41991\nStory: 2008688\n\nChange-Id: I4531ff80ac82a61e527c024101e0785d49aa135b\n'}]",0,778675,9d4704d39fe95b2c2abf3f38752c0338a1fe5009,9,4,2,6469,,,0,"Fix amphora image build

Upstream get-pip.sh recently introduced a regression where it does not
work well with Python <=3.5. DIB, upper-constrained at version 2.35.0 in
requirements/upper-constraints.txt, wants to install pip with Python 2,
and that fails with with error message:

  ""ERROR: This script does not work on Python 2.7 The minimum supported
   Python version is 3.6.""

See attached story for more logging.

To work-around this issue on stable/ussuri, we have to make a
compromise: build amphora images using a >= 3.x DIB version. We could
either pick a 3.x DIB released version or Git master branch. For
consistency with what was done in stable/stein and stable/train
not so long ago, we propose Git master branch.

Task: 41991
Story: 2008688

Change-Id: I4531ff80ac82a61e527c024101e0785d49aa135b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/75/778675/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,0e001b2909102507acd759efc364104ffc768add,," # Build amphora image with master DIB in a Python 3 virtual environment ( DIB_VENV_DIR=$(mktemp -d) DIB_GIT_DIR=/tmp/dib-octavia python3 -m venv $DIB_VENV_DIR export USE_PYTHON3=True export PATH=$DIB_VENV_DIR/bin:$PATH if ! [ -d $DIB_GIT_DIR ]; then git clone ${GITREPO[""diskimage-builder""]} $DIB_GIT_DIR fi (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) | sed '/diskimage-builder/d' > $DIB_VENV_DIR/u-c.txt pip install -c $DIB_VENV_DIR/u-c.txt $DIB_GIT_DIR $OCTAVIA_DIR/diskimage-create/diskimage-create.sh -l ${dib_logs}/$(basename $OCTAVIA_AMP_IMAGE_FILE).log $octavia_dib_tracing_arg -o $OCTAVIA_AMP_IMAGE_FILE ${PARAM_OCTAVIA_AMP_BASE_OS:-} ${PARAM_OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID:-} ${PARAM_OCTAVIA_AMP_IMAGE_SIZE:-} )", $OCTAVIA_DIR/diskimage-create/diskimage-create.sh -l ${dib_logs}/$(basename $OCTAVIA_AMP_IMAGE_FILE).log $octavia_dib_tracing_arg -o $OCTAVIA_AMP_IMAGE_FILE ${PARAM_OCTAVIA_AMP_BASE_OS:-} ${PARAM_OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID:-} ${PARAM_OCTAVIA_AMP_IMAGE_SIZE:-},14,1
openstack%2Fpuppet-tripleo~master~I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9,openstack/puppet-tripleo,master,I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9,Disentangle broken bind configuration for tripleo config,ABANDONED,2021-03-03 15:06:20.000000000,2021-03-04 19:56:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 15:06:20.000000000', 'files': ['manifests/profile/base/designate/backend.pp', 'manifests/profile/base/designate.pp', 'manifests/profile/base/designate/worker.pp', 'manifests/profile/base/designate/central.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ce1de2b41e77e75c4e948eb8c4db7b109c4e4610', 'message': 'Disentangle broken bind configuration for tripleo config\n\nThe puppet module that was previously used for configuring bind and rndc\nfor designate was inappropriate for the task. This patch removes its execution.\n\nChange-Id: I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9\n'}]",0,778484,ce1de2b41e77e75c4e948eb8c4db7b109c4e4610,5,2,1,6681,,,0,"Disentangle broken bind configuration for tripleo config

The puppet module that was previously used for configuring bind and rndc
for designate was inappropriate for the task. This patch removes its execution.

Change-Id: I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/778484/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/designate/backend.pp', 'manifests/profile/base/designate.pp', 'manifests/profile/base/designate/worker.pp', 'manifests/profile/base/designate/central.pp']",4,ce1de2b41e77e75c4e948eb8c4db7b109c4e4610,designate,," if ($step == 5 and $sync_db) { exec { 'pool update': command => '/bin/designate-manage pool update', user => 'designate', } }",15,28
openstack%2Fopenstack-virtual-baremetal~master~Icf5c87ae1ab083a143a0f3f8a991426bb5433c37,openstack/openstack-virtual-baremetal,master,Icf5c87ae1ab083a143a0f3f8a991426bb5433c37,When private network is created suffix it with identifier,MERGED,2021-03-04 15:51:26.000000000,2021-03-04 19:51:40.000000000,2021-03-04 19:51:40.000000000,"[{'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-04 15:51:26.000000000', 'files': ['openstack_virtual_baremetal/deploy.py'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/02cdcbb7523d9219c1c2d52b989e1fbd6c128f85', 'message': ""When private network is created suffix it with identifier\n\nIt's needed when environments/create-private-network.yaml\nis used with ovb jobs where '--id' is used, in this\ncase each ovb env should have seperate private network\nwith different id.\n\nRelated-Change: https://review.rdoproject.org/r/#/c/32142/\n\nChange-Id: Icf5c87ae1ab083a143a0f3f8a991426bb5433c37\n""}]",0,778738,02cdcbb7523d9219c1c2d52b989e1fbd6c128f85,8,5,1,13861,,,0,"When private network is created suffix it with identifier

It's needed when environments/create-private-network.yaml
is used with ovb jobs where '--id' is used, in this
case each ovb env should have seperate private network
with different id.

Related-Change: https://review.rdoproject.org/r/#/c/32142/

Change-Id: Icf5c87ae1ab083a143a0f3f8a991426bb5433c37
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/38/778738/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_virtual_baremetal/deploy.py'],1,02cdcbb7523d9219c1c2d52b989e1fbd6c128f85,private_nw_support," priv_network = env_data['parameter_defaults'].get('private_net_cidr') if priv_network: _add_identifier(env_data, 'private_net', args.id, default='private')",,3,0
openstack%2Fnova~master~Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6,openstack/nova,master,Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6,libvirt: Parse the 'os' element from domainCapabilities,MERGED,2019-07-31 11:43:15.000000000,2021-03-04 19:46:20.000000000,2021-03-04 19:42:53.000000000,"[{'_account_id': 2394}, {'_account_id': 5754}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-31 11:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dcbe716f559cfe8126333c4ff2ae4ca2bb675ec', 'message': ""libvirt: Parse the 'os' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the 'firmware' and\n'loader' attributes from the 'os' element:\n\n    <os supported='yes'>\n      <enum name='firmware'>\n        <value>efi</value>\n      </enum>\n      <loader supported='yes'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name='type'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name='readonly'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name='secure'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Querying the 'firmware' bit for 'efi' lets us query whether libvirt\n    supports the firmware auto-selection feature.  (As advertized by\n    libvirt 5.4 or above.  Because this is too new, we're just defining\n    the XML config classes, _not_ adding it to the guest definition\n    yet.)\n\n  - Querying the 'loader' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nblueprint: allow-secure-boot-for-qemu-kvm-guests\n""}, {'number': 2, 'created': '2019-07-31 18:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65153b2b818c597157055a456a82a5c98e88a9bb', 'message': ""libvirt: Parse the 'os' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the 'firmware' and\n'loader' attributes from the 'os' element:\n\n    <os supported='yes'>\n      <enum name='firmware'>\n        <value>efi</value>\n      </enum>\n      <loader supported='yes'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name='type'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name='readonly'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name='secure'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Querying the 'firmware' bit for 'efi' lets us query whether libvirt\n    supports the firmware auto-selection feature.  (As advertized by\n    libvirt 5.4 or above.  Because this is too new, we're just defining\n    the XML config classes, _not_ adding it to the guest definition\n    yet.)\n\n  - Querying the 'loader' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nblueprint: allow-secure-boot-for-qemu-kvm-guests\n""}, {'number': 3, 'created': '2019-08-05 17:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30cf12856757a37208eb2f0fd29891e516424fa9', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the \'firmware\' and\n\'loader\' attributes from the \'os\' element:\n\n    <os supported=\'yes\'>\n      <enum name=\'firmware\'>\n        <value>efi</value>\n      </enum>\n      <loader supported=\'yes\'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name=\'type\'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name=\'readonly\'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name=\'secure\'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Checking for the presence of \'firmware\' ==  ""efi"" tells us if\n    libvirt supports the firmware auto-selection feature (as advertized\n    by libvirt 5.4 or above).  Note that this patch is merely _defining_\n    the XML config classes to query the getDomainCapabilities() API, not\n    adding it to the guest definition yet.\n\n  - Querying the \'loader\' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nblueprint: allow-secure-boot-for-qemu-kvm-guests\n'}, {'number': 4, 'created': '2019-08-05 19:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06f5afc1d6057d9228b84ff6744f16369be86873', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the \'firmware\' and\n\'loader\' attributes from the \'os\' element:\n\n    <os supported=\'yes\'>\n      <enum name=\'firmware\'>\n        <value>efi</value>\n      </enum>\n      <loader supported=\'yes\'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name=\'type\'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name=\'readonly\'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name=\'secure\'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Checking for the presence of \'firmware\' ==  ""efi"" tells us if\n    libvirt supports the firmware auto-selection feature (as advertized\n    by libvirt 5.4 or above).  Note that this patch is merely _defining_\n    the XML config classes to parse the results of the\n    getDomainCapabilities() API, not adding it to the guest definition\n    yet.\n\n  - Querying the \'loader\' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nblueprint: allow-secure-boot-for-qemu-kvm-guests\n'}, {'number': 5, 'created': '2019-08-21 14:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47cf881fcc2086890fa33f930cd6a57cd0b266fc', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the \'firmware\' and\n\'loader\' attributes from the \'os\' element:\n\n    <os supported=\'yes\'>\n      <enum name=\'firmware\'>\n        <value>efi</value>\n      </enum>\n      <loader supported=\'yes\'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name=\'type\'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name=\'readonly\'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name=\'secure\'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Checking for the presence of \'firmware\' ==  ""efi"" tells us if\n    libvirt supports the firmware auto-selection feature (as advertized\n    by libvirt 5.4 or above).  Note that this patch is merely _defining_\n    the XML config classes to parse the results of the\n    getDomainCapabilities() API, not adding it to the guest definition\n    yet.\n\n  - Querying the \'loader\' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nblueprint: allow-secure-boot-for-qemu-kvm-guests\n'}, {'number': 6, 'created': '2019-08-21 15:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c96bfb09fe11fec1768dbcebbb988407cf31d077', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the \'firmware\' and\n\'loader\' attributes from the \'os\' element:\n\n    <os supported=\'yes\'>\n      <enum name=\'firmware\'>\n        <value>efi</value>\n      </enum>\n      <loader supported=\'yes\'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name=\'type\'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name=\'readonly\'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name=\'secure\'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Checking for the presence of \'firmware\' ==  ""efi"" tells us if\n    libvirt supports the firmware auto-selection feature (as advertized\n    by libvirt 5.4 or above).  Note that this patch is merely _defining_\n    the XML config classes to parse the results of the\n    getDomainCapabilities() API, not adding it to the guest definition\n    yet.\n\n  - Querying the \'loader\' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nblueprint: allow-secure-boot-for-qemu-kvm-guests\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nCo-Authored-By: Adam Spiers <aspiers@suse.com>\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\n'}, {'number': 7, 'created': '2019-08-29 11:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/517619c344e590f99934dae7ec27b65cce1d67e2', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the \'firmware\' and\n\'loader\' attributes from the \'os\' element:\n\n    <os supported=\'yes\'>\n      <enum name=\'firmware\'>\n        <value>efi</value>\n      </enum>\n      <loader supported=\'yes\'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name=\'type\'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name=\'readonly\'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name=\'secure\'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Checking for the presence of \'firmware\' ==  ""efi"" tells us if\n    libvirt supports the firmware auto-selection feature (as advertized\n    by libvirt 5.4 or above).  Note that this patch is merely _defining_\n    the XML config classes to parse the results of the\n    getDomainCapabilities() API, not adding it to the guest definition\n    yet.\n\n  - Querying the \'loader\' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nblueprint: allow-secure-boot-for-qemu-kvm-guests\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nCo-Authored-By: Adam Spiers <aspiers@suse.com>\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\n'}, {'number': 8, 'created': '2019-08-29 12:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6d48121b91c212f1b1023846c093bfbbf5ac217', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the \'firmware\' and\n\'loader\' attributes from the \'os\' element:\n\n    <os supported=\'yes\'>\n      <enum name=\'firmware\'>\n        <value>efi</value>\n      </enum>\n      <loader supported=\'yes\'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name=\'type\'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name=\'readonly\'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name=\'secure\'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Checking for the presence of \'firmware\' ==  ""efi"" tells us if\n    libvirt supports the firmware auto-selection feature (as advertized\n    by libvirt 5.4 or above).  Note that this patch is merely _defining_\n    the XML config classes to parse the results of the\n    getDomainCapabilities() API, not adding it to the guest definition\n    yet.\n\n  - Querying the \'loader\' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nblueprint: allow-secure-boot-for-qemu-kvm-guests\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nCo-Authored-By: Adam Spiers <aspiers@suse.com>\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\n'}, {'number': 9, 'created': '2019-09-17 11:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea6993a284f2ba76d4ab0d5aff33c46085886a3c', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the \'firmware\' and\n\'loader\' attributes from the \'os\' element:\n\n    <os supported=\'yes\'>\n      <enum name=\'firmware\'>\n        <value>efi</value>\n      </enum>\n      <loader supported=\'yes\'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name=\'type\'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name=\'readonly\'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name=\'secure\'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Checking for the presence of \'firmware\' ==  ""efi"" tells us if\n    libvirt supports the firmware auto-selection feature (as advertized\n    by libvirt 5.4 or above).  Note that this patch is merely _defining_\n    the XML config classes to parse the results of the\n    getDomainCapabilities() API, not adding it to the guest definition\n    yet.\n\n  - Querying the \'loader\' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nblueprint: allow-secure-boot-for-qemu-kvm-guests\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nCo-Authored-By: Adam Spiers <aspiers@suse.com>\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\n'}, {'number': 10, 'created': '2020-03-04 16:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f0326ca53b17747e6a65ea1b381d6d0f71b29b3', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the \'firmware\' and\n\'loader\' attributes from the \'os\' element:\n\n    <os supported=\'yes\'>\n      <enum name=\'firmware\'>\n        <value>efi</value>\n      </enum>\n      <loader supported=\'yes\'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name=\'type\'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name=\'readonly\'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name=\'secure\'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Checking for the presence of \'firmware\' ==  ""efi"" tells us if\n    libvirt supports the firmware auto-selection feature (as advertized\n    by libvirt 5.4 or above).  Note that this patch is merely _defining_\n    the XML config classes to parse the results of the\n    getDomainCapabilities() API, not adding it to the guest definition\n    yet.\n\n  - Querying the \'loader\' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nblueprint: allow-secure-boot-for-qemu-kvm-guests\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nCo-Authored-By: Adam Spiers <aspiers@suse.com>\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\n'}, {'number': 11, 'created': '2021-01-06 15:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ee9028199faa0705577833368f2960683f53ddf', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the \'firmware\' and\n\'loader\' attributes from the \'os\' element:\n\n    <os supported=\'yes\'>\n      <enum name=\'firmware\'>\n        <value>efi</value>\n      </enum>\n      <loader supported=\'yes\'>\n        <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n        <enum name=\'type\'>\n          <value>rom</value>\n          <value>pflash</value>\n        </enum>\n        <enum name=\'readonly\'>\n          <value>yes</value>\n          <value>no</value>\n        </enum>\n        <enum name=\'secure\'>\n          <value>no</value>\n        </enum>\n      </loader>\n    </os>\n\nWhy?\n\n  - Checking for the presence of \'firmware\' ==  ""efi"" tells us if\n    libvirt supports the firmware auto-selection feature (as advertized\n    by libvirt 5.4 or above).  Note that this patch is merely _defining_\n    the XML config classes to parse the results of the\n    getDomainCapabilities() API, not adding it to the guest definition\n    yet.\n\n  - Querying the \'loader\' element from domainCapabilities to detect UEFI\n    support is much more robust than what Nova does today -- probing the\n    firmware binary paths (look at _has_uefi_support() in\n    libvirt/driver.py.)\n\nblueprint: allow-secure-boot-for-qemu-kvm-guests\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nCo-Authored-By: Adam Spiers <aspiers@suse.com>\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\n'}, {'number': 12, 'created': '2021-02-15 18:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddcc3fc0170750d9d99b502b2a7691d0984a11a4', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nExtend the LibvirtConfigDomainCaps() class to parse the \'firmware\' and\n\'loader\' attributes from the \'os\' element:\n\n  <os supported=\'yes\'>\n    <enum name=\'firmware\'>\n      <value>efi</value>\n    </enum>\n    <loader supported=\'yes\'>\n      <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n      <enum name=\'type\'>\n        <value>rom</value>\n        <value>pflash</value>\n      </enum>\n      <enum name=\'readonly\'>\n        <value>yes</value>\n        <value>no</value>\n      </enum>\n      <enum name=\'secure\'>\n        <value>no</value>\n      </enum>\n    </loader>\n  </os>\n\nWhy?\n\n- Checking for the presence of \'firmware\' ==  ""efi"" tells us if\n  libvirt supports the firmware auto-selection feature (as advertised\n  by libvirt 5.4 or above).  Note that this patch is merely _defining_\n  the XML config classes to parse the results of the\n  getDomainCapabilities() API, not adding it to the guest definition\n  yet.\n\n- Querying the \'loader\' element from domainCapabilities to detect UEFI\n  support is much more robust than what Nova does today -- probing the\n  firmware binary paths (\'_has_uefi_support()\' in \'libvirt/driver.py\')\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nCo-Authored-By: Adam Spiers <aspiers@suse.com>\n'}, {'number': 13, 'created': '2021-02-19 17:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d93f2c864ce7e0f040ebf10360bbe607444f3a5', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nThis is the host or ""domain capabilities"" side of the config changes.\nExtend the \'LibvirtConfigDomainCaps\' class to parse the \'firmware\' enum\nand \'loader\' element from the \'os\' element [1]:\n\n  <os supported=\'yes\'>\n    <enum name=\'firmware\'>\n      <value>efi</value>\n    </enum>\n    <loader supported=\'yes\'>\n      <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n      <value>/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd</value\n      <enum name=\'type\'>\n        <value>rom</value>\n        <value>pflash</value>\n      </enum>\n      <enum name=\'readonly\'>\n        <value>yes</value>\n        <value>no</value>\n      </enum>\n      <enum name=\'secure\'>\n        <value>yes</value>\n        <value>no</value>\n      </enum>\n    </loader>\n  </os>\n\nThis gives us two important features. Firstly, the various enums in the\n\'loader\' element give us information about the various guest bootloader\nfeatures supported by the host. This will allow us to detect, for\nexample, UEFI support in a much more robust manner than what nova does\ntoday, namely probing the firmware binary paths via \'_has_uefi_support\'\nin \'nova.virt.libvirt.driver\'.\n\nIn addition, the presence of \'efi\' in the \'firmware\' enum can tells us\nif libvirt supports the firmware auto-selection feature (as advertised\nby libvirt 5.3 or above [2]). Using this, as we\'ll do later, allows to\nreduce a typical guest bootloader config from something like:\n\n  <os>\n    <type arch=\'x86_64\' machine=\'pc-q35-5.1\'>hvm</type>\n    <loader readonly=\'yes\' secure=\'yes\' type=\'pflash\'>{path}</loader>\n    <nvram template=\'{path}\'>{path}</nvram>\n    <boot dev=\'hd\'/>\n  </os>\n\nTo simply:\n\n  <os firmware=\'efi\'>\n    <type machine=\'q35\'>hvm</type>\n    <loader secure=\'yes\'/>\n    <boot dev=\'hd\'/>\n  </os>\n\nNote that none of this goodness is actually used yet. That will come\nlater.\n\n[1] https://libvirt.org/formatdomaincaps.html#elementsOSBIOS\n[2] https://www.libvirt.org/news.html#v5-3-0-2019-05-04\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nCo-Authored-By: Adam Spiers <aspiers@suse.com>\n'}, {'number': 14, 'created': '2021-02-20 15:37:06.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/fake_libvirt_data.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4e23d93410be2f75e3cbeddc3269a7e205eb1935', 'message': 'libvirt: Parse the \'os\' element from domainCapabilities\n\nThis is the host or ""domain capabilities"" side of the config changes.\nExtend the \'LibvirtConfigDomainCaps\' class to parse the \'firmware\' enum\nand \'loader\' element from the \'os\' element [1]:\n\n  <os supported=\'yes\'>\n    <enum name=\'firmware\'>\n      <value>efi</value>\n    </enum>\n    <loader supported=\'yes\'>\n      <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>\n      <value>/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd</value\n      <enum name=\'type\'>\n        <value>rom</value>\n        <value>pflash</value>\n      </enum>\n      <enum name=\'readonly\'>\n        <value>yes</value>\n        <value>no</value>\n      </enum>\n      <enum name=\'secure\'>\n        <value>yes</value>\n        <value>no</value>\n      </enum>\n    </loader>\n  </os>\n\nThis gives us two important features. Firstly, the various enums in the\n\'loader\' element give us information about the various guest bootloader\nfeatures supported by the host. This will allow us to detect, for\nexample, UEFI support in a much more robust manner than what nova does\ntoday, namely probing the firmware binary paths via \'_has_uefi_support\'\nin \'nova.virt.libvirt.driver\'.\n\nIn addition, the presence of \'efi\' in the \'firmware\' enum can tells us\nif libvirt supports the firmware auto-selection feature (as advertised\nby libvirt 5.3 or above [2]). Using this, as we\'ll do later, allows to\nreduce a typical guest bootloader config from something like:\n\n  <os>\n    <type arch=\'x86_64\' machine=\'pc-q35-5.1\'>hvm</type>\n    <loader readonly=\'yes\' secure=\'yes\' type=\'pflash\'>{path}</loader>\n    <nvram template=\'{path}\'>{path}</nvram>\n    <boot dev=\'hd\'/>\n  </os>\n\nTo simply:\n\n  <os firmware=\'efi\'>\n    <type machine=\'q35\'>hvm</type>\n    <loader secure=\'yes\'/>\n    <boot dev=\'hd\'/>\n  </os>\n\nNote that none of this goodness is actually used yet. That will come\nlater.\n\n[1] https://libvirt.org/formatdomaincaps.html#elementsOSBIOS\n[2] https://www.libvirt.org/news.html#v5-3-0-2019-05-04\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nCo-Authored-By: Adam Spiers <aspiers@suse.com>\n'}]",48,673790,4e23d93410be2f75e3cbeddc3269a7e205eb1935,143,21,14,6962,,,0,"libvirt: Parse the 'os' element from domainCapabilities

This is the host or ""domain capabilities"" side of the config changes.
Extend the 'LibvirtConfigDomainCaps' class to parse the 'firmware' enum
and 'loader' element from the 'os' element [1]:

  <os supported='yes'>
    <enum name='firmware'>
      <value>efi</value>
    </enum>
    <loader supported='yes'>
      <value>/usr/share/edk2/ovmf/OVMF_CODE.fd</value>
      <value>/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd</value
      <enum name='type'>
        <value>rom</value>
        <value>pflash</value>
      </enum>
      <enum name='readonly'>
        <value>yes</value>
        <value>no</value>
      </enum>
      <enum name='secure'>
        <value>yes</value>
        <value>no</value>
      </enum>
    </loader>
  </os>

This gives us two important features. Firstly, the various enums in the
'loader' element give us information about the various guest bootloader
features supported by the host. This will allow us to detect, for
example, UEFI support in a much more robust manner than what nova does
today, namely probing the firmware binary paths via '_has_uefi_support'
in 'nova.virt.libvirt.driver'.

In addition, the presence of 'efi' in the 'firmware' enum can tells us
if libvirt supports the firmware auto-selection feature (as advertised
by libvirt 5.3 or above [2]). Using this, as we'll do later, allows to
reduce a typical guest bootloader config from something like:

  <os>
    <type arch='x86_64' machine='pc-q35-5.1'>hvm</type>
    <loader readonly='yes' secure='yes' type='pflash'>{path}</loader>
    <nvram template='{path}'>{path}</nvram>
    <boot dev='hd'/>
  </os>

To simply:

  <os firmware='efi'>
    <type machine='q35'>hvm</type>
    <loader secure='yes'/>
    <boot dev='hd'/>
  </os>

Note that none of this goodness is actually used yet. That will come
later.

[1] https://libvirt.org/formatdomaincaps.html#elementsOSBIOS
[2] https://www.libvirt.org/news.html#v5-3-0-2019-05-04

Blueprint: allow-secure-boot-for-qemu-kvm-guests
Change-Id: Ib331f0ba3615dfe25f51cd9c948c97ec21c146d6
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Co-Authored-By: Adam Spiers <aspiers@suse.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/673790/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/fake_libvirt_data.py']",3,9dcbe716f559cfe8126333c4ff2ae4ca2bb675ec,bp/allow-secure-boot-for-qemu-kvm-guests, <enum name='firmware'> <value>efi</value> </enum>,,79,0
openstack%2Fglance~master~I1785da0a791691c08b299e74c02b0c576477d88e,openstack/glance,master,I1785da0a791691c08b299e74c02b0c576477d88e,Cleanup remaining tenant terminology in glance API docs,MERGED,2021-02-12 00:07:31.000000000,2021-03-04 19:45:55.000000000,2021-03-04 19:43:32.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 00:07:31.000000000', 'files': ['doc/source/user/glanceapi.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/7d8aa54c753123c30ddfb5265977bb7f77fc2ea3', 'message': 'Cleanup remaining tenant terminology in glance API docs\n\nThis commit addresses follow-on concerns from:\n\n  https://review.opendev.org/c/openstack/glance/+/763920\n\nChange-Id: I1785da0a791691c08b299e74c02b0c576477d88e\n'}]",0,775299,7d8aa54c753123c30ddfb5265977bb7f77fc2ea3,9,3,1,5046,,,0,"Cleanup remaining tenant terminology in glance API docs

This commit addresses follow-on concerns from:

  https://review.opendev.org/c/openstack/glance/+/763920

Change-Id: I1785da0a791691c08b299e74c02b0c576477d88e
",git fetch https://review.opendev.org/openstack/glance refs/changes/99/775299/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/glanceapi.rst'],1,7d8aa54c753123c30ddfb5265977bb7f77fc2ea3,bp/deprecate-owner_is_tenant," Glance sets the owner of an image to be the project of theWe want to see a list of projects that may access a given virtual machine image that the Glance server knows about. We take the `uri` field of the image data, append ``/members`` to it, and issue a ``GET`` request on the resulting URL. {'member_id': 'project1',The `member_id` field identifies a project with which the image is shared. If that project is authorized to further share the image, the `can_share` field isWe want to see a list of images which are shared with a given project. We issue a ``GET`` request to ``http://glance.openstack.example.org/v1/shared-images/project1``. WeThe `image_id` field identifies an image shared with the project named by *member_id*. If the project is authorized to further share the image, theWe want to authorize a project to access a private image. We issue a ``PUT````http://glance.openstack.example.org/v1/images/71c675ab-d94f-49cd-a114-e12490b328d9/members/project1``.We want to revoke a project's right to access a private image. We issue a ``DELETE`` request to ``http://glance.openstack.example.org/v1/images/1/members/project1``. {'member_id': 'project1', where the {memberId} is the project ID of the image member. The {memberId} is the project ID of the image member."," Glance sets the owner of an image to be the tenant of theWe want to see a list of the other system tenants that may access a given virtual machine image that the Glance server knows about. We take the `uri` field of the image data, append ``/members`` to it, and issue a ``GET`` request on the resulting URL. {'member_id': 'tenant1',The `member_id` field identifies a tenant with which the image is shared. If that tenant is authorized to further share the image, the `can_share` field isWe want to see a list of images which are shared with a given tenant. We issue a ``GET`` request to ``http://glance.openstack.example.org/v1/shared-images/tenant1``. WeThe `image_id` field identifies an image shared with the tenant named by *member_id*. If the tenant is authorized to further share the image, theWe want to authorize a tenant to access a private image. We issue a ``PUT````http://glance.openstack.example.org/v1/images/71c675ab-d94f-49cd-a114-e12490b328d9/members/tenant1``.We want to revoke a tenant's right to access a private image. We issue a ``DELETE`` request to ``http://glance.openstack.example.org/v1/images/1/members/tenant1``. {'member_id': 'tenant1', where the {memberId} is the tenant ID of the image member. The {memberId} is the tenant ID of the image member.",18,19
openstack%2Felection~master~I6fb9f05411c11c54661c363c43e77e8fde4c1ffa,openstack/election,master,I6fb9f05411c11c54661c363c43e77e8fde4c1ffa,Adding Andrey Pavlov candidacy for ec2-api (Xena),MERGED,2021-03-04 12:20:46.000000000,2021-03-04 19:20:30.000000000,2021-03-04 19:16:14.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 12:20:46.000000000', 'files': ['candidates/xena/Ec2_Api/andrey.mp@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/dde2bbc32e1b868035004ccf88f974d105e5f636', 'message': 'Adding Andrey Pavlov candidacy for ec2-api (Xena)\n\nChange-Id: I6fb9f05411c11c54661c363c43e77e8fde4c1ffa\n'}]",0,778666,dde2bbc32e1b868035004ccf88f974d105e5f636,8,3,1,10234,,,0,"Adding Andrey Pavlov candidacy for ec2-api (Xena)

Change-Id: I6fb9f05411c11c54661c363c43e77e8fde4c1ffa
",git fetch https://review.opendev.org/openstack/election refs/changes/66/778666/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Ec2_Api/andrey.mp@gmail.com'],1,dde2bbc32e1b868035004ccf88f974d105e5f636,,"Hi all, I would like to continue to run for PTLship. Best regards, Andrey Pavlov. ",,6,0
openstack%2Felection~master~Icd1ae0747894d454e465b96deb268bb5a70e090e,openstack/election,master,Icd1ae0747894d454e465b96deb268bb5a70e090e,Adding Herv Beraud candidacy for Release Management PTL in X,MERGED,2021-03-04 09:01:18.000000000,2021-03-04 19:18:24.000000000,2021-03-04 19:16:10.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 09:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/95d81bb5810ac50608b84b2c93942d8de3bcf700', 'message': 'Adding Herv Beraud candidacy for Release Management PTL in X\n\nChange-Id: Icd1ae0747894d454e465b96deb268bb5a70e090e\n'}, {'number': 2, 'created': '2021-03-04 09:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/e229b53932a7c102e06c773b942cb8bbbb5b5e96', 'message': 'Adding Herv Beraud candidacy for Release Management PTL in X\n\nChange-Id: Icd1ae0747894d454e465b96deb268bb5a70e090e\n'}, {'number': 3, 'created': '2021-03-04 09:41:10.000000000', 'files': ['candidates/xena/Release_Management/herveberaud.pro@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/320f1cb1c51e625419810a1cc9a7bbb44acb4072', 'message': 'Adding Herv Beraud candidacy for Release Management PTL in X\n\nChange-Id: Icd1ae0747894d454e465b96deb268bb5a70e090e\n'}]",0,778623,320f1cb1c51e625419810a1cc9a7bbb44acb4072,14,3,3,28522,,,0,"Adding Herv Beraud candidacy for Release Management PTL in X

Change-Id: Icd1ae0747894d454e465b96deb268bb5a70e090e
",git fetch https://review.opendev.org/openstack/election refs/changes/23/778623/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Release_Management/hberaud@redhat.com'],1,95d81bb5810ac50608b84b2c93942d8de3bcf700,xena-hberaud,"Hello, I would like to continue serving as PTL for Release Management during the Xena cycle. Wallaby was my first PTL experience and itallowed me to deeply improve my knowledge about Openstack. I'd like to continue to work on growing the core team to constitute experienced team members to whom we could pass the torch. Anything we can do to help anyone to join the team and know what to do and how to do it will be better for us all. We have a lot of our processes mostly automated, but we also have few unfinished business from the Wallaby cycle. So as a PTL I have the intention to make the team focus on finishing these work. It has been an interesting, active and rewarding release cycle, and I am excited to continue learning and applying those lessons to keep things moving and looking for any ways I can add to the already great body of work we have in our release. I will be happy to do it if you give me the opportunity. Thanks for your consideration, Herv ",,23,0
openstack%2Fpython-cinderclient~master~Id3666ad874007b760e28295591eab5e64fdb0b7a,openstack/python-cinderclient,master,Id3666ad874007b760e28295591eab5e64fdb0b7a,Add location parameter to backup-create,ABANDONED,2021-03-04 19:08:19.000000000,2021-03-04 19:08:52.000000000,,[],"[{'number': 1, 'created': '2021-03-04 19:08:19.000000000', 'files': ['cinderclient/v3/shell.py', 'cinderclient/tests/unit/v2/test_volume_backups.py', 'cinderclient/v2/volume_backups.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/v2/shell.py', 'cinderclient/v3/volume_backups.py', 'cinderclient/tests/unit/v3/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b4fcf8062107509aec93d6373cc8c6af498745fa', 'message': 'Add location parameter to backup-create\n\nSigned-off-by: Daniel Pereira <Daniel.Pereira@windriver.com>\nChange-Id: Id3666ad874007b760e28295591eab5e64fdb0b7a\n'}]",0,778764,b4fcf8062107509aec93d6373cc8c6af498745fa,2,0,1,32618,,,0,"Add location parameter to backup-create

Signed-off-by: Daniel Pereira <Daniel.Pereira@windriver.com>
Change-Id: Id3666ad874007b760e28295591eab5e64fdb0b7a
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/64/778764/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/shell.py', 'cinderclient/tests/unit/v2/test_volume_backups.py', 'cinderclient/v2/volume_backups.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/v2/shell.py', 'cinderclient/v3/volume_backups.py', 'cinderclient/tests/unit/v3/test_shell.py']",7,b4fcf8062107509aec93d6373cc8c6af498745fa,CGTS-22920," 'location': None, }} self.assert_called('POST', '/backups', body=expected) def test_backup_with_location(self): self.run_command('--os-volume-api-version 3.42 backup-create ' '--name 1234 ' '--location 10.10.10.10:/exports/backups 1234') expected = {'backup': {'volume_id': 1234, 'container': None, 'name': '1234', 'description': None, 'incremental': False, 'force': False, 'snapshot_id': None, 'location': '10.10.10.10:/exports/backups', }} 'location': None, 'location': None,", }},54,14
openstack%2Fkolla~master~I066d747400ede30037ff324ad55430af7c35dc18,openstack/kolla,master,I066d747400ede30037ff324ad55430af7c35dc18,"Revert ""Fix error when github return 302""",MERGED,2021-03-04 14:51:08.000000000,2021-03-04 19:08:41.000000000,2021-03-04 19:06:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 32690}]","[{'number': 1, 'created': '2021-03-04 14:51:08.000000000', 'files': ['docker/zun/zun-cni-daemon/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-v2-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ec358f4cf7fa3af0b21b08302cf972ee5b307689', 'message': 'Revert ""Fix error when github return 302""\n\nThis reverts commit 61def281d077f88051d1b1a14dfdbfabac036c8c.\n\nReason for revert: --location was already in curlrc and it was unified in change I46b77978926fc2b578a68d1aaa944b2198af0685\n\nChange-Id: I066d747400ede30037ff324ad55430af7c35dc18\n'}]",0,778690,ec358f4cf7fa3af0b21b08302cf972ee5b307689,9,5,1,22629,,,0,"Revert ""Fix error when github return 302""

This reverts commit 61def281d077f88051d1b1a14dfdbfabac036c8c.

Reason for revert: --location was already in curlrc and it was unified in change I46b77978926fc2b578a68d1aaa944b2198af0685

Change-Id: I066d747400ede30037ff324ad55430af7c35dc18
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/778690/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/zun/zun-cni-daemon/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-v2-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2']",14,ec358f4cf7fa3af0b21b08302cf972ee5b307689,fix_curl_302,RUN curl -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,RUN curl -Lo /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,14,14
openstack%2Ftripleo-ansible~master~I3d429eade2c5da57c44b9c1dbc87340876aae2cb,openstack/tripleo-ansible,master,I3d429eade2c5da57c44b9c1dbc87340876aae2cb,[tripleo_transfer] Use synchronize rather than fetch,ABANDONED,2021-02-19 00:28:47.000000000,2021-03-04 19:06:22.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-19 00:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b34a81b20fe418ef8b26934115443ac00b774a57', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large o old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}, {'number': 2, 'created': '2021-02-19 00:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89face940b0f7e74addda4bf6c880621e7bf3055', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large o old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}, {'number': 3, 'created': '2021-02-19 00:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f527c7cca46af97110a9a151a148fb70b9eedf4', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\nA few test optimisations are included to make tests run just\na tiny bit faster.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}, {'number': 4, 'created': '2021-02-19 09:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b6bded4e953f71bf51ff506a9a6203c6b720d35a', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\nA few test optimisations are included to make tests run just\na tiny bit faster.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}, {'number': 5, 'created': '2021-02-19 11:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e0c9949fe2d61ac7a3463c0ad11809af8e816bb6', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\nA few test optimisations are included to make tests run just\na tiny bit faster.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}, {'number': 6, 'created': '2021-02-25 08:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b5e9d101d488892762dfca42502d06c2f4b9b397', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\nA few test optimisations are included to make tests run just\na tiny bit faster.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}, {'number': 7, 'created': '2021-02-25 08:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d84841708e5e51f1b06f5944320fe63b6c2963f4', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\nA few test optimisations are included to make tests run just\na tiny bit faster.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}, {'number': 8, 'created': '2021-02-25 08:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ce3a1a969431c9e85536b7cd72f9f0bb8618af63', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\nA few test optimisations are included to make tests run just\na tiny bit faster.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}, {'number': 9, 'created': '2021-02-25 08:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94184a901a6138b2bef9911262e7e463e73fc802', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\nA few test optimisations are included to make tests run just\na tiny bit faster.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}, {'number': 10, 'created': '2021-03-01 10:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6a0bfc5b28f7a890f810c69ee9391ffde2c98ad', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\nA few test optimisations are included to make tests run just\na tiny bit faster.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}, {'number': 11, 'created': '2021-03-01 15:41:31.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/pull.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44f236d54efc01d89c647bb0ae63878435f58bad', 'message': ""[tripleo_transfer] Use synchronize rather than fetch\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using synchronize instead of fetch\nto get the file. This requires rsync on the hosts involved,\nbut that's a smaller price to pay than failing due to an out\nof memory error.\n\n[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb\n""}]",1,776565,44f236d54efc01d89c647bb0ae63878435f58bad,26,4,11,6816,,,0,"[tripleo_transfer] Use synchronize rather than fetch

When running fetch with become, the slurp module will also
be used to fetch the contents of the file for determining
the remote checksum. This effectively doubles the transfer
size [0] and shows up as a MemoryError when the file size
is large enough.

In TripleO this is problematic in large & old deployments
when transferring the /var/lib/mysql folder.

This patch switches to using synchronize instead of fetch
to get the file. This requires rsync on the hosts involved,
but that's a smaller price to pay than failing due to an out
of memory error.

[0] - https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes

Closes-Bug: #1908425
Closes-Bug: rhbz#1904681
Closes-Bug: rhbz#1916162

Change-Id: I3d429eade2c5da57c44b9c1dbc87340876aae2cb
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/776565/10 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/pull.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",4,b34a81b20fe418ef8b26934115443ac00b774a57,bz/1916162, gather_facts: false any_errors_fatal: true,,32,3
openstack%2Fcinder-tempest-plugin~master~Id7d226bec03ea17ee30b67c9f1b715b6b6308104,openstack/cinder-tempest-plugin,master,Id7d226bec03ea17ee30b67c9f1b715b6b6308104,Implement protection testing for capabilities API,ABANDONED,2021-02-16 19:17:15.000000000,2021-03-04 18:56:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-16 19:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/cc0408839821ce599ad7e00bea26d9b4a7347d94', 'message': 'Implement protection testing for capabilities API\n\nThis commit adds protection testing for the capabilities API, which is\ndesignated only for system administrators and operators.\n\nThis commit ensures only project-admins are allowed to access this API.\nThis will change when we implement full support for system-scope in\ncinder.\n\nChange-Id: Id7d226bec03ea17ee30b67c9f1b715b6b6308104\n'}, {'number': 2, 'created': '2021-02-16 19:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/560c01457000d6ddf5abbfb09140f8f4ea6a2dad', 'message': 'Implement protection testing for capabilities API\n\nThis commit adds protection testing for the capabilities API, which is\ndesignated only for system administrators and operators.\n\nThis commit ensures only project-admins are allowed to access this API.\nThis will change when we implement full support for system-scope in\ncinder.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/759948\n\nChange-Id: Id7d226bec03ea17ee30b67c9f1b715b6b6308104\n'}, {'number': 3, 'created': '2021-03-03 05:43:46.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/base.py', 'cinder_tempest_plugin/rbac/v3/test_capabilities.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1ca5146e88153f1a41bb8c74f5e291681c3ab8e0', 'message': ""Implement protection testing for capabilities API\n\nThis commit adds protection testing for the capabilities API, which is\ndesignated only for system administrators and operators.\n\nThis commit ensures only project-admins are allowed to access this API\nsince that's pretty much the legacy way of determining who is an\nadministrator/operator/deployer. This will change when we implement\nfull support for system-scope in cinder.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/759948\n\nChange-Id: Id7d226bec03ea17ee30b67c9f1b715b6b6308104\n""}]",0,775894,1ca5146e88153f1a41bb8c74f5e291681c3ab8e0,7,1,3,5046,,,0,"Implement protection testing for capabilities API

This commit adds protection testing for the capabilities API, which is
designated only for system administrators and operators.

This commit ensures only project-admins are allowed to access this API
since that's pretty much the legacy way of determining who is an
administrator/operator/deployer. This will change when we implement
full support for system-scope in cinder.

Depends-On: https://review.opendev.org/c/openstack/cinder/+/759948

Change-Id: Id7d226bec03ea17ee30b67c9f1b715b6b6308104
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/94/775894/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/rbac/v3/base.py', 'cinder_tempest_plugin/rbac/v3/test_capabilities.py']",2,cc0408839821ce599ad7e00bea26d9b4a7347d94,secure-rbac,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest.api.volume import base from tempest.lib import exceptions from cinder_tempest_plugin.rbac.v3 import base as rbac_base class VolumeV3RbacCapabilityTests(rbac_base.VolumeV3RbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super().setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.volume_capabilities_client_latest # NOTE(lbragstad): This admin_client will be more useful later when # cinder supports system-scope and we need it for administrative # operations. For now, keep os_project_admin as the admin client until # we have system-scope. admin_client = cls.os_project_admin cls.admin_capabilities_client = ( admin_client.volume_capabilities_client_latest) cls.admin_stats_client = ( admin_client.volume_scheduler_stats_client_latest) @classmethod def setup_credentials(cls): super().setup_credentials() cls.os_primary = getattr(cls, 'os_%s' % cls.credentials[0]) @abc.abstractmethod def test_get_capabilities(self): """"""Test volume_extension:capabilities policy. This test must check: * whether the persona can fetch capabilities for a host. """""" pass class SystemAdminTests(VolumeV3RbacCapabilityTests, base.BaseVolumeTest): # Remove 'project_admin' when cinder fully supports system-scope for # administrative operations. credentials = ['system_admin', 'project_admin'] def test_get_capabilities(self): skip_msg = 'Skip until cinder fully supports system-scoped tokens.' raise self.skipException(skip_msg) class SystemMemberTests(SystemAdminTests, base.BaseVolumeTest): # Remove 'project_admin' when cinder fully supports system-scope for # administrative operations. credentials = ['system_member', 'system_admin', 'project_admin'] class SystemReaderTests(SystemAdminTests, base.BaseVolumeTest): # Remove 'project_admin' when cinder fully supports system-scope for # administrative operations. credentials = ['system_reader', 'system_admin', 'project_admin'] class ProjectAdminTests(VolumeV3RbacCapabilityTests, base.BaseVolumeTest): credentials = ['project_admin', 'system_admin'] def test_get_capabilities(self): pools = self.admin_stats_client.list_pools()['pools'] host_name = pools[0]['name'] self.do_request('show_backend_capabilities', expected_status=200, host=host_name) class ProjectMemberTests(ProjectAdminTests, base.BaseVolumeTest): credentials = ['project_member', 'project_admin', 'system_admin'] def test_get_capabilities(self): pools = self.admin_stats_client.list_pools()['pools'] host_name = pools[0]['name'] self.do_request('show_backend_capabilities', expected_status=exceptions.Forbidden, host=host_name) class ProjectReaderTests(ProjectMemberTests, base.BaseVolumeTest): credentials = ['project_reader', 'project_admin', 'system_admin'] ",,148,0
openstack%2Fkayobe~master~I1dbb5978342261e8c8e36fbe270f238750808ad6,openstack/kayobe,master,I1dbb5978342261e8c8e36fbe270f238750808ad6,Ubuntu: document overcloud development environment,MERGED,2021-01-07 16:39:01.000000000,2021-03-04 18:55:21.000000000,2021-03-04 18:50:49.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-01-07 16:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0f1e1efd353be3e37c762d6d5857f9194df49cd3', 'message': 'Ubuntu: document overcloud development environment\n\nUpdates the contributor documentation for the overcloud development\nenvironment to include steps for running on Ubuntu.\n\nChange-Id: I1dbb5978342261e8c8e36fbe270f238750808ad6\nStory: 2004960\nTask: 41550\n'}, {'number': 2, 'created': '2021-02-24 09:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/646e0b42c29ec8c14fa57e67d84056c8531f1be0', 'message': 'Ubuntu: document overcloud development environment\n\nUpdates the contributor documentation for the overcloud development\nenvironment to include steps for running on Ubuntu.\n\nChange-Id: I1dbb5978342261e8c8e36fbe270f238750808ad6\nStory: 2004960\nTask: 41550\n'}, {'number': 3, 'created': '2021-03-04 15:02:45.000000000', 'files': ['doc/source/contributor/automated.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1d55a33094530db130b2b13e9bddac91c3c24db6', 'message': 'Ubuntu: document overcloud development environment\n\nUpdates the contributor documentation for the overcloud development\nenvironment to include steps for running on Ubuntu.\n\nChange-Id: I1dbb5978342261e8c8e36fbe270f238750808ad6\nStory: 2004960\nTask: 41550\n'}]",1,769791,1d55a33094530db130b2b13e9bddac91c3c24db6,18,5,3,14826,,,0,"Ubuntu: document overcloud development environment

Updates the contributor documentation for the overcloud development
environment to include steps for running on Ubuntu.

Change-Id: I1dbb5978342261e8c8e36fbe270f238750808ad6
Story: 2004960
Task: 41550
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/91/769791/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/automated.rst'],1,0f1e1efd353be3e37c762d6d5857f9194df49cd3,story/2004960,"If using Ubuntu, configure Kolla Ansible to use the Ubuntu source images:: sed -i -e 's/#kolla_base_distro:/kolla_base_distro: ubuntu/' config/src/kayobe-config/etc/kayobe/kolla.yml sed -i -e 's/#kolla_install_type:/kolla_install_type: source/' config/src/kayobe-config/etc/kayobe/kolla.yml On CentOS, this can be added using the following commands::On Ubuntu, the interface configuration must be persistent:: sudo apt update sudo apt -y install ifupdown sudo ip l add breth1 type bridge sudo ip l add eth1 type dummy cat << EOF | sudo tee /etc/network/interfaces.d/ifcfg-eth1 auto eth1 iface eth1 inet manual EOF cat << EOF | sudo tee /etc/network/interfaces.d/ifcfg-breth1 auto breth1 iface breth1 inet static address 192.168.33.3 netmask 255.255.255.0 bridge_ports eth1 EOF sudo ifup eth1 sudo ifup breth1 On Ubuntu, the ``nova_libvirt`` image does not contain the ``qemu-utils`` package necessary for image operations used by Tenks. Install it as follows:: sudo docker exec -u root nova_libvirt bash -c 'apt update && apt -y install qemu-utils' ","Alternatively, this can be added using the following commands::",36,1
openstack%2Fkayobe~master~Ic33d3e31096f7b0cec2e4e9284f5c1078a4ff04c,openstack/kayobe,master,Ic33d3e31096f7b0cec2e4e9284f5c1078a4ff04c,CI: add Ubuntu seed VM job,MERGED,2021-02-11 11:11:10.000000000,2021-03-04 18:53:24.000000000,2021-03-04 18:45:49.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-11 11:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4d3fc532b7aaa9d9f2521f90e24b29ec6e963428', 'message': 'CI: add Ubuntu seed VM job\n\n* Need to specify bash for &> syntax\n\nStory: 2004960\nTask: 41806\n\nChange-Id: Ic33d3e31096f7b0cec2e4e9284f5c1078a4ff04c\n'}, {'number': 2, 'created': '2021-02-11 14:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b14c572ff14fb1da045a8b9e03d16600c3e54f37', 'message': 'CI: add Ubuntu seed VM job\n\n* Need to specify bash for &> syntax\n\nStory: 2004960\nTask: 41806\n\nChange-Id: Ic33d3e31096f7b0cec2e4e9284f5c1078a4ff04c\n'}, {'number': 3, 'created': '2021-02-12 09:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/85ade6825c6fbef7aa230688247c8fa1b222ceac', 'message': 'CI: add Ubuntu seed VM job\n\n* Need to specify bash for &> syntax\n\nStory: 2004960\nTask: 41806\n\nChange-Id: Ic33d3e31096f7b0cec2e4e9284f5c1078a4ff04c\n'}, {'number': 4, 'created': '2021-03-01 17:59:31.000000000', 'files': ['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'playbooks/kayobe-seed-vm-base/run.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7a99b88ebcae4ae5d290fc33286ca91f5b9097f2', 'message': 'CI: add Ubuntu seed VM job\n\n* Need to specify bash for &> syntax\n\nStory: 2004960\nTask: 41806\n\nChange-Id: Ic33d3e31096f7b0cec2e4e9284f5c1078a4ff04c\n'}]",0,775119,7a99b88ebcae4ae5d290fc33286ca91f5b9097f2,18,3,4,14826,,,0,"CI: add Ubuntu seed VM job

* Need to specify bash for &> syntax

Story: 2004960
Task: 41806

Change-Id: Ic33d3e31096f7b0cec2e4e9284f5c1078a4ff04c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/19/775119/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'playbooks/kayobe-seed-vm-base/run.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",5,4d3fc532b7aaa9d9f2521f90e24b29ec6e963428,story/2004960, - job: name: kayobe-seed-vm-ubuntu-focal parent: kayobe-seed-vm-base nodeset: kayobe-ubuntu-focal,,16,0
openstack%2Fkayobe~master~Ib124dc6f313a2a13fa509b10702c6141f102f2f9,openstack/kayobe,master,Ib124dc6f313a2a13fa509b10702c6141f102f2f9,CI: Ubuntu host configure job,MERGED,2021-01-07 14:33:05.000000000,2021-03-04 18:51:18.000000000,2021-03-04 18:38:45.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-01-07 14:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/658b74478ee3d6b524ea97167a3c39d23387b3d6', 'message': 'WIP: CI: Ubuntu host configure job\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 2, 'created': '2021-01-07 15:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/22038f2b9fcb572622edb4ecdcdc52dc96800310', 'message': 'WIP: CI: Ubuntu host configure job\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 3, 'created': '2021-01-07 16:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ce2c5588f5ca86a913734837417ba2c730049b3a', 'message': 'WIP: CI: Ubuntu host configure job\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 4, 'created': '2021-01-07 17:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dda1da690e77e6cb14c27d0b6d9b1695126672df', 'message': 'WIP: CI: Ubuntu host configure job\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 5, 'created': '2021-01-08 14:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9bc155419f581d0d7adb4679fcd4536ab1a9282a', 'message': 'WIP: CI: Ubuntu host configure job\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 6, 'created': '2021-01-08 15:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9f29427594a46376a5c86067fb48ea4fc6413f4d', 'message': 'WIP: CI: Ubuntu host configure job\n\nIssues:\n\n* bond configuration not working on Ubuntu - disabled in CI test\n\nStory: 2004960\nTask: 41560\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 7, 'created': '2021-01-08 17:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ea707729ae13f448556ea2321d71b62b7c3f29de', 'message': 'WIP: CI: Ubuntu host configure job\n\nIssues:\n\n* bond configuration not working on Ubuntu - disabled in CI test\n\nStory: 2004960\nTask: 41560\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 8, 'created': '2021-01-08 17:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/37a8f3fbc559fd1f67e3fec378ce1800a1cd3c91', 'message': 'WIP: CI: Ubuntu host configure job\n\nIssues:\n\n* bond configuration not working on Ubuntu - disabled in CI test\n\nStory: 2004960\nTask: 41560\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 9, 'created': '2021-01-11 09:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7f9cdb946f25f959dced40583ee824834d7f943b', 'message': 'WIP: CI: Ubuntu host configure job\n\nIssues:\n\n* bond configuration not working on Ubuntu - disabled in CI test\n\nStory: 2004960\nTask: 41560\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 10, 'created': '2021-01-11 11:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7b52a8a27bbe8700727888e6b57f0dd45da16032', 'message': 'WIP: CI: Ubuntu host configure job\n\nIssues:\n\n* bond configuration not working on Ubuntu - disabled in CI test\n\nStory: 2004960\nTask: 41560\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 11, 'created': '2021-01-21 10:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/320d0c5518e667417d1c6f35d6644e7f6a32ceaf', 'message': 'WIP: CI: Ubuntu host configure job\n\nIssues:\n\n* bond configuration not working on Ubuntu - disabled in CI test\n\nStory: 2004960\nTask: 41560\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 12, 'created': '2021-01-21 10:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5a930d3e90bb2c07dd521eb91f855869b44d80ae', 'message': 'CI: Ubuntu host configure job\n\nIssues:\n\n* bond configuration not working on Ubuntu - disabled in CI test\n\nStory: 2004960\nTask: 41560\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 13, 'created': '2021-01-21 10:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/05e0245cd7b271a29f5611168e60ede4d17f6ac6', 'message': 'CI: Ubuntu host configure job\n\nIssues:\n\n* bond configuration not working on Ubuntu - disabled in CI test\n\nStory: 2004960\nTask: 41560\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 14, 'created': '2021-02-23 16:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ab6e9bcb9f07cc39c5a14f709969c027c2dd5467', 'message': 'CI: Ubuntu host configure job\n\nIssues:\n\n* bond configuration not working on Ubuntu - disabled in CI test\n\nStory: 2004960\nTask: 41560\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}, {'number': 15, 'created': '2021-03-01 17:58:16.000000000', 'files': ['playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2', 'requirements.yml', 'zuul.d/project.yaml', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9c29d7d76c93d7eecfcf8834ecdd855fed35dbcd', 'message': 'CI: Ubuntu host configure job\n\nIssues:\n\n* bond configuration not working on Ubuntu - disabled in CI test\n\nStory: 2004960\nTask: 41560\n\nChange-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9\n'}]",2,769757,9c29d7d76c93d7eecfcf8834ecdd855fed35dbcd,42,4,15,14826,,,0,"CI: Ubuntu host configure job

Issues:

* bond configuration not working on Ubuntu - disabled in CI test

Story: 2004960
Task: 41560

Change-Id: Ib124dc6f313a2a13fa509b10702c6141f102f2f9
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/57/769757/13 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-vm-base/pre.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,658b74478ee3d6b524ea97167a3c39d23387b3d6,story/2004960, name: kayobe-overcloud-host-configure-ubuntu parent: kayobe-overcloud-host-configure-base nodeset: kayobe-ubuntu - job:,,8,3
openstack%2Fkayobe~stable%2Fussuri~Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,openstack/kayobe,stable/ussuri,Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,Add ipa_build_upper_constraints_file variable,MERGED,2021-02-12 13:52:20.000000000,2021-03-04 18:51:16.000000000,2021-03-04 18:38:15.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 13:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ecb306441a0241eebd625c4e015f9f8cc57d77cf', 'message': 'Fix IPA build on stable/ussuri\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n'}, {'number': 2, 'created': '2021-02-16 20:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/239166c78a2f9ba1e279858b8bcef32766ff62a0', 'message': 'Add ipa_build_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the ipa-build-dib virtual environment. This can\nbe used when we need a newer version of diskimage-builder than the one\navailable in upper constraints for the current release.\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n(cherry picked from commit 8cd41659a0a188f54ffac917b753e41514ce15e0)\n'}, {'number': 3, 'created': '2021-02-19 13:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7ce8fa9f72a139a25b872df46efa293e80f81c84', 'message': 'Add ipa_build_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the ipa-build-dib virtual environment. This can\nbe used when we need a newer version of diskimage-builder than the one\navailable in upper constraints for the current release.\n\nBackport note: We remove the release note comment about the default\nvalue assigned to ipa_build_upper_constraints_file, since we will\nchange it in another commit.\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n(cherry picked from commit 8cd41659a0a188f54ffac917b753e41514ce15e0)\n'}, {'number': 4, 'created': '2021-02-23 13:27:35.000000000', 'files': ['doc/source/configuration/ironic-python-agent.rst', 'ansible/group_vars/all/ipa', 'ansible/overcloud-ipa-build.yml', 'releasenotes/notes/ipa-build-upper-constraints-5686abaa161b0d94.yaml', 'ansible/seed-ipa-build.yml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2aa81e8487af478c483bffd459dc362b0e855079', 'message': 'Add ipa_build_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the ipa-build-dib virtual environment. This can\nbe used when we need a newer version of diskimage-builder than the one\navailable in upper constraints for the current release.\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n(cherry picked from commit 56c1a886f5dc0683084495745fe54e27e0de08eb)\n'}]",0,775386,2aa81e8487af478c483bffd459dc362b0e855079,19,4,4,15197,,,0,"Add ipa_build_upper_constraints_file variable

This variable allows to customise the upper constraints file used to
install packages inside the ipa-build-dib virtual environment. This can
be used when we need a newer version of diskimage-builder than the one
available in upper constraints for the current release.

Change-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c
(cherry picked from commit 56c1a886f5dc0683084495745fe54e27e0de08eb)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/86/775386/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ipa-build-dib-upper-constraints-5686abaa161b0d94.yaml', 'ansible/group_vars/all/ipa', 'ansible/overcloud-ipa-build.yml', 'ansible/seed-ipa-build.yml', 'etc/kayobe/ipa.yml']",5,ecb306441a0241eebd625c4e015f9f8cc57d77cf,ipa-build-uc-stable/ussuri,# Building IPA images with the master branch of ironic-python-agent-builder # requires a newer DIB than what is available in upper constraints for Ussuri. # Default to using upper constraints from Victoria instead. #ipa_build_upper_constraints_file: ,,27,2
openstack%2Fwhitebox-tempest-plugin~master~Id616aeb5dced80309162837a37c61a71cb6222c8,openstack/whitebox-tempest-plugin,master,Id616aeb5dced80309162837a37c61a71cb6222c8,Add skip check to volume encryption tests,MERGED,2021-03-02 16:50:49.000000000,2021-03-04 18:51:12.000000000,2021-03-04 18:51:12.000000000,"[{'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-03-02 16:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b51b45ac1813e4ab444b15132b7c511bdac9bb42', 'message': 'Add skip check to volume encryption tests\n\nChange 00eb0f1 added the volume encryption tests based on a key\nmanager or fixed key present. In deployments where neither is set, this\ntest will fail so adding a skip check. Barbican is the preferred key manager\nselected here.\n\nChange-Id: Id616aeb5dced80309162837a37c61a71cb6222c8\n'}, {'number': 2, 'created': '2021-03-02 22:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/bb0c4fd91b8a56701d658100735406f9446c565c', 'message': 'Add skip check to volume encryption tests\n\nChange 00eb0f1 added the volume encryption tests based on a key\nmanager or fixed key present. In deployments where neither is set, this\ntest will fail so adding a skip check. Barbican is the preferred key manager\nselected here.\n\nChange-Id: Id616aeb5dced80309162837a37c61a71cb6222c8\n'}, {'number': 3, 'created': '2021-03-03 18:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3b7af3730f3c851d346722109b39c700434b94b4', 'message': 'Add skip check to volume encryption tests\n\nChange 00eb0f1 added the volume encryption tests based on a key\nmanager or fixed key present. In deployments where neither is set, this\ntest will fail so adding a skip check.\n\nChange-Id: Id616aeb5dced80309162837a37c61a71cb6222c8\n'}, {'number': 4, 'created': '2021-03-03 18:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0b2f477e3fe92b2de79e50131f9852f0384555ef', 'message': 'Add skip check to volume encryption tests\n\nChange 00eb0f1 added the volume encryption tests based on a key\nmanager or fixed key present. In deployments where neither is set, this\ntest will fail so adding a skip check.\n\nChange-Id: Id616aeb5dced80309162837a37c61a71cb6222c8\n'}, {'number': 5, 'created': '2021-03-04 14:35:53.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_volume_encryption.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/befaafc1c24a8e9f68f75850865e5ae4a8a93cd1', 'message': 'Add skip check to volume encryption tests\n\nChange 00eb0f1 added the volume encryption tests based on a key\nmanager or fixed key present. In deployments where neither is set, this\ntest will fail so adding a skip check.\n\nChange-Id: Id616aeb5dced80309162837a37c61a71cb6222c8\n'}]",5,778215,befaafc1c24a8e9f68f75850865e5ae4a8a93cd1,21,5,5,27478,,,0,"Add skip check to volume encryption tests

Change 00eb0f1 added the volume encryption tests based on a key
manager or fixed key present. In deployments where neither is set, this
test will fail so adding a skip check.

Change-Id: Id616aeb5dced80309162837a37c61a71cb6222c8
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/15/778215/3 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_volume_encryption.py'],1,b51b45ac1813e4ab444b15132b7c511bdac9bb42,vol_encrypt_test," @classmethod def skip_checks(cls): super(TestQEMUVolumeEncrption, cls).skip_checks() if not CONF.service_available.barbican: skip_msg = (""%s skipped as barbican is not enabled"" % cls.__name__) raise cls.skipException(skip_msg) ",,7,0
openstack%2Fkayobe~master~Icad129aaafb17023f3c9d007fb63466b23b1395a,openstack/kayobe,master,Icad129aaafb17023f3c9d007fb63466b23b1395a,Ubuntu: container image build,MERGED,2021-02-11 12:01:06.000000000,2021-03-04 18:50:40.000000000,2021-03-04 18:50:40.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-11 12:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/eb1d2af6bae56cb0a0949ebe879b0c61f4cc3bff', 'message': 'Ubuntu: container image build\n\n* Use bash to execute kolla-build\n* Remove backslashes from kolla-build command. YAML folded literal\n  block avoids the need for this by replacing newlines with spaces\n* Distribution-specific package list when installing kolla\n\nChange-Id: Icad129aaafb17023f3c9d007fb63466b23b1395a\nStory: 2004960\nTask: 41764\n'}, {'number': 2, 'created': '2021-02-24 09:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3ea234165bc47b14ee9a29e0478a83fa5d7a0f19', 'message': 'Ubuntu: container image build\n\n* Use bash to execute kolla-build\n* Remove backslashes from kolla-build command. YAML folded literal\n  block avoids the need for this by replacing newlines with spaces\n* Distribution-specific package list when installing kolla\n\nChange-Id: Icad129aaafb17023f3c9d007fb63466b23b1395a\nStory: 2004960\nTask: 41764\n'}, {'number': 3, 'created': '2021-03-01 18:00:00.000000000', 'files': ['ansible/roles/kolla/vars/Debian.yml', 'ansible/roles/kolla/tasks/install.yml', 'ansible/container-image-build.yml', 'ansible/roles/kolla/vars/RedHat.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e2a01b790f56df863b390a1ca3ffa38730d569ae', 'message': 'Ubuntu: container image build\n\n* Use bash to execute kolla-build\n* Remove backslashes from kolla-build command. YAML folded literal\n  block avoids the need for this by replacing newlines with spaces\n* Distribution-specific package list when installing kolla\n\nChange-Id: Icad129aaafb17023f3c9d007fb63466b23b1395a\nStory: 2004960\nTask: 41764\n'}]",0,775129,e2a01b790f56df863b390a1ca3ffa38730d569ae,16,4,3,14826,,,0,"Ubuntu: container image build

* Use bash to execute kolla-build
* Remove backslashes from kolla-build command. YAML folded literal
  block avoids the need for this by replacing newlines with spaces
* Distribution-specific package list when installing kolla

Change-Id: Icad129aaafb17023f3c9d007fb63466b23b1395a
Story: 2004960
Task: 41764
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/29/775129/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla/vars/Debian.yml', 'ansible/roles/kolla/tasks/install.yml', 'ansible/container-image-build.yml', 'ansible/roles/kolla/vars/RedHat.yml']",4,eb1d2af6bae56cb0a0949ebe879b0c61f4cc3bff,story/2004960,--- # List of packages to install. kolla_package_dependencies: - gcc - libffi-devel - openssl-devel - python3-devel - python3-pip ,,31,16
openstack%2Fcharm-mysql-router~master~Id40288a6357c8fcb9f5241f189b51e9e8c9c09bc,openstack/charm-mysql-router,master,Id40288a6357c8fcb9f5241f189b51e9e8c9c09bc,Custom restart function,ABANDONED,2021-03-02 22:26:55.000000000,2021-03-04 18:49:32.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 22:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/3bb794cdbc16344db087a66cc69c11e5eef2f4ed', 'message': 'Custom restart function\n\nOn restart on change use the custom_restart_function which is tenacity\nenabled for retries when mysql.MySQLdb._exceptions.OperationalError\n2013 ""Lost connection to MySQL server at \'waiting for initial\ncommunication packet\' is thrown.\n\nCloses-Bug: #1915842\nDepends-On: Change-Id: I4bdce49a73c3e467068e9407f1151b20a97a4907\nChange-Id: Id40288a6357c8fcb9f5241f189b51e9e8c9c09bc\n'}, {'number': 2, 'created': '2021-03-03 22:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/dfed31484edf072b14ddfd3a3db87a06cbd5c262', 'message': 'Custom restart function\n\nOn restart on change use the custom_restart_function which is tenacity\nenabled for retries when mysql.MySQLdb._exceptions.OperationalError\n2013 ""Lost connection to MySQL server at \'waiting for initial\ncommunication packet\' is thrown.\n\nCloses-Bug: #1915842\nDepends-On: Change-Id: I4bdce49a73c3e467068e9407f1151b20a97a4907\nChange-Id: Id40288a6357c8fcb9f5241f189b51e9e8c9c09bc\n'}, {'number': 3, 'created': '2021-03-04 00:02:10.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/30e345e4ed1bceb95354282835d3e378642fc696', 'message': 'Custom restart function\n\nOn restart on change use the custom_restart_function which is tenacity\nenabled for retries when mysql.MySQLdb._exceptions.OperationalError\n2013 ""Lost connection to MySQL server at \'waiting for initial\ncommunication packet\' is thrown.\n\nCloses-Bug: #1915842\nDepends-On: Change-Id: I4bdce49a73c3e467068e9407f1151b20a97a4907\nChange-Id: Id40288a6357c8fcb9f5241f189b51e9e8c9c09bc\n'}]",1,778333,30e345e4ed1bceb95354282835d3e378642fc696,10,3,3,20805,,,0,"Custom restart function

On restart on change use the custom_restart_function which is tenacity
enabled for retries when mysql.MySQLdb._exceptions.OperationalError
2013 ""Lost connection to MySQL server at 'waiting for initial
communication packet' is thrown.

Closes-Bug: #1915842
Depends-On: Change-Id: I4bdce49a73c3e467068e9407f1151b20a97a4907
Change-Id: Id40288a6357c8fcb9f5241f189b51e9e8c9c09bc
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/33/778333/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'src/wheelhouse.txt']",2,3bb794cdbc16344db087a66cc69c11e5eef2f4ed,bug/1915842,tenacity#git+https://opendev.org/openstack/charms.openstack.git#egg=charms.openstack git+file:///home/thedac/dev/charms.openstack/#egg=charms.openstack,git+https://opendev.org/openstack/charms.openstack.git#egg=charms.openstack,43,4
openstack%2Fcharms.openstack~master~I4bdce49a73c3e467068e9407f1151b20a97a4907,openstack/charms.openstack,master,I4bdce49a73c3e467068e9407f1151b20a97a4907,Enable custom_restart_function for restarts,ABANDONED,2021-03-02 22:23:10.000000000,2021-03-04 18:49:09.000000000,,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 22:23:10.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/31c20f3f03020b53522e0b15dee509cad72e8b10', 'message': 'Enable custom_restart_function for restarts\n\nIn some charms we may need a more robust restart process than\nservices_stop, service_start. Enable restart_on_change to check for the\nattribute custom_restart_function to override when necessary.\n\nThe primary example is the need for a tenacity retry with validation.\n\nCloses Bug: #1915842\n\nChange-Id: I4bdce49a73c3e467068e9407f1151b20a97a4907\n'}]",0,778332,31c20f3f03020b53522e0b15dee509cad72e8b10,4,2,1,20805,,,0,"Enable custom_restart_function for restarts

In some charms we may need a more robust restart process than
services_stop, service_start. Enable restart_on_change to check for the
attribute custom_restart_function to override when necessary.

The primary example is the need for a tenacity retry with validation.

Closes Bug: #1915842

Change-Id: I4bdce49a73c3e467068e9407f1151b20a97a4907
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/32/778332/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_classes.py']",2,31c20f3f03020b53522e0b15dee509cad72e8b10,bug/1915842," # test with custom_restart_function self.service_stop.reset_mock() self.service_start.reset_mock() _custom_restart_function = mock.MagicMock() self.target.custom_restart_function = _custom_restart_function with self.target.restart_on_change(): for k in ['path2', 'path4']: hashs[k] += 1 self.assertEqual(len(_custom_restart_function.mock_calls), 2) calls = [mock.call('s2'), mock.call('s4')] _custom_restart_function.assert_has_calls(calls) ",,23,4
openstack%2Foctavia-tempest-plugin~master~I2048253426e206af815cc16f95807308ab3fe23f,openstack/octavia-tempest-plugin,master,I2048253426e206af815cc16f95807308ab3fe23f,Add irrelevant-files to active-standby jobs,NEW,2019-10-24 07:50:49.000000000,2021-03-04 18:46:37.000000000,,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-10-24 07:50:49.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f8c538c352665d845412f7453dae5fa84bbfc29c', 'message': 'Add irrelevant-files to active-standby jobs\n\nSkip active-standby jobs when proposed changes do not affect\nactive-standby tests.\n\nChange-Id: I2048253426e206af815cc16f95807308ab3fe23f\n'}]",1,690874,f8c538c352665d845412f7453dae5fa84bbfc29c,7,5,1,6469,,,0,"Add irrelevant-files to active-standby jobs

Skip active-standby jobs when proposed changes do not affect
active-standby tests.

Change-Id: I2048253426e206af815cc16f95807308ab3fe23f
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/74/690874/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,f8c538c352665d845412f7453dae5fa84bbfc29c,, irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^octavia_tempest_plugin/tests/(?!act_stdby_scenario/v2/test_active_standby_iptables.py|\w+\.py).* irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^octavia_tempest_plugin/tests/(?!act_stdby_scenario/v2/test_active_standby.py|\w+\.py).*,,14,1
openstack%2Fpython-cinderclient~stable%2Fvictoria~Ic6645d3b973f8487903c5f57e936ba3b4b3bf005,openstack/python-cinderclient,stable/victoria,Ic6645d3b973f8487903c5f57e936ba3b4b3bf005,Support backup-restore to a specific volume type or AZ,ABANDONED,2021-02-19 18:02:01.000000000,2021-03-04 18:40:54.000000000,,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 18:02:01.000000000', 'files': ['cinderclient/v3/shell.py', 'releasenotes/notes/enhance-backup-restore-shell-command-0cf55df6ca4b4c55.yaml', 'cinderclient/tests/unit/v3/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2c0da176fc00d28c356b24535c21d2a239352cf1', 'message': ""Support backup-restore to a specific volume type or AZ\n\nEnhance the 'backup-restore' shell command to support restoring a\nbackup to a newly created volume of a specific volume type and/or in a\ndifferent AZ. New '--volume-type' and '--availability-zone' arguments\nleverage the existing cinder API's ability to create a volume from a\nbackup, which was added in microversion v3.47.\n\nThe shell code is a new v3 implementation, and it drops support for the\nv2 command's deprecated '--volume-id' argument.\n\nChange-Id: Ic6645d3b973f8487903c5f57e936ba3b4b3bf005\n(cherry picked from commit 7e3566ed04c8f664f6e1df0614499989f6b3560a)\n""}]",1,776688,2c0da176fc00d28c356b24535c21d2a239352cf1,10,3,1,21129,,,0,"Support backup-restore to a specific volume type or AZ

Enhance the 'backup-restore' shell command to support restoring a
backup to a newly created volume of a specific volume type and/or in a
different AZ. New '--volume-type' and '--availability-zone' arguments
leverage the existing cinder API's ability to create a volume from a
backup, which was added in microversion v3.47.

The shell code is a new v3 implementation, and it drops support for the
v2 command's deprecated '--volume-id' argument.

Change-Id: Ic6645d3b973f8487903c5f57e936ba3b4b3bf005
(cherry picked from commit 7e3566ed04c8f664f6e1df0614499989f6b3560a)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/88/776688/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/shell.py', 'releasenotes/notes/enhance-backup-restore-shell-command-0cf55df6ca4b4c55.yaml', 'cinderclient/tests/unit/v3/test_shell.py']",3,2c0da176fc00d28c356b24535c21d2a239352cf1,," def test_restore(self): self.run_command('backup-restore 1234') self.assert_called('POST', '/backups/1234/restore') def test_restore_with_name(self): self.run_command('backup-restore 1234 --name restore_vol') expected = {'restore': {'volume_id': None, 'name': 'restore_vol'}} self.assert_called('POST', '/backups/1234/restore', body=expected) def test_restore_with_name_error(self): self.assertRaises(exceptions.CommandError, self.run_command, 'backup-restore 1234 --volume fake_vol --name ' 'restore_vol') def test_restore_with_az(self): self.run_command('--os-volume-api-version 3.47 backup-restore 1234 ' '--name restore_vol --availability-zone restore_az') expected = {'volume': {'size': 10, 'name': 'restore_vol', 'availability_zone': 'restore_az', 'backup_id': '1234', 'metadata': {}, 'imageRef': None, 'source_volid': None, 'consistencygroup_id': None, 'snapshot_id': None, 'volume_type': None, 'description': None}} self.assert_called('POST', '/volumes', body=expected) def test_restore_with_az_microversion_error(self): self.assertRaises(exceptions.UnsupportedAttribute, self.run_command, '--os-volume-api-version 3.46 backup-restore 1234 ' '--name restore_vol --availability-zone restore_az') def test_restore_with_volume_type(self): self.run_command('--os-volume-api-version 3.47 backup-restore 1234 ' '--name restore_vol --volume-type restore_type') expected = {'volume': {'size': 10, 'name': 'restore_vol', 'volume_type': 'restore_type', 'backup_id': '1234', 'metadata': {}, 'imageRef': None, 'source_volid': None, 'consistencygroup_id': None, 'snapshot_id': None, 'availability_zone': None, 'description': None}} self.assert_called('POST', '/volumes', body=expected) def test_restore_with_volume_type_microversion_error(self): self.assertRaises(exceptions.UnsupportedAttribute, self.run_command, '--os-volume-api-version 3.46 backup-restore 1234 ' '--name restore_vol --volume-type restore_type') def test_restore_with_volume_type_and_az_no_name(self): self.run_command('--os-volume-api-version 3.47 backup-restore 1234 ' '--volume-type restore_type ' '--availability-zone restore_az') expected = {'volume': {'size': 10, 'name': 'restore_backup_1234', 'volume_type': 'restore_type', 'availability_zone': 'restore_az', 'backup_id': '1234', 'metadata': {}, 'imageRef': None, 'source_volid': None, 'consistencygroup_id': None, 'snapshot_id': None, 'description': None}} self.assert_called('POST', '/volumes', body=expected) @ddt.data( { 'volume': '1234', 'name': None, 'volume_type': None, 'availability_zone': None, }, { 'volume': '1234', 'name': 'ignored', 'volume_type': None, 'availability_zone': None, }, { 'volume': None, 'name': 'sample-volume', 'volume_type': 'sample-type', 'availability_zone': None, }, { 'volume': None, 'name': 'sample-volume', 'volume_type': None, 'availability_zone': 'az1', }, { 'volume': None, 'name': 'sample-volume', 'volume_type': None, 'availability_zone': 'different-az', }, { 'volume': None, 'name': None, 'volume_type': None, 'availability_zone': 'different-az', }, ) @ddt.unpack @mock.patch('cinderclient.utils.print_dict') @mock.patch('cinderclient.tests.unit.v2.fakes._stub_restore') def test_do_backup_restore(self, mock_stub_restore, mock_print_dict, volume, name, volume_type, availability_zone): # Restore from the fake '1234' backup. cmd = '--os-volume-api-version 3.47 backup-restore 1234' if volume: cmd += ' --volume %s' % volume if name: cmd += ' --name %s' % name if volume_type: cmd += ' --volume-type %s' % volume_type if availability_zone: cmd += ' --availability-zone %s' % availability_zone if name or volume: volume_name = 'sample-volume' else: volume_name = 'restore_backup_1234' mock_stub_restore.return_value = {'volume_id': '1234', 'volume_name': volume_name} self.run_command(cmd) # Check whether mock_stub_restore was called in order to determine # whether the restore command invoked the backup-restore API. If # mock_stub_restore was not called then this indicates the command # invoked the volume-create API to restore the backup to a new volume # of a specific volume type, or in a different AZ (the fake '1234' # backup is in az1). if volume_type or availability_zone == 'different-az': mock_stub_restore.assert_not_called() else: mock_stub_restore.assert_called_once() mock_print_dict.assert_called_once_with({ 'backup_id': '1234', 'volume_id': '1234', 'volume_name': volume_name, })",,232,0
openstack%2Fpython-octaviaclient~master~I9ad1f709403e8a33ef07ccf859c4267412fc3186,openstack/python-octaviaclient,master,I9ad1f709403e8a33ef07ccf859c4267412fc3186,Improve error messages in list/show calls,MERGED,2021-02-23 07:33:00.000000000,2021-03-04 18:38:58.000000000,2021-03-04 18:35:30.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 07:33:00.000000000', 'files': ['octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/api/test_octavia.py', 'releasenotes/notes/improve-error-messages-for-invalid-calls-bc9eb3d18d3e4fdf.yaml'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/dfcdd57bd1241845ddea221590a670734426529b', 'message': ""Improve error messages in list/show calls\n\nSome list/show calls didn't use the @correct_return_codes decorator,\nusers may have received obscure error messages when they perfomed\nunauthorized/invalid requests.\n\nStory 2008647\nTask 41910\n\nChange-Id: I9ad1f709403e8a33ef07ccf859c4267412fc3186\n""}]",0,777054,dfcdd57bd1241845ddea221590a670734426529b,9,4,1,29244,,,0,"Improve error messages in list/show calls

Some list/show calls didn't use the @correct_return_codes decorator,
users may have received obscure error messages when they perfomed
unauthorized/invalid requests.

Story 2008647
Task 41910

Change-Id: I9ad1f709403e8a33ef07ccf859c4267412fc3186
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/54/777054/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/api/test_octavia.py', 'releasenotes/notes/improve-error-messages-for-invalid-calls-bc9eb3d18d3e4fdf.yaml']",3,dfcdd57bd1241845ddea221590a670734426529b,,--- fixes: - | Improve CLI error messages when a user performs an unauthorized/invalid request. ,,145,0
openstack%2Ftripleo-ansible~master~Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,openstack/tripleo-ansible,master,Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f,[tripleo_transfer] Do transfers directly from src to dst,MERGED,2021-01-20 15:10:27.000000000,2021-03-04 18:37:22.000000000,2021-03-04 18:37:22.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 15:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8d20cd9a2c4a83762c83ab083d7522f23751af63', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently was using an\nintermediary host (the Undercloud in a TripleO deployment) to\ntransfer the files between both hosts. This has its advantages\nbut it makes the procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required to store the\nfile (in the case of a DB backup we might be taking about Gb)\nthe transfer would fail.\n\nThis patch converts all the logic to use rsync instead between\nboth remote hosts. Two extra stages are added, one to set up\nthe keys between both remote hosts and another one to clean up\nthose keys. The clean up stage uses the block/always logic to\nmake sure the keys are removed even if the task fails.\nOnce the keys are set up an rsync process is initiated in the\nsource host to transfer the desired directory content to the\ndestination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug:TODO\nResolves: rhbz#1916162\n""}, {'number': 2, 'created': '2021-01-21 13:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6beba3296e1da08c8912694b75e9d7508852cc47', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently was using an\nintermediary host (the Undercloud in a TripleO deployment) to\ntransfer the files between both hosts. This has its advantages\nbut it makes the procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required to store the\nfile (in the case of a DB backup we might be taking about Gb)\nthe transfer would fail.\n\nThis patch converts all the logic to use rsync instead between\nboth remote hosts. Two extra stages are added, one to set up\nthe keys between both remote hosts and another one to clean up\nthose keys. The clean up stage uses the block/always logic to\nmake sure the keys are removed even if the task fails.\nOnce the keys are set up an rsync process is initiated in the\nsource host to transfer the desired directory content to the\ndestination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug:TODO\nResolves: rhbz#1916162\n""}, {'number': 3, 'created': '2021-01-21 13:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d62aa77b08a6eb5430cd58ab8d6f5a460bf3675', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently was using an\nintermediary host (the Undercloud in a TripleO deployment) to\ntransfer the files between both hosts. This has its advantages\nbut it makes the procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required to store the\nfile (in the case of a DB backup we might be taking about Gb)\nthe transfer would fail.\n\nThis patch converts all the logic to use rsync instead between\nboth remote hosts. Two extra stages are added, one to set up\nthe keys between both remote hosts and another one to clean up\nthose keys. The clean up stage uses the block/always logic to\nmake sure the keys are removed even if the task fails.\nOnce the keys are set up an rsync process is initiated in the\nsource host to transfer the desired directory content to the\ndestination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 4, 'created': '2021-01-21 13:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/280f4e4e1f0357f3160acb19eba92d2776b42928', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 5, 'created': '2021-01-21 15:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc28354c0c7515105ec5dda87ee5c76ca4102824', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 6, 'created': '2021-01-21 16:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ce68d490985e0601eb0acfb8238ac8edc5fea8f3', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 7, 'created': '2021-01-21 16:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cf0a3cd972fc303a0f4a92dd1f6485c62f7133a8', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 8, 'created': '2021-01-22 07:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4f9b8a168efee03ddccb6ca74f80417370f7864', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 9, 'created': '2021-01-22 09:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad0e512ef64769362beee17f29ee097e83022ff5', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 10, 'created': '2021-01-22 09:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69a76e78ec2fb232d0fec9ddef0ca24f6796ef51', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 11, 'created': '2021-01-22 10:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7498959ba5c0c032dafb2d4467f88c7d4baf31e', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 12, 'created': '2021-01-22 10:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a9e1d4347f03c1f610573616b3811c8609ae759', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 13, 'created': '2021-01-22 10:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dca635cab28969140c90a1889f37eeda5b629f0c', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 14, 'created': '2021-01-22 11:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76fcdacde04409d1c9219c86bc4bddc864545867', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 15, 'created': '2021-01-22 13:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/47c78d7cb8021d33fa54e8850f0ea41977ae0a54', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 16, 'created': '2021-01-22 14:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d6f2f7f9d76a8079bd26f3b441d0f0166122d665', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 17, 'created': '2021-01-22 15:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a727264984494ee73c1ab4cf8eb769b5df1d057', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 18, 'created': '2021-01-22 16:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/22c975fcc1d5c7652b3931254a13695b1bce27e6', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 19, 'created': '2021-01-22 16:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f4b8d27f47de911d63b7ebfb98f9138296425e1', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 20, 'created': '2021-01-25 15:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f2294eb52bb339cebf413fd5346d88ebce7fb2f', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 21, 'created': '2021-01-29 16:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77c5defe6805ace2cf724cb2ca77a40f9f00d2c9', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nThis patch also adds a new parameter\ntripleo_ansible_rootfull which will run molecule\nas root. This is required if the test deploys\nrootfull containers.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 22, 'created': '2021-01-29 17:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/80e8788f365f4248dfaff8d5fc35a9fd9a8b531b', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nThis patch also adds a new parameter\ntripleo_ansible_rootfull which will run molecule\nas root. This is required if the test deploys\nrootfull containers.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 23, 'created': '2021-02-01 10:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e1db2ed0ac7424162fba3c38ef322a7644940ce', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nThis patch also adds a new parameter\ntripleo_ansible_rootfull which will run molecule\nas root. This is required if the test deploys\nrootfull containers.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 24, 'created': '2021-02-01 11:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89bc7b6a7fe71e36e0d22f77291eb62bbf6c8754', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nThis patch also adds a new parameter\ntripleo_ansible_rootfull which will run molecule\nas root. This is required if the test deploys\nrootfull containers.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 25, 'created': '2021-02-02 14:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/989e13097bc4f6c9fd7f6480761f1240fe5095fd', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nThis patch also adds a new parameter\ntripleo_ansible_rootfull which will run molecule\nas root. This is required if the test deploys\nrootfull containers.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 26, 'created': '2021-02-15 16:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/07bd2012c2061b3020add889abc26b8e9958d093', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nThis patch also adds a new parameter\ntripleo_ansible_rootfull which will run molecule\nas root. This is required if the test deploys\nrootfull containers.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 27, 'created': '2021-02-16 10:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3bd71dd27beef25e26132227b0063b17ae8df49', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nThis patch also adds a new parameter\ntripleo_ansible_rootfull which will run molecule\nas root. This is required if the test deploys\nrootfull containers.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 28, 'created': '2021-02-16 14:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9dc29a9851bcc2d7d7b815547d17eb18120c7389', 'message': ""Reshape tripleo-transfer to transfer files between remote hosts.\n\nThe way tripleo-transfer was implemented currently\n was using an intermediary host (the Undercloud in\na TripleO deployment) to transfer the files between\nboth hosts. This has its advantages but it makes\nthe procedure slowlier and adds a restriction, as\nif the Undercloud doesn't have the space required\nto store the file (in the case of a DB backup we\nmight be taking about Gb) the transfer would fail.\n\nThis patch converts all the logic to use rsync\ninstead between both remote hosts. Two extra\nstages are added, one to set up the keys between\nboth remote hosts and another one to clean up those\nkeys. The clean up stage uses the block/always\nlogic to make sure the keys are removed even if\nthe task fails.\n\nOnce the keys are set up an rsync process is\ninitiated in the source host to transfer the\ndesired directory content to the destination host.\n\nThis patch also adds a new parameter\ntripleo_ansible_rootfull which will run molecule\nas root. This is required if the test deploys\nrootfull containers.\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\nCloses-Bug: #1908425\nResolves: rhbz#1916162\n""}, {'number': 29, 'created': '2021-03-01 20:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a1dfb53acb099d71969bb20cd7a285a69c37f22e', 'message': '[tripelo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 30, 'created': '2021-03-01 20:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca190d7c135258c7bd3f78dcf95e130016e29c55', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 31, 'created': '2021-03-01 20:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81baf132b9bbafa9e328bc209963329f9f93838d', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 32, 'created': '2021-03-01 20:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b28cc74bcf681ff85cbce8fecb335052e3f2abe', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 33, 'created': '2021-03-02 11:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0636625b99ae3f807ff905d9f2b4342cdcd8f45', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 34, 'created': '2021-03-02 18:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53c8ec742c7325b9153a859da1e28fa10ba91459', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 35, 'created': '2021-03-02 18:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e535723dd564cf2f952f360424432df34ae1f0e6', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 36, 'created': '2021-03-02 18:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16797a4f8379b147af151638b3dcedf0ff7d1b12', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 37, 'created': '2021-03-02 20:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/03ef03c13fd7d8342143d3188c9226d55c185700', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 38, 'created': '2021-03-02 20:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b00a1ea575cc4b8c25704d9b9249c90b20418df', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 39, 'created': '2021-03-03 13:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f59b3e4fd366d01819ffe91c9842c7a6c5f77029', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\nDepends-On: https://review.opendev.org/778456\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 40, 'created': '2021-03-03 16:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b73656c03398454d9ab37cfe52f5ad3304874ee0', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}, {'number': 41, 'created': '2021-03-03 16:48:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/vars/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/flag.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7730980c9a45e93b314e5971e876e11b2ce12a9', 'message': '[tripleo_transfer] Do transfers directly from src to dst\n\nWhen running fetch with become, the slurp module will also\nbe used to fetch the contents of the file for determining\nthe remote checksum. This effectively doubles the transfer\nsize [0] and shows up as a MemoryError when the file size\nis large enough.\n\nIn TripleO this is problematic in large & old deployments\nwhen transferring the /var/lib/mysql folder.\n\nThis patch switches to using rsync directly between the src\nand dst hosts to transfer the data. This is advantageous not\nonly for solving the above-mentioned bug, but is also faster.\n\nA simpler implementation using synchronize was attempted [1],\nbut there were issues with the mistral container which\nprevented that approach from being successful.\n\n[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11\n\nCloses-Bug: #1908425\nCloses-Bug: rhbz#1904681\nCloses-Bug: rhbz#1916162\nDepends-On: https://review.opendev.org/778456\n\nChange-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n'}]",42,771657,d7730980c9a45e93b314e5971e876e11b2ce12a9,105,10,41,26343,,,0,"[tripleo_transfer] Do transfers directly from src to dst

When running fetch with become, the slurp module will also
be used to fetch the contents of the file for determining
the remote checksum. This effectively doubles the transfer
size [0] and shows up as a MemoryError when the file size
is large enough.

In TripleO this is problematic in large & old deployments
when transferring the /var/lib/mysql folder.

This patch switches to using rsync directly between the src
and dst hosts to transfer the data. This is advantageous not
only for solving the above-mentioned bug, but is also faster.

A simpler implementation using synchronize was attempted [1],
but there were issues with the mistral container which
prevented that approach from being successful.

[0] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/fetch_module.html#notes
[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/776565/11

Closes-Bug: #1908425
Closes-Bug: rhbz#1904681
Closes-Bug: rhbz#1916162
Depends-On: https://review.opendev.org/778456

Change-Id: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/771657/33 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/setup_keys.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/cleanup_keys.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",7,8d20cd9a2c4a83762c83ab083d7522f23751af63,bz/1916162,, tripleo_transfer_storage_root_dir: /tmp/transfer-staging,72,92
openstack%2Ftripleo-ansible~stable%2Fvictoria~I4d5049ef863c5685b1d817a865a8a44c4429480c,openstack/tripleo-ansible,stable/victoria,I4d5049ef863c5685b1d817a865a8a44c4429480c,[tripleo_transfer] Convert testing to use delegated driver,MERGED,2021-03-03 16:29:34.000000000,2021-03-04 18:37:16.000000000,2021-03-04 18:37:16.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:29:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/842405e2427867f3f7cdda7aa3f2f7a6a9652b57', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)\n""}]",0,778424,842405e2427867f3f7cdda7aa3f2f7a6a9652b57,6,2,1,6816,,,0,"[tripleo_transfer] Convert testing to use delegated driver

The current driver is podman which creates problems when we
try to use the synchronize module for the file copy between
hosts. To make room for this option, we switch to using the
delegated driver and two inventory hosts (which are localhost)
instead which is more efficient, more portable and opens more
options.

We also add 'any_errors_fatal: true' to the play
arguments to ensure that any error stops the whole test.

The converge playbook is targeted at localhost, rather than
all instances, because that is the way that the role being
tested is used in TripleO.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162

Change-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c
(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/778424/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",4,842405e2427867f3f7cdda7aa3f2f7a6a9652b57,bz/1916162-stable/victoria, hosts: localhost connection: local any_errors_fatal: true tripleo_transfer_src_host: controller2 tripleo_transfer_dest_host: controller1, hosts: all tripleo_transfer_src_host: overcloud-controller-0 tripleo_transfer_dest_host: overcloud-controller-1,33,109
openstack%2Ftripleo-ansible~stable%2Fussuri~I4d5049ef863c5685b1d817a865a8a44c4429480c,openstack/tripleo-ansible,stable/ussuri,I4d5049ef863c5685b1d817a865a8a44c4429480c,[tripleo_transfer] Convert testing to use delegated driver,MERGED,2021-03-03 16:30:30.000000000,2021-03-04 18:37:02.000000000,2021-03-04 18:37:02.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:30:30.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e8eff5e738aab82727f9ab130caf749128bbba5', 'message': ""[tripleo_transfer] Convert testing to use delegated driver\n\nThe current driver is podman which creates problems when we\ntry to use the synchronize module for the file copy between\nhosts. To make room for this option, we switch to using the\ndelegated driver and two inventory hosts (which are localhost)\ninstead which is more efficient, more portable and opens more\noptions.\n\nWe also add 'any_errors_fatal: true' to the play\narguments to ensure that any error stops the whole test.\n\nThe converge playbook is targeted at localhost, rather than\nall instances, because that is the way that the role being\ntested is used in TripleO.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\n\nChange-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c\n(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)\n""}]",0,778426,9e8eff5e738aab82727f9ab130caf749128bbba5,6,2,1,6816,,,0,"[tripleo_transfer] Convert testing to use delegated driver

The current driver is podman which creates problems when we
try to use the synchronize module for the file copy between
hosts. To make room for this option, we switch to using the
delegated driver and two inventory hosts (which are localhost)
instead which is more efficient, more portable and opens more
options.

We also add 'any_errors_fatal: true' to the play
arguments to ensure that any error stops the whole test.

The converge playbook is targeted at localhost, rather than
all instances, because that is the way that the role being
tested is used in TripleO.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162

Change-Id: I4d5049ef863c5685b1d817a865a8a44c4429480c
(cherry picked from commit b1dadc218514f2f4798c9f8264498f03a805fd76)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/778426/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",4,9e8eff5e738aab82727f9ab130caf749128bbba5,bz/1916162-stable/ussuri, hosts: localhost connection: local any_errors_fatal: true tripleo_transfer_src_host: controller2 tripleo_transfer_dest_host: controller1, hosts: all tripleo_transfer_src_host: overcloud-controller-0 tripleo_transfer_dest_host: overcloud-controller-1,33,109
openstack%2Ftripleo-ansible~stable%2Fvictoria~Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,openstack/tripleo-ansible,stable/victoria,Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1,Use ansible_facts instead,MERGED,2021-02-22 20:51:09.000000000,2021-03-04 18:36:58.000000000,2021-03-04 18:36:58.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 20:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31a62c8e042ccf0558ecd7b3c53dd6dbca8f1d60', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)\n'}, {'number': 2, 'created': '2021-02-23 21:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1209ae217b74246212b7d5307b5635e39ad8b063', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)\n'}, {'number': 3, 'created': '2021-02-24 16:15:07.000000000', 'files': ['tripleo_ansible/roles/tripleo_ptp/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_nfs_stop.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_config.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mgr_stop.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/load_vars.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_provision_mcelog/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mon_stop.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f29376dafce39e8a6dc257846b16a3e8d924e367', 'message': 'Use ansible_facts instead\n\nIn order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts\ninstead of ansible_* vars. This change switches our distribution and\nhostname related items to use ansible_facts instead.\n\nChange-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1\nRelated-Bug: #1915761\n(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)\n'}]",0,777006,f29376dafce39e8a6dc257846b16a3e8d924e367,15,5,3,14985,,,0,"Use ansible_facts instead

In order to ANSIBLE_INJECT_FACT_VARS=False we have to use ansible_facts
instead of ansible_* vars. This change switches our distribution and
hostname related items to use ansible_facts instead.

Change-Id: Id01e754f0cf9f6e98c02f45a4011f3d6f59f80a1
Related-Bug: #1915761
(cherry picked from commit e7bc62c20e6017704fbdd476ce9143e23f8504ec)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/777006/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ptp/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_nfs_stop.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/aide_config.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mgr_stop.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/load_vars.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_rgw_stop.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo_provision_mcelog/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_mon_stop.yml']",43,31a62c8e042ccf0558ecd7b3c53dd6dbca8f1d60,bug/1915761-stable/victoria," - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" name: ""ceph-mon@{{ ansible_facts['hostname'] }}"""," - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml"" name: ""ceph-mon@{{ ansible_hostname }}""",230,214
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I7ee221be2a01b0e8b22b51902a81fe29bb624db3,openstack/puppet-openstack-integration,stable/ussuri,I7ee221be2a01b0e8b22b51902a81fe29bb624db3,Update the cirros version to 0.5.1,MERGED,2021-03-04 08:28:40.000000000,2021-03-04 18:35:11.000000000,2021-03-04 18:35:11.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 08:28:40.000000000', 'files': ['run_tests.sh', 'manifests/tempest.pp', 'manifests/provision.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7a66c84ebcfa6e65ee5c4d05a1bfedc86570fa92', 'message': 'Update the cirros version to 0.5.1\n\nWe are hitting random timeout issues when intances trying to get\nmetadata. This version includes a fix for this [1].\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n\nChange-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3\n(cherry picked from commit 90671b2e0b05ea908a375c5bdb271afb55014870)\n'}]",0,778622,7a66c84ebcfa6e65ee5c4d05a1bfedc86570fa92,8,4,1,16312,,,0,"Update the cirros version to 0.5.1

We are hitting random timeout issues when intances trying to get
metadata. This version includes a fix for this [1].

[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129

Change-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3
(cherry picked from commit 90671b2e0b05ea908a375c5bdb271afb55014870)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/22/778622/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'manifests/tempest.pp', 'manifests/provision.pp']",3,7a66c84ebcfa6e65ee5c4d05a1bfedc86570fa92,, source => '/tmp/openstack/image/cirros-0.5.1-x86_64-disk.img' source => '/tmp/openstack/image/cirros-0.5.1-x86_64-disk.img', source => '/tmp/openstack/image/cirros-0.4.0-x86_64-disk.img' source => '/tmp/openstack/image/cirros-0.4.0-x86_64-disk.img',7,7
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I62f35dce338ae186a217dd1d0a141d3a737243a0,openstack/puppet-openstack-integration,stable/ussuri,I62f35dce338ae186a217dd1d0a141d3a737243a0,pin bundler to 2.2.11,MERGED,2021-03-04 08:28:40.000000000,2021-03-04 18:35:07.000000000,2021-03-04 18:35:07.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 08:28:40.000000000', 'files': ['playbooks/run-unit-tests.yaml', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-lint-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2340e58057cd384535d789a6bec78fa02eb7163c', 'message': ""pin bundler to 2.2.11\n\nIt seems the latest 2.2.12 requires rake>13.0 installed and that\nrequirement doesn't work well in current our CI jobs.\nLet's pin it to the previous version until we resolve the issue.\n\nThis change also removes the pin for the very old Ruby version.\n\nCloses-Bug: #1917457\nChange-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0\n(cherry picked from commit 4d2d86e0df434ee25a508aceb1ea209a0c64f80b)\n""}]",0,778621,2340e58057cd384535d789a6bec78fa02eb7163c,6,3,1,16312,,,0,"pin bundler to 2.2.11

It seems the latest 2.2.12 requires rake>13.0 installed and that
requirement doesn't work well in current our CI jobs.
Let's pin it to the previous version until we resolve the issue.

This change also removes the pin for the very old Ruby version.

Closes-Bug: #1917457
Change-Id: I62f35dce338ae186a217dd1d0a141d3a737243a0
(cherry picked from commit 4d2d86e0df434ee25a508aceb1ea209a0c64f80b)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/21/778621/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-unit-tests.yaml', 'playbooks/run-syntax-tests.yaml', 'playbooks/prepare-node-integration.yaml', 'playbooks/run-lint-tests.yaml']",4,2340e58057cd384535d789a6bec78fa02eb7163c,, cmd += ' -v 2.2.11', if Gem::Version.new(RUBY_VERSION) < Gem::Version.new('2.3.0') then cmd += ' -v 1.17.3' end,4,12
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~I7ee221be2a01b0e8b22b51902a81fe29bb624db3,openstack/puppet-openstack-integration,stable/victoria,I7ee221be2a01b0e8b22b51902a81fe29bb624db3,Update the cirros version to 0.5.1,MERGED,2021-03-03 13:56:46.000000000,2021-03-04 18:35:03.000000000,2021-03-04 18:35:03.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 13:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7186ad9c23d6e7450565abbf52e7d8f9c586bae8', 'message': 'Update the cirros version to 0.5.1\n\nWe are hitting random timeout issues when intances trying to get\nmetadata. This version includes a fix for this [1].\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n\nChange-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3\n(cherry picked from commit 90671b2e0b05ea908a375c5bdb271afb55014870)\n'}, {'number': 2, 'created': '2021-03-04 04:56:13.000000000', 'files': ['run_tests.sh', 'manifests/tempest.pp', 'manifests/provision.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e1740e1a217ab76effab3625f18eeeaac5b85a68', 'message': 'Update the cirros version to 0.5.1\n\nWe are hitting random timeout issues when intances trying to get\nmetadata. This version includes a fix for this [1].\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n\nChange-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3\n(cherry picked from commit 90671b2e0b05ea908a375c5bdb271afb55014870)\n'}]",0,778421,e1740e1a217ab76effab3625f18eeeaac5b85a68,9,5,2,13861,,,0,"Update the cirros version to 0.5.1

We are hitting random timeout issues when intances trying to get
metadata. This version includes a fix for this [1].

[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129

Change-Id: I7ee221be2a01b0e8b22b51902a81fe29bb624db3
(cherry picked from commit 90671b2e0b05ea908a375c5bdb271afb55014870)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/21/778421/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'manifests/tempest.pp', 'manifests/provision.pp']",3,7186ad9c23d6e7450565abbf52e7d8f9c586bae8,, source => '/tmp/openstack/image/cirros-0.5.1-x86_64-disk.img' source => '/tmp/openstack/image/cirros-0.5.1-x86_64-disk.img', source => '/tmp/openstack/image/cirros-0.4.0-x86_64-disk.img' source => '/tmp/openstack/image/cirros-0.4.0-x86_64-disk.img',7,7
openstack%2Fglance-tempest-plugin~master~I666828b65cf8e9b1e4e58a4f6b073d6fe52f1d38,openstack/glance-tempest-plugin,master,I666828b65cf8e9b1e4e58a4f6b073d6fe52f1d38,Add base tests case for copy_image test,NEW,2021-03-04 17:23:06.000000000,2021-03-04 18:29:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-04 17:23:06.000000000', 'files': ['glance_tempest_plugin/tests/rbac/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/52c8332e7b92abc640fb2754307c49862727e160', 'message': ""Add base tests case for copy_image test\n\nTesting copy_image functionality between backends requires us to deploy\nmultiple stores. This commit just lays down a base tests because this\npolicy is something we need to test since it's only exposed to admins by\ndefault.\n\nChange-Id: I666828b65cf8e9b1e4e58a4f6b073d6fe52f1d38\n""}]",0,778756,52c8332e7b92abc640fb2754307c49862727e160,2,1,1,5046,,,0,"Add base tests case for copy_image test

Testing copy_image functionality between backends requires us to deploy
multiple stores. This commit just lays down a base tests because this
policy is something we need to test since it's only exposed to admins by
default.

Change-Id: I666828b65cf8e9b1e4e58a4f6b073d6fe52f1d38
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/56/778756/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_tempest_plugin/tests/rbac/v2/test_images.py'],1,52c8332e7b92abc640fb2754307c49862727e160,secure-rbac, @abc.abstractmethod def test_copy_image(self): pass def test_copy_image(self): skip_msg = 'Copy image requires multiple glance backends.' raise self.skipException(skip_msg) def test_copy_image(self): skip_msg = 'Copy image requires multiple glance backends.' raise self.skipException(skip_msg) ,,12,0
openstack%2Fhorizon~master~Iaacb86e5451ee7271de797a0184a6456f5b37eb6,openstack/horizon,master,Iaacb86e5451ee7271de797a0184a6456f5b37eb6,Drop translation marker from upgrade-check help,MERGED,2021-02-17 22:46:26.000000000,2021-03-04 18:26:05.000000000,2021-03-04 18:20:07.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-17 22:46:26.000000000', 'files': ['openstack_dashboard/management/commands/upgrade_check.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/73a4c36829746d15d3a18d50f0b3d3bfe8bada24', 'message': 'Drop translation marker from upgrade-check help\n\nWhen the translation marker _(..) is used in the ""help"" attribute of\na Django management command, --help option fails. It seems translation\nmarker is not evaluated and directly passed to argparse library.\nWe don\'t translate Django management commands, so we can safely drop it.\n\nChange-Id: Iaacb86e5451ee7271de797a0184a6456f5b37eb6\n'}]",0,776289,73a4c36829746d15d3a18d50f0b3d3bfe8bada24,8,3,1,841,,,0,"Drop translation marker from upgrade-check help

When the translation marker _(..) is used in the ""help"" attribute of
a Django management command, --help option fails. It seems translation
marker is not evaluated and directly passed to argparse library.
We don't translate Django management commands, so we can safely drop it.

Change-Id: Iaacb86e5451ee7271de797a0184a6456f5b37eb6
",git fetch https://review.opendev.org/openstack/horizon refs/changes/89/776289/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/management/commands/upgrade_check.py'],1,73a4c36829746d15d3a18d50f0b3d3bfe8bada24,upgrade-check-help," help = ""Perform a check to see if the application is ready for upgrade."""," help = _(""Perform a check to see if the application is ready for upgrade."")",1,1
openstack%2Fkayobe~master~I0ecf4f4ce9b7333d3e41c69c3f908bee83391781,openstack/kayobe,master,I0ecf4f4ce9b7333d3e41c69c3f908bee83391781,Ubuntu: update Apt cache before package installation,MERGED,2021-02-11 12:01:06.000000000,2021-03-04 18:24:12.000000000,2021-03-04 18:21:59.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-11 12:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/08cb64287089a703528f61753490e4a09ae53bda', 'message': 'Ubuntu: update Apt cache before package installation\n\nUpdate Apt cache prior to all package installation tasks.\n\nAdds apt_cache_valid_time, which defaults to 3600 seconds. This allows\nthe time for which the Apt cache is valid to be configured.\n\nChange-Id: I0ecf4f4ce9b7333d3e41c69c3f908bee83391781\nStory: 2004960\nTask: 41766\n'}, {'number': 2, 'created': '2021-02-24 10:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/52562f54cb8fc455a56604387dbe862b53f55014', 'message': 'Ubuntu: update Apt cache before package installation\n\nUpdate Apt cache prior to all package installation tasks.\n\nAdds apt_cache_valid_time, which defaults to 3600 seconds. This allows\nthe time for which the Apt cache is valid to be configured.\n\nChange-Id: I0ecf4f4ce9b7333d3e41c69c3f908bee83391781\nStory: 2004960\nTask: 41766\n'}, {'number': 3, 'created': '2021-02-24 13:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a27ca1e59a8a5882cf9380620534cd4f51b4d7bb', 'message': 'Ubuntu: update Apt cache before package installation\n\nUpdate Apt cache prior to all package installation tasks.\n\nAdds apt_cache_valid_time, which defaults to 3600 seconds. This allows\nthe time for which the Apt cache is valid to be configured.\n\nChange-Id: I0ecf4f4ce9b7333d3e41c69c3f908bee83391781\nStory: 2004960\nTask: 41766\n'}, {'number': 4, 'created': '2021-02-24 17:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/de0b8764f8aa31c4eaf4521aa55903ecd0a945b5', 'message': 'Ubuntu: update Apt cache before package installation\n\nUpdate Apt cache prior to all package installation tasks.\n\nAdds apt_cache_valid_time, which defaults to 3600 seconds. This allows\nthe time for which the Apt cache is valid to be configured.\n\nChange-Id: I0ecf4f4ce9b7333d3e41c69c3f908bee83391781\nStory: 2004960\nTask: 41766\n'}, {'number': 5, 'created': '2021-02-25 09:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/193b99e2d2871f6139d392629285e704aab93f1d', 'message': 'Ubuntu: update Apt cache before package installation\n\nUpdate Apt cache prior to all package installation tasks.\n\nAdds apt_cache_valid_time, which defaults to 3600 seconds. This allows\nthe time for which the Apt cache is valid to be configured.\n\nChange-Id: I0ecf4f4ce9b7333d3e41c69c3f908bee83391781\nStory: 2004960\nTask: 41766\n'}, {'number': 6, 'created': '2021-03-01 18:00:49.000000000', 'files': ['ansible/roles/swift-block-devices/tests/test-invalid-format.yml', 'ansible/group_vars/all/apt', 'ansible/roles/kolla/tasks/install.yml', 'ansible/roles/swift-block-devices/tests/test-bootstrapped.yml', 'ansible/roles/wipe-disks/tasks/main.yml', 'ansible/roles/kolla-ansible/tasks/install.yml', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/snat/tasks/main.yml', 'etc/kayobe/apt.yml', 'ansible/roles/swift-block-devices/tests/test-mount.yml', 'ansible/roles/pip/tasks/pip_conf.yml', 'ansible/roles/bootstrap/tasks/main.yml', 'ansible/idrac-bootstrap.yml', 'ansible/roles/swift-block-devices/tasks/main.yml', 'ansible/roles/kolla-ansible/tests/test-requirements.yml', 'ansible/kolla-target-venv.yml', 'ansible/compute-node-discovery.yml', 'ansible/roles/dev-tools/tasks/main.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/kayobe-target-venv.yml', 'ansible/roles/disable-selinux/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0c309a18c8ab5de7cf5302ada713ba972381d352', 'message': 'Ubuntu: update Apt cache before package installation\n\nUpdate Apt cache prior to all package installation tasks.\n\nAdds apt_cache_valid_time, which defaults to 3600 seconds. This allows\nthe time for which the Apt cache is valid to be configured.\n\nChange-Id: I0ecf4f4ce9b7333d3e41c69c3f908bee83391781\nStory: 2004960\nTask: 41766\n'}]",0,775130,0c309a18c8ab5de7cf5302ada713ba972381d352,27,3,6,14826,,,0,"Ubuntu: update Apt cache before package installation

Update Apt cache prior to all package installation tasks.

Adds apt_cache_valid_time, which defaults to 3600 seconds. This allows
the time for which the Apt cache is valid to be configured.

Change-Id: I0ecf4f4ce9b7333d3e41c69c3f908bee83391781
Story: 2004960
Task: 41766
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/30/775130/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/apt', 'ansible/roles/kolla/tasks/install.yml', 'ansible/roles/wipe-disks/tasks/main.yml', 'ansible/roles/kolla-ansible/tasks/install.yml', 'ansible/roles/snat/tasks/main.yml', 'etc/kayobe/apt.yml', 'ansible/roles/pip/tasks/pip_conf.yml', 'ansible/roles/bootstrap/tasks/main.yml', 'ansible/idrac-bootstrap.yml', 'ansible/roles/swift-block-devices/tasks/main.yml', 'ansible/kolla-target-venv.yml', 'ansible/compute-node-discovery.yml', 'ansible/roles/dev-tools/tasks/main.yml', 'ansible/kayobe-target-venv.yml', 'ansible/roles/disable-selinux/tasks/main.yml']",15,08cb64287089a703528f61753490e4a09ae53bda,story/2004960,"- name: Ensure apt cache is updated apt: cache_valid_time: ""{{ apt_cache_valid_time }}"" update_cache: true become: true when: ansible_os_family == 'Debian' ",,107,0
openstack%2Fhorizon~master~I835a3216f237ca09183206012137f58d2964bbc0,openstack/horizon,master,I835a3216f237ca09183206012137f58d2964bbc0,upgrade_check: Convert KNOWN_SETTINGS into one-per-line style,MERGED,2021-02-18 01:21:28.000000000,2021-03-04 18:24:10.000000000,2021-03-04 18:19:36.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-18 01:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/89501d09195217b3d0b2e19f4107e24e6655dca3', 'message': 'upgrade_check: Convert KNOWN_SETTINGS into one-per-line style\n\nThis is a preparation for the next commit which touches KWNON_SETTINGS.\nOne entry per line would improve the readability of the next change a lot.\n\nChange-Id: I835a3216f237ca09183206012137f58d2964bbc0\n'}, {'number': 2, 'created': '2021-02-18 01:43:20.000000000', 'files': ['openstack_dashboard/management/commands/upgrade_check.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b02d1267ab7408c9d41564698f17e45f420bdbc9', 'message': 'upgrade_check: Convert KNOWN_SETTINGS into one-per-line style\n\nThis is a preparation for the next commit which touches KWNON_SETTINGS.\nOne entry per line would improve the readability of the next change a lot.\n\nChange-Id: I835a3216f237ca09183206012137f58d2964bbc0\n'}]",0,776299,b02d1267ab7408c9d41564698f17e45f420bdbc9,9,3,2,841,,,0,"upgrade_check: Convert KNOWN_SETTINGS into one-per-line style

This is a preparation for the next commit which touches KWNON_SETTINGS.
One entry per line would improve the readability of the next change a lot.

Change-Id: I835a3216f237ca09183206012137f58d2964bbc0
",git fetch https://review.opendev.org/openstack/horizon refs/changes/99/776299/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/management/commands/upgrade_check.py'],1,89501d09195217b3d0b2e19f4107e24e6655dca3,upgrade-check-improve," 'CACHES', 'CACHE_MIDDLEWARE_ALIAS', 'CACHE_MIDDLEWARE_KEY_PREFIX', 'CACHE_MIDDLEWARE_SECONDS', 'COMPRESS_CACHEABLE_PRECOMPILERS', 'COMPRESS_CACHE_BACKEND', 'COMPRESS_CACHE_KEY_FUNCTION', 'COMPRESS_CLEAN_CSS_ARGUMENTS', 'COMPRESS_CLEAN_CSS_BINARY', 'COMPRESS_CLOSURE_COMPILER_BINARY', 'COMPRESS_CSS_COMPRESSOR', 'COMPRESS_CSS_FILTERS', 'COMPRESS_CSS_HASHING_METHOD', 'COMPRESS_DATA_URI_MAX_SIZE', 'COMPRESS_DEBUG_TOGGLE', 'COMPRESS_ENABLED', 'COMPRESS_JINJA2_GET_ENVIRONMENT', 'COMPRESS_JS_COMPRESSOR', 'COMPRESS_JS_FILTERS', 'COMPRESS_MINT_DELAY', 'COMPRESS_MTIME_DELAY', 'COMPRESS_OFFLINE', 'COMPRESS_OFFLINE_CONTEXT', 'COMPRESS_OFFLINE_MANIFEST', 'COMPRESS_OFFLINE_TIMEOUT', 'COMPRESS_OUTPUT_DIR', 'COMPRESS_PARSER', 'COMPRESS_PRECOMPILERS', 'COMPRESS_REBUILD_TIMEOUT', 'COMPRESS_ROOT', 'COMPRESS_STORAGE', 'COMPRESS_TEMPLATE_FILTER_CONTEXT', 'COMPRESS_URL', 'COMPRESS_URL_PLACEHOLDER', 'COMPRESS_VERBOSE', 'COMPRESS_YUGLIFY_BINARY', 'COMPRESS_YUGLIFY_CSS_ARGUMENTS', 'COMPRESS_YUGLIFY_JS_ARGUMENTS', 'COMPRESS_YUI_BINARY', 'COMPRESS_YUI_CSS_ARGUMENTS', 'COMPRESS_YUI_JS_ARGUMENTS', 'CONSOLE_TYPE', 'CREATE_INSTANCE_FLAVOR_SORT', 'CSRF_COOKIE_AGE', 'CSRF_COOKIE_DOMAIN', 'CSRF_COOKIE_HTTPONLY', 'CSRF_COOKIE_NAME', 'CSRF_COOKIE_PATH', 'CSRF_COOKIE_SECURE', 'CSRF_FAILURE_VIEW', 'CSRF_HEADER_NAME', 'CSRF_TRUSTED_ORIGINS', 'CSRF_USE_SESSIONS', 'DATABASES', 'DATABASE_ROUTERS', 'DATA_UPLOAD_MAX_MEMORY_SIZE', 'DATA_UPLOAD_MAX_NUMBER_FIELDS', 'DATEPICKER_LOCALES', 'DATETIME_FORMAT', 'DATETIME_INPUT_FORMATS', 'DATE_FORMAT', 'DATE_INPUT_FORMATS', 'DEBUG', 'DEBUG_PROPAGATE_EXCEPTIONS', 'DECIMAL_SEPARATOR', 'DEFAULT_CHARSET', 'DEFAULT_CONTENT_TYPE', 'DEFAULT_EXCEPTION_REPORTER_FILTER', 'DEFAULT_FILE_STORAGE', 'DEFAULT_FROM_EMAIL', 'DEFAULT_INDEX_TABLESPACE', 'DEFAULT_SERVICE_REGIONS', 'DEFAULT_TABLESPACE', 'DEFAULT_THEME', 'DISALLOWED_USER_AGENTS', 'DROPDOWN_MAX_ITEMS', 'EMAIL_BACKEND', 'EMAIL_HOST', 'EMAIL_HOST_PASSWORD', 'EMAIL_HOST_USER', 'EMAIL_PORT', 'EMAIL_SSL_CERTFILE', 'EMAIL_SSL_KEYFILE', 'EMAIL_SUBJECT_PREFIX', 'EMAIL_TIMEOUT', 'EMAIL_USE_LOCALTIME', 'EMAIL_USE_SSL', 'EMAIL_USE_TLS', 'ENABLE_CLIENT_TOKEN', 'ENFORCE_PASSWORD_CHECK', 'EXTERNAL_MONITORING', 'FILE_CHARSET', 'FILE_UPLOAD_DIRECTORY_PERMISSIONS', 'FILE_UPLOAD_HANDLERS', 'FILE_UPLOAD_MAX_MEMORY_SIZE', 'FILE_UPLOAD_PERMISSIONS', 'FILE_UPLOAD_TEMP_DIR', 'FILTER_DATA_FIRST', 'FIRST_DAY_OF_WEEK', 'FIXTURE_DIRS', 'FORCE_SCRIPT_NAME', 'FORMAT_MODULE_PATH', 'FORM_RENDERER', 'HORIZON_COMPRESS_OFFLINE_CONTEXT_BASE', 'HORIZON_CONFIG', 'HORIZON_IMAGES_UPLOAD_MODE', 'IGNORABLE_404_URLS', 'IMAGES_ALLOW_LOCATION', 'IMAGES_LIST_FILTER_TENANTS', 'IMAGE_CUSTOM_PROPERTY_TITLES', 'IMAGE_RESERVED_CUSTOM_PROPERTIES', 'INSTALLED_APPS', 'INSTANCE_LOG_LENGTH', 'INTEGRATION_TESTS_SUPPORT', 'INTERNAL_IPS', 'KEYSTONE_PROVIDER_IDP_ID', 'KEYSTONE_PROVIDER_IDP_NAME', 'LANGUAGES', 'LANGUAGES_BIDI', 'LANGUAGE_CODE', 'LANGUAGE_COOKIE_AGE', 'LANGUAGE_COOKIE_DOMAIN', 'LANGUAGE_COOKIE_NAME', 'LANGUAGE_COOKIE_PATH', 'LAUNCH_INSTANCE_DEFAULTS', 'LAUNCH_INSTANCE_LEGACY_ENABLED', 'LAUNCH_INSTANCE_NG_ENABLED', 'LOCALE_PATHS', 'LOCAL_PATH', 'LOCAL_SETTINGS_DIR_PATH', 'LOGGING', 'LOGGING_CONFIG', 'LOGIN_ERROR', 'LOGIN_REDIRECT_URL', 'LOGIN_URL', 'LOGOUT_REDIRECT_URL', 'LOGOUT_URL', 'MANAGERS', 'MEDIA_ROOT', 'MEDIA_URL', 'MEMOIZED_MAX_SIZE_DEFAULT', 'MESSAGES_PATH', 'MESSAGE_STORAGE', 'MIDDLEWARE', 'MIDDLEWARE_CLASSES', 'MIGRATION_MODULES', 'MONTH_DAY_FORMAT', 'NG_TEMPLATE_CACHE_AGE', 'NUMBER_GROUPING', 'OPENRC_CUSTOM_TEMPLATE', 'OPENSTACK_API_VERSIONS', 'OPENSTACK_CINDER_FEATURES', 'OPENSTACK_CLOUDS_YAML_CUSTOM_TEMPLATE', 'OPENSTACK_CLOUDS_YAML_NAME', 'OPENSTACK_CLOUDS_YAML_PROFILE', 'OPENSTACK_ENABLE_PASSWORD_RETRIEVE', 'OPENSTACK_ENDPOINT_TYPE', 'OPENSTACK_HEAT_STACK', 'OPENSTACK_HOST', 'OPENSTACK_HYPERVISOR_FEATURES', 'OPENSTACK_IMAGE_BACKEND', 'OPENSTACK_IMAGE_FORMATS', 'OPENSTACK_KEYSTONE_ADMIN_ROLES', 'OPENSTACK_KEYSTONE_BACKEND', 'OPENSTACK_KEYSTONE_DEFAULT_DOMAIN', 'OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT', 'OPENSTACK_KEYSTONE_URL', 'OPENSTACK_NEUTRON_NETWORK', 'OPENSTACK_PROFILER', 'OPENSTACK_SSL_CACERT', 'OPENSTACK_SSL_NO_VERIFY', 'OPERATION_LOG_ENABLED', 'OPERATION_LOG_OPTIONS', 'OVERVIEW_DAYS_RANGE', 'PASSWORD_HASHERS', 'PASSWORD_RESET_TIMEOUT_DAYS', 'POLICY_CHECK_FUNCTION', 'POLICY_DIRS', 'POLICY_FILES', 'POLICY_FILES_PATH', 'PREPEND_WWW', 'PROJECT_TABLE_EXTRA_INFO', 'REST_API_ADDITIONAL_SETTINGS', 'REST_API_REQUIRED_SETTINGS', 'ROOT_PATH', 'ROOT_URLCONF', 'SECONDARY_ENDPOINT_TYPE', 'SECRET_KEY', 'SECURE_BROWSER_XSS_FILTER', 'SECURE_CONTENT_TYPE_NOSNIFF', 'SECURE_HSTS_INCLUDE_SUBDOMAINS', 'SECURE_HSTS_PRELOAD', 'SECURE_HSTS_SECONDS', 'SECURE_PROXY_SSL_HEADER', 'SECURE_REDIRECT_EXEMPT', 'SECURE_SSL_HOST', 'SECURE_SSL_REDIRECT', 'SECURITY_GROUP_RULES', 'SELECTABLE_THEMES', 'SERVER_EMAIL', 'SESSION_CACHE_ALIAS', 'SESSION_COOKIE_AGE', 'SESSION_COOKIE_DOMAIN', 'SESSION_COOKIE_HTTPONLY', 'SESSION_COOKIE_MAX_SIZE', 'SESSION_COOKIE_NAME', 'SESSION_COOKIE_PATH', 'SESSION_COOKIE_SECURE', 'SESSION_ENGINE', 'SESSION_EXPIRE_AT_BROWSER_CLOSE', 'SESSION_FILE_PATH', 'SESSION_REFRESH', 'SESSION_SAVE_EVERY_REQUEST', 'SESSION_SERIALIZER', 'SESSION_TIMEOUT', 'SETTINGS_MODULE', 'SHORT_DATETIME_FORMAT', 'SHORT_DATE_FORMAT', 'SHOW_OPENRC_FILE', 'SHOW_OPENSTACK_CLOUDS_YAML', 'SIGNING_BACKEND', 'SILENCED_SYSTEM_CHECKS', 'SITE_BRANDING', 'SITE_BRANDING_LINK', 'STATICFILES_DIRS', 'STATICFILES_FINDERS', 'STATICFILES_STORAGE', 'STATIC_ROOT', 'STATIC_URL', 'SWIFT_FILE_TRANSFER_CHUNK_SIZE', 'TEMPLATES', 'TESTSERVER', 'TEST_GLOBAL_MOCKS_ON_PANELS', 'TEST_NON_SERIALIZED_APPS', 'TEST_RUNNER', 'THEME_COLLECTION_DIR', 'THEME_COOKIE_NAME', 'THOUSAND_SEPARATOR', 'TIME_FORMAT', 'TIME_INPUT_FORMATS', 'TIME_ZONE', 'TOKEN_TIMEOUT_MARGIN', 'USER_MENU_LINKS', 'USER_TABLE_EXTRA_INFO', 'USE_ETAGS', 'USE_I18N', 'USE_L10N', 'USE_THOUSAND_SEPARATOR', 'USE_TZ', 'USE_X_FORWARDED_HOST', 'USE_X_FORWARDED_PORT', 'WEBROOT', 'WEBSSO_CHOICES', 'WEBSSO_DEFAULT_REDIRECT', 'WEBSSO_DEFAULT_REDIRECT_LOGOUT', 'WEBSSO_DEFAULT_REDIRECT_PROTOCOL', 'WEBSSO_DEFAULT_REDIRECT_REGION', 'WEBSSO_ENABLED', 'WEBSSO_IDP_MAPPING', 'WEBSSO_INITIAL_CHOICE', 'WEBSSO_KEYSTONE_URL', 'WSGI_APPLICATION', 'XSTATIC_MODULES', 'X_FRAME_OPTIONS', 'YEAR_MONTH_FORMAT',"," 'CACHES', 'CACHE_MIDDLEWARE_ALIAS', 'CACHE_MIDDLEWARE_KEY_PREFIX', 'CACHE_MIDDLEWARE_SECONDS', 'COMPRESS_CACHEABLE_PRECOMPILERS', 'COMPRESS_CACHE_BACKEND', 'COMPRESS_CACHE_KEY_FUNCTION', 'COMPRESS_CLEAN_CSS_ARGUMENTS', 'COMPRESS_CLEAN_CSS_BINARY', 'COMPRESS_CLOSURE_COMPILER_BINARY', 'COMPRESS_CSS_COMPRESSOR', 'COMPRESS_CSS_FILTERS', 'COMPRESS_CSS_HASHING_METHOD', 'COMPRESS_DATA_URI_MAX_SIZE', 'COMPRESS_DEBUG_TOGGLE', 'COMPRESS_ENABLED', 'COMPRESS_JINJA2_GET_ENVIRONMENT', 'COMPRESS_JS_COMPRESSOR', 'COMPRESS_JS_FILTERS', 'COMPRESS_MINT_DELAY', 'COMPRESS_MTIME_DELAY', 'COMPRESS_OFFLINE', 'COMPRESS_OFFLINE_CONTEXT', 'COMPRESS_OFFLINE_MANIFEST', 'COMPRESS_OFFLINE_TIMEOUT', 'COMPRESS_OUTPUT_DIR', 'COMPRESS_PARSER', 'COMPRESS_PRECOMPILERS', 'COMPRESS_REBUILD_TIMEOUT', 'COMPRESS_ROOT', 'COMPRESS_STORAGE', 'COMPRESS_TEMPLATE_FILTER_CONTEXT', 'COMPRESS_URL', 'COMPRESS_URL_PLACEHOLDER', 'COMPRESS_VERBOSE', 'COMPRESS_YUGLIFY_BINARY', 'COMPRESS_YUGLIFY_CSS_ARGUMENTS', 'COMPRESS_YUGLIFY_JS_ARGUMENTS', 'COMPRESS_YUI_BINARY', 'COMPRESS_YUI_CSS_ARGUMENTS', 'COMPRESS_YUI_JS_ARGUMENTS', 'CONSOLE_TYPE', 'CREATE_INSTANCE_FLAVOR_SORT', 'CSRF_COOKIE_AGE', 'CSRF_COOKIE_DOMAIN', 'CSRF_COOKIE_HTTPONLY', 'CSRF_COOKIE_NAME', 'CSRF_COOKIE_PATH', 'CSRF_COOKIE_SECURE', 'CSRF_FAILURE_VIEW', 'CSRF_HEADER_NAME', 'CSRF_TRUSTED_ORIGINS', 'CSRF_USE_SESSIONS', 'DATABASES', 'DATABASE_ROUTERS', 'DATA_UPLOAD_MAX_MEMORY_SIZE', 'DATA_UPLOAD_MAX_NUMBER_FIELDS', 'DATEPICKER_LOCALES', 'DATETIME_FORMAT', 'DATETIME_INPUT_FORMATS', 'DATE_FORMAT', 'DATE_INPUT_FORMATS', 'DEBUG', 'DEBUG_PROPAGATE_EXCEPTIONS', 'DECIMAL_SEPARATOR', 'DEFAULT_CHARSET', 'DEFAULT_CONTENT_TYPE', 'DEFAULT_EXCEPTION_REPORTER_FILTER', 'DEFAULT_FILE_STORAGE', 'DEFAULT_FROM_EMAIL', 'DEFAULT_INDEX_TABLESPACE', 'DEFAULT_SERVICE_REGIONS', 'DEFAULT_TABLESPACE', 'DEFAULT_THEME', 'DISALLOWED_USER_AGENTS', 'DROPDOWN_MAX_ITEMS', 'EMAIL_BACKEND', 'EMAIL_HOST', 'EMAIL_HOST_PASSWORD', 'EMAIL_HOST_USER', 'EMAIL_PORT', 'EMAIL_SSL_CERTFILE', 'EMAIL_SSL_KEYFILE', 'EMAIL_SUBJECT_PREFIX', 'EMAIL_TIMEOUT', 'EMAIL_USE_LOCALTIME', 'EMAIL_USE_SSL', 'EMAIL_USE_TLS', 'ENABLE_CLIENT_TOKEN', 'ENFORCE_PASSWORD_CHECK', 'EXTERNAL_MONITORING', 'FILE_CHARSET', 'FILE_UPLOAD_DIRECTORY_PERMISSIONS', 'FILE_UPLOAD_HANDLERS', 'FILE_UPLOAD_MAX_MEMORY_SIZE', 'FILE_UPLOAD_PERMISSIONS', 'FILE_UPLOAD_TEMP_DIR', 'FILTER_DATA_FIRST', 'FIRST_DAY_OF_WEEK', 'FIXTURE_DIRS', 'FORCE_SCRIPT_NAME', 'FORMAT_MODULE_PATH', 'FORM_RENDERER', 'HORIZON_COMPRESS_OFFLINE_CONTEXT_BASE', 'HORIZON_CONFIG', 'HORIZON_IMAGES_UPLOAD_MODE', 'IGNORABLE_404_URLS', 'IMAGES_ALLOW_LOCATION', 'IMAGES_LIST_FILTER_TENANTS', 'IMAGE_CUSTOM_PROPERTY_TITLES', 'IMAGE_RESERVED_CUSTOM_PROPERTIES', 'INSTALLED_APPS', 'INSTANCE_LOG_LENGTH', 'INTEGRATION_TESTS_SUPPORT', 'INTERNAL_IPS', 'KEYSTONE_PROVIDER_IDP_ID', 'KEYSTONE_PROVIDER_IDP_NAME', 'LANGUAGES', 'LANGUAGES_BIDI', 'LANGUAGE_CODE', 'LANGUAGE_COOKIE_AGE', 'LANGUAGE_COOKIE_DOMAIN', 'LANGUAGE_COOKIE_NAME', 'LANGUAGE_COOKIE_PATH', 'LAUNCH_INSTANCE_DEFAULTS', 'LAUNCH_INSTANCE_LEGACY_ENABLED', 'LAUNCH_INSTANCE_NG_ENABLED', 'LOCALE_PATHS', 'LOCAL_PATH', 'LOCAL_SETTINGS_DIR_PATH', 'LOGGING', 'LOGGING_CONFIG', 'LOGIN_ERROR', 'LOGIN_REDIRECT_URL', 'LOGIN_URL', 'LOGOUT_REDIRECT_URL', 'LOGOUT_URL', 'MANAGERS', 'MEDIA_ROOT', 'MEDIA_URL', 'MEMOIZED_MAX_SIZE_DEFAULT', 'MESSAGES_PATH', 'MESSAGE_STORAGE', 'MIDDLEWARE', 'MIDDLEWARE_CLASSES', 'MIGRATION_MODULES', 'MONTH_DAY_FORMAT', 'NG_TEMPLATE_CACHE_AGE', 'NUMBER_GROUPING', 'OPENRC_CUSTOM_TEMPLATE', 'OPENSTACK_API_VERSIONS', 'OPENSTACK_CINDER_FEATURES', 'OPENSTACK_CLOUDS_YAML_CUSTOM_TEMPLATE', 'OPENSTACK_CLOUDS_YAML_NAME', 'OPENSTACK_CLOUDS_YAML_PROFILE', 'OPENSTACK_ENABLE_PASSWORD_RETRIEVE', 'OPENSTACK_ENDPOINT_TYPE', 'OPENSTACK_HEAT_STACK', 'OPENSTACK_HOST', 'OPENSTACK_HYPERVISOR_FEATURES', 'OPENSTACK_IMAGE_BACKEND', 'OPENSTACK_IMAGE_FORMATS', 'OPENSTACK_KEYSTONE_ADMIN_ROLES', 'OPENSTACK_KEYSTONE_BACKEND', 'OPENSTACK_KEYSTONE_DEFAULT_DOMAIN', 'OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT', 'OPENSTACK_KEYSTONE_URL', 'OPENSTACK_NEUTRON_NETWORK', 'OPENSTACK_PROFILER', 'OPENSTACK_SSL_CACERT', 'OPENSTACK_SSL_NO_VERIFY', 'OPERATION_LOG_ENABLED', 'OPERATION_LOG_OPTIONS', 'OVERVIEW_DAYS_RANGE', 'PASSWORD_HASHERS', 'PASSWORD_RESET_TIMEOUT_DAYS', 'POLICY_CHECK_FUNCTION', 'POLICY_DIRS', 'POLICY_FILES', 'POLICY_FILES_PATH', 'PREPEND_WWW', 'PROJECT_TABLE_EXTRA_INFO', 'REST_API_ADDITIONAL_SETTINGS', 'REST_API_REQUIRED_SETTINGS', 'ROOT_PATH', 'ROOT_URLCONF', 'SECONDARY_ENDPOINT_TYPE', 'SECRET_KEY', 'SECURE_BROWSER_XSS_FILTER', 'SECURE_CONTENT_TYPE_NOSNIFF', 'SECURE_HSTS_INCLUDE_SUBDOMAINS', 'SECURE_HSTS_PRELOAD', 'SECURE_HSTS_SECONDS', 'SECURE_PROXY_SSL_HEADER', 'SECURE_REDIRECT_EXEMPT', 'SECURE_SSL_HOST', 'SECURE_SSL_REDIRECT', 'SECURITY_GROUP_RULES', 'SELECTABLE_THEMES', 'SERVER_EMAIL', 'SESSION_CACHE_ALIAS', 'SESSION_COOKIE_AGE', 'SESSION_COOKIE_DOMAIN', 'SESSION_COOKIE_HTTPONLY', 'SESSION_COOKIE_MAX_SIZE', 'SESSION_COOKIE_NAME', 'SESSION_COOKIE_PATH', 'SESSION_COOKIE_SECURE', 'SESSION_ENGINE', 'SESSION_EXPIRE_AT_BROWSER_CLOSE', 'SESSION_FILE_PATH', 'SESSION_REFRESH', 'SESSION_SAVE_EVERY_REQUEST', 'SESSION_SERIALIZER', 'SESSION_TIMEOUT', 'SETTINGS_MODULE', 'SHORT_DATETIME_FORMAT', 'SHORT_DATE_FORMAT', 'SHOW_OPENRC_FILE', 'SHOW_OPENSTACK_CLOUDS_YAML', 'SIGNING_BACKEND', 'SILENCED_SYSTEM_CHECKS', 'SITE_BRANDING', 'SITE_BRANDING_LINK', 'STATICFILES_DIRS', 'STATICFILES_FINDERS', 'STATICFILES_STORAGE', 'STATIC_ROOT', 'STATIC_URL', 'SWIFT_FILE_TRANSFER_CHUNK_SIZE', 'TEMPLATES', 'TESTSERVER', 'TEST_GLOBAL_MOCKS_ON_PANELS', 'TEST_NON_SERIALIZED_APPS', 'TEST_RUNNER', 'THEME_COLLECTION_DIR', 'THEME_COOKIE_NAME', 'THOUSAND_SEPARATOR', 'TIME_FORMAT', 'TIME_INPUT_FORMATS', 'TIME_ZONE', 'TOKEN_TIMEOUT_MARGIN', 'USER_MENU_LINKS', 'USER_TABLE_EXTRA_INFO', 'USE_ETAGS', 'USE_I18N', 'USE_L10N', 'USE_THOUSAND_SEPARATOR', 'USE_TZ', 'USE_X_FORWARDED_HOST', 'USE_X_FORWARDED_PORT', 'WEBROOT', 'WEBSSO_CHOICES', 'WEBSSO_DEFAULT_REDIRECT', 'WEBSSO_DEFAULT_REDIRECT_LOGOUT', 'WEBSSO_DEFAULT_REDIRECT_PROTOCOL', 'WEBSSO_DEFAULT_REDIRECT_REGION', 'WEBSSO_ENABLED', 'WEBSSO_IDP_MAPPING', 'WEBSSO_INITIAL_CHOICE', 'WEBSSO_KEYSTONE_URL', 'WSGI_APPLICATION', 'XSTATIC_MODULES', 'X_FRAME_OPTIONS', 'YEAR_MONTH_FORMAT',",265,103
openstack%2Fhorizon~master~I8b8c6f7ef334c24992b39a848833c05738f8926b,openstack/horizon,master,I8b8c6f7ef334c24992b39a848833c05738f8926b,Update upgrade_check to discover dashboard settings automatically,MERGED,2021-02-18 01:21:28.000000000,2021-03-04 18:19:51.000000000,2021-03-04 18:19:51.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-18 01:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6022815c2d0a069cabdcdd94802ab646fede593d', 'message': 'Update upgrade_check to discover dashboard settings automatically\n\nPreviously upgrade_check maintain a hard-coded list for known settings,\nso we easily miss new horizon settings. Almost all settings are now\ndefined in openstack_dashboard/defaults.py and we can know dashboard\nsettings from here. This commit retrieves the known dashboard settings\nfrom openstack_dashboard/defaults.py.\n\nAfter this change, we still need to maintain Django and related Django\nmodules. This commit also adds new settings added in Django and Django\ncompressor recently.\n\nChange-Id: I8b8c6f7ef334c24992b39a848833c05738f8926b\n'}, {'number': 2, 'created': '2021-02-18 01:43:20.000000000', 'files': ['openstack_dashboard/management/commands/upgrade_check.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1c5b39e2799aaa76a9651fe2fe227f0a82d6b807', 'message': 'Update upgrade_check to discover dashboard settings automatically\n\nPreviously upgrade_check maintain a hard-coded list for known settings,\nso we easily miss new horizon settings. Almost all settings are now\ndefined in openstack_dashboard/defaults.py and we can know dashboard\nsettings from here. This commit retrieves the known dashboard settings\nfrom openstack_dashboard/defaults.py.\n\nAfter this change, we still need to maintain Django and related Django\nmodules. This commit also adds new settings added in Django and Django\ncompressor recently.\n\nChange-Id: I8b8c6f7ef334c24992b39a848833c05738f8926b\n'}]",0,776300,1c5b39e2799aaa76a9651fe2fe227f0a82d6b807,8,3,2,841,,,0,"Update upgrade_check to discover dashboard settings automatically

Previously upgrade_check maintain a hard-coded list for known settings,
so we easily miss new horizon settings. Almost all settings are now
defined in openstack_dashboard/defaults.py and we can know dashboard
settings from here. This commit retrieves the known dashboard settings
from openstack_dashboard/defaults.py.

After this change, we still need to maintain Django and related Django
modules. This commit also adds new settings added in Django and Django
compressor recently.

Change-Id: I8b8c6f7ef334c24992b39a848833c05738f8926b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/776300/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/management/commands/upgrade_check.py'],1,6022815c2d0a069cabdcdd94802ab646fede593d,upgrade-check-improve,"from openstack_dashboard import defaults KNOWN_SETTINGS_NON_DASHBOARD = [ 'ABSOLUTE_URL_OVERRIDES', 'ADD_INSTALLED_APPS', 'ADD_TEMPLATE_DIRS', 'ADD_TEMPLATE_LOADERS', 'ADMINS', 'ALLOWED_HOSTS', 'APPEND_SLASH', 'AUTHENTICATION_BACKENDS', 'AUTH_PASSWORD_VALIDATORS', 'AUTH_USER_MODEL', 'CACHED_TEMPLATE_LOADERS', 'COMPRESSORS', 'COMPRESS_FILTERS', 'CSRF_COOKIE_SAMESITE', 'SESSION_COOKIE_SAMESITE', ] KNOWN_SETTINGS_DASHBOARD = dir(defaults) KNOWN_SETTINGS = set(KNOWN_SETTINGS_DASHBOARD + KNOWN_SETTINGS_NON_DASHBOARD)"," KNOWN_SETTINGS = { 'ABSOLUTE_URL_OVERRIDES', 'ACTION_CSS_CLASSES', 'ADD_INSTALLED_APPS', 'ADD_TEMPLATE_DIRS', 'ADD_TEMPLATE_LOADERS', 'ADMINS', 'ALLOWED_HOSTS', 'ALLOWED_PRIVATE_SUBNET_CIDR', 'ANGULAR_FEATURES', 'API_RESULT_LIMIT', 'API_RESULT_PAGE_SIZE', 'APPEND_SLASH', 'AUTHENTICATION_BACKENDS', 'AUTHENTICATION_URLS', 'AUTH_PASSWORD_VALIDATORS', 'AUTH_USER_MODEL', 'AVAILABLE_REGIONS', 'AVAILABLE_THEMES', 'CACHED_TEMPLATE_LOADERS', 'CONSOLE_TYPE', 'CREATE_INSTANCE_FLAVOR_SORT', 'DEFAULT_SERVICE_REGIONS', 'DEFAULT_THEME', 'DROPDOWN_MAX_ITEMS', 'ENABLE_CLIENT_TOKEN', 'ENFORCE_PASSWORD_CHECK', 'EXTERNAL_MONITORING', 'FILTER_DATA_FIRST', 'HORIZON_COMPRESS_OFFLINE_CONTEXT_BASE', 'HORIZON_IMAGES_UPLOAD_MODE', 'IMAGES_ALLOW_LOCATION', 'IMAGES_LIST_FILTER_TENANTS', 'IMAGE_CUSTOM_PROPERTY_TITLES', 'INSTANCE_LOG_LENGTH', 'INTEGRATION_TESTS_SUPPORT', 'KEYSTONE_PROVIDER_IDP_ID', 'KEYSTONE_PROVIDER_IDP_NAME', 'LAUNCH_INSTANCE_DEFAULTS', 'LAUNCH_INSTANCE_LEGACY_ENABLED', 'LAUNCH_INSTANCE_NG_ENABLED', 'LOGIN_ERROR', 'LOGIN_REDIRECT_URL', 'LOGIN_URL', 'LOGOUT_URL', 'MEDIA_ROOT', 'MEDIA_URL', 'MEMOIZED_MAX_SIZE_DEFAULT', 'MESSAGES_PATH', 'NG_TEMPLATE_CACHE_AGE', 'OPENRC_CUSTOM_TEMPLATE', 'OPENSTACK_API_VERSIONS', 'OPENSTACK_CINDER_FEATURES', 'OPENSTACK_CLOUDS_YAML_CUSTOM_TEMPLATE', 'OPENSTACK_CLOUDS_YAML_NAME', 'OPENSTACK_CLOUDS_YAML_PROFILE', 'OPENSTACK_ENABLE_PASSWORD_RETRIEVE', 'OPENSTACK_ENDPOINT_TYPE', 'OPENSTACK_HYPERVISOR_FEATURES', 'OPENSTACK_IMAGE_BACKEND', 'OPENSTACK_KEYSTONE_ADMIN_ROLES', 'OPENSTACK_KEYSTONE_BACKEND', 'OPENSTACK_KEYSTONE_DEFAULT_DOMAIN', 'OPENSTACK_KEYSTONE_DEFAULT_ROLE', 'OPENSTACK_KEYSTONE_DOMAIN_DROPDOWN', 'OPENSTACK_KEYSTONE_FEDERATION_MANAGEMENT', 'OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT', 'OPENSTACK_KEYSTONE_URL', 'OPENSTACK_NEUTRON_NETWORK', 'OPENSTACK_PROFILER', 'OPENSTACK_SSL_CACERT', 'OPENSTACK_SSL_NO_VERIFY', 'OPERATION_LOG_ENABLED', 'OPERATION_LOG_OPTIONS', 'OVERVIEW_DAYS_RANGE', 'POLICY_CHECK_FUNCTION', 'POLICY_DIRS', 'POLICY_FILES', 'POLICY_FILES_PATH', 'PROJECT_TABLE_EXTRA_INFO', 'REST_API_ADDITIONAL_SETTINGS', 'REST_API_REQUIRED_SETTINGS', 'SECONDARY_ENDPOINT_TYPE', 'SECURITY_GROUP_RULES', 'SELECTABLE_THEMES', 'SESSION_COOKIE_MAX_SIZE', 'SESSION_REFRESH', 'SESSION_TIMEOUT', 'SHOW_OPENRC_FILE', 'SHOW_OPENSTACK_CLOUDS_YAML', 'SITE_BRANDING', 'SITE_BRANDING_LINK', 'STATIC_ROOT', 'STATIC_URL', 'SWIFT_FILE_TRANSFER_CHUNK_SIZE', 'THEME_COLLECTION_DIR', 'THEME_COOKIE_NAME', 'TIME_ZONE', 'TOKEN_TIMEOUT_MARGIN', 'USER_MENU_LINKS', 'USER_TABLE_EXTRA_INFO', 'WEBROOT', 'WEBSSO_CHOICES', 'WEBSSO_DEFAULT_REDIRECT', 'WEBSSO_DEFAULT_REDIRECT_LOGOUT', 'WEBSSO_DEFAULT_REDIRECT_PROTOCOL', 'WEBSSO_DEFAULT_REDIRECT_REGION', 'WEBSSO_ENABLED', 'WEBSSO_IDP_MAPPING', 'WEBSSO_INITIAL_CHOICE', 'WEBSSO_KEYSTONE_URL', }",22,99
openstack%2Fglance~master~I1d7f2e09d21fad44e8d9dc8e212bc61219144b86,openstack/glance,master,I1d7f2e09d21fad44e8d9dc8e212bc61219144b86,DNM: Make sure protection tests protect against policy regressions,ABANDONED,2021-03-04 04:22:18.000000000,2021-03-04 18:15:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-04 04:22:18.000000000', 'files': ['glance/policies/image.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/366b79b99287815f4d2dc1a3631900fca4dd173b', 'message': 'DNM: Make sure protection tests protect against policy regressions\n\nChange-Id: I1d7f2e09d21fad44e8d9dc8e212bc61219144b86\n'}]",0,778609,366b79b99287815f4d2dc1a3631900fca4dd173b,4,1,1,5046,,,0,"DNM: Make sure protection tests protect against policy regressions

Change-Id: I1d7f2e09d21fad44e8d9dc8e212bc61219144b86
",git fetch https://review.opendev.org/openstack/glance refs/changes/09/778609/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/policies/image.py'],1,366b79b99287815f4d2dc1a3631900fca4dd173b,secure-rbac," check_str="""","," check_str=base.ADMIN_OR_PROJECT_MEMBER,",1,1
openstack%2Freleases~master~I9a0ac025c1a65af14e12991e99cb666c42efa2a0,openstack/releases,master,I9a0ac025c1a65af14e12991e99cb666c42efa2a0,fix typos,MERGED,2021-03-04 17:22:51.000000000,2021-03-04 18:08:30.000000000,2021-03-04 18:08:30.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 17:22:51.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/4ca1bbe3662f746bb66cd29424567705267b435d', 'message': 'fix typos\n\nChange-Id: I9a0ac025c1a65af14e12991e99cb666c42efa2a0\n'}]",0,778755,4ca1bbe3662f746bb66cd29424567705267b435d,7,3,1,28522,,,0,"fix typos

Change-Id: I9a0ac025c1a65af14e12991e99cb666c42efa2a0
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/778755/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,4ca1bbe3662f746bb66cd29424567705267b435d,fix-typos, has to be raised as a Feature Freeze Exception (FFE) and approved by the of your cycle-highlights. Cycle highlights are the raw data that helps shape, has to be raised as a Featur Freeze Exception (FFE) and approved by the of your cycle-highlights. Cycle highlights are the raw data hat helps shape,2,2
openstack%2Freleases~master~I7ef1fc2023c79ce2121473b07d3eceda1360d24e,openstack/releases,master,I7ef1fc2023c79ce2121473b07d3eceda1360d24e,Reference `check-release-approval` in our doc,MERGED,2021-02-04 15:24:17.000000000,2021-03-04 17:54:26.000000000,2021-03-04 17:54:26.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-04 15:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/975210249f24b41fff6ba268d96a5e0038727063', 'message': 'Reference `check-release-approval` in our doc\n\nhttps://zuul.opendev.org/t/openstack/job/check-release-approval\n\nChange-Id: I7ef1fc2023c79ce2121473b07d3eceda1360d24e\n'}, {'number': 2, 'created': '2021-03-02 09:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/21211305e57a7712d6a3e0317476079f697a409f', 'message': 'Reference `check-release-approval` in our doc\n\nhttps://zuul.opendev.org/t/openstack/job/check-release-approval\n\nChange-Id: I7ef1fc2023c79ce2121473b07d3eceda1360d24e\n'}, {'number': 3, 'created': '2021-03-04 16:06:34.000000000', 'files': ['doc/source/reference/reviewer_guide.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/d4bfa0de709aa44706b7ad4ffa6eb2b9d1fa0fca', 'message': 'Reference `check-release-approval` in our doc\n\nhttps://zuul.opendev.org/t/openstack/job/check-release-approval\n\nChange-Id: I7ef1fc2023c79ce2121473b07d3eceda1360d24e\n'}]",3,774091,d4bfa0de709aa44706b7ad4ffa6eb2b9d1fa0fca,16,4,3,28522,,,0,"Reference `check-release-approval` in our doc

https://zuul.opendev.org/t/openstack/job/check-release-approval

Change-Id: I7ef1fc2023c79ce2121473b07d3eceda1360d24e
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/774091/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/reviewer_guide.rst'],1,975210249f24b41fff6ba268d96a5e0038727063,check-approval,When a release request is submitted the ``check-release-approval`` job be triggered to checks that release requests were approved by PTL or release liaison. ,,4,0
openstack%2Fcharm-hacluster~master~Icf0c1a9c5e819bd2253d9a631e1ff6875bfd5200,openstack/charm-hacluster,master,Icf0c1a9c5e819bd2253d9a631e1ff6875bfd5200,Remove some more dead code,MERGED,2021-03-04 12:09:47.000000000,2021-03-04 17:49:00.000000000,2021-03-04 17:11:18.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 12:09:47.000000000', 'files': ['hooks/maas.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/6e1f20040ca0d154b50a2e999cfc0e75cc96f48b', 'message': 'Remove some more dead code\n\nChange-Id: Icf0c1a9c5e819bd2253d9a631e1ff6875bfd5200\nRelated-Bug: #1881114\n'}]",0,778663,6e1f20040ca0d154b50a2e999cfc0e75cc96f48b,8,3,1,31289,,,0,"Remove some more dead code

Change-Id: Icf0c1a9c5e819bd2253d9a631e1ff6875bfd5200
Related-Bug: #1881114
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/63/778663/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/maas.py'],1,6e1f20040ca0d154b50a2e999cfc0e75cc96f48b,deprecate-stonith-enabled,,"# Copyright 2016 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import apt_pkg as apt import json import subprocess from charmhelpers.fetch import apt_install from charmhelpers.core.hookenv import ( log, ERROR, ) MAAS_STABLE_PPA = 'ppa:maas-maintainers/stable ' MAAS_PROFILE_NAME = 'maas-juju-hacluster' class MAASHelper(object): def __init__(self, url, creds): self.url = url self.creds = creds self.install_maas_cli() def install_maas_cli(self): """"""Ensure maas-cli is installed Fallback to MAAS stable PPA when needed. """""" apt.init() cache = apt.Cache() try: pkg = cache['maas-cli'] except KeyError: cmd = ['add-apt-repository', '-y', MAAS_STABLE_PPA] subprocess.check_call(cmd) cmd = ['apt-get', 'update'] subprocess.check_call(cmd) self.install_maas_cli() return if not pkg.current_ver: apt_install('maas-cli', fatal=True) def login(self): cmd = ['maas-cli', 'login', MAAS_PROFILE_NAME, self.url, self.creds] try: subprocess.check_call(cmd) except subprocess.CalledProcessError: log('Could not login to MAAS @ %s.' % self.url, ERROR) return False def logout(self): cmd = ['maas-cli', 'logout', MAAS_PROFILE_NAME] subprocess.check_call(cmd) def list_nodes(self): self.login() try: cmd = ['maas-cli', MAAS_PROFILE_NAME, 'nodes', 'list'] out = subprocess.check_output(cmd).decode('utf-8') except subprocess.CalledProcessError: log('Could not get node inventory from MAAS.', ERROR) return False self.logout() return json.loads(out) ",0,81
openstack%2Fhorizon~stable%2Ftrain~I8d5e68085727bd7a6402a0041c93986b6b40bb32,openstack/horizon,stable/train,I8d5e68085727bd7a6402a0041c93986b6b40bb32,Add default index URL to Server Groups module,MERGED,2021-02-18 20:43:33.000000000,2021-03-04 17:47:57.000000000,2021-03-04 17:44:38.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-18 20:43:33.000000000', 'files': ['openstack_dashboard/static/app/core/server_groups/server-groups.module.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/90cb95f9e5faad16a44aed98d370bc60a318495d', 'message': 'Add default index URL to Server Groups module\n\nDefault Index Url is missing for Server Groups which causes improper\nredirect to details page opened in a new tab.\n\nRelated-Bug: #1902821\nCloses-Bug: #1889397\n\nChange-Id: I8d5e68085727bd7a6402a0041c93986b6b40bb32\n(cherry picked from commit 0a4fda0c0c1d4031f18634ad749797cc3b06533d)\n(cherry picked from commit da316b17d92da8dcb415678fcf1d5706d7a37c03)\n'}]",0,776448,90cb95f9e5faad16a44aed98d370bc60a318495d,9,4,1,6914,,,0,"Add default index URL to Server Groups module

Default Index Url is missing for Server Groups which causes improper
redirect to details page opened in a new tab.

Related-Bug: #1902821
Closes-Bug: #1889397

Change-Id: I8d5e68085727bd7a6402a0041c93986b6b40bb32
(cherry picked from commit 0a4fda0c0c1d4031f18634ad749797cc3b06533d)
(cherry picked from commit da316b17d92da8dcb415678fcf1d5706d7a37c03)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/48/776448/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/app/core/server_groups/server-groups.module.js'],1,90cb95f9e5faad16a44aed98d370bc60a318495d,bug/1902821-stable/victoria-stable/ussuri-stable/train, .setDefaultIndexUrl('/project/server_groups/'),,1,0
openstack%2Fpython-blazarclient~master~Ifd55fce5f9a6eb78aa6a909beab0d502b67c1d7a,openstack/python-blazarclient,master,Ifd55fce5f9a6eb78aa6a909beab0d502b67c1d7a,Provide a default affinity value,MERGED,2021-03-03 15:27:44.000000000,2021-03-04 17:44:11.000000000,2021-03-04 17:41:23.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 15:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/d734dde007a9f3c9c60ad53b11b2ad035816c017', 'message': 'Provide a default value of affinity\n\nChange-Id: Ifd55fce5f9a6eb78aa6a909beab0d502b67c1d7a\nCloses-Bug: #1917636\n'}, {'number': 2, 'created': '2021-03-03 15:28:18.000000000', 'files': ['blazarclient/v1/shell_commands/leases.py', 'releasenotes/notes/default-affinity-value-150947560fd7da3c.yaml'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/22cafd21a5dba5eafa7c70a1f6bde5e0005ec87c', 'message': 'Provide a default affinity value\n\nChange-Id: Ifd55fce5f9a6eb78aa6a909beab0d502b67c1d7a\nCloses-Bug: #1917636\n'}]",0,778487,22cafd21a5dba5eafa7c70a1f6bde5e0005ec87c,8,2,2,15197,,,0,"Provide a default affinity value

Change-Id: Ifd55fce5f9a6eb78aa6a909beab0d502b67c1d7a
Closes-Bug: #1917636
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/87/778487/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazarclient/v1/shell_commands/leases.py', 'releasenotes/notes/default-affinity-value-150947560fd7da3c.yaml']",2,d734dde007a9f3c9c60ad53b11b2ad035816c017,affinity,"--- fixes: - | Fixes creation of instance reservations when no affinity value is provided, in which case affinity is set to ``None``. ",,6,1
openstack%2Fhorizon~stable%2Ftrain~Id609e5499cc8f53dbae36febc945568e45d291f3,openstack/horizon,stable/train,Id609e5499cc8f53dbae36febc945568e45d291f3,Add WEBROOT to ngdetails navigation,MERGED,2021-02-18 20:42:44.000000000,2021-03-04 17:43:12.000000000,2021-03-04 17:40:35.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-18 20:42:44.000000000', 'files': ['horizon/static/framework/util/navigations/navigations.service.js', 'horizon/static/framework/util/navigations/navigations.service.spec.js', 'horizon/static/framework/widgets/details/routed-details-view.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/17d48024ecd4e923f4fb201a8c8325a16af04c80', 'message': 'Add WEBROOT to ngdetails navigation\n\nDefault index URL for angular details page doesn\'t consider WEBROOT\nwhile building navigations. That is why refreshing details page or\nopening it in a new tab works perfectly when WEBROOT is ""/"" and fails\nfor apache deployment where WEBROOT is ""/dashboard/"".\n\nThis patch adds WEBROOT to index URL and builds a proper navigation.\n\nCloses-Bug: #1902821\n\nChange-Id: Id609e5499cc8f53dbae36febc945568e45d291f3\n(cherry picked from commit f7442851c4b85a6a091635f0930c07dbd43cf8fb)\n(cherry picked from commit cd4d3aa1a6db93305d88387e1ea163947a6b62f6)\n'}]",0,776447,17d48024ecd4e923f4fb201a8c8325a16af04c80,9,4,1,6914,,,0,"Add WEBROOT to ngdetails navigation

Default index URL for angular details page doesn't consider WEBROOT
while building navigations. That is why refreshing details page or
opening it in a new tab works perfectly when WEBROOT is ""/"" and fails
for apache deployment where WEBROOT is ""/dashboard/"".

This patch adds WEBROOT to index URL and builds a proper navigation.

Closes-Bug: #1902821

Change-Id: Id609e5499cc8f53dbae36febc945568e45d291f3
(cherry picked from commit f7442851c4b85a6a091635f0930c07dbd43cf8fb)
(cherry picked from commit cd4d3aa1a6db93305d88387e1ea163947a6b62f6)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/47/776447/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/util/navigations/navigations.service.js', 'horizon/static/framework/util/navigations/navigations.service.spec.js', 'horizon/static/framework/widgets/details/routed-details-view.controller.js']",3,17d48024ecd4e923f4fb201a8c8325a16af04c80,bug/1902821-stable/victoria-stable/ussuri-stable/train," '$routeParams', '$window' $routeParams, $window // add webroot var webroot = $window.WEBROOT; url = navigationsService.setAbsoluteURI(webroot, url);", '$routeParams' $routeParams,23,2
openstack%2Ftripleo-quickstart~master~Ia3a111668632ae8fcc7f1d4448bddca1d7809252,openstack/tripleo-quickstart,master,Ia3a111668632ae8fcc7f1d4448bddca1d7809252,Remove old tempest variables,MERGED,2021-01-20 11:44:09.000000000,2021-03-04 17:39:06.000000000,2021-03-04 17:36:24.000000000,"[{'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-01-20 11:44:09.000000000', 'files': ['config/general_config/featureset062.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eeb5fe18bb7f044408f5b3adb34b50f340fc01fa', 'message': 'Remove old tempest variables\n\nThe variables removed were pointing to old validate-tempest skiplist\nfiles that no longer exists, making the dump variables script from\ncollect logs fail.\n\nCloses-Bug: #1912353\nChange-Id: Ia3a111668632ae8fcc7f1d4448bddca1d7809252\n'}]",0,771593,eeb5fe18bb7f044408f5b3adb34b50f340fc01fa,13,6,1,8367,,,0,"Remove old tempest variables

The variables removed were pointing to old validate-tempest skiplist
files that no longer exists, making the dump variables script from
collect logs fail.

Closes-Bug: #1912353
Change-Id: Ia3a111668632ae8fcc7f1d4448bddca1d7809252
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/93/771593/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset062.yml'],1,eeb5fe18bb7f044408f5b3adb34b50f340fc01fa,skipfile,use_os_tempest: true,"skip_test_file: ""{{ playbook_dir | dirname }}/vars/tempest_skip_{{ release | default('master') }}.yml"" skip_list_tests: ""{{ lookup('file', skip_test_file) | from_yaml }}"" skip_file_src: '' tempest_black: ""{{ skip_list_tests.known_failures | json_query('[?test != `octavia_tempest_plugin`].test') }}"" test_black_regex: ""{{ tempest_black }}""use_os_tempest: >- {% if release not in ['pike', 'queens', 'rocky', 'stein'] -%} true {%- else -%} false {%- endif -%}",1,11
openstack%2Foslo.messaging~stable%2Fussuri~I1cbafff03349f7da9224de46285707fbf2a81a68,openstack/oslo.messaging,stable/ussuri,I1cbafff03349f7da9224de46285707fbf2a81a68,Deprecate the mandatory flag,MERGED,2021-03-02 10:59:07.000000000,2021-03-04 17:30:25.000000000,2021-03-04 17:13:32.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 10:59:07.000000000', 'files': ['releasenotes/notes/disable-mandatory-flag-a6210a534f3853f0.yaml', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5f2a4f21d0a9988e4a939f2092a523956b4d4583', 'message': 'Deprecate the mandatory flag\n\nIt will not be possible to deactivate this functionality anymore.\n\nChange-Id: I1cbafff03349f7da9224de46285707fbf2a81a68\n(cherry picked from commit 2b89d97888c9b6cd8b4f23e5ae7ce3103d5f9e5b)\n(cherry picked from commit 06ad070cc6dbe72d1f96c529f7bd193dbae383f5)\n'}]",0,778167,5f2a4f21d0a9988e4a939f2092a523956b4d4583,7,2,1,28522,,,0,"Deprecate the mandatory flag

It will not be possible to deactivate this functionality anymore.

Change-Id: I1cbafff03349f7da9224de46285707fbf2a81a68
(cherry picked from commit 2b89d97888c9b6cd8b4f23e5ae7ce3103d5f9e5b)
(cherry picked from commit 06ad070cc6dbe72d1f96c529f7bd193dbae383f5)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/67/778167/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-mandatory-flag-a6210a534f3853f0.yaml', 'oslo_messaging/_drivers/impl_rabbit.py']",2,5f2a4f21d0a9988e4a939f2092a523956b4d4583,backport-mandatory-to-ussuri," deprecated_for_removal=True, deprecated_reason='Mandatory flag no longer deactivable.', help='(DEPRECATED) Enable/Disable the RabbitMQ mandatory ' 'flag for direct send. The direct send is used as reply, ' 'in case the client queue does not exist.' 'This flag is deprecated and it will not be possible to ' 'deactivate this functionality anymore'),"," help='Enable/Disable the RabbitMQ mandatory flag ' 'for direct send. The direct send is used as reply, ' 'in case the client queue does not exist.'),",12,3
openstack%2Ftripleo-heat-templates~master~I44433731f73882f62591e8067743beec4d423ef7,openstack/tripleo-heat-templates,master,I44433731f73882f62591e8067743beec4d423ef7,Add delegate_fact_hosts: false on ci scenarios,MERGED,2021-03-03 13:49:34.000000000,2021-03-04 17:20:45.000000000,2021-03-04 17:20:45.000000000,"[{'_account_id': 6796}, {'_account_id': 15205}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 13:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8103b3aca04f4153bb60f20cf889e57826db044f', 'message': 'DNM - Test - adding delegate_fact_hosts: false\n\nChange-Id: I44433731f73882f62591e8067743beec4d423ef7\n'}, {'number': 2, 'created': '2021-03-03 17:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7cf9b5c3c7ee6d9bc4419734ecfe1b635f6fff8f', 'message': 'DNM - Test - adding delegate_fact_hosts: false\n\nDepends-On: I25ab196c17ac262d6e568523e521e73c673ef909\nChange-Id: I44433731f73882f62591e8067743beec4d423ef7\n'}, {'number': 3, 'created': '2021-03-04 09:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48a6826683832f39a7b551ea92332bd0c7eeea0b', 'message': 'DNM - Test - adding delegate_fact_hosts: false\n\nChange-Id: I44433731f73882f62591e8067743beec4d423ef7\n'}, {'number': 4, 'created': '2021-03-04 09:38:31.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0e8697550bba624bd935d5ad01135a1d10094e9', 'message': ""Add delegate_fact_hosts: false on ci scenarios\n\nThis change adds delegate_facts_hosts: false to the\nexisting ceph-ansible scenarios.\nThis was introduced due to the --limit option to avoid\ngathering facts, but since we're running on standalone\nand the same node is present in all groups, having that\nvariable set to True (which is the ceph-ansible default)\nmakes no sense.\n\nChange-Id: I44433731f73882f62591e8067743beec4d423ef7\n""}]",0,778464,c0e8697550bba624bd935d5ad01135a1d10094e9,16,5,4,25402,,,0,"Add delegate_fact_hosts: false on ci scenarios

This change adds delegate_facts_hosts: false to the
existing ceph-ansible scenarios.
This was introduced due to the --limit option to avoid
gathering facts, but since we're running on standalone
and the same node is present in all groups, having that
variable set to True (which is the ceph-ansible default)
makes no sense.

Change-Id: I44433731f73882f62591e8067743beec4d423ef7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/778464/4 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,8103b3aca04f4153bb60f20cf889e57826db044f,, delegate_fact_host: false,,1,0
openstack%2Fhorizon~stable%2Frocky~I80d67384a643362746c2e037da539503a8095d7b,openstack/horizon,stable/rocky,I80d67384a643362746c2e037da539503a8095d7b,Consume tempest-horizon from PyPI release,MERGED,2021-02-18 04:11:08.000000000,2021-03-04 17:13:47.000000000,2021-03-04 17:13:47.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-18 04:11:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c92595d6fe30e6010891b10f81a821cc2f0622f2', 'message': 'Consume tempest-horizon from PyPI release\n\ntempest-horizon has been retired (at least in the project-config level),\nso we cannot specify openstack/tempest-horizon in required-projects.\nInstead we need to install tempest-horizon from PyPI.\nThe similar approach is adopted in stable/stein [1].\n\n[1] https://review.opendev.org/c/openstack/horizon/+/771740\n\nChange-Id: I80d67384a643362746c2e037da539503a8095d7b\n'}]",0,776309,c92595d6fe30e6010891b10f81a821cc2f0622f2,8,4,1,841,,,0,"Consume tempest-horizon from PyPI release

tempest-horizon has been retired (at least in the project-config level),
so we cannot specify openstack/tempest-horizon in required-projects.
Instead we need to install tempest-horizon from PyPI.
The similar approach is adopted in stable/stein [1].

[1] https://review.opendev.org/c/openstack/horizon/+/771740

Change-Id: I80d67384a643362746c2e037da539503a8095d7b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/09/776309/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c92595d6fe30e6010891b10f81a821cc2f0622f2,merge-horizon-test," TEMPEST_PLUGINS: ""tempest-horizon==0.2.0"""," - name: openstack/tempest-horizon override-checkout: 0.2.0 TEMPEST_PLUGINS: ""{{ ansible_user_dir }}/src/opendev.org/openstack/tempest-horizon""",1,3
openstack%2Fhorizon~stable%2Fqueens~I80d67384a643362746c2e037da539503a8095d7b,openstack/horizon,stable/queens,I80d67384a643362746c2e037da539503a8095d7b,Consume tempest-horizon from PyPI release,MERGED,2021-02-18 04:14:31.000000000,2021-03-04 17:13:39.000000000,2021-03-04 17:13:39.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-18 04:14:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/149870a853798c98b8512720519345ecdf2e1397', 'message': 'Consume tempest-horizon from PyPI release\n\ntempest-horizon has been retired (at least in the project-config level),\nso we cannot specify openstack/tempest-horizon in required-projects.\nInstead we need to install tempest-horizon from PyPI.\nThe similar approach is adopted in stable/stein [1].\n\n[1] https://review.opendev.org/c/openstack/horizon/+/771740\n\nChange-Id: I80d67384a643362746c2e037da539503a8095d7b\n'}]",0,776310,149870a853798c98b8512720519345ecdf2e1397,8,4,1,841,,,0,"Consume tempest-horizon from PyPI release

tempest-horizon has been retired (at least in the project-config level),
so we cannot specify openstack/tempest-horizon in required-projects.
Instead we need to install tempest-horizon from PyPI.
The similar approach is adopted in stable/stein [1].

[1] https://review.opendev.org/c/openstack/horizon/+/771740

Change-Id: I80d67384a643362746c2e037da539503a8095d7b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/10/776310/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,149870a853798c98b8512720519345ecdf2e1397,merge-horizon-test," TEMPEST_PLUGINS: ""tempest-horizon==0.2.0"""," - name: openstack/tempest-horizon override-checkout: 0.2.0 TEMPEST_PLUGINS: ""{{ ansible_user_dir }}/src/opendev.org/openstack/tempest-horizon""",1,3
openstack%2Fnova~master~I458b1db091e33c0b835e44b5a86de6c0a08f99a3,openstack/nova,master,I458b1db091e33c0b835e44b5a86de6c0a08f99a3,tests: Poison os.uname,MERGED,2021-02-12 16:43:55.000000000,2021-03-04 17:04:19.000000000,2021-03-04 12:27:38.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 16:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf1e0e9c677429afd8379a634f63445f5c7ec6d0', 'message': 'tests: Poison os.uname\n\nInstead of poisoning things that call this, call the root cause.\n\nChange-Id: I458b1db091e33c0b835e44b5a86de6c0a08f99a3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-02-16 11:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5103e86aee716448cf3a400bb7e0f77340ffb475', 'message': ""tests: Poison os.uname\n\nWe shouldn't be looking up the architecture of the test node during\ntests to ensure tests work across nodes with varying architectures.\n\nChange-Id: I458b1db091e33c0b835e44b5a86de6c0a08f99a3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\n""}, {'number': 3, 'created': '2021-02-16 11:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2aa6564f39efe7bd2c0e63b00d39893dee7ea2f3', 'message': ""tests: Poison os.uname\n\nWe shouldn't be looking up the architecture of the test node during\ntests to ensure tests work across nodes with varying architectures.\n\nChange-Id: I458b1db091e33c0b835e44b5a86de6c0a08f99a3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\n""}, {'number': 4, 'created': '2021-02-19 17:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a7038094862db5dc3d11aa194858a53812edad7', 'message': ""tests: Poison os.uname\n\nWe shouldn't be looking up the architecture of the test node during\ntests to ensure tests work across nodes with varying architectures.\n\nChange-Id: I458b1db091e33c0b835e44b5a86de6c0a08f99a3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\n""}, {'number': 5, 'created': '2021-02-20 15:37:06.000000000', 'files': ['nova/tests/unit/objects/test_fields.py', 'nova/virt/libvirt/vif.py', 'nova/tests/fixtures.py', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/objects/fields.py', 'nova/virt/disk/vfs/guestfs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7e3e179911e0a7fbad0d108c202c475560dbcea', 'message': ""tests: Poison os.uname\n\nWe shouldn't be looking up the architecture of the test node during\ntests to ensure tests work across nodes with varying architectures.\n\nChange-Id: I458b1db091e33c0b835e44b5a86de6c0a08f99a3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\n""}]",5,775415,f7e3e179911e0a7fbad0d108c202c475560dbcea,51,5,5,15334,,,0,"tests: Poison os.uname

We shouldn't be looking up the architecture of the test node during
tests to ensure tests work across nodes with varying architectures.

Change-Id: I458b1db091e33c0b835e44b5a86de6c0a08f99a3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/775415/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_fields.py', 'nova/virt/libvirt/vif.py', 'nova/tests/fixtures.py', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/objects/fields.py', 'nova/virt/disk/vfs/guestfs.py']",7,bf1e0e9c677429afd8379a634f63445f5c7ec6d0,bp/allow-secure-boot-for-qemu-kvm-guests," kernel_file = ""/boot/vmlinuz-%s"" % os.uname().release"," kernel_file = ""/boot/vmlinuz-%s"" % os.uname()[2]",62,26
openstack%2Ftripleo-ipsec~stable%2Fussuri~I3845698c37a70aa5e0431e33133f5302fa58f4a6,openstack/tripleo-ipsec,stable/ussuri,I3845698c37a70aa5e0431e33133f5302fa58f4a6,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2021-02-02 12:41:16.000000000,2021-03-04 17:03:01.000000000,2021-03-04 17:03:01.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 12:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/a810987f806726234963feccaa7b3df854f0e89e', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3845698c37a70aa5e0431e33133f5302fa58f4a6\n'}, {'number': 2, 'created': '2021-03-04 15:24:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/d9666d8900f90ef79d704478dde622b09b8ccfd1', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3845698c37a70aa5e0431e33133f5302fa58f4a6\n'}]",0,773677,d9666d8900f90ef79d704478dde622b09b8ccfd1,11,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3845698c37a70aa5e0431e33133f5302fa58f4a6
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/77/773677/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a810987f806726234963feccaa7b3df854f0e89e,create-ussuri, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} {opts} {packages}, pip install -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftripleo-ipsec~stable%2Fussuri~Id777e1fe6d414804a6ac6c6d80cff2eedf7c9096,openstack/tripleo-ipsec,stable/ussuri,Id777e1fe6d414804a6ac6c6d80cff2eedf7c9096,Update .gitreview for stable/ussuri,MERGED,2021-02-02 12:41:12.000000000,2021-03-04 17:02:57.000000000,2021-03-04 17:02:57.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-02 12:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/40106516bd7e03c2989bdc52f09cde832048abdb', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Id777e1fe6d414804a6ac6c6d80cff2eedf7c9096\n'}, {'number': 2, 'created': '2021-03-04 15:24:29.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/ad4bf8b5342c985ea6faf96a7d9320717b188c4b', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Id777e1fe6d414804a6ac6c6d80cff2eedf7c9096\n'}]",0,773676,ad4bf8b5342c985ea6faf96a7d9320717b188c4b,13,3,2,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: Id777e1fe6d414804a6ac6c6d80cff2eedf7c9096
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/76/773676/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,40106516bd7e03c2989bdc52f09cde832048abdb,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Ftripleo-ipsec~stable%2Fussuri~I8a3d5cad047ae36af071a6c8322026339d643cea,openstack/tripleo-ipsec,stable/ussuri,I8a3d5cad047ae36af071a6c8322026339d643cea,Fix linters,MERGED,2021-03-04 15:24:29.000000000,2021-03-04 17:02:54.000000000,2021-03-04 17:02:54.000000000,"[{'_account_id': 8449}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 15:24:29.000000000', 'files': ['tox.ini', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/cff103f7b5b7da840de1bb770d3226b7179229aa', 'message': 'Fix linters\n\nSince version 5.0, ansible-lint seems to have stricter requirements\nabout role names in meta/main.yml, and it is causing errors in CI\n[1].\n\nAlso, add no-tabs to the exclusion list.\n\n[1] - https://github.com/ansible-community/ansible-lint/issues/1400\n\nChange-Id: I8a3d5cad047ae36af071a6c8322026339d643cea\n(cherry picked from commit b5559c8c8669638f311f1c57d2d2a87f0202cddf)\n'}]",0,778727,cff103f7b5b7da840de1bb770d3226b7179229aa,7,4,1,8449,,,0,"Fix linters

Since version 5.0, ansible-lint seems to have stricter requirements
about role names in meta/main.yml, and it is causing errors in CI
[1].

Also, add no-tabs to the exclusion list.

[1] - https://github.com/ansible-community/ansible-lint/issues/1400

Change-Id: I8a3d5cad047ae36af071a6c8322026339d643cea
(cherry picked from commit b5559c8c8669638f311f1c57d2d2a87f0202cddf)
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/27/778727/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'meta/main.yml']",2,cff103f7b5b7da840de1bb770d3226b7179229aa,, role_name: tripleo_ipsec,,2,1
openstack%2Foslo.messaging~stable%2Fussuri~Ic0a311d290682a923ec4f8cbe36f875d560cd41a,openstack/oslo.messaging,stable/ussuri,Ic0a311d290682a923ec4f8cbe36f875d560cd41a,Fix some typos,MERGED,2021-03-02 10:59:07.000000000,2021-03-04 17:02:51.000000000,2021-03-04 17:00:39.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 29071}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-03-02 10:59:07.000000000', 'files': ['oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/de2f0403fbbb13b0a5346e72b2d4a6a8e43ca978', 'message': 'Fix some typos\n\nChange-Id: Ic0a311d290682a923ec4f8cbe36f875d560cd41a\n(cherry picked from commit 2c2779a974d59a9d91bd7cb1e3ae001952fe9083)\n'}]",3,778166,de2f0403fbbb13b0a5346e72b2d4a6a8e43ca978,11,4,1,28522,,,0,"Fix some typos

Change-Id: Ic0a311d290682a923ec4f8cbe36f875d560cd41a
(cherry picked from commit 2c2779a974d59a9d91bd7cb1e3ae001952fe9083)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/66/778166/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/impl_rabbit.py']",2,de2f0403fbbb13b0a5346e72b2d4a6a8e43ca978,backport-mandatory-to-ussuri,"# NOTE(sileht): don't exist in py2 socket module ""exchange %s doesn't exist"" % exchange.name)","# NOTE(sileht): don't exists in py2 socket module ""exchange %s doesn't exists"" % exchange.name)",5,5
openstack%2Fpython-openstackclient~master~Ib95bb36511dad1aafe75f0c88d10ded382e4fa5c,openstack/python-openstackclient,master,Ib95bb36511dad1aafe75f0c88d10ded382e4fa5c,compute: Rename 'server migrate (confirm|revert)',MERGED,2021-01-20 18:20:34.000000000,2021-03-04 16:56:53.000000000,2021-03-04 16:51:57.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/347268dbc66bbf9dba78b8a4a2431bea0095bd49', 'message': ""compute: Rename 'server migrate (confirm|revert)'\n\nWe're confirming or reverting a server migration, not a server migrate.\nWe've a number of 'server migration *' commands now so it makes sense to\nmove them under here.\n\nChange-Id: Ib95bb36511dad1aafe75f0c88d10ded382e4fa5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['releasenotes/notes/rename-server-migrate-confirm-revert-commands-84fcb937721f5c4a.yaml', 'setup.cfg', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a52beacaa6fcc11d48f5b742c73aa2c0f87634ce', 'message': ""compute: Rename 'server migrate (confirm|revert)'\n\nWe're confirming or reverting a server migration, not a server migrate.\nWe've a number of 'server migration *' commands now so it makes sense to\nmove them under here.\n\nChange-Id: Ib95bb36511dad1aafe75f0c88d10ded382e4fa5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771695,a52beacaa6fcc11d48f5b742c73aa2c0f87634ce,10,2,2,15334,,,0,"compute: Rename 'server migrate (confirm|revert)'

We're confirming or reverting a server migration, not a server migrate.
We've a number of 'server migration *' commands now so it makes sense to
move them under here.

Change-Id: Ib95bb36511dad1aafe75f0c88d10ded382e4fa5c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/95/771695/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rename-server-migrate-confirm-revert-commands-84fcb937721f5c4a.yaml', 'setup.cfg', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",4,347268dbc66bbf9dba78b8a4a2431bea0095bd49,osc-first,"# TODO(stephenfin): Remove in OSC 7.0 class MigrateConfirm(ResizeConfirm): _description = _(""""""DEPRECATED: Confirm server migration. Use 'server migration confirm' instead."""""") def take_action(self, parsed_args): msg = _( ""The 'server migrate confirm' command has been deprecated in "" ""favour of the 'server migration confirm' command."" ) self.log.warning(msg) super().take_action(parsed_args) class ConfirmMigration(ResizeConfirm): _description = _(""""""Confirm server migration. Confirm (verify) success of the migration operation and release the old server."""""")# TODO(stephenfin): Remove in OSC 7.0 class MigrateRevert(ResizeRevert): _description = _(""""""Revert server migration. Use 'server migration revert' instead."""""") def take_action(self, parsed_args): msg = _( ""The 'server migrate revert' command has been deprecated in "" ""favour of the 'server migration revert' command."" ) self.log.warning(msg) super().take_action(parsed_args) class RevertMigration(ResizeRevert): _description = _(""""""Revert server migration. Revert the migration operation. Release the new server and restart the old","class MigrateConfirm(ResizeConfirm): _description = _(""""""Confirm server migrate. Confirm (verify) success of migrate operation and release the old server."""""")class MigrateRevert(ResizeRevert): _description = _(""""""Revert server migrate. Revert the migrate operation. Release the new server and restart the old",198,4
openstack%2Fcinder~master~Id0500c2f85974818fa2a841c9dca77f1fef4df04,openstack/cinder,master,Id0500c2f85974818fa2a841c9dca77f1fef4df04,PowerMax Driver - Fix assign SRP during promotion retype,MERGED,2020-11-25 13:26:05.000000000,2021-03-04 16:55:06.000000000,2021-03-04 16:50:42.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-11-25 13:26:05.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/bug-1905564-e7dcf28fd734d3b2.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/00ad39a6000f5bfcdddbfb5accb9b165e997b963', 'message': ""PowerMax Driver - Fix assign SRP during promotion retype\n\nSRP is not assigned during failover-promotion retype. In cases\nwhere SRP is different between primary and remote arrays this\ncan lead to issues once failover-promotion is finalized. Fixed\nby adding SRP assignment when generating volume's model update.\n\nChange-Id: Id0500c2f85974818fa2a841c9dca77f1fef4df04\nCloses-Bug: 1905564\n""}]",2,764166,00ad39a6000f5bfcdddbfb5accb9b165e997b963,28,5,1,30165,,,0,"PowerMax Driver - Fix assign SRP during promotion retype

SRP is not assigned during failover-promotion retype. In cases
where SRP is different between primary and remote arrays this
can lead to issues once failover-promotion is finalized. Fixed
by adding SRP assignment when generating volume's model update.

Change-Id: Id0500c2f85974818fa2a841c9dca77f1fef4df04
Closes-Bug: 1905564
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/764166/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/bug-1905564-e7dcf28fd734d3b2.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py']",3,00ad39a6000f5bfcdddbfb5accb9b165e997b963,bug/1905564," array_id = self.data.remote_array srp = 'SRP_2' updated_host = 'HostX@Backend#Diamond+DSS+SRP_2+000197800124' self.assertEqual(model_update['host'], updated_host)", array_id = self.data.array srp = self.data.srp,13,2
openstack%2Fpython-openstackclient~master~I71aabf10f791f68ee7405ffb5e8317cc96cb3b38,openstack/python-openstackclient,master,I71aabf10f791f68ee7405ffb5e8317cc96cb3b38,"compute: Add support for 'server boot --nic ...,tag=<tag>'",MERGED,2021-01-20 18:20:34.000000000,2021-03-04 16:54:41.000000000,2021-03-04 16:50:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5c6041c3f33318cc56bf5f3344318a7f41245c54', 'message': ""compute: Add support for 'server boot --nic ...,tag=<tag>'\n\nThis has been around for a long time but was not exposed via OSC. Close\nthis gap.\n\nChange-Id: I71aabf10f791f68ee7405ffb5e8317cc96cb3b38\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['releasenotes/notes/add-server-nic-tagging-support-f77b4247e87771d5.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9ed34aac0a172ece4cd856319486208fcdba095d', 'message': ""compute: Add support for 'server boot --nic ...,tag=<tag>'\n\nThis has been around for a long time but was not exposed via OSC. Close\nthis gap.\n\nChange-Id: I71aabf10f791f68ee7405ffb5e8317cc96cb3b38\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771692,9ed34aac0a172ece4cd856319486208fcdba095d,10,2,2,15334,,,0,"compute: Add support for 'server boot --nic ...,tag=<tag>'

This has been around for a long time but was not exposed via OSC. Close
this gap.

Change-Id: I71aabf10f791f68ee7405ffb5e8317cc96cb3b38
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/92/771692/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-server-nic-tagging-support-f77b4247e87771d5.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,5c6041c3f33318cc56bf5f3344318a7f41245c54,osc-first," # We don't include 'tag' here by default since that requires a # particular microversion if k not in list(info) + ['tag'] or not v: ""'net-id=net-uuid,port-id=port-uuid,v4-fixed-ip=ip-addr,"" ""v6-fixed-ip=ip-addr,tag=tag'"" ""v6-fixed-ip=ip-addr,tag=tag,auto,none>"", ""tag: interface metadata tag (optional) "" ""(supported by --os-compute-api-version 2.43 or above),\n"" if 'tag' in nic: if ( compute_client.api_version < api_versions.APIVersion('2.43') ): msg = _( '--os-compute-api-version 2.43 or greater is ' 'required to support the --nic tag field' ) raise exceptions.CommandError(msg) "," if k not in info or not v: ""'net-id=net-uuid,v4-fixed-ip=ip-addr,v6-fixed-ip=ip-addr,"" ""port-id=port-uuid'"" ""v6-fixed-ip=ip-addr,auto,none>"",",133,4
openstack%2Fopenstack-ansible-ops~master~Ifb2ae91a600693aa516f489b62298a6f2c753d4d,openstack/openstack-ansible-ops,master,Ifb2ae91a600693aa516f489b62298a6f2c753d4d,Collect keystone apache federation files,MERGED,2020-07-15 15:09:00.000000000,2021-03-04 16:52:18.000000000,2021-03-04 16:47:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-07-15 15:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e99a810b4a14088ce202adaa25877308a70c06e6', 'message': 'Collect keystone apache federation files\n\nCollects the default log for files for when federation is deployed.\n\nChange-Id: Ifb2ae91a600693aa516f489b62298a6f2c753d4d\n'}, {'number': 2, 'created': '2020-07-20 17:51:43.000000000', 'files': ['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/45913d9ef388f14bf270b40d0cc14ec4d17dee91', 'message': 'Collect keystone apache federation files\n\nCollects the default log for files for when federation is deployed.\n\nDepends-On: https://review.opendev.org/741997\nChange-Id: Ifb2ae91a600693aa516f489b62298a6f2c753d4d\n'}]",0,741236,45913d9ef388f14bf270b40d0cc14ec4d17dee91,15,5,2,29865,,,0,"Collect keystone apache federation files

Collects the default log for files for when federation is deployed.

Depends-On: https://review.opendev.org/741997
Change-Id: Ifb2ae91a600693aa516f489b62298a6f2c753d4d
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/36/741236/1 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elastic_filebeat/templates/filebeat.yml.j2'],1,e99a810b4a14088ce202adaa25877308a70c06e6,, - /var/log/apache2/ssl_access.log - /var/log/httpd/ssl_access.log - /var/log/apache2/keystone-apache-error.log - /var/log/httpd/keystone-apache-error.log,,4,0
openstack%2Fpython-openstackclient~master~I413310b481cc13b70853eb579417f6e6fad10d98,openstack/python-openstackclient,master,I413310b481cc13b70853eb579417f6e6fad10d98,compute: Add 'server migration show' command,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 16:51:40.000000000,2021-03-04 16:51:40.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/12b40149df803230810b89d40237aeb0978d9112', 'message': ""compute: Add 'server migration show' command\n\nThis replaces the 'server-migration-show' command provided by\nnovaclient.\n\nChange-Id: I413310b481cc13b70853eb579417f6e6fad10d98\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['releasenotes/notes/add-server-migration-show-command-2e3a25e383dc5d70.yaml', 'setup.cfg', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f80fe2d8cf50f85601e2895a5f878764fa77c154', 'message': ""compute: Add 'server migration show' command\n\nThis replaces the 'server-migration-show' command provided by\nnovaclient.\n\nChange-Id: I413310b481cc13b70853eb579417f6e6fad10d98\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,771694,f80fe2d8cf50f85601e2895a5f878764fa77c154,9,2,2,15334,,,0,"compute: Add 'server migration show' command

This replaces the 'server-migration-show' command provided by
novaclient.

Change-Id: I413310b481cc13b70853eb579417f6e6fad10d98
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/94/771694/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-server-migration-show-command-2e3a25e383dc5d70.yaml', 'setup.cfg', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",5,12b40149df803230810b89d40237aeb0978d9112,osc-first,"class ShowMigration(command.Command): """"""Show a migration for a given server."""""" def get_parser(self, prog_name): parser = super().get_parser(prog_name) parser.add_argument( 'server', metavar='<server>', help=_('Server (name or ID)'), ) parser.add_argument( 'migration', metavar='<migration>', help=_(""Migration (ID)""), ) return parser def take_action(self, parsed_args): compute_client = self.app.client_manager.compute if compute_client.api_version < api_versions.APIVersion('2.24'): msg = _( '--os-compute-api-version 2.24 or greater is required to ' 'support the server migration show command' ) raise exceptions.CommandError(msg) server = utils.find_resource( compute_client.servers, parsed_args.server, ) server_migration = compute_client.server_migrations.get( server.id, parsed_args.migration, ) columns = ( 'ID', 'Server UUID', 'Status', 'Source Compute', 'Source Node', 'Dest Compute', 'Dest Host', 'Dest Node', 'Memory Total Bytes', 'Memory Processed Bytes', 'Memory Remaining Bytes', 'Disk Total Bytes', 'Disk Processed Bytes', 'Disk Remaining Bytes', 'Created At', 'Updated At', ) if compute_client.api_version >= api_versions.APIVersion('2.59'): columns += ('UUID',) if compute_client.api_version >= api_versions.APIVersion('2.80'): columns += ('User ID', 'Project ID') data = utils.get_item_properties(server_migration, columns) return columns, data ",,242,1
openstack%2Fpython-openstackclient~master~Ib6b7c8f9cc3d1521a993616f832d41651dc46f73,openstack/python-openstackclient,master,Ib6b7c8f9cc3d1521a993616f832d41651dc46f73,Rename FakeServerMigration to FakeMigration,MERGED,2021-01-20 18:20:34.000000000,2021-03-04 16:51:12.000000000,2021-03-04 16:51:12.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-20 18:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/650d2cb83aa73cf0ea372c0b5df0cf49c8677634', 'message': 'Rename FakeServerMigration to FakeMigration\n\nServer migrations are (confusingly) a different thing returned by a\ndifferent API.\n\nChange-Id: Ib6b7c8f9cc3d1521a993616f832d41651dc46f73\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-01-21 11:02:16.000000000', 'files': ['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/32ae1857d12fc2d5b4292e2d98caed0238959081', 'message': 'Rename FakeServerMigration to FakeMigration\n\nServer migrations are (confusingly) a different thing returned by a\ndifferent API.\n\nChange-Id: Ib6b7c8f9cc3d1521a993616f832d41651dc46f73\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,771693,32ae1857d12fc2d5b4292e2d98caed0238959081,9,2,2,15334,,,0,"Rename FakeServerMigration to FakeMigration

Server migrations are (confusingly) a different thing returned by a
different API.

Change-Id: Ib6b7c8f9cc3d1521a993616f832d41651dc46f73
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/93/771693/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server.py']",2,650d2cb83aa73cf0ea372c0b5df0cf49c8677634,osc-first, self.migrations = compute_fakes.FakeMigration.create_migrations( count=3), self.migrations = compute_fakes.FakeServerMigration\ .create_server_migrations(count=3),12,12
openstack%2Fgovernance~master~I0d566a4bd08e32cd14598cd5cc1d28a84e0f2862,openstack/governance,master,I0d566a4bd08e32cd14598cd5cc1d28a84e0f2862,Propose Extra-ATCs from I18n SIG,MERGED,2021-02-27 19:26:11.000000000,2021-03-04 16:47:29.000000000,2021-03-04 16:05:11.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-27 19:26:11.000000000', 'files': ['reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/974c2b817fe09c2bd833b3b4ba528ffc545b9ff8', 'message': 'Propose Extra-ATCs from I18n SIG\n\nThose people are OpenStack Foundation members and also\nactive translators from Victoria and Wallaby (by Feb 19).\n\nIt is necessary to grant those people ATCs in order to make them\nelectroate for TC.\n\nAlso see for references:\n - Move i18n into a SIG: https://review.opendev.org/c/openstack/governance/+/721605\n - Election repo patch: https://review.opendev.org/c/openstack/election/+/721604\n - Victoria and Wallaby I18n stats: https://wiki.openstack.org/wiki/I18nTeam/ATC_statistics\n\nChange-Id: I0d566a4bd08e32cd14598cd5cc1d28a84e0f2862\n'}]",0,777871,974c2b817fe09c2bd833b3b4ba528ffc545b9ff8,13,5,1,14482,,,0,"Propose Extra-ATCs from I18n SIG

Those people are OpenStack Foundation members and also
active translators from Victoria and Wallaby (by Feb 19).

It is necessary to grant those people ATCs in order to make them
electroate for TC.

Also see for references:
 - Move i18n into a SIG: https://review.opendev.org/c/openstack/governance/+/721605
 - Election repo patch: https://review.opendev.org/c/openstack/election/+/721604
 - Victoria and Wallaby I18n stats: https://wiki.openstack.org/wiki/I18nTeam/ATC_statistics

Change-Id: I0d566a4bd08e32cd14598cd5cc1d28a84e0f2862
",git fetch https://review.opendev.org/openstack/governance refs/changes/71/777871/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/sigs-repos.yaml'],1,974c2b817fe09c2bd833b3b4ba528ffc545b9ff8,project-update, extra-atcs: - name: Andreas Jaeger email: jaegerandi@gmail.com expires-in: Oct 2021 comment: jaegerandi (de) - name: Robert Holling email: r.holling@protonmail.ch expires-in: Oct 2021 comment: r6t (de) - name: Andi Chandler email: andi@gowling.com expires-in: Oct 2021 comment: andibing (en-GB) - name: suhartono email: cloudsuhartono@gmail.com expires-in: Feb 2022 comment: suhartono (id) - name: Ian Y. Choi email: ianyrchoi@gmail.com expires-in: Oct 2021 comment: ianychoi (ko-KR) - name: KEONWOO LEE email: lkeonw0o@naver.com expires-in: Oct 2021 comment: keonwoo_lee (ko-KR) - name: Dong-won Jang email: dohan0930@gmail.com expires-in: Oct 2021 comment: revival0n (ko-KR) - name: Roman Gorshunov email: roman.gorshunov@att.com expires-in: Oct 2021 comment: gorshunovr (ru) - name: Dmitriy Rabotyagov email: noonedeadpunk@ya.ru expires-in: Oct 2021 comment: noonedeadpunk (ru) - name: Alberto Molina Coballes email: alb.molina@gmail.com expires-in: Feb 2022 comment: albertomolina (es),,41,0
openstack%2Ftripleo-ansible~master~I20bb3ea3b65c42638f81363afeb84dc3e9aa1764,openstack/tripleo-ansible,master,I20bb3ea3b65c42638f81363afeb84dc3e9aa1764,Remove container delete task,MERGED,2021-03-03 17:49:50.000000000,2021-03-04 16:30:45.000000000,2021-03-04 13:52:55.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-03 17:49:50.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be02313503276b9a6975b990747097dfbf833048', 'message': ""Remove container delete task\n\nWe no longer have swift on the undercloud so this task no longer needs\nto exist. With it here we're unable to delete an overcloud via the CLI.\n\nChange-Id: I20bb3ea3b65c42638f81363afeb84dc3e9aa1764\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",2,778522,be02313503276b9a6975b990747097dfbf833048,10,4,1,7353,,,0,"Remove container delete task

We no longer have swift on the undercloud so this task no longer needs
to exist. With it here we're unable to delete an overcloud via the CLI.

Change-Id: I20bb3ea3b65c42638f81363afeb84dc3e9aa1764
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/22/778522/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-delete.yaml'],1,be02313503276b9a6975b990747097dfbf833048,,," # NOTE (cloudnull): This is using the CLI command to delete a given container # because the os_object module does not yet handle recursive # deletes. Revise this when RFE 60449 is implemented. # https://github.com/ansible/ansible/issues/60449 - name: Delete container and objects command: > openstack --os-cloud undercloud container delete ""{{ item }}"" --recursive failed_when: - container_objects.rc != 0 - ""'not found' not in container_objects.stderr | lower"" changed_when: - ""'not found' not in container_objects.stderr | lower"" register: container_objects loop: - ""{{ stack_name }}"" - ""{{ stack_name }}-messages"" - ""{{ stack_name }}-swift-rings"" ",0,19
openstack%2Fproject-config~master~If1b46cefcb04bcd726ce15fd9e0917cdbc7a55c0,openstack/project-config,master,If1b46cefcb04bcd726ce15fd9e0917cdbc7a55c0,"Revert ""Un-pause Gentoo image builds""",ABANDONED,2021-01-16 15:03:49.000000000,2021-03-04 16:22:23.000000000,,"[{'_account_id': 841}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-16 15:03:49.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/56d83a09b0e9f008e1ceb22c4b48c89414044767', 'message': 'Revert ""Un-pause Gentoo image builds""\n\nThe images still won\'t complete building, they get stuck installing\npackages like...\n\n    >>> Emerging (1 of 1) dev-python/six-1.15.0-r1::gentoo\n\n...and then sit there indefinitely until Nodepool gives up. The\nleaf-most child process is:\n\n    /usr/bin/python3.8 -b /usr/lib/python-exec/python3.8/emerge\n        --binpkg-respect-use --rebuilt-binaries=y --usepkg=y\n        --with-bdeps=y --binpkg-changed-deps=y --quiet --jobs=2\n        --autounmask=n --oneshot --update --newuse --deep --nodeps\n        dev-python/six\n\nUsing strace -p on it, that process seems to be waiting forever on a\nfutex...\n\n    futex(0x7f512c50f9b0, FUTEX_WAIT_PRIVATE, 2, NULL\n\n...or setting a write lock on a file...\n\n    fcntl(7, F_SETLKW, {l_type=F_WRLCK, l_whence=SEEK_SET,\n        l_start=0, l_len=0}\n\n...with lsof showing files like these held open...\n\n    /opt/dib_tmp/dib_build.hmJmliyA/mnt/tmp/portage-distdir/\n        .six-1.15.0.tar.gz.portage_lockfile\n    /opt/dib_tmp/dib_build.hmJmliyA/mnt/tmp/portage-distdir/\n        ..layout.conf.distfiles.gentoo.org.portage_lockfile\n\n...and the only unix streams seem to correspond to its parent\nprocess, though there are also FIFO pipes held open by it (to what\nI\'m unsure, don\'t see any likely candidates in the process list).\n\nThis reverts commit 083ddaf2f97bda2144ff867ea613f69741efd3b4.\n\nChange-Id: If1b46cefcb04bcd726ce15fd9e0917cdbc7a55c0\n'}]",0,771104,56d83a09b0e9f008e1ceb22c4b48c89414044767,9,5,1,5263,,,0,"Revert ""Un-pause Gentoo image builds""

The images still won't complete building, they get stuck installing
packages like...

    >>> Emerging (1 of 1) dev-python/six-1.15.0-r1::gentoo

...and then sit there indefinitely until Nodepool gives up. The
leaf-most child process is:

    /usr/bin/python3.8 -b /usr/lib/python-exec/python3.8/emerge
        --binpkg-respect-use --rebuilt-binaries=y --usepkg=y
        --with-bdeps=y --binpkg-changed-deps=y --quiet --jobs=2
        --autounmask=n --oneshot --update --newuse --deep --nodeps
        dev-python/six

Using strace -p on it, that process seems to be waiting forever on a
futex...

    futex(0x7f512c50f9b0, FUTEX_WAIT_PRIVATE, 2, NULL

...or setting a write lock on a file...

    fcntl(7, F_SETLKW, {l_type=F_WRLCK, l_whence=SEEK_SET,
        l_start=0, l_len=0}

...with lsof showing files like these held open...

    /opt/dib_tmp/dib_build.hmJmliyA/mnt/tmp/portage-distdir/
        .six-1.15.0.tar.gz.portage_lockfile
    /opt/dib_tmp/dib_build.hmJmliyA/mnt/tmp/portage-distdir/
        ..layout.conf.distfiles.gentoo.org.portage_lockfile

...and the only unix streams seem to correspond to its parent
process, though there are also FIFO pipes held open by it (to what
I'm unsure, don't see any likely candidates in the process list).

This reverts commit 083ddaf2f97bda2144ff867ea613f69741efd3b4.

Change-Id: If1b46cefcb04bcd726ce15fd9e0917cdbc7a55c0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/771104/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,56d83a09b0e9f008e1ceb22c4b48c89414044767,gentoo-images, pause: true, pause: false,1,1
openstack%2Fpuppet-openstack-integration~master~Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923,openstack/puppet-openstack-integration,master,Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923,"Re-enable SSL en p-o-i scenarios 1, 3 and 4",MERGED,2021-02-01 09:50:49.000000000,2021-03-04 16:19:36.000000000,2021-03-04 16:19:36.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 09:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b049647ec181021ebfc9291297231d11985be18c', 'message': ""[DNM] Re-enable SSL en p-o-i scenarios 1, 3 and 4\n\nIt has been long since we disabled ssl in scenarios, let's test the\ncurrent status.\n\nChange-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923\n""}, {'number': 2, 'created': '2021-02-01 11:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/907a910a9f29fb8fb5d1e394b296385e55f2f668', 'message': ""[DNM] Re-enable SSL en p-o-i scenarios 1, 3 and 4\n\nIt has been long since we disabled ssl in scenarios, let's test the\ncurrent status.\n\nChange-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923\n""}, {'number': 3, 'created': '2021-02-02 08:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/04e11e1b45196e23a33f2bd4425a4af86685b6d3', 'message': ""[DNM] Re-enable SSL en p-o-i scenarios 1, 3 and 4\n\nIt has been long since we disabled ssl in scenarios, let's test the\ncurrent status.\n\nChange-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923\n""}, {'number': 4, 'created': '2021-02-02 11:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/42812e9a839efc70eea1f6fccb67cdea75baf734', 'message': ""[DNM] Re-enable SSL en p-o-i scenarios 1, 3 and 4\n\nIt has been long since we disabled ssl in scenarios, let's test the\ncurrent status.\n\nChange-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923\n""}, {'number': 5, 'created': '2021-02-02 11:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8023e5bcfa91cdd76d207e32581556576fc25580', 'message': ""[DNM] Re-enable SSL en p-o-i scenarios 1, 3 and 4\n\nIt has been long since we disabled ssl in scenarios, let's test the\ncurrent status.\n\nChange-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923\n""}, {'number': 6, 'created': '2021-02-02 13:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d368861569bd0834d65e828a8137db22db1ecb5e', 'message': ""[DNM] Re-enable SSL en p-o-i scenarios 1, 3 and 4\n\nIt has been long since we disabled ssl in scenarios, let's test the\ncurrent status.\n\nChange-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923\n""}, {'number': 7, 'created': '2021-02-03 05:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7cb567c20e49c1910f14f9a58c66e26f25cd9b68', 'message': ""[DNM] Re-enable SSL en p-o-i scenarios 1, 3 and 4\n\nIt has been long since we disabled ssl in scenarios, let's test the\ncurrent status.\n\nDo not enable ssl in glance as it removed native ssl support with [1].\n\n[1] https://review.opendev.org/c/openstack/glance/+/697969\n\nChange-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923\n""}, {'number': 8, 'created': '2021-02-03 06:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/05cb6ea9e844c31e420327c37acceef6605b65ac', 'message': ""[DNM] Re-enable SSL en p-o-i scenarios 1, 3 and 4\n\nIt has been long since we disabled ssl in scenarios, let's test the\ncurrent status.\n\nDo not enable ssl in glance as it removed native ssl support with [1].\n\n[1] https://review.opendev.org/c/openstack/glance/+/697969\n\nChange-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923\n""}, {'number': 9, 'created': '2021-02-05 08:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/04ce38b6fb157fa6edf2c1b3fd51ded2bee42ba1', 'message': ""Re-enable SSL en p-o-i scenarios 1, 3 and 4\n\nIt has been long since we disabled ssl in scenarios. With current\nversions of OpenStack projects and libraries, all projects but glance,\nwhich has removed native ssl support with [1], are working fine with\nSSL, so we can enable it again.\n\nI'm  leaving scenario002 without SSL to cover both cases in CI.\n\n[1] https://review.opendev.org/c/openstack/glance/+/697969\n\nChange-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923\n""}, {'number': 10, 'created': '2021-02-18 08:16:41.000000000', 'files': ['manifests/neutron.pp', 'manifests/cinder.pp', 'manifests/glance.pp', 'fixtures/scenario001.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bc8675fe05eb9ba076de02522f00d99ca4a78837', 'message': ""Re-enable SSL en p-o-i scenarios 1, 3 and 4\n\nIt has been long since we disabled ssl in scenarios. With current\nversions of OpenStack projects and libraries, all projects but glance,\nwhich has removed native ssl support with [1], are working fine with\nSSL, so we can enable it again.\n\nI'm  leaving scenario002 without SSL to cover both cases in CI.\n\n[1] https://review.opendev.org/c/openstack/glance/+/697969\n\nChange-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923\n""}]",1,773336,bc8675fe05eb9ba076de02522f00d99ca4a78837,27,6,10,16312,,,0,"Re-enable SSL en p-o-i scenarios 1, 3 and 4

It has been long since we disabled ssl in scenarios. With current
versions of OpenStack projects and libraries, all projects but glance,
which has removed native ssl support with [1], are working fine with
SSL, so we can enable it again.

I'm  leaving scenario002 without SSL to cover both cases in CI.

[1] https://review.opendev.org/c/openstack/glance/+/697969

Change-Id: Id95b73003e1f91bc4bf9cb92b6665c1e6cbe2923
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/36/773336/6 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp']",3,b049647ec181021ebfc9291297231d11985be18c,,if ($::os['name'] == 'Ubuntu') or ($::os['name'] == 'Fedora') {,if ($::os['name'] == 'Ubuntu') or ($::os['name'] == 'Fedora') or ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { # FIXME(ykarel) Disable SSL until services are ready to work with SSL + Python3,3,9
openstack%2Freleases~master~If02da1c930ebbac869f17389551baaba87985281,openstack/releases,master,If02da1c930ebbac869f17389551baaba87985281,DNM - test create tag on unbranched series,ABANDONED,2021-02-17 15:19:37.000000000,2021-03-04 16:11:12.000000000,,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 15:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/79d3d4e0785b4f0185c3e5b1488ebf4c9f1c1852', 'message': 'DNM - test create tag on unbranched series\n\nChange-Id: If02da1c930ebbac869f17389551baaba87985281\n'}, {'number': 2, 'created': '2021-02-17 15:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0278dd9eeb3c717557bd3c11d4b9bea6a8501754', 'message': 'DNM - test create tag on unbranched series\n\nChange-Id: If02da1c930ebbac869f17389551baaba87985281\n'}, {'number': 3, 'created': '2021-02-17 15:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e07cb8ed55c4f77582b933130ac187300c55edc7', 'message': 'DNM - test create tag on unbranched series\n\nChange-Id: If02da1c930ebbac869f17389551baaba87985281\n'}, {'number': 4, 'created': '2021-02-17 16:17:39.000000000', 'files': ['deliverables/ussuri/os-refresh-config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/143d5c50ea926489ce1203cff44e9668b8524ea5', 'message': 'DNM - test create tag on unbranched series\n\nChange-Id: If02da1c930ebbac869f17389551baaba87985281\n'}]",0,776215,143d5c50ea926489ce1203cff44e9668b8524ea5,10,3,4,28522,,,0,"DNM - test create tag on unbranched series

Change-Id: If02da1c930ebbac869f17389551baaba87985281
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/776215/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/os-refresh-config.yaml'],1,79d3d4e0785b4f0185c3e5b1488ebf4c9f1c1852,missing-stable-branch,releases: - version: 11.0.0 projects: - repo: openstack/os-refresh-config hash: 754bb751e6728aafa680111a6fab3013609654cc,,5,0
openstack%2Ftripleo-ipsec~stable%2Fvictoria~Ic2aabd961588f6f8910eedb29b92aaa599928d98,openstack/tripleo-ipsec,stable/victoria,Ic2aabd961588f6f8910eedb29b92aaa599928d98,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2021-01-14 10:23:08.000000000,2021-03-04 16:03:56.000000000,2021-03-04 16:03:56.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 10:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/38932e8e03c87685b03d1365222b10ed5520ef82', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic2aabd961588f6f8910eedb29b92aaa599928d98\n'}, {'number': 2, 'created': '2021-03-04 15:16:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/96c60fa201697546cf4cc619e13fd685d7f7d52f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic2aabd961588f6f8910eedb29b92aaa599928d98\n'}]",0,770777,96c60fa201697546cf4cc619e13fd685d7f7d52f,11,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic2aabd961588f6f8910eedb29b92aaa599928d98
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/77/770777/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,38932e8e03c87685b03d1365222b10ed5520ef82,create-victoria, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} {opts} {packages}, pip install -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Freleases~master~Ice2a6d2cc5285169fb03d94201feb8205173851d,openstack/releases,master,Ice2a6d2cc5285169fb03d94201feb8205173851d,Final release of octavia-lib for Wallaby,MERGED,2021-03-03 15:49:59.000000000,2021-03-04 16:01:17.000000000,2021-03-04 16:01:17.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 15:49:59.000000000', 'files': ['deliverables/wallaby/octavia-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/acbe0813a36e2410fe1960eb5b759745e5574e35', 'message': 'Final release of octavia-lib for Wallaby\n\nChange-Id: Ice2a6d2cc5285169fb03d94201feb8205173851d\n'}]",0,778490,acbe0813a36e2410fe1960eb5b759745e5574e35,9,5,1,11628,,,0,"Final release of octavia-lib for Wallaby

Change-Id: Ice2a6d2cc5285169fb03d94201feb8205173851d
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/778490/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/octavia-lib.yaml'],1,acbe0813a36e2410fe1960eb5b759745e5574e35,, - version: 2.3.1 projects: - repo: openstack/octavia-lib hash: 3208f7fbcae31f84f0d8b0ff05ef63f5f7f2a075,,4,0
openstack%2Ftripleo-ipsec~stable%2Fvictoria~I28ea4cc8f56479a28f58b86bb7aefee4efc1fbae,openstack/tripleo-ipsec,stable/victoria,I28ea4cc8f56479a28f58b86bb7aefee4efc1fbae,Update .gitreview for stable/victoria,MERGED,2021-01-14 10:23:05.000000000,2021-03-04 15:58:42.000000000,2021-03-04 15:58:42.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-14 10:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/f72aa03285dd6c6aab5339e2dd24a3695bca47d8', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I28ea4cc8f56479a28f58b86bb7aefee4efc1fbae\n'}, {'number': 2, 'created': '2021-03-04 15:16:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/bc390865fb1f1cb6e1ac8d55b9ad8a552e9895b6', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I28ea4cc8f56479a28f58b86bb7aefee4efc1fbae\n'}]",0,770776,bc390865fb1f1cb6e1ac8d55b9ad8a552e9895b6,16,4,2,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I28ea4cc8f56479a28f58b86bb7aefee4efc1fbae
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/76/770776/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f72aa03285dd6c6aab5339e2dd24a3695bca47d8,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Ftripleo-ipsec~stable%2Fvictoria~I8a3d5cad047ae36af071a6c8322026339d643cea,openstack/tripleo-ipsec,stable/victoria,I8a3d5cad047ae36af071a6c8322026339d643cea,Fix linters,MERGED,2021-03-04 15:16:06.000000000,2021-03-04 15:58:24.000000000,2021-03-04 15:58:24.000000000,"[{'_account_id': 8449}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 15:16:06.000000000', 'files': ['tox.ini', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/c7f0a0082dad7887866de82b51bff97b705a1b72', 'message': 'Fix linters\n\nSince version 5.0, ansible-lint seems to have stricter requirements\nabout role names in meta/main.yml, and it is causing errors in CI\n[1].\n\nAlso, add no-tabs to the exclusion list.\n\n[1] - https://github.com/ansible-community/ansible-lint/issues/1400\n\nChange-Id: I8a3d5cad047ae36af071a6c8322026339d643cea\n(cherry picked from commit b5559c8c8669638f311f1c57d2d2a87f0202cddf)\n'}]",0,778725,c7f0a0082dad7887866de82b51bff97b705a1b72,7,4,1,8449,,,0,"Fix linters

Since version 5.0, ansible-lint seems to have stricter requirements
about role names in meta/main.yml, and it is causing errors in CI
[1].

Also, add no-tabs to the exclusion list.

[1] - https://github.com/ansible-community/ansible-lint/issues/1400

Change-Id: I8a3d5cad047ae36af071a6c8322026339d643cea
(cherry picked from commit b5559c8c8669638f311f1c57d2d2a87f0202cddf)
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/25/778725/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'meta/main.yml']",2,c7f0a0082dad7887866de82b51bff97b705a1b72,, role_name: tripleo_ipsec,,2,1
openstack%2Fkolla-ansible~master~I11e9bd9e7b5a92d36c81c465e9cc8d570156ccb7,openstack/kolla-ansible,master,I11e9bd9e7b5a92d36c81c465e9cc8d570156ccb7,Use Docker healthchecks for murano services,NEW,2021-03-04 14:03:12.000000000,2021-03-04 15:53:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-04 14:03:12.000000000', 'files': ['ansible/roles/murano/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-murano-1baa4c649dd39e5a.yaml', 'ansible/roles/murano/tasks/check-containers.yml', 'ansible/roles/murano/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc69c640ca1b2600a63cd91878a391176aee73ca', 'message': 'Use Docker healthchecks for murano services\n\nThis change enables the use of Docker healthchecks for murano services.\nImplements: blueprint container-health-check\n\nChange-Id: I11e9bd9e7b5a92d36c81c465e9cc8d570156ccb7\n'}]",0,778703,dc69c640ca1b2600a63cd91878a391176aee73ca,3,1,1,26285,,,0,"Use Docker healthchecks for murano services

This change enables the use of Docker healthchecks for murano services.
Implements: blueprint container-health-check

Change-Id: I11e9bd9e7b5a92d36c81c465e9cc8d570156ccb7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/778703/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/murano/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-murano-1baa4c649dd39e5a.yaml', 'ansible/roles/murano/tasks/check-containers.yml', 'ansible/roles/murano/handlers/main.yml']",4,dc69c640ca1b2600a63cd91878a391176aee73ca,container-health-check," healthcheck: ""{{ service.healthcheck | default(omit) }}"" healthcheck: ""{{ service.healthcheck | default(omit) }}""",,37,0
openstack%2Fgovernance~master~I378165732d126e91cc330b01c3df62ebab8cdc32,openstack/governance,master,I378165732d126e91cc330b01c3df62ebab8cdc32,Cool-down cycle goal,ABANDONED,2021-01-13 13:36:35.000000000,2021-03-04 15:39:20.000000000,,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 1736}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-13 13:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/47ecdb14a7b72f2922dddc69317e45df74e4c019', 'message': 'Cool-down cycle goal\n\nChange-Id: I378165732d126e91cc330b01c3df62ebab8cdc32\n'}, {'number': 2, 'created': '2021-01-20 13:40:47.000000000', 'files': ['goals/proposed/cooldown.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/9d6437626202ecbad94f6964e7e9fa718cbd33ab', 'message': 'Cool-down cycle goal\n\nChange-Id: I378165732d126e91cc330b01c3df62ebab8cdc32\n'}]",11,770616,9d6437626202ecbad94f6964e7e9fa718cbd33ab,32,13,2,1004,,,0,"Cool-down cycle goal

Change-Id: I378165732d126e91cc330b01c3df62ebab8cdc32
",git fetch https://review.opendev.org/openstack/governance refs/changes/16/770616/2 && git format-patch -1 --stdout FETCH_HEAD,['goals/proposed/cooldown.rst'],1,47ecdb14a7b72f2922dddc69317e45df74e4c019,formal-vote,"============== Cooldown Cycle ============== Due to the current global situation, each of us has gone through things this year that are quite unlike any other. Over the last few weeks, the TC and the community have been sharing thoughts and opinions regarding the new community goal for the X Cycle. It is important to remember that there is no minimum or maximum limit on the number of goals to be selected per cycle and that it is completely fine to skip goals for any cycle with a valid reason. That is why we believe that skipping a community goal for our sanity and letting our developers push time towards a feature they want to drive or something they might enjoy doing might be a reasonable community goal. Thus, the TC has decided to have a stabilization or cool down goal for this release. However, it's important to say that this doesnt mean everybody should stop with this cycles features. The goal is to do whatever you want to do to improve the software and share if you wish to or do nothing, and that is also ok. Goals for this cycle: 1. Use this time to rest and relax; no need to do something. 2. Use this time to finish up this really cool thing you've been trying to find time to, and share with us to recognize. 3. Check out the existing goals/popup teams that might interest you if you want to invest time in something different/new. ",,31,0
openstack%2Fnova~master~I16e7df6932bb7dff243706ee49338ba6b3782085,openstack/nova,master,I16e7df6932bb7dff243706ee49338ba6b3782085,libvirt: parse alias out from device config,MERGED,2021-01-25 17:21:29.000000000,2021-03-04 15:39:07.000000000,2021-03-04 11:49:21.000000000,"[{'_account_id': 6962}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 17:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ffe43cd95049f224de4e5aa06ef52f26fd7e1cd', 'message': 'libvirt: parse alias out from device config\n\nLibvirt assigns a device alias for each device in the domain and use\nthis identifier in the events related to these devices, like device\ndetach.\n\nThis patch extends the LibvirtConfigGuestInterface and the\nLibvirtConfigGuestDisk config object to parse the alias back from the\ndomain config. The alias is intentionally not used during domain xml\ngeneration as it is expected that libvirt maintain this field.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I16e7df6932bb7dff243706ee49338ba6b3782085\nRelated-Bug: #1882521\n'}, {'number': 2, 'created': '2021-01-25 17:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/301a060d27d21db477f12c3a3061208db9e62dc7', 'message': 'libvirt: parse alias out from device config\n\nLibvirt assigns a device alias for each device in the domain and use\nthis identifier in the events related to these devices, like device\ndetach.\n\nThis patch extends the LibvirtConfigGuestInterface and the\nLibvirtConfigGuestDisk config object to parse the alias back from the\ndomain config. The alias is intentionally not used during domain xml\ngeneration as it is expected that libvirt maintain this field.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I16e7df6932bb7dff243706ee49338ba6b3782085\nRelated-Bug: #1882521\n'}, {'number': 3, 'created': '2021-01-26 17:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71aff5ee47ccf56c977c27c81b158c63b9fbb120', 'message': 'libvirt: parse alias out from device config\n\nLibvirt assigns a device alias for each device in the domain and use\nthis identifier in the events related to these devices, like device\ndetach.\n\nThis patch extends the LibvirtConfigGuestInterface and the\nLibvirtConfigGuestDisk config object to parse the alias back from the\ndomain config. The alias is intentionally not used during domain xml\ngeneration as it is expected that libvirt maintain this field.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I16e7df6932bb7dff243706ee49338ba6b3782085\nRelated-Bug: #1882521\n'}, {'number': 4, 'created': '2021-01-29 12:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5403abfb679f78c95596135097967fe4f33ce1d', 'message': 'libvirt: parse alias out from device config\n\nLibvirt assigns a device alias for each device in the domain and use\nthis identifier in the events related to these devices, like device\ndetach.\n\nThis patch extends the LibvirtConfigGuestInterface and the\nLibvirtConfigGuestDisk config object to parse the alias back from the\ndomain config. The alias is intentionally not used during domain xml\ngeneration as it is expected that libvirt maintain this field.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I16e7df6932bb7dff243706ee49338ba6b3782085\nRelated-Bug: #1882521\n'}, {'number': 5, 'created': '2021-02-08 17:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/624db21de53f740a5a97b41d349c19165b07b44b', 'message': 'libvirt: parse alias out from device config\n\nLibvirt assigns a device alias for each device in the domain and use\nthis identifier in the events related to these devices, like device\ndetach.\n\nThis patch extends the LibvirtConfigGuestInterface and the\nLibvirtConfigGuestDisk config object to parse the alias back from the\ndomain config. The alias is intentionally not used during domain xml\ngeneration as it is expected that libvirt maintain this field.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I16e7df6932bb7dff243706ee49338ba6b3782085\nRelated-Bug: #1882521\n'}, {'number': 6, 'created': '2021-02-22 15:12:19.000000000', 'files': ['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/96072a1ef1a5822d57e18ba65ce3ba50af062b23', 'message': 'libvirt: parse alias out from device config\n\nLibvirt assigns a device alias for each device in the domain and uses\nthis identifier in the events related to these devices, like device\ndetach.\n\nThis patch extends the LibvirtConfigGuestInterface and the\nLibvirtConfigGuestDisk config object to parse the alias back from the\ndomain config. The alias is intentionally not used during domain XML\ngeneration as it is expected that libvirt will populate and persist\nthis field.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nChange-Id: I16e7df6932bb7dff243706ee49338ba6b3782085\nRelated-Bug: #1882521\n'}]",6,772384,96072a1ef1a5822d57e18ba65ce3ba50af062b23,74,4,6,9708,,,0,"libvirt: parse alias out from device config

Libvirt assigns a device alias for each device in the domain and uses
this identifier in the events related to these devices, like device
detach.

This patch extends the LibvirtConfigGuestInterface and the
LibvirtConfigGuestDisk config object to parse the alias back from the
domain config. The alias is intentionally not used during domain XML
generation as it is expected that libvirt will populate and persist
this field.

This is part of the longer series trying to transform the existing
device detach handling to use libvirt events.

Change-Id: I16e7df6932bb7dff243706ee49338ba6b3782085
Related-Bug: #1882521
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/772384/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/config.py'],1,7ffe43cd95049f224de4e5aa06ef52f26fd7e1cd,bug/1882521, self.alias = None elif c.tag == 'alias': self.alias = c.get('name') self.alias = None elif c.tag == 'alias': self.alias = c.get('name'),,6,0
openstack%2Felection~master~Ie8361a857f9fce181f189e762b4b4c0a14430aa7,openstack/election,master,Ie8361a857f9fce181f189e762b4b4c0a14430aa7,Add Lucian Petrut candidacy for Winstackers,MERGED,2021-03-04 04:46:04.000000000,2021-03-04 15:31:03.000000000,2021-03-04 15:27:41.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 04:46:04.000000000', 'files': ['candidates/xena/Winstackers/lpetrut@cloudbasesolutions.com'], 'web_link': 'https://opendev.org/openstack/election/commit/307b54596ff279981ddea88ae89afb7fb913ee2a', 'message': 'Add Lucian Petrut candidacy for Winstackers\n\nChange-Id: Ie8361a857f9fce181f189e762b4b4c0a14430aa7\n'}]",0,778610,307b54596ff279981ddea88ae89afb7fb913ee2a,8,3,1,8543,,,0,"Add Lucian Petrut candidacy for Winstackers

Change-Id: Ie8361a857f9fce181f189e762b4b4c0a14430aa7
",git fetch https://review.opendev.org/openstack/election refs/changes/10/778610/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Winstackers/lpetrut@cloudbasesolutions.com'],1,307b54596ff279981ddea88ae89afb7fb913ee2a,,"Hi, I'd like to announce my candidacy, continuing as Winstackers PTL for the upcoming Xena cycle. During the last release, we managed to add Hyper-V RBD support, which was one of the most anticipated features. In the upcoming cycle, we'll focus on stability and documentation improvements. Another goal is to continue advocating OpenStack in the Windows world, improving the integration with other projects. Thank you for your consideration, Lucian Petrut ",,15,0
openstack%2Ftripleo-ipsec~master~I8a3d5cad047ae36af071a6c8322026339d643cea,openstack/tripleo-ipsec,master,I8a3d5cad047ae36af071a6c8322026339d643cea,Fix linters,MERGED,2021-03-04 10:33:31.000000000,2021-03-04 15:24:42.000000000,2021-03-04 15:24:42.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 10:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/87d8b32be06059d5fe8630d2b03d40cc5c044eb2', 'message': 'Set role_name in meta/main.yml\n\nSince version 5.0, ansible-lint seems to have stricter requirements\nabout role names in meta/main.yml, and it is causing errors in CI\n[1].\n\n[1] - https://github.com/ansible-community/ansible-lint/issues/1400\n\nChange-Id: I8a3d5cad047ae36af071a6c8322026339d643cea\n'}, {'number': 2, 'created': '2021-03-04 10:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/e1e4052ce9e1acac87aaa0c358ee36428def143d', 'message': 'Set role_name in meta/main.yml\n\nSince version 5.0, ansible-lint seems to have stricter requirements\nabout role names in meta/main.yml, and it is causing errors in CI\n[1].\n\n[1] - https://github.com/ansible-community/ansible-lint/issues/1400\n\nChange-Id: I8a3d5cad047ae36af071a6c8322026339d643cea\n'}, {'number': 3, 'created': '2021-03-04 10:53:18.000000000', 'files': ['tox.ini', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/b5559c8c8669638f311f1c57d2d2a87f0202cddf', 'message': 'Fix linters\n\nSince version 5.0, ansible-lint seems to have stricter requirements\nabout role names in meta/main.yml, and it is causing errors in CI\n[1].\n\nAlso, add no-tabs to the exclusion list.\n\n[1] - https://github.com/ansible-community/ansible-lint/issues/1400\n\nChange-Id: I8a3d5cad047ae36af071a6c8322026339d643cea\n'}]",0,778632,b5559c8c8669638f311f1c57d2d2a87f0202cddf,11,3,3,13294,,,0,"Fix linters

Since version 5.0, ansible-lint seems to have stricter requirements
about role names in meta/main.yml, and it is causing errors in CI
[1].

Also, add no-tabs to the exclusion list.

[1] - https://github.com/ansible-community/ansible-lint/issues/1400

Change-Id: I8a3d5cad047ae36af071a6c8322026339d643cea
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/32/778632/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,87d8b32be06059d5fe8630d2b03d40cc5c044eb2,, role-name: tripleo_ipsec,,1,0
openstack%2Fcinder~master~I16f54e6722cdbcbad4af1eb0d30264b0039412fd,openstack/cinder,master,I16f54e6722cdbcbad4af1eb0d30264b0039412fd,Add encryption_key_id to volume and backup details,MERGED,2021-01-15 20:46:43.000000000,2021-03-04 15:18:52.000000000,2021-03-04 15:10:38.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 20:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96b4a10a224c952136cc81884bbfbfdccde82176', 'message': ""Add encryption_key_id to volume and backup details\n\nAdd microversion 3.63 for including the encryption_key_id in the\nvolume and backup details when the associated volume is encrypted.\nThis facilitates associating encryption keys (typically stored in\nBarbican) with the volume or backup that uses it.\n\nThe encryption_key_id is included in the details only when the\nassociated volume is encrypted, and it isn't using the all-zeros\nkey ID used by the legacy fixed-key ConfKeyMgr.\n\nAPIImpact\nDocImpact\n\nImplements: blueprint include-encryption-key-id-in-details\nChange-Id: I16f54e6722cdbcbad4af1eb0d30264b0039412fd\n""}, {'number': 2, 'created': '2021-02-04 05:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/43eab822e6e7c6771dbe48645f8963ac7be2f374', 'message': ""Add encryption_key_id to volume and backup details\n\nAdd microversion 3.63 for including the encryption_key_id in the\nvolume and backup details when the associated volume is encrypted.\nThis facilitates associating encryption keys (typically stored in\nBarbican) with the volume or backup that uses it.\n\nThe encryption_key_id is included in the details only when the\nassociated volume is encrypted, and it isn't using the all-zeros\nkey ID used by the legacy fixed-key ConfKeyMgr.\n\nAPIImpact\nDocImpact\n\nImplements: blueprint include-encryption-key-id-in-details\nChange-Id: I16f54e6722cdbcbad4af1eb0d30264b0039412fd\n""}, {'number': 3, 'created': '2021-02-04 15:23:28.000000000', 'files': ['api-ref/source/v3/samples/versions/versions-response.json', 'cinder/tests/unit/api/v3/test_volumes.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/common/constants.py', 'cinder/tests/unit/api/v3/test_backups.py', 'api-ref/source/v3/samples/versions/version-show-response.json', 'cinder/api/v3/views/backups.py', 'releasenotes/notes/add-encryption-key-id-to-details-e721977fba0f2b51.yaml', 'cinder/api/microversions.py', 'cinder/api/v3/views/volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f91aec58696abf8949f40d8f1287db2788fd7c0c', 'message': ""Add encryption_key_id to volume and backup details\n\nAdd microversion 3.64 for including the encryption_key_id in the\nvolume and backup details when the associated volume is encrypted.\nThis facilitates associating encryption keys (typically stored in\nBarbican) with the volume or backup that uses it.\n\nThe encryption_key_id is included in the details only when the\nassociated volume is encrypted, and it isn't using the all-zeros\nkey ID used by the legacy fixed-key ConfKeyMgr.\n\nAPIImpact\nDocImpact\n\nImplements: blueprint include-encryption-key-id-in-details\nChange-Id: I16f54e6722cdbcbad4af1eb0d30264b0039412fd\n""}]",0,771081,f91aec58696abf8949f40d8f1287db2788fd7c0c,89,3,3,21129,,,0,"Add encryption_key_id to volume and backup details

Add microversion 3.64 for including the encryption_key_id in the
volume and backup details when the associated volume is encrypted.
This facilitates associating encryption keys (typically stored in
Barbican) with the volume or backup that uses it.

The encryption_key_id is included in the details only when the
associated volume is encrypted, and it isn't using the all-zeros
key ID used by the legacy fixed-key ConfKeyMgr.

APIImpact
DocImpact

Implements: blueprint include-encryption-key-id-in-details
Change-Id: I16f54e6722cdbcbad4af1eb0d30264b0039412fd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/771081/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/versions/versions-response.json', 'cinder/tests/unit/api/v3/test_volumes.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/common/constants.py', 'cinder/tests/unit/api/v3/test_backups.py', 'api-ref/source/v3/samples/versions/version-show-response.json', 'cinder/api/v3/views/backups.py', 'releasenotes/notes/add-encryption-key-id-to-details-e721977fba0f2b51.yaml', 'cinder/api/microversions.py', 'cinder/api/v3/views/volumes.py']",14,96b4a10a224c952136cc81884bbfbfdccde82176,bp/include-encryption-key-id-in-details,"from cinder.common import constants as cinder_constants if req_version.matches(mv.ENCRYPTION_KEY_ID_IN_DETAILS, None): encryption_key_id = volume.get('encryption_key_id', None) if (encryption_key_id and encryption_key_id != cinder_constants.FIXED_KEY_ID): volume_ref['volume']['encryption_key_id'] = encryption_key_id ",,112,6
openstack%2Fneutron~master~I762b62cd38077a013d46eaf296614e102470f47a,openstack/neutron,master,I762b62cd38077a013d46eaf296614e102470f47a,"[OVN] Set OVN mech driver ""resource_provider_uuid5_namespace""",MERGED,2021-02-19 14:34:12.000000000,2021-03-04 15:18:48.000000000,2021-03-04 15:09:03.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 14:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/166c7fe8412114b877ab7b0deddb14406d9e8703', 'message': '[OVN] Set OVN mech driver ""resource_provider_uuid5_namespace""\n\nSet a UUID v5 namespace for the OVN mechanism driver, that will\nbe used to deterministically generate Placement Resource Provider\nUUIDs.\n\nChange-Id: I762b62cd38077a013d46eaf296614e102470f47a\nPartial-Bug: #1578989\n'}, {'number': 2, 'created': '2021-02-19 19:39:14.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f416060d41de0705b631eb3164c984543aecff99', 'message': '[OVN] Set OVN mech driver ""resource_provider_uuid5_namespace""\n\nSet a UUID v5 namespace for the OVN mechanism driver, that will\nbe used to deterministically generate Placement Resource Provider\nUUIDs.\n\nPartial-Bug: #1578989\n\nChange-Id: I762b62cd38077a013d46eaf296614e102470f47a\n'}]",0,776648,f416060d41de0705b631eb3164c984543aecff99,18,4,2,16688,,,0,"[OVN] Set OVN mech driver ""resource_provider_uuid5_namespace""

Set a UUID v5 namespace for the OVN mechanism driver, that will
be used to deterministically generate Placement Resource Provider
UUIDs.

Partial-Bug: #1578989

Change-Id: I762b62cd38077a013d46eaf296614e102470f47a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/776648/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,166c7fe8412114b877ab7b0deddb14406d9e8703,bug/1578989,import uuid resource_provider_uuid5_namespace = uuid.UUID( '87ee7d5c-73bb-11e8-9008-c4d987b2a692') ,,4,0
openstack%2Fswift~master~Ia041f7b7dbd4e264072325b4b52718fef9966708,openstack/swift,master,Ia041f7b7dbd4e264072325b4b52718fef9966708,Fix race in diskfile.relink_paths,MERGED,2021-03-03 14:39:56.000000000,2021-03-04 15:18:43.000000000,2021-03-04 15:10:06.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 14:39:56.000000000', 'files': ['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/24eb16fc2ab64a3e9dc4e11876c9b381301d2323', 'message': 'Fix race in diskfile.relink_paths\n\nWhen a diskfile is written in a new diskfile dir, then in\ndiskfile.relink_paths the existence of the diskfile dir is tested\nbefore a call to makedirs. If more than one process is taking the same\naction concurrently they may race such that one tests for existence,\nthen another call makedirs, then the first calls makedirs and an\nexception is raised. The first process therefore fails to relink the\nobject file, which is particularly problematic if the first process\nwas writing a newer object file.\n\nThis patch changes relink_paths to unconditionally attempt the\nmakedirs but catch and ignore any EEXIST errors.\n\nChange-Id: Ia041f7b7dbd4e264072325b4b52718fef9966708\n'}]",2,778474,24eb16fc2ab64a3e9dc4e11876c9b381301d2323,15,2,1,7847,,,0,"Fix race in diskfile.relink_paths

When a diskfile is written in a new diskfile dir, then in
diskfile.relink_paths the existence of the diskfile dir is tested
before a call to makedirs. If more than one process is taking the same
action concurrently they may race such that one tests for existence,
then another call makedirs, then the first calls makedirs and an
exception is raised. The first process therefore fails to relink the
object file, which is particularly problematic if the first process
was writing a newer object file.

This patch changes relink_paths to unconditionally attempt the
makedirs but catch and ignore any EEXIST errors.

Change-Id: Ia041f7b7dbd4e264072325b4b52718fef9966708
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/778474/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py']",2,24eb16fc2ab64a3e9dc4e11876c9b381301d2323,p-diskfile-relink-paths-race, try: except OSError as err: if err.errno != errno.EEXIST: raise, if not os.path.isdir(new_target_dir):,66,1
openstack%2Fhorizon~master~I0b8e6b2e540a1782b9edd9921490a9371d31afc7,openstack/horizon,master,I0b8e6b2e540a1782b9edd9921490a9371d31afc7,Handle an attached volume without volume_image_metadata,MERGED,2021-02-25 19:17:44.000000000,2021-03-04 15:18:30.000000000,2021-03-04 14:49:48.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-25 19:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f936707c3607c9f66dfa661e7065036e202b3f43', 'message': 'Handle an attached volume without volume_image_metadata\n\nThere is a case where volume_image_metadata attribute does not exist.\nIt looks like it happens for example when a volume was created before\nthe volume_image_metadata feature was implemented.\n\nChange-Id: I0b8e6b2e540a1782b9edd9921490a9371d31afc7\nCloses-Bug: #1916891\n'}, {'number': 2, 'created': '2021-02-27 22:59:32.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/tabs.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b841952906de33ff93c90cc04ea0509afeaab89f', 'message': 'Handle an attached volume without volume_image_metadata\n\nThere is a case where volume_image_metadata attribute does not exist.\nIt looks like it happens for example when a volume was created before\nthe volume_image_metadata feature was implemented.\n\nChange-Id: I0b8e6b2e540a1782b9edd9921490a9371d31afc7\nCloses-Bug: #1916891\n'}]",0,777654,b841952906de33ff93c90cc04ea0509afeaab89f,12,3,2,841,,,0,"Handle an attached volume without volume_image_metadata

There is a case where volume_image_metadata attribute does not exist.
It looks like it happens for example when a volume was created before
the volume_image_metadata feature was implemented.

Change-Id: I0b8e6b2e540a1782b9edd9921490a9371d31afc7
Closes-Bug: #1916891
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/777654/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/tabs.py'],1,f936707c3607c9f66dfa661e7065036e202b3f43,bug/1916891," try: instance.image = { 'id': volume.volume_image_metadata['image_id'], 'name': volume.volume_image_metadata['image_name'], } except AttributeError: # volume_image_metadata does not exist, e.g., when a volume # used for the server was created before volume_image_metadata # feature was implemented. instance.image = None"," instance.image = { 'id': volume.volume_image_metadata['image_id'], 'name': volume.volume_image_metadata['image_name']}",10,3
openstack%2Fvalidations-libs~master~I693ba3699ab2c1b50f92b4f60f309d8c529a23c4,openstack/validations-libs,master,I693ba3699ab2c1b50f92b4f60f309d8c529a23c4,Refactor the groups property in Validation class.,MERGED,2021-03-03 23:17:28.000000000,2021-03-04 15:17:53.000000000,2021-03-04 14:58:31.000000000,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-03-03 23:17:28.000000000', 'files': ['validations_libs/validation.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/01103d673995f62f4e9f0f530e84e8f2ff0e3d88', 'message': 'Refactor the groups property in Validation class.\n\nImprove the code and remove the condition to check the groups. Use the\ndefault value from the get method.\n\nCo-authored-by: Owen McGonagle <omcgonag@redhat.com>\nChange-Id: I693ba3699ab2c1b50f92b4f60f309d8c529a23c4\n'}]",0,778592,01103d673995f62f4e9f0f530e84e8f2ff0e3d88,8,5,1,31245,,,0,"Refactor the groups property in Validation class.

Improve the code and remove the condition to check the groups. Use the
default value from the get method.

Co-authored-by: Owen McGonagle <omcgonag@redhat.com>
Change-Id: I693ba3699ab2c1b50f92b4f60f309d8c529a23c4
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/92/778592/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/validation.py'],1,01103d673995f62f4e9f0f530e84e8f2ff0e3d88,," return self.dict['vars']['metadata'].get('groups', [])", groups = self.dict['vars']['metadata'].get('groups') if groups: return groups else: return [],1,5
openstack%2Fpython-tripleoclient~master~Ied14f40cf074755225abe1e8f1c859bacbe9022f,openstack/python-tripleoclient,master,Ied14f40cf074755225abe1e8f1c859bacbe9022f,Copy the inventory for standalone deploy in output_dir,MERGED,2021-02-25 12:03:50.000000000,2021-03-04 15:17:32.000000000,2021-03-04 14:57:00.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-02-25 12:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aa7dbdb2894bb28155f160ac10859ba2b0256c34', 'message': 'Copy the inventory for standalone deploy in output_dir\n\nIn order to be re-used by post deployment action, this review\ncopy the ansible inventory into the output_dir as:\nstandalone-inventory.yaml.\nIf file exist it will replace the old one.\n\nChange-Id: Ied14f40cf074755225abe1e8f1c859bacbe9022f\n'}, {'number': 2, 'created': '2021-02-25 13:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/73be0a219847e35dfe8c2cec65ac88b72264bb0f', 'message': 'Copy the inventory for standalone deploy in output_dir\n\nIn order to be re-used by post deployment action, this review\ncopy the ansible inventory into the output_dir as:\nstandalone-inventory.yaml.\nIf file exist it will replace the old one.\n\nChange-Id: Ied14f40cf074755225abe1e8f1c859bacbe9022f\n'}, {'number': 3, 'created': '2021-03-01 10:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/58a079aa85b43c91d70a775657512f290af9aca7', 'message': 'Copy the inventory for standalone deploy in output_dir\n\nIn order to be re-used by post deployment action, this review\ncopy the ansible inventory into the output_dir as:\nstandalone-inventory.yaml.\nIf file exist it will replace the old one.\n\nChange-Id: Ied14f40cf074755225abe1e8f1c859bacbe9022f\n'}, {'number': 4, 'created': '2021-03-02 10:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9de4327ac2fe0f2fb5dd872bafbf7855dd1f049a', 'message': 'Copy the inventory for standalone deploy in output_dir\n\nIn order to be re-used by post deployment action, this review\ncopy the ansible inventory into the output_dir as:\nstandalone-inventory.yaml.\nIf file exist it will replace the old one.\n\nChange-Id: Ied14f40cf074755225abe1e8f1c859bacbe9022f\n'}, {'number': 5, 'created': '2021-03-03 08:43:34.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0736e447f9f8a075aaf5de0b40e4d20428e2c7ce', 'message': 'Copy the inventory for standalone deploy in output_dir\n\nIn order to be re-used by post deployment action, this review\ncopy the ansible inventory into the output_dir as:\nstandalone-inventory.yaml.\nIf file exist it will replace the old one.\n\nChange-Id: Ied14f40cf074755225abe1e8f1c859bacbe9022f\n'}]",8,777579,0736e447f9f8a075aaf5de0b40e4d20428e2c7ce,27,6,5,16515,,,0,"Copy the inventory for standalone deploy in output_dir

In order to be re-used by post deployment action, this review
copy the ansible inventory into the output_dir as:
standalone-inventory.yaml.
If file exist it will replace the old one.

Change-Id: Ied14f40cf074755225abe1e8f1c859bacbe9022f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/79/777579/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,aa7dbdb2894bb28155f160ac10859ba2b0256c34,standalone/inventory," # Move inventory in output_dir in order to be reusable by users: shutil.copyfile(inv_path, os.path.join(self.output_dir, 'standalone-inventory.yaml'))",,3,0
openstack%2Fhorizon~master~I917a8bf9728729d46981d120f510952a750b1270,openstack/horizon,master,I917a8bf9728729d46981d120f510952a750b1270,Allow themes to override bg color of even lines of horizon tables,MERGED,2021-02-28 04:44:54.000000000,2021-03-04 15:14:32.000000000,2021-03-04 14:49:01.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-28 04:44:54.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/_variables.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f78a9c2c081813e38743e0e468faaa4ce96ca235', 'message': 'Allow themes to override bg color of even lines of horizon tables\n\nChange-Id: I917a8bf9728729d46981d120f510952a750b1270\nCloses-Bug: #1900863\n'}]",0,777878,f78a9c2c081813e38743e0e468faaa4ce96ca235,9,4,1,841,,,0,"Allow themes to override bg color of even lines of horizon tables

Change-Id: I917a8bf9728729d46981d120f510952a750b1270
Closes-Bug: #1900863
",git fetch https://review.opendev.org/openstack/horizon refs/changes/78/777878/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/dashboard/scss/_variables.scss'],1,f78a9c2c081813e38743e0e468faaa4ce96ca235,bug/1900863,$table-bg-even: #ffffff !default;,$table-bg-even: #ffffff;,1,1
openstack%2Ftripleo-ipsec~master~I017cb52aaef0683c78cc18c669f345c0b60ed136,openstack/tripleo-ipsec,master,I017cb52aaef0683c78cc18c669f345c0b60ed136,Adds .gitreview defaultbranch - need dummy commit for release issue,ABANDONED,2021-03-03 14:52:44.000000000,2021-03-04 15:11:23.000000000,,"[{'_account_id': 8449}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 14:52:44.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/dcd46dcf9674b9860aba739370ae6b302d2f7a95', 'message': 'Adds .gitreview defaultbranch - need dummy commit for release issue\n\nAs discussed in the related-bug, we need a new commit on master branch\nso we can tag a new release (for Wallaby series).\n\nRelated-Bug: 1917327\nChange-Id: I017cb52aaef0683c78cc18c669f345c0b60ed136\n'}]",0,778480,dcd46dcf9674b9860aba739370ae6b302d2f7a95,8,5,1,8449,,,0,"Adds .gitreview defaultbranch - need dummy commit for release issue

As discussed in the related-bug, we need a new commit on master branch
so we can tag a new release (for Wallaby series).

Related-Bug: 1917327
Change-Id: I017cb52aaef0683c78cc18c669f345c0b60ed136
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/80/778480/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,dcd46dcf9674b9860aba739370ae6b302d2f7a95,,defaultbranch=master,,1,0
openstack%2Frequirements~master~Ib094583f783e12f264a7d7538ccc75f068d18ce3,openstack/requirements,master,Ib094583f783e12f264a7d7538ccc75f068d18ce3,update constraint for ironic-lib to new release 4.6.0,MERGED,2021-03-03 16:10:47.000000000,2021-03-04 14:57:53.000000000,2021-03-04 01:36:16.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 16:10:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/347e83cf56faa4c634cfa54e07c9731585c2e13e', 'message': 'update constraint for ironic-lib to new release 4.6.0\n\nmeta: version: 4.6.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Iac5aa5de01a36d32dfa41a8a821874442f6984ca\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: Ib094583f783e12f264a7d7538ccc75f068d18ce3\n'}]",0,778495,347e83cf56faa4c634cfa54e07c9731585c2e13e,9,3,1,11131,,,0,"update constraint for ironic-lib to new release 4.6.0

meta: version: 4.6.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Iac5aa5de01a36d32dfa41a8a821874442f6984ca
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ib094583f783e12f264a7d7538ccc75f068d18ce3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/95/778495/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,347e83cf56faa4c634cfa54e07c9731585c2e13e,new-release,ironic-lib===4.6.0,ironic-lib===4.5.0,1,1
openstack%2Ftripleo-heat-templates~master~I0c509370332797fe563804b0ddb8f1a5d4742994,openstack/tripleo-heat-templates,master,I0c509370332797fe563804b0ddb8f1a5d4742994,Remove tripleo_transfer cleanup.yml reference,MERGED,2021-03-03 13:01:15.000000000,2021-03-04 14:57:37.000000000,2021-03-04 14:57:37.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 13:01:15.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f081b4f8032f1cd00f7f653d0a0614d09f4cb61', 'message': 'Remove tripleo_transfer cleanup.yml reference\n\nWith the changes in https://review.opendev.org/771657\nthis cleanup task file no longer exists. The cleanup\nis done within the role automatically via a block/rescue.\n\nRelated-Bug: #1908425\nRelated-Bug: rhbz#1904681\nRelated-Bug: rhbz#1916162\nNeeded-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f\n\nChange-Id: I0c509370332797fe563804b0ddb8f1a5d4742994\n'}]",2,778456,0f081b4f8032f1cd00f7f653d0a0614d09f4cb61,11,7,1,6816,,,0,"Remove tripleo_transfer cleanup.yml reference

With the changes in https://review.opendev.org/771657
this cleanup task file no longer exists. The cleanup
is done within the role automatically via a block/rescue.

Related-Bug: #1908425
Related-Bug: rhbz#1904681
Related-Bug: rhbz#1916162
Needed-By: Ifc03f9eb1cb4ca3faec194569f4cb2dace93323f

Change-Id: I0c509370332797fe563804b0ddb8f1a5d4742994
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/778456/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,0f081b4f8032f1cd00f7f653d0a0614d09f4cb61,bz/1916162,, - name: cleanup tripleo_transfer include_role: name: tripleo_transfer tasks_from: cleanup.yml,0,4
openstack%2Fkolla~master~I095ca6f34cc7c7bca485e9ec019cc52aeb8e3ff4,openstack/kolla,master,I095ca6f34cc7c7bca485e9ec019cc52aeb8e3ff4,Fix error when github return 302,MERGED,2021-03-02 14:29:05.000000000,2021-03-04 14:51:08.000000000,2021-03-04 14:16:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-03-02 14:29:05.000000000', 'files': ['docker/zun/zun-cni-daemon/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-v2-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/61def281d077f88051d1b1a14dfdbfabac036c8c', 'message': 'Fix error when github return 302\n\n-L for curl: If the server reports that the requested page has moved to a different location (indicated with a Location: header and a 3XX response code), this option will make curl redo the request on the new place\n\nIt fixes build error for me:\nINFO:kolla.common.utils.prometheus-v2-server: ---> Running in 693fd4095c77\nINFO:kolla.common.utils.prometheus-v2-server:curl (https://github.com/prometheus/prometheus/releases/download/v2.23.0/prometheus-2.23.0.linux-amd64.tar.gz): response: 302, time: 0.166583, size: 640\nINFO:kolla.common.utils.prometheus-v2-server:\nINFO:kolla.common.utils.prometheus-v2-server:gzip: stdin: not in gzip format\nINFO:kolla.common.utils.prometheus-v2-server:\nINFO:kolla.common.utils.prometheus-v2-server:tar: Child returned status 1\nINFO:kolla.common.utils.prometheus-v2-server:tar: Error is not recoverable: exiting now\n\nChange-Id: I095ca6f34cc7c7bca485e9ec019cc52aeb8e3ff4\n'}]",0,778195,61def281d077f88051d1b1a14dfdbfabac036c8c,10,3,1,32690,,,0,"Fix error when github return 302

-L for curl: If the server reports that the requested page has moved to a different location (indicated with a Location: header and a 3XX response code), this option will make curl redo the request on the new place

It fixes build error for me:
INFO:kolla.common.utils.prometheus-v2-server: ---> Running in 693fd4095c77
INFO:kolla.common.utils.prometheus-v2-server:curl (https://github.com/prometheus/prometheus/releases/download/v2.23.0/prometheus-2.23.0.linux-amd64.tar.gz): response: 302, time: 0.166583, size: 640
INFO:kolla.common.utils.prometheus-v2-server:
INFO:kolla.common.utils.prometheus-v2-server:gzip: stdin: not in gzip format
INFO:kolla.common.utils.prometheus-v2-server:
INFO:kolla.common.utils.prometheus-v2-server:tar: Child returned status 1
INFO:kolla.common.utils.prometheus-v2-server:tar: Error is not recoverable: exiting now

Change-Id: I095ca6f34cc7c7bca485e9ec019cc52aeb8e3ff4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/95/778195/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/zun/zun-cni-daemon/Dockerfile.j2', 'docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-haproxy-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-mysqld-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-node-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-memcached-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-elasticsearch-exporter/Dockerfile.j2', 'docker/prometheus/prometheus-server/Dockerfile.j2', 'docker/prometheus/prometheus-v2-server/Dockerfile.j2', 'docker/prometheus/prometheus-alertmanager/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2']",14,61def281d077f88051d1b1a14dfdbfabac036c8c,fix_curl_302,RUN curl -Lo /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,RUN curl -o /tmp/prometheus_openstack_exporter.tar.gz https://github.com/openstack-exporter/openstack-exporter/releases/download/v${prometheus_openstack_exporter_version}/openstack-exporter-${prometheus_openstack_exporter_version}.linux-{{debian_arch}}.tar.gz \,14,14
openstack%2Fglance~master~I72a4372582adc142c965328fa82e8b2b388e5608,openstack/glance,master,I72a4372582adc142c965328fa82e8b2b388e5608,MDNM: Test restarting glance for staging cleanup,ABANDONED,2021-02-22 21:52:43.000000000,2021-03-04 14:47:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-22 21:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9b6cc3119a662665e6e40fe1e3c4fb35e40a3710', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 2, 'created': '2021-02-22 21:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/edf45cc2c7ddfec0ae66f5953ec40ac594811907', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 3, 'created': '2021-02-22 22:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/18f1572973c00b916e5913bf0e9c3f8381fce93b', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 4, 'created': '2021-02-23 01:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2dff6a69f58c6d944714da25c4b6ab9da3a05438', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 5, 'created': '2021-02-23 14:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f0375fab26bd7f02769382a36a323ae9e991da72', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 6, 'created': '2021-02-23 15:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a7aa3c809990dcb3c49ff8046245f93221b01caf', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 7, 'created': '2021-02-23 16:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/96920c14525da79dc5f6ea4c407ec2395ae4db0b', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 8, 'created': '2021-02-23 16:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/74bce8d25bbbadf03dbb3a5e35fb7061babaf251', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 9, 'created': '2021-02-23 23:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e130a3510095e0ed32fe0ec17d26926712e73706', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 10, 'created': '2021-02-23 23:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/67099b278fce6c9a32693b581912ec65edfb45f9', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 11, 'created': '2021-02-24 03:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/67fb9dd4b0b11dc176d7102e89633554c03a2910', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 12, 'created': '2021-02-24 14:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cf76204b1b46dfd4e01004dc7eb36f1c1f627c9e', 'message': 'Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n'}, {'number': 13, 'created': '2021-02-24 17:32:51.000000000', 'files': ['.zuul.yaml', 'playbooks/post-check-staging-cleanup.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/a267aacfc7cb37a7f9f00731a66b0dc64d0399a9', 'message': ""MDNM: Test restarting glance for staging cleanup\n\nTesting this in reality is quite hard, so this adds a hacky post-run\nscript that should create some cruft in the staging directory,\nas well as stage an image and then restart glance so we can examine\nthe log files.\n\nSince I got the functional tests able to do this like I want, I'm\nnot sure we need to merge this, but I still want to try to get it\nto show the logs I'm looking for, just for demonstration purposes.\n\nChange-Id: I72a4372582adc142c965328fa82e8b2b388e5608\n""}]",0,777014,a267aacfc7cb37a7f9f00731a66b0dc64d0399a9,26,1,13,4393,,,0,"MDNM: Test restarting glance for staging cleanup

Testing this in reality is quite hard, so this adds a hacky post-run
script that should create some cruft in the staging directory,
as well as stage an image and then restart glance so we can examine
the log files.

Since I got the functional tests able to do this like I want, I'm
not sure we need to merge this, but I still want to try to get it
to show the logs I'm looking for, just for demonstration purposes.

Change-Id: I72a4372582adc142c965328fa82e8b2b388e5608
",git fetch https://review.opendev.org/openstack/glance refs/changes/14/777014/10 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/post-check-staging-cleanup.yaml']",2,9b6cc3119a662665e6e40fe1e3c4fb35e40a3710,bug/1913625,- hosts: controller tasks: - name: create script become: yes blockinfile: path: /opt/stack/devstack/glance-post.sh create: True mode: 0777 block: | set -x source /opt/stack/devstack/openrc id=$(openstack image create --container-format bare --disk-format raw test -f value -c id) glance image-stage --file /etc/hosts $id touch /opt/stack/data/glance/os_glance_staging_store/foo touch /opt/stack/data/glance/os_glance_staging_store/`uuidgen` systemctl restart devstack@g-api ,,17,0
openstack%2Ftripleo-heat-templates~master~I770afb3f4f347402b8aa8814c91a7867445a82b0,openstack/tripleo-heat-templates,master,I770afb3f4f347402b8aa8814c91a7867445a82b0,Configure rndc keys,ABANDONED,2021-02-10 14:23:51.000000000,2021-03-04 14:33:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-10 14:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f7843bb20927dc4cfd9dd4fd35abd63c1cec7e9', 'message': 'Configure rndc keys\n\nExecute configuration code to configure rndc keys\n\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nChange-Id: I770afb3f4f347402b8aa8814c91a7867445a82b0\n'}, {'number': 2, 'created': '2021-02-16 00:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c13250c97a60397e75312cb056fe55adc42af632', 'message': 'Configure rndc keys\n\nExecute configuration code to configure rndc keys\n\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nChange-Id: I770afb3f4f347402b8aa8814c91a7867445a82b0\n'}, {'number': 3, 'created': '2021-02-22 23:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45ba208db02d959d7dff36f0c09325a241306166', 'message': 'Configure rndc keys\n\nExecute configuration code to configure rndc keys\n\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nChange-Id: I770afb3f4f347402b8aa8814c91a7867445a82b0\n'}, {'number': 4, 'created': '2021-03-03 14:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a911f9b008101df37416f0c6c836f77c66d248fa', 'message': 'Configure rndc keys\n\nExecute configuration code to configure rndc keys\n\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nChange-Id: I770afb3f4f347402b8aa8814c91a7867445a82b0\n'}, {'number': 5, 'created': '2021-03-03 17:51:41.000000000', 'files': ['deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/experimental/designate/designate-bind-container.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b13265659768042f23abe46ade4047a58ceab540', 'message': 'Configure rndc keys\n\nExecute configuration code to configure rndc keys\n\nDepends-On: I3383c19f80e70553ae71e644a01dda0f250d19da\nChange-Id: I770afb3f4f347402b8aa8814c91a7867445a82b0\n'}]",0,774869,b13265659768042f23abe46ade4047a58ceab540,15,2,5,6681,,,0,"Configure rndc keys

Execute configuration code to configure rndc keys

Depends-On: I3383c19f80e70553ae71e644a01dda0f250d19da
Change-Id: I770afb3f4f347402b8aa8814c91a7867445a82b0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/774869/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/experimental/designate/designate-bind-container.yaml']",3,5f7843bb20927dc4cfd9dd4fd35abd63c1cec7e9,designate, dns::rndckeypath: /etc/rndc.key deploy_steps_tasks: - name: generate rndc key configuration files when: step|int == 4 import_role: name: designate_rndc_config vars: designate_rndc_key: {get_param: DesignateRndcKey}," dns::rndckeypath: /dev/null dns::additional_directives: - include ""/etc/rndc.key""; # BEGIN DOCKER SETTINGS # TODO(beagles): puppet-desginate is doing some configuration in # dns::options_path so it seems like we need to run this puppet here for # the time being at least. I don't think there is a path from heat # var->hiera->puppet->named configuration at the moment though.",17,14
openstack%2Ftripleo-heat-templates~master~Ic55d3fa22efcb1e3c695d282910bb245f40ba099,openstack/tripleo-heat-templates,master,Ic55d3fa22efcb1e3c695d282910bb245f40ba099,Create named.conf for designate bind.,ABANDONED,2021-02-22 23:17:18.000000000,2021-03-04 14:33:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 23:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64eaec3be64ecdb6d870c583bf7783e01d13b0d0', 'message': 'Create named.conf for designate bind.\n\nCreate a configuration for the named designate backend.\n\nChange-Id: Ic55d3fa22efcb1e3c695d282910bb245f40ba099\n'}, {'number': 2, 'created': '2021-02-23 23:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36bac39d3feaaa963fbec339c1865a30a7802b92', 'message': 'Create named.conf for designate bind.\n\nCreate a configuration for the named designate backend.\n\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\nChange-Id: Ic55d3fa22efcb1e3c695d282910bb245f40ba099\n'}, {'number': 3, 'created': '2021-02-24 19:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57aa0bc7ebf05314bfc4922de936b053015f7ba6', 'message': 'Create named.conf for designate bind.\n\nCreate a configuration for the named designate backend.\n\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\nDepends-On: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2\nChange-Id: Ic55d3fa22efcb1e3c695d282910bb245f40ba099\n'}, {'number': 4, 'created': '2021-03-03 14:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c0c0634e2289f6740268202182b4358207baba4', 'message': 'Create named.conf for designate bind.\n\nCreate a configuration for the named designate backend.\n\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\nDepends-On: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2\nChange-Id: Ic55d3fa22efcb1e3c695d282910bb245f40ba099\n'}, {'number': 5, 'created': '2021-03-03 17:51:41.000000000', 'files': ['deployment/experimental/designate/designate-base.yaml', 'deployment/experimental/designate/designate-bind-container.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dffa8028d149b6c67f6a3e6e3641edcba0d29625', 'message': 'Create named.conf for designate bind.\n\nCreate a configuration for the named designate backend.\n\nDepends-On: I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9\nDepends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0\nDepends-On: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2\nChange-Id: Ic55d3fa22efcb1e3c695d282910bb245f40ba099\n'}]",0,777021,dffa8028d149b6c67f6a3e6e3641edcba0d29625,18,2,5,6681,,,0,"Create named.conf for designate bind.

Create a configuration for the named designate backend.

Depends-On: I006a31894f4ef9a2cb454a804c1bcb2c5e72b6b9
Depends-On: I1b6674acbd6f999474cd66cb44357cf6b756a7d0
Depends-On: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2
Change-Id: Ic55d3fa22efcb1e3c695d282910bb245f40ba099
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/777021/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-base.yaml', 'deployment/experimental/designate/designate-bind-container.yaml']",2,64eaec3be64ecdb6d870c583bf7783e01d13b0d0,designate," designate::backend::bind9::configure_named: false puppet_tags: designate_config designate_rndc_key_file_path: /var/lib/config-data/puppet-generated/designate/etc/ - name: generate bind configuration when: step|int == 4 import_role: name: designate_bind_config vars: rndc_allowed_addresses: get_param: - ServiceData - net_cidr_map - {get_param: [ServiceNetMap, DesignateApiNetwork]}"," dns::vardir: /var/named-persistent dns::recursion: 'no' # Because we generate the key locally and don't want the puppet # module to do it, we set its path to /dev/null. This means we need # to explicitly include /etc/rndc.key though since the default config # will just include /dev/null. dns::rndckeypath: /etc/rndc.key dns::additional_options: listen-on: str_replace: template: ""{ %{hiera('$NETWORK')}; }"" params: $NETWORK: {get_param: [ServiceNetMap, BINDNetwork]} tripleo::profile::base::designate::rndc_host: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, DesignateApiNetwork]} tripleo::profile::base::designate::rndc_allowed_addresses: get_param: - ServiceData - net_cidr_map - {get_param: [ServiceNetMap, DesignateApiNetwork]} designate::backend::bind9::rndc_host: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, DesignateApiNetwork]} puppet_tags: designate_config,dns_config volumes: - /var/named-persistent:/var/named-persistent:z",16,34
openstack%2Fkayobe~master~I1985efae7c18f55c3ff7c27c17d6242523904f3e,openstack/kayobe,master,I1985efae7c18f55c3ff7c27c17d6242523904f3e,CI: add Ubuntu overcloud deploy job,MERGED,2020-12-18 12:18:44.000000000,2021-03-04 14:30:47.000000000,2021-03-04 14:22:40.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-12-18 12:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/58a235ec8504b0a55a7efa857f87775b398e1744', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 2, 'created': '2020-12-18 12:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/61f68d65f24488ef329c7063ace6d5425ad556e0', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 3, 'created': '2020-12-18 12:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fdc2bdf395f82c3e16992c013aa88badc52f97a3', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 4, 'created': '2020-12-18 13:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/53fc1ff5fe9c5349edbca2e33ca23b860f2532f3', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 5, 'created': '2020-12-18 14:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e3d754e0a30c4127034006cfe914a61c0dc3d23b', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 6, 'created': '2020-12-18 16:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f635cf99cd96ad8ad051d0d5223ccbae96515c1', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 7, 'created': '2020-12-18 17:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/222ebdf9f61ecc543267d57cf2e44c58a68e0962', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 8, 'created': '2020-12-18 17:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0d5125ad3b77f575d32e5ca6e5846cbc9e5a4c93', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 9, 'created': '2020-12-18 17:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ea20580c8a297a1e6e4e855f4bff7f88a399d1dd', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 10, 'created': '2020-12-18 18:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c624636ca542b1c55cc258e84dc5b082657aceb6', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 11, 'created': '2020-12-18 18:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6fd234384c2500491ccac659ce59ea5c66520ff7', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 12, 'created': '2020-12-18 19:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0ce7cdca87b51294fa1190fb0d2d839c19a3cbeb', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 13, 'created': '2020-12-19 09:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fc9e798b287c0de67b0769a8e9e75daa194351a5', 'message': 'WIP: CI: add Ubuntu jobs\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 14, 'created': '2020-12-21 09:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9ebb9ba39e1a8e10c1dcb8008d35c334370dc6a0', 'message': ""WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails creating pip config for kolla user.\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chown: changing\n  ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/':\n  Operation not permitted\\nchown: changing ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/AnsiballZ_file.py':\n  Operation not permitted\\n}). For information on working around this,\n  see\n  https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n""}, {'number': 15, 'created': '2020-12-21 09:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1e2bfeeb7753f4a548bfcf2120b6420ea49049d7', 'message': ""WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails creating pip config for kolla user.\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chown: changing\n  ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/':\n  Operation not permitted\\nchown: changing ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/AnsiballZ_file.py':\n  Operation not permitted\\n}). For information on working around this,\n  see\n  https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n""}, {'number': 16, 'created': '2020-12-21 09:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d48b570800f3681720e3dcd08e2434d08d04c599', 'message': ""WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails creating pip config for kolla user.\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chown: changing\n  ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/':\n  Operation not permitted\\nchown: changing ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/AnsiballZ_file.py':\n  Operation not permitted\\n}). For information on working around this,\n  see\n  https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n""}, {'number': 17, 'created': '2020-12-21 10:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7067f95f15f2fd5e33f7297d8fddcdcd2db9153e', 'message': ""WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails creating pip config for kolla user.\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chown: changing\n  ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/':\n  Operation not permitted\\nchown: changing ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/AnsiballZ_file.py':\n  Operation not permitted\\n}). For information on working around this,\n  see\n  https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n""}, {'number': 18, 'created': '2020-12-21 12:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/43ca45ed2d284714d32d0ded87c4a94ebc79c7db', 'message': ""WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails creating pip config for kolla user.\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chown: changing\n  ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/':\n  Operation not permitted\\nchown: changing ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/AnsiballZ_file.py':\n  Operation not permitted\\n}). For information on working around this,\n  see\n  https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* switch from 'source' to '.' in Ansible tasks, since Ubuntu uses sh\n  rather than bash for execution of Ansible tasks.\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n""}, {'number': 19, 'created': '2020-12-21 13:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/04ebaad01b53e07178256523697d35a858c1bc9a', 'message': ""WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails creating pip config for kolla user.\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chown: changing\n  ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/':\n  Operation not permitted\\nchown: changing ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/AnsiballZ_file.py':\n  Operation not permitted\\n}). For information on working around this,\n  see\n  https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* switch from 'source' to '.' in Ansible tasks, since Ubuntu uses sh\n  rather than bash for execution of Ansible tasks.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n""}, {'number': 20, 'created': '2020-12-21 14:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/90a4b973edf029beb4a55918c2c3c0b8a57bd73b', 'message': ""WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails creating pip config for kolla user.\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chown: changing\n  ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/':\n  Operation not permitted\\nchown: changing ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/AnsiballZ_file.py':\n  Operation not permitted\\n}). For information on working around this,\n  see\n  https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* switch from 'source' to '.' in Ansible tasks, since Ubuntu uses sh\n  rather than bash for execution of Ansible tasks.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n""}, {'number': 21, 'created': '2020-12-21 14:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2906f5349511964b36ccd93c627c3c1ed0adc192', 'message': ""WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails creating pip config for kolla user.\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chown: changing\n  ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/':\n  Operation not permitted\\nchown: changing ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/AnsiballZ_file.py':\n  Operation not permitted\\n}). For information on working around this,\n  see\n  https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* switch from 'source' to '.' in Ansible tasks, since Ubuntu uses sh\n  rather than bash for execution of Ansible tasks.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n""}, {'number': 22, 'created': '2020-12-21 15:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ddab772ec57c48a8245ee051391e2a27f5cd65a5', 'message': ""WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails creating pip config for kolla user.\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chown: changing\n  ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/':\n  Operation not permitted\\nchown: changing ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/AnsiballZ_file.py':\n  Operation not permitted\\n}). For information on working around this,\n  see\n  https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* switch from 'source' to '.' in Ansible tasks, since Ubuntu uses sh\n  rather than bash for execution of Ansible tasks.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks should use python3\n\n* Tenks qemu emulator is different on Ubuntu\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n""}, {'number': 23, 'created': '2020-12-21 15:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1ab79bf195e79dffd5643361ce48ec0709e889e3', 'message': ""WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails creating pip config for kolla user.\n  Failed to set permissions on the temporary files Ansible needs to\n  create when becoming an unprivileged user (rc: 1, err: chown: changing\n  ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/':\n  Operation not permitted\\nchown: changing ownership of\n  '/var/tmp/ansible-tmp-1608370439.1820047-8575-75139340648971/AnsiballZ_file.py':\n  Operation not permitted\\n}). For information on working around this,\n  see\n  https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* switch from 'source' to '.' in Ansible tasks, since Ubuntu uses sh\n  rather than bash for execution of Ansible tasks.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n""}, {'number': 24, 'created': '2020-12-22 13:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/01aab2080a798c232754796e4954b4e94381069d', 'message': 'WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 25, 'created': '2020-12-22 17:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/38967472361ded496b7ed3f6915990a1d5707b7b', 'message': 'WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link\n\n* veth role had no Ubuntu support. Added manual commands\n\n* python-setuptools was required on a dev VM to install kolla-ansible.\n  Why is it using python2?\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 26, 'created': '2021-01-07 13:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/544b7006fc5acd57e6eb51d0ffd8dbbfdcf1d280', 'message': 'WIP: CI: add Ubuntu jobs\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link. Adds a kayobe-network-bootstrap Zuul CI role that adds\n  persistent configuration for the all-in-one network.\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 27, 'created': '2021-01-07 13:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4297624a7df41f48a4211a00a6ff85d9c02f7b90', 'message': 'WIP: CI: add Ubuntu overcloud deploy job\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link. Adds a kayobe-network-bootstrap Zuul CI role that adds\n  persistent configuration for the all-in-one network.\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 28, 'created': '2021-01-07 15:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6b8eb899cef856825c85c3ff2f907794be7c1eb9', 'message': 'CI: add Ubuntu overcloud deploy job\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link. Adds a kayobe-network-bootstrap Zuul CI role that adds\n  persistent configuration for the all-in-one network.\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 29, 'created': '2021-01-08 09:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4fe1a1081f8d96fb6ca528023c78b33438cf6033', 'message': 'CI: add Ubuntu overcloud deploy job\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link. Adds a kayobe-network-bootstrap Zuul CI role that adds\n  persistent configuration for the all-in-one network.\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 30, 'created': '2021-01-11 11:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9daec627d2393b5b71d013e87258cddd181b54cd', 'message': 'CI: add Ubuntu overcloud deploy job\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link. Adds a kayobe-network-bootstrap Zuul CI role that adds\n  persistent configuration for the all-in-one network.\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nRemaining issues:\n\n* Bare metal testing is unreliable on Ubuntu - some jobs see IPMI\n  failures such as the following:\n\n    ipmitool chassis bootdev pxe\n\n    Error setting Chassis Boot Parameter 5\\nError setting Chassis Boot\n    Parameter 0\\n\n\n  Bare metal testing is disabled on Ubuntu for now.\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 31, 'created': '2021-02-11 11:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8762af4ae520f6af7cb559915526d469cf27528b', 'message': 'CI: add Ubuntu overcloud deploy job\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link. Adds a kayobe-network-bootstrap Zuul CI role that adds\n  persistent configuration for the all-in-one network.\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nRemaining issues:\n\n* Bare metal testing is unreliable on Ubuntu - some jobs see IPMI\n  failures such as the following:\n\n    ipmitool chassis bootdev pxe\n\n    Error setting Chassis Boot Parameter 5\\nError setting Chassis Boot\n    Parameter 0\\n\n\n  Bare metal testing is disabled on Ubuntu for now.\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 32, 'created': '2021-02-19 14:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9b5fe8509fbe29f0ce67fef0035892e3f312fceb', 'message': 'CI: add Ubuntu overcloud deploy job\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link. Adds a kayobe-network-bootstrap Zuul CI role that adds\n  persistent configuration for the all-in-one network.\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nRemaining issues:\n\n* Bare metal testing is unreliable on Ubuntu - some jobs see IPMI\n  failures such as the following:\n\n    ipmitool chassis bootdev pxe\n\n    Error setting Chassis Boot Parameter 5\\nError setting Chassis Boot\n    Parameter 0\\n\n\n  Bare metal testing is disabled on Ubuntu for now.\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}, {'number': 33, 'created': '2021-03-01 17:57:51.000000000', 'files': ['roles/kayobe-network-bootstrap/tasks/RedHat.yml', 'roles/kayobe-network-bootstrap/tasks/main.yml', 'playbooks/kayobe-seed-base/pre.yml', 'dev/tenks-deploy-config-compute.yml', 'roles/kayobe-network-bootstrap/defaults/main.yml', 'dev/functions', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'roles/kayobe-network-bootstrap/tasks/Debian.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'requirements.yml', 'zuul.d/project.yaml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'zuul.d/nodesets.yaml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'roles/kayobe-network-bootstrap/README.md', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9f41cefc15e240602d2c6ef9076e36135e9138e4', 'message': 'CI: add Ubuntu overcloud deploy job\n\n* Use source images\n* Need to specify bash for &> syntax\n\nIssues worked around:\n\n* Manually configuring bridge via ip commands makes ifup fail to bring\n  up the link. Adds a kayobe-network-bootstrap Zuul CI role that adds\n  persistent configuration for the all-in-one network.\n\n* bridge not active after interfaces role bounce. Added a pause, similar\n  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31\n\n* fails installing docker python module for kolla user. WARNING: The\n  repository located at mirror-int.ord.rax.opendev.org is not a trusted\n  or secure host and is being ignored ERROR: No matching distribution\n  found for docker===4.4.0 Adding trusted host for PyPI mirror.\n\n* Tenks fails to create block devices - missing qemu-img (in qemu-utils)\n\n* Tenks qemu emulator is different on Ubuntu\n\nRemaining issues:\n\n* Bare metal testing is unreliable on Ubuntu - some jobs see IPMI\n  failures such as the following:\n\n    ipmitool chassis bootdev pxe\n\n    Error setting Chassis Boot Parameter 5\\nError setting Chassis Boot\n    Parameter 0\\n\n\n  Bare metal testing is disabled on Ubuntu for now.\n\nDepends-On: https://review.opendev.org/766984\nDepends-On: https://review.opendev.org/766958\n\nStory: 2004960\nTask: 29393\n\nChange-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e\n'}]",8,767705,9f41cefc15e240602d2c6ef9076e36135e9138e4,96,3,33,14826,,,0,"CI: add Ubuntu overcloud deploy job

* Use source images
* Need to specify bash for &> syntax

Issues worked around:

* Manually configuring bridge via ip commands makes ifup fail to bring
  up the link. Adds a kayobe-network-bootstrap Zuul CI role that adds
  persistent configuration for the all-in-one network.

* bridge not active after interfaces role bounce. Added a pause, similar
  to https://github.com/michaelrigart/ansible-role-interfaces/pull/31

* fails installing docker python module for kolla user. WARNING: The
  repository located at mirror-int.ord.rax.opendev.org is not a trusted
  or secure host and is being ignored ERROR: No matching distribution
  found for docker===4.4.0 Adding trusted host for PyPI mirror.

* Tenks fails to create block devices - missing qemu-img (in qemu-utils)

* Tenks qemu emulator is different on Ubuntu

Remaining issues:

* Bare metal testing is unreliable on Ubuntu - some jobs see IPMI
  failures such as the following:

    ipmitool chassis bootdev pxe

    Error setting Chassis Boot Parameter 5\nError setting Chassis Boot
    Parameter 0\n

  Bare metal testing is disabled on Ubuntu for now.

Depends-On: https://review.opendev.org/766984
Depends-On: https://review.opendev.org/766958

Story: 2004960
Task: 29393

Change-Id: I1985efae7c18f55c3ff7c27c17d6242523904f3e
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/05/767705/32 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.yml', 'zuul.d/project.yaml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2']",3,58a235ec8504b0a55a7efa857f87775b398e1744,story/2004960,"kolla_base_distro: ""{{ ansible_distribution | lower }}"" kolla_install_type: ""{{ 'source' if ansible_distribution == 'Ubuntu' else 'binary' }}""",,4,16
openstack%2Fhorizon~master~I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d,openstack/horizon,master,I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d,Fix community image handling in launch instance form,MERGED,2021-02-25 23:34:49.000000000,2021-03-04 14:30:33.000000000,2021-03-04 14:21:22.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-25 23:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eb736a2427715b966d3ddd996ebadb66ae33e64f', 'message': 'Fix community image handling in launch instance form\n\nCommunity images which are not owned by a focused project are not\nincluded in the normal image list API (i.e., without specifying\n""community"" as visibility), so we need an extra call of the image\nlist API specifying ""community"" visibility in a filter.\n\nIt was originally fixed by [1] but was dropped in [2].\nThe main motivation of [2] is to address ""Duplicates in a repeater\nare not allowed"" error in the JavaScript console.\n\nThe approach of [2] was to drop multiple glance API calls, but\nthe right solution would be to check duplicated images included\nin both API calls. This situation with duplicated images happens\nwhen a community image is owned by a focused project. In such case,\nthe community image is included in the responses of both API calls.\n\nThis commit adds a logic to check image IDs already processed.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/614688\n[2] https://review.opendev.org/c/openstack/horizon/+/640762\n\nCloses-Bug: #1914045\nRelated-Bug: #1779250\nRelated-Bug: #1818508\n\nChange-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d\n'}, {'number': 2, 'created': '2021-02-26 02:01:52.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880', 'message': 'Fix community image handling in launch instance form\n\nCommunity images which are not owned by a focused project are not\nincluded in the normal image list API (i.e., without specifying\n""community"" as visibility), so we need an extra call of the image\nlist API specifying ""community"" visibility in a filter.\n\nIt was originally fixed by [1] but was dropped in [2].\nThe main motivation of [2] is to address ""Duplicates in a repeater\nare not allowed"" error in the JavaScript console.\n\nThe approach of [2] was to drop multiple glance API calls, but\nthe right solution would be to check duplicated images included\nin both API calls. This situation with duplicated images happens\nwhen a community image is owned by a focused project. In such case,\nthe community image is included in the responses of both API calls.\n\nThis commit adds a logic to check image IDs already processed.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/614688\n[2] https://review.opendev.org/c/openstack/horizon/+/640762\n\nCloses-Bug: #1914045\nRelated-Bug: #1779250\nRelated-Bug: #1818508\n\nChange-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d\n'}]",3,777700,c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880,13,5,2,841,,,0,"Fix community image handling in launch instance form

Community images which are not owned by a focused project are not
included in the normal image list API (i.e., without specifying
""community"" as visibility), so we need an extra call of the image
list API specifying ""community"" visibility in a filter.

It was originally fixed by [1] but was dropped in [2].
The main motivation of [2] is to address ""Duplicates in a repeater
are not allowed"" error in the JavaScript console.

The approach of [2] was to drop multiple glance API calls, but
the right solution would be to check duplicated images included
in both API calls. This situation with duplicated images happens
when a community image is owned by a focused project. In such case,
the community image is included in the responses of both API calls.

This commit adds a logic to check image IDs already processed.

[1] https://review.opendev.org/c/openstack/horizon/+/614688
[2] https://review.opendev.org/c/openstack/horizon/+/640762

Closes-Bug: #1914045
Related-Bug: #1779250
Related-Bug: #1818508

Change-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/777700/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js'],1,eb736a2427715b966d3ddd996ebadb66ae33e64f,bug/1914045," var filterCommunity = angular.merge({}, filter, {visibility: 'community'}); var imagePromises = [ glanceAPI.getImages(filter), glanceAPI.getImages(filterCommunity) ]; $q.all(imagePromises).then( var imageIdsProcessed = []; angular.forEach(data, function(data) { angular.forEach(data.data.items, function(image) { if (imageIdsProcessed.includes(image.id)) { return; } imageIdsProcessed.push(image.id); if (isValidSnapshot(image) && enabledSnapshot) { model.imageSnapshots.push(image); } else if (isValidImage(image) && enabledImage) { image.name_or_id = image.name || image.id; model.images.push(image); } })"," glanceAPI.getImages(filter).then( angular.forEach(data.data.items, function(image) { if (isValidSnapshot(image) && enabledSnapshot) { model.imageSnapshots.push(image); } else if (isValidImage(image) && enabledImage) { image.name_or_id = image.name || image.id; model.images.push(image); }",21,8
openstack%2Fkayobe~stable%2Fvictoria~Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,openstack/kayobe,stable/victoria,Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c,Add ipa_build_upper_constraints_file variable,MERGED,2021-02-16 20:58:37.000000000,2021-03-04 14:30:30.000000000,2021-03-04 14:22:06.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 20:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d6952bef2a40dd012c2f53cf2d52000daf28dc21', 'message': 'Add ipa_build_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the ipa-build-dib virtual environment. This can\nbe used when we need a newer version of diskimage-builder than the one\navailable in upper constraints for the current release.\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n(cherry picked from commit 8cd41659a0a188f54ffac917b753e41514ce15e0)\n'}, {'number': 2, 'created': '2021-02-23 10:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a3867f58e169a7b917b30fd2713edff47ebe186c', 'message': 'Add ipa_build_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the ipa-build-dib virtual environment. This can\nbe used when we need a newer version of diskimage-builder than the one\navailable in upper constraints for the current release.\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n'}, {'number': 3, 'created': '2021-02-23 13:26:13.000000000', 'files': ['doc/source/configuration/reference/ironic-python-agent.rst', 'ansible/group_vars/all/ipa', 'ansible/overcloud-ipa-build.yml', 'releasenotes/notes/ipa-build-upper-constraints-5686abaa161b0d94.yaml', 'ansible/seed-ipa-build.yml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0aae33b10cc2d2b8784c030116c0eede3dce7236', 'message': 'Add ipa_build_upper_constraints_file variable\n\nThis variable allows to customise the upper constraints file used to\ninstall packages inside the ipa-build-dib virtual environment. This can\nbe used when we need a newer version of diskimage-builder than the one\navailable in upper constraints for the current release.\n\nChange-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c\n(cherry picked from commit 56c1a886f5dc0683084495745fe54e27e0de08eb)\n'}]",0,775935,0aae33b10cc2d2b8784c030116c0eede3dce7236,12,3,3,15197,,,0,"Add ipa_build_upper_constraints_file variable

This variable allows to customise the upper constraints file used to
install packages inside the ipa-build-dib virtual environment. This can
be used when we need a newer version of diskimage-builder than the one
available in upper constraints for the current release.

Change-Id: Idbe57e7edc3fae25153f5e24ad6b7847b1c4660c
(cherry picked from commit 56c1a886f5dc0683084495745fe54e27e0de08eb)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/35/775935/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/reference/ironic-python-agent.rst', 'ansible/group_vars/all/ipa', 'ansible/overcloud-ipa-build.yml', 'releasenotes/notes/ipa-build-upper-constraints-5686abaa161b0d94.yaml', 'ansible/seed-ipa-build.yml', 'etc/kayobe/ipa.yml']",6,d6952bef2a40dd012c2f53cf2d52000daf28dc21,ipa-build-uc-stable/victoria,# Upper constraints file for installing packages in the virtual environment # used for building IPA images. Default is {{ pip_upper_constraints_file }}. #ipa_build_upper_constraints_file: ,,20,2
