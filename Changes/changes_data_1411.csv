id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Freleases~919478,openstack/releases,master,Ie53841c3591f1bb6cb90e85ebb2c37618e15f65e,Release python-troveclient for Dalmatian-1 milestone,MERGED,2024-05-13 06:52:12.000000000,2024-05-23 07:51:04.000000000,2024-05-23 07:51:04.000000000,"[{'_account_id': 308}, {'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-13 06:52:12.000000000', 'files': ['deliverables/dalmatian/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/22ec3a647aa60e23eb6eef074ae830d90b3c4a2d', 'message': 'Release python-troveclient for Dalmatian-1 milestone\n\nThis is a library release for python-troveclient for the Dalmatian-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\nChange-Id: Ie53841c3591f1bb6cb90e85ebb2c37618e15f65e\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",1,919478,22ec3a647aa60e23eb6eef074ae830d90b3c4a2d,7,4,1,17685,,,0,"Release python-troveclient for Dalmatian-1 milestone

This is a library release for python-troveclient for the Dalmatian-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

Change-Id: Ie53841c3591f1bb6cb90e85ebb2c37618e15f65e
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/919478/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/dalmatian/python-troveclient.yaml'],1,22ec3a647aa60e23eb6eef074ae830d90b3c4a2d,dalmatian-milestone-1,releases: - version: 8.5.0 projects: - repo: openstack/python-troveclient hash: 65b99bdf1a850dd7d7c8e7c8e613d3966d52b25c,,5,0
openstack%2Freleases~919473,openstack/releases,master,I78df3e6d034b7ce36884752e34fa9b1f0026e9a8,Release python-magnumclient for Dalmatian-1 milestone,MERGED,2024-05-13 06:43:32.000000000,2024-05-23 07:51:02.000000000,2024-05-23 07:51:02.000000000,"[{'_account_id': 308}, {'_account_id': 8064}, {'_account_id': 14394}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-05-13 06:43:32.000000000', 'files': ['deliverables/dalmatian/python-magnumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b4f3904d0b38b3893516d3855e83471eaec9d927', 'message': 'Release python-magnumclient for Dalmatian-1 milestone\n\nThis is a library release for python-magnumclient for the Dalmatian-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\nChange-Id: I78df3e6d034b7ce36884752e34fa9b1f0026e9a8\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",1,919473,b4f3904d0b38b3893516d3855e83471eaec9d927,7,6,1,17685,,,0,"Release python-magnumclient for Dalmatian-1 milestone

This is a library release for python-magnumclient for the Dalmatian-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

Change-Id: I78df3e6d034b7ce36884752e34fa9b1f0026e9a8
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/919473/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/dalmatian/python-magnumclient.yaml'],1,b4f3904d0b38b3893516d3855e83471eaec9d927,dalmatian-milestone-1,releases: - version: 4.5.0 projects: - repo: openstack/python-magnumclient hash: feb8cbb39cbff42d4d33fb930fb95dd578a31f1c,,5,0
openstack%2Freleases~919469,openstack/releases,master,Ief557df1f858aee0d81ea0f523f43ade7619b8be,Release python-barbicanclient for Dalmatian-1 milestone,MERGED,2024-05-13 06:27:51.000000000,2024-05-23 07:51:00.000000000,2024-05-23 07:51:00.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-13 06:27:51.000000000', 'files': ['deliverables/dalmatian/python-barbicanclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4c61841e78df7ab1ff94e01b946d62d8264b2433', 'message': 'Release python-barbicanclient for Dalmatian-1 milestone\n\nThis is a library release for python-barbicanclient for the Dalmatian-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\nChange-Id: Ief557df1f858aee0d81ea0f523f43ade7619b8be\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",1,919469,4c61841e78df7ab1ff94e01b946d62d8264b2433,7,6,1,17685,,,0,"Release python-barbicanclient for Dalmatian-1 milestone

This is a library release for python-barbicanclient for the Dalmatian-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

Change-Id: Ief557df1f858aee0d81ea0f523f43ade7619b8be
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/919469/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/dalmatian/python-barbicanclient.yaml'],1,4c61841e78df7ab1ff94e01b946d62d8264b2433,dalmatian-milestone-1,releases: - version: 6.0.0 projects: - repo: openstack/python-barbicanclient hash: 73e173298bf30314038f3637f8fd290fc74ea53a,,5,0
openstack%2Freleases~919458,openstack/releases,master,I119897af6e4254f3a9442bff7732b9d8ff421e2c,Release os-brick for Dalmatian-1 milestone,MERGED,2024-05-13 06:02:32.000000000,2024-05-23 07:50:58.000000000,2024-05-23 07:50:58.000000000,"[{'_account_id': 308}, {'_account_id': 9236}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-13 06:02:32.000000000', 'files': ['deliverables/dalmatian/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/80d885c643aa40994f9648d39666b3944fb33703', 'message': 'Release os-brick for Dalmatian-1 milestone\n\nThis is a library release for os-brick for the Dalmatian-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\nChange-Id: I119897af6e4254f3a9442bff7732b9d8ff421e2c\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",2,919458,80d885c643aa40994f9648d39666b3944fb33703,9,4,1,17685,,,0,"Release os-brick for Dalmatian-1 milestone

This is a library release for os-brick for the Dalmatian-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

Change-Id: I119897af6e4254f3a9442bff7732b9d8ff421e2c
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/919458/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/dalmatian/os-brick.yaml'],1,80d885c643aa40994f9648d39666b3944fb33703,dalmatian-milestone-1,releases: - version: 6.8.0 projects: - repo: openstack/os-brick hash: e81fc02105cd6370e615e2cea72b181ffc786297,,5,0
openstack%2Fsunbeam-charms~920158,openstack/sunbeam-charms,main,Ia8a1ab1c1f93d8d743cd6f93cfed2b17b8da3d9e,[neutron-k8s] Change vni_range to 1:5000,NEW,2024-05-22 04:25:00.000000000,2024-05-23 07:37:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-22 04:25:00.000000000', 'files': ['charms/neutron-k8s/src/charm.py'], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/3f305aaefed7e880e96d0581080195c52309e189', 'message': '[neutron-k8s] Change vni_range to 1:5000\n\nneutron-k8s healthcheck failed on some machines with\nvni_range 1-65535 [1].So reducing the range to 5000.\n\n[1] https://github.com/canonical/snap-openstack/actions/runs/9063747891/job/24945777939\n\nChange-Id: Ia8a1ab1c1f93d8d743cd6f93cfed2b17b8da3d9e\n'}]",2,920158,3f305aaefed7e880e96d0581080195c52309e189,6,1,1,10366,,,0,"[neutron-k8s] Change vni_range to 1:5000

neutron-k8s healthcheck failed on some machines with
vni_range 1-65535 [1].So reducing the range to 5000.

[1] https://github.com/canonical/snap-openstack/actions/runs/9063747891/job/24945777939

Change-Id: Ia8a1ab1c1f93d8d743cd6f93cfed2b17b8da3d9e
",git fetch https://review.opendev.org/openstack/sunbeam-charms refs/changes/58/920158/1 && git format-patch -1 --stdout FETCH_HEAD,['charms/neutron-k8s/src/charm.py'],1,3f305aaefed7e880e96d0581080195c52309e189,neutron-geneve-range," # Limiting defaults to 5000 even though geneve vni max is 2**24-1 # This means compute nodes can scale upto 5000 ""vni_ranges"": ""1:5000"","," # Limiting defaults to 2**16 -1 even though geneve vni max is 2**24-1 # This means compute nodes can scale upto 65536 ""vni_ranges"": ""1:65535"",",3,3
openstack%2Fironic-tempest-plugin~918001,openstack/ironic-tempest-plugin,master,Ieaa7ac9d9058ba40955248699e8fd762d4b3c15d,Additional test state fixes,MERGED,2024-05-02 17:47:06.000000000,2024-05-23 07:06:40.000000000,2024-05-23 07:05:46.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 36770}]","[{'number': 1, 'created': '2024-05-02 17:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0d4e7f5304f88dd63ef88503513795ee8037f940', 'message': 'Additional test state fixes\n\nIn running some tests downstream, in this case where someone had\naggressively asserted default interface values, some additional\ntests failed, and in fun ways.\n\nThis changes a couple tests so they explicitly set and account\nfor differeing defaults from upstream CI. Also adds an inline note\non the Boot from Volume test which can fail if the volume creation\nfails.\n\nChange-Id: Ieaa7ac9d9058ba40955248699e8fd762d4b3c15d\n'}, {'number': 2, 'created': '2024-05-03 18:30:28.000000000', 'files': ['ironic_tempest_plugin/tests/api/admin/test_nodes.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_boot_from_volume.py', 'ironic_tempest_plugin/tests/api/admin/test_nodestates.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/19d10067b44e944e69d198c3498b564d1a7c836b', 'message': 'Additional test state fixes\n\nIn running some tests downstream, in this case where someone had\naggressively asserted default interface values, some additional\ntests failed, and in fun ways.\n\nThis changes a couple tests so they explicitly set and account\nfor differeing defaults from upstream CI. Also adds an inline note\non the Boot from Volume test which can fail if the volume creation\nfails.\n\nChange-Id: Ieaa7ac9d9058ba40955248699e8fd762d4b3c15d\n'}]",5,918001,19d10067b44e944e69d198c3498b564d1a7c836b,24,4,2,11655,,,0,"Additional test state fixes

In running some tests downstream, in this case where someone had
aggressively asserted default interface values, some additional
tests failed, and in fun ways.

This changes a couple tests so they explicitly set and account
for differeing defaults from upstream CI. Also adds an inline note
on the Boot from Volume test which can fail if the volume creation
fails.

Change-Id: Ieaa7ac9d9058ba40955248699e8fd762d4b3c15d
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/01/918001/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/tests/api/admin/test_nodes.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_boot_from_volume.py', 'ironic_tempest_plugin/tests/api/admin/test_nodestates.py']",3,0d4e7f5304f88dd63ef88503513795ee8037f940,," network_interface='noop', inspect_interface='fake')", network_interface='noop'),16,3
openstack%2Fironic-tempest-plugin~913926,openstack/ironic-tempest-plugin,master,I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821,Patch to enforce json extension works in existing API behaviour,MERGED,2024-03-21 19:13:45.000000000,2024-05-23 06:57:31.000000000,2024-05-23 06:56:36.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-21 19:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/6a43dd20c8e1f9530f32fb68fd74862c0f0e3057', 'message': 'Patch to enforce json extension works in existing API behaviour\nof giving .json extensions a specially treatment.\n\nThis is me testing the tempest waters...\n\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 2, 'created': '2024-03-22 13:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/201b7d9d800ba2bedeb76e071fd5050839feb7dd', 'message': 'Patch to enforce json extension works in existing API behaviour\nof giving .json extensions a specially treatment.\n\nThis is me testing the tempest waters...\n\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 3, 'created': '2024-03-22 15:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/159175b53cf598591585911707d095347b8a870d', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 4, 'created': '2024-03-25 20:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/af623d5d2f0a164223f01e4e1a1aa0fe458f7950', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 5, 'created': '2024-03-26 13:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/b8efe320172acee585e1997e5271229851beea1d', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 6, 'created': '2024-03-27 17:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0b7e80fbe3787f2bb61591fd8315319703f16b1c', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/913467\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 7, 'created': '2024-03-28 12:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9fea99ed49c7b93fe25eb0998b55d9c6e82daa72', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/913467\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 8, 'created': '2024-03-29 16:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/96117c9d97e6411403237cb0b1ca6bd004320881', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/913467\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 9, 'created': '2024-03-30 09:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/05da8a8055b8dddeeca2228097558121c2cce8f5', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/913467\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 10, 'created': '2024-04-05 14:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/518a88d19af2e8d8d22506d33503f9c1aa843113', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/913467\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 11, 'created': '2024-04-19 16:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/6c4f7015247b3b1f482fcddfae82f35949f9caaf', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/913467\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 12, 'created': '2024-05-07 12:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/5a950b87f29b833ec49a5c7fe3c7f8e227b8e3c3', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/913467\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 13, 'created': '2024-05-07 14:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/29a77c62ed7c345afb421484f70e6952f060a98b', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 14, 'created': '2024-05-07 15:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9e96fcde8369a62a5124402156779c594fb0cba6', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 15, 'created': '2024-05-07 16:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/50747cab4aab425fd99e065fc1fb26dfc29784a2', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extension is given a special treatment.\n\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 16, 'created': '2024-05-12 05:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9b979190decd7ea5bcb1945d679d1e2b27a3ef04', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extensions are stripped out during the search or while taking\nany action on a node through its name or uuid.\n\nThis pecan feature ensures that a reference to\n``0178-0c2c-9c26-ca69-3011-a9dd.json`` is treated\nas ``0178-0c2c-9c26-ca69-3011-a9dd``\n\nIf we had two nodes that differ by a .json extension in either of the names,\n``""node"", ""node.json""``, and we intend for the latter, we’ll need to append an\nadditional "".json"" extension in the reference query, else the node without the\nextension is treated as the default node, and the extension node is only\nconsidered if it’s the only node with the name.\n\nSame workaround if we wanted our ``0178-0c2c-9c26-ca69-3011-a9dd.json``\ncorrectly targeted, we append an additonal "".json"" extension to our query.\n\nThis patch tries to validate this behavior in API versions prior to 1.91 where\nthis feature exists.\n\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}, {'number': 17, 'created': '2024-05-12 05:19:48.000000000', 'files': ['ironic_tempest_plugin/tests/api/admin/test_nodes.py', 'ironic_tempest_plugin/tests/api/admin/test_portgroups.py', 'ironic_tempest_plugin/tests/api/admin/test_allocations.py', 'ironic_tempest_plugin/tests/api/admin/test_deploy_templates.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/5fdaffe11125cdb2a376c8cfb9fe973a78ed3caa', 'message': 'Patch to enforce json extension works in existing API behaviour\n\nCurrently, .json extensions are stripped out during the search or while\ntaking any action on a node through its name or uuid.\n\nThis pecan feature ensures that a reference to\n``0178-0c2c-9c26-ca69-3011-a9dd.json`` is treated\nas ``0178-0c2c-9c26-ca69-3011-a9dd``\n\nIf we had two nodes that differ by a .json extension in either of the\nnames, ``""node"", ""node.json""``, and we intend for the latter, we’ll\nneed to append an additional "".json"" extension in the reference query,\nelse the node without the extension is treated as the default node,\nand the extension node is only considered if it’s the only node with\nthe name.\n\nSame workaround if we wanted our ``0178-0c2c-9c26-ca69-3011-a9dd.json``\ncorrectly targeted, we append an additonal "".json"" extension to our\nquery.\n\nThis patch tries to validate this behavior in API versions prior to\n1.91, where this feature exists.\n\nChange-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821\n'}]",44,913926,5fdaffe11125cdb2a376c8cfb9fe973a78ed3caa,50,3,17,36770,,,0,"Patch to enforce json extension works in existing API behaviour

Currently, .json extensions are stripped out during the search or while
taking any action on a node through its name or uuid.

This pecan feature ensures that a reference to
``0178-0c2c-9c26-ca69-3011-a9dd.json`` is treated
as ``0178-0c2c-9c26-ca69-3011-a9dd``

If we had two nodes that differ by a .json extension in either of the
names, ``""node"", ""node.json""``, and we intend for the latter, we’ll
need to append an additional "".json"" extension in the reference query,
else the node without the extension is treated as the default node,
and the extension node is only considered if it’s the only node with
the name.

Same workaround if we wanted our ``0178-0c2c-9c26-ca69-3011-a9dd.json``
correctly targeted, we append an additonal "".json"" extension to our
query.

This patch tries to validate this behavior in API versions prior to
1.91, where this feature exists.

Change-Id: I613e596e8cf52f36b9c7caac30bdb3ff0d3bf821
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/26/913926/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/api/admin/test_nodes.py'],1,6a43dd20c8e1f9530f32fb68fd74862c0f0e3057,patch-to-enforce_json_extension_works," @decorators.idempotent_id('f1ff399b-244f-42b6-8f72-30a12128de53') def test_create_node_with_json_in_name(self): params = {'cpu_arch': 'x86_64', 'cpus': '12', 'local_gb': '10', 'memory_mb': '1024'} _, body = self.create_node(name='node.json', chassis_id=self.chassis['uuid'], **params) self._assertExpected(params, body['properties']) @decorators.idempotent_id('75209190-6942-4a29-9996-33e4d9398456') def test_delete_node_with_json(self): _, node = self.create_node(self.chassis['uuid']) node_name = '%s.json' % node['uuid'] self.delete_node(node_name) self.assertRaises(lib_exc.NotFound, self.client.show_node, node['uuid']) @decorators.idempotent_id('d8cfcc21-50e9-4909-b407-ae16bce59598') def test_delete_node_with_json_in_name(self): _, node = self.create_node(name='node.json', chassis_id=self.chassis['uuid']) self.delete_node(name=node['name']) self.assertRaises(lib_exc.NotFound, self.client.show_node, node['uuid']) @decorators.idempotent_id('75209190-6942-4a29-9996-33e4d9398456') def test_delete_node_with_double_json(self): _, node = self.create_node(name='node.json', chassis_id=self.chassis['uuid']) node_name = '%s.json' % node['name'] self.delete_node(name=node_name) self.assertRaises(lib_exc.NotFound, self.client.show_node, node['uuid']) @decorators.idempotent_id('5eec6c1d-5a1a-4916-9c48-7c573f32957e') def test_show_node_with_json(self): node_name = '%s.json' % self.node['uuid'] _, loaded_node = self.client.show_node(node_name) self._assertExpected(self.node, loaded_node) @decorators.idempotent_id('5d1f973f-aa9d-4e3c-80b8-2f86f1acda05') def test_show_node_with_json_in_name(self): _, node = self.create_node(name='node.json', chassis_id=self.chassis['uuid']) _, loaded_node = self.client.show_node(name=node['name']) self._assertExpected(self.node, loaded_node) @decorators.idempotent_id('dd0acdca-c3b8-4544-8a9a-af7a9f077532') def test_show_node_with_double_json(self): _, node = self.create_node(name='node.json', chassis_id=self.chassis['uuid']) node_name = '%s.json' % node['name'] _, loaded_node = self.client.show_node(name=node_name) self._assertExpected(self.node, loaded_node) @decorators.idempotent_id('3e3cd729-cf16-4bdd-bdc7-c6cf252df533') def test_show_node_with_suffix(self): _, node = self.create_node(name='node.1', chassis_id=self.chassis['uuid']) _, loaded_node = self.client.show_node(name=node['name']) self._assertExpected(self.node, loaded_node) @decorators.idempotent_id('2ffec2ec-3dca-4e4f-ac6c-dee7c44cdef5') def test_update_node_with_json(self): props = {'cpu_arch': 'x86_64', 'cpus': '12', 'local_gb': '10', 'memory_mb': '128'} _, node = self.create_node(self.chassis['uuid'], **props) new_p = {'cpu_arch': 'arm64', 'cpus': '1', 'local_gb': '10000', 'memory_mb': '12300'} node_name = '%s.json' % node['uuid'] _, body = self.client.update_node(node_name, properties=new_p) _, node = self.client.show_node(node['uuid']) self._assertExpected(new_p, node['properties']) @decorators.idempotent_id('b19497d2-4425-499f-8957-3b973ea35ad4') def test_update_node_with_json_in_name(self): props = {'cpu_arch': 'x86_64', 'cpus': '12', 'local_gb': '10', 'memory_mb': '128'} node_name = '%s.json' % self.chassis['uuid'] _, node = self.create_node(name=node_name, chassis_id=self.chassis['uuid'], **props) new_p = {'cpu_arch': 'arm64', 'cpus': '1', 'local_gb': '10000', 'memory_mb': '12300'} _, body = self.client.update_node(node['uuid'], properties=new_p) _, node = self.client.show_node(node['uuid']) self._assertExpected(new_p, node['properties']) ",,112,0
openstack%2Frequirements~919835,openstack/requirements,master,I9b88617b7f9a042aceca3ebce610900d9b07f4f5,update constraint for python-glanceclient to new release 4.6.0,MERGED,2024-05-16 13:01:17.000000000,2024-05-23 06:55:11.000000000,2024-05-23 06:54:16.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 13:01:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/551985861a2992d18eb3525a38abfb5f3d590035', 'message': 'update constraint for python-glanceclient to new release 4.6.0\n\nmeta: version: 4.6.0\nmeta: diff-start: -\nmeta: series: dalmatian\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Pranali Deore <pdeore@redhat.com>\nmeta: release:Change-Id: I75c56d6880dd3d57fd395c453e578d24de68c395\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I9b88617b7f9a042aceca3ebce610900d9b07f4f5\n'}]",1,919835,551985861a2992d18eb3525a38abfb5f3d590035,9,2,1,11131,,,0,"update constraint for python-glanceclient to new release 4.6.0

meta: version: 4.6.0
meta: diff-start: -
meta: series: dalmatian
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Pranali Deore <pdeore@redhat.com>
meta: release:Change-Id: I75c56d6880dd3d57fd395c453e578d24de68c395
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I9b88617b7f9a042aceca3ebce610900d9b07f4f5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/919835/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,551985861a2992d18eb3525a38abfb5f3d590035,new-release,python-glanceclient===4.6.0,python-glanceclient===4.5.0,1,1
openstack%2Ftelemetry-tempest-plugin~911722,openstack/telemetry-tempest-plugin,master,Id091372513ffb7b61bba3dc604791e8aa522955e,[DNM][tempest] Try running tempest with concurrency 1 to workaround gabbi test failures,ABANDONED,2024-03-07 14:08:10.000000000,2024-05-23 06:44:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-07 14:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/4a00b30e819fa6b3eb0503fe96b7fa6cddd3415d', 'message': '[tempest] Try running tempest with concurrency 1 to workaround gabbi test failures\n\nChange-Id: Id091372513ffb7b61bba3dc604791e8aa522955e\n'}, {'number': 2, 'created': '2024-03-07 14:11:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/c41739464919512e2fa913db9359354bf461e0b0', 'message': '[DNM][tempest] Try running tempest with concurrency 1 to workaround gabbi test failures\n\nChange-Id: Id091372513ffb7b61bba3dc604791e8aa522955e\n'}]",1,911722,c41739464919512e2fa913db9359354bf461e0b0,5,1,2,13177,,,0,"[DNM][tempest] Try running tempest with concurrency 1 to workaround gabbi test failures

Change-Id: Id091372513ffb7b61bba3dc604791e8aa522955e
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/22/911722/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4a00b30e819fa6b3eb0503fe96b7fa6cddd3415d,test_concurrency_1, tempest_concurrency: 1, - openstack/dib-utils,1,1
openstack%2Frequirements~919837,openstack/requirements,master,I502fb206e455f32483e9cd32d3e40f8bf4c1cb88,update constraint for python-manilaclient to new release 4.9.0,MERGED,2024-05-16 13:10:45.000000000,2024-05-23 06:43:23.000000000,2024-05-23 06:41:28.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 13:10:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9699532ee40cb875e51ba084a0b0b15b1b5c6d52', 'message': 'update constraint for python-manilaclient to new release 4.9.0\n\nmeta: version: 4.9.0\nmeta: diff-start: -\nmeta: series: dalmatian\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I3a84b194758061b41b966d5fb11488a6e5ba2565\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: I502fb206e455f32483e9cd32d3e40f8bf4c1cb88\n'}]",1,919837,9699532ee40cb875e51ba084a0b0b15b1b5c6d52,9,2,1,11131,,,0,"update constraint for python-manilaclient to new release 4.9.0

meta: version: 4.9.0
meta: diff-start: -
meta: series: dalmatian
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I3a84b194758061b41b966d5fb11488a6e5ba2565
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Goutham Pacha Ravi <gouthampravi@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: I502fb206e455f32483e9cd32d3e40f8bf4c1cb88
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/919837/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9699532ee40cb875e51ba084a0b0b15b1b5c6d52,new-release,python-manilaclient===4.9.0,python-manilaclient===4.8.0,1,1
openstack%2Fbarbican-tempest-plugin~909477,openstack/barbican-tempest-plugin,master,I8eabe538d57c67df19b70feea52e8e655f08ab45,Remove yoga jobs,ABANDONED,2024-02-19 19:42:59.000000000,2024-05-23 06:00:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-02-19 19:42:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/f853501b4f071a2a3d91eae0d1a6035960bfeb1b', 'message': 'Remove yoga jobs\n\nThe yoga branch has transitioned to unmaintained.  This patch removes\nall yoga jobs from the gate.\n\nChange-Id: I8eabe538d57c67df19b70feea52e8e655f08ab45\n'}]",0,909477,f853501b4f071a2a3d91eae0d1a6035960bfeb1b,4,1,1,7973,,,0,"Remove yoga jobs

The yoga branch has transitioned to unmaintained.  This patch removes
all yoga jobs from the gate.

Change-Id: I8eabe538d57c67df19b70feea52e8e655f08ab45
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/77/909477/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f853501b4f071a2a3d91eae0d1a6035960bfeb1b,,, - barbican-tempest-plugin-simple-crypto-yoga name: barbican-tempest-plugin-simple-crypto-yoga parent: barbican-tempest-plugin-simple-crypto nodeset: openstack-single-node-focal override-checkout: stable/yoga vars: &microversion_v1_0 devstack_local_conf: test-config: $TEMPEST_CONFIG: key_manager: min_microversion: '1.0' max_microversion: '1.0' - job: name: barbican-tempest-plugin-simple-crypto-secure-rbac-yoga parent: barbican-tempest-plugin-simple-crypto-secure-rbac nodeset: openstack-single-node-focal override-checkout: stable/yoga required-projects: - name: openstack/barbican-tempest-plugin override-checkout: a31f9ef3a68e58fe970783d1b7b4cff45e4ee78b vars: *microversion_v1_0 - job: name: barbican-tempest-plugin-simple-crypto-ipv6-only-yoga parent: barbican-tempest-plugin-simple-crypto-ipv6-only nodeset: openstack-single-node-focal override-checkout: stable/yoga required-projects: - name: openstack/barbican-tempest-plugin override-checkout: a31f9ef3a68e58fe970783d1b7b4cff45e4ee78b vars: *microversion_v1_0 - job:,0,34
openstack%2Fironic-tempest-plugin~920113,openstack/ironic-tempest-plugin,master,I58547decf0a3a366e8b198326d278d41a3a9cc0d,CI: dial back inspector voting,NEW,2024-05-21 15:54:13.000000000,2024-05-23 05:24:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-21 15:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/6f36d3db6cc15f7c7fac0d6ba407ee5745738503', 'message': 'CI: dial back inspctor voting\n\nThe inspector jobs, as they rely upon extra network boots outside\nof the normal deployment lifecycle, can fail due to the VM failing\nto obtain network configuration in time for the job to succeed.\n\nThere is no real fix, but this can result in the job failing and\nthus wasting gate resources.\n\nIn order to streamline resource usage, moving non-current inspector\njobs to non-voting as they are basically stable paths, but ones\nwhich do not have much work or changes going into them nor are\nwe expecting the tests to change related to what is being tested\nin those ci jobs. Also removes the related 2023.1 CI jobs for\nthose change sets to reduce overall CI load.\n\nChange-Id: I58547decf0a3a366e8b198326d278d41a3a9cc0d\n'}, {'number': 2, 'created': '2024-05-21 15:58:10.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/43ecd9ef21214b8730fe60ea78a0d9c9cec32c11', 'message': 'CI: dial back inspector voting\n\nThe inspector jobs, as they rely upon extra network boots outside\nof the normal deployment lifecycle, can fail due to the VM failing\nto obtain network configuration in time for the job to succeed.\n\nThere is no real fix, but this can result in the job failing and\nthus wasting gate resources.\n\nIn order to streamline resource usage, moving non-current inspector\njobs to non-voting as they are basically stable paths, but ones\nwhich do not have much work or changes going into them nor are\nwe expecting the tests to change related to what is being tested\nin those ci jobs. Also removes the related 2023.1 CI jobs for\nthose change sets to reduce overall CI load.\n\nChange-Id: I58547decf0a3a366e8b198326d278d41a3a9cc0d\n'}]",1,920113,43ecd9ef21214b8730fe60ea78a0d9c9cec32c11,5,1,2,11655,,,0,"CI: dial back inspector voting

The inspector jobs, as they rely upon extra network boots outside
of the normal deployment lifecycle, can fail due to the VM failing
to obtain network configuration in time for the job to succeed.

There is no real fix, but this can result in the job failing and
thus wasting gate resources.

In order to streamline resource usage, moving non-current inspector
jobs to non-voting as they are basically stable paths, but ones
which do not have much work or changes going into them nor are
we expecting the tests to change related to what is being tested
in those ci jobs. Also removes the related 2023.1 CI jobs for
those change sets to reduce overall CI load.

Change-Id: I58547decf0a3a366e8b198326d278d41a3a9cc0d
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/13/920113/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6f36d3db6cc15f7c7fac0d6ba407ee5745738503,," - ironic-inspector-tempest-2024.1: voting: false - ironic-inspector-tempest-2023.2: # NOTE(TheJulia): similar to above, these these tests are basically # static along with tests which are sensitive performance issues, # such keeping them non-voting. - ironic-inspector-tempest-discovery-2024.1: voting: false - ironic-inspector-tempest-discovery-2023.2:", - ironic-inspector-tempest-2024.1 - ironic-inspector-tempest-2023.2 - ironic-inspector-tempest-2023.1: - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode-2023.1: voting: false - ironic-inspector-tempest-discovery-2024.1 - ironic-inspector-tempest-discovery-2023.2 - ironic-inspector-tempest-discovery-2023.1:,9,8
openstack%2Fkolla-ansible~920131,openstack/kolla-ansible,stable/2023.1,Ieba0baf154ead063a1bc244aaadd4ca53c814ad3,CI: Pin requests to <2.32 for docker sdk,MERGED,2024-05-22 13:34:21.000000000,2024-05-23 05:23:01.000000000,2024-05-23 05:22:01.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-05-22 13:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6fc51dc1dac1c632fdc68ce7b8325a855dffed3a', 'message': 'CI: Pin requests to <2.32 for docker sdk\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-collection-kolla/+/920172\n\nChange-Id: Ieba0baf154ead063a1bc244aaadd4ca53c814ad3\n'}, {'number': 2, 'created': '2024-05-22 14:55:16.000000000', 'files': ['tests/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/160a81b8bdf9185ab175d15446631c5877556aa3', 'message': 'CI: Pin requests to <2.32 for docker sdk\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-collection-kolla/+/920172\n\nChange-Id: Ieba0baf154ead063a1bc244aaadd4ca53c814ad3\n'}]",2,920131,160a81b8bdf9185ab175d15446631c5877556aa3,12,3,2,22629,,,0,"CI: Pin requests to <2.32 for docker sdk

Depends-On: https://review.opendev.org/c/openstack/ansible-collection-kolla/+/920172

Change-Id: Ieba0baf154ead063a1bc244aaadd4ca53c814ad3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/920131/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/setup_gate.sh'],1,6fc51dc1dac1c632fdc68ce7b8325a855dffed3a,,"<<<<<<< HEAD (0631cd Cinder and Nova: add service role)======= source ~/kolla-venv/bin/activate if [[ ""$CONTAINER_ENGINE"" == ""docker"" ]]; then pip install ""${KOLLA_SRC_DIR}"" ""docker<7"" ""requests<2.32"" else pip install ""${KOLLA_SRC_DIR}"" ""podman"" fi >>>>>>> CHANGE (901df1 CI: Pin requests to <2.32 for docker sdk)",,9,0
openstack%2Fcharm-mysql-router~886810,openstack/charm-mysql-router,master,I02770615cd2cce4ef8e12546c70e9df5a74848b3,Adding bootstrap-mysqlrouter action.,ABANDONED,2023-06-23 09:42:04.000000000,2024-05-23 05:08:59.000000000,,"[{'_account_id': 2711}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2023-06-23 09:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/74bdf5b5d1d2dbe855ca7e85a5a561a4e6c089c8', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\n'}, {'number': 2, 'created': '2023-06-24 04:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/4e7a11a8f3cfbde2eea1362d0dcf9ec74cdd4c39', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\n'}, {'number': 3, 'created': '2023-06-30 08:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/a3019f0f5d9000148ba56b95429c29b823ff4cb0', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\n'}, {'number': 4, 'created': '2023-06-30 08:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/93f2a7ce3d2a0838168201588096aa5aaac296c4', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\n'}, {'number': 5, 'created': '2023-07-03 07:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/6198c9bac8419fb72e6e44cca50b8746cd942083', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 6, 'created': '2023-07-05 04:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/ddde3fc432200db6a7d89c1334df29ccf6fba044', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 7, 'created': '2023-07-06 07:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/57702342aea7062b61ec5115a5ad9361772a1c86', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 8, 'created': '2023-07-06 07:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/a62cb7b23ed25a9c693d0b626c5ab13888d68929', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 9, 'created': '2023-07-06 07:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/3a99e155cfba3458dd6328502506413fdee6da7b', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 10, 'created': '2023-07-06 07:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/b8f6b00c70a221af7bb9d981039e0b00f910834f', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 11, 'created': '2023-07-19 12:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/c1c024b916b5a4c6ba38960ad6fb922c85a5d57c', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 12, 'created': '2023-07-19 12:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/0896d590639eb62d3962d2c9219d0055f96cafa1', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 13, 'created': '2023-07-20 13:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/83c8bb786e6bac843816187b8db61b9f689dc69f', 'message': 'Adding bootstrap-mysqlrouter action.\n\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 14, 'created': '2023-08-01 10:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/4070e8a5de8da5bc6c9a55d195a56db297941b7c', 'message': 'Adding bootstrap-mysqlrouter action.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1082\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 15, 'created': '2023-08-07 04:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/99c414fb2ea97b6c9a84aea8bfbca54e156ecb27', 'message': 'Adding bootstrap-mysqlrouter action.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1082\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 16, 'created': '2023-08-07 04:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/bf091d9ff6edec57c4630b8d0f2fb3f6f47b8634', 'message': 'Adding bootstrap-mysqlrouter action.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1082\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 17, 'created': '2023-09-11 02:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/38b9e40640adf66953e9b798a9c79b9a4dedd46e', 'message': 'Adding bootstrap-mysqlrouter action.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1082\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 18, 'created': '2023-09-11 02:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/78f21736685c5bf8e35e744dbb12b5b15f4a88ab', 'message': 'Adding bootstrap-mysqlrouter action.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1082\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 19, 'created': '2023-09-14 02:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/6b259aa396dffa1125c30fe17d01d5b314679ace', 'message': 'Adding bootstrap-mysqlrouter action.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1082\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 20, 'created': '2023-09-14 03:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/9a8e0c51182056362c519ef5291ef1a8a93a1bd7', 'message': 'Adding bootstrap-mysqlrouter action.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1082\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}, {'number': 21, 'created': '2023-09-14 04:08:14.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'src/actions.yaml', 'src/actions/bootstrap-mysqlrouter', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/995f50b5bb8e54c19ee1b12ac00d73df80a6556c', 'message': 'Adding bootstrap-mysqlrouter action.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1082\nChange-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3\nCloses-Bug: #2004088\n'}]",88,886810,995f50b5bb8e54c19ee1b12ac00d73df80a6556c,93,6,21,5112,,,0,"Adding bootstrap-mysqlrouter action.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1082
Change-Id: I02770615cd2cce4ef8e12546c70e9df5a74848b3
Closes-Bug: #2004088
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/10/886810/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'src/actions/bootstrap-mysqlrouter', 'src/actions/actions.py']",3,74bdf5b5d1d2dbe855ca7e85a5a561a4e6c089c8,add-bootstrap-action,"import charms.reactive as reactivedef bootstrap_mysqlrouter(args): """"""Display cluster status Return cluster.status() as a JSON encoded dictionary :param args: sys.argv :type args: sys.argv :side effect: Calls instance.get_cluster_status :returns: This function is called for its side effect :rtype: None :action return: Dictionary with command output """""" with charm.provide_charm_instance() as instance: try: releations = ch_core.hookenv.relation_ids('db-router') password = None db_host = None for relid in relations: related_units = ch_core.hookenv.related_units(relid=relid) for related_unit in related_units: data = ch_core.hookenv.relation_get( rid=relid, unit=related_unit) if ""mysqlrouter_password"" in data: password = data[""mysqlrouter_password""].replace('""', '') if ""db_host"" in data: db_host = data[""db_host""].replace('""', '') cmd = [ ""/usr/bin/mysqlrouter"", ""--user"", ""mysql"", ""--name"", ch_core.hookenv.service_name(), ""--bootstrap"", ""{}:{}@{}"".format(""mysql"", password, db_host), ""--directory"", instance.mysqlrouter_working_dir(), ""--conf-use-sockets"", ""--conf-bind-address"", ""127.0.0.1"", ""--report-host"", instnace.db_router_address(), ""--conf-base-port"", str(instance.mysqlrouter_port), ""--force"", ] output = subprocess.check_output(cmd, stderr=subprocess.STDOUT) instance.assess_status() ch_core.hookenv.action_set({""outcome"": ""Success""}) except subprocess.CalledProcessError as e: ch_core.hookenv.action_set({ ""output"": e.output, ""return-code"": e.returncode, ""traceback"": traceback.format_exc()}) ch_core.hookenv.action_fail(""Bootstrap MySQLRouter failed."") ""restart-mysqlrouter"": restart_mysqlrouter, ""bootstrap-mysqlrouter"": bootstrap_mysqlrouter,}"," ""restart-mysqlrouter"": restart_mysqlrouter}",63,1
openstack%2Fos-brick~920130,openstack/os-brick,stable/2023.2,I3abc5bee7f474a9a40d396c559a42edff86334e0,Silence warning when running in a container with overlayfs,MERGED,2024-05-22 13:07:04.000000000,2024-05-23 04:48:25.000000000,2024-05-23 02:22:36.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-22 13:07:04.000000000', 'files': ['releasenotes/notes/fix-host-uuid-warning-3814b7e47bde8010.yaml', 'os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fd4467222e48218035e6296fecce5cab5303aab0', 'message': ""Silence warning when running in a container with overlayfs\n\nWhen running in a container using overlayfs we may see the following\nwarning:\n\n  WARNING os_brick.initiator.connectors.nvmeof process execution error\n  in _get_host_uuid: Unexpected error while running command.\n  Command: blkid overlay -s UUID -o value\n  Exit code: 2\n  Stdout: ''\n  Stderr: '': oslo_concurrency.processutils.ProcessExecutionError:\n  Unexpected error while running command.\n\nThis change fixes the issue by not running the command when the file\nsystem source is overlay.\n\nCloses-Bug: #2045557\nChange-Id: I3abc5bee7f474a9a40d396c559a42edff86334e0\n(cherry picked from commit bd07c571da7a3f78dbdec68af638b7e16181848d)\n(cherry picked from commit 823cda4b8a2102281facfcd666514fc6147d770a)\n""}]",2,920130,fd4467222e48218035e6296fecce5cab5303aab0,15,3,1,5314,,,0,"Silence warning when running in a container with overlayfs

When running in a container using overlayfs we may see the following
warning:

  WARNING os_brick.initiator.connectors.nvmeof process execution error
  in _get_host_uuid: Unexpected error while running command.
  Command: blkid overlay -s UUID -o value
  Exit code: 2
  Stdout: ''
  Stderr: '': oslo_concurrency.processutils.ProcessExecutionError:
  Unexpected error while running command.

This change fixes the issue by not running the command when the file
system source is overlay.

Closes-Bug: #2045557
Change-Id: I3abc5bee7f474a9a40d396c559a42edff86334e0
(cherry picked from commit bd07c571da7a3f78dbdec68af638b7e16181848d)
(cherry picked from commit 823cda4b8a2102281facfcd666514fc6147d770a)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/30/920130/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-host-uuid-warning-3814b7e47bde8010.yaml', 'os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py']",3,fd4467222e48218035e6296fecce5cab5303aab0,," source = lines.split('\n')[0] # In a container this could be 'overlay', which causes the blkid # command to fail. if source == ""overlay"": return None 'blkid', source, '-s', 'UUID', '-o', 'value')"," 'blkid', lines.split('\n')[0], '-s', 'UUID', '-o', 'value')",20,3
openstack%2Fproject-config~920190,openstack/project-config,master,Id3ac994216624e32d83ae9066d3e77f713cc7245,Clean up unused labels from nl02 config,MERGED,2024-05-22 15:36:02.000000000,2024-05-23 04:46:46.000000000,2024-05-23 04:23:54.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-22 15:36:02.000000000', 'files': ['nodepool/nl02.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1d497b0c7d6722e215d60378aff57710a99b2882', 'message': 'Clean up unused labels from nl02 config\n\nThe provider-specific label variants designating nested virt\nacceleration support or larger flavors are unused by nl02, so delete\nthem to reduce confusion.\n\nChange-Id: Id3ac994216624e32d83ae9066d3e77f713cc7245\n'}]",1,920190,1d497b0c7d6722e215d60378aff57710a99b2882,7,2,1,5263,,,0,"Clean up unused labels from nl02 config

The provider-specific label variants designating nested virt
acceleration support or larger flavors are unused by nl02, so delete
them to reduce confusion.

Change-Id: Id3ac994216624e32d83ae9066d3e77f713cc7245
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/920190/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.opendev.org.yaml'],1,1d497b0c7d6722e215d60378aff57710a99b2882,boot-ubuntu-noble,, - name: ubuntu-bionic-expanded min-ready: 0 - name: ubuntu-bionic-32GB min-ready: 0 - name: multi-numa-ubuntu-bionic min-ready: 0 - name: multi-numa-ubuntu-bionic-expanded min-ready: 0 - name: nested-virt-debian-bookworm min-ready: 0 - name: nested-virt-debian-bullseye min-ready: 0 - name: nested-virt-ubuntu-bionic min-ready: 0 - name: nested-virt-ubuntu-focal min-ready: 0 - name: nested-virt-ubuntu-jammy min-ready: 0 - name: nested-virt-ubuntu-noble min-ready: 0 - name: nested-virt-centos-8-stream min-ready: 0 - name: nested-virt-centos-9-stream min-ready: 0 - name: nested-virt-rockylinux-9 min-ready: 0,0,26
openstack%2Fcinder~916438,openstack/cinder,master,Ib67f28f422db9255053e26821f7484808d0428fc,"tests: Merge v2, v3 volume API tests",NEW,2024-04-19 14:51:42.000000000,2024-05-23 04:11:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2024-04-19 14:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/679111aed6e025a0a750acb8412db122c16b8d91', 'message': ""tests: Merge v2, v3 volume API tests\n\nWe no longer support the v2 API. Given the v3 controller is the v2\ncontroller but with the addition of microversions and some extra routes\n*and* the v2 tests obviously don't set microversions or test any of\nthose additional routes, we can simply point the v2 controller tests at\nv3 controller and things will just work (TM). We do just this, moving\nthe test to the v3 test file in the process.\n\nChange-Id: Ib67f28f422db9255053e26821f7484808d0428fc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-04-23 12:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19ebce50d323c49df98551047f613f25a8f9d848', 'message': ""tests: Merge v2, v3 volume API tests\n\nWe no longer support the v2 API. Given the v3 controller is the v2\ncontroller but with the addition of microversions and some extra routes\n*and* the v2 tests obviously don't set microversions or test any of\nthose additional routes, we can simply point the v2 controller tests at\nv3 controller and things will just work (TM). We do just this, moving\nthe test to the v3 test file in the process.\n\nChange-Id: Ib67f28f422db9255053e26821f7484808d0428fc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2024-05-13 14:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/92725d7ff31b362b83d925225876eeb0040560cb', 'message': ""tests: Merge v2, v3 volume API tests\n\nWe no longer support the v2 API. Given the v3 controller is the v2\ncontroller but with the addition of microversions and some extra routes\n*and* the v2 tests obviously don't set microversions or test any of\nthose additional routes, we can simply point the v2 controller tests at\nv3 controller and things will just work (TM). We do just this, moving\nthe test to the v3 test file in the process.\n\nChange-Id: Ib67f28f422db9255053e26821f7484808d0428fc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2024-05-20 10:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4be82800482d85d54b8b2a3415ca4457fa6a7546', 'message': ""tests: Merge v2, v3 volume API tests\n\nWe no longer support the v2 API. Given the v3 controller is the v2\ncontroller but with the addition of microversions and some extra routes\n*and* the v2 tests obviously don't set microversions or test any of\nthose additional routes, we can simply point the v2 controller tests at\nv3 controller and things will just work (TM). We do just this, moving\nthe test to the v3 test file in the process.\n\nChange-Id: Ib67f28f422db9255053e26821f7484808d0428fc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2024-05-20 10:07:27.000000000', 'files': ['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/tests/unit/api/v2/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/229964002c7ccc3b43075b9e4b7fc9c8e67ccf0e', 'message': ""tests: Merge v2, v3 volume API tests\n\nWe no longer support the v2 API. Given the v3 controller is the v2\ncontroller but with the addition of microversions and some extra routes\n*and* the v2 tests obviously don't set microversions or test any of\nthose additional routes, we can simply point the v2 controller tests at\nv3 controller and things will just work (TM). We do just this, moving\nthe test to the v3 test file in the process.\n\nChange-Id: Ib67f28f422db9255053e26821f7484808d0428fc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,916438,229964002c7ccc3b43075b9e4b7fc9c8e67ccf0e,51,2,5,15334,,,0,"tests: Merge v2, v3 volume API tests

We no longer support the v2 API. Given the v3 controller is the v2
controller but with the addition of microversions and some extra routes
*and* the v2 tests obviously don't set microversions or test any of
those additional routes, we can simply point the v2 controller tests at
v3 controller and things will just work (TM). We do just this, moving
the test to the v3 test file in the process.

Change-Id: Ib67f28f422db9255053e26821f7484808d0428fc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/916438/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/tests/unit/api/v2/test_volumes.py']",2,679111aed6e025a0a750acb8412db122c16b8d91,openapi,,"# Copyright 2013 Josh Durgin # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime from http import HTTPStatus import json from unittest import mock import urllib import ddt import fixtures import iso8601 from oslo_config import cfg import webob from cinder.api import common from cinder.api import extensions from cinder.api.v2.views import volumes as v_vol from cinder.api.v2 import volumes from cinder import context from cinder import db from cinder import exception from cinder import group as groupAPI from cinder import objects from cinder.objects import fields from cinder.tests.unit.api import fakes from cinder.tests.unit.api.v2 import fakes as v2_fakes from cinder.tests.unit import fake_constants as fake from cinder.tests.unit import fake_volume from cinder.tests.unit.image import fake as fake_image from cinder.tests.unit import test from cinder.tests.unit import utils from cinder.volume import api as volume_api CONF = cfg.CONF NS = '{http://docs.openstack.org/api/openstack-block-storage/2.0/content}' DEFAULT_AZ = ""zone1:host1"" @ddt.ddt class VolumeApiTest(test.TestCase): def setUp(self): super(VolumeApiTest, self).setUp() self.ext_mgr = extensions.ExtensionManager() self.ext_mgr.extensions = {} fake_image.mock_image_service(self) self.controller = volumes.VolumeController(self.ext_mgr) self.maxDiff = None self.ctxt = context.RequestContext(fake.USER_ID, fake.PROJECT_ID, True) # This will be cleaned up by the NestedTempfile fixture in base class self.tmp_path = self.useFixture(fixtures.TempDir()).path self.mock_object(objects.VolumeType, 'get_by_id', self.fake_volume_type_get) self.mock_object(v_vol.ViewBuilder, '_get_volume_type', v2_fakes.fake_volume_type_name_get) def fake_volume_type_get(self, context, id, *args, **kwargs): return {'id': id, 'name': 'vol_type_name', 'description': 'A fake volume type', 'is_public': True, 'projects': [], 'extra_specs': {}, 'created_at': None, 'deleted_at': None, 'updated_at': None, 'qos_specs_id': fake.QOS_SPEC_ID, 'deleted': False} @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_volume_create(self, mock_validate): self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_get) self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_api_create) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) vol = self._vol_in_request_body() body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') res_dict = self.controller.create(req, body=body) ex = self._expected_vol_from_controller() self.assertEqual(ex, res_dict) self.assertTrue(mock_validate.called) @mock.patch.object(db, 'volume_get_all', v2_fakes.fake_volume_get_all) @mock.patch.object(db, 'service_get_all', return_value=v2_fakes.fake_service_get_all_by_topic( None, None), autospec=True) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_volume_create_with_type(self, mock_validate, mock_service_get): db_vol_type = db.volume_type_get_by_name(context.get_admin_context(), '__DEFAULT__') vol = self._vol_in_request_body(volume_type=""FakeTypeName"") body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') # Raise 404 when type name isn't valid self.assertRaises(exception.VolumeTypeNotFoundByName, self.controller.create, req, body=body) # Use correct volume type name vol = self._vol_in_request_body(volume_type=CONF.default_volume_type) body.update(dict(volume=vol)) res_dict = self.controller.create(req, body=body) volume_id = res_dict['volume']['id'] self.assertEqual(1, len(res_dict)) # Use correct volume type id vol = self._vol_in_request_body(volume_type=db_vol_type['id']) body.update(dict(volume=vol)) res_dict = self.controller.create(req, body=body) volume_id = res_dict['volume']['id'] self.assertEqual(1, len(res_dict)) vol_db = v2_fakes.create_fake_volume( volume_id, volume_type={'name': db_vol_type['name']}) vol_obj = fake_volume.fake_volume_obj(context.get_admin_context(), **vol_db) self.mock_object(volume_api.API, 'get_all', return_value=objects.VolumeList(objects=[vol_obj])) # NOTE(geguileo): This is required because common get_by_id method in # cinder.db.sqlalchemy.api caches the real get method. db.sqlalchemy.api._GET_METHODS = {} self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/volumes/detail') res_dict = self.controller.detail(req) self.assertTrue(mock_validate.called) @classmethod def _vol_in_request_body(cls, size=v2_fakes.DEFAULT_VOL_SIZE, name=v2_fakes.DEFAULT_VOL_NAME, description=v2_fakes.DEFAULT_VOL_DESCRIPTION, availability_zone=DEFAULT_AZ, snapshot_id=None, source_volid=None, consistencygroup_id=None, volume_type=None, image_ref=None, image_id=None): vol = {""size"": size, ""name"": name, ""description"": description, ""availability_zone"": availability_zone, ""snapshot_id"": snapshot_id, ""source_volid"": source_volid, ""consistencygroup_id"": consistencygroup_id, ""volume_type"": volume_type, } if image_id is not None: vol['image_id'] = image_id elif image_ref is not None: vol['imageRef'] = image_ref return vol def _expected_vol_from_controller( self, size=v2_fakes.DEFAULT_VOL_SIZE, availability_zone=DEFAULT_AZ, description=v2_fakes.DEFAULT_VOL_DESCRIPTION, name=v2_fakes.DEFAULT_VOL_NAME, consistencygroup_id=None, source_volid=None, snapshot_id=None, metadata=None, attachments=None, volume_type=v2_fakes.DEFAULT_VOL_TYPE, status=v2_fakes.DEFAULT_VOL_STATUS, with_migration_status=False, multiattach=False): metadata = metadata or {} attachments = attachments or [] volume = {'volume': {'attachments': attachments, 'availability_zone': availability_zone, 'bootable': 'false', 'consistencygroup_id': consistencygroup_id, 'created_at': datetime.datetime( 1900, 1, 1, 1, 1, 1, tzinfo=iso8601.UTC), 'updated_at': datetime.datetime( 1900, 1, 1, 1, 1, 1, tzinfo=iso8601.UTC), 'description': description, 'id': v2_fakes.DEFAULT_VOL_ID, 'links': [{'href': 'http://localhost/v3/volumes/%s' % ( fake.VOLUME_ID), 'rel': 'self'}, {'href': 'http://localhost/volumes/%s' % ( fake.VOLUME_ID), 'rel': 'bookmark'}], 'metadata': metadata, 'name': name, 'replication_status': 'disabled', 'multiattach': multiattach, 'size': size, 'snapshot_id': snapshot_id, 'source_volid': source_volid, 'status': status, 'user_id': fake.USER_ID, 'volume_type': volume_type, 'encrypted': False}} if with_migration_status: volume['volume']['migration_status'] = None return volume def _expected_volume_api_create_kwargs(self, snapshot=None, availability_zone=DEFAULT_AZ, source_volume=None): return {'metadata': None, 'snapshot': snapshot, 'source_volume': source_volume, 'group': None, 'consistencygroup': None, 'availability_zone': availability_zone, 'scheduler_hints': None, } @mock.patch.object(db.sqlalchemy.api, '_volume_type_get_full', autospec=True) @mock.patch.object(volume_api.API, 'get_snapshot', autospec=True) @mock.patch.object(volume_api.API, 'create', autospec=True) def test_volume_creation_from_snapshot(self, create, get_snapshot, volume_type_get): create.side_effect = v2_fakes.fake_volume_api_create get_snapshot.side_effect = v2_fakes.fake_snapshot_get volume_type_get.side_effect = v2_fakes.fake_volume_type_get snapshot_id = fake.SNAPSHOT_ID vol = self._vol_in_request_body(snapshot_id=snapshot_id) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') res_dict = self.controller.create(req, body=body) ex = self._expected_vol_from_controller(snapshot_id=snapshot_id) self.assertEqual(ex, res_dict) context = req.environ['cinder.context'] get_snapshot.assert_called_once_with(self.controller.volume_api, context, snapshot_id) kwargs = self._expected_volume_api_create_kwargs( v2_fakes.fake_snapshot(snapshot_id)) create.assert_called_once_with( self.controller.volume_api, context, vol['size'], v2_fakes.DEFAULT_VOL_NAME, v2_fakes.DEFAULT_VOL_DESCRIPTION, **kwargs) @mock.patch.object(volume_api.API, 'get_snapshot', autospec=True) def test_volume_creation_fails_with_invalid_snapshot(self, get_snapshot): get_snapshot.side_effect = v2_fakes.fake_snapshot_get snapshot_id = fake.WILL_NOT_BE_FOUND_ID vol = self._vol_in_request_body(snapshot_id=snapshot_id) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') # Raise 404 when snapshot cannot be found. self.assertRaises(exception.SnapshotNotFound, self.controller.create, req, body=body) context = req.environ['cinder.context'] get_snapshot.assert_called_once_with(self.controller.volume_api, context, snapshot_id) @ddt.data({'s': 'ea895e29-8485-4930-bbb8-c5616a309c0e'}, ['ea895e29-8485-4930-bbb8-c5616a309c0e'], 42) def test_volume_creation_fails_with_invalid_snapshot_type(self, value): snapshot_id = value vol = self._vol_in_request_body(snapshot_id=snapshot_id) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') # Raise 400 when snapshot has not uuid type. self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) @mock.patch.object(db.sqlalchemy.api, '_volume_type_get_full', autospec=True) @mock.patch.object(volume_api.API, 'get_volume', autospec=True) @mock.patch.object(volume_api.API, 'create', autospec=True) def test_volume_creation_from_source_volume(self, create, get_volume, volume_type_get): get_volume.side_effect = v2_fakes.fake_volume_api_get create.side_effect = v2_fakes.fake_volume_api_create volume_type_get.side_effect = v2_fakes.fake_volume_type_get source_volid = '2f49aa3a-6aae-488d-8b99-a43271605af6' vol = self._vol_in_request_body(source_volid=source_volid) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') res_dict = self.controller.create(req, body=body) ex = self._expected_vol_from_controller(source_volid=source_volid) self.assertEqual(ex, res_dict) context = req.environ['cinder.context'] get_volume.assert_called_once_with(self.controller.volume_api, context, source_volid) db_vol = v2_fakes.create_fake_volume(source_volid) vol_obj = fake_volume.fake_volume_obj(context, **db_vol) kwargs = self._expected_volume_api_create_kwargs( source_volume=vol_obj) create.assert_called_once_with( self.controller.volume_api, context, vol['size'], v2_fakes.DEFAULT_VOL_NAME, v2_fakes.DEFAULT_VOL_DESCRIPTION, **kwargs) @mock.patch.object(volume_api.API, 'get_volume', autospec=True) def test_volume_creation_fails_with_invalid_source_volume(self, get_volume): get_volume.side_effect = v2_fakes.fake_volume_get_notfound source_volid = fake.VOLUME_ID vol = self._vol_in_request_body(source_volid=source_volid) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') # Raise 404 when source volume cannot be found. self.assertRaises(exception.VolumeNotFound, self.controller.create, req, body=body) context = req.environ['cinder.context'] get_volume.assert_called_once_with(self.controller.volume_api, context, source_volid) @ddt.data({'source_volid': 1}, {'source_volid': []}, {'consistencygroup_id': 1}, {'consistencygroup_id': []}) def test_volume_creation_fails_with_invalid_uuids(self, updated_uuids): vol = self._vol_in_request_body() vol.update(updated_uuids) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') # Raise 400 for resource requested with invalid uuids. self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) @mock.patch.object(groupAPI.API, 'get', autospec=True) def test_volume_creation_fails_with_invalid_consistency_group(self, get_cg): get_cg.side_effect = v2_fakes.fake_consistencygroup_get_notfound consistencygroup_id = '4f49aa3a-6aae-488d-8b99-a43271605af6' vol = self._vol_in_request_body( consistencygroup_id=consistencygroup_id) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') # Raise 404 when consistency group is not found. self.assertRaises(exception.GroupNotFound, self.controller.create, req, body=body) context = req.environ['cinder.context'] get_cg.assert_called_once_with(self.controller.group_api, context, consistencygroup_id) def test_volume_creation_fails_with_bad_size(self): vol = self._vol_in_request_body(size="""") body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) def test_volume_creation_fails_with_bad_availability_zone(self): vol = self._vol_in_request_body(availability_zone=""zonen:hostn"") body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(exception.InvalidAvailabilityZone, self.controller.create, req, body=body) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_volume_create_with_image_ref(self, mock_validate): self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_api_create) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) vol = self._vol_in_request_body( availability_zone=""nova"", image_ref=""c905cedb-7281-47e4-8a62-f26bc5fc4c77"") ex = self._expected_vol_from_controller(availability_zone=""nova"") body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') res_dict = self.controller.create(req, body=body) self.assertEqual(ex, res_dict) self.assertTrue(mock_validate.called) def test_volume_create_with_image_ref_is_integer(self): self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_create) vol = self._vol_in_request_body(availability_zone=""cinder"", image_ref=1234) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) def test_volume_create_with_image_ref_not_uuid_format(self): self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_create) self.mock_object(fake_image._FakeImageService, ""detail"", v2_fakes.fake_image_service_detail) vol = self._vol_in_request_body(availability_zone=""cinder"", image_ref=""12345"") body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, body=body) def test_volume_create_with_image_ref_with_empty_string(self): self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_create) self.mock_object(fake_image._FakeImageService, ""detail"", v2_fakes.fake_image_service_detail) vol = self._vol_in_request_body(availability_zone=""cinder"", image_ref="""") body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, body=body) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_volume_create_with_image_id(self, mock_validate): self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_api_create) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) vol = self._vol_in_request_body( availability_zone=""nova"", image_id=""c905cedb-7281-47e4-8a62-f26bc5fc4c77"") ex = self._expected_vol_from_controller(availability_zone=""nova"") body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') res_dict = self.controller.create(req, body=body) self.assertEqual(ex, res_dict) self.assertTrue(mock_validate.called) def test_volume_create_with_image_id_is_integer(self): self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_create) vol = self._vol_in_request_body(availability_zone=""cinder"", image_id=1234) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) def test_volume_create_with_image_id_not_uuid_format(self): self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_create) self.mock_object(fake_image._FakeImageService, ""detail"", v2_fakes.fake_image_service_detail) vol = self._vol_in_request_body(availability_zone=""cinder"", image_id=""12345"") body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, body=body) def test_volume_create_with_image_id_with_empty_string(self): self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_create) self.mock_object(fake_image._FakeImageService, ""detail"", v2_fakes.fake_image_service_detail) vol = self._vol_in_request_body(availability_zone=""cinder"", image_id="""") body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, body=body) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_volume_create_with_image_name(self, mock_validate): self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_api_create) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) self.mock_object(fake_image._FakeImageService, ""detail"", v2_fakes.fake_image_service_detail) test_id = ""Fedora-x86_64-20-20140618-sda"" vol = self._vol_in_request_body(availability_zone=""nova"", image_ref=test_id) ex = self._expected_vol_from_controller(availability_zone=""nova"") body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') res_dict = self.controller.create(req, body=body) self.assertEqual(ex, res_dict) def test_volume_create_with_image_name_has_multiple(self): self.mock_object(db, 'volume_get', v2_fakes.fake_volume_get_db) self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_create) self.mock_object(fake_image._FakeImageService, ""detail"", v2_fakes.fake_image_service_detail) test_id = ""multi"" vol = self._vol_in_request_body(availability_zone=""nova"", image_ref=test_id) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(webob.exc.HTTPConflict, self.controller.create, req, body=body) def test_volume_create_with_image_name_no_match(self): self.mock_object(db, 'volume_get', v2_fakes.fake_volume_get_db) self.mock_object(volume_api.API, ""create"", v2_fakes.fake_volume_create) self.mock_object(fake_image._FakeImageService, ""detail"", v2_fakes.fake_image_service_detail) test_id = ""MissingName"" vol = self._vol_in_request_body(availability_zone=""nova"", image_ref=test_id) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, body=body) @ddt.data({'a' * 256: 'a'}, {'a': 'a' * 256}, {'': 'a'}, {'a': None}) def test_volume_create_with_invalid_metadata(self, value): vol = self._vol_in_request_body() vol['metadata'] = value body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v3/volumes') self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) @ddt.data({""name"": ""Updated Test Name"", ""description"": ""Updated Test Description""}, {""name"": "" test name "", ""description"": "" test description ""}) def test_volume_update(self, body): self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_api_get) self.mock_object(volume_api.API, ""update"", v2_fakes.fake_volume_update) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) updates = { ""name"": body['name'], ""description"": body['description'] } body = {""volume"": updates} req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertEqual(0, len(self.notifier.notifications)) name = updates[""name""].strip() description = updates[""description""].strip() expected = self._expected_vol_from_controller( availability_zone=v2_fakes.DEFAULT_AZ, name=name, description=description, metadata={'attached_mode': 'rw', 'readonly': 'False'}) res_dict = self.controller.update(req, fake.VOLUME_ID, body=body) self.assertEqual(expected, res_dict) self.assertEqual(2, len(self.notifier.notifications)) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_volume_update_deprecation(self, mock_validate): self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_api_get) self.mock_object(volume_api.API, ""update"", v2_fakes.fake_volume_update) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) updates = { ""display_name"": ""Updated Test Name"", ""display_description"": ""Updated Test Description"", } body = {""volume"": updates} req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertEqual(0, len(self.notifier.notifications)) res_dict = self.controller.update(req, fake.VOLUME_ID, body=body) expected = self._expected_vol_from_controller( availability_zone=v2_fakes.DEFAULT_AZ, name=""Updated Test Name"", description=""Updated Test Description"", metadata={'attached_mode': 'rw', 'readonly': 'False'}) self.assertEqual(expected, res_dict) self.assertEqual(2, len(self.notifier.notifications)) self.assertTrue(mock_validate.called) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_volume_update_deprecation_key_priority(self, mock_validate): """"""Test current update keys have priority over deprecated keys."""""" self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_api_get) self.mock_object(volume_api.API, ""update"", v2_fakes.fake_volume_update) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) updates = { ""name"": ""New Name"", ""description"": ""New Description"", ""display_name"": ""Not Shown Name"", ""display_description"": ""Not Shown Description"", } body = {""volume"": updates} req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertEqual(0, len(self.notifier.notifications)) res_dict = self.controller.update(req, fake.VOLUME_ID, body=body) expected = self._expected_vol_from_controller( availability_zone=v2_fakes.DEFAULT_AZ, name=""New Name"", description=""New Description"", metadata={'attached_mode': 'rw', 'readonly': 'False'}) self.assertEqual(expected, res_dict) self.assertEqual(2, len(self.notifier.notifications)) self.assertTrue(mock_validate.called) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_volume_update_metadata(self, mock_validate): self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_api_get) self.mock_object(volume_api.API, ""update"", v2_fakes.fake_volume_update) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) updates = { ""metadata"": {""qos_max_iops"": '2000'} } body = {""volume"": updates} req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertEqual(0, len(self.notifier.notifications)) res_dict = self.controller.update(req, fake.VOLUME_ID, body=body) expected = self._expected_vol_from_controller( availability_zone=v2_fakes.DEFAULT_AZ, metadata={'attached_mode': 'rw', 'readonly': 'False', 'qos_max_iops': '2000'}) self.assertEqual(expected, res_dict) self.assertEqual(2, len(self.notifier.notifications)) self.assertTrue(mock_validate.called) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_volume_update_with_admin_metadata(self, mock_validate): self.mock_object(volume_api.API, ""update"", v2_fakes.fake_volume_update) volume = v2_fakes.create_fake_volume(fake.VOLUME_ID) del volume['name'] del volume['volume_type'] volume['metadata'] = {'key': 'value'} db.volume_create(context.get_admin_context(), volume) db.volume_admin_metadata_update(context.get_admin_context(), fake.VOLUME_ID, {""readonly"": ""True"", ""invisible_key"": ""invisible_value""}, False) values = {'volume_id': fake.VOLUME_ID, } attachment = db.volume_attach(context.get_admin_context(), values) db.volume_attached(context.get_admin_context(), attachment['id'], fake.INSTANCE_ID, None, '/') attach_tmp = db.volume_attachment_get(context.get_admin_context(), attachment['id']) volume_tmp = db.volume_get(context.get_admin_context(), fake.VOLUME_ID) updates = { ""name"": ""Updated Test Name"", } body = {""volume"": updates} req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertEqual(0, len(self.notifier.notifications)) admin_ctx = context.RequestContext(fake.USER_ID, fake.PROJECT_ID, True) req.environ['cinder.context'] = admin_ctx res_dict = self.controller.update(req, fake.VOLUME_ID, body=body) expected = self._expected_vol_from_controller( availability_zone=v2_fakes.DEFAULT_AZ, status='in-use', name='Updated Test Name', attachments=[{'id': fake.VOLUME_ID, 'attachment_id': attachment['id'], 'volume_id': v2_fakes.DEFAULT_VOL_ID, 'server_id': fake.INSTANCE_ID, 'host_name': None, 'device': '/', 'attached_at': attach_tmp['attach_time'].replace( tzinfo=iso8601.UTC), }], volume_type=fake.VOLUME_TYPE_NAME, metadata={'key': 'value', 'readonly': 'True'}, with_migration_status=True) expected['volume']['updated_at'] = volume_tmp['updated_at'].replace( tzinfo=iso8601.UTC) self.assertEqual(expected, res_dict) self.assertEqual(2, len(self.notifier.notifications)) self.assertTrue(mock_validate.called) @ddt.data({'a' * 256: 'a'}, {'a': 'a' * 256}, {'': 'a'}, {'a': None}) @mock.patch.object(volume_api.API, 'get', side_effect=v2_fakes.fake_volume_api_get, autospec=True) def test_volume_update_with_invalid_metadata(self, value, get): updates = { ""metadata"": value } body = {""volume"": updates} req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertRaises(exception.ValidationError, self.controller.update, req, fake.VOLUME_ID, body=body) def test_update_empty_body(self): body = {} req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertRaises(exception.ValidationError, self.controller.update, req, fake.VOLUME_ID, body=body) def test_update_invalid_body(self): body = { 'name': 'missing top level volume key' } req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertRaises(exception.ValidationError, self.controller.update, req, fake.VOLUME_ID, body=body) @ddt.data({'name': 'a' * 256}, {'description': 'a' * 256}, {'display_name': 'a' * 256}, {'display_description': 'a' * 256}) def test_update_exceeds_length_name_description(self, vol): req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) body = {'volume': vol} self.assertRaises(exception.InvalidInput, self.controller.update, req, fake.VOLUME_ID, body=body) def test_update_not_found(self): self.mock_object(volume_api.API, ""get"", v2_fakes.fake_volume_get_notfound) updates = { ""name"": ""Updated Test Name"", } body = {""volume"": updates} req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertRaises(exception.VolumeNotFound, self.controller.update, req, fake.VOLUME_ID, body=body) def test_volume_list_summary(self): self.mock_object(volume_api.API, 'get_all', v2_fakes.fake_volume_api_get_all_by_project) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/%s/volumes' % fake.PROJECT_ID) res_dict = self.controller.index(req) expected = { 'volumes': [ { 'name': v2_fakes.DEFAULT_VOL_NAME, 'id': fake.VOLUME_ID, 'links': [ { 'href': 'http://localhost/v3/%s/volumes/%s' % ( fake.PROJECT_ID, fake.VOLUME_ID), 'rel': 'self' }, { 'href': 'http://localhost/%s/volumes/%s' % ( fake.PROJECT_ID, fake.VOLUME_ID), 'rel': 'bookmark' } ], } ] } self.assertEqual(expected, res_dict) # Finally test that we cached the returned volumes self.assertEqual(1, len(req.cached_resource())) def test_volume_list_detail(self): self.mock_object(volume_api.API, 'get_all', v2_fakes.fake_volume_api_get_all_by_project) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/volumes/detail') res_dict = self.controller.detail(req) exp_vol = self._expected_vol_from_controller( availability_zone=v2_fakes.DEFAULT_AZ, metadata={'attached_mode': 'rw', 'readonly': 'False'}) expected = {'volumes': [exp_vol['volume']]} self.assertEqual(expected, res_dict) # Finally test that we cached the returned volumes self.assertEqual(1, len(req.cached_resource())) def test_volume_list_detail_with_admin_metadata(self): volume = v2_fakes.create_fake_volume(fake.VOLUME_ID) del volume['name'] del volume['volume_type'] volume['metadata'] = {'key': 'value'} db.volume_create(context.get_admin_context(), volume) db.volume_admin_metadata_update(context.get_admin_context(), fake.VOLUME_ID, {""readonly"": ""True"", ""invisible_key"": ""invisible_value""}, False) values = {'volume_id': fake.VOLUME_ID, } attachment = db.volume_attach(context.get_admin_context(), values) db.volume_attached(context.get_admin_context(), attachment['id'], fake.INSTANCE_ID, None, '/') attach_tmp = db.volume_attachment_get(context.get_admin_context(), attachment['id']) volume_tmp = db.volume_get(context.get_admin_context(), fake.VOLUME_ID) req = fakes.HTTPRequest.blank('/v3/volumes/detail') admin_ctx = context.RequestContext(fake.USER_ID, fake.PROJECT_ID, True) req.environ['cinder.context'] = admin_ctx res_dict = self.controller.detail(req) exp_vol = self._expected_vol_from_controller( availability_zone=v2_fakes.DEFAULT_AZ, status=""in-use"", volume_type=fake.VOLUME_TYPE_NAME, attachments=[{'attachment_id': attachment['id'], 'device': '/', 'server_id': fake.INSTANCE_ID, 'host_name': None, 'id': fake.VOLUME_ID, 'volume_id': v2_fakes.DEFAULT_VOL_ID, 'attached_at': attach_tmp['attach_time'].replace( tzinfo=iso8601.UTC), }], metadata={'key': 'value', 'readonly': 'True'}, with_migration_status=True) exp_vol['volume']['updated_at'] = volume_tmp['updated_at'].replace( tzinfo=iso8601.UTC) expected = {'volumes': [exp_vol['volume']]} self.assertEqual(expected, res_dict) def test_volume_list_detail_host_name_admin_non_admin(self): fake_host = 'fake_host' volume = v2_fakes.create_fake_volume(fake.VOLUME_ID) del volume['name'] del volume['volume_type'] db.volume_create(context.get_admin_context(), volume) values = {'volume_id': fake.VOLUME_ID, } attachment = db.volume_attach(context.get_admin_context(), values) db.volume_attached(context.get_admin_context(), attachment['id'], fake.INSTANCE_ID, fake_host, '/') db.volume_attachment_get(context.get_admin_context(), attachment['id']) req = fakes.HTTPRequest.blank('/v3/volumes/detail') res_dict = self.controller.detail(req) # host_name will always be None for non-admins self.assertIsNone( res_dict['volumes'][0]['attachments'][0]['host_name']) admin_ctx = context.RequestContext(fake.USER_ID, fake.PROJECT_ID, True) req.environ['cinder.context'] = admin_ctx res_dict = self.controller.detail(req) # correct host_name is returned for admins self.assertEqual(fake_host, res_dict['volumes'][0]['attachments'][0]['host_name'] ) def test_volume_index_with_marker(self): def fake_volume_get_all_by_project(context, project_id, marker, limit, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=0): return [ v2_fakes.create_fake_volume(fake.VOLUME_ID, display_name='vol1'), v2_fakes.create_fake_volume(fake.VOLUME2_ID, display_name='vol2'), ] self.mock_object(db, 'volume_get_all_by_project', fake_volume_get_all_by_project) self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_get) req = fakes.HTTPRequest.blank('/v3/volumes?marker=1') res_dict = self.controller.index(req) volumes = res_dict['volumes'] self.assertEqual(2, len(volumes)) self.assertEqual(fake.VOLUME_ID, volumes[0]['id']) self.assertEqual(fake.VOLUME2_ID, volumes[1]['id']) def test_volume_index_limit(self): self.mock_object(db, 'volume_get_all_by_project', v2_fakes.fake_volume_get_all_by_project) self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_get) req = fakes.HTTPRequest.blank('/v3/%s/volumes' '?limit=1&name=foo' '&sort=id1:asc' % fake.PROJECT_ID) res_dict = self.controller.index(req) volumes = res_dict['volumes'] self.assertEqual(1, len(volumes)) # Ensure that the next link is correctly formatted, it should # contain the same limit, filter, and sort information as the # original request as well as a marker; this ensures that the # caller can simply use the ""next"" link and that they do not # need to manually insert the limit and sort information. links = res_dict['volumes_links'] self.assertEqual('next', links[0]['rel']) href_parts = urllib.parse.urlparse(links[0]['href']) self.assertEqual('/v3/%s/volumes' % fake.PROJECT_ID, href_parts.path) params = urllib.parse.parse_qs(href_parts.query) self.assertEqual(str(volumes[0]['id']), params['marker'][0]) self.assertEqual('1', params['limit'][0]) self.assertEqual('foo', params['name'][0]) self.assertEqual('id1:asc', params['sort'][0]) def test_volume_index_limit_negative(self): req = fakes.HTTPRequest.blank('/v3/volumes?limit=-1') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.index, req) def test_volume_index_limit_non_int(self): req = fakes.HTTPRequest.blank('/v3/volumes?limit=a') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.index, req) def test_volume_index_limit_marker(self): self.mock_object(db, 'volume_get_all_by_project', v2_fakes.fake_volume_get_all_by_project) self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_get) req = fakes.HTTPRequest.blank('/v3/volumes?marker=1&limit=1') res_dict = self.controller.index(req) volumes = res_dict['volumes'] self.assertEqual(1, len(volumes)) self.assertEqual(fake.VOLUME_ID, volumes[0]['id']) def _create_db_volumes(self, num_volumes): volumes = [utils.create_volume(self.ctxt, display_name='vol%s' % i) for i in range(num_volumes)] for vol in volumes: self.addCleanup(db.volume_destroy, self.ctxt, vol.id) volumes.reverse() return volumes def test_volume_index_limit_offset(self): created_volumes = self._create_db_volumes(2) req = fakes.HTTPRequest.blank('/v3/volumes?limit=2&offset=1') res_dict = self.controller.index(req) volumes = res_dict['volumes'] self.assertEqual(1, len(volumes)) self.assertEqual(created_volumes[1].id, volumes[0]['id']) req = fakes.HTTPRequest.blank('/v3/volumes?limit=-1&offset=1') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.index, req) req = fakes.HTTPRequest.blank('/v3/volumes?limit=a&offset=1') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.index, req) # Test that we get an exception HTTPBadRequest(400) with an offset # greater than the maximum offset value. url = '/v3/volumes?limit=2&offset=43543564546567575' req = fakes.HTTPRequest.blank(url) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.index, req) def test_volume_detail_with_marker(self): def fake_volume_get_all_by_project(context, project_id, marker, limit, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=0): return [ v2_fakes.create_fake_volume(fake.VOLUME_ID, display_name='vol1'), v2_fakes.create_fake_volume(fake.VOLUME2_ID, display_name='vol2'), ] self.mock_object(db, 'volume_get_all_by_project', fake_volume_get_all_by_project) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/volumes/detail?marker=1') res_dict = self.controller.detail(req) volumes = res_dict['volumes'] self.assertEqual(2, len(volumes)) self.assertEqual(fake.VOLUME_ID, volumes[0]['id']) self.assertEqual(fake.VOLUME2_ID, volumes[1]['id']) def test_volume_detail_limit(self): self.mock_object(db, 'volume_get_all_by_project', v2_fakes.fake_volume_get_all_by_project) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/%s/volumes/detail?limit=1' % fake.PROJECT_ID) res_dict = self.controller.detail(req) volumes = res_dict['volumes'] self.assertEqual(1, len(volumes)) # Ensure that the next link is correctly formatted links = res_dict['volumes_links'] self.assertEqual('next', links[0]['rel']) href_parts = urllib.parse.urlparse(links[0]['href']) self.assertEqual('/v3/%s/volumes/detail' % fake.PROJECT_ID, href_parts.path) params = urllib.parse.parse_qs(href_parts.query) self.assertIn('marker', params) self.assertEqual('1', params['limit'][0]) def test_volume_detail_limit_negative(self): req = fakes.HTTPRequest.blank('/v3/volumes/detail?limit=-1') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.detail, req) def test_volume_detail_limit_non_int(self): req = fakes.HTTPRequest.blank('/v3/volumes/detail?limit=a') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.detail, req) def test_volume_detail_limit_marker(self): self.mock_object(db, 'volume_get_all_by_project', v2_fakes.fake_volume_get_all_by_project) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/volumes/detail?marker=1&limit=1') res_dict = self.controller.detail(req) volumes = res_dict['volumes'] self.assertEqual(1, len(volumes)) self.assertEqual(fake.VOLUME_ID, volumes[0]['id']) def test_volume_detail_limit_offset(self): created_volumes = self._create_db_volumes(2) req = fakes.HTTPRequest.blank('/v3/volumes/detail?limit=2&offset=1') res_dict = self.controller.detail(req) volumes = res_dict['volumes'] self.assertEqual(1, len(volumes)) self.assertEqual(created_volumes[1].id, volumes[0]['id']) req = fakes.HTTPRequest.blank('/v3/volumes/detail?limit=2&offset=1', use_admin_context=True) res_dict = self.controller.detail(req) volumes = res_dict['volumes'] self.assertEqual(1, len(volumes)) self.assertEqual(created_volumes[1].id, volumes[0]['id']) req = fakes.HTTPRequest.blank('/v3/volumes/detail?limit=-1&offset=1') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.detail, req) req = fakes.HTTPRequest.blank('/v3/volumes/detail?limit=a&offset=1') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.detail, req) url = '/v3/volumes/detail?limit=2&offset=4536546546546467' req = fakes.HTTPRequest.blank(url) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.detail, req) def test_volume_with_limit_zero(self): def fake_volume_get_all(context, marker, limit, **kwargs): return [] self.mock_object(db, 'volume_get_all', fake_volume_get_all) req = fakes.HTTPRequest.blank('/v3/volumes?limit=0') res_dict = self.controller.index(req) expected = {'volumes': []} self.assertEqual(expected, res_dict) def _validate_next_link(self, detailed, item_count, osapi_max_limit, limit, should_link_exist): keys_fns = (('volumes', self.controller.index), ('volumes/detail', self.controller.detail)) key, fn = keys_fns[detailed] req_string = '/v3/%s?all_tenants=1' % key if limit: req_string += '&limit=%s' % limit req = fakes.HTTPRequest.blank(req_string, use_admin_context=True) link_return = [{""rel"": ""next"", ""href"": ""fake_link""}] self.flags(osapi_max_limit=osapi_max_limit) def get_pagination_params(params, max_limit=CONF.osapi_max_limit, original_call=common.get_pagination_params): return original_call(params, max_limit) def _get_limit_param(params, max_limit=CONF.osapi_max_limit, original_call=common._get_limit_param): return original_call(params, max_limit) with mock.patch.object(common, 'get_pagination_params', get_pagination_params), \ mock.patch.object(common, '_get_limit_param', _get_limit_param), \ mock.patch.object(common.ViewBuilder, '_generate_next_link', return_value=link_return): res_dict = fn(req) self.assertEqual(item_count, len(res_dict['volumes'])) self.assertEqual(should_link_exist, 'volumes_links' in res_dict) def test_volume_default_limit(self): self._create_db_volumes(3) # Verify both the index and detail queries for detailed in (True, False): # Number of volumes less than max, do not include self._validate_next_link(detailed, item_count=3, osapi_max_limit=4, limit=None, should_link_exist=False) # Number of volumes equals the max, next link will be included self._validate_next_link(detailed, item_count=3, osapi_max_limit=3, limit=None, should_link_exist=True) # Number of volumes more than the max, include next link self._validate_next_link(detailed, item_count=2, osapi_max_limit=2, limit=None, should_link_exist=True) # Limit lower than max but doesn't limit, no next link self._validate_next_link(detailed, item_count=3, osapi_max_limit=5, limit=4, should_link_exist=False) # Limit lower than max and limits, we have next link self._validate_next_link(detailed, item_count=2, osapi_max_limit=4, limit=2, should_link_exist=True) # Limit higher than max and max limits, we have next link self._validate_next_link(detailed, item_count=2, osapi_max_limit=2, limit=4, should_link_exist=True) # Limit higher than max but none of them limiting, no next link self._validate_next_link(detailed, item_count=3, osapi_max_limit=4, limit=5, should_link_exist=False) def test_volume_list_default_filters(self): """"""Tests that the default filters from volume.api.API.get_all are set. 1. 'no_migration_status'=True for non-admins and get_all_by_project is invoked. 2. 'no_migration_status' is not included for admins. 3. When 'all_tenants' is not specified, then it is removed and get_all_by_project is invoked for admins. 3. When 'all_tenants' is specified, then it is removed and get_all is invoked for admins. """""" # Non-admin, project function should be called with no_migration_status def fake_volume_get_all_by_project(context, project_id, marker, limit, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=0): self.assertTrue(filters['no_migration_targets']) self.assertNotIn('all_tenants', filters) return [v2_fakes.create_fake_volume(fake.VOLUME_ID, display_name='vol1')] def fake_volume_get_all(context, marker, limit, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=0): return [] self.mock_object(db, 'volume_get_all_by_project', fake_volume_get_all_by_project) self.mock_object(db, 'volume_get_all', fake_volume_get_all) # all_tenants does not matter for non-admin for params in ['', '?all_tenants=1']: req = fakes.HTTPRequest.blank('/v3/volumes%s' % params) resp = self.controller.index(req) self.assertEqual(1, len(resp['volumes'])) self.assertEqual('vol1', resp['volumes'][0]['name']) # Admin, all_tenants is not set, project function should be called # without no_migration_status def fake_volume_get_all_by_project2(context, project_id, marker, limit, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=0): self.assertNotIn('no_migration_targets', filters) return [v2_fakes.create_fake_volume(fake.VOLUME_ID, display_name='vol2')] def fake_volume_get_all2(context, marker, limit, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=0): return [] self.mock_object(db, 'volume_get_all_by_project', fake_volume_get_all_by_project2) self.mock_object(db, 'volume_get_all', fake_volume_get_all2) req = fakes.HTTPRequest.blank('/v3/volumes', use_admin_context=True) resp = self.controller.index(req) self.assertEqual(1, len(resp['volumes'])) self.assertEqual('vol2', resp['volumes'][0]['name']) # Admin, all_tenants is set, get_all function should be called # without no_migration_status def fake_volume_get_all_by_project3(context, project_id, marker, limit, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=0): return [] def fake_volume_get_all3(context, marker, limit, sort_keys=None, sort_dirs=None, filters=None, viewable_admin_meta=False, offset=0): self.assertNotIn('no_migration_targets', filters) self.assertNotIn('all_tenants', filters) return [v2_fakes.create_fake_volume(fake.VOLUME3_ID, display_name='vol3')] self.mock_object(db, 'volume_get_all_by_project', fake_volume_get_all_by_project3) self.mock_object(db, 'volume_get_all', fake_volume_get_all3) req = fakes.HTTPRequest.blank('/v3/volumes?all_tenants=1', use_admin_context=True) resp = self.controller.index(req) self.assertEqual(1, len(resp['volumes'])) self.assertEqual('vol3', resp['volumes'][0]['name']) def test_volume_show(self): self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_api_get) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) res_dict = self.controller.show(req, fake.VOLUME_ID) expected = self._expected_vol_from_controller( availability_zone=v2_fakes.DEFAULT_AZ, metadata={'attached_mode': 'rw', 'readonly': 'False'}) self.assertEqual(expected, res_dict) # Finally test that we cached the returned volume self.assertIsNotNone(req.cached_resource_by_id(fake.VOLUME_ID)) def test_volume_show_no_attachments(self): def fake_volume_get(self, context, volume_id, **kwargs): vol = v2_fakes.create_fake_volume( volume_id, attach_status= fields.VolumeAttachStatus.DETACHED) return fake_volume.fake_volume_obj(context, **vol) def fake_volume_admin_metadata_get(context, volume_id, **kwargs): return v2_fakes.fake_volume_admin_metadata_get( context, volume_id, attach_status= fields.VolumeAttachStatus.DETACHED) self.mock_object(volume_api.API, 'get', fake_volume_get) self.mock_object(db, 'volume_admin_metadata_get', fake_volume_admin_metadata_get) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) res_dict = self.controller.show(req, fake.VOLUME_ID) expected = self._expected_vol_from_controller( availability_zone=v2_fakes.DEFAULT_AZ, metadata={'readonly': 'False'}) self.assertEqual(expected, res_dict) def test_volume_show_no_volume(self): self.mock_object(volume_api.API, ""get"", v2_fakes.fake_volume_get_notfound) req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertRaises(exception.VolumeNotFound, self.controller.show, req, 1) # Finally test that nothing was cached self.assertIsNone(req.cached_resource_by_id(fake.VOLUME_ID)) def test_volume_show_with_admin_metadata(self): volume = v2_fakes.create_fake_volume(fake.VOLUME_ID) del volume['name'] del volume['volume_type'] volume['metadata'] = {'key': 'value'} db.volume_create(context.get_admin_context(), volume) db.volume_admin_metadata_update(context.get_admin_context(), fake.VOLUME_ID, {""readonly"": ""True"", ""invisible_key"": ""invisible_value""}, False) values = {'volume_id': fake.VOLUME_ID, } attachment = db.volume_attach(context.get_admin_context(), values) db.volume_attached(context.get_admin_context(), attachment['id'], fake.INSTANCE_ID, None, '/') attach_tmp = db.volume_attachment_get(context.get_admin_context(), attachment['id']) volume_tmp = db.volume_get(context.get_admin_context(), fake.VOLUME_ID) req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) admin_ctx = context.RequestContext(fake.USER_ID, fake.PROJECT_ID, True) req.environ['cinder.context'] = admin_ctx res_dict = self.controller.show(req, fake.VOLUME_ID) expected = self._expected_vol_from_controller( availability_zone=v2_fakes.DEFAULT_AZ, volume_type=fake.VOLUME_TYPE_NAME, status='in-use', attachments=[{'id': fake.VOLUME_ID, 'attachment_id': attachment['id'], 'volume_id': v2_fakes.DEFAULT_VOL_ID, 'server_id': fake.INSTANCE_ID, 'host_name': None, 'device': '/', 'attached_at': attach_tmp['attach_time'].replace( tzinfo=iso8601.UTC), }], metadata={'key': 'value', 'readonly': 'True'}, with_migration_status=True) expected['volume']['updated_at'] = volume_tmp['updated_at'].replace( tzinfo=iso8601.UTC) self.assertEqual(expected, res_dict) def test_volume_show_with_encrypted_volume(self): def fake_volume_get(self, context, volume_id, **kwargs): vol = v2_fakes.create_fake_volume(volume_id, encryption_key_id=fake.KEY_ID) return fake_volume.fake_volume_obj(context, **vol) self.mock_object(volume_api.API, 'get', fake_volume_get) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) res_dict = self.controller.show(req, fake.VOLUME_ID) self.assertTrue(res_dict['volume']['encrypted']) def test_volume_show_with_unencrypted_volume(self): self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_api_get) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) res_dict = self.controller.show(req, fake.VOLUME_ID) self.assertEqual(False, res_dict['volume']['encrypted']) def test_volume_show_with_error_managing_deleting(self): def fake_volume_get(self, context, volume_id, **kwargs): vol = v2_fakes.create_fake_volume(volume_id, status='error_managing_deleting') return fake_volume.fake_volume_obj(context, **vol) self.mock_object(volume_api.API, 'get', fake_volume_get) self.mock_object(db.sqlalchemy.api, '_volume_type_get_full', v2_fakes.fake_volume_type_get) req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) res_dict = self.controller.show(req, fake.VOLUME_ID) self.assertEqual('deleting', res_dict['volume']['status']) @mock.patch.object(volume_api.API, 'delete', v2_fakes.fake_volume_delete) @mock.patch.object(volume_api.API, 'get', v2_fakes.fake_volume_get) def test_volume_delete(self): req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) resp = self.controller.delete(req, fake.VOLUME_ID) self.assertEqual(HTTPStatus.ACCEPTED, resp.status_int) def test_volume_delete_attached(self): def fake_volume_attached(self, context, volume, force=False, cascade=False): raise exception.VolumeAttached(volume_id=volume['id']) self.mock_object(volume_api.API, ""delete"", fake_volume_attached) self.mock_object(volume_api.API, 'get', v2_fakes.fake_volume_get) req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) exp = self.assertRaises(exception.VolumeAttached, self.controller.delete, req, 1) expect_msg = ""Volume 1 is still attached, detach volume first."" self.assertEqual(expect_msg, str(exp)) def test_volume_delete_no_volume(self): self.mock_object(volume_api.API, ""get"", v2_fakes.fake_volume_get_notfound) req = fakes.HTTPRequest.blank('/v3/volumes/%s' % fake.VOLUME_ID) self.assertRaises(exception.VolumeNotFound, self.controller.delete, req, 1) def test_admin_list_volumes_limited_to_project(self): self.mock_object(db, 'volume_get_all_by_project', v2_fakes.fake_volume_get_all_by_project) req = fakes.HTTPRequest.blank('/v3/%s/volumes' % fake.PROJECT_ID, use_admin_context=True) res = self.controller.index(req) self.assertIn('volumes', res) self.assertEqual(1, len(res['volumes'])) @mock.patch.object(db, 'volume_get_all', v2_fakes.fake_volume_get_all) @mock.patch.object(db, 'volume_get_all_by_project', v2_fakes.fake_volume_get_all_by_project) def test_admin_list_volumes_all_tenants(self): req = fakes.HTTPRequest.blank( '/v3/%s/volumes?all_tenants=1' % fake.PROJECT_ID, use_admin_context=True) res = self.controller.index(req) self.assertIn('volumes', res) self.assertEqual(3, len(res['volumes'])) @mock.patch.object(db, 'volume_get_all', v2_fakes.fake_volume_get_all) @mock.patch.object(db, 'volume_get_all_by_project', v2_fakes.fake_volume_get_all_by_project) @mock.patch.object(volume_api.API, 'get', v2_fakes.fake_volume_get) def test_all_tenants_non_admin_gets_all_tenants(self): req = fakes.HTTPRequest.blank( '/v3/%s/volumes?all_tenants=1' % fake.PROJECT_ID) res = self.controller.index(req) self.assertIn('volumes', res) self.assertEqual(1, len(res['volumes'])) @mock.patch.object(db, 'volume_get_all_by_project', v2_fakes.fake_volume_get_all_by_project) @mock.patch.object(volume_api.API, 'get', v2_fakes.fake_volume_get) def test_non_admin_get_by_project(self): req = fakes.HTTPRequest.blank('/v3/%s/volumes' % fake.PROJECT_ID) res = self.controller.index(req) self.assertIn('volumes', res) self.assertEqual(1, len(res['volumes'])) def _create_volume_bad_request(self, body): req = fakes.HTTPRequest.blank('/v3/%s/volumes' % fake.PROJECT_ID) req.method = 'POST' self.assertRaises(exception.ValidationError, self.controller.create, req, body=body) def test_create_no_body(self): self._create_volume_bad_request(body=None) def test_create_missing_volume(self): body = {'foo': {'a': 'b'}} self._create_volume_bad_request(body=body) def test_create_malformed_entity(self): body = {'volume': 'string'} self._create_volume_bad_request(body=body) def _test_get_volumes_by_name(self, get_all, display_name): qs = urllib.parse.urlencode({'name': display_name}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_keys=['created_at'], sort_dirs=['desc'], filters={'display_name': display_name}, viewable_admin_meta=True, offset=0) @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_string(self, get_all): """"""Test to get a volume with an alpha-numeric display name."""""" self._test_get_volumes_by_name(get_all, 'Volume-573108026') @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_double_quoted_string(self, get_all): """"""Test to get a volume with a double-quoted display name."""""" self._test_get_volumes_by_name(get_all, '""Volume-573108026""') @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_single_quoted_string(self, get_all): """"""Test to get a volume with a single-quoted display name."""""" self._test_get_volumes_by_name(get_all, ""'Volume-573108026'"") @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_quote_in_between_string(self, get_all): """"""Test to get a volume with a quote in between the display name."""""" self._test_get_volumes_by_name(get_all, 'Volu""me-573108026') @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_mixed_quoted_string(self, get_all): """"""Test to get a volume with a mix of single and double quotes. """""" # The display name starts with a single quote and ends with a # double quote self._test_get_volumes_by_name(get_all, '\'Volume-573108026""') @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_true(self, get_all): qs = urllib.parse.urlencode( {'name': 'Volume-573108026', 'bootable': 'true'} ) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_keys=['created_at'], sort_dirs=['desc'], filters={'display_name': 'Volume-573108026', 'bootable': True}, viewable_admin_meta=True, offset=0) @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_false(self, get_all): qs = urllib.parse.urlencode( {'name': 'Volume-573108026', 'bootable': 'false'} ) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_keys=['created_at'], sort_dirs=['desc'], filters={'display_name': 'Volume-573108026', 'bootable': False}, viewable_admin_meta=True, offset=0) @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_list(self, get_all): qs = urllib.parse.urlencode({ 'availability_zone': ""['az0', 'az1', 'az2']"", }) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_keys=['created_at'], sort_dirs=['desc'], filters={'availability_zone': ['az0', 'az1', 'az2']}, viewable_admin_meta=True, offset=0) @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_expression(self, get_all): qs = urllib.parse.urlencode({'name': ""d-""}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_keys=['created_at'], sort_dirs=['desc'], filters={'display_name': 'd-'}, viewable_admin_meta=True, offset=0) @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_status(self, get_all): qs = urllib.parse.urlencode({'status': 'available'}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_keys=['created_at'], sort_dirs=['desc'], filters={'status': 'available'}, viewable_admin_meta=True, offset=0) @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_metadata(self, get_all): qs = urllib.parse.urlencode({'metadata': ""{'fake_key': 'fake_value'}""}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_keys=['created_at'], sort_dirs=['desc'], filters={'metadata': {'fake_key': 'fake_value'}}, viewable_admin_meta=True, offset=0) @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_availability_zone(self, get_all): qs = urllib.parse.urlencode({'availability_zone': 'nova'}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_keys=['created_at'], sort_dirs=['desc'], filters={'availability_zone': 'nova'}, viewable_admin_meta=True, offset=0) @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_bootable(self, get_all): qs = urllib.parse.urlencode({'bootable': 'true'}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_keys=['created_at'], sort_dirs=['desc'], filters={'bootable': True}, viewable_admin_meta=True, offset=0) @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_filter_with_invalid_filter(self, get_all): qs = urllib.parse.urlencode( {'availability_zone': 'nova', 'invalid_filter': 'invalid'}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_keys=['created_at'], sort_dirs=['desc'], filters={'availability_zone': 'nova'}, viewable_admin_meta=True, offset=0) @mock.patch('cinder.volume.api.API.get_all') def test_get_volumes_sort_by_name(self, get_all): """"""Name in client means display_name in database."""""" qs = urllib.parse.urlencode({'sort': 'name'}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] self.controller._view_builder.detail_list = mock.Mock() self.controller._get_volumes(req, True) get_all.assert_called_once_with( ctxt, None, CONF.osapi_max_limit, sort_dirs=['desc'], viewable_admin_meta=True, sort_keys=['display_name'], filters={}, offset=0) def test_get_volume_filter_options_using_config(self): filter_list = [""name"", ""status"", ""metadata"", ""bootable"", ""migration_status"", ""availability_zone"", ""group_id""] # Clear the filters collection to make sure the filters collection # cache can be reloaded using tmp filter file. common._FILTERS_COLLECTION = None tmp_filter_file = self.tmp_path + '/resource_filters_tests.json' self.override_config('resource_query_filters_file', tmp_filter_file) with open(tmp_filter_file, 'w') as f: f.write(json.dumps({""volume"": filter_list})) self.assertEqual(filter_list, self.controller._get_volume_filter_options()) # Reset the CONF.resource_query_filters_file and clear the filters # collection to avoid leaking other cases, and it will be re-loaded # from CONF.resource_query_filters_file in next call. self._reset_filter_file() ",1682,1731
openstack%2Fopenstack-ansible-ops~916817,openstack/openstack-ansible-ops,master,I0e36d725d2ef1f9bc94c0ae0d8435054793b12f4,Clarifications to mcapi_vexxhost README,MERGED,2024-04-23 16:58:34.000000000,2024-05-23 02:27:35.000000000,2024-04-26 07:51:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25277}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-04-23 16:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7f883f176e3cfa7f41ee368f4ff8fb07b370bd02', 'message': 'Clarifications to mcapi_vexxhost README\n\nFix a few typos and omissions in README.rst and bring config\nexamples into line with config files used for functional tests.\n\nChange-Id: I0e36d725d2ef1f9bc94c0ae0d8435054793b12f4\n'}, {'number': 2, 'created': '2024-04-23 18:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/362f604d859e5df0a7df9b5cd8dfc599fffeb8ac', 'message': 'Clarifications to mcapi_vexxhost README\n\nFix a few typos and omissions in README.rst and bring config\nexamples into line with config files used for functional tests.\n\nChange-Id: I0e36d725d2ef1f9bc94c0ae0d8435054793b12f4\n'}, {'number': 3, 'created': '2024-04-23 18:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/074d7a72d1e60e256c0c7b9aa5d198d21a06bb86', 'message': 'Clarifications to mcapi_vexxhost README\n\nFix a few typos and omissions in README.rst and bring config\nexamples into line with config files used for functional tests.\n\nChange-Id: I0e36d725d2ef1f9bc94c0ae0d8435054793b12f4\n'}, {'number': 4, 'created': '2024-04-24 15:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ae7abe790d2d3524272b545548e1446079b219a0', 'message': 'Clarifications to mcapi_vexxhost README\n\nFix a few typos and omissions in README.rst and bring config\nexamples into line with config files used for functional tests.\n\nChange-Id: I0e36d725d2ef1f9bc94c0ae0d8435054793b12f4\n'}, {'number': 5, 'created': '2024-04-25 14:15:39.000000000', 'files': ['mcapi_vexxhost/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0a00005bc74e9c53078b6835270358e31a08f99a', 'message': 'Clarifications to mcapi_vexxhost README\n\nFix a few typos and omissions in README.rst.\n\nChange-Id: I0e36d725d2ef1f9bc94c0ae0d8435054793b12f4\n'}]",4,916817,0a00005bc74e9c53078b6835270358e31a08f99a,19,5,5,25666,,,0,"Clarifications to mcapi_vexxhost README

Fix a few typos and omissions in README.rst.

Change-Id: I0e36d725d2ef1f9bc94c0ae0d8435054793b12f4
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/17/916817/1 && git format-patch -1 --stdout FETCH_HEAD,['mcapi_vexxhost/doc/source/README.rst'],1,7f883f176e3cfa7f41ee368f4ff8fb07b370bd02,readme-corrections,"NOTE: The example configuration files shown below are suitable for use with an openstack-ansible All-In-One (AIO) build and can be found at openstack-ansible-ops/mcapi_vexxhost/playbooks/files/openstack_deploy/ The modules in the kubernetes collection require additional python modules to be present in the ansible-runtime python virtual environment. Specify these kubernetescluster in `/etc/openstack_deploy/openstack_user_config.yml`. This example is for an all-in-one deployment and shouldin `/etc/openstack_deploy/group_vars/k8s_all/haproxy_service.yml`be suitable for running nested containers in `/etc/openstack_deploy/group_vars/k8s_all/main.yml`Set up config-overrides for the magnum service in `/etc/openstack_deploy/user_variables_magnum.yml`. Set up config-overrides for the control plane k8s cluster in /etc/openstack_deploy/user_variables_k8s.yml` Attention must be given to the SSL configuration. Users and workload clusters will interact with the external endpoint and must trust the SSL certificate. The magnum service and cluster-api can be configured to interact with either the external or internal endpoint and must trust the SSL certificiate. Depending on the environment, these may be derived from different certificate authorities. .. code-block:: yaml # connect ansible group, host and network addresses into control plane k8s deployment kubernetes_control_plane_group: k8s_all kubelet_hostname: ""{{ ansible_facts['hostname'] }}"" kubelet_node_ip: ""{{ management_address }}"" kubernetes_hostname: ""{{ internal_lb_vip_address }}"" kubernetes_non_init_namespace: true Ensure that additional python modules required for ansible are present: .. code-block bash /opt/ansible-runtime/bin/pip install docker-image-py Run the magnum-cluster-api deployment:all-in-one deployment with no public network configured.","The modules in the kubernetes collection require an additional python module to be present in the ansible-runtime python virtual environment. Specify thiscluster, this example is for an all-in-one deployment and shouldin `/etc/openstack-deploy/group_vars/k8s_all/haproxy_service.yml`be suitable for running nested containers in `/etc/openstack-deploy/group_vars/k8s_all/main.yml`Set up config-overrides for the magnum service in `/etc/openstack-deploy/user_variables_magnum.yml`. Set up config-overrides for the control plane k8s cluster in /etc/openstack-deploy/user_variables_k8s.yml` Attention must be given to the SSL configuration. Users and workload clusters will interact with the external endpoint and must trust the SSL certificate. The magnum service and cluster-api can be configured to interact with either the external or internal endpoint and must trust the SSL certificiate. Depending on the environment, these may be derived from different certificate authorities. .. code-block:: yaml # connect ansible group, host and network addresses into control plane k8s deployment kubernetes_control_plane_group: k8s_all kubelet_hostname: ""{{ ansible_facts['hostname'] }}"" kubelet_node_ip: ""{{ management_address }}"" kubernetes_hostname: ""{{ internal_lb_vip_address }}"" kubernetes_non_init_namespace: true Run the magnum-cluster-api deploymentall-in-one deployment.",35,24
openstack%2Fswift~918694,openstack/swift,master,I6463b54daa51152b3166357c743c3d662204d4bf,cors: Add ability to allow requests with credentials,NEW,2024-05-08 18:58:29.000000000,2024-05-23 01:20:57.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-08 18:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/893f50c1681843ad51dfef908e27acab1fd53d2b', 'message': 'cors: Allow requests with credentials\n\nSome applications expect to be able to send credentials as part of a\ncross-origin request; browsers will block access to the response\nunless a `Access-Control-Allow-Credentials: true` header is included\nin the response.\n\nAlways allow such requests -- Swift does not use the credential\nmechanisms CORS is designed around anyway.\n\nChange-Id: I6463b54daa51152b3166357c743c3d662204d4bf\n'}, {'number': 2, 'created': '2024-05-15 18:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cfc32914a0e66426e773fb20e43fe4b737c2f7bc', 'message': 'cors: Add ability to allow requests with credentials\n\nSome applications expect to be able to send credentials as part of a\ncross-origin request; browsers will block access to the response\nunless a `Access-Control-Allow-Credentials: true` header is included\nin the response.\n\nSee https://fetch.spec.whatwg.org/#cors-protocol-and-credentials for\nmore information.\n\nLook for X-Container-Meta-Access-Control-Allow-Credentials on the\ncontainer to decide whether to allow such requests, similar to how\nother CORS behaviors may be configured.\n\nChange-Id: I6463b54daa51152b3166357c743c3d662204d4bf\n'}, {'number': 3, 'created': '2024-05-15 19:12:13.000000000', 'files': ['test/cors/harness.js', 'test/cors/test-object.js', 'doc/source/cors.rst', 'test/cors/main.py', 'test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/87c2dfb3dc45bc02b017bbe4a6d9623a285b2040', 'message': 'cors: Add ability to allow requests with credentials\n\nSome applications expect to be able to send credentials as part of a\ncross-origin request; browsers will block access to the response\nunless a `Access-Control-Allow-Credentials: true` header is included\nin the response.\n\nSee https://fetch.spec.whatwg.org/#cors-protocol-and-credentials for\nmore information.\n\nLook for X-Container-Meta-Access-Control-Allow-Credentials on the\ncontainer to decide whether to allow such requests, similar to how\nother CORS behaviors may be configured.\n\nChange-Id: I6463b54daa51152b3166357c743c3d662204d4bf\n'}]",16,918694,87c2dfb3dc45bc02b017bbe4a6d9623a285b2040,15,2,3,15343,,,0,"cors: Add ability to allow requests with credentials

Some applications expect to be able to send credentials as part of a
cross-origin request; browsers will block access to the response
unless a `Access-Control-Allow-Credentials: true` header is included
in the response.

See https://fetch.spec.whatwg.org/#cors-protocol-and-credentials for
more information.

Look for X-Container-Meta-Access-Control-Allow-Credentials on the
container to decide whether to allow such requests, similar to how
other CORS behaviors may be configured.

Change-Id: I6463b54daa51152b3166357c743c3d662204d4bf
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/918694/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/cors/harness.js', 'test/cors/test-object.js', 'test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/base.py']",4,893f50c1681843ad51dfef908e27acab1fd53d2b,cors-credentials, if resp.headers['Access-Control-Allow-Origin'] != '*' and \ 'Access-Control-Allow-Credentials' not in resp.headers: resp.headers['Access-Control-Allow-Credentials'] = 'true' headers['access-control-allow-credentials'] = 'true',,43,1
openstack%2Fdevstack-plugin-ceph~917082,openstack/devstack-plugin-ceph,stable/2023.2,I84249ae268dfe00a112c67e5170b679acb318a25,Remote Ceph with cephadm,MERGED,2024-04-25 19:31:13.000000000,2024-05-23 00:52:09.000000000,2024-05-23 00:50:20.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2024-04-25 19:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/b480c5b5253f9eedcef0bc8f61e2be3a23d53a13', 'message': 'Remote Ceph with cephadm\n\nAdd podman ceph-common and jq as part of preinstall dependency.\nAdd REMOTE_CEPH capabilities to CEPHADM deployment.\nRemoved set_min_client only if cinder is enabled, this should be set\nin any case.\nGet FSID from ceph.conf in /etc/ceph to avoid unnecessary override.\n\nPart of an effort to test multinode deployments with cephadm.\n\nNeeded-By: I5162815b66d3f3e8cf8c1e246b61b0ea06c1a270\nChange-Id: I84249ae268dfe00a112c67e5170b679acb318a25\n(cherry picked from commit b663a9fb838ae6632a3b7e30ee3b4a36a88454f5)\n'}, {'number': 2, 'created': '2024-04-26 18:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/52eb28df0c93eca2eae685f8b87d362a7dbcf7ac', 'message': 'Remote Ceph with cephadm\n\nAdd podman ceph-common and jq as part of preinstall dependency.\nAdd REMOTE_CEPH capabilities to CEPHADM deployment.\nRemoved set_min_client only if cinder is enabled, this should be set\nin any case.\nGet FSID from ceph.conf in /etc/ceph to avoid unnecessary override.\n\nPart of an effort to test multinode deployments with cephadm.\n\nNeeded-By: I5162815b66d3f3e8cf8c1e246b61b0ea06c1a270\nChange-Id: I84249ae268dfe00a112c67e5170b679acb318a25\n(cherry picked from commit b663a9fb838ae6632a3b7e30ee3b4a36a88454f5)\n'}, {'number': 3, 'created': '2024-04-26 20:49:40.000000000', 'files': ['devstack/files/debs/devstack-plugin-ceph', 'devstack/override-defaults', '.zuul.yaml', 'devstack/plugin.sh', 'devstack/files/rpms/devstack-plugin-ceph', 'devstack/lib/cephadm'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ef0ade5d6accd1c37c295bd685c1f87e28276a7f', 'message': 'Remote Ceph with cephadm\n\nAdd podman ceph-common and jq as part of preinstall dependency.\nAdd REMOTE_CEPH capabilities to CEPHADM deployment.\nRemoved set_min_client only if cinder is enabled, this should be set\nin any case.\nGet FSID from ceph.conf in /etc/ceph to avoid unnecessary override.\n\nPart of an effort to test multinode deployments with cephadm.\n\nNeeded-By: I5162815b66d3f3e8cf8c1e246b61b0ea06c1a270\nChange-Id: I84249ae268dfe00a112c67e5170b679acb318a25\n(cherry picked from commit b663a9fb838ae6632a3b7e30ee3b4a36a88454f5)\n'}]",1,917082,ef0ade5d6accd1c37c295bd685c1f87e28276a7f,11,3,3,32594,,,0,"Remote Ceph with cephadm

Add podman ceph-common and jq as part of preinstall dependency.
Add REMOTE_CEPH capabilities to CEPHADM deployment.
Removed set_min_client only if cinder is enabled, this should be set
in any case.
Get FSID from ceph.conf in /etc/ceph to avoid unnecessary override.

Part of an effort to test multinode deployments with cephadm.

Needed-By: I5162815b66d3f3e8cf8c1e246b61b0ea06c1a270
Change-Id: I84249ae268dfe00a112c67e5170b679acb318a25
(cherry picked from commit b663a9fb838ae6632a3b7e30ee3b4a36a88454f5)
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/82/917082/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/debs/devstack-plugin-ceph', 'devstack/override-defaults', '.zuul.yaml', 'devstack/plugin.sh', 'devstack/files/rpms/devstack-plugin-ceph', 'devstack/lib/cephadm']",6,b480c5b5253f9eedcef0bc8f61e2be3a23d53a13,remote_ceph_bobcat,"if [[ ""$REMOTE_CEPH"" = ""False"" ]]; then FSID=$(uuidgen) else FSID=$(cat $CEPH_CONFIG | grep fsid | awk 'BEGIN { RS = ""fsid = ""} ; { print $0 }' - ) fi if [[ ""$REMOTE_CEPH"" == ""False"" ]]; then install_package python3-cephfs python3-prettytable python3-rados python3-rbd python3-requests fi curl -O https://raw.githubusercontent.com/ceph/ceph/""$CEPH_RELEASE""/src/cephadm/cephadm $SUDO ""$CEPHADM"" --image ""$CONTAINER_IMAGE"" \ $SUDO ""$CEPHADM"" shell ceph orch apply osd --all-available-devices num_osds=$($SUDO ""$CEPHADM"" shell --fsid $FSID --config $CEPH_CONFIG \ if [[ ""$REMOTE_CEPH"" = ""False"" ]]; then add_pools create_keys fi if [[ ""$REMOTE_CEPH"" == ""True"" ]]; then echo ""Remote Ceph cluster, skipping stop_ceph and delete_osd_dev"" else stop_ceph delete_osd_dev fi","FSID=$(uuidgen)# Pre-install ceph: install podman function _install_podman { # FIXME(vkmc) Check required for Ubuntu 20.04 LTS (current CI node) # Remove when our CI is pushed to the next LTS version if ! command -v podman &> /dev/null; then if [[ $os_CODENAME =~ (focal) ]]; then echo ""deb https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_20.04/ /"" \ | sudo tee /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list curl -L ""https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_20.04/Release.key"" \ | sudo apt-key add - sudo apt-get update sudo apt-get -y upgrade fi install_package podman fi } install_package jq ceph-common _install_podman install_package python3-cephfs python3-prettytable python3-rados python3-rbd python3-requests # NOTE(gouthamr): cephadm binary here is a python executable, and the # $os_PACKAGE (""rpm"") or $os_release (el9) doesn't really matter. There is # no ubuntu/debian equivalent being published by the ceph community. curl -O https://download.ceph.com/rpm-${CEPH_RELEASE}/el9/noarch/cephadm $SUDO $CEPHADM --image ""$CONTAINER_IMAGE"" \ $SUDO $CEPHADM shell ceph orch apply osd --all-available-devices num_osds=$($SUDO $CEPHADM shell --fsid $FSID --config $CEPH_CONFIG \ set_min_client_version add_pools create_keys stop_ceph delete_osd_dev",45,54
openstack%2Fcinder~916055,openstack/cinder,master,I3a60cb5951b072d2c184fe1bc6dbc765cd46642a,swift backup driver: Ignore 404 during object deletion,MERGED,2024-04-17 10:44:14.000000000,2024-05-23 00:40:51.000000000,2024-05-21 05:20:38.000000000,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-17 10:44:14.000000000', 'files': ['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/backup/drivers/swift.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a34ded4873219326841f30c87456707df1a9ab75', 'message': 'swift backup driver: Ignore 404 during object deletion\n\nSwift may return 404 to object deletion even though the object is (or\nwill be) actually removed, and 404 can be treated as success.\n\nCloses-Bug: #2061988\nChange-Id: I3a60cb5951b072d2c184fe1bc6dbc765cd46642a\n'}]",7,916055,a34ded4873219326841f30c87456707df1a9ab75,71,3,1,9816,,,0,"swift backup driver: Ignore 404 during object deletion

Swift may return 404 to object deletion even though the object is (or
will be) actually removed, and 404 can be treated as success.

Closes-Bug: #2061988
Change-Id: I3a60cb5951b072d2c184fe1bc6dbc765cd46642a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/916055/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/fake_swift_client.py', 'cinder/backup/drivers/swift.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",3,a34ded4873219326841f30c87456707df1a9ab75,bug/2061988," def test_delete_not_found(self): volume_id = '9ab256c8-3175-4ad8-baa1-0000007f9d31' container_name = 'not_found_on_delete' object_prefix = 'test_prefix' self._create_backup_db_entry(volume_id=volume_id, container=container_name, service_metadata=object_prefix) service = swift_dr.SwiftBackupDriver(self.ctxt) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.delete_backup(backup) ",,18,0
openstack%2Fmanila~919213,openstack/manila,master,Ie276d9c984586ad5b90581e46796d390f748ce1f,[api-ref] fix resource lock api reference,NEW,2024-05-10 19:24:26.000000000,2024-05-23 00:17:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 30407}, {'_account_id': 33728}]","[{'number': 1, 'created': '2024-05-10 19:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/30fc954cf8f3c0709c1d8394db7b617c8ef2ca19', 'message': '[api-ref] fix note regarding lock resource_action\n\n""delete"" was the only lock action supported when\nwe introduced the API; but we now support ""show""\nas well for the access rules resource.\n\nChange-Id: Ie276d9c984586ad5b90581e46796d390f748ce1f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2024-05-13 20:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d00b64a3206f3eb9d0032b430e1021ab3fd6878f', 'message': '[api-ref] fix resource lock api reference\n\n""delete"" was the only lock action supported when\nwe introduced the API; but we now support ""show""\nas well for the access rules resource.\n\nAlso fix an incorrect parameter in the PUT /resource-locks\nmethod.\n\nChange-Id: Ie276d9c984586ad5b90581e46796d390f748ce1f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2024-05-22 22:44:06.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/resource-locks.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/2819ba099debc46a32184fdefa0f1a7ef5677d4e', 'message': '[api-ref] fix resource lock api reference\n\n""delete"" was the only lock action supported when\nwe introduced the API; but we now support ""show""\nas well for the access rules resource.\n\nAlso fix an incorrect parameter in the PUT /resource-locks\nmethod.\n\nChange-Id: Ie276d9c984586ad5b90581e46796d390f748ce1f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",5,919213,2819ba099debc46a32184fdefa0f1a7ef5677d4e,21,3,3,16643,,,0,"[api-ref] fix resource lock api reference

""delete"" was the only lock action supported when
we introduced the API; but we now support ""show""
as well for the access rules resource.

Also fix an incorrect parameter in the PUT /resource-locks
method.

Change-Id: Ie276d9c984586ad5b90581e46796d390f748ce1f
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/13/919213/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,30fc954cf8f3c0709c1d8394db7b617c8ef2ca19,bp/allow-locking-shares-against-deletion, all API actions. all API actions.," all API actions. Currently support only exists for ``delete``, and for specific resources. all API actions. Currently support only exists for ``delete``, and for specific resources.",2,4
openstack%2Fironic-python-agent~920226,openstack/ironic-python-agent,stable/2023.2,Iebc5b6d2440bfc9f23daa322493379bbe69e84d0,Call evaluate_hardware_support exactly once per hwm,MERGED,2024-05-22 20:22:32.000000000,2024-05-23 00:08:26.000000000,2024-05-23 00:07:27.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-22 20:22:32.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_service.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b066a2156377d2991a27bb84193652b1b838147e', 'message': 'Call evaluate_hardware_support exactly once per hwm\n\nFixes an issue where we could call evaluate_hardware_support multiple\ntimes each run. Now, instead, we cache the values and use the cache\nwhere needed.\n\nAdds unit test coverage for get_managers and the new method.\nFixes issue where we were caching hardware managers between unit tests.\n\nCloses-bug: 2066308\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n(cherry picked from commit c39517b04479df1aeaf96402840238236870fa74)\n'}]",1,920226,b066a2156377d2991a27bb84193652b1b838147e,9,2,1,10342,,,0,"Call evaluate_hardware_support exactly once per hwm

Fixes an issue where we could call evaluate_hardware_support multiple
times each run. Now, instead, we cache the values and use the cache
where needed.

Adds unit test coverage for get_managers and the new method.
Fixes issue where we were caching hardware managers between unit tests.

Closes-bug: 2066308
Change-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0
(cherry picked from commit c39517b04479df1aeaf96402840238236870fa74)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/26/920226/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_service.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml']",7,b066a2156377d2991a27bb84193652b1b838147e,,"--- fixes: - | Fixes bug 2066308, an issue where Ironic Python Agent would call evaluate_hardware_support multiple times on hardware manager plugins. Scanning for hardware and disks is time consuming, and caused timeouts on badly-performing nodes. ",,148,58
openstack%2Fironic-python-agent~920218,openstack/ironic-python-agent,unmaintained/yoga,Iebc5b6d2440bfc9f23daa322493379bbe69e84d0,Call evaluate_hardware_support exactly once per hwm,NEW,2024-05-22 21:56:31.000000000,2024-05-22 23:40:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-22 21:56:31.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0186f8edb57edcadef746e20f1d40a66939a1b95', 'message': 'Call evaluate_hardware_support exactly once per hwm\n\nFixes an issue where we could call evaluate_hardware_support multiple\ntimes each run. Now, instead, we cache the values and use the cache\nwhere needed.\n\nAdds unit test coverage for get_managers and the new method.\nFixes issue where we were caching hardware managers between unit tests.\n\nFor stable/2023.1: rebased out changes to no-longer-existant\ntest_service.py\n\nCloses-bug: 2066308\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n(cherry picked from commit c39517b04479df1aeaf96402840238236870fa74)\n(cherry picked from commit b066a2156377d2991a27bb84193652b1b838147e)\n(cherry picked from commit 38ffd5ba183271f3e5073487204e3b2fad8844d7)\n(cherry picked from commit 75d55fcaa24c7a9cf8df6d8255e93572e6469102)\n'}]",0,920218,0186f8edb57edcadef746e20f1d40a66939a1b95,2,1,1,10342,,,0,"Call evaluate_hardware_support exactly once per hwm

Fixes an issue where we could call evaluate_hardware_support multiple
times each run. Now, instead, we cache the values and use the cache
where needed.

Adds unit test coverage for get_managers and the new method.
Fixes issue where we were caching hardware managers between unit tests.

For stable/2023.1: rebased out changes to no-longer-existant
test_service.py

Closes-bug: 2066308
Change-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0
(cherry picked from commit c39517b04479df1aeaf96402840238236870fa74)
(cherry picked from commit b066a2156377d2991a27bb84193652b1b838147e)
(cherry picked from commit 38ffd5ba183271f3e5073487204e3b2fad8844d7)
(cherry picked from commit 75d55fcaa24c7a9cf8df6d8255e93572e6469102)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/18/920218/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml']",6,0186f8edb57edcadef746e20f1d40a66939a1b95,,"--- fixes: - | Fixes bug 2066308, an issue where Ironic Python Agent would call evaluate_hardware_support multiple times on hardware manager plugins. Scanning for hardware and disks is time consuming, and caused timeouts on badly-performing nodes. ",,135,51
openstack%2Fironic-python-agent~920217,openstack/ironic-python-agent,unmaintained/zed,Iebc5b6d2440bfc9f23daa322493379bbe69e84d0,Call evaluate_hardware_support exactly once per hwm,NEW,2024-05-22 21:56:05.000000000,2024-05-22 23:36:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-22 21:56:05.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/75d55fcaa24c7a9cf8df6d8255e93572e6469102', 'message': 'Call evaluate_hardware_support exactly once per hwm\n\nFixes an issue where we could call evaluate_hardware_support multiple\ntimes each run. Now, instead, we cache the values and use the cache\nwhere needed.\n\nAdds unit test coverage for get_managers and the new method.\nFixes issue where we were caching hardware managers between unit tests.\n\nFor stable/2023.1: rebased out changes to no-longer-existant\ntest_service.py\n\nCloses-bug: 2066308\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n(cherry picked from commit c39517b04479df1aeaf96402840238236870fa74)\n(cherry picked from commit b066a2156377d2991a27bb84193652b1b838147e)\n(cherry picked from commit 38ffd5ba183271f3e5073487204e3b2fad8844d7)\n'}]",0,920217,75d55fcaa24c7a9cf8df6d8255e93572e6469102,3,1,1,10342,,,0,"Call evaluate_hardware_support exactly once per hwm

Fixes an issue where we could call evaluate_hardware_support multiple
times each run. Now, instead, we cache the values and use the cache
where needed.

Adds unit test coverage for get_managers and the new method.
Fixes issue where we were caching hardware managers between unit tests.

For stable/2023.1: rebased out changes to no-longer-existant
test_service.py

Closes-bug: 2066308
Change-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0
(cherry picked from commit c39517b04479df1aeaf96402840238236870fa74)
(cherry picked from commit b066a2156377d2991a27bb84193652b1b838147e)
(cherry picked from commit 38ffd5ba183271f3e5073487204e3b2fad8844d7)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/17/920217/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml']",6,75d55fcaa24c7a9cf8df6d8255e93572e6469102,,"--- fixes: - | Fixes bug 2066308, an issue where Ironic Python Agent would call evaluate_hardware_support multiple times on hardware manager plugins. Scanning for hardware and disks is time consuming, and caused timeouts on badly-performing nodes. ",,135,51
openstack%2Fneutron~919915,openstack/neutron,master,I0d04c3a1dae86a2b6b4ba70c0e9595b2527b4f71,Bump port revision if binding_levels changed,MERGED,2024-05-17 03:50:23.000000000,2024-05-22 23:34:56.000000000,2024-05-22 23:33:39.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 03:50:23.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/80577381d9819d0d5be7d89978139ca1b0dc6977', 'message': 'Bump port revision if binding_levels changed\n\nRelated-Bug: #2065577\nChange-Id: I0d04c3a1dae86a2b6b4ba70c0e9595b2527b4f71\n'}]",0,919915,80577381d9819d0d5be7d89978139ca1b0dc6977,10,4,1,9531,,,0,"Bump port revision if binding_levels changed

Related-Bug: #2065577
Change-Id: I0d04c3a1dae86a2b6b4ba70c0e9595b2527b4f71
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/919915/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,80577381d9819d0d5be7d89978139ca1b0dc6977,bug/2065577, port_db.bump_revision(),,1,0
openstack%2Fneutron~920103,openstack/neutron,master,I0dfa21a927067afb532d7632f7e05427623327f5,tests: Use `del_fake_chassis` when deleting a chassis,MERGED,2024-05-21 14:38:39.000000000,2024-05-22 22:21:10.000000000,2024-05-22 22:19:40.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 14:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d97c64ca2d1fa825144677c8d0dccec52a1d2b53', 'message': 'tests: Use `del_fake_chassis` when deleting a chassis\n\nThis will guarantee that regardless of ovsdbapp version, Chassis_Private\nwill be deleted. This allows us to wait for a single event (DELETE) and\ntest the same behavior for all ovsdbapp versions. (Behavior of agent\nlisting when both Chassis and Chassis_Private records are deleted from\novn db.)\n\nChange-Id: I0dfa21a927067afb532d7632f7e05427623327f5\n'}, {'number': 2, 'created': '2024-05-22 05:40:01.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/60167cbb6eafc84d5af6d486c2bd0e542c27ed29', 'message': 'tests: Use `del_fake_chassis` when deleting a chassis\n\nThis will guarantee that regardless of ovsdbapp version, Chassis_Private\nwill be deleted. This allows us to wait for a single event (DELETE) and\ntest the same behavior for all ovsdbapp versions. (Behavior of agent\nlisting when both Chassis and Chassis_Private records are deleted from\novn db.)\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/920062\nChange-Id: I0dfa21a927067afb532d7632f7e05427623327f5\n'}]",0,920103,60167cbb6eafc84d5af6d486c2bd0e542c27ed29,12,4,2,9656,,,0,"tests: Use `del_fake_chassis` when deleting a chassis

This will guarantee that regardless of ovsdbapp version, Chassis_Private
will be deleted. This allows us to wait for a single event (DELETE) and
test the same behavior for all ovsdbapp versions. (Behavior of agent
listing when both Chassis and Chassis_Private records are deleted from
ovn db.)

Depends-On: https://review.opendev.org/c/openstack/requirements/+/920062
Change-Id: I0dfa21a927067afb532d7632f7e05427623327f5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/920103/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'],1,d97c64ca2d1fa825144677c8d0dccec52a1d2b53,bug/2066263," events=(event.RowEvent.ROW_DELETE,)) self.del_fake_chassis(self.chassis)"," events=(event.RowEvent.ROW_UPDATE, event.RowEvent.ROW_DELETE,)) self.sb_api.chassis_del(self.chassis).execute(check_error=True)",2,3
openstack%2Fpython-keystoneclient~920209,openstack/python-keystoneclient,master,I2aad97620c98f298c545db06361aff610d3ef366,(WIP) Fix and test for missing arguments when granting roles,ABANDONED,2024-05-22 19:36:47.000000000,2024-05-22 22:07:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-22 19:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/574efcd889175a5ad6dbb67ed205ed03d5ed2bd0', 'message': '(WIP) Fix and test for missing arguments when granting roles\n\nChange-Id: I2aad97620c98f298c545db06361aff610d3ef366\n'}, {'number': 2, 'created': '2024-05-22 20:14:38.000000000', 'files': ['keystoneclient/tests/unit/v3/test_roles.py', 'keystoneclient/tests/functional/v3/test_roles.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/bfe58b9f5fd1985b771e526f740d2ab42b992404', 'message': '(WIP) Fix and test for missing arguments when granting roles\n\nChange-Id: I2aad97620c98f298c545db06361aff610d3ef366\n'}]",6,920209,bfe58b9f5fd1985b771e526f740d2ab42b992404,5,1,2,36482,,,0,"(WIP) Fix and test for missing arguments when granting roles

Change-Id: I2aad97620c98f298c545db06361aff610d3ef366
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/09/920209/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/unit/v3/test_roles.py', 'keystoneclient/tests/functional/v3/test_roles.py']",2,574efcd889175a5ad6dbb67ed205ed03d5ed2bd0,role-commands/mutually-exclusive-groups," # Grant role to nothing in particular. # Domain or project and user or group must be specified. self.assertRaisesRegex(exceptions.ValidationError, ""Must specify either system, domain, or project"", self.client.roles.grant, role.id) user = fixtures.User(self.client, self.project_domain_id) self.useFixture(user) # Only grant role to a user on a resource. self.assertRaisesRegex(exceptions.ValidationError, ""Must specify either system, domain, or project"", self.client.roles.grant, role.id, user=user.id) self.assertRaisesRegex(exceptions.ValidationError, ""Must specify either system, domain, or project"", self.client.roles.grant, role.id, group=group.id) project = fixtures.Project(self.client, self.project_domain_id) self.useFixture(project) # Only grant role to a project on a resource. # User or group must be specified. self.assertRaisesRegex(exceptions.ValidationError, ""Must specify either a user or group"", self.client.roles.grant, role.id, project=project.id) domain = fixtures.Domain(self.client, domain_id=self.project_domain_id) self.useFixture(domain) # Only grant role to a project on a resource. # User or group must be specified. self.assertRaisesRegex(exceptions.ValidationError, ""Must specify either a user or group"", self.client.roles.grant, role.id, domain=domain.id)"," user = fixtures.User(self.client, self.project_domain_id) self.useFixture(user) # Only grant role to a group on a resource. self.assertRaises(exceptions.ValidationError, self.client.roles.grant, role.id, user=user.id) self.assertRaises(exceptions.ValidationError, self.client.roles.grant, role.id, group=group.id)",134,20
openstack%2Fcinder~916436,openstack/cinder,master,I4b1299b03dabaf189fefcfecb0d3d70c5bd8db2a,"api: Merge v2, v3 volume metadata controller",NEW,2024-04-19 14:51:42.000000000,2024-05-22 22:00:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-19 14:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c10bc8dd71dd24e797cbc9c9e6d04cb7324a7580', 'message': 'api: Merge v2, v3 volume metadata controller\n\nThe former is no longer used independently. Merge it with the latter.\n\nChange-Id: I4b1299b03dabaf189fefcfecb0d3d70c5bd8db2a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-04-23 12:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85444e3274a75e0d73e0154511f3df1876402db6', 'message': 'api: Merge v2, v3 volume metadata controller\n\nThe former is no longer used independently. Merge it with the latter.\n\nChange-Id: I4b1299b03dabaf189fefcfecb0d3d70c5bd8db2a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-05-13 14:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65f2f706647fd0379c9acdc149d81ca11c515d45', 'message': 'api: Merge v2, v3 volume metadata controller\n\nThe former is no longer used independently. Merge it with the latter.\n\nChange-Id: I4b1299b03dabaf189fefcfecb0d3d70c5bd8db2a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2024-05-20 10:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/771f9478c21e2d3b0d5de192274b2bd1c5410cf6', 'message': 'api: Merge v2, v3 volume metadata controller\n\nThe former is no longer used independently. Merge it with the latter.\n\nChange-Id: I4b1299b03dabaf189fefcfecb0d3d70c5bd8db2a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2024-05-20 10:07:27.000000000', 'files': ['cinder/api/v3/volume_metadata.py', 'cinder/api/v2/volume_metadata.py', 'cinder/tests/unit/api/v3/test_volume_metadata.py', 'cinder/tests/unit/api/v2/test_volume_metadata.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/31e0006d87402b5aa4acdbe4462f7cb693b1260e', 'message': 'api: Merge v2, v3 volume metadata controller\n\nThe former is no longer used independently. Merge it with the latter.\n\nChange-Id: I4b1299b03dabaf189fefcfecb0d3d70c5bd8db2a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,916436,31e0006d87402b5aa4acdbe4462f7cb693b1260e,57,1,5,15334,,,0,"api: Merge v2, v3 volume metadata controller

The former is no longer used independently. Merge it with the latter.

Change-Id: I4b1299b03dabaf189fefcfecb0d3d70c5bd8db2a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/916436/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/volume_metadata.py', 'cinder/api/v2/volume_metadata.py', 'cinder/tests/unit/api/v3/test_volume_metadata.py', 'cinder/tests/unit/api/v2/test_volume_metadata.py']",4,c10bc8dd71dd24e797cbc9c9e6d04cb7324a7580,openapi,,"# Copyright 2013 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from http import HTTPStatus from unittest import mock from oslo_config import cfg from oslo_serialization import jsonutils import webob from cinder.api import extensions from cinder.api.v2 import volume_metadata from cinder.api.v2 import volumes from cinder import db from cinder import exception from cinder import objects from cinder.tests.unit.api import fakes from cinder.tests.unit.api.v2 import fakes as v2_fakes from cinder.tests.unit import fake_constants as fake from cinder.tests.unit import fake_volume from cinder.tests.unit import test from cinder import volume from cinder.volume import api as volume_api CONF = cfg.CONF def return_create_volume_metadata(context, volume_id, metadata, delete, meta_type): return fake_volume_metadata() def return_new_volume_metadata(context, volume_id, metadata, delete, meta_type): return fake_new_volume_metadata() def return_create_volume_metadata_insensitive(context, snapshot_id, metadata, delete, meta_type): return fake_volume_metadata_insensitive() def return_volume_metadata(context, volume_id): return fake_volume_metadata() def fake_volume_metadata(): metadata = { ""key1"": ""value1"", ""key2"": ""value2"", ""key3"": ""value3"", } return metadata def fake_new_volume_metadata(): metadata = { 'key10': 'value10', 'key99': 'value99', 'KEY20': 'value20', } return metadata def fake_volume_metadata_insensitive(): metadata = { ""key1"": ""value1"", ""key2"": ""value2"", ""key3"": ""value3"", ""KEY4"": ""value4"", } return metadata def get_volume(*args, **kwargs): vol = {'name': 'fake', 'metadata': {}, 'project_id': fake.PROJECT_ID } return fake_volume.fake_volume_obj(args[0], **vol) def return_volume_nonexistent(*args, **kwargs): raise exception.VolumeNotFound('bogus test message') class VolumeMetaDataTest(test.TestCase): def setUp(self): super(VolumeMetaDataTest, self).setUp() self.volume_api = volume_api.API() self.mock_object(volume.api.API, 'get', get_volume) self.mock_object(db, 'volume_metadata_get', return_volume_metadata) self.mock_object(db, 'service_get_all', return_value=v2_fakes.fake_service_get_all_by_topic( None, None), autospec=True) self.mock_object(self.volume_api, 'update_volume_metadata') self.ext_mgr = extensions.ExtensionManager() self.ext_mgr.extensions = {} self.volume_controller = volumes.VolumeController(self.ext_mgr) self.controller = volume_metadata.Controller() self.req_id = fake.REQUEST_ID self.url = '/v2/%s/volumes/%s/metadata' % ( fake.PROJECT_ID, self.req_id) vol = {""size"": 100, ""display_name"": ""Volume Test Name"", ""display_description"": ""Volume Test Desc"", ""availability_zone"": ""zone1:host1"", ""metadata"": {}, ""volume_type"": self.vt['id']} body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v2/%s/volumes' % fake.PROJECT_ID) self.volume_controller.create(req, body=body) def test_index(self): req = fakes.HTTPRequest.blank(self.url) res_dict = self.controller.index(req, self.req_id) expected = { 'metadata': { 'key1': 'value1', 'key2': 'value2', 'key3': 'value3', }, } self.assertEqual(expected, res_dict) def test_index_nonexistent_volume(self): self.mock_object(db, 'volume_metadata_get', return_volume_nonexistent) req = fakes.HTTPRequest.blank(self.url) self.assertRaises(exception.VolumeNotFound, self.controller.index, req, self.url) def test_index_no_data(self): self.mock_object(db, 'volume_metadata_get', return_value={}) req = fakes.HTTPRequest.blank(self.url) res_dict = self.controller.index(req, self.req_id) expected = {'metadata': {}} self.assertEqual(expected, res_dict) def test_show(self): req = fakes.HTTPRequest.blank(self.url + '/key2') res_dict = self.controller.show(req, self.req_id, 'key2') expected = {'meta': {'key2': 'value2'}} self.assertEqual(expected, res_dict) def test_show_nonexistent_volume(self): self.mock_object(db, 'volume_metadata_get', return_volume_nonexistent) req = fakes.HTTPRequest.blank(self.url + '/key2') self.assertRaises(exception.VolumeNotFound, self.controller.show, req, self.req_id, 'key2') def test_show_meta_not_found(self): self.mock_object(db, 'volume_metadata_get', return_value={}) req = fakes.HTTPRequest.blank(self.url + '/key6') self.assertRaises(exception.VolumeMetadataNotFound, self.controller.show, req, self.req_id, 'key6') @mock.patch.object(db, 'volume_metadata_delete') @mock.patch.object(db, 'volume_metadata_get') def test_delete(self, metadata_get, metadata_delete): fake_volume = objects.Volume(id=self.req_id, status='available') fake_context = mock.Mock() metadata_get.side_effect = return_volume_metadata req = fakes.HTTPRequest.blank(self.url + '/key2') req.method = 'DELETE' req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume res = self.controller.delete(req, self.req_id, 'key2') self.assertEqual(HTTPStatus.OK, res.status_int) get_volume.assert_called_once_with(fake_context, self.req_id) @mock.patch.object(db, 'volume_metadata_delete') @mock.patch.object(db, 'volume_metadata_get') def test_delete_volume_maintenance(self, metadata_get, metadata_delete): fake_volume = objects.Volume(id=self.req_id, status='maintenance') fake_context = mock.Mock() metadata_get.side_effect = return_volume_metadata req = fakes.HTTPRequest.blank(self.url + '/key2') req.method = 'DELETE' req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.InvalidVolume, self.controller.delete, req, self.req_id, 'key2') get_volume.assert_called_once_with(fake_context, self.req_id) @mock.patch.object(db, 'volume_metadata_delete') @mock.patch.object(db, 'volume_metadata_get') def test_delete_nonexistent_volume(self, metadata_get, metadata_delete): fake_volume = objects.Volume(id=self.req_id, status='available') fake_context = mock.Mock() metadata_get.side_effect = return_volume_metadata metadata_delete.side_effect = return_volume_nonexistent req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'DELETE' req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.VolumeNotFound, self.controller.delete, req, self.req_id, 'key1') get_volume.assert_called_once_with(fake_context, self.req_id) def test_delete_meta_not_found(self): self.mock_object(db, 'volume_metadata_get', return_value={}) req = fakes.HTTPRequest.blank(self.url + '/key6') req.method = 'DELETE' self.assertRaises(exception.VolumeMetadataNotFound, self.controller.delete, req, self.req_id, 'key6') @mock.patch.object(db, 'volume_metadata_update') @mock.patch.object(db, 'volume_metadata_get') def test_create(self, metadata_get, metadata_update): fake_volume = {'id': self.req_id, 'status': 'available'} fake_context = mock.Mock() metadata_get.return_value = {} metadata_update.side_effect = return_create_volume_metadata req = fakes.HTTPRequest.blank('/v2/volume_metadata') req.method = 'POST' req.content_type = ""application/json"" body = {""metadata"": {""key1"": ""value1"", ""key2"": ""value2"", ""key3"": ""value3"", }} req.body = jsonutils.dump_as_bytes(body) req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume res_dict = self.controller.create(req, self.req_id, body=body) self.assertEqual(body, res_dict) @mock.patch.object(db, 'volume_metadata_update') @mock.patch.object(db, 'volume_metadata_get') def test_create_volume_maintenance(self, metadata_get, metadata_update): fake_volume = {'id': self.req_id, 'status': 'maintenance'} fake_context = mock.Mock() metadata_get.return_value = {} metadata_update.side_effect = return_create_volume_metadata req = fakes.HTTPRequest.blank('/v2/volume_metadata') req.method = 'POST' req.content_type = ""application/json"" body = {""metadata"": {""key1"": ""value1"", ""key2"": ""value2"", ""key3"": ""value3"", }} req.body = jsonutils.dump_as_bytes(body) req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.InvalidVolume, self.controller.create, req, self.req_id, body=body) @mock.patch.object(db, 'volume_metadata_update') @mock.patch.object(db, 'volume_metadata_get') def test_create_with_keys_in_uppercase_and_lowercase(self, metadata_get, metadata_update): # if the keys in uppercase_and_lowercase, should return the one # which server added fake_volume = {'id': self.req_id, 'status': 'available'} fake_context = mock.Mock() metadata_get.return_value = {} metadata_update.side_effect = return_create_volume_metadata_insensitive req = fakes.HTTPRequest.blank('/v2/volume_metadata') req.method = 'POST' req.content_type = ""application/json"" body = {""metadata"": {""key1"": ""value1"", ""KEY1"": ""value1"", ""key2"": ""value2"", ""KEY2"": ""value2"", ""key3"": ""value3"", ""KEY4"": ""value4""}} expected = {""metadata"": {""key1"": ""value1"", ""key2"": ""value2"", ""key3"": ""value3"", ""KEY4"": ""value4""}} req.body = jsonutils.dump_as_bytes(body) req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume res_dict = self.controller.create(req, self.req_id, body=body) self.assertEqual(expected, res_dict) def test_create_empty_body(self): self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank(self.url) req.method = 'POST' req.headers[""content-type""] = ""application/json"" self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=None) def test_create_metadata_keys_value_none(self): self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank(self.url) req.method = 'POST' req.headers[""content-type""] = ""application/json"" body = {""meta"": {""key"": None}} self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=body) def test_create_item_empty_key(self): self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'PUT' body = {""meta"": {"""": ""value1""}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=body) def test_create_item_key_too_long(self): self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'PUT' body = {""meta"": {(""a"" * 260): ""value1""}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=body) def test_create_nonexistent_volume(self): self.mock_object(volume.api.API, 'get', return_volume_nonexistent) self.mock_object(db, 'volume_metadata_get', return_volume_metadata) self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank('/v2/volume_metadata') req.method = 'POST' req.content_type = ""application/json"" body = {""metadata"": {""key9"": ""value9""}} req.body = jsonutils.dump_as_bytes(body) self.assertRaises(exception.VolumeNotFound, self.controller.create, req, self.req_id, body=body) @mock.patch.object(db, 'volume_metadata_update') def test_update_all(self, metadata_update): fake_volume = {'id': self.req_id, 'status': 'available'} fake_context = mock.Mock() metadata_update.side_effect = return_new_volume_metadata req = fakes.HTTPRequest.blank(self.url) req.method = 'PUT' req.content_type = ""application/json"" expected = { 'metadata': { 'key10': 'value10', 'key99': 'value99', 'KEY20': 'value20', }, } req.body = jsonutils.dump_as_bytes(expected) req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume res_dict = self.controller.update_all(req, self.req_id, body=expected) self.assertEqual(expected, res_dict) get_volume.assert_called_once_with(fake_context, self.req_id) @mock.patch.object(db, 'volume_metadata_update') def test_update_all_volume_maintenance(self, metadata_update): fake_volume = {'id': self.req_id, 'status': 'maintenance'} fake_context = mock.Mock() metadata_update.side_effect = return_new_volume_metadata req = fakes.HTTPRequest.blank(self.url) req.method = 'PUT' req.content_type = ""application/json"" expected = { 'metadata': { 'key10': 'value10', 'key99': 'value99', 'KEY20': 'value20', }, } req.body = jsonutils.dump_as_bytes(expected) req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.InvalidVolume, self.controller.update_all, req, self.req_id, body=expected) self.assertFalse(metadata_update.called) get_volume.assert_called_once_with(fake_context, self.req_id) @mock.patch.object(db, 'volume_metadata_update') @mock.patch.object(db, 'volume_metadata_get') def test_update_all_with_keys_in_uppercase_and_lowercase(self, metadata_get, metadata_update): fake_volume = {'id': self.req_id, 'status': 'available'} fake_context = mock.Mock() metadata_get.side_effect = return_create_volume_metadata metadata_update.side_effect = return_new_volume_metadata req = fakes.HTTPRequest.blank(self.url) req.method = 'PUT' req.content_type = ""application/json"" body = { 'metadata': { 'key10': 'value10', 'KEY10': 'value10', 'key99': 'value99', 'KEY20': 'value20', }, } expected = { 'metadata': { 'key10': 'value10', 'key99': 'value99', 'KEY20': 'value20', }, } req.body = jsonutils.dump_as_bytes(expected) req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume res_dict = self.controller.update_all(req, self.req_id, body=body) self.assertEqual(expected, res_dict) get_volume.assert_called_once_with(fake_context, self.req_id) @mock.patch.object(db, 'volume_metadata_update') def test_update_all_empty_container(self, metadata_update): fake_volume = {'id': self.req_id, 'status': 'available'} fake_context = mock.Mock() metadata_update.return_value = {} req = fakes.HTTPRequest.blank(self.url) req.method = 'PUT' req.content_type = ""application/json"" expected = {'metadata': {}} req.body = jsonutils.dump_as_bytes(expected) req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume res_dict = self.controller.update_all(req, self.req_id, body=expected) self.assertEqual(expected, res_dict) get_volume.assert_called_once_with(fake_context, self.req_id) def test_update_all_malformed_container(self): self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank(self.url) req.method = 'PUT' req.content_type = ""application/json"" expected = {'meta': {}} req.body = jsonutils.dump_as_bytes(expected) self.assertRaises(exception.ValidationError, self.controller.update_all, req, self.req_id, body=expected) def test_update_all_malformed_data(self): self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank(self.url) req.method = 'PUT' req.content_type = ""application/json"" expected = {'metadata': ['asdf']} req.body = jsonutils.dump_as_bytes(expected) self.assertRaises(exception.ValidationError, self.controller.update_all, req, self.req_id, body=expected) def test_update_all_nonexistent_volume(self): self.mock_object(db, 'volume_get', return_volume_nonexistent) req = fakes.HTTPRequest.blank(self.url) req.method = 'PUT' req.content_type = ""application/json"" body = {'metadata': {'key10': 'value10'}} req.body = jsonutils.dump_as_bytes(body) self.assertRaises(exception.VolumeNotFound, self.controller.update_all, req, '100', body=body) @mock.patch.object(db, 'volume_metadata_update') def test_update_item(self, metadata_update): fake_volume = {'id': self.req_id, 'status': 'available'} fake_context = mock.Mock() metadata_update.side_effect = return_create_volume_metadata req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'PUT' body = {""meta"": {""key1"": ""value1""}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume res_dict = self.controller.update(req, self.req_id, 'key1', body=body) expected = {'meta': {'key1': 'value1'}} self.assertEqual(expected, res_dict) get_volume.assert_called_once_with(fake_context, self.req_id) def test_update_metadata_item_keys_value_none(self): self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'PUT' body = {""meta"": {""a"": None}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" self.assertRaises(exception.ValidationError, self.controller.update, req, self.req_id, 'key1', body=body) @mock.patch.object(db, 'volume_metadata_update') def test_update_item_volume_maintenance(self, metadata_update): fake_volume = {'id': self.req_id, 'status': 'maintenance'} fake_context = mock.Mock() metadata_update.side_effect = return_create_volume_metadata req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'PUT' body = {""meta"": {""key1"": ""value1""}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.InvalidVolume, self.controller.update, req, self.req_id, 'key1', body=body) self.assertFalse(metadata_update.called) get_volume.assert_called_once_with(fake_context, self.req_id) def test_update_item_nonexistent_volume(self): self.mock_object(db, 'volume_get', return_volume_nonexistent) req = fakes.HTTPRequest.blank( '/v2/%s/volumes/asdf/metadata/key1' % fake.PROJECT_ID) req.method = 'PUT' body = {""meta"": {""key1"": ""value1""}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" self.assertRaises(exception.VolumeNotFound, self.controller.update, req, self.req_id, 'key1', body=body) def test_update_item_empty_body(self): self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'PUT' req.headers[""content-type""] = ""application/json"" self.assertRaises(exception.ValidationError, self.controller.update, req, self.req_id, 'key1', body=None) @mock.patch.object(db, 'volume_metadata_update') def test_update_item_empty_key(self, metadata_update): fake_volume = {'id': self.req_id, 'status': 'available'} fake_context = mock.Mock() metadata_update.side_effect = return_create_volume_metadata req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'PUT' body = {""meta"": {"""": ""value1""}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.ValidationError, self.controller.update, req, self.req_id, '', body=body) self.assertFalse(metadata_update.called) @mock.patch.object(db, 'volume_metadata_update') def test_update_item_key_too_long(self, metadata_update): fake_volume = {'id': self.req_id, 'status': 'available'} fake_context = mock.Mock() metadata_update.side_effect = return_create_volume_metadata req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'PUT' body = {""meta"": {(""a"" * 260): ""value1""}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.ValidationError, self.controller.update, req, self.req_id, (""a"" * 260), body=body) self.assertFalse(metadata_update.called) @mock.patch.object(db, 'volume_metadata_update') def test_update_item_value_too_long(self, metadata_update): fake_volume = {'id': self.req_id, 'status': 'available'} fake_context = mock.Mock() metadata_update.side_effect = return_create_volume_metadata req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'PUT' body = {""meta"": {""key1"": (""a"" * 260)}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.ValidationError, self.controller.update, req, self.req_id, ""key1"", body=body) self.assertFalse(metadata_update.called) def test_update_item_too_many_keys(self): self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank(self.url + '/key1') req.method = 'PUT' body = {""meta"": {""key1"": ""value1"", ""key2"": ""value2""}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" self.assertRaises(exception.ValidationError, self.controller.update, req, self.req_id, 'key1', body=body) def test_update_item_body_uri_mismatch(self): self.mock_object(db, 'volume_metadata_update', return_create_volume_metadata) req = fakes.HTTPRequest.blank(self.url + '/bad') req.method = 'PUT' body = {""meta"": {""key1"": ""value1""}} req.body = jsonutils.dump_as_bytes(body) req.headers[""content-type""] = ""application/json"" self.assertRaises(webob.exc.HTTPBadRequest, self.controller.update, req, self.req_id, 'bad', body=body) @mock.patch.object(db, 'volume_metadata_update') def test_invalid_metadata_items_on_create(self, metadata_update): fake_volume = {'id': self.req_id, 'status': 'available'} fake_context = mock.Mock() metadata_update.side_effect = return_create_volume_metadata req = fakes.HTTPRequest.blank(self.url) req.method = 'POST' req.headers[""content-type""] = ""application/json"" # test for long key data = {""metadata"": {""a"" * 260: ""value1""}} req.body = jsonutils.dump_as_bytes(data) req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=data) # test for long value data = {""metadata"": {""key"": ""v"" * 260}} req.body = jsonutils.dump_as_bytes(data) req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=data) # test for empty key. data = {""metadata"": {"""": ""value1""}} req.body = jsonutils.dump_as_bytes(data) req.environ['cinder.context'] = fake_context with mock.patch.object(self.controller.volume_api, 'get') as get_volume: get_volume.return_value = fake_volume self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=data) ",723,918
openstack%2Fneutron~919918,openstack/neutron,master,Ic50084df5964be78cddb38c3efdc27e0bbe35d42,Revert change futurist.ThreadPoolExcutor to eventlet.GreenPool,NEW,2024-05-17 06:01:15.000000000,2024-05-22 21:40:47.000000000,,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 06:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2bb71ed2d5cbf1da50d7fc8054006189e1e53f9', 'message': 'Revert change futurist.ThreadPoolExcutor to eventlet.GreenPool\n\nThe change Ia2659c9c8f1deeceefc1c75f1149a1e47c91e7a9\n""Allow neutron-api load config from WSGI process""\nchanged the eventlet.GreenPool to futurist.ThreadPoolExcutor\nfor ML2 OVO push notification. But seems it does not work\nwell in some cases. So revert it partially.\n\nRelated-Bug: #2065577\nChange-Id: Ic50084df5964be78cddb38c3efdc27e0bbe35d42\n'}, {'number': 2, 'created': '2024-05-17 08:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9198d7c672b03d8fd5ef20abdc290ff446138cbb', 'message': 'Revert change futurist.ThreadPoolExcutor to eventlet.GreenPool\n\nThe change Ia2659c9c8f1deeceefc1c75f1149a1e47c91e7a9\n""Allow neutron-api load config from WSGI process""\nchanged the eventlet.GreenPool to futurist.ThreadPoolExcutor\nfor ML2 OVO push notification. But seems it does not work\nwell in some cases. So revert it partially.\n\nRelated-Bug: #2065577\nChange-Id: Ic50084df5964be78cddb38c3efdc27e0bbe35d42\n'}, {'number': 3, 'created': '2024-05-21 03:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2dbc953cd1ea115711d74db0bdac05524ca9df6b', 'message': 'Revert change futurist.ThreadPoolExcutor to eventlet.GreenPool\n\nThe change Ia2659c9c8f1deeceefc1c75f1149a1e47c91e7a9\n""Allow neutron-api load config from WSGI process""\nchanged the eventlet.GreenPool to futurist.ThreadPoolExcutor\nfor ML2 OVO push notification. But seems it does not work\nwell in some cases. So revert it partially.\n\nRelated-Bug: #2065577\nChange-Id: Ic50084df5964be78cddb38c3efdc27e0bbe35d42\n'}, {'number': 4, 'created': '2024-05-22 03:49:10.000000000', 'files': ['neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a6f33c00a2ceeb40cd51189c43b4a5d8860499b', 'message': 'Revert change futurist.ThreadPoolExcutor to eventlet.GreenPool\n\nThe change Ia2659c9c8f1deeceefc1c75f1149a1e47c91e7a9\n""Allow neutron-api load config from WSGI process""\nchanged the eventlet.GreenPool to futurist.ThreadPoolExcutor\nfor ML2 OVO push notification. But seems it does not work\nwell in some cases. So revert it partially.\n\nRelated-Bug: #2065577\nChange-Id: Ic50084df5964be78cddb38c3efdc27e0bbe35d42\n'}]",7,919918,4a6f33c00a2ceeb40cd51189c43b4a5d8860499b,17,3,4,9531,,,0,"Revert change futurist.ThreadPoolExcutor to eventlet.GreenPool

The change Ia2659c9c8f1deeceefc1c75f1149a1e47c91e7a9
""Allow neutron-api load config from WSGI process""
changed the eventlet.GreenPool to futurist.ThreadPoolExcutor
for ML2 OVO push notification. But seems it does not work
well in some cases. So revert it partially.

Related-Bug: #2065577
Change-Id: Ic50084df5964be78cddb38c3efdc27e0bbe35d42
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/919918/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/ovo_rpc.py'],1,b2bb71ed2d5cbf1da50d7fc8054006189e1e53f9,bug/2065577,import eventlet self._worker_pool = eventlet.GreenPool() self._worker_pool.waitall() self._worker_pool.spawn(self.dispatch_events),"import futurist from futurist import waiters # NOTE(annp): uWSGI seems not happy with eventlet.GreenPool. # So switching to ThreadPool self._worker_pool = futurist.ThreadPoolExecutor() self.fts = [] done, not_done = waiters.wait_for_all(self.fts) if not not_done: del self.fts[:] self.fts.append(self._worker_pool.submit(self.dispatch_events))",4,12
openstack%2Fswift~919748,openstack/swift,master,Iba281bb8dceedef9bbb702abf0b93473bf91d9f7,docs: Update further-reading URL for cross-domain policies,MERGED,2024-05-15 15:28:40.000000000,2024-05-22 21:37:17.000000000,2024-05-22 21:36:02.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 15:28:40.000000000', 'files': ['doc/source/crossdomain.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/a3ee04152d6abbcb2aefcf8adbadcdca811f4502', 'message': 'docs: Update further-reading URL for cross-domain policies\n\nThe old one now just redirects to https://developer.adobe.com/\n\nChange-Id: Iba281bb8dceedef9bbb702abf0b93473bf91d9f7\n'}]",0,919748,a3ee04152d6abbcb2aefcf8adbadcdca811f4502,7,2,1,15343,,,0,"docs: Update further-reading URL for cross-domain policies

The old one now just redirects to https://developer.adobe.com/

Change-Id: Iba281bb8dceedef9bbb702abf0b93473bf91d9f7
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/919748/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/crossdomain.rst'],1,a3ee04152d6abbcb2aefcf8adbadcdca811f4502,,See https://www.adobe.com/devnet-docs/acrobatetk/tools/AppSec/xdomain.html for,See http://www.adobe.com/devnet/articles/crossdomain_policy_file_spec.html for,1,1
openstack%2Fironic-python-agent~920136,openstack/ironic-python-agent,stable/2024.1,Iebc5b6d2440bfc9f23daa322493379bbe69e84d0,Call evaluate_hardware_support exactly once per hwm,MERGED,2024-05-22 15:53:18.000000000,2024-05-22 21:35:24.000000000,2024-05-22 21:34:25.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-22 15:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0ec3c02e231c61d1f95c3de97267125d2c8fd0ea', 'message': 'Call evaluate_hardware_support exactly once per hwm\n\nFixes an issue where we could call evaluate_hardware_support multiple\ntimes each run. Now, instead, we cache the values and use the cache\nwhere needed.\n\nAdds unit test coverage for get_managers and the new method.\nFixes issue where we were caching hardware managers between unit tests.\n\nCloses-bug: 2066308\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n'}, {'number': 2, 'created': '2024-05-22 16:01:06.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_service.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e9c0578c7d30ae97ad01ea52029cb7368433c0dc', 'message': 'Call evaluate_hardware_support exactly once per hwm\n\nFixes an issue where we could call evaluate_hardware_support multiple\ntimes each run. Now, instead, we cache the values and use the cache\nwhere needed.\n\nAdds unit test coverage for get_managers and the new method.\nFixes issue where we were caching hardware managers between unit tests.\n\nCloses-bug: 2066308\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n(cherry picked from commit c39517b04479df1aeaf96402840238236870fa74)\n'}]",0,920136,e9c0578c7d30ae97ad01ea52029cb7368433c0dc,12,3,2,10342,,,0,"Call evaluate_hardware_support exactly once per hwm

Fixes an issue where we could call evaluate_hardware_support multiple
times each run. Now, instead, we cache the values and use the cache
where needed.

Adds unit test coverage for get_managers and the new method.
Fixes issue where we were caching hardware managers between unit tests.

Closes-bug: 2066308
Change-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0
(cherry picked from commit c39517b04479df1aeaf96402840238236870fa74)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/36/920136/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_service.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'releasenotes/notes/mix-and-match-disk-detection-58db04403ce220a0.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/utils.py', 'setup.cfg', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml']",10,0ec3c02e231c61d1f95c3de97267125d2c8fd0ea,,"--- fixes: - | Fixes bug 2066308, an issue where Ironic Python Agent would call evaluate_hardware_support multiple times on hardware manager plugins. Scanning for hardware and disks is time consuming, and caused timeouts on badly-performing nodes. ",,174,60
openstack%2Fos-ken~917612,openstack/os-ken,master,Ia10043387084aafbaa3d5cb7152c57758583a651,Remove old excludes,NEW,2024-04-30 10:18:56.000000000,2024-05-22 21:16:47.000000000,,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-30 10:18:56.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/46dc320866e9ea504e031d065793e0e39257290c', 'message': ""Remove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nAlso remove the note about old pip's behavior because the resolver\nin recent pip no longer requires specific order.\n\nChange-Id: Ia10043387084aafbaa3d5cb7152c57758583a651\n""}]",3,917612,46dc320866e9ea504e031d065793e0e39257290c,4,3,1,9816,,,0,"Remove old excludes

These are detected as errors since the clean up was done[1] in
the requirements repository.

[1] 314734e938f107cbd5ebcc7af4d9167c11347406

Also remove the note about old pip's behavior because the resolver
in recent pip no longer requires specific order.

Change-Id: Ia10043387084aafbaa3d5cb7152c57758583a651
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/12/917612/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt']",3,46dc320866e9ea504e031d065793e0e39257290c,excludes-cleanup,sphinx>=2.0.0 # BSD,"sphinx>=2.0.0,!=2.1.0 # BSD",2,10
openstack%2Fwatcher-tempest-plugin~917075,openstack/watcher-tempest-plugin,master,Ib343bd15c5c96113452d5dda4ab7eeb6feb9e83f,Add stable/2023.2|2024.1 jobs on master gate,NEW,2024-04-26 00:13:33.000000000,2024-05-22 21:12:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2024-04-26 00:13:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/8f4da229b1958b01f0f81cc61dfe46e2ae78625a', 'message': 'Add stable/2023.2|2024.1 jobs on master gate\n\nAs 2023.2 and 2024.1 is released, we should add its job on master\ngate to keep branchless tempest plugins compatible to stable branch.\n\nRemoving <= yoga stable release jobs as that is in unmaintained phase.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ib343bd15c5c96113452d5dda4ab7eeb6feb9e83f\n'}]",0,917075,8f4da229b1958b01f0f81cc61dfe46e2ae78625a,2,2,1,8556,,,0,"Add stable/2023.2|2024.1 jobs on master gate

As 2023.2 and 2024.1 is released, we should add its job on master
gate to keep branchless tempest plugins compatible to stable branch.

Removing <= yoga stable release jobs as that is in unmaintained phase.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ib343bd15c5c96113452d5dda4ab7eeb6feb9e83f
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/75/917075/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8f4da229b1958b01f0f81cc61dfe46e2ae78625a,2024-1-stable-job, - watcher-tempest-functional-2024-1 - watcher-tempest-functional-2023-2 name: watcher-tempest-functional-2024-1 parent: watcher-tempest-functional nodeset: openstack-single-node-jammy override-checkout: stable/2024.1 - job: name: watcher-tempest-functional-2023-2 parent: watcher-tempest-functional nodeset: openstack-single-node-jammy override-checkout: stable/2023.2 - job:, - watcher-tempest-functional-yoga - watcher-tempest-functional-xena - watcher-tempest-functional-wallaby - job: name: watcher-tempest-functional-yoga parent: watcher-tempest-functional nodeset: openstack-single-node-focal override-checkout: stable/yoga - job: name: watcher-tempest-functional-xena parent: watcher-tempest-functional nodeset: openstack-single-node-focal override-checkout: stable/xena - job: name: watcher-tempest-functional-wallaby parent: watcher-tempest-functional nodeset: openstack-single-node-focal override-checkout: stable/wallaby,14,21
openstack%2Foctavia-tempest-plugin~917076,openstack/octavia-tempest-plugin,master,I13d977eba7c324df3036e0b0dc31a3943bd8549e,Add stable/2024.1 jobs on master gate,NEW,2024-04-26 00:13:53.000000000,2024-05-22 21:12:17.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-04-26 00:13:53.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c4eb494d2790e3c1abddadc3c3cbd0b9673aa7ec', 'message': 'Add stable/2024.1 jobs on master gate\n\nAs 2024.1 is released, we should add its job on master\ngate to keep branchless tempest plugins compatible to stable branch.\n\nAlso, fixing a few of the stable/2023.2 jobs to override-checkout 2023.2.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I13d977eba7c324df3036e0b0dc31a3943bd8549e\n'}]",1,917076,c4eb494d2790e3c1abddadc3c3cbd0b9673aa7ec,4,5,1,8556,,,0,"Add stable/2024.1 jobs on master gate

As 2024.1 is released, we should add its job on master
gate to keep branchless tempest plugins compatible to stable branch.

Also, fixing a few of the stable/2023.2 jobs to override-checkout 2023.2.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I13d977eba7c324df3036e0b0dc31a3943bd8549e
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/76/917076/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,c4eb494d2790e3c1abddadc3c3cbd0b9673aa7ec,2024-1-stable-job, name: octavia-v2-dsvm-noop-api-stable-2024-1 parent: octavia-v2-dsvm-noop-api nodeset: octavia-single-node-ubuntu-jammy override-checkout: stable/2024.1 - job: name: octavia-v2-dsvm-scenario-stable-2024-1 parent: octavia-v2-dsvm-scenario nodeset: octavia-single-node-ubuntu-jammy override-checkout: stable/2024.1 - job: name: octavia-v2-dsvm-scenario-traffic-ops-stable-2024-1 parent: octavia-v2-dsvm-scenario-stable-2024-1 vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.*traffic_ops - job: name: octavia-v2-dsvm-scenario-non-traffic-ops-stable-2024-1 parent: octavia-v2-dsvm-scenario-stable-2024-1 vars: tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2.(?!.*traffic_ops) - job: override-checkout: stable/2023.2 name: octavia-v2-dsvm-tls-barbican-stable-2024-1 parent: octavia-v2-dsvm-tls-barbican nodeset: octavia-single-node-ubuntu-jammy override-checkout: stable/2024.1 - job: override-checkout: stable/2023.2 name: octavia-v2-act-stdby-dsvm-scenario-stable-2024-1 parent: octavia-v2-act-stdby-dsvm-scenario nodeset: octavia-single-node-ubuntu-jammy override-checkout: stable/2024.1 - job:, override-checkout: stable/2023.1 override-checkout: stable/2023.1,46,2
openstack%2Fdesignate-tempest-plugin~917078,openstack/designate-tempest-plugin,master,Ibf125fd0fd40341b273d76e85e8906df440fc8ad,Add stable/2024.1 jobs on master gate,NEW,2024-04-26 00:20:41.000000000,2024-05-22 21:10:51.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2024-04-26 00:20:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c605141060899bc41fccb3f193d8326c6021abeb', 'message': 'Add stable/2024.1 jobs on master gate\n\nAs 2024.1 is released, we should add its job on master\ngate to keep branchless tempest plugins compatible to stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ibf125fd0fd40341b273d76e85e8906df440fc8ad\n'}]",3,917078,c605141060899bc41fccb3f193d8326c6021abeb,6,3,1,8556,,,0,"Add stable/2024.1 jobs on master gate

As 2024.1 is released, we should add its job on master
gate to keep branchless tempest plugins compatible to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ibf125fd0fd40341b273d76e85e8906df440fc8ad
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/78/917078/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c605141060899bc41fccb3f193d8326c6021abeb,2024-1-stable-job, name: designate-bind9-stable-2024-1 parent: designate-bind9 nodeset: openstack-single-node-jammy override-checkout: stable/2024.1 - job: - designate-bind9-stable-2024-1,,7,0
openstack%2Fironic-python-agent~920153,openstack/ironic-python-agent,master,Iebc5b6d2440bfc9f23daa322493379bbe69e84d0,Call evaluate_hardware_support exactly once per hwm,MERGED,2024-05-21 22:31:49.000000000,2024-05-22 20:51:33.000000000,2024-05-22 20:50:21.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 22:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9301f2ce24c08304e0af268b41325c88734f6b94', 'message': ""WIP: Don't call evaluate_hardware_support 9001 times\n\nTODO: Unit test updates\nTODO: Probably better pydocs on the new method\nTODO(maybe): Refactor internal uses to get_manager_detail (probably not\nworth it? we have to maintain get_manager() for plugin API anyway...)\n\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n""}, {'number': 2, 'created': '2024-05-21 22:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2e5b00c46430d8a26e4183832f57bfcdbcd60f32', 'message': ""WIP: Don't call evaluate_hardware_support 9001 times\n\nTODO: Unit test updates\nTODO: Probably better pydocs on the new method\nTODO(maybe): Refactor internal uses to get_manager_detail (probably not\nworth it? we have to maintain get_manager() for plugin API anyway...)\n\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n""}, {'number': 3, 'created': '2024-05-21 22:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/521545d653c7c99f9382c31d6f9deaff4a975f3f', 'message': ""WIP: Don't call evaluate_hardware_support 9001 times\n\nTODO: Unit test updates\nTODO: Probably better pydocs on the new method\nTODO(maybe): Refactor internal uses to get_manager_detail (probably not\nworth it? we have to maintain get_manager() for plugin API anyway...)\n\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n""}, {'number': 4, 'created': '2024-05-21 22:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/03ab3def4767c1b946c3411f48f511f4cce57cab', 'message': ""WIP: Don't call evaluate_hardware_support 9001 times\n\n+fixes so codespell passes\n\nTODO: Unit test updates\nTODO: Probably better pydocs on the new method\nTODO(maybe): Refactor internal uses to get_manager_detail (probably not\nworth it? we have to maintain get_manager() for plugin API anyway...)\n\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n""}, {'number': 5, 'created': '2024-05-21 23:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6704940489712d916e99bec50126342982a18a29', 'message': ""WIP: Don't call evaluate_hardware_support 9001 times\n\n+fixes so codespell passes\n\nTODO: Probably need a specific unit test for get_managers_detail\nTODO: Probably better pydocs on the new method\nTODO(maybe): Refactor internal uses to get_manager_detail (probably not\nworth it? we have to maintain get_manager() for plugin API anyway...)\n\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n""}, {'number': 6, 'created': '2024-05-22 15:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2b991e06896c88fdca5df30b042dfb3969413efc', 'message': 'Call evaluate_hardware_support exactly once per hwm\n\nFixes an issue where we could call evaluate_hardware_support multiple\ntimes each run. Now, instead, we cache the values and use the cache\nwhere needed.\n\nAdds unit test coverage for get_managers and the new method, as well\nas includes fixes to ensure codespell can pass.\n\nCloses-bug: 2066308\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n'}, {'number': 7, 'created': '2024-05-22 15:47:07.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_service.py', 'ironic_python_agent/tests/unit/extensions/test_clean.py', 'ironic_python_agent/tests/unit/base.py', 'releasenotes/notes/mix-and-match-disk-detection-58db04403ce220a0.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/utils.py', 'setup.cfg', 'ironic_python_agent/tests/unit/extensions/test_deploy.py', 'releasenotes/notes/only-run-evaluate-hardware-support-once-9ec1ae327b4e03f2.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c39517b04479df1aeaf96402840238236870fa74', 'message': 'Call evaluate_hardware_support exactly once per hwm\n\nFixes an issue where we could call evaluate_hardware_support multiple\ntimes each run. Now, instead, we cache the values and use the cache\nwhere needed.\n\nAdds unit test coverage for get_managers and the new method.\nFixes issue where we were caching hardware managers between unit tests.\n\nAlso includes fixes for codespell CI:\n- skip build files in repo\n- fix spelling issues introduced to repo\n\nCloses-bug: 2066308\nChange-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0\n'}]",3,920153,c39517b04479df1aeaf96402840238236870fa74,23,3,7,10342,,,0,"Call evaluate_hardware_support exactly once per hwm

Fixes an issue where we could call evaluate_hardware_support multiple
times each run. Now, instead, we cache the values and use the cache
where needed.

Adds unit test coverage for get_managers and the new method.
Fixes issue where we were caching hardware managers between unit tests.

Also includes fixes for codespell CI:
- skip build files in repo
- fix spelling issues introduced to repo

Closes-bug: 2066308
Change-Id: Iebc5b6d2440bfc9f23daa322493379bbe69e84d0
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/53/920153/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,9301f2ce24c08304e0af268b41325c88734f6b94,,"def _compare_managers(hwm1, hwm2): return hwm1['support'] - hwm2['support'] This exists as a backwards compatibility shim, returning a simple list of managers where expected. New usages should use get_managers_detail. hwms = sorted(get_managers_detail(), key=functools.cmp_to_key(_compare_managers) return [hwm['manager'] for hwm in hwms] def get_managers_detail(): """"""Get information about hardware managers Use stevedore to find all eligible hardware managers, sort them based on self-reported (via evaluate_hardware_support()) priorities, and return a dict of the manager, it's class name, and hardware support value. The resulting list is cached in _global_managers. :returns: list of dictionaries representing hardware managers and metadata :raises HardwareManagerNotFound: if no valid hardware managers found """""" for extension in extension_manager: hwm = extension.obj hardware_support = hwm.evaluate_hardware_support() if hardware_support > 0: preferred_managers.append({ 'name': hwm.__class__.__name__, 'manager': extension.obj, 'support': hardware_support }) support = get_managers_detail() step['hwm'] = {'name': manager['name'], 'support': manager['support']}","def _compare_extensions(ext1, ext2): mgr1 = ext1.obj mgr2 = ext2.obj return mgr2.evaluate_hardware_support() - mgr1.evaluate_hardware_support() Use stevedore to find all eligible hardware managers, sort them based on self-reported (via evaluate_hardware_support()) priorities, and return them in a list. The resulting list is cached in _global_managers. # There will always be at least one extension available (the # GenericHardwareManager). extensions = sorted(extension_manager, key=functools.cmp_to_key(_compare_extensions)) for extension in extensions: if extension.obj.evaluate_hardware_support() > 0: preferred_managers.append(extension.obj) support = dispatch_to_all_managers( 'evaluate_hardware_support') if manager not in support: LOG.warning('Unknown hardware support for %(manager)s, ' 'dropping steps: %(steps)s', {'manager': manager, 'steps': manager_steps}) continue step['hwm'] = {'name': manager, 'support': support[manager]}",30,26
openstack%2Fcinder~916437,openstack/cinder,master,I275c85e223f925b54d5941ba02edec725080a357,tests: Don't use mocks as requests,NEW,2024-04-19 14:51:42.000000000,2024-05-22 20:42:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-19 14:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b0fbe17fad6076996886f968b1f30f035e7cc59', 'message': ""tests: Don't use mocks as requests\n\nThese have weird side-effects (like returning true for all microversion\nchecks) and don't behave like real request objects.\n\nThis process highlights a couple of issues with the tests:\n\n- In one test we were trying to filter by 'id', which is not a valid\n  filter. We now use 'availability_zone' instead ('name' doesn't work\n  since we don't use ast.literal_eval on this field, which means the\n  list operation doesn't work).\n- In multiple tests we were trying to filter by 'display_name' but API\n  3.0 used 'name'. We update these references.\n- In multiple tests we were using integers (0 or 1) to filter on boolean\n  fields but this is only supported by API microversion 3.2. We use\n  stringified booleans instead.\n\nChange-Id: I275c85e223f925b54d5941ba02edec725080a357\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-04-23 12:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a941345396a2ab2adf60fa1c225dba5c4042e75c', 'message': ""tests: Don't use mocks as requests\n\nThese have weird side-effects (like returning true for all microversion\nchecks) and don't behave like real request objects.\n\nThis process highlights a couple of issues with the tests:\n\n- In one test we were trying to filter by 'id', which is not a valid\n  filter. We now use 'availability_zone' instead ('name' doesn't work\n  since we don't use ast.literal_eval on this field, which means the\n  list operation doesn't work).\n- In multiple tests we were trying to filter by 'display_name' but API\n  3.0 used 'name'. We update these references.\n- In multiple tests we were using integers (0 or 1) to filter on boolean\n  fields but this is only supported by API microversion 3.2. We use\n  stringified booleans instead.\n\nChange-Id: I275c85e223f925b54d5941ba02edec725080a357\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2024-05-13 14:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4bb8b23ae02797f12164307c5b0c08854dfda20', 'message': ""tests: Don't use mocks as requests\n\nThese have weird side-effects (like returning true for all microversion\nchecks) and don't behave like real request objects.\n\nThis process highlights a couple of issues with the tests:\n\n- In one test we were trying to filter by 'id', which is not a valid\n  filter. We now use 'availability_zone' instead ('name' doesn't work\n  since we don't use ast.literal_eval on this field, which means the\n  list operation doesn't work).\n- In multiple tests we were trying to filter by 'display_name' but API\n  3.0 used 'name'. We update these references.\n- In multiple tests we were using integers (0 or 1) to filter on boolean\n  fields but this is only supported by API microversion 3.2. We use\n  stringified booleans instead.\n\nChange-Id: I275c85e223f925b54d5941ba02edec725080a357\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2024-05-20 10:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28c24fa17278cd0cec49586f1590d2cd9a8373ca', 'message': ""tests: Don't use mocks as requests\n\nThese have weird side-effects (like returning true for all microversion\nchecks) and don't behave like real request objects.\n\nThis process highlights a couple of issues with the tests:\n\n- In one test we were trying to filter by 'id', which is not a valid\n  filter. We now use 'availability_zone' instead ('name' doesn't work\n  since we don't use ast.literal_eval on this field, which means the\n  list operation doesn't work).\n- In multiple tests we were trying to filter by 'display_name' but API\n  3.0 used 'name'. We update these references.\n- In multiple tests we were using integers (0 or 1) to filter on boolean\n  fields but this is only supported by API microversion 3.2. We use\n  stringified booleans instead.\n\nChange-Id: I275c85e223f925b54d5941ba02edec725080a357\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2024-05-20 10:07:27.000000000', 'files': ['cinder/tests/unit/api/v2/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1fa6ecd0fae587edca2f956840d433e5ee7e9b9', 'message': ""tests: Don't use mocks as requests\n\nThese have weird side-effects (like returning true for all microversion\nchecks) and don't behave like real request objects.\n\nThis process highlights a couple of issues with the tests:\n\n- In one test we were trying to filter by 'id', which is not a valid\n  filter. We now use 'availability_zone' instead ('name' doesn't work\n  since we don't use ast.literal_eval on this field, which means the\n  list operation doesn't work).\n- In multiple tests we were trying to filter by 'display_name' but API\n  3.0 used 'name'. We update these references.\n- In multiple tests we were using integers (0 or 1) to filter on boolean\n  fields but this is only supported by API microversion 3.2. We use\n  stringified booleans instead.\n\nChange-Id: I275c85e223f925b54d5941ba02edec725080a357\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,916437,e1fa6ecd0fae587edca2f956840d433e5ee7e9b9,53,1,5,15334,,,0,"tests: Don't use mocks as requests

These have weird side-effects (like returning true for all microversion
checks) and don't behave like real request objects.

This process highlights a couple of issues with the tests:

- In one test we were trying to filter by 'id', which is not a valid
  filter. We now use 'availability_zone' instead ('name' doesn't work
  since we don't use ast.literal_eval on this field, which means the
  list operation doesn't work).
- In multiple tests we were trying to filter by 'display_name' but API
  3.0 used 'name'. We update these references.
- In multiple tests we were using integers (0 or 1) to filter on boolean
  fields but this is only supported by API microversion 3.2. We use
  stringified booleans instead.

Change-Id: I275c85e223f925b54d5941ba02edec725080a357
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/916437/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/api/v2/test_volumes.py'],1,0b0fbe17fad6076996886f968b1f30f035e7cc59,openapi," qs = urllib.parse.urlencode({'name': display_name}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] ctxt, None, CONF.osapi_max_limit, qs = urllib.parse.urlencode( {'name': 'Volume-573108026', 'bootable': 'true'} ) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] ctxt, None, CONF.osapi_max_limit, qs = urllib.parse.urlencode( {'name': 'Volume-573108026', 'bootable': 'false'} ) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] ctxt, None, CONF.osapi_max_limit, qs = urllib.parse.urlencode({ 'availability_zone': ""['az0', 'az1', 'az2']"", }) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] ctxt, None, CONF.osapi_max_limit, filters={'availability_zone': ['az0', 'az1', 'az2']}, qs = urllib.parse.urlencode({'name': ""d-""}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] ctxt, None, CONF.osapi_max_limit, qs = urllib.parse.urlencode({'status': 'available'}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] qs = urllib.parse.urlencode({'metadata': ""{'fake_key': 'fake_value'}""}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] qs = urllib.parse.urlencode({'availability_zone': 'nova'}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] qs = urllib.parse.urlencode({'bootable': 'true'}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] qs = urllib.parse.urlencode( {'availability_zone': 'nova', 'invalid_filter': 'invalid'}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context'] qs = urllib.parse.urlencode({'sort': 'name'}) req = fakes.HTTPRequest.blank('/v3/volumes' + '?' + qs) ctxt = req.environ['cinder.context']"," req = mock.MagicMock() context = mock.Mock() req.environ = {'cinder.context': context} req.params = {'display_name': display_name} context, None, CONF.osapi_max_limit, req = mock.MagicMock() context = mock.Mock() req.environ = {'cinder.context': context} req.params = {'display_name': 'Volume-573108026', 'bootable': 1} context, None, CONF.osapi_max_limit, req = mock.MagicMock() context = mock.Mock() req.environ = {'cinder.context': context} req.params = {'display_name': 'Volume-573108026', 'bootable': 0} context, None, CONF.osapi_max_limit, req = mock.MagicMock() context = mock.Mock() req.environ = {'cinder.context': context} req.params = {'id': ""['%s', '%s', '%s']"" % ( fake.VOLUME_ID, fake.VOLUME2_ID, fake.VOLUME3_ID)} context, None, CONF.osapi_max_limit, filters={'id': [fake.VOLUME_ID, fake.VOLUME2_ID, fake.VOLUME3_ID]}, req = mock.MagicMock() context = mock.Mock() req.environ = {'cinder.context': context} req.params = {'name': ""d-""} context, None, CONF.osapi_max_limit, req = mock.MagicMock() ctxt = context.RequestContext( fake.USER_ID, fake.PROJECT_ID, auth_token=True) req.environ = {'cinder.context': ctxt} req.params = {'status': 'available'} req = mock.MagicMock() ctxt = context.RequestContext( fake.USER_ID, fake.PROJECT_ID, auth_token=True) req.environ = {'cinder.context': ctxt} req.params = {'metadata': ""{'fake_key': 'fake_value'}""} req = mock.MagicMock() ctxt = context.RequestContext( fake.USER_ID, fake.PROJECT_ID, auth_token=True) req.environ = {'cinder.context': ctxt} req.params = {'availability_zone': 'nova'} req = mock.MagicMock() ctxt = context.RequestContext( fake.USER_ID, fake.PROJECT_ID, auth_token=True) req.environ = {'cinder.context': ctxt} req.params = {'bootable': 1} req = mock.MagicMock() ctxt = context.RequestContext( fake.USER_ID, fake.PROJECT_ID, auth_token=True) req.environ = {'cinder.context': ctxt} req.params = {'invalid_filter': 'invalid', 'availability_zone': 'nova'} req = mock.MagicMock() ctxt = context.RequestContext( fake.USER_ID, fake.PROJECT_ID, auth_token=True) req.environ = {'cinder.context': ctxt} req.params = {'sort': 'name'}",46,59
openstack%2Fovsdbapp~919864,openstack/ovsdbapp,stable/2024.1,I56685478214aae7b6d3a2a3187297ad4eb1869a3,Add if_exists to lrp_set_options,MERGED,2024-05-17 03:38:03.000000000,2024-05-22 20:33:12.000000000,2024-05-22 20:32:16.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 03:38:03.000000000', 'files': ['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/7e0f59c09ae76c3752b8ad30d0c8679aca0f8c67', 'message': 'Add if_exists to lrp_set_options\n\nRequired for handling the cases where set_options\nis called on non-existing logical router port.\n\nThe option is added to parent class BaseSetOptionsCommand, so\nif other apis relying on that need to expose if_exists then those\ncan be extended in future.\n\nPartial-Bug: #2065701\nRelated-Bug: #2060163\nChange-Id: I56685478214aae7b6d3a2a3187297ad4eb1869a3\n(cherry picked from commit 6bac684e6fec715b0aa36abc886153cb82855b3a)\n'}]",1,919864,7e0f59c09ae76c3752b8ad30d0c8679aca0f8c67,15,4,1,13861,,,0,"Add if_exists to lrp_set_options

Required for handling the cases where set_options
is called on non-existing logical router port.

The option is added to parent class BaseSetOptionsCommand, so
if other apis relying on that need to expose if_exists then those
can be extended in future.

Partial-Bug: #2065701
Related-Bug: #2060163
Change-Id: I56685478214aae7b6d3a2a3187297ad4eb1869a3
(cherry picked from commit 6bac684e6fec715b0aa36abc886153cb82855b3a)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/64/919864/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",4,7e0f59c09ae76c3752b8ad30d0c8679aca0f8c67,bug/2065701," def test_lrp_set_options_if_exists(self): options = {'one': 'two', 'three': 'four'} self.api.lrp_set_options(utils.get_rand_device_name(), if_exists=True, **options).execute(check_error=True) def test_lrp_set_options_no_exist(self): options = {'one': 'two', 'three': 'four'} cmd = self.api.lrp_set_options(utils.get_rand_device_name(), **options) self.assertRaises(idlutils.RowNotFound, cmd.execute, check_error=True) ",,31,11
openstack%2Foctavia~903081,openstack/octavia,master,I9aea55371d3f3d054eba5673d09eead23d5c95a8,Fix incorrect filtering when using bool attrs,MERGED,2023-12-07 12:48:56.000000000,2024-05-22 20:29:33.000000000,2024-05-22 20:28:24.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-12-07 12:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/49068dc96a8fef220ea1901aa03e9bb08a14e57b', 'message': 'Fix incorrect filtering when using bool attrs\n\nWhen filtering the GET calls with a boolean attribute, the value of the\nattribute was a string and not a boolean, it made the queries incorrect.\nNow, every boolean attribute is converted from a string to a boolean\nbefore querying the DB.\n\nCloses-Bug: #2045803\nChange-Id: I9aea55371d3f3d054eba5673d09eead23d5c95a8\n'}, {'number': 2, 'created': '2024-05-03 13:42:08.000000000', 'files': ['octavia/db/base_models.py', 'octavia/tests/unit/api/common/test_pagination.py', 'releasenotes/notes/fix-filtering-with-boolean-attributes-15df51820753a900.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cdbcc3fd777d641e3b30b6577470213d30d4269a', 'message': 'Fix incorrect filtering when using bool attrs\n\nWhen filtering the GET calls with a boolean attribute, the value of the\nattribute was a string and not a boolean, it made the queries incorrect.\nNow, every boolean attribute is converted from a string to a boolean\nbefore querying the DB.\n\nCloses-Bug: #2045803\nChange-Id: I9aea55371d3f3d054eba5673d09eead23d5c95a8\n'}]",7,903081,cdbcc3fd777d641e3b30b6577470213d30d4269a,20,6,2,29244,,,0,"Fix incorrect filtering when using bool attrs

When filtering the GET calls with a boolean attribute, the value of the
attribute was a string and not a boolean, it made the queries incorrect.
Now, every boolean attribute is converted from a string to a boolean
before querying the DB.

Closes-Bug: #2045803
Change-Id: I9aea55371d3f3d054eba5673d09eead23d5c95a8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/903081/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/base_models.py', 'octavia/tests/unit/api/common/test_pagination.py', 'releasenotes/notes/fix-filtering-with-boolean-attributes-15df51820753a900.yaml']",3,49068dc96a8fef220ea1901aa03e9bb08a14e57b,,--- fixes: - | Fixed an issue when filtering resources with a boolean attribute in the GET calls in the Octavia API. ,,34,4
openstack%2Fproject-config~920208,openstack/project-config,master,Ie285d1c058c4ad7c6579f25cf24884d8e396e1dc,Fix unbound setup for ubuntu-noble,MERGED,2024-05-22 19:35:45.000000000,2024-05-22 20:25:44.000000000,2024-05-22 20:09:08.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-22 19:35:45.000000000', 'files': ['nodepool/elements/nodepool-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/project-config/commit/74db99801a62c5b32ff61689be4a1bbce4a78f94', 'message': 'Fix unbound setup for ubuntu-noble\n\ndns-root-data has been demoted to a ""Recommends"" dependency of\nunbound, which we don\'t install. Sadly the default unbound\nconfiguration is broken without it.\n\nChange-Id: Ie285d1c058c4ad7c6579f25cf24884d8e396e1dc\n'}]",1,920208,74db99801a62c5b32ff61689be4a1bbce4a78f94,7,2,1,5263,,,0,"Fix unbound setup for ubuntu-noble

dns-root-data has been demoted to a ""Recommends"" dependency of
unbound, which we don't install. Sadly the default unbound
configuration is broken without it.

Change-Id: Ie285d1c058c4ad7c6579f25cf24884d8e396e1dc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/08/920208/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/nodepool-base/pkg-map'],1,74db99801a62c5b32ff61689be4a1bbce4a78f94,boot-ubuntu-noble," }, ""ubuntu"": { ""noble"": { ""unbound"": ""unbound dns-root-data"" }",,5,0
openstack%2Foctavia~918046,openstack/octavia,stable/2024.1,I28d552313f01265169f5b0d19e79a931cf42dc58,Removing tips jobs on stable/2024.1,MERGED,2024-05-03 12:33:36.000000000,2024-05-22 20:17:58.000000000,2024-05-22 20:15:36.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-05-03 12:33:36.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/32df4314441edc0ec220c50f7a487fcac6ce8bcd', 'message': 'Removing tips jobs on stable/2024.1\n\ntips jobs are not required on stable branches.\n\nChange-Id: I28d552313f01265169f5b0d19e79a931cf42dc58\n'}]",3,918046,32df4314441edc0ec220c50f7a487fcac6ce8bcd,14,3,1,29244,,,0,"Removing tips jobs on stable/2024.1

tips jobs are not required on stable branches.

Change-Id: I28d552313f01265169f5b0d19e79a931cf42dc58
",git fetch https://review.opendev.org/openstack/octavia refs/changes/46/918046/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,32df4314441edc0ec220c50f7a487fcac6ce8bcd,,, - octavia-tox-tips - octavia-tox-sqlalchemy-tips,0,2
openstack%2Fcinder~917728,openstack/cinder,unmaintained/zed,Idec29ce596438a7969ea32d48bacfede84f5b0b6,Fix 'cinder-backup' service when Swift with TLS enabled,NEW,2024-04-30 19:19:38.000000000,2024-05-22 20:12:27.000000000,,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-04-30 19:19:38.000000000', 'files': ['cinder/backup/drivers/swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/33a166e4ea83195d71c9bedacb56f16dd3c5af0c', 'message': 'Fix \'cinder-backup\' service when Swift with TLS enabled\n\nThe \'backup_swift_ca_cert_file\' [1] setting is ignored by the Swift\nbackup driver so \'cinder-backup\' service will appear ""down"" early on\nstartup when TLS backend used. This change fixes the issue.\n\n1. https://docs.openstack.org/cinder/latest/configuration/block-storage/backup/swift-backup-driver.html\n\nCloses-Bug: #2051985\nChange-Id: Idec29ce596438a7969ea32d48bacfede84f5b0b6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e99afcafe8d33624b9a695b1f7576ad0e8e5354f)\n(cherry picked from commit 1e52602646c8b7cdc616659777563847fe53ada0)\n(cherry picked from commit 22e6866f66748df3dbf347d48fc4b6f55ded847b)\n'}]",0,917728,33a166e4ea83195d71c9bedacb56f16dd3c5af0c,9,4,1,14200,,,0,"Fix 'cinder-backup' service when Swift with TLS enabled

The 'backup_swift_ca_cert_file' [1] setting is ignored by the Swift
backup driver so 'cinder-backup' service will appear ""down"" early on
startup when TLS backend used. This change fixes the issue.

1. https://docs.openstack.org/cinder/latest/configuration/block-storage/backup/swift-backup-driver.html

Closes-Bug: #2051985
Change-Id: Idec29ce596438a7969ea32d48bacfede84f5b0b6
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit e99afcafe8d33624b9a695b1f7576ad0e8e5354f)
(cherry picked from commit 1e52602646c8b7cdc616659777563847fe53ada0)
(cherry picked from commit 22e6866f66748df3dbf347d48fc4b6f55ded847b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/917728/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/swift.py'],1,33a166e4ea83195d71c9bedacb56f16dd3c5af0c,fix-cinder-backup-tls-swift-stable/zed-unmaintained/zed," preauthurl=CONF.backup_swift_url, cacert=CONF.backup_swift_ca_cert_file)", preauthurl=CONF.backup_swift_url),2,1
openstack%2Ftempest~918191,openstack/tempest,master,I74cc344a9c1ae2aa523af754d22392869ff059f5,Use service_available option to detect Neutron,MERGED,2024-05-04 16:02:36.000000000,2024-05-22 19:11:01.000000000,2024-05-22 19:09:53.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2024-05-04 16:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e5dd876363e0e83b21d963f0ae9c60c91edd47ac', 'message': 'Use service_available option to detect Neutron\n\n... because nova-network was removed in Ussuri release.\n\nChange-Id: I74cc344a9c1ae2aa523af754d22392869ff059f5\n'}, {'number': 2, 'created': '2024-05-07 01:39:15.000000000', 'files': ['tempest/common/utils/__init__.py', 'tempest/config.py', 'releasenotes/notes/enable-neutron-by-default-57b87a20acc1ac47.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a4f57d3db58a068f86506d4ea6b3147ba7ea7aa8', 'message': 'Use service_available option to detect Neutron\n\n... because nova-network was removed in Ussuri release.\n\nTo run basic neutron tests by default, the default value of\n[service_available] neutron option is changed to True.\n\nChange-Id: I74cc344a9c1ae2aa523af754d22392869ff059f5\n'}]",9,918191,a4f57d3db58a068f86506d4ea6b3147ba7ea7aa8,28,4,2,9816,,,0,"Use service_available option to detect Neutron

... because nova-network was removed in Ussuri release.

To run basic neutron tests by default, the default value of
[service_available] neutron option is changed to True.

Change-Id: I74cc344a9c1ae2aa523af754d22392869ff059f5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/91/918191/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/utils/__init__.py'],1,e5dd876363e0e83b21d963f0ae9c60c91edd47ac,," 'network': CONF.service_available.neutron,"," # NOTE(masayukig): We have two network services which are neutron and # nova-network. And we have no way to know whether nova-network is # available or not. After the pending removal of nova-network from # nova, we can treat the network/neutron case in the same manner as # the other services. 'network': True,",1,6
openstack%2Fnova~919739,openstack/nova,master,I16ed92d342464325d4bef33c1e22b328bcfbe7d6,Stop using split UEC image (mostly),MERGED,2024-05-15 14:19:02.000000000,2024-05-22 19:06:07.000000000,2024-05-22 19:03:32.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 14:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7edef346a8f3ef8f4c10fe0ce8b48128ba174772', 'message': ""Stop using split UEC image (mostly)\n\nThis reverts us back to using the standard disk image for most of our\ntests, which is more representative of how people actually use nova.\nThis leaves the UEC image on a few jobs for the sake of comparison\ndata for the time being, and because we should actually test that\ncode path if we're going to say we support it.\n\nChange-Id: I16ed92d342464325d4bef33c1e22b328bcfbe7d6\n""}, {'number': 2, 'created': '2024-05-20 15:24:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/eed3e2b47ffea24d08ad7a85a4e9c36ef56d815e', 'message': ""Stop using split UEC image (mostly)\n\nThis reverts us back to using the standard disk image for most of our\ntests, which is more representative of how people actually use nova.\nThis leaves the UEC image on a few jobs for the sake of comparison\ndata for the time being, and because we should actually test that\ncode path if we're going to say we support it.\n\nChange-Id: I16ed92d342464325d4bef33c1e22b328bcfbe7d6\n""}]",96,919739,eed3e2b47ffea24d08ad7a85a4e9c36ef56d815e,47,3,2,4393,,,0,"Stop using split UEC image (mostly)

This reverts us back to using the standard disk image for most of our
tests, which is more representative of how people actually use nova.
This leaves the UEC image on a few jobs for the sake of comparison
data for the time being, and because we should actually test that
code path if we're going to say we support it.

Change-Id: I16ed92d342464325d4bef33c1e22b328bcfbe7d6
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/919739/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7edef346a8f3ef8f4c10fe0ce8b48128ba174772,devstack-ocaas, - tempest-centos9-stream-fips, <<: *uec_image_vars <<: *uec_image_vars devstack_localrc: <<: *uec_image_vars <<: *uec_image_vars <<: *uec_image_vars devstack_localrc: <<: *uec_image_vars <<: *uec_image_vars <<: *uec_image_vars devstack_localrc: <<: *uec_image_vars <<: *uec_image_vars <<: *uec_image_vars <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars - tempest-centos9-stream-fips: vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars vars: devstack_localrc: <<: *uec_image_vars,1,91
openstack%2Frequirements~919390,openstack/requirements,master,I96fee4b48a0c220393ef255c79f0e69a87b46f4a,Remove the Sahara deliverables from req,MERGED,2024-05-11 00:38:33.000000000,2024-05-22 18:44:38.000000000,2024-05-22 18:43:11.000000000,"[{'_account_id': 9816}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-11 00:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/01837f66c85d86236e9a88316228ba2942cf5afb', 'message': ""Remove the Sahara deliverables from req\n\nSahara project is retired (depends-on), so let's\nremove its deliverables/constraints from requirements.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919374\nChange-Id: I96fee4b48a0c220393ef255c79f0e69a87b46f4a\n""}, {'number': 2, 'created': '2024-05-16 23:55:49.000000000', 'files': ['global-requirements.txt', 'openstack_requirements/tests/files/upper-constraints.txt', 'denylist.txt', 'projects.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/62077ec223afa45f61264f55e3f6ecee0d9caaf5', 'message': ""Remove the Sahara deliverables from req\n\nSahara project is retired (depends-on), so let's\nremove its deliverables/constraints from requirements.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919374\nChange-Id: I96fee4b48a0c220393ef255c79f0e69a87b46f4a\n""}]",3,919390,62077ec223afa45f61264f55e3f6ecee0d9caaf5,15,4,2,8556,,,0,"Remove the Sahara deliverables from req

Sahara project is retired (depends-on), so let's
remove its deliverables/constraints from requirements.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919374
Change-Id: I96fee4b48a0c220393ef255c79f0e69a87b46f4a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/919390/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'openstack_requirements/tests/files/upper-constraints.txt', 'projects.txt', 'blacklist.txt', 'upper-constraints.txt']",5,01837f66c85d86236e9a88316228ba2942cf5afb,retire-sahara,,python-saharaclient===4.2.0,0,11
openstack%2Frequirements~919836,openstack/requirements,master,Ife9412bd35068c5e58c37bec37dacb6a8b9d7de6,update constraint for neutron-lib to new release 3.12.0,MERGED,2024-05-16 13:08:05.000000000,2024-05-22 18:43:52.000000000,2024-05-22 18:42:51.000000000,"[{'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 13:08:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/286d82a86e32e44d9ff37de1411f79dd9f0dec76', 'message': 'update constraint for neutron-lib to new release 3.12.0\n\nmeta: version: 3.12.0\nmeta: diff-start: -\nmeta: series: dalmatian\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I7d9caf397dad209ff6d8e17891ec24cd10b90d29\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>\nChange-Id: Ife9412bd35068c5e58c37bec37dacb6a8b9d7de6\n'}]",3,919836,286d82a86e32e44d9ff37de1411f79dd9f0dec76,14,4,1,11131,,,0,"update constraint for neutron-lib to new release 3.12.0

meta: version: 3.12.0
meta: diff-start: -
meta: series: dalmatian
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I7d9caf397dad209ff6d8e17891ec24cd10b90d29
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>
Change-Id: Ife9412bd35068c5e58c37bec37dacb6a8b9d7de6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/919836/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,286d82a86e32e44d9ff37de1411f79dd9f0dec76,new-release,neutron-lib===3.12.0,neutron-lib===3.11.0,1,1
openstack%2Frequirements~919400,openstack/requirements,master,I23ea13934eabf0c86999275e6b04f86e8278e3eb,Remove the ec2-api deliverables from req,MERGED,2024-05-11 01:13:40.000000000,2024-05-22 18:43:08.000000000,2024-05-22 18:43:08.000000000,"[{'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-11 01:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/301f9f0f8954f6b3af9f0f738cd07e7bda135a46', 'message': ""Remove the ec2-api deliverables from req\n\nec2-api project is retired (depends-on), so let's\nremove its deliverables/constraints from requirements.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919394/1\nChange-Id: I23ea13934eabf0c86999275e6b04f86e8278e3eb\n""}, {'number': 2, 'created': '2024-05-16 23:45:46.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eca87b778ef53e28a14ced27d48f08f216118b6f', 'message': ""Remove the ec2-api deliverables from req\n\nec2-api project is retired (depends-on), so let's\nremove its deliverables/constraints from requirements.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919394/1\nChange-Id: I23ea13934eabf0c86999275e6b04f86e8278e3eb\n""}]",0,919400,eca87b778ef53e28a14ced27d48f08f216118b6f,9,3,2,8556,,,0,"Remove the ec2-api deliverables from req

ec2-api project is retired (depends-on), so let's
remove its deliverables/constraints from requirements.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919394/1
Change-Id: I23ea13934eabf0c86999275e6b04f86e8278e3eb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/919400/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,301f9f0f8954f6b3af9f0f738cd07e7bda135a46,retire-ec2api,,openstack/ec2-api openstack/ec2api-tempest-plugin,0,2
openstack%2Frequirements~919839,openstack/requirements,master,I31e906d0c9189db08b78e07a291199bb32acb109,update constraint for python-tackerclient to new release 2.1.0,MERGED,2024-05-16 13:15:44.000000000,2024-05-22 18:43:05.000000000,2024-05-22 18:43:05.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 13:15:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/27c1ef23c4c1706729ab368fbffbcc0b269c3bd0', 'message': 'update constraint for python-tackerclient to new release 2.1.0\n\nmeta: version: 2.1.0\nmeta: diff-start: -\nmeta: series: dalmatian\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Ia14a2e1ddc500899204fcbee8c3f0cd42d102af9\nmeta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: I31e906d0c9189db08b78e07a291199bb32acb109\n'}]",0,919839,27c1ef23c4c1706729ab368fbffbcc0b269c3bd0,6,2,1,11131,,,0,"update constraint for python-tackerclient to new release 2.1.0

meta: version: 2.1.0
meta: diff-start: -
meta: series: dalmatian
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Ia14a2e1ddc500899204fcbee8c3f0cd42d102af9
meta: release:Code-Review+1: Yasufumi Ogawa <yasufum.o@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: I31e906d0c9189db08b78e07a291199bb32acb109
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/919839/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,27c1ef23c4c1706729ab368fbffbcc0b269c3bd0,new-release,python-tackerclient===2.1.0,python-tackerclient===2.0.0,1,1
openstack%2Frequirements~919833,openstack/requirements,master,Iba7e7dcc3914bc0e22f6f8e72ae25631b51824cc,update constraint for python-cyborgclient to new release 2.4.0,MERGED,2024-05-16 12:56:19.000000000,2024-05-22 18:43:02.000000000,2024-05-22 18:43:02.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 12:56:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9d051ce87b3cce5db260ca6bb761bf4aaeffc321', 'message': 'update constraint for python-cyborgclient to new release 2.4.0\n\nmeta: version: 2.4.0\nmeta: diff-start: -\nmeta: series: dalmatian\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I7724ed828b092786c9d9e454fc1562e391089a46\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Wenping Song <songwenping@inspur.com>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iba7e7dcc3914bc0e22f6f8e72ae25631b51824cc\n'}]",0,919833,9d051ce87b3cce5db260ca6bb761bf4aaeffc321,6,2,1,11131,,,0,"update constraint for python-cyborgclient to new release 2.4.0

meta: version: 2.4.0
meta: diff-start: -
meta: series: dalmatian
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I7724ed828b092786c9d9e454fc1562e391089a46
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Wenping Song <songwenping@inspur.com>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Iba7e7dcc3914bc0e22f6f8e72ae25631b51824cc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/33/919833/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9d051ce87b3cce5db260ca6bb761bf4aaeffc321,new-release,python-cyborgclient===2.4.0,python-cyborgclient===2.3.0,1,1
openstack%2Frequirements~918736,openstack/requirements,stable/2023.2,I1dd63281660dcf24cad2d12a6e4efd026bb4278f,update constraint for metalsmith to new release 2.0.2,MERGED,2024-05-09 13:37:44.000000000,2024-05-22 18:42:59.000000000,2024-05-22 18:42:59.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-09 13:37:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/917fbed5acd8779844ee07514da704ec0ff8b627', 'message': 'update constraint for metalsmith to new release 2.0.2\n\nmeta: version: 2.0.2\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: stable/2023.2\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Commit: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Change-Id: Ifa4b8bee01ee632e06e8b135c2e18376f87601e2\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I1dd63281660dcf24cad2d12a6e4efd026bb4278f\n'}]",0,918736,917fbed5acd8779844ee07514da704ec0ff8b627,6,2,1,11131,,,0,"update constraint for metalsmith to new release 2.0.2

meta: version: 2.0.2
meta: diff-start: -
meta: series: bobcat
meta: branch: stable/2023.2
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Commit: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Change-Id: Ifa4b8bee01ee632e06e8b135c2e18376f87601e2
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I1dd63281660dcf24cad2d12a6e4efd026bb4278f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/918736/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,917fbed5acd8779844ee07514da704ec0ff8b627,new-release,metalsmith===2.0.2,metalsmith===2.0.1,1,1
openstack%2Frequirements~918733,openstack/requirements,stable/2023.2,Idfe615ce9b08fa7d051a4a28ab6c0ec9adc9837a,update constraint for sushy to new release 4.5.2,MERGED,2024-05-09 13:13:41.000000000,2024-05-22 18:42:56.000000000,2024-05-22 18:42:56.000000000,"[{'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-09 13:13:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2cc454b4496dce640893a0b25a654d91ca3a8542', 'message': 'update constraint for sushy to new release 4.5.2\n\nmeta: version: 4.5.2\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: stable/2023.2\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Commit: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Change-Id: Ifa4b8bee01ee632e06e8b135c2e18376f87601e2\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Idfe615ce9b08fa7d051a4a28ab6c0ec9adc9837a\n'}]",0,918733,2cc454b4496dce640893a0b25a654d91ca3a8542,7,3,1,11131,,,0,"update constraint for sushy to new release 4.5.2

meta: version: 4.5.2
meta: diff-start: -
meta: series: bobcat
meta: branch: stable/2023.2
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Commit: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Change-Id: Ifa4b8bee01ee632e06e8b135c2e18376f87601e2
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Idfe615ce9b08fa7d051a4a28ab6c0ec9adc9837a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/33/918733/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2cc454b4496dce640893a0b25a654d91ca3a8542,new-release,sushy===4.5.2,sushy===4.5.1,1,1
openstack%2Frequirements~919842,openstack/requirements,master,I03a01891d1506ec90dc39e5c6dbdc5468e4bc096,update constraint for python-neutronclient to new release 11.3.0,MERGED,2024-05-16 13:37:33.000000000,2024-05-22 18:42:54.000000000,2024-05-22 18:42:54.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 13:37:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2fa4c44022349b470a7f2910f155c97d56a3b837', 'message': 'update constraint for python-neutronclient to new release 11.3.0\n\nmeta: version: 11.3.0\nmeta: diff-start: -\nmeta: series: dalmatian\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: Iaf8eacd08949f12e75e2d6f664c167e7a8f69108\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: I03a01891d1506ec90dc39e5c6dbdc5468e4bc096\n'}]",0,919842,2fa4c44022349b470a7f2910f155c97d56a3b837,6,2,1,11131,,,0,"update constraint for python-neutronclient to new release 11.3.0

meta: version: 11.3.0
meta: diff-start: -
meta: series: dalmatian
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: Iaf8eacd08949f12e75e2d6f664c167e7a8f69108
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: I03a01891d1506ec90dc39e5c6dbdc5468e4bc096
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/919842/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2fa4c44022349b470a7f2910f155c97d56a3b837,new-release,python-neutronclient===11.3.0,python-neutronclient===11.2.0,1,1
openstack%2Fnova-specs~919597,openstack/nova-specs,master,I2d2f294a8ddff51df7d8fd78a22c5ecf5a2dc090,Remove template files from non-empty directories,MERGED,2024-05-14 15:33:30.000000000,2024-05-22 18:36:12.000000000,2024-05-22 18:34:56.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-14 15:33:30.000000000', 'files': ['specs/pike/implemented/pike-template.rst', 'specs/ocata/implemented/ocata-template.rst', 'specs/2024.2/approved/2024.2-template.rst', 'specs/stein/approved/stein-template.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6bb0cb62c4a3a91447a2f525fd386cc9f3e40bbf', 'message': 'Remove template files from non-empty directories\n\nThese template files were added as placeholders but are no longer\nneeded once actual spec files are placed in the same directories.\n\nChange-Id: I2d2f294a8ddff51df7d8fd78a22c5ecf5a2dc090\n'}]",0,919597,6bb0cb62c4a3a91447a2f525fd386cc9f3e40bbf,8,3,1,9816,,,0,"Remove template files from non-empty directories

These template files were added as placeholders but are no longer
needed once actual spec files are placed in the same directories.

Change-Id: I2d2f294a8ddff51df7d8fd78a22c5ecf5a2dc090
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/97/919597/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/pike/implemented/pike-template.rst', 'specs/ocata/implemented/ocata-template.rst', 'specs/2024.2/approved/2024.2-template.rst', 'specs/stein/approved/stein-template.rst']",4,6bb0cb62c4a3a91447a2f525fd386cc9f3e40bbf,,,../../stein-template.rst,0,4
openstack%2Fansible-collection-kolla~920132,openstack/ansible-collection-kolla,stable/2024.1,I274d698956303af832972c2c5e16509f2053bd5b,docker_sdk: Pin requests to <2.32 due to docker-py incompatibility,MERGED,2024-05-22 14:38:51.000000000,2024-05-22 18:31:41.000000000,2024-05-22 18:30:31.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-05-22 14:38:51.000000000', 'files': ['roles/docker_sdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/7505d7a6bd31e54522db05ea857547631be054a0', 'message': 'docker_sdk: Pin requests to <2.32 due to docker-py incompatibility\n\nCloses-Bug: #2066364\nChange-Id: I274d698956303af832972c2c5e16509f2053bd5b\n(cherry picked from commit cf7b405c4aa788bb307020b739c93094ae0050a9)\n'}]",1,920132,7505d7a6bd31e54522db05ea857547631be054a0,9,3,1,22629,,,0,"docker_sdk: Pin requests to <2.32 due to docker-py incompatibility

Closes-Bug: #2066364
Change-Id: I274d698956303af832972c2c5e16509f2053bd5b
(cherry picked from commit cf7b405c4aa788bb307020b739c93094ae0050a9)
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/32/920132/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/docker_sdk/defaults/main.yml'],1,7505d7a6bd31e54522db05ea857547631be054a0,," - ""requests<2.32""",,1,0
openstack%2Frequirements~920088,openstack/requirements,master,I617b2d73054e2b2149ea1b0095ec9d08c0e4deea,update constraint for tooz to new release 6.2.0,MERGED,2024-05-21 09:43:02.000000000,2024-05-22 18:24:49.000000000,2024-05-22 18:20:25.000000000,"[{'_account_id': 9816}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 09:43:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/30e6988eba003895d9deb35750723cf9b61891d1', 'message': 'update constraint for tooz to new release 6.2.0\n\nmeta: version: 6.2.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Takashi Kajinami <kajinamit@oss.nttdata.com>\nmeta: release:Commit: Takashi Kajinami <kajinamit@oss.nttdata.com>\nmeta: release:Change-Id: Ie48b92ca25626de3ee00b0dcff755c2d8fe2afff\nmeta: release:Code-Review+2: Jens Harbott <frickler@offenerstapel.de>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I617b2d73054e2b2149ea1b0095ec9d08c0e4deea\n'}]",3,920088,30e6988eba003895d9deb35750723cf9b61891d1,12,3,1,11131,,,0,"update constraint for tooz to new release 6.2.0

meta: version: 6.2.0
meta: diff-start: -
meta: series: independent
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Takashi Kajinami <kajinamit@oss.nttdata.com>
meta: release:Commit: Takashi Kajinami <kajinamit@oss.nttdata.com>
meta: release:Change-Id: Ie48b92ca25626de3ee00b0dcff755c2d8fe2afff
meta: release:Code-Review+2: Jens Harbott <frickler@offenerstapel.de>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I617b2d73054e2b2149ea1b0095ec9d08c0e4deea
",git fetch https://review.opendev.org/openstack/requirements refs/changes/88/920088/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,30e6988eba003895d9deb35750723cf9b61891d1,new-release,tooz===6.2.0,tooz===6.1.0,1,1
openstack%2Ftempest~842240,openstack/tempest,master,I0e7f4c7717f3451f4a09dad0d50a1ada018497ff,Add wait for server SSH-able in base attach_volume method,ABANDONED,2022-05-17 22:58:42.000000000,2024-05-22 18:24:38.000000000,,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 22:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/db26904ac6d61568de460269f3f7c8a5cd0e1be0', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 2, 'created': '2022-05-18 02:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d6879914b8548862c9ccc70b787b8b4f66f3cccd', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 3, 'created': '2022-05-18 19:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b19487e2c816ac5babb776dcc4635e9516d62570', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 4, 'created': '2022-05-19 14:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/16c48d98c4616e056e94f59bd632704f43cff246', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 5, 'created': '2022-05-30 17:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8b700dcb240cb30cbac7c6857644d6be222aff9f', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method. This need create\nserver method to inject the validation resources in server\nby default.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 6, 'created': '2022-11-25 10:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/df3637a1e238931875235ba7c91935229215494f', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method. This need create\nserver method to inject the validation resources in server\nby default.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 7, 'created': '2022-11-25 16:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/692f517c62863ef7c18010a4de2f0e1cc3aa80bc', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method. This need create\nserver method to inject the validation resources in server\nby default.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 8, 'created': '2022-11-25 20:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8afb36580dcc1acf2a877ed64e74923d09acc39e', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method. This need create\nserver method to inject the validation resources in server\nby default.\n\nTo make network setup for all the validatable servers, we need\nto create the network resources by default.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 9, 'created': '2022-11-25 20:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5a33e7f8b0f8e38a2a081c826afe7ed7d46461e2', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method. This need create\nserver method to inject the validation resources in server\nby default.\n\nTo make network setup for all the validatable servers, we need\nto create the network resources by default.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 10, 'created': '2022-11-25 21:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc5d292c4af5e083905da1773fbb7d861edd0dff', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method. This need create\nserver method to inject the validation resources in server\nby default.\n\nTo make network setup for all the validatable servers, we need\nto create the network resources by default.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 11, 'created': '2023-05-02 00:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0900bf2a9ed9dbf9ecc960688ddb1a0e9c4a4cab', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method. This need create\nserver method to inject the validation resources in server\nby default.\n\nTo make network setup for all the validatable servers, we need\nto create the network resources by default.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}, {'number': 12, 'created': '2023-05-02 01:05:05.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/api/volume/base.py', 'tempest/api/compute/servers/test_server_rescue_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7094e7580222035ad02f56685618dc5b33ba71b4', 'message': ""Add wait for server SSH-able in base attach_volume method\n\nAs explained in bug#1960346, we need to wait for server to\nbe fully booted before detach volume is called. Let's add\na wait in attach_volume base method so that we double make\nsure server is ready before detach_volume is called either\nby test explicitly or via cleanup method. This need create\nserver method to inject the validation resources in server\nby default.\n\nTo make network setup for all the validatable servers, we need\nto create the network resources by default.\n\nCloses-Bug: #1960346\nChange-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff\n""}]",6,842240,7094e7580222035ad02f56685618dc5b33ba71b4,36,3,12,8556,,,0,"Add wait for server SSH-able in base attach_volume method

As explained in bug#1960346, we need to wait for server to
be fully booted before detach volume is called. Let's add
a wait in attach_volume base method so that we double make
sure server is ready before detach_volume is called either
by test explicitly or via cleanup method. This need create
server method to inject the validation resources in server
by default.

To make network setup for all the validatable servers, we need
to create the network resources by default.

Closes-Bug: #1960346
Change-Id: I0e7f4c7717f3451f4a09dad0d50a1ada018497ff
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/842240/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/api/volume/base.py', 'tempest/api/compute/servers/test_server_rescue_negative.py']",3,db26904ac6d61568de460269f3f7c8a5cd0e1be0,bug/1960346,,"from tempest.common import compute # NOTE(gmann) In next addCleanup, server unrescue is called before the # detach volume is called in cleanup (added by self.attach_volume() # method) so to make sure server is ready before detach operation, we # need to perform ssh on it, more details are in bug#1960346. if CONF.validation.run_validation: tenant_network = self.get_tenant_network() self.addCleanup(compute.wait_for_ssh_or_ping, server, self.os_primary, tenant_network, True, validation_resources, ""SSHABLE"", True)",28,10
openstack%2Foctavia~919572,openstack/octavia,stable/2023.1,Iaaf37ac50726bf2ab067be96a596d707e8dfe5d6,Remove grenade jobs [stable/2023.1],MERGED,2024-05-14 13:44:19.000000000,2024-05-22 18:24:31.000000000,2024-05-22 18:21:17.000000000,"[{'_account_id': 6577}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-05-14 13:44:19.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3cf3288ceaf53020df9793130d83f98460b6da96', 'message': 'Remove grenade jobs [stable/2023.1]\n\nZed is now EOL, we can skip grenade on 2023.1\n\nChange-Id: Iaaf37ac50726bf2ab067be96a596d707e8dfe5d6\n'}]",9,919572,3cf3288ceaf53020df9793130d83f98460b6da96,9,4,1,29244,,,0,"Remove grenade jobs [stable/2023.1]

Zed is now EOL, we can skip grenade on 2023.1

Change-Id: Iaaf37ac50726bf2ab067be96a596d707e8dfe5d6
",git fetch https://review.opendev.org/openstack/octavia refs/changes/72/919572/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,3cf3288ceaf53020df9793130d83f98460b6da96,,, - octavia-grenade: irrelevant-files: &grenade-irrelevant-files - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$ - octavia-grenade-skip-level: irrelevant-files: *grenade-irrelevant-files - octavia-grenade - octavia-grenade-skip-level - octavia-grenade-amphora-v2,0,16
openstack%2Foctavia~917996,openstack/octavia,master,I2415aafaebd340e4a07b85df2c8917244266ed4c,Fix test_prometheus_proxy.test_main,MERGED,2024-05-02 17:10:07.000000000,2024-05-22 18:24:30.000000000,2024-05-22 18:21:15.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-05-02 17:10:07.000000000', 'files': ['octavia/tests/unit/cmd/test_prometheus_proxy.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/08fca664235b9508d7a5d7c555161503857e6d1e', 'message': 'Fix test_prometheus_proxy.test_main\n\ntest_main may have randomly failed when running multiple tests in\nparallel because ThreadingHTTPServer was not mocked, so a server was\ncreated, this commit fixes this issue, the server is no longer\ninstantiated and is now mocked.\n\nChange-Id: I2415aafaebd340e4a07b85df2c8917244266ed4c\nCloses-Bug: #2039245\n'}]",3,917996,08fca664235b9508d7a5d7c555161503857e6d1e,13,4,1,29244,,,0,"Fix test_prometheus_proxy.test_main

test_main may have randomly failed when running multiple tests in
parallel because ThreadingHTTPServer was not mocked, so a server was
created, this commit fixes this issue, the server is no longer
instantiated and is now mocked.

Change-Id: I2415aafaebd340e4a07b85df2c8917244266ed4c
Closes-Bug: #2039245
",git fetch https://review.opendev.org/openstack/octavia refs/changes/96/917996/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/tests/unit/cmd/test_prometheus_proxy.py'],1,08fca664235b9508d7a5d7c555161503857e6d1e,," @mock.patch('http.server.ThreadingHTTPServer.__init__') mock_netns_exit, mock_serve_forever, mock_server_init, mock_thread): mock_server_init.return_value = None mock_server_init.assert_called_once_with( ('127.0.0.1', 9102), prometheus_proxy.PrometheusProxy)"," mock_netns_exit, mock_serve_forever, mock_thread):",8,1
openstack%2Fcinder~903503,openstack/cinder,master,Iff73b534407a9054e73901fc3775830f884301d7,Tests: Fix invalid assert calls,MERGED,2023-12-12 13:28:23.000000000,2024-05-22 18:24:25.000000000,2024-05-22 18:20:18.000000000,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}, {'_account_id': 33473}]","[{'number': 1, 'created': '2023-12-12 13:28:23.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/86a9bdc5fd234f4efbfe5ee6c244c7ebb7a982d9', 'message': 'Tests: Fix invalid assert calls\n\n""not_called"" -> ""assert_not_called""\n""called_with"" -> ""assert_called_once_with""\n\nThese calls currently don\'t do anything because they\nare mis-named.\n\nCloses-Bug: #2046227\n\nChange-Id: Iff73b534407a9054e73901fc3775830f884301d7\n'}]",6,903503,86a9bdc5fd234f4efbfe5ee6c244c7ebb7a982d9,31,6,1,4523,,,0,"Tests: Fix invalid assert calls

""not_called"" -> ""assert_not_called""
""called_with"" -> ""assert_called_once_with""

These calls currently don't do anything because they
are mis-named.

Closes-Bug: #2046227

Change-Id: Iff73b534407a9054e73901fc3775830f884301d7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/903503/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",2,86a9bdc5fd234f4efbfe5ee6c244c7ebb7a982d9,," rem_vol.assert_not_called() mock_failover.assert_called_once_with(fake_context, fake_cinder_vols, ""secondary"", None) mock_failover_completed.assert_called_once_with(fake_context, ""secondary"")"," rem_vol.not_called(get_vol_result['volumeID']) mock_failover.called_with(fake_context, fake_cinder_vols, ""secondary"", None) mock_failover_completed.called_with(fake_context, ""secondary"")",9,6
openstack%2Fcinder~901037,openstack/cinder,stable/2023.1,I3efab6793bc90ce094e54d4a7a2432b1b447e347,Stable-only: Remove skip-level upgrade job,MERGED,2023-11-15 14:04:54.000000000,2024-05-22 18:24:20.000000000,2024-05-22 18:20:15.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-15 14:04:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f9632461891a6c6c4af3ed006a021151e3ebd2c', 'message': 'Stable-only: Remove skip-level upgrade job\n\nSkip level upgrade is supported between .1 releases only. Because\n2023.1 is the first ""tick"" release we don\'t need to test skip level\nupgrade to 2023.1.\n\nChange-Id: I3efab6793bc90ce094e54d4a7a2432b1b447e347\n'}]",5,901037,8f9632461891a6c6c4af3ed006a021151e3ebd2c,19,3,1,9816,,,0,"Stable-only: Remove skip-level upgrade job

Skip level upgrade is supported between .1 releases only. Because
2023.1 is the first ""tick"" release we don't need to test skip level
upgrade to 2023.1.

Change-Id: I3efab6793bc90ce094e54d4a7a2432b1b447e347
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/901037/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8f9632461891a6c6c4af3ed006a021151e3ebd2c,,, - grenade-skip-level: irrelevant-files: *gate-irrelevant-files,0,2
openstack%2Fdevstack~881368,openstack/devstack,master,Ia17c7a136cbe83efa1ef4e302d1c404034a50cda,Add manila service to configuration,NEW,2023-04-24 12:49:27.000000000,2024-05-22 18:24:17.000000000,,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 12:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e3e9ca674776dafe2ea122e85b3d3e355cf8b439', 'message': 'WIP Add manila service to configuration\n\nManila is a service in OpenStack that enables shared filesystems. The\nmodifications add the manila section in nova configuration files\nenabling the virtiofs feature.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nChange-Id: Ia17c7a136cbe83efa1ef4e302d1c404034a50cda\n'}, {'number': 2, 'created': '2023-04-24 13:02:32.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b8f228620f6ad038ab8f31db861580f5e664a280', 'message': 'Add manila service to configuration\n\nManila is a service in OpenStack that enables shared filesystems. The\nmodifications add the manila section in nova configuration files\nenabling the virtiofs feature.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nChange-Id: Ia17c7a136cbe83efa1ef4e302d1c404034a50cda\n'}]",3,881368,b8f228620f6ad038ab8f31db861580f5e664a280,10,3,2,16207,,,0,"Add manila service to configuration

Manila is a service in OpenStack that enables shared filesystems. The
modifications add the manila section in nova configuration files
enabling the virtiofs feature.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: Ia17c7a136cbe83efa1ef4e302d1c404034a50cda
",git fetch https://review.opendev.org/openstack/devstack refs/changes/68/881368/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,e3e9ca674776dafe2ea122e85b3d3e355cf8b439,bp/manila_shares_attachments," PROJECT_VENV[""nova""]=${NOVA_DIR}.venv NOVA_BIN_DIR=${PROJECT_VENV[""nova""]}/bin NOVA_BIN_DIR=$(get_python_exec_prefix) NOVA_SERVICE_PROTOCOL=""https"" die $LINENO ""enabling TLS for the console proxy requires the tls-proxy service"" NOVA_MY_IP=""$HOST_IPV6"" NOVA_MY_IP=""$HOST_IP"" # Load plugin source $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER [[ ,${DISABLED_SERVICES} =~ ,""nova"" ]] && return 1 [[ ,${ENABLED_SERVICES} =~ ,""n-"" ]] && return 0 return 1 [[ ${NOVA_CONSOLE_PROXY_COMPUTE_TLS} = ""True"" ]] && return 0 return 1 # Delete rules sudo iptables -S -v | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-A"" | sed ""s/-A/-D/g"" | awk '{print ""sudo iptables"",$0}' | bash # Delete nat rules sudo iptables -S -v -t nat | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-A"" | sed ""s/-A/-D/g"" | awk '{print ""sudo iptables -t nat"",$0}' | bash # Delete chains sudo iptables -S -v | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-N"" | sed ""s/-N/-X/g"" | awk '{print ""sudo iptables"",$0}' | bash # Delete nat chains sudo iptables -S -v -t nat | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-N"" | sed ""s/-N/-X/g"" | awk '{print ""sudo iptables -t nat"",$0}' | bash if is_service_enabled n-cpu; then # Clean iptables from previous runs clean_iptables # Destroy old instances local instances instances=$(sudo virsh list --all | grep $INSTANCE_NAME_PREFIX | sed ""s/.*\($INSTANCE_NAME_PREFIX[0-9a-fA-F]*\).*/\1/g"") if [ ! ""$instances"" = """" ]; then echo $instances | xargs -n1 sudo virsh destroy || true if ! xargs -n1 sudo virsh undefine --managed-save --nvram <<<$instances; then # Can't delete with nvram flags, then just try without this flag xargs -n1 sudo virsh undefine --managed-save <<<$instances fi fi # Logout and delete iscsi sessions local tgts tgts=$(sudo iscsiadm --mode node | grep $VOLUME_NAME_PREFIX | cut -d ' ' -f2) local target for target in $tgts; do sudo iscsiadm --mode node -T $target --logout || true done sudo iscsiadm --mode node --op delete || true # Disconnect all nvmeof connections sudo nvme disconnect-all || true # Clean out the instances directory. sudo rm -rf $NOVA_INSTANCES_PATH/* fi sudo rm -rf $NOVA_STATE_PATH # NOTE(dtroyer): This really should be called from here but due to the way # nova abuses the _cleanup() function we're moving it # directly into cleanup.sh until this can be fixed. #if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then # cleanup_nova_hypervisor #fi stop_process ""n-api"" stop_process ""n-api-meta"" remove_uwsgi_config ""$NOVA_UWSGI_CONF"" ""$NOVA_UWSGI"" remove_uwsgi_config ""$NOVA_METADATA_UWSGI_CONF"" ""$NOVA_METADATA_UWSGI"" if [[ ""$NOVA_BACKEND"" == ""LVM"" ]]; then clean_lvm_volume_group $DEFAULT_VOLUME_GROUP_NAME fi # Put config files in ``/etc/nova`` for everyone to find sudo install -d -o $STACK_USER $NOVA_CONF_DIR configure_rootwrap nova if [[ ""$ENABLED_SERVICES"" =~ ""n-api"" ]]; then # Get the sample configuration file in place cp $NOVA_DIR/etc/nova/api-paste.ini $NOVA_CONF_DIR fi if is_service_enabled n-cpu; then # Force IP forwarding on, just on case sudo sysctl -w net.ipv4.ip_forward=1 if [[ ""$VIRT_DRIVER"" = 'libvirt' ]]; then # Check for kvm (hardware based virtualization). If unable to initialize # kvm, we drop back to the slower emulation mode (qemu). Note: many systems # come with hardware virtualization disabled in BIOS. if [[ ""$LIBVIRT_TYPE"" == ""kvm"" ]]; then sudo modprobe kvm || true if [ ! -e /dev/kvm ]; then echo ""WARNING: Switching to QEMU"" LIBVIRT_TYPE=qemu LIBVIRT_CPU_MODE=custom LIBVIRT_CPU_MODEL=Nehalem if which selinuxenabled >/dev/null 2>&1 && selinuxenabled; then # https://bugzilla.redhat.com/show_bug.cgi?id=753589 sudo setsebool virt_use_execmem on fi fi fi # Install and configure **LXC** if specified. LXC is another approach to # splitting a system into many smaller parts. LXC uses cgroups and chroot # to simulate multiple systems. if [[ ""$LIBVIRT_TYPE"" == ""lxc"" ]]; then if is_ubuntu; then # enable nbd for lxc unless you're using an lvm backend # otherwise you can't boot instances if [[ ""$NOVA_BACKEND"" != ""LVM"" ]]; then sudo modprobe nbd fi fi fi fi # Instance Storage # ---------------- # Nova stores each instance in its own directory. sudo install -d -o $STACK_USER $NOVA_INSTANCES_PATH # You can specify a different disk to be mounted and used for backing the # virtual machines. If there is a partition labeled nova-instances we # mount it (ext filesystems can be labeled via e2label). if [ -L /dev/disk/by-label/nova-instances ]; then if ! mount -n | grep -q $NOVA_INSTANCES_PATH; then sudo mount -L nova-instances $NOVA_INSTANCES_PATH sudo chown -R $STACK_USER $NOVA_INSTANCES_PATH fi fi # Due to cinder bug #1966513 we ALWAYS need an initiator name for LVM # Ensure each compute host uses a unique iSCSI initiator echo InitiatorName=$(iscsi-iname) | sudo tee /etc/iscsi/initiatorname.iscsi if [[ ${ISCSID_DEBUG} == ""True"" ]]; then # Install an override that starts iscsid with debugging # enabled. cat >/tmp/iscsid.override <<EOF sudo mkdir -p /etc/systemd/system/iscsid.service.d sudo mv /tmp/iscsid.override /etc/systemd/system/iscsid.service.d/override.conf sudo systemctl daemon-reload fi # set chap algorithms. The default chap_algorithm is md5 which will # not work under FIPS. iniset -sudo /etc/iscsi/iscsid.conf DEFAULT ""node.session.auth.chap_algs"" ""SHA3-256,SHA256"" if [[ $CINDER_TARGET_HELPER != 'nvmet' ]]; then # ensure that iscsid is started, even when disabled by default restart_service iscsid # For NVMe-oF we need different packages that many not be present else install_package nvme-cli sudo modprobe nvme-fabrics # Ensure NVMe is ready and create the Soft-RoCE device over the networking interface if [[ $CINDER_TARGET_PROTOCOL == 'nvmet_rdma' ]]; then sudo modprobe nvme-rdma iface=${HOST_IP_IFACE:-$(ip -br -$SERVICE_IP_VERSION a | grep $NOVA_MY_IP | awk '{print $1}')} if ! sudo rdma link | grep $iface; then sudo rdma link add rxe_$iface type rxe netdev $iface fi elif [[ $CINDER_TARGET_PROTOCOL == 'nvmet_tcp' ]]; then sudo modprobe nvme-tcp else # 'nvmet_fc' sudo modprobe nvme-fc fi fi fi # Rebuild the config file from scratch create_nova_conf if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then # Configure hypervisor plugin configure_nova_hypervisor fi # Nova if [[ ""$ENABLED_SERVICES"" =~ ""n-api"" ]]; then # NOTE(jamielennox): Nova doesn't need the admin role here, however neutron uses # this service user when notifying nova of changes and that requires the admin role. create_service_user ""nova"" ""admin"" local nova_api_url if [[ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]]; then nova_api_url=""$NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST:$NOVA_SERVICE_PORT"" else nova_api_url=""$NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST/compute"" fi get_or_create_service ""nova_legacy"" ""compute_legacy"" ""Nova Compute Service (Legacy 2.0)"" get_or_create_endpoint \ ""compute_legacy"" \ ""$REGION_NAME"" \ ""$nova_api_url/v2/\$(project_id)s"" get_or_create_service ""nova"" ""compute"" ""Nova Compute Service"" get_or_create_endpoint \ ""compute"" \ ""$REGION_NAME"" \ ""$nova_api_url/v2.1"" fi if is_service_enabled n-api; then # Swift if is_service_enabled swift; then # Nova needs ResellerAdmin role to download images when accessing # swift through the s3 api. get_or_add_user_project_role ResellerAdmin nova $SERVICE_PROJECT_NAME $SERVICE_DOMAIN_NAME $SERVICE_DOMAIN_NAME fi fi # S3 if is_service_enabled s3api; then get_or_create_service ""s3"" ""s3"" ""S3"" get_or_create_endpoint \ ""s3"" \ ""$REGION_NAME"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" fi # Unified limits if is_service_enabled n-api; then if [[ ""$NOVA_USE_UNIFIED_LIMITS"" = True ]]; then configure_nova_unified_limits fi fi # Remove legacy ``nova.conf`` rm -f $NOVA_DIR/bin/nova.conf # (Re)create ``nova.conf`` rm -f $NOVA_CONF iniset $NOVA_CONF DEFAULT debug ""$ENABLE_DEBUG_LOG_LEVEL"" if [ ""$NOVA_ALLOW_MOVE_TO_SAME_HOST"" == ""True"" ]; then iniset $NOVA_CONF DEFAULT allow_resize_to_same_host ""True"" fi iniset $NOVA_CONF wsgi api_paste_config ""$NOVA_API_PASTE_INI"" iniset $NOVA_CONF DEFAULT rootwrap_config ""$NOVA_CONF_DIR/rootwrap.conf"" iniset $NOVA_CONF filter_scheduler enabled_filters ""$NOVA_FILTERS"" iniset $NOVA_CONF scheduler workers ""$API_WORKERS"" iniset $NOVA_CONF neutron default_floating_pool ""$PUBLIC_NETWORK_NAME"" iniset $NOVA_CONF DEFAULT my_ip ""$NOVA_MY_IP"" iniset $NOVA_CONF DEFAULT instance_name_template ""${INSTANCE_NAME_PREFIX}%08x"" iniset $NOVA_CONF DEFAULT osapi_compute_listen ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $NOVA_CONF DEFAULT metadata_listen ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $NOVA_CONF DEFAULT shutdown_timeout $NOVA_SHUTDOWN_TIMEOUT iniset $NOVA_CONF key_manager backend nova.keymgr.conf_key_mgr.ConfKeyManager if is_fedora; then # nova defaults to /usr/local/bin, but fedora pip like to # install things in /usr/bin iniset $NOVA_CONF DEFAULT bindir ""/usr/bin"" fi # only setup database connections and cache backend if there are services # that require them running on the host. The ensures that n-cpu doesn't # leak a need to use the db in a multinode scenario. if is_service_enabled n-api n-cond n-sched; then # If we're in multi-tier cells mode, we want our control services pointing # at cell0 instead of cell1 to ensure isolation. If not, we point everything # at the main database like normal. if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then local db=""nova_cell1"" else local db=""nova_cell0"" # When in superconductor mode, nova-compute can't send instance # info updates to the scheduler, so just disable it. iniset $NOVA_CONF filter_scheduler track_instance_changes False fi iniset $NOVA_CONF database connection $(database_connection_url $db) iniset $NOVA_CONF api_database connection $(database_connection_url nova_api) # Cache related settings # Those settings aren't really needed in n-cpu thus it is configured # only on nodes which runs controller services iniset $NOVA_CONF cache enabled $NOVA_ENABLE_CACHE iniset $NOVA_CONF cache backend $CACHE_BACKEND iniset $NOVA_CONF cache memcache_servers $MEMCACHE_SERVERS fi if is_service_enabled n-api; then if is_service_enabled n-api-meta; then # If running n-api-meta as a separate service NOVA_ENABLED_APIS=$(echo $NOVA_ENABLED_APIS | sed ""s/,metadata//"") fi iniset $NOVA_CONF DEFAULT enabled_apis ""$NOVA_ENABLED_APIS"" if [[ ""$NOVA_ENFORCE_SCOPE"" == ""True"" || ""$ENFORCE_SCOPE"" == ""True"" ]]; then iniset $NOVA_CONF oslo_policy enforce_new_defaults True iniset $NOVA_CONF oslo_policy enforce_scope True else iniset $NOVA_CONF oslo_policy enforce_new_defaults False iniset $NOVA_CONF oslo_policy enforce_scope False fi if is_service_enabled tls-proxy && [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then # Set the service port for a proxy to take the original iniset $NOVA_CONF DEFAULT osapi_compute_listen_port ""$NOVA_SERVICE_PORT_INT"" iniset $NOVA_CONF DEFAULT osapi_compute_link_prefix $NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST:$NOVA_SERVICE_PORT fi configure_keystone_authtoken_middleware $NOVA_CONF nova fi if is_service_enabled cinder; then configure_cinder_access fi if is_service_enabled manila; then configure_manila_access fi if [ -n ""$NOVA_STATE_PATH"" ]; then iniset $NOVA_CONF DEFAULT state_path ""$NOVA_STATE_PATH"" iniset $NOVA_CONF oslo_concurrency lock_path ""$NOVA_STATE_PATH"" fi if [ -n ""$NOVA_INSTANCES_PATH"" ]; then iniset $NOVA_CONF DEFAULT instances_path ""$NOVA_INSTANCES_PATH"" fi if [ ""$SYSLOG"" != ""False"" ]; then iniset $NOVA_CONF DEFAULT use_syslog ""True"" fi if [ ""$FORCE_CONFIG_DRIVE"" != ""False"" ]; then iniset $NOVA_CONF DEFAULT force_config_drive ""$FORCE_CONFIG_DRIVE"" fi # nova defaults to genisoimage but only mkisofs is available for 15.0+ # rhel provides mkisofs symlink to genisoimage or xorriso appropiately if is_fedora; then iniset $NOVA_CONF DEFAULT mkisofs_cmd /usr/bin/mkisofs fi # Format logging setup_logging $NOVA_CONF iniset $NOVA_CONF upgrade_levels compute ""auto"" if is_service_enabled n-api; then write_uwsgi_config ""$NOVA_UWSGI_CONF"" ""$NOVA_UWSGI"" ""/compute"" fi if is_service_enabled n-api-meta; then write_uwsgi_config ""$NOVA_METADATA_UWSGI_CONF"" ""$NOVA_METADATA_UWSGI"" """" ""$SERVICE_LISTEN_ADDRESS:${METADATA_SERVICE_PORT}"" fi if is_service_enabled ceilometer; then iniset $NOVA_CONF DEFAULT instance_usage_audit ""True"" iniset $NOVA_CONF DEFAULT instance_usage_audit_period ""hour"" iniset $NOVA_CONF DEFAULT notify_on_state_change ""vm_and_task_state"" fi # Set the oslo messaging driver to the typical default. This does not # enable notifications, but it will allow them to function when enabled. iniset $NOVA_CONF oslo_messaging_notifications driver ""messagingv2"" iniset $NOVA_CONF oslo_messaging_notifications transport_url $(get_notification_url) iniset $NOVA_CONF notifications notification_format ""$NOVA_NOTIFICATION_FORMAT"" iniset_rpc_backend nova $NOVA_CONF iniset $NOVA_CONF DEFAULT osapi_compute_workers ""$API_WORKERS"" iniset $NOVA_CONF DEFAULT metadata_workers ""$API_WORKERS"" # don't let the conductor get out of control now that we're using a pure python db driver iniset $NOVA_CONF conductor workers ""$API_WORKERS"" if is_service_enabled tls-proxy; then iniset $NOVA_CONF DEFAULT glance_protocol https iniset $NOVA_CONF oslo_middleware enable_proxy_headers_parsing True fi iniset $NOVA_CONF DEFAULT graceful_shutdown_timeout ""$SERVICE_GRACEFUL_SHUTDOWN_TIMEOUT"" if [ ""$NOVA_USE_SERVICE_TOKEN"" == ""True"" ]; then init_nova_service_user_conf fi if is_service_enabled n-cond; then for i in $(seq 1 $NOVA_NUM_CELLS); do local conf local vhost conf=$(conductor_conf $i) vhost=""nova_cell${i}"" # clean old conductor conf rm -f $conf iniset $conf database connection $(database_connection_url nova_cell${i}) iniset $conf conductor workers ""$API_WORKERS"" iniset $conf DEFAULT debug ""$ENABLE_DEBUG_LOG_LEVEL"" # if we have a singleconductor, we don't have per host message queues. if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then iniset_rpc_backend nova $conf DEFAULT else rpc_backend_add_vhost $vhost iniset_rpc_backend nova $conf DEFAULT $vhost # When running in superconductor mode, the cell conductor # must be configured to talk to the placement service for # reschedules to work. if is_service_enabled placement placement-client; then configure_placement_nova_compute $conf fi fi # Format logging setup_logging $conf done fi # Console proxy configuration has to go after conductor configuration # because the per cell config file nova_cellN.conf is cleared out as part # of conductor configuration. if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then configure_console_proxies else for i in $(seq 1 $NOVA_NUM_CELLS); do local conf local offset conf=$(conductor_conf $i) offset=$((i - 1)) configure_console_proxies $conf $offset done fi # Use the provided config file path or default to $NOVA_CONF. local conf=${1:-$NOVA_CONF} iniset $conf placement auth_type ""password"" iniset $conf placement auth_url ""$KEYSTONE_SERVICE_URI"" iniset $conf placement username placement iniset $conf placement password ""$SERVICE_PASSWORD"" iniset $conf placement user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $conf placement project_name ""$SERVICE_TENANT_NAME"" iniset $conf placement project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $conf placement region_name ""$REGION_NAME"" iniset $NOVA_CONF cinder os_region_name ""$REGION_NAME"" iniset $NOVA_CONF cinder auth_type ""password"" iniset $NOVA_CONF cinder auth_url ""$KEYSTONE_SERVICE_URI"" # NOTE(mriedem): This looks a bit weird but we use the nova user here # since it has the admin role and the cinder user does not. This is # similar to using the nova user in init_nova_service_user_conf. We need # to use a user with the admin role for background tasks in nova to # be able to GET block-storage API resources owned by another project # since cinder has low-level ""is_admin"" checks in its DB API. iniset $NOVA_CONF cinder username nova iniset $NOVA_CONF cinder password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF cinder user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF cinder project_name ""$SERVICE_TENANT_NAME"" iniset $NOVA_CONF cinder project_domain_name ""$SERVICE_DOMAIN_NAME"" if is_service_enabled tls-proxy; then CINDER_SERVICE_HOST=${CINDER_SERVICE_HOST:-$SERVICE_HOST} CINDER_SERVICE_PORT=${CINDER_SERVICE_PORT:-8776} iniset $NOVA_CONF cinder cafile $SSL_BUNDLE_FILE fi } # Configure access to manila. function configure_manila_access { iniset $NOVA_CONF manila os_region_name ""$REGION_NAME"" iniset $NOVA_CONF manila auth_type ""password"" iniset $NOVA_CONF manila auth_url ""$KEYSTONE_SERVICE_URI"" # NOTE(mriedem): This looks a bit weird but we use the nova user here # since it has the admin role and the manila user does not. This is # similar to using the nova user in init_nova_service_user_conf. We need # to use a user with the admin role for background tasks in nova to # be able to GET block-storage API resources owned by another project # since manila has low-level ""is_admin"" checks in its DB API. iniset $NOVA_CONF manila username nova iniset $NOVA_CONF manila password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF manila user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF manila project_name ""$SERVICE_TENANT_NAME"" iniset $NOVA_CONF manila project_domain_name ""$SERVICE_DOMAIN_NAME"" # If we are running multiple cells (and thus multiple console proxies) on a # single host, we offset the ports to avoid collisions. We need to # correspondingly configure the console proxy port for nova-compute and we # can use the NOVA_CPU_CELL variable to know which cell we are for # calculating the offset. # Stagger the offset based on the total number of possible console proxies # (novnc, spice, serial) so that their ports will not collide if # all are enabled. local offset offset=$(((NOVA_CPU_CELL - 1) * 3)) # Use the host IP instead of the service host because for multi-node, the # service host will be the controller only. local default_proxyclient_addr default_proxyclient_addr=$(iniget $NOVA_CPU_CONF DEFAULT my_ip) # All nova-compute workers need to know the vnc configuration options # These settings don't hurt anything if n-novnc is disabled if is_service_enabled n-cpu; then if [ ""$NOVNC_FROM_PACKAGE"" == ""True"" ]; then # Use the old URL when installing novnc packages. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_auto.html""} elif vercmp ${NOVNC_BRANCH} ""<"" ""1.0.0""; then # Use the old URL when installing older novnc source. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_auto.html""} else # Use the new URL when building >=v1.0.0 from source. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_lite.html""} fi iniset $NOVA_CPU_CONF vnc novncproxy_base_url ""$NOVNCPROXY_URL"" SPICEHTML5PROXY_URL=${SPICEHTML5PROXY_URL:-""http://$SERVICE_HOST:$((6081 + offset))/spice_auto.html""} iniset $NOVA_CPU_CONF spice html5proxy_base_url ""$SPICEHTML5PROXY_URL"" fi if is_service_enabled n-novnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then # Address on which instance vncservers will listen on compute hosts. # For multi-host, this should be the management ip of the compute host. VNCSERVER_LISTEN=${VNCSERVER_LISTEN:-$NOVA_SERVICE_LISTEN_ADDRESS} VNCSERVER_PROXYCLIENT_ADDRESS=${VNCSERVER_PROXYCLIENT_ADDRESS:-$default_proxyclient_addr} iniset $NOVA_CPU_CONF vnc server_listen ""$VNCSERVER_LISTEN"" iniset $NOVA_CPU_CONF vnc server_proxyclient_address ""$VNCSERVER_PROXYCLIENT_ADDRESS"" else iniset $NOVA_CPU_CONF vnc enabled false fi if is_service_enabled n-spice; then # Address on which instance spiceservers will listen on compute hosts. # For multi-host, this should be the management ip of the compute host. SPICESERVER_PROXYCLIENT_ADDRESS=${SPICESERVER_PROXYCLIENT_ADDRESS:-$default_proxyclient_addr} SPICESERVER_LISTEN=${SPICESERVER_LISTEN:-$NOVA_SERVICE_LISTEN_ADDRESS} iniset $NOVA_CPU_CONF spice enabled true iniset $NOVA_CPU_CONF spice server_listen ""$SPICESERVER_LISTEN"" iniset $NOVA_CPU_CONF spice server_proxyclient_address ""$SPICESERVER_PROXYCLIENT_ADDRESS"" fi if is_service_enabled n-sproxy; then iniset $NOVA_CPU_CONF serial_console enabled True iniset $NOVA_CPU_CONF serial_console base_url ""ws://$SERVICE_HOST:$((6082 + offset))/"" fi # Use the provided config file path or default to $NOVA_CONF. local conf=${1:-$NOVA_CONF} local offset=${2:-0} # Stagger the offset based on the total number of possible console proxies # (novnc, spice, serial) so that their ports will not collide if # all are enabled. offset=$((offset * 3)) if is_service_enabled n-novnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then iniset $conf vnc novncproxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf vnc novncproxy_port $((6080 + offset)) if is_nova_console_proxy_compute_tls_enabled; then iniset $conf vnc auth_schemes ""vencrypt"" iniset $conf vnc vencrypt_client_key ""/etc/pki/nova-novnc/client-key.pem"" iniset $conf vnc vencrypt_client_cert ""/etc/pki/nova-novnc/client-cert.pem"" iniset $conf vnc vencrypt_ca_certs ""/etc/pki/nova-novnc/ca-cert.pem"" sudo mkdir -p /etc/pki/nova-novnc deploy_int_CA /etc/pki/nova-novnc/ca-cert.pem deploy_int_cert /etc/pki/nova-novnc/client-cert.pem /etc/pki/nova-novnc/client-key.pem # OpenSSL 1.1.0 generates the key file with permissions: 600, by # default, and the deploy_int* methods use 'sudo cp' to copy the # files, making them owned by root:root. # Change ownership of everything under /etc/pki/nova-novnc to # $STACK_USER:$(id -g ${STACK_USER}) so that $STACK_USER can read # the key file. sudo chown -R $STACK_USER:$(id -g ${STACK_USER}) /etc/pki/nova-novnc # This is needed to enable TLS in the proxy itself, example log: # WebSocket server settings: # - Listen on 0.0.0.0:6080 # - Flash security policy server # - Web server (no directory listings). Web root: /usr/share/novnc # - SSL/TLS support # - proxying from 0.0.0.0:6080 to None:None iniset $conf DEFAULT key ""/etc/pki/nova-novnc/client-key.pem"" iniset $conf DEFAULT cert ""/etc/pki/nova-novnc/client-cert.pem"" fi fi if is_service_enabled n-spice; then iniset $conf spice html5proxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf spice html5proxy_port $((6081 + offset)) fi if is_service_enabled n-sproxy; then iniset $conf serial_console serialproxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf serial_console serialproxy_port $((6082 + offset)) fi # Registered limit resources in keystone are system-specific resources. # Make sure we use a system-scoped token to interact with this API. # Default limits here mirror the legacy config-based default values. # Note: disk quota is new in nova as of unified limits. openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME servers openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 20 --region $REGION_NAME class:VCPU openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit $((50 * 1024)) --region $REGION_NAME class:MEMORY_MB openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 20 --region $REGION_NAME class:DISK_GB openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 128 --region $REGION_NAME server_metadata_items openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 5 --region $REGION_NAME server_injected_files openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10240 --region $REGION_NAME server_injected_file_content_bytes openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 255 --region $REGION_NAME server_injected_file_path_bytes openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 100 --region $REGION_NAME server_key_pairs openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME server_groups openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME server_group_members # Tell nova to use these limits iniset $NOVA_CONF quota driver ""nova.quota.UnifiedLimitsDriver"" # Configure oslo_limit so it can talk to keystone iniset $NOVA_CONF oslo_limit user_domain_name $SERVICE_DOMAIN_NAME iniset $NOVA_CONF oslo_limit password $SERVICE_PASSWORD iniset $NOVA_CONF oslo_limit username nova iniset $NOVA_CONF oslo_limit auth_type password iniset $NOVA_CONF oslo_limit auth_url $KEYSTONE_SERVICE_URI iniset $NOVA_CONF oslo_limit system_scope all iniset $NOVA_CONF oslo_limit endpoint_id \ $(openstack endpoint list --service nova -f value -c ID) # Allow the nova service user to read quotas openstack --os-cloud devstack-system-admin role add --user nova \ --user-domain $SERVICE_DOMAIN_NAME --system all reader iniset $NOVA_CONF service_user send_service_user_token True iniset $NOVA_CONF service_user auth_type password iniset $NOVA_CONF service_user auth_url ""$KEYSTONE_SERVICE_URI"" iniset $NOVA_CONF service_user username nova iniset $NOVA_CONF service_user password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF service_user user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF service_user project_name ""$SERVICE_PROJECT_NAME"" iniset $NOVA_CONF service_user project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF service_user auth_strategy keystone local cell=""$1"" echo ""${NOVA_CONF_DIR}/nova_cell${cell}.conf"" # Create keys dir sudo install -d -o $STACK_USER ${NOVA_STATE_PATH} ${NOVA_STATE_PATH}/keys local dbname=""$1"" local conffile=""$2"" recreate_database $dbname $NOVA_BIN_DIR/nova-manage --config-file $conffile db sync --local_cell # All nova components talk to a central database. # Only do this step once on the API node for an entire cluster. if is_service_enabled $DATABASE_BACKENDS && is_service_enabled n-api; then # (Re)create nova databases if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then # If we are doing singleconductor mode, we have some strange # interdependencies. in that the main config refers to cell1 # instead of cell0. In that case, just make sure the cell0 database # is created before we need it below, but don't db_sync it until # after the cellN databases are there. recreate_database nova_cell0 else async_run nova-cell-0 init_nova_db nova_cell0 $NOVA_CONF fi for i in $(seq 1 $NOVA_NUM_CELLS); do async_run nova-cell-$i init_nova_db nova_cell${i} $(conductor_conf $i) done recreate_database $NOVA_API_DB $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF api_db sync # map_cell0 will create the cell mapping record in the nova_api DB so # this needs to come after the api_db sync happens. $NOVA_BIN_DIR/nova-manage cell_v2 map_cell0 --database_connection $(database_connection_url nova_cell0) # Wait for DBs to finish from above for i in $(seq 0 $NOVA_NUM_CELLS); do async_wait nova-cell-$i done if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then # We didn't db sync cell0 above, so run it now $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF db sync fi # Run online migrations on the new databases # Needed for flavor conversion $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF db online_data_migrations # create the cell1 cell for the main nova db where the hosts live for i in $(seq 1 $NOVA_NUM_CELLS); do $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF --config-file $(conductor_conf $i) cell_v2 create_cell --name ""cell$i"" done fi create_nova_keys_dir if [[ ""$NOVA_BACKEND"" == ""LVM"" ]]; then init_default_lvm_volume_group fi if use_library_from_git ""python-novaclient""; then git_clone_by_name ""python-novaclient"" setup_dev_lib ""python-novaclient"" sudo install -D -m 0644 -o $STACK_USER {${GITDIR[""python-novaclient""]}/tools/,/etc/bash_completion.d/}nova.bash_completion fi # Install os-vif if use_library_from_git ""os-vif""; then git_clone_by_name ""os-vif"" setup_dev_lib ""os-vif"" fi if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then install_nova_hypervisor fi if is_service_enabled n-novnc; then # a websockets/html5 or flash powered VNC console for vm instances NOVNC_FROM_PACKAGE=$(trueorfalse False NOVNC_FROM_PACKAGE) if [ ""$NOVNC_FROM_PACKAGE"" = ""True"" ]; then # Installing novnc on Debian bullseye breaks the global pip # install. This happens because novnc pulls in distro cryptography # which will be prefered by distro pip, but if anything has # installed pyOpenSSL from pypi (keystone) that is not compatible # with distro cryptography. Fix this by installing # python3-openssl (pyOpenSSL) from the distro which pip will prefer # on Debian. Ubuntu has inverse problems so we only do this for # Debian. local novnc_packages novnc_packages=""novnc"" GetOSVersion if [[ ""$os_VENDOR"" = ""Debian"" ]]; then novnc_packages=""$novnc_packages python3-openssl"" fi NOVNC_WEB_DIR=/usr/share/novnc install_package $novnc_packages else NOVNC_WEB_DIR=$DEST/novnc git_clone $NOVNC_REPO $NOVNC_WEB_DIR $NOVNC_BRANCH fi fi if is_service_enabled n-spice; then # a websockets/html5 or flash powered SPICE console for vm instances SPICE_FROM_PACKAGE=$(trueorfalse True SPICE_FROM_PACKAGE) if [ ""$SPICE_FROM_PACKAGE"" = ""True"" ]; then SPICE_WEB_DIR=/usr/share/spice-html5 install_package spice-html5 else SPICE_WEB_DIR=$DEST/spice-html5 git_clone $SPICE_REPO $SPICE_WEB_DIR $SPICE_BRANCH fi fi git_clone $NOVA_REPO $NOVA_DIR $NOVA_BRANCH setup_develop $NOVA_DIR sudo install -D -m 0644 -o $STACK_USER {$NOVA_DIR/tools/,/etc/bash_completion.d/}nova-manage.bash_completion # Get right service port for testing local service_port=$NOVA_SERVICE_PORT local service_protocol=$NOVA_SERVICE_PROTOCOL local nova_url if is_service_enabled tls-proxy; then service_port=$NOVA_SERVICE_PORT_INT service_protocol=""http"" fi # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH if [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then run_process n-api ""$NOVA_BIN_DIR/nova-api"" nova_url=$service_protocol://$SERVICE_HOST:$service_port # Start proxy if tsl enabled if is_service_enabled tls-proxy; then start_tls_proxy nova '*' $NOVA_SERVICE_PORT $NOVA_SERVICE_HOST $NOVA_SERVICE_PORT_INT fi else run_process ""n-api"" ""$(which uwsgi) --procname-prefix nova-api --ini $NOVA_UWSGI_CONF"" nova_url=$service_protocol://$SERVICE_HOST/compute/v2.1/ fi echo ""Waiting for nova-api to start..."" if ! wait_for_service $SERVICE_TIMEOUT $nova_url; then die $LINENO ""nova-api did not start"" fi export PATH=$old_path } # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH local compute_cell_conf=$NOVA_CONF # Bug #1802143: $NOVA_CPU_CONF is constructed by first copying $NOVA_CONF... cp $compute_cell_conf $NOVA_CPU_CONF # ...and then adding/overriding anything explicitly set in $NOVA_CPU_CONF merge_config_file $TOP_DIR/local.conf post-config '$NOVA_CPU_CONF' if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then # NOTE(danms): Grenade doesn't setup multi-cell rabbit, so # skip these bits and use the normal config. echo ""Skipping multi-cell conductor fleet setup"" else # ""${CELLSV2_SETUP}"" is ""superconductor"" # FIXME(danms): Should this be configurable? iniset $NOVA_CPU_CONF workarounds disable_group_policy_check_upcall True # Since the nova-compute service cannot reach nova-scheduler over # RPC, we also disable track_instance_changes. iniset $NOVA_CPU_CONF filter_scheduler track_instance_changes False iniset_rpc_backend nova $NOVA_CPU_CONF DEFAULT ""nova_cell${NOVA_CPU_CELL}"" fi # Make sure we nuke any database config inidelete $NOVA_CPU_CONF database connection inidelete $NOVA_CPU_CONF api_database connection # Console proxies were configured earlier in create_nova_conf. Now that the # nova-cpu.conf has been created, configure the console settings required # by the compute process. configure_console_compute # Configure the OVSDB connection for os-vif if [ -n ""$OVSDB_SERVER_LOCAL_HOST"" ]; then iniset $NOVA_CPU_CONF os_vif_ovs ovsdb_connection ""tcp:$OVSDB_SERVER_LOCAL_HOST:6640"" fi # Workaround bug #1939108 if [[ ""$VIRT_DRIVER"" == ""libvirt"" && ""$LIBVIRT_TYPE"" == ""qemu"" ]]; then iniset $NOVA_CPU_CONF workarounds libvirt_disable_apic True fi if [[ ""$VIRT_DRIVER"" = 'libvirt' ]]; then # The group **$LIBVIRT_GROUP** is added to the current user in this script. # ``sg`` is used in run_process to execute nova-compute as a member of the # **$LIBVIRT_GROUP** group. run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $LIBVIRT_GROUP elif [[ ""$VIRT_DRIVER"" = 'lxd' ]]; then run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $LXD_GROUP elif [[ ""$VIRT_DRIVER"" = 'docker' || ""$VIRT_DRIVER"" = 'zun' ]]; then run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $DOCKER_GROUP elif [[ ""$VIRT_DRIVER"" = 'fake' ]]; then local i for i in $(seq 1 $NUMBER_FAKE_NOVA_COMPUTE); do # Avoid process redirection of fake host configurations by # creating or modifying real configurations. Each fake # gets its own configuration and own log file. local fake_conf=""${NOVA_FAKE_CONF}-${i}"" iniset $fake_conf DEFAULT host ""${HOSTNAME}${i}"" run_process ""n-cpu-${i}"" ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF --config-file $fake_conf"" done else if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then start_nova_hypervisor fi run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" fi export PATH=$old_path # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH local compute_cell_conf=$NOVA_CONF run_process n-sch ""$NOVA_BIN_DIR/nova-scheduler --config-file $compute_cell_conf"" if [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then run_process n-api-meta ""$NOVA_BIN_DIR/nova-api-metadata --config-file $compute_cell_conf"" else run_process n-api-meta ""$(which uwsgi) --procname-prefix nova-api-meta --ini $NOVA_METADATA_UWSGI_CONF"" fi export PATH=$old_path for i in $(seq 1 $NOVA_NUM_CELLS); do for srv in n-novnc n-spice n-sproxy; do if is_service_enabled $srv; then enable_service ${srv}-cell${i} fi done done # Hack to set the path for rootwrap local old_path=$PATH # This is needed to find the nova conf export PATH=$NOVA_BIN_DIR:$PATH local api_cell_conf=$NOVA_CONF # console proxies run globally for singleconductor, else they run per cell if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then run_process n-novnc ""$NOVA_BIN_DIR/nova-novncproxy --config-file $api_cell_conf --web $NOVNC_WEB_DIR"" run_process n-spice ""$NOVA_BIN_DIR/nova-spicehtml5proxy --config-file $api_cell_conf --web $SPICE_WEB_DIR"" run_process n-sproxy ""$NOVA_BIN_DIR/nova-serialproxy --config-file $api_cell_conf"" else enable_nova_console_proxies for i in $(seq 1 $NOVA_NUM_CELLS); do local conf conf=$(conductor_conf $i) run_process n-novnc-cell${i} ""$NOVA_BIN_DIR/nova-novncproxy --config-file $conf --web $NOVNC_WEB_DIR"" run_process n-spice-cell${i} ""$NOVA_BIN_DIR/nova-spicehtml5proxy --config-file $conf --web $SPICE_WEB_DIR"" run_process n-sproxy-cell${i} ""$NOVA_BIN_DIR/nova-serialproxy --config-file $conf"" done fi export PATH=$old_path if is_service_enabled n-cond; then enable_service n-super-cond for i in $(seq 1 $NOVA_NUM_CELLS); do enable_service n-cond-cell${i} done fi if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then echo ""Starting nova-conductor in a cellsv1-compatible way"" run_process n-cond ""$NOVA_BIN_DIR/nova-conductor --config-file $NOVA_COND_CONF"" return fi enable_nova_fleet if is_service_enabled n-super-cond; then run_process n-super-cond ""$NOVA_BIN_DIR/nova-conductor --config-file $NOVA_COND_CONF"" fi for i in $(seq 1 $NOVA_NUM_CELLS); do if is_service_enabled n-cond-cell${i}; then local conf conf=$(conductor_conf $i) run_process n-cond-cell${i} ""$NOVA_BIN_DIR/nova-conductor --config-file $conf"" fi done # NOTE(sdague): with cells v2 all the compute services must be up # and checked into the database before discover_hosts is run. This # happens in all in one installs by accident, because > 30 seconds # happen between here and the script ending. However, in multinode # tests this can very often not be the case. So ensure that the # compute is up before we move on. wait_for_compute $NOVA_READY_TIMEOUT start_nova_rest start_nova_console_proxies start_nova_conductor start_nova_compute if is_service_enabled n-api; then # dump the cell mapping to ensure life is good echo ""Dumping cells_v2 mapping"" $NOVA_BIN_DIR/nova-manage cell_v2 list_cells --verbose fi if [ ""$VIRT_DRIVER"" == ""fake"" ]; then local i for i in $(seq 1 $NUMBER_FAKE_NOVA_COMPUTE); do stop_process n-cpu-${i} done else stop_process n-cpu fi if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then stop_nova_hypervisor fi # Kill the non-compute nova processes for serv in n-api n-api-meta n-sch; do stop_process $serv done if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then for srv in n-novnc n-spice n-sproxy; do stop_process $srv done else enable_nova_console_proxies for i in $(seq 1 $NOVA_NUM_CELLS); do for srv in n-novnc n-spice n-sproxy; do stop_process ${srv}-cell${i} done done fi if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then stop_process n-cond return fi enable_nova_fleet for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS); do if is_service_enabled $srv; then stop_process $srv fi done stop_nova_rest stop_nova_console_proxies stop_nova_conductor stop_nova_compute if is_service_enabled n-api; then if ! openstack --os-region-name=""$REGION_NAME"" flavor list | grep -q ds512M; then # Note that danms hates these flavors and apologizes for sdague openstack --os-region-name=""$REGION_NAME"" flavor create --id c1 --ram 256 --disk 1 --vcpus 1 --property hw_rng:allowed=True cirros256 openstack --os-region-name=""$REGION_NAME"" flavor create --id d1 --ram 512 --disk 5 --vcpus 1 --property hw_rng:allowed=True ds512M openstack --os-region-name=""$REGION_NAME"" flavor create --id d2 --ram 1024 --disk 10 --vcpus 1 --property hw_rng:allowed=True ds1G openstack --os-region-name=""$REGION_NAME"" flavor create --id d3 --ram 2048 --disk 10 --vcpus 2 --property hw_rng:allowed=True ds2G openstack --os-region-name=""$REGION_NAME"" flavor create --id d4 --ram 4096 --disk 20 --vcpus 4 --property hw_rng:allowed=True ds4G fi if ! openstack --os-region-name=""$REGION_NAME"" flavor list | grep -q m1.tiny; then openstack --os-region-name=""$REGION_NAME"" flavor create --id 1 --ram 512 --disk 1 --vcpus 1 --property hw_rng:allowed=True m1.tiny openstack --os-region-name=""$REGION_NAME"" flavor create --id 2 --ram 2048 --disk 20 --vcpus 1 --property hw_rng:allowed=True m1.small openstack --os-region-name=""$REGION_NAME"" flavor create --id 3 --ram 4096 --disk 40 --vcpus 2 --property hw_rng:allowed=True m1.medium openstack --os-region-name=""$REGION_NAME"" flavor create --id 4 --ram 8192 --disk 80 --vcpus 4 --property hw_rng:allowed=True m1.large openstack --os-region-name=""$REGION_NAME"" flavor create --id 5 --ram 16384 --disk 160 --vcpus 8 --property hw_rng:allowed=True m1.xlarge fi fi"," PROJECT_VENV[""nova""]=${NOVA_DIR}.venv NOVA_BIN_DIR=${PROJECT_VENV[""nova""]}/bin NOVA_BIN_DIR=$(get_python_exec_prefix) NOVA_SERVICE_PROTOCOL=""https"" die $LINENO ""enabling TLS for the console proxy requires the tls-proxy service"" NOVA_MY_IP=""$HOST_IPV6"" NOVA_MY_IP=""$HOST_IP"" # Load plugin source $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER [[ ,${DISABLED_SERVICES} =~ ,""nova"" ]] && return 1 [[ ,${ENABLED_SERVICES} =~ ,""n-"" ]] && return 0 return 1 [[ ${NOVA_CONSOLE_PROXY_COMPUTE_TLS} = ""True"" ]] && return 0 return 1 # Delete rules sudo iptables -S -v | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-A"" | sed ""s/-A/-D/g"" | awk '{print ""sudo iptables"",$0}' | bash # Delete nat rules sudo iptables -S -v -t nat | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-A"" | sed ""s/-A/-D/g"" | awk '{print ""sudo iptables -t nat"",$0}' | bash # Delete chains sudo iptables -S -v | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-N"" | sed ""s/-N/-X/g"" | awk '{print ""sudo iptables"",$0}' | bash # Delete nat chains sudo iptables -S -v -t nat | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-N"" | sed ""s/-N/-X/g"" | awk '{print ""sudo iptables -t nat"",$0}' | bash if is_service_enabled n-cpu; then # Clean iptables from previous runs clean_iptables # Destroy old instances local instances instances=`sudo virsh list --all | grep $INSTANCE_NAME_PREFIX | sed ""s/.*\($INSTANCE_NAME_PREFIX[0-9a-fA-F]*\).*/\1/g""` if [ ! ""$instances"" = """" ]; then echo $instances | xargs -n1 sudo virsh destroy || true if ! xargs -n1 sudo virsh undefine --managed-save --nvram <<< $instances; then # Can't delete with nvram flags, then just try without this flag xargs -n1 sudo virsh undefine --managed-save <<< $instances fi fi # Logout and delete iscsi sessions local tgts tgts=$(sudo iscsiadm --mode node | grep $VOLUME_NAME_PREFIX | cut -d ' ' -f2) local target for target in $tgts; do sudo iscsiadm --mode node -T $target --logout || true done sudo iscsiadm --mode node --op delete || true # Disconnect all nvmeof connections sudo nvme disconnect-all || true # Clean out the instances directory. sudo rm -rf $NOVA_INSTANCES_PATH/* fi sudo rm -rf $NOVA_STATE_PATH # NOTE(dtroyer): This really should be called from here but due to the way # nova abuses the _cleanup() function we're moving it # directly into cleanup.sh until this can be fixed. #if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then # cleanup_nova_hypervisor #fi stop_process ""n-api"" stop_process ""n-api-meta"" remove_uwsgi_config ""$NOVA_UWSGI_CONF"" ""$NOVA_UWSGI"" remove_uwsgi_config ""$NOVA_METADATA_UWSGI_CONF"" ""$NOVA_METADATA_UWSGI"" if [[ ""$NOVA_BACKEND"" == ""LVM"" ]]; then clean_lvm_volume_group $DEFAULT_VOLUME_GROUP_NAME fi # Put config files in ``/etc/nova`` for everyone to find sudo install -d -o $STACK_USER $NOVA_CONF_DIR configure_rootwrap nova if [[ ""$ENABLED_SERVICES"" =~ ""n-api"" ]]; then # Get the sample configuration file in place cp $NOVA_DIR/etc/nova/api-paste.ini $NOVA_CONF_DIR fi if is_service_enabled n-cpu; then # Force IP forwarding on, just on case sudo sysctl -w net.ipv4.ip_forward=1 if [[ ""$VIRT_DRIVER"" = 'libvirt' ]]; then # Check for kvm (hardware based virtualization). If unable to initialize # kvm, we drop back to the slower emulation mode (qemu). Note: many systems # come with hardware virtualization disabled in BIOS. if [[ ""$LIBVIRT_TYPE"" == ""kvm"" ]]; then sudo modprobe kvm || true if [ ! -e /dev/kvm ]; then echo ""WARNING: Switching to QEMU"" LIBVIRT_TYPE=qemu LIBVIRT_CPU_MODE=custom LIBVIRT_CPU_MODEL=Nehalem if which selinuxenabled >/dev/null 2>&1 && selinuxenabled; then # https://bugzilla.redhat.com/show_bug.cgi?id=753589 sudo setsebool virt_use_execmem on fi fi fi # Install and configure **LXC** if specified. LXC is another approach to # splitting a system into many smaller parts. LXC uses cgroups and chroot # to simulate multiple systems. if [[ ""$LIBVIRT_TYPE"" == ""lxc"" ]]; then if is_ubuntu; then # enable nbd for lxc unless you're using an lvm backend # otherwise you can't boot instances if [[ ""$NOVA_BACKEND"" != ""LVM"" ]]; then sudo modprobe nbd fi fi fi fi # Instance Storage # ---------------- # Nova stores each instance in its own directory. sudo install -d -o $STACK_USER $NOVA_INSTANCES_PATH # You can specify a different disk to be mounted and used for backing the # virtual machines. If there is a partition labeled nova-instances we # mount it (ext filesystems can be labeled via e2label). if [ -L /dev/disk/by-label/nova-instances ]; then if ! mount -n | grep -q $NOVA_INSTANCES_PATH; then sudo mount -L nova-instances $NOVA_INSTANCES_PATH sudo chown -R $STACK_USER $NOVA_INSTANCES_PATH fi fi # Due to cinder bug #1966513 we ALWAYS need an initiator name for LVM # Ensure each compute host uses a unique iSCSI initiator echo InitiatorName=$(iscsi-iname) | sudo tee /etc/iscsi/initiatorname.iscsi if [[ ${ISCSID_DEBUG} == ""True"" ]]; then # Install an override that starts iscsid with debugging # enabled. cat > /tmp/iscsid.override <<EOF sudo mkdir -p /etc/systemd/system/iscsid.service.d sudo mv /tmp/iscsid.override /etc/systemd/system/iscsid.service.d/override.conf sudo systemctl daemon-reload fi # set chap algorithms. The default chap_algorithm is md5 which will # not work under FIPS. iniset -sudo /etc/iscsi/iscsid.conf DEFAULT ""node.session.auth.chap_algs"" ""SHA3-256,SHA256"" if [[ $CINDER_TARGET_HELPER != 'nvmet' ]]; then # ensure that iscsid is started, even when disabled by default restart_service iscsid # For NVMe-oF we need different packages that many not be present else install_package nvme-cli sudo modprobe nvme-fabrics # Ensure NVMe is ready and create the Soft-RoCE device over the networking interface if [[ $CINDER_TARGET_PROTOCOL == 'nvmet_rdma' ]]; then sudo modprobe nvme-rdma iface=${HOST_IP_IFACE:-`ip -br -$SERVICE_IP_VERSION a | grep $NOVA_MY_IP | awk '{print $1}'`} if ! sudo rdma link | grep $iface ; then sudo rdma link add rxe_$iface type rxe netdev $iface fi elif [[ $CINDER_TARGET_PROTOCOL == 'nvmet_tcp' ]]; then sudo modprobe nvme-tcp else # 'nvmet_fc' sudo modprobe nvme-fc fi fi fi # Rebuild the config file from scratch create_nova_conf if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then # Configure hypervisor plugin configure_nova_hypervisor fi # Nova if [[ ""$ENABLED_SERVICES"" =~ ""n-api"" ]]; then # NOTE(jamielennox): Nova doesn't need the admin role here, however neutron uses # this service user when notifying nova of changes and that requires the admin role. create_service_user ""nova"" ""admin"" local nova_api_url if [[ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]]; then nova_api_url=""$NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST:$NOVA_SERVICE_PORT"" else nova_api_url=""$NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST/compute"" fi get_or_create_service ""nova_legacy"" ""compute_legacy"" ""Nova Compute Service (Legacy 2.0)"" get_or_create_endpoint \ ""compute_legacy"" \ ""$REGION_NAME"" \ ""$nova_api_url/v2/\$(project_id)s"" get_or_create_service ""nova"" ""compute"" ""Nova Compute Service"" get_or_create_endpoint \ ""compute"" \ ""$REGION_NAME"" \ ""$nova_api_url/v2.1"" fi if is_service_enabled n-api; then # Swift if is_service_enabled swift; then # Nova needs ResellerAdmin role to download images when accessing # swift through the s3 api. get_or_add_user_project_role ResellerAdmin nova $SERVICE_PROJECT_NAME $SERVICE_DOMAIN_NAME $SERVICE_DOMAIN_NAME fi fi # S3 if is_service_enabled s3api; then get_or_create_service ""s3"" ""s3"" ""S3"" get_or_create_endpoint \ ""s3"" \ ""$REGION_NAME"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" fi # Unified limits if is_service_enabled n-api; then if [[ ""$NOVA_USE_UNIFIED_LIMITS"" = True ]]; then configure_nova_unified_limits fi fi # Remove legacy ``nova.conf`` rm -f $NOVA_DIR/bin/nova.conf # (Re)create ``nova.conf`` rm -f $NOVA_CONF iniset $NOVA_CONF DEFAULT debug ""$ENABLE_DEBUG_LOG_LEVEL"" if [ ""$NOVA_ALLOW_MOVE_TO_SAME_HOST"" == ""True"" ]; then iniset $NOVA_CONF DEFAULT allow_resize_to_same_host ""True"" fi iniset $NOVA_CONF wsgi api_paste_config ""$NOVA_API_PASTE_INI"" iniset $NOVA_CONF DEFAULT rootwrap_config ""$NOVA_CONF_DIR/rootwrap.conf"" iniset $NOVA_CONF filter_scheduler enabled_filters ""$NOVA_FILTERS"" iniset $NOVA_CONF scheduler workers ""$API_WORKERS"" iniset $NOVA_CONF neutron default_floating_pool ""$PUBLIC_NETWORK_NAME"" iniset $NOVA_CONF DEFAULT my_ip ""$NOVA_MY_IP"" iniset $NOVA_CONF DEFAULT instance_name_template ""${INSTANCE_NAME_PREFIX}%08x"" iniset $NOVA_CONF DEFAULT osapi_compute_listen ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $NOVA_CONF DEFAULT metadata_listen ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $NOVA_CONF DEFAULT shutdown_timeout $NOVA_SHUTDOWN_TIMEOUT iniset $NOVA_CONF key_manager backend nova.keymgr.conf_key_mgr.ConfKeyManager if is_fedora; then # nova defaults to /usr/local/bin, but fedora pip like to # install things in /usr/bin iniset $NOVA_CONF DEFAULT bindir ""/usr/bin"" fi # only setup database connections and cache backend if there are services # that require them running on the host. The ensures that n-cpu doesn't # leak a need to use the db in a multinode scenario. if is_service_enabled n-api n-cond n-sched; then # If we're in multi-tier cells mode, we want our control services pointing # at cell0 instead of cell1 to ensure isolation. If not, we point everything # at the main database like normal. if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then local db=""nova_cell1"" else local db=""nova_cell0"" # When in superconductor mode, nova-compute can't send instance # info updates to the scheduler, so just disable it. iniset $NOVA_CONF filter_scheduler track_instance_changes False fi iniset $NOVA_CONF database connection `database_connection_url $db` iniset $NOVA_CONF api_database connection `database_connection_url nova_api` # Cache related settings # Those settings aren't really needed in n-cpu thus it is configured # only on nodes which runs controller services iniset $NOVA_CONF cache enabled $NOVA_ENABLE_CACHE iniset $NOVA_CONF cache backend $CACHE_BACKEND iniset $NOVA_CONF cache memcache_servers $MEMCACHE_SERVERS fi if is_service_enabled n-api; then if is_service_enabled n-api-meta; then # If running n-api-meta as a separate service NOVA_ENABLED_APIS=$(echo $NOVA_ENABLED_APIS | sed ""s/,metadata//"") fi iniset $NOVA_CONF DEFAULT enabled_apis ""$NOVA_ENABLED_APIS"" if [[ ""$NOVA_ENFORCE_SCOPE"" == ""True"" || ""$ENFORCE_SCOPE"" == ""True"" ]]; then iniset $NOVA_CONF oslo_policy enforce_new_defaults True iniset $NOVA_CONF oslo_policy enforce_scope True else iniset $NOVA_CONF oslo_policy enforce_new_defaults False iniset $NOVA_CONF oslo_policy enforce_scope False fi if is_service_enabled tls-proxy && [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then # Set the service port for a proxy to take the original iniset $NOVA_CONF DEFAULT osapi_compute_listen_port ""$NOVA_SERVICE_PORT_INT"" iniset $NOVA_CONF DEFAULT osapi_compute_link_prefix $NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST:$NOVA_SERVICE_PORT fi configure_keystone_authtoken_middleware $NOVA_CONF nova fi if is_service_enabled cinder; then configure_cinder_access fi if [ -n ""$NOVA_STATE_PATH"" ]; then iniset $NOVA_CONF DEFAULT state_path ""$NOVA_STATE_PATH"" iniset $NOVA_CONF oslo_concurrency lock_path ""$NOVA_STATE_PATH"" fi if [ -n ""$NOVA_INSTANCES_PATH"" ]; then iniset $NOVA_CONF DEFAULT instances_path ""$NOVA_INSTANCES_PATH"" fi if [ ""$SYSLOG"" != ""False"" ]; then iniset $NOVA_CONF DEFAULT use_syslog ""True"" fi if [ ""$FORCE_CONFIG_DRIVE"" != ""False"" ]; then iniset $NOVA_CONF DEFAULT force_config_drive ""$FORCE_CONFIG_DRIVE"" fi # nova defaults to genisoimage but only mkisofs is available for 15.0+ # rhel provides mkisofs symlink to genisoimage or xorriso appropiately if is_fedora; then iniset $NOVA_CONF DEFAULT mkisofs_cmd /usr/bin/mkisofs fi # Format logging setup_logging $NOVA_CONF iniset $NOVA_CONF upgrade_levels compute ""auto"" if is_service_enabled n-api; then write_uwsgi_config ""$NOVA_UWSGI_CONF"" ""$NOVA_UWSGI"" ""/compute"" fi if is_service_enabled n-api-meta; then write_uwsgi_config ""$NOVA_METADATA_UWSGI_CONF"" ""$NOVA_METADATA_UWSGI"" """" ""$SERVICE_LISTEN_ADDRESS:${METADATA_SERVICE_PORT}"" fi if is_service_enabled ceilometer; then iniset $NOVA_CONF DEFAULT instance_usage_audit ""True"" iniset $NOVA_CONF DEFAULT instance_usage_audit_period ""hour"" iniset $NOVA_CONF DEFAULT notify_on_state_change ""vm_and_task_state"" fi # Set the oslo messaging driver to the typical default. This does not # enable notifications, but it will allow them to function when enabled. iniset $NOVA_CONF oslo_messaging_notifications driver ""messagingv2"" iniset $NOVA_CONF oslo_messaging_notifications transport_url $(get_notification_url) iniset $NOVA_CONF notifications notification_format ""$NOVA_NOTIFICATION_FORMAT"" iniset_rpc_backend nova $NOVA_CONF iniset $NOVA_CONF DEFAULT osapi_compute_workers ""$API_WORKERS"" iniset $NOVA_CONF DEFAULT metadata_workers ""$API_WORKERS"" # don't let the conductor get out of control now that we're using a pure python db driver iniset $NOVA_CONF conductor workers ""$API_WORKERS"" if is_service_enabled tls-proxy; then iniset $NOVA_CONF DEFAULT glance_protocol https iniset $NOVA_CONF oslo_middleware enable_proxy_headers_parsing True fi iniset $NOVA_CONF DEFAULT graceful_shutdown_timeout ""$SERVICE_GRACEFUL_SHUTDOWN_TIMEOUT"" if [ ""$NOVA_USE_SERVICE_TOKEN"" == ""True"" ]; then init_nova_service_user_conf fi if is_service_enabled n-cond; then for i in $(seq 1 $NOVA_NUM_CELLS); do local conf local vhost conf=$(conductor_conf $i) vhost=""nova_cell${i}"" # clean old conductor conf rm -f $conf iniset $conf database connection `database_connection_url nova_cell${i}` iniset $conf conductor workers ""$API_WORKERS"" iniset $conf DEFAULT debug ""$ENABLE_DEBUG_LOG_LEVEL"" # if we have a singleconductor, we don't have per host message queues. if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then iniset_rpc_backend nova $conf DEFAULT else rpc_backend_add_vhost $vhost iniset_rpc_backend nova $conf DEFAULT $vhost # When running in superconductor mode, the cell conductor # must be configured to talk to the placement service for # reschedules to work. if is_service_enabled placement placement-client; then configure_placement_nova_compute $conf fi fi # Format logging setup_logging $conf done fi # Console proxy configuration has to go after conductor configuration # because the per cell config file nova_cellN.conf is cleared out as part # of conductor configuration. if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then configure_console_proxies else for i in $(seq 1 $NOVA_NUM_CELLS); do local conf local offset conf=$(conductor_conf $i) offset=$((i - 1)) configure_console_proxies $conf $offset done fi # Use the provided config file path or default to $NOVA_CONF. local conf=${1:-$NOVA_CONF} iniset $conf placement auth_type ""password"" iniset $conf placement auth_url ""$KEYSTONE_SERVICE_URI"" iniset $conf placement username placement iniset $conf placement password ""$SERVICE_PASSWORD"" iniset $conf placement user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $conf placement project_name ""$SERVICE_TENANT_NAME"" iniset $conf placement project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $conf placement region_name ""$REGION_NAME"" iniset $NOVA_CONF cinder os_region_name ""$REGION_NAME"" iniset $NOVA_CONF cinder auth_type ""password"" iniset $NOVA_CONF cinder auth_url ""$KEYSTONE_SERVICE_URI"" # NOTE(mriedem): This looks a bit weird but we use the nova user here # since it has the admin role and the cinder user does not. This is # similar to using the nova user in init_nova_service_user_conf. We need # to use a user with the admin role for background tasks in nova to # be able to GET block-storage API resources owned by another project # since cinder has low-level ""is_admin"" checks in its DB API. iniset $NOVA_CONF cinder username nova iniset $NOVA_CONF cinder password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF cinder user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF cinder project_name ""$SERVICE_TENANT_NAME"" iniset $NOVA_CONF cinder project_domain_name ""$SERVICE_DOMAIN_NAME"" if is_service_enabled tls-proxy; then CINDER_SERVICE_HOST=${CINDER_SERVICE_HOST:-$SERVICE_HOST} CINDER_SERVICE_PORT=${CINDER_SERVICE_PORT:-8776} iniset $NOVA_CONF cinder cafile $SSL_BUNDLE_FILE fi # If we are running multiple cells (and thus multiple console proxies) on a # single host, we offset the ports to avoid collisions. We need to # correspondingly configure the console proxy port for nova-compute and we # can use the NOVA_CPU_CELL variable to know which cell we are for # calculating the offset. # Stagger the offset based on the total number of possible console proxies # (novnc, spice, serial) so that their ports will not collide if # all are enabled. local offset offset=$(((NOVA_CPU_CELL - 1) * 3)) # Use the host IP instead of the service host because for multi-node, the # service host will be the controller only. local default_proxyclient_addr default_proxyclient_addr=$(iniget $NOVA_CPU_CONF DEFAULT my_ip) # All nova-compute workers need to know the vnc configuration options # These settings don't hurt anything if n-novnc is disabled if is_service_enabled n-cpu; then if [ ""$NOVNC_FROM_PACKAGE"" == ""True"" ]; then # Use the old URL when installing novnc packages. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_auto.html""} elif vercmp ${NOVNC_BRANCH} ""<"" ""1.0.0""; then # Use the old URL when installing older novnc source. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_auto.html""} else # Use the new URL when building >=v1.0.0 from source. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_lite.html""} fi iniset $NOVA_CPU_CONF vnc novncproxy_base_url ""$NOVNCPROXY_URL"" SPICEHTML5PROXY_URL=${SPICEHTML5PROXY_URL:-""http://$SERVICE_HOST:$((6081 + offset))/spice_auto.html""} iniset $NOVA_CPU_CONF spice html5proxy_base_url ""$SPICEHTML5PROXY_URL"" fi if is_service_enabled n-novnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then # Address on which instance vncservers will listen on compute hosts. # For multi-host, this should be the management ip of the compute host. VNCSERVER_LISTEN=${VNCSERVER_LISTEN:-$NOVA_SERVICE_LISTEN_ADDRESS} VNCSERVER_PROXYCLIENT_ADDRESS=${VNCSERVER_PROXYCLIENT_ADDRESS:-$default_proxyclient_addr} iniset $NOVA_CPU_CONF vnc server_listen ""$VNCSERVER_LISTEN"" iniset $NOVA_CPU_CONF vnc server_proxyclient_address ""$VNCSERVER_PROXYCLIENT_ADDRESS"" else iniset $NOVA_CPU_CONF vnc enabled false fi if is_service_enabled n-spice; then # Address on which instance spiceservers will listen on compute hosts. # For multi-host, this should be the management ip of the compute host. SPICESERVER_PROXYCLIENT_ADDRESS=${SPICESERVER_PROXYCLIENT_ADDRESS:-$default_proxyclient_addr} SPICESERVER_LISTEN=${SPICESERVER_LISTEN:-$NOVA_SERVICE_LISTEN_ADDRESS} iniset $NOVA_CPU_CONF spice enabled true iniset $NOVA_CPU_CONF spice server_listen ""$SPICESERVER_LISTEN"" iniset $NOVA_CPU_CONF spice server_proxyclient_address ""$SPICESERVER_PROXYCLIENT_ADDRESS"" fi if is_service_enabled n-sproxy; then iniset $NOVA_CPU_CONF serial_console enabled True iniset $NOVA_CPU_CONF serial_console base_url ""ws://$SERVICE_HOST:$((6082 + offset))/"" fi # Use the provided config file path or default to $NOVA_CONF. local conf=${1:-$NOVA_CONF} local offset=${2:-0} # Stagger the offset based on the total number of possible console proxies # (novnc, spice, serial) so that their ports will not collide if # all are enabled. offset=$((offset * 3)) if is_service_enabled n-novnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then iniset $conf vnc novncproxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf vnc novncproxy_port $((6080 + offset)) if is_nova_console_proxy_compute_tls_enabled ; then iniset $conf vnc auth_schemes ""vencrypt"" iniset $conf vnc vencrypt_client_key ""/etc/pki/nova-novnc/client-key.pem"" iniset $conf vnc vencrypt_client_cert ""/etc/pki/nova-novnc/client-cert.pem"" iniset $conf vnc vencrypt_ca_certs ""/etc/pki/nova-novnc/ca-cert.pem"" sudo mkdir -p /etc/pki/nova-novnc deploy_int_CA /etc/pki/nova-novnc/ca-cert.pem deploy_int_cert /etc/pki/nova-novnc/client-cert.pem /etc/pki/nova-novnc/client-key.pem # OpenSSL 1.1.0 generates the key file with permissions: 600, by # default, and the deploy_int* methods use 'sudo cp' to copy the # files, making them owned by root:root. # Change ownership of everything under /etc/pki/nova-novnc to # $STACK_USER:$(id -g ${STACK_USER}) so that $STACK_USER can read # the key file. sudo chown -R $STACK_USER:$(id -g ${STACK_USER}) /etc/pki/nova-novnc # This is needed to enable TLS in the proxy itself, example log: # WebSocket server settings: # - Listen on 0.0.0.0:6080 # - Flash security policy server # - Web server (no directory listings). Web root: /usr/share/novnc # - SSL/TLS support # - proxying from 0.0.0.0:6080 to None:None iniset $conf DEFAULT key ""/etc/pki/nova-novnc/client-key.pem"" iniset $conf DEFAULT cert ""/etc/pki/nova-novnc/client-cert.pem"" fi fi if is_service_enabled n-spice; then iniset $conf spice html5proxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf spice html5proxy_port $((6081 + offset)) fi if is_service_enabled n-sproxy; then iniset $conf serial_console serialproxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf serial_console serialproxy_port $((6082 + offset)) fi # Registered limit resources in keystone are system-specific resources. # Make sure we use a system-scoped token to interact with this API. # Default limits here mirror the legacy config-based default values. # Note: disk quota is new in nova as of unified limits. openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME servers openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 20 --region $REGION_NAME class:VCPU openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit $((50 * 1024)) --region $REGION_NAME class:MEMORY_MB openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 20 --region $REGION_NAME class:DISK_GB openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 128 --region $REGION_NAME server_metadata_items openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 5 --region $REGION_NAME server_injected_files openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10240 --region $REGION_NAME server_injected_file_content_bytes openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 255 --region $REGION_NAME server_injected_file_path_bytes openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 100 --region $REGION_NAME server_key_pairs openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME server_groups openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME server_group_members # Tell nova to use these limits iniset $NOVA_CONF quota driver ""nova.quota.UnifiedLimitsDriver"" # Configure oslo_limit so it can talk to keystone iniset $NOVA_CONF oslo_limit user_domain_name $SERVICE_DOMAIN_NAME iniset $NOVA_CONF oslo_limit password $SERVICE_PASSWORD iniset $NOVA_CONF oslo_limit username nova iniset $NOVA_CONF oslo_limit auth_type password iniset $NOVA_CONF oslo_limit auth_url $KEYSTONE_SERVICE_URI iniset $NOVA_CONF oslo_limit system_scope all iniset $NOVA_CONF oslo_limit endpoint_id \ $(openstack endpoint list --service nova -f value -c ID) # Allow the nova service user to read quotas openstack --os-cloud devstack-system-admin role add --user nova \ --user-domain $SERVICE_DOMAIN_NAME --system all reader iniset $NOVA_CONF service_user send_service_user_token True iniset $NOVA_CONF service_user auth_type password iniset $NOVA_CONF service_user auth_url ""$KEYSTONE_SERVICE_URI"" iniset $NOVA_CONF service_user username nova iniset $NOVA_CONF service_user password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF service_user user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF service_user project_name ""$SERVICE_PROJECT_NAME"" iniset $NOVA_CONF service_user project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF service_user auth_strategy keystone local cell=""$1"" echo ""${NOVA_CONF_DIR}/nova_cell${cell}.conf"" # Create keys dir sudo install -d -o $STACK_USER ${NOVA_STATE_PATH} ${NOVA_STATE_PATH}/keys local dbname=""$1"" local conffile=""$2"" recreate_database $dbname $NOVA_BIN_DIR/nova-manage --config-file $conffile db sync --local_cell # All nova components talk to a central database. # Only do this step once on the API node for an entire cluster. if is_service_enabled $DATABASE_BACKENDS && is_service_enabled n-api; then # (Re)create nova databases if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then # If we are doing singleconductor mode, we have some strange # interdependencies. in that the main config refers to cell1 # instead of cell0. In that case, just make sure the cell0 database # is created before we need it below, but don't db_sync it until # after the cellN databases are there. recreate_database nova_cell0 else async_run nova-cell-0 init_nova_db nova_cell0 $NOVA_CONF fi for i in $(seq 1 $NOVA_NUM_CELLS); do async_run nova-cell-$i init_nova_db nova_cell${i} $(conductor_conf $i) done recreate_database $NOVA_API_DB $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF api_db sync # map_cell0 will create the cell mapping record in the nova_api DB so # this needs to come after the api_db sync happens. $NOVA_BIN_DIR/nova-manage cell_v2 map_cell0 --database_connection `database_connection_url nova_cell0` # Wait for DBs to finish from above for i in $(seq 0 $NOVA_NUM_CELLS); do async_wait nova-cell-$i done if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then # We didn't db sync cell0 above, so run it now $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF db sync fi # Run online migrations on the new databases # Needed for flavor conversion $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF db online_data_migrations # create the cell1 cell for the main nova db where the hosts live for i in $(seq 1 $NOVA_NUM_CELLS); do $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF --config-file $(conductor_conf $i) cell_v2 create_cell --name ""cell$i"" done fi create_nova_keys_dir if [[ ""$NOVA_BACKEND"" == ""LVM"" ]]; then init_default_lvm_volume_group fi if use_library_from_git ""python-novaclient""; then git_clone_by_name ""python-novaclient"" setup_dev_lib ""python-novaclient"" sudo install -D -m 0644 -o $STACK_USER {${GITDIR[""python-novaclient""]}/tools/,/etc/bash_completion.d/}nova.bash_completion fi # Install os-vif if use_library_from_git ""os-vif""; then git_clone_by_name ""os-vif"" setup_dev_lib ""os-vif"" fi if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then install_nova_hypervisor fi if is_service_enabled n-novnc; then # a websockets/html5 or flash powered VNC console for vm instances NOVNC_FROM_PACKAGE=$(trueorfalse False NOVNC_FROM_PACKAGE) if [ ""$NOVNC_FROM_PACKAGE"" = ""True"" ]; then # Installing novnc on Debian bullseye breaks the global pip # install. This happens because novnc pulls in distro cryptography # which will be prefered by distro pip, but if anything has # installed pyOpenSSL from pypi (keystone) that is not compatible # with distro cryptography. Fix this by installing # python3-openssl (pyOpenSSL) from the distro which pip will prefer # on Debian. Ubuntu has inverse problems so we only do this for # Debian. local novnc_packages novnc_packages=""novnc"" GetOSVersion if [[ ""$os_VENDOR"" = ""Debian"" ]] ; then novnc_packages=""$novnc_packages python3-openssl"" fi NOVNC_WEB_DIR=/usr/share/novnc install_package $novnc_packages else NOVNC_WEB_DIR=$DEST/novnc git_clone $NOVNC_REPO $NOVNC_WEB_DIR $NOVNC_BRANCH fi fi if is_service_enabled n-spice; then # a websockets/html5 or flash powered SPICE console for vm instances SPICE_FROM_PACKAGE=$(trueorfalse True SPICE_FROM_PACKAGE) if [ ""$SPICE_FROM_PACKAGE"" = ""True"" ]; then SPICE_WEB_DIR=/usr/share/spice-html5 install_package spice-html5 else SPICE_WEB_DIR=$DEST/spice-html5 git_clone $SPICE_REPO $SPICE_WEB_DIR $SPICE_BRANCH fi fi git_clone $NOVA_REPO $NOVA_DIR $NOVA_BRANCH setup_develop $NOVA_DIR sudo install -D -m 0644 -o $STACK_USER {$NOVA_DIR/tools/,/etc/bash_completion.d/}nova-manage.bash_completion # Get right service port for testing local service_port=$NOVA_SERVICE_PORT local service_protocol=$NOVA_SERVICE_PROTOCOL local nova_url if is_service_enabled tls-proxy; then service_port=$NOVA_SERVICE_PORT_INT service_protocol=""http"" fi # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH if [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then run_process n-api ""$NOVA_BIN_DIR/nova-api"" nova_url=$service_protocol://$SERVICE_HOST:$service_port # Start proxy if tsl enabled if is_service_enabled tls-proxy; then start_tls_proxy nova '*' $NOVA_SERVICE_PORT $NOVA_SERVICE_HOST $NOVA_SERVICE_PORT_INT fi else run_process ""n-api"" ""$(which uwsgi) --procname-prefix nova-api --ini $NOVA_UWSGI_CONF"" nova_url=$service_protocol://$SERVICE_HOST/compute/v2.1/ fi echo ""Waiting for nova-api to start..."" if ! wait_for_service $SERVICE_TIMEOUT $nova_url; then die $LINENO ""nova-api did not start"" fi export PATH=$old_path } # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH local compute_cell_conf=$NOVA_CONF # Bug #1802143: $NOVA_CPU_CONF is constructed by first copying $NOVA_CONF... cp $compute_cell_conf $NOVA_CPU_CONF # ...and then adding/overriding anything explicitly set in $NOVA_CPU_CONF merge_config_file $TOP_DIR/local.conf post-config '$NOVA_CPU_CONF' if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then # NOTE(danms): Grenade doesn't setup multi-cell rabbit, so # skip these bits and use the normal config. echo ""Skipping multi-cell conductor fleet setup"" else # ""${CELLSV2_SETUP}"" is ""superconductor"" # FIXME(danms): Should this be configurable? iniset $NOVA_CPU_CONF workarounds disable_group_policy_check_upcall True # Since the nova-compute service cannot reach nova-scheduler over # RPC, we also disable track_instance_changes. iniset $NOVA_CPU_CONF filter_scheduler track_instance_changes False iniset_rpc_backend nova $NOVA_CPU_CONF DEFAULT ""nova_cell${NOVA_CPU_CELL}"" fi # Make sure we nuke any database config inidelete $NOVA_CPU_CONF database connection inidelete $NOVA_CPU_CONF api_database connection # Console proxies were configured earlier in create_nova_conf. Now that the # nova-cpu.conf has been created, configure the console settings required # by the compute process. configure_console_compute # Configure the OVSDB connection for os-vif if [ -n ""$OVSDB_SERVER_LOCAL_HOST"" ]; then iniset $NOVA_CPU_CONF os_vif_ovs ovsdb_connection ""tcp:$OVSDB_SERVER_LOCAL_HOST:6640"" fi # Workaround bug #1939108 if [[ ""$VIRT_DRIVER"" == ""libvirt"" && ""$LIBVIRT_TYPE"" == ""qemu"" ]]; then iniset $NOVA_CPU_CONF workarounds libvirt_disable_apic True fi if [[ ""$VIRT_DRIVER"" = 'libvirt' ]]; then # The group **$LIBVIRT_GROUP** is added to the current user in this script. # ``sg`` is used in run_process to execute nova-compute as a member of the # **$LIBVIRT_GROUP** group. run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $LIBVIRT_GROUP elif [[ ""$VIRT_DRIVER"" = 'lxd' ]]; then run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $LXD_GROUP elif [[ ""$VIRT_DRIVER"" = 'docker' || ""$VIRT_DRIVER"" = 'zun' ]]; then run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $DOCKER_GROUP elif [[ ""$VIRT_DRIVER"" = 'fake' ]]; then local i for i in `seq 1 $NUMBER_FAKE_NOVA_COMPUTE`; do # Avoid process redirection of fake host configurations by # creating or modifying real configurations. Each fake # gets its own configuration and own log file. local fake_conf=""${NOVA_FAKE_CONF}-${i}"" iniset $fake_conf DEFAULT host ""${HOSTNAME}${i}"" run_process ""n-cpu-${i}"" ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF --config-file $fake_conf"" done else if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then start_nova_hypervisor fi run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" fi export PATH=$old_path # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH local compute_cell_conf=$NOVA_CONF run_process n-sch ""$NOVA_BIN_DIR/nova-scheduler --config-file $compute_cell_conf"" if [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then run_process n-api-meta ""$NOVA_BIN_DIR/nova-api-metadata --config-file $compute_cell_conf"" else run_process n-api-meta ""$(which uwsgi) --procname-prefix nova-api-meta --ini $NOVA_METADATA_UWSGI_CONF"" fi export PATH=$old_path for i in $(seq 1 $NOVA_NUM_CELLS); do for srv in n-novnc n-spice n-sproxy; do if is_service_enabled $srv; then enable_service ${srv}-cell${i} fi done done # Hack to set the path for rootwrap local old_path=$PATH # This is needed to find the nova conf export PATH=$NOVA_BIN_DIR:$PATH local api_cell_conf=$NOVA_CONF # console proxies run globally for singleconductor, else they run per cell if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then run_process n-novnc ""$NOVA_BIN_DIR/nova-novncproxy --config-file $api_cell_conf --web $NOVNC_WEB_DIR"" run_process n-spice ""$NOVA_BIN_DIR/nova-spicehtml5proxy --config-file $api_cell_conf --web $SPICE_WEB_DIR"" run_process n-sproxy ""$NOVA_BIN_DIR/nova-serialproxy --config-file $api_cell_conf"" else enable_nova_console_proxies for i in $(seq 1 $NOVA_NUM_CELLS); do local conf conf=$(conductor_conf $i) run_process n-novnc-cell${i} ""$NOVA_BIN_DIR/nova-novncproxy --config-file $conf --web $NOVNC_WEB_DIR"" run_process n-spice-cell${i} ""$NOVA_BIN_DIR/nova-spicehtml5proxy --config-file $conf --web $SPICE_WEB_DIR"" run_process n-sproxy-cell${i} ""$NOVA_BIN_DIR/nova-serialproxy --config-file $conf"" done fi export PATH=$old_path if is_service_enabled n-cond; then enable_service n-super-cond for i in $(seq 1 $NOVA_NUM_CELLS); do enable_service n-cond-cell${i} done fi if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then echo ""Starting nova-conductor in a cellsv1-compatible way"" run_process n-cond ""$NOVA_BIN_DIR/nova-conductor --config-file $NOVA_COND_CONF"" return fi enable_nova_fleet if is_service_enabled n-super-cond; then run_process n-super-cond ""$NOVA_BIN_DIR/nova-conductor --config-file $NOVA_COND_CONF"" fi for i in $(seq 1 $NOVA_NUM_CELLS); do if is_service_enabled n-cond-cell${i}; then local conf conf=$(conductor_conf $i) run_process n-cond-cell${i} ""$NOVA_BIN_DIR/nova-conductor --config-file $conf"" fi done # NOTE(sdague): with cells v2 all the compute services must be up # and checked into the database before discover_hosts is run. This # happens in all in one installs by accident, because > 30 seconds # happen between here and the script ending. However, in multinode # tests this can very often not be the case. So ensure that the # compute is up before we move on. wait_for_compute $NOVA_READY_TIMEOUT start_nova_rest start_nova_console_proxies start_nova_conductor start_nova_compute if is_service_enabled n-api; then # dump the cell mapping to ensure life is good echo ""Dumping cells_v2 mapping"" $NOVA_BIN_DIR/nova-manage cell_v2 list_cells --verbose fi if [ ""$VIRT_DRIVER"" == ""fake"" ]; then local i for i in `seq 1 $NUMBER_FAKE_NOVA_COMPUTE`; do stop_process n-cpu-${i} done else stop_process n-cpu fi if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then stop_nova_hypervisor fi # Kill the non-compute nova processes for serv in n-api n-api-meta n-sch; do stop_process $serv done if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then for srv in n-novnc n-spice n-sproxy; do stop_process $srv done else enable_nova_console_proxies for i in $(seq 1 $NOVA_NUM_CELLS); do for srv in n-novnc n-spice n-sproxy; do stop_process ${srv}-cell${i} done done fi if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then stop_process n-cond return fi enable_nova_fleet for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS); do if is_service_enabled $srv; then stop_process $srv fi done stop_nova_rest stop_nova_console_proxies stop_nova_conductor stop_nova_compute if is_service_enabled n-api; then if ! openstack --os-region-name=""$REGION_NAME"" flavor list | grep -q ds512M; then # Note that danms hates these flavors and apologizes for sdague openstack --os-region-name=""$REGION_NAME"" flavor create --id c1 --ram 256 --disk 1 --vcpus 1 --property hw_rng:allowed=True cirros256 openstack --os-region-name=""$REGION_NAME"" flavor create --id d1 --ram 512 --disk 5 --vcpus 1 --property hw_rng:allowed=True ds512M openstack --os-region-name=""$REGION_NAME"" flavor create --id d2 --ram 1024 --disk 10 --vcpus 1 --property hw_rng:allowed=True ds1G openstack --os-region-name=""$REGION_NAME"" flavor create --id d3 --ram 2048 --disk 10 --vcpus 2 --property hw_rng:allowed=True ds2G openstack --os-region-name=""$REGION_NAME"" flavor create --id d4 --ram 4096 --disk 20 --vcpus 4 --property hw_rng:allowed=True ds4G fi if ! openstack --os-region-name=""$REGION_NAME"" flavor list | grep -q m1.tiny; then openstack --os-region-name=""$REGION_NAME"" flavor create --id 1 --ram 512 --disk 1 --vcpus 1 --property hw_rng:allowed=True m1.tiny openstack --os-region-name=""$REGION_NAME"" flavor create --id 2 --ram 2048 --disk 20 --vcpus 1 --property hw_rng:allowed=True m1.small openstack --os-region-name=""$REGION_NAME"" flavor create --id 3 --ram 4096 --disk 40 --vcpus 2 --property hw_rng:allowed=True m1.medium openstack --os-region-name=""$REGION_NAME"" flavor create --id 4 --ram 8192 --disk 80 --vcpus 4 --property hw_rng:allowed=True m1.large openstack --os-region-name=""$REGION_NAME"" flavor create --id 5 --ram 16384 --disk 160 --vcpus 8 --property hw_rng:allowed=True m1.xlarge fi fi",889,868
openstack%2Frequirements~920062,openstack/requirements,master,I880b316fda6f90498faa34800dcd0fc86fc950d1,update constraint for ovsdbapp to new release 2.7.1,MERGED,2024-05-20 19:03:27.000000000,2024-05-22 18:24:03.000000000,2024-05-22 18:20:20.000000000,"[{'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 19:03:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1a6ee1f4feed07a00f0327145b3df13b2552eb85', 'message': 'update constraint for ovsdbapp to new release 2.7.1\n\nmeta: version: 2.7.1\nmeta: diff-start: -\nmeta: series: dalmatian\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: yatinkarel <ykarel@redhat.com>\nmeta: release:Commit: yatinkarel <ykarel@redhat.com>\nmeta: release:Change-Id: I8ea3d7ad925c6e316bd3f396a292d468b02b5507\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Ihar Hrachyshka <ihrachys@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Lucas Alvares Gomes <lucasagomes@gmail.com>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>\nChange-Id: I880b316fda6f90498faa34800dcd0fc86fc950d1\n'}]",4,920062,1a6ee1f4feed07a00f0327145b3df13b2552eb85,18,4,1,11131,,,0,"update constraint for ovsdbapp to new release 2.7.1

meta: version: 2.7.1
meta: diff-start: -
meta: series: dalmatian
meta: branch: master
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: yatinkarel <ykarel@redhat.com>
meta: release:Commit: yatinkarel <ykarel@redhat.com>
meta: release:Change-Id: I8ea3d7ad925c6e316bd3f396a292d468b02b5507
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Ihar Hrachyshka <ihrachys@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Lucas Alvares Gomes <lucasagomes@gmail.com>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>
Change-Id: I880b316fda6f90498faa34800dcd0fc86fc950d1
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/920062/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1a6ee1f4feed07a00f0327145b3df13b2552eb85,new-release,ovsdbapp===2.7.1,ovsdbapp===2.6.0,1,1
openstack%2Felection~920166,openstack/election,master,I17e40e979aae956414b580fe05bad98ebc7817bb,Update PTL and TC election dates,NEW,2024-05-22 08:51:17.000000000,2024-05-22 18:00:32.000000000,,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-22 08:51:17.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/0559a8c05f91978c31efe58ee2402593348d4a67', 'message': 'Update PTL and TC election dates\n\nThis patch updates weeks in which election for TC and PTL has to be done\nto be up to date with what TC charter [1] says about it.\n\n[1] https://governance.openstack.org/tc/reference/charter.html\n\nChange-Id: I17e40e979aae956414b580fe05bad98ebc7817bb\n'}]",2,920166,0559a8c05f91978c31efe58ee2402593348d4a67,4,3,1,11975,,,0,"Update PTL and TC election dates

This patch updates weeks in which election for TC and PTL has to be done
to be up to date with what TC charter [1] says about it.

[1] https://governance.openstack.org/tc/reference/charter.html

Change-Id: I17e40e979aae956414b580fe05bad98ebc7817bb
",git fetch https://review.opendev.org/openstack/election refs/changes/66/920166/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,0559a8c05f91978c31efe58ee2402593348d4a67,update-readme," which is ""The election is held no later than 2 weeks prior to each cycle final release date (on or before ‘R-2’ week)"" which is ""The election is held no earlier than 8 weeks and no later than 2 weeks prior to each cycle final release date (between ‘R-8’ and ‘R-2’ week)""* TC and PTL election can be held as combined election"," which is ""The election is held no later than 3 weeks prior to each cycle final release date(on or before ‘R-3’ week)"" which is ""The election is held no earlier than 6 weeks and no later than 4 weeks prior to each cycle final release date (between ‘R-6’ and ‘R-4’ week)""",6,5
openstack%2Fcinder~909243,openstack/cinder,stable/2023.1,Idec29ce596438a7969ea32d48bacfede84f5b0b6,Fix 'cinder-backup' service when Swift with TLS enabled,MERGED,2024-02-16 18:35:45.000000000,2024-05-22 18:00:09.000000000,2024-05-22 17:58:59.000000000,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-02-16 18:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/af332ee476a185d7bb7312dddd27e3cf5c58bcca', 'message': 'Fix \'cinder-backup\' service when Swift with TLS enabled\n\nThe \'backup_swift_ca_cert_file\' [1] setting is ignored by the Swift\nbackup driver so \'cinder-backup\' service will appear ""down"" early on\nstartup when TLS backend used. This change fixes the issue.\n\n1. https://docs.openstack.org/cinder/latest/configuration/block-storage/backup/swift-backup-driver.html\n\nCloses-Bug: #2051985\nChange-Id: Idec29ce596438a7969ea32d48bacfede84f5b0b6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e99afcafe8d33624b9a695b1f7576ad0e8e5354f)\n'}, {'number': 2, 'created': '2024-02-16 21:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3403639ba58c27a741e4855c507a0680f6a55a4e', 'message': 'Fix \'cinder-backup\' service when Swift with TLS enabled\n\nThe \'backup_swift_ca_cert_file\' [1] setting is ignored by the Swift\nbackup driver so \'cinder-backup\' service will appear ""down"" early on\nstartup when TLS backend used. This change fixes the issue.\n\n1. https://docs.openstack.org/cinder/latest/configuration/block-storage/backup/swift-backup-driver.html\n\nCloses-Bug: #2051985\nChange-Id: Idec29ce596438a7969ea32d48bacfede84f5b0b6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e99afcafe8d33624b9a695b1f7576ad0e8e5354f)\n(cherry picked from commit 7abb15d226a1869d04d01c6f5a0201cc1b077e5a)\n'}, {'number': 3, 'created': '2024-02-16 23:21:48.000000000', 'files': ['cinder/backup/drivers/swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/22e6866f66748df3dbf347d48fc4b6f55ded847b', 'message': 'Fix \'cinder-backup\' service when Swift with TLS enabled\n\nThe \'backup_swift_ca_cert_file\' [1] setting is ignored by the Swift\nbackup driver so \'cinder-backup\' service will appear ""down"" early on\nstartup when TLS backend used. This change fixes the issue.\n\n1. https://docs.openstack.org/cinder/latest/configuration/block-storage/backup/swift-backup-driver.html\n\nCloses-Bug: #2051985\nChange-Id: Idec29ce596438a7969ea32d48bacfede84f5b0b6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e99afcafe8d33624b9a695b1f7576ad0e8e5354f)\n(cherry picked from commit 1e52602646c8b7cdc616659777563847fe53ada0)\n'}]",6,909243,22e6866f66748df3dbf347d48fc4b6f55ded847b,27,6,3,14200,,,0,"Fix 'cinder-backup' service when Swift with TLS enabled

The 'backup_swift_ca_cert_file' [1] setting is ignored by the Swift
backup driver so 'cinder-backup' service will appear ""down"" early on
startup when TLS backend used. This change fixes the issue.

1. https://docs.openstack.org/cinder/latest/configuration/block-storage/backup/swift-backup-driver.html

Closes-Bug: #2051985
Change-Id: Idec29ce596438a7969ea32d48bacfede84f5b0b6
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit e99afcafe8d33624b9a695b1f7576ad0e8e5354f)
(cherry picked from commit 1e52602646c8b7cdc616659777563847fe53ada0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/909243/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/swift.py'],1,af332ee476a185d7bb7312dddd27e3cf5c58bcca,fix-cinder-backup-tls-swift-stable/2023.1," preauthurl=CONF.backup_swift_url, cacert=CONF.backup_swift_ca_cert_file)", preauthurl=CONF.backup_swift_url),2,1
openstack%2Fcinder~905540,openstack/cinder,stable/2023.2,Ieb072cc18db247ec02dc7d6d522d855234bfb216,Tests: Quiet Fungible invalid UUID warnings,MERGED,2024-01-16 15:13:47.000000000,2024-05-22 17:24:38.000000000,2024-05-22 17:22:25.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-16 15:13:47.000000000', 'files': ['cinder/tests/unit/volume/drivers/fungible/test_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fcdf82f65043fc851db1c36562bead45f65312a', 'message': 'Tests: Quiet Fungible invalid UUID warnings\n\nFutureWarning: b""\'mock_volume_type_id\'"" is an invalid UUID.\n\nChange-Id: Ieb072cc18db247ec02dc7d6d522d855234bfb216\n(cherry picked from commit 3a58478b381247aecef0fc8eaa06b4183d06c3d6)\n'}]",3,905540,6fcdf82f65043fc851db1c36562bead45f65312a,14,3,1,4523,,,0,"Tests: Quiet Fungible invalid UUID warnings

FutureWarning: b""'mock_volume_type_id'"" is an invalid UUID.

Change-Id: Ieb072cc18db247ec02dc7d6d522d855234bfb216
(cherry picked from commit 3a58478b381247aecef0fc8eaa06b4183d06c3d6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/905540/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/fungible/test_driver.py'],1,6fcdf82f65043fc851db1c36562bead45f65312a,, volume.volume_type_id = fake_constants.VOLUME_TYPE_ID, volume.volume_type_id = 'mock_volume_type_id',1,1
openstack%2Fcinder~892352,openstack/cinder,stable/2023.1,I8b1b09ecf2ad1e19a557a664516251cae3ddf2ae,Do not ignore availability_zone in backup creation,MERGED,2023-08-23 02:51:54.000000000,2024-05-22 17:23:41.000000000,2024-05-22 17:22:16.000000000,"[{'_account_id': 7198}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-08-23 02:51:54.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/backup/api.py', 'releasenotes/notes/bug-1912624-bakup-a-z-regression-452f4bc9dfd41871.yaml', 'cinder/scheduler/driver.py', 'cinder/scheduler/manager.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ab3cbd7011b45d8d0f4acf4217688b6e2a26878', 'message': 'Do not ignore availability_zone in backup creation\n\nThis patch corrects a regression introduced by change\nIe2afb57c4861c4.\n\nChange-Id: I8b1b09ecf2ad1e19a557a664516251cae3ddf2ae\nCloses-Bug: #1912624\n(cherry picked from commit ddcf394ae277692d7cab2e03b4b6ae67ba7f1cc3)\n'}]",3,892352,4ab3cbd7011b45d8d0f4acf4217688b6e2a26878,16,4,1,5314,,,0,"Do not ignore availability_zone in backup creation

This patch corrects a regression introduced by change
Ie2afb57c4861c4.

Change-Id: I8b1b09ecf2ad1e19a557a664516251cae3ddf2ae
Closes-Bug: #1912624
(cherry picked from commit ddcf394ae277692d7cab2e03b4b6ae67ba7f1cc3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/892352/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/backup/api.py', 'releasenotes/notes/bug-1912624-bakup-a-z-regression-452f4bc9dfd41871.yaml', 'cinder/scheduler/driver.py', 'cinder/scheduler/manager.py', 'cinder/tests/unit/scheduler/test_scheduler.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/scheduler/host_manager.py']",8,4ab3cbd7011b45d8d0f4acf4217688b6e2a26878,," def get_az(self, volume: objects.Volume, availability_zone: Union[str, None]) -> Union[str, None]: if availability_zone: az = availability_zone elif volume: az = volume.availability_zone else: az = None return az def get_backup_host(self, volume: objects.Volume, availability_zone: Union[str, None], driver=None) -> str: az = self.get_az(volume, availability_zone)"," def get_backup_host(self, volume: objects.Volume, driver=None) -> str: az = volume.availability_zone if volume else None",74,10
openstack%2Fcinder~908689,openstack/cinder,stable/2023.2,I2c4ac89288144bb77d033f18ad3af8c6990a0542,"RBD: Use ""RBD"" capitalization in user-facing text",MERGED,2024-02-12 10:49:17.000000000,2024-05-22 17:23:39.000000000,2024-05-22 17:22:19.000000000,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-12 10:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6690d6ddac6985714d390b522e26ee9c1b3b6a6', 'message': 'RBD: Use ""RBD"" capitalization in user-facing text\n\nConsistently use ""RBD"" instead of ""rbd"" for user-facing\nmessages / documentation.\n\nChange-Id: I2c4ac89288144bb77d033f18ad3af8c6990a0542\n(cherry picked from commit 8b5b809e05eca2dad10231b9adc6060b0d906e30)\n'}, {'number': 2, 'created': '2024-03-06 15:52:13.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/245274505ec05dfd9ec5a48ef0545fccc7c687f4', 'message': 'RBD: Use ""RBD"" capitalization in user-facing text\n\nConsistently use ""RBD"" instead of ""rbd"" for user-facing\nmessages / documentation.\n\nChange-Id: I2c4ac89288144bb77d033f18ad3af8c6990a0542\n(cherry picked from commit 8b5b809e05eca2dad10231b9adc6060b0d906e30)\n'}]",4,908689,245274505ec05dfd9ec5a48ef0545fccc7c687f4,28,4,2,9373,,,0,"RBD: Use ""RBD"" capitalization in user-facing text

Consistently use ""RBD"" instead of ""rbd"" for user-facing
messages / documentation.

Change-Id: I2c4ac89288144bb77d033f18ad3af8c6990a0542
(cherry picked from commit 8b5b809e05eca2dad10231b9adc6060b0d906e30)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/908689/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,e6690d6ddac6985714d390b522e26ee9c1b3b6a6,," help='The RADOS pool where RBD volumes are stored'), help='The RADOS client name for accessing RBD volumes ' """"""Context manager for dealing with an existing RBD volume. LOG.error('Error creating RBD image %(vol)s.', """"""Creates an RBD snapshot."""""" """"""Deletes an RBD snapshot."""""" reason = _('Not stored in RBD') reason = _('Not an RBD snapshot') LOG.debug(""RBD image clone requires image format to be "" {'source-name': <name of RBD image>} {'source-name': <name of RBD image>} 'reason': 'Specified RBD image does not exist.'} LOG.error('Error copying RBD image %(vol)s to target ' {'source-name': <name of RBD snapshot>} msg = (_(""Failed to get qos specs for RBD image "" 'for RBD image %(rbd_image_name)s, ' ""for RBD image %(rbd_image_name)s, """," help='The RADOS pool where rbd volumes are stored'), help='The RADOS client name for accessing rbd volumes ' """"""Context manager for dealing with an existing rbd volume. LOG.error('Error creating rbd image %(vol)s.', """"""Creates an rbd snapshot."""""" """"""Deletes an rbd snapshot."""""" reason = _('Not stored in rbd') reason = _('Not an rbd snapshot') LOG.debug(""rbd image clone requires image format to be "" {'source-name': <name of rbd image>} {'source-name': <name of rbd image>} 'reason': 'Specified rbd image does not exist.'} LOG.error('Error copying rbd image %(vol)s to target ' {'source-name': <name of rbd snapshot>} msg = (_(""Failed to get qos specs for rbd image "" 'for rbd image %(rbd_image_name)s, ' ""for rbd image %(rbd_image_name)s, """,17,17
openstack%2Fcinder~919867,openstack/cinder,stable/2024.1,I80f2cd614ba7277a28fa8a4a429fef983113f0fb,Fix broken backup_swift_service_auth=True,MERGED,2024-05-18 05:04:22.000000000,2024-05-22 17:23:37.000000000,2024-05-22 17:22:22.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-18 05:04:22.000000000', 'files': ['cinder/service_auth.py', 'cinder/backup/drivers/swift.py', 'releasenotes/notes/bug-2058596-3c676e7fdc642b3d.yaml', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/966bc53c8eab7fc0fdd185bb7305695172a18f58', 'message': 'Fix broken backup_swift_service_auth=True\n\nFix the missing session argument so that swift backup driver to\nresolve the TypeError raised in swift object access. The error makes\nthe swift back driver consistently fail during backup/restore\noperation.\n\nCloses-Bug: #2058596\nChange-Id: I80f2cd614ba7277a28fa8a4a429fef983113f0fb\n(cherry picked from commit 9ff29a649ee890cc6bbd7175c8f8f3d2cdd32653)\n'}]",2,919867,966bc53c8eab7fc0fdd185bb7305695172a18f58,17,4,1,9816,,,0,"Fix broken backup_swift_service_auth=True

Fix the missing session argument so that swift backup driver to
resolve the TypeError raised in swift object access. The error makes
the swift back driver consistently fail during backup/restore
operation.

Closes-Bug: #2058596
Change-Id: I80f2cd614ba7277a28fa8a4a429fef983113f0fb
(cherry picked from commit 9ff29a649ee890cc6bbd7175c8f8f3d2cdd32653)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/919867/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/service_auth.py', 'cinder/backup/drivers/swift.py', 'releasenotes/notes/bug-2058596-3c676e7fdc642b3d.yaml', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",4,966bc53c8eab7fc0fdd185bb7305695172a18f58,bug/2058596," def get_token(self, session):", def get_token(self):,20,2
openstack%2Fcinder~916764,openstack/cinder,stable/2024.1,I53b573bfff64e7460ef34f1355d3a9d52a8879f9,Ceph: Catch more failure conditions on volume backup,MERGED,2024-04-23 19:27:09.000000000,2024-05-22 17:10:00.000000000,2024-05-22 17:08:38.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-23 19:27:09.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'releasenotes/notes/ceph-catch-more-failure-conditions-d2ec640f5ff8051c.yaml', 'cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/52f885b7770d048cd48a4fecedff88bf353ff15f', 'message': 'Ceph: Catch more failure conditions on volume backup\n\nThis fixes issues for volume backups with the Ceph driver\nwhere failures of the first process (""rbd export-diff"") were\nnot caught. Instead, only the return code of the second\nprocess (""rbd import-diff"") was recognized.\n\nThis change also preserves the stderr that was lost previously\nin order to ease debugging.\n\nCloses-Bug: 2031897\nCo-Authored-By: Pete Zaitcev <zaitcev@kotori.zaitcev.us>\nChange-Id: I53b573bfff64e7460ef34f1355d3a9d52a8879f9\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n(cherry picked from commit f8e13a883d961a4a5ba1cf6f557a96ebe6f540ad)\n'}]",3,916764,52f885b7770d048cd48a4fecedff88bf353ff15f,22,3,1,16137,,,0,"Ceph: Catch more failure conditions on volume backup

This fixes issues for volume backups with the Ceph driver
where failures of the first process (""rbd export-diff"") were
not caught. Instead, only the return code of the second
process (""rbd import-diff"") was recognized.

This change also preserves the stderr that was lost previously
in order to ease debugging.

Closes-Bug: 2031897
Co-Authored-By: Pete Zaitcev <zaitcev@kotori.zaitcev.us>
Change-Id: I53b573bfff64e7460ef34f1355d3a9d52a8879f9
Signed-off-by: Jan Hartkopf <jhartkopf@inovex.de>
(cherry picked from commit f8e13a883d961a4a5ba1cf6f557a96ebe6f540ad)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/916764/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'releasenotes/notes/ceph-catch-more-failure-conditions-d2ec640f5ff8051c.yaml', 'cinder/backup/drivers/ceph.py']",3,52f885b7770d048cd48a4fecedff88bf353ff15f,rbd-returncode-fix-stable/2024.1,"import tempfile with tempfile.TemporaryFile() as errfile: try: p1 = subprocess.Popen(cmd1, stdout=subprocess.PIPE, stderr=errfile, close_fds=True) except OSError as e: LOG.error(""Pipe1 failed - %s "", e) raise # NOTE(dosaboy): ensure that the pipe is blocking. This is to work # around the case where evenlet.green.subprocess is used which # seems to use a non-blocking pipe. assert p1.stdout is not None flags = fcntl.fcntl(p1.stdout, fcntl.F_GETFL) & (~os.O_NONBLOCK) fcntl.fcntl(p1.stdout, fcntl.F_SETFL, flags) try: p2 = subprocess.Popen(cmd2, stdin=p1.stdout, stdout=subprocess.PIPE, stderr=errfile, close_fds=True) except OSError as e: LOG.error(""Pipe2 failed - %s "", e) raise p1.stdout.close() p2.communicate() p1.wait() errfile.seek(0) px_stderr = errfile.read() return p1.returncode or p2.returncode, px_stderr"," try: p1 = subprocess.Popen(cmd1, stdout=subprocess.PIPE, stderr=subprocess.PIPE, close_fds=True) except OSError as e: LOG.error(""Pipe1 failed - %s "", e) raise # NOTE(dosaboy): ensure that the pipe is blocking. This is to work # around the case where evenlet.green.subprocess is used which seems to # use a non-blocking pipe. assert p1.stdout is not None flags = fcntl.fcntl(p1.stdout, fcntl.F_GETFL) & (~os.O_NONBLOCK) fcntl.fcntl(p1.stdout, fcntl.F_SETFL, flags) try: p2 = subprocess.Popen(cmd2, stdin=p1.stdout, stdout=subprocess.PIPE, stderr=subprocess.PIPE, close_fds=True) except OSError as e: LOG.error(""Pipe2 failed - %s "", e) raise p1.stdout.close() stdout, stderr = p2.communicate() return p2.returncode, stderr",50,27
openstack%2Fovsdbapp~919655,openstack/ovsdbapp,stable/2023.1,I56685478214aae7b6d3a2a3187297ad4eb1869a3,Add if_exists to lrp_set_options,MERGED,2024-05-16 09:41:53.000000000,2024-05-22 16:46:15.000000000,2024-05-22 16:45:10.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 09:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/5ed0d93e752fac2a0be46c79e1e650b8f13f7590', 'message': 'Add if_exists to lrp_set_options\n\nRequired for handling the cases where set_options\nis called on non-existing logical router port.\n\nPartial-Bug: #2065701\nRelated-Bug: #2060163\nChange-Id: I56685478214aae7b6d3a2a3187297ad4eb1869a3\n'}, {'number': 2, 'created': '2024-05-17 03:39:07.000000000', 'files': ['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/2494da94a501b6ef099b82b33383a72646be1745', 'message': 'Add if_exists to lrp_set_options\n\nRequired for handling the cases where set_options\nis called on non-existing logical router port.\n\nThe option is added to parent class BaseSetOptionsCommand, so\nif other apis relying on that need to expose if_exists then those\ncan be extended in future.\n\nPartial-Bug: #2065701\nRelated-Bug: #2060163\nChange-Id: I56685478214aae7b6d3a2a3187297ad4eb1869a3\n(cherry picked from commit 6bac684e6fec715b0aa36abc886153cb82855b3a)\n'}]",1,919655,2494da94a501b6ef099b82b33383a72646be1745,16,5,2,13861,,,0,"Add if_exists to lrp_set_options

Required for handling the cases where set_options
is called on non-existing logical router port.

The option is added to parent class BaseSetOptionsCommand, so
if other apis relying on that need to expose if_exists then those
can be extended in future.

Partial-Bug: #2065701
Related-Bug: #2060163
Change-Id: I56685478214aae7b6d3a2a3187297ad4eb1869a3
(cherry picked from commit 6bac684e6fec715b0aa36abc886153cb82855b3a)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/55/919655/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",4,5ed0d93e752fac2a0be46c79e1e650b8f13f7590,bug/2065701," def test_lrp_set_options_if_exists(self): options = {'one': 'two', 'three': 'four'} self.api.lrp_set_options(utils.get_rand_device_name(), if_exists=True, **options).execute(check_error=True) def test_lrp_set_options_no_exist(self): options = {'one': 'two', 'three': 'four'} cmd = self.api.lrp_set_options(utils.get_rand_device_name(), **options) self.assertRaises(idlutils.RowNotFound, cmd.execute, check_error=True) ",,31,11
openstack%2Fovsdbapp~919865,openstack/ovsdbapp,stable/2023.2,I56685478214aae7b6d3a2a3187297ad4eb1869a3,Add if_exists to lrp_set_options,MERGED,2024-05-17 03:38:35.000000000,2024-05-22 16:45:47.000000000,2024-05-22 16:44:42.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 03:38:35.000000000', 'files': ['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/027ed04c2d9943f4195e81209bb2177e2cb538b7', 'message': 'Add if_exists to lrp_set_options\n\nRequired for handling the cases where set_options\nis called on non-existing logical router port.\n\nThe option is added to parent class BaseSetOptionsCommand, so\nif other apis relying on that need to expose if_exists then those\ncan be extended in future.\n\nPartial-Bug: #2065701\nRelated-Bug: #2060163\nChange-Id: I56685478214aae7b6d3a2a3187297ad4eb1869a3\n(cherry picked from commit 6bac684e6fec715b0aa36abc886153cb82855b3a)\n'}]",0,919865,027ed04c2d9943f4195e81209bb2177e2cb538b7,11,4,1,13861,,,0,"Add if_exists to lrp_set_options

Required for handling the cases where set_options
is called on non-existing logical router port.

The option is added to parent class BaseSetOptionsCommand, so
if other apis relying on that need to expose if_exists then those
can be extended in future.

Partial-Bug: #2065701
Related-Bug: #2060163
Change-Id: I56685478214aae7b6d3a2a3187297ad4eb1869a3
(cherry picked from commit 6bac684e6fec715b0aa36abc886153cb82855b3a)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/65/919865/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",4,027ed04c2d9943f4195e81209bb2177e2cb538b7,bug/2065701," def test_lrp_set_options_if_exists(self): options = {'one': 'two', 'three': 'four'} self.api.lrp_set_options(utils.get_rand_device_name(), if_exists=True, **options).execute(check_error=True) def test_lrp_set_options_no_exist(self): options = {'one': 'two', 'three': 'four'} cmd = self.api.lrp_set_options(utils.get_rand_device_name(), **options) self.assertRaises(idlutils.RowNotFound, cmd.execute, check_error=True) ",,31,11
openstack%2Fcinder~885478,openstack/cinder,stable/2023.1,Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba,Add fips check jobs,NEW,2023-06-08 12:09:43.000000000,2024-05-22 16:39:11.000000000,,"[{'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 12:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16207d0e59f8faa726dd901f0bbf7b3fc82bcc93', 'message': 'Add fips check jobs\n\nThis patch adds two new FIPS enabled jobs to determine if there are any\nissues when FIPS is enabled.\n\nBecause the FIPS jobs currently run on centos, code is added to the\ntest setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nChange-Id: Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba\n(cherry picked from commit 933a7b7e6c1ce2e93f7bd22d6abb07180e43625a)\n'}, {'number': 2, 'created': '2024-05-22 14:00:03.000000000', 'files': ['playbooks/enable-fips.yaml', 'bindep.txt', '.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2f20eaa2abfddb5ea957003542ef7f973d8a88c', 'message': 'Add fips check jobs\n\nThis patch adds two new FIPS enabled jobs to determine if there are any\nissues when FIPS is enabled.\n\nBecause the FIPS jobs currently run on centos, code is added to the\ntest setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nChange-Id: Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba\n(cherry picked from commit 933a7b7e6c1ce2e93f7bd22d6abb07180e43625a)\n'}]",1,885478,b2f20eaa2abfddb5ea957003542ef7f973d8a88c,14,2,2,34120,,,0,"Add fips check jobs

This patch adds two new FIPS enabled jobs to determine if there are any
issues when FIPS is enabled.

Because the FIPS jobs currently run on centos, code is added to the
test setup script to set up the databases correctly.  Also had
to increase the swap space on the nodes; see [0] for an explanation.

[0] https://review.opendev.org/c/openstack/devstack/+/803706

Change-Id: Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba
(cherry picked from commit 933a7b7e6c1ce2e93f7bd22d6abb07180e43625a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/885478/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', 'bindep.txt', '.zuul.yaml', 'tools/test-setup.sh']",4,16207d0e59f8faa726dd901f0bbf7b3fc82bcc93,fips-compatibility-stable/2023.1,"function is_rhel7 { [ -f /usr/bin/yum ] && \ cat /etc/*release | grep -q -e ""Red Hat"" -e ""CentOS"" -e ""CloudLinux"" && \ cat /etc/*release | grep -q 'release 7' } function is_rhel8 { [ -f /usr/bin/dnf ] && \ cat /etc/*release | grep -q -e ""Red Hat"" -e ""CentOS"" -e ""CloudLinux"" && \ cat /etc/*release | grep -q 'release 8' } function is_rhel9 { [ -f /usr/bin/dnf ] && \ cat /etc/*release | grep -q -e ""Red Hat"" -e ""CentOS"" -e ""CloudLinux"" && \ cat /etc/*release | grep -q 'release 9' } function set_conf_line { # file regex value sudo sh -c ""grep -q -e '$2' $1 && \ sed -i 's|$2|$3|g' $1 || \ echo '$3' >> $1"" } if is_rhel7 || is_rhel8 || is_rhel9; then # mysql needs to be started on centos/rhel sudo systemctl restart mariadb.service # postgres setup for centos sudo postgresql-setup --initdb PG_CONF=/var/lib/pgsql/data/postgresql.conf set_conf_line $PG_CONF '^password_encryption =.*' 'password_encryption = scram-sha-256' PG_HBA=/var/lib/pgsql/data/pg_hba.conf set_conf_line $PG_HBA '^local[ \t]*all[ \t]*all.*' 'local all all peer' set_conf_line $PG_HBA '^host[ \t]*all[ \t]*all[ \t]*127.0.0.1\/32.*' 'host all all 127.0.0.1/32 scram-sha-256' set_conf_line $PG_HBA '^host[ \t]*all[ \t]*all[ \t]*::1\/128.*' 'host all all ::1/128 scram-sha-256' sudo systemctl restart postgresql.service fi ",,62,0
openstack%2Fcharm-ceph-osd~915497,openstack/charm-ceph-osd,master,I382a0a657b31c172a036ce7ca62facbbce32b4a0,Implement key rotation for OSD,MERGED,2024-04-11 16:38:44.000000000,2024-05-22 16:35:29.000000000,2024-05-22 16:35:29.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-11 16:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/1108946a850ed8df1e95631842ca27952496efb5', 'message': ""Implement key rotation for OSD\n\nThis patchset implements key rotation for OSD's. It does so by\nreceiving an update in the relation data bag from ceph-mons (where\nthe actions is started), which informs the OSD units for which\nOSD the key needs to be rotated and the key itself. The OSD units\nthen check if they are managing the ID specified, and if so,\nproceed to rotate the key.\n\nChange-Id: I382a0a657b31c172a036ce7ca62facbbce32b4a0\n""}, {'number': 2, 'created': '2024-04-11 16:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/4c84bc6530bb8d853d255cf0a44de87125817264', 'message': ""Implement key rotation for OSD\n\nThis patchset implements key rotation for OSD's. It does so by\nreceiving an update in the relation data bag from ceph-mons (where\nthe actions is started), which informs the OSD units for which\nOSD the key needs to be rotated and the key itself. The OSD units\nthen check if they are managing the ID specified, and if so,\nproceed to rotate the key.\n\nChange-Id: I382a0a657b31c172a036ce7ca62facbbce32b4a0\n""}, {'number': 3, 'created': '2024-04-12 16:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/d8065b74098d123538122f700b2dc92b00e504f2', 'message': ""Implement key rotation for OSD\n\nThis patchset implements key rotation for OSD's. It does so by\nreceiving an update in the relation data bag from ceph-mons (where\nthe actions is started), which informs the OSD units for which\nOSD the key needs to be rotated and the key itself. The OSD units\nthen check if they are managing the ID specified, and if so,\nproceed to rotate the key.\n\nChange-Id: I382a0a657b31c172a036ce7ca62facbbce32b4a0\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1195\n""}, {'number': 4, 'created': '2024-04-17 22:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/bfd15950d4e85e1ea98709462d5907559845c044', 'message': ""Implement key rotation for OSD\n\nThis patchset implements key rotation for OSD's. It does so by\nreceiving an update in the relation data bag from ceph-mons (where\nthe actions is started), which informs the OSD units for which\nOSD the key needs to be rotated and the key itself. The OSD units\nthen check if they are managing the ID specified, and if so,\nproceed to rotate the key.\n\nChange-Id: I382a0a657b31c172a036ce7ca62facbbce32b4a0\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1195\n""}, {'number': 5, 'created': '2024-05-08 15:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/406d8c9e52b08652654ce52809db61c962f0bdaf', 'message': ""Implement key rotation for OSD\n\nThis patchset implements key rotation for OSD's. It does so by\nreceiving an update in the relation data bag from ceph-mons (where\nthe actions is started), which informs the OSD units for which\nOSD the key needs to be rotated and the key itself. The OSD units\nthen check if they are managing the ID specified, and if so,\nproceed to rotate the key.\n\nChange-Id: I382a0a657b31c172a036ce7ca62facbbce32b4a0\n""}, {'number': 6, 'created': '2024-05-08 15:49:09.000000000', 'files': ['hooks/utils.py', 'hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'unit_tests/test_ceph_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/ab6fb9aedd9e21907132395e96ce432796fa239e', 'message': ""Implement key rotation for OSD\n\nThis patchset implements key rotation for OSD's. It does so by\nreceiving an update in the relation data bag from ceph-mons (where\nthe actions is started), which informs the OSD units for which\nOSD the key needs to be rotated and the key itself. The OSD units\nthen check if they are managing the ID specified, and if so,\nproceed to rotate the key.\n\nChange-Id: I382a0a657b31c172a036ce7ca62facbbce32b4a0\n""}]",9,915497,ab6fb9aedd9e21907132395e96ce432796fa239e,29,3,6,33717,,,0,"Implement key rotation for OSD

This patchset implements key rotation for OSD's. It does so by
receiving an update in the relation data bag from ceph-mons (where
the actions is started), which informs the OSD units for which
OSD the key needs to be rotated and the key itself. The OSD units
then check if they are managing the ID specified, and if so,
proceed to rotate the key.

Change-Id: I382a0a657b31c172a036ce7ca62facbbce32b4a0
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/97/915497/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/utils.py', 'hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'unit_tests/test_ceph_utils.py']",4,1108946a850ed8df1e95631842ca27952496efb5,key-rotate," @patch.object(utils.ceph, 'ceph_user') @patch.object(utils.subprocess, 'check_call') @patch.object(utils.os.path, 'exists') def test_import_pending_key(self, exists, check_call, ceph_user): ceph_user.return_value = 'ceph' exists.return_value = True utils.import_pending_key('some-key', '0') exists.assert_called_with('/var/lib/ceph/osd/ceph-0/keyring') check_call.assert_called_with(['sudo', '-u', 'ceph', 'ceph-authtool', '/var/lib/ceph/osd/ceph-0/keyring', '--name=osd.0', '--add-key=some-key'])",,64,4
openstack%2Fdesignate~918367,openstack/designate,master,I4d1314b657e14edfd3817612549df95650b159bb,Set a default min_ttl for central,NEW,2024-05-06 23:59:09.000000000,2024-05-22 16:33:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2024-05-06 23:59:09.000000000', 'files': ['designate/conf/central.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/2e53f14f72fe38c2a1754fff5a29ddefb5e11188', 'message': 'Set a default min_ttl for central\n\nThis fixes a bug when importing a zone with a TTL of 0 (bad practice, but\npossible per the RFC[1]). A value of zero would cause Designate to use the\ncentral process configuration setting of min_ttl, which had no default value.\nThis led to ""None"" being used, which caused the import to fail with a SQL\nvalidation error.\n\nThis patch adds a default of zero to the min_ttl configuration setting.\n\nCloses-bug: #2064972\nCloses-bug: #1969299\n\n[1] https://tools.ietf.org/html/rfc2181#section-8\n\nChange-Id: I4d1314b657e14edfd3817612549df95650b159bb\n'}]",1,918367,2e53f14f72fe38c2a1754fff5a29ddefb5e11188,4,3,1,11628,,,0,"Set a default min_ttl for central

This fixes a bug when importing a zone with a TTL of 0 (bad practice, but
possible per the RFC[1]). A value of zero would cause Designate to use the
central process configuration setting of min_ttl, which had no default value.
This led to ""None"" being used, which caused the import to fail with a SQL
validation error.

This patch adds a default of zero to the min_ttl configuration setting.

Closes-bug: #2064972
Closes-bug: #1969299

[1] https://tools.ietf.org/html/rfc2181#section-8

Change-Id: I4d1314b657e14edfd3817612549df95650b159bb
",git fetch https://review.opendev.org/openstack/designate refs/changes/67/918367/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/conf/central.py'],1,2e53f14f72fe38c2a1754fff5a29ddefb5e11188,bug/2064972," cfg.IntOpt('min_ttl', help=""Minimum TTL allowed"", default=0),"," cfg.IntOpt('min_ttl', help=""Minimum TTL allowed""),",1,1
openstack%2Fnova~914199,openstack/nova,unmaintained/victoria,Ia1eb1d93d1f9699a4027b7a07107109ab9a3a29a,Remove VFSLocalFS,NEW,2024-03-26 13:17:22.000000000,2024-05-22 16:10:55.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 13:17:22.000000000', 'files': ['nova/tests/unit/privsep/test_fs.py', 'nova/virt/disk/vfs/localfs.py', 'nova/tests/unit/privsep/test_path.py', 'nova/tests/unit/virt/disk/vfs/test_localfs.py', 'nova/privsep/fs.py', 'nova/privsep/path.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/489fef396d0a5e3f8ac29d3e8eab79febc0fef4e', 'message': 'Remove VFSLocalFS\n\nThe fix Iac8496065c8b6212d7edac320659444ab341b513 removed the last user\nof VFSLocalFS so this patch remove the class, the related tests and all\nthe privsep functions that become dead code after this cleanup.\n\nChange-Id: Ia1eb1d93d1f9699a4027b7a07107109ab9a3a29a\n(cherry picked from commit 4b32f9c9e3016ab21c36f5ab480999b7b55a7b9a)\n'}]",1,914199,489fef396d0a5e3f8ac29d3e8eab79febc0fef4e,4,2,1,8313,,,0,"Remove VFSLocalFS

The fix Iac8496065c8b6212d7edac320659444ab341b513 removed the last user
of VFSLocalFS so this patch remove the class, the related tests and all
the privsep functions that become dead code after this cleanup.

Change-Id: Ia1eb1d93d1f9699a4027b7a07107109ab9a3a29a
(cherry picked from commit 4b32f9c9e3016ab21c36f5ab480999b7b55a7b9a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/914199/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/privsep/test_fs.py', 'nova/virt/disk/vfs/localfs.py', 'nova/tests/unit/privsep/test_path.py', 'nova/tests/unit/virt/disk/vfs/test_localfs.py', 'nova/privsep/fs.py', 'nova/privsep/path.py']",6,489fef396d0a5e3f8ac29d3e8eab79febc0fef4e,bug/1552042-unmaintained/victoria,,"def readfile(path): if not os.path.exists(path): raise exception.FileNotFound(file_path=path) with open(path, 'r') as f: return f.read() @nova.privsep.sys_admin_pctxt.entrypointdef readlink(path): if not os.path.exists(path): raise exception.FileNotFound(file_path=path) return os.readlink(path) @nova.privsep.sys_admin_pctxt.entrypointclass path(object): @staticmethod @nova.privsep.sys_admin_pctxt.entrypoint def exists(path): return os.path.exists(path) ",0,422
openstack%2Fcinder~902876,openstack/cinder,master,I7a50ba8ce16184dce3b8a3dec7801155c7a605cd,Add wsgi module,NEW,2023-12-07 10:46:29.000000000,2024-05-22 16:08:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-12-07 10:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc22bc7994b2dca01bc4460e3071e0009f110e44', 'message': ""Add wsgi module\n\nThis allows deployment tooling to easily switch from passing a binary\npath to passing a Python module path. We'll use it shortly.\n\nChange-Id: I7a50ba8ce16184dce3b8a3dec7801155c7a605cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2023-12-11 01:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce400fe91e580aceeac6fc9af5455e2597393669', 'message': ""Add wsgi module\n\nThis allows deployment tooling to easily switch from passing a binary\npath to passing a Python module path. We'll use it shortly.\n\nChange-Id: I7a50ba8ce16184dce3b8a3dec7801155c7a605cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2024-04-17 10:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c02168d4200483a4930ac4218dcc6fd82d71eee7', 'message': ""Add wsgi module\n\nThis allows deployment tooling to easily switch from passing a binary\npath to passing a Python module path. We'll use it shortly.\n\nChange-Id: I7a50ba8ce16184dce3b8a3dec7801155c7a605cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2024-04-19 13:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42dd92c4f706ac774915f2b1612f4b9ba36e102f', 'message': ""Add wsgi module\n\nThis allows deployment tooling to easily switch from passing a binary\npath to passing a Python module path. We'll use it shortly.\n\nChange-Id: I7a50ba8ce16184dce3b8a3dec7801155c7a605cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2024-05-14 13:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b435a2bdb69a868acc86a6e66ecb380dea740907', 'message': ""Add wsgi module\n\nThis allows deployment tooling to easily switch from passing a binary\npath to passing a Python module path. We'll use it shortly.\n\nChange-Id: I7a50ba8ce16184dce3b8a3dec7801155c7a605cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2024-05-14 14:32:19.000000000', 'files': ['doc/source/conf.py', 'releasenotes/notes/add-cinder-wsgi-module-ae72ad42bfebbea8.yaml', 'cinder/wsgi/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/50eb89ccdcd74c25a0ea93bd9d491cfbe59e4422', 'message': ""Add wsgi module\n\nThis allows deployment tooling to easily switch from passing a binary\npath to passing a Python module path. We'll use it shortly.\n\nChange-Id: I7a50ba8ce16184dce3b8a3dec7801155c7a605cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,902876,50eb89ccdcd74c25a0ea93bd9d491cfbe59e4422,78,1,6,15334,,,0,"Add wsgi module

This allows deployment tooling to easily switch from passing a binary
path to passing a Python module path. We'll use it shortly.

Change-Id: I7a50ba8ce16184dce3b8a3dec7801155c7a605cd
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/902876/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-cinder-wsgi-module-ae72ad42bfebbea8.yaml', 'cinder/wsgi/api.py']",2,bc22bc7994b2dca01bc4460e3071e0009f110e44,remove-wsgi_scripts,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""WSGI application entry-point for Cinder Volume API."""""" import threading from cinder.wsgi import wsgi lock = threading.Lock() with lock: if application is None: application = wsgi.initialize_application() ",,42,0
openstack%2Foctavia-lib~920189,openstack/octavia-lib,master,Idb98919803d025a7de32229251c73d5fecdaccf9,Use the common octavia queue,MERGED,2024-05-22 15:28:09.000000000,2024-05-22 15:57:07.000000000,2024-05-22 15:54:22.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-05-22 15:28:09.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/93d4846a9d0b6a74ec83c870dda30a99d3f2ddb0', 'message': 'Use the common octavia queue\n\nThe same queue should be used so that zuul can automatically start\nmoving a patch to get when its dependencies is also thrown to gate.\n\nChange-Id: Idb98919803d025a7de32229251c73d5fecdaccf9\n'}]",1,920189,93d4846a9d0b6a74ec83c870dda30a99d3f2ddb0,8,3,1,9816,,,0,"Use the common octavia queue

The same queue should be used so that zuul can automatically start
moving a patch to get when its dependencies is also thrown to gate.

Change-Id: Idb98919803d025a7de32229251c73d5fecdaccf9
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/89/920189/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,93d4846a9d0b6a74ec83c870dda30a99d3f2ddb0,, queue: octavia,,1,0
openstack%2Fproject-config~920149,openstack/project-config,master,I3b9d01a111e66290cae16f7f4f58ba0c6f2cacd8,Add Ubuntu 24.04 LTS (ubuntu-noble) nodes,MERGED,2024-05-21 19:40:44.000000000,2024-05-22 15:56:02.000000000,2024-05-22 15:49:35.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 19:40:44.000000000', 'files': ['nodepool/nb04.opendev.org.yaml', 'nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/059f2785e56bcdd7fa2114d4f2881bc3a4bc79e3', 'message': ""Add Ubuntu 24.04 LTS (ubuntu-noble) nodes\n\nBuild images and boot ubuntu-noble everywhere we do for\nubuntu-jammy. Drop the kernel boot parameter override we use on\nJammy since it's default in the kernel versions included in Noble\nnow.\n\nChange-Id: I3b9d01a111e66290cae16f7f4f58ba0c6f2cacd8\n""}]",1,920149,059f2785e56bcdd7fa2114d4f2881bc3a4bc79e3,9,3,1,5263,,,0,"Add Ubuntu 24.04 LTS (ubuntu-noble) nodes

Build images and boot ubuntu-noble everywhere we do for
ubuntu-jammy. Drop the kernel boot parameter override we use on
Jammy since it's default in the kernel versions included in Noble
now.

Change-Id: I3b9d01a111e66290cae16f7f4f58ba0c6f2cacd8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/920149/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nb04.opendev.org.yaml', 'nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml']",6,059f2785e56bcdd7fa2114d4f2881bc3a4bc79e3,boot-ubuntu-noble," - name: ubuntu-noble - name: ubuntu-noble-arm64 min-ready: 0 - name: ubuntu-noble-arm64-16C-16GB min-ready: 0 - name: ubuntu-noble-32GB min-ready: 0 - name: nested-virt-ubuntu-noble min-ready: 0 - name: ubuntu-noble config-drive: true - name: nested-virt-ubuntu-noble min-ram: 8000 flavor-name: 'v3-standard-8' diskimage: ubuntu-noble key-name: infra-root-keys-2020-05-13 - name: ubuntu-noble-32GB flavor-name: 'v3-standard-8' # 8c, 32g diskimage: ubuntu-noble key-name: infra-root-keys-2020-05-13 - name: ubuntu-noble min-ram: 8000 flavor-name: v2-highcpu-8 boot-from-volume: true volume-size: 80 diskimage: ubuntu-noble key-name: infra-root-keys-2020-05-13 - name: nested-virt-ubuntu-noble min-ram: 8000 flavor-name: v2-highcpu-8 boot-from-volume: true volume-size: 80 diskimage: ubuntu-noble key-name: infra-root-keys-2020-05-13 - name: ubuntu-noble-arm64 config-drive: true - name: ubuntu-noble-arm64 flavor-name: 'opendev' diskimage: ubuntu-noble-arm64 key-name: infra-root-keys-2020-05-13 - name: ubuntu-noble-arm64-16C-16GB flavor-name: 'opendev-16C-16GB' diskimage: ubuntu-noble-arm64 key-name: infra-root-keys-2020-05-13 - name: ubuntu-noble-arm64 config-drive: true - name: ubuntu-noble-arm64 flavor-name: 'opendev.large' diskimage: ubuntu-noble-arm64 key-name: infra-root-keys-2020-05-13 - name: ubuntu-noble - name: ubuntu-noble-arm64",,129,0
openstack%2Fcinder~905129,openstack/cinder,stable/2023.1,I4abfb6de58340c5ea70e7a796326f5d2089c80eb,Pure: Report SAM-2 addressing mode for LUNs,NEW,2024-01-09 15:51:19.000000000,2024-05-22 15:54:17.000000000,,"[{'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-09 15:51:19.000000000', 'files': ['cinder/volume/drivers/pure.py', 'cinder/volume/driver.py', 'releasenotes/notes/pure-report-addressing-91963e29fbed32a4.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aca97888941d448e2b4fce5659319d5457f7b0c6', 'message': ""Pure: Report SAM-2 addressing mode for LUNs\n\nPure iSCSI and FC drivers use SCSI SAM-2 addressing mode, which means\nthat LUNs < 256 use peripheral mode (unmodified values) and LUNs >= 256\nuse flat mode (2 higher bits of the MSB must be 01b).\n\nThis is not the standard behavior of os-brick, which defaults to\nSAM/transparent mode.\n\nIn this patch the Pure storage driver reports it's addressing mode so\nthat LUNs with value greater than 255 can be connected by os-brick.\n\nDepends-On: If32d054e8f944f162bdc8700d842134a80049877\nCloses-Bug: #2006960\nChange-Id: I4abfb6de58340c5ea70e7a796326f5d2089c80eb\n(cherry picked from commit dad485ea665271be66beca750025e3def2a9dc05)\n(cherry picked from commit 4373aa1240c6e025064dc537272f5912aaa8cee3)\n""}]",4,905129,aca97888941d448e2b4fce5659319d5457f7b0c6,18,3,1,9535,,,0,"Pure: Report SAM-2 addressing mode for LUNs

Pure iSCSI and FC drivers use SCSI SAM-2 addressing mode, which means
that LUNs < 256 use peripheral mode (unmodified values) and LUNs >= 256
use flat mode (2 higher bits of the MSB must be 01b).

This is not the standard behavior of os-brick, which defaults to
SAM/transparent mode.

In this patch the Pure storage driver reports it's addressing mode so
that LUNs with value greater than 255 can be connected by os-brick.

Depends-On: If32d054e8f944f162bdc8700d842134a80049877
Closes-Bug: #2006960
Change-Id: I4abfb6de58340c5ea70e7a796326f5d2089c80eb
(cherry picked from commit dad485ea665271be66beca750025e3def2a9dc05)
(cherry picked from commit 4373aa1240c6e025064dc537272f5912aaa8cee3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/905129/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/volume/driver.py', 'releasenotes/notes/pure-report-addressing-91963e29fbed32a4.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py']",4,aca97888941d448e2b4fce5659319d5457f7b0c6,pure-addressing-mode_2023.1," ""addressing_mode"": ""SAM2"", ""addressing_mode"": ""SAM2"", ""addressing_mode"": ""SAM2"", ""addressing_mode"": ""SAM2"", ""addressing_mode"": ""SAM2"", ""addressing_mode"": ""SAM2"", ""addressing_mode"": ""SAM2"",",,21,1
openstack%2Fdiskimage-builder~901093,openstack/diskimage-builder,master,Ic69ab6d057240a7b2fd3dd157a3b9e52df19dccb,Drop py36 support,NEW,2023-11-15 21:14:18.000000000,2024-05-22 15:36:16.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-15 21:14:18.000000000', 'files': ['.zuul.d/project.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/81900e15b3a628c563755f6b0d522a18e47110f6', 'message': ""Drop py36 support\n\nStestr has dropped py36 support, and we're now seeing py36 build\nerrors with diskimage-builder, which until now supported py36.\n\nWhile the cause of the build errors is not directly the py36\ndrop from stestr, it doesn't really make sense to continue to\ntest py36. OpenStack has moved on from python 3.6, and\ndiskimage-builder should as well.\n\nChange-Id: Ic69ab6d057240a7b2fd3dd157a3b9e52df19dccb\n""}]",10,901093,81900e15b3a628c563755f6b0d522a18e47110f6,16,2,1,11655,,,0,"Drop py36 support

Stestr has dropped py36 support, and we're now seeing py36 build
errors with diskimage-builder, which until now supported py36.

While the cause of the build errors is not directly the py36
drop from stestr, it doesn't really make sense to continue to
test py36. OpenStack has moved on from python 3.6, and
diskimage-builder should as well.

Change-Id: Ic69ab6d057240a7b2fd3dd157a3b9e52df19dccb
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/93/901093/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'setup.cfg']",2,81900e15b3a628c563755f6b0d522a18e47110f6,,, Programming Language :: Python :: 3.6,0,11
openstack%2Fansible-collection-kolla~920134,openstack/ansible-collection-kolla,unmaintained/yoga,I274d698956303af832972c2c5e16509f2053bd5b,docker_sdk: Pin requests to <2.32 due to docker-py incompatibility,ABANDONED,2024-05-22 14:58:51.000000000,2024-05-22 15:19:54.000000000,,[],"[{'number': 1, 'created': '2024-05-22 14:58:51.000000000', 'files': ['roles/docker_sdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/70e6cbaf017c9ca2ea10aece92af40f4add63767', 'message': 'docker_sdk: Pin requests to <2.32 due to docker-py incompatibility\n\nCloses-Bug: #2066364\nChange-Id: I274d698956303af832972c2c5e16509f2053bd5b\n(cherry picked from commit cf7b405c4aa788bb307020b739c93094ae0050a9)\n'}]",0,920134,70e6cbaf017c9ca2ea10aece92af40f4add63767,2,0,1,22629,,,0,"docker_sdk: Pin requests to <2.32 due to docker-py incompatibility

Closes-Bug: #2066364
Change-Id: I274d698956303af832972c2c5e16509f2053bd5b
(cherry picked from commit cf7b405c4aa788bb307020b739c93094ae0050a9)
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/34/920134/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/docker_sdk/defaults/main.yml'],1,70e6cbaf017c9ca2ea10aece92af40f4add63767,,"<<<<<<< HEAD (7802f5 Update .gitreview for unmaintained/zed)======= - ""docker>=6.0.0,<7.0.0"" - ""requests<2.32"" >>>>>>> CHANGE (cf7b40 docker_sdk: Pin requests to <2.32 due to docker-py incompati)",,5,0
openstack%2Fansible-collection-kolla~920133,openstack/ansible-collection-kolla,unmaintained/zed,I274d698956303af832972c2c5e16509f2053bd5b,docker_sdk: Pin requests to <2.32 due to docker-py incompatibility,ABANDONED,2024-05-22 14:54:14.000000000,2024-05-22 15:19:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-22 14:54:14.000000000', 'files': ['roles/docker_sdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/2993c73b0de16bf79897d68def20754eb02bea3a', 'message': 'docker_sdk: Pin requests to <2.32 due to docker-py incompatibility\n\nCloses-Bug: #2066364\nChange-Id: I274d698956303af832972c2c5e16509f2053bd5b\n(cherry picked from commit cf7b405c4aa788bb307020b739c93094ae0050a9)\n'}]",0,920133,2993c73b0de16bf79897d68def20754eb02bea3a,4,1,1,22629,,,0,"docker_sdk: Pin requests to <2.32 due to docker-py incompatibility

Closes-Bug: #2066364
Change-Id: I274d698956303af832972c2c5e16509f2053bd5b
(cherry picked from commit cf7b405c4aa788bb307020b739c93094ae0050a9)
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/33/920133/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/docker_sdk/defaults/main.yml'],1,2993c73b0de16bf79897d68def20754eb02bea3a,,"<<<<<<< HEAD (7802f5 Update .gitreview for unmaintained/zed)======= - ""docker>=6.0.0,<7.0.0"" - ""requests<2.32"" >>>>>>> CHANGE (cf7b40 docker_sdk: Pin requests to <2.32 due to docker-py incompati)",,5,0
openstack%2Fbifrost~895691,openstack/bifrost,master,Ied8bc515fa33707eefcd9759251821ed83253a8b,Bifrost NTP configuration,NEW,2023-09-18 14:37:13.000000000,2024-05-22 15:18:05.000000000,,"[{'_account_id': 10239}, {'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-09-18 14:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f55397ad8cdaab9c23007fccf48d2db8018cc8db', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration to Bifrost and refactors\nkernel parameters to support lists and strings.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 2, 'created': '2023-09-19 14:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d8574b3b2120e849ae87ca31cf0e6534c3d688a3', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration to Bifrost and refactors\nkernel parameters to support lists and strings.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 3, 'created': '2023-09-19 15:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/273f761dbdfd46fdf2c684c79e37c6898d8f94a1', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration to Bifrost and refactors\nkernel parameters to support lists and strings.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 4, 'created': '2023-09-20 08:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3535a74757fb000c96e00e7df7564adb91e459b1', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration to Bifrost and refactors\nkernel parameters to support lists and strings.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 5, 'created': '2023-09-21 14:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8fe075e5e174d57f20699afba87297e76d6425d3', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration to Bifrost and refactors\nkernel parameters to support lists and strings.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 6, 'created': '2023-12-22 14:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/24c004071da8430e8327f98ca43c0e2afe261c23', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 7, 'created': '2023-12-22 14:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b75e8d895da62d04455388c4c116f32c4a4238b8', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 8, 'created': '2023-12-22 14:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ef3ed63b1db78b8ad820278b3dbdb07a7462c195', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 9, 'created': '2023-12-22 15:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4b5f47aa42f03b7c2a4ac0b5fafb76d946931be9', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 10, 'created': '2023-12-22 15:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/aa9a5925481d3ea4e56a7b2a0e8b2257c588a08f', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 11, 'created': '2023-12-22 15:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/258d825b44db929f7eac8376717cf64405718cba', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 12, 'created': '2024-01-10 13:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/25716aefa64f52cd9b1b50d8d2f70f482d814c53', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 13, 'created': '2024-01-10 15:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3817bfd797683d10e55298fbea3664d88b7f612b', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 14, 'created': '2024-01-10 16:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3ac7f3cea1b592fb0332fe04dfd4520a36847109', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 15, 'created': '2024-02-01 13:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b3621f6dc9a7e83de880c50fe179889db9272976', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}, {'number': 16, 'created': '2024-05-22 13:41:30.000000000', 'files': ['releasenotes/notes/bifrost-ntp-b9ff464ca13ad959.yaml', 'playbooks/roles/bifrost-ironic-install/templates/inspector-default-boot-ipxe.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a9386870a22b3cc937c9d994219b6b9825da8633', 'message': 'Bifrost NTP configuration\n\nThis patch adds NTP configuration with a precheck to Bifrost.\n\nChange-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b\n'}]",16,895691,a9386870a22b3cc937c9d994219b6b9825da8633,36,3,16,36238,,,0,"Bifrost NTP configuration

This patch adds NTP configuration with a precheck to Bifrost.

Change-Id: Ied8bc515fa33707eefcd9759251821ed83253a8b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/91/895691/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/templates/inspector-default-boot-ipxe.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml']",2,f55397ad8cdaab9c23007fccf48d2db8018cc8db,ntp-update,"ironic_ntp_server: pxe_kernel_params_defaults: - ""nofb"" - ""nomodeset"" - ""systemd.journald.forward_to_console=yes"" - ""{% if testing | bool %}console=ttyS0{% endif %}"" - ""ipa-insecure=1"" - ""{% if ipa_add_ssh_key | bool and ssh_public_key is defined %}sshkey='{{ ssh_public_key }}'{% endif %}"" - ""{% if ironic_ntp_server | length %}ipa-ntp-server={{ ironic_ntp_server }}{% endif %}"" pxe_kernel_params_extras: ""{{ extra_kernel_options | default('') }}"" pxe_kernel_params: ""{{ (( pxe_kernel_params_defaults | join(' ') ) + ' ' + ( pxe_ker nel_params_extras if pxe_kernel_params_extras is string else pxe_kernel_params_extras | join(' ') )) }}"" inspector_pxe_kernel_params_defaults: - ""ipa-inspection-callback-url={{ api_protocol }}://{{ internal_ip }}:5050/v1/continue"" - ""{% if fast_track | bool %}ipa-api-url={{ api_protocol }}://{{ internal_ip }}:6385{% endif %}"" - ""systemd.journald.forward_to_console=yes"" - ""{% raw %}BOOTIF=${mac}{% endraw %}"" - ""nofb"" - ""nomodeset"" - ""console=ttyS0"" - ""ipa-insecure=1"" - ""initrd={{ ipa_ramdisk_url | basename }}"" - ""{% if ironic_inspector_ntp_server | length %}ipa-ntp-server={{ ironic_ntp_server }}{% endif %}"" inspector_pxe_kernel_params_extras: ""{{ inspector_extra_kernel_options }}"" inspector_pxe_kernel_params: ""{{ (( inspector_pxe_kernel_params_defaults | join(' ')) + ' ' + ( inspector_pxe_kernel_params_extras if inspector_pxe_kernel_params_extras is string else inspector_pxe_kernel_params_extras | join(' ') )) }}"" ","pxe_kernel_params: >- nofb nomodeset systemd.journald.forward_to_console=yes {% if testing | bool %}console=ttyS0{% endif %} ipa-insecure=1 {% if ipa_add_ssh_key | bool and ssh_public_key is defined %} sshkey=""{{ ssh_public_key }}"" {% endif %} {{ extra_kernel_options | default('') }}",30,9
openstack%2Fcharm-glance~918178,openstack/charm-glance,stable/2023.1,I383a0794e924db3c7f4ce47d1e3b88355c2475e4,Fix check for internal endpoint enablement,MERGED,2024-05-07 17:52:43.000000000,2024-05-22 15:15:44.000000000,2024-05-22 15:15:44.000000000,"[{'_account_id': 6737}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-07 17:52:43.000000000', 'files': ['hooks/glance_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/2f6f7d491cedecc0b3e99ce95ef7fa69dcfa2661', 'message': 'Fix check for internal endpoint enablement\n\nFor cinder volume backend sections, ensure that enabling internal\nendpoint usage for service access does not completely clear the\nexisting content of the section.\n\nChange-Id: I383a0794e924db3c7f4ce47d1e3b88355c2475e4\nCloses-Bug: 2052726\n(cherry picked from commit cfb228fc43ef29764295cefb45407162143cee09)\n'}]",0,918178,2f6f7d491cedecc0b3e99ce95ef7fa69dcfa2661,9,5,1,34275,,,0,"Fix check for internal endpoint enablement

For cinder volume backend sections, ensure that enabling internal
endpoint usage for service access does not completely clear the
existing content of the section.

Change-Id: I383a0794e924db3c7f4ce47d1e3b88355c2475e4
Closes-Bug: 2052726
(cherry picked from commit cfb228fc43ef29764295cefb45407162143cee09)
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/78/918178/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/glance_contexts.py'],1,2f6f7d491cedecc0b3e99ce95ef7fa69dcfa2661,bug/2052726-stable/2023.1, if volume_type not in ctxt['enabled_backend_configs']:, if 'volume_type' not in ctxt['enabled_backend_configs']:,1,1
openstack%2Fcinder~909047,openstack/cinder,unmaintained/yoga,I893105cbd270300be9ec48b3127e66022f739314,"Revert ""Driver assisted migration on retype when it's safe""",NEW,2024-02-14 19:12:58.000000000,2024-05-22 15:10:34.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-14 19:12:58.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/retype-assisted-migration-6cdc7f9b21beb859.yaml', 'cinder/tests/unit/volume/test_volume_migration.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/682d990f1d8733289c2f32bc98c47536927a3dae', 'message': 'Revert ""Driver assisted migration on retype when it\'s safe""\n\nThis reverts commit 5edc77a18c505e22ee56e3ebda6d400cded6fa32.\n\nReason for revert: Bug: #2019190\nThis revealed a bug in Cinder optimized migration code that can lead to data loss with RBD and potentially other drivers, by using the optimized migration path in more cases.  Once the issues there are fixed, this should be re-introduced.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/900671\nChange-Id: I893105cbd270300be9ec48b3127e66022f739314\n(cherry picked from commit 13196c700cf36b996204853a90573b1a67139764)\n(cherry picked from commit 8d453fa7b6daf1c1b6105a71f7c660b9036541f3)\n(cherry picked from commit f9f6d99e55250ea8627545fd2aa2965ee5ca91d4)\n(cherry picked from commit bd2d192c6b76961ec665d922694a21b1f38a0f16)\n'}]",1,909047,682d990f1d8733289c2f32bc98c47536927a3dae,11,2,1,5314,,,0,"Revert ""Driver assisted migration on retype when it's safe""

This reverts commit 5edc77a18c505e22ee56e3ebda6d400cded6fa32.

Reason for revert: Bug: #2019190
This revealed a bug in Cinder optimized migration code that can lead to data loss with RBD and potentially other drivers, by using the optimized migration path in more cases.  Once the issues there are fixed, this should be re-introduced.

Depends-On: https://review.opendev.org/c/openstack/cinder/+/900671
Change-Id: I893105cbd270300be9ec48b3127e66022f739314
(cherry picked from commit 13196c700cf36b996204853a90573b1a67139764)
(cherry picked from commit 8d453fa7b6daf1c1b6105a71f7c660b9036541f3)
(cherry picked from commit f9f6d99e55250ea8627545fd2aa2965ee5ca91d4)
(cherry picked from commit bd2d192c6b76961ec665d922694a21b1f38a0f16)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/909047/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/retype-assisted-migration-6cdc7f9b21beb859.yaml', 'cinder/tests/unit/volume/test_volume_migration.py']",3,682d990f1d8733289c2f32bc98c47536927a3dae,bug/2019190,," @mock.patch('cinder.volume.manager.VolumeManager.' '_can_use_driver_migration') def test_migrate_volume_driver_for_retype(self, mock_can_use): """"""Test volume migration done by driver on a retype."""""" # Mock driver and rpc functions mock_driver = self.mock_object(self.volume.driver, 'migrate_volume', return_value=(True, {})) volume = tests_utils.create_volume(self.context, size=0, host=CONF.host, migration_status='migrating') host_obj = {'host': 'newhost', 'capabilities': {}} self.volume.migrate_volume(self.context, volume, host_obj, False, fake.VOLUME_TYPE2_ID, mock.sentinel.diff) mock_can_use.assert_called_once_with(mock.sentinel.diff) mock_driver.assert_called_once_with(self.context, volume, host_obj) # check volume properties volume = objects.Volume.get_by_id(context.get_admin_context(), volume.id) self.assertEqual('newhost', volume.host) self.assertEqual('success', volume.migration_status) self.assertEqual(fake.VOLUME_TYPE2_ID, volume.volume_type_id) @mock.patch('cinder.volume.manager.VolumeManager._migrate_volume_generic') @mock.patch('cinder.volume.manager.VolumeManager.' '_can_use_driver_migration') def test_migrate_volume_driver_for_retype_generic(self, mock_can_use, mock_generic): """"""Test generic volume migration on a retype after driver can't."""""" # Mock driver and rpc functions mock_driver = self.mock_object(self.volume.driver, 'migrate_volume', return_value=(False, None)) volume = tests_utils.create_volume(self.context, size=0, host=CONF.host, migration_status='migrating') host_obj = {'host': 'newhost', 'capabilities': {}} self.volume.migrate_volume(self.context, volume, host_obj, False, fake.VOLUME_TYPE2_ID, mock.sentinel.diff) mock_can_use.assert_called_once_with(mock.sentinel.diff) mock_driver.assert_called_once_with(self.context, volume, host_obj) mock_generic.assert_called_once_with(self.context, volume, host_obj, fake.VOLUME_TYPE2_ID) @ddt.data( (None, True), ({'encryption': {'cipher': ('v1', 'v2')}}, False), ({'qos_specs': {'key1': ('v1', 'v2')}}, False), ({'encryption': {}, 'qos_specs': {}, 'extra_specs': {}}, True), ({'encryption': {}, 'qos_specs': {}, 'extra_specs': {'volume_backend_name': ('ceph1', 'ceph2'), 'RESKEY:availability_zones': ('nova', 'nova2')}}, True), ({'encryption': {}, 'qos_specs': {}, 'extra_specs': {'thin_provisioning_support': ('<is> True', None)}}, False), ) @ddt.unpack def test__can_use_driver_migration(self, diff, expected): res = self.volume._can_use_driver_migration(diff) self.assertEqual(expected, res)",3,99
openstack%2Fcharm-ceph-radosgw~920114,openstack/charm-ceph-radosgw,stable/quincy.2,I71ac000bb4754c9cb987d703f145dc2a5ff032ad,Allow URLs which contain encoded path separators,MERGED,2024-05-21 16:52:14.000000000,2024-05-22 15:06:30.000000000,2024-05-22 15:06:30.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 16:52:14.000000000', 'files': ['templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/f66e0742c4e3d795ff6bad393bbf22f1b3ede943', 'message': 'Allow URLs which contain encoded path separators\n\nThis is to resolve the issue with objects containing slash in the name\nnot correctly synced in multisite environments.\n\nCloses-Bug: #1974138\nChange-Id: I71ac000bb4754c9cb987d703f145dc2a5ff032ad\n(cherry picked from commit 8a844bca972ba40ba269b26111180732c0ab7312)\n'}]",2,920114,f66e0742c4e3d795ff6bad393bbf22f1b3ede943,9,3,1,31959,,,0,"Allow URLs which contain encoded path separators

This is to resolve the issue with objects containing slash in the name
not correctly synced in multisite environments.

Closes-Bug: #1974138
Change-Id: I71ac000bb4754c9cb987d703f145dc2a5ff032ad
(cherry picked from commit 8a844bca972ba40ba269b26111180732c0ab7312)
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/14/920114/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/openstack_https_frontend.conf'],1,f66e0742c4e3d795ff6bad393bbf22f1b3ede943,, AllowEncodedSlashes On,,1,0
openstack%2Fansible-collection-kolla~920125,openstack/ansible-collection-kolla,stable/2023.2,I274d698956303af832972c2c5e16509f2053bd5b,docker_sdk: Pin requests to <2.32 due to docker-py incompatibility,MERGED,2024-05-22 12:04:21.000000000,2024-05-22 14:59:20.000000000,2024-05-22 14:58:23.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-05-22 12:04:21.000000000', 'files': ['roles/docker_sdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/e96d6f3de76a94bdc7b5341cf7e18def37dd4a23', 'message': 'docker_sdk: Pin requests to <2.32 due to docker-py incompatibility\n\nCloses-Bug: #2066364\nChange-Id: I274d698956303af832972c2c5e16509f2053bd5b\n'}]",0,920125,e96d6f3de76a94bdc7b5341cf7e18def37dd4a23,10,4,1,22629,,,0,"docker_sdk: Pin requests to <2.32 due to docker-py incompatibility

Closes-Bug: #2066364
Change-Id: I274d698956303af832972c2c5e16509f2053bd5b
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/25/920125/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/docker_sdk/defaults/main.yml'],1,e96d6f3de76a94bdc7b5341cf7e18def37dd4a23,," - ""requests<2.32""",,1,0
openstack%2Ftrove~918501,openstack/trove,master,I41ef612433e1f65a56b7bc211984e48da3e36206,SQLAlchemy 2.0: Drop use of removed autoload,NEW,2024-05-08 06:35:11.000000000,2024-05-22 14:48:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 31737}]","[{'number': 1, 'created': '2024-05-08 06:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/31816e5cb7168a5e0bace5a911e70f89f3a725fd', 'message': ""SQLAlchemy 2.0: Drop use of removed autoload\n\nThe autoload arugment was removed[1] in SQLAlchemy and only\nthe autoload_with argument should be passed.\n\nThe autoload argument is set according to the autoload_with argument\nautomatically even in SQLAlchemy 1.x[2] so is not at all needed.\n\nNote that It's still required to replace sqlalchemy-migrate by alembic\nbcause sqlalchemy-migrate is not supported with SQLAlchemy 2.0.\n\n[1] https://github.com/sqlalchemy/sqlalchemy/commit/c932123bacad9bf047d160b85e3f95d396c513ae\n[2] https://github.com/sqlalchemy/sqlalchemy/commit/ad8f921e969b6f735dc8e08d882c961dde78f2b1\n\nChange-Id: I41ef612433e1f65a56b7bc211984e48da3e36206\n""}, {'number': 2, 'created': '2024-05-08 08:34:43.000000000', 'files': ['trove/db/sqlalchemy/migrate_repo/versions/044_remove_datastore_configuration_parameters_deleted.py', 'trove/db/sqlalchemy/migrate_repo/versions/032_clusters.py', 'trove/db/sqlalchemy/migrate_repo/versions/036_add_datastore_version_metadata.py', 'trove/db/sqlalchemy/migrate_repo/versions/033_datastore_parameters.py', 'trove/db/sqlalchemy/migrate_repo/versions/041_instance_keys.py', 'trove/db/sqlalchemy/migrate_repo/versions/015_add_service_type.py', 'trove/db/sqlalchemy/migrate_repo/versions/023_add_instance_indexes.py', 'trove/db/sqlalchemy/migrate_repo/versions/018_datastore_versions_fix.py', 'trove/db/sqlalchemy/migrate_repo/versions/046_add_access_to_instance.py', 'trove/db/sqlalchemy/migrate_repo/versions/030_add_master_slave.py', 'trove/db/sqlalchemy/migrate_repo/versions/017_update_datastores.py', 'trove/db/sqlalchemy/migrate_repo/versions/028_recreate_agent_heartbeat.py', 'trove/db/sqlalchemy/migrate_repo/versions/019_datastore_fix.py', 'trove/db/sqlalchemy/migrate_repo/versions/007_add_volume_flavor.py', 'trove/db/sqlalchemy/migrate_repo/versions/049_add_registry_ext_to_datastore_version.py', 'trove/db/sqlalchemy/migrate_repo/versions/034_change_task_description.py', 'trove/db/sqlalchemy/migrate_repo/versions/038_instance_faults.py', 'trove/db/sqlalchemy/migrate_repo/versions/009_add_deleted_flag_to_instances.py', 'trove/db/sqlalchemy/migrate_repo/versions/040_module_priority.py', 'trove/db/sqlalchemy/mappers.py', 'trove/db/sqlalchemy/migrate_repo/versions/008_add_instance_fields.py', 'trove/db/sqlalchemy/migrate_repo/versions/020_configurations.py', 'trove/db/sqlalchemy/migrate_repo/versions/027_add_datastore_capabilities.py', 'trove/db/sqlalchemy/migrate_repo/versions/013_add_security_group_artifacts.py', 'trove/db/sqlalchemy/migrate_repo/versions/043_instance_ds_version_nullable.py', 'trove/db/sqlalchemy/migrate_repo/versions/022_add_backup_parent_id.py', 'trove/db/sqlalchemy/migrate_repo/versions/026_datastore_versions_unique_fix.py', 'trove/db/sqlalchemy/migrate_repo/versions/024_add_backup_indexes.py', 'trove/db/sqlalchemy/migrate_repo/versions/031_add_timestamps_to_configurations.py', 'trove/db/sqlalchemy/migrate_repo/versions/035_flavor_id_int_to_string.py', 'trove/db/sqlalchemy/migrate_repo/versions/016_add_datastore_type.py', 'trove/db/sqlalchemy/migrate_repo/versions/048_add_version_to_datastore_version.py', 'trove/db/sqlalchemy/migrate_repo/versions/037_modules.py', 'trove/db/sqlalchemy/migrate_repo/versions/039_region.py', 'trove/db/sqlalchemy/migrate_repo/versions/025_add_service_statuses_indexes.py', 'trove/db/sqlalchemy/migrate_repo/versions/029_add_backup_datastore.py', 'trove/db/sqlalchemy/migrate_repo/versions/042_add_cluster_configuration_id.py', 'trove/db/sqlalchemy/migrate_repo/versions/014_update_instance_flavor_id.py', 'trove/db/sqlalchemy/migrate_repo/versions/047_image_tag_in_datastore_version.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/72941a0c0f0dd323aedb0be136817b618e2bc6f0', 'message': ""SQLAlchemy 2.0: Drop use of removed autoload\n\nThe autoload arugment was removed[1] in SQLAlchemy and only\nthe autoload_with argument should be passed.\n\nThe autoload argument is set according to the autoload_with argument\nautomatically even in SQLAlchemy 1.x[2] so is not at all needed.\n\nNote that It's still required to replace sqlalchemy-migrate by alembic\nbcause sqlalchemy-migrate is not supported with SQLAlchemy 2.0.\n\n[1] https://github.com/sqlalchemy/sqlalchemy/commit/c932123bacad9bf047d160b85e3f95d396c513ae\n[2] https://github.com/sqlalchemy/sqlalchemy/commit/ad8f921e969b6f735dc8e08d882c961dde78f2b1\n\nChange-Id: I41ef612433e1f65a56b7bc211984e48da3e36206\n""}]",15,918501,72941a0c0f0dd323aedb0be136817b618e2bc6f0,9,2,2,9816,,,0,"SQLAlchemy 2.0: Drop use of removed autoload

The autoload arugment was removed[1] in SQLAlchemy and only
the autoload_with argument should be passed.

The autoload argument is set according to the autoload_with argument
automatically even in SQLAlchemy 1.x[2] so is not at all needed.

Note that It's still required to replace sqlalchemy-migrate by alembic
bcause sqlalchemy-migrate is not supported with SQLAlchemy 2.0.

[1] https://github.com/sqlalchemy/sqlalchemy/commit/c932123bacad9bf047d160b85e3f95d396c513ae
[2] https://github.com/sqlalchemy/sqlalchemy/commit/ad8f921e969b6f735dc8e08d882c961dde78f2b1

Change-Id: I41ef612433e1f65a56b7bc211984e48da3e36206
",git fetch https://review.opendev.org/openstack/trove refs/changes/01/918501/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/db/sqlalchemy/migrate_repo/versions/044_remove_datastore_configuration_parameters_deleted.py', 'trove/db/sqlalchemy/migrate_repo/versions/032_clusters.py', 'trove/db/sqlalchemy/migrate_repo/versions/036_add_datastore_version_metadata.py', 'trove/db/sqlalchemy/migrate_repo/versions/033_datastore_parameters.py', 'trove/db/sqlalchemy/migrate_repo/versions/041_instance_keys.py', 'trove/db/sqlalchemy/migrate_repo/versions/015_add_service_type.py', 'trove/db/sqlalchemy/migrate_repo/versions/023_add_instance_indexes.py', 'trove/db/sqlalchemy/migrate_repo/versions/018_datastore_versions_fix.py', 'trove/db/sqlalchemy/migrate_repo/versions/046_add_access_to_instance.py', 'trove/db/sqlalchemy/migrate_repo/versions/030_add_master_slave.py', 'trove/db/sqlalchemy/migrate_repo/versions/017_update_datastores.py', 'trove/db/sqlalchemy/migrate_repo/versions/028_recreate_agent_heartbeat.py', 'trove/db/sqlalchemy/migrate_repo/versions/019_datastore_fix.py', 'trove/db/sqlalchemy/migrate_repo/versions/007_add_volume_flavor.py', 'trove/db/sqlalchemy/migrate_repo/versions/049_add_registry_ext_to_datastore_version.py', 'trove/db/sqlalchemy/migrate_repo/versions/034_change_task_description.py', 'trove/db/sqlalchemy/migrate_repo/versions/038_instance_faults.py', 'trove/db/sqlalchemy/migrate_repo/versions/009_add_deleted_flag_to_instances.py', 'trove/db/sqlalchemy/migrate_repo/versions/040_module_priority.py', 'trove/db/sqlalchemy/mappers.py', 'trove/db/sqlalchemy/migrate_repo/versions/008_add_instance_fields.py', 'trove/db/sqlalchemy/migrate_repo/versions/020_configurations.py', 'trove/db/sqlalchemy/migrate_repo/versions/027_add_datastore_capabilities.py', 'trove/db/sqlalchemy/migrate_repo/versions/013_add_security_group_artifacts.py', 'trove/db/sqlalchemy/migrate_repo/versions/043_instance_ds_version_nullable.py', 'trove/db/sqlalchemy/migrate_repo/versions/022_add_backup_parent_id.py', 'trove/db/sqlalchemy/migrate_repo/versions/026_datastore_versions_unique_fix.py', 'trove/db/sqlalchemy/migrate_repo/versions/024_add_backup_indexes.py', 'trove/db/sqlalchemy/migrate_repo/versions/031_add_timestamps_to_configurations.py', 'trove/db/sqlalchemy/migrate_repo/versions/035_flavor_id_int_to_string.py', 'trove/db/sqlalchemy/migrate_repo/versions/016_add_datastore_type.py', 'trove/db/sqlalchemy/migrate_repo/versions/048_add_version_to_datastore_version.py', 'trove/db/sqlalchemy/migrate_repo/versions/037_modules.py', 'trove/db/sqlalchemy/migrate_repo/versions/039_region.py', 'trove/db/sqlalchemy/migrate_repo/versions/025_add_service_statuses_indexes.py', 'trove/db/sqlalchemy/migrate_repo/versions/029_add_backup_datastore.py', 'trove/db/sqlalchemy/migrate_repo/versions/042_add_cluster_configuration_id.py', 'trove/db/sqlalchemy/migrate_repo/versions/014_update_instance_flavor_id.py', 'trove/db/sqlalchemy/migrate_repo/versions/047_image_tag_in_datastore_version.py']",39,31816e5cb7168a5e0bace5a911e70f89f3a725fd,sqlalchemy-20," ds_version = Table('datastore_versions', meta, autoload_with=migrate_engine)"," ds_version = Table('datastore_versions', meta, autoload=True)",77,76
openstack%2Fpython-manilaclient~909552,openstack/python-manilaclient,unmaintained/yoga,I1eceee52726cef3494648521e4516010ca02f095,"Fix ""per_share_gigabytes"" in ""openstack quota set""",MERGED,2024-02-20 17:53:07.000000000,2024-05-22 14:39:15.000000000,2024-05-22 14:37:59.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-20 17:53:07.000000000', 'files': ['manilaclient/osc/v2/quotas.py', 'manilaclient/tests/unit/osc/v2/test_quotas.py', 'releasenotes/notes/bug-2047249-fix-osc-quota-set-per-share-gigabytes-fcff7f8ce2cc3c75.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/34c7b5aaa8d7e43cade419c6012c72ca3b8c9340', 'message': 'Fix ""per_share_gigabytes"" in ""openstack quota set""\n\nThe ""per_share_gigabytes"" quota param was introduced\nin API version 2.62; when using older API versions,\nwe shouldn\'t be setting this parameter.\n\nCloses-Bug: #2047249\nChange-Id: I1eceee52726cef3494648521e4516010ca02f095\n(cherry picked from commit 3ec364d1fd1f060a2dbd2c73c17e6ccc55bdcf55)\n(cherry picked from commit 2614b30db76e77d07c28399aecbedec11e44e3b8)\n(cherry picked from commit d2299103938ebebe9887b1699f3357afefc5b2ce)\n(cherry picked from commit 4eee3bf60b5285f247b6b3e3a415b21539b582d3)\n'}]",1,909552,34c7b5aaa8d7e43cade419c6012c72ca3b8c9340,7,2,1,16643,,,0,"Fix ""per_share_gigabytes"" in ""openstack quota set""

The ""per_share_gigabytes"" quota param was introduced
in API version 2.62; when using older API versions,
we shouldn't be setting this parameter.

Closes-Bug: #2047249
Change-Id: I1eceee52726cef3494648521e4516010ca02f095
(cherry picked from commit 3ec364d1fd1f060a2dbd2c73c17e6ccc55bdcf55)
(cherry picked from commit 2614b30db76e77d07c28399aecbedec11e44e3b8)
(cherry picked from commit d2299103938ebebe9887b1699f3357afefc5b2ce)
(cherry picked from commit 4eee3bf60b5285f247b6b3e3a415b21539b582d3)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/52/909552/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/quotas.py', 'manilaclient/tests/unit/osc/v2/test_quotas.py', 'releasenotes/notes/bug-2047249-fix-osc-quota-set-per-share-gigabytes-fcff7f8ce2cc3c75.yaml']",3,34c7b5aaa8d7e43cade419c6012c72ca3b8c9340,bug/2047249-unmaintained/yoga,"--- fixes: - | The `openstack share quota set` command has been fixed to not set `per_share_gigabytes` unless the user has specified the parameter, and unless the user requests, and the server supports API version 2.62. ",,23,8
openstack%2Fansible-collection-kolla~920124,openstack/ansible-collection-kolla,stable/2023.1,I274d698956303af832972c2c5e16509f2053bd5b,docker_sdk: Pin requests to <2.32 due to docker-py incompatibility,MERGED,2024-05-22 11:58:21.000000000,2024-05-22 14:26:31.000000000,2024-05-22 14:25:18.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-05-22 11:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/ea47fc680b7b23b3fe1b3dd956f710345e82a69e', 'message': 'docker_sdk: Pin requests to <2.32 due to docker-py incompatibility\n\nCloses-Bug: #2066364\nChange-Id: I274d698956303af832972c2c5e16509f2053bd5b\n'}, {'number': 2, 'created': '2024-05-22 12:04:02.000000000', 'files': ['roles/docker_sdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/fc2f4634a88b0b30a0227a21724737a9e4003387', 'message': 'docker_sdk: Pin requests to <2.32 due to docker-py incompatibility\n\nCloses-Bug: #2066364\nChange-Id: I274d698956303af832972c2c5e16509f2053bd5b\n'}]",0,920124,fc2f4634a88b0b30a0227a21724737a9e4003387,11,4,2,22629,,,0,"docker_sdk: Pin requests to <2.32 due to docker-py incompatibility

Closes-Bug: #2066364
Change-Id: I274d698956303af832972c2c5e16509f2053bd5b
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/24/920124/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/docker_sdk/defaults/main.yml'],1,ea47fc680b7b23b3fe1b3dd956f710345e82a69e,,"<<<<<<< HEAD (131987 Fix: include missing docker log-opts in config)======= - ""docker>=6.0.0,<7.0.0"" - ""requests<2.32"" >>>>>>> CHANGE (cf7b40 docker_sdk: Pin requests to <2.32 due to docker-py incompati)",,5,0
openstack%2Fansible-collection-kolla~920172,openstack/ansible-collection-kolla,master,I274d698956303af832972c2c5e16509f2053bd5b,docker_sdk: Pin requests to <2.32 due to docker-py incompatibility,MERGED,2024-05-22 11:39:08.000000000,2024-05-22 14:26:20.000000000,2024-05-22 14:25:17.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-05-22 11:39:08.000000000', 'files': ['roles/docker_sdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/cf7b405c4aa788bb307020b739c93094ae0050a9', 'message': 'docker_sdk: Pin requests to <2.32 due to docker-py incompatibility\n\nCloses-Bug: #2066364\nChange-Id: I274d698956303af832972c2c5e16509f2053bd5b\n'}]",4,920172,cf7b405c4aa788bb307020b739c93094ae0050a9,15,5,1,22629,,,0,"docker_sdk: Pin requests to <2.32 due to docker-py incompatibility

Closes-Bug: #2066364
Change-Id: I274d698956303af832972c2c5e16509f2053bd5b
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/72/920172/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/docker_sdk/defaults/main.yml'],1,cf7b405c4aa788bb307020b739c93094ae0050a9,," - ""requests<2.32""",,1,0
openstack%2Frally-openstack~918699,openstack/rally-openstack,master,Ifa85b7af74a2d9990094dadc2198c154305daa87,Release 3.0.0,MERGED,2024-05-08 20:57:46.000000000,2024-05-22 14:17:08.000000000,2024-05-22 14:17:08.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-08 20:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f524c77c231e81ca630ce2ed8d22baf93b68e567', 'message': 'Release 3.0.0\n\nChange-Id: Ifa85b7af74a2d9990094dadc2198c154305daa87\n'}, {'number': 2, 'created': '2024-05-22 11:48:15.000000000', 'files': ['DOCKER_README.md', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7a45064547588d83fcad1f297c0494d725a2af83', 'message': 'Release 3.0.0\n\nChange-Id: Ifa85b7af74a2d9990094dadc2198c154305daa87\n'}]",0,918699,7a45064547588d83fcad1f297c0494d725a2af83,8,2,2,9545,,,0,"Release 3.0.0

Change-Id: Ifa85b7af74a2d9990094dadc2198c154305daa87
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/99/918699/1 && git format-patch -1 --stdout FETCH_HEAD,"['DOCKER_README.md', 'CHANGELOG.rst']",2,f524c77c231e81ca630ce2ed8d22baf93b68e567,release-3.0.0,[3.0.0] - 2024-05-09 --------------------,unreleased ----------,7,7
openstack%2Fi18n~896306,openstack/i18n,master,Ie196e43f418e730d6fee7f0a107d198e7daacbc4,migrate zanata_stats to weblate_stats,MERGED,2023-09-23 09:09:17.000000000,2024-05-22 14:17:05.000000000,2024-05-22 14:15:48.000000000,"[{'_account_id': 5314}, {'_account_id': 14482}, {'_account_id': 22348}, {'_account_id': 23279}]","[{'number': 1, 'created': '2023-09-23 09:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/04560cfe8bf13c343f8faf406d1c30a408257f07', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nstory: 2010915\ntast: 48768\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 2, 'created': '2023-09-24 04:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/462c329dd243587fab76c9bf0157dcbf2fa17bf9', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nstory: 2010915\ntast: 48768\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 3, 'created': '2023-09-24 04:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/1dea7129d0b9c70d2589f615fb136f306a20fa73', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nstory: 2010915\ntast: 48768\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 4, 'created': '2023-09-24 05:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/f73794d53453bc72bc501926e8180f0654741c1f', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nstory: 2010915\ntast: 48768\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 5, 'created': '2023-09-24 05:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/da63d01b52b7ab0dfac15d980d5e598e17eba303', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nstory: 2010915\ntast: 48768\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 6, 'created': '2023-09-24 05:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/9a8211ed0eccfde90cf63c61557aeaae6e581836', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nstory: 2010915\ntast: 48768\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 7, 'created': '2023-09-24 05:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/5d693c96d1ee3b7405253d0817d249fddc13a8de', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nstory: 2010915\ntast: 48768\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 8, 'created': '2023-09-24 05:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/435d41c94d467e0a93ef70a5266295604cb1765b', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nstory: 2010915\ntast: 48768\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 9, 'created': '2023-09-24 06:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/2f9c908b3c6d597bb334cd4503b94e06efa29a8d', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nstory: 2010915\ntast: 48768\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 10, 'created': '2023-09-24 06:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/fb84a414da9877051a08073adcfe53de9da31278', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nstory: 2010915\ntast: 48768\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 11, 'created': '2023-11-04 04:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/3812782be46659c609110286cfd1130e028ffb8a', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: [blueprint weblate-tools](https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools)\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 12, 'created': '2023-11-04 04:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/21fce7090833887e7cfba335a73c8c10552789b1', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 13, 'created': '2023-11-08 14:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/15e1a8b0369de23492c2b998d8b71d76849ef557', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 14, 'created': '2023-11-29 15:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/74501f4ced281cb7905413175c3007bbdd905a49', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 15, 'created': '2023-11-30 10:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/86e384cc02d9910ff314280978316d5d05c2cf11', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 16, 'created': '2023-11-30 11:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/ae7cbb9bd0023c3bcaa1107e52e73ebf9a16c70a', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 17, 'created': '2024-02-28 14:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/d3a062cd63080f52bc993ade659fa7ee542d3f6b', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 18, 'created': '2024-03-28 15:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/95c6a535f3f9cd7ed717f9bbb34b8376e676198a', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 19, 'created': '2024-04-20 04:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/0197cfb1a8ee7ce65cfb7bf7c730c893879e7dff', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 20, 'created': '2024-04-20 04:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/5ac34cca40d615b9be575c39ef554b9a5ed6a87e', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 21, 'created': '2024-05-08 14:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/22dfe38af5128121fbdf6a95328482c1149bd76f', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}, {'number': 22, 'created': '2024-05-21 13:18:03.000000000', 'files': ['tools/weblate/weblate_records.py', 'tools/weblate/weblate_stats.py', 'tools/weblate/__init__.py', 'tools/weblate/weblate_utils.py'], 'web_link': 'https://opendev.org/openstack/i18n/commit/ea37664d79a9bc3c089f176bb098d476210bb83e', 'message': 'migrate zanata_stats to weblate_stats\n\n- weblate_stats.py\n- weblate_records.py\n- __init__.py\n\nImplements: blueprint weblate-tools\n - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools\n\nChange-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4\n'}]",347,896306,ea37664d79a9bc3c089f176bb098d476210bb83e,69,4,22,36162,,,0,"migrate zanata_stats to weblate_stats

- weblate_stats.py
- weblate_records.py
- __init__.py

Implements: blueprint weblate-tools
 - https://blueprints.launchpad.net/openstack/?searchtext=weblate-tools

Change-Id: Ie196e43f418e730d6fee7f0a107d198e7daacbc4
",git fetch https://review.opendev.org/openstack/i18n refs/changes/06/896306/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/weblate/weblate_records.py', 'tools/weblate/weblate_stats.py', 'tools/weblate/__init__.py']",3,04560cfe8bf13c343f8faf406d1c30a408257f07,,,,979,0
openstack%2Fcinder~733624,openstack/cinder,master,I82f9693efa0d45e19dda428811ad04dadda3cf89,mypy: annotate lvm,NEW,2020-06-04 14:26:44.000000000,2024-05-22 13:54:29.000000000,,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31254}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-06-04 14:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3bb7c9ba296f03d3842bcf5017678e06c103e32', 'message': 'WIP: mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 2, 'created': '2020-06-08 23:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0504562c754632f9a1f7d5447ea1fbfd8bddcfc4', 'message': 'WIP: mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 3, 'created': '2020-06-18 22:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35eec2780675310ae6d4a27a91b5a17885a9f8c2', 'message': 'WIP: mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 4, 'created': '2020-06-22 21:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/abcd8e463e4ee9b6cd1a052946231b25030ffef1', 'message': 'WIP: mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 5, 'created': '2020-07-07 15:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04d1f7c182310f757423969f359b8def265c7feb', 'message': 'mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 6, 'created': '2020-10-07 19:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2ae0c0287ea2bf4a3495cd8d707a332d21ac863', 'message': 'mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 7, 'created': '2020-10-14 12:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c1291fcf6c45f6bc4f6a7b1b382aec6f6b3c15f', 'message': 'mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 8, 'created': '2020-12-03 22:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8be906fa8bbdf1c7c4b049522179b544fdc03a12', 'message': 'mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 9, 'created': '2020-12-07 15:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f9300f12678006dd8da923e8a431de62bc5944a', 'message': 'mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 10, 'created': '2021-02-04 15:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90df74dff8586341db004be611c296d4fbefdd19', 'message': 'mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 11, 'created': '2023-09-20 16:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77b529c808b4e8a4c9142a3f15c3ad21759183a0', 'message': 'mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}, {'number': 12, 'created': '2024-03-14 13:59:23.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'mypy-files.txt', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec83abf804101a2f3d7e9558d6ce51386cbb69ec', 'message': 'mypy: annotate lvm\n\nChange-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89\n'}]",65,733624,ec83abf804101a2f3d7e9558d6ce51386cbb69ec,284,39,12,4523,,,0,"mypy: annotate lvm

Change-Id: I82f9693efa0d45e19dda428811ad04dadda3cf89
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/733624/1 && git format-patch -1 --stdout FETCH_HEAD,"['mypy-files.txt', 'cinder/volume/drivers/lvm.py']",2,f3bb7c9ba296f03d3842bcf5017678e06c103e32,mypy,"import typing as tyfrom cinder import contextfrom cinder import objects self._stats = {} def get_driver_options(cls) -> dict: def _sizestr(self, size_in_g: int) -> str: def _volume_not_present(self, volume_name: str) -> bool: def _delete_volume(self, volume: objects.Volume, is_snapshot=False) -> None: def _clear_volume(self, volume: objects.Volume, is_snapshot=False) -> None: def _escape_snapshot(self, snapshot_name: str) -> str: def _unescape_snapshot(self, snapshot_name: str) -> str: def _create_volume(self, name:str, size:str, lvm_type:str, mirror_count:int, vg=None) -> None: def _update_volume_stats(self) -> None: data: ty.Dict[str, ty.Union[str, list]] = { 'volume_backend_name': self.backend_name, 'vendor_name': 'Open Source', 'pools': [], 'driver_version': self.VERSION, 'storage_protocol': self.protocol } assert(isinstance(data['pools'], dict)) def check_for_setup_error(self) -> None: def create_volume(self, volume:objects.Volume) -> None: def update_migrated_volume(self, ctxt:context.RequestContext, volume:objects.Volume, new_volume:objects.Volume, original_volume_status:str) -> ty.Dict[ty.Optional[str], ty.Optional[str]]: def create_volume_from_snapshot(self, volume:objects.Volume, snapshot:objects.Snapshot) -> None: def delete_volume(self, volume:objects.Volume) -> None: return # FIXED def create_snapshot(self, snapshot:objects.Snapshot) -> None: def delete_snapshot(self, snapshot:objects.Snapshot) -> None: return # FIXED def revert_to_snapshot(self, context:context.RequestContext, volume:objects.Volume, snapshot:objects.Snapshot) -> None: def local_path(self, volume:objects.Volume, vg:ty.Optional[str]=None) -> str: def copy_image_to_volume(self, context:context.RequestContext, volume:objects.Volume, image_service:ty.Any, image_id:str) -> None: def copy_volume_to_image(self, context:context.RequestContext, volume:objects.Volume, image_service:ty.Any, image_meta:dict): def create_cloned_volume(self, volume:objects.Volume, src_vref:dict): image_service) -> ty.Tuple[ty.Optional[str], bool]: def get_volume_stats(self, refresh=False) -> dict: def extend_volume(self, volume:objects.Volume, new_size:int): def manage_existing(self, volume:objects.Volume, existing_ref:dict): def manage_existing_object_get_size(self, existing_object, existing_ref: dict, object_type) -> int: def manage_existing_get_size(self, volume, existing_ref) -> int: def manage_existing_snapshot_get_size(self, snapshot, existing_ref) -> int: def manage_existing_snapshot(self, snapshot, existing_ref) -> int: def retype(self, context, volume, new_type, diff, host) -> bool: def migrate_volume(self, ctxt, volume, host, thin=False, mirror_count=0) -> ty.Tuple[bool, ty.Optional[dict]]: def get_pool(self, volume: objects.Volume) -> str: def ensure_export(self, context: context.RequestContext, volume: objects.Volume) -> ty.Optional[dict]: def create_export(self, context, volume, connector, vg=None) -> ty.Dict[str, str]: def remove_export(self, context, volume) -> None: def initialize_connection(self, volume:objects.Volume, connector:dict) -> dict: def terminate_connection(self, volume, connector, **kwargs) -> bool:"," def get_driver_options(cls): def _sizestr(self, size_in_g): def _volume_not_present(self, volume_name): def _delete_volume(self, volume, is_snapshot=False): def _clear_volume(self, volume, is_snapshot=False): def _escape_snapshot(self, snapshot_name): def _unescape_snapshot(self, snapshot_name): def _create_volume(self, name, size, lvm_type, mirror_count, vg=None): def _update_volume_stats(self): data = {} data[""volume_backend_name""] = self.backend_name data[""vendor_name""] = 'Open Source' data[""driver_version""] = self.VERSION data[""storage_protocol""] = self.protocol data[""pools""] = [] def check_for_setup_error(self): def create_volume(self, volume): def update_migrated_volume(self, ctxt, volume, new_volume, original_volume_status): def create_volume_from_snapshot(self, volume, snapshot): def delete_volume(self, volume): return True def create_snapshot(self, snapshot): def delete_snapshot(self, snapshot): return True def revert_to_snapshot(self, context, volume, snapshot): def local_path(self, volume, vg=None): def copy_image_to_volume(self, context, volume, image_service, image_id): def copy_volume_to_image(self, context, volume, image_service, image_meta): def create_cloned_volume(self, volume, src_vref): image_service): def get_volume_stats(self, refresh=False): def extend_volume(self, volume, new_size): def manage_existing(self, volume, existing_ref): def manage_existing_object_get_size(self, existing_object, existing_ref, object_type): def manage_existing_get_size(self, volume, existing_ref): def manage_existing_snapshot_get_size(self, snapshot, existing_ref): def manage_existing_snapshot(self, snapshot, existing_ref): def retype(self, context, volume, new_type, diff, host): def migrate_volume(self, ctxt, volume, host, thin=False, mirror_count=0): def get_pool(self, volume): def ensure_export(self, context, volume): def create_export(self, context, volume, connector, vg=None): def remove_export(self, context, volume): def initialize_connection(self, volume, connector): def terminate_connection(self, volume, connector, **kwargs):",66,47
openstack%2Fkolla-ansible~914191,openstack/kolla-ansible,master,I5efbb7bc49da0eaba0eba2e909651dc91b96191e,Extend init-runonce.sh script - create addiditonal resources,NEW,2024-03-26 10:47:42.000000000,2024-05-22 13:53:43.000000000,,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-03-26 10:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1524a5c14e9bbba32c46a87f7c87c3bcb1ac9af2', 'message': ""Support rally project with rally resources\n\nThis patch adding resources for rally and\ntempest testing as we dont't want to use\ndynamic credentials nor admin project and\nadmin resources as it can result in different\nresults because of role admin.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n""}, {'number': 2, 'created': '2024-03-26 10:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f89c4ff4b31e8faf1f7518354575587e0a10899f', 'message': ""Support rally project with rally resources\n\nThis patch adding resources for rally and\ntempest testing as we dont't want to use\ndynamic credentials nor admin project and\nadmin resources as it can result in different\nresults because of role admin.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n""}, {'number': 3, 'created': '2024-03-26 10:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1ad886bcffe023a85f52839ac1fc62a4534d9270', 'message': ""Support rally project with rally resources\n\nThis patch adding resources for rally and\ntempest testing as we dont't want to use\ndynamic credentials nor admin project and\nadmin resources as it can result in different\nresults because of role admin.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n""}, {'number': 4, 'created': '2024-03-26 10:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c95e0dafd7b382140987dca867bb1c247045ecd', 'message': ""Support rally project with rally resources\n\nThis patch adding resources for rally and\ntempest testing as we dont't want to use\ndynamic credentials nor admin project and\nadmin resources as it can result in different\nresults because of role admin.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n""}, {'number': 5, 'created': '2024-03-26 11:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1392b098c2c9fa594a39be3293ea403b256d8634', 'message': ""Support rally project with rally resources\n\nThis patch adding resources for rally and\ntempest testing as we dont't want to use\ndynamic credentials nor admin project and\nadmin resources as it can result in different\nresults because of role admin.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n""}, {'number': 6, 'created': '2024-03-26 11:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0fd31a3d244f50bd0f3a594a0736890cc35f9056', 'message': ""Support rally project with rally resources\n\nThis patch adding resources for rally and\ntempest testing as we dont't want to use\ndynamic credentials nor admin project and\nadmin resources as it can result in different\nresults because of role admin.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n""}, {'number': 7, 'created': '2024-03-26 14:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47bc67b88c80738f5480fafa5a6f9a8ea522d199', 'message': 'Extend init-runonce.sh script - create addiditonal resources\n\nFor the upstream CI, we want to use Rally and specifically\nTempest tests. However, we want to run Tempest through static\naccounts instead of dynamic ones, as it is unnecessary and\nextends the testing time. Ideally, we also do not want to use\nthe admin project and admin user, since it has an admin role\nand some tests might not function correctly because of this.\n\nTherefore, it is necessary to add a project, user, and all its\nresources so that we can run the tests. I achieved this by\nmodifying the init-runonce.sh script, which now behaves exactly\nas before but has new features if the user calls with parameters.\n\nOutside of CI, this is also useful for the initialization of\nresources outside the admin project during a fresh installation\nof OpenStack.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n'}, {'number': 8, 'created': '2024-03-26 15:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1608a296162620ba5abac4225342b7240414b4a7', 'message': 'Extend init-runonce.sh script - create addiditonal resources\n\nFor the upstream CI, we want to use Rally and specifically\nTempest tests. However, we want to run Tempest through static\naccounts instead of dynamic ones, as it is unnecessary and\nextends the testing time. Ideally, we also do not want to use\nthe admin project and admin user, since it has an admin role\nand some tests might not function correctly because of this.\n\nTherefore, it is necessary to add a project, user, and all its\nresources so that we can run the tests. I achieved this by\nmodifying the init-runonce.sh script, which now behaves exactly\nas before but has new features if the user calls with parameters.\n\nOutside of CI, this is also useful for the initialization of\nresources outside the admin project during a fresh installation\nof OpenStack.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n'}, {'number': 9, 'created': '2024-03-26 16:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22c864e500b6ccb3109ae06386c9b52f303393cd', 'message': 'Extend init-runonce.sh script - create addiditonal resources\n\nFor the upstream CI, we want to use Rally and specifically\nTempest tests. However, we want to run Tempest through static\naccounts instead of dynamic ones, as it is unnecessary and\nextends the testing time. Ideally, we also do not want to use\nthe admin project and admin user, since it has an admin role\nand some tests might not function correctly because of this.\n\nTherefore, it is necessary to add a project, user, and all its\nresources so that we can run the tests. I achieved this by\nmodifying the init-runonce.sh script, which now behaves exactly\nas before but has new features if the user calls with parameters.\n\nOutside of CI, this is also useful for the initialization of\nresources outside the admin project during a fresh installation\nof OpenStack.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n'}, {'number': 10, 'created': '2024-03-26 16:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63c7e03f02002e369ae453e79a99cd36e3c58d74', 'message': 'Extend init-runonce.sh script - create addiditonal resources\n\nFor the upstream CI, we want to use Rally and specifically\nTempest tests. However, we want to run Tempest through static\naccounts instead of dynamic ones, as it is unnecessary and\nextends the testing time. Ideally, we also do not want to use\nthe admin project and admin user, since it has an admin role\nand some tests might not function correctly because of this.\n\nTherefore, it is necessary to add a project, user, and all its\nresources so that we can run the tests. I achieved this by\nmodifying the init-runonce.sh script, which now behaves exactly\nas before but has new features if the user calls with parameters.\n\nOutside of CI, this is also useful for the initialization of\nresources outside the admin project during a fresh installation\nof OpenStack.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n'}, {'number': 11, 'created': '2024-03-26 17:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b18a16cbb74221149809c3545e0b4b8d805fa37', 'message': 'Extend init-runonce.sh script - create addiditonal resources\n\nFor the upstream CI, we want to use Rally and specifically\nTempest tests. However, we want to run Tempest through static\naccounts instead of dynamic ones, as it is unnecessary and\nextends the testing time. Ideally, we also do not want to use\nthe admin project and admin user, since it has an admin role\nand some tests might not function correctly because of this.\n\nTherefore, it is necessary to add a project, user, and all its\nresources so that we can run the tests. I achieved this by\nmodifying the init-runonce.sh script, which now behaves exactly\nas before but has new features if the user calls with parameters.\n\nOutside of CI, this is also useful for the initialization of\nresources outside the admin project during a fresh installation\nof OpenStack.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n'}, {'number': 12, 'created': '2024-03-26 21:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e0d3fb38a0f377fe4be3c1b7f48fbce0e71b4d2', 'message': 'Extend init-runonce.sh script - create addiditonal resources\n\nFor the upstream CI, we want to use Rally and specifically\nTempest tests. However, we want to run Tempest through static\naccounts instead of dynamic ones, as it is unnecessary and\nextends the testing time. Ideally, we also do not want to use\nthe admin project and admin user, since it has an admin role\nand some tests might not function correctly because of this.\n\nTherefore, it is necessary to add a project, user, and all its\nresources so that we can run the tests. I achieved this by\nmodifying the init-runonce.sh script, which now behaves exactly\nas before but has new features if the user calls with parameters.\n\nOutside of CI, this is also useful for the initialization of\nresources outside the admin project during a fresh installation\nof OpenStack.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n'}, {'number': 13, 'created': '2024-05-17 11:07:03.000000000', 'files': ['releasenotes/notes/init-runonce-additional-resources-bfeceaca3fb77c21.yaml', 'tests/run.yml', 'tools/init-runonce', 'zuul.d/base.yaml', 'tests/init-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8f65f77d856146ad9cf7b36d479c1bb1e8d65984', 'message': 'Extend init-runonce.sh script - create addiditonal resources\n\nFor the upstream CI, we want to use Rally and specifically\nTempest tests. However, we want to run Tempest through static\naccounts instead of dynamic ones, as it is unnecessary and\nextends the testing time. Ideally, we also do not want to use\nthe admin project and admin user, since it has an admin role\nand some tests might not function correctly because of this.\n\nTherefore, it is necessary to add a project, user, and all its\nresources so that we can run the tests. I achieved this by\nmodifying the init-runonce.sh script, which now behaves exactly\nas before but has new features if the user calls with parameters.\n\nOutside of CI, this is also useful for the initialization of\nresources outside the admin project during a fresh installation\nof OpenStack.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n'}]",8,914191,8f65f77d856146ad9cf7b36d479c1bb1e8d65984,28,7,13,27339,,,0,"Extend init-runonce.sh script - create addiditonal resources

For the upstream CI, we want to use Rally and specifically
Tempest tests. However, we want to run Tempest through static
accounts instead of dynamic ones, as it is unnecessary and
extends the testing time. Ideally, we also do not want to use
the admin project and admin user, since it has an admin role
and some tests might not function correctly because of this.

Therefore, it is necessary to add a project, user, and all its
resources so that we can run the tests. I achieved this by
modifying the init-runonce.sh script, which now behaves exactly
as before but has new features if the user calls with parameters.

Outside of CI, this is also useful for the initialization of
resources outside the admin project during a fresh installation
of OpenStack.

Change-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/914191/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tools/init-runonce', 'zuul.d/base.yaml', 'tests/init-core-openstack.sh']",4,1524a5c14e9bbba32c46a87f7c87c3bcb1ac9af2,ci-rally, sudo ip route add ${RALLY_NET_CIDR} via ${EXT_NET_RALLY_ROUTER_ADDR},,59,10
openstack%2Fmanila~918297,openstack/manila,master,I2d6b4ca4e29dea4114a1a4e55e4d913f549cb94b,Fix share server migration not reusing allocations,NEW,2024-05-06 10:33:01.000000000,2024-05-22 13:50:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-06 10:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/aa3e8f8635d247e9172a824a60c3ff5376c0b36c', 'message': 'Fix share server migration not reusing allocations\n\nUpdate share_server_id on existing allocations if reusing share network\nduring share server migration. And fix the way vserver_name is retrieved\nin NetApp driver to permit migrating a share server more than once.\n\nCloses-Bug: #2064907\nChange-Id: I2d6b4ca4e29dea4114a1a4e55e4d913f549cb94b\n'}, {'number': 2, 'created': '2024-05-20 12:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dccdd14fe76e969adde2e659ff682a1f131aa469', 'message': 'Fix share server migration not reusing allocations\n\nUpdate share_server_id on existing allocations if reusing share network\nduring share server migration. And fix the way vserver_name is retrieved\nin NetApp driver to permit migrating a share server more than once.\n\nCloses-Bug: #2064907\nChange-Id: I2d6b4ca4e29dea4114a1a4e55e4d913f549cb94b\n'}, {'number': 3, 'created': '2024-05-20 20:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/00ff7b63ccd5d68e73fe4f431d4cb58490804215', 'message': 'Fix share server migration not reusing allocations\n\nUpdate share_server_id on existing allocations if reusing share network\nduring share server migration. And fix the way vserver_name is retrieved\nin NetApp driver to permit migrating a share server more than once.\n\nCloses-Bug: #2064907\nChange-Id: I2d6b4ca4e29dea4114a1a4e55e4d913f549cb94b\n'}, {'number': 4, 'created': '2024-05-21 00:06:05.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'manila/share/manager.py', 'releasenotes/notes/bug-2064907-fix-share-server-migration.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/23db9d7d3db813215ebfd9672817994c811b86af', 'message': 'Fix share server migration not reusing allocations\n\nUpdate share_server_id on existing allocations if reusing share network\nduring share server migration. And fix the way vserver_name is retrieved\nin NetApp driver to permit migrating a share server more than once.\n\nCloses-Bug: #2064907\nChange-Id: I2d6b4ca4e29dea4114a1a4e55e4d913f549cb94b\n'}]",3,918297,23db9d7d3db813215ebfd9672817994c811b86af,22,1,4,35979,,,0,"Fix share server migration not reusing allocations

Update share_server_id on existing allocations if reusing share network
during share server migration. And fix the way vserver_name is retrieved
in NetApp driver to permit migrating a share server more than once.

Closes-Bug: #2064907
Change-Id: I2d6b4ca4e29dea4114a1a4e55e4d913f549cb94b
",git fetch https://review.opendev.org/openstack/manila refs/changes/97/918297/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'manila/share/manager.py', 'releasenotes/notes/bug-2064907-fix-share-server-migration.yaml']",3,aa3e8f8635d247e9172a824a60c3ff5376c0b36c,bug/2064907,"--- fixes: - | When performing a share server migration without new share network, reused allocations are properly updated with new share_server_id. - | In NetApp driver functions related to share server migration, vserver_name is now retrieved directly from backend_details instead of templating. This way, vserver_name is correct even for share servers that have already been migrated once. ",,29,16
openstack%2Fblazar~917387,openstack/blazar,unmaintained/zed,Id987ca46b962b715447b32568acb38cf86be6ddb,Update .gitreview for unmaintained/zed,MERGED,2024-04-29 10:57:57.000000000,2024-05-22 13:48:08.000000000,2024-05-22 13:47:11.000000000,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-29 10:57:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/blazar/commit/0ee8c759825871f33f4e811fba48018cad87b3e9', 'message': 'Update .gitreview for unmaintained/zed\n\nChange-Id: Id987ca46b962b715447b32568acb38cf86be6ddb\n'}]",2,917387,0ee8c759825871f33f4e811fba48018cad87b3e9,10,3,1,22816,,,0,"Update .gitreview for unmaintained/zed

Change-Id: Id987ca46b962b715447b32568acb38cf86be6ddb
",git fetch https://review.opendev.org/openstack/blazar refs/changes/87/917387/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0ee8c759825871f33f4e811fba48018cad87b3e9,create-zed,defaultbranch=unmaintained/zed,defaultbranch=stable/zed,1,1
openstack%2Fironic-python-agent~920151,openstack/ironic-python-agent,master,I0e3da8b65e99e122b432b43322909343ba39b09e,WIP: Correct ramdisk from re-scanning disks on step step collection,ABANDONED,2024-05-21 21:33:50.000000000,2024-05-22 13:46:36.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 21:33:50.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cf1709405ef28a539515b1084290dc2bcb1ca0b1', 'message': 'WIP: Correct ramdisk from re-scanning disks on step step collection\n\nWhile trying to fix a tempest plugin issue, where almost every\nscenario test is triggered by default, I stumbled upon SoftwareRaid tests\nfailing a lot.\n\nAnd in large part it appears rooted in the root device hint being\nsupplied for a non-resolving device upfront.\n\nBut a root device can be created, such as via software raid, or resolved\nlater. It is okay that it is the case. What is not okay, is that the jobs\nwere failing because it was taking the agent nearly sixty seconds to return\nthe steps to ironic when they were being collected because we would:\n\n* Attempt to load ipmi modules\n* Attempt to load iscsi ibft records for devices from iscsi adapters\n* And we would endlessly scan (up to 10 times) for a root device...\n\nSo it makes sense to guard from doing one-shot actions multiple times\nneedlessly, so the agent will now skip these repetitive activities when\nthe Ironic deployment is attempting to collect steps.\n\nCloses-Bug: 2066308\nChange-Id: I0e3da8b65e99e122b432b43322909343ba39b09e\n'}]",2,920151,cf1709405ef28a539515b1084290dc2bcb1ca0b1,6,2,1,11655,,,0,"WIP: Correct ramdisk from re-scanning disks on step step collection

While trying to fix a tempest plugin issue, where almost every
scenario test is triggered by default, I stumbled upon SoftwareRaid tests
failing a lot.

And in large part it appears rooted in the root device hint being
supplied for a non-resolving device upfront.

But a root device can be created, such as via software raid, or resolved
later. It is okay that it is the case. What is not okay, is that the jobs
were failing because it was taking the agent nearly sixty seconds to return
the steps to ironic when they were being collected because we would:

* Attempt to load ipmi modules
* Attempt to load iscsi ibft records for devices from iscsi adapters
* And we would endlessly scan (up to 10 times) for a root device...

So it makes sense to guard from doing one-shot actions multiple times
needlessly, so the agent will now skip these repetitive activities when
the Ironic deployment is attempting to collect steps.

Closes-Bug: 2066308
Change-Id: I0e3da8b65e99e122b432b43322909343ba39b09e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/51/920151/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,cf1709405ef28a539515b1084290dc2bcb1ca0b1,,# A flag to tell us if we have enabled multipath# A flag to tell us if we have performed the needful initalization steps so # we don't continue calling them needlessly. HW_INITALIZED = None global HW_INITALIZED if HW_INITALIZED: LOG.debug('Did not detect a root device.') break global HW_INITALIZED if HW_INITALIZED is None: _check_for_iscsi() _load_ipmi_modules() HW_INITALIZED = True, _check_for_iscsi() _load_ipmi_modules(),13,2
openstack%2Fkayobe~895199,openstack/kayobe,master,I97e1f5cf187299f6d1d287202fec436f53fbe0b5,Add Ironic Python Agent (IPA) NTP parameter configuration,NEW,2023-09-14 16:32:15.000000000,2024-05-22 13:41:46.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-09-14 16:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5a9aeef73afacafa4c32d9c887f7a33e47afac8c', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe, and templates Ironic PXE and Ironic Inspector kernel\nparameters to new variables in Kolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 2, 'created': '2023-09-15 15:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0056caf1f6c33216e7d8c55f8eabbcb0822306b1', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe, and templates Ironic PXE and Ironic Inspector kernel\nparameters to new variables in Kolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 3, 'created': '2023-09-18 09:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a7b51636a1b16a899fd0ae7af379007082bf6a6f', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe, and templates Ironic PXE and Ironic Inspector kernel\nparameters to new variables in Kolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 4, 'created': '2023-09-22 15:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/62a256de2b2c3fb973ad2d1c5249a15ae93faac4', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe, and templates Ironic PXE and Ironic Inspector kernel\nparameters to new variables in Kolla-Ansible and Bifrost.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 5, 'created': '2023-09-22 15:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/17536040f4bcd958211732ad021377abf75da567', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe, and templates Ironic PXE and Ironic Inspector kernel\nparameters to new variables in Kolla-Ansible and Bifrost.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134, Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 6, 'created': '2023-12-20 12:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2c11bae82d868ea38a0c181ebb9930d19e4cd1cc', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe, and templates Ironic PXE and Ironic Inspector kernel\nparameters to new variables in Kolla-Ansible and Bifrost.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 7, 'created': '2023-12-22 16:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/196ccd4b31eb2daed78e0f56d73e90116dc1ff45', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe, and templates Ironic PXE and Ironic Inspector kernel\nparameters to new variables in Kolla-Ansible and Bifrost.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 8, 'created': '2023-12-22 16:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2671f9e0b3d683ee870a89575b39e90d2eaa077b', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe, and templates Ironic PXE and Ironic Inspector kernel\nparameters to new variables in Kolla-Ansible and Bifrost.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 9, 'created': '2023-12-22 16:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d9f9a63723f542423328f068114e880052d91ce6', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe, and templates Ironic PXE and Ironic Inspector kernel\nparameters to new variables in Kolla-Ansible and Bifrost.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 10, 'created': '2023-12-22 16:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d1aab9733bc2f19da9b09d83a9fec573da444bef', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe for Bifrost and Kolla-Ansible, and templates Ironic PXE\nand Ironic Inspector kernel parameters to new variables in\nKolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 11, 'created': '2024-02-01 13:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e0c2815d71638976c110a929fffe58a2974297a6', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe for Bifrost and Kolla-Ansible, and templates Ironic PXE\nand Ironic Inspector kernel parameters to new variables in\nKolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 12, 'created': '2024-02-01 13:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5cc5cd4128cec71d17e1cf3bf2d8ba6d0d31c631', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe for Bifrost and Kolla-Ansible, and templates Ironic PXE\nand Ironic Inspector kernel parameters to new variables in\nKolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 13, 'created': '2024-02-01 13:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/85ab6b0e75fcbf0c5e61290bde61369ae97b4d0c', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe for Bifrost and Kolla-Ansible, and templates Ironic PXE\nand Ironic Inspector kernel parameters to new variables in\nKolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 14, 'created': '2024-02-01 16:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1616d3ebd812560752c5be06183661ac97742552', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe for Bifrost and Kolla-Ansible, and templates Ironic PXE\nand Ironic Inspector kernel parameters to new variables in\nKolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 15, 'created': '2024-02-01 16:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/959f614f2b55a2c87569e5e10f209ff58e479db1', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe for Bifrost and Kolla-Ansible, and templates Ironic PXE\nand Ironic Inspector kernel parameters to new variables in\nKolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 16, 'created': '2024-02-07 13:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/572817d4cf782309ad0df7a56a7d758f8af801eb', 'message': 'Add NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe for Bifrost and Kolla-Ansible, and templates Ironic PXE\nand Ironic Inspector kernel parameters to new variables in\nKolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}, {'number': 17, 'created': '2024-05-22 13:05:03.000000000', 'files': ['ansible/roles/kolla-ansible/templates/kolla/globals.yml', 'ansible/inventory/group_vars/all/ironic', 'etc/kayobe/bifrost.yml', 'ansible/roles/kolla-bifrost/defaults/main.yml', 'ansible/roles/kolla-openstack/templates/kolla/config/ironic.conf', 'etc/kayobe/ironic.yml', 'releasenotes/notes/ntp-parameter-config-9ad126dad021f1de.yaml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'ansible/roles/kolla-bifrost/templates/kolla/config/bifrost/bifrost.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2d49312cfc9d332bd0c7bf4b5f5cff84fd0fc787', 'message': 'Add Ironic Python Agent (IPA) NTP parameter configuration\n\nThis patch adds Ironic Python Agent (IPA) NTP configuration to\nKayobe for Bifrost and Kolla-Ansible, and templates Ironic PXE\nand Ironic Inspector kernel parameters to new variables in\nKolla-Ansible.\n\nDepends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134\nDepends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b\nChange-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5\n'}]",14,895199,2d49312cfc9d332bd0c7bf4b5f5cff84fd0fc787,37,3,17,36238,,,0,"Add Ironic Python Agent (IPA) NTP parameter configuration

This patch adds Ironic Python Agent (IPA) NTP configuration to
Kayobe for Bifrost and Kolla-Ansible, and templates Ironic PXE
and Ironic Inspector kernel parameters to new variables in
Kolla-Ansible.

Depends-On: I2ef63233eae661ed056bfa215b2875f44e0b6134
Depends-On: Ied8bc515fa33707eefcd9759251821ed83253a8b
Change-Id: I97e1f5cf187299f6d1d287202fec436f53fbe0b5
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/99/895199/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/templates/kolla/globals.yml', 'ansible/inventory/group_vars/all/ironic', 'etc/kayobe/ironic.yml', 'releasenotes/notes/ntp-parameter-config-9ad126dad021f1de.yaml', 'ansible/roles/kolla-ansible/defaults/main.yml']",5,5a9aeef73afacafa4c32d9c887f7a33e47afac8c,ntp-update,kolla_ironic_ntp_server: kolla_ironic_enable_ntp_precheck: ,,30,18
openstack%2Fblazar-dashboard~917383,openstack/blazar-dashboard,unmaintained/zed,I3a270918474866e5143041b5163e200f64233c7a,Update .gitreview for unmaintained/zed,MERGED,2024-04-29 10:57:36.000000000,2024-05-22 13:21:46.000000000,2024-05-22 13:20:47.000000000,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-29 10:57:36.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/ed8eb3171b05de15b28162c11dc10bad818c3a4a', 'message': 'Update .gitreview for unmaintained/zed\n\nChange-Id: I3a270918474866e5143041b5163e200f64233c7a\n'}]",2,917383,ed8eb3171b05de15b28162c11dc10bad818c3a4a,10,3,1,22816,,,0,"Update .gitreview for unmaintained/zed

Change-Id: I3a270918474866e5143041b5163e200f64233c7a
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/83/917383/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ed8eb3171b05de15b28162c11dc10bad818c3a4a,create-zed,defaultbranch=unmaintained/zed,defaultbranch=stable/zed,1,1
openstack%2Fcinder~915489,openstack/cinder,master,Ie7ddb100e4fdfa3dd95fcb1a46704df10e77f7ca,mypy: enable strict equality checking,NEW,2024-04-11 14:30:17.000000000,2024-05-22 12:56:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-11 14:30:17.000000000', 'files': ['cinder/volume/volume_types.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/67d3bb3408a9352c16729d907ed537c2bc94ee48', 'message': 'mypy: enable strict equality checking\n\nThis fixes the signature for get_volume_type_extra_specs,\nsince it has different return types based on the parameters,\nwhich causes failures under strict equality checking.\n\n(Note that flake8 E704 and E302 apply to @overload definitions,\nso each must take multiple lines.)\n\nChange-Id: Ie7ddb100e4fdfa3dd95fcb1a46704df10e77f7ca\n'}]",6,915489,67d3bb3408a9352c16729d907ed537c2bc94ee48,27,1,1,4523,,,0,"mypy: enable strict equality checking

This fixes the signature for get_volume_type_extra_specs,
since it has different return types based on the parameters,
which causes failures under strict equality checking.

(Note that flake8 E704 and E302 apply to @overload definitions,
so each must take multiple lines.)

Change-Id: Ie7ddb100e4fdfa3dd95fcb1a46704df10e77f7ca
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/915489/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/volume_types.py', 'setup.cfg']",2,67d3bb3408a9352c16729d907ed537c2bc94ee48,,strict_equality = true,,15,2
openstack%2Fcinder~919993,openstack/cinder,master,I256c080c8f472340cffe733423698a5fd1f487fd,Refactor get_volume_type_extra_specs,NEW,2024-05-18 06:37:15.000000000,2024-05-22 12:52:50.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-18 06:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9594f2f4dd4837ae7fbef3c1c2352fc0a5815e60', 'message': 'Refactor get_volume_type_extra_specs\n\nThe current interface is confusing because the function returns\n""a spec"", not ""specs"", when the key argument is used. Return specs\nconsistently and leave the logic to pick up a specific spec to the code\nusing the utility method.\n\nChange-Id: I256c080c8f472340cffe733423698a5fd1f487fd\n'}, {'number': 2, 'created': '2024-05-18 06:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f44104c858de27af9a2fe158101dc61f455844b0', 'message': 'Refactor get_volume_type_extra_specs\n\nThe current interface is confusing because the function returns\n""a spec"", not ""specs"", when the key argument is used. Return specs\nconsistently and leave the logic to pick up a specific spec to the code\nusing the utility method.\n\nChange-Id: I256c080c8f472340cffe733423698a5fd1f487fd\n'}, {'number': 3, 'created': '2024-05-18 09:26:13.000000000', 'files': ['cinder/tests/unit/volume/test_connection.py', 'cinder/volume/manager.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/tests/unit/api/contrib/test_types_extra_specs.py', 'cinder/volume/volume_types.py', 'cinder/tests/unit/volume/test_volume_manager.py', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/api/contrib/types_extra_specs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/169388b86b056ed46f393d1920ba7de1d1b5d3ea', 'message': 'Refactor get_volume_type_extra_specs\n\nThe current interface is confusing because the function returns\n""a spec"", not ""specs"", when the key argument is used. Return specs\nconsistently and leave the logic to pick up a specific spec to the code\nusing the utility method.\n\nChange-Id: I256c080c8f472340cffe733423698a5fd1f487fd\n'}]",1,919993,169388b86b056ed46f393d1920ba7de1d1b5d3ea,28,2,3,9816,,,0,"Refactor get_volume_type_extra_specs

The current interface is confusing because the function returns
""a spec"", not ""specs"", when the key argument is used. Return specs
consistently and leave the logic to pick up a specific spec to the code
using the utility method.

Change-Id: I256c080c8f472340cffe733423698a5fd1f487fd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/919993/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/volume_types.py', 'cinder/api/contrib/types_extra_specs.py']",4,9594f2f4dd4837ae7fbef3c1c2352fc0a5815e60,," specs = volume_types.get_volume_type_extra_specs(type_id) multiattach = specs.get('multiattach', False) cacheable = specs.get('cacheable', False)"," multiattach = volume_types.get_volume_type_extra_specs( type_id, key='multiattach') cacheable = volume_types.get_volume_type_extra_specs( type_id, key='cacheable')",9,16
openstack%2Fdevstack~916730,openstack/devstack,master,I06295706e985bac58de2878c6d24c51f3267c205,Display backup dashboard on Horizon when c-bak is enabled,MERGED,2024-05-01 14:34:33.000000000,2024-05-22 12:51:10.000000000,2024-05-22 12:50:03.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 35378}, {'_account_id': 35916}, {'_account_id': 36898}]","[{'number': 1, 'created': '2024-05-01 14:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/93570b39f8a157a70d1de839c4575be4ced3b1d9', 'message': 'Add option to enable backup dashboard on Horizon\n\nCurrently, when enabling c-bak service, the backup tab will not\nbe shown on Horizon by default. This patch add an option for user\nto display backup dashboard alongside with c-bak enabled.\n\nCloses-Bug: 2064496\nChange-Id: I06295706e985bac58de2878c6d24c51f3267c205\nSigned-off-by: MinhNLH2 <minh.nlh.work@gmail.com>\n'}, {'number': 2, 'created': '2024-05-01 18:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5947ba1775adec54303e2d540d68d9b8f2325ffa', 'message': 'Add option to enable backup dashboard on Horizon\n\nCurrently, when enabling c-bak service, the backup tab will not\nbe shown on Horizon by default. This patch add an option for user\nto display backup dashboard alongside with c-bak enabled.\n\nCloses-Bug: 2064496\nChange-Id: I06295706e985bac58de2878c6d24c51f3267c205\nSigned-off-by: MinhNLH2 <minh.nlh.work@gmail.com>\n'}, {'number': 3, 'created': '2024-05-02 16:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1f3e47c11c1ab1c0d6a81d46b534e86ac41ba1fd', 'message': 'Add option to enable backup dashboard on Horizon\n\nCurrently, when enabling c-bak service, the backup tab will not\nbe shown on Horizon by default. This patch add an option for user\nto display backup dashboard alongside with c-bak enabled.\n\nCloses-Bug: 2064496\nChange-Id: I06295706e985bac58de2878c6d24c51f3267c205\nSigned-off-by: MinhNLH2 <minh.nlh.work@gmail.com>\n'}, {'number': 4, 'created': '2024-05-02 17:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a886dafb4cc56f321714e4b402938b23df5eed90', 'message': 'Add option to enable backup dashboard on Horizon\n\nCurrently, when enabling c-bak service, the backup tab will not\nbe shown on Horizon by default. This patch add an option for user\nto display backup dashboard alongside with c-bak enabled.\n\nCloses-Bug: 2064496\nChange-Id: I06295706e985bac58de2878c6d24c51f3267c205\nSigned-off-by: MinhNLH2 <minh.nlh.work@gmail.com>\n'}, {'number': 5, 'created': '2024-05-02 17:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/59f5acfc6ff8e37ef2d08bcaabeaab3335953229', 'message': 'Add option to enable backup dashboard on Horizon\n\nCurrently, when enabling c-bak service, the backup tab will not\nbe shown on Horizon by default. This patch add an option for user\nto display backup dashboard alongside with c-bak enabled.\n\nCloses-Bug: 2064496\nChange-Id: I06295706e985bac58de2878c6d24c51f3267c205\nSigned-off-by: MinhNLH2 <minh.nlh.work@gmail.com>\n'}, {'number': 6, 'created': '2024-05-15 17:39:17.000000000', 'files': ['lib/horizon'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6971ccc49ad97216d97be46c70c241c5473aff92', 'message': 'Display backup dashboard on Horizon when c-bak is enabled\n\nCurrently, when enabling c-bak service, the backup tab will not\nbe shown on Horizon by default. This patch tells Horizon to\ndisplay backup dashboard when c-bak is enabled.\n\nCloses-Bug: 2064496\nChange-Id: I06295706e985bac58de2878c6d24c51f3267c205\nSigned-off-by: MinhNLH2 <minh.nlh.work@gmail.com>\n'}]",23,916730,6971ccc49ad97216d97be46c70c241c5473aff92,35,6,6,36898,,,0,"Display backup dashboard on Horizon when c-bak is enabled

Currently, when enabling c-bak service, the backup tab will not
be shown on Horizon by default. This patch tells Horizon to
display backup dashboard when c-bak is enabled.

Closes-Bug: 2064496
Change-Id: I06295706e985bac58de2878c6d24c51f3267c205
Signed-off-by: MinhNLH2 <minh.nlh.work@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/30/916730/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_enable_backup_dashboard.sh', 'lib/horizon']",2,93570b39f8a157a70d1de839c4575be4ced3b1d9,bug/2064496," if is_service_enabled c-bak && [[ $ENABLE_BACKUP_DASHBOARD == ""True"" ]]; then _horizon_config_set $local_settings """" OPENSTACK_CINDER_FEATURES ""{'enable_backup': True}"" fi ",,105,0
openstack%2Fsunbeam-charms~920157,openstack/sunbeam-charms,main,I103b1b044a7fb55b1fb05bb1e8a461cad3c20c5c,Log db sync failures during retry,MERGED,2024-05-22 03:24:33.000000000,2024-05-22 12:47:28.000000000,2024-05-22 12:08:09.000000000,"[{'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2024-05-22 03:24:33.000000000', 'files': ['ops-sunbeam/ops_sunbeam/charm.py'], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/4081ae07cf7bd095228212dbb84b94b21c3159e2', 'message': 'Log db sync failures during retry\n\nCurrently there is no log on why the db sync\nfailed and charm retries the db sync. Add log\non pebble exec error for db sync and reraise\nthe error.\n\nChange-Id: I103b1b044a7fb55b1fb05bb1e8a461cad3c20c5c\n'}]",1,920157,4081ae07cf7bd095228212dbb84b94b21c3159e2,7,2,1,10366,,,0,"Log db sync failures during retry

Currently there is no log on why the db sync
failed and charm retries the db sync. Add log
on pebble exec error for db sync and reraise
the error.

Change-Id: I103b1b044a7fb55b1fb05bb1e8a461cad3c20c5c
",git fetch https://review.opendev.org/openstack/sunbeam-charms refs/changes/57/920157/1 && git format-patch -1 --stdout FETCH_HEAD,['ops-sunbeam/ops_sunbeam/charm.py'],1,4081ae07cf7bd095228212dbb84b94b21c3159e2,db-sync-prints," try: process = container.exec(cmd, timeout=5 * 60) out, err = process.wait_output() except ops.pebble.ExecError as e: logger.warning(f""DB Sync pebble exec error: {str(e)}"") raise e"," process = container.exec(cmd, timeout=5 * 60) out, err = process.wait_output()",6,2
openstack%2Fovn-octavia-provider~920112,openstack/ovn-octavia-provider,stable/2023.1,I9ff255c110774590f53811162572eef596ff9a04,Adding isolation to functional tests,MERGED,2024-05-21 15:37:50.000000000,2024-05-22 11:33:33.000000000,2024-05-22 11:32:25.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 15:37:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/03527ba509217f4883bafe36222ddbd006909637', 'message': ""Adding isolation to functional tests\n\nDue to some events received among different tests in the\nsame worker, this patch add '--isolated' tag to stestr\nto run every test on a unique worker and in a different stestr\nprocess.\n\nCloses-Bug: #2058400\n\nChange-Id: I9ff255c110774590f53811162572eef596ff9a04\n(cherry picked from commit 8d3e5c7ed3064abac33d152ed74e2f0427d4e676)\n""}]",0,920112,03527ba509217f4883bafe36222ddbd006909637,8,3,1,34451,,,0,"Adding isolation to functional tests

Due to some events received among different tests in the
same worker, this patch add '--isolated' tag to stestr
to run every test on a unique worker and in a different stestr
process.

Closes-Bug: #2058400

Change-Id: I9ff255c110774590f53811162572eef596ff9a04
(cherry picked from commit 8d3e5c7ed3064abac33d152ed74e2f0427d4e676)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/12/920112/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,03527ba509217f4883bafe36222ddbd006909637,2023.1, stestr run --isolated {posargs}, stestr run {posargs},1,1
openstack%2Fovn-octavia-provider~920109,openstack/ovn-octavia-provider,stable/2023.2,I9ff255c110774590f53811162572eef596ff9a04,Adding isolation to functional tests,MERGED,2024-05-21 15:17:50.000000000,2024-05-22 11:31:50.000000000,2024-05-22 11:30:52.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 15:17:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0ff8c656514f6f791dfc50ae5751f2f1832f5afd', 'message': ""Adding isolation to functional tests\n\nDue to some events received among different tests in the\nsame worker, this patch add '--isolated' tag to stestr\nto run every test on a unique worker and in a different stestr\nprocess.\n\nCloses-Bug: #2058400\n\nChange-Id: I9ff255c110774590f53811162572eef596ff9a04\n(cherry picked from commit 8d3e5c7ed3064abac33d152ed74e2f0427d4e676)\n""}]",0,920109,0ff8c656514f6f791dfc50ae5751f2f1832f5afd,8,3,1,34451,,,0,"Adding isolation to functional tests

Due to some events received among different tests in the
same worker, this patch add '--isolated' tag to stestr
to run every test on a unique worker and in a different stestr
process.

Closes-Bug: #2058400

Change-Id: I9ff255c110774590f53811162572eef596ff9a04
(cherry picked from commit 8d3e5c7ed3064abac33d152ed74e2f0427d4e676)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/09/920109/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0ff8c656514f6f791dfc50ae5751f2f1832f5afd,, stestr run --isolated {posargs}, stestr run {posargs},1,1
openstack%2Fkayobe~909594,openstack/kayobe,master,Ibef1713d7de2e0a2c6fe046f607b2a8e60dae3da,Fix issue removing docker volumes,MERGED,2024-02-20 15:39:45.000000000,2024-05-22 11:25:25.000000000,2024-05-22 11:24:23.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 34940}]","[{'number': 1, 'created': '2024-02-20 15:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a12a2f4a9fcb96034281cda1dad3cc5ff5d3134b', 'message': 'Fix issue with overcloud service destroy\n\nThe error response from the docker daemon has changed to:\n\n    Error response from daemon: get opensm_logs: no such volume\n\nThis change should support both old and new responses.\n\nChange-Id: Ibef1713d7de2e0a2c6fe046f607b2a8e60dae3da\nCloses-Bug: #2050092\n'}, {'number': 2, 'created': '2024-02-20 15:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/de5d2be4bb20ca0b89e83a8396c365bce6acbb33', 'message': 'Fix issue removing docker volumes\n\nThe error response from the docker daemon has changed to:\n\n    Error response from daemon: get opensm_logs: no such volume\n\nThis change should support both old and new responses.\n\nChange-Id: Ibef1713d7de2e0a2c6fe046f607b2a8e60dae3da\nCloses-Bug: #2050092\n'}, {'number': 3, 'created': '2024-03-01 19:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/223cff3c4832a4ac97f97194a514f86cf19908d0', 'message': 'Fix issue removing docker volumes\n\nThe error response from the docker daemon has changed to:\n\n    Error response from daemon: get opensm_logs: no such volume\n\nThis change should support both old and new responses.\n\nChange-Id: Ibef1713d7de2e0a2c6fe046f607b2a8e60dae3da\nCloses-Bug: #2050092\n'}, {'number': 4, 'created': '2024-03-07 18:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/74dbb8f831ae4715302a279b3b688d82e654a70a', 'message': 'Fix issue removing docker volumes\n\nThe error response from the docker daemon has changed to:\n\n    Error response from daemon: get opensm_logs: no such volume\n\nThis change should support both old and new responses.\n\nChange-Id: Ibef1713d7de2e0a2c6fe046f607b2a8e60dae3da\nCloses-Bug: #2050092\n'}, {'number': 5, 'created': '2024-03-13 10:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a1a8de522b41f2d530e71c2358261baea280aa2e', 'message': 'Fix issue removing docker volumes\n\nThe error response from the docker daemon has changed to:\n\n    Error response from daemon: get opensm_logs: no such volume\n\nThis change should support both old and new responses.\n\nChange-Id: Ibef1713d7de2e0a2c6fe046f607b2a8e60dae3da\nCloses-Bug: #2050092\n'}, {'number': 6, 'created': '2024-03-18 17:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4b5c05742b921c2f1343aba2a13cc02f45c20ac4', 'message': 'Fix issue removing docker volumes\n\nThe error response from the docker daemon has changed to:\n\n    Error response from daemon: get opensm_logs: no such volume\n\nThis change should support both old and new responses.\n\nChange-Id: Ibef1713d7de2e0a2c6fe046f607b2a8e60dae3da\nCloses-Bug: #2050092\n'}, {'number': 7, 'created': '2024-05-21 10:59:30.000000000', 'files': ['ansible/roles/docker-registry/tasks/destroy.yml', 'ansible/roles/inspection-store/tasks/destroy.yml', 'releasenotes/notes/fix-issue-overcloud-service-destroy-volume-cleanup-4b54d81cde9831c7.yaml', 'ansible/roles/opensm/tasks/destroy.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/27ece2622b934eb6f4d9712d1879ac9bab8d236e', 'message': 'Fix issue removing docker volumes\n\nThe error response from the docker daemon has changed to:\n\n    Error response from daemon: get opensm_logs: no such volume\n\nThis change should support both old and new responses.\n\nChange-Id: Ibef1713d7de2e0a2c6fe046f607b2a8e60dae3da\nCloses-Bug: #2050092\n'}]",2,909594,27ece2622b934eb6f4d9712d1879ac9bab8d236e,31,5,7,28048,,,0,"Fix issue removing docker volumes

The error response from the docker daemon has changed to:

    Error response from daemon: get opensm_logs: no such volume

This change should support both old and new responses.

Change-Id: Ibef1713d7de2e0a2c6fe046f607b2a8e60dae3da
Closes-Bug: #2050092
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/94/909594/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/inspection-store/tasks/destroy.yml', 'releasenotes/notes/fix-issue-overcloud-service-destroy-volume-cleanup-4b54d81cde9831c7.yaml', 'ansible/roles/opensm/tasks/destroy.yml']",3,a12a2f4a9fcb96034281cda1dad3cc5ff5d3134b,," - ""'no such volume' not in volume_result.stderr""",,8,0
openstack%2Fopenstack-ansible~920085,openstack/openstack-ansible,unmaintained/victoria,I5edfde899001ce428c20ee0e1c94b897537b8ebf,Remove retired projects from zuul required-projects,MERGED,2024-05-21 07:53:41.000000000,2024-05-22 11:01:53.000000000,2024-05-22 10:57:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-21 07:53:41.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c1003309a26bac2805879f21861481bb1ea72d0a', 'message': 'Remove retired projects from zuul required-projects\n\nRemove senlin, murano, sahara, networking-odl and networking-ovn.\n\nChange-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf\n'}]",0,920085,c1003309a26bac2805879f21861481bb1ea72d0a,9,3,1,25023,,,0,"Remove retired projects from zuul required-projects

Remove senlin, murano, sahara, networking-odl and networking-ovn.

Change-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/920085/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c1003309a26bac2805879f21861481bb1ea72d0a,osa/zuul-errors,, - name: openstack/sahara-dashboard - name: openstack/murano - name: openstack/networking-odl - name: openstack/networking-ovn - name: openstack/sahara - name: openstack/senlin - name: openstack/murano,0,7
openstack%2Fopenstack-ansible~920084,openstack/openstack-ansible,unmaintained/wallaby,I5edfde899001ce428c20ee0e1c94b897537b8ebf,Remove retired projects from zuul required-projects,MERGED,2024-05-21 07:51:19.000000000,2024-05-22 11:01:52.000000000,2024-05-22 10:57:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-21 07:51:19.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c57f8cfa0eea7d271bd715e06f93038393b2d8c', 'message': 'Remove retired projects from zuul required-projects\n\nRemove senlin, murano, sahara, networking-odl and networking-ovn.\n\nChange-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf\n'}]",0,920084,4c57f8cfa0eea7d271bd715e06f93038393b2d8c,9,3,1,25023,,,0,"Remove retired projects from zuul required-projects

Remove senlin, murano, sahara, networking-odl and networking-ovn.

Change-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/920084/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,4c57f8cfa0eea7d271bd715e06f93038393b2d8c,osa/zuul-errors,, # Murano distro deployment does need access to valid git repo anyway - name: openstack/murano - name: openstack/sahara-dashboard - name: openstack/murano - name: openstack/networking-odl - name: openstack/networking-ovn - name: openstack/sahara - name: openstack/senlin - name: openstack/murano,0,9
openstack%2Fopenstack-ansible~920080,openstack/openstack-ansible,stable/zed,I5edfde899001ce428c20ee0e1c94b897537b8ebf,Remove retired projects from zuul required-projects,MERGED,2024-05-21 07:44:48.000000000,2024-05-22 11:01:20.000000000,2024-05-22 10:57:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-21 07:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7f007829162a62cbe8e3dd936580fe70bc9c5b93', 'message': 'Remove retired projects from zuul required-projects\n\nRemove senlin, murano, sahara, networking-odl and networking-ovn.\n\nChange-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf\n'}, {'number': 2, 'created': '2024-05-21 15:42:26.000000000', 'files': ['doc/source/conf.py', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7c6e5ef7f32656d642ba4de1f87313bea63bad1f', 'message': 'Remove retired projects from zuul required-projects\n\nRemove senlin, murano, sahara, networking-odl and networking-ovn.\n\nChange-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf\n'}]",1,920080,7c6e5ef7f32656d642ba4de1f87313bea63bad1f,13,3,2,25023,,,0,"Remove retired projects from zuul required-projects

Remove senlin, murano, sahara, networking-odl and networking-ovn.

Change-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/80/920080/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,7f007829162a62cbe8e3dd936580fe70bc9c5b93,osa/zuul-errors,, # Murano distro deployment does need access to valid git repo anyway - name: openstack/murano - name: openstack/sahara-dashboard - name: openstack/murano - name: openstack/networking-odl - name: openstack/networking-ovn - name: openstack/sahara - name: openstack/senlin - name: openstack/murano,0,9
openstack%2Fglance~920060,openstack/glance,master,I8acd8af259890533bc6420f8591af468759ef020,Add non-voting functional-py312 job,MERGED,2024-05-20 18:29:22.000000000,2024-05-22 10:39:54.000000000,2024-05-22 10:37:28.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 18:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/66567b78604e04675a31fec694f96e7922b5831e', 'message': 'Add non-voting functional-py312 job\n\nChange-Id: I8acd8af259890533bc6420f8591af468759ef020\n'}, {'number': 2, 'created': '2024-05-21 07:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5ffd92ea6d3040705433dae436d6b34146f15686', 'message': 'Add non-voting functional-py312 job\n\nChange-Id: I8acd8af259890533bc6420f8591af468759ef020\n'}, {'number': 3, 'created': '2024-05-21 16:13:01.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/9f4754cd8060efafb67ca73efe71708c556a5fc3', 'message': 'Add non-voting functional-py312 job\n\nChange-Id: I8acd8af259890533bc6420f8591af468759ef020\n'}]",7,920060,9f4754cd8060efafb67ca73efe71708c556a5fc3,28,2,3,8122,,,0,"Add non-voting functional-py312 job

Change-Id: I8acd8af259890533bc6420f8591af468759ef020
",git fetch https://review.opendev.org/openstack/glance refs/changes/60/920060/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,66567b78604e04675a31fec694f96e7922b5831e,functional-py312,"[testenv:functional-py{38,39,310,311,312}]","[testenv:functional-py{38,39,310,311}]",4,1
openstack%2Fcharm-mysql-router~915310,openstack/charm-mysql-router,master,Ic28f0406eb8d5dbd9131ae83090498297ac48c31,Fixing broken mysql-router configuration,MERGED,2024-04-09 06:53:53.000000000,2024-05-22 10:04:29.000000000,2024-05-22 10:04:29.000000000,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-09 06:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/c59eb5c7bd963760abff9db7f96e9e66c3aa148a', 'message': 'Fixing broken mysql-router configuration\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1196\nCloses-Bug: #2004088\nChange-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31\n'}, {'number': 2, 'created': '2024-04-09 07:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/c9608f49bdf31934a70db0dc2a195ffda9d65cd0', 'message': 'Fixing broken mysql-router configuration\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1196\nCloses-Bug: #2004088\nChange-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31\n'}, {'number': 3, 'created': '2024-04-17 07:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/613cee18a6a69117bec389be2dc702e96b85cde0', 'message': 'Fixing broken mysql-router configuration\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1196\nCloses-Bug: #2004088\nChange-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31\n'}, {'number': 4, 'created': '2024-04-18 07:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/2c178b0b78af97e4ae89107aded4175ea87934bc', 'message': ""Fixing broken mysql-router configuration\n\nA customer faced an issue when they face full disk. Mysql router configuration file was broken. As this charm doesn't handle whole configuration file, charm wrote just part of them based on template. so re-bootstrapping is needed when this symptom happens.\n\nTo do that, I put code to check configuration file size, and if it is under 1000bytes, run bootstrap.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1196\nCloses-Bug: #2004088\nChange-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31\n""}, {'number': 5, 'created': '2024-05-21 23:43:37.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_mysql_router_handlers.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/reactive/mysql_router_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/d334665b2d8bb113223508f348d053020e8c860c', 'message': ""Fixing broken mysql-router configuration\n\nA customer faced an issue when they face full disk. Mysql router configuration file was broken. As this charm doesn't handle whole configuration file, charm wrote just part of them based on template. so re-bootstrapping is needed when this symptom happens.\n\nTo do that, I put code to check configuration file size, and if it is under 1000bytes, run bootstrap.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1196\nCloses-Bug: #2004088\nChange-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31\n""}]",23,915310,d334665b2d8bb113223508f348d053020e8c860c,33,4,5,5112,,,0,"Fixing broken mysql-router configuration

A customer faced an issue when they face full disk. Mysql router configuration file was broken. As this charm doesn't handle whole configuration file, charm wrote just part of them based on template. so re-bootstrapping is needed when this symptom happens.

To do that, I put code to check configuration file size, and if it is under 1000bytes, run bootstrap.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1196
Closes-Bug: #2004088
Change-Id: Ic28f0406eb8d5dbd9131ae83090498297ac48c31
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/10/915310/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/reactive/mysql_router_handlers.py']",3,c59eb5c7bd963760abff9db7f96e9e66c3aa148a,fixing_broken_conf, instance.validate_configuration() @reactive.hook('update-status') def update_status(): with charm.provide_charm_instance() as instance: instance.validate_configuration() instance.assess_status()," 'update-status',",85,4
openstack%2Fopenstack-ansible-os_octavia~868462,openstack/openstack-ansible-os_octavia,master,Ic5963070f4f2504860ddf0829819ca2f301546b1,Implement support for octavia-ovn-provider driver,MERGED,2022-12-23 04:13:16.000000000,2024-05-22 09:59:49.000000000,2024-05-22 09:57:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-12-23 04:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7b04885c879fd8bd4b63e394b794472d923719b9', 'message': '[WIP] Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nTODO:\n\n- Updated documentation/release note\n- Implement agent and/or make fully functional\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\n'}, {'number': 2, 'created': '2022-12-23 04:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/dd7ca256583d30a3667828b705976258014918ea', 'message': '[WIP] Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nTODO:\n\n- Updated documentation/release note\n- Implement agent and/or make fully functional\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\n'}, {'number': 3, 'created': '2022-12-24 04:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/67ab367562a8318964ef7ee0f00492512ef1e453', 'message': '[WIP] Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\n'}, {'number': 4, 'created': '2022-12-24 04:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ac8477d19c1d1465e7af5e35a4532af713cf78c5', 'message': '[WIP] Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\n'}, {'number': 5, 'created': '2022-12-29 03:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a051a48c4e940efc05c88e37e76de90cd02c9659', 'message': 'Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\n'}, {'number': 6, 'created': '2023-02-23 18:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d18f6b5d274ca4f8cc333e59d47fcce7f5f35246', 'message': 'Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\n'}, {'number': 7, 'created': '2023-02-23 18:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/65f203453e463b77349c7d086a4d1f884af4f7e5', 'message': 'Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\n'}, {'number': 8, 'created': '2023-03-02 20:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/30df308a91a2ca2631834430cc70adcc60afed8d', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 9, 'created': '2023-05-22 17:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/5eae150e00ea9a080401f9596fcb5841b5f1e01f', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 10, 'created': '2024-02-06 17:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/30dcc1f14e88af54d850539d12cd7e50d4f5385b', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 11, 'created': '2024-02-06 18:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/53e50393e5fc77b1d881ba85ab5a8ba162b11efe', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/868461\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 12, 'created': '2024-02-07 11:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f51bcbe85aff15ea0bcd96ed5b0cb5d86650aaec', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/908292\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 13, 'created': '2024-02-07 19:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/35c15317144b3f00d2e83954914f2178eb419c65', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/908292\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 14, 'created': '2024-02-12 15:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/44dc18d6da65f13b47a66b937f9b88c4cd45f205', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/908292\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/908831\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 15, 'created': '2024-04-24 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/0ed1d50b70046a47cff33a28336b31dd3121b172', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/916872\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 16, 'created': '2024-04-29 19:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a610ffb49b50bc2e64e25735a7d643f01cf00962', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/916872\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 17, 'created': '2024-05-14 15:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/6ee5df89f6142f27c38749deb6075c27003f917b', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/916872\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 18, 'created': '2024-05-14 15:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/11b2e99315457280b38cadba07c1176c6c153978', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919599\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 19, 'created': '2024-05-16 08:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2295705f91008a34aa41b49ca74365c8c72b4e7f', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919599\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}, {'number': 20, 'created': '2024-05-16 13:14:55.000000000', 'files': ['tasks/main.yml', 'vars/distro_install.yml', 'vars/redhat.yml', 'tasks/octavia_install.yml', 'vars/debian.yml', 'zuul.d/project.yaml', 'releasenotes/notes/octavia-ovn-provider-driver-3efd5e7e77291b78.yaml', 'templates/octavia.conf.j2', 'zuul.d/jobs.yaml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/86172dca82678b2eb41e809f5a120ed6252f08c6', 'message': ""Implement support for octavia-ovn-provider driver\n\nThis patch is the second of two required to implement the\noctavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,\ncan be used to install the driver and configure Octavia accordingly.\n\nThis patch has also restructured the driver/plugin mechanism for the\nos_octavia role to better mirror that of os_neutron and to make\nfuture additions easier to implement.\n\nIt also uses neutron's method of certificate delivery for the ovn certs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919599\nChange-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n""}]",23,868462,86172dca82678b2eb41e809f5a120ed6252f08c6,75,5,20,16011,,,0,"Implement support for octavia-ovn-provider driver

This patch is the second of two required to implement the
octavia-ovn-provider driver for Octavia. A new var, octavia_ovn_enabled,
can be used to install the driver and configure Octavia accordingly.

This patch has also restructured the driver/plugin mechanism for the
os_octavia role to better mirror that of os_neutron and to make
future additions easier to implement.

It also uses neutron's method of certificate delivery for the ovn certs.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919599
Change-Id: Ic5963070f4f2504860ddf0829819ca2f301546b1
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/62/868462/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_install.yml', 'defaults/main.yml', 'vars/main.yml']",3,7b04885c879fd8bd4b63e394b794472d923719b9,osa-octavia-ovn,"### ### Python code details ### octavia_pip_packages: - cryptography - keystonemiddleware - osprofiler - PyMySQL - pymemcache - python-glanceclient - python-keystoneclient - python-memcached - python-neutronclient - python-novaclient - python-openstackclient - python-octaviaclient - ""git+{{ octavia_git_repo }}@{{ octavia_git_install_branch }}#egg=octavia"" - systemd-python - ""tooz[{{ octavia_coordination_driver }}]"" # Specific pip packages provided by the user octavia_user_pip_packages: [] octavia_optional_oslomsg_amqp1_pip_packages: - oslo.messaging[amqp1] octavia_optional_ovn_octavia_provider_pip_packages: - ""git+{{ octavia_ovn_octavia_provider_git_repo }}@{{ octavia_ovn_octavia_provider_git_install_branch }}#egg=ovn-octavia-provider"" octavia_venv_packages: >- {%- set pkg_list = octavia_pip_packages | union(octavia_user_pip_packages) + (octavia_oslomsg_amqp1_enabled | bool) | ternary(octavia_optional_oslomsg_amqp1_pip_packages, []) %} {%- if ('ml2.ovn' in _neutron_plugin_type) and ('ovn' in octavia_enabled_provider_drivers) %} {%- set _ = pkg_list.extend(octavia_optional_ovn_octavia_provider_pip_packages) %} {%- endif %} {{- pkg_list | unique }} {% if (octavia_ovn_enabled | bool) %} {% set _ = drivers.append(""ovn:'The Octavia OVN provider driver.'"") %} {% endif %}",,46,26
openstack%2Fkolla-ansible~920159,openstack/kolla-ansible,master,I9eb044538f31b561c3cd944d015ce9b70a99bd6f,CI: Make CI roles passable with ansible-lint shared profile,NEW,2024-05-22 07:08:33.000000000,2024-05-22 09:44:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-22 07:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9678b2f67d47fc45a9df6448dcb380e07808e72c', 'message': 'CI: Make CI roles passable with ansible-lint shared profile\n\nChange-Id: I9eb044538f31b561c3cd944d015ce9b70a99bd6f\n'}, {'number': 2, 'created': '2024-05-22 07:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/493b397830792d01241bce0b660de81a42d718ba', 'message': 'CI: Make CI roles passable with ansible-lint shared profile\n\nChange-Id: I9eb044538f31b561c3cd944d015ce9b70a99bd6f\n'}, {'number': 3, 'created': '2024-05-22 07:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b788c243a51a835e9e47096f0cdd88ff9be0563b', 'message': 'CI: Make CI roles passable with ansible-lint shared profile\n\nChange-Id: I9eb044538f31b561c3cd944d015ce9b70a99bd6f\n'}, {'number': 4, 'created': '2024-05-22 07:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/281bae2bef1d05bc2b472c29a460be86e53b34e1', 'message': 'CI: Make CI roles passable with ansible-lint shared profile\n\nChange-Id: I9eb044538f31b561c3cd944d015ce9b70a99bd6f\n'}, {'number': 5, 'created': '2024-05-22 08:01:22.000000000', 'files': ['roles/multi-node-managed-addressing/tasks/main.yml', 'roles/cephadm/tasks/main.yml', 'roles/multi-node-vxlan-overlay/tasks/main.yml', 'roles/veth/tasks/main.yml', 'tox.ini', 'roles/bridge/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ffac79e75b0c8ba89074791e669316aff9507219', 'message': 'CI: Make CI roles passable with ansible-lint shared profile\n\nChange-Id: I9eb044538f31b561c3cd944d015ce9b70a99bd6f\n'}]",0,920159,ffac79e75b0c8ba89074791e669316aff9507219,7,1,5,22629,,,0,"CI: Make CI roles passable with ansible-lint shared profile

Change-Id: I9eb044538f31b561c3cd944d015ce9b70a99bd6f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/920159/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/multi-node-managed-addressing/tasks/main.yml', 'roles/cephadm/tasks/main.yml', 'roles/multi-node-vxlan-overlay/tasks/main.yml', 'roles/veth/tasks/main.yml', 'roles/bridge/tasks/main.yml']",5,9678b2f67d47fc45a9df6448dcb380e07808e72c,, changed_when: true changed_when: true changed_when: true,,33,1
openstack%2Fkolla-ansible~920162,openstack/kolla-ansible,master,I3cb9d0cca4e717fe22be52645a8ba96477708d28,Adapt playbooks to ansible-lint 6.22,NEW,2024-05-22 07:59:05.000000000,2024-05-22 09:34:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-22 07:59:05.000000000', 'files': ['ansible/mariadb.yml', 'ansible/kolla-host.yml', 'ansible/certificates.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c97124cc0ad0ed00a4bbfd9738258be74ff20a8f', 'message': 'Adapt playbooks to ansible-lint 6.22\n\nChange-Id: I3cb9d0cca4e717fe22be52645a8ba96477708d28\n'}]",0,920162,c97124cc0ad0ed00a4bbfd9738258be74ff20a8f,3,1,1,22629,,,0,"Adapt playbooks to ansible-lint 6.22

Change-Id: I3cb9d0cca4e717fe22be52645a8ba96477708d28
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/920162/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/mariadb.yml', 'ansible/kolla-host.yml', 'ansible/certificates.yml']",3,c97124cc0ad0ed00a4bbfd9738258be74ff20a8f,,- import_playbook: gather-facts.yml # noqa name[play],- import_playbook: gather-facts.yml,6,6
openstack%2Fcharm-ceph-radosgw~920117,openstack/charm-ceph-radosgw,stable/pacific,I71ac000bb4754c9cb987d703f145dc2a5ff032ad,Allow URLs which contain encoded path separators,MERGED,2024-05-21 16:53:58.000000000,2024-05-22 09:10:49.000000000,2024-05-22 09:10:49.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 16:53:58.000000000', 'files': ['templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/64588c46ad5e3481d0c4e86b82afd4656b34726a', 'message': 'Allow URLs which contain encoded path separators\n\nThis is to resolve the issue with objects containing slash in the name\nnot correctly synced in multisite environments.\n\nCloses-Bug: #1974138\nChange-Id: I71ac000bb4754c9cb987d703f145dc2a5ff032ad\n(cherry picked from commit 8a844bca972ba40ba269b26111180732c0ab7312)\n'}]",1,920117,64588c46ad5e3481d0c4e86b82afd4656b34726a,7,3,1,31959,,,0,"Allow URLs which contain encoded path separators

This is to resolve the issue with objects containing slash in the name
not correctly synced in multisite environments.

Closes-Bug: #1974138
Change-Id: I71ac000bb4754c9cb987d703f145dc2a5ff032ad
(cherry picked from commit 8a844bca972ba40ba269b26111180732c0ab7312)
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/17/920117/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/openstack_https_frontend.conf'],1,64588c46ad5e3481d0c4e86b82afd4656b34726a,, AllowEncodedSlashes On,,1,0
openstack%2Fbarbican-tempest-plugin~917007,openstack/barbican-tempest-plugin,master,Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff,DNM experimenting with CI,NEW,2024-04-25 08:47:52.000000000,2024-05-22 08:41:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-25 08:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/238d04e6800af878adc71569668a0d7dd1035862', 'message': 'DNM experimenting with CI\n\nExperimenting with the CI jobs to run volume encryption scenario\ntests.\n\nChange-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff\n'}, {'number': 2, 'created': '2024-04-25 22:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/f1ef76dc3460f536e5e713f5eca1ac3530110195', 'message': 'DNM experimenting with CI\n\nExperimenting with the CI jobs to run volume encryption scenario\ntests.\n\nChange-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff\n'}, {'number': 3, 'created': '2024-05-03 07:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/fc63a6c2d306d6f4480123293b22ea37d9b1b31a', 'message': 'DNM experimenting with CI\n\nExperimenting with the CI jobs to run volume encryption scenario\ntests and enabling tempest cleanup to discover any resources that\nare left behind after testing.\n\nChange-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff\n'}, {'number': 4, 'created': '2024-05-03 09:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/0e732aa121eee4a37c495d509c58d5dba3e65ec8', 'message': 'DNM experimenting with CI\n\nExperimenting with the CI jobs to run volume encryption scenario\ntests and enabling tempest cleanup to discover any resources that\nare left behind after testing.\n\nChange-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff\n'}, {'number': 5, 'created': '2024-05-06 06:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/b8938032bd51c6c09f818e730953bf847aa3a124', 'message': 'DNM experimenting with CI\n\nExperimenting with the CI jobs to run volume encryption scenario\ntests and enabling tempest cleanup to discover any resources that\nare left behind after testing.\n\nChange-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff\n'}, {'number': 6, 'created': '2024-05-07 07:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/d9311f6a41d755245e7c8b61d1c6530f4eee2ad1', 'message': 'DNM experimenting with CI\n\nExperimenting with the CI jobs to run volume encryption scenario\ntests and enabling tempest cleanup to discover any resources that\nare left behind after testing.\n\nChange-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff\n'}, {'number': 7, 'created': '2024-05-07 10:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/1a020a9cd8b44e672c317172879b618866a67c4b', 'message': 'DNM experimenting with CI\n\nExperimenting with the CI jobs to run volume encryption scenario\ntests and enabling tempest cleanup to discover any resources that\nare left behind after testing.\n\nChange-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff\n'}, {'number': 8, 'created': '2024-05-14 09:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/b6758afa7f727a8fc7930a284a9de0dc7255fb38', 'message': 'DNM experimenting with CI\n\nExperimenting with the CI jobs to run volume encryption scenario\ntests and enabling tempest cleanup to discover any resources that\nare left behind after testing.\n\nChange-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff\n'}, {'number': 9, 'created': '2024-05-14 11:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/fb6b10a4687b114d7b607732e418e54f4fbae3cc', 'message': 'DNM experimenting with CI\n\nExperimenting with the CI jobs to run volume encryption scenario\ntests and enabling tempest cleanup to discover any resources that\nare left behind after testing.\n\nChange-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff\n'}, {'number': 10, 'created': '2024-05-22 07:50:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/7bf50397b639775f88581839080832fd0d367c91', 'message': 'DNM experimenting with CI\n\nExperimenting with the CI jobs to run volume encryption scenario\ntests and enabling tempest cleanup to discover any resources that\nare left behind after testing.\n\nChange-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff\n'}]",2,917007,7bf50397b639775f88581839080832fd0d367c91,22,1,10,22873,,,0,"DNM experimenting with CI

Experimenting with the CI jobs to run volume encryption scenario
tests and enabling tempest cleanup to discover any resources that
are left behind after testing.

Change-Id: Ie0b04f3d18356cd1e413c61c3c30d0a4440f92ff
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/07/917007/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,238d04e6800af878adc71569668a0d7dd1035862,bz2026029, create_isolated_networks: True, create_isolated_networks: False,1,1
openstack%2Fbarbican-tempest-plugin~916887,openstack/barbican-tempest-plugin,master,I6d46105b8f44e279cdae1b739d868f1ef40689a1,Add a new test to delete someone elses volume,NEW,2024-04-24 11:05:38.000000000,2024-05-22 08:39:18.000000000,,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 30674}]","[{'number': 1, 'created': '2024-04-24 11:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/5aa037a59901b3199b9e684dd73e7b7b709303af', 'message': ""Add a new test to delete someone elses volume\n\nThe test case verifies that an admin user can delete other user's\nencrypted volume after the user and the project have been deleted.\n\nChange-Id: I6d46105b8f44e279cdae1b739d868f1ef40689a1\n""}, {'number': 2, 'created': '2024-04-25 22:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/46d8c3016aa430e101b9b53b8736571be410b8fe', 'message': ""Add a new test to delete someone elses volume\n\nThe test case verifies that an admin user can delete other user's\nencrypted volume after the user and the project have been deleted.\n\nChange-Id: I6d46105b8f44e279cdae1b739d868f1ef40689a1\n""}, {'number': 3, 'created': '2024-05-03 07:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/258fd943d34459e2cabd74e854a6059be292266f', 'message': ""Add a new test to delete someone elses volume\n\nThe test case verifies that an admin user can delete other user's\nencrypted volume after the user and the project have been deleted.\n\nChange-Id: I6d46105b8f44e279cdae1b739d868f1ef40689a1\n""}, {'number': 4, 'created': '2024-05-03 09:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/f61ff25339df728fd22b105ec424f5f0d728f358', 'message': ""Add a new test to delete someone elses volume\n\nThe test case verifies that an admin user can delete other user's\nencrypted volume after the user and the project have been deleted.\n\nChange-Id: I6d46105b8f44e279cdae1b739d868f1ef40689a1\n""}, {'number': 5, 'created': '2024-05-06 06:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/5083886f34bfc173c06e206b782e1c3e0e790e34', 'message': ""Add a new test to delete someone elses volume\n\nThe test case verifies that an admin user can delete other user's\nencrypted volume after the user and the project have been deleted.\n\nChange-Id: I6d46105b8f44e279cdae1b739d868f1ef40689a1\n""}, {'number': 6, 'created': '2024-05-07 07:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/b8dae9309d181410a009626a7074027a93506b09', 'message': ""Add a new test to delete someone elses volume\n\nThe test case verifies that an admin user can delete other user's\nencrypted volume after the user and the project have been deleted.\n\nChange-Id: I6d46105b8f44e279cdae1b739d868f1ef40689a1\n""}, {'number': 7, 'created': '2024-05-07 10:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/cec7bcf190eb07bc37a31e01ce49ed7bf8b6aa0e', 'message': ""Add a new test to delete someone elses volume\n\nThe test case verifies that an admin user can delete other user's\nencrypted volume after the user and the project have been deleted.\n\nChange-Id: I6d46105b8f44e279cdae1b739d868f1ef40689a1\n""}, {'number': 8, 'created': '2024-05-14 09:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/c74415bc8fbf4862b24af027508deea78a14d149', 'message': ""Add a new test to delete someone elses volume\n\nThe test case verifies that an admin user can delete other user's\nencrypted volume after the user and the project have been deleted.\n\nChange-Id: I6d46105b8f44e279cdae1b739d868f1ef40689a1\n""}, {'number': 9, 'created': '2024-05-22 07:50:07.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/test_volume_encryption.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/255f44270828faa3168af1f464cd42c7df39ef44', 'message': ""Add a new test to delete someone elses volume\n\nThe test case verifies that an admin user can delete other user's\nencrypted volume after the user and the project have been deleted.\n\nChange-Id: I6d46105b8f44e279cdae1b739d868f1ef40689a1\n""}]",10,916887,255f44270828faa3168af1f464cd42c7df39ef44,25,3,9,22873,,,0,"Add a new test to delete someone elses volume

The test case verifies that an admin user can delete other user's
encrypted volume after the user and the project have been deleted.

Change-Id: I6d46105b8f44e279cdae1b739d868f1ef40689a1
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/87/916887/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/test_volume_encryption.py'],1,5aa037a59901b3199b9e684dd73e7b7b709303af,bz2026029,"from tempest.lib.common.utils import data_utils @decorators.idempotent_id('46db04a8-55f5-4bfb-beb7-69f5d61d6a45') @utils.services('compute', 'volume', 'image') def test_delete_elses_encrypted_volume_admin(self): # an admin user can delete other user's secrets after the user # and the project have been deleted # create a project project_id = self.os_system_admin.projects_client.create_project( data_utils.rand_name())['project']['id'] self.addCleanup( self.os_system_admin.projects_client.delete_project(project_id)) # create a new admin user new_admin = self._setup_new_user_client(project_id=project_id, role='admin') # create an encrypted volume in the project using the new user volume = self.create_encrypted_volume('luks', volume_type='luks', clients=new_admin) # delete the project and the user that created the volume self.os_admin.users_v3_client.delete_user(new_admin.credentials. user_id) self.os_system_admin.projects_client.delete_project(project_id) # delete the volume with admin user - it has to succeed self.volumes_client.delete_volume(volume['id']) self.volumes_client.wait_for_resource_deletion(volume['id']) volume = self.os_admin.volumes_client_latest.show_volume( volume['id'])['volume'] self.assertEqual(volume, {})",,30,0
openstack%2Fkolla-ansible~920161,openstack/kolla-ansible,master,I17826e26e4237b4c99503f643e642b04ac463a48,CI: Fix faling kolla_container_facts,ABANDONED,2024-05-22 07:27:56.000000000,2024-05-22 08:32:58.000000000,,[{'_account_id': 27623}],"[{'number': 1, 'created': '2024-05-22 07:27:56.000000000', 'files': ['ansible/library/kolla_container_facts.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac1d35629649ad9fd26dbac09a7ebfee86970538', 'message': 'CI: Fix faling kolla_container_facts\n\nkolla_container_facts fails to autodetect base_url\nfor docker client. Fix is to set it as it is done\nfor Podman client.\n\nSigned-off-by: Roman Krček <roman.krcek@tietoevry.com>\nCo-Authored-By: Martin Hiner <martin.hiner@tietoevry.com>\nChange-Id: I17826e26e4237b4c99503f643e642b04ac463a48\n'}]",0,920161,ac1d35629649ad9fd26dbac09a7ebfee86970538,3,1,1,36702,,,0,"CI: Fix faling kolla_container_facts

kolla_container_facts fails to autodetect base_url
for docker client. Fix is to set it as it is done
for Podman client.

Signed-off-by: Roman Krček <roman.krcek@tietoevry.com>
Co-Authored-By: Martin Hiner <martin.hiner@tietoevry.com>
Change-Id: I17826e26e4237b4c99503f643e642b04ac463a48
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/920161/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/library/kolla_container_facts.py'],1,ac1d35629649ad9fd26dbac09a7ebfee86970538,ci/fix_facts,"def use_docker(module, results): from docker import APIClient client = APIClient(base_url='http+unix://var/run/docker.sock', version=module.params.get('api_version'))","def get_docker_client(): import docker return docker.APIClient def use_docker(module, results): client = get_docker_client()(version=module.params.get('api_version'))",4,6
openstack%2Fkolla-ansible~894295,openstack/kolla-ansible,master,If320eaddcd9fcc7283c56fb0a40aacb6cc35ebaa,CI: bump up ansible-lint,NEW,2023-09-08 11:20:37.000000000,2024-05-22 08:29:41.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-09-08 11:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32578f8da40d97d2ef6ad15e88cee0ccf64d6d16', 'message': 'CI: bump up ansible-lint\n\nChange-Id: If320eaddcd9fcc7283c56fb0a40aacb6cc35ebaa\n'}, {'number': 2, 'created': '2024-05-22 05:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b7a43ff27f543f7435e776d49fba681bbfa89b7', 'message': 'CI: bump up ansible-lint\n\nChange-Id: If320eaddcd9fcc7283c56fb0a40aacb6cc35ebaa\n'}, {'number': 3, 'created': '2024-05-22 05:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/456708b2325d86d39651bd560fc2840931796a58', 'message': 'CI: bump up ansible-lint\n\nChange-Id: If320eaddcd9fcc7283c56fb0a40aacb6cc35ebaa\n'}, {'number': 4, 'created': '2024-05-22 05:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba8dc43f2b37377160e0a38bef622c5b0f034676', 'message': 'CI: bump up ansible-lint\n\nChange-Id: If320eaddcd9fcc7283c56fb0a40aacb6cc35ebaa\n'}, {'number': 5, 'created': '2024-05-22 05:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7f0d298483be3078e88eff063a438b6004b21bb', 'message': 'CI: bump up ansible-lint\n\nChange-Id: If320eaddcd9fcc7283c56fb0a40aacb6cc35ebaa\n'}, {'number': 6, 'created': '2024-05-22 07:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d19232297ed35fa809aab983cf53371e30b41c9', 'message': 'CI: bump up ansible-lint\n\nChange-Id: If320eaddcd9fcc7283c56fb0a40aacb6cc35ebaa\n'}, {'number': 7, 'created': '2024-05-22 08:01:17.000000000', 'files': ['lint-requirements.txt', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30b53ce2a29edae9fcfc038e70d87518e742bff3', 'message': 'CI: bump up ansible-lint\n\nChange-Id: If320eaddcd9fcc7283c56fb0a40aacb6cc35ebaa\n'}]",0,894295,30b53ce2a29edae9fcfc038e70d87518e742bff3,12,2,7,22629,,,0,"CI: bump up ansible-lint

Change-Id: If320eaddcd9fcc7283c56fb0a40aacb6cc35ebaa
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/894295/1 && git format-patch -1 --stdout FETCH_HEAD,"['lint-requirements.txt', '.ansible-lint']",2,32578f8da40d97d2ef6ad15e88cee0ccf64d6d16,,profile: safety skip_list: - name[missing] - name[play],"use_default_rules: true skip_list: # [E301] Commands should not change things if nothing needs doing # TODO(mnasiadka): Fix tasks that fail this check in a later iteration - no-changed-when # [E503] Tasks that run when changed should likely be handlers - no-handler # [unnamed-task] All tasks should be named # FIXME(mgoddard): Add names to all tasks - unnamed-task # disable experimental rules - experimental # Package installs should not use latest - package-latest # Most files should not contain tabs - no-tabs # NOTE(frickler): Agreed at Zed PTG not to use FQCN for builtin actions for now, due to # conflicts with open patches and backports. - fqcn-builtins # Allow Jinja templating inside task and play names - name[template] # FQCNs again, now for module actions - fqcn[action] # role name check matching ^*$ - role-name",4,25
openstack%2Fkayobe~919514,openstack/kayobe,stable/2023.1,Ic14e2b75c785b4db03b5e659e5a2be2ee83eace3,Fix Dell OS6 and Dell OS9 switch configuration,MERGED,2024-05-13 14:05:11.000000000,2024-05-22 08:26:38.000000000,2024-05-22 08:25:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-05-13 14:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/651beb16dc878c72f631e6d3bf06c3a8807b3cda', 'message': ""Fix Dell OS6 and Dell OS9 switch configuration\n\nPreviously the dellos6_config and dellos9_config modules accepted the\nname of a template file as their 'src' parameter, or a string containing\nthe actual config. Now they only accept the config string. Kayobe passes\nthe name of a template file, resulting in a strange error from the\nswitch about an invalid command dellos6-config.j2 or dellos9-config.j2.\n\nThis change fixes the issue in the same way it was fixed for Dell OS10\nswitches, by using the template lookup plugin to evaluate the config\nfile template.\n\nChange-Id: Ic14e2b75c785b4db03b5e659e5a2be2ee83eace3\nCloses-Bug: #2061102\n(cherry picked from commit 67f09241e07b3119bb17ed59df2b40aa3c9dced9)\n""}, {'number': 2, 'created': '2024-05-13 14:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/38c5f627e3f24a2a15be34effaf4b52b06bec663', 'message': ""Fix Dell OS6 and Dell OS9 switch configuration\n\nPreviously the dellos6_config and dellos9_config modules accepted the\nname of a template file as their 'src' parameter, or a string containing\nthe actual config. Now they only accept the config string. Kayobe passes\nthe name of a template file, resulting in a strange error from the\nswitch about an invalid command dellos6-config.j2 or dellos9-config.j2.\n\nThis change fixes the issue in the same way it was fixed for Dell OS10\nswitches, by using the template lookup plugin to evaluate the config\nfile template.\n\nChange-Id: Ic14e2b75c785b4db03b5e659e5a2be2ee83eace3\nCloses-Bug: #2061102\n(cherry picked from commit 67f09241e07b3119bb17ed59df2b40aa3c9dced9)\n""}, {'number': 3, 'created': '2024-05-22 04:12:53.000000000', 'files': ['releasenotes/notes/bug-2061102-cbc4c65c14c09d55.yaml', 'ansible/roles/dell-switch/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a612a672e76bf1b332b3510698caaa7af3ada6b0', 'message': ""Fix Dell OS6 and Dell OS9 switch configuration\n\nPreviously the dellos6_config and dellos9_config modules accepted the\nname of a template file as their 'src' parameter, or a string containing\nthe actual config. Now they only accept the config string. Kayobe passes\nthe name of a template file, resulting in a strange error from the\nswitch about an invalid command dellos6-config.j2 or dellos9-config.j2.\n\nThis change fixes the issue in the same way it was fixed for Dell OS10\nswitches, by using the template lookup plugin to evaluate the config\nfile template.\n\nChange-Id: Ic14e2b75c785b4db03b5e659e5a2be2ee83eace3\nCloses-Bug: #2061102\n(cherry picked from commit 67f09241e07b3119bb17ed59df2b40aa3c9dced9)\n""}]",1,919514,a612a672e76bf1b332b3510698caaa7af3ada6b0,15,3,3,14826,,,0,"Fix Dell OS6 and Dell OS9 switch configuration

Previously the dellos6_config and dellos9_config modules accepted the
name of a template file as their 'src' parameter, or a string containing
the actual config. Now they only accept the config string. Kayobe passes
the name of a template file, resulting in a strange error from the
switch about an invalid command dellos6-config.j2 or dellos9-config.j2.

This change fixes the issue in the same way it was fixed for Dell OS10
switches, by using the template lookup plugin to evaluate the config
file template.

Change-Id: Ic14e2b75c785b4db03b5e659e5a2be2ee83eace3
Closes-Bug: #2061102
(cherry picked from commit 67f09241e07b3119bb17ed59df2b40aa3c9dced9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/14/919514/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2061102-cbc4c65c14c09d55.yaml', 'ansible/roles/dell-switch/tasks/main.yml']",2,651beb16dc878c72f631e6d3bf06c3a8807b3cda,,"<<<<<<< HEAD (cbda30 Merge ""Fix Bifrost database backup instructions"" into stable)======= src: ""{{ lookup('template', 'dellos6-config.j2') }}"" save: ""{{ dell_switch_save | bool }}"" >>>>>>> CHANGE (67f092 Fix Dell OS6 and Dell OS9 switch configuration)<<<<<<< HEAD (cbda30 Merge ""Fix Bifrost database backup instructions"" into stable)======= src: ""{{ lookup('template', 'dellos9-config.j2') }}"" save: ""{{ dell_switch_save | bool }}"" >>>>>>> CHANGE (67f092 Fix Dell OS6 and Dell OS9 switch configuration)",,16,0
openstack%2Fbarbican-tempest-plugin~876191,openstack/barbican-tempest-plugin,master,I33d3c54919e0122885ed22cbd6cd80457fb60564,Introduce a new test for secondary encrypted volume,NEW,2023-03-02 15:55:47.000000000,2024-05-22 08:22:45.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 30674}, {'_account_id': 36216}]","[{'number': 1, 'created': '2023-03-02 15:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/ed559936b25e48d461f3c013258e8e8d3620d7f9', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 2, 'created': '2023-03-02 16:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/4e3a0afbce634a5ee048d669a6e90e2ed621556e', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 3, 'created': '2023-03-13 13:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/efae9ba0f9278caa942919ef276caa17ad4f16c0', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 4, 'created': '2023-03-14 10:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/ef51a467af552905fb51bfb02f6a323470a962d9', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 5, 'created': '2023-03-14 12:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/a276ca38d3b31f7ea4f0cbad3b57dc4a795db768', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 6, 'created': '2024-04-04 14:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/25d595bafa3bbb4e4f4c7e475aa0654a775291e8', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 7, 'created': '2024-04-11 13:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/7038724a71958b71a31bd6f64fcd286a57845dff', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 8, 'created': '2024-04-23 22:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/cc0fca8e34b0f86123d86971560aa1a57f2bb01a', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 9, 'created': '2024-04-24 11:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/a7f6223de4036bc6a27e3bc365b4abfbd915595b', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 10, 'created': '2024-04-25 22:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/c5eab321b48001e0eeaff1a26b0a68d7b39ddc8d', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 11, 'created': '2024-05-03 07:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/7d400b5df8cf89ee3dc9a59a1d49a6c8ea54ebbe', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 12, 'created': '2024-05-03 09:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/a91a74c95eef34c38e94c93ce5e361341741b38e', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}, {'number': 13, 'created': '2024-05-14 09:22:52.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/barbican_manager.py', 'barbican_tempest_plugin/tests/scenario/test_volume_encryption.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/9d2693745d33adfa17d877db32ccf97c298057c3', 'message': ""Introduce a new test for secondary encrypted volume\n\nIntroduce a new test that test instance's encrypted volume\ncan be changed when original creator was deleted\n\nDepends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb\nChange-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564\n""}]",45,876191,9d2693745d33adfa17d877db32ccf97c298057c3,42,5,13,34637,,,0,"Introduce a new test for secondary encrypted volume

Introduce a new test that test instance's encrypted volume
can be changed when original creator was deleted

Depends-On: I122a08aaf273a1f786e13737f31f2a0ab9c7bfdb
Change-Id: I33d3c54919e0122885ed22cbd6cd80457fb60564
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/91/876191/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/scenario/barbican_manager.py', 'barbican_tempest_plugin/tests/scenario/test_volume_encryption.py']",2,ed559936b25e48d461f3c013258e8e8d3620d7f9,bz2026029,"from tempest.common import waiters class VolumeEncryptionTest(barbican_manager.BarbicanScenarioTest): """"""Tests of volume microversion greater than 3.42"""""" volume_min_microversion = '3.42' volume_max_microversion = 'latest' def create_encrypted_volume(self, encryption_provider, volume_type, clients=None): if clients: volume_types_client_latest = clients.volume_types_client_latest encryption_types_client_latest = clients.encryption_types_client_latest volumes_client_latest = clients.volumes_client_latest else: volume_types_client_latest = None encryption_types_client_latest = None volumes_client_latest = None volume_type = self.create_volume_type(name=volume_type, client=volume_types_client_latest) control_location='front-end', client=encryption_types_client_latest ) return self.create_volume(volume_type=volume_type['name'], client=volumes_client_latest) def attach_detach_volume(self, server, volume, keypair, clients=None): if clients: floating_ips_client = clients.floating_ips_client else: floating_ips_client = None self.nova_volume_attach (server, volume, clients) server_ip = self.get_server_ip(server, client=floating_ips_client) # ? @decorators.idempotent_id('f33a9131-35db-4164-86c7-636f63686b0d') @utils.services('compute', 'volume', 'image') def test_encrypted_cinder_volumes_luks_admin_deleted_and_other_admin_resize_secondery_volume(self): new_admin = self._get_admin_client() img_uuid = self.sign_and_upload_image() LOG.info(""Creating keypair and security group"") keypair = self.create_keypair(client=new_admin.keypairs_client) security_group = self.create_security_group( security_group_rules_client=new_admin.security_group_rules_client, security_groups_client=new_admin.security_groups_client) server = self.create_server( name='signed_img_server', image_id=img_uuid, key_name=keypair['name'], security_groups=[{'name': security_group['name']}], wait_until='ACTIVE', clients = new_admin ) # check that instance is accessible before messing with its disks self.check_tenant_network_connectivity( server, CONF.validation.image_ssh_user, keypair['private_key']) volume = self.create_encrypted_volume('luks', volume_type='luks', clients=new_admin) self.attach_detach_volume(server, volume, keypair, new_admin) self.os_admin.users_v3_client.delete_user(new_admin.credentials.user_id) # primary admin extends volume new_size = 2 self.os_admin.volumes_client_latest.extend_volume(volume['id'], new_size=new_size) waiters.wait_for_volume_resource_status(self.os_admin.volumes_client_latest, volume['id'], 'in-use') # Assert that the volume size has changed in the volume API. volume = self.os_admin.volumes_client_latest.show_volume(volume['id'])['volume'] self.assertEqual(new_size, volume['size'])"," class VolumeEncryptionTest(barbican_manager.BarbicanScenarioTest): def create_encrypted_volume(self, encryption_provider, volume_type): volume_type = self.create_volume_type(name=volume_type) control_location='front-end') return self.create_volume(volume_type=volume_type['name']) def attach_detach_volume(self, server, volume, keypair): self.nova_volume_attach(server, volume) # Write a timestamp to volume server_ip = self.get_server_ip(server)",109,11
openstack%2Fopenstack-ansible~918043,openstack/openstack-ansible,unmaintained/victoria,I11f5326724ac1af00166f2d6d86cd3427470fea0,Backport openstack_testing from Yoga,MERGED,2024-05-03 12:09:30.000000000,2024-05-22 07:31:07.000000000,2024-05-22 07:29:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-03 12:09:30.000000000', 'files': ['playbooks/os-tempest-install.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/174f4a86dd42d130cd697a8b454a3ce62d8a9931', 'message': ""Backport openstack_testing from Yoga\n\nAt the moment we're facing issues with tempest failing to install\nall required plugins due to not matching constraints with requirements\n\nIn order to prevent that we used to fix plugin versions directly in the\ntempest role in an ad-hoc manner. However, it's better to use\ncorrect and working versions of plugins for the branch, so SHAs were\nbackported from Y which should work correctly.\n\nChange-Id: I11f5326724ac1af00166f2d6d86cd3427470fea0\n""}]",1,918043,174f4a86dd42d130cd697a8b454a3ce62d8a9931,8,3,1,25023,,,0,"Backport openstack_testing from Yoga

At the moment we're facing issues with tempest failing to install
all required plugins due to not matching constraints with requirements

In order to prevent that we used to fix plugin versions directly in the
tempest role in an ad-hoc manner. However, it's better to use
correct and working versions of plugins for the branch, so SHAs were
backported from Y which should work correctly.

Change-Id: I11f5326724ac1af00166f2d6d86cd3427470fea0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/43/918043/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/os-tempest-install.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",2,174f4a86dd42d130cd697a8b454a3ce62d8a9931,,"--- # Copyright 2018, Jean-Philippe Evrard <jean-philippe@evrard.me> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ### HEAD as of 26.01.2023 ### tempest_git_repo: https://opendev.org/openstack/tempest tempest_git_install_branch: 263825a17a8393ade1ff0d99a1ad035ca47eee8b tempest_git_track_branch: None tempest_plugin_barbican_git_repo: https://opendev.org/openstack/barbican-tempest-plugin tempest_plugin_barbican_git_install_branch: 9fe096e1422c7c884b94166763b4857b5abcea30 tempest_plugin_barbican_git_track_branch: None tempest_plugin_cinder_git_repo: https://opendev.org/openstack/cinder-tempest-plugin tempest_plugin_cinder_git_install_branch: 9d89d4ee1f1fa43dc85f5969d2c6ce393e8089ae tempest_plugin_cinder_git_track_branch: None tempest_plugin_cloudkitty_git_repo: https://opendev.org/openstack/cloudkitty-tempest-plugin tempest_plugin_cloudkitty_git_install_branch: fe8ed3b94d0e01e1f2dc855edc1862cf64880040 tempest_plugin_cloudkitty_git_track_branch: None tempest_plugin_designate_git_repo: https://opendev.org/openstack/designate-tempest-plugin tempest_plugin_designate_git_install_branch: abf66d1a09a89b6a189fa7e8eb68c68bf20e6521 tempest_plugin_designate_git_track_branch: None tempest_plugin_glance_git_repo: https://opendev.org/openstack/glance-tempest-plugin tempest_plugin_glance_git_install_branch: 4a614cade2061dedd1c0704428f3b04c05d87ca3 tempest_plugin_glance_git_track_branch: None tempest_plugin_heat_git_repo: https://opendev.org/openstack/heat-tempest-plugin tempest_plugin_heat_git_install_branch: ba43685c131d6387779ed35f5bf61fc86667a728 tempest_plugin_heat_git_track_branch: None tempest_plugin_ironic_git_repo: https://opendev.org/openstack/ironic-tempest-plugin tempest_plugin_ironic_git_install_branch: 023c01e7e1214153229da14e2a22d6caadc8dab6 tempest_plugin_ironic_git_track_branch: None tempest_plugin_keystone_git_repo: https://opendev.org/openstack/keystone-tempest-plugin tempest_plugin_keystone_git_install_branch: 4eff632695fe79a5d78f400dca3ceab663c83788 tempest_plugin_keystone_git_track_branch: None tempest_plugin_magnum_git_repo: https://opendev.org/openstack/magnum-tempest-plugin tempest_plugin_magnum_git_install_branch: 70d8e4551409c712f4a1e523566951da72e1871c tempest_plugin_magnum_git_track_branch: None tempest_plugin_manila_git_repo: https://opendev.org/openstack/manila-tempest-plugin tempest_plugin_manila_git_install_branch: a6d89a15aa49df0a10966408ddbe2c9f9e5ec0ab tempest_plugin_manila_git_track_branch: None tempest_plugin_murano_git_repo: https://opendev.org/openstack/murano-tempest-plugin tempest_plugin_murano_git_install_branch: 1ca439adb0c11ceff702bff409b6e00ffffb0ed9 tempest_plugin_murano_git_track_branch: None tempest_plugin_neutron_git_repo: https://opendev.org/openstack/neutron-tempest-plugin tempest_plugin_neutron_git_install_branch: 1.8.0 tempest_plugin_neutron_git_track_branch: None tempest_plugin_novajoin_git_repo: https://opendev.org/x/novajoin-tempest-plugin tempest_plugin_novajoin_git_install_branch: b2e548518a8893562ed111fe66f5937603f5ec5d tempest_plugin_novajoin_git_track_branch: None tempest_plugin_octavia_git_repo: https://opendev.org/openstack/octavia-tempest-plugin tempest_plugin_octavia_git_install_branch: 1aeccba999a15e2e71feb520c233dd19299e6905 tempest_plugin_octavia_git_track_branch: None tempest_plugin_senlin_git_repo: https://opendev.org/openstack/senlin-tempest-plugin tempest_plugin_senlin_git_install_branch: 7a8121fc5f51f17f9f56a7d73739ed4378ba264f tempest_plugin_senlin_git_track_branch: None tempest_plugin_sahara_git_repo: https://opendev.org/openstack/sahara-tests tempest_plugin_sahara_git_install_branch: 98063d3fd93ce77cb3ecbbd33868bbe5dd3a6865 tempest_plugin_sahara_git_track_branch: None tempest_plugin_telemetry_git_repo: https://opendev.org/openstack/telemetry-tempest-plugin tempest_plugin_telemetry_git_install_branch: e5ef4e7c6eeeada174452da9be5f56fa1dcc22a9 tempest_plugin_telemetry_git_track_branch: None tempest_plugin_trove_git_repo: https://opendev.org/openstack/trove-tempest-plugin tempest_plugin_trove_git_install_branch: 5de39645ed4c5f12526863d1546769dce74fcb08 tempest_plugin_trove_git_track_branch: None tempest_plugin_zaqar_git_repo: https://opendev.org/openstack/zaqar-tempest-plugin tempest_plugin_zaqar_git_install_branch: 3813c99e501a1f67a9cbde751cf71747a61f6786 tempest_plugin_zaqar_git_track_branch: None tempest_plugin_zun_git_repo: https://opendev.org/openstack/zun-tempest-plugin tempest_plugin_zun_git_install_branch: c6b830885c15ed40e9e5436c88c72d32e754beae tempest_plugin_zun_git_track_branch: None ",,101,0
openstack%2Fcinder~911650,openstack/cinder,master,Ida930463228bb60f71bb4b80d3f193dde8398a70,Ensure backup availability zone is populated if empty,NEW,2024-03-07 08:36:14.000000000,2024-05-22 07:09:39.000000000,,"[{'_account_id': 597}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}, {'_account_id': 36345}]","[{'number': 1, 'created': '2024-03-07 08:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/939f93fda2c539b8fb86c05b6a9a569507f17cf8', 'message': 'Ensure backup availability zone is populated if empty\n\nIf the availability zone is not provided when creating the backup,\nthe availability zone is still None after scheduling.\n\nSo just before starting the backup, we can fill the availability_zone\nproperty with the actual az of the backup service doing the backup.\n\nThis will also fix selecting the proper host when restoring a backup.\nIf the az field is empty, it would randomly pick a cinder-backup service,\nwhile it would make sense that only the services in the zone of the backup\nwould have access to the backup resource.\n\nCloses-Bug: #1942154\nChange-Id: Ida930463228bb60f71bb4b80d3f193dde8398a70\n'}, {'number': 2, 'created': '2024-03-19 11:53:17.000000000', 'files': ['cinder/backup/manager.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/bug-1942154-backup-availability-zone-object-fix-939f93fda2c539b8.yml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b7eaf2e328400b2ad00a93d8cd602ebcce63731', 'message': 'Ensure backup availability zone is populated if empty\n\nIf the availability zone is not provided when creating the backup,\nthe availability zone is still None after scheduling.\n\nSo just before starting the backup, we can fill the availability_zone\nproperty with the actual az of the backup service doing the backup.\n\nThis will also fix selecting the proper host when restoring a backup.\nIf the az field is empty, it would randomly pick a cinder-backup service,\nwhile it would make sense that only the services in the zone of the backup\nwould have access to the backup resource.\n\nCloses-Bug: #1942154\nChange-Id: Ida930463228bb60f71bb4b80d3f193dde8398a70\n'}]",15,911650,9b7eaf2e328400b2ad00a93d8cd602ebcce63731,71,6,2,25468,,,0,"Ensure backup availability zone is populated if empty

If the availability zone is not provided when creating the backup,
the availability zone is still None after scheduling.

So just before starting the backup, we can fill the availability_zone
property with the actual az of the backup service doing the backup.

This will also fix selecting the proper host when restoring a backup.
If the az field is empty, it would randomly pick a cinder-backup service,
while it would make sense that only the services in the zone of the backup
would have access to the backup resource.

Closes-Bug: #1942154
Change-Id: Ida930463228bb60f71bb4b80d3f193dde8398a70
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/911650/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/manager.py'],1,939f93fda2c539b8fb86c05b6a9a569507f17cf8,bug-1942154, if not backup.availability_zone: backup.availability_zone = self.az ,,3,0
openstack%2Fovn-bgp-agent~906505,openstack/ovn-bgp-agent,master,I097c4629922d787827aba7761164f4004ed1305a,Add support for l3vpn with NB driver,MERGED,2024-01-24 10:57:55.000000000,2024-05-22 06:44:10.000000000,2024-05-22 06:43:09.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 25468}]","[{'number': 1, 'created': '2024-01-24 10:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ac514a55a11f4bd6bc1dc224bd5878501e0efc6e', 'message': ""Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed by FRR.\nVlan interfaces are then added to the appropriate VNI\n\nCurrently working:\n- Exposing LSP on provider network\n- Exposing FIP\n- Exposing Subnet cidr's\n\nNot tested yet:\n- LB\n- Port forwarding\n\n\nVery WIP.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n""}, {'number': 2, 'created': '2024-01-25 16:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/09eaeebdf06b265efaa9890f46d80607af91ad7b', 'message': ""Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nCurrently working:\n- Exposing LSP on provider network\n- Exposing FIP\n- Exposing Subnet cidr's\n\n- Exposing FIP with PF (once change #905504 is merged)\n\nNot tested yet:\n- Exposing LB's (though expected to work)\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n""}, {'number': 3, 'created': '2024-02-27 10:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/c4acd9ab82e73d2b6b748a1625daf9b5d1d6375f', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nThe bgp-nic is not used with this feature and it relies on kernel routing\nand kernel routing tables.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 4, 'created': '2024-02-29 11:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/8c1fa6f84abcb9ec2ca3bb5b7f0cd0d930d5479b', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 5, 'created': '2024-02-29 13:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/f56504da9f8e1b5c6788568d7f3b237115a9d5a4', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 6, 'created': '2024-03-01 10:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/78c7df8dcbb43aaa13c505cf32011e6224f9a9d7', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 7, 'created': '2024-03-01 11:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/994a570ed4ec01647b7e210ba5d93a7b4c38d78c', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 8, 'created': '2024-03-01 11:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/4b8772e37bbd10241f2ff02a36222426a64589fb', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 9, 'created': '2024-03-01 19:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/8da21d72e4ea70ebfece01013427276fa9133543', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 10, 'created': '2024-03-01 19:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a12052a578c85e893843ee7fff032fdf66f4cb7d', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 11, 'created': '2024-03-01 20:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/57d39d2a4fb4c79b3fb15c9a48ec5aa15155d29a', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 12, 'created': '2024-03-08 14:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/12d101688a7a0ca66811e90ba5f3c1c9b3993490', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 13, 'created': '2024-03-08 14:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/84ddb5cc77b9e1c0e86ce4a702d6ad7eee9eee8e', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 14, 'created': '2024-03-19 15:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/7c9f2ee1836742b32cfeb7731294bbd3e12a61bf', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 15, 'created': '2024-03-21 11:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/7c0484c0a263b633319ccf3907bbbbe3233d868f', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 16, 'created': '2024-03-21 12:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/9fba5bf60e50479e985c0e92db614ae2bb8ddc1a', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 17, 'created': '2024-03-21 12:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e5f9fb39fe87345edf683956ba2549eb3c8ec9c6', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 18, 'created': '2024-03-21 14:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ee9d357b4e8e6a23ba1359c6a2bcc407f9afea41', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 19, 'created': '2024-05-02 13:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/2518acb21b3918dc02d0694b357fbad66993fe64', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 20, 'created': '2024-05-02 15:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/95cd013fe372f1efaf282e7ffff53d745330e374', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}, {'number': 21, 'created': '2024-05-14 12:23:26.000000000', 'files': ['ovn_bgp_agent/tests/utils.py', 'ovn_bgp_agent/drivers/openstack/watchers/base_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_evpn.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/drivers/openstack/utils/ovs.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_driver_utils.py', 'ovn_bgp_agent/drivers/openstack/utils/bgp.py', 'ovn_bgp_agent/drivers/openstack/utils/evpn.py', 'doc/source/examples/index.rst', 'ovn_bgp_agent/constants.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py', 'doc/images/src/evpn-flow-l3vpn.drawio', 'ovn_bgp_agent/drivers/openstack/utils/frr.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_wire.py', 'ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'doc/images/evpn-flow-l3vpn.svg', 'ovn_bgp_agent/exceptions.py', 'doc/source/contributor/drivers/nb_bgp_mode_design.rst', 'ovn_bgp_agent/privileged/linux_net.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_base_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_nb_bgp_watcher.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py', 'ovn_bgp_agent/drivers/openstack/utils/driver_utils.py', 'doc/source/index.rst', 'ovn_bgp_agent/drivers/openstack/nb_ovn_bgp_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_bgp.py', 'doc/source/bgp_supportability_matrix.rst', 'doc/source/examples/nb_evpn_vrf.rst', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_nb_ovn_bgp_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_frr.py', 'doc/source/contributor/evpn_advertising.rst'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b3ca890f471fc2694342edc1f22670913cece934', 'message': 'Add support for l3vpn with NB driver\n\nCreates VRF/VXLAN per VNI, exposed through FRR with kernel routes\nVlan interfaces are added to the appropriate VNI, configured per bgpvpn\nconfig options on the logical switch.\n\nRelated-bug: #2051105\nChange-Id: I097c4629922d787827aba7761164f4004ed1305a\n'}]",224,906505,b3ca890f471fc2694342edc1f22670913cece934,81,5,21,25468,,,0,"Add support for l3vpn with NB driver

Creates VRF/VXLAN per VNI, exposed through FRR with kernel routes
Vlan interfaces are added to the appropriate VNI, configured per bgpvpn
config options on the logical switch.

Related-bug: #2051105
Change-Id: I097c4629922d787827aba7761164f4004ed1305a
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/05/906505/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/exceptions.py', 'ovn_bgp_agent/config.py', 'ovn_bgp_agent/drivers/openstack/watchers/base_watcher.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py', 'ovn_bgp_agent/drivers/openstack/utils/ovs.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_nb_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/utils/bgp.py', 'ovn_bgp_agent/drivers/openstack/utils/evpn.py', 'ovn_bgp_agent/constants.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/nb_ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/frr.py']",15,ac514a55a11f4bd6bc1dc224bd5878501e0efc6e,feature-l3vpn,"from oslo_config import cfgCONF = cfg.CONF CONFIGURE_ND_TEMPLATE = ''' interface {{ intf }} {% if is_dhcpv6 %} ipv6 nd managed-config-flag {% endif %} {% for server in dns_servers %} ipv6 nd rdnss {{ server }} {% endfor %} ipv6 nd prefix {{ prefix }} no ipv6 nd suppress-ra exit ''' redistribute kernel redistribute kernel{% if route_distinguishers|length > 0 %} rd {{ route_distinguishers[0] }} {% else %} rd {{ local_ip }}:{{ vni }} {% endif %} {% for route_target in route_targets %} route-target import {{ route_target }} route-target export {{ route_target }} {% endfor %} {% for route_target in export_targets %} route-target export {{ route_target }} {% endfor %} {% for route_target in import_targets %} route-target import {{ route_target }} {% endfor %}no interface veth-{{ vrf_name }}def nd_reconfigure(interface, prefix, opts): LOG.info('FRR IPv6 ND reconfiguration (intf %s, prefix %s)', interface, prefix) nd_template = Template(CONFIGURE_ND_TEMPLATE) # Need to define what setting is for SLAAC if (not opts.get('dhcpv6_stateless', False) or opts.get('dhcpv6_stateless', '') not in ('true', True)): prefix += ' no-autoconfig' # Parse dns servers from dhcp options. dns_servers = [] if opts.get('dns_server'): dns_servers = opts['dns_server'][1:-1].split(',') is_dhcpv6 = True # Need a better way to define this one. nd_config = nd_template.render( intf=interface, prefix=prefix, dns_servers=dns_servers, is_dhcpv6=is_dhcpv6, ) _run_vtysh_config_with_tempfile(nd_config) # Set default opts, so all params are available for the templates # Then update them with evpn_info opts = dict(route_targets=[], route_distinguishers=[], export_targets=[], import_targets=[], local_ip=CONF.evpn_local_ip, bgp_as=CONF.bgp_AS, vrf_name='', vni=0) opts.update(evpn_info) if not opts['vrf_name']: opts['vrf_name'] = ""{}{}"".format(constants.OVN_EVPN_VRF_PREFIX, evpn_info['vni']) vrf_config = vrf_template.render(**opts) vrf_config = vrf_template.render(**opts)"," vrf_config = vrf_template.render( vrf_name=""{}{}"".format(constants.OVN_EVPN_VRF_PREFIX, evpn_info['vni']), bgp_as=evpn_info['bgp_as'], vni=evpn_info['vni']) vrf_config = vrf_template.render( vrf_name=""{}{}"".format(constants.OVN_EVPN_VRF_PREFIX, evpn_info['vni']), bgp_as=evpn_info['bgp_as'])",934,150
openstack%2Fcinder~907389,openstack/cinder,master,Ib089c5ddf00cac443a3ca8e16a86497e1b1139ba,Remove six from Synology driver,MERGED,2024-02-01 07:27:54.000000000,2024-05-22 05:42:04.000000000,2024-05-20 13:01:59.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-01 07:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a28532cb1b6031eeb94ffdac2a7d5839329ad2c7', 'message': 'Remove six from Synology driver\n\nChange-Id: Ib089c5ddf00cac443a3ca8e16a86497e1b1139ba\n'}, {'number': 2, 'created': '2024-02-02 15:50:16.000000000', 'files': ['cinder/volume/drivers/synology/synology_common.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d5798094ff0c2c12976206c742bb16810ecca6f', 'message': 'Remove six from Synology driver\n\nChange-Id: Ib089c5ddf00cac443a3ca8e16a86497e1b1139ba\n'}]",11,907389,0d5798094ff0c2c12976206c742bb16810ecca6f,97,3,2,9816,,,0,"Remove six from Synology driver

Change-Id: Ib089c5ddf00cac443a3ca8e16a86497e1b1139ba
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/907389/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/synology/synology_common.py'],1,a28532cb1b6031eeb94ffdac2a7d5839329ad2c7,remove-six,"import urllib str)): if not self.check_value_valid(lun_info, ['uuid'], str): if not self.check_value_valid(lun_info, ['status'], str): if not self.check_value_valid(snapshot_info, ['status'], str): str): str):","from six.moves import urllib from six import string_types string_types)): if not self.check_value_valid(lun_info, ['uuid'], string_types): if not self.check_value_valid(lun_info, ['status'], string_types): if not self.check_value_valid(snapshot_info, ['status'], string_types): string_types): string_types):",7,8
openstack%2Fcinder~916435,openstack/cinder,master,I50b04eeb4cc9c30a072734cf2ddd8a9ae6951544,api: Remove v2 limits API controller,NEW,2024-04-19 14:51:42.000000000,2024-05-22 05:06:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-19 14:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38aeb4f924d6caca4fd9344f4f44c68968e1546d', 'message': ""api: Remove v2 limits API controller\n\nThe v3 controller was completely overriding this, so there's no need to\nkeep it around. We delete and (mostly [*]) merge the tests together.\n\n[*] They're not merged completely because it makes this change appear\nfar more complicated than it actually is. We can tackle whatever\nduplication remains later.\n\nChange-Id: I50b04eeb4cc9c30a072734cf2ddd8a9ae6951544\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-04-23 12:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c89c937bc46e104f67991465563539ee9477c801', 'message': ""api: Remove v2 limits API controller\n\nThe v3 controller was completely overriding this, so there's no need to\nkeep it around. We delete and (mostly [*]) merge the tests together.\n\n[*] They're not merged completely because it makes this change appear\nfar more complicated than it actually is. We can tackle whatever\nduplication remains later.\n\nChange-Id: I50b04eeb4cc9c30a072734cf2ddd8a9ae6951544\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2024-05-13 14:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a7c4c4d483a5dae51fa99345e7ea9282a94f34b', 'message': ""api: Remove v2 limits API controller\n\nThe v3 controller was completely overriding this, so there's no need to\nkeep it around. We delete and (mostly [*]) merge the tests together.\n\n[*] They're not merged completely because it makes this change appear\nfar more complicated than it actually is. We can tackle whatever\nduplication remains later.\n\nChange-Id: I50b04eeb4cc9c30a072734cf2ddd8a9ae6951544\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2024-05-20 10:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a5d572c51a1315c5bfe00d206c1dcdf1ab0b803', 'message': ""api: Remove v2 limits API controller\n\nThe v3 controller was completely overriding this, so there's no need to\nkeep it around. We delete and (mostly [*]) merge the tests together.\n\n[*] They're not merged completely because it makes this change appear\nfar more complicated than it actually is. We can tackle whatever\nduplication remains later.\n\nChange-Id: I50b04eeb4cc9c30a072734cf2ddd8a9ae6951544\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2024-05-20 10:07:27.000000000', 'files': ['cinder/tests/unit/api/v2/test_limits.py', 'cinder/tests/unit/api/v3/test_limits.py', 'cinder/api/v2/limits.py', 'cinder/api/v3/limits.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/371bd934a3750f81a10c652b107a363c9d422808', 'message': ""api: Remove v2 limits API controller\n\nThe v3 controller was completely overriding this, so there's no need to\nkeep it around. We delete and (mostly [*]) merge the tests together.\n\n[*] They're not merged completely because it makes this change appear\nfar more complicated than it actually is. We can tackle whatever\nduplication remains later.\n\nChange-Id: I50b04eeb4cc9c30a072734cf2ddd8a9ae6951544\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,916435,371bd934a3750f81a10c652b107a363c9d422808,58,1,5,15334,,,0,"api: Remove v2 limits API controller

The v3 controller was completely overriding this, so there's no need to
keep it around. We delete and (mostly [*]) merge the tests together.

[*] They're not merged completely because it makes this change appear
far more complicated than it actually is. We can tackle whatever
duplication remains later.

Change-Id: I50b04eeb4cc9c30a072734cf2ddd8a9ae6951544
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/916435/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/v2/test_limits.py', 'cinder/tests/unit/api/v3/test_limits.py', 'cinder/api/v2/limits.py', 'cinder/api/v3/limits.py']",4,38aeb4f924d6caca4fd9344f4f44c68968e1546d,openapi,class LimitsController(wsgi.Controller):,from cinder.api.v2 import limits as limits_v2class LimitsController(limits_v2.LimitsController):,251,319
openstack%2Fsunbeam-charms~919927,openstack/sunbeam-charms,main,I63cc4cf7feddf2bfdf199ec51934198d4847940d,Add project usage dashboard,MERGED,2024-05-17 08:49:50.000000000,2024-05-22 03:51:16.000000000,2024-05-22 03:40:14.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 34352}]","[{'number': 1, 'created': '2024-05-17 08:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/edb011c18c95b5d413a0ef6bb1cb33f7ded3e7a9', 'message': 'Add project usage dashboard\n\nhttps: //github.com/canonical/openstack-exporter-operator/issues/65\nChange-Id: I63cc4cf7feddf2bfdf199ec51934198d4847940d\n'}, {'number': 2, 'created': '2024-05-17 08:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/0d1ba1f92d15a82d2e70b4c4cf08646029122ec4', 'message': 'Add project usage dashboard\n\nhttps://github.com/canonical/openstack-exporter-operator/issues/65\nChange-Id: I63cc4cf7feddf2bfdf199ec51934198d4847940d\n'}, {'number': 3, 'created': '2024-05-17 10:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/4c5ca3b5e6f839f19e4a1ec5a7795754ebe3f8b2', 'message': 'Add project usage dashboard\n\nhttps://github.com/canonical/openstack-exporter-operator/issues/65\nChange-Id: I63cc4cf7feddf2bfdf199ec51934198d4847940d\n'}, {'number': 4, 'created': '2024-05-17 10:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/4d4e63a6a9bde8f59d990bf2b70e185e612b688f', 'message': 'Add project usage dashboard\n\nhttps://github.com/canonical/openstack-exporter-operator/issues/65\nChange-Id: I63cc4cf7feddf2bfdf199ec51934198d4847940d\n'}, {'number': 5, 'created': '2024-05-17 12:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/b2ee730c7f90c97cfc87169cd93b02193a8e90f1', 'message': 'Add project usage dashboard\n\nhttps://github.com/canonical/openstack-exporter-operator/issues/65\nChange-Id: I63cc4cf7feddf2bfdf199ec51934198d4847940d\n'}, {'number': 6, 'created': '2024-05-17 12:14:10.000000000', 'files': ['charms/openstack-exporter-k8s/src/grafana_dashboards/project.json'], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/a94382bb964568e8567dc4b2734eb2ce93b7c723', 'message': 'Add project usage dashboard\n\nhttps://github.com/canonical/openstack-exporter-operator/issues/65\nChange-Id: I63cc4cf7feddf2bfdf199ec51934198d4847940d\n'}]",4,919927,a94382bb964568e8567dc4b2734eb2ce93b7c723,16,3,6,32717,,,0,"Add project usage dashboard

https://github.com/canonical/openstack-exporter-operator/issues/65
Change-Id: I63cc4cf7feddf2bfdf199ec51934198d4847940d
",git fetch https://review.opendev.org/openstack/sunbeam-charms refs/changes/27/919927/1 && git format-patch -1 --stdout FETCH_HEAD,['charms/openstack-exporter-k8s/src/grafana_dashboards/project.json'],1,edb011c18c95b5d413a0ef6bb1cb33f7ded3e7a9,openstack-project-dashboard,"{ ""annotations"": { ""list"": [ { ""builtIn"": 1, ""datasource"": ""-- Grafana --"", ""enable"": true, ""hide"": true, ""iconColor"": ""rgba(0, 211, 255, 1)"", ""name"": ""Annotations & Alerts"", ""type"": ""dashboard"" } ] }, ""editable"": true, ""gnetId"": null, ""graphTooltip"": 0, ""id"": 80, ""iteration"": 1715932076102, ""links"": [], ""panels"": [ { ""collapsed"": false, ""datasource"": null, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 0 }, ""id"": 8, ""panels"": [], ""title"": ""Limits"", ""type"": ""row"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] } }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""green"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Used"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""red"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""mappings"", ""value"": [ { ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2, ""value"": """" } ] } ] } ] }, ""gridPos"": { ""h"": 10, ""w"": 6, ""x"": 0, ""y"": 1 }, ""id"": 4, ""options"": { ""displayLabels"": [ ""value"" ], ""legend"": { ""displayMode"": ""table"", ""placement"": ""right"", ""values"": [ ""value"" ] }, ""pieType"": ""pie"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""text"": {} }, ""pluginVersion"": ""7.5.17"", ""targets"": [ { ""exemplar"": false, ""expr"": ""openstack_nova_limits_instances_max{tenant_id=\""$Project_id\""} - openstack_nova_limits_instances_used{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Free"", ""queryType"": ""randomWalk"", ""refId"": ""A"" }, { ""exemplar"": false, ""expr"": ""openstack_nova_limits_instances_used{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Used"", ""refId"": ""B"" } ], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Instances"", ""transformations"": [], ""transparent"": true, ""type"": ""piechart"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] } }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""green"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Used"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""red"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""mappings"", ""value"": [ { ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2 } ] } ] } ] }, ""gridPos"": { ""h"": 10, ""w"": 6, ""x"": 6, ""y"": 1 }, ""id"": 2, ""options"": { ""displayLabels"": [ ""value"" ], ""legend"": { ""displayMode"": ""table"", ""placement"": ""right"", ""values"": [ ""value"" ] }, ""pieType"": ""pie"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""text"": {} }, ""pluginVersion"": ""7.5.17"", ""targets"": [ { ""exemplar"": false, ""expr"": ""openstack_nova_limits_vcpus_max{tenant_id=\""$Project_id\""} - openstack_nova_limits_vcpus_used{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Free"", ""queryType"": ""randomWalk"", ""refId"": ""A"" }, { ""exemplar"": false, ""expr"": ""openstack_nova_limits_vcpus_used{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Used"", ""refId"": ""B"" } ], ""timeFrom"": null, ""timeShift"": null, ""title"": ""VCPUS"", ""transformations"": [], ""transparent"": true, ""type"": ""piechart"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""unit"": ""decmbytes"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""green"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Used"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""red"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""mappings"", ""value"": [ { ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2, ""value"": ""-29"" } ] } ] } ] }, ""gridPos"": { ""h"": 11, ""w"": 6, ""x"": 12, ""y"": 1 }, ""id"": 3, ""options"": { ""displayLabels"": [ ""value"" ], ""legend"": { ""displayMode"": ""table"", ""placement"": ""right"", ""values"": [ ""value"" ] }, ""pieType"": ""pie"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""text"": {} }, ""pluginVersion"": ""7.5.17"", ""targets"": [ { ""exemplar"": false, ""expr"": ""openstack_nova_limits_memory_max{tenant_id=\""$Project_id\""} - openstack_nova_limits_memory_used{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": false, ""interval"": """", ""legendFormat"": ""Free"", ""queryType"": ""randomWalk"", ""refId"": ""A"" }, { ""exemplar"": false, ""expr"": ""openstack_nova_limits_memory_used{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": false, ""interval"": """", ""legendFormat"": ""Used"", ""refId"": ""B"" } ], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Memory"", ""transformations"": [ { ""id"": ""filterByValue"", ""options"": { ""filters"": [], ""match"": ""any"", ""type"": ""exclude"" } } ], ""transparent"": true, ""type"": ""piechart"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""unit"": ""gbytes"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""green"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Used"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""red"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""mappings"", ""value"": [ { ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2 } ] } ] } ] }, ""gridPos"": { ""h"": 11, ""w"": 6, ""x"": 18, ""y"": 1 }, ""id"": 5, ""options"": { ""displayLabels"": [ ""value"" ], ""legend"": { ""displayMode"": ""table"", ""placement"": ""right"", ""values"": [ ""value"" ] }, ""pieType"": ""pie"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""text"": {} }, ""pluginVersion"": ""7.5.17"", ""targets"": [ { ""exemplar"": false, ""expr"": ""openstack_cinder_limits_volume_max_gb{tenant_id=\""$Project_id\""} - openstack_cinder_limits_volume_used_gb{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": false, ""interval"": """", ""legendFormat"": ""Free"", ""queryType"": ""randomWalk"", ""refId"": ""A"" }, { ""exemplar"": false, ""expr"": ""openstack_cinder_limits_volume_used_gb{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": false, ""interval"": """", ""legendFormat"": ""Used"", ""refId"": ""B"" } ], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Volumes"", ""transformations"": [], ""transparent"": true, ""type"": ""piechart"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""unit"": ""gbytes"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""green"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Used"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""red"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""mappings"", ""value"": [ { ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2 } ] } ] } ] }, ""gridPos"": { ""h"": 12, ""w"": 6, ""x"": 0, ""y"": 11 }, ""id"": 6, ""options"": { ""displayLabels"": [ ""value"" ], ""legend"": { ""displayMode"": ""table"", ""placement"": ""right"", ""values"": [ ""value"" ] }, ""pieType"": ""pie"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""text"": {} }, ""pluginVersion"": ""7.5.17"", ""targets"": [ { ""exemplar"": false, ""expr"": ""openstack_cinder_limits_backup_max_gb{tenant_id=\""$Project_id\""} - openstack_cinder_limits_backup_used_gb{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Free"", ""queryType"": ""randomWalk"", ""refId"": ""A"" }, { ""exemplar"": false, ""expr"": ""openstack_cinder_limits_backup_used_gb{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Used"", ""refId"": ""B"" } ], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Backups"", ""transformations"": [], ""transparent"": true, ""type"": ""piechart"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""unit"": ""none"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""green"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Used"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""red"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""mappings"", ""value"": [ { ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2 } ] } ] } ] }, ""gridPos"": { ""h"": 12, ""w"": 6, ""x"": 6, ""y"": 11 }, ""id"": 13, ""options"": { ""displayLabels"": [ ""value"" ], ""legend"": { ""displayMode"": ""table"", ""placement"": ""right"", ""values"": [ ""value"" ] }, ""pieType"": ""pie"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""text"": {} }, ""pluginVersion"": ""7.5.17"", ""targets"": [ { ""exemplar"": false, ""expr"": ""sum by (project_id)(openstack_neutron_network_ip_availabilities_total{project_id=\""$Project_id\""}) - sum by (project_id)(openstack_neutron_network_ip_availabilities_used{project_id=\""$Project_id\""})"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Free"", ""queryType"": ""randomWalk"", ""refId"": ""A"" }, { ""exemplar"": false, ""expr"": ""sum by (project_id)(openstack_neutron_network_ip_availabilities_used{project_id=\""$Project_id\""})"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Used"", ""refId"": ""B"" } ], ""timeFrom"": null, ""timeShift"": null, ""title"": ""IPs"", ""transformations"": [], ""transparent"": true, ""type"": ""piechart"" }, { ""collapsed"": false, ""datasource"": null, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 23 }, ""id"": 12, ""panels"": [], ""title"": ""Virtual Machines Info"", ""type"": ""row"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""custom"": { ""align"": null, ""filterable"": false }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] } }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""__name__"" }, ""properties"": [ { ""id"": ""custom.width"", ""value"": 311 } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""uuid"" }, ""properties"": [ { ""id"": ""custom.width"", ""value"": 319 } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""name"" }, ""properties"": [ { ""id"": ""custom.width"", ""value"": 328 } ] } ] }, ""gridPos"": { ""h"": 26, ""w"": 24, ""x"": 0, ""y"": 24 }, ""id"": 10, ""options"": { ""frameIndex"": 1, ""showHeader"": true, ""sortBy"": [ { ""desc"": false, ""displayName"": ""status"" } ] }, ""pluginVersion"": ""7.5.17"", ""targets"": [ { ""exemplar"": false, ""expr"": ""openstack_nova_server_status{tenant_id=\""$Project_id\""}"", ""format"": ""table"", ""instant"": false, ""interval"": """", ""legendFormat"": ""{{name}}"", ""queryType"": ""randomWalk"", ""refId"": ""A"" }, { ""exemplar"": false, ""expr"": ""openstack_nova_server_local_gb{tenant_id=\""$Project_id\""}"", ""format"": ""table"", ""hide"": false, ""instant"": false, ""interval"": """", ""legendFormat"": ""{{name}}"", ""refId"": ""B"" } ], ""title"": ""Servers list"", ""transformations"": [ { ""id"": ""organize"", ""options"": { ""excludeByName"": { ""Time"": true, ""Value"": true, ""Value #A"": true, ""Value #B"": false, ""__name__"": true, ""flavor_id"": true, ""host_id"": true, ""id"": true, ""instance"": true, ""instance_libvirt"": true, ""job"": true, ""name"": false, ""tenant_id"": true, ""uuid"": false }, ""indexByName"": { ""Time"": 5, ""Value"": 15, ""__name__"": 6, ""availability_zone"": 3, ""flavor_id"": 7, ""host_id"": 8, ""hypervisor_hostname"": 9, ""id"": 1, ""instance"": 10, ""instance_libvirt"": 11, ""job"": 12, ""name"": 2, ""status"": 4, ""tenant_id"": 13, ""user_id"": 14, ""uuid"": 0 }, ""renameByName"": { ""Value #B"": ""Ephemeral Storage(GB)"", ""hypervisor_hostname"": ""host"" } } }, { ""id"": ""merge"", ""options"": {} }, { ""id"": ""organize"", ""options"": { ""excludeByName"": {}, ""indexByName"": {}, ""renameByName"": { ""Value #B"": ""Ephemeral Storage (GB)"" } } } ], ""type"": ""table"" } ], ""refresh"": ""5m"", ""schemaVersion"": 27, ""style"": ""dark"", ""tags"": [], ""templating"": { ""list"": [ { ""allValue"": null, ""current"": { ""selected"": true, ""text"": ""bootstack-monitoring-mesh-project"", ""value"": ""bootstack-monitoring-mesh-project"" }, ""datasource"": ""${prometheusds}"", ""definition"": ""openstack_nova_limits_instances_max"", ""description"": null, ""error"": null, ""hide"": 0, ""includeAll"": false, ""label"": null, ""multi"": false, ""name"": ""Project"", ""options"": [], ""query"": { ""query"": ""openstack_nova_limits_instances_max"", ""refId"": ""StandardVariableQuery"" }, ""refresh"": 1, ""regex"": "".*tenant=\""([^\""]+)\"".*"", ""skipUrlSync"": false, ""sort"": 0, ""tagValuesQuery"": """", ""tags"": [], ""tagsQuery"": """", ""type"": ""query"", ""useTags"": false }, { ""allValue"": null, ""current"": { ""selected"": false, ""text"": ""0d55cf9adf0a47c7af6935c4af640811"", ""value"": ""0d55cf9adf0a47c7af6935c4af640811"" }, ""datasource"": ""${prometheusds}"", ""definition"": ""openstack_nova_limits_memory_max{tenant=\""$Project\""}"", ""description"": null, ""error"": null, ""hide"": 0, ""includeAll"": false, ""label"": null, ""multi"": false, ""name"": ""Project_id"", ""options"": [ { ""selected"": true, ""text"": ""0d55cf9adf0a47c7af6935c4af640811"", ""value"": ""0d55cf9adf0a47c7af6935c4af640811"" } ], ""query"": { ""query"": ""openstack_nova_limits_memory_max{tenant=\""$Project\""}"", ""refId"": ""StandardVariableQuery"" }, ""refresh"": 0, ""regex"": "".*tenant_id=\""([^\""]+)\"".*"", ""skipUrlSync"": false, ""sort"": 0, ""tagValuesQuery"": """", ""tags"": [], ""tagsQuery"": """", ""type"": ""query"", ""useTags"": false } ] }, ""time"": { ""from"": ""now-6h"", ""to"": ""now"" }, ""timepicker"": {}, ""timezone"": """", ""title"": ""OpenStack Project Overview"", ""uid"": ""Lul1WzPIz"", ""version"": 29 } ",,1110,0
openstack%2Fsunbeam-charms~919495,openstack/sunbeam-charms,main,I88e6af9596d21e459baeb69946d1b1c96492cf1a,[ceilometer-k8s] template region,MERGED,2024-05-13 11:18:57.000000000,2024-05-22 03:41:39.000000000,2024-05-22 03:41:39.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-13 11:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/13f10c735fcadf77afb76bd078d7b7d3c18b2448', 'message': '[ceilometer-k8s] template region\n\nTemplate ceilometer region.\n\nChange-Id: I88e6af9596d21e459baeb69946d1b1c96492cf1a\n'}, {'number': 2, 'created': '2024-05-16 08:52:54.000000000', 'files': ['templates/parts/section-service-credentials-from-identity-service'], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/5bf945a9d5bce3c200a7afea2a3d0126c0a2ac04', 'message': '[ceilometer-k8s] template region\n\nTemplate ceilometer region.\n\nChange-Id: I88e6af9596d21e459baeb69946d1b1c96492cf1a\n'}]",1,919495,5bf945a9d5bce3c200a7afea2a3d0126c0a2ac04,8,2,2,35761,,,0,"[ceilometer-k8s] template region

Template ceilometer region.

Change-Id: I88e6af9596d21e459baeb69946d1b1c96492cf1a
",git fetch https://review.opendev.org/openstack/sunbeam-charms refs/changes/95/919495/1 && git format-patch -1 --stdout FETCH_HEAD,['charms/ceilometer-k8s/src/templates/ceilometer.conf'],1,13f10c735fcadf77afb76bd078d7b7d3c18b2448,region-ceil,region = {{ options.region }},,1,0
openstack%2Foslo.log~918426,openstack/oslo.log,master,Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4,Remove the usage of the Eventlet debug feature from oslo.log.,MERGED,2024-05-07 10:04:16.000000000,2024-05-22 03:03:24.000000000,2024-05-22 03:02:14.000000000,"[{'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2024-05-07 10:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/7e1332910fe9315f3acede90023852393a123311', 'message': ""Remove the usage of the debug feature from eventlet.\n\nThe problem with disabling this procedure is that it exposes you to risk. Deactivation applies to the entire stack. If a project uses oslo.log, for example nova, then it exposes all threads to concurrent access on the process file descriptors.\nAs explained in the function's documentation[1], when several greenlets are reading from the same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained in the raise condition added by this commit[2] and we have a reproducer[3] that exposes the problem.\n\nCloses-Bug: #1983863\n\n[1] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[2] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[3] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 2, 'created': '2024-05-07 10:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/52149dfc89fb041646a4376acda8a6629df73bdd', 'message': ""Remove the usage of the debug feature from eventlet.\n\nThe problem with disabling this procedure is that it exposes you to risk. Deactivation applies to the entire stack. If a project uses oslo.log, for example nova, then it exposes all threads to concurrent access on the process file descriptors.\nAs explained in the function's documentation[1], when several greenlets are reading from the same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained in the raise condition added by this commit[2] and we have a reproducer[3] that exposes the problem. According to our tests, removing this line does not change the fix provided. It also seems that cinder no longer uses[4] logging native thread.\n\nCloses-Bug: #1983863\n\n[1] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[2] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[3] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[4] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 3, 'created': '2024-05-07 10:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/741388754a68b8e65ae2ecfc78f46bdda04ee570', 'message': ""Remove the usage of the debug feature from eventlet.\n\nThe problem with disabling this procedure is that it exposes you to risk. Deactivation applies to the entire stack. If a project uses oslo.log, for example nova, then it exposes all threads to concurrent access on the process file descriptors.\nAs explained in the function's documentation[1], when several greenlets are reading from the same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained in the raise condition added by this commit[2] and we have a reproducer[3] that exposes the problem. According to our tests, removing this line does not change the fix provided. It also seems that cinder no longer uses[4] logging native thread.\n\nCloses-Bug: #1983863\n\n[1] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[2] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[3] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[4] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 4, 'created': '2024-05-08 09:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/8099c8f53679215ecee2378ceea1f064a549aa40', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve the problem of using the Eventlet hub_prevent_multiple_readers debug feature. This feature is a debug convenience. This feature is not supported by the new asyncio hub[1] of Eventlet.\nThe problem with disabling this procedure is that it exposes you to risk. Deactivation applies to the entire stack. If a project uses oslo.log, for example nova, then it exposes all threads to concurrent access on the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from the same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained in the raise condition added by this commit[3] and we have a reproducer[4] that exposes the problem. According to our tests, removing this line does not change the fix provided. It also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 5, 'created': '2024-05-08 12:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/326ee3565165324ced0c7f6bc4f7b300835440a3', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve the problem of using the Eventlet hub_prevent_multiple_readers debug feature. This feature is a debug convenience. This feature is not supported by the new asyncio hub[1] of Eventlet.\nThe problem with disabling this procedure is that it exposes you to risk. Deactivation applies to the entire stack. If a project uses oslo.log, for example nova, then it exposes all threads to concurrent access on the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from the same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained in the raise condition added by this commit[3] and we have a reproducer[4] that exposes the problem. According to our tests, removing this line does not change the fix provided. It also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 6, 'created': '2024-05-13 08:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/e559b1e736a4d3501aeece97b4b4791a300eca93', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve the problem of using the Eventlet hub_prevent_multiple_readers debug feature. This feature is a debug convenience. This feature is not supported by the new asyncio hub[1] of Eventlet.\nThe problem with disabling this procedure is that it exposes you to risk. Deactivation applies to the entire stack. If a project uses oslo.log, for example nova, then it exposes all threads to concurrent access on the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from the same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained in the raise condition added by this commit[3] and we have a reproducer[4] that exposes the problem. According to our tests, removing this line does not change the fix provided. It also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 7, 'created': '2024-05-14 09:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/9aab2d844f4a787d9e0c526ec41d536569b51587', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve the problem of using the Eventlet hub_prevent_multiple_readers debug feature. This feature is a debug convenience. This feature is not supported by the new asyncio hub[1] of Eventlet.\nThe problem with disabling this procedure is that it exposes you to risk. Deactivation applies to the entire stack. If a project uses oslo.log, for example nova, then it exposes all threads to concurrent access on the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from the same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained in the raise condition added by this commit[3] and we have a reproducer[4] that exposes the problem. According to our tests, removing this line does not change the fix provided. It also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 8, 'created': '2024-05-14 10:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/39a771d968661981dbbccab3ea17e12b04d77a3b', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve the problem of using the Eventlet hub_prevent_multiple_readers debug feature. This feature is a debug convenience. This feature is not supported by the new asyncio hub[1] of Eventlet.\nThe problem with disabling this procedure is that it exposes you to risk. Deactivation applies to the entire stack. If a project uses oslo.log, for example nova, then it exposes all threads to concurrent access on the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from the same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained in the raise condition added by this commit[3] and we have a reproducer[4] that exposes the problem. According to our tests, removing this line does not change the fix provided. It also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 9, 'created': '2024-05-15 08:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/848bc05e6f2c9fd8453d1a3d4cf4604a50b0ef1a', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve the problem of using the Eventlet hub_prevent_multiple_readers debug feature. This feature is a debug convenience. This feature is not supported by the new asyncio hub[1] of Eventlet.\nThe problem with disabling this procedure is that it exposes you to risk. Deactivation applies to the entire stack. If a project uses oslo.log, for example nova, then it exposes all threads to concurrent access on the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from the same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained in the raise condition added by this commit[3] and we have a reproducer[4] that exposes the problem. According to our tests, removing this line does not change the fix provided. It also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 10, 'created': '2024-05-15 08:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/ff0f3330236afaf18e556f860f08c088604a55be', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve the problem of using the Eventlet hub_prevent_multiple_readers debug feature. This feature is a debug convenience. This feature is not supported by the new asyncio hub[1] of Eventlet.\nThe problem with disabling this procedure is that it exposes you to risk. Deactivation applies to the entire stack. If a project uses oslo.log, for example nova, then it exposes all threads to concurrent access on the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from the same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained in the raise condition added by this commit[3] and we have a reproducer[4] that exposes the problem. According to our tests, removing this line does not change the fix provided. It also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 11, 'created': '2024-05-15 11:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/9f2cf3bd5401eb5a8aebfa89dc5be4b7a323c897', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve\nthe problem of using the Eventlet hub_prevent_multiple_readers debug feature.\nThis feature is a debug convenience. This feature is not supported by the new\nasyncio hub[1] of Eventlet. The problem with disabling this procedure is that\nit exposes you to risk. Deactivation applies to the entire stack. If a project\nuses oslo.log, for example nova, then it exposes all threads to concurrent access\non the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from\nthe same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained\nin the raise condition added by this commit[3] and we have a reproducer[4] that exposes\nthe problem. According to our tests, removing this line does not change the fix provided.\nIt also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 12, 'created': '2024-05-15 11:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/77e39f14cffa3c79fa6096693e84b567c6ee92d7', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve\nthe problem of using the Eventlet hub_prevent_multiple_readers debug feature.\nThis feature is a debug convenience. This feature is not supported by the new\nasyncio hub[1] of Eventlet. The problem with disabling this procedure is that\nit exposes you to risk. Deactivation applies to the entire stack. If a project\nuses oslo.log, for example nova, then it exposes all threads to concurrent access\non the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from\nthe same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained\nin the raise condition added by this commit[3] and we have a reproducer[4] that exposes\nthe problem. According to our tests, removing this line does not change the fix provided.\nIt also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 13, 'created': '2024-05-15 23:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/d195cf5e383b701337e325b27f7c00ba4f67d527', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve\nthe problem of using the Eventlet hub_prevent_multiple_readers debug feature.\nThis feature is a debug convenience. This feature is not supported by the new\nasyncio hub[1] of Eventlet. The problem with disabling this procedure is that\nit exposes you to risk. Deactivation applies to the entire stack. If a project\nuses oslo.log, for example nova, then it exposes all threads to concurrent access\non the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from\nthe same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained\nin the raise condition added by this commit[3] and we have a reproducer[4] that exposes\nthe problem. According to our tests, removing this line does not change the fix provided.\nIt also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 14, 'created': '2024-05-15 23:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/0c57d7c1ddcc9597162dd41dcaea9bee36c1150b', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve\nthe problem of using the Eventlet hub_prevent_multiple_readers debug feature.\nThis feature is a debug convenience. This feature is not supported by the new\nasyncio hub[1] of Eventlet. The problem with disabling this procedure is that\nit exposes you to risk. Deactivation applies to the entire stack. If a project\nuses oslo.log, for example nova, then it exposes all threads to concurrent access\non the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from\nthe same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained\nin the raise condition added by this commit[3] and we have a reproducer[4] that exposes\nthe problem. According to our tests, removing this line does not change the fix provided.\nIt also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 15, 'created': '2024-05-16 06:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/afb718ce1c62c88e476c200d96af7e7b27b03ad7', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve\nthe problem of using the Eventlet hub_prevent_multiple_readers debug feature.\nThis feature is a debug convenience. This feature is not supported by the new\nasyncio hub[1] of Eventlet. The problem with disabling this procedure is that\nit exposes you to risk. Deactivation applies to the entire stack. If a project\nuses oslo.log, for example nova, then it exposes all threads to concurrent access\non the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from\nthe same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained\nin the raise condition added by this commit[3] and we have a reproducer[4] that exposes\nthe problem. According to our tests, removing this line does not change the fix provided.\nIt also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 16, 'created': '2024-05-16 09:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/dd3be32cf51831de2cde8d4f9f8b1001ff26fda2', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve\nthe problem of using the Eventlet hub_prevent_multiple_readers debug feature.\nThis feature is a debug convenience. This feature is not supported by the new\nasyncio hub[1] of Eventlet. The problem with disabling this procedure is that\nit exposes you to risk. Deactivation applies to the entire stack. If a project\nuses oslo.log, for example nova, then it exposes all threads to concurrent access\non the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from\nthe same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained\nin the raise condition added by this commit[3] and we have a reproducer[4] that exposes\nthe problem. According to our tests, removing this line does not change the fix provided.\nIt also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 17, 'created': '2024-05-16 09:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/a325801d1e5c7de3e83a36ff53a0ef097183db27', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve\nthe problem of using the Eventlet hub_prevent_multiple_readers debug feature.\nThis feature is a debug convenience. This feature is not supported by the new\nasyncio hub[1] of Eventlet. The problem with disabling this procedure is that\nit exposes you to risk. Deactivation applies to the entire stack. If a project\nuses oslo.log, for example nova, then it exposes all threads to concurrent access\non the process file descriptors.\nAs explained in the function's documentation[2], when several greenlets are reading from\nthe same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained\nin the raise condition added by this commit[3] and we have a reproducer[4] that exposes\nthe problem. According to our tests, removing this line does not change the fix provided.\nIt also seems that cinder no longer uses[5] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[3] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[4] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[5] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}, {'number': 18, 'created': '2024-05-16 09:55:51.000000000', 'files': ['oslo_log/tests/unit/test_pipe_mutex.py', 'oslo_log/pipe_mutex.py', 'releasenotes/notes/remove-eventlet-hub_prevent_multiple_readers-usage-b23cea69a05cd6d4.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/8705f67bfbd733edf923003c0a5850e7a4a5735b', 'message': ""Remove the usage of the Eventlet debug feature from oslo.log.\n\nWe initially started to work on this topic with the intention to solve\nthe problem of using the Eventlet hub_prevent_multiple_readers debug feature.\nThis feature is a debug convenience. This feature is not supported by the new\nasyncio hub[1] of Eventlet. You can also check the documentation here[2] from eventlet. The problem with disabling this procedure is that\nit exposes you to risk. Deactivation applies to the entire stack. If a project\nuses oslo.log, for example nova, then it exposes all threads to concurrent access\non the process file descriptors.\nAs explained in the function's documentation[3], when several greenlets are reading from\nthe same socket, it's difficult to predict which greenlet will receive which data.\nYou really need to be sure of what you're doing to use this function. Also explained\nin the raise condition added by this commit[4] and we have a reproducer[5] that exposes\nthe problem. According to our tests, removing this line does not change the fix provided.\nIt also seems that cinder no longer uses[6] logging native thread.\n\nRelated-Bug: #1983863\n\n[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18\n[2] https://eventlet.readthedocs.io/en/latest/asyncio/migration.html#known-limitations-and-work-in-progress\n[3] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149\n[4] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2\n[5] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py\n[6] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4\n""}]",53,918426,8705f67bfbd733edf923003c0a5850e7a4a5735b,63,4,18,31245,,,0,"Remove the usage of the Eventlet debug feature from oslo.log.

We initially started to work on this topic with the intention to solve
the problem of using the Eventlet hub_prevent_multiple_readers debug feature.
This feature is a debug convenience. This feature is not supported by the new
asyncio hub[1] of Eventlet. You can also check the documentation here[2] from eventlet. The problem with disabling this procedure is that
it exposes you to risk. Deactivation applies to the entire stack. If a project
uses oslo.log, for example nova, then it exposes all threads to concurrent access
on the process file descriptors.
As explained in the function's documentation[3], when several greenlets are reading from
the same socket, it's difficult to predict which greenlet will receive which data.
You really need to be sure of what you're doing to use this function. Also explained
in the raise condition added by this commit[4] and we have a reproducer[5] that exposes
the problem. According to our tests, removing this line does not change the fix provided.
It also seems that cinder no longer uses[6] logging native thread.

Related-Bug: #1983863

[1] https://review.opendev.org/c/openstack/governance/+/902585/17..18
[2] https://eventlet.readthedocs.io/en/latest/asyncio/migration.html#known-limitations-and-work-in-progress
[3] https://github.com/eventlet/eventlet/blob/master/eventlet/debug.py#L149
[4] https://github.com/eventlet/eventlet/commit/cb7c8c0196ed70665b0382909141ac743d7633a2
[5] https://github.com/4383/oslo.log/blob/reproducer2/reproducer.py
[6] https://bugs.launchpad.net/oslo.log/+bug/1983863/comments/18

Co-authored-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ia4c8e82f957c4ef3c176246fea0bc0adab4f4dc4
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/26/918426/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/pipe_mutex.py'],1,7e1332910fe9315f3acede90023852393a123311,fix_native_thread,," # Usually, it's an error to have multiple greenthreads all waiting # to read the same file descriptor. It's often a sign of inadequate # concurrency control; for example, if you have two greenthreads # trying to use the same memcache connection, they'll end up writing # interleaved garbage to the socket or stealing part of each others' # responses. # # In this case, we have multiple greenthreads waiting on the same # file descriptor by design. This lets greenthreads in real thread A # wait with greenthreads in real thread B for the same mutex. # Therefore, we must turn off eventlet's multiple-reader detection. # # It would be better to turn off multiple-reader detection for only # our calls to trampoline(), but eventlet does not support that. eventlet.debug.hub_prevent_multiple_readers(False)",0,15
openstack%2Fnova~919746,openstack/nova,master,Ib5940e88a52dc8d32303e27237e567c3481fc3dc,[doc] Improve description for nova-manage db purge,MERGED,2024-05-15 15:20:31.000000000,2024-05-22 02:46:48.000000000,2024-05-22 02:44:50.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 15:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d8b027053f3f686018fac328157181466530262', 'message': '[doc] Improve description for nova-manage db purge\n\n--before argument is currently described in ambiguous way: it\nis not actually used to filter entries ARCHIVED before specified\ndate. Instead, it compares provided data with ""deleted_at"" value\nfor most rows and ""updated_at"" or ""created_at"" for remaining ones.\n\nSince we already talk about time of deletion when describing\n--before argument of ""nova-manage db archive_deleted_rows"" rows,\nit make sense to not provide extra details here as well.\n\nChange-Id: Ib5940e88a52dc8d32303e27237e567c3481fc3dc\n'}, {'number': 2, 'created': '2024-05-21 18:19:32.000000000', 'files': ['doc/source/cli/nova-manage.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac8729ac87ced81c959d4aa482e2c3f02661eace', 'message': '[doc] Improve description for nova-manage db purge\n\n--before argument is currently described in ambiguous way: it\nis not actually used to filter entries ARCHIVED before specified\ndate. Instead, it compares provided data with ""deleted_at"" value\nfor most rows and ""updated_at"" or ""created_at"" for remaining ones.\n\nSince we already talk about time of deletion when describing\n--before argument of ""nova-manage db archive_deleted_rows"" rows,\nit make sense to not provide extra details here as well.\n\nChange-Id: Ib5940e88a52dc8d32303e27237e567c3481fc3dc\n'}]",14,919746,ac8729ac87ced81c959d4aa482e2c3f02661eace,20,4,2,19234,,,0,"[doc] Improve description for nova-manage db purge

--before argument is currently described in ambiguous way: it
is not actually used to filter entries ARCHIVED before specified
date. Instead, it compares provided data with ""deleted_at"" value
for most rows and ""updated_at"" or ""created_at"" for remaining ones.

Since we already talk about time of deletion when describing
--before argument of ""nova-manage db archive_deleted_rows"" rows,
it make sense to not provide extra details here as well.

Change-Id: Ib5940e88a52dc8d32303e27237e567c3481fc3dc
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/919746/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova-manage.rst'],1,7d8b027053f3f686018fac328157181466530262,fix_nova-manage_db_purge," Delete data that was deleted from Nova before ``<date>``. Accepts date strings in the default format output by the ``date`` command, as well as # Purge shadow table rows deleted before specified date"," Delete data that was archived before ``<date>``. Accepts date strings in the default format output by the ``date`` command, as well as # Purge shadow table rows older than a specific date",3,3
openstack%2Fpython-manilaclient~919998,openstack/python-manilaclient,master,Ife8e8620e83b03e16af29851ecab950b9e83f650,Remove unused simplejson,NEW,2024-05-19 13:47:58.000000000,2024-05-22 02:16:42.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-19 13:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/54ac000effc12d7886f21cc7280897a817cab887', 'message': ""Remove unused simplejson\n\nThe simplejson library is not used by any logic maintained in this\nrepository. Also remove the node about old pip's behavior because\nthe resolver in recent versions don't require specific orders.\n\nChange-Id: Ife8e8620e83b03e16af29851ecab950b9e83f650\n""}, {'number': 2, 'created': '2024-05-22 01:07:30.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7e848bb974e745cf5d9454fa3493a53d4f7b2271', 'message': ""Remove unused simplejson\n\nThe simplejson library is not used by any logic maintained in this\nrepository. Also remove the node about old pip's behavior because\nthe resolver in recent versions don't require specific orders.\n\nChange-Id: Ife8e8620e83b03e16af29851ecab950b9e83f650\n""}]",2,919998,7e848bb974e745cf5d9454fa3493a53d4f7b2271,6,2,2,9816,,,0,"Remove unused simplejson

The simplejson library is not used by any logic maintained in this
repository. Also remove the node about old pip's behavior because
the resolver in recent versions don't require specific orders.

Change-Id: Ife8e8620e83b03e16af29851ecab950b9e83f650
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/98/919998/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/requirements.txt']",2,54ac000effc12d7886f21cc7280897a817cab887,,,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.",0,9
openstack%2Fpython-manilaclient~919756,openstack/python-manilaclient,master,Id0c7dc63e6dca5d32cf1cf8983588d44601b4338,Don't set availability_zone for 2.32 version of api,MERGED,2024-05-15 16:52:03.000000000,2024-05-22 01:44:25.000000000,2024-05-22 01:43:22.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30407}, {'_account_id': 33728}]","[{'number': 1, 'created': '2024-05-15 16:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0ae25af161f68e0f5b9f4c5332df548fb311f7d9', 'message': ""Don't set availability_zone for 2.32 version of api Closes-Bug: #2065769\n\nChange-Id: Id0c7dc63e6dca5d32cf1cf8983588d44601b4338\n""}, {'number': 2, 'created': '2024-05-15 16:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f874bba474cb0da7188835554e494cdf015b8454', 'message': ""Don't set availability_zone for 2.32 version of api\nCloses-Bug: #2065769\nChange-Id: Id0c7dc63e6dca5d32cf1cf8983588d44601b4338\n""}, {'number': 3, 'created': '2024-05-15 16:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b782cea08f39e746d64798f89d4855d88c54119f', 'message': ""Don't set availability_zone for 2.32 version of api\n\nCloses-Bug: #2065769\nChange-Id: Id0c7dc63e6dca5d32cf1cf8983588d44601b4338\n""}, {'number': 4, 'created': '2024-05-15 16:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/10c9b5ee33f3f164d1e001244abb818000b92a52', 'message': ""Don't set availability_zone for share network, 2.32 version of api\n\nCloses-Bug: #2065769\nChange-Id: Id0c7dc63e6dca5d32cf1cf8983588d44601b4338\n""}, {'number': 5, 'created': '2024-05-15 16:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7fa86a076f5f82b961ad8a2b8fc8ef74d7f4b8f9', 'message': ""Don't set availability_zone for share network in 2.32 version of api\n\nCloses-Bug: #2065769\nChange-Id: Id0c7dc63e6dca5d32cf1cf8983588d44601b4338\n""}, {'number': 6, 'created': '2024-05-15 16:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/805443e105e64d96cc0096fbbdb976a814047304', 'message': ""Don't set availability_zone for share network in 2.32 version\n\nCloses-Bug: #2065769\nChange-Id: Id0c7dc63e6dca5d32cf1cf8983588d44601b4338\n""}, {'number': 7, 'created': '2024-05-16 07:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b8b1cfaf804ff3ca3362dbea205eca1856b30e73', 'message': ""Don't set availability_zone for 2.32 version of api\n\nCloses-Bug: #2065769\nChange-Id: Id0c7dc63e6dca5d32cf1cf8983588d44601b4338\n""}, {'number': 8, 'created': '2024-05-21 10:05:54.000000000', 'files': ['manilaclient/tests/unit/osc/v2/test_share_networks.py', 'manilaclient/osc/v2/share_networks.py', 'releasenotes/notes/bug-2065769-fix-share-network-create-fa76f38f1b640001.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ae363bdf089831685ca963a829514ebfb69c640e', 'message': ""Don't set availability_zone for 2.32 version of api\n\nCloses-Bug: #2065769\nChange-Id: Id0c7dc63e6dca5d32cf1cf8983588d44601b4338\n""}]",10,919756,ae363bdf089831685ca963a829514ebfb69c640e,21,4,8,37033,,,0,"Don't set availability_zone for 2.32 version of api

Closes-Bug: #2065769
Change-Id: Id0c7dc63e6dca5d32cf1cf8983588d44601b4338
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/56/919756/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/osc/v2/share_networks.py'],1,0ae25af161f68e0f5b9f4c5332df548fb311f7d9,bug/2065769," kwargs = { ""name"": parsed_args.name, ""description"": parsed_args.description, ""neutron_net_id"": parsed_args.neutron_net_id, ""neutron_subnet_id"": parsed_args.neutron_subnet_id, } if availability_zone: kwargs['availability_zone'] = availability_zone share_network = share_client.share_networks.create(**kwargs) "," share_network = share_client.share_networks.create( name=parsed_args.name, description=parsed_args.description, neutron_net_id=parsed_args.neutron_net_id, neutron_subnet_id=parsed_args.neutron_subnet_id, availability_zone=availability_zone, )",10,7
openstack%2Fcinder~916434,openstack/cinder,master,Ia3104b702839688852fc535f01b29018bdf3c9a5,api: Move rate limiting middleware to its own module,NEW,2024-04-19 14:51:42.000000000,2024-05-22 01:37:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-19 14:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/609b3a416cd32030fb785d10e71f7e64f148ff5b', 'message': ""api: Move rate limiting middleware to its own module\n\nThis thing could probably do with being deprecated, but until that\nhappens we don't want it living in the old 'cinder.api.v2' package.\n\nThis is pure code motion.\n\nChange-Id: Ia3104b702839688852fc535f01b29018bdf3c9a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-04-23 12:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df3612e4fb7311b6496070b53a25ec81c3f066d1', 'message': ""api: Move rate limiting middleware to its own module\n\nThis thing could probably do with being deprecated, but until that\nhappens we don't want it living in the old 'cinder.api.v2' package.\n\nThis is pure code motion.\n\nChange-Id: Ia3104b702839688852fc535f01b29018bdf3c9a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2024-05-13 14:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68282fa5c26480505c185f71871ada5a770164d3', 'message': ""api: Move rate limiting middleware to its own module\n\nThis thing could probably do with being deprecated, but until that\nhappens we don't want it living in the old 'cinder.api.v2' package.\n\nThis is pure code motion.\n\nChange-Id: Ia3104b702839688852fc535f01b29018bdf3c9a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2024-05-20 10:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a60040c070cb729d763374deb6f6a62e8c0e260', 'message': ""api: Move rate limiting middleware to its own module\n\nThis thing could probably do with being deprecated, but until that\nhappens we don't want it living in the old 'cinder.api.v2' package.\n\nThis is pure code motion.\n\nChange-Id: Ia3104b702839688852fc535f01b29018bdf3c9a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2024-05-20 10:07:27.000000000', 'files': ['cinder/tests/unit/api/middleware/test_rate_limit.py', 'doc/source/admin/api-configuration.rst', 'cinder/tests/unit/api/v2/test_limits.py', 'cinder/api/v2/limits.py', 'cinder/tests/unit/api/fakes.py', 'cinder/api/middleware/rate_limit.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8e875db6048eef6db73576e4303bd4a4f40c324', 'message': ""api: Move rate limiting middleware to its own module\n\nThis thing could probably do with being deprecated, but until that\nhappens we don't want it living in the old 'cinder.api.v2' package.\n\nThis is pure code motion.\n\nChange-Id: Ia3104b702839688852fc535f01b29018bdf3c9a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,916434,f8e875db6048eef6db73576e4303bd4a4f40c324,56,1,5,15334,,,0,"api: Move rate limiting middleware to its own module

This thing could probably do with being deprecated, but until that
happens we don't want it living in the old 'cinder.api.v2' package.

This is pure code motion.

Change-Id: Ia3104b702839688852fc535f01b29018bdf3c9a5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/916434/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/middleware/test_rate_limit.py', 'doc/source/admin/api-configuration.rst', 'cinder/tests/unit/api/v2/test_limits.py', 'cinder/api/v2/limits.py', 'cinder/tests/unit/api/fakes.py', 'cinder/api/middleware/rate_limit.py']",6,609b3a416cd32030fb785d10e71f7e64f148ff5b,openapi,"# Copyright 2011 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import copy from http import client as http_client import math import re import time from oslo_serialization import jsonutils from oslo_utils import importutils import webob.dec import webob.exc from cinder.api.openstack import wsgi from cinder.i18n import _ from cinder.wsgi import common as base_wsgi LIMITS_PREFIX = ""limits."" # Convenience constants for the limits dictionary passed to Limiter(). PER_SECOND = 1 PER_MINUTE = 60 PER_HOUR = 60 * 60 PER_DAY = 60 * 60 * 24 class Limit(object): """"""Stores information about a limit for HTTP requests."""""" UNITS = { 1: ""SECOND"", 60: ""MINUTE"", 60 * 60: ""HOUR"", 60 * 60 * 24: ""DAY"", } UNIT_MAP = {v: k for k, v in UNITS.items()} def __init__(self, verb, uri, regex, value, unit): """"""Initialize a new `Limit`. @param verb: HTTP verb (POST, PUT, etc.) @param uri: Human-readable URI @param regex: Regular expression format for this limit @param value: Integer number of requests which can be made @param unit: Unit of measure for the value parameter """""" self.verb = verb self.uri = uri self.regex = regex self.value = int(value) self.unit = unit self.unit_string = self.display_unit().lower() self.remaining = int(value) if value <= 0: raise ValueError(""Limit value must be > 0"") self.last_request = None self.next_request = None self.water_level = 0 self.capacity = self.unit self.request_value = float(self.capacity) / float(self.value) msg = _( ""Only %(value)s %(verb)s request(s) can be "" ""made to %(uri)s every %(unit_string)s."" ) % { 'value': self.value, 'verb': self.verb, 'uri': self.uri, 'unit_string': self.unit_string, } self.error_message = msg def __call__(self, verb, url): """"""Represent a call to this limit from a relevant request. @param verb: string http verb (POST, GET, etc.) @param url: string URL """""" if self.verb != verb or not re.match(self.regex, url): return now = self._get_time() if self.last_request is None: self.last_request = now leak_value = now - self.last_request self.water_level -= leak_value self.water_level = max(self.water_level, 0) self.water_level += self.request_value difference = self.water_level - self.capacity self.last_request = now if difference > 0: self.water_level -= self.request_value self.next_request = now + difference return difference cap = self.capacity water = self.water_level val = self.value self.remaining = math.floor(((cap - water) / cap) * val) self.next_request = now def _get_time(self): """"""Retrieve the current time. Broken out for testability."""""" return time.time() def display_unit(self): """"""Display the string name of the unit."""""" return self.UNITS.get(self.unit, ""UNKNOWN"") def display(self): """"""Return a useful representation of this class."""""" return { ""verb"": self.verb, ""URI"": self.uri, ""regex"": self.regex, ""value"": self.value, ""remaining"": int(self.remaining), ""unit"": self.display_unit(), ""resetTime"": int(self.next_request or self._get_time()), } # ""Limit"" format is a dictionary with the HTTP verb, human-readable URI, # a regular-expression to match, value and unit of measure (PER_DAY, etc.) DEFAULT_LIMITS = [ Limit(""POST"", ""*"", "".*"", 10, PER_MINUTE), Limit(""POST"", ""*/servers"", ""^/servers"", 50, PER_DAY), Limit(""PUT"", ""*"", "".*"", 10, PER_MINUTE), Limit(""GET"", ""*changes-since*"", "".*changes-since.*"", 3, PER_MINUTE), Limit(""DELETE"", ""*"", "".*"", 100, PER_MINUTE), ] class RateLimitingMiddleware(base_wsgi.Middleware): """"""Rate-limits requests passing through this middleware. All limit information is stored in memory for this implementation. """""" def __init__(self, application, limits=None, limiter=None, **kwargs): """"""Initialize class, wrap WSGI app, and set up given limits. :param application: WSGI application to wrap :param limits: String describing limits :param limiter: String identifying class for representing limits Other parameters are passed to the constructor for the limiter. """""" base_wsgi.Middleware.__init__(self, application) # Select the limiter class if limiter is None: limiter = Limiter else: limiter = importutils.import_class(limiter) # Parse the limits, if any are provided if limits is not None: limits = limiter.parse_limits(limits) self._limiter = limiter(limits or DEFAULT_LIMITS, **kwargs) @webob.dec.wsgify(RequestClass=wsgi.Request) def __call__(self, req): """"""Represents a single call through this middleware. We should record the request if we have a limit relevant to it. If no limit is relevant to the request, ignore it. If the request should be rate limited, return a fault telling the user they are over the limit and need to retry later. """""" verb = req.method url = req.url context = req.environ.get(""cinder.context"") if context: username = context.user_id else: username = None delay, error = self._limiter.check_for_delay(verb, url, username) if delay: msg = _(""This request was rate-limited."") retry = time.time() + delay return wsgi.OverLimitFault(msg, error, retry) req.environ[""cinder.limits""] = self._limiter.get_limits(username) return self.application class Limiter(object): """"""Rate-limit checking class which handles limits in memory."""""" def __init__(self, limits, **kwargs): """"""Initialize the new `Limiter`. @param limits: List of `Limit` objects """""" self.limits = copy.deepcopy(limits) self.levels = collections.defaultdict(lambda: copy.deepcopy(limits)) # Pick up any per-user limit information for key, value in kwargs.items(): if key.startswith(LIMITS_PREFIX): username = key[len(LIMITS_PREFIX):] self.levels[username] = self.parse_limits(value) def get_limits(self, username=None): """"""Return the limits for a given user."""""" return [limit.display() for limit in self.levels[username]] def check_for_delay(self, verb, url, username=None): """"""Check the given verb/user/user triplet for limit. @return: Tuple of delay (in seconds) and error message (or None, None) """""" delays = [] for limit in self.levels[username]: delay = limit(verb, url) if delay: delays.append((delay, limit.error_message)) if delays: delays.sort() return delays[0] return None, None # Note: This method gets called before the class is instantiated, # so this must be either a static method or a class method. It is # used to develop a list of limits to feed to the constructor. We # put this in the class so that subclasses can override the # default limit parsing. @staticmethod def parse_limits(limits): """"""Convert a string into a list of Limit instances. This implementation expects a semicolon-separated sequence of parenthesized groups, where each group contains a comma-separated sequence consisting of HTTP method, user-readable URI, a URI reg-exp, an integer number of requests which can be made, and a unit of measure. Valid values for the latter are ""SECOND"", ""MINUTE"", ""HOUR"", and ""DAY"". @return: List of Limit instances. """""" # Handle empty limit strings limits = limits.strip() if not limits: return [] # Split up the limits by semicolon result = [] for group in limits.split(';'): group = group.strip() if group[:1] != '(' or group[-1:] != ')': raise ValueError( ""Limit rules must be surrounded by "" ""parentheses"" ) group = group[1:-1] # Extract the Limit arguments args = [a.strip() for a in group.split(',')] if len(args) != 5: raise ValueError( ""Limit rules must contain the following "" ""arguments: verb, uri, regex, value, unit"" ) # Pull out the arguments verb, uri, regex, value, unit = args # Upper-case the verb verb = verb.upper() # Convert value--raises ValueError if it's not integer value = int(value) # Convert unit unit = unit.upper() if unit not in Limit.UNIT_MAP: raise ValueError(""Invalid units specified"") unit = Limit.UNIT_MAP[unit] # Build a limit result.append(Limit(verb, uri, regex, value, unit)) return result class WsgiLimiter(object): """"""Rate-limit checking from a WSGI application. Uses an in-memory `Limiter`. To use, POST ``/<username>`` with JSON data such as:: { ""verb"" : GET, ""path"" : ""/servers"" } and receive a 204 No Content, or a 403 Forbidden with an X-Wait-Seconds header containing the number of seconds to wait before the action would succeed. """""" def __init__(self, limits=None): """"""Initialize the new `WsgiLimiter`. @param limits: List of `Limit` objects """""" self._limiter = Limiter(limits or DEFAULT_LIMITS) @webob.dec.wsgify(RequestClass=wsgi.Request) def __call__(self, request): """"""Handles a call to this application. Returns 204 if the request is acceptable to the limiter, else a 403 is returned with a relevant header indicating when the request *will* succeed. """""" if request.method != ""POST"": raise webob.exc.HTTPMethodNotAllowed() try: info = dict(jsonutils.loads(request.body)) except ValueError: raise webob.exc.HTTPBadRequest() username = request.path_info_pop() verb = info.get(""verb"") path = info.get(""path"") delay, error = self._limiter.check_for_delay(verb, path, username) if delay: headers = {""X-Wait-Seconds"": ""%.2f"" % delay} return webob.exc.HTTPForbidden(headers=headers, explanation=error) else: return webob.exc.HTTPNoContent() class WsgiLimiterProxy(object): """"""Rate-limit requests based on answers from a remote source."""""" def __init__(self, limiter_address): """"""Initialize the new `WsgiLimiterProxy`. @param limiter_address: IP/port combination of where to request limit """""" self.limiter_address = limiter_address def check_for_delay(self, verb, path, username=None): body = jsonutils.dump_as_bytes({""verb"": verb, ""path"": path}) headers = {""Content-Type"": ""application/json""} conn = http_client.HTTPConnection(self.limiter_address) if username: conn.request(""POST"", ""/%s"" % (username), body, headers) else: conn.request(""POST"", ""/"", body, headers) resp = conn.getresponse() if (resp.status >= 200) and (resp.status < 300): return None, None return resp.getheader(""X-Wait-Seconds""), resp.read() or None # Note: This method gets called before the class is instantiated, # so this must be either a static method or a class method. It is # used to develop a list of limits to feed to the constructor. # This implementation returns an empty list, since all limit # decisions are made by a remote server. @staticmethod def parse_limits(limits): """"""Ignore a limits string--simply doesn't apply for the limit proxy. @return: Empty list. """""" return [] ",,1009,948
openstack%2Foctavia-lib~917645,openstack/octavia-lib,master,I26f3f0bdddd1e3e9bda37414a10dc5f1f7c0460e,reno: Update master for unmaintained/zed,MERGED,2024-04-30 10:58:44.000000000,2024-05-22 00:32:01.000000000,2024-05-22 00:31:06.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-04-30 10:58:44.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/5a9192dde9911dfb9e50ecde7a9a20df5b2a7180', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: I26f3f0bdddd1e3e9bda37414a10dc5f1f7c0460e\n'}]",1,917645,5a9192dde9911dfb9e50ecde7a9a20df5b2a7180,8,3,1,22816,,,0,"reno: Update master for unmaintained/zed

Update the zed release notes configuration to build from
unmaintained/zed.

Change-Id: I26f3f0bdddd1e3e9bda37414a10dc5f1f7c0460e
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/45/917645/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,5a9192dde9911dfb9e50ecde7a9a20df5b2a7180,reno-eom-zed, :branch: unmaintained/zed, :branch: stable/zed,1,1
openstack%2Fkayobe~919807,openstack/kayobe,stable/2023.1,If010e3943ac5c16fb0f326c2d7887d93dec31c3c,CI: Fix upgrade jobs following zed branch renaming,MERGED,2024-05-16 09:50:40.000000000,2024-05-21 23:59:12.000000000,2024-05-21 23:58:10.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 35263}, {'_account_id': 36765}]","[{'number': 1, 'created': '2024-05-16 09:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1fead24b8192dd61a23c1c9c1341434ad37f63ba', 'message': 'CI: support .gitreview of unmaintained branch\n\nThis backport also includes updates of branch references from\nstable/zed to unmaintained/zed to fix upgrade jobs.\n\n(cherry picked from commit bb51db15febc195384a48406cb37571776988ee3)\n\nChange-Id: If010e3943ac5c16fb0f326c2d7887d93dec31c3c\n'}, {'number': 2, 'created': '2024-05-21 10:26:36.000000000', 'files': ['playbooks/kayobe-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f6596910250bffe493a51bdf5c99a52bd7e27b05', 'message': 'CI: Fix upgrade jobs following zed branch renaming\n\nChange-Id: If010e3943ac5c16fb0f326c2d7887d93dec31c3c\n'}]",6,919807,f6596910250bffe493a51bdf5c99a52bd7e27b05,23,7,2,28048,,,0,"CI: Fix upgrade jobs following zed branch renaming

Change-Id: If010e3943ac5c16fb0f326c2d7887d93dec31c3c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/07/919807/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-base/pre.yml', 'dev/functions']",2,1fead24b8192dd61a23c1c9c1341434ad37f63ba,," SERIES=""$(echo ${BRANCH} | sed -E 's,(stable|unmaintained)/,,')"""," SERIES=""$(echo ${BRANCH} | sed 's|stable/||')""",6,6
openstack%2Fnetworking-bgpvpn~906927,openstack/networking-bgpvpn,master,If238971837e7732068bb935c16b2a9a160d9a9a1,Replace CRLF by LF,MERGED,2024-01-27 03:31:20.000000000,2024-05-21 19:57:33.000000000,2024-05-21 19:56:35.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-27 03:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5c9295ab9a543e3e905867ef57db183ddfd92cc0', 'message': 'Replace CRLF by LF\n\n... because LF is commonly used as newline code.\n\nChange-Id: If238971837e7732068bb935c16b2a9a160d9a9a1\n'}, {'number': 2, 'created': '2024-05-18 05:14:50.000000000', 'files': ['bgpvpn_dashboard/dashboards/project/bgpvpn/templates/bgpvpn/_associated_networks.html', 'bgpvpn_dashboard/dashboards/project/bgpvpn/templates/bgpvpn/_modify.html', 'bgpvpn_dashboard/dashboards/project/bgpvpn/templates/bgpvpn/index.html', 'bgpvpn_dashboard/dashboards/project/bgpvpn/templates/bgpvpn/modify.html'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/da4923014db1e39c88f5c4ac9ab6f21b8b0c25af', 'message': 'Replace CRLF by LF\n\n... because LF is commonly used as newline code.\n\nChange-Id: If238971837e7732068bb935c16b2a9a160d9a9a1\n'}]",2,906927,da4923014db1e39c88f5c4ac9ab6f21b8b0c25af,20,3,2,9816,,,0,"Replace CRLF by LF

... because LF is commonly used as newline code.

Change-Id: If238971837e7732068bb935c16b2a9a160d9a9a1
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/27/906927/1 && git format-patch -1 --stdout FETCH_HEAD,"['bgpvpn_dashboard/dashboards/project/bgpvpn/templates/bgpvpn/_associated_networks.html', 'bgpvpn_dashboard/dashboards/project/bgpvpn/templates/bgpvpn/_modify.html', 'bgpvpn_dashboard/dashboards/project/bgpvpn/templates/bgpvpn/index.html', 'bgpvpn_dashboard/dashboards/project/bgpvpn/templates/bgpvpn/modify.html']",4,5c9295ab9a543e3e905867ef57db183ddfd92cc0,crlf,"{% extends 'base.html' %} {% load i18n %} {% block title %}{% trans ""Update BGPVPN"" %}{% endblock %} {% block main %} {% include ""project/bgpvpn/_modify.html"" %} {% endblock %}","{% extends 'base.html' %} {% load i18n %} {% block title %}{% trans ""Update BGPVPN"" %}{% endblock %} {% block main %} {% include ""project/bgpvpn/_modify.html"" %} {% endblock %} ",33,33
openstack%2Fopenstack-manuals~915086,openstack/openstack-manuals,master,Ia84cecfae6985d0bee0063d21cde333b913aefcf,CI: run build jobs on newer distro,MERGED,2024-04-04 17:39:25.000000000,2024-05-21 19:56:52.000000000,2024-05-21 19:26:55.000000000,"[{'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 17:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/59da6ef991113e0f7dfe66084151c876a35beac2', 'message': 'DNM: test running build jobs on newer distro\n\nChange-Id: Ia84cecfae6985d0bee0063d21cde333b913aefcf\n'}, {'number': 2, 'created': '2024-04-05 06:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/62efce29951569d551bda751684578ec6aaf85ef', 'message': 'DNM: test running build jobs on newer distro\n\nChange-Id: Ia84cecfae6985d0bee0063d21cde333b913aefcf\n'}, {'number': 3, 'created': '2024-04-12 08:07:40.000000000', 'files': ['bindep.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/69aebb08004906dca8ffeb6d70d89981cd36ce6c', 'message': 'CI: run build jobs on newer distro\n\nThe ubuntu-bionic nodeset is going to be removed, switch to using the\ncurrent latest Ubuntu LTS release ubuntu-jammy instead.\n\nAmend to bindep file to drop references to even older Ubuntu versions.\n\nChange-Id: Ia84cecfae6985d0bee0063d21cde333b913aefcf\n'}]",0,915086,69aebb08004906dca8ffeb6d70d89981cd36ce6c,12,3,3,13252,,,0,"CI: run build jobs on newer distro

The ubuntu-bionic nodeset is going to be removed, switch to using the
current latest Ubuntu LTS release ubuntu-jammy instead.

Amend to bindep file to drop references to even older Ubuntu versions.

Change-Id: Ia84cecfae6985d0bee0063d21cde333b913aefcf
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/86/915086/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,59da6ef991113e0f7dfe66084151c876a35beac2,drop-bionic, nodeset: ubuntu-jammy, nodeset: ubuntu-bionic,1,1
openstack%2Fneutron~914271,openstack/neutron,master,I502fd3ee76f70ced3579f9d3e40853723fe473f8,Remove the Windows OS libraries,MERGED,2024-03-26 15:58:24.000000000,2024-05-21 19:42:58.000000000,2024-05-21 19:40:11.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 15:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fac1c8fa3475cdd2aab9f7fde7afbe029960706', 'message': 'Remove the Windows OS libraries\n\nWindows OS was deprecated in 2023.2 and removed in this release\n(2024.2), as documented in [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/880980\n\nRelated-Bug: #2015844\nChange-Id: I502fd3ee76f70ced3579f9d3e40853723fe473f8\n'}, {'number': 2, 'created': '2024-03-27 07:20:35.000000000', 'files': ['releasenotes/notes/remove-suppport-for-windows-os-fd662b7111d3d1b0.yaml', 'neutron/tests/unit/agent/windows/test_ip_lib.py', 'zuul.d/tempest-multinode.yaml', 'neutron/tests/unit/agent/windows/__init__.py', 'neutron/tests/functional/agent/windows/test_ip_lib.py', 'neutron/tests/functional/agent/windows/__init__.py', 'zuul.d/base.yaml', 'neutron/agent/common/utils.py', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/project.yaml', 'neutron/agent/common/ip_lib.py', 'neutron/tests/unit/agent/windows/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f0a9a10f694974797408044335222f7d910e54e', 'message': 'Remove the Windows OS libraries\n\nWindows OS was deprecated in 2023.2 and removed in this release\n(2024.2), as documented in [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/880980\n\nRelated-Bug: #2015844\nChange-Id: I502fd3ee76f70ced3579f9d3e40853723fe473f8\n'}]",160,914271,5f0a9a10f694974797408044335222f7d910e54e,23,4,2,16688,,,0,"Remove the Windows OS libraries

Windows OS was deprecated in 2023.2 and removed in this release
(2024.2), as documented in [1].

[1]https://review.opendev.org/c/openstack/neutron/+/880980

Related-Bug: #2015844
Change-Id: I502fd3ee76f70ced3579f9d3e40853723fe473f8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/914271/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-suppport-for-windows-os-fd662b7111d3d1b0.yaml', 'neutron/tests/unit/agent/windows/test_ip_lib.py', 'zuul.d/tempest-multinode.yaml', 'neutron/tests/unit/agent/windows/__init__.py', 'neutron/tests/functional/agent/windows/test_ip_lib.py', 'neutron/tests/functional/agent/windows/__init__.py', 'zuul.d/base.yaml', 'neutron/agent/common/utils.py', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/project.yaml', 'neutron/agent/common/ip_lib.py', 'neutron/tests/unit/agent/windows/test_utils.py']",14,4fac1c8fa3475cdd2aab9f7fde7afbe029960706,bug/2015844,,"# Copyright 2018 Cloudbase Solutions. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import builtins import io from unittest import mock import ddt import eventlet from eventlet import tpool from neutron_lib import exceptions from neutron.agent.windows import utils from neutron.tests import base class x_wmi(Exception): def __init__(self, info='', com_error=None): super(x_wmi, self).__init__(info) self.info = info self.com_error = com_error @ddt.ddt class WindowsUtilsTestCase(base.BaseTestCase): @mock.patch('os.environ', {mock.sentinel.key0: mock.sentinel.val0}) @mock.patch.object(utils.subprocess, 'Popen') @mock.patch.object(tpool, 'Proxy') @mock.patch.object(eventlet, 'getcurrent') def test_create_process(self, mock_get_current_gt, mock_tpool_proxy, mock_popen): cmd = ['fake_cmd'] popen_obj, ret_cmd = utils.create_process( cmd, run_as_root=mock.sentinel.run_as_root, addl_env={mock.sentinel.key1: mock.sentinel.val1}, tpool_proxy=True) exp_env = {mock.sentinel.key0: mock.sentinel.val0, mock.sentinel.key1: mock.sentinel.val1} mock_popen.assert_called_once_with( cmd, shell=False, stdin=utils.subprocess.PIPE, stdout=utils.subprocess.PIPE, stderr=utils.subprocess.PIPE, env=exp_env, preexec_fn=None, close_fds=False) file_type = getattr(builtins, 'file', io.IOBase) mock_tpool_proxy.assert_called_once_with( mock_popen.return_value, autowrap=(file_type, )) self.assertEqual(mock_tpool_proxy.return_value, popen_obj) self.assertEqual(ret_cmd, cmd) @ddt.data({}, {'pid': None}, {'process_exists': True}) @ddt.unpack @mock.patch.object(utils, 'wmi', create=True) def test_get_wmi_process(self, mock_wmi, pid=mock.sentinel.pid, process_exists=False): mock_conn = mock_wmi.WMI.return_value if not pid: exp_process = None elif process_exists: exp_process = mock.sentinel.wmi_obj mock_conn.Win32_Process.return_value = [exp_process] else: exp_process = None mock_conn.Win32_Process.return_value = [] wmi_obj = utils._get_wmi_process(pid) self.assertEqual(exp_process, wmi_obj) if pid: mock_conn.Win32_Process.assert_called_once_with(ProcessId=pid) @ddt.data({}, {""hresult"": 0xff, ""expect_exc"": True}) @ddt.unpack @mock.patch.object(utils, 'wmi', create=True) def test_get_wmi_process_exc(self, mock_wmi, expect_exc=False, hresult=0x800703FA): mock_conn = mock_wmi.WMI.return_value mock_wmi.x_wmi = x_wmi com_error = mock.Mock(hresult=hresult) exc = x_wmi(com_error=com_error) mock_conn.Win32_Process.side_effect = exc if expect_exc: self.assertRaises( x_wmi, utils._get_wmi_process, mock.sentinel.pid) else: self.assertIsNone(utils._get_wmi_process(mock.sentinel.pid)) @ddt.data(True, False) @mock.patch.object(utils, '_get_wmi_process') def test_kill_process(self, process_exists, mock_get_process): if not process_exists: mock_get_process.return_value = None utils.kill_process(mock.sentinel.pid, mock.sentinel.signal, run_as_root=False) mock_get_process.assert_called_once_with(mock.sentinel.pid) if process_exists: mock_get_process.return_value.Terminate.assert_called_once_with() @ddt.data(True, False) @mock.patch.object(utils, '_get_wmi_process') def test_kill_process_exception(self, process_still_running, mock_get_process): mock_process = mock.Mock() mock_process.Terminate.side_effect = OSError mock_get_process.side_effect = [ mock_process, mock_process if process_still_running else None] if process_still_running: self.assertRaises(OSError, utils.kill_process, mock.sentinel.pid, mock.sentinel.signal) else: utils.kill_process(mock.sentinel.pid, mock.sentinel.signal) @ddt.data({'return_stder': True}, {'returncode': 1, 'check_exit_code': False, 'log_fail_as_error': True}, {'returncode': 1, 'log_fail_as_error': True, 'extra_ok_codes': [1]}, {'returncode': 1, 'log_fail_as_error': True, 'exp_fail': True}) @ddt.unpack @mock.patch.object(utils, 'create_process') @mock.patch.object(utils, 'avoid_blocking_call') def test_execute(self, mock_avoid_blocking_call, mock_create_process, returncode=0, check_exit_code=True, return_stder=True, log_fail_as_error=True, extra_ok_codes=None, exp_fail=False): fake_stdin = 'fake_stdin' fake_stdout = 'fake_stdout' fake_stderr = 'fake_stderr' mock_popen = mock.Mock() mock_popen.communicate.return_value = fake_stdout, fake_stderr mock_popen.returncode = returncode mock_create_process.return_value = mock_popen, mock.sentinel.cmd mock_avoid_blocking_call.side_effect = ( lambda func, *args, **kwargs: func(*args, **kwargs)) args = (mock.sentinel.cmd, fake_stdin, mock.sentinel.env, check_exit_code, return_stder, log_fail_as_error, extra_ok_codes) if exp_fail: self.assertRaises(exceptions.ProcessExecutionError, utils.execute, *args) else: ret_val = utils.execute(*args) if return_stder: exp_ret_val = (fake_stdout, fake_stderr) else: exp_ret_val = fake_stdout self.assertEqual(exp_ret_val, ret_val) mock_create_process.assert_called_once_with( mock.sentinel.cmd, addl_env=mock.sentinel.env, tpool_proxy=False) mock_avoid_blocking_call.assert_called_once_with( mock_popen.communicate, bytes(fake_stdin, 'utf-8')) mock_popen.communicate.assert_called_once_with( bytes(fake_stdin, 'utf-8')) mock_popen.stdin.close.assert_called_once_with() def test_get_root_helper_child_pid(self): pid = utils.get_root_helper_child_pid( mock.sentinel.pid, mock.sentinel.exp_cmd, run_as_root=False) self.assertEqual(str(mock.sentinel.pid), pid) @ddt.data(True, False) @mock.patch.object(utils, '_get_wmi_process') def test_process_is_running(self, process_running, mock_get_process): mock_get_process.return_value = ( mock.sentinel.wmi_obj if process_running else None) self.assertEqual(process_running, utils.process_is_running(mock.sentinel.pid)) mock_get_process.assert_called_once_with(mock.sentinel.pid) @ddt.data({}, {'process_running': False}, {'command_matches': False}) @ddt.unpack @mock.patch.object(utils, '_get_wmi_process') def test_pid_invoked_with_cmdline(self, mock_get_process, process_running=True, command_matches=False): exp_cmd = 'exp_cmd' mock_process = mock.Mock() mock_get_process.return_value = ( mock_process if process_running else None) mock_process.CommandLine = ( exp_cmd if command_matches else 'unexpected_cmd') exp_result = process_running and command_matches result = utils.pid_invoked_with_cmdline(mock.sentinel.pid, [exp_cmd]) self.assertEqual(exp_result, result) mock_get_process.assert_called_once_with(mock.sentinel.pid) ",8,447
openstack%2Fopenstack-manuals~916823,openstack/openstack-manuals,master,I8420445012b408ac431afad6e4e365254c119a5f,Re-add project data for 2023.1 Antelope,MERGED,2024-04-23 17:43:33.000000000,2024-05-21 19:25:14.000000000,2024-05-21 18:47:00.000000000,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2024-04-23 17:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bd1abcf73ed8165968eddf11eed7f0bc6c1f9782', 'message': 'Re-add project data for 2023.1 Antelope\n\nDuring the release process the project data is populated with the\nthen-current data. Some doc is usually not available at that time,\nbut gets generated later. This patch updates project data to contain\nall available docs.\n\nChange-Id: I8420445012b408ac431afad6e4e365254c119a5f\n'}, {'number': 2, 'created': '2024-04-23 17:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a112ebd3fd7c009c78f213987617afb8e67e0524', 'message': 'Re-add project data for 2023.1 Antelope\n\nDuring the release process the project data is populated with the\nthen-current data. Some doc is usually not available at that time,\nbut gets generated later. This patch updates project data to contain\nall available docs.\n\nCloses-Bug: #2052689\n\nChange-Id: I8420445012b408ac431afad6e4e365254c119a5f\n'}, {'number': 3, 'created': '2024-04-23 20:44:17.000000000', 'files': ['www/project-data/2023.1.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/37d9a7ad2b040d404190a9e4272962c36a4a93b3', 'message': 'Re-add project data for 2023.1 Antelope\n\nDuring the release process the project data is populated with the\nthen-current data. Some doc is usually not available at that time,\nbut gets generated later. This patch updates project data to contain\nall available docs.\n\nCloses-Bug: #2052689\n\nChange-Id: I8420445012b408ac431afad6e4e365254c119a5f\n'}]",7,916823,37d9a7ad2b040d404190a9e4272962c36a4a93b3,18,5,3,17685,,,0,"Re-add project data for 2023.1 Antelope

During the release process the project data is populated with the
then-current data. Some doc is usually not available at that time,
but gets generated later. This patch updates project data to contain
all available docs.

Closes-Bug: #2052689

Change-Id: I8420445012b408ac431afad6e4e365254c119a5f
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/23/916823/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/2023.1.yaml'],1,bd1abcf73ed8165968eddf11eed7f0bc6c1f9782,bug/2052689,"- name: keystone service: Identity service service_type: identity has_install_guide: true has_api_ref: true has_admin_guide: true has_config_ref: true has_user_guide: true type: service - name: python-keystoneclient service: Identity service Python Bindings type: service-client description: keystone client- name: keystonemiddleware type: library service: Middleware provided for integrating with the OpenStack Identity API. - name: pycadf type: library service: Creates CADF events to capture cloud-related events.- name: os-traits type: library service: Library containing standardized trait strings.- name: magnum service: Container Infrastructure Management service service_type: container-infrastructure-management has_api_ref: true has_install_guide: true has_admin_guide: true has_config_ref: true has_user_guide: true type: service - name: python-magnumclient service: Container Infrastructure Management service Python Bindings type: service-client description: magnum client- name: zaqar service: Messaging service service_type: message has_admin_guide: true has_api_ref: true has_install_guide: true has_user_guide: true has_config_ref: true type: service- name: swift service: Object Storage service service_type: object-store has_admin_guide: true has_install_guide: true has_api_ref: true type: service- name: manila service: Shared File Systems service service_type: shared-file-system has_admin_guide: true has_api_ref: true has_config_ref: true has_install_guide: true has_user_guide: true type: service- name: cloudkitty service: Rating service service_type: rating type: service has_api_ref: true has_admin_guide: true has_user_guide: true - name: python-cloudkittyclient service: Rating service Python Bindings type: service-client description: cloudkitty client- name: debtcollector type: library service: A collection of Python deprecation patterns and strategies that help you collect your technical debt in a non-destructive manner. has_install_guide: true has_user_guide: true - name: futurist type: library service: Asynchronous code from the future, helping you build out your applications to handle asynchronous and periodic work in a nice manner. has_install_guide: true has_user_guide: true- name: oslotest type: library service: Unit test and fixture framework. has_install_guide: true has_user_guide: true - name: osprofiler type: library service: Cross-Project profiling library. has_user_guide: true - name: pbr type: library service: Manages setuptools packaging needs in a consistent way. has_user_guide: true- name: tooz type: library service: Distributed primitives like group membership protocol, lock service and leader elections. has_user_guide: true has_install_guide: true- name: cliff service: Builds command-line programs in Python. type: library has_install_guide: true has_user_guide: true - name: os-client-config service: Library for collecting client configuration for using an OpenStack cloud type: library has_install_guide: true has_user_guide: true- name: os-win service: Windows / Hyper-V library for OpenStack projects. type: library - name: openstackdocstheme service: Theme and extension support for Sphinx documentation for official projects type: library - name: os-api-ref service: Sphinx extension to support OpenStack API reference pages creation type: library - name: coverage2sql service: Tooling for converting coverage data into a SQL DB type: tool - name: diskimage-builder service: Image building tools for OpenStack type: tool - name: devstack service: DevStack type: tool - name: os-testr service: Tooling for interacting with testr type: tool - name: pymod2pkg service: Python module name to package name map type: tool - name: renderspec service: RPM .spec template renderer type: tool - name: reno service: Release Notes Manager type: tool has_install_guide: true has_user_guide: true - name: tempest service: Tempest Test Suite for OpenStack type: tool - name: bashate service: Linter for bash scripts. type: tool has_install_guide: true has_user_guide: true - name: grenade service: Test harness to exercise the upgrade process between releases. type: tool - name: hacking service: Hacking guideline enforcement type: tool- name: puppet-openstack-guide type: deployment service: Puppet modules for deployment has_install_guide: true - name: i18n type: other service: Internationalization of OpenStack projects and documents- name: cyborg service: Accelerator Life Cycle Management service_type: accelerator type: service has_api_ref: true has_config_ref: true has_admin_guide: true# has_project_guide: false","#- name: keystone # service: Identity service # service_type: identity # has_install_guide: true # has_api_ref: true # has_admin_guide: true # has_config_ref: true # has_user_guide: true # type: service #- name: python-keystoneclient # service: Identity service Python Bindings # type: service-client # description: keystone client#- name: keystonemiddleware # type: library # service: Middleware provided for integrating with the OpenStack Identity API. #- name: pycadf # type: library # service: Creates CADF events to capture cloud-related events.#- name: os-traits # type: library # service: Library containing standardized trait strings.#- name: magnum # service: Container Infrastructure Management service # service_type: container-infrastructure-management # has_api_ref: true # has_install_guide: true # has_admin_guide: true # has_config_ref: true # has_user_guide: true # type: service #- name: python-magnumclient # service: Container Infrastructure Management service Python Bindings # type: service-client # description: magnum client#- name: zaqar # service: Messaging service # service_type: message # has_admin_guide: true # has_api_ref: true # has_install_guide: true # has_user_guide: true # has_config_ref: true # type: service#- name: swift # service: Object Storage service # service_type: object-store # has_admin_guide: true # has_install_guide: true # has_api_ref: true # type: service#- name: manila # service: Shared File Systems service # service_type: shared-file-system # has_admin_guide: true # has_api_ref: true # has_config_ref: true # has_install_guide: true # has_user_guide: true # type: service#- name: cloudkitty # service: Rating service # service_type: rating # type: service # has_api_ref: true # has_admin_guide: true # has_user_guide: true #- name: python-cloudkittyclient # service: Rating service Python Bindings # type: service-client # description: cloudkitty client#- name: debtcollector # type: library # service: # A collection of Python deprecation patterns and strategies that # help you collect your technical debt in a non-destructive manner. # has_install_guide: true # has_user_guide: true #- name: futurist # type: library # service: # Asynchronous code from the future, helping you build out your # applications to handle asynchronous and periodic work in a nice # manner. # has_install_guide: true # has_user_guide: true#- name: oslotest # type: library # service: Unit test and fixture framework. # has_install_guide: true # has_user_guide: true #- name: osprofiler # type: library # service: Cross-Project profiling library. # has_user_guide: true #- name: pbr # type: library # service: Manages setuptools packaging needs in a consistent way. # has_user_guide: true#- name: tooz # type: library # service: # Distributed primitives like group membership protocol, lock # service and leader elections. # has_user_guide: true # has_install_guide: true#- name: cliff # service: Builds command-line programs in Python. # type: library # has_install_guide: true # has_user_guide: true #- name: os-client-config # service: Library for collecting client configuration for using an OpenStack cloud # type: library # has_install_guide: true # has_user_guide: true#- name: os-win # service: Windows / Hyper-V library for OpenStack projects. # type: library #- name: openstackdocstheme # service: Theme and extension support for Sphinx documentation for official projects # type: library #- name: os-api-ref # service: Sphinx extension to support OpenStack API reference pages creation # type: library #- name: coverage2sql # service: Tooling for converting coverage data into a SQL DB # type: tool #- name: diskimage-builder # service: Image building tools for OpenStack # type: tool #- name: devstack # service: DevStack # type: tool #- name: os-testr # service: Tooling for interacting with testr # type: tool #- name: pymod2pkg # service: Python module name to package name map # type: tool #- name: renderspec # service: RPM .spec template renderer # type: tool #- name: reno # service: Release Notes Manager # type: tool # has_install_guide: true # has_user_guide: true #- name: tempest # service: Tempest Test Suite for OpenStack # type: tool #- name: bashate # service: Linter for bash scripts. # type: tool # has_install_guide: true # has_user_guide: true #- name: grenade # service: Test harness to exercise the upgrade process between releases. # type: tool #- name: hacking # service: Hacking guideline enforcement # type: tool#- name: puppet-openstack-guide # type: deployment # service: Puppet modules for deployment # has_install_guide: true #- name: i18n # type: other # service: Internationalization of OpenStack projects and documents#- name: cyborg # service: Accelerator Life Cycle Management # service_type: accelerator # type: service # has_api_ref: true # has_config_ref: true # has_admin_guide: true has_project_guide: false",177,177
openstack%2Fnova-specs~919603,openstack/nova-specs,master,Ie7a0f37c7d307b18879facb2a472c5d84c8358b8,Follow-up for openapi spec,NEW,2024-05-14 16:35:33.000000000,2024-05-21 18:56:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-14 16:35:33.000000000', 'files': ['specs/2024.2/approved/openapi.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/21c112920c94344babe3bc0e051a236db2f48235', 'message': 'Follow-up for openapi spec\n\nAddress some comments and minor issues with the spec.\n\nChange-Id: Ie7a0f37c7d307b18879facb2a472c5d84c8358b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,919603,21c112920c94344babe3bc0e051a236db2f48235,3,2,1,15334,,,0,"Follow-up for openapi spec

Address some comments and minor issues with the spec.

Change-Id: Ie7a0f37c7d307b18879facb2a472c5d84c8358b8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/03/919603/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2024.2/approved/openapi.rst'],1,21c112920c94344babe3bc0e051a236db2f48235,openapi," return ``HTTP 410 (Gone)`` or ``HTTP 400 (Bad Request)``, respectively. We integration tests. This should not be used in production. The help text of the option will indicate this and we will set the ``advanced`` option... note:: The impact of middleware that modifies either the request or response will not be accounted for in this change. This is because these are configurable and they cannot be guaranteed to exist in a given deployment. Examples include the ``sizelimit`` middleware from ``oslo.middlware`` and the ``auth_token`` middleware from ``keystonemiddleware``.this should not be a significant issue."," return ``HTTP 410 (Gone)`` or ``HTTP 404 (Bad Request)``, respectively. We integration tests. This should not be used in production and the help text will indicate this.APIsthis should not be a significant issue. In addition, we will not recommend enabling this option in production.",11,6
openstack%2Fproject-team-guide~919976,openstack/project-team-guide,master,I9acad0e1a64ad34ae85314f6cf355d3bfaf9fc82,Make the project removal from infra as step#6,MERGED,2024-05-17 17:28:16.000000000,2024-05-21 18:41:50.000000000,2024-05-21 18:40:56.000000000,"[{'_account_id': 4393}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 17:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/046a75904de6cd6669cbf21ea5454c997291ae54', 'message': 'Make the project removal from infra as step#6\n\nWhen project is being removed from infra then it will\nstart giving error whereever that project is used in zuul\njobs (as required-projects).\n\nTo avoid such error, we can cleanup the reference of retired\nproject first and then remove it from infra.\n\nML Discussion: https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/24M3WQXDE2DYN3GWDFHY52FNGNIXN4N3/\n\nChange-Id: I9acad0e1a64ad34ae85314f6cf355d3bfaf9fc82\n'}, {'number': 2, 'created': '2024-05-17 17:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/817da94526677610bfc52c7f7439ba1701f7a0df', 'message': 'Make the project removal from infra as step#6\n\nWhen project is being removed from infra then it will\nstart giving error whereever that project is used in zuul\njobs (as required-projects).\n\nTo avoid such error, we can cleanup the reference of retired\nproject first and then remove it from infra.\n\nML Discussion: https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/24M3WQXDE2DYN3GWDFHY52FNGNIXN4N3/\n\nChange-Id: I9acad0e1a64ad34ae85314f6cf355d3bfaf9fc82\n'}, {'number': 3, 'created': '2024-05-17 19:50:34.000000000', 'files': ['doc/source/repository.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/0166f33a5dfadd39d38127192713e8b73cc4ee7f', 'message': 'Make the project removal from infra as step#6\n\nWhen project is being removed from infra then it will\nstart giving error whereever that project is used in zuul\njobs (as required-projects).\n\nTo avoid such error, we can cleanup the reference of retired\nproject first and then remove it from infra.\n\nML Discussion: https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/24M3WQXDE2DYN3GWDFHY52FNGNIXN4N3/\n\nChange-Id: I9acad0e1a64ad34ae85314f6cf355d3bfaf9fc82\n'}]",6,919976,0166f33a5dfadd39d38127192713e8b73cc4ee7f,13,3,3,8556,,,0,"Make the project removal from infra as step#6

When project is being removed from infra then it will
start giving error whereever that project is used in zuul
jobs (as required-projects).

To avoid such error, we can cleanup the reference of retired
project first and then remove it from infra.

ML Discussion: https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/24M3WQXDE2DYN3GWDFHY52FNGNIXN4N3/

Change-Id: I9acad0e1a64ad34ae85314f6cf355d3bfaf9fc82
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/76/919976/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/repository.rst'],1,046a75904de6cd6669cbf21ea5454c997291ae54,,Steps 6: Remove Project from Infrastructure Systems --------------------------------------------------- Follow the steps about `Remove Project from Infrastructure System <https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#step-3-remove-project-from-infrastructure-systems>`_ in the OpenDev Manual. NOTE: use Depends-On on ``governance`` patch submitted in Step 3. Use Depends-On on ``governance`` patch submitted in Step 1. ,Steps 5: Remove Project from Infrastructure Systems --------------------------------------------------- Follow the steps about `Remove Project from Infrastructure System <https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#step-3-remove-project-from-infrastructure-systems>`_ in the OpenDev Manual. NOTE: use Depends-On on ``governance`` patch submitted in Step 3. Use Depends-On on ``governance`` patch submitted in Step 1. ,10,10
openstack%2Fproject-team-guide~919559,openstack/project-team-guide,master,I630ac703ae9ffa2c2785e0e284b7f62717477449,Remove obsolete sections from the testing doc,NEW,2024-05-14 11:12:15.000000000,2024-05-21 18:36:26.000000000,,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-14 11:12:15.000000000', 'files': ['doc/source/zuulv3.rst', 'doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/330feeda4bd06df7a801e9936450207aa56294d2', 'message': ""Remove obsolete sections from the testing doc\n\nThis patch removes 2 obsolete sections from the testing doc:\n\n* Automatic Test Failure Identification - we don't do identification of\n  the failures in automated way anymore,\n* Zuul v3 native jobs - it was long time ago since we got all our jobs\n  migrated to the Zuul v3 config and we shouldn't need that section\n  anymore. Additionally this patch also removes zuulv3 document for the\n  same reason.\n\nChange-Id: I630ac703ae9ffa2c2785e0e284b7f62717477449\n""}]",2,919559,330feeda4bd06df7a801e9936450207aa56294d2,6,5,1,11975,,,0,"Remove obsolete sections from the testing doc

This patch removes 2 obsolete sections from the testing doc:

* Automatic Test Failure Identification - we don't do identification of
  the failures in automated way anymore,
* Zuul v3 native jobs - it was long time ago since we got all our jobs
  migrated to the Zuul v3 config and we shouldn't need that section
  anymore. Additionally this patch also removes zuulv3 document for the
  same reason.

Change-Id: I630ac703ae9ffa2c2785e0e284b7f62717477449
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/59/919559/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/zuulv3.rst', 'doc/source/testing.rst']",2,330feeda4bd06df7a801e9936450207aa56294d2,rechecks-docs,," Automatic Test Failure Identification ===================================== OpenStack project integration tests have logs from running services automatically uploaded to a logstash-based processing system. An automated system finds signatures related to known bugs and leaves code review comments about them. Additionally, aggregate statistics about the number of times a known bug has caused a test failure are reported. If your project participates in an integration test with other OpenStack projects, you are welcome to add definitions for your project's logs and signatures for known bugs to the log processing system. For more information on how to deal with integration test failures, see the `Developer's Guide <https://docs.opendev.org/opendev/infra-manual/latest/developers.html#automated-testing>`_. Zuul v3 native jobs =================== At the beginning of the Victoria cycle an important amount of jobs of ""legacy"" jobs is still present. The legacy jobs are scripts automatically converted from the old Jenkins jobs and contain a lot duplicated code shell code. One of the community goals for the cycle `deals with porting them to Zuul v3 <https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html>`_. A detailed porting guide, originally part of the OpenDev documentation, has been imported here: .. toctree:: :maxdepth: 1 zuulv3 In addition to it, other documentation sources are: - `Consistent Naming for Zuul jobs <https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#consistent-naming-for-zuul-jobs>`_. - `Migrating Zuul V2 CI jobs to V3 <https://docs.openstack.org/devstack/latest/zuul_ci_jobs_migration.html>`_. It is worth noting that, while the goal focuses on the fixing the jobs used in Victoria (and future releases), backporting the converted jobs to the older branches where they are still in use is recommended for maintenance reasons in the long run.",0,1025
openstack%2Fkeystone-tempest-plugin~874716,openstack/keystone-tempest-plugin,master,I0993a06cf2349d13ce0c433ab58f694f5aa3f924,OAuth2.0 Client Credentials Grant Flow Support,NEW,2023-02-22 02:02:46.000000000,2024-05-21 18:31:33.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 33455}, {'_account_id': 34712}]","[{'number': 1, 'created': '2023-02-22 02:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/70fe8c3801a766c6335d173e5c6291fa95714713', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 2, 'created': '2023-03-01 01:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/3945ec31d315c13dfd4ccf184d7d6539dfdc8e5f', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 3, 'created': '2023-04-04 02:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/c8c4d4be3eb6a4a790f9d530c44ff3b41508e7f7', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 4, 'created': '2023-04-07 08:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/72a607a2ed281f5820357826cf6b3f6b62b2e0cc', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 5, 'created': '2023-04-10 01:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/5c737262e6cfde5a19bc4b9eb729c39293e0c464', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 6, 'created': '2023-07-20 02:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/54a915d87b7805954e2e445aac165b03d54f3d2d', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}, {'number': 7, 'created': '2024-05-21 16:26:34.000000000', 'files': ['roles/keystone-oauth2/tasks/main.yaml', 'keystone_tempest_plugin/config.py', '.zuul.yaml', 'keystone_tempest_plugin/tests/scenario/test_oauth2_authentication.py', 'keystone_tempest_plugin/plugin.py', 'roles/keystone-oauth2/vars/main.yaml', 'playbooks/enable-oauth2.yaml'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/b5d6b7314d4aee02fd53e72b021a307c909379cc', 'message': 'OAuth2.0 Client Credentials Grant Flow Support\n\nAppend tempest code for the OAuth 2.0 Access Token API, which is\nsupported by application credentials in Keystone identity.\n\nChange-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924\n'}]",18,874716,b5d6b7314d4aee02fd53e72b021a307c909379cc,23,8,7,34634,,,0,"OAuth2.0 Client Credentials Grant Flow Support

Append tempest code for the OAuth 2.0 Access Token API, which is
supported by application credentials in Keystone identity.

Change-Id: I0993a06cf2349d13ce0c433ab58f694f5aa3f924
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/16/874716/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/keystone-oauth2/tasks/main.yaml', 'keystone_tempest_plugin/config.py', '.zuul.yaml', 'keystone_tempest_plugin/tests/scenario/test_oauth2_authentication.py', 'keystone_tempest_plugin/plugin.py', 'roles/keystone-oauth2/vars/main.yaml', 'playbooks/enable-oauth2.yaml']",7,70fe8c3801a766c6335d173e5c6291fa95714713,bp/oauth2-client-credentials-ext,"- hosts: all roles: - orchestrate-devstack - keystone-oauth2 - hosts: tempest tasks: - name: Setup Tempest Run Directory include_role: name: setup-tempest-run-dir - name: Setup Tempest Data Directory include_role: name: setup-tempest-data-dir - name: ACL devstack files include_role: name: acl-devstack-files - name: Run tempest cleanup init-saved-state include_role: name: tempest-cleanup vars: init_saved_state: true when: (run_tempest_dry_cleanup is defined and run_tempest_dry_cleanup | bool) or (run_tempest_cleanup is defined and run_tempest_cleanup | bool) or (run_tempest_fail_if_leaked_resources is defined and run_tempest_fail_if_leaked_resources | bool) - name: Run Tempest version <= 26.0.0 include_role: name: run-tempest-26 when: (zuul.branch is defined and zuul.branch in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein""]) or (zuul.override_checkout is defined and zuul.override_checkout in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein""]) - name: Run Tempest include_role: name: run-tempest when: (zuul.branch is defined and zuul.branch not in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein""] and zuul.override_checkout is not defined) or (zuul.override_checkout is defined and zuul.override_checkout not in [""stable/ocata"", ""stable/pike"", ""stable/queens"", ""stable/rocky"", ""stable/stein""]) - name: Run tempest cleanup dry-run include_role: name: tempest-cleanup vars: dry_run: true when: run_tempest_dry_cleanup is defined and run_tempest_dry_cleanup | bool - name: Run tempest cleanup include_role: name: tempest-cleanup when: run_tempest_cleanup is defined and run_tempest_cleanup | bool ",,459,1
openstack%2Fneutron~920101,openstack/neutron,master,I45c6e6a1c3536cf4f2d90b01a3577eec9eaf3743,[functional tests] compatibility with ovsdbapp>=2.7.0,MERGED,2024-05-21 13:40:04.000000000,2024-05-21 18:23:58.000000000,2024-05-21 18:22:45.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 13:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e443c9426da076377904c7de1d94ed7bc612fae4', 'message': ""[functional tests] compatibility with ovsdbapp>=2.7.0\n\novsdbapp>=2.7.0 handles cleanup of Chassis_Private record\nwith chassis delete so we don't need explicit delete.\nThe compatibility part can be dropped when we update\nrequirements.txt to ovsdbapp>=2.7.0.\n\nCloses-Bug: #2066263\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/920062\nChange-Id: I45c6e6a1c3536cf4f2d90b01a3577eec9eaf3743\n""}, {'number': 2, 'created': '2024-05-21 14:31:36.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/20b9893e34dda0b448ac75c795867cb46de5e127', 'message': ""[functional tests] compatibility with ovsdbapp>=2.7.0\n\novsdbapp>=2.7.0 handles cleanup of Chassis_Private record\nwith chassis delete so we don't need explicit delete.\nThe compatibility part can be dropped when we update\nrequirements.txt to ovsdbapp>=2.7.0.\n\nCloses-Bug: #2066263\nChange-Id: I45c6e6a1c3536cf4f2d90b01a3577eec9eaf3743\n""}]",7,920101,20b9893e34dda0b448ac75c795867cb46de5e127,17,7,2,13861,,,0,"[functional tests] compatibility with ovsdbapp>=2.7.0

ovsdbapp>=2.7.0 handles cleanup of Chassis_Private record
with chassis delete so we don't need explicit delete.
The compatibility part can be dropped when we update
requirements.txt to ovsdbapp>=2.7.0.

Closes-Bug: #2066263
Change-Id: I45c6e6a1c3536cf4f2d90b01a3577eec9eaf3743
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/920101/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/functional/base.py']",2,e443c9426da076377904c7de1d94ed7bc612fae4,bug/2066263,"from ovsdbapp.backend.ovs_idl import idlutils try: self.sb_api.db_destroy( 'Chassis_Private', chassis).execute(check_error=True) except idlutils.RowNotFound: # NOTE(ykarel ): ovsdbapp >= 2.7.0 handles Chassis_Private # record delete with chassis # try/except can be dropped when neutron requirements.txt # include ovsdbapp>=2.7.0 pass"," self.sb_api.db_destroy( 'Chassis_Private', chassis).execute(check_error=True)",12,3
openstack%2Fplacement~907590,openstack/placement,master,I92eb0cdf98910b97523a9453a073ba238ee702ee,tox: Drop envdir,MERGED,2024-02-02 14:41:01.000000000,2024-05-21 18:21:00.000000000,2024-05-21 18:19:48.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-02 14:41:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/86f722db420aa38fd15375189dc04add74204b06', 'message': ""tox: Drop envdir\n\ntox now always recreates an env although the env is shared using envdir\noptions.\n~~~\n$ tox -e genpolicy\ngenpolicy: recreate env because env type changed from\n{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to\n{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}\n~~~\n\nAccording to the maintainer of tox, this functionality is not intended\nto be supported.\nhttps://github.com/tox-dev/tox/issues/425#issuecomment-1011944293\n\nChange-Id: I92eb0cdf98910b97523a9453a073ba238ee702ee\n""}]",1,907590,86f722db420aa38fd15375189dc04add74204b06,9,4,1,9816,,,0,"tox: Drop envdir

tox now always recreates an env although the env is shared using envdir
options.
~~~
$ tox -e genpolicy
genpolicy: recreate env because env type changed from
{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to
{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}
~~~

According to the maintainer of tox, this functionality is not intended
to be supported.
https://github.com/tox-dev/tox/issues/425#issuecomment-1011944293

Change-Id: I92eb0cdf98910b97523a9453a073ba238ee702ee
",git fetch https://review.opendev.org/openstack/placement refs/changes/90/907590/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,86f722db420aa38fd15375189dc04add74204b06,tox-envdir,,envdir = {toxworkdir}/py38envdir = {toxworkdir}/py39envdir = {toxworkdir}/py310envdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/shared,0,12
openstack%2Fgovernance~919629,openstack/governance,master,I232939fc9c7ba13aea85c9c179d4517eb4ba33d5,Retire devstack-gate,MERGED,2024-05-14 22:09:59.000000000,2024-05-21 17:55:28.000000000,2024-05-21 17:54:29.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-14 22:09:59.000000000', 'files': ['reference/legacy.yaml', 'reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/30bb6a1bf48ddcc688f0420102bdbf71dd2da28c', 'message': 'Retire devstack-gate\n\nThis repo was deprecated in xena after devstack grew the ability to self\nbootstrap CI environments using ansible. We want to drop this repo as it\nis no longer necessary and it will help clear the path for Ubuntu Xenial\ncleanup in the CI system.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-gate/+/919626\nChange-Id: I232939fc9c7ba13aea85c9c179d4517eb4ba33d5\n'}]",3,919629,30bb6a1bf48ddcc688f0420102bdbf71dd2da28c,12,4,1,4146,,,0,"Retire devstack-gate

This repo was deprecated in xena after devstack grew the ability to self
bootstrap CI environments using ansible. We want to drop this repo as it
is no longer necessary and it will help clear the path for Ubuntu Xenial
cleanup in the CI system.

Depends-On: https://review.opendev.org/c/openstack/devstack-gate/+/919626
Change-Id: I232939fc9c7ba13aea85c9c179d4517eb4ba33d5
",git fetch https://review.opendev.org/openstack/governance refs/changes/29/919629/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/sigs-repos.yaml']",2,30bb6a1bf48ddcc688f0420102bdbf71dd2da28c,project-update,, - repo: openstack/devstack-gate deprecated: xena,8,2
openstack%2Fneutron~918151,openstack/neutron,master,I75c49e2b00ea186d0d34f9441eb86034de31b21e,Fix ML2/OVN OVSDB handling of gateway ports,NEW,2024-05-04 00:15:50.000000000,2024-05-21 17:49:02.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-04 00:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c81fa42380b051aa6df93ed59b362f95063c409', 'message': ""Fix ML2/OVN OVSDB handling of gateway ports\n\nThe ML2/OVN OVSDB maintenance tasks\ncheck_redirect_type_router_gateway_ports and\nadd_gw_port_info_to_logical_router_port are fixed to handle\nproperly the gateway ports of user defined flavor routers.\nThey should be ignored because they don't exist in the OVN\ndatabase.\n\nCloses-Bug: #2064778\n\nChange-Id: I75c49e2b00ea186d0d34f9441eb86034de31b21e\n""}, {'number': 2, 'created': '2024-05-06 23:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5592126178d84092b6bd4d3abda71d77563e2d6f', 'message': ""Fix ML2/OVN OVSDB handling of gateway ports\n\nThe ML2/OVN OVSDB maintenance tasks\ncheck_redirect_type_router_gateway_ports and\nadd_gw_port_info_to_logical_router_port are fixed to handle\nproperly the gateway ports of user defined flavor routers.\nThey should be ignored because they don't exist in the OVN\ndatabase.\n\nCloses-Bug: #2064778\n\nChange-Id: I75c49e2b00ea186d0d34f9441eb86034de31b21e\n""}, {'number': 3, 'created': '2024-05-10 17:04:28.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/466b0f497874947999134cc34c3e01abf7d2a31b', 'message': ""Fix ML2/OVN OVSDB handling of gateway ports\n\nThe ML2/OVN OVSDB maintenance tasks\ncheck_redirect_type_router_gateway_ports and\nadd_gw_port_info_to_logical_router_port are fixed to handle\nproperly the gateway ports of user defined flavor routers.\nThey should be ignored because they don't exist in the OVN\ndatabase.\n\nCloses-Bug: #2064778\n\nChange-Id: I75c49e2b00ea186d0d34f9441eb86034de31b21e\n""}]",2,918151,466b0f497874947999134cc34c3e01abf7d2a31b,15,4,3,4694,,,0,"Fix ML2/OVN OVSDB handling of gateway ports

The ML2/OVN OVSDB maintenance tasks
check_redirect_type_router_gateway_ports and
add_gw_port_info_to_logical_router_port are fixed to handle
properly the gateway ports of user defined flavor routers.
They should be ignored because they don't exist in the OVN
database.

Closes-Bug: #2064778

Change-Id: I75c49e2b00ea186d0d34f9441eb86034de31b21e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/918151/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'],1,0c81fa42380b051aa6df93ed59b362f95063c409,fix-ovn-maintenance-job," router = self._ovn_client._l3_plugin.get_router( context, gw_port['device_id']) if not utils.is_ovn_provider_router(router): continue if not utils.is_ovn_provider_router(router): continue",,6,0
openstack%2Fnova~920090,openstack/nova,master,Id6ee76e0190469ac09baf0bc56a9022317c6f881,fix py312 tox definitions,MERGED,2024-05-21 11:11:16.000000000,2024-05-21 17:44:45.000000000,2024-05-21 17:43:27.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 11:11:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/7ff24958eeb98dbae9cf1acba34ca7f7e6ad70ec', 'message': 'fix py312 tox definitions\n\nchange I6de86f3e3e283ba404f927ea4c8164f791df3989\nadded the py312 funtional job definition but did not\nupdate the tox.ini to define it.\nAs a result it is runing the unit tests not the functional tests.\nThis change simpley corrects that.\n\nChange-Id: Id6ee76e0190469ac09baf0bc56a9022317c6f881\n'}]",0,920090,7ff24958eeb98dbae9cf1acba34ca7f7e6ad70ec,10,3,1,11604,,,0,"fix py312 tox definitions

change I6de86f3e3e283ba404f927ea4c8164f791df3989
added the py312 funtional job definition but did not
update the tox.ini to define it.
As a result it is runing the unit tests not the functional tests.
This change simpley corrects that.

Change-Id: Id6ee76e0190469ac09baf0bc56a9022317c6f881
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/920090/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7ff24958eeb98dbae9cf1acba34ca7f7e6ad70ec,fix-functional-py312,"[testenv:{unit,py3,py38,py39,py310,py311,py312}][testenv:functional{,-py38,-py39,-py310,-py311,-py312}]","[testenv:{unit,py3,py38,py39,py310,py311}][testenv:functional{,-py38,-py39,-py310,-py311}]",2,2
openstack%2Fpython-manilaclient~917621,openstack/python-manilaclient,master,If27473481cfd8df99ff6426361b7f4804f1f3a09,Remove old excludes,MERGED,2024-04-30 10:31:38.000000000,2024-05-21 17:41:20.000000000,2024-05-21 17:40:00.000000000,"[{'_account_id': 8556}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2024-04-30 10:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/489e54ef3e2b2276b87cd603207faf5cc7e59e43', 'message': 'Remove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nChange-Id: If27473481cfd8df99ff6426361b7f4804f1f3a09\n'}, {'number': 2, 'created': '2024-05-01 02:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7d97e594b68d49370661e1f197b59081da9d4a86', 'message': 'Remove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nDepends-on: https://review.opendev.org/917607\nChange-Id: If27473481cfd8df99ff6426361b7f4804f1f3a09\n'}, {'number': 3, 'created': '2024-05-01 02:26:22.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/69083c7d18238b8e4f082fc8a1046f618d151540', 'message': 'Remove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository. Minimum versions are bumped to avoid\ninstalling known bad versions.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nChange-Id: If27473481cfd8df99ff6426361b7f4804f1f3a09\n'}]",4,917621,69083c7d18238b8e4f082fc8a1046f618d151540,13,4,3,9816,,,0,"Remove old excludes

These are detected as errors since the clean up was done[1] in
the requirements repository. Minimum versions are bumped to avoid
installing known bad versions.

[1] 314734e938f107cbd5ebcc7af4d9167c11347406

Change-Id: If27473481cfd8df99ff6426361b7f4804f1f3a09
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/21/917621/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt']",3,489e54ef3e2b2276b87cd603207faf5cc7e59e43,excludes-cleanup,sphinx>=2.0.0 # BSD,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.sphinx>=2.0.0,!=2.1.0 # BSD",5,12
openstack%2Fnetworking-sfc~914276,openstack/networking-sfc,master,Iffcd20cefee52f4774ae6c4c437eae6d075c7229,Add py312 job to periodic based on testing runtime for 2024.2,MERGED,2024-03-26 16:16:24.000000000,2024-05-21 17:41:11.000000000,2024-05-21 17:39:07.000000000,"[{'_account_id': 4694}, {'_account_id': 8556}, {'_account_id': 9656}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 16:16:24.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/acbae638f918ffe44860830b4e6f566d011b606e', 'message': 'Add py312 job to periodic based on testing runtime for 2024.2\n\nBased on [0] & [1] add py312 job to periodic weekly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: Iffcd20cefee52f4774ae6c4c437eae6d075c7229\n'}]",2,914276,acbae638f918ffe44860830b4e6f566d011b606e,10,5,1,8313,,,0,"Add py312 job to periodic based on testing runtime for 2024.2

Based on [0] & [1] add py312 job to periodic weekly.

[0] https://review.opendev.org/c/openstack/governance/+/908862
[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html

Change-Id: Iffcd20cefee52f4774ae6c4c437eae6d075c7229
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/76/914276/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,acbae638f918ffe44860830b4e6f566d011b606e,update-testing-runtime, - openstack-tox-py312: required-projects: - openstack/neutron,,3,0
openstack%2Fnetworking-bgpvpn~914273,openstack/networking-bgpvpn,master,If02b2a8f87cc13eaada5b045881e569e58defe5b,Update jobs based on testing runtime for 2024.2,MERGED,2024-03-26 16:07:25.000000000,2024-05-21 17:37:12.000000000,2024-05-21 17:35:08.000000000,"[{'_account_id': 4694}, {'_account_id': 8556}, {'_account_id': 9656}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 16:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1308a2b2fa6a95645a85c24c58944cacb4b6999e', 'message': 'Update jobs based on testing runtime for 2024.2\n\nBased on [0] & [1] only py39, py311 and py312 (non-voting)\njobs are in the testing runtime for 2024.2, updated relevant\nfiles accordingly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: If02b2a8f87cc13eaada5b045881e569e58defe5b\n'}, {'number': 2, 'created': '2024-03-26 16:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/bb4b49a14dc30b8e848aa6e05ef5ae85e67da50e', 'message': 'Update jobs based on testing runtime for 2024.2\n\nBased on [0] & [1] only py39, py311 and py312 (non-voting)\njobs are in the testing runtime for 2024.2, updated relevant\nfiles accordingly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: If02b2a8f87cc13eaada5b045881e569e58defe5b\n'}, {'number': 3, 'created': '2024-03-27 08:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9037133b131fdecc1e6a75b5707269f30ee2494e', 'message': 'Update jobs based on testing runtime for 2024.2\n\nBased on [0] & [1] only py39, py311 and py312 (non-voting)\njobs are in the testing runtime for 2024.2, updated relevant\nfiles accordingly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: If02b2a8f87cc13eaada5b045881e569e58defe5b\n'}, {'number': 4, 'created': '2024-03-27 13:36:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a36bf908edaa55efcb4884c0e1b4c985df51f320', 'message': 'Update jobs based on testing runtime for 2024.2\n\nBased on [0] & [1] only py39, py311 and py312 (non-voting)\njobs are in the testing runtime for 2024.2, updated relevant\nfiles accordingly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: If02b2a8f87cc13eaada5b045881e569e58defe5b\n'}]",5,914273,a36bf908edaa55efcb4884c0e1b4c985df51f320,17,5,4,8313,,,0,"Update jobs based on testing runtime for 2024.2

Based on [0] & [1] only py39, py311 and py312 (non-voting)
jobs are in the testing runtime for 2024.2, updated relevant
files accordingly.

[0] https://review.opendev.org/c/openstack/governance/+/908862
[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html

Change-Id: If02b2a8f87cc13eaada5b045881e569e58defe5b
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/73/914273/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1308a2b2fa6a95645a85c24c58944cacb4b6999e,update-testing-runtime, - openstack-tox-py39: - openstack-tox-py312: required-projects: *bgpvpn_required_projects - openstack-tox-py312: required-projects: *bgpvpn_required_projects, - openstack-tox-py38: - openstack-tox-py39: required-projects: *bgpvpn_required_projects - openstack-tox-py38: required-projects: *bgpvpn_required_projects,5,5
openstack%2Fpython-keystoneclient~914299,openstack/python-keystoneclient,unmaintained/wallaby,I49fff5b1626c1f833335d98a98b53b8c8010e1b1,Update .gitreview for unmaintained/wallaby,NEW,2024-03-26 16:44:34.000000000,2024-05-21 17:25:44.000000000,,"[{'_account_id': 7414}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 16:44:34.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/8f9ed6165ebc2664e92c35066edf670acdf246e5', 'message': 'Update .gitreview for unmaintained/wallaby\n\nChange-Id: I49fff5b1626c1f833335d98a98b53b8c8010e1b1\n'}]",2,914299,8f9ed6165ebc2664e92c35066edf670acdf246e5,8,3,1,22816,,,0,"Update .gitreview for unmaintained/wallaby

Change-Id: I49fff5b1626c1f833335d98a98b53b8c8010e1b1
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/99/914299/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8f9ed6165ebc2664e92c35066edf670acdf246e5,create-wallaby,defaultbranch=unmaintained/wallaby,defaultbranch=stable/wallaby,1,1
openstack%2Fosc-placement~907596,openstack/osc-placement,master,I3645be3c1fdf344c1b47d548c49fd804a03b0dff,tox: Drop envdir,MERGED,2024-02-02 14:49:02.000000000,2024-05-21 17:14:54.000000000,2024-05-21 17:13:58.000000000,"[{'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-02 14:49:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/2ea53eb37dc3daa52f8bf743a8cd02936dc25d7f', 'message': ""tox: Drop envdir\n\ntox now always recreates an env although the env is shared using envdir\noptions.\n~~~\n$ tox -e genpolicy\ngenpolicy: recreate env because env type changed from\n{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to\n{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}\n~~~\n\nAccording to the maintainer of tox, this functionality is not intended\nto be supported.\nhttps://github.com/tox-dev/tox/issues/425#issuecomment-1011944293\n\nChange-Id: I3645be3c1fdf344c1b47d548c49fd804a03b0dff\n""}]",0,907596,2ea53eb37dc3daa52f8bf743a8cd02936dc25d7f,8,3,1,9816,,,0,"tox: Drop envdir

tox now always recreates an env although the env is shared using envdir
options.
~~~
$ tox -e genpolicy
genpolicy: recreate env because env type changed from
{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to
{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}
~~~

According to the maintainer of tox, this functionality is not intended
to be supported.
https://github.com/tox-dev/tox/issues/425#issuecomment-1011944293

Change-Id: I3645be3c1fdf344c1b47d548c49fd804a03b0dff
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/96/907596/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2ea53eb37dc3daa52f8bf743a8cd02936dc25d7f,tox-envdir,,envdir = {toxworkdir}/sharedenvdir = {toxworkdir}/shared,0,2
openstack%2Ftap-as-a-service~914643,openstack/tap-as-a-service,master,I0c5f69d6eab19a3fd64d0f0c04e337da0d6d4db9,Add py312 job to periodic based on testing runtime for 2024.2,MERGED,2024-03-28 12:39:58.000000000,2024-05-21 17:08:01.000000000,2024-05-21 17:08:01.000000000,"[{'_account_id': 4694}, {'_account_id': 8556}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-28 12:39:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/fb872c3cc8877b9b74b50a2c2f7fe3d2345f095d', 'message': 'Add py312 job to periodic based on testing runtime for 2024.2\n\nBased on [0] & [1] add py312 job to periodic weekly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: I0c5f69d6eab19a3fd64d0f0c04e337da0d6d4db9\n'}]",1,914643,fb872c3cc8877b9b74b50a2c2f7fe3d2345f095d,8,4,1,8313,,,0,"Add py312 job to periodic based on testing runtime for 2024.2

Based on [0] & [1] add py312 job to periodic weekly.

[0] https://review.opendev.org/c/openstack/governance/+/908862
[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html

Change-Id: I0c5f69d6eab19a3fd64d0f0c04e337da0d6d4db9
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/43/914643/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fb872c3cc8877b9b74b50a2c2f7fe3d2345f095d,update-testing-runtime, - openstack-tox-py312,,1,0
openstack%2Fpython-keystoneclient~914290,openstack/python-keystoneclient,unmaintained/victoria,Iaed92370fbd1125b20bac325695f416c5c9b924f,Update .gitreview for unmaintained/victoria,NEW,2024-03-26 16:43:33.000000000,2024-05-21 17:03:37.000000000,,"[{'_account_id': 7414}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 16:43:33.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/2856ee7ba20d9708431a0e523370ba51ab07a6c3', 'message': 'Update .gitreview for unmaintained/victoria\n\nChange-Id: Iaed92370fbd1125b20bac325695f416c5c9b924f\n'}]",2,914290,2856ee7ba20d9708431a0e523370ba51ab07a6c3,8,3,1,22816,,,0,"Update .gitreview for unmaintained/victoria

Change-Id: Iaed92370fbd1125b20bac325695f416c5c9b924f
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/90/914290/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2856ee7ba20d9708431a0e523370ba51ab07a6c3,create-victoria,defaultbranch=unmaintained/victoria,defaultbranch=stable/victoria,1,1
openstack%2Fnetworking-bagpipe~914272,openstack/networking-bagpipe,master,I4221652a0ba256edf83208ff41e2e2ec24aa190f,Update jobs based on testing runtime for 2024.2,MERGED,2024-03-26 16:02:01.000000000,2024-05-21 17:01:50.000000000,2024-05-21 16:59:34.000000000,"[{'_account_id': 8556}, {'_account_id': 9656}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 16:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/8585e538919c49c82568f1bb2db6beb2e62e7b86', 'message': 'Update jobs based on testing runtime for 2024.2\n\nBased on [0] & [1] only py39, py311 and py312 (non-voting)\njobs are in the testing runtime for 2024.2, updated relevant\nfiles accordingly. Added timeout override for py312\nsimilar to other versions.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: I4221652a0ba256edf83208ff41e2e2ec24aa190f\n'}, {'number': 2, 'created': '2024-03-26 16:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/7f19571c956db861a98754693118c628dc58d351', 'message': 'Update jobs based on testing runtime for 2024.2\n\nBased on [0] & [1] only py39, py311 and py312 (non-voting)\njobs are in the testing runtime for 2024.2, updated relevant\nfiles accordingly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: I4221652a0ba256edf83208ff41e2e2ec24aa190f\n'}, {'number': 3, 'created': '2024-03-27 08:42:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/18d7eab28e5680a48759c438239e664b89ecb28c', 'message': 'Update jobs based on testing runtime for 2024.2\n\nBased on [0] & [1] only py39, py311 and py312 (non-voting)\njobs are in the testing runtime for 2024.2, updated relevant\nfiles accordingly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: I4221652a0ba256edf83208ff41e2e2ec24aa190f\n'}]",5,914272,18d7eab28e5680a48759c438239e664b89ecb28c,15,4,3,8313,,,0,"Update jobs based on testing runtime for 2024.2

Based on [0] & [1] only py39, py311 and py312 (non-voting)
jobs are in the testing runtime for 2024.2, updated relevant
files accordingly.

[0] https://review.opendev.org/c/openstack/governance/+/908862
[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html

Change-Id: I4221652a0ba256edf83208ff41e2e2ec24aa190f
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/72/914272/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8585e538919c49c82568f1bb2db6beb2e62e7b86,update-testing-runtime, - openstack-tox-py39: - openstack-tox-py312: # from openstack-python3-jobs template required-projects: *bagpipe_required_projects - openstack-tox-py312: # from openstack-python3-jobs template required-projects: *bagpipe_required_projects - openstack-tox-py312: # from openstack-python3-jobs template required-projects: *bagpipe_required_projects, - openstack-tox-py38: - openstack-tox-py39: required-projects: *bagpipe_required_projects - openstack-tox-py38: required-projects: *bagpipe_required_projects,7,5
openstack%2Ftempest~919783,openstack/tempest,master,Ifcb460ca506e6da2b69e6239bb23abe74aa4eb0a,DNM: testing resource cleanup 2,ABANDONED,2024-05-16 01:59:03.000000000,2024-05-21 16:58:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-16 01:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/65e7e610b7e57ccef6a2e704395a94c5b6c6675a', 'message': 'DNM: testing resource cleanup 2\n\nChange-Id: Ifcb460ca506e6da2b69e6239bb23abe74aa4eb0a\n'}, {'number': 2, 'created': '2024-05-16 10:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4779e302077d75bd860c3baf367fd67023856d4d', 'message': 'DNM: testing resource cleanup 2\n\nChange-Id: Ifcb460ca506e6da2b69e6239bb23abe74aa4eb0a\n'}, {'number': 3, 'created': '2024-05-16 22:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc45fb19308d6774c6f43a3239f3e813183351b2', 'message': 'DNM: testing resource cleanup 2\n\nChange-Id: Ifcb460ca506e6da2b69e6239bb23abe74aa4eb0a\n'}, {'number': 4, 'created': '2024-05-17 01:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7631a18bfa6916630bce55eec87f7c5551e6e6b', 'message': 'DNM: testing resource cleanup 2\n\nChange-Id: Ifcb460ca506e6da2b69e6239bb23abe74aa4eb0a\n'}, {'number': 5, 'created': '2024-05-20 18:17:40.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/api/compute/servers/test_server_group.py', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/35cece41a249914e6a0068e6f9a3d988a9c111bc', 'message': 'DNM: testing resource cleanup 2\n\nChange-Id: Ifcb460ca506e6da2b69e6239bb23abe74aa4eb0a\n'}]",4,919783,35cece41a249914e6a0068e6f9a3d988a9c111bc,18,1,5,8556,,,0,"DNM: testing resource cleanup 2

Change-Id: Ifcb460ca506e6da2b69e6239bb23abe74aa4eb0a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/83/919783/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/api/compute/servers/test_server_group.py']",2,65e7e610b7e57ccef6a2e704395a94c5b6c6675a,test2, #self._delete_server_group(server_group), self._delete_server_group(server_group),5,5
openstack%2Fmanila-ui~917620,openstack/manila-ui,master,I3a1a4634c35bf0728bd5287b9b6b25d4196e8e06,Remove old excludes,MERGED,2024-04-30 10:29:28.000000000,2024-05-21 16:58:48.000000000,2024-05-21 16:57:34.000000000,"[{'_account_id': 8556}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2024-04-30 10:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/88541b622b8f2f504778a828427dc9281ff00f21', 'message': 'Remove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nChange-Id: I3a1a4634c35bf0728bd5287b9b6b25d4196e8e06\n'}, {'number': 2, 'created': '2024-05-01 02:21:50.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/b2ff20641fab1f2989187f71bf6a916426ddf431', 'message': 'Remove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository. Minimum versions are bumped to avoid\ninstalling known bad versions.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nChange-Id: I3a1a4634c35bf0728bd5287b9b6b25d4196e8e06\n'}]",7,917620,b2ff20641fab1f2989187f71bf6a916426ddf431,15,4,2,9816,,,0,"Remove old excludes

These are detected as errors since the clean up was done[1] in
the requirements repository. Minimum versions are bumped to avoid
installing known bad versions.

[1] 314734e938f107cbd5ebcc7af4d9167c11347406

Change-Id: I3a1a4634c35bf0728bd5287b9b6b25d4196e8e06
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/20/917620/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,88541b622b8f2f504778a828427dc9281ff00f21,excludes-cleanup,sphinx>=2.0.0 # BSD,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.sphinx>=2.0.0,!=2.1.0 # BSD",1,4
openstack%2Ftempest~919617,openstack/tempest,master,I7a7357ac6f50d96280ecc2ff91ee99a222a95a7c,DNM: testing tempest resource-list cleanup,ABANDONED,2024-05-14 19:53:43.000000000,2024-05-21 16:58:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-14 19:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ac2f02f9c8bed313b32dc362f54566b7d5047a15', 'message': 'DNM: testing tempest resource-list cleanup\n\nChange-Id: I7a7357ac6f50d96280ecc2ff91ee99a222a95a7c\n'}, {'number': 2, 'created': '2024-05-15 03:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e7282766f41875a3615b037289523347ac66f48e', 'message': 'DNM: testing tempest resource-list cleanup\n\nChange-Id: I7a7357ac6f50d96280ecc2ff91ee99a222a95a7c\n'}, {'number': 3, 'created': '2024-05-16 01:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ac5f5d51a5143d82905fc9bda156b0d90a10cc19', 'message': 'DNM: testing tempest resource-list cleanup\n\nChange-Id: I7a7357ac6f50d96280ecc2ff91ee99a222a95a7c\n'}, {'number': 4, 'created': '2024-05-16 10:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4298c47080c522e4816b8b94e7e0b3241f2d6bbd', 'message': 'DNM: testing tempest resource-list cleanup\n\nChange-Id: I7a7357ac6f50d96280ecc2ff91ee99a222a95a7c\n'}, {'number': 5, 'created': '2024-05-16 22:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/436d3d3eb110716a2b5977dfe52215a62d202fd3', 'message': 'DNM: testing tempest resource-list cleanup\n\nChange-Id: I7a7357ac6f50d96280ecc2ff91ee99a222a95a7c\n'}, {'number': 6, 'created': '2024-05-17 01:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c042e5d81daaa97fe6056a074f8c300d603d23a', 'message': 'DNM: testing tempest resource-list cleanup\n\nChange-Id: I7a7357ac6f50d96280ecc2ff91ee99a222a95a7c\n'}, {'number': 7, 'created': '2024-05-20 18:17:46.000000000', 'files': ['tempest/api/compute/servers/test_servers.py', 'zuul.d/integrated-gate.yaml', 'tempest/api/compute/keypairs/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a11df606894910f0792f827cca5813fe6a49ab8', 'message': 'DNM: testing tempest resource-list cleanup\n\nChange-Id: I7a7357ac6f50d96280ecc2ff91ee99a222a95a7c\n'}]",9,919617,1a11df606894910f0792f827cca5813fe6a49ab8,28,1,7,8556,,,0,"DNM: testing tempest resource-list cleanup

Change-Id: I7a7357ac6f50d96280ecc2ff91ee99a222a95a7c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/17/919617/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/api/volume/base.py']",2,ac2f02f9c8bed313b32dc362f54566b7d5047a15,testing-cleanup," #self.cleanup(test_utils.call_and_ignore_notfound_exc, # self._delete_volume_for_cleanup, # self.volumes_client, volume['id'])"," self.cleanup(test_utils.call_and_ignore_notfound_exc, self._delete_volume_for_cleanup, self.volumes_client, volume['id'])",10,10
openstack%2Fnetworking-bgpvpn~911523,openstack/networking-bgpvpn,master,I0e29f218f3f14bcf3f33a951bb19c101ee3954dc,reno: Update master for unmaintained/wallaby,MERGED,2024-03-06 12:05:18.000000000,2024-05-21 16:49:57.000000000,2024-05-21 16:48:53.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-06 12:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/165f0111e871cc7a80250c3ad150d033a693128a', 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: I0e29f218f3f14bcf3f33a951bb19c101ee3954dc\n'}, {'number': 2, 'created': '2024-05-21 14:05:18.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/2e3547a79ecc983d800791bca99225c1217a0dfd', 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: I0e29f218f3f14bcf3f33a951bb19c101ee3954dc\n'}]",1,911523,2e3547a79ecc983d800791bca99225c1217a0dfd,14,3,2,22816,,,0,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: I0e29f218f3f14bcf3f33a951bb19c101ee3954dc
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/23/911523/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/wallaby.rst'],1,165f0111e871cc7a80250c3ad150d033a693128a,reno-eom-wallaby, :branch: unmaintained/wallaby, :branch: stable/wallaby,1,1
openstack%2Fneutron-vpnaas~914280,openstack/neutron-vpnaas,master,I8336691a59ef76f4ec2162d83d6b925c05497fad,Update jobs based on testing runtime for 2024.2,MERGED,2024-03-26 16:21:21.000000000,2024-05-21 16:42:13.000000000,2024-05-21 16:40:08.000000000,"[{'_account_id': 4694}, {'_account_id': 8556}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 16:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/a527762a07499a0198dc41777399517f35c51367', 'message': 'Update jobs based on testing runtime for 2024.2\n\nBased on [0] & [1] only py39, py311 and py312 (non-voting)\njobs are in the testing runtime for 2024.2, updated relevant\nfiles accordingly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: I8336691a59ef76f4ec2162d83d6b925c05497fad\n'}, {'number': 2, 'created': '2024-03-27 08:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9e3f892ab0764bfebeb7d1bb4452df6acc2b2203', 'message': 'Update jobs based on testing runtime for 2024.2\n\nBased on [0] & [1] only py39, py311 and py312 (non-voting)\njobs are in the testing runtime for 2024.2, updated relevant\nfiles accordingly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: I8336691a59ef76f4ec2162d83d6b925c05497fad\n'}, {'number': 3, 'created': '2024-03-27 13:17:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/62153d538bdb1c2c984d63ee3ccd725a6d811b40', 'message': 'Update jobs based on testing runtime for 2024.2\n\nBased on [0] & [1] only py39, py311 and py312 (non-voting)\njobs are in the testing runtime for 2024.2, updated relevant\nfiles accordingly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: I8336691a59ef76f4ec2162d83d6b925c05497fad\n'}]",9,914280,62153d538bdb1c2c984d63ee3ccd725a6d811b40,17,4,3,8313,,,0,"Update jobs based on testing runtime for 2024.2

Based on [0] & [1] only py39, py311 and py312 (non-voting)
jobs are in the testing runtime for 2024.2, updated relevant
files accordingly.

[0] https://review.opendev.org/c/openstack/governance/+/908862
[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html

Change-Id: I8336691a59ef76f4ec2162d83d6b925c05497fad
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/80/914280/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a527762a07499a0198dc41777399517f35c51367,update-testing-runtime, - openstack-tox-py312: required-projects: - openstack/neutron - openstack-tox-py312: required-projects: - openstack/neutron - openstack-tox-py312: required-projects: - openstack/neutron, - openstack-tox-py38: required-projects: - openstack/neutron - openstack-tox-py38: required-projects: - openstack/neutron,9,6
openstack%2Fswift~839649,openstack/swift,master,Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa,replicator: Add sync_batches_per_revert option,NEW,2022-04-27 23:28:52.000000000,2024-05-21 16:24:30.000000000,,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 23:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f657bd0fd5c73c5721255419ae97faefef8a057c', 'message': 'replicator: Add rsync_max_suffixes_per_revert option\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\nimmediately bomb out.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n'}, {'number': 2, 'created': '2022-05-03 18:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c006f2120d4cf7a2f057af4b7d1e1825063bcee9', 'message': 'replicator: Add rsync_max_suffixes_per_revert option\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\nimmediately bomb out.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n'}, {'number': 3, 'created': '2022-05-28 06:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/06efd74d8374b6160f4161ead0a525f7ef1caa79', 'message': 'replicator: Add rsync_max_suffixes_per_revert option\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\nimmediately bomb out.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n'}, {'number': 4, 'created': '2022-05-31 15:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2ef38df5781400407646cf4fac974ff7dc102583', 'message': 'replicator: Add rsync_max_suffixes_per_revert option\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\nimmediately bomb out.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n'}, {'number': 5, 'created': '2022-06-24 19:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ad0774e5b5c48ee4813a608958ce123766d0374b', 'message': 'replicator: Add rsync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\nimmediately bomb out.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n'}, {'number': 6, 'created': '2022-06-24 20:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8493f1d81a999f5642fe2381008520aa6048b797', 'message': 'replicator: Add rsync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\nimmediately bomb out.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n'}, {'number': 7, 'created': '2022-06-28 22:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0bac190a800baad6d18c772c968dcc8643de0812', 'message': ""replicator: Add rsync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\ncontinue to the next batch but don't delete the partition.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n""}, {'number': 8, 'created': '2022-06-28 23:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4738b70f324095331068754bb1b1833661f6451', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\ncontinue to the next batch but don't delete the partition.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n""}, {'number': 9, 'created': '2022-08-22 20:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ce55760a18940d67f580770602069af3776d5ca5', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\ncontinue to the next batch but don't delete the partition.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nAdd a new interface to the hashes.invalid API -- if the line starts with\n'!', remove the suffix during consolidation rather than just setting it\nto None.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n""}, {'number': 10, 'created': '2022-10-24 22:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5bb0417186e26b578f95efbf053818d673883c84', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\ncontinue to the next batch but don't delete the partition.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nAdd a new interface to the hashes.invalid API -- if the line starts with\n'!', remove the suffix during consolidation rather than just setting it\nto None.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n""}, {'number': 11, 'created': '2023-02-22 05:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c88b68c80090425a80f5166919ace02212c611aa', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\ncontinue to the next batch but don't delete the partition.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nAdd a new interface to the hashes.invalid API -- if the line starts with\n'!', remove the suffix during consolidation rather than just setting it\nto None.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n""}, {'number': 12, 'created': '2023-06-27 04:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7e3f0563854cabc839e93e8716dddb37f0b41979', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\ncontinue to the next batch but don't delete the partition.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nAdd a new interface to the hashes.invalid API -- if the line starts with\n'!', remove the suffix during consolidation rather than just setting it\nto None.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n""}, {'number': 13, 'created': '2024-01-29 18:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df279b2ef18b61e010909bdc4ccd311495feeef4', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be\nwilling to break it up into (randomized) batches so we can show progress\n(and delete data!) more frequently. If any of the batches fail,\ncontinue to the next batch but don't delete the partition.\n\nThis reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nAdd a new interface to the hashes.invalid API -- if the line starts with\n'!', remove the suffix during consolidation rather than just setting it\nto None.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\n\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n""}, {'number': 14, 'created': '2024-02-07 07:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4353dc6e513fff9853879d12be88ca01e693610d', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be able\nto break it up into a configurable number of (randomized) batches so we\ncan show progress (and delete data!) more frequently. If any of the\nbatches fail, continue to the next batch but don't delete the partition.\n\nThis has two main applications:\n\n- When a cluster is nearing full, the progressive delete provides relief\n  to full disks ASAP, without waiting for the complete partition to be\n  sync'ed.\n\n- When old hardware is being decomissioned, drive errors may cause some\n  suffixes not only to cause rsync errors during replication, but also\n  to prevent quarantining during auditing. In such a case, the entire\n  partition would previously hang around indefinitely; with batching,\n  the partition would gradually drain, leaving behind only the bad\n  suffixes.\n\nIt also reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n""}, {'number': 15, 'created': '2024-05-21 03:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8238165554eafe6ca7ee680c05fc205967b47ca6', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be able\nto break it up into a configurable number of (randomized) batches so we\ncan show progress (and delete data!) more frequently. If any of the\nbatches fail, continue to the next batch but don't delete the partition.\n\nThis has two main applications:\n\n- When a cluster is nearing full, the progressive delete provides relief\n  to full disks ASAP, without waiting for the complete partition to be\n  sync'ed.\n\n- When old hardware is being decomissioned, drive errors may cause some\n  suffixes not only to cause rsync errors during replication, but also\n  to prevent quarantining during auditing. In such a case, the entire\n  partition would previously hang around indefinitely; with batching,\n  the partition would gradually drain, leaving behind only the bad\n  suffixes.\n\nIt also reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n""}, {'number': 16, 'created': '2024-05-21 15:04:55.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/119e8637432d323b4a92e5408878199109f5ecac', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be able\nto break it up into a configurable number of (randomized) batches so we\ncan show progress (and delete data!) more frequently. If any of the\nbatches fail, continue to the next batch but don't delete the partition.\n\nThis has two main applications:\n\n- When a cluster is nearing full, the progressive delete provides relief\n  to full disks ASAP, without waiting for the complete partition to be\n  sync'ed.\n\n- When old hardware is being decomissioned, drive errors may cause some\n  suffixes not only to cause rsync errors during replication, but also\n  to prevent quarantining during auditing. In such a case, the entire\n  partition would previously hang around indefinitely; with batching,\n  the partition would gradually drain, leaving behind only the bad\n  suffixes.\n\nIt also reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\n\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n""}]",194,839649,119e8637432d323b4a92e5408878199109f5ecac,68,4,16,15343,,,0,"replicator: Add sync_batches_per_revert option

Default to a single batch to match prior behavior; this default may
change as we gain more operational experience.

Still try to revert all handoff data in the first pass -- just be able
to break it up into a configurable number of (randomized) batches so we
can show progress (and delete data!) more frequently. If any of the
batches fail, continue to the next batch but don't delete the partition.

This has two main applications:

- When a cluster is nearing full, the progressive delete provides relief
  to full disks ASAP, without waiting for the complete partition to be
  sync'ed.

- When old hardware is being decomissioned, drive errors may cause some
  suffixes not only to cause rsync errors during replication, but also
  to prevent quarantining during auditing. In such a case, the entire
  partition would previously hang around indefinitely; with batching,
  the partition would gradually drain, leaving behind only the bad
  suffixes.

It also reduces the likelihood of timeouts (either rsync_timeout or
http_timeout during REPLICATE calls). These timeouts now apply
per-batch.

Additionally, it gives periodic opportunities for other replicators to
sneak in and grab an rsync connection slot.

See also: https://review.opendev.org/c/openstack/swift/+/818017

Change-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/839649/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'etc/object-server.conf-sample']",2,f657bd0fd5c73c5721255419ae97faefef8a057c,,# rsync_max_suffixes_per_revert = 0 #,,46,33
openstack%2Ftempest~918138,openstack/tempest,master,I29761a28dc4e1b097f660ff6beade8930dc45bed,Switch back the tox constraint to master,MERGED,2024-05-03 19:32:19.000000000,2024-05-21 16:18:45.000000000,2024-05-21 16:16:23.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2024-05-03 19:32:19.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f9eb20adc4aa5901ca5e89bec4e6f47c6feeca2', 'message': 'Switch back the tox constraint to master\n\nTempest 39.0.0 release hash is prepared[1] so we can\nrevert back to use the master constraints by default.\n\n[1] https://review.opendev.org/c/openstack/releases/+/918137\n\nChange-Id: I29761a28dc4e1b097f660ff6beade8930dc45bed\n'}]",2,918138,2f9eb20adc4aa5901ca5e89bec4e6f47c6feeca2,9,2,1,8556,,,0,"Switch back the tox constraint to master

Tempest 39.0.0 release hash is prepared[1] so we can
revert back to use the master constraints by default.

[1] https://review.opendev.org/c/openstack/releases/+/918137

Change-Id: I29761a28dc4e1b097f660ff6beade8930dc45bed
",git fetch https://review.opendev.org/openstack/tempest refs/changes/38/918138/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tox.ini']",2,2f9eb20adc4aa5901ca5e89bec4e6f47c6feeca2,zed-last, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1},7,9
openstack%2Ftempest~918136,openstack/tempest,master,Ie842d97be45cbcfe40419ae017c00fb147acb197,Pin stable/2024.1 constraint in tox to release 39.0.0,MERGED,2024-05-03 19:25:35.000000000,2024-05-21 16:17:27.000000000,2024-05-21 16:14:12.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2024-05-03 19:25:35.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e2cf1e90f737262e954fc80cb39f2370fadbcf55', 'message': 'Pin stable/2024.1 constraint in tox to release 39.0.0\n\nWe are going to release Tempest new tag 39.0.0 to declare\nthe end of support for stable/zed. stable/2024.1 constraint\nis latest stable constraints tested with current tempest hash\nwhich is going to be used for 39.0.0 release.\n\nFurther information:\n https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html\n\nChange-Id: Ie842d97be45cbcfe40419ae017c00fb147acb197\n'}]",1,918136,e2cf1e90f737262e954fc80cb39f2370fadbcf55,7,2,1,8556,,,0,"Pin stable/2024.1 constraint in tox to release 39.0.0

We are going to release Tempest new tag 39.0.0 to declare
the end of support for stable/zed. stable/2024.1 constraint
is latest stable constraints tested with current tempest hash
which is going to be used for 39.0.0 release.

Further information:
 https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html

Change-Id: Ie842d97be45cbcfe40419ae017c00fb147acb197
",git fetch https://review.opendev.org/openstack/tempest refs/changes/36/918136/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tox.ini']",2,e2cf1e90f737262e954fc80cb39f2370fadbcf55,zed-last, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},9,7
openstack%2Fneutron-fwaas~916417,openstack/neutron-fwaas,master,I005a91c15182008a40dca0e2963ca50ed4ee896b,Add pyproject.toml to support pip 23.1,MERGED,2024-04-19 12:08:29.000000000,2024-05-21 16:06:52.000000000,2024-05-21 16:05:51.000000000,"[{'_account_id': 4694}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-19 12:08:29.000000000', 'files': ['pyproject.toml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/90a0072f37ad797cb55e8ebcfe9ab86d164368ff', 'message': 'Add pyproject.toml to support pip 23.1\n\nFor details see the below mail thread:\nhttps://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/\n\nand the commit message of the keystone patch:\nhttps://review.opendev.org/c/899519\n\nChange-Id: I005a91c15182008a40dca0e2963ca50ed4ee896b\n'}]",0,916417,90a0072f37ad797cb55e8ebcfe9ab86d164368ff,8,3,1,8313,,,0,"Add pyproject.toml to support pip 23.1

For details see the below mail thread:
https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/

and the commit message of the keystone patch:
https://review.opendev.org/c/899519

Change-Id: I005a91c15182008a40dca0e2963ca50ed4ee896b
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/17/916417/1 && git format-patch -1 --stdout FETCH_HEAD,['pyproject.toml'],1,90a0072f37ad797cb55e8ebcfe9ab86d164368ff,pip-23.1-support,"[build-system] requires = [""pbr>=5.7.0"", ""setuptools>=64.0.0"", ""wheel""] build-backend = ""pbr.build"" ",,4,0
openstack%2Fkeystoneauth~861906,openstack/keystoneauth,master,Ieaf8f459b11bec6fc0462a4977cc419fb4a88569,Do not log sensitive info in OIDC,NEW,2022-10-19 16:56:02.000000000,2024-05-21 16:04:25.000000000,,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-19 16:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b9646b4a27950528e711cc0692657f1dba55e546', 'message': 'Do not log sensitive info in OIDC\n\nChange-Id: Ieaf8f459b11bec6fc0462a4977cc419fb4a88569\nCloses-Bug: #1977516\n'}, {'number': 2, 'created': '2024-04-11 15:24:21.000000000', 'files': ['keystoneauth1/identity/v3/oidc.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7a0aa43683cc2324e7bb5aa851fae955b1e6c393', 'message': 'Do not log sensitive info in OIDC\n\nChange-Id: Ieaf8f459b11bec6fc0462a4977cc419fb4a88569\nCloses-Bug: #1977516\n'}]",0,861906,7a0aa43683cc2324e7bb5aa851fae955b1e6c393,6,3,2,9542,,,0,"Do not log sensitive info in OIDC

Change-Id: Ieaf8f459b11bec6fc0462a4977cc419fb4a88569
Closes-Bug: #1977516
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/06/861906/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/oidc.py'],1,b9646b4a27950528e711cc0692657f1dba55e546,bug/1977516,"import copy import loggingSENSITIVE_KEYS = (""password"", ""code"", ""token"", ""secret"") def _sanitize(self, data): sanitized = copy.deepcopy(data) for key in sanitized: if any(s in key for s in SENSITIVE_KEYS): sanitized[key] = ""***"" return sanitized if _logger.isEnabledFor(logging.DEBUG): sanitized_payload = self._sanitize(payload) _logger.debug( ""Making OpenID-Connect authentication request to %s with "" ""data %s"", access_token_endpoint, sanitized_payload ) log=False, response = op_response.json() if _logger.isEnabledFor(logging.DEBUG): sanitized_response = self._sanitize(response) _logger.debug( ""OpenID-Connect authentication response from %s is %s"", access_token_endpoint, sanitized_response ) access_token = response[self.access_token_type]", access_token = op_response.json()[self.access_token_type],27,1
openstack%2Fkeystoneauth~697348,openstack/keystoneauth,master,Ibd27470c9250000d24cf085ccf6b0c31c782c21e,Add OTP to v3OIDCpassword plugin,NEW,2019-12-04 19:18:54.000000000,2024-05-21 16:03:23.000000000,,"[{'_account_id': 7414}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2019-12-04 19:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/8b620db45daeec4b9d03fb78bf2d09f3784ebe15', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 2, 'created': '2019-12-27 13:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/91ee30f98281aaaeab1eb95306d74472f19be5c7', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 3, 'created': '2019-12-27 15:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/f2dc7936ca2862fa3b4049ad5f422072030ec206', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 4, 'created': '2020-08-19 18:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/d406186a1de54c037463d33dd318125d9b3f810e', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 5, 'created': '2020-08-20 11:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/d3f26262d1d1e1615cc2019e83449f996955c8ba', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 6, 'created': '2020-08-20 13:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/6a3cb49f1960a59e7b62a7fc19a492958a676fd8', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 7, 'created': '2022-04-29 15:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/1d36fabf0f490fff1d7c271bfe634cd9b32ff053', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 8, 'created': '2022-05-06 16:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b9ef5ed46b1c8e3c21b7d0fbc6380a2245d39793', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 9, 'created': '2022-05-31 17:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/37acf7312a85d07c4615e655aaf098f6664046ed', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 10, 'created': '2022-05-31 17:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/ecdb28c7f805f734eb1aec42e6543d422c188c03', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 11, 'created': '2022-06-16 16:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/713c017e5acf5634924a2c9815f346af5c98318d', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 12, 'created': '2024-01-30 10:25:25.000000000', 'files': ['doc/source/authentication-plugins.rst', 'keystoneauth1/loading/_plugins/identity/v3.py', 'releasenotes/notes/add-otp-support-to-v3oidcpassword-plugin-520160b14e1fcc57.yaml', 'keystoneauth1/identity/v3/oidc.py', 'keystoneauth1/tests/unit/identity/test_identity_v3_oidc.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/fbab5e8e14fcc7df68738027a7c0f2de07e47f53', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}]",12,697348,fbab5e8e14fcc7df68738027a7c0f2de07e47f53,39,5,12,30695,,,0,"Add OTP to v3OIDCpassword plugin

Problem description
===================
When using OpenStack in federated environments, to enhance user's
authentication, some Identity Providers allow them (users) to use an OTP
(One Time Password) method. This requires users to send a generated code
together with his/her username and password any time he/she is
authenticating in the Identity Provider. It can be applied to both Id
and Access tokens authentication flows.

If the user is using the OTP, he/she will not be able to use the
OpenStack CLI, because the user needs to send an OTP value to the
Identity Provider together with the username and password.

Proposal
========
To allow users that have OTP enabled in their Identity Provider to use
the OpenStack CLI with their credentials, we propose to add a new
optional configuration in the v3OIDCpassword plugin to allow users to
enter their OTP Code.

The new configuration will contain the key for the OTP code that the
user's Identity Provider expects in its Rest API. As the OTP is not
defined by the OpenID Connect protocol (it defines just ""credentials""
that is a set of attributes that authorize the user, like username,
password, OTP, etc); we defined the property as the expected key to the
OTP in the IdP's Rest API. For example, in KeyCloak, the OTP key in its
Access Token API is called ""totp"". Therefore, if the user configures
the new property, then the CLI will request the OTP code when necessary.

We do not create a property to set the OTP code specifically,
because the OTP changes every time, so is not so practical to users to
reconfiguring the property every time the OTP code expires.

Change-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/48/697348/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/loading/_plugins/identity/v3.py', 'releasenotes/notes/add-otp-support-to-v3oidcpassword-plugin-520160b14e1fcc57.yaml', 'keystoneauth1/identity/v3/oidc.py', 'keystoneauth1/tests/unit/identity/test_identity_v3_oidc.py']",4,8b620db45daeec4b9d03fb78bf2d09f3784ebe15,upstream/feature/add-otp-support-to-v3oidcpassword-plugin,"import mock @mock.patch(""__builtin__.raw_input"") def test_otp_while_generating_the_access_token(self, mock_input): """"""Test the configured otp in the access token flow."""""" self.plugin.idp_otp_key = ""totp"" otp = 123 new_otp = 111 access_token = \ oidc_fixtures.ACCESS_TOKEN_VIA_PASSWORD_RESP[""access_token""] mock_input.return_value = otp self.requests_mock.post( self.ACCESS_TOKEN_ENDPOINT, json=oidc_fixtures.ACCESS_TOKEN_VIA_PASSWORD_RESP) # Verify if the OTP is set in the session and if the request is OK payload = self.plugin.get_payload(self.session) resp = self.plugin._get_access_token(self.session, payload) self.assertEqual(resp, access_token) self.assertEqual(self.session.otp, otp) # Verify if the OTP is obtained from the session. mock_input.return_value = new_otp payload = self.plugin.get_payload(self.session) self.assertEqual(payload[self.plugin.idp_otp_key], otp) ",,75,3
openstack%2Fcharms.openstack~917459,openstack/charms.openstack,stable/antelope,I528a9dcc5511b74186132b57948e18e4f3a1ef0b,Support wrapped release names,MERGED,2024-04-30 13:28:49.000000000,2024-05-21 15:43:33.000000000,2024-05-21 15:43:33.000000000,"[{'_account_id': 8992}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-30 13:28:49.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/a953a513758b515165c081027ef4eeaeee621939', 'message': 'Support wrapped release names\n\nCharm instances where the release is > zed does not work using the\ndefault_get_charm_instance. The keys stored in the _releases dictionary\nare sorted in their alphabetical sorting order, thus causing releases\nsuch as Bobcat to be treated as older releases than Zed.\n\nThis change causes the release names to be sorted using the\nCompareOpenStackReleases object from the charmhelpers library. This will\nensure that the release names are sorted according the release order\nrather than the alphabetical name.\n\nChange-Id: I528a9dcc5511b74186132b57948e18e4f3a1ef0b\n(cherry picked from commit 760f1257ef11a53e2491fda91ebf6454c1182ad3)\n'}]",0,917459,a953a513758b515165c081027ef4eeaeee621939,7,3,1,20870,,,0,"Support wrapped release names

Charm instances where the release is > zed does not work using the
default_get_charm_instance. The keys stored in the _releases dictionary
are sorted in their alphabetical sorting order, thus causing releases
such as Bobcat to be treated as older releases than Zed.

This change causes the release names to be sorted using the
CompareOpenStackReleases object from the charmhelpers library. This will
ensure that the release names are sorted according the release order
rather than the alphabetical name.

Change-Id: I528a9dcc5511b74186132b57948e18e4f3a1ef0b
(cherry picked from commit 760f1257ef11a53e2491fda91ebf6454c1182ad3)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/59/917459/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/__init__.py']",3,a953a513758b515165c081027ef4eeaeee621939,support-wrapped-release-names-stable/caracal-stable/bobcat-stable/antelope," 'train', 'ussuri', 'victoria', 'wallaby', 'xena', 'yoga', 'zed', 'antelope', 'bobcat', 'caracal',class CompareOpenStackReleases(object): # This class is included due to mocking out the charmhelpers libraries # as they behave poorly with apt installs. _list = charmhelpers.contrib.openstack.utils.OPENSTACK_RELEASES def __init__(self, item): if self._list is None: raise Exception(""Must define the _list in the class definition!"") try: self.index = self._list.index(item) except Exception: raise KeyError(""Item '{}' is not in list '{}'"" .format(item, self._list)) def __eq__(self, other): assert isinstance(other, str) or isinstance(other, self.__class__) return self.index == self._list.index(other) def __ne__(self, other): return not self.__eq__(other) def __lt__(self, other): assert isinstance(other, str) or isinstance(other, self.__class__) return self.index < self._list.index(other) def __ge__(self, other): return not self.__lt__(other) def __gt__(self, other): assert isinstance(other, str) or isinstance(other, self.__class__) return self.index > self._list.index(other) def __le__(self, other): return not self.__gt__(other) def __str__(self): """"""Always give back the item at the index so it can be used in comparisons like: s_mitaka = CompareOpenStack('mitaka') s_newton = CompareOpenstack('newton') assert s_newton > s_mitaka @returns: <string> """""" return self._list[self.index] charmhelpers.contrib.openstack.utils.CompareOpenStackReleases = \ CompareOpenStackReleases ",,109,4
openstack%2Fcharms.openstack~917458,openstack/charms.openstack,stable/bobcat,I528a9dcc5511b74186132b57948e18e4f3a1ef0b,Support wrapped release names,MERGED,2024-04-30 13:28:09.000000000,2024-05-21 15:43:32.000000000,2024-05-21 15:43:32.000000000,"[{'_account_id': 8992}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-30 13:28:09.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/0ed6bef5ad483289262959563212ec9abc202c73', 'message': 'Support wrapped release names\n\nCharm instances where the release is > zed does not work using the\ndefault_get_charm_instance. The keys stored in the _releases dictionary\nare sorted in their alphabetical sorting order, thus causing releases\nsuch as Bobcat to be treated as older releases than Zed.\n\nThis change causes the release names to be sorted using the\nCompareOpenStackReleases object from the charmhelpers library. This will\nensure that the release names are sorted according the release order\nrather than the alphabetical name.\n\nChange-Id: I528a9dcc5511b74186132b57948e18e4f3a1ef0b\n(cherry picked from commit 760f1257ef11a53e2491fda91ebf6454c1182ad3)\n'}]",0,917458,0ed6bef5ad483289262959563212ec9abc202c73,7,3,1,20870,,,0,"Support wrapped release names

Charm instances where the release is > zed does not work using the
default_get_charm_instance. The keys stored in the _releases dictionary
are sorted in their alphabetical sorting order, thus causing releases
such as Bobcat to be treated as older releases than Zed.

This change causes the release names to be sorted using the
CompareOpenStackReleases object from the charmhelpers library. This will
ensure that the release names are sorted according the release order
rather than the alphabetical name.

Change-Id: I528a9dcc5511b74186132b57948e18e4f3a1ef0b
(cherry picked from commit 760f1257ef11a53e2491fda91ebf6454c1182ad3)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/58/917458/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/__init__.py']",3,0ed6bef5ad483289262959563212ec9abc202c73,support-wrapped-release-names-stable/caracal-stable/bobcat," 'train', 'ussuri', 'victoria', 'wallaby', 'xena', 'yoga', 'zed', 'antelope', 'bobcat', 'caracal',class CompareOpenStackReleases(object): # This class is included due to mocking out the charmhelpers libraries # as they behave poorly with apt installs. _list = charmhelpers.contrib.openstack.utils.OPENSTACK_RELEASES def __init__(self, item): if self._list is None: raise Exception(""Must define the _list in the class definition!"") try: self.index = self._list.index(item) except Exception: raise KeyError(""Item '{}' is not in list '{}'"" .format(item, self._list)) def __eq__(self, other): assert isinstance(other, str) or isinstance(other, self.__class__) return self.index == self._list.index(other) def __ne__(self, other): return not self.__eq__(other) def __lt__(self, other): assert isinstance(other, str) or isinstance(other, self.__class__) return self.index < self._list.index(other) def __ge__(self, other): return not self.__lt__(other) def __gt__(self, other): assert isinstance(other, str) or isinstance(other, self.__class__) return self.index > self._list.index(other) def __le__(self, other): return not self.__gt__(other) def __str__(self): """"""Always give back the item at the index so it can be used in comparisons like: s_mitaka = CompareOpenStack('mitaka') s_newton = CompareOpenstack('newton') assert s_newton > s_mitaka @returns: <string> """""" return self._list[self.index] charmhelpers.contrib.openstack.utils.CompareOpenStackReleases = \ CompareOpenStackReleases ",,109,4
openstack%2Fopenstack-ansible~919874,openstack/openstack-ansible,stable/2023.1,I5edfde899001ce428c20ee0e1c94b897537b8ebf,Remove retired projects from zuul required-projects,MERGED,2024-05-21 06:11:41.000000000,2024-05-21 15:38:42.000000000,2024-05-21 15:36:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-21 06:11:41.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a5b45041c247f352fba2ecc45ae4bbc2ad94ab9', 'message': 'Remove retired projects from zuul required-projects\n\nRemove senlin, murano, sahara, networking-odl and networking-ovn.\n\nChange-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf\n(cherry picked from commit 3fec9b695f057f425c99c7e6a7d7948525f9ac0f)\n'}]",0,919874,8a5b45041c247f352fba2ecc45ae4bbc2ad94ab9,9,3,1,25023,,,0,"Remove retired projects from zuul required-projects

Remove senlin, murano, sahara, networking-odl and networking-ovn.

Change-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf
(cherry picked from commit 3fec9b695f057f425c99c7e6a7d7948525f9ac0f)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/919874/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,8a5b45041c247f352fba2ecc45ae4bbc2ad94ab9,osa/zuul-errors,, # Murano distro deployment does need access to valid git repo anyway - name: openstack/murano - name: openstack/murano-tempest-plugin - name: openstack/senlin-tempest-plugin - name: openstack/sahara-tests - name: openstack/sahara-dashboard - name: openstack/murano - name: openstack/networking-odl - name: openstack/networking-ovn - name: openstack/sahara - name: openstack/senlin - name: openstack/murano - name: openstack/murano-tempest-plugin - name: openstack/senlin-tempest-plugin - name: openstack/sahara-tests,0,15
openstack%2Fdevstack~898845,openstack/devstack,master,Ife6c97869d50cf59b595a5c7477d2d985b9cca38,Enable GLOBAL_VENV=True for all distros,NEW,2023-10-19 17:14:57.000000000,2024-05-21 15:35:47.000000000,,"[{'_account_id': 4146}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-10-19 17:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ada660e2525d121f856480f91862a8c9b8a95782', 'message': '[DNM] testing centos9/rocky9 jobs with global venv enabled\n\nChange-Id: Ife6c97869d50cf59b595a5c7477d2d985b9cca38\n'}, {'number': 2, 'created': '2023-10-27 01:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/814fa3b6877028ba2961b82865b173ada55ae487', 'message': '[DNM] testing centos9/rocky9 jobs with global venv enabled\n\nIt appears this is caused by a change in pip after 21.1.3\ni have not found the specific version but it is broken in\nthe latest 23.x.y\n\nthe delta in behavior apears to be in newer pip wheel is\nvenderod or build into the pip tool\nthat cause an editiabel wheel to be built instead of useing\negg format. i belive that cause pbr to not generate\nthe wsgi files.\n\npinning the pip version locally appears to resolve the\nissues temporaly so lets see if the ci agrees\n\nChange-Id: Ife6c97869d50cf59b595a5c7477d2d985b9cca38\n'}, {'number': 3, 'created': '2023-11-02 12:29:59.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/65cd909bef29dcf5fa6ed9dd9fc3ba7b756d9772', 'message': 'Enable GLOBAL_VENV=True for all distros\n\nThis change removes the workaround for centos 9 stream\nand related distos which disabled the use of the GLOBAL_VENV\ndue to a lack fo supprot for PEP-518 in openstack projects.\n\nPEP-518: https://peps.python.org/pep-0518/\n""Specifying Minimum Build System Requirements for Python Projects""\ndefines the pyproject.toml format and file.\n\npip 20.2 deprecated support for calling ""setup.py install"" when a\npython project did not support PEP-518 as part of adding supprot for\nPEP-517\n\nPEP-517: https://peps.python.org/pep-0517/\n""A build-system independent format for source trees""\n\nIn pip 23.1 the fallback to calling ""setup.py install"" was removed\nand pip now vendors a default pyproject.toml to use when one is not\nfound.\n\nThis breaks our use of pbr to generate wsgi scripts and was the reason\nGLOBAL_VENV=True failed on centos9 and related distros\n\nThis change depend on the changes to the openstack projects to enable\nsupport for PEP: 518, 517 and 660\n\nPEP-660: https://peps.python.org/pep-0660/\n""Editable installs for pyproject.toml based builds (wheel based)""\n\nPEP-660: will be supported in a new release of pbr however a fallback\nexists in setutool >= 64.0.0 that means we do not strictly need to wait\nfor the PBR release provided the system has a new enough setuptools.\n\nCloses-Bug: #2031639\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/899519\nDepends-On: https://review.opendev.org/c/openstack/nova/+/899753\nDepends-On: https://review.opendev.org/c/openstack/placement/+/899947\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/899952\nDepends-On: https://review.opendev.org/c/openstack/glance/+/899951\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/899956\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/899953\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/899765\nDepends-On: https://review.opendev.org/c/openstack/swift/+/899958\nChange-Id: Ife6c97869d50cf59b595a5c7477d2d985b9cca38\n'}]",7,898845,65cd909bef29dcf5fa6ed9dd9fc3ba7b756d9772,15,4,3,11604,,,0,"Enable GLOBAL_VENV=True for all distros

This change removes the workaround for centos 9 stream
and related distos which disabled the use of the GLOBAL_VENV
due to a lack fo supprot for PEP-518 in openstack projects.

PEP-518: https://peps.python.org/pep-0518/
""Specifying Minimum Build System Requirements for Python Projects""
defines the pyproject.toml format and file.

pip 20.2 deprecated support for calling ""setup.py install"" when a
python project did not support PEP-518 as part of adding supprot for
PEP-517

PEP-517: https://peps.python.org/pep-0517/
""A build-system independent format for source trees""

In pip 23.1 the fallback to calling ""setup.py install"" was removed
and pip now vendors a default pyproject.toml to use when one is not
found.

This breaks our use of pbr to generate wsgi scripts and was the reason
GLOBAL_VENV=True failed on centos9 and related distros

This change depend on the changes to the openstack projects to enable
support for PEP: 518, 517 and 660

PEP-660: https://peps.python.org/pep-0660/
""Editable installs for pyproject.toml based builds (wheel based)""

PEP-660: will be supported in a new release of pbr however a fallback
exists in setutool >= 64.0.0 that means we do not strictly need to wait
for the PBR release provided the system has a new enough setuptools.

Closes-Bug: #2031639
Depends-On: https://review.opendev.org/c/openstack/keystone/+/899519
Depends-On: https://review.opendev.org/c/openstack/nova/+/899753
Depends-On: https://review.opendev.org/c/openstack/placement/+/899947
Depends-On: https://review.opendev.org/c/openstack/cinder/+/899952
Depends-On: https://review.opendev.org/c/openstack/glance/+/899951
Depends-On: https://review.opendev.org/c/openstack/neutron/+/899956
Depends-On: https://review.opendev.org/c/openstack/horizon/+/899953
Depends-On: https://review.opendev.org/c/openstack/ironic/+/899765
Depends-On: https://review.opendev.org/c/openstack/swift/+/899958
Change-Id: Ife6c97869d50cf59b595a5c7477d2d985b9cca38
",git fetch https://review.opendev.org/openstack/devstack refs/changes/45/898845/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,ada660e2525d121f856480f91862a8c9b8a95782,pip-23.1-support,GLOBAL_VENV=True ,,2,0
openstack%2Foctavia~915114,openstack/octavia,master,Id3d2e4747a633e4e55b2037ac92a194bd8fbe16f,Add spec for custom SGs on VIP ports,NEW,2024-04-05 07:49:09.000000000,2024-05-21 15:24:21.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-04-05 07:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fd8ae2581cb55bdd47889b0d08c77fc68d62876b', 'message': 'Add spec for custom SGs on VIP ports\n\nChange-Id: Id3d2e4747a633e4e55b2037ac92a194bd8fbe16f\n'}, {'number': 2, 'created': '2024-05-15 11:15:59.000000000', 'files': ['specs/version14.0/custom-security-groups-for-VIP-ports.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d955c5969e7ff9b86f93798bd999b7657f0b35b', 'message': 'Add spec for custom SGs on VIP ports\n\nRelated-Bug: #2065767\nChange-Id: Id3d2e4747a633e4e55b2037ac92a194bd8fbe16f\n'}]",25,915114,0d955c5969e7ff9b86f93798bd999b7657f0b35b,15,3,2,29244,,,0,"Add spec for custom SGs on VIP ports

Related-Bug: #2065767
Change-Id: Id3d2e4747a633e4e55b2037ac92a194bd8fbe16f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/14/915114/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/version14.0/custom-security-groups-for-VIP-ports.rst'],1,fd8ae2581cb55bdd47889b0d08c77fc68d62876b,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Support for Custom Security Groups for VIP Ports ================================================ This specification describes how Octavia can allow users to provide their own Neutron Security Group for the VIP Port of a load balancer. Problem description =================== Many users have requested a method for customizing the security groups of the VIP ports of a load balancer in Octavia. There are some benefits from using custom security groups: * Allowing incoming connections only from specific remote group IDs. * Having a unique API (The networking Security Groups API) to configure the network security for all the users' resources. Proposed change =============== A user will be able to provide a ``vip_sg_id`` parameter when creating a load balancer. This parameter will be optional and defaulted to None. When it's not set, the behavior of the VIP port would not change. If the parameter is set, Octavia would apply this security group to the VIP and VRRP ports. Then Octavia would create and manage a security group with rules for its internal communication (haproxy peering, VRRP communication). Thus the VIP port would have 2 security groups. No rules based on the port or the protocol of the listeners would be managed by Octavia, for each new listener, the user would have to add their own rules to theis security group. Alternatives ------------ An alternative method would be to implement an ``allowed_remote_group_ids`` parameter when creating a load balancer. Users would have a feature that covers the first point described in ""Problem Description"". Data model impact ----------------- This feature requires a change in the data model, a new field ``sg_id`` (nullable) is added to the ``Vip`` table. It also requires an update of the data model in octavia-lib. REST API impact --------------- The POST /v2/lbaas/loadbalancers endpoint is updated to accept an optional ``vip_sg_id`` parameter (an UUID that represents a Neutron Security Group). If the parameter is set, Octavia checks that the security group exists and that the user is allowed to use it, then Octavia creates the VIP object with this new parameter. The PUT /v2/lbaas/loadbalancers endpoint is unchanged, updating the ``vip_sg_id`` of a load balancer is not allowed. The ``vip_sg_id`` parameter is also added to the reply of the GET method. Security impact --------------- There's no security impact, the security of newly created load balancers and listeners would be more restricted with this feature, because less rules are pushed to the security group. It's up to the users to add rules to allow incoming traffic to the load balancer. Notifications impact -------------------- None. Other end user impact --------------------- The impact for the end user is that they are responsible for allowing the incomming traffic to their load balancer. The creating of a new listener would request at least 2 API calls, one for creating the listener in Octavia, one for adding a new security group rule to their Neutron security group. Performance Impact ------------------ Performance could be impacted if the user adds too many rules to their security group, but this issue is outside the scope of Octavia. Other deployer impact --------------------- None. TBD: we could discuss a possible global configuration setting that would disable this feature for all the users. Developer impact ---------------- Impact is minimal, simple change in the API and in the DB, only a few new conditionals in the allowed_address_pairs module. It could have a more significant impact if this feature is added to the octavia-dashboard. Implementation ============== Assignee(s) ----------- Primary assignee: gthiemonge Work Items ---------- 1. Update the data model of the VIP port in octavia_lib and octavia. 2. Update the API to handle the new ``vip_sg_id`` parameter. 3. Update the allowed_address_pairs module to handle this new feature. 4. Update the api-ref and the user guide. 5. Add required unit and functional tests. 6. Add tempest tests for this feature. Dependencies ============ None. Testing ======= The feature can easily be tested with tempest tests. - creation of a load balancer and its security group, check that it's reachable - update of the security group, check that the connectivity to the load balancer is impacted. Documentation Impact ==================== The feature will be included in the cookbook. The api-ref and feature matrix will be also updated. References ========== None. ",,178,0
openstack%2Ftempest~918135,openstack/tempest,master,Iadd5549a87614b893e3b284f926cb5c3dc185ef7,End support for stable/zed,MERGED,2024-05-03 19:21:57.000000000,2024-05-21 15:21:47.000000000,2024-05-21 15:17:57.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2024-05-03 19:21:57.000000000', 'files': ['doc/source/supported_version.rst', 'releasenotes/notes/end-of-support-of-zed-43e2d5dd5608cb10.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6eea5f92db047b98b587dcb2e09b918bb61f23cc', 'message': ""End support for stable/zed\n\nThis marks the end of support for stable/zed\nwhich is moving to 'unmaintained' stage[1].\nThis adds the release note to mark the end of\nsupport of Zed.\n\n[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22\n\nChange-Id: Iadd5549a87614b893e3b284f926cb5c3dc185ef7\n""}]",3,918135,6eea5f92db047b98b587dcb2e09b918bb61f23cc,9,3,1,8556,,,0,"End support for stable/zed

This marks the end of support for stable/zed
which is moving to 'unmaintained' stage[1].
This adds the release note to mark the end of
support of Zed.

[1] https://review.opendev.org/q/topic:%22zed-unmaintained%22

Change-Id: Iadd5549a87614b893e3b284f926cb5c3dc185ef7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/35/918135/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/supported_version.rst', 'releasenotes/notes/end-of-support-of-zed-43e2d5dd5608cb10.yaml']",2,6eea5f92db047b98b587dcb2e09b918bb61f23cc,zed-last,"--- prelude: > This is an intermediate release during the 2024.2 development cycle to mark the end of support for Zed release in Tempest. After this release, Tempest will support below OpenStack Releases: * 2024.1 * 2023.2 * 2023.1 Current development of Tempest is for OpenStack 2024.2 development cycle. ",,12,1
openstack%2Fneutron~920075,openstack/neutron,master,I568ebb93bc009951ca113a09ee750982f580b40d,Update grenade_from_branch for skip level jobs,MERGED,2024-05-21 06:21:26.000000000,2024-05-21 15:21:46.000000000,2024-05-21 15:17:54.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 06:21:26.000000000', 'files': ['zuul.d/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2beb20f92b4b306af9e640e977a5166f376bf098', 'message': 'Update grenade_from_branch for skip level jobs\n\nSkip level jobs were wrongly upgrading from stable/2023.1.\nAs master is currently 2024.2, upgrade from branch should\nbe 2023.2, this patch fixes it.\n\nRelated-Bug: #2066221\nChange-Id: I568ebb93bc009951ca113a09ee750982f580b40d\n'}]",17,920075,2beb20f92b4b306af9e640e977a5166f376bf098,10,5,1,13861,,,0,"Update grenade_from_branch for skip level jobs

Skip level jobs were wrongly upgrading from stable/2023.1.
As master is currently 2024.2, upgrade from branch should
be 2023.2, this patch fixes it.

Related-Bug: #2066221
Change-Id: I568ebb93bc009951ca113a09ee750982f580b40d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/920075/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/grenade.yaml'],1,2beb20f92b4b306af9e640e977a5166f376bf098,bug/2066221," # target release. Right now, this is Bobcat (2023.2) because master is grenade_from_branch: stable/2023.2 # target release. Right now, this is Bobcat (2023.2) because master is grenade_from_branch: stable/2023.2"," # target release. Right now, this is Antelope (2023.1) because master is grenade_from_branch: stable/2023.1 # target release. Right now, this is Antelope (2023.1) because master is grenade_from_branch: stable/2023.1",4,4
openstack%2Fkeystone~913630,openstack/keystone,master,I269449185216e98155807b046b7bab48610911b3,Update master for stable/2024.1,MERGED,2024-03-19 10:15:31.000000000,2024-05-21 15:21:43.000000000,2024-05-21 15:17:50.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-19 10:15:31.000000000', 'files': ['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/88fcb38ca26cbcc25e26bf6e5cde179d1caecb5b', 'message': 'Update master for stable/2024.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2024.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2024.1.\n\nSem-Ver: feature\nChange-Id: I269449185216e98155807b046b7bab48610911b3\n'}]",1,913630,88fcb38ca26cbcc25e26bf6e5cde179d1caecb5b,9,4,1,22816,,,0,"Update master for stable/2024.1

Add file to the reno documentation build to show release notes for
stable/2024.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2024.1.

Sem-Ver: feature
Change-Id: I269449185216e98155807b046b7bab48610911b3
",git fetch https://review.opendev.org/openstack/keystone refs/changes/30/913630/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst']",2,88fcb38ca26cbcc25e26bf6e5cde179d1caecb5b,reno-2024.1, 2024.1,,7,0
openstack%2Fnova~907591,openstack/nova,master,I2ba52a9ecc5cc24dee98837e0513897cba2eb046,tox: Drop envdir,MERGED,2024-02-02 14:42:53.000000000,2024-05-21 15:20:05.000000000,2024-05-21 15:17:45.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-02 14:42:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/131c6e0d2047edb25fe649b022ace72e561b0fc8', 'message': ""tox: Drop envdir\n\ntox now always recreates an env although the env is shared using envdir\noptions.\n~~~\n$ tox -e genpolicy\ngenpolicy: recreate env because env type changed from\n{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to\n{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}\n~~~\n\nAccording to the maintainer of tox, this functionality is not intended\nto be supported.\nhttps://github.com/tox-dev/tox/issues/425#issuecomment-1011944293\n\nThere is a note not to remove the option for bandit integration job but\nthe note is no longer valid since the functionality itself no longer\nworks with recent tox.\n\nChange-Id: I2ba52a9ecc5cc24dee98837e0513897cba2eb046\n""}]",0,907591,131c6e0d2047edb25fe649b022ace72e561b0fc8,11,3,1,9816,,,0,"tox: Drop envdir

tox now always recreates an env although the env is shared using envdir
options.
~~~
$ tox -e genpolicy
genpolicy: recreate env because env type changed from
{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to
{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}
~~~

According to the maintainer of tox, this functionality is not intended
to be supported.
https://github.com/tox-dev/tox/issues/425#issuecomment-1011944293

There is a note not to remove the option for bandit integration job but
the note is no longer valid since the functionality itself no longer
works with recent tox.

Change-Id: I2ba52a9ecc5cc24dee98837e0513897cba2eb046
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/907591/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,131c6e0d2047edb25fe649b022ace72e561b0fc8,tox-envdir,,envdir = {toxworkdir}/sharedenvdir = {toxworkdir}/functionalenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docs# NOTE(browne): This is required for the integration test job of the bandit # project. Please do not remove. envdir = {toxworkdir}/shared,0,14
openstack%2Fswift~920106,openstack/swift,master,I5b630e2f153c77eb0bd1e41cbfd1cb6903779e27,replicator: Add sync_batches_per_revert option,ABANDONED,2024-05-21 15:03:38.000000000,2024-05-21 15:05:09.000000000,,[],"[{'number': 1, 'created': '2024-05-21 15:03:38.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/85a5ba34fa1d4221a6e0154faf72f857461747fb', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be able\nto break it up into a configurable number of (randomized) batches so we\ncan show progress (and delete data!) more frequently. If any of the\nbatches fail, continue to the next batch but don't delete the partition.\n\nThis has two main applications:\n\n- When a cluster is nearing full, the progressive delete provides relief\n  to full disks ASAP, without waiting for the complete partition to be\n  sync'ed.\n\n- When old hardware is being decomissioned, drive errors may cause some\n  suffixes not only to cause rsync errors during replication, but also\n  to prevent quarantining during auditing. In such a case, the entire\n  partition would previously hang around indefinitely; with batching,\n  the partition would gradually drain, leaving behind only the bad\n  suffixes.\n\nIt also reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n\nChange-Id: I5b630e2f153c77eb0bd1e41cbfd1cb6903779e27\n""}]",0,920106,85a5ba34fa1d4221a6e0154faf72f857461747fb,2,0,1,15343,,,0,"replicator: Add sync_batches_per_revert option

Default to a single batch to match prior behavior; this default may
change as we gain more operational experience.

Still try to revert all handoff data in the first pass -- just be able
to break it up into a configurable number of (randomized) batches so we
can show progress (and delete data!) more frequently. If any of the
batches fail, continue to the next batch but don't delete the partition.

This has two main applications:

- When a cluster is nearing full, the progressive delete provides relief
  to full disks ASAP, without waiting for the complete partition to be
  sync'ed.

- When old hardware is being decomissioned, drive errors may cause some
  suffixes not only to cause rsync errors during replication, but also
  to prevent quarantining during auditing. In such a case, the entire
  partition would previously hang around indefinitely; with batching,
  the partition would gradually drain, leaving behind only the bad
  suffixes.

It also reduces the likelihood of timeouts (either rsync_timeout or
http_timeout during REPLICATE calls). These timeouts now apply
per-batch.

Additionally, it gives periodic opportunities for other replicators to
sneak in and grab an rsync connection slot.

See also: https://review.opendev.org/c/openstack/swift/+/818017
Change-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa

Change-Id: I5b630e2f153c77eb0bd1e41cbfd1cb6903779e27
",git fetch https://review.opendev.org/openstack/swift refs/changes/06/920106/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py', 'etc/object-server.conf-sample']",3,85a5ba34fa1d4221a6e0154faf72f857461747fb,,# Maximum number of batches to use when syncing a handoff back to primaries. # This progressively deletes handoff data as batches complete; it may be # useful to increase this when rebalancing a fairly full cluster. # Note that this will inflate some progress stats emitted to logs and recon. # sync_batches_per_revert = 1 #,,144,44
openstack%2Fswift~920070,openstack/swift,master,I1ba65a7ef2516f602684cee48e00ac65bb791cd0,replicator: Add sync_batches_per_revert option,ABANDONED,2024-05-21 03:52:57.000000000,2024-05-21 15:04:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-21 03:52:57.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/df778dbf91f3671c932d220916667c2c0d83cbc7', 'message': ""replicator: Add sync_batches_per_revert option\n\nDefault to a single batch to match prior behavior; this default may\nchange as we gain more operational experience.\n\nStill try to revert all handoff data in the first pass -- just be able\nto break it up into a configurable number of (randomized) batches so we\ncan show progress (and delete data!) more frequently. If any of the\nbatches fail, continue to the next batch but don't delete the partition.\n\nThis has two main applications:\n\n- When a cluster is nearing full, the progressive delete provides relief\n  to full disks ASAP, without waiting for the complete partition to be\n  sync'ed.\n\n- When old hardware is being decomissioned, drive errors may cause some\n  suffixes not only to cause rsync errors during replication, but also\n  to prevent quarantining during auditing. In such a case, the entire\n  partition would previously hang around indefinitely; with batching,\n  the partition would gradually drain, leaving behind only the bad\n  suffixes.\n\nIt also reduces the likelihood of timeouts (either rsync_timeout or\nhttp_timeout during REPLICATE calls). These timeouts now apply\nper-batch.\n\nAdditionally, it gives periodic opportunities for other replicators to\nsneak in and grab an rsync connection slot.\n\nSee also: https://review.opendev.org/c/openstack/swift/+/818017\nChange-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa\n\nChange-Id: I1ba65a7ef2516f602684cee48e00ac65bb791cd0\n""}]",0,920070,df778dbf91f3671c932d220916667c2c0d83cbc7,4,1,1,15343,,,0,"replicator: Add sync_batches_per_revert option

Default to a single batch to match prior behavior; this default may
change as we gain more operational experience.

Still try to revert all handoff data in the first pass -- just be able
to break it up into a configurable number of (randomized) batches so we
can show progress (and delete data!) more frequently. If any of the
batches fail, continue to the next batch but don't delete the partition.

This has two main applications:

- When a cluster is nearing full, the progressive delete provides relief
  to full disks ASAP, without waiting for the complete partition to be
  sync'ed.

- When old hardware is being decomissioned, drive errors may cause some
  suffixes not only to cause rsync errors during replication, but also
  to prevent quarantining during auditing. In such a case, the entire
  partition would previously hang around indefinitely; with batching,
  the partition would gradually drain, leaving behind only the bad
  suffixes.

It also reduces the likelihood of timeouts (either rsync_timeout or
http_timeout during REPLICATE calls). These timeouts now apply
per-batch.

Additionally, it gives periodic opportunities for other replicators to
sneak in and grab an rsync connection slot.

See also: https://review.opendev.org/c/openstack/swift/+/818017
Change-Id: Ie12dcb4e524ee3af3ddc2b70c027fb62f68720fa

Change-Id: I1ba65a7ef2516f602684cee48e00ac65bb791cd0
",git fetch https://review.opendev.org/openstack/swift refs/changes/70/920070/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py', 'etc/object-server.conf-sample']",3,df778dbf91f3671c932d220916667c2c0d83cbc7,,# Maximum number of batches to use when syncing a handoff back to primaries. # This progressively deletes handoff data as batches complete; it may be # useful to increase this when rebalancing a fairly full cluster. # Note that this will inflate some progress stats emitted to logs and recon. # sync_batches_per_revert = 1 #,,144,44
openstack%2Fcharm-rabbitmq-server~915836,openstack/charm-rabbitmq-server,master,I9fd508a473554dab037478cfabffe2504255b2fa,[DNM] Test review to test rabbitmq payload updates,NEW,2024-04-15 09:00:12.000000000,2024-05-21 14:54:59.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-15 09:00:12.000000000', 'files': ['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/77d1610432d5586cae7dbfefb3dd4ddea57ecc01', 'message': '[DNM] Test review to test rabbitmq payload updates\n\nDO NOT MERGE!\n\nThis review is to test updates to the rabbitmq server software as part\nof regression testing.\n\n[1] https://launchpad.net/~mitchdz/+archive/ubuntu/rabbitmq-server-mre-2204\n\nChange-Id: I9fd508a473554dab037478cfabffe2504255b2fa\n'}]",4,915836,77d1610432d5586cae7dbfefb3dd4ddea57ecc01,11,2,1,20870,,,0,"[DNM] Test review to test rabbitmq payload updates

DO NOT MERGE!

This review is to test updates to the rabbitmq server software as part
of regression testing.

[1] https://launchpad.net/~mitchdz/+archive/ubuntu/rabbitmq-server-mre-2204

Change-Id: I9fd508a473554dab037478cfabffe2504255b2fa
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/36/915836/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",2,77d1610432d5586cae7dbfefb3dd4ddea57ecc01,," source: ""ppa:mitchdz/rabbitmq-server-mre-2204""",,2,0
openstack%2Fkolla-ansible~913724,openstack/kolla-ansible,master,I42ba4fb83b5bb31058e888f0d39d47c27b844de5,Switch mariadb's loadbalancer from HAProxy to ProxySQL,NEW,2024-03-19 22:52:53.000000000,2024-05-21 14:40:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-03-19 22:52:53.000000000', 'files': ['releasenotes/notes/switch-to-proxysql-907c2bc2f2c04de4.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/mariadb/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d0097578755ec24148a6842522e66743816b83c', 'message': ""Switch mariadb's loadbalancer from HAProxy to ProxySQL\n\nIt's been some time since ProxySQL has been\nwith us in Kolla. Let's switch the load balancer\nfor MariaDB connections from HAProxy to ProxySQL.\n\nChange-Id: I42ba4fb83b5bb31058e888f0d39d47c27b844de5\n""}]",1,913724,5d0097578755ec24148a6842522e66743816b83c,4,3,1,27339,,,0,"Switch mariadb's loadbalancer from HAProxy to ProxySQL

It's been some time since ProxySQL has been
with us in Kolla. Let's switch the load balancer
for MariaDB connections from HAProxy to ProxySQL.

Change-Id: I42ba4fb83b5bb31058e888f0d39d47c27b844de5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/913724/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/switch-to-proxysql-907c2bc2f2c04de4.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/mariadb/defaults/main.yml', 'etc/kolla/globals.yml']",4,5d0097578755ec24148a6842522e66743816b83c,,"#enable_proxysql: ""yes""","#enable_proxysql: ""no""",7,3
openstack%2Fdesignate~918364,openstack/designate,master,Id1949eab3ff9d02150527725c5d305e914942fa8,Fix unit tests depending on /etc/resolv.conf,MERGED,2024-05-06 22:05:06.000000000,2024-05-21 14:36:27.000000000,2024-05-21 14:35:23.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31664}]","[{'number': 1, 'created': '2024-05-06 22:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e10da1c3b5db040fe7ae3377e96bdab5ab6998b7', 'message': 'Fix unit tests depending on /etc/resolv.conf\n\nTwo unit tests loaded dns-python code that reads from /etc/resolv.conf on the\ntest host. If there are no nameservers listed in that file, the test would fail\neven though it is not needed for the test.\nThis patch mocks out the calls dns-python makes that read the resolver records.\n\nCloses-bug: #2064916\nChange-Id: Id1949eab3ff9d02150527725c5d305e914942fa8\n'}, {'number': 2, 'created': '2024-05-16 17:12:15.000000000', 'files': ['designate/tests/unit/mdns/test_handler.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/71bffee11f9adfb196e4bffb322e369830254645', 'message': 'Fix unit tests depending on /etc/resolv.conf\n\nTwo unit tests loaded dns-python code that reads from /etc/resolv.conf on the\ntest host. If there are no nameservers listed in that file, the test would fail\neven though it is not needed for the test.\nThis patch mocks out the calls dns-python makes that read the resolver records.\n\nCloses-bug: #2064916\nChange-Id: Id1949eab3ff9d02150527725c5d305e914942fa8\n'}]",4,918364,71bffee11f9adfb196e4bffb322e369830254645,13,4,2,11628,,,0,"Fix unit tests depending on /etc/resolv.conf

Two unit tests loaded dns-python code that reads from /etc/resolv.conf on the
test host. If there are no nameservers listed in that file, the test would fail
even though it is not needed for the test.
This patch mocks out the calls dns-python makes that read the resolver records.

Closes-bug: #2064916
Change-Id: Id1949eab3ff9d02150527725c5d305e914942fa8
",git fetch https://review.opendev.org/openstack/designate refs/changes/64/918364/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/unit/mdns/test_handler.py'],1,e10da1c3b5db040fe7ae3377e96bdab5ab6998b7,bug/2064916," @mock.patch.object(dns.resolver.BaseResolver, ""read_registry"") @mock.patch.object(dns.resolver.BaseResolver, ""read_resolv_conf"") def test_notify(self, mock_query, mock_resolv, mock_registry): @mock.patch.object(dns.resolver.BaseResolver, ""read_registry"") @mock.patch.object(dns.resolver.BaseResolver, ""read_resolv_conf"") def test_notify_same_serial(self, mock_query, mock_resolv, mock_registry):"," def test_notify(self, mock_query): def test_notify_same_serial(self, mock_query):",6,2
openstack%2Ftempest~918725,openstack/tempest,master,Ia64a1c09d4b5e9815ff5926161d550b56433ec64,Enable tempest cleanup with record_resources in jobs,MERGED,2024-05-09 11:31:04.000000000,2024-05-21 14:23:56.000000000,2024-05-21 14:21:17.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-09 11:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1e8bf294d8adceb983b092e2fa565e0366000d16', 'message': ""Enable record_resources in tempest-all job\n\nThis enables record_resources in the tempest-all job to create\na list of all the resources created during the tempest run.\nThen the list will be used to run 'tempest cleanup' to clean only\nthe resources in the list.\n\nChange-Id: Ia64a1c09d4b5e9815ff5926161d550b56433ec64\n""}, {'number': 2, 'created': '2024-05-09 14:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14955d3b2d7bd535d38d3ace35ccac8efed20709', 'message': ""Enable record_resources in tempest-all job\n\nThis enables record_resources in the tempest-all job to create\na list of all the resources created during the tempest run.\nThen the list will be used to run 'tempest cleanup' to clean only\nthe resources in the list.\n\nChange-Id: Ia64a1c09d4b5e9815ff5926161d550b56433ec64\n""}, {'number': 3, 'created': '2024-05-10 08:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e88c6ed452ca73c504671204ddfaa34ad6132837', 'message': ""Enable record_resources in tempest-all job\n\nThis enables record_resources in the tempest-all job to create\na list of all the resources created during the tempest run.\nThen the list will be used to run 'tempest cleanup' to clean only\nthe resources in the list.\n\nChange-Id: Ia64a1c09d4b5e9815ff5926161d550b56433ec64\n""}, {'number': 4, 'created': '2024-05-10 17:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/39ad57ab6466dc0c53310849a129b3b5c4a992d2', 'message': ""Enable tempest cleanup with record_resources in jobs\n\nThis enables tempest cleanup with record_resources in the tempest-all job\nto create a list of all the resources created during the tempest run.\nThen the list will be used to run 'tempest cleanup' to clean only\nthe resources in the list.\n\nAlso, enable the dry cleanup with record_resources in tempest-extra-tests\njob.\n\nChange-Id: Ia64a1c09d4b5e9815ff5926161d550b56433ec64\n""}, {'number': 5, 'created': '2024-05-11 08:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30829861a86c321141aa07b52140d358c999e652', 'message': ""Enable tempest cleanup with record_resources in jobs\n\nThis enables tempest cleanup with record_resources in the tempest-all job\nto create a list of all the resources created during the tempest run.\nThen the list will be used to run 'tempest cleanup' to clean only\nthe resources in the list.\n\nAlso, enable the dry cleanup with record_resources in tempest-extra-tests\njob.\n\nChange-Id: Ia64a1c09d4b5e9815ff5926161d550b56433ec64\n""}, {'number': 6, 'created': '2024-05-16 10:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3785019c87c1315f410d75ddf2b226f0fcb50e6d', 'message': ""Enable tempest cleanup with record_resources in jobs\n\nThis enables tempest cleanup with record_resources in the tempest-all job\nto create a list of all the resources created during the tempest run.\nThen the list will be used to run 'tempest cleanup' to clean only\nthe resources in the list.\n\nAlso, enable the dry cleanup with record_resources in tempest-extra-tests\njob.\n\nChange-Id: Ia64a1c09d4b5e9815ff5926161d550b56433ec64\n""}, {'number': 7, 'created': '2024-05-20 10:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/de96268f72c4967a4d68c2fe87952f742c4e7be2', 'message': ""Enable tempest cleanup with record_resources in jobs\n\nThis enables tempest cleanup with record_resources in the tempest-all job\nto create a list of all the resources created during the tempest run.\nThen the list will be used to run 'tempest cleanup' to clean only\nthe resources in the list.\n\nAlso, enable the dry cleanup with record_resources in tempest-extra-tests\njob.\n\nChange-Id: Ia64a1c09d4b5e9815ff5926161d550b56433ec64\n""}, {'number': 8, 'created': '2024-05-20 13:05:15.000000000', 'files': ['roles/tempest-cleanup/defaults/main.yaml', 'roles/tempest-cleanup/README.rst', 'zuul.d/integrated-gate.yaml', 'roles/tempest-cleanup/tasks/dry_run.yaml', 'roles/tempest-cleanup/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a9c40d4696d89afc7ef71ca4bbbd55cd4c63890', 'message': ""Enable tempest cleanup with record_resources in jobs\n\nThis enables tempest cleanup with record_resources in the tempest-all job\nto create a list of all the resources created during the tempest run.\nThen the list will be used to run 'tempest cleanup' to clean only\nthe resources in the list.\n\nAlso, enable the dry cleanup with record_resources in tempest-extra-tests\njob.\n\nChange-Id: Ia64a1c09d4b5e9815ff5926161d550b56433ec64\n""}]",28,918725,1a9c40d4696d89afc7ef71ca4bbbd55cd4c63890,58,2,8,22873,,,0,"Enable tempest cleanup with record_resources in jobs

This enables tempest cleanup with record_resources in the tempest-all job
to create a list of all the resources created during the tempest run.
Then the list will be used to run 'tempest cleanup' to clean only
the resources in the list.

Also, enable the dry cleanup with record_resources in tempest-extra-tests
job.

Change-Id: Ia64a1c09d4b5e9815ff5926161d550b56433ec64
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/918725/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tempest-cleanup/README.rst', 'zuul.d/integrated-gate.yaml', 'roles/tempest-cleanup/tasks/main.yaml']",3,1e8bf294d8adceb983b092e2fa565e0366000d16,tempest-cleanup-resource-list," when: - not run_tempest_cleanup_prefix - run_tempest_cleanup_resource_list is not defined or not run_tempest_cleanup_resource_list - name: Run tempest cleanup with tempest resource list become: yes become_user: tempest command: tox -evenv-tempest -- tempest cleanup --debug --resource-list args: chdir: ""{{ devstack_base_dir }}/tempest"" when: run_tempest_cleanup_resource_list ", when: not run_tempest_cleanup_prefix,27,1
openstack%2Fkeystoneauth~912179,openstack/keystoneauth,master,I4cd6c87d0b674c8f2682e075403a6cf5f7fc6cde,Update master for stable/2024.1,MERGED,2024-03-08 14:12:51.000000000,2024-05-21 13:43:24.000000000,2024-05-21 13:42:21.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-08 14:12:51.000000000', 'files': ['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/76984a727c81a08b2c78950057b22b0580c4d6a5', 'message': 'Update master for stable/2024.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2024.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2024.1.\n\nSem-Ver: feature\nChange-Id: I4cd6c87d0b674c8f2682e075403a6cf5f7fc6cde\n'}]",1,912179,76984a727c81a08b2c78950057b22b0580c4d6a5,10,5,1,22816,,,0,"Update master for stable/2024.1

Add file to the reno documentation build to show release notes for
stable/2024.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2024.1.

Sem-Ver: feature
Change-Id: I4cd6c87d0b674c8f2682e075403a6cf5f7fc6cde
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/79/912179/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst']",2,76984a727c81a08b2c78950057b22b0580c4d6a5,reno-2024.1, 2024.1,,7,0
openstack%2Fnova~897017,openstack/nova,master,I0bbd3a917486eeaa87b76120b9be60eae26361f2,remove deprecated vmware virt driver,ABANDONED,2023-10-02 12:38:33.000000000,2024-05-21 13:42:50.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-10-02 12:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1ac69f8c876e85b1f85df34a09c8b38eb7da1d5', 'message': 'remove deprecated vmware virt driver\n\nThis change removes the deprecated vmwareapi virt driver\nand config options.\n\nthe flavor extra specs validation and mks console supprot\nare not by this patch.\n\nChange-Id: I0bbd3a917486eeaa87b76120b9be60eae26361f2\n'}, {'number': 2, 'created': '2023-10-02 20:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2063e964bbd0877491753394cfb8d737a90b17c8', 'message': 'remove deprecated vmware virt driver\n\nThis change removes the deprecated vmwareapi virt driver\nand config options.\n\nthe flavor extra specs validation and mks console supprot\nare not by this patch.\n\nChange-Id: I0bbd3a917486eeaa87b76120b9be60eae26361f2\n'}, {'number': 3, 'created': '2023-10-03 11:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/975af0c9c5ec41e1b12937ff38ea4815ce572d3e', 'message': 'remove deprecated vmware virt driver\n\nThis change removes the deprecated vmwareapi virt driver\nand config options.\n\nthe flavor extra specs validation and mks console support\nare not by this patch.\n\nChange-Id: I0bbd3a917486eeaa87b76120b9be60eae26361f2\n'}, {'number': 4, 'created': '2023-10-03 11:17:15.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/tests/unit/virt/vmwareapi/stubs.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'README.rst', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py', 'doc/source/user/feature-matrix-gp.ini', 'doc/source/install/get-started-compute.rst', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py', 'nova/virt/vmwareapi/constants.py', 'nova/api/validation/extra_specs/quota.py', 'nova/conf/netconf.py', 'doc/source/admin/configuring-migrations.rst', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/virt/vmwareapi/ds_util.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py', 'doc/source/user/support-matrix.ini', 'nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/session.py', 'nova/virt/vmwareapi/driver.py', 'doc/source/admin/resource-limits.rst', 'doc/source/configuration/extra-specs.rst', 'nova/conf/__init__.py', 'nova/tests/unit/virt/vmwareapi/test_session.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/error_util.py', 'setup.cfg', 'tox.ini', 'doc/source/admin/configuration/hypervisor-vmware.rst', 'nova/conf/compute.py', 'doc/source/admin/architecture.rst', 'doc/source/admin/remote-console-access.rst', 'nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'doc/source/admin/config-drive.rst', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/imagecache.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util_datastore_selection.py', 'nova/virt/vmwareapi/host.py', 'nova/api/validation/extra_specs/vmware.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/conf/vmware.py', 'doc/source/user/flavors.rst', 'etc/nova/logging_sample.conf', 'releasenotes/notes/remove-vmware-virt-driver-5c11af392ad2abbf.yaml', 'nova/virt/vmwareapi/images.py', 'doc/source/admin/configuration/hypervisors.rst', 'nova/conf/imagecache.py', 'nova/virt/vmwareapi/vif.py', 'nova/virt/vmwareapi/network_util.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py', 'nova/virt/vmwareapi/vim_util.py', 'nova/virt/vmwareapi/__init__.py', 'nova/tests/unit/virt/vmwareapi/ovf.xml', 'nova/tests/unit/virt/vmwareapi/test_vim_util.py', 'nova/tests/unit/virt/vmwareapi/__init__.py', 'nova/conf/mks.py', 'doc/source/user/feature-matrix-hpc.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/82390cca4d1194c04a230494d5cbc9a6974d0ee9', 'message': 'remove deprecated vmware virt driver\n\nThis change removes the deprecated vmwareapi virt driver\nand config options.\n\nThe flavor extra specs validation and mks console support\nare not removed by this patch, nor is any object cleanup.\nThese can be done as follow up patches if desirable.\n\nChange-Id: I0bbd3a917486eeaa87b76120b9be60eae26361f2\n'}]",15,897017,82390cca4d1194c04a230494d5cbc9a6974d0ee9,21,4,4,11604,,,0,"remove deprecated vmware virt driver

This change removes the deprecated vmwareapi virt driver
and config options.

The flavor extra specs validation and mks console support
are not removed by this patch, nor is any object cleanup.
These can be done as follow up patches if desirable.

Change-Id: I0bbd3a917486eeaa87b76120b9be60eae26361f2
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/897017/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'nova/tests/unit/virt/vmwareapi/stubs.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'README.rst', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py', 'doc/source/user/feature-matrix-gp.ini', 'doc/source/install/get-started-compute.rst', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py', 'nova/virt/vmwareapi/constants.py', 'nova/api/validation/extra_specs/quota.py', 'nova/conf/netconf.py', 'doc/source/admin/configuring-migrations.rst', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/virt/vmwareapi/ds_util.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py', 'doc/source/user/support-matrix.ini', 'nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/session.py', 'nova/virt/vmwareapi/driver.py', 'doc/source/admin/resource-limits.rst', 'doc/source/configuration/extra-specs.rst', 'nova/conf/__init__.py', 'nova/tests/unit/virt/vmwareapi/test_session.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/error_util.py', 'setup.cfg', 'tox.ini', 'doc/source/admin/configuration/hypervisor-vmware.rst', 'nova/conf/compute.py', 'doc/source/admin/architecture.rst', 'doc/source/admin/remote-console-access.rst', 'nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'doc/source/admin/config-drive.rst', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/imagecache.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util_datastore_selection.py', 'nova/virt/vmwareapi/host.py', 'nova/api/validation/extra_specs/vmware.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/conf/vmware.py', 'doc/source/user/flavors.rst', 'etc/nova/logging_sample.conf', 'releasenotes/notes/remove-vmware-virt-driver-5c11af392ad2abbf.yaml', 'nova/virt/vmwareapi/images.py', 'doc/source/admin/configuration/hypervisors.rst', 'nova/conf/imagecache.py', 'nova/virt/vmwareapi/vif.py', 'nova/virt/vmwareapi/network_util.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py', 'nova/virt/vmwareapi/vim_util.py', 'nova/virt/vmwareapi/__init__.py', 'nova/tests/unit/virt/vmwareapi/ovf.xml', 'nova/tests/unit/virt/vmwareapi/test_vim_util.py', 'nova/tests/unit/virt/vmwareapi/__init__.py', 'nova/conf/mks.py', 'doc/source/user/feature-matrix-hpc.ini']",59,a1ac69f8c876e85b1f85df34a09c8b38eb7da1d5,remove-vmware-support,,[target.vmware] title=VMware CI link=https://wiki.openstack.org/wiki/NovaVMware/Minesweeper vmware=missingvmware=missing,53,21290
openstack%2Fpython-keystoneclient~912185,openstack/python-keystoneclient,master,I751bab4e282dca57903e771fefc248d22a496317,Update master for stable/2024.1,MERGED,2024-03-08 14:13:10.000000000,2024-05-21 13:39:10.000000000,2024-05-21 13:38:11.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-08 14:13:10.000000000', 'files': ['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/07b7ddde96f413a526e92628713a21f2663fe651', 'message': 'Update master for stable/2024.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2024.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2024.1.\n\nSem-Ver: feature\nChange-Id: I751bab4e282dca57903e771fefc248d22a496317\n'}]",1,912185,07b7ddde96f413a526e92628713a21f2663fe651,9,4,1,22816,,,0,"Update master for stable/2024.1

Add file to the reno documentation build to show release notes for
stable/2024.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2024.1.

Sem-Ver: feature
Change-Id: I751bab4e282dca57903e771fefc248d22a496317
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/85/912185/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst']",2,07b7ddde96f413a526e92628713a21f2663fe651,reno-2024.1, 2024.1,,7,0
openstack%2Frequirements~920076,openstack/requirements,master,Ib93c4134f5ba7c567c43726b7fe5a70fc8e73607,update constraint for taskflow to new release 5.8.0,MERGED,2024-05-21 06:33:56.000000000,2024-05-21 13:37:04.000000000,2024-05-21 13:35:59.000000000,"[{'_account_id': 9303}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 06:33:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ee26dad310f68661cc5d0b25d4d2b03076f92df4', 'message': 'update constraint for taskflow to new release 5.8.0\n\nmeta: version: 5.8.0\nmeta: diff-start: -\nmeta: series: dalmatian\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Abhishek Kekane <akekane@redhat.com>\nmeta: release:Commit: Abhishek Kekane <akekane@redhat.com>\nmeta: release:Change-Id: Ic2b20cd14c0bb385ae89e7d2b07dd37652a2c807\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Takashi Kajinami <kajinamit@oss.nttdata.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib93c4134f5ba7c567c43726b7fe5a70fc8e73607\n'}]",1,920076,ee26dad310f68661cc5d0b25d4d2b03076f92df4,8,3,1,11131,,,0,"update constraint for taskflow to new release 5.8.0

meta: version: 5.8.0
meta: diff-start: -
meta: series: dalmatian
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Abhishek Kekane <akekane@redhat.com>
meta: release:Commit: Abhishek Kekane <akekane@redhat.com>
meta: release:Change-Id: Ic2b20cd14c0bb385ae89e7d2b07dd37652a2c807
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Takashi Kajinami <kajinamit@oss.nttdata.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ib93c4134f5ba7c567c43726b7fe5a70fc8e73607
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/920076/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ee26dad310f68661cc5d0b25d4d2b03076f92df4,new-release,taskflow===5.8.0,taskflow===5.7.0,1,1
openstack%2Fopenstack-ansible-os_gnocchi~919680,openstack/openstack-ansible-os_gnocchi,master,Iee1068d98f6b4f3c5415b8052a9876e41c1b0747,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:16:56.000000000,2024-05-21 13:23:19.000000000,2024-05-21 13:22:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:16:56.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/e61e48a365044607e8ac57fb1d7a4f12c63f4ea7', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: Iee1068d98f6b4f3c5415b8052a9876e41c1b0747\n""}]",8,919680,e61e48a365044607e8ac57fb1d7a4f12c63f4ea7,21,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: Iee1068d98f6b4f3c5415b8052a9876e41c1b0747
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/80/919680/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,e61e48a365044607e8ac57fb1d7a4f12c63f4ea7,osa/rmq-migrate, - post-install,,1,0
openstack%2Ftap-as-a-service~886085,openstack/tap-as-a-service,master,Ibd3e956d5104538c06193344f9daf2cdf562236e,CLI for Tap Mirrors,NEW,2023-06-14 11:40:14.000000000,2024-05-21 13:12:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-14 11:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/7ef2bec2b2e06b3855b06be97c28bd9e0c4a77fe', 'message': 'WIP: CLI for Tap Mirrors\n\nTODO:\n* tests\n* documentation\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 2, 'created': '2023-08-30 11:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/6fb05e08204df76ff9fdd55e23b88ecec8d28352', 'message': 'WIP: CLI for Tap Mirrors\n\nTODO:\n* tests\n* documentation\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 3, 'created': '2023-09-18 13:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/697d5841848303d48bbfa64d2acd74b4e5991767', 'message': 'WIP: CLI for Tap Mirrors\n\nTODO:\n* tests\n* documentation\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 4, 'created': '2023-09-18 13:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/cac123c8ac1e43b73323f4ae906484deefa1562f', 'message': 'WIP: CLI for Tap Mirrors\n\nTODO:\n* tests\n* documentation\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 5, 'created': '2023-09-19 13:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/76a4805c21a0127093e18dbf4a417c8af16b0143', 'message': 'WIP: CLI for Tap Mirrors\n\nTODO:\n* tests\n* documentation\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 6, 'created': '2023-09-22 17:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/7cf0f23994bf5d0d2ecfec3f4f6776ec54575fc8', 'message': 'WIP: CLI for Tap Mirrors\n\nTODO:\n* tests\n* documentation\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 7, 'created': '2023-10-10 12:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/665fe1fa3547a18dbe822ff1425048cce24e5182', 'message': 'WIP: CLI for Tap Mirrors\n\nTODO:\n* tests\n* documentation\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 8, 'created': '2023-10-24 16:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f53330898f869ab2833f1ddd15ff0ebd084ae5cc', 'message': 'WIP: CLI for Tap Mirrors\n\nTODO:\n* documentation\n\nDepends-On: https://review.opendev.org/c/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 9, 'created': '2023-10-25 10:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/0f6b0f411d31ca46f401e3330688c80756ebce1b', 'message': 'CLI for Tap Mirrors\n\nDepends-On: https://review.opendev.org/c/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 10, 'created': '2023-11-21 13:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/d5e6af907d8b217210fba81cd5c258762cc496c2', 'message': 'CLI for Tap Mirrors\n\nDepends-On: https://review.opendev.org/c/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 11, 'created': '2023-12-08 19:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/397bfdc976c12417d0f7055af297f616dc5dd45f', 'message': 'CLI for Tap Mirrors\n\nDepends-On: https://review.opendev.org/c/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 12, 'created': '2024-02-14 15:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/d0a063daa41ce7cfa2bfd75d6b037f1f65ff4784', 'message': 'CLI for Tap Mirrors\n\nDepends-On: https://review.opendev.org/c/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 13, 'created': '2024-02-15 09:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/a6c60fcaff983765eaa89064429008456a7efe88', 'message': 'CLI for Tap Mirrors\n\nDepends-On: https://review.opendev.org/c/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 14, 'created': '2024-05-16 07:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/2ea42753a4e12582838e93a62c96a103beaa370d', 'message': 'CLI for Tap Mirrors\n\nDepends-On: https://review.opendev.org/c/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 15, 'created': '2024-05-21 08:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/348ae0f58667aadefa7fad11566ee01a122c82a6', 'message': 'CLI for Tap Mirrors\n\nDepends-On: https://review.opendev.org/c/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}, {'number': 16, 'created': '2024-05-21 11:39:16.000000000', 'files': ['neutron_taas/taas_client/osc/tap_mirror.py', 'neutron_taas/tests/unit/taas_client/osc/test_osc_tap_mirror.py', 'neutron_taas/tests/unit/taas_client/osc/fakes.py', 'test-requirements.txt', 'API_REFERENCE.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/cb02249859c33b7cbdc29fc6f81f19ae217d893f', 'message': 'CLI for Tap Mirrors\n\nDepends-On: https://review.opendev.org/c/886084\nOf course the release of this patch is the depends-on\nChange-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e\nRelated-Bug: #2015471\n'}]",1,886085,cb02249859c33b7cbdc29fc6f81f19ae217d893f,39,1,16,8313,,,0,"CLI for Tap Mirrors

Depends-On: https://review.opendev.org/c/886084
Of course the release of this patch is the depends-on
Change-Id: Ibd3e956d5104538c06193344f9daf2cdf562236e
Related-Bug: #2015471
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/85/886085/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/taas_client/osc/tap_mirror.py', 'setup.cfg']",2,7ef2bec2b2e06b3855b06be97c28bd9e0c4a77fe,bug/2015471, tap_mirror_create = neutron_taas.taas_client.osc.tap_mirror:CreateTapMirror tap_mirror_list = neutron_taas.taas_client.osc.tap_mirror:ListTapMirror tap_mirror_show = neutron_taas.taas_client.osc.tap_mirror:ShowTapMirror tap_mirror_delete = neutron_taas.taas_client.osc.tap_mirror:DeleteTapMirror tap_mirror_update = neutron_taas.taas_client.osc.tap_mirror:UpdateTapMirror,,217,0
openstack%2Ftap-as-a-service~915421,openstack/tap-as-a-service,master,I01e312845c6ffb4e130ec1d0882b27aeec664a0f,bandit: add bandit and bashate checks for tox,NEW,2024-04-10 12:58:39.000000000,2024-05-21 13:09:09.000000000,,"[{'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-10 12:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/bbe0f3388f698944d2c5ceb6ef83bb817b03615d', 'message': 'bandit: add bandit and bashate checks for tox\n\nChange-Id: I01e312845c6ffb4e130ec1d0882b27aeec664a0f\n'}, {'number': 2, 'created': '2024-05-21 09:14:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/0660ec2ed6ad4674ee36451fc25094c14276ca70', 'message': 'bandit: add bandit and bashate checks for tox\n\nChange-Id: I01e312845c6ffb4e130ec1d0882b27aeec664a0f\n'}]",4,915421,0660ec2ed6ad4674ee36451fc25094c14276ca70,8,2,2,8313,,,0,"bandit: add bandit and bashate checks for tox

Change-Id: I01e312845c6ffb4e130ec1d0882b27aeec664a0f
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/21/915421/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bbe0f3388f698944d2c5ceb6ef83bb817b03615d,bandit," bashdeps = {[testenv]deps} bashate>=2.1.1 # Apache-2.0 bandit>=1.7.5 # Apache-2.0 {[testenv:bashate]commands} {[testenv:bandit]commands}[testenv:bandit] deps = {[testenv:pep8]deps} # B104: Possible binding to all interfaces # B604: any_other_function_with_shell_equals_true commands = bandit -r neutron -x tests -n5 #-s B104,B604 [testenv:bashate] deps = {[testenv:pep8]deps} commands = bash -c ""find {toxinidir} \ -not \( -type d -name .tox\* -prune \) \ -not \( -type d -name .venv\* -prune \) \ -type f \ -name \*.sh \ # E005 file does not begin with #! or have a .sh prefix # E006 check for lines longer than 79 columns # E042 local declaration hides errors # E043 Arithmetic compound has inconsistent return semantics -print0 | xargs -0 bashate -v -iE006 -eE005,E042,E043"" ",,27,0
openstack%2Frally-openstack~918698,openstack/rally-openstack,master,I8ff6f8f8497907091a91c16a2e4a76051827397d,Multiple project updates,MERGED,2024-05-08 20:56:25.000000000,2024-05-21 13:07:57.000000000,2024-05-21 13:07:57.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-08 20:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/137e41eb3337fd0a0069fcfcd24ff7838dfc86a8', 'message': 'Upgrade Rally dependency to point to require 4.1.0\n\nThis brings SQLAlchemy 2 support which is covered by\nunittests/functional tests now.\n\nAlso, we are dropping usage of awesome testtools lib which works for us\nfor a lot of years. We are dropping it just because standard unittest\nlib is good enough for our use\n\nChange-Id: I8ff6f8f8497907091a91c16a2e4a76051827397d\n'}, {'number': 2, 'created': '2024-05-08 20:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e719315b5d4afc30b7fbdf38893a3ab6624f7d7a', 'message': 'Upgrade Rally dependency to point to require 4.1.0\n\nThis brings SQLAlchemy 2 support which is covered by\nunittests/functional tests now.\n\nAlso, we are dropping usage of awesome testtools lib which works for us\nfor a lot of years. We are dropping it just because standard unittest\nlib is good enough for our use\n\nChange-Id: I8ff6f8f8497907091a91c16a2e4a76051827397d\n'}, {'number': 3, 'created': '2024-05-08 22:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/86873b64cb9530ee544f26e8dee562834049ca1b', 'message': 'Upgrade Rally dependency to point to require 4.1.0\n\nThis brings SQLAlchemy 2 support which is covered by\nunittests/functional tests now.\n\nAlso, we are dropping usage of awesome testtools lib which works for us\nfor a lot of years. We are dropping it just because standard unittest\nlib is good enough for our use\n\nChange-Id: I8ff6f8f8497907091a91c16a2e4a76051827397d\n'}, {'number': 4, 'created': '2024-05-21 08:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f9986b4e95dcdc6d31d3a5bb6d10bff7f9062e78', 'message': 'Upgrade Rally dependency to point to require 4.1.0\n\nThis brings SQLAlchemy 2 support which is covered by\nunittests/functional tests now.\n\nAlso, we are dropping usage of awesome testtools lib which works for us\nfor a lot of years. We are dropping it just because standard unittest\nlib is good enough for our use\n\nChange-Id: I8ff6f8f8497907091a91c16a2e4a76051827397d\n'}, {'number': 5, 'created': '2024-05-21 09:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/aa0cb0b070712319302c7cc32ba0ee60e3448787', 'message': 'Multiple project updates\n\n* upgrade Rally dependency to point to require 4.1.0\n\n  This brings SQLAlchemy 2 support which is covered by\n  unittests/functional tests now.\n\n* dropping testtools test dep.\n\n  We are dropping it just because standard unittest\n  lib is good enough for our use\n\n* deprecatng murani, sahara, senlin plugins as those projects are\n  retired\n\nChange-Id: I8ff6f8f8497907091a91c16a2e4a76051827397d\n'}, {'number': 6, 'created': '2024-05-21 09:41:47.000000000', 'files': ['Dockerfile', 'requirements.txt', 'tests/unit/doc/test_format.py', 'test-requirements.txt', 'tests/unit/rally_jobs/test_zuul_jobs.py', '.zuul.d/zuul.yaml', '.zuul.d/rally-task-murano.yaml', 'upper-constraints.txt', 'tests/unit/test.py', 'CHANGELOG.rst', 'tests/functional/test_cli_deployment.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9d53318f042398495befcb63117998e8804e6c8f', 'message': 'Multiple project updates\n\n* upgrade Rally dependency to point to require 4.1.0\n\n  This brings SQLAlchemy 2 support which is covered by\n  unittests/functional tests now.\n\n* dropping testtools test dep.\n\n  We are dropping it just because standard unittest\n  lib is good enough for our use\n\n* deprecatng murani, sahara, senlin plugins as those projects are\n  retired\n\nChange-Id: I8ff6f8f8497907091a91c16a2e4a76051827397d\n'}]",0,918698,9d53318f042398495befcb63117998e8804e6c8f,14,2,6,9545,,,0,"Multiple project updates

* upgrade Rally dependency to point to require 4.1.0

  This brings SQLAlchemy 2 support which is covered by
  unittests/functional tests now.

* dropping testtools test dep.

  We are dropping it just because standard unittest
  lib is good enough for our use

* deprecatng murani, sahara, senlin plugins as those projects are
  retired

Change-Id: I8ff6f8f8497907091a91c16a2e4a76051827397d
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/98/918698/1 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'requirements.txt', 'tests/unit/doc/test_format.py', 'test-requirements.txt', 'tests/unit/rally_jobs/test_zuul_jobs.py', '.zuul.d/zuul.yaml', 'tox.ini', 'upper-constraints.txt', 'tests/unit/test.py', 'CHANGELOG.rst', 'tests/functional/test_cli_deployment.py']",11,137e41eb3337fd0a0069fcfcd24ff7838dfc86a8,upgrade-rally,import unittestclass DeploymentTestCase(unittest.TestCase):, import testtoolsclass DeploymentTestCase(testtools.TestCase):,118,107
openstack%2Ftap-as-a-service~885357,openstack/tap-as-a-service,master,I9a38d9aedbfcec13636420de0b739277a1a8f691,GRE/ERSPAN mirroring for taas,NEW,2023-06-06 11:38:41.000000000,2024-05-21 12:51:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-06 11:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/640554313ae466c041970897d3c697bcfa0d7b07', 'message': 'WIP: GRE/ERSPAN mirroring for taas\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 2, 'created': '2023-06-14 08:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/0f56729d09fbf9aab8399e77517d6c6fa0a06122', 'message': 'WIP: GRE/ERSPAN mirroring for taas\n\nTODO:\n* Unit tests\n* Documentation\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 3, 'created': '2023-08-29 15:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/ce81f1440684d48380bbf8edd93be6e59b796834', 'message': 'WIP: GRE/ERSPAN mirroring for taas\n\nTODO:\n* Unit tests\n* Documentation\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 4, 'created': '2023-09-18 13:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/6f1845b1c818a2ff3806ec65b33bf4e33bb35671', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nTODO:\n* Documentation\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 5, 'created': '2023-09-19 07:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/0341840927c3653de6e44c84c9cf8aa6f5a192f9', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 6, 'created': '2023-09-22 17:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/1a1837cfde35ef90eb03b264c97138a1acedbb96', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 7, 'created': '2023-10-10 12:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/046ea17168312a4d0f98ca174b45b5d17bcf5e9b', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 8, 'created': '2023-11-21 13:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/581b47e2320b3aeea17755b86a50fe501288cf05', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 9, 'created': '2023-12-08 19:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/2c6a432c1ddb1b366bc69ee272cd5ba53c93d9f4', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 10, 'created': '2024-02-14 15:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/6e28f4bb85875b0d995767c032b26b899b24840b', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 11, 'created': '2024-02-15 08:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f92cd3530d1fcc23f1348b336c0f83664c75039a', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 12, 'created': '2024-05-16 07:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/aebc4553b6ac6b5cb617a0126d32ce7af1b67498', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 13, 'created': '2024-05-21 08:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/dce13b386e0e25034af787247b6ab54ede533a29', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}, {'number': 14, 'created': '2024-05-21 11:38:53.000000000', 'files': ['neutron_taas/db/migration/alembic_migration/versions/EXPAND_HEAD', 'neutron_taas/db/tap_mirror_db.py', 'neutron_taas/services/taas/tap_mirror_plugin.py', 'neutron_taas/extensions/tap_mirror.py', 'devstack/plugin.sh', 'neutron_taas/policies/tap_mirror.py', 'neutron_taas/policies/__init__.py', 'neutron_taas/db/migration/alembic_migration/versions/2023.2/expand/f8f1f10ebaf9_mirroring_for_taas.py', 'neutron_taas/tests/unit/db/test_tap_mirror_db.py', 'etc/neutron/policy.yaml.sample', 'neutron_taas/tests/unit/services/taas/test_tap_mirror_plugin.py', 'neutron_taas/tests/unit/extensions/test_tap_mirror.py', 'setup.cfg', 'neutron_taas/extensions/_tap_mirror.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/79c1aebafd2d909a015882527a951f81bd67cc78', 'message': 'GRE/ERSPAN mirroring for taas\n\nServer side of the Tap Mirroring feature.\nThe RPC and other plugin parts will be in the next patch\nfor the OVS driver.\n\nRelated-Bug: #2015471\nChange-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691\n'}]",7,885357,79c1aebafd2d909a015882527a951f81bd67cc78,29,1,14,8313,,,0,"GRE/ERSPAN mirroring for taas

Server side of the Tap Mirroring feature.
The RPC and other plugin parts will be in the next patch
for the OVS driver.

Related-Bug: #2015471
Change-Id: I9a38d9aedbfcec13636420de0b739277a1a8f691
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/57/885357/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/db/migration/alembic_migration/versions/EXPAND_HEAD', 'neutron_taas/db/migration/alembic_migration/versions/2023.2/expand/f8f1f10ebaf9_mirroring_for_taas.py', 'neutron_taas/db/tap_mirror_db.py', 'neutron_taas/services/taas/tap_mirror_plugin.py', 'neutron_taas/extensions/tap_mirror.py', 'setup.cfg', 'neutron_taas/extensions/_tap_mirror.py']",7,640554313ae466c041970897d3c697bcfa0d7b07,bug/2015471,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # TODO(lajoskatona): Move this to neutron-lib (when patch is # https://review.opendev.org/c/openstack/neutron-lib/+/885354 released) from neutron_lib.db import constants as db_const ALIAS = 'tap-mirror' IS_SHIM_EXTENSION = False IS_STANDARD_ATTR_EXTENSION = False NAME = ""Tap as a Service GRE or ERSPAN mirror"" DESCRIPTION = ""Neutron Tap as a Service extension for GRE or ERSPAN mirroring."" UPDATED_TIMESTAMP = ""2023-05-05T11:45:00-00:00"" RESOURCE_NAME = 'tap_mirror' COLLECTION_NAME = 'tap_mirrors' mirror_types_list = ['erspanv1', 'gre'] DIRECTION_SPEC = { 'type:dict': { 'IN': {'type:integer': None, 'default': None, 'required': False}, 'OUT': {'type:integer': None, 'default': None, 'required': False} } } RESOURCE_ATTRIBUTE_MAP = { COLLECTION_NAME: { 'id': { 'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'project_id': { 'allow_post': True, 'allow_put': False, 'validate': {'type:string': db_const.PROJECT_ID_FIELD_SIZE}, 'required_by_policy': True, 'is_filter': True, 'is_sort_key': True, 'is_visible': True}, 'name': { 'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'description': { 'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'port_id': { 'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'enforce_policy': True, 'is_visible': True}, 'directions': { 'allow_post': True, 'allow_put': False, 'validate': DIRECTION_SPEC, 'is_visible': True}, 'remote_ip': { 'allow_post': True, 'allow_put': False, 'validate': {'type:ip_address': None}, 'is_visible': True}, 'mirror_type': { 'allow_post': True, 'allow_put': False, 'validate': {'type:values': mirror_types_list}, 'is_visible': True}, } } SUB_RESOURCE_ATTRIBUTE_MAP = None ACTION_MAP = {} ACTION_STATUS = {} REQUIRED_EXTENSIONS = [] OPTIONAL_EXTENSIONS = [] ",,441,1
openstack%2Fopenstack-ansible-os_skyline~919529,openstack/openstack-ansible-os_skyline,master,I1bc665430c70040b07c194bba36832a42ccde343,Switch nginx with Apache,MERGED,2024-05-13 15:03:47.000000000,2024-05-21 12:48:42.000000000,2024-05-21 12:47:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2024-05-13 15:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_skyline/commit/bf3e5448f98c1bb8b4e65fb2e657c82a24aa4d78', 'message': ""Switch nginx with Apache\n\nAs we're trying to have a single web server across all services,\nit makes sense to switch to using Apache right away.\n\nChange-Id: I1bc665430c70040b07c194bba36832a42ccde343\n""}, {'number': 2, 'created': '2024-05-14 10:12:01.000000000', 'files': ['tasks/skyline_pre_install.yml', 'templates/nginx.conf.j2', 'tasks/skyline_post_install.yml', 'vars/redhat.yml', 'templates/skyline.vhost.j2', 'vars/debian.yml', 'templates/gunicorn.py.j2', 'templates/apache_ports.conf.j2', 'defaults/main.yml', 'tasks/skyline_apache.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_skyline/commit/d707c8c0fca46df1e4e384e36a5833994c297427', 'message': ""Switch nginx with Apache\n\nAs we're trying to have a single web server across all services,\nit makes sense to switch to using Apache right away.\n\nChange-Id: I1bc665430c70040b07c194bba36832a42ccde343\n""}]",1,919529,d707c8c0fca46df1e4e384e36a5833994c297427,13,2,2,28619,,,0,"Switch nginx with Apache

As we're trying to have a single web server across all services,
it makes sense to switch to using Apache right away.

Change-Id: I1bc665430c70040b07c194bba36832a42ccde343
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_skyline refs/changes/29/919529/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/skyline_pre_install.yml', 'templates/nginx.conf.j2', 'tasks/skyline_post_install.yml', 'vars/redhat.yml', 'templates/skyline.vhost.j2', 'vars/debian.yml', 'templates/gunicorn.py.j2', 'templates/apache_ports.conf.j2', 'defaults/main.yml', 'tasks/skyline_apache.yml']",10,bf3e5448f98c1bb8b4e65fb2e657c82a24aa4d78,,"--- # Copyright 2024, Cleura AB # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Enable apache2 modules apache2_module: name: ""{{ item.name }}"" state: ""{{ item.state }}"" ignore_configcheck: yes with_items: - ""{{ skyline_apache_modules }}"" when: - ansible_facts['pkg_mgr'] == 'apt' notify: Restart web server - name: Disable default apache site file: path: ""{{ item }}"" state: ""absent"" with_items: ""{{ skyline_apache_default_sites }}"" notify: Restart web server - name: Ensure Apache ServerName lineinfile: dest: ""{{ skyline_apache_conf }}"" line: ""ServerName {{ skyline_server_name }}"" notify: Restart web server - name: Create Apache config template: src: ""{{ item['src'] }}"" dest: ""{{ item['dest'] }}"" owner: ""{{ item['owner'] }}"" group: ""{{ item['group'] }}"" mode: ""0644"" with_items: ""{{ skyline_apache_configs }}"" notify: - Restart web server - name: Enable skyline site file: src: ""/etc/{{ skyline_system_service_name }}/sites-available/skyline.conf"" dest: ""{{ skyline_vhost_enable_path }}/skyline.conf"" state: ""link"" notify: - Restart web server - name: Remove Listen from Apache config lineinfile: dest: ""{{ skyline_apache_security_conf }}"" regexp: '^(Listen.*)' backrefs: yes line: '#\1' notify: Restart wsgi process ",,157,80
openstack%2Ftap-as-a-service~893086,openstack/tap-as-a-service,master,I9a80fd7a6c3b782454047b6295e51cc549842f84,Tap Mirror OVS driver,NEW,2023-08-29 15:48:47.000000000,2024-05-21 12:48:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-08-29 15:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/fa2a0682804f01a59c7bce16abaa963fa1f9a9ab', 'message': 'WIP: Tap Mirror OVS driver\n\nTODO:\n* Work on GRE also\n* tests\n* docs\n* reno\n* more validation\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 2, 'created': '2023-09-01 12:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/bb0896fc44bd36616e83f617e25abc6367d3eb9d', 'message': 'WIP: Tap Mirror OVS driver\n\nTODO:\n* Work on GRE also\n* tests\n* docs\n* reno\n* more validation\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 3, 'created': '2023-09-22 17:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/3554399135905ba900d752b6ec15891867abced2', 'message': 'Tap Mirror OVS driver\n\nTODO:\n* tests\n* reno\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 4, 'created': '2023-09-29 14:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/480739f169c023eb63cad24f8ffe8e74876b6e85', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 5, 'created': '2023-10-10 12:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/09d0b1a33f792d3a37689c22f6dd3291f842adeb', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 6, 'created': '2023-11-15 09:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/d36187a53d5ba4d0b563cafdab8b3aad663a5a12', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 7, 'created': '2023-11-21 16:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/63485c9c19a7502619ee8f94be79fea06468f0e4', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 8, 'created': '2023-12-08 19:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/a3e2b7fddec1ea8c02720d6fd9ec01897409e015', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 9, 'created': '2024-01-25 14:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/d7331ad8e877ea534e267a8a0681910d8393ae89', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 10, 'created': '2024-02-14 15:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/1037b31692930119fd71f004291435ae5a36ce37', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 11, 'created': '2024-02-15 08:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/faa98ef97c266b840960d3132f6b969bde065efc', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 12, 'created': '2024-05-16 07:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/27f4f37969b4c6717cf7f24f0d081d891fed0230', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 13, 'created': '2024-05-21 08:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/a64e6bed05f9331739ff06235f6cb7983db0ca37', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}, {'number': 14, 'created': '2024-05-21 11:39:24.000000000', 'files': ['neutron_taas/services/taas/agents/common/taas_agent.py', 'neutron_taas/services/taas/service_drivers/service_driver_context.py', 'neutron_taas/services/taas/tap_mirror_plugin.py', 'neutron_taas/services/taas/agents/taas_agent_api.py', 'neutron_taas/tests/unit/services/drivers/test_linux_ovs_taas.py', 'neutron_taas/services/taas/drivers/linux/ovs_taas.py', 'releasenotes/notes/tap-mirror-with-ovs-driver-7f09654e1e960a0d.yaml', 'neutron_taas/services/taas/service_drivers/__init__.py', 'neutron_taas/tests/base.py', 'neutron_taas/tests/unit/services/taas/test_tap_mirror_plugin.py', 'neutron_taas/services/taas/service_drivers/taas_agent_api.py', 'neutron_taas/tests/unit/services/drivers/test_linux_sriov_nic_driver.py', 'neutron_taas/services/taas/service_drivers/taas_rpc.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/90f7900dc9e9216da3780c83752da44461f23074', 'message': 'Tap Mirror OVS driver\n\nRelated-Bug: #2015471\nChange-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84\n'}]",3,893086,90f7900dc9e9216da3780c83752da44461f23074,29,1,14,8313,,,0,"Tap Mirror OVS driver

Related-Bug: #2015471
Change-Id: I9a80fd7a6c3b782454047b6295e51cc549842f84
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/86/893086/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/services/taas/agents/common/taas_agent.py', 'neutron_taas/services/taas/service_drivers/service_driver_context.py', 'neutron_taas/db/tap_mirror_db.py', 'neutron_taas/services/taas/tap_mirror_plugin.py', 'neutron_taas/services/taas/agents/taas_agent_api.py', 'neutron_taas/services/taas/service_drivers/taas_agent_api.py', 'neutron_taas/services/taas/service_drivers/taas_rpc.py', 'neutron_taas/services/taas/drivers/linux/ovs_taas.py', 'neutron_taas/services/taas/service_drivers/__init__.py']",9,fa2a0682804f01a59c7bce16abaa963fa1f9a9ab,bug/2015471," @abc.abstractmethod def create_tap_mirror_precommit(self, context): pass @abc.abstractmethod def create_tap_mirror_postcommit(self, context): pass @abc.abstractmethod def delete_tap_mirror_precommit(self, context): pass @abc.abstractmethod def delete_tap_mirror_postcommit(self, context): pass",,301,18
openstack%2Ftap-as-a-service~893509,openstack/tap-as-a-service,master,I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed,TAAS tap-mirror OVN driver,NEW,2023-09-01 12:51:40.000000000,2024-05-21 12:43:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-09-01 12:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/5e590da198527b2160eccb52082ce79b28148088', 'message': 'WIP: TAAS OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 2, 'created': '2023-10-10 12:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/cc2d042a1dd80227cb8edd4e563524f01e59c117', 'message': 'WIP: TAAS OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 3, 'created': '2023-10-10 15:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/48926a17544dc0826f19da25a67be411f3096e52', 'message': 'WIP: TAAS OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 4, 'created': '2023-10-18 10:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/adb71741fccad0f094f23746b6f017470e8d0ffb', 'message': 'TAAS tap-mirror OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 5, 'created': '2023-11-15 09:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/23c29f5ad3c14020ca9836ae77720f06227358b5', 'message': 'TAAS tap-mirror OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 6, 'created': '2023-11-21 16:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/81b06dd17d514b6ce36b9e29708a8926ef84ef61', 'message': 'TAAS tap-mirror OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 7, 'created': '2023-12-08 19:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/de23ad649864957587220fa0b1b29324ab4f7b6b', 'message': 'TAAS tap-mirror OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 8, 'created': '2024-01-25 14:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/3e1bbae8a9f39b0fe773c4c05348a50837fb77db', 'message': 'TAAS tap-mirror OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 9, 'created': '2024-02-14 15:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/a54ea0225ef300cbbd2d2957839d5670ebf12a56', 'message': 'TAAS tap-mirror OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 10, 'created': '2024-02-15 08:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/8c1b33d50a511bcd2fcaed223fab57ddb10807f6', 'message': 'TAAS tap-mirror OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 11, 'created': '2024-05-16 07:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/1ce3a90faf01843677fc20532a4cb00e2774cffa', 'message': 'TAAS tap-mirror OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 12, 'created': '2024-05-21 08:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/29f8f7633d3caabd513c86ce38350f9f59576465', 'message': 'TAAS tap-mirror OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}, {'number': 13, 'created': '2024-05-21 11:39:35.000000000', 'files': ['neutron_taas/services/taas/service_drivers/ovn/ovsdb/impl_idl_taas.py', 'neutron_taas/tests/unit/services/ovn/ovsdb/__init__.py', 'neutron_taas/services/taas/service_drivers/ovn/ovsdb/__init__.py', 'neutron_taas/tests/unit/services/ovn/ovsdb/schema_files/ovn-nb.ovsschema', 'releasenotes/notes/tap-mirror-with-ovn-driver-ff26bc79d3d411be.yaml', 'neutron_taas/services/taas/service_drivers/ovn/__init__.py', 'neutron_taas/tests/unit/services/ovn/ovsdb/test_impl_idl_taas.py', 'neutron_taas/tests/unit/services/ovn/test_helper.py', 'neutron_taas/services/taas/service_drivers/ovn/taas_ovn.py', 'neutron_taas/services/taas/service_drivers/ovn/helper.py', 'neutron_taas/tests/unit/services/ovn/__init__.py', 'neutron_taas/tests/unit/services/ovn/test_taas_ovn.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/25b9c5d4d6d7e52620c4afabd4f5b9c3470b6372', 'message': 'TAAS tap-mirror OVN driver\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328\nRelated-Bug: #2015471\nChange-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed\n'}]",1,893509,25b9c5d4d6d7e52620c4afabd4f5b9c3470b6372,28,1,13,8313,,,0,"TAAS tap-mirror OVN driver

Depends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/890328
Related-Bug: #2015471
Change-Id: I6007a2a1644bbe432d7a8abaeaa8194a4eb2bfed
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/09/893509/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/services/taas/service_drivers/ovn/__init__.py', 'neutron_taas/services/taas/service_drivers/ovn/ovsdb/impl_idl_taas.py', 'neutron_taas/services/taas/service_drivers/ovn/ovsdb/__init__.py', 'neutron_taas/services/taas/service_drivers/ovn/taas_ovn.py', 'neutron_taas/services/taas/service_drivers/ovn/helper.py']",5,5e590da198527b2160eccb52082ce79b28148088,bug/2015471,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import queue import threading from oslo_config import cfg from oslo_log import helpers as log_helpers from neutron_lib.callbacks import events from neutron_lib.callbacks import registry from neutron_lib.callbacks import resources from oslo_log import log as logging from ovs.stream import Stream from neutron_taas.services.taas.service_drivers.ovn.ovsdb import impl_idl_taas LOG = logging.getLogger(__name__) class TaasOvnProviderHelper(object): def __init__(self): self._requests = queue.Queue() self._helper_thread = threading.Thread(target=self._request_handler) self._helper_thread.daemon = True self._check_and_set_ssl_files() self._taas_mirror_func_map = { 'mirror_get': self.mirror_get, 'mirror_find': self.mirror_find, 'mirror_del': self.mirror_del, 'mirror_add': self.mirror_add, } self._subscribe() self._helper_thread.start() def _subscribe(self): registry.subscribe(self._post_fork_initialize, resources.PROCESS, events.AFTER_INIT) def _post_fork_initialize(self, resource, event, trigger, payload=None): self.ovn_nbdb = impl_idl_taas.OvnNbIdlForTaas() self.ovn_nbdb_api = self.ovn_nbdb.start() def _check_and_set_ssl_files(self): priv_key_file = cfg.CONF.ovn.ovn_nb_private_key cert_file = cfg.CONF.ovn.ovn_nb_certificate ca_cert_file = cfg.CONF.ovn.ovn_nb_ca_cert if priv_key_file: Stream.ssl_set_private_key_file(priv_key_file) if cert_file: Stream.ssl_set_certificate_file(cert_file) if ca_cert_file: Stream.ssl_set_ca_cert_file(ca_cert_file) def _request_handler(self): while True: request = self._requests.get() request_type = request['type'] if request_type == 'exit': break request_handler = self._taas_mirror_func_map.get(request_type) try: if request_handler: request_handler(request['info']) self._requests.task_done() except Exception: # If any unexpected exception happens we don't want the # notify_loop to exit. LOG.exception('Unexpected exception in request_handler') def _execute_commands(self, commands): with self.ovn_nbdb_api.transaction(check_error=True) as txn: for command in commands: txn.add(command) def shutdown(self): self._requests.put({'type': 'exit'}) self._helper_thread.join() self.ovn_nbdb.stop() del self.ovn_nbdb_api def add_request(self, req): self._requests.put(req) # Change these to db_set and db_remove ? # self.ovn_nbdb_api.mirror_get # @log_helpers.log_method_call def mirror_get(self, request): pass @log_helpers.log_method_call def mirror_find(self, request): pass @log_helpers.log_method_call def mirror_del(self, request): port_id = request.pop('port_id') ovn_port = self.ovn_nbdb_api.lookup('Logical_Switch_Port', port_id) mirrors = self.ovn_nbdb_api.mirror_find( request['name']).execute(check_error=True) for mirror in mirrors: self.ovn_nbdb_api.lsp_detach_mirror( ovn_port.name, mirror.uuid).execute(check_error=True) self.ovn_nbdb_api.mirror_del( mirror.uuid).execute(check_error=True) @log_helpers.log_method_call def mirror_add(self, request): port_id = request.pop('port_id') ovn_port = self.ovn_nbdb_api.lookup('Logical_Switch_Port', port_id) mirror = self.ovn_nbdb_api.mirror_add( **request).execute(check_error=True) self.ovn_nbdb_api.lsp_attach_mirror( ovn_port.name, mirror.uuid).execute(check_error=True) return mirror ",,397,0
openstack%2Fnova~920091,openstack/nova,master,If0a83af54c0f01dcc063dc8b63ba19e7e39ee429,tox: Drop envdir,ABANDONED,2024-05-21 11:11:16.000000000,2024-05-21 12:27:37.000000000,,[],"[{'number': 1, 'created': '2024-05-21 11:11:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/618545457b66a48a0bf02ff1e859c86a8e7cb84a', 'message': ""tox: Drop envdir\n\ntox now always recreates an env although the env is shared using envdir\noptions.\n~~~\n$ tox -e genpolicy\ngenpolicy: recreate env because env type changed from\n{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to\n{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}\n~~~\n\nAccording to the maintainer of tox, this functionality is not intended\nto be supported.\nhttps://github.com/tox-dev/tox/issues/425#issuecomment-1011944293\n\nChange-Id: If0a83af54c0f01dcc063dc8b63ba19e7e39ee429\n""}]",0,920091,618545457b66a48a0bf02ff1e859c86a8e7cb84a,3,0,1,11604,,,0,"tox: Drop envdir

tox now always recreates an env although the env is shared using envdir
options.
~~~
$ tox -e genpolicy
genpolicy: recreate env because env type changed from
{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to
{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}
~~~

According to the maintainer of tox, this functionality is not intended
to be supported.
https://github.com/tox-dev/tox/issues/425#issuecomment-1011944293

Change-Id: If0a83af54c0f01dcc063dc8b63ba19e7e39ee429
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/920091/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,618545457b66a48a0bf02ff1e859c86a8e7cb84a,fix-functional-py312,,envdir = {toxworkdir}/sharedenvdir = {toxworkdir}/functionalenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/shared,0,12
openstack%2Fovn-octavia-provider~920018,openstack/ovn-octavia-provider,stable/2023.1,I24c269b37cdaecd1192c7c8b3073fd170df9b09b,Reduce coverage threshold on stable branches,MERGED,2024-05-20 09:19:10.000000000,2024-05-21 12:11:01.000000000,2024-05-21 12:10:02.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 09:19:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e4fb4fa637886840964d3040917eeaa2dd955e28', 'message': 'Reduce coverage threshold on stable branches\n\nThis patch suggests lowering the coverage threshold to\n90% for older stable branches, as long as all the\nnecessary tests have been reviewed and there are no\nomissions.\n\nChange-Id: I24c269b37cdaecd1192c7c8b3073fd170df9b09b\n(cherry picked from commit c14eb46ceb0ac1295f1f8fbfb89d6d4bed1b79c6)\n'}]",0,920018,e4fb4fa637886840964d3040917eeaa2dd955e28,8,3,1,34451,,,0,"Reduce coverage threshold on stable branches

This patch suggests lowering the coverage threshold to
90% for older stable branches, as long as all the
necessary tests have been reviewed and there are no
omissions.

Change-Id: I24c269b37cdaecd1192c7c8b3073fd170df9b09b
(cherry picked from commit c14eb46ceb0ac1295f1f8fbfb89d6d4bed1b79c6)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/18/920018/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e4fb4fa637886840964d3040917eeaa2dd955e28,2023.1, coverage report --fail-under=90 --skip-covered, coverage report --fail-under=92 --skip-covered,1,1
openstack%2Fovn-octavia-provider~920017,openstack/ovn-octavia-provider,stable/2023.2,I24c269b37cdaecd1192c7c8b3073fd170df9b09b,Reduce coverage threshold on stable branches,MERGED,2024-05-20 09:17:39.000000000,2024-05-21 12:10:54.000000000,2024-05-21 12:09:52.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 09:17:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d90a93331240463f567661eed6bcbc84d61bff04', 'message': 'Reduce coverage threshold on stable branches\n\nThis patch suggests lowering the coverage threshold to\n90% for older stable branches, as long as all the\nnecessary tests have been reviewed and there are no\nomissions.\n\nChange-Id: I24c269b37cdaecd1192c7c8b3073fd170df9b09b\n(cherry picked from commit c14eb46ceb0ac1295f1f8fbfb89d6d4bed1b79c6)\n'}]",0,920017,d90a93331240463f567661eed6bcbc84d61bff04,8,3,1,34451,,,0,"Reduce coverage threshold on stable branches

This patch suggests lowering the coverage threshold to
90% for older stable branches, as long as all the
necessary tests have been reviewed and there are no
omissions.

Change-Id: I24c269b37cdaecd1192c7c8b3073fd170df9b09b
(cherry picked from commit c14eb46ceb0ac1295f1f8fbfb89d6d4bed1b79c6)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/17/920017/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d90a93331240463f567661eed6bcbc84d61bff04,, coverage report --fail-under=90 --skip-covered, coverage report --fail-under=92 --skip-covered,1,1
openstack%2Fovn-octavia-provider~920016,openstack/ovn-octavia-provider,stable/2024.1,I24c269b37cdaecd1192c7c8b3073fd170df9b09b,Reduce coverage threshold on stable branches,MERGED,2024-05-20 09:10:06.000000000,2024-05-21 12:10:52.000000000,2024-05-21 12:09:51.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 09:10:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c14eb46ceb0ac1295f1f8fbfb89d6d4bed1b79c6', 'message': 'Reduce coverage threshold on stable branches\n\nThis patch suggests lowering the coverage threshold to\n90% for older stable branches, as long as all the\nnecessary tests have been reviewed and there are no\nomissions.\n\nChange-Id: I24c269b37cdaecd1192c7c8b3073fd170df9b09b\n'}]",0,920016,c14eb46ceb0ac1295f1f8fbfb89d6d4bed1b79c6,8,3,1,34451,,,0,"Reduce coverage threshold on stable branches

This patch suggests lowering the coverage threshold to
90% for older stable branches, as long as all the
necessary tests have been reviewed and there are no
omissions.

Change-Id: I24c269b37cdaecd1192c7c8b3073fd170df9b09b
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/16/920016/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c14eb46ceb0ac1295f1f8fbfb89d6d4bed1b79c6,, coverage report --fail-under=90 --skip-covered, coverage report --fail-under=92 --skip-covered,1,1
openstack%2Fnova~919923,openstack/nova,master,I5a4f7fa68163396c53eb37707d208a4c5fbe383a,Fix backups hanging in creating state,NEW,2024-05-17 07:41:21.000000000,2024-05-21 12:10:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 26832}]","[{'number': 1, 'created': '2024-05-17 07:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e056a36ecbdf6e34400f736af20c694be19586f0', 'message': ""Fix backups hanging in creating state\n\nDisallow deleting a server which has a volume attached with\ndelete_on_termination=True set while the status of this volume is\n'backing-up'.\n\nFixes-bug: #2064126\nChange-Id: I5a4f7fa68163396c53eb37707d208a4c5fbe383a\n""}, {'number': 2, 'created': '2024-05-17 10:05:29.000000000', 'files': ['nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/841e72da20bca5b8e95dacc79dcfe9ae428ed4ba', 'message': ""Fix backups hanging in creating state\n\nDisallow deleting a server which has a volume attached with\ndelete_on_termination=True set while the status of this volume is\n'backing-up'.\n\nFixes-bug: #2064126\nChange-Id: I5a4f7fa68163396c53eb37707d208a4c5fbe383a\n""}]",6,919923,841e72da20bca5b8e95dacc79dcfe9ae428ed4ba,13,2,2,36524,,,0,"Fix backups hanging in creating state

Disallow deleting a server which has a volume attached with
delete_on_termination=True set while the status of this volume is
'backing-up'.

Fixes-bug: #2064126
Change-Id: I5a4f7fa68163396c53eb37707d208a4c5fbe383a
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/919923/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",2,e056a36ecbdf6e34400f736af20c694be19586f0,fix_backups_hanging_in_creating_state, except (exception.InvalidVolume) as e: raise exc.HTTPConflict(explanation=e.format_message()),,13,0
openstack%2Ftap-as-a-service~907220,openstack/tap-as-a-service,master,I5293af7759f0667a54702882c05b0f34ff8605d2,Documentation for tap-mirrors,NEW,2024-01-30 15:08:15.000000000,2024-05-21 11:49:53.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-30 15:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/2564377a25549a474e7c4d3c53d19afddcdafdc9', 'message': 'WIP: Documentation for tap-mirrors\n\nChange-Id: I5293af7759f0667a54702882c05b0f34ff8605d2\nRelated-Bug: #2015471\n'}, {'number': 2, 'created': '2024-02-02 18:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/88fdc3c432a64a3828c8e221814bf010fe315947', 'message': 'WIP: Documentation for tap-mirrors\n\nChange-Id: I5293af7759f0667a54702882c05b0f34ff8605d2\nRelated-Bug: #2015471\n'}, {'number': 3, 'created': '2024-02-15 10:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/14d4f0719dbdab0f84329b9096cad8bb11ecab4e', 'message': 'Documentation for tap-mirrors\n\nChange-Id: I5293af7759f0667a54702882c05b0f34ff8605d2\nRelated-Bug: #2015471\n'}, {'number': 4, 'created': '2024-05-16 07:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/30ee55714fa9c9d3b2a7e3bbfc7ac524797ef8d6', 'message': 'Documentation for tap-mirrors\n\nChange-Id: I5293af7759f0667a54702882c05b0f34ff8605d2\nRelated-Bug: #2015471\n'}, {'number': 5, 'created': '2024-05-21 08:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/1f1ad92fc3e821017220c24c41bbbfed177f0487', 'message': 'Documentation for tap-mirrors\n\nChange-Id: I5293af7759f0667a54702882c05b0f34ff8605d2\nRelated-Bug: #2015471\n'}, {'number': 6, 'created': '2024-05-21 11:39:41.000000000', 'files': ['doc/source/index.rst', 'API_REFERENCE.rst', 'doc/source/tap_mirrors_under_the_hood.rst', 'doc/source/usage.rst', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/02956668e0689dfb8b4ccb6cc93aba2da5dd1e0d', 'message': 'Documentation for tap-mirrors\n\nChange-Id: I5293af7759f0667a54702882c05b0f34ff8605d2\nRelated-Bug: #2015471\n'}]",1,907220,02956668e0689dfb8b4ccb6cc93aba2da5dd1e0d,12,2,6,8313,,,0,"Documentation for tap-mirrors

Change-Id: I5293af7759f0667a54702882c05b0f34ff8605d2
Related-Bug: #2015471
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/20/907220/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'API_REFERENCE.rst', 'doc/source/tap_mirrors_under_the_hood.rst', 'devstack/README.rst']",4,2564377a25549a474e7c4d3c53d19afddcdafdc9,bug/2015471, To enable tap_mirror (mirroring via ERSPAN or GRE tunnels):: [[local|localrc]] enable_plugin tap-as-a-service https://opendev.org/x/tap-as-a-service enable_service taas enable_service tap_mirror To enable the mirroring with OVS driver:: TAAS_SERVICE_DRIVER=TAAS:TAAS:neutron_taas.services.taas.service_drivers.taas_rpc.TaasRpcDriver:default To enable mirroring with OVN driver:: TAAS_SERVICE_DRIVER=TAAS:TAAS:neutron_taas.services.taas.service_drivers.ovn.taas_ovn.TaasOvnDriver:default,,132,2
openstack%2Frequirements~919843,openstack/requirements,master,I404eaf94ed30881fca1efc9df2e9372ac916cf90,update constraint for ovsdbapp to new release 2.7.0,ABANDONED,2024-05-16 13:41:03.000000000,2024-05-21 11:24:38.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 13:41:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/188267966e87042d4f4a86088f1bbb11a650e433', 'message': 'update constraint for ovsdbapp to new release 2.7.0\n\nmeta: version: 2.7.0\nmeta: diff-start: -\nmeta: series: dalmatian\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I2780adeff0f7ff48b003e1aa9f4b8d73d7d811ad\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I404eaf94ed30881fca1efc9df2e9372ac916cf90\n'}]",1,919843,188267966e87042d4f4a86088f1bbb11a650e433,4,2,1,11131,,,0,"update constraint for ovsdbapp to new release 2.7.0

meta: version: 2.7.0
meta: diff-start: -
meta: series: dalmatian
meta: branch: master
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I2780adeff0f7ff48b003e1aa9f4b8d73d7d811ad
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I404eaf94ed30881fca1efc9df2e9372ac916cf90
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/919843/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,188267966e87042d4f4a86088f1bbb11a650e433,new-release,ovsdbapp===2.7.0,ovsdbapp===2.6.0,1,1
openstack%2Fnova~919961,openstack/nova,master,I6fdd3d6365196b4e470b72545ec649dfabe058d3,Don't reset port dns_name when shelving instances,NEW,2024-05-17 14:10:21.000000000,2024-05-21 11:17:36.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 14:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37f275fc4febbb3d7a50aa518c76195476ad949f', 'message': '[WIP] Set port dns_name when unshelving instances\n\nNOTE: Work in progress. Pushing with modified CI jobs due to local\ntesting issue.\n\nPort dns_names are cleared when instances are shelved in order to\nfix https://bugs.launchpad.net/nova/+bug/1572593. This has the\nunwanted side-effect of not restoring the dns_name when an instance\nis unshelved.\n\nThis patch uses the same procedure as other code paths to restore\na dns_name matching the instance hostname.\n\nRelated-Bug: https://bugs.launchpad.net/nova/+bug/2058725\n\nChange-Id: I6fdd3d6365196b4e470b72545ec649dfabe058d3\n'}, {'number': 2, 'created': '2024-05-21 07:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77a984acae2178c640c42b0ead8ed53a5822d49f', 'message': 'Set port dns_name when unshelving instances\n\nPort dns_names are cleared when instances are shelved in order to fix\nhttps://bugs.launchpad.net/nova/+bug/1572593. This has the unwanted\nside-effect of not restoring the dns_name when an instance is\nunshelved.\n\nThis patch uses the same procedure as other code paths to restore a\ndns_name matching the instance hostname for internal DNS integration.\n\nNOTE: External DNS integration is not currently covered by this patch\ndue to the lack of a user context when unshelving.\n\nCloses-Bug: https://bugs.launchpad.net/nova/+bug/2058725\n\nChange-Id: I6fdd3d6365196b4e470b72545ec649dfabe058d3\n'}, {'number': 3, 'created': '2024-05-21 07:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf40d994628298c4aacdec91b768848334d7914b', 'message': 'Set port dns_name when unshelving instances\n\nPort dns_names are cleared when instances are shelved in order to fix\nhttps://bugs.launchpad.net/nova/+bug/1572593. This has the unwanted\nside-effect of not restoring the dns_name when an instance is\nunshelved.\n\nThis patch uses the same procedure as other code paths to restore a\ndns_name matching the instance hostname for internal DNS integration.\n\nNOTE: External DNS integration is not currently covered by this patch\ndue to the lack of a user context when unshelving.\n\nCloses-Bug: #2058725\n\nChange-Id: I6fdd3d6365196b4e470b72545ec649dfabe058d3\n'}, {'number': 4, 'created': '2024-05-21 09:18:24.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f8ef77929314b5aa2a400549c9fa48da7cb38a9c', 'message': ""Don't reset port dns_name when shelving instances\n\nPort dns_names are cleared when ports are detached in order to fix\nhttps://bugs.launchpad.net/nova/+bug/1572593. This incorrectly resets\nthe dns_name for shelved instances where ports are not detached.\n\nThis patch adds a conditional to ensure the dns_name is not\nunnecessarily reset.\n\nCloses-Bug: #2058725\n\nChange-Id: I6fdd3d6365196b4e470b72545ec649dfabe058d3\n""}]",8,919961,f8ef77929314b5aa2a400549c9fa48da7cb38a9c,18,2,4,31542,,,0,"Don't reset port dns_name when shelving instances

Port dns_names are cleared when ports are detached in order to fix
https://bugs.launchpad.net/nova/+bug/1572593. This incorrectly resets
the dns_name for shelved instances where ports are not detached.

This patch adds a conditional to ensure the dns_name is not
unnecessarily reset.

Closes-Bug: #2058725

Change-Id: I6fdd3d6365196b4e470b72545ec649dfabe058d3
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/919961/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', '.zuul.yaml']",3,37f275fc4febbb3d7a50aa518c76195476ad949f,,, # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *nova-base-irrelevant-files vars: devstack_localrc: <<: *uec_image_vars - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ vars: devstack_localrc: <<: *uec_image_vars - nova-live-migration - nova-live-migration-ceph - nova-lvm - nova-multi-cell - nova-next - nova-ovs-hybrid-plug - nova-tox-validate-backport: voting: false - openstack-tox-py312: voting: true - tempest-integrated-compute: # NOTE(gmann): Policies changes do not need to run all the # integration test jobs. Running only tempest and grenade # common jobs will be enough along with nova functional # and unit tests. irrelevant-files: *policies-irrelevant-files vars: devstack_localrc: <<: *uec_image_vars - tempest-integrated-compute-enforce-scope-new-defaults: irrelevant-files: *policies-irrelevant-files - tempest-integrated-compute-rbac-old-defaults: irrelevant-files: *policies-irrelevant-files - grenade-skip-level-always: irrelevant-files: *policies-irrelevant-files vars: devstack_localrc: <<: *uec_image_vars - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files vars: devstack_localrc: <<: *uec_image_vars - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files vars: devstack_localrc: <<: *uec_image_vars - cyborg-tempest: irrelevant-files: *nova-base-irrelevant-files voting: false vars: devstack_localrc: <<: *uec_image_vars - barbican-tempest-plugin-simple-crypto: irrelevant-files: *nova-base-irrelevant-files voting: false vars: devstack_localrc: <<: *uec_image_vars,16,72
openstack%2Fovn-octavia-provider~917570,openstack/ovn-octavia-provider,unmaintained/zed,Ia2b6c80e4627709998b3ee5f169f0c422191e74b,Update .gitreview for unmaintained/zed,NEW,2024-04-30 08:54:31.000000000,2024-05-21 11:12:30.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-30 08:54:31.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5366e6b6c47e2dc693a8e7b9303ed29b69a8d60d', 'message': 'Update .gitreview for unmaintained/zed\n\nChange-Id: Ia2b6c80e4627709998b3ee5f169f0c422191e74b\n'}]",0,917570,5366e6b6c47e2dc693a8e7b9303ed29b69a8d60d,3,2,1,22816,,,0,"Update .gitreview for unmaintained/zed

Change-Id: Ia2b6c80e4627709998b3ee5f169f0c422191e74b
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/70/917570/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5366e6b6c47e2dc693a8e7b9303ed29b69a8d60d,create-zed,defaultbranch=unmaintained/zed,defaultbranch=stable/zed,1,1
openstack%2Fopenstacksdk~920079,openstack/openstacksdk,stable/2023.1,I7e25e30b95ebb8df7984a706ece432813554a395,Remove retired project Senlin job,MERGED,2024-05-21 07:40:58.000000000,2024-05-21 10:53:54.000000000,2024-05-21 10:51:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-05-21 07:40:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/eee309c588b173fcea383b3837ad44f3d18160ef', 'message': 'Remove retired project Senlin job\n\nSenlin project has been retired[1] so removing\nits ref and job from sdk gate otherwise it will fail.\n\n[1] https://review.opendev.org/c/openstack/governance/+/919347\n\nChange-Id: I7e25e30b95ebb8df7984a706ece432813554a395\n(cherry picked from commit 8091075e3b8a9bb160eaee8cd4b24fb3c6410642)\n(cherry picked from commit 8e9e4cc9745f5b9baa3faacb32160730a85c6ca3)\n'}]",0,920079,eee309c588b173fcea383b3837ad44f3d18160ef,8,2,1,13252,,,0,"Remove retired project Senlin job

Senlin project has been retired[1] so removing
its ref and job from sdk gate otherwise it will fail.

[1] https://review.opendev.org/c/openstack/governance/+/919347

Change-Id: I7e25e30b95ebb8df7984a706ece432813554a395
(cherry picked from commit 8091075e3b8a9bb160eaee8cd4b24fb3c6410642)
(cherry picked from commit 8e9e4cc9745f5b9baa3faacb32160730a85c6ca3)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/79/920079/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eee309c588b173fcea383b3837ad44f3d18160ef,retire-senlin,, name: openstacksdk-functional-devstack-senlin parent: openstacksdk-functional-devstack description: | Run openstacksdk functional tests against a master devstack with senlin required-projects: - openstack/senlin vars: devstack_plugins: senlin: https://opendev.org/openstack/senlin devstack_services: s-account: false s-container: false s-object: false s-proxy: false tox_environment: OPENSTACKSDK_HAS_SWIFT: 0 OPENSTACKSDK_HAS_SENLIN: 1 - job: - openstacksdk-functional-devstack-senlin - openstacksdk-functional-devstack-senlin,0,21
openstack%2Fnetworking-bgpvpn~920045,openstack/networking-bgpvpn,master,I9c7539f26ad58ad62661f98d125ba5495e7ac271,Fix compatibility with SQLAlchemy 2.0,MERGED,2024-05-20 15:30:29.000000000,2024-05-21 10:52:55.000000000,2024-05-21 10:51:29.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 15:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/336150bfd26e15dfb08bcd0938e7089714dd1635', 'message': 'do not use str(url) to stringify a URL for subsequent use\n\nThe str(url) function in SQLAlchemy hides the password.\nFor a URL string that is to be re-used, use\nrender_as_string(hide_password=False).\n\nCo-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>\nChange-Id: I9c7539f26ad58ad62661f98d125ba5495e7ac271\n'}, {'number': 2, 'created': '2024-05-21 07:17:39.000000000', 'files': ['networking_bgpvpn/tests/functional/db/test_migrations.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/rocky/contract/9d7f1ae5fa56_add_standard_attributes.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a7208e128f24b30cbf788f3aa6c69488928c5caf', 'message': 'Fix compatibility with SQLAlchemy 2.0\n\n* The str(url) function in SQLAlchemy hides the password. For a URL\n  string that is to be re-used, use\n  render_as_string(hide_password=False) .\n\n* subtrasactions was removed in SQLAlchemy 2.0[1].\n\n[1] https://docs.sqlalchemy.org/en/20/changelog/migration_20.html#migration-to-2-0-step-five-use-the-future-flag-on-session\n\nCo-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>\nChange-Id: I9c7539f26ad58ad62661f98d125ba5495e7ac271\n'}]",2,920045,a7208e128f24b30cbf788f3aa6c69488928c5caf,13,4,2,9816,,,0,"Fix compatibility with SQLAlchemy 2.0

* The str(url) function in SQLAlchemy hides the password. For a URL
  string that is to be re-used, use
  render_as_string(hide_password=False) .

* subtrasactions was removed in SQLAlchemy 2.0[1].

[1] https://docs.sqlalchemy.org/en/20/changelog/migration_20.html#migration-to-2-0-step-five-use-the-future-flag-on-session

Co-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>
Change-Id: I9c7539f26ad58ad62661f98d125ba5495e7ac271
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/45/920045/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/tests/functional/db/test_migrations.py'],1,336150bfd26e15dfb08bcd0938e7089714dd1635,sqlalchemy-20," cfg.CONF.set_override( 'connection', engine.url.render_as_string(hide_password=False), group='database')"," cfg.CONF.set_override('connection', engine.url, group='database')",4,1
openstack%2Fopenstacksdk~919876,openstack/openstacksdk,stable/2023.2,I7e25e30b95ebb8df7984a706ece432813554a395,Remove retired project Senlin job,MERGED,2024-05-21 06:54:31.000000000,2024-05-21 10:29:51.000000000,2024-05-21 10:27:45.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-05-21 06:54:31.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/functional-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8e9e4cc9745f5b9baa3faacb32160730a85c6ca3', 'message': 'Remove retired project Senlin job\n\nSenlin project has been retired[1] so removing\nits ref and job from sdk gate otherwise it will fail.\n\n[1] https://review.opendev.org/c/openstack/governance/+/919347\n\nChange-Id: I7e25e30b95ebb8df7984a706ece432813554a395\n(cherry picked from commit 8091075e3b8a9bb160eaee8cd4b24fb3c6410642)\n'}]",0,919876,8e9e4cc9745f5b9baa3faacb32160730a85c6ca3,8,2,1,13252,,,0,"Remove retired project Senlin job

Senlin project has been retired[1] so removing
its ref and job from sdk gate otherwise it will fail.

[1] https://review.opendev.org/c/openstack/governance/+/919347

Change-Id: I7e25e30b95ebb8df7984a706ece432813554a395
(cherry picked from commit 8091075e3b8a9bb160eaee8cd4b24fb3c6410642)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/76/919876/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/functional-jobs.yaml']",2,8e9e4cc9745f5b9baa3faacb32160730a85c6ca3,retire-senlin,, name: openstacksdk-functional-devstack-senlin parent: openstacksdk-functional-devstack description: | Run openstacksdk functional tests against a master devstack with senlin required-projects: - openstack/senlin vars: devstack_plugins: senlin: https://opendev.org/openstack/senlin devstack_services: s-account: false s-container: false s-object: false s-proxy: false tox_environment: OPENSTACKSDK_HAS_SWIFT: 0 OPENSTACKSDK_HAS_SENLIN: 1 - job:,0,21
openstack%2Freleases~919402,openstack/releases,master,Iad79c2dab532b5cd45be94d32f0e5aa0754748ca,Retire sahara: mark deliverables retired,MERGED,2024-05-11 01:39:17.000000000,2024-05-21 10:20:56.000000000,2024-05-21 10:20:56.000000000,"[{'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-11 01:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/33e7f179d40e3a5363068ab9c4bcb57f17f731c9', 'message': 'Retire ec2-api: mark deliverables retired\n\nec2-api project has been retired, this commit removes\nmark deliverables retired in release repo.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919374/1\nChange-Id: Iad79c2dab532b5cd45be94d32f0e5aa0754748ca\n'}, {'number': 2, 'created': '2024-05-17 08:07:35.000000000', 'files': ['deliverables/xena/sahara-plugin-vanilla.yaml', 'deliverables/yoga/sahara-plugin-spark.yaml', 'deliverables/antelope/sahara-plugin-storm.yaml', 'deliverables/yoga/sahara-plugin-vanilla.yaml', 'deliverables/wallaby/sahara-plugin-ambari.yaml', 'deliverables/bobcat/sahara-extra.yaml', 'deliverables/yoga/sahara-plugin-ambari.yaml', 'deliverables/xena/sahara-plugin-ambari.yaml', 'deliverables/wallaby/sahara-plugin-storm.yaml', 'deliverables/zed/sahara-extra.yaml', 'deliverables/xena/sahara-plugin-mapr.yaml', 'deliverables/zed/sahara-plugin-spark.yaml', 'deliverables/antelope/sahara-plugin-vanilla.yaml', 'deliverables/yoga/sahara-dashboard.yaml', 'deliverables/zed/sahara-plugin-mapr.yaml', 'deliverables/zed/sahara-plugin-storm.yaml', 'deliverables/zed/sahara-plugin-vanilla.yaml', 'deliverables/antelope/sahara-tests.yaml', 'deliverables/zed/sahara-plugin-ambari.yaml', 'deliverables/yoga/sahara-tests.yaml', 'deliverables/wallaby/sahara.yaml', 'deliverables/bobcat/sahara-plugin-cdh.yaml', 'deliverables/wallaby/sahara-dashboard.yaml', 'deliverables/yoga/sahara-plugin-mapr.yaml', 'deliverables/antelope/sahara-extra.yaml', 'deliverables/wallaby/sahara-plugin-vanilla.yaml', 'deliverables/yoga/sahara-image-elements.yaml', 'deliverables/bobcat/sahara-plugin-ambari.yaml', 'deliverables/bobcat/sahara-image-elements.yaml', 'deliverables/xena/sahara-plugin-storm.yaml', 'deliverables/yoga/sahara-extra.yaml', 'deliverables/bobcat/sahara-plugin-storm.yaml', 'deliverables/bobcat/sahara-dashboard.yaml', 'deliverables/wallaby/sahara-plugin-mapr.yaml', 'deliverables/wallaby/sahara-plugin-cdh.yaml', 'deliverables/bobcat/sahara.yaml', 'deliverables/xena/sahara-plugin-cdh.yaml', 'deliverables/antelope/sahara-plugin-ambari.yaml', 'deliverables/wallaby/sahara-extra.yaml', 'deliverables/zed/sahara-plugin-cdh.yaml', 'deliverables/bobcat/sahara-plugin-mapr.yaml', 'deliverables/antelope/sahara.yaml', 'deliverables/antelope/sahara-image-elements.yaml', 'deliverables/wallaby/sahara-plugin-spark.yaml', 'deliverables/xena/sahara-extra.yaml', 'deliverables/xena/sahara-image-elements.yaml', 'deliverables/xena/sahara-dashboard.yaml', 'deliverables/yoga/sahara.yaml', 'deliverables/wallaby/sahara-tests.yaml', 'deliverables/antelope/sahara-plugin-spark.yaml', 'deliverables/xena/sahara.yaml', 'deliverables/zed/sahara-tests.yaml', 'deliverables/zed/sahara-image-elements.yaml', 'deliverables/zed/sahara-dashboard.yaml', 'deliverables/antelope/sahara-plugin-mapr.yaml', 'deliverables/antelope/sahara-plugin-cdh.yaml', 'deliverables/zed/sahara.yaml', 'deliverables/yoga/sahara-plugin-cdh.yaml', 'deliverables/yoga/sahara-plugin-storm.yaml', 'deliverables/xena/sahara-tests.yaml', 'deliverables/antelope/sahara-dashboard.yaml', 'deliverables/bobcat/sahara-tests.yaml', 'deliverables/xena/sahara-plugin-spark.yaml', 'deliverables/bobcat/sahara-plugin-spark.yaml', 'deliverables/wallaby/sahara-image-elements.yaml', 'deliverables/bobcat/sahara-plugin-vanilla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/27cb4335352d4c9921611ce604b2cd907abcbd35', 'message': 'Retire sahara: mark deliverables retired\n\nsahara project has been retired, this commit removes\nmark deliverables retired in release repo.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919374/1\nChange-Id: Iad79c2dab532b5cd45be94d32f0e5aa0754748ca\n'}]",9,919402,27cb4335352d4c9921611ce604b2cd907abcbd35,13,3,2,8556,,,0,"Retire sahara: mark deliverables retired

sahara project has been retired, this commit removes
mark deliverables retired in release repo.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919374/1
Change-Id: Iad79c2dab532b5cd45be94d32f0e5aa0754748ca
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/919402/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/sahara-plugin-vanilla.yaml', 'deliverables/yoga/sahara-plugin-spark.yaml', 'deliverables/antelope/sahara-plugin-storm.yaml', 'deliverables/yoga/sahara-plugin-vanilla.yaml', 'deliverables/wallaby/sahara-plugin-ambari.yaml', 'deliverables/bobcat/sahara-extra.yaml', 'deliverables/yoga/sahara-plugin-ambari.yaml', 'deliverables/xena/sahara-plugin-ambari.yaml', 'deliverables/wallaby/sahara-plugin-storm.yaml', 'deliverables/zed/sahara-extra.yaml', 'deliverables/xena/sahara-plugin-mapr.yaml', 'deliverables/zed/sahara-plugin-spark.yaml', 'deliverables/antelope/sahara-plugin-vanilla.yaml', 'deliverables/yoga/sahara-dashboard.yaml', 'deliverables/zed/sahara-plugin-mapr.yaml', 'deliverables/zed/sahara-plugin-storm.yaml', 'deliverables/zed/sahara-plugin-vanilla.yaml', 'deliverables/antelope/sahara-tests.yaml', 'deliverables/zed/sahara-plugin-ambari.yaml', 'deliverables/yoga/sahara-tests.yaml', 'deliverables/wallaby/sahara.yaml', 'deliverables/bobcat/sahara-plugin-cdh.yaml', 'deliverables/wallaby/sahara-dashboard.yaml', 'deliverables/yoga/sahara-plugin-mapr.yaml', 'deliverables/antelope/sahara-extra.yaml', 'deliverables/wallaby/sahara-plugin-vanilla.yaml', 'deliverables/yoga/sahara-image-elements.yaml', 'deliverables/bobcat/sahara-plugin-ambari.yaml', 'deliverables/bobcat/sahara-image-elements.yaml', 'deliverables/xena/sahara-plugin-storm.yaml', 'deliverables/yoga/sahara-extra.yaml', 'deliverables/bobcat/sahara-plugin-storm.yaml', 'deliverables/bobcat/sahara-dashboard.yaml', 'deliverables/wallaby/sahara-plugin-mapr.yaml', 'deliverables/wallaby/sahara-plugin-cdh.yaml', 'deliverables/bobcat/sahara.yaml', 'deliverables/xena/sahara-plugin-cdh.yaml', 'deliverables/antelope/sahara-plugin-ambari.yaml', 'deliverables/wallaby/sahara-extra.yaml', 'deliverables/zed/sahara-plugin-cdh.yaml', 'deliverables/bobcat/sahara-plugin-mapr.yaml', 'deliverables/antelope/sahara.yaml', 'deliverables/antelope/sahara-image-elements.yaml', 'deliverables/wallaby/sahara-plugin-spark.yaml', 'deliverables/xena/sahara-extra.yaml', 'deliverables/xena/sahara-image-elements.yaml', 'deliverables/xena/sahara-dashboard.yaml', 'deliverables/yoga/sahara.yaml', 'deliverables/wallaby/sahara-tests.yaml', 'deliverables/antelope/sahara-plugin-spark.yaml', 'deliverables/xena/sahara.yaml', 'deliverables/zed/sahara-tests.yaml', 'deliverables/zed/sahara-image-elements.yaml', 'deliverables/zed/sahara-dashboard.yaml', 'deliverables/antelope/sahara-plugin-mapr.yaml', 'deliverables/antelope/sahara-plugin-cdh.yaml', 'deliverables/zed/sahara.yaml', 'deliverables/yoga/sahara-plugin-cdh.yaml', 'deliverables/yoga/sahara-plugin-storm.yaml', 'deliverables/xena/sahara-tests.yaml', 'deliverables/antelope/sahara-dashboard.yaml', 'deliverables/bobcat/sahara-tests.yaml', 'deliverables/xena/sahara-plugin-spark.yaml', 'deliverables/bobcat/sahara-plugin-spark.yaml', 'deliverables/wallaby/sahara-image-elements.yaml', 'deliverables/bobcat/sahara-plugin-vanilla.yaml']",66,33e7f179d40e3a5363068ab9c4bcb57f17f731c9,retire-sahara, openstack/sahara-plugin-vanilla: flags: - retired, openstack/sahara-plugin-vanilla: {},198,66
openstack%2Fopenstacksdk~919875,openstack/openstacksdk,stable/2024.1,I7e25e30b95ebb8df7984a706ece432813554a395,Remove retired project Senlin job,MERGED,2024-05-21 06:53:37.000000000,2024-05-21 10:20:32.000000000,2024-05-21 10:18:26.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-05-21 06:53:37.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/functional-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/615c63ec84bb8494b44fa8710db54a7e6e2c1e8e', 'message': 'Remove retired project Senlin job\n\nSenlin project has been retired[1] so removing\nits ref and job from sdk gate otherwise it will fail.\n\n[1] https://review.opendev.org/c/openstack/governance/+/919347\n\nChange-Id: I7e25e30b95ebb8df7984a706ece432813554a395\n(cherry picked from commit 8091075e3b8a9bb160eaee8cd4b24fb3c6410642)\n'}]",0,919875,615c63ec84bb8494b44fa8710db54a7e6e2c1e8e,8,2,1,13252,,,0,"Remove retired project Senlin job

Senlin project has been retired[1] so removing
its ref and job from sdk gate otherwise it will fail.

[1] https://review.opendev.org/c/openstack/governance/+/919347

Change-Id: I7e25e30b95ebb8df7984a706ece432813554a395
(cherry picked from commit 8091075e3b8a9bb160eaee8cd4b24fb3c6410642)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/75/919875/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/functional-jobs.yaml']",2,615c63ec84bb8494b44fa8710db54a7e6e2c1e8e,retire-senlin,, name: openstacksdk-functional-devstack-senlin parent: openstacksdk-functional-devstack description: | Run openstacksdk functional tests against a master devstack with senlin required-projects: - openstack/senlin vars: devstack_plugins: senlin: https://opendev.org/openstack/senlin devstack_services: s-account: false s-container: false s-object: false s-proxy: false tox_environment: OPENSTACKSDK_HAS_SWIFT: 0 OPENSTACKSDK_HAS_SENLIN: 1 - job:,0,21
openstack%2Fnova~905287,openstack/nova,master,Ica4c7cc24811713671dfc36e31b2fe9259e88613,move context executor to utils and remove eventlet.tpool,NEW,2024-01-11 04:37:22.000000000,2024-05-21 10:17:07.000000000,,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-11 04:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc0f081c2f0f5ae9a3505c1dc99b51c8b4a95aee', 'message': 'move context executor to utils and remove eventlet.tpool\n\nThis change moves the context executor to nova.utils\nand intoducecs an execute function which uses it with the same\nfunction signeture as spawn.\n\nexecute returns a future to the result of funtion disptached to\nthe executor.\n\ntpool_execute has been refactored to use a futureist.ThreadPoolExecutor\ninstead of delegating to eventlets tpool.\n\ntpool_execute now returns a future instead of blocking internally and\nthe only caller of this fucntion has been updated to call result() on\nthe future to wait for it to complete.\n\nChange-Id: Ica4c7cc24811713671dfc36e31b2fe9259e88613\n'}, {'number': 2, 'created': '2024-05-02 10:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b449d012024bc221a9a19b6bb99cc6023914af9a', 'message': 'move context executor to utils and remove eventlet.tpool\n\nThis change moves the context executor to nova.utils\nand intoducecs an execute function which uses it with the same\nfunction signeture as spawn.\n\nexecute returns a future to the result of funtion disptached to\nthe executor.\n\ntpool_execute has been refactored to use a futureist.ThreadPoolExecutor\ninstead of delegating to eventlets tpool.\n\ntpool_execute now returns a future instead of blocking internally and\nthe only caller of this fucntion has been updated to call result() on\nthe future to wait for it to complete.\n\nChange-Id: Ica4c7cc24811713671dfc36e31b2fe9259e88613\n'}, {'number': 3, 'created': '2024-05-02 10:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc75e1d63b83d63e0cb38a0db57257a97c852cd8', 'message': 'move context executor to utils and remove eventlet.tpool\n\nThis change moves the context executor to nova.utils\nand intoducecs an execute function which uses it with the same\nfunction signeture as spawn.\n\nexecute returns a future to the result of funtion disptached to\nthe executor.\n\ntpool_execute has been refactored to use a futureist.ThreadPoolExecutor\ninstead of delegating to eventlets tpool.\n\ntpool_execute now returns a future instead of blocking internally and\nthe only caller of this fucntion has been updated to call result() on\nthe future to wait for it to complete.\n\nChange-Id: Ica4c7cc24811713671dfc36e31b2fe9259e88613\n'}, {'number': 4, 'created': '2024-05-02 11:19:05.000000000', 'files': ['nova/image/glance.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py', 'nova/context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b61ea5d8f9eeb54971501fd54a9654c9cb24cb3', 'message': 'move context executor to utils and remove eventlet.tpool\n\nThis change moves the context executor to nova.utils\nand intoducecs an execute function which uses it with the same\nfunction signeture as spawn.\n\nexecute returns a future to the result of funtion disptached to\nthe executor.\n\ntpool_execute has been refactored to use a futureist.ThreadPoolExecutor\ninstead of delegating to eventlets tpool.\n\ntpool_execute now returns a future instead of blocking internally and\nthe only caller of this fucntion has been updated to call result() on\nthe future to wait for it to complete.\n\nChange-Id: Ica4c7cc24811713671dfc36e31b2fe9259e88613\n'}]",32,905287,9b61ea5d8f9eeb54971501fd54a9654c9cb24cb3,19,3,4,11604,,,0,"move context executor to utils and remove eventlet.tpool

This change moves the context executor to nova.utils
and intoducecs an execute function which uses it with the same
function signeture as spawn.

execute returns a future to the result of funtion disptached to
the executor.

tpool_execute has been refactored to use a futureist.ThreadPoolExecutor
instead of delegating to eventlets tpool.

tpool_execute now returns a future instead of blocking internally and
the only caller of this fucntion has been updated to call result() on
the future to wait for it to complete.

Change-Id: Ica4c7cc24811713671dfc36e31b2fe9259e88613
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/905287/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/glance.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py', 'nova/context.py']",4,bc0f081c2f0f5ae9a3505c1dc99b51c8b4a95aee,eventlet-removal-part-1," utils.execute(gather_result, cell_mapping.uuid,","import futurist# The futurist thread pool executor EXECUTOR = None def executor_singleton(): global EXECUTOR if EXECUTOR is None: if not eventletutils.is_monkey_patched('thread'): EXECUTOR = futurist.ThreadPoolExecutor( max_workers=CONF.osapi_compute_workers) else: EXECUTOR = futurist.GreenThreadPoolExecutor() return EXECUTOR executor_singleton().submit(gather_result, cell_mapping.uuid,",41,25
openstack%2Foctavia-tempest-plugin~873490,openstack/octavia-tempest-plugin,master,I18324cc6873d12969e20bb06045d4868c27b8a57,Add testing jobs for Rocky Linux,MERGED,2023-02-13 07:40:12.000000000,2024-05-21 10:14:36.000000000,2024-05-21 10:12:17.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 31664}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-02-13 07:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3af1a55280e28975f56ef381498f38dd627b896d', 'message': 'WIP Add a testing job for Rocky amphora image\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/873489\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 2, 'created': '2023-02-14 10:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4ef813cd3a90660193b668c583fd76f6de60ec49', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/873489\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 3, 'created': '2023-02-14 10:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bfb032932ff68907968f7ab39c580474ebda5b2e', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/873489\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 4, 'created': '2023-02-16 12:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4ada8015b19e6c402bb90eb6fb985e288f27f8fa', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/873489\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/874068\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 5, 'created': '2023-02-16 15:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/da154800495d73ffd7448c043312961b99058c46', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/873489\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/874068\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 6, 'created': '2023-02-16 18:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bfc9bdf1a191f8573b03b6660972220919b397f2', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/873489\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/874068\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 7, 'created': '2023-02-17 06:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b8cb7a27e610a6597c703f3ec7523b0716a97ac1', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/874193\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/874068\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 8, 'created': '2023-05-15 09:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/833d2e51b1eee8765656c207041fdbf3797e3410', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/874193\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 9, 'created': '2023-05-15 12:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4f3e2e4215eb1ce0d1f5b80bb77bbbabfdc7dd92', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/874193\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 10, 'created': '2023-05-15 19:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6c11ad0c4bfea4a84956878b2598da653ecf733c', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/874193\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 11, 'created': '2023-05-15 19:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b68c02e09d876b5e462422d62e3dfdc0d55fdeba', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/874193\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 12, 'created': '2023-05-16 06:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/806272bfda9da2d0567495b71c513cce5bc56f65', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/874193\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 13, 'created': '2023-05-16 07:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c1d71864b610cfad2608d3db8ec25ac6bae3cd4b', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/874193\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 14, 'created': '2023-05-16 08:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ac82298b15380f5d4e6ffc37a4f7976825578678', 'message': 'WIP Add a testing job for Rocky Linux\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/873489\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 15, 'created': '2023-05-16 10:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f59ba8ef89590299f1137c8433291ca39e4f6a04', 'message': 'Add testing jobs for Rocky Linux\n\nDefine and add 2 jobs to the check pipeline:\n* octavia-v2-dsvm-scenario-rockylinux-9-traffic-ops\n* octavia-v2-dsvm-scenario-rockylinux-9-non-traffic-ops\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/873489\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}, {'number': 16, 'created': '2023-08-25 06:02:26.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/946527ef64630bcdfbc3f17d11e23eadb95d6d62', 'message': 'Add testing jobs for Rocky Linux\n\nDefine and add 2 jobs to the check pipeline:\n* octavia-v2-dsvm-scenario-rockylinux-9-traffic-ops\n* octavia-v2-dsvm-scenario-rockylinux-9-non-traffic-ops\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/873489\nChange-Id: I18324cc6873d12969e20bb06045d4868c27b8a57\n'}]",31,873490,946527ef64630bcdfbc3f17d11e23eadb95d6d62,59,5,16,29244,,,0,"Add testing jobs for Rocky Linux

Define and add 2 jobs to the check pipeline:
* octavia-v2-dsvm-scenario-rockylinux-9-traffic-ops
* octavia-v2-dsvm-scenario-rockylinux-9-non-traffic-ops

Depends-On: https://review.opendev.org/c/openstack/octavia/+/873489
Change-Id: I18324cc6873d12969e20bb06045d4868c27b8a57
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/90/873490/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,3af1a55280e28975f56ef381498f38dd627b896d,," name: octavia-v2-dsvm-scenario-rocky-9 parent: octavia-v2-dsvm-scenario nodeset: octavia-single-node-centos-9-stream vars: devstack_localrc: OCTAVIA_AMP_BASE_OS: rocky OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID: 9 OCTAVIA_AMP_IMAGE_SIZE: 3 OCTAVIA_SSH_KEY_TYPE: ecdsa OCTAVIA_SSH_KEY_BITS: 256 devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": validation: ssh_key_type: ecdsa - job:",,19,43
openstack%2Ftempest~919920,openstack/tempest,master,I3a2fbcfad992799f7c7aec97bb18edf647cefa1c,Adds validation schema for compute,MERGED,2024-05-17 06:43:06.000000000,2024-05-21 10:14:32.000000000,2024-05-21 10:12:14.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2024-05-17 06:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/528ee6563c4c52eaddb999fd679ddd3c07996780', 'message': 'Adds migration schema v2_80\n\n- Adds user_id and project_id for list migrations.\n- Update a microversion condition to call evacuate API.\n\nChange-Id: I3a2fbcfad992799f7c7aec97bb18edf647cefa1c\n'}, {'number': 2, 'created': '2024-05-17 11:17:57.000000000', 'files': ['tempest/lib/services/compute/servers_client.py', 'tempest/lib/api_schema/response/compute/v2_80/__init__.py', 'tempest/lib/api_schema/response/compute/v2_80/migrations.py', 'tempest/lib/services/compute/migrations_client.py', 'tempest/lib/api_schema/response/compute/v2_89/servers.py', 'tempest/lib/api_schema/response/compute/v2_89/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/43cc313b0beabaddf3c7210f22fea9532b134f4a', 'message': 'Adds validation schema for compute\n\n- Adds user_id and project_id in list migrations for v2.80\n- Adds attachment_id and bdm_uuid in volume attachment for v2.89\n- Removes id from volume attachment list and show\n- Update a microversion condition to call evacuate API.\n\nChange-Id: I3a2fbcfad992799f7c7aec97bb18edf647cefa1c\n'}]",3,919920,43cc313b0beabaddf3c7210f22fea9532b134f4a,10,3,2,34860,,,0,"Adds validation schema for compute

- Adds user_id and project_id in list migrations for v2.80
- Adds attachment_id and bdm_uuid in volume attachment for v2.89
- Removes id from volume attachment list and show
- Update a microversion condition to call evacuate API.

Change-Id: I3a2fbcfad992799f7c7aec97bb18edf647cefa1c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/20/919920/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/compute/servers_client.py', 'tempest/lib/api_schema/response/compute/v2_80/__init__.py', 'tempest/lib/api_schema/response/compute/v2_80/migrations.py', 'tempest/lib/services/compute/migrations_client.py']",4,528ee6563c4c52eaddb999fd679ddd3c07996780,update-migration-schema,"from tempest.lib.api_schema.response.compute.v2_80 import migrations \ as schemav280 {'min': '2.59', 'max': '2.79', 'schema': schemav259}, {'min': '2.80', 'max': None, 'schema': schemav280}]"," {'min': '2.59', 'max': None, 'schema': schemav259}]",47,2
openstack%2Freleases~919373,openstack/releases,master,If136f208ab91afc63004a92104a95dff2b206929,Retire Murano: mark deliverables retired,MERGED,2024-05-10 23:42:06.000000000,2024-05-21 10:07:13.000000000,2024-05-21 10:07:13.000000000,"[{'_account_id': 308}, {'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-10 23:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/02ef93605d95b77d422492284e5c572fd35e0454', 'message': 'Retire Murano: mark deliverables retired\n\nMurano project has been retired, this commit removes\nmark deliverables retired in release repo.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919358\nChange-Id: If136f208ab91afc63004a92104a95dff2b206929\n'}, {'number': 2, 'created': '2024-05-17 17:44:27.000000000', 'files': ['deliverables/zed/murano-agent.yaml', 'deliverables/bobcat/murano-tempest-plugin.yaml', 'deliverables/antelope/murano-agent.yaml', 'deliverables/yoga/murano-dashboard.yaml', 'deliverables/bobcat/murano-dashboard.yaml', 'deliverables/zed/murano-tempest-plugin.yaml', 'deliverables/yoga/murano.yaml', 'deliverables/bobcat/murano-agent.yaml', 'deliverables/antelope/murano-tempest-plugin.yaml', 'deliverables/antelope/murano.yaml', 'deliverables/zed/murano-dashboard.yaml', 'deliverables/antelope/murano-dashboard.yaml', 'deliverables/bobcat/murano.yaml', 'deliverables/yoga/murano-tempest-plugin.yaml', 'deliverables/zed/murano.yaml', 'deliverables/yoga/murano-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2083d336622dbc88131f9623960b643698238130', 'message': 'Retire Murano: mark deliverables retired\n\nMurano project has been retired, this commit removes\nmark deliverables retired in release repo.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919358\nChange-Id: If136f208ab91afc63004a92104a95dff2b206929\n'}]",4,919373,2083d336622dbc88131f9623960b643698238130,12,4,2,8556,,,0,"Retire Murano: mark deliverables retired

Murano project has been retired, this commit removes
mark deliverables retired in release repo.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919358
Change-Id: If136f208ab91afc63004a92104a95dff2b206929
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/919373/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/murano-dashboard.yaml', 'deliverables/wallaby/murano-dashboard.yaml', 'deliverables/bobcat/murano-agent.yaml', 'deliverables/xena/murano-tempest-plugin.yaml', 'deliverables/zed/murano-dashboard.yaml', 'deliverables/antelope/murano-dashboard.yaml', 'deliverables/zed/murano.yaml', 'deliverables/yoga/murano-agent.yaml', 'deliverables/wallaby/murano-agent.yaml', 'deliverables/zed/murano-agent.yaml', 'deliverables/bobcat/murano-tempest-plugin.yaml', 'deliverables/wallaby/murano.yaml', 'deliverables/antelope/murano-agent.yaml', 'deliverables/yoga/murano-dashboard.yaml', 'deliverables/bobcat/murano-dashboard.yaml', 'deliverables/zed/murano-tempest-plugin.yaml', 'deliverables/xena/murano.yaml', 'deliverables/yoga/murano.yaml', 'deliverables/wallaby/murano-tempest-plugin.yaml', 'deliverables/antelope/murano-tempest-plugin.yaml', 'deliverables/antelope/murano.yaml', 'deliverables/bobcat/murano.yaml', 'deliverables/yoga/murano-tempest-plugin.yaml', 'deliverables/xena/murano-agent.yaml']",24,02ef93605d95b77d422492284e5c572fd35e0454,retire-murano, openstack/murano-agent: flags: - retired, openstack/murano-agent: {},72,24
openstack%2Freleases~919401,openstack/releases,master,I7b93b00b4430bb7d2772ff63d956870daa20db08,Retire ec2-api: mark deliverables retired,MERGED,2024-05-11 01:18:53.000000000,2024-05-21 10:06:03.000000000,2024-05-21 10:06:03.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-11 01:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/61aaf72ec65dc216dd97374daeff9d31d3a05aef', 'message': 'Retire ec2-api: mark deliverables retired\n\nec2-api project has been retired, this commit removes\nmark deliverables retired in release repo.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919394/1\nChange-Id: I7b93b00b4430bb7d2772ff63d956870daa20db08\n'}, {'number': 2, 'created': '2024-05-17 17:55:08.000000000', 'files': ['deliverables/bobcat/ec2-api.yaml', 'deliverables/yoga/ec2api-tempest-plugin.yaml', 'deliverables/victoria/ec2api-tempest-plugin.yaml', 'deliverables/wallaby/ec2-api.yaml', 'deliverables/xena/ec2-api.yaml', 'deliverables/antelope/ec2-api.yaml', 'deliverables/victoria/ec2-api.yaml', 'deliverables/yoga/ec2-api.yaml', 'deliverables/zed/ec2-api.yaml', 'deliverables/zed/ec2api-tempest-plugin.yaml', 'deliverables/xena/ec2api-tempest-plugin.yaml', 'deliverables/bobcat/ec2api-tempest-plugin.yaml', 'deliverables/wallaby/ec2api-tempest-plugin.yaml', 'deliverables/antelope/ec2api-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/74a92fea6540c0868a8e40c00502af07e0b756d2', 'message': 'Retire ec2-api: mark deliverables retired\n\nec2-api project has been retired, this commit removes\nmark deliverables retired in release repo.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919394/1\nChange-Id: I7b93b00b4430bb7d2772ff63d956870daa20db08\n'}]",5,919401,74a92fea6540c0868a8e40c00502af07e0b756d2,11,3,2,8556,,,0,"Retire ec2-api: mark deliverables retired

ec2-api project has been retired, this commit removes
mark deliverables retired in release repo.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919394/1
Change-Id: I7b93b00b4430bb7d2772ff63d956870daa20db08
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/919401/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/bobcat/ec2-api.yaml', 'deliverables/yoga/ec2api-tempest-plugin.yaml', 'deliverables/wallaby/ec2-api.yaml', 'deliverables/xena/ec2-api.yaml', 'deliverables/antelope/ec2-api.yaml', 'deliverables/yoga/ec2-api.yaml', 'deliverables/zed/ec2-api.yaml', 'deliverables/zed/ec2api-tempest-plugin.yaml', 'deliverables/xena/ec2api-tempest-plugin.yaml', 'deliverables/bobcat/ec2api-tempest-plugin.yaml', 'deliverables/wallaby/ec2api-tempest-plugin.yaml', 'deliverables/antelope/ec2api-tempest-plugin.yaml']",12,61aaf72ec65dc216dd97374daeff9d31d3a05aef,retire-ec2api, openstack/ec2api-tempest-plugin: flags: - retired, openstack/ec2api-tempest-plugin: {},36,12
openstack%2Freleases~919225,openstack/releases,master,I287b782e0b1b62ebde59378602259c80a4fbd715,Retire Solum: mark deliverables retired,MERGED,2024-05-10 20:04:53.000000000,2024-05-21 09:58:57.000000000,2024-05-21 09:58:57.000000000,"[{'_account_id': 308}, {'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-10 20:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e5da07d1fe464cf9ebf4ca055edbed19fd309250', 'message': 'Retire Solum: mark deliverables retired\n\nSolum project has been retired, this commit removes\nmark deliverables retired in release repo.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919211\nChange-Id: I287b782e0b1b62ebde59378602259c80a4fbd715\n'}, {'number': 2, 'created': '2024-05-17 17:41:54.000000000', 'files': ['deliverables/zed/solum.yaml', 'deliverables/antelope/solum-tempest-plugin.yaml', 'deliverables/yoga/solum-dashboard.yaml', 'deliverables/zed/solum-dashboard.yaml', 'deliverables/antelope/solum-dashboard.yaml', 'deliverables/bobcat/python-solumclient.yaml', 'deliverables/bobcat/solum.yaml', 'deliverables/yoga/solum-tempest-plugin.yaml', 'deliverables/antelope/python-solumclient.yaml', 'deliverables/yoga/python-solumclient.yaml', 'deliverables/zed/solum-tempest-plugin.yaml', 'deliverables/bobcat/solum-tempest-plugin.yaml', 'deliverables/antelope/solum.yaml', 'deliverables/yoga/solum.yaml', 'deliverables/zed/python-solumclient.yaml', 'deliverables/bobcat/solum-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ecd05dfef6d4fff0c05a44df519061a961d2fe45', 'message': 'Retire Solum: mark deliverables retired\n\nSolum project has been retired, this commit removes\nmark deliverables retired in release repo.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919211\nChange-Id: I287b782e0b1b62ebde59378602259c80a4fbd715\n'}]",4,919225,ecd05dfef6d4fff0c05a44df519061a961d2fe45,11,4,2,8556,,,0,"Retire Solum: mark deliverables retired

Solum project has been retired, this commit removes
mark deliverables retired in release repo.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919211
Change-Id: I287b782e0b1b62ebde59378602259c80a4fbd715
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/919225/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/python-solumclient.yaml', 'deliverables/zed/solum.yaml', 'deliverables/xena/solum-dashboard.yaml', 'deliverables/wallaby/solum-tempest-plugin.yaml', 'deliverables/yoga/solum-dashboard.yaml', 'deliverables/zed/solum-dashboard.yaml', 'deliverables/antelope/solum-dashboard.yaml', 'deliverables/bobcat/python-solumclient.yaml', 'deliverables/bobcat/solum.yaml', 'deliverables/yoga/solum-tempest-plugin.yaml', 'deliverables/yoga/python-solumclient.yaml', 'deliverables/bobcat/solum-tempest-plugin.yaml', 'deliverables/yoga/solum.yaml', 'deliverables/zed/python-solumclient.yaml', 'deliverables/antelope/solum-tempest-plugin.yaml', 'deliverables/wallaby/solum-dashboard.yaml', 'deliverables/xena/python-solumclient.yaml', 'deliverables/antelope/python-solumclient.yaml', 'deliverables/xena/solum-tempest-plugin.yaml', 'deliverables/wallaby/solum.yaml', 'deliverables/zed/solum-tempest-plugin.yaml', 'deliverables/antelope/solum.yaml', 'deliverables/xena/solum.yaml', 'deliverables/bobcat/solum-dashboard.yaml']",24,e5da07d1fe464cf9ebf4ca055edbed19fd309250,retire-solum, openstack/solum-dashboard: flags: - retired, openstack/solum-dashboard: {},72,24
openstack%2Fopenstack-ansible-os_manila~891664,openstack/openstack-ansible-os_manila,master,If1d799aec0c2d547c30c13496e45a010c5c0caaa,Cleanup old functional tests,MERGED,2023-08-17 08:13:27.000000000,2024-05-21 09:53:48.000000000,2024-05-21 09:52:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-08-17 08:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/0f058482dc5dc3af1190ff43e27e283dd4383d7b', 'message': ""Cleanup old functional tests\n\nWe don't run functional tests anymore so it's time to clean-up all\nrelated bits.\n\nIntegrated tests should be used instead.\n\nChange-Id: If1d799aec0c2d547c30c13496e45a010c5c0caaa\n""}, {'number': 2, 'created': '2024-05-20 16:48:05.000000000', 'files': ['tests/host_vars/localhost.yml', 'tests/inventory', 'tests/cinder-initiator.yml', 'tests/host_vars/infra1.yml', 'tests/host_vars/manila1.yml', 'tests/test.yml', 'tests/test-setup-manila-localhost.yml', 'tests/test-install-manila.yml', 'tests/ansible-role-requirements.yml', 'tests/host_vars/storage1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/os_manila-overrides.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/d09d1f1ba04fbdf497ad46e2da6507f4a9bbc0b5', 'message': ""Cleanup old functional tests\n\nWe don't run functional tests anymore so it's time to clean-up all\nrelated bits.\n\nIntegrated tests should be used instead.\n\nChange-Id: If1d799aec0c2d547c30c13496e45a010c5c0caaa\n""}]",0,891664,d09d1f1ba04fbdf497ad46e2da6507f4a9bbc0b5,11,3,2,28619,,,0,"Cleanup old functional tests

We don't run functional tests anymore so it's time to clean-up all
related bits.

Integrated tests should be used instead.

Change-Id: If1d799aec0c2d547c30c13496e45a010c5c0caaa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/64/891664/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/localhost.yml', 'tests/inventory', 'tests/cinder-initiator.yml', 'tests/host_vars/infra1.yml', 'tests/host_vars/manila1.yml', 'tests/test.yml', 'tests/test-setup-manila-localhost.yml', 'tests/test-install-manila.yml', 'tests/ansible-role-requirements.yml', 'tests/host_vars/storage1.yml', 'tests/group_vars/all_containers.yml', 'tests/host_vars/openstack1.yml', 'tests/os_manila-overrides.yml', 'tox.ini']",14,0f058482dc5dc3af1190ff43e27e283dd4383d7b,osa/cleanup_functional,,"[testenv:functional] commands = bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" [testenv:distro_install] setenv = {[testenv]setenv} ANSIBLE_PARAMETERS=-e @{toxinidir}/tests/common/test-distro_install-vars.yml commands = bash -c ""{toxinidir}/tests/common/test-ansible-functional.sh"" ",0,686
openstack%2Freleases~919851,openstack/releases,master,Ie48b92ca25626de3ee00b0dcff755c2d8fe2afff,Create new tooz release,MERGED,2024-05-16 14:41:29.000000000,2024-05-21 09:26:10.000000000,2024-05-21 09:26:10.000000000,"[{'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-05-16 14:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/941922a91cec784407ad630d93c9374a093dced9', 'message': 'Create new tooz release\n\n... which includes the fix for bug 2063857 , the regression in 6.1.0\nwith redis sentinel backend support.\n\nChange-Id: Ie48b92ca25626de3ee00b0dcff755c2d8fe2afff\n'}, {'number': 2, 'created': '2024-05-20 02:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a0d8aa35476b3c9ced177609371eeb1fe665cf35', 'message': 'Create new tooz release\n\n... which includes the fix for bug 2063857 , the regression in 6.1.0\nwith redis sentinel backend support.\n\nChange-Id: Ie48b92ca25626de3ee00b0dcff755c2d8fe2afff\n'}, {'number': 3, 'created': '2024-05-21 07:14:37.000000000', 'files': ['deliverables/_independent/tooz.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a53a3c9c78ce2dad0e30b5331605d168a8acc09b', 'message': 'Create new tooz release\n\n... which includes the fix for bug 2063857 , the regression in 6.1.0\nwith redis sentinel backend support.\n\nChange-Id: Ie48b92ca25626de3ee00b0dcff755c2d8fe2afff\n'}]",7,919851,a53a3c9c78ce2dad0e30b5331605d168a8acc09b,19,4,3,9816,,,0,"Create new tooz release

... which includes the fix for bug 2063857 , the regression in 6.1.0
with redis sentinel backend support.

Change-Id: Ie48b92ca25626de3ee00b0dcff755c2d8fe2afff
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/919851/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/tooz.yaml'],1,941922a91cec784407ad630d93c9374a093dced9,, - version: 6.1.1 projects: - repo: openstack/tooz hash: 1a6af8b93cf1789e8171d338e784b96a205f3d9c,,4,0
openstack%2Fnova~878779,openstack/nova,master,I7affeb73d6f6f09f7894d838ac471756a6f1d7b2,Fix typos and punctuation issues,NEW,2023-03-28 14:27:49.000000000,2024-05-21 09:14:42.000000000,,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 19234}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-03-28 14:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69b8db3bca645234037f1a81398a904a354d486f', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 2, 'created': '2023-03-28 14:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6143912620626928ef38477a4c133875c3cb4aff', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 3, 'created': '2023-04-04 16:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c9ca4d6f9afb412f03643cf015e61db8027e715', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\nThis change also fixes typos in test names and some grammatical\nerrors.\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 4, 'created': '2023-04-11 10:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c42b62c2de0beaad8f6b357a7d9b3962901fe3f', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\nThis change also fixes typos in test names and some grammatical\nerrors.\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 5, 'created': '2023-04-11 12:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30200aa10cbdbaeaac425286a6ac5fa3ab9e863d', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\nThis change also fixes typos in test names and some grammatical\nerrors.\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 6, 'created': '2023-10-30 06:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/093682e8a46d8abb1f622d2f3d410d46212c51ce', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\nThis change also fixes typos in test names and some grammatical\nerrors.\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 7, 'created': '2023-10-30 10:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40c4215724b87fac6fea0bb1fb2913acc9cc4dd1', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\nThis change also fixes typos in test names and some grammatical\nerrors.\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 8, 'created': '2023-10-30 12:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78624db76d3dad2bad4963c8fe2ac0cbc651ecc9', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\nThis change also fixes typos in test names and some grammatical\nerrors.\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 9, 'created': '2024-02-26 09:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c652eb06b4079dc422fb9cfd681bb9eeb6fc4c71', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\nThis change also fixes typos in test names and some grammatical\nerrors.\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 10, 'created': '2024-02-27 06:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd9da8833c21c277528b4fdd68ac5d0a0ca22673', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\nThis change also fixes typos in test names and some grammatical\nerrors.\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 11, 'created': '2024-04-09 13:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92527097c4208cca8d45ad6b2a31106747a50347', 'message': 'Fix trivial doc issues\n\nThis change fixes some trivial doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\nThis change also fixes typos in test names and some grammatical\nerrors.\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}, {'number': 12, 'created': '2024-05-15 08:28:04.000000000', 'files': ['doc/source/reference/scheduler-evolution.rst', 'nova/conf/compute.py', 'doc/source/admin/upgrades.rst', 'doc/source/admin/architecture.rst', 'nova/db/main/api.py', 'nova/tests/functional/test_availability_zones.py', 'doc/source/admin/evacuate.rst', 'doc/source/install/overview.rst', 'doc/source/admin/scheduling.rst', 'doc/source/admin/cells.rst', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'api-guide/source/accelerator-support.rst', 'doc/source/admin/availability-zones.rst', 'doc/source/contributor/api-ref-guideline.rst', 'api-guide/source/server_concepts.rst', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/notification_sample_tests/test_flavor.py', 'doc/source/admin/configuring-migrations.rst', 'doc/source/admin/aggregates.rst', 'doc/source/reference/database-migrations.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/f151bc8fb167b04a7f5a008ad4e576ce9c43e263', 'message': 'Fix typos and punctuation issues\n\nThis change fixes some doc issues, including typos,\nmissing dot(.) at end of line and scheduler weighter name\nfrom weight_object(s) to weigh_object(s).\nThis change also fixes typos in test names and some grammatical\nerrors, reworking doc content and subtly changing the meaning\nas well.\n\nChange-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2\n'}]",108,878779,f151bc8fb167b04a7f5a008ad4e576ce9c43e263,84,14,12,20733,,,0,"Fix typos and punctuation issues

This change fixes some doc issues, including typos,
missing dot(.) at end of line and scheduler weighter name
from weight_object(s) to weigh_object(s).
This change also fixes typos in test names and some grammatical
errors, reworking doc content and subtly changing the meaning
as well.

Change-Id: I7affeb73d6f6f09f7894d838ac471756a6f1d7b2
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/878779/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/scheduler-evolution.rst', 'doc/source/admin/upgrades.rst', 'doc/source/admin/architecture.rst', 'nova/tests/functional/test_availability_zones.py', 'doc/source/admin/evacuate.rst', 'doc/source/install/overview.rst', 'doc/source/admin/scheduling.rst', 'doc/source/admin/cells.rst', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'api-guide/source/accelerator-support.rst', 'doc/source/admin/availability-zones.rst', 'doc/source/contributor/api-ref-guideline.rst', 'doc/source/reference/glossary.rst', 'nova/virt/ironic/driver.py', 'api-guide/source/server_concepts.rst', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/notification_sample_tests/test_flavor.py', 'doc/source/admin/configuring-migrations.rst', 'doc/ext/feature_matrix.py', 'doc/source/admin/aggregates.rst', 'nova/tests/unit/policies/base.py', 'doc/source/reference/database-migrations.rst']",22,69b8db3bca645234037f1a81398a904a354d486f,codespell,the inline data migrations approach. While they can be used to ensure a data,the inline data migrations approach. While they can be used to ensure an data,80,82
openstack%2Fcinder~888676,openstack/cinder,master,Ia7b87622aabf13c997defd92404304270ed3751b,remove tpool.Proxy() from image upload,NEW,2023-07-17 10:42:39.000000000,2024-05-21 09:13:43.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-17 10:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dba03e3386dfba71c3563c92c441c07b32bb06f', 'message': 'remove tpool.Proxy() from image upload\n\nRemoving tpool.Proxy() as this caused very slow upload speeds during\nan image upload. In combination with the python-glanceclient patch that\nremoves the chunked encoding[1], the upload speed increases significant.\nWithout the tpool.execute() the image upload could block other\nconcurrent processes.\n\n[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984\n\nCloses-Bug: #2027970\nCo-authored-by: Max <max.lamprecht@mail.schwarz>\nChange-Id: Ia7b87622aabf13c997defd92404304270ed3751b\n'}, {'number': 2, 'created': '2023-07-17 12:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88441dd17a57e8a758cd0c916d67aaee196a17ae', 'message': 'remove tpool.Proxy() from image upload\n\nRemoving tpool.Proxy() as this caused very slow upload speeds during\nan image upload. In combination with the python-glanceclient patch that\nremoves the chunked encoding[1], the upload speed increases significant.\nWithout the tpool.execute() the image upload could block other\nconcurrent processes.\n\n[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984\n\nCloses-Bug: #2027970\nCo-authored-by: Max <max.lamprecht@mail.schwarz>\nChange-Id: Ia7b87622aabf13c997defd92404304270ed3751b\n'}, {'number': 3, 'created': '2023-07-21 07:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34ac65521cab0029911bdc0ce8622a955547f3dd', 'message': 'remove tpool.Proxy() from image upload\n\nRemoving tpool.Proxy() as this caused very slow upload speeds during\nan image upload. In combination with the python-glanceclient patch that\nremoves the chunked encoding[1], the upload speed increases significant.\nWithout the tpool.execute() the image upload could block other\nconcurrent processes.\n\n[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984\n\nCloses-Bug: #2027970\nCo-authored-by: Max <max.lamprecht@mail.schwarz>\nChange-Id: Ia7b87622aabf13c997defd92404304270ed3751b\n'}, {'number': 4, 'created': '2023-07-24 06:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a0b9531f606afce9cffd47579900c2d35ccbcea', 'message': 'remove tpool.Proxy() from image upload\n\nRemoving tpool.Proxy() as this caused very slow upload speeds during\nan image upload. In combination with the python-glanceclient patch that\nremoves the chunked encoding[1], the upload speed increases significant.\nWithout the tpool.execute() the image upload could block other\nconcurrent processes.\n\n[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984\n\nCloses-Bug: #2027970\nCo-authored-by: Max <max.lamprecht@mail.schwarz>\nChange-Id: Ia7b87622aabf13c997defd92404304270ed3751b\n'}, {'number': 5, 'created': '2023-09-06 13:18:16.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/26f38f51af6f3cd33d3ee3d883b06a3c754aeca0', 'message': 'remove tpool.Proxy() from image upload\n\nRemoving tpool.Proxy() as this caused very slow upload speeds during\nan image upload. In combination with the python-glanceclient patch that\nremoves the chunked encoding[1], the upload speed increases significant.\nWithout the tpool.execute() the image upload could block other\nconcurrent processes.\n\n[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984\n\nCloses-Bug: #2027970\nCo-authored-by: Max <max.lamprecht@mail.schwarz>\nChange-Id: Ia7b87622aabf13c997defd92404304270ed3751b\n'}]",7,888676,26f38f51af6f3cd33d3ee3d883b06a3c754aeca0,81,2,5,36198,,,0,"remove tpool.Proxy() from image upload

Removing tpool.Proxy() as this caused very slow upload speeds during
an image upload. In combination with the python-glanceclient patch that
removes the chunked encoding[1], the upload speed increases significant.
Without the tpool.execute() the image upload could block other
concurrent processes.

[1] https://review.opendev.org/c/openstack/python-glanceclient/+/733984

Closes-Bug: #2027970
Co-authored-by: Max <max.lamprecht@mail.schwarz>
Change-Id: Ia7b87622aabf13c997defd92404304270ed3751b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/888676/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,0dba03e3386dfba71c3563c92c441c07b32bb06f,slow_image_upload," tpool.execute(image_service.update, context, image_id, {}, image_file, store_id=store_id, base_image_ref=base_image_ref) tpool.execute(image_service.update, context, image_id, {}, image_file, store_id=store_id, base_image_ref=base_image_ref) tpool.execute(image_service.update, context, image_id, {}, image_file, store_id=store_id, base_image_ref=base_image_ref)"," image_service.update(context, image_id, {}, tpool.Proxy(image_file), store_id=store_id, base_image_ref=base_image_ref) image_service.update(context, image_id, {}, tpool.Proxy(image_file), store_id=store_id, base_image_ref=base_image_ref) image_service.update(context, image_id, {}, tpool.Proxy(image_file), store_id=store_id, base_image_ref=base_image_ref)",9,12
openstack%2Fnova-specs~909448,openstack/nova-specs,master,Ia712c98ff4388bbfa72232324899b1f0cd6293fb,Add openapi spec,MERGED,2024-02-19 13:18:28.000000000,2024-05-21 09:00:35.000000000,2024-05-21 08:59:20.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-02-19 13:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/235a019801f5ae30bc82409818d19a57af88aafc', 'message': 'Add openapi spec\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mindshare and the one that would be the best fit for OpenStack\ndue to the existing tooling used in many OpenStack services, thus we\nwould opt to use this format.\n\nChange-Id: Ia712c98ff4388bbfa72232324899b1f0cd6293fb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-02-21 18:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/506e904394ef20ad7729a38c9366aa5406d68568', 'message': 'Add openapi spec\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mindshare and the one that would be the best fit for OpenStack\ndue to the existing tooling used in many OpenStack services, thus we\nwould opt to use this format.\n\nChange-Id: Ia712c98ff4388bbfa72232324899b1f0cd6293fb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-03-27 17:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/788f8c14ce5d4b7b0e99d055cccc76b34d51f854', 'message': 'Add openapi spec\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mindshare and the one that would be the best fit for OpenStack\ndue to the existing tooling used in many OpenStack services, thus we\nwould opt to use this format.\n\nChange-Id: Ia712c98ff4388bbfa72232324899b1f0cd6293fb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2024-03-27 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/688ab8df3f6405961353570d24552c9a95ab96ad', 'message': 'Add openapi spec\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mindshare and the one that would be the best fit for OpenStack\ndue to the existing tooling used in many OpenStack services, thus we\nwould opt to use this format.\n\nChange-Id: Ia712c98ff4388bbfa72232324899b1f0cd6293fb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2024-03-28 10:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7fde79a92c2c6eb5d2df578f7835711e9a4de1f6', 'message': 'Add openapi spec\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mind share and the one that would be the best fit for\nOpenStack due to the existing tooling used in many OpenStack services,\nthus we would opt to use this format.\n\nChange-Id: Ia712c98ff4388bbfa72232324899b1f0cd6293fb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2024-04-11 10:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/171d4b09db91043dae9da99143021832cb57527c', 'message': 'Add openapi spec\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mind share and the one that would be the best fit for\nOpenStack due to the existing tooling used in many OpenStack services,\nthus we would opt to use this format.\n\nChange-Id: Ia712c98ff4388bbfa72232324899b1f0cd6293fb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 7, 'created': '2024-04-12 13:19:48.000000000', 'files': ['specs/2024.2/approved/openapi.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/500bd20e07a003e9d657ea52606a3501e79d2b08', 'message': 'Add openapi spec\n\nWe would like to start documenting our APIs in an industry-standard,\nmachine-readable manner. Doing so opens up many opportunities for both\nOpenStack developer and OpenStack users alike, notably the ability to\nboth auto-generate and auto-validate both client tooling and\ndocumentation alike. Of the many API description languages available,\nOpenAPI (fka ""Swagger"") appears to be the one with both the largest\ndeveloper mind share and the one that would be the best fit for\nOpenStack due to the existing tooling used in many OpenStack services,\nthus we would opt to use this format.\n\nChange-Id: Ia712c98ff4388bbfa72232324899b1f0cd6293fb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",104,909448,500bd20e07a003e9d657ea52606a3501e79d2b08,49,6,7,15334,,,0,"Add openapi spec

We would like to start documenting our APIs in an industry-standard,
machine-readable manner. Doing so opens up many opportunities for both
OpenStack developer and OpenStack users alike, notably the ability to
both auto-generate and auto-validate both client tooling and
documentation alike. Of the many API description languages available,
OpenAPI (fka ""Swagger"") appears to be the one with both the largest
developer mind share and the one that would be the best fit for
OpenStack due to the existing tooling used in many OpenStack services,
thus we would opt to use this format.

Change-Id: Ia712c98ff4388bbfa72232324899b1f0cd6293fb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/48/909448/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2024.2/approved/openapi.rst'],1,235a019801f5ae30bc82409818d19a57af88aafc,openapi,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============== OpenAPI Schemas =============== https://blueprints.launchpad.net/nova/+spec/openapi We would like to start documenting our APIs in an industry-standard, machine-readable manner. Doing so opens up many opportunities for both OpenStack developer and OpenStack users alike, notably the ability to both auto-generate and auto-validate both client tooling and documentation alike. Of the many API description languages available, OpenAPI (fka ""Swagger"") appears to be the one with both the largest developer mindshare and the one that would be the best fit for OpenStack due to the existing tooling used in many OpenStack services, thus we would opt to use this format. Problem description =================== The history of API description languages has been mainly a history of half-baked ideas, unnecessary complication, and in general lots of failure. This history has been reflected in OpenStack's own history of attempting to document APIs, starting with our early use of WADL through to our experiments with Swagger 2.0 and RAML, leading to today's use of our custom ``os_api_ref`` project, built on reStructuredText and Sphinx. It is only in recent years that things have started to stabilise somewhat, with the development of widely used API description languages like OpenAPI, RAML and API Blueprint, as well as supporting SaaS tools such as Postman and Apigee. OpenAPI in particular has seen broad adoption across multiple sectors, with sites as varied as `CloudFlare`__ and `GitHub`__ providing OpenAPI schemas for their APIs. OpenAPI has evolved significantly in recent years and now supports a wide variety of API patterns including things like webhooks. Even more beneficial for OpenStack, OpenAPI 3.1 is a full superset of JSON Schema meaning we have the ability to re-use much of the validation we already have. .. __: https://blog.cloudflare.com/open-api-transition .. __: https://github.com/github/rest-api-description Use Cases --------- As an end user, I would like to have access to machine-readable, fully validated documentation for the APIs I will be interacting with. As an SDK/client developer, I would like to be able to auto-generate bindings and clients, promoting consistency and minimising the amount of manual work needed to develop and maintain these. As a Nova developer, I would like to have a verified API specification that I can use should I need to replace the libraries we use in the event they are no longer maintained. Proposed change =============== This effort can be broken into a number of distinct steps: - Add missing request body and query string schemas These schemas will merely validate what is already allowed, which means extensive use of ``""additionalProperties"": true`` or empty schemas. Once these are added, tests will be added to ensure all API resource have appropriate schemas. - Add response body schemas These will be auto-generated from JSON response bodies generated in tests, before being manually inspected to handle things like enum values. Once these are added, tests will be added to ensure all API resource have appropriate response body schemas. In addition, we will add a new configuration option that will control how we do verification at the API layer, ``[api] response_validation``. This will be an enum value with three options: ``error`` Raise a HTTP 500 (Server Error) in the event that an API returns an ""invalid"" response. This will be the default in CI i.e. for our unit, functional and integration tests. Eventually this could be the default for production also. ``warn`` Log a warning about an ""invalid"" response, prompting operations to file a bug report against Nova. This will be initial default in production while we iron out the kinks in the schema. ``ignore`` Disable API response body validation entirely. This is an escape hatch in case we mess up. .. note:: The development of tooling required to gather these JSON Schema schemas and generate an OpenAPI schema will not be developed inside Nova and is therefore not covered by this spec. Nova will merely consume the resulting tooling for use in documentation. Alternatives ------------ - Use a different tool OpenAPI has been chosen because it is the most widely used API description language available and matches well with our existing use of JSON Schema for API validation. - Maintain these specs out-of-tree This prevents us testing these on each commit to Nova and means work that could be spread across multiple teams is instead focused on one small team. Data model impact ----------------- None. REST API impact --------------- There will be no direct REST API impact. Users will see HTTP 500 error if they set ``[api] response_validation = error`` and encounter an invalid response, however, we will not encourage use of this option in production initially and will instead focus on validating this ourselves in CI. We may wish to address issues that are uncovered as we add schemas, but this work is considered secondary to this effort and can be tackled separately. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- This should be very beneficial for users who are interested in developing client and bindings for OpenStack. In particular, this should (after an initial effort in code generation) reduce the workload of the SDK team as well as teams outside of OpenStack that work on client tooling such as the Gophercloud team. Performance Impact ------------------ There will be a minimal impact on API performance as we will now verify both requests and responses for all API resources. Given our existing extensive use of JSON Schema for API validation, it is expected that this should not be a significant issue. Other deployer impact --------------------- As noted previously, there will be one new config option, ``[api] response_validation``. Operators may see increased warnings in their logs due to incomplete schemas, but most if not all of these issues should be ironed out by our CI coverage. Developer impact ---------------- Developers working on the API microversions will now be encouraged to provide JSON Schema schemas for both requests and responses. Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: stephenfinucane Other contributors: gtema Feature Liaison --------------- None. Work Items ---------- - Add missing request body schemas - Add tests to validate existence of request body schemas - Add missing query string schemas - Add tests to validate existence of query string schemas - Add response body schemas - Add decorator to validate response body schemas against response - Add tests to validate existence of response body schemas Dependencies ============ The actual generation of an OpenAPI documentation will be achieved via a separate tool. It is not yet determined if this tool will live inside an existing project, such as ``os_api_ref`` or ``openstacksdk``, or inside a wholly new project. In any case, it is envisaged that this tool will handle OpenStack-specific nuances like microversions that don't map 1:1 to OpenAPI concepts in a consistent and documented fashion. Testing ======= Unit tests will ensure that schemas eventually exist for request bodies, query strings, and response bodies. Unit, functional and integration tests will all work together to ensure that response body schemas match real responses by setting ``[api] response_validation`` to ``error``. Documentation Impact ==================== Initially there should be no impact as we will continue to use ``os_api_ref`` as-is for our ``api-ref`` docs. Eventually we will replace or extend this extension to generate documentation from our OpenAPI schema. References ========== None. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - 2024.2 Dalmatian - Introduced ",,256,0
openstack%2Fnetworking-bagpipe~920050,openstack/networking-bagpipe,master,Ic7385be4cd3e2e02f743144f20734cfe79c57d21,do not use str(url) to stringify a URL for subsequent use,MERGED,2024-05-20 15:35:32.000000000,2024-05-21 08:19:07.000000000,2024-05-21 08:17:38.000000000,"[{'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 15:35:32.000000000', 'files': ['networking_bagpipe/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/1b12ef2da50d8dc5ddf1c71cf55035a0444ef6c9', 'message': 'do not use str(url) to stringify a URL for subsequent use\n\nThe str(url) function in SQLAlchemy hides the password.\nFor a URL string that is to be re-used, use\nrender_as_string(hide_password=False).\n\nCo-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>\nChange-Id: Ic7385be4cd3e2e02f743144f20734cfe79c57d21\n'}]",0,920050,1b12ef2da50d8dc5ddf1c71cf55035a0444ef6c9,8,3,1,9816,,,0,"do not use str(url) to stringify a URL for subsequent use

The str(url) function in SQLAlchemy hides the password.
For a URL string that is to be re-used, use
render_as_string(hide_password=False).

Co-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>
Change-Id: Ic7385be4cd3e2e02f743144f20734cfe79c57d21
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/50/920050/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/tests/functional/db/test_migrations.py'],1,1b12ef2da50d8dc5ddf1c71cf55035a0444ef6c9,fix_str_url," cfg.CONF.set_override( 'connection', engine.url.render_as_string(hide_password=False), group='database')"," cfg.CONF.set_override('connection', engine.url, group='database')",4,1
openstack%2Fnova~920074,openstack/nova,master,Ifa6eefa7f3cc0600391e281a5dec9ea716cf033e,Fix Timestamp Inconsistency During VM Creation,NEW,2024-05-21 06:05:21.000000000,2024-05-21 08:17:48.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-21 06:05:21.000000000', 'files': ['nova/api/openstack/compute/views/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/076b95f7b7663f0bbcb38fb8ae5d586ee75d0ead', 'message': ""Fix Timestamp Inconsistency During VM Creation\n\nVM creation and the subsequent polling for instance details occasionally\nexhibited inconsistent `updated_at` timestamps due to the utilization of\n `timeutils.utcnow()` for setting `updated_at` when it wasn't explicitly assigned.\nThis fix addresses the scenario where `updated_at` might not accurately reflect\nthe creation timestamp when VM details are polled shortly after creation.\n\nThe core of the fix involves ensuring the `updated_at` field of an instance is\npopulated with the `created_at` timestamp if `updated_at` is `null` at the time of querying.\nThis approach guarantees consistency between the `created_at` and `updated_at` fields,\nespecially in cases where the VM is still under the creation process and\nthe `updated_at` field has not been properly initialized.\n\nCloses-Bug: #2066207\nChange-Id: Ifa6eefa7f3cc0600391e281a5dec9ea716cf033e\n""}]",2,920074,076b95f7b7663f0bbcb38fb8ae5d586ee75d0ead,6,2,1,34310,,,0,"Fix Timestamp Inconsistency During VM Creation

VM creation and the subsequent polling for instance details occasionally
exhibited inconsistent `updated_at` timestamps due to the utilization of
 `timeutils.utcnow()` for setting `updated_at` when it wasn't explicitly assigned.
This fix addresses the scenario where `updated_at` might not accurately reflect
the creation timestamp when VM details are polled shortly after creation.

The core of the fix involves ensuring the `updated_at` field of an instance is
populated with the `created_at` timestamp if `updated_at` is `null` at the time of querying.
This approach guarantees consistency between the `created_at` and `updated_at` fields,
especially in cases where the VM is still under the creation process and
the `updated_at` field has not been properly initialized.

Closes-Bug: #2066207
Change-Id: Ifa6eefa7f3cc0600391e281a5dec9ea716cf033e
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/920074/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/views/servers.py'],1,076b95f7b7663f0bbcb38fb8ae5d586ee75d0ead,," # Check if 'updated_at' is unset, indicating the instance creation # is underway. To avoid logic errors related to timing, 'updated_at' # is set to 'created_at'. if not instance[""updated_at""]: instance[""updated_at""] = instance[""created_at""] LOG.warning(""Instance creation in progress, aligning updated_at "" ""with created_at"", instance=instance) ",,9,0
openstack%2Ftap-as-a-service~919797,openstack/tap-as-a-service,master,Ic6e5622f1362680371da14523f59f3fef5711ba7,DNM: test master,ABANDONED,2024-05-16 09:01:31.000000000,2024-05-21 08:07:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-16 09:01:31.000000000', 'files': ['neutron_taas/services/taas/taas_plugin.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/e80d6a1b136720a6e271a8f443c61b9dc710a443', 'message': 'DNM: test master\n\nChange-Id: Ic6e5622f1362680371da14523f59f3fef5711ba7\n'}]",1,919797,e80d6a1b136720a6e271a8f443c61b9dc710a443,4,1,1,8313,,,0,"DNM: test master

Change-Id: Ic6e5622f1362680371da14523f59f3fef5711ba7
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/97/919797/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/services/taas/taas_plugin.py'],1,e80d6a1b136720a6e271a8f443c61b9dc710a443,DNM,# DNM: Check master jobs with sqlalchemy 2,,1,0
openstack%2Ftrove~889797,openstack/trove,master,Ie0268951db7a9e711089714cecf7fbf311eecec8,Change uid/gid of folder managed by trove,NEW,2023-07-27 07:09:42.000000000,2024-05-21 08:06:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-07-27 07:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fa231d028df5290390f7b279b9d3b4eeca8faf5f', 'message': 'Change uid/gid of folder managed by trove\n\nWhen trove prepare container was grant permission for folders\nwith default user/group is ""database"" (id 1001).\nBut, some docker image use provision database required other user.\nSo, we need make flexible to make database container can run\n\nStory: #2010827\nTask: #48386\nChange-Id: Ie0268951db7a9e711089714cecf7fbf311eecec8\n'}, {'number': 2, 'created': '2023-07-27 07:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2fb04b5a0aae85928bbf1347fc040f30b507dc0c', 'message': 'Change uid/gid of folder managed by trove\n\nWhen trove prepare container was grant permission for folders\nwith default user/group is ""database"" (id 1001).\nBut, some docker image use provision database required other user.\nSo, we need make flexible to make database container can run\n\nStory: #2010827\nTask: #48386\nChange-Id: Ie0268951db7a9e711089714cecf7fbf311eecec8\n'}, {'number': 3, 'created': '2024-04-02 03:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/04fdf447fcf6a4d5c4d9d67220cfdcd0f943ee7c', 'message': 'Change uid/gid of folder managed by trove\n\nWhen trove prepare container was grant permission for folders\nwith default user/group is ""database"" (id 1001).\nBut, some docker image use provision database required other user.\nSo, we need make flexible to make database container can run\n\nStory: #2010827\nTask: #48386\nChange-Id: Ie0268951db7a9e711089714cecf7fbf311eecec8\n'}, {'number': 4, 'created': '2024-04-02 10:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/26e1467ff336c1c2a6e3b832eecee781202c1d70', 'message': 'Change uid/gid of folder managed by trove\n\nWhen trove prepare container was grant permission for folders\nwith default user/group is ""database"" (id 1001).\nBut, some docker image use provision database required other user.\nSo, we need make flexible to make database container can run\n\nStory: #2010827\nTask: #48386\nChange-Id: Ie0268951db7a9e711089714cecf7fbf311eecec8\n'}, {'number': 5, 'created': '2024-05-13 01:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/bf61db397b4e5a1aea0a39a99f010a8a0eb5ef01', 'message': 'Change uid/gid of folder managed by trove\n\nWhen trove prepare container was grant permission for folders\nwith default user/group is ""database"" (id 1001).\nBut, some docker image use provision database required other user.\nSo, we need make flexible to make database container can run\n\nStory: #2010827\nTask: #48386\nChange-Id: Ie0268951db7a9e711089714cecf7fbf311eecec8\n'}, {'number': 6, 'created': '2024-05-21 07:34:55.000000000', 'files': ['trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/common/cfg.py', 'trove/cmd/guest.py', 'trove/guestagent/datastore/service.py', 'trove/guestagent/strategies/replication/postgresql.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/6ee9feb3ae0345b49232dc4b7b21aaaf18bf852e', 'message': 'Change uid/gid of folder managed by trove\n\nWhen trove prepare container was grant permission for folders\nwith default user/group is ""database"" (id 1001).\nBut, some docker image use provision database required other user.\nSo, we need make flexible to make database container can run\n\nStory: #2010827\nTask: #48386\nChange-Id: Ie0268951db7a9e711089714cecf7fbf311eecec8\n'}]",9,889797,6ee9feb3ae0345b49232dc4b7b21aaaf18bf852e,26,2,6,28691,,,0,"Change uid/gid of folder managed by trove

When trove prepare container was grant permission for folders
with default user/group is ""database"" (id 1001).
But, some docker image use provision database required other user.
So, we need make flexible to make database container can run

Story: #2010827
Task: #48386
Change-Id: Ie0268951db7a9e711089714cecf7fbf311eecec8
",git fetch https://review.opendev.org/openstack/trove refs/changes/97/889797/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/postgres/manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/common/cfg.py', 'trove/cmd/guest.py', 'trove/guestagent/datastore/service.py', 'trove/guestagent/strategies/replication/postgresql.py']",8,fa231d028df5290390f7b279b9d3b4eeca8faf5f,change_uid_gid,"from trove.common.db.postgresql import models operating_system.chown(pwfile, user=pg_service.database_service_uid, group=pg_service.database_service_gid, as_root=True) user=pg_service.database_service_uid, group=pg_service.database_service_gid, as_root=True) operating_system.chown(signal_file, pg_service.database_service_uid, pg_service.database_service_gid, force=True, operating_system.chown(signal_file, pg_service.database_service_uid, pg_service.database_service_gid, force=True,","from trove.common.db.postgresql import models operating_system.chown(pwfile, user=CONF.database_service_uid, group=CONF.database_service_uid, as_root=True) user=CONF.database_service_uid, group=CONF.database_service_uid, as_root=True) operating_system.chown(signal_file, CONF.database_service_uid, CONF.database_service_uid, force=True, operating_system.chown(signal_file, CONF.database_service_uid, CONF.database_service_uid, force=True,",156,69
openstack%2Ftap-as-a-service~920047,openstack/tap-as-a-service,master,I49aca35c7a055b590e9a2eaf62e05b64210a191b,do not use str(url) to stringify a URL for subsequent use,MERGED,2024-05-20 15:32:17.000000000,2024-05-21 08:03:21.000000000,2024-05-21 08:03:21.000000000,"[{'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 15:32:17.000000000', 'files': ['neutron_taas/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/af9db5bca3ac7812baf1df33b81a731ff096f26d', 'message': 'do not use str(url) to stringify a URL for subsequent use\n\nThe str(url) function in SQLAlchemy hides the password.\nFor a URL string that is to be re-used, use\nrender_as_string(hide_password=False).\n\nCo-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>\nChange-Id: I49aca35c7a055b590e9a2eaf62e05b64210a191b\n'}]",0,920047,af9db5bca3ac7812baf1df33b81a731ff096f26d,7,3,1,9816,,,0,"do not use str(url) to stringify a URL for subsequent use

The str(url) function in SQLAlchemy hides the password.
For a URL string that is to be re-used, use
render_as_string(hide_password=False).

Co-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>
Change-Id: I49aca35c7a055b590e9a2eaf62e05b64210a191b
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/47/920047/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/tests/unit/db/test_migrations.py'],1,af9db5bca3ac7812baf1df33b81a731ff096f26d,fix_str_url," cfg.CONF.set_override( 'connection', engine.url.render_as_string(hide_password=False), group='database')"," cfg.CONF.set_override('connection', engine.url, group='database')",4,1
openstack%2Fpython-openstackclient~919046,openstack/python-openstackclient,master,I17391a46f08896f49dccaf75ad685dab1375a03d,Fix tests on Python 3.12,MERGED,2024-05-10 10:18:21.000000000,2024-05-21 07:43:07.000000000,2024-05-21 07:41:51.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-05-10 10:18:21.000000000', 'files': ['openstackclient/tests/unit/common/test_module.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4c312849364d1e5711fb97a1303b66078fed017d', 'message': ""Fix tests on Python 3.12\n\nWe were seeing the following test failures on Python 3.12:\n\n  openstackclient.tests.unit.common.test_module.TestModuleList.test_module_list_all\n  openstackclient.tests.unit.common.test_module.TestModuleList.test_module_list_no_options\n\nBoth failures were caused by missing attributes of 'sys', e.g.\n\n  AttributeError: module 'sys' has no attribute 'builtin_module_names'\n\nFix this by exposing the real 'sys' module as part of our mock of\n'sys.modules'.\n\nChange-Id: I17391a46f08896f49dccaf75ad685dab1375a03d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,919046,4c312849364d1e5711fb97a1303b66078fed017d,8,3,1,15334,,,0,"Fix tests on Python 3.12

We were seeing the following test failures on Python 3.12:

  openstackclient.tests.unit.common.test_module.TestModuleList.test_module_list_all
  openstackclient.tests.unit.common.test_module.TestModuleList.test_module_list_no_options

Both failures were caused by missing attributes of 'sys', e.g.

  AttributeError: module 'sys' has no attribute 'builtin_module_names'

Fix this by exposing the real 'sys' module as part of our mock of
'sys.modules'.

Change-Id: I17391a46f08896f49dccaf75ad685dab1375a03d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/46/919046/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/common/test_module.py'],1,4c312849364d1e5711fb97a1303b66078fed017d,py312,"import sys 'sys': sys,",,2,0
openstack%2Fneutron-vpnaas~920049,openstack/neutron-vpnaas,master,Iba3664d2954e38d8730026b83765140eea001cf7,do not use str(url) to stringify a URL for subsequent use,MERGED,2024-05-20 15:33:27.000000000,2024-05-21 07:38:05.000000000,2024-05-21 07:36:43.000000000,"[{'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 15:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/346d212640f9b8df1f8238e2741d62c1eca85670', 'message': 'do not use str(url) to stringify a URL for subsequent use\n\nThe str(url) function in SQLAlchemy hides the password.\nFor a URL string that is to be re-used, use\nrender_as_string(hide_password=False).\n\nCo-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>\nChange-Id: Iba3664d2954e38d8730026b83765140eea001cf7\n'}, {'number': 2, 'created': '2024-05-21 02:45:07.000000000', 'files': ['.pylintrc', 'neutron_vpnaas/tests/functional/common/test_migrations_sync.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py', 'tox.ini', 'neutron_vpnaas/db/vpn/vpn_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8ef9750730a59a30816a179cecc8a6da0fded709', 'message': 'do not use str(url) to stringify a URL for subsequent use\n\nThe str(url) function in SQLAlchemy hides the password.\nFor a URL string that is to be re-used, use\nrender_as_string(hide_password=False).\n\nAlso bump pylint to fix the command being stuck. Sync .pylint to\nneutron to fix the failures caused by the old removed options.\n\nCo-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>\nChange-Id: Iba3664d2954e38d8730026b83765140eea001cf7\n'}]",0,920049,8ef9750730a59a30816a179cecc8a6da0fded709,10,3,2,9816,,,0,"do not use str(url) to stringify a URL for subsequent use

The str(url) function in SQLAlchemy hides the password.
For a URL string that is to be re-used, use
render_as_string(hide_password=False).

Also bump pylint to fix the command being stuck. Sync .pylint to
neutron to fix the failures caused by the old removed options.

Co-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>
Change-Id: Iba3664d2954e38d8730026b83765140eea001cf7
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/49/920049/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/tests/functional/common/test_migrations_sync.py'],1,346d212640f9b8df1f8238e2741d62c1eca85670,fix_str_url," cfg.CONF.set_override( 'connection', engine.url.render_as_string(hide_password=False), group='database')"," cfg.CONF.set_override('connection', engine.url, group='database')",4,1
openstack%2Fneutron-fwaas~919743,openstack/neutron-fwaas,master,I00e8bab328b3969c503d682fac6d3f3f811d9c68,do not use str(url) to stringify a URL for subsequent use,MERGED,2024-05-15 15:13:52.000000000,2024-05-21 07:27:36.000000000,2024-05-21 07:26:22.000000000,"[{'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 15:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f58e7dd87c0e4518528f2dcb0ed4149d3b9a3ba0', 'message': 'do not use str(url) to stringify a URL for subsequent use\n\nThe str(url) function in SQLAlchemy hides the password.\nFor a URL string that is to be re-used, use\nrender_as_string(hide_password=False).\n\nCo-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>\nChange-Id: I00e8bab328b3969c503d682fac6d3f3f811d9c68\n'}, {'number': 2, 'created': '2024-05-16 15:02:54.000000000', 'files': ['neutron_fwaas/tests/fullstack/base.py', 'neutron_fwaas/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5f746b474c42725a2061c43008cf973a3cd1cecf', 'message': 'do not use str(url) to stringify a URL for subsequent use\n\nThe str(url) function in SQLAlchemy hides the password.\nFor a URL string that is to be re-used, use\nrender_as_string(hide_password=False).\n\nCo-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>\nChange-Id: I00e8bab328b3969c503d682fac6d3f3f811d9c68\n'}]",4,919743,5f746b474c42725a2061c43008cf973a3cd1cecf,13,3,2,9816,,,0,"do not use str(url) to stringify a URL for subsequent use

The str(url) function in SQLAlchemy hides the password.
For a URL string that is to be re-used, use
render_as_string(hide_password=False).

Co-Authored-By: Mike Bayer <mike_mp@zzzcomputing.com>
Change-Id: I00e8bab328b3969c503d682fac6d3f3f811d9c68
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/43/919743/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/tests/fullstack/base.py'],1,f58e7dd87c0e4518528f2dcb0ed4149d3b9a3ba0,fix_str_url," 'connection', self.engine.url.render_as_string(hide_password=False), group='database')"," 'connection', str(self.engine.url), group='database')",3,1
openstack%2Fdevstack~914108,openstack/devstack,master,I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0,[DNM] use EVENTLET_HUB=asyncio for all openstack services,NEW,2024-03-25 15:52:09.000000000,2024-05-21 07:18:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-25 15:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3fbffd310ec3b048c617898805eb20c893a3e7fa', 'message': '[DNM] use EVENTLET_HUB=asyncio for all openstack services\n\nThis is a hack to see if EVENTLET_HUB=asyncio even functions\nwith openstack today.\n\nif this works at least partially we can try and do this properly\n\nChange-Id: I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0\n'}, {'number': 2, 'created': '2024-03-26 11:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d1241857863b700ad609643df3d779ece36facd0', 'message': '[DNM] use EVENTLET_HUB=asyncio for all openstack services\n\nThis is a hack to see if EVENTLET_HUB=asyncio even functions\nwith openstack today.\n\nif this works at least partially we can try and do this properly\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/914195\nChange-Id: I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0\n'}, {'number': 3, 'created': '2024-03-26 13:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7f74d5a0d10f63c2690736b76e1a65d9e3dd4bea', 'message': '[DNM] use EVENTLET_HUB=asyncio for all openstack services\n\nThis is a hack to see if EVENTLET_HUB=asyncio even functions\nwith openstack today.\n\nif this works at least partially we can try and do this properly\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/914195\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/914190\nChange-Id: I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0\n'}, {'number': 4, 'created': '2024-03-26 17:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0ed60a941282f328e0e0814d78e559bf4458b3e0', 'message': '[DNM] use EVENTLET_HUB=asyncio for all openstack services\n\nThis is a hack to see if EVENTLET_HUB=asyncio even functions\nwith openstack today.\n\nif this works at least partially we can try and do this properly\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/914195\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/914190\nChange-Id: I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0\n'}, {'number': 5, 'created': '2024-03-27 18:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3b24acb68a945a845dd98606f5ec3a26f9ea13ff', 'message': '[DNM] use EVENTLET_HUB=asyncio for all openstack services\n\nThis is a hack to see if EVENTLET_HUB=asyncio even functions\nwith openstack today.\n\nif this works at least partially we can try and do this properly\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/914195\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/914190\nChange-Id: I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0\n'}, {'number': 6, 'created': '2024-05-16 12:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1f1f414b2f7e3815527f203f488787737b3da8b6', 'message': '[DNM] use EVENTLET_HUB=asyncio for all openstack services\n\nThis is a hack to see if EVENTLET_HUB=asyncio even functions\nwith openstack today.\n\nif this works at least partially we can try and do this properly\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/918426\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/914195\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/914190\nChange-Id: I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0\n'}, {'number': 7, 'created': '2024-05-16 14:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bbc9e6c20d2880507a8eb81628aa3336168417f9', 'message': '[DNM] use EVENTLET_HUB=asyncio for all openstack services\n\nThis is a hack to see if EVENTLET_HUB=asyncio even functions\nwith openstack today.\n\nif this works at least partially we can try and do this properly\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/918426\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/914195\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/914190\nChange-Id: I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0\n'}, {'number': 8, 'created': '2024-05-16 14:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9a598850f9cde69d2985cc29c0d1ce3969ac7fd3', 'message': '[DNM] use EVENTLET_HUB=asyncio for all openstack services\n\nThis is a hack to see if EVENTLET_HUB=asyncio even functions\nwith openstack today.\n\nif this works at least partially we can try and do this properly\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/918426\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/914195\nChange-Id: I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0\n'}, {'number': 9, 'created': '2024-05-16 16:24:31.000000000', 'files': ['functions-common', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fa10ae0dc44388bebd33d76d4f9b9971563b72e0', 'message': '[DNM] use EVENTLET_HUB=asyncio for all openstack services\n\nThis is a hack to see if EVENTLET_HUB=asyncio even functions\nwith openstack today.\n\nif this works at least partially we can try and do this properly\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/918426\nChange-Id: I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0\n'}]",10,914108,fa10ae0dc44388bebd33d76d4f9b9971563b72e0,31,1,9,11604,,,0,"[DNM] use EVENTLET_HUB=asyncio for all openstack services

This is a hack to see if EVENTLET_HUB=asyncio even functions
with openstack today.

if this works at least partially we can try and do this properly

Depends-On: https://review.opendev.org/c/openstack/oslo.log/+/918426
Change-Id: I9aca0a67e98cfcd908c3e91cf5c0119a4d9aa2f0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/914108/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,3fbffd310ec3b048c617898805eb20c893a3e7fa,eventlet-asyncio," iniset -sudo $unitfile ""Service"" ""Environment"" ""\""PATH=$PATH\"" EVENTLET_HUB=asyncio"" iniset -sudo $unitfile ""Service"" ""Environment"" ""\""PATH=$PATH\"" EVENTLET_HUB=asyncio"""," iniset -sudo $unitfile ""Service"" ""Environment"" ""\""PATH=$PATH\"""" iniset -sudo $unitfile ""Service"" ""Environment"" ""\""PATH=$PATH\""""",2,2
openstack%2Freleases~919997,openstack/releases,master,I53682f67ea6a80ae7eac715915b203f77588bf71,Release Caracal Beta for OpenStack-Ansible,MERGED,2024-05-19 13:47:31.000000000,2024-05-21 06:34:57.000000000,2024-05-21 06:34:57.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-19 13:47:31.000000000', 'files': ['deliverables/caracal/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1793b422f3aa36f041679b387e8e82b43904d315', 'message': 'Release Caracal Beta for OpenStack-Ansible\n\nChange-Id: I53682f67ea6a80ae7eac715915b203f77588bf71\n'}]",2,919997,1793b422f3aa36f041679b387e8e82b43904d315,8,3,1,28619,,,0,"Release Caracal Beta for OpenStack-Ansible

Change-Id: I53682f67ea6a80ae7eac715915b203f77588bf71
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/919997/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/caracal/openstack-ansible.yaml'],1,1793b422f3aa36f041679b387e8e82b43904d315,release_osa,releases: - version: 29.0.0.0b1 projects: - repo: openstack/openstack-ansible hash: e90a61d3ff0720bfb7abd0621ca2041209dca063,,5,0
openstack%2Freleases~920012,openstack/releases,master,Ic2b20cd14c0bb385ae89e7d2b07dd37652a2c807,Create new taskflow release,MERGED,2024-05-20 06:22:14.000000000,2024-05-21 06:18:47.000000000,2024-05-21 06:18:47.000000000,"[{'_account_id': 308}, {'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-05-20 06:22:14.000000000', 'files': ['deliverables/dalmatian/taskflow.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/946bf3f5536b751902f666f7484c81e696ff8420', 'message': 'Create new taskflow release\n\nCreate a new taskflow release which contains a fix about\nPython3.12: disable process_executor, which depends on\nasyncore [1].\n\n[1] 828e92409c508b69441430c12ad724755045e34f\n\nChange-Id: Ic2b20cd14c0bb385ae89e7d2b07dd37652a2c807\n'}]",3,920012,946bf3f5536b751902f666f7484c81e696ff8420,10,5,1,9303,,,0,"Create new taskflow release

Create a new taskflow release which contains a fix about
Python3.12: disable process_executor, which depends on
asyncore [1].

[1] 828e92409c508b69441430c12ad724755045e34f

Change-Id: Ic2b20cd14c0bb385ae89e7d2b07dd37652a2c807
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/920012/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/dalmatian/taskflow.yaml'],1,946bf3f5536b751902f666f7484c81e696ff8420,taskflow, - version: 5.8.0 projects: - repo: openstack/taskflow hash: 828e92409c508b69441430c12ad724755045e34f,,4,0
openstack%2Fcinder~915064,openstack/cinder,master,I805422c5d473e20ca6a62d839450bc32eddbb352,fix: possible race-condition in table prune,NEW,2024-04-04 13:21:39.000000000,2024-05-21 06:15:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 35676}]","[{'number': 1, 'created': '2024-04-04 13:21:39.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e548278c286f48a976701e3cdddf71384e8864d5', 'message': 'fix: possible race-condition in table prune\n\nAs the deleted_age is defined inside the loop, it will be redefined\nevery iteration with the current timestamp. This can lead to a\nrace-condition if dependent resources are created at a time close to\neach other.\n\nClosing-Bug: #2060201\nChange-Id: I805422c5d473e20ca6a62d839450bc32eddbb352\n'}]",1,915064,e548278c286f48a976701e3cdddf71384e8864d5,20,2,1,36198,,,0,"fix: possible race-condition in table prune

As the deleted_age is defined inside the loop, it will be redefined
every iteration with the current timestamp. This can lead to a
race-condition if dependent resources are created at a time close to
each other.

Closing-Bug: #2060201
Change-Id: I805422c5d473e20ca6a62d839450bc32eddbb352
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/915064/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,e548278c286f48a976701e3cdddf71384e8864d5,, deleted_age = timeutils.utcnow() - dt.timedelta(days=age_in_days), deleted_age = timeutils.utcnow() - dt.timedelta(days=age_in_days),1,1
openstack%2Ftempest~897847,openstack/tempest,master,Ide81e6a41799bace211669951b4ceab8635b56ab,Implement purge list for tempest cleanup,MERGED,2023-10-10 15:18:57.000000000,2024-05-21 06:15:07.000000000,2024-05-21 06:13:54.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2023-10-10 15:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e30783a1202434d2a86862b674b55f28d4265b7e', 'message': '[WIP] Implement purge list in tempest cleanup\n\nTODO commit message\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 2, 'created': '2023-10-11 15:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/863cf237dd52f49229d11b1c93362147c4adef4b', 'message': '[WIP] Implement purge list in tempest cleanup\n\nTODO commit message\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 3, 'created': '2023-10-18 15:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0db3d11a7671888d55f486a7b4635dafce3d39b6', 'message': '[WIP] Implement purge list in tempest cleanup\n\nTODO commit message\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 4, 'created': '2023-11-01 15:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c27768e09fbd596e4d459d0f965e49aa08c0ce9d', 'message': '[WIP] Implement purge list in tempest cleanup\n\nTODO commit message\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 5, 'created': '2023-11-03 11:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fb7e51b883ed9c763f93cf8c8106626435148aff', 'message': '[WIP] Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created by\nTempest. By using this purge list with tempest cleanup, it creates a\ndouble-check feature for deleted resources.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 6, 'created': '2023-11-14 12:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bd06917bff25bfa47e2fe7719f3a6f56b1d01a56', 'message': '[WIP] Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 7, 'created': '2023-11-24 16:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5842f1e739f1828aebe54dfa179d88a9400a2b27', 'message': '[WIP] Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 8, 'created': '2023-11-24 16:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/742d2fd2cf803e2dadbca499a9dc5a52a2e35721', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 9, 'created': '2023-11-28 15:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d9cbabc8816f185d1368700afcce2a76982e7ff8', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 10, 'created': '2023-11-29 15:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5e485e3f19ad33734229abc8c842ae059f3c5a8a', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 11, 'created': '2023-11-29 15:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f86307ce059909207409470140d5e7cf87ba9004', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 12, 'created': '2023-11-29 16:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/322d6f3148d34e9f09ecd839a4b66ecd5262be02', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 13, 'created': '2023-11-29 16:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/42e75b52293da7f98abf166260fc1f0843d8a19b', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 14, 'created': '2023-11-30 08:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/09d913e01af2073f4653f0e1de776aa879c33cc0', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 15, 'created': '2023-12-01 11:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0fc0782ed9a524a800900856e7e0a25e6f5dc515', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 16, 'created': '2023-12-01 13:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c112cf1b1201c48f2582305be64fb2094bc20e57', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 17, 'created': '2023-12-05 13:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9ac4dee0f1c69695b866724a01cee5828f39c31', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 18, 'created': '2023-12-08 10:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6a117ff828fbd252f9e874e04bcf523ad5783077', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 19, 'created': '2023-12-11 09:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/061d3fa04f0526cf53dbd3a8c95c2f30f2ba93e9', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 20, 'created': '2023-12-15 10:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4e05b65ccbc00c9968de5f6c24c194db3a5599a1', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 21, 'created': '2023-12-15 12:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/92e394d715183bada956a6af1e68eafd491a5d3f', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 22, 'created': '2024-01-25 15:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a676e4d164bd945c2760f9b45cff59beab5f4c7a', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 23, 'created': '2024-01-25 16:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bebb5d58bf35214453ffa366c1700cb21ed560f8', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 24, 'created': '2024-01-30 15:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0e3f8c78a985e7d81a626cf4282479dd53f64df8', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds a purge list that logs every resource created\nby Tempest. When used with tempest cleanup command, it creates a\ndouble-check feature for resources that are about to be deleted.\n\nFor now, the --resource-list option is a bool option that allows\nthe usage of created resource list. Ideally, the option becomes\na path option to the created resource list from specific run.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 25, 'created': '2024-03-06 15:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/438c5fde26bae00b04cf5d611f00247a7683f771', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds an option to create purge list that logs every\nresource created by Tempest. When used with tempest cleanup\ncommand, it creates a new method of deleting resources created\nduring one or multiple Tempest runs.\n\nThis method solves the problem of accidentally deleting\nresources which were not created by Tempest, but by users.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 26, 'created': '2024-03-25 12:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e4b1d0b8c51a6316230cdc80a6884a940af3cdf6', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds an option to create purge list that logs every\nresource created by Tempest. When used with tempest cleanup\ncommand, it creates a new method of deleting resources created\nduring one or multiple Tempest runs.\n\nThis method solves the problem of accidentally deleting\nresources which were not created by Tempest, but by users.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 27, 'created': '2024-04-03 08:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/486d7e828ab96ce57d47f588d3f2442cbcfb53d1', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds an option to create purge list that logs every\nresource created by Tempest. When used with tempest cleanup\ncommand, it creates a new method of deleting resources created\nduring one or multiple Tempest runs.\n\nThis method solves the problem of accidentally deleting\nresources which were not created by Tempest, but by users.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 28, 'created': '2024-04-22 13:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/efc2d23fc0775531218e8a64f97509b5f935cd38', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds an option to create purge list that logs every\nresource created by Tempest. When used with tempest cleanup\ncommand, it creates a new method of deleting resources created\nduring one or multiple Tempest runs.\n\nThis method solves the problem of accidentally deleting\nresources which were not created by Tempest, but by users.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 29, 'created': '2024-05-03 13:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a90a6bd19cb940b748e6c2d93f95200edc3e8abb', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds an option to create purge list that logs every\nresource created by Tempest. When used with tempest cleanup\ncommand, it creates a new method of deleting resources created\nduring one or multiple Tempest runs.\n\nThis method solves the problem of accidentally deleting\nresources which were not created by Tempest, but by users.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 30, 'created': '2024-05-09 11:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9847d29342932bd36cbf8aa7c2e662515417073e', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds an option to create purge list that logs every\nresource created by Tempest. When used with tempest cleanup\ncommand, it creates a new method of deleting resources created\nduring one or multiple Tempest runs.\n\nThis method solves the problem of accidentally deleting\nresources which were not created by Tempest, but by users.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 31, 'created': '2024-05-16 07:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7244a9e50cb80ac888d3f9c1f2a614adb3b6b37c', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds an option to create purge list that logs every\nresource created by Tempest. When used with tempest cleanup\ncommand, it creates a new method of deleting resources created\nduring one or multiple Tempest runs.\n\nThis method solves the problem of accidentally deleting\nresources which were not created by Tempest, but by users.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 32, 'created': '2024-05-20 09:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1b33651e2dd0106642f350ddd2a0a8a6ae361c60', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds an option to create purge list that logs every\nresource created by Tempest. When used with tempest cleanup\ncommand, it creates a new method of deleting resources created\nduring one or multiple Tempest runs.\n\nThis method solves the problem of accidentally deleting\nresources which were not created by Tempest, but by users.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}, {'number': 33, 'created': '2024-05-20 12:39:02.000000000', 'files': ['tempest/cmd/cleanup.py', 'tempest/lib/common/rest_client.py', 'tempest/cmd/cleanup_service.py', 'tempest/tests/cmd/test_cleanup_services.py', 'tempest/clients.py', 'tempest/tests/cmd/test_cleanup.py', 'tempest/config.py', 'releasenotes/notes/resource-list-cbf9779e8b434654.yaml', 'tempest/tests/cmd/test_resource_list.json', 'tempest/tests/lib/common/test_rest_client.py', 'tempest/lib/services/compute/server_groups_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f999b15bd4152ec3169046b05fa625a54f430150', 'message': 'Implement purge list for tempest cleanup\n\nThis patch adds an option to create purge list that logs every\nresource created by Tempest. When used with tempest cleanup\ncommand, it creates a new method of deleting resources created\nduring one or multiple Tempest runs.\n\nThis method solves the problem of accidentally deleting\nresources which were not created by Tempest, but by users.\n\nChange-Id: Ide81e6a41799bace211669951b4ceab8635b56ab\n'}]",135,897847,f999b15bd4152ec3169046b05fa625a54f430150,132,4,33,36227,,,0,"Implement purge list for tempest cleanup

This patch adds an option to create purge list that logs every
resource created by Tempest. When used with tempest cleanup
command, it creates a new method of deleting resources created
during one or multiple Tempest runs.

This method solves the problem of accidentally deleting
resources which were not created by Tempest, but by users.

Change-Id: Ide81e6a41799bace211669951b4ceab8635b56ab
",git fetch https://review.opendev.org/openstack/tempest refs/changes/47/897847/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/cmd/cleanup.py', 'tempest/config.py']",2,e30783a1202434d2a86862b674b55f28d4265b7e,tempest-cleanup-resource-list," cfg.BoolOpt('record_resources', default=False, help=""TODO""),",,7,0
openstack%2Fcinder~900652,openstack/cinder,master,Ief52a5452f05802c094f8cdd185cd21c59a9332d,DNM - Do not merge - created for testing,ABANDONED,2023-11-15 07:39:03.000000000,2024-05-21 05:37:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-11-15 07:39:03.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b648de5de509b7b750788e3c26eb877de4590d04', 'message': 'DNM - Do not merge - created for testing\n\nThis patch is created for testing only\n\nChange-Id: Ief52a5452f05802c094f8cdd185cd21c59a9332d\n'}]",12,900652,b648de5de509b7b750788e3c26eb877de4590d04,31,1,1,29122,,,0,"DNM - Do not merge - created for testing

This patch is created for testing only

Change-Id: Ief52a5452f05802c094f8cdd185cd21c59a9332d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/900652/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_common.py'],1,b648de5de509b7b750788e3c26eb877de4590d04,,# 2023_11_15: PS_1 ,,2,0
openstack%2Fcinder~907771,openstack/cinder,master,I35f7dd6b32c850bf6b03e39432586de0d6bacaa6,DNM - Do not merge - For test only,ABANDONED,2024-02-13 06:24:20.000000000,2024-05-21 05:36:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-02-13 06:24:20.000000000', 'files': ['cinder/volume/drivers/hpe/nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2ff59a78c1026ec0549c41d50ff98d022735698', 'message': 'DNM - Do not merge - For test only\n\nThis is a test patch.\n\nChange-Id: I35f7dd6b32c850bf6b03e39432586de0d6bacaa6\n'}]",10,907771,f2ff59a78c1026ec0549c41d50ff98d022735698,35,1,1,29122,,,0,"DNM - Do not merge - For test only

This is a test patch.

Change-Id: I35f7dd6b32c850bf6b03e39432586de0d6bacaa6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/907771/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/nimble.py'],1,f2ff59a78c1026ec0549c41d50ff98d022735698,,# 2024_02_13: PS1,,1,0
openstack%2Fcinder~900648,openstack/cinder,master,I5122479e95ee0e2db30296a2079648af8ec04b26,DNM - Do not merge - for test only,ABANDONED,2023-11-14 04:11:06.000000000,2024-05-21 05:35:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-11-14 04:11:06.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3970c2da2aa01438ab258fe70c19e6e0db894b0', 'message': 'DNM - Do not merge - for test only\n\nThis patch is created for testing only.\n\nChange-Id: I5122479e95ee0e2db30296a2079648af8ec04b26\n'}]",3,900648,c3970c2da2aa01438ab258fe70c19e6e0db894b0,20,2,1,29122,,,0,"DNM - Do not merge - for test only

This patch is created for testing only.

Change-Id: I5122479e95ee0e2db30296a2079648af8ec04b26
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/900648/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_common.py'],1,c3970c2da2aa01438ab258fe70c19e6e0db894b0,,# 2023_11_14: PS_1 ,,2,0
openstack%2Fcinder~898197,openstack/cinder,master,Ied4fedf1004488c361100dfb76f9676a44876432,DNM - Do not merge,ABANDONED,2023-10-18 11:08:48.000000000,2024-05-21 05:35:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-10-18 11:08:48.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e515cddb633f890fb0da6a4a882af2d2179b876', 'message': 'DNM - Do not merge\n\nCreated only for testing\n\nChange-Id: Ied4fedf1004488c361100dfb76f9676a44876432\n'}]",4,898197,8e515cddb633f890fb0da6a4a882af2d2179b876,23,1,1,29122,,,0,"DNM - Do not merge

Created only for testing

Change-Id: Ied4fedf1004488c361100dfb76f9676a44876432
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/898197/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_common.py'],1,8e515cddb633f890fb0da6a4a882af2d2179b876,,# 2023_10_18: PS1 ,,2,0
openstack%2Fcinder~885435,openstack/cinder,master,Iab75b90df887dc08d24cd704f632e9cdbf5b6bde,DNM: Create for temporary test,ABANDONED,2023-06-07 12:28:18.000000000,2024-05-21 05:34:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 35822}]","[{'number': 1, 'created': '2023-06-07 12:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/354034876f1bd53c6d2cdafb061e534454ed1533', 'message': 'DNM: Create for temporary test\n\ndo not merge.\nPlease ignore this patch.\n\nChange-Id: Iab75b90df887dc08d24cd704f632e9cdbf5b6bde\n'}, {'number': 2, 'created': '2023-07-03 09:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5043d1b2d8a98c039f973eed37a1bb7366a3a3a9', 'message': 'DNM: Create for temporary test\n\ndo not merge.\nPlease ignore this patch.\n\nChange-Id: Iab75b90df887dc08d24cd704f632e9cdbf5b6bde\n'}, {'number': 3, 'created': '2023-07-07 04:29:20.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/627192442a67f718c5af61c4bbb164abb8f99db7', 'message': 'DNM: Create for temporary test\n\ndo not merge.\nPlease ignore this patch.\n\nChange-Id: Iab75b90df887dc08d24cd704f632e9cdbf5b6bde\n'}]",21,885435,627192442a67f718c5af61c4bbb164abb8f99db7,74,2,3,29122,,,0,"DNM: Create for temporary test

do not merge.
Please ignore this patch.

Change-Id: Iab75b90df887dc08d24cd704f632e9cdbf5b6bde
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/885435/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_common.py'],1,354034876f1bd53c6d2cdafb061e534454ed1533,Iab75b90df887dc08d24cd704f632e9cdbf5b6bde,# 2023_06_07 ,,2,0
openstack%2Fcinder~615480,openstack/cinder,master,If0c2dc24261a4f83e289a8e78859405b1e101018,Set user message on volume create failure,NEW,2018-11-05 06:52:00.000000000,2024-05-21 04:01:52.000000000,,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-05 06:52:00.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/message/message_field.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/248e06b226a30d9f7d406cc0927f3d8a1e0c7b54', 'message': 'Set user message on volume create failure\n\nThis patch is to log user message when volume creation from\nsource volume fails. This is only for _create_from_source_volume, and\nother patches will be submitted later etc.\n\nChange-Id: If0c2dc24261a4f83e289a8e78859405b1e101018\nPartial-Bug: #1799159\n'}]",2,615480,248e06b226a30d9f7d406cc0927f3d8a1e0c7b54,33,33,1,15961,,,0,"Set user message on volume create failure

This patch is to log user message when volume creation from
source volume fails. This is only for _create_from_source_volume, and
other patches will be submitted later etc.

Change-Id: If0c2dc24261a4f83e289a8e78859405b1e101018
Partial-Bug: #1799159
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/615480/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/message/message_field.py']",3,248e06b226a30d9f7d406cc0927f3d8a1e0c7b54,bug/1799159," CREATE_VOLUME_FROM_SOURCE = ('010', _('create volume from source')) CREATE_VOLUME_FROM_SNAPSHOT, CREATE_VOLUME_FROM_SOURCE DRIVER_FAILED_CREATE_FROM_SOURCE = ( '017', _('Driver failed to create a volume from source.')) METADATA_ERROR, DRIVER_FAILED_CREATE_FROM_SOURCE)", CREATE_VOLUME_FROM_SNAPSHOT METADATA_ERROR),92,6
openstack%2Fcinder~615466,openstack/cinder,master,I7214b22a613ea378fc496e1a81f639f913b01aa9,Set user message on volume create failure,NEW,2018-11-05 02:57:25.000000000,2024-05-21 04:01:09.000000000,,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 15961}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28747}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-05 02:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfc5be2ec3771d0ef161afbfacdb7f1d210e2681', 'message': 'Set user message on volume create failure\n\nThis patch is to log user message when volume creation from\nsnapshot fails. This is only for _create_from_snapshot, and\nother patches will be submitted for _create_from_source_volume etc.\n\nChange-Id: I7214b22a613ea378fc496e1a81f639f913b01aa9\nPartial-Bug: #1799159\n'}, {'number': 2, 'created': '2018-11-05 02:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7febb9c7010fdfeabe806532965f21c92fa2356', 'message': 'Set user message on volume create failure\n\nThis patch is to log user message when volume creation from\nsnapshot fails. This is only for _create_from_snapshot, and\nother patches will be submitted for _create_from_source_volume etc.\n\nChange-Id: I7214b22a613ea378fc496e1a81f639f913b01aa9\nPartial-Bug: #1799159\n'}, {'number': 3, 'created': '2018-11-05 06:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b75c69c88741a9e05cbe4644b0a995c840f763fb', 'message': 'Set user message on volume create failure\n\nThis patch is to log user message when volume creation from\nsnapshot fails. This is only for _create_from_snapshot, and\nother patches will be submitted for _create_from_source_volume etc.\n\nChange-Id: I7214b22a613ea378fc496e1a81f639f913b01aa9\nPartial-Bug: #1799159\n'}, {'number': 4, 'created': '2018-11-19 07:12:16.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/message/message_field.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8abd68cd61c5c540634492dd6f23f91450acbc88', 'message': 'Set user message on volume create failure\n\nThis patch is to log user message when volume creation from\nsnapshot fails. This is only for _create_from_snapshot, and\nother patches will be submitted for _create_from_source_volume etc.\n\nChange-Id: I7214b22a613ea378fc496e1a81f639f913b01aa9\nPartial-Bug: #1799159\n'}]",11,615466,8abd68cd61c5c540634492dd6f23f91450acbc88,98,43,4,15961,,,0,"Set user message on volume create failure

This patch is to log user message when volume creation from
snapshot fails. This is only for _create_from_snapshot, and
other patches will be submitted for _create_from_source_volume etc.

Change-Id: I7214b22a613ea378fc496e1a81f639f913b01aa9
Partial-Bug: #1799159
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/615466/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/message/message_field.py']",3,dfc5be2ec3771d0ef161afbfacdb7f1d210e2681,bug/1799159," CREATE_VOLUME_FROM_SNAPSHOT = ('009', _('create volume from snapshot')) CREATE_VOLUME_FROM_BACKEND, CREATE_VOLUME_FROM_SNAPSHOT DRIVER_FAILED_CREATE_FROM_SNAPSHOT = ( '013', _('Driver failed to create a volume from snapshot.')) METADATA_UPDATE_FAIL = ( '014', _('Failed to update metadata.')) METADATA_COPY_FAIL = ( '015', _('Failed to copy metadata.')) METADATA_ERROR = ( '016', _('Failed to handle metadata.')) DRIVER_FAILED_CREATE, DRIVER_FAILED_CREATE_FROM_SNAPSHOT, METADATA_UPDATE_FAIL, METADATA_COPY_FAIL, METADATA_ERROR) METADATA_UPDATE_FAIL: ['MetadataUpdateFailure'], METADATA_COPY_FAIL: ['MetadataCopyFailure'],", CREATE_VOLUME_FROM_BACKEND DRIVER_FAILED_CREATE),122,17
openstack%2Fmanila~916025,openstack/manila,master,I02a2b7e9296e3034d7c20656a12cbdb2cb7a3182,"RBAC: Enable ""new"" defaults and scope checks",MERGED,2024-04-17 00:16:20.000000000,2024-05-21 03:59:36.000000000,2024-05-21 03:58:19.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 32594}, {'_account_id': 33728}]","[{'number': 1, 'created': '2024-04-17 00:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/681e1bb5536229cc545a3d58bb049ea8a416ee2d', 'message': 'RBAC: Enable ""new"" defaults and scope checks\n\nEnable new defaults and scope checks by default\nAs discussed in PTG, we need to test the new RBAC\nand accordingly enable the new defaults\nand scope check by default.\n\nChange-Id: I02a2b7e9296e3034d7c20656a12cbdb2cb7a3182\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2024-04-18 02:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2061e6e235671c63476c1c9f9ad612e324c56eca', 'message': 'RBAC: Enable ""new"" defaults and scope checks\n\nEnable new defaults and scope checks by default\nAs discussed in PTG, we need to test the new RBAC\nand accordingly enable the new defaults\nand scope check by default.\n\nChange-Id: I02a2b7e9296e3034d7c20656a12cbdb2cb7a3182\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2024-04-18 02:29:31.000000000', 'files': ['releasenotes/notes/enable-enforce-scope-c2d57db049741896.yaml', 'requirements.txt', 'manila/policy.py', 'manila/tests/api/v2/test_share_snapshots.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/b269c140a7bfdd0f877b57e87442d5c6115f654a', 'message': 'RBAC: Enable ""new"" defaults and scope checks\n\nEnable new defaults and scope checks by default\nAs discussed in PTG, we need to test the new RBAC\nand accordingly enable the new defaults\nand scope check by default.\n\nChange-Id: I02a2b7e9296e3034d7c20656a12cbdb2cb7a3182\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",3,916025,b269c140a7bfdd0f877b57e87442d5c6115f654a,23,7,3,16643,,,0,"RBAC: Enable ""new"" defaults and scope checks

Enable new defaults and scope checks by default
As discussed in PTG, we need to test the new RBAC
and accordingly enable the new defaults
and scope check by default.

Change-Id: I02a2b7e9296e3034d7c20656a12cbdb2cb7a3182
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/25/916025/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-enforce-scope-c2d57db049741896.yaml', 'requirements.txt', 'manila/policy.py']",3,681e1bb5536229cc545a3d58bb049ea8a416ee2d,secure-rbac,"opts.set_defaults( cfg.CONF, DEFAULT_POLICY_FILE, enforce_scope=True, enforce_new_defaults=True)",,28,1
openstack%2Fneutron~901225,openstack/neutron,master,Ica03d091572025fd6938ad1fdf4b13854625f267,Check subnet service_type for subnet_create,NEW,2023-11-17 09:07:48.000000000,2024-05-21 03:48:44.000000000,,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-17 09:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16b722517a91cdc4c087fc7e0c283598a5585dbc', 'message': 'Check subnet service_type for subnet_create\n\nIf create subnet for existing subnet, check the service_type\nto skip the exsiting router gateway ports updating.\n\nCloses-Bug: #2043761\nChange-Id: Ica03d091572025fd6938ad1fdf4b13854625f267\n'}, {'number': 2, 'created': '2023-11-27 05:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01cdb3fd331556e93aa6ec357e67f1db3e06dfd7', 'message': 'Check subnet service_type for subnet_create\n\nIf create subnet for existing external network, check the service_type\nto skip the all exsiting router gateway ports updating.\n\nCloses-Bug: #2043761\nChange-Id: Ica03d091572025fd6938ad1fdf4b13854625f267\n'}, {'number': 3, 'created': '2023-11-28 01:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd948b81aa5ae5ab7d12bfd3794d092df8e8480c', 'message': 'Check subnet service_type for subnet_create\n\nIf create subnet for existing external network, check the service_type\nto skip the all exsiting router gateway ports updating. And this\ncheck is added only for L3RouterPlugin.\n\nCloses-Bug: #2043761\nChange-Id: Ica03d091572025fd6938ad1fdf4b13854625f267\n'}, {'number': 4, 'created': '2023-11-28 06:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfd4d6190bea273d3c5401c09e5117499b648391', 'message': 'Check subnet service_type for subnet_create\n\nIf create subnet for existing external network, check the service_type\nto skip the all exsiting router gateway ports updating. And this\ncheck is added only for L3RouterPlugin.\n\nCloses-Bug: #2043761\nChange-Id: Ica03d091572025fd6938ad1fdf4b13854625f267\n'}, {'number': 5, 'created': '2024-01-19 00:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8740e685093c7ba447fd169ac79e73280bfeb378', 'message': 'Check subnet service_type for subnet_create\n\nIf create subnet for existing external network, check the service_type\nto skip the all exsiting router gateway ports updating. And this\ncheck is added only for L3RouterPlugin. IPv6 subnet creation for\nexternal network will keep the current behavior.\n\nCloses-Bug: #2043761\nChange-Id: Ica03d091572025fd6938ad1fdf4b13854625f267\n'}, {'number': 6, 'created': '2024-02-08 06:53:50.000000000', 'files': ['neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d08e1bdb1cc5778b7924046ed72a8e0c764c67c', 'message': ""Check subnet service_type for subnet_create\n\nIf create subnet for existing external network, check the service_type\nto skip all exsiting router gateway ports updating. And this\ncheck is added only for L3RouterPlugin.\n\nIPv6 subnet creation for external network will keep the current behavior.\nIPv6 subnet has not 'floatingip' types. And IPv6 subnet should be created\nonce enough, because a /64 CIDR is large enough typically. Creating IPv6\nsubnets many times does not occur frequently. So make IPv6 run as it is.\n\nCloses-Bug: #2043761\nChange-Id: Ica03d091572025fd6938ad1fdf4b13854625f267\n""}]",26,901225,5d08e1bdb1cc5778b7924046ed72a8e0c764c67c,54,7,6,9531,,,0,"Check subnet service_type for subnet_create

If create subnet for existing external network, check the service_type
to skip all exsiting router gateway ports updating. And this
check is added only for L3RouterPlugin.

IPv6 subnet creation for external network will keep the current behavior.
IPv6 subnet has not 'floatingip' types. And IPv6 subnet should be created
once enough, because a /64 CIDR is large enough typically. Creating IPv6
subnets many times does not occur frequently. So make IPv6 run as it is.

Closes-Bug: #2043761
Change-Id: Ica03d091572025fd6938ad1fdf4b13854625f267
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/901225/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_l3.py']",2,16b722517a91cdc4c087fc7e0c283598a5585dbc,bug/2043761,"from neutron_lib.api.definitions import subnet_service_types dns_apidef.ALIAS, subnet_service_types.ALIAS] supported_extension_aliases = [extnet_apidef.ALIAS, subnet_service_types.ALIAS] def test_not_update_router_gateway_if_service_type_not_related(self): with self.router() as r, self.network() as n: with self.subnet(cidr='10.0.0.0/24', network=n) as s1, ( self.subnet(ip_version=lib_constants.IP_VERSION_6, cidr='2001:db8::/64', network=n)) as s2: self._set_net_external(n['network']['id']) self._add_external_gateway_to_router( r['router']['id'], n['network']['id'], ext_ips=[{'subnet_id': s1['subnet']['id']}, {'subnet_id': s2['subnet']['id']}], expected_code=exc.HTTPOk.code, as_admin=True) plugin = directory.get_plugin(plugin_constants.L3) get_router = mock.patch.object( plugin, 'get_router', side_effect=l3_exc.RouterNotFound(router_id='1')).start() self._create_subnet(self.fmt, net_id=n['network']['id'], cidr='10.0.1.0/24', service_types=['network:floatingip'], expected_res_status=exc.HTTPCreated.code) get_router.assert_not_called() self._create_subnet(self.fmt, net_id=n['network']['id'], cidr='10.0.2.0/24', service_types=['network:router_gateway'], expected_res_status=exc.HTTPCreated.code) get_router.assert_called_once_with( mock.ANY, r['router']['id']) ", dns_apidef.ALIAS] supported_extension_aliases = [extnet_apidef.ALIAS],43,2
openstack%2Fpython-manilaclient~916580,openstack/python-manilaclient,master,I630f95a3a7e4909465b1190bbe5cd3ac51352b27,[OSC] Add share type encryption,NEW,2024-04-20 16:26:25.000000000,2024-05-21 02:36:42.000000000,,"[{'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}]","[{'number': 1, 'created': '2024-04-20 16:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b01b675266d9076caa3ebaccf84e343b2ddeb5e7', 'message': '[OSC] Add share type encryption\n\nImplemented share type encryption create/get/set/delete osc client\ncalls.\n\npartially-implements: blueprint share-encryption\nChange-Id: I630f95a3a7e4909465b1190bbe5cd3ac51352b27\n'}, {'number': 2, 'created': '2024-04-24 17:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/40bd1d8fe8815ff67c71a13d35edcfe6b4c5cf10', 'message': '[OSC] Add share type encryption\n\nImplemented share type encryption create/get/set/delete osc client\ncalls.\n\npartially-implements: blueprint share-encryption\nDepends-on: I4f952e953f797db48344a17f368b0cdbc1875cd1\nChange-Id: I630f95a3a7e4909465b1190bbe5cd3ac51352b27\n'}, {'number': 3, 'created': '2024-04-25 10:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/78977076a203132ae7155a3385d730613405f453', 'message': '[OSC] Add share type encryption\n\nImplemented share type encryption create/get/set/delete osc client\ncalls.\n\npartially-implements: blueprint share-encryption\nDepends-on: I4f952e953f797db48344a17f368b0cdbc1875cd1\nChange-Id: I630f95a3a7e4909465b1190bbe5cd3ac51352b27\n'}, {'number': 4, 'created': '2024-04-25 16:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1b64b957740eae6e0d8d634d21b1cd66fb3f7316', 'message': '[OSC] Add share type encryption\n\nImplemented share type encryption create/get/set/delete osc client\ncalls.\n\npartially-implements: blueprint share-encryption\nDepends-on: I4f952e953f797db48344a17f368b0cdbc1875cd1\nChange-Id: I630f95a3a7e4909465b1190bbe5cd3ac51352b27\n'}, {'number': 5, 'created': '2024-05-06 11:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0d0d78a2dea3720cf9c1e19091207b5adacecf4c', 'message': '[OSC] Add share type encryption\n\nImplemented share type encryption create/get/set/delete osc client\ncalls.\n\npartially-implements: blueprint share-encryption\nDepends-on: I4f952e953f797db48344a17f368b0cdbc1875cd1\nChange-Id: I630f95a3a7e4909465b1190bbe5cd3ac51352b27\n'}, {'number': 6, 'created': '2024-05-15 10:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/afb97d4771f34d3da6d2342586802f310d0f7690', 'message': '[OSC] Add share type encryption\n\nImplemented share type encryption create/get/set/delete osc client\ncalls.\n\npartially-implements: blueprint share-encryption\nDepends-on: I4f952e953f797db48344a17f368b0cdbc1875cd1\nChange-Id: I630f95a3a7e4909465b1190bbe5cd3ac51352b27\n'}, {'number': 7, 'created': '2024-05-15 12:02:25.000000000', 'files': ['manilaclient/tests/unit/osc/v2/test_share_type.py', 'manilaclient/tests/unit/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/v2/test_types.py', 'manilaclient/tests/functional/osc/test_share_types.py', 'manilaclient/osc/v2/share_types.py', 'releasenotes/notes/share-type-encryption-7d836cd2fc9303b7.yaml', 'manilaclient/v2/share_types.py', 'manilaclient/tests/functional/osc/base.py', 'manilaclient/api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/101808552cc8753b19843c1087f9f785b9a3cab5', 'message': '[OSC] Add share type encryption\n\nImplemented share type encryption create/get/set/delete osc client\ncalls.\n\npartially-implements: blueprint share-encryption\nDepends-on: I4f952e953f797db48344a17f368b0cdbc1875cd1\nChange-Id: I630f95a3a7e4909465b1190bbe5cd3ac51352b27\n'}]",18,916580,101808552cc8753b19843c1087f9f785b9a3cab5,27,4,7,32919,,,0,"[OSC] Add share type encryption

Implemented share type encryption create/get/set/delete osc client
calls.

partially-implements: blueprint share-encryption
Depends-on: I4f952e953f797db48344a17f368b0cdbc1875cd1
Change-Id: I630f95a3a7e4909465b1190bbe5cd3ac51352b27
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/80/916580/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/osc/v2/test_share_type.py', 'manilaclient/tests/unit/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/v2/test_types.py', 'manilaclient/tests/functional/osc/test_share_types.py', 'manilaclient/osc/v2/share_types.py', 'releasenotes/notes/share-type-encryption-7d836cd2fc9303b7.yaml', 'manilaclient/v2/share_types.py', 'manilaclient/tests/functional/osc/base.py', 'manilaclient/api_versions.py']",10,b01b675266d9076caa3ebaccf84e343b2ddeb5e7,bp/share-encryption,MAX_VERSION = '2.86',MAX_VERSION = '2.84',474,21
openstack%2Fopenstack-ansible-os_magnum~916647,openstack/openstack-ansible-os_magnum,master,I13113c96516a565b02cd8d123ef8a962f2362398,Allow zuul job variables to be inserted into user_variables,MERGED,2024-04-22 15:42:45.000000000,2024-05-21 01:59:32.000000000,2024-05-21 01:57:41.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-04-22 15:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/df8554553e8b4cf8c79ba6904ad0af5dffaf81a2', 'message': 'Allow zuul job variables to be inserted into user_variables\n\nWe can use this to create CI jobs for specific k8s versions\n\nChange-Id: I13113c96516a565b02cd8d123ef8a962f2362398\n'}, {'number': 2, 'created': '2024-04-24 11:48:22.000000000', 'files': ['zuul.d/playbooks/bootstrap-mcapi-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/f8d519e6848b91b0ab7025b57b867f1d87c5fd94', 'message': 'Allow zuul job variables to be inserted into user_variables\n\nWe can use this to create CI jobs for specific k8s versions\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/916810\nChange-Id: I13113c96516a565b02cd8d123ef8a962f2362398\n'}]",10,916647,f8d519e6848b91b0ab7025b57b867f1d87c5fd94,35,3,2,25023,,,0,"Allow zuul job variables to be inserted into user_variables

We can use this to create CI jobs for specific k8s versions

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/916810
Change-Id: I13113c96516a565b02cd8d123ef8a962f2362398
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/47/916647/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/bootstrap-mcapi-vexxhost.yml'],1,df8554553e8b4cf8c79ba6904ad0af5dffaf81a2,capi," - name: Add extra config to user variables ansible.builtin.blockinfile: path: ""{{ item.path }}"" block: ""{{ item.block }}"" with_items: ""{{ mcapi_vexxhost_extra_user_variables | default([]) }}""",,6,0
openstack%2Fswift~919987,openstack/swift,feature/mpu,I0f91e8c606f1bf36a3ab6485635a182caa25bfaa,Merge remote-tracking branch 'gerrit/master' into feature/mpu,MERGED,2024-05-17 22:03:12.000000000,2024-05-21 00:37:11.000000000,2024-05-21 00:35:10.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 22:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c77fbc6546a696065757b24bbb92690ad732a89e', 'message': ""Merge remote-tracking branch 'gerrit/master' into feature/mpu\n\nChange-Id: I0f91e8c606f1bf36a3ab6485635a182caa25bfaa\n""}]",2,919987,c77fbc6546a696065757b24bbb92690ad732a89e,18,2,1,15343,,,0,"Merge remote-tracking branch 'gerrit/master' into feature/mpu

Change-Id: I0f91e8c606f1bf36a3ab6485635a182caa25bfaa
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/919987/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,c77fbc6546a696065757b24bbb92690ad732a89e,merge-master,,,0,0
openstack%2Fgrenade~919988,openstack/grenade,master,I823d1b984fee9f66b11dc58889cc40ab5555dd62,Increase Cinder SSH timeout from 30s to 60s,MERGED,2024-05-17 23:16:30.000000000,2024-05-21 00:36:51.000000000,2024-05-21 00:35:09.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 23:16:30.000000000', 'files': ['projects/70_cinder/resources.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/3a069869530f2f82af3d3104891efd66efc56ee2', 'message': 'Increase Cinder SSH timeout from 30s to 60s\n\nSeen in a nova-grenade-multinode job failure today:\n\nIn grenade/projects/70_cinder/resources.sh:create, a server is booted\nfrom a volume and attaches one non-bootable non-encrypted volume\nfollowed by one non-bootable encrypted volume. After the volumes attach\nsuccessfully, there is an attempt to SSH to the server and it fails due\nto a timeout if SSH does not connect within 30 seconds.\n\nAfter a failure, the server console log is dumped and in it the last\nmessage is ""Starting dropbear sshd: OK"" which makes it seem likely that\nsshd was not up and running yet and that\'s why SSH failed.\n\nWe could increase the timeout here to give the server a bit more time\nto get sshd running before giving up.\n\nCloses-Bug: #2066072\n\nChange-Id: I823d1b984fee9f66b11dc58889cc40ab5555dd62\n'}]",1,919988,3a069869530f2f82af3d3104891efd66efc56ee2,8,3,1,4690,,,0,"Increase Cinder SSH timeout from 30s to 60s

Seen in a nova-grenade-multinode job failure today:

In grenade/projects/70_cinder/resources.sh:create, a server is booted
from a volume and attaches one non-bootable non-encrypted volume
followed by one non-bootable encrypted volume. After the volumes attach
successfully, there is an attempt to SSH to the server and it fails due
to a timeout if SSH does not connect within 30 seconds.

After a failure, the server console log is dumped and in it the last
message is ""Starting dropbear sshd: OK"" which makes it seem likely that
sshd was not up and running yet and that's why SSH failed.

We could increase the timeout here to give the server a bit more time
to get sshd running before giving up.

Closes-Bug: #2066072

Change-Id: I823d1b984fee9f66b11dc58889cc40ab5555dd62
",git fetch https://review.opendev.org/openstack/grenade refs/changes/88/919988/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/70_cinder/resources.sh'],1,3a069869530f2f82af3d3104891efd66efc56ee2,bug/2066072, local timeleft=60, local timeleft=30,1,1
openstack%2Fopenstack-ansible~919493,openstack/openstack-ansible,master,I8f1b0b73d55b9a7bf57060797be0c91d2712e8ea,Collect kubelet logs generated on magnum k8s control plane,MERGED,2024-05-13 11:12:04.000000000,2024-05-20 23:21:14.000000000,2024-05-20 23:17:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-13 11:12:04.000000000', 'files': ['scripts/log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8de3b6d94b3c28eb1baa699c10acbb274e5a1df9', 'message': 'Collect kubelet logs generated on magnum k8s control plane\n\nChange-Id: I8f1b0b73d55b9a7bf57060797be0c91d2712e8ea\n'}]",1,919493,8de3b6d94b3c28eb1baa699c10acbb274e5a1df9,11,4,1,25023,,,0,"Collect kubelet logs generated on magnum k8s control plane

Change-Id: I8f1b0b73d55b9a7bf57060797be0c91d2712e8ea
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/919493/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/log-collect.sh'],1,8de3b6d94b3c28eb1baa699c10acbb274e5a1df9,, kubelet \,,1,0
openstack%2Fopenstack-ansible~920019,openstack/openstack-ansible,stable/2023.2,I5edfde899001ce428c20ee0e1c94b897537b8ebf,Remove retired projects from zuul required-projects,MERGED,2024-05-20 09:24:06.000000000,2024-05-20 23:21:11.000000000,2024-05-20 23:17:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-20 09:24:06.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3fec9b695f057f425c99c7e6a7d7948525f9ac0f', 'message': 'Remove retired projects from zuul required-projects\n\nRemove senlin, murano, sahara, networking-odl and networking-ovn.\n\nChange-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf\n'}]",1,920019,3fec9b695f057f425c99c7e6a7d7948525f9ac0f,8,4,1,25023,,,0,"Remove retired projects from zuul required-projects

Remove senlin, murano, sahara, networking-odl and networking-ovn.

Change-Id: I5edfde899001ce428c20ee0e1c94b897537b8ebf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/920019/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,3fec9b695f057f425c99c7e6a7d7948525f9ac0f,,, # Murano distro deployment does need access to valid git repo anyway - name: openstack/murano - name: openstack/murano-tempest-plugin - name: openstack/senlin-tempest-plugin - name: openstack/sahara-tests - name: openstack/sahara-dashboard - name: openstack/murano - name: openstack/networking-odl - name: openstack/networking-ovn - name: openstack/sahara - name: openstack/senlin - name: openstack/murano - name: openstack/murano-tempest-plugin - name: openstack/senlin-tempest-plugin - name: openstack/sahara-tests,0,15
openstack%2Fopenstack-ansible-rabbitmq_server~914692,openstack/openstack-ansible-rabbitmq_server,master,I4aa840b93a320bd89f9f630a4f58b8004380f28a,Add distro infra jobs,MERGED,2024-03-28 17:56:23.000000000,2024-05-20 22:09:37.000000000,2024-05-20 22:07:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-03-28 17:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5c79f1e613a346b43d4f308a1411d53abf34ee06', 'message': ""Add distro infra jobs\n\nThese jobs aims to ensure that infra can be installed through distro\nmethod\nand it still executes it's required functionality.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/914649\nChange-Id: I4aa840b93a320bd89f9f630a4f58b8004380f28a\n""}, {'number': 2, 'created': '2024-04-24 17:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/95a4a7a9580ef4bf42c10ce1eda6669f7767006e', 'message': ""Add distro infra jobs\n\nThese jobs aims to ensure that infra can be installed through distro\nmethod\nand it still executes it's required functionality.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/914649\nChange-Id: I4aa840b93a320bd89f9f630a4f58b8004380f28a\n""}, {'number': 3, 'created': '2024-04-25 09:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/21c3be33b0d5ca37890a94ec0268753aa0abbd78', 'message': ""Add distro infra jobs\n\nThese jobs aims to ensure that infra can be installed through distro\nmethod\nand it still executes it's required functionality.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/914649\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/914691\nChange-Id: I4aa840b93a320bd89f9f630a4f58b8004380f28a\n""}, {'number': 4, 'created': '2024-04-26 14:15:34.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5c3cec5344776a77e58a1beb01ba8a00cb3dca12', 'message': ""Add distro infra jobs\n\nThese jobs aims to ensure that infra can be installed through distro\nmethod\nand it still executes it's required functionality.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/917148\nChange-Id: I4aa840b93a320bd89f9f630a4f58b8004380f28a\n""}]",6,914692,5c3cec5344776a77e58a1beb01ba8a00cb3dca12,33,3,4,28619,,,0,"Add distro infra jobs

These jobs aims to ensure that infra can be installed through distro
method
and it still executes it's required functionality.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/917148
Change-Id: I4aa840b93a320bd89f9f630a4f58b8004380f28a
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/92/914692/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5c79f1e613a346b43d4f308a1411d53abf34ee06,osa/infra_distro, - openstack-ansible-deploy-infra_distro_lxc-jobs,,1,0
openstack%2Fnova~918458,openstack/nova,master,Ibc7bff377cc5b5572e2a11006116401babaac347,Enable virtio-scsi in nova-next,MERGED,2024-05-07 15:20:59.000000000,2024-05-20 21:44:07.000000000,2024-05-20 21:41:24.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-07 15:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a83fd6bf35386dc362b68fc2c6dc112268ef5582', 'message': 'Enable virtio-scsi in nova-next\n\nThis lets us test the direct-lun volume attachment model.\n\nChange-Id: Ibc7bff377cc5b5572e2a11006116401babaac347\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/918457\n'}, {'number': 2, 'created': '2024-05-07 16:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f743aa38d7979d615bdca3a311b3bfbd536912a', 'message': 'Enable virtio-scsi in nova-next\n\nThis lets us test the direct-lun volume attachment model.\n\nChange-Id: Ibc7bff377cc5b5572e2a11006116401babaac347\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/918457\n'}, {'number': 3, 'created': '2024-05-07 18:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d990d0198ed757ab6f4882b583b4faba8b364662', 'message': 'Enable virtio-scsi in nova-next\n\nThis lets us test the direct-lun volume attachment model.\n\nChange-Id: Ibc7bff377cc5b5572e2a11006116401babaac347\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/918457\n'}, {'number': 4, 'created': '2024-05-07 18:49:28.000000000', 'files': ['.zuul.yaml', 'playbooks/nova-next/pre.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/32546d9c1bf178840ab475fef41b78ecb68a86a9', 'message': 'Enable virtio-scsi in nova-next\n\nThis lets us test the direct-lun volume attachment model.\n\nChange-Id: Ibc7bff377cc5b5572e2a11006116401babaac347\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/918457\n'}]",36,918458,32546d9c1bf178840ab475fef41b78ecb68a86a9,30,4,4,4393,,,0,"Enable virtio-scsi in nova-next

This lets us test the direct-lun volume attachment model.

Change-Id: Ibc7bff377cc5b5572e2a11006116401babaac347
Depends-On: https://review.opendev.org/c/openstack/tempest/+/918457
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/918458/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/nova-next/pre.yaml'],1,a83fd6bf35386dc362b68fc2c6dc112268ef5582,lun-device-serial,"- hosts: controller tasks: - name: create local.sh become: yes blockinfile: path: /opt/stack/devstack/local.sh create: True mode: 0777 block: | #!/bin/bash image_id=$(openstack image list -f value -c ID | awk 'NR==1{print $1}') echo ""Setting required image metadata properties"" openstack image set --property hw_scsi_model=virtio-scsi ${image_id} ",,14,0
openstack%2Fswift~851474,openstack/swift,master,I7976e6bb151802dcf0c969e2468e686f2dfa78a7,replicator: Ensure handoffs can clear with large handoff_delete,MERGED,2022-07-28 22:45:05.000000000,2024-05-20 21:44:05.000000000,2024-05-20 21:41:28.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 22:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ce23bcb9877ed39dc3c71199e7d2f1af9b28ea06', 'message': 'replicator: Ensure handoffs can clear with large handoff_delete\n\nChange-Id: I7976e6bb151802dcf0c969e2468e686f2dfa78a7\nCloses-Bug: #1982201\n'}, {'number': 2, 'created': '2022-07-28 23:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8235feff4c74b2838ef47244f265911a42718e77', 'message': 'replicator: Ensure handoffs can clear with large handoff_delete\n\nChange-Id: I7976e6bb151802dcf0c969e2468e686f2dfa78a7\nCloses-Bug: #1982201\n'}, {'number': 3, 'created': '2022-07-29 19:01:10.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/common/test_db_replicator.py', 'swift/common/db_replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/336c97bbf8a577a5f74dacec4dd245663d626289', 'message': 'replicator: Ensure handoffs can clear with large handoff_delete\n\nChange-Id: I7976e6bb151802dcf0c969e2468e686f2dfa78a7\nCloses-Bug: #1982201\n'}]",13,851474,336c97bbf8a577a5f74dacec4dd245663d626289,17,3,3,15343,,,0,"replicator: Ensure handoffs can clear with large handoff_delete

Change-Id: I7976e6bb151802dcf0c969e2468e686f2dfa78a7
Closes-Bug: #1982201
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/851474/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/common/test_db_replicator.py', 'swift/common/db_replicator.py', 'test/unit/obj/test_replicator.py']",4,ce23bcb9877ed39dc3c71199e7d2f1af9b28ea06,," print('created', testgz) def test_massive_handoff_delete_setting_warnings(self): replicator = object_replicator.ObjectReplicator( {'swift_dir': self.testdir, 'handoff_delete': '1000'}, logger=self.logger) self.assertEqual(self.logger.get_lines_for_level('warning'), [ 'Handoff only mode is not intended for normal operation, ' 'please disable handoffs_first and handoff_delete before ' 'the next normal rebalance', 'No storage policies found for which handoff_delete=1000 ' 'would have an effect. Disabling.', ]) self.assertEqual(replicator.handoff_delete, 0) def test_delete_partition_with_too_high_handoff_delete(self): with mock.patch('swift.obj.replicator.http_connect', mock_http_connect(200)): self.replicator.handoff_delete = 5 df = self.df_mgr.get_diskfile('sda', '1', 'a', 'c', 'o', policy=POLICIES.legacy) mkdirs(df._datadir) f = open(os.path.join(df._datadir, normalize_timestamp(time.time()) + '.data'), 'wb') f.write(b'1234567890') f.close() ohash = hash_path('a', 'c', 'o') data_dir = ohash[-3:] whole_path_from = os.path.join(self.objects, '1', data_dir) part_path = os.path.join(self.objects, '1') self.assertTrue(os.access(part_path, os.F_OK)) ring = self.replicator.load_object_ring(POLICIES[0]) nodes = [node for node in ring.get_part_nodes(1) if node['ip'] not in _ips()] self.assertLess(len(nodes), self.replicator.handoff_delete) process_arg_checker = [] for i, node in enumerate(nodes): rsync_mod = '%s::object/sda/objects/%s' % (node['ip'], 1) # everybody succeeds ret_code = 0 process_arg_checker.append( (ret_code, '', ['rsync', whole_path_from, rsync_mod])) with _mock_process(process_arg_checker): self.replicator.replicate() self.assertFalse(os.access(part_path, os.F_OK)) ",,68,2
openstack%2Fironic-python-agent~920061,openstack/ironic-python-agent,master,I63a24515ee83e9219a32a84879653be15060361b,DNM: test: skip on initial cache,NEW,2024-05-20 18:48:17.000000000,2024-05-20 21:35:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-20 18:48:17.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c5588ddca257e431f74af7ab09fba44128a08451', 'message': 'DNM: test: skip on initial cache\n\nChange-Id: I63a24515ee83e9219a32a84879653be15060361b\n'}]",0,920061,c5588ddca257e431f74af7ab09fba44128a08451,3,1,1,11655,,,0,"DNM: test: skip on initial cache

Change-Id: I63a24515ee83e9219a32a84879653be15060361b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/61/920061/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,c5588ddca257e431f74af7ab09fba44128a08451,," self.get_os_install_device(skip_hints=True) def get_os_install_device(self, permit_refresh=False, skip_hints=False): if permit_refresh and not root_device_hints and not skip_hints: if not root_device_hints and not skip_hints:"," self.get_os_install_device() def get_os_install_device(self, permit_refresh=False): if permit_refresh and not root_device_hints: if not root_device_hints:",4,4
openstack%2Fopenstack-ansible-os_magnum~919494,openstack/openstack-ansible-os_magnum,master,I79bab4e7d9086d412d0097e7ec938a5a60ac9055,DNM - 919493,ABANDONED,2024-05-13 11:13:12.000000000,2024-05-20 20:52:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-13 11:13:12.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/403eb1a19c0a120c75d0d71811c2635d49539106', 'message': 'DNM - 919493\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919493\nChange-Id: I79bab4e7d9086d412d0097e7ec938a5a60ac9055\n'}]",1,919494,403eb1a19c0a120c75d0d71811c2635d49539106,5,1,1,25023,,,0,"DNM - 919493

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919493
Change-Id: I79bab4e7d9086d412d0097e7ec938a5a60ac9055
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/94/919494/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,403eb1a19c0a120c75d0d71811c2635d49539106,,,,0,0
openstack%2Fopenstack-ansible-os_neutron~913588,openstack/openstack-ansible-os_neutron,master,Ic318e4058c648ffa98392978bbb40440326ba948,[doc] Expand documentation on OVN useful commands,MERGED,2024-03-18 17:35:51.000000000,2024-05-20 20:05:08.000000000,2024-05-20 20:04:06.000000000,"[{'_account_id': 15993}, {'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-03-18 17:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ab952a0f41ffbb4a9b565acd8ae8357af91711a0', 'message': '[doc] Expand documentation on OVN useful commands\n\nChange-Id: Ic318e4058c648ffa98392978bbb40440326ba948\n'}, {'number': 2, 'created': '2024-03-18 17:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/cf69756fbbfddb5a1a40799f0bd97200654fb40a', 'message': '[doc] Expand documentation on OVN useful commands\n\nChange-Id: Ic318e4058c648ffa98392978bbb40440326ba948\n'}, {'number': 3, 'created': '2024-03-19 18:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9790c4d85be65bd80606deb6bce486116bbce5a2', 'message': '[doc] Expand documentation on OVN useful commands\n\nChange-Id: Ic318e4058c648ffa98392978bbb40440326ba948\n'}, {'number': 4, 'created': '2024-03-21 18:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0fc4c4dab6aa1d7e81b1cd7ece0cfb2a5b992127', 'message': '[doc] Expand documentation on OVN useful commands\n\nChange-Id: Ic318e4058c648ffa98392978bbb40440326ba948\n'}, {'number': 5, 'created': '2024-03-21 20:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/50a54151d72fe157bdb59ee11430046fcb6b6b1e', 'message': '[doc] Expand documentation on OVN useful commands\n\nChange-Id: Ic318e4058c648ffa98392978bbb40440326ba948\n'}, {'number': 6, 'created': '2024-03-21 23:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/dd5963d0821d8c47878c719b6421a81a5cda1a8a', 'message': '[doc] Expand documentation on OVN useful commands\n\nChange-Id: Ic318e4058c648ffa98392978bbb40440326ba948\n'}, {'number': 7, 'created': '2024-03-28 10:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e32bb42866668e96b95deac88cd2ba5de379bb47', 'message': '[doc] Expand documentation on OVN useful commands\n\nChange-Id: Ic318e4058c648ffa98392978bbb40440326ba948\n'}, {'number': 8, 'created': '2024-05-14 10:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/fc9fca9246e405358a12e4422da9678e2a7062a9', 'message': '[doc] Expand documentation on OVN useful commands\n\nChange-Id: Ic318e4058c648ffa98392978bbb40440326ba948\n'}, {'number': 9, 'created': '2024-05-14 14:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a3acfd9d6c8e5fc71a3eefa1bcc13cabda5559ad', 'message': '[doc] Expand documentation on OVN useful commands\n\nChange-Id: Ic318e4058c648ffa98392978bbb40440326ba948\n'}, {'number': 10, 'created': '2024-05-20 15:11:10.000000000', 'files': ['doc/source/app-ovn.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/db3b8d7021d795d2206869d9f2258597065cffee', 'message': '[doc] Expand documentation on OVN useful commands\n\nChange-Id: Ic318e4058c648ffa98392978bbb40440326ba948\n'}]",19,913588,db3b8d7021d795d2206869d9f2258597065cffee,35,5,10,28619,,,0,"[doc] Expand documentation on OVN useful commands

Change-Id: Ic318e4058c648ffa98392978bbb40440326ba948
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/88/913588/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/app-ovn.rst'],1,ab952a0f41ffbb4a9b565acd8ae8357af91711a0,," If you want to check only specific field from ovs-vsctl output, like applied interface mappings, you can select it in a following way: .. code-block:: console root@mnaio-controller1:~# ovs-vsctl get open . external_ids:ovn-bridge-mappings ""vlan:br-provider"" You can also get information about agent UUID which will be stated in ``openstack network agent list`` output via simmilar command: .. code-block:: console root@mnaio-controller1:~# ovs-vsctl get open . external_ids:system-id ""a67926f2-9543-419a-903d-23e2aa308368"" You can get specific information about chassis by providing either it's `name`, where `name` is UUID of the agent (`external_ids:system-id` from the ovs-vsctl output), for example: .. code-block:: console root@mnaio-controller1:~# ovn-sbctl list Chassis ff66288c-5a7c-41fb-ba54-6c781f95a81e _uuid : b0b6ebec-1c64-417a-adb7-d383632a4c5e encaps : [a3ba78c3-df14-4144-81e0-e6379541bc89] external_ids : {} hostname : mnaio-compute2 name : ""ff66288c-5a7c-41fb-ba54-6c781f95a81e"" nb_cfg : 0 other_config : {ct-no-masked-label=""true"", datapath-type=system, fdb-timestamp=""true"", iface-types=""afxdp,afxdp-nonpmd,bareudp,erspan,geneve,gre,gtpu,internal,ip6erspan,ip6gre,lisp,patch,srv6,stt,system,tap,vxlan"", is-interconn=""false"", mac-binding-timestamp=""true"", ovn-bridge-mappings=""vlan:br-provider"", ovn-chassis-mac-mappings="""", ovn-cms-options="""", ovn-ct-lb-related=""true"", ovn-enable-lflow-cache=""true"", ovn-limit-lflow-cache="""", ovn-memlimit-lflow-cache-kb="""", ovn-monitor-all=""false"", ovn-trim-limit-lflow-cache="""", ovn-trim-timeout-ms="""", ovn-trim-wmark-perc-lflow-cache="""", port-up-notif=""true""} transport_zones : [] vtep_logical_switches: [] As you might see, ``other_config`` row also contains bridge-mapping, which can be fetched from the table with simmilar to ovs-vsctl way: .. code-block:: console root@mnaio-controller1:~# ovn-sbctl get Chassis ff66288c-5a7c-41fb-ba54-6c781f95a81e other_config:ovn-bridge-mappings ""vlan:br-provider"" Flotaing IPs and Router SNAT are represented via NAT rules in the NB database, where FIP has type `dnat_and_snat`. You can fetch list of NAT rules assigned to the specific router using router name in OVN database, which is formated like ``neutron-<UUID>``, where UUID is the UUID of the router in Neutron database. Command will look like this: .. code-block:: console root@mnaio-controller1:~# ovn-nbctl lr-nat-list neutron-b0d6ca32-fda3-4fdc-b648-82c8bee303dc TYPE GATEWAY_PORT EXTERNAL_IP EXTERNAL_PORT LOGICAL_IP EXTERNAL_MAC LOGICAL_PORT dnat_and_snat 192.168.25.246 10.3.3.49 snat 192.168.25.242 10.3.3.0/24 Mapping/location of the router to the gateway node can be established by logical ports of the router. For that you need to know the UUID of the external port attach to the router. Port name in OVN database is constructed as ``lrp-<UUID>``, where UUID is the Neutron port UUID. Given, that an external network in topic is named `public`, you can determine the gateway node in a following way: .. code-block:: console root@mnaio-controller1:~# openstack port list --router b0d6ca32-fda3-4fdc-b648-82c8bee303dc --network public -c ID +--------------------------------------+ | ID | +--------------------------------------+ | 16555e74-fbef-4ecb-918c-2fb76bf5d42d | +--------------------------------------+ root@mnaio-controller1:~# ovn-nbctl get Logical_Router_Port lrp-16555e74-fbef-4ecb-918c-2fb76bf5d42d status:hosting-chassis ""5335c34d-9233-47bd-92f1-fc7503270783"" root@mnaio-controller1:~# ovn-sbctl get Chassis 5335c34d-9233-47bd-92f1-fc7503270783 hostname mnaio-compute1 root@mnaio-controller1:~# openstack network agent show 5335c34d-9233-47bd-92f1-fc7503270783 -c host +-------+-----------------------------+ | Field | Value | +-------+-----------------------------+ | host | mnaio-compute1 | +-------+-----------------------------+ To list all gateway chassis on which the logical port is scheduled with their priorities, you can use: .. code-block:: console root@mnaio-controller1:~# ovn-nbctl lrp-get-gateway-chassis lrp-16555e74-fbef-4ecb-918c-2fb76bf5d42d | cut -d '_' -f 2 5335c34d-9233-47bd-92f1-fc7503270783 2 cb6761f4-c14c-41f8-9654-16f3fc7cc7e6 1 In order to migrate active router logical port to another node, you can execute following command: .. code-block:: console root@mnaio-controller1:~# ovn-nbctl lrp-set-gateway-chassis lrp-16555e74-fbef-4ecb-918c-2fb76bf5d42d ff66288c-5a7c-41fb-ba54-6c781f95a81e 10 ", ,99,1
openstack%2Fopenstack-helm-images~919898,openstack/openstack-helm-images,master,I391bf8edf7918b4f1ffe92a78d184031af67ed09,Install more openstack client plugins,MERGED,2024-05-16 20:29:39.000000000,2024-05-20 19:36:52.000000000,2024-05-20 19:35:42.000000000,"[{'_account_id': 5890}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-05-16 20:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/239804d66b9aaaa613c5ca7ba4ec2f805bd475ed', 'message': 'Fix openstack-client image\n\nTo install all the openstackclient requirements\nwe should install openstackclient package, NOT\npython-openstackclient.\n\nChange-Id: I391bf8edf7918b4f1ffe92a78d184031af67ed09\n'}, {'number': 2, 'created': '2024-05-16 22:15:54.000000000', 'files': ['openstack_client/Dockerfile.ubuntu'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7c32e351bb3cc10dc9d7e83238e5241e5cde7c04', 'message': ""Install more openstack client plugins\n\nThe openstackclient metapackage https://opendev.org/openstack/openstackclient\nis not compatible with the current Openstack constraints.\n\nSo let's explicitly install necessary plugins.\nFor now let's install those plugins that Openstack Heat\nlists in its requirements.txt.\n\nChange-Id: I391bf8edf7918b4f1ffe92a78d184031af67ed09\n""}]",0,919898,7c32e351bb3cc10dc9d7e83238e5241e5cde7c04,11,4,2,3009,,,0,"Install more openstack client plugins

The openstackclient metapackage https://opendev.org/openstack/openstackclient
is not compatible with the current Openstack constraints.

So let's explicitly install necessary plugins.
For now let's install those plugins that Openstack Heat
lists in its requirements.txt.

Change-Id: I391bf8edf7918b4f1ffe92a78d184031af67ed09
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/98/919898/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_client/Dockerfile.ubuntu'],1,239804d66b9aaaa613c5ca7ba4ec2f805bd475ed,, cmd2 openstackclient --ignore-installed, cmd2 python-openstackclient python-heatclient --ignore-installed,1,1
openstack%2Fnova~919738,openstack/nova,master,I78308128c6249f7f871e0231ce717b1ec0f88509,Enable OCaaS for several nova jobs,MERGED,2024-05-15 14:19:02.000000000,2024-05-20 19:23:24.000000000,2024-05-20 19:20:22.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 14:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7144f9c0a3f7e5187dca8d0e17efc8c8306df76', 'message': 'Enable OCaaS for several nova jobs\n\nThis uses the OCaaS feature in devstack which saves *minutes* of time\nrunning devstack by effectively caching the openstackclient startup\ninstead of taking that hit for every invocation.\n\nChange-Id: I78308128c6249f7f871e0231ce717b1ec0f88509\n'}, {'number': 2, 'created': '2024-05-20 15:24:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/84b0a481fe86701f2baa562a051fafa765ccd011', 'message': 'Enable OCaaS for several nova jobs\n\nThis uses the OCaaS feature in devstack which saves *minutes* of time\nrunning devstack by effectively caching the openstackclient startup\ninstead of taking that hit for every invocation.\n\nChange-Id: I78308128c6249f7f871e0231ce717b1ec0f88509\n'}]",27,919738,84b0a481fe86701f2baa562a051fafa765ccd011,19,3,2,4393,,,0,"Enable OCaaS for several nova jobs

This uses the OCaaS feature in devstack which saves *minutes* of time
running devstack by effectively caching the openstackclient startup
instead of taking that hit for every invocation.

Change-Id: I78308128c6249f7f871e0231ce717b1ec0f88509
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/919738/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f7144f9c0a3f7e5187dca8d0e17efc8c8306df76,devstack-ocaas, openstack-cli-server: true openstack-cli-server: true devstack_services: openstack-cli-server: true openstack-cli-server: true openstack_services: openstack-cli-server: true openstack-cli-server: true openstack-cli-server: true openstack-cli-server: true devstack_services: openstack-cli-server: true devstack_services: openstack-cli-server: true,,14,0
openstack%2Fopenstack-helm~904654,openstack/openstack-helm,master,I03f133e544afa6f93f35ff206cd5869a74d54dfd,feat: add OVN VPNaaS support,MERGED,2024-01-04 06:18:36.000000000,2024-05-20 19:06:55.000000000,2024-05-20 19:05:55.000000000,"[{'_account_id': 3009}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-01-04 06:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6468cc37545c3388e3d928d1fd1ba12e2597770c', 'message': 'feat: add OVN VPNaaS support\n\novn vpnaas is now supported with [1]. Add it to neutron ovn mode\n\n[1] https://review.opendev.org/c/openstack/neutron-vpnaas/+/765353\n\nChange-Id: I03f133e544afa6f93f35ff206cd5869a74d54dfd\n'}, {'number': 2, 'created': '2024-01-04 06:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5623c6793df5b1fa74ada4eac02664377073e43f', 'message': 'feat: add OVN VPNaaS support\n\novn vpnaas is now supported with [1]. Add it to neutron ovn mode\n\n[1] https://review.opendev.org/c/openstack/neutron-vpnaas/+/765353\n\nChange-Id: I03f133e544afa6f93f35ff206cd5869a74d54dfd\n'}, {'number': 3, 'created': '2024-01-05 15:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e2923e691016c155118be7d342dea28567cb45c6', 'message': 'feat: add OVN VPNaaS support\n\novn vpnaas is now supported with [1]. Add it to neutron ovn mode\n\n[1] https://review.opendev.org/c/openstack/neutron-vpnaas/+/765353\n\nChange-Id: I03f133e544afa6f93f35ff206cd5869a74d54dfd\n'}, {'number': 4, 'created': '2024-01-08 16:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/286daccf8c3249b698f00f70d7562cf7c8472075', 'message': 'feat: add OVN VPNaaS support\n\novn vpnaas is now supported with [1]. Add it to neutron ovn mode\n\n[1] https://review.opendev.org/c/openstack/neutron-vpnaas/+/765353\n\nChange-Id: I03f133e544afa6f93f35ff206cd5869a74d54dfd\n'}, {'number': 5, 'created': '2024-01-10 16:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b80fde701ef987cf72adc94db950cc50cfa1baaa', 'message': 'feat: add OVN VPNaaS support\n\novn vpnaas is now supported with [1]. Add it to neutron ovn mode\n\n[1] https://review.opendev.org/c/openstack/neutron-vpnaas/+/765353\n\nChange-Id: I03f133e544afa6f93f35ff206cd5869a74d54dfd\n'}, {'number': 6, 'created': '2024-04-02 12:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f504d206078e63c114fb22fd654a4eda4ff37a25', 'message': 'feat: add OVN VPNaaS support\n\novn vpnaas is now supported with [1]. Add it to neutron ovn mode\n\n[1] https://review.opendev.org/c/openstack/neutron-vpnaas/+/765353\n\nChange-Id: I03f133e544afa6f93f35ff206cd5869a74d54dfd\n'}, {'number': 7, 'created': '2024-05-20 06:22:55.000000000', 'files': ['neutron/templates/bin/_neutron-ovn-vpn-agent.sh.tpl', 'neutron/templates/configmap-bin.yaml', 'neutron/values_overrides/ovn_vpn.yaml', 'neutron/templates/bin/_neutron-ovn-vpn-agent-init.sh.tpl', 'neutron/templates/daemonset-neutron-ovn-vpn-agent.yaml', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/27cfc11310b1a4ef6cdea969d79f599f3a34dc02', 'message': 'feat: add OVN VPNaaS support\n\novn vpnaas is now supported with [1]. Add it to neutron ovn mode\n\n[1] https://review.opendev.org/c/openstack/neutron-vpnaas/+/765353\n\nChange-Id: I03f133e544afa6f93f35ff206cd5869a74d54dfd\n'}]",0,904654,27cfc11310b1a4ef6cdea969d79f599f3a34dc02,28,4,7,12404,,,0,"feat: add OVN VPNaaS support

ovn vpnaas is now supported with [1]. Add it to neutron ovn mode

[1] https://review.opendev.org/c/openstack/neutron-vpnaas/+/765353

Change-Id: I03f133e544afa6f93f35ff206cd5869a74d54dfd
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/54/904654/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/bin/_neutron-ovn-vpn-agent.sh.tpl', 'neutron/templates/configmap-bin.yaml', 'neutron/values_overrides/ovn_vpn.yaml', 'neutron/templates/daemonset-neutron-ovn-vpn-agent.yaml', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml']",6,6468cc37545c3388e3d928d1fd1ba12e2597770c,ovn-neutron-vpnaas," neutron_vpnaas.conf: {{ default ""\""\"""" (include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.neutron_vpnaas | b64enc) }} neutron_ovn_vpn_agent.ini: {{ include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.ovn_vpn_agent | b64enc }}",,356,0
openstack%2Fbifrost~888447,openstack/bifrost,master,I5865c65cae695491524a8828c8abb48393a197a0,Consolidate centos/fedora/redhat required_defaults,MERGED,2023-07-13 09:09:25.000000000,2024-05-20 19:03:06.000000000,2024-05-20 19:02:03.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2023-07-13 09:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0c42da7e818e940001fd33fe60fc00bb798cc46e', 'message': ""Consolidate centos/fedora/redhat required_defaults\n\nThere's very little difference in the package lists. I'm just\nguessing there, but I believe g++ and xml2/xslt devel packages are\nfor working with libvirt, and the python3-selinux either comes\npre-installed or is installed at some earlier point by other\nplaybooks.\n\nChange-Id: I5865c65cae695491524a8828c8abb48393a197a0\n""}, {'number': 2, 'created': '2024-05-20 15:27:55.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_RedHat.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e0a5a7216d74821aee8cc32a8767c790ed731483', 'message': ""Consolidate centos/fedora/redhat required_defaults\n\nThere's very little difference in the package lists. I'm just\nguessing there, but I believe g++ and xml2/xslt devel packages are\nfor working with libvirt, and the python3-selinux either comes\npre-installed or is installed at some earlier point by other\nplaybooks.\n\nChange-Id: I5865c65cae695491524a8828c8abb48393a197a0\n""}]",2,888447,e0a5a7216d74821aee8cc32a8767c790ed731483,13,5,2,25600,,,0,"Consolidate centos/fedora/redhat required_defaults

There's very little difference in the package lists. I'm just
guessing there, but I believe g++ and xml2/xslt devel packages are
for working with libvirt, and the python3-selinux either comes
pre-installed or is installed at some earlier point by other
playbooks.

Change-Id: I5865c65cae695491524a8828c8abb48393a197a0
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/47/888447/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_CentOS.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/required_defaults_RedHat.yml']",3,0c42da7e818e940001fd33fe60fc00bb798cc46e,first_found_vm," - python3-libselinuxtest_vm_emulator: ""/usr/libexec/qemu-kvm""",,2,29
openstack%2Freleases~919916,openstack/releases,master,I8ea3d7ad925c6e316bd3f396a292d468b02b5507,New Dalmatian ovsdbapp release 2.7.1,MERGED,2024-05-17 04:55:11.000000000,2024-05-20 18:39:12.000000000,2024-05-20 18:39:12.000000000,"[{'_account_id': 308}, {'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 04:55:11.000000000', 'files': ['deliverables/dalmatian/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5edb4d176964b9049b342b294b05bc72a3e63ff2', 'message': 'New Dalmatian ovsdbapp release 2.7.1\n\nThe bug fix release is required for the bug\nin below changelog.\n\n$ git log --oneline --no-merges 2.7.0..c7176915b6\n6bac684 (bug/2065701) Add if_exists to lrp_set_options\nba1d1b3 Add pre-commit configuration\n290ab42 reno: Update master for unmaintained/zed\n\nChange-Id: I8ea3d7ad925c6e316bd3f396a292d468b02b5507\n'}]",2,919916,5edb4d176964b9049b342b294b05bc72a3e63ff2,12,9,1,13861,,,0,"New Dalmatian ovsdbapp release 2.7.1

The bug fix release is required for the bug
in below changelog.

$ git log --oneline --no-merges 2.7.0..c7176915b6
6bac684 (bug/2065701) Add if_exists to lrp_set_options
ba1d1b3 Add pre-commit configuration
290ab42 reno: Update master for unmaintained/zed

Change-Id: I8ea3d7ad925c6e316bd3f396a292d468b02b5507
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/919916/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/dalmatian/ovsdbapp.yaml'],1,5edb4d176964b9049b342b294b05bc72a3e63ff2,ovsdbapp-release, - version: 2.7.1 projects: - repo: openstack/ovsdbapp hash: c7176915b65b2b8f1daa8f8b3b90e0d1607c44b2,,4,0
openstack%2Fglance_store~906885,openstack/glance_store,stable/2023.1,Ib4c900e14788c6b581ce277a71c02d7b07369e6a,Increase timeout of glance_store-src-ceph-tempest,MERGED,2024-01-29 04:49:57.000000000,2024-05-20 18:32:42.000000000,2024-05-20 18:30:42.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-29 04:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/fddd45d0528fbbb620fac66afa69718d3f6e67c6', 'message': ""Increase timeout of glance_store-src-ceph-tempest\n\nSince [1] was merged, tempest takes quite long time because of lower\nconcurrency. However it's not feasible to increase the concurrency\nagain because of resource limitation.\n\nThis increases timeout as a short-term solution to unblock gate.\n\n[1] https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/865315\n\nChange-Id: Ib4c900e14788c6b581ce277a71c02d7b07369e6a\n(cherry picked from commit c2e2e62cfa5f29a0f619dc9afa0aad83179533cd)\n""}, {'number': 2, 'created': '2024-01-29 05:49:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/59bd7a530f91369e13489381473ca5e71972f418', 'message': ""Increase timeout of glance_store-src-ceph-tempest\n\nSince [1] was merged, tempest takes quite long time because of lower\nconcurrency. However it's not feasible to increase the concurrency\nagain because of resource limitation.\n\nThis increases timeout as a short-term solution to unblock gate.\n\n[1] https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/865315\n\nChange-Id: Ib4c900e14788c6b581ce277a71c02d7b07369e6a\n(cherry picked from commit c2e2e62cfa5f29a0f619dc9afa0aad83179533cd)\n""}]",0,906885,59bd7a530f91369e13489381473ca5e71972f418,12,3,2,9303,,,0,"Increase timeout of glance_store-src-ceph-tempest

Since [1] was merged, tempest takes quite long time because of lower
concurrency. However it's not feasible to increase the concurrency
again because of resource limitation.

This increases timeout as a short-term solution to unblock gate.

[1] https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/865315

Change-Id: Ib4c900e14788c6b581ce277a71c02d7b07369e6a
(cherry picked from commit c2e2e62cfa5f29a0f619dc9afa0aad83179533cd)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/85/906885/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fddd45d0528fbbb620fac66afa69718d3f6e67c6,,<<<<<<< HEAD (aae819 RBD: Trash image when snapshots prevent deletion) ======= timeout: 10800 >>>>>>> CHANGE (cc5ef3 Increase timeout of glance_store-src-ceph-tempest),,4,0
openstack%2Fneutron-tempest-plugin~919420,openstack/neutron-tempest-plugin,master,Ifbdaf545eff6b13da199716ba0c91ebd35ec2a19,Negative test: set quota lower than resource count,MERGED,2024-05-12 12:33:43.000000000,2024-05-20 18:22:40.000000000,2024-05-20 18:22:40.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29350}, {'_account_id': 31291}, {'_account_id': 34777}, {'_account_id': 36141}]","[{'number': 1, 'created': '2024-05-12 12:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9148997f2d9cb06a7409ca8368a939e3b16f145f', 'message': 'Test set quota lower than existing amount\n\nVerifies feature [1] original reproducer steps.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1936408\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\nRelated-Bug: #2017871\nChange-Id: Ifbdaf545eff6b13da199716ba0c91ebd35ec2a19\n'}, {'number': 2, 'created': '2024-05-12 12:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a5bb72a037af5a464db11359ceaba04717b4585c', 'message': 'Negative test: set quota lower than resource count\n\nVerifies feature [1] original reproducer steps.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1936408\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\nRelated-Bug: #2017871\n\nChange-Id: Ifbdaf545eff6b13da199716ba0c91ebd35ec2a19\n'}, {'number': 3, 'created': '2024-05-12 12:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bf69b07dc348c75ce4799bdcce7cc3f0ff038944', 'message': 'Negative test: set quota lower than resource count\n\nVerifies feature [1] original reproducer steps.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1936408\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\nRelated-Bug: #1936408\n\nChange-Id: Ifbdaf545eff6b13da199716ba0c91ebd35ec2a19\n'}, {'number': 4, 'created': '2024-05-12 14:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3b7cb01cdd8ec7dde74a26361b13b4f421c22b55', 'message': 'Negative test: set quota lower than resource count\n\nVerifies feature [1] original reproducer steps.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1936408\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\nRelated-Bug: #1936408\n\nChange-Id: Ifbdaf545eff6b13da199716ba0c91ebd35ec2a19\n'}, {'number': 5, 'created': '2024-05-12 17:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e4dcd843fe4c3b01929a6c03854998ca8a8dea5f', 'message': 'Negative test: set quota lower than resource count\n\nVerifies feature [1] original reproducer steps.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1936408\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/919443\nRelated-Bug: #1936408\n\nChange-Id: Ifbdaf545eff6b13da199716ba0c91ebd35ec2a19\n'}, {'number': 6, 'created': '2024-05-16 11:44:51.000000000', 'files': ['neutron_tempest_plugin/api/admin/test_quotas_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/52e6cb7d6a9d328772c2effbf34f2d1523bb0d4d', 'message': 'Negative test: set quota lower than resource count\n\nVerifies feature [1] original reproducer steps.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1936408\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/801470\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/919443\nRelated-Bug: #1936408\n\nChange-Id: Ifbdaf545eff6b13da199716ba0c91ebd35ec2a19\n'}]",12,919420,52e6cb7d6a9d328772c2effbf34f2d1523bb0d4d,34,9,6,33341,,,0,"Negative test: set quota lower than resource count

Verifies feature [1] original reproducer steps.

[1] https://bugs.launchpad.net/neutron/+bug/1936408

Depends-On: https://review.opendev.org/c/openstack/neutron/+/801470
Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/919443
Related-Bug: #1936408

Change-Id: Ifbdaf545eff6b13da199716ba0c91ebd35ec2a19
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/20/919420/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/admin/test_quotas_negative.py'],1,9148997f2d9cb06a7409ca8368a939e3b16f145f,test_no_force_quota," @decorators.idempotent_id('9f676a6e-d729-428b-adcd-4de2867c50e6') def test_set_network_quota_lower_than_networks_amount(self): tenant_id = self.create_project()['id'] high_quota = 3 low_quota = 1 new_quotas = {'network': high_quota} self._setup_quotas(tenant_id, **new_quotas) net_args = {'tenant_id': tenant_id} for _ in range(high_quota - 1): net = self.admin_client.create_network(**net_args)['network'] self.addCleanup(self.admin_client.delete_network, net['id']) # TODO(mblue): remove check_limit=True when it is default new_quotas.update({'network': low_quota, 'check_limit': True}) self.assertRaises(lib_exc.BadRequest, self.admin_client.update_quotas, tenant_id, **new_quotas) @decorators.attr(type='negative')",,18,0
openstack%2Fopenstack-ansible-os_manila~919691,openstack/openstack-ansible-os_manila,master,Ibd34b8b8d0a25709c59318d4f5f4c9785746d7e5,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:18:28.000000000,2024-05-20 18:17:42.000000000,2024-05-20 18:15:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/850e1aa9ff64f4c3f221cf67055c1ec782d83474', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: Ibd34b8b8d0a25709c59318d4f5f4c9785746d7e5\n""}, {'number': 2, 'created': '2024-05-17 16:30:34.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/dd58970211f8297b763641941ef8bd46877439c8', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919714\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919702\nChange-Id: Ibd34b8b8d0a25709c59318d4f5f4c9785746d7e5\n""}]",1,919691,dd58970211f8297b763641941ef8bd46877439c8,12,3,2,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919714
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919702
Change-Id: Ibd34b8b8d0a25709c59318d4f5f4c9785746d7e5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/91/919691/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,850e1aa9ff64f4c3f221cf67055c1ec782d83474,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_manila~918131,openstack/openstack-ansible-os_manila,master,Iffffbf0c567f68f6e3e26fc7fce4dd5e2317d4f3,Implement variables to address oslo.messaging improvements,MERGED,2024-05-03 18:38:37.000000000,2024-05-20 18:16:46.000000000,2024-05-20 18:15:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-03 18:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/ec40df5b508751d2123bc6a597408366797e39fa', 'message': 'Implement variables to address oslo.messaging improvements\n\nDuring last release cycle oslo.messaging has landed [1] series of extremely\nuseful changes that are designed to implement modern messaging\ntechniques for rabbitmq quorum queues.\n\nSince these changes are breaking and require queues being re-created,\nit makes total sense to align these with migration to quorum queues by default.\n\n[1] https://review.opendev.org/q/topic:%22bug-2031497%22\n\nChange-Id: Iffffbf0c567f68f6e3e26fc7fce4dd5e2317d4f3\n'}, {'number': 2, 'created': '2024-05-10 18:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/6516542200c4a57791e9696c2915bdffa04a8778', 'message': 'Implement variables to address oslo.messaging improvements\n\nDuring last release cycle oslo.messaging has landed [1] series of extremely\nuseful changes that are designed to implement modern messaging\ntechniques for rabbitmq quorum queues.\n\nSince these changes are breaking and require queues being re-created,\nit makes total sense to align these with migration to quorum queues by default.\n\n[1] https://review.opendev.org/q/topic:%22bug-2031497%22\n\nChange-Id: Iffffbf0c567f68f6e3e26fc7fce4dd5e2317d4f3\n'}, {'number': 3, 'created': '2024-05-16 20:50:33.000000000', 'files': ['templates/manila.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/d23d637fd472eff0c12a547f0778f90715d3f7c1', 'message': 'Implement variables to address oslo.messaging improvements\n\nDuring last release cycle oslo.messaging has landed [1] series of extremely\nuseful changes that are designed to implement modern messaging\ntechniques for rabbitmq quorum queues.\n\nSince these changes are breaking and require queues being re-created,\nit makes total sense to align these with migration to quorum queues by default.\n\n[1] https://review.opendev.org/q/topic:%22bug-2031497%22\n\nChange-Id: Iffffbf0c567f68f6e3e26fc7fce4dd5e2317d4f3\n'}]",0,918131,d23d637fd472eff0c12a547f0778f90715d3f7c1,10,3,3,28619,,,0,"Implement variables to address oslo.messaging improvements

During last release cycle oslo.messaging has landed [1] series of extremely
useful changes that are designed to implement modern messaging
techniques for rabbitmq quorum queues.

Since these changes are breaking and require queues being re-created,
it makes total sense to align these with migration to quorum queues by default.

[1] https://review.opendev.org/q/topic:%22bug-2031497%22

Change-Id: Iffffbf0c567f68f6e3e26fc7fce4dd5e2317d4f3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/31/918131/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/manila.conf.j2', 'defaults/main.yml']",2,ec40df5b508751d2123bc6a597408366797e39fa,osa/messaging_improvements,"manila_oslomsg_rabbit_transient_quorum_queues: ""{{ oslomsg_rabbit_transient_quorum_queues | default(manila_oslomsg_rabbit_quorum_queues) }}"" manila_oslomsg_rabbit_queue_manager: ""{{ oslomsg_rabbit_queue_manager | default(manila_oslomsg_rabbit_quorum_queues) }}"" manila_oslomsg_rabbit_stream_fanout: ""{{ oslomsg_rabbit_stream_fanout | default(manila_oslomsg_rabbit_quorum_queues) }}""",,6,0
openstack%2Fopenstack-ansible-os_manila~918130,openstack/openstack-ansible-os_manila,master,I1bffec218f903ea16cbd06e7abf28b8139024df8,Add variable to globally control notifications enablement,MERGED,2024-05-03 18:34:23.000000000,2024-05-20 18:12:47.000000000,2024-05-20 18:10:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-03 18:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/42350966296b19e48fd311247059845e5363f670', 'message': 'Add variable to globally control notifications enablement\n\nIn order to be able to globally enable notification reporting for all services,\nwithout an need to have ceilometer deployed or bunch of overrides for each\nservice, we add `oslomsg_notify_enabled` variable that aims to control\nbehaviour of enabled notifications.\n\nPresence of ceilometer is still respected by default and being referenced.\n\nPotential usecase are various billing panels that do rely on notifications\nbut do not require presence of Ceilometer.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/914144\nChange-Id: I1bffec218f903ea16cbd06e7abf28b8139024df8\n'}, {'number': 2, 'created': '2024-05-03 18:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/4236665ca587b44fc3619ecac3fff2c14648b4ae', 'message': 'Add variable to globally control notifications enablement\n\nIn order to be able to globally enable notification reporting for all services,\nwithout an need to have ceilometer deployed or bunch of overrides for each\nservice, we add `oslomsg_notify_enabled` variable that aims to control\nbehaviour of enabled notifications.\n\nPresence of ceilometer is still respected by default and being referenced.\n\nPotential usecase are various billing panels that do rely on notifications\nbut do not require presence of Ceilometer.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/914144\nChange-Id: I1bffec218f903ea16cbd06e7abf28b8139024df8\n'}, {'number': 3, 'created': '2024-05-16 20:50:29.000000000', 'files': ['tasks/main.yml', 'templates/manila.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/3a326c054aaf63faaecbc99fc1c5c540f8089910', 'message': 'Add variable to globally control notifications enablement\n\nIn order to be able to globally enable notification reporting for all services,\nwithout an need to have ceilometer deployed or bunch of overrides for each\nservice, we add `oslomsg_notify_enabled` variable that aims to control\nbehaviour of enabled notifications.\n\nPresence of ceilometer is still respected by default and being referenced.\n\nPotential usecase are various billing panels that do rely on notifications\nbut do not require presence of Ceilometer.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/914144\nChange-Id: I1bffec218f903ea16cbd06e7abf28b8139024df8\n'}]",0,918130,3a326c054aaf63faaecbc99fc1c5c540f8089910,10,3,3,28619,,,0,"Add variable to globally control notifications enablement

In order to be able to globally enable notification reporting for all services,
without an need to have ceilometer deployed or bunch of overrides for each
service, we add `oslomsg_notify_enabled` variable that aims to control
behaviour of enabled notifications.

Presence of ceilometer is still respected by default and being referenced.

Potential usecase are various billing panels that do rely on notifications
but do not require presence of Ceilometer.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/914144
Change-Id: I1bffec218f903ea16cbd06e7abf28b8139024df8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/30/918130/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/manila.conf.j2', 'defaults/main.yml']",3,42350966296b19e48fd311247059845e5363f670,osa/messaging_improvements,"manila_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""manila_oslomsg_notify_configure: ""{{ oslomsg_notify_configure | default(manila_ceilometer_enabled) }}""",manila_ceilometer_enabled: False,4,2
openstack%2Fopenstack-ansible-os_manila~898914,openstack/openstack-ansible-os_manila,master,I02302332819be71346a256a86ae58fed3892279a,Add quorum queues support for service,MERGED,2023-10-20 09:31:22.000000000,2024-05-20 18:12:01.000000000,2024-05-20 18:10:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-10-20 09:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/fab3ce2039a0470abd5817d952d1e9c7e06bf9a7', 'message': ""Add quorum queues support for service\n\nThis change implements and enables by default quorum support\nfor rabbitmq as well as providing default variables to globally tune\nit's behaviour.\n\nIn order to ensure upgrade path and ability to switch back to HA queues\nwe change vhost names with removing leading `/`, as enabling quorum\nrequires to remove exchange which is tricky thing to do with running\nservices.\n\nChange-Id: I02302332819be71346a256a86ae58fed3892279a\n""}, {'number': 2, 'created': '2023-10-20 12:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/c93de07470bfab946b3e3ae341a54b879c212970', 'message': ""Add quorum queues support for service\n\nThis change implements and enables by default quorum support\nfor rabbitmq as well as providing default variables to globally tune\nit's behaviour.\n\nIn order to ensure upgrade path and ability to switch back to HA queues\nwe change vhost names with removing leading `/`, as enabling quorum\nrequires to remove exchange which is tricky thing to do with running\nservices.\n\nChange-Id: I02302332819be71346a256a86ae58fed3892279a\n""}, {'number': 3, 'created': '2023-11-28 14:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/b4a2f9b5eccedaf37d6f3dc549e79c611749f98a', 'message': ""Add quorum queues support for service\n\nThis change implements and enables by default quorum support\nfor rabbitmq as well as providing default variables to globally tune\nit's behaviour.\n\nIn order to ensure upgrade path and ability to switch back to HA queues\nwe change vhost names with removing leading `/`, as enabling quorum\nrequires to remove exchange which is tricky thing to do with running\nservices.\n\nDepends-On:  https://review.opendev.org/c/openstack/openstack-ansible/+/902059\nChange-Id: I02302332819be71346a256a86ae58fed3892279a\n""}, {'number': 4, 'created': '2024-05-14 16:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/8cafe7d58f69f4c09094a55affa2458eefab23bc', 'message': ""Add quorum queues support for service\n\nThis change implements and enables by default quorum support\nfor rabbitmq as well as providing default variables to globally tune\nit's behaviour.\n\nIn order to ensure upgrade path and ability to switch back to HA queues\nwe change vhost names with removing leading `/`, as enabling quorum\nrequires to remove exchange which is tricky thing to do with running\nservices.\n\nChange-Id: I02302332819be71346a256a86ae58fed3892279a\n""}, {'number': 5, 'created': '2024-05-15 10:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/d616bb6f340a6843081a7340083d11b9c9975d83', 'message': ""Add quorum queues support for service\n\nThis change implements and enables by default quorum support\nfor rabbitmq as well as providing default variables to globally tune\nit's behaviour.\n\nIn order to ensure upgrade path and ability to switch back to HA queues\nwe change vhost names with removing leading `/`, as enabling quorum\nrequires to remove exchange which is tricky thing to do with running\nservices.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919714\nChange-Id: I02302332819be71346a256a86ae58fed3892279a\n""}, {'number': 6, 'created': '2024-05-16 13:22:21.000000000', 'files': ['templates/manila.conf.j2', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/9adc5586ad716f2075916f36cbd8f73d95d39c70', 'message': ""Add quorum queues support for service\n\nThis change implements and enables by default quorum support\nfor rabbitmq as well as providing default variables to globally tune\nit's behaviour.\n\nIn order to ensure upgrade path and ability to switch back to HA queues\nwe change vhost names with removing leading `/`, as enabling quorum\nrequires to remove exchange which is tricky thing to do with running\nservices.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919714\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919702\nChange-Id: I02302332819be71346a256a86ae58fed3892279a\n""}]",5,898914,9adc5586ad716f2075916f36cbd8f73d95d39c70,25,3,6,28619,,,0,"Add quorum queues support for service

This change implements and enables by default quorum support
for rabbitmq as well as providing default variables to globally tune
it's behaviour.

In order to ensure upgrade path and ability to switch back to HA queues
we change vhost names with removing leading `/`, as enabling quorum
requires to remove exchange which is tricky thing to do with running
services.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919714
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919702
Change-Id: I02302332819be71346a256a86ae58fed3892279a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/14/898914/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/manila.conf.j2', 'defaults/main.yml', 'vars/main.yml']",3,fab3ce2039a0470abd5817d952d1e9c7e06bf9a7,osa/quorum_queues,"_manila_oslomsg_rpc_vhost_conf: >- {{ (manila_oslomsg_rpc_vhost is string) | ternary( manila_oslomsg_rpc_vhost, manila_oslomsg_rpc_vhost | selectattr('state', 'eq', 'present') | map(attribute='name') | first) }} _manila_oslomsg_notify_vhost_conf: >- {{ (manila_oslomsg_notify_vhost is string) | ternary( manila_oslomsg_notify_vhost, manila_oslomsg_notify_vhost | selectattr('state', 'eq', 'present') | map(attribute='name') | first) }} ",,30,3
openstack%2Fopenstack-ansible-os_manila~918129,openstack/openstack-ansible-os_manila,master,Ifbda391bf0c91a51ecea5e78ba7311e3d64c8ffc,Add service policies defenition,MERGED,2024-05-03 18:32:19.000000000,2024-05-20 18:10:56.000000000,2024-05-20 18:10:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-03 18:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/479b0ceb353c187fdb24eb48735688d7ac6fb728', 'message': ""Add service policies defenition\n\nIn order to allow definition of policies per service, we need to add variables\nto service roles, that will be passed to openstack.osa.mq_setup.\n\nCurrently this can be handled by leveraging group_vars and overriding `oslomsg_rpc_policies` as a whole, but it's not obvious and\ncan be non-trivial for some groups which are co-locating multiple services\nor in case of metal deployments.\n\nChange-Id: Ifbda391bf0c91a51ecea5e78ba7311e3d64c8ffc\n""}, {'number': 2, 'created': '2024-05-03 18:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/d3a56a8321efc0cc7cc90a1ba4f6a09b9f819809', 'message': ""Add service policies defenition\n\nIn order to allow definition of policies per service, we need to add variables\nto service roles, that will be passed to openstack.osa.mq_setup.\n\nCurrently this can be handled by leveraging group_vars and overriding `oslomsg_rpc_policies` as a whole, but it's not obvious and\ncan be non-trivial for some groups which are co-locating multiple services\nor in case of metal deployments.\n\nChange-Id: Ifbda391bf0c91a51ecea5e78ba7311e3d64c8ffc\n""}, {'number': 3, 'created': '2024-05-16 20:50:16.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/fa67e0e01d1d7c780dbed1bb249f0e0251daeb9b', 'message': ""Add service policies defenition\n\nIn order to allow definition of policies per service, we need to add variables\nto service roles, that will be passed to openstack.osa.mq_setup.\n\nCurrently this can be handled by leveraging group_vars and overriding `oslomsg_rpc_policies` as a whole, but it's not obvious and\ncan be non-trivial for some groups which are co-locating multiple services\nor in case of metal deployments.\n\nChange-Id: Ifbda391bf0c91a51ecea5e78ba7311e3d64c8ffc\n""}]",0,918129,fa67e0e01d1d7c780dbed1bb249f0e0251daeb9b,9,3,3,28619,,,0,"Add service policies defenition

In order to allow definition of policies per service, we need to add variables
to service roles, that will be passed to openstack.osa.mq_setup.

Currently this can be handled by leveraging group_vars and overriding `oslomsg_rpc_policies` as a whole, but it's not obvious and
can be non-trivial for some groups which are co-locating multiple services
or in case of metal deployments.

Change-Id: Ifbda391bf0c91a51ecea5e78ba7311e3d64c8ffc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/29/918129/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,479b0ceb353c187fdb24eb48735688d7ac6fb728,osa/messaging_improvements,manila_oslomsg_rpc_policies: []manila_oslomsg_notify_policies: [],,4,0
openstack%2Foslo.middleware~920055,openstack/oslo.middleware,master,Ia8a54cbd38f2faf70bbe91032da36448f2fa2de7,Add a enabled by files healthcheck plugin,NEW,2024-05-20 16:07:28.000000000,2024-05-20 17:38:57.000000000,,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 16:07:28.000000000', 'files': ['oslo_middleware/healthcheck/enable_by_files.py', 'oslo_middleware/tests/test_entry_points.py', 'doc/source/reference/healthcheck_plugins.rst', 'oslo_middleware/tests/test_healthcheck.py', 'releasenotes/notes/enable-by-files-healthcheck-29938e3d6b8e5730.yaml', 'setup.cfg', 'oslo_middleware/opts.py', 'oslo_middleware/healthcheck/opts.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/87148d08faddbc4c2accd5b2711023b720aa9251', 'message': 'Add a enabled by files healthcheck plugin\n\nImplements: blueprint enable-by-files-healthcheck\nChange-Id: Ia8a54cbd38f2faf70bbe91032da36448f2fa2de7\n'}]",0,920055,87148d08faddbc4c2accd5b2711023b720aa9251,2,4,1,9303,,,0,"Add a enabled by files healthcheck plugin

Implements: blueprint enable-by-files-healthcheck
Change-Id: Ia8a54cbd38f2faf70bbe91032da36448f2fa2de7
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/55/920055/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_middleware/healthcheck/enable_by_files.py', 'oslo_middleware/tests/test_entry_points.py', 'doc/source/reference/healthcheck_plugins.rst', 'oslo_middleware/tests/test_healthcheck.py', 'releasenotes/notes/enable-by-files-healthcheck-29938e3d6b8e5730.yaml', 'setup.cfg', 'oslo_middleware/opts.py', 'oslo_middleware/healthcheck/opts.py']",8,87148d08faddbc4c2accd5b2711023b720aa9251,healthcheck/enable_by_files," ENABLE_BY_FILES_OPTS = [ cfg.ListOpt('enable_by_file_paths', default=[], help='Check the presence of a file. Used by ' 'EnableByFilesHealthcheck plugin.'), ]",,147,2
openstack%2Fopenstack-ansible~919972,openstack/openstack-ansible,master,Ib3dc0d7b16675fe09aa1815bb3129c18806a4a1d,Unfreeze roles after Caracal Beta release,MERGED,2024-05-17 16:29:27.000000000,2024-05-20 17:22:28.000000000,2024-05-20 17:20:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2024-05-17 16:29:27.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/719f9b4eb7346a4f6fa1e73bf7d862933a81505e', 'message': 'Unfreeze roles after Caracal Beta release\n\nChange-Id: Ib3dc0d7b16675fe09aa1815bb3129c18806a4a1d\n'}]",0,919972,719f9b4eb7346a4f6fa1e73bf7d862933a81505e,8,3,1,28619,,,0,"Unfreeze roles after Caracal Beta release

Change-Id: Ib3dc0d7b16675fe09aa1815bb3129c18806a4a1d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/72/919972/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,719f9b4eb7346a4f6fa1e73bf7d862933a81505e,bump_osa, version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: stable-7.0 version: master version: master version: master version: master version: master version: master version: master version: master, version: 510a0778a7172c047486f919b93b77e2a6671d8d version: b7b2134b9db6fdeac7dcdde3c42f2329616acf5e version: 87a3d651cdaf90ef972e0063f4ada06329773206 version: 33f8ad519f64d28f410e856aa129060e3a80f27c version: ed8eeba8d3bd3b97d0b2457f4fcd46392062bb03 version: a73191c2e49cc7ce1c4a17fd90ef460c76439e94 version: 51ce76824302b1397231c5c4851da39dbde41162 version: 56d69ce9e86a3983999366a189fe97353943af3b version: 5838d27dab61c4db1386b1564a8dfb0b66bec94b version: a3cf1675c39ade915504e642cd540b6b9e34ffd8 version: 429dfbea39f0695f072a7dc339e3c772cc39df7d version: a4fa93cf18d25b36a49c33224fc31d8434cd2be9 version: e89e3b34f1bb7f152c9cde5221f45dfdf503ef22 version: e58eed434c672315cad46215e93c22bc9209a959 version: c49eac3d3b3a06935ce51a98658045229d7bef2e version: 962229f2c6b2cf70b58e9513bb4d444e5866f53e version: 5d92312742b0ac79d9c2d37cfba04fb65c72ae89 version: 58b9deb05cc59af5e2fb4c3ce40df3f483b81ba8 version: f98219872599a214dbb3a412f3ed72a13c882523 version: 9e8ec75b9ec31f6d469a68dda56915052cbc472d version: 35aa82224627d0245cab0f5bb51feb0f9f48b825 version: 7e2a4648486804fd95babbd4fd14696f4f5a5cf1 version: c876d93858995028d6181875b15b87ec80c247da version: cc7340b47e1283f2fc166f5fb9d012e5bde722a8 version: 993ab16cab1c200fe49250c9bb41a867bb3dd59a version: ac6213088f5c498d5c23c2d1cdba02c052ee0661 version: 2dc162abf24781240b685906711211b41fa97afe version: 9b16df267ad14fb083f792e870be3eb5d778cbb6 version: 0364055cf0c475da3434b3e67fe6b2b27a18430c version: 4cb5f70e4e9eb61036582b43436dcd0684124105 version: ae20d2d9fd2ce4a6d8e3dc88537cbdd3a8299fce version: 6a89e0a9263712b2c4a3ceafbc2892ad21ad5dd2 version: 74242e58cb6d06c2f43be7b934c0ec1739891c35 version: e44c99e64a4bf07ad0cb1d5e07e476274ef042bb version: 66dffb7f4f896246d563e6b884e2938967920ecb version: 9388087f7e363c4cc63034fbc0e753b8e986294d version: f629a968ac8bbe8d0f7a122bbbc8cc122050b605 version: 05b8517bf83cb5fa4bbe6c660cf45d9b17eb0849 version: 37097eacb3a0da2e9a8fe08474998a6e99c5ef29 version: cd63a8522e0e94f64957d4876afc45a7bd6a5e93 version: e2cad6df4c0fbcffe92cde91b6c33dede3c32f0f version: 1c5b5990da9293e8c28d7fbbe69bf6f674f8bf00 version: ce5c559526e9f799b6065fe6489f61790cdbbb0c version: 52aaea359aa8d14d1589f57035027a59eaba237f version: de3b061e954d3259e0a48e2e55878f598ef3a9c1 version: 26abb238925dec80707ef7e4b869b3c5e48d4f7b version: f7f694b3dd4361e364dccb4ce94e6510727fca2f version: 548a16fe4f184a3ea0e624d4861e5da968c0552c version: 8218da4e0b0ea14aceae091782c83c588cc8139e version: 25fbe656a4e95ce9b3f7e3183cfd4486d853fe0d version: 6869e5fa2047fd3141938d72f6fa1f1206bd75ac version: 19a276e6195399ea117e72afeba050a41db106d1 version: 366222725e53de3a293275ecd44f0c0ede9cc3e9 version: 8492120e7fea5756a28ed26e0db5f7cbf563ffce version: 30b72fcdd9999a02b8661233e78897358a9d4a17 version: be98c723945a27936e28a8ab9a216df179e52ca5,56,56
openstack%2Fopenstack-ansible-rabbitmq_server~919821,openstack/openstack-ansible-rabbitmq_server,master,Iddc69e81e1677efcd1930afb4dc3113596e9537b,Update rabbitmq/erlang to latest versions,MERGED,2024-05-16 11:34:46.000000000,2024-05-20 17:10:00.000000000,2024-05-20 17:08:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-16 11:34:46.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/7e25ad5f6ba937baf45f7a8caa8b10431d1d37d2', 'message': 'Update rabbitmq/erlang to latest versions\n\nChange-Id: Iddc69e81e1677efcd1930afb4dc3113596e9537b\n'}]",1,919821,7e25ad5f6ba937baf45f7a8caa8b10431d1d37d2,10,3,1,28619,,,0,"Update rabbitmq/erlang to latest versions

Change-Id: Iddc69e81e1677efcd1930afb4dc3113596e9537b
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/21/919821/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,7e25ad5f6ba937baf45f7a8caa8b10431d1d37d2,,"_rabbitmq_package_version: ""3.12.14-1""_rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:26.2.*-1', '1:24.*') }}""","_rabbitmq_package_version: ""3.12.4-1""_rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:25.3.2.*-1', '1:22.*') }}""",4,4
openstack%2Fopenstack-ansible-os_tempest~919489,openstack/openstack-ansible-os_tempest,master,I359c7caafc515ff2db0989e04fb0bc33ab843ba8,Add ability to make public network shared,MERGED,2024-05-13 09:43:16.000000000,2024-05-20 16:29:00.000000000,2024-05-20 16:27:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-13 09:43:16.000000000', 'files': ['tasks/tempest_resources.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a2186f4ab972368cfa311e452a6c7659bc93e68f', 'message': 'Add ability to make public network shared\n\nIn some cases it might be required to have shared network for tempest\ntest. A good example might be trove test that assume having that.\n\nChange-Id: I359c7caafc515ff2db0989e04fb0bc33ab843ba8\n'}]",1,919489,a2186f4ab972368cfa311e452a6c7659bc93e68f,10,3,1,28619,,,0,"Add ability to make public network shared

In some cases it might be required to have shared network for tempest
test. A good example might be trove test that assume having that.

Change-Id: I359c7caafc515ff2db0989e04fb0bc33ab843ba8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/89/919489/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_resources.yml', 'defaults/main.yml']",2,a2186f4ab972368cfa311e452a6c7659bc93e68f,,tempest_public_net_shared: False,,2,0
openstack%2Fopenstack-ansible~919599,openstack/openstack-ansible,master,I89e1e58ac9ebf439000d272badf0867ebd81e488,Do not fail on NotImplemented tests for OVN Octavia,MERGED,2024-05-14 15:40:39.000000000,2024-05-20 16:28:15.000000000,2024-05-20 16:26:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-14 15:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9cf312dfa50778a5b491cec621bd2ae06a0fbc01', 'message': 'Do not fail on NotImplemented tests for OVN Octavia\n\nChange-Id: I89e1e58ac9ebf439000d272badf0867ebd81e488\n'}, {'number': 2, 'created': '2024-05-20 11:06:32.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ebbb82db2a426097d921ef5d7aa635f9f33a8803', 'message': 'Do not fail on NotImplemented tests for OVN Octavia\n\nChange-Id: I89e1e58ac9ebf439000d272badf0867ebd81e488\n'}]",0,919599,ebbb82db2a426097d921ef5d7aa635f9f33a8803,13,4,2,28619,,,0,"Do not fail on NotImplemented tests for OVN Octavia

Change-Id: I89e1e58ac9ebf439000d272badf0867ebd81e488
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/919599/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'],1,9cf312dfa50778a5b491cec621bd2ae06a0fbc01,," loadbalancer-feature-enabled: not_implemented_is_error: ""{{ not ('ovnprovider' in bootstrap_host_scenarios_expanded) }}""",,2,0
openstack%2Fmanila~917154,openstack/manila,master,I14db582eec6db25ea5437675f8207dcf94228b25,api: Add schemas for resource_locks,MERGED,2024-04-26 15:09:42.000000000,2024-05-20 16:18:45.000000000,2024-05-20 16:17:24.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30407}]","[{'number': 1, 'created': '2024-04-26 15:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5be706a4bcd54dab326a3a83b7d73ea0f2eeb89e', 'message': 'api: Add schemas for resource_locks\n\nThis is a mostly complete example showing request body, request query\nstring and response body schemas in action. The only thing not included\nyet is descriptions for fields, which is still being worked on.\n\nChange-Id: I14db582eec6db25ea5437675f8207dcf94228b25\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-04-26 15:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9eb7a62d7d7c10fd37695d5e6333aa569f2b347d', 'message': 'api: Add schemas for resource_locks\n\nThis is a mostly complete example showing request body, request query\nstring and response body schemas in action. The only thing not included\nyet is descriptions for fields, which is still being worked on.\n\nChange-Id: I14db582eec6db25ea5437675f8207dcf94228b25\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-04-30 09:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fe533670132ca9c9ce882a5fbac7517784eb4a33', 'message': 'api: Add schemas for resource_locks\n\nThis is a mostly complete example showing request body, request query\nstring and response body schemas in action. The only thing not included\nyet is descriptions for fields, which is still being worked on.\n\nChange-Id: I14db582eec6db25ea5437675f8207dcf94228b25\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2024-05-01 13:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6e416b57e2d7144ebf8b32029f8279173885c9b7', 'message': 'api: Add schemas for resource_locks\n\nThis is a mostly complete example showing request body, request query\nstring and response body schemas in action. The only thing not included\nyet is descriptions for fields, which is still being worked on.\n\nChange-Id: I14db582eec6db25ea5437675f8207dcf94228b25\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2024-05-01 13:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8625721e71dfdfc46b9d4b3130a20762718a7285', 'message': 'api: Add schemas for resource_locks\n\nThis is a mostly complete example showing request body, request query\nstring and response body schemas in action. The only thing not included\nyet is descriptions for fields, which is still being worked on.\n\nChange-Id: I14db582eec6db25ea5437675f8207dcf94228b25\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2024-05-13 14:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3c33245954eb52f686d05e93356768e862aa2b24', 'message': 'api: Add schemas for resource_locks\n\nThis is a mostly complete example showing request body, request query\nstring and response body schemas in action. The only thing not included\nyet is descriptions for fields, which is still being worked on.\n\nChange-Id: I14db582eec6db25ea5437675f8207dcf94228b25\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartially-implements: bp json-schema-validation\n'}, {'number': 7, 'created': '2024-05-13 15:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3423cd03a9fcd68e475209ad857aac40955baa30', 'message': 'api: Add schemas for resource_locks\n\nThis is a mostly complete example showing request body, request query\nstring and response body schemas in action. The only thing not included\nyet is descriptions for fields, which is still being worked on.\n\nChange-Id: I14db582eec6db25ea5437675f8207dcf94228b25\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartially-implements: bp json-schema-validation\n'}, {'number': 8, 'created': '2024-05-15 15:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cf65885d44834dbec7cba31e913c1b07a1908ffa', 'message': 'api: Add schemas for resource_locks\n\nThis is a mostly complete example showing request body, request query\nstring and response body schemas in action. The only thing not included\nyet is descriptions for fields, which is still being worked on.\n\nChange-Id: I14db582eec6db25ea5437675f8207dcf94228b25\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartially-implements: bp json-schema-validation\n'}, {'number': 9, 'created': '2024-05-17 21:16:51.000000000', 'files': ['manila/api/validation/parameter_types.py', 'manila/api/validation/response_types.py', 'manila/api/schemas/__init__.py', 'manila/api/v2/resource_locks.py', 'manila/tests/api/v2/test_resource_locks.py', 'manila/common/constants.py', 'manila/api/schemas/resource_locks.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9be7243e70dd5a93a09577920e3ce1c18c92df31', 'message': 'api: Add schemas for resource_locks\n\nThis is a mostly complete example showing request body, request query\nstring and response body schemas in action. The only thing not included\nyet is descriptions for fields, which is still being worked on.\n\nChange-Id: I14db582eec6db25ea5437675f8207dcf94228b25\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartially-implements: bp json-schema-validation\n'}]",22,917154,9be7243e70dd5a93a09577920e3ce1c18c92df31,59,3,9,15334,,,0,"api: Add schemas for resource_locks

This is a mostly complete example showing request body, request query
string and response body schemas in action. The only thing not included
yet is descriptions for fields, which is still being worked on.

Change-Id: I14db582eec6db25ea5437675f8207dcf94228b25
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Partially-implements: bp json-schema-validation
",git fetch https://review.opendev.org/openstack/manila refs/changes/54/917154/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/validation/parameter_types.py', 'manila/api/validation/response_types.py', 'manila/api/schemas/__init__.py', 'manila/api/v2/resource_locks.py', 'manila/tests/api/v2/test_resource_locks.py', 'manila/common/constants.py', 'manila/api/schemas/resource_locks.py']",7,5be706a4bcd54dab326a3a83b7d73ea0f2eeb89e,bp/json-schema-validation,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_config import cfg from manila.api.validation import parameter_types from manila.api.validation import response_types from manila.common import constants CONF = cfg.CONF # TODO(stephenfin): Reject additional properties in a future microversion create_request_body = { 'type': 'object', 'properties': { 'resource_lock': { 'type': 'object', 'properties': { 'resource_id': { 'type': 'string', 'format': 'uuid', }, 'lock_reason': { 'type': ['string', 'null'], 'maxLength': 1023, }, 'resource_type': { 'type': ['string', 'null'], 'enum': constants.RESOURCE_LOCK_RESOURCE_TYPES + (None,), 'default': constants.SHARE_RESOURCE_TYPE, }, 'resource_action': { 'type': ['string', 'null'], 'enum': constants.RESOURCE_LOCK_RESOURCE_ACTIONS + (None,), 'default': constants.RESOURCE_ACTION_DELETE, }, }, 'required': ['resource_id'], 'additionalProperties': False, }, }, 'required': ['resource_lock'], 'additionalProperties': True, } update_request_body = { 'type': 'object', 'properties': { 'resource_lock': { 'type': 'object', 'properties': { 'resource_action': { 'type': ['string', 'null'], 'const': constants.RESOURCE_ACTION_DELETE, }, 'lock_reason': { 'type': ['string', 'null'], 'maxLength': 1023, }, }, 'additionalProperties': False, }, }, 'required': ['resource_lock'], 'additionalProperties': True, } index_request_query = { 'type': 'object', 'properties': { 'limit': parameter_types.multi_params( parameter_types.non_negative_integer ), 'marker': parameter_types.multi_params({ 'type': ['string'], }), 'offset': parameter_types.multi_params( parameter_types.non_negative_integer ), 'sort_key': parameter_types.multi_params({ 'type': 'string', 'default': 'created_at', }), # TODO(stephenfin): Make this an enum of ['asc', 'desc'] 'sort_dir': parameter_types.multi_params({ 'type': 'string', 'default': 'desc', }), 'with_count': parameter_types.multi_params(parameter_types.boolean), 'created_since': parameter_types.multi_params({ 'type': 'string', 'format': 'date-time', }), 'created_before': parameter_types.multi_params({ 'type': 'string', 'format': 'date-time', }), }, # TODO(stephenfin): Exclude additional query string parameters in a future # microversion 'additionalProperties': True, } show_request_query = { 'type': 'object', 'properties': {}, # TODO(stephenfin): Exclude additional query string parameters in a future # microversion 'additionalProperties': True, } _resource_lock_response = { 'type': 'object', 'properties': { 'id': { 'type': 'string', 'format': 'uuid', }, 'user_id': { 'type': 'string', 'format': 'uuid', }, 'project_id': { 'type': 'string', 'format': 'uuid', }, 'lock_context': { 'type': 'string', }, 'resource_type': { 'type': 'string', 'enum': constants.RESOURCE_LOCK_RESOURCE_TYPES, }, 'resource_id': { 'type': 'string', 'format': 'uuid', }, 'resource_action': { 'type': 'string', 'enum': constants.RESOURCE_LOCK_RESOURCE_ACTIONS, }, 'lock_reason': { 'type': ['string', 'null'], }, 'created_at': { 'type': 'string', 'format': 'date-time', }, 'updated_at': { 'type': 'string', 'format': 'date-time', }, 'links': response_types.links, }, } create_response_body = { 'type': 'object', 'properties': { 'resource_lock': _resource_lock_response, }, 'required': ['resource_lock'], 'additionalProperties': False, } index_response_body = { 'type': 'object', 'properties': { 'resource_locks': { 'type': 'array', 'items': _resource_lock_response, }, 'count': { 'type': 'integer', }, 'resource_locks_links': response_types.collection_links, }, 'required': ['resource_locks'], 'additionalProperties': False, } show_response_body = { 'type': 'object', 'properties': { 'resource_lock': _resource_lock_response, }, 'required': ['resource_lock'], 'additionalProperties': False, } update_response_body = { 'type': 'object', 'properties': { 'resource_lock': _resource_lock_response, }, 'required': ['resource_lock'], 'additionalProperties': False, } delete_response_body = { 'type': 'null', } ",,319,9
openstack%2Fopenstack-ansible-os_cinder~920014,openstack/openstack-ansible-os_cinder,master,Ic1e190fc86bd3b6fd2cc771273e28b5bb095a322,Allow to skip volume type management by role,MERGED,2024-05-20 09:08:36.000000000,2024-05-20 16:13:38.000000000,2024-05-20 16:11:59.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2024-05-20 09:08:36.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/allow_to_skip_volume_types-8698ec60660a0510.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/ddddfde34d0cee46d2261eee638ab6589a1fd52c', 'message': 'Allow to skip volume type management by role\n\nRight now it is not possible to avoid creation of a default volume type\nwhich will have the same name as a backend. In case operator want to\nrename volume type or have a different name - it will not be possible\nas of today.\n\nWhile we should migrate to using openstack_resources role for managing\nof QoS and volume_types [1], the patch/modules are not ready and will\nnot be backportable anyway.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/906372\n\nChange-Id: Ic1e190fc86bd3b6fd2cc771273e28b5bb095a322\n'}]",0,920014,ddddfde34d0cee46d2261eee638ab6589a1fd52c,9,4,1,28619,,,0,"Allow to skip volume type management by role

Right now it is not possible to avoid creation of a default volume type
which will have the same name as a backend. In case operator want to
rename volume type or have a different name - it will not be possible
as of today.

While we should migrate to using openstack_resources role for managing
of QoS and volume_types [1], the patch/modules are not ready and will
not be backportable anyway.

[1] https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/906372

Change-Id: Ic1e190fc86bd3b6fd2cc771273e28b5bb095a322
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/14/920014/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/allow_to_skip_volume_types-8698ec60660a0510.yaml', 'defaults/main.yml']",3,ddddfde34d0cee46d2261eee638ab6589a1fd52c,,cinder_manage_volume_types: True ,,13,1
openstack%2Fswift~918142,openstack/swift,master,I14843b755dea9ad8a9871087b6493edc9f80d0bb,dnm: verify test failure on py2,ABANDONED,2024-05-03 20:09:56.000000000,2024-05-20 16:13:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-03 20:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3a963ad032155bee83f182bd1e43d5024f40b0cb', 'message': 'dnm: verify test failure on py2\n\nChange-Id: I14843b755dea9ad8a9871087b6493edc9f80d0bb\n'}, {'number': 2, 'created': '2024-05-03 20:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/506de6925e3b9a85e075d1c2d9227c1fb1598624', 'message': 'dnm: verify test failure on py2\n\nChange-Id: I14843b755dea9ad8a9871087b6493edc9f80d0bb\n'}, {'number': 3, 'created': '2024-05-03 21:22:03.000000000', 'files': ['.zuul.yaml', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2f3246f061e072842b207ff2c631aaade19229d6', 'message': 'dnm: verify test failure on py2\n\nChange-Id: I14843b755dea9ad8a9871087b6493edc9f80d0bb\n'}]",2,918142,2f3246f061e072842b207ff2c631aaade19229d6,10,1,3,15343,,,0,"dnm: verify test failure on py2

Change-Id: I14843b755dea9ad8a9871087b6493edc9f80d0bb
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/918142/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'swift/container/backend.py']",2,3a963ad032155bee83f182bd1e43d5024f40b0cb,db-insertion-order, to_add = {},import collections to_add = collections.OrderedDict(),1,124
openstack%2Fglance~919666,openstack/glance,master,I23a5dfc240f3d3ee70670c92c8b59ef98ae63462,[PoC] HealthCheck middleware to check file path,ABANDONED,2024-05-15 06:39:30.000000000,2024-05-20 16:08:10.000000000,,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 06:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e318e652eae43ce6ed544f8a5dd31781c3c82a8b', 'message': '[PoC] HealthCheck middleware to check mountpath\n\nChange-Id: I23a5dfc240f3d3ee70670c92c8b59ef98ae63462\n'}, {'number': 2, 'created': '2024-05-17 06:15:40.000000000', 'files': ['glance/api/middleware/healthcheck.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance/commit/b509c9f31fbdade3d8251aa8ebd3e78bf17b9520', 'message': '[PoC] HealthCheck middleware to check file path\n\nChange-Id: I23a5dfc240f3d3ee70670c92c8b59ef98ae63462\n'}]",18,919666,b509c9f31fbdade3d8251aa8ebd3e78bf17b9520,15,3,2,9303,,,0,"[PoC] HealthCheck middleware to check file path

Change-Id: I23a5dfc240f3d3ee70670c92c8b59ef98ae63462
",git fetch https://review.opendev.org/openstack/glance refs/changes/66/919666/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/middleware/healthcheck.py', 'setup.cfg']",2,e318e652eae43ce6ed544f8a5dd31781c3c82a8b,poc-healthcheck,oslo.middleware.healthcheck = mount_path = glance.api.middleware.healthcheck:MountPathHealthCheck,,59,0
openstack%2Fopenstack-ansible~919702,openstack/openstack-ansible,master,I43b7f783874f5e24028b33067b65bb19c3c1a94a,Update cirros image for manila tempest,MERGED,2024-05-15 09:48:13.000000000,2024-05-20 16:06:10.000000000,2024-05-20 16:04:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 34411}]","[{'number': 1, 'created': '2024-05-15 09:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21b52e502f40939ed223035158153f7d139870ca', 'message': 'Update cirros image for manila tempest\n\nFormat of cirros image defenition is incompatible with\nopenstack_resources role, which makes tempest step fail.\n\nWe update cirros image version along with alinging expected SHA format.\n\nChange-Id: I43b7f783874f5e24028b33067b65bb19c3c1a94a\n'}, {'number': 2, 'created': '2024-05-15 15:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/043212a980c43c6019bcf74106a3a4e950012388', 'message': 'Update cirros image for manila tempest\n\nFormat of cirros image defenition is incompatible with\nopenstack_resources role, which makes tempest step fail.\n\nWe update cirros image version along with alinging expected SHA format.\n\nChange-Id: I43b7f783874f5e24028b33067b65bb19c3c1a94a\n'}, {'number': 3, 'created': '2024-05-16 13:21:58.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/743c6b87fe03cc236269f812f6c7b2e1fad79e9b', 'message': 'Update cirros image for manila tempest\n\nFormat of cirros image defenition is incompatible with\nopenstack_resources role, which makes tempest step fail.\n\nWe update cirros image version along with alinging expected SHA format.\n\nChange-Id: I43b7f783874f5e24028b33067b65bb19c3c1a94a\n'}]",3,919702,743c6b87fe03cc236269f812f6c7b2e1fad79e9b,20,5,3,28619,,,0,"Update cirros image for manila tempest

Format of cirros image defenition is incompatible with
openstack_resources role, which makes tempest step fail.

We update cirros image version along with alinging expected SHA format.

Change-Id: I43b7f783874f5e24028b33067b65bb19c3c1a94a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/919702/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'],1,21b52e502f40939ed223035158153f7d139870ca,," - url: ""https://download.cirros-cloud.net/0.6.2/cirros-0.6.2-x86_64-disk.img"" checksum: ""c8fc807773e5354afe61636071771906"""," - url: ""https://download.cirros-cloud.net/0.5.1/cirros-0.5.1-x86_64-disk.img"" checksum: ""sha256:c4110030e2edf06db87f5b6e4efc27300977683d53f040996d15dcc0ad49bb5a""",2,2
openstack%2Fpuppet-openstack-integration~920009,openstack/puppet-openstack-integration,stable/2023.2,I4cb520c7250d0920f677c6411a493859bbf2a0ae,Ubuntu: Switch back to official repository,MERGED,2024-05-20 04:24:19.000000000,2024-05-20 15:42:08.000000000,2024-05-20 15:42:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 04:24:19.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1eddbc9c944da357d2322acdd3ddbfead3555c0b', 'message': ""Ubuntu: Switch back to official repository\n\nWe replaced the ceph official repository by UCA because the official\nrepository didn't provide packages for jammy but now the packages\nfor jammy are available.\n\nConflicts:\n\tmanifests/repos.pp\n\nChange-Id: I4cb520c7250d0920f677c6411a493859bbf2a0ae\n(cherry picked from commit b2aaa0db1d578991b95806fb08ee7d2839f34f00)\n(cherry picked from commit 9e98a441b3c59d61ae377bbdf3c8d0cd15c475b1)\n""}]",0,920009,1eddbc9c944da357d2322acdd3ddbfead3555c0b,7,3,1,9816,,,0,"Ubuntu: Switch back to official repository

We replaced the ceph official repository by UCA because the official
repository didn't provide packages for jammy but now the packages
for jammy are available.

Conflicts:
	manifests/repos.pp

Change-Id: I4cb520c7250d0920f677c6411a493859bbf2a0ae
(cherry picked from commit b2aaa0db1d578991b95806fb08ee7d2839f34f00)
(cherry picked from commit 9e98a441b3c59d61ae377bbdf3c8d0cd15c475b1)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/09/920009/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,1eddbc9c944da357d2322acdd3ddbfead3555c0b,," # Ceph is both packaged on UCA and official download.ceph.com packages # which we mirror. We want to use the official packages or our mirror. if $ceph_mirror_fallback !~ '^http://download.ceph.com/.*' { $ceph_version_cap = capitalize($ceph_version_real) apt::pin { 'ceph': priority => 1001, originator => ""Ceph ${ceph_version_cap}"", } } else { apt::pin { 'ceph': priority => 1001, origin => 'download.ceph.com', class { 'ceph::repo': enable_sig => $enable_sig, enable_epel => $enable_epel, ceph_mirror => $ceph_mirror,"," if $facts['os']['name'] == 'Ubuntu' and versioncmp($facts['os']['release']['major'], '22') >= 0 { # NOTE(tkajinam): Upstream ceph repository does not provide packages for # Ubuntu Jammy, so we use packages from UCA. $enable_ceph_repository = false } else { $enable_ceph_repository = true } if $enable_ceph_repository { # Ceph is both packaged on UCA and official download.ceph.com packages # which we mirror. We want to use the official packages or our mirror. if $ceph_mirror_fallback !~ '^http://download.ceph.com/.*' { $ceph_version_cap = capitalize($ceph_version_real) apt::pin { 'ceph': priority => 1001, originator => ""Ceph ${ceph_version_cap}"", } } else { apt::pin { 'ceph': priority => 1001, origin => 'download.ceph.com', } if $enable_ceph_repository { class { 'ceph::repo': enable_sig => $enable_sig, enable_epel => $enable_epel, ceph_mirror => $ceph_mirror, }",16,28
openstack%2Fpuppet-openstack-integration~920004,openstack/puppet-openstack-integration,master,Ic2f9f6d468b63f9049237cd937d4a7de87a0e406,Updated from Puppet OpenStack modules constraints,MERGED,2024-05-20 02:33:36.000000000,2024-05-20 15:42:07.000000000,2024-05-20 15:42:07.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-20 02:33:36.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6ca9b0cc4289b59805f2cca79dbc2a66352d63af', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ic2f9f6d468b63f9049237cd937d4a7de87a0e406\n'}]",0,920004,6ca9b0cc4289b59805f2cca79dbc2a66352d63af,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ic2f9f6d468b63f9049237cd937d4a7de87a0e406
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/04/920004/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,6ca9b0cc4289b59805f2cca79dbc2a66352d63af,openstack/puppet/constraints, :ref => 'v13.4.0', :ref => 'v13.2.0',1,1
openstack%2Fopenstack-ansible-os_neutron~914544,openstack/openstack-ansible-os_neutron,master,I882364336782078ad934e538bd8dc8d127048292,Fix multiline yaml formatting in neutron systemd services,ABANDONED,2024-03-27 17:32:34.000000000,2024-05-20 15:30:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-03-27 17:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/04f5048a679a17d3a28e57ecd4c4d0569274c524', 'message': ""Fix multiline yaml formatting in neutron systemd services\n\nYet more fallout from the new linter rules. When n-g-s is enabled\nthe previous code did not insert a space between the two instances\nof --config-file.\n\nWith the >- multiline style Newlines result in a space being inserted,\nand these can be suppressed with the '-' character in the jinja code.\n\nThis patch adjusts the whitespace insertion so there is always a space\nbetween the --config-file instances, but any spaces are suppressed at\nthe end of the line.\n\nChange-Id: I882364336782078ad934e538bd8dc8d127048292\n""}, {'number': 2, 'created': '2024-03-28 10:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ddf2f1265f32426c766f1fa817d22ac37f9d04e1', 'message': ""Fix multiline yaml formatting in neutron systemd services\n\nYet more fallout from the new linter rules. When n-g-s is enabled\nthe previous code did not insert a space between the two instances\nof --config-file.\n\nWith the >- multiline style Newlines result in a space being inserted,\nand these can be suppressed with the '-' character in the jinja code.\n\nThis patch adjusts the whitespace insertion so there is always a space\nbetween the --config-file instances, but any spaces are suppressed at\nthe end of the line.\n\nChange-Id: I882364336782078ad934e538bd8dc8d127048292\n""}, {'number': 3, 'created': '2024-04-02 09:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d03380825abb1a0ab8b91d6a70ae33b74f731532', 'message': ""Fix multiline yaml formatting in neutron systemd services\n\nYet more fallout from the new linter rules. When n-g-s is enabled\nthe previous code did not insert a space between the two instances\nof --config-file.\n\nWith the >- multiline style Newlines result in a space being inserted,\nand these can be suppressed with the '-' character in the jinja code.\n\nThis patch adjusts the whitespace insertion so there is always a space\nbetween the --config-file instances, but any spaces are suppressed at\nthe end of the line.\n\nChange-Id: I882364336782078ad934e538bd8dc8d127048292\n""}, {'number': 4, 'created': '2024-04-02 11:22:55.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/42bbadba3909deec1f7206b7658a27d30cdcace9', 'message': ""Fix multiline yaml formatting in neutron systemd services\n\nYet more fallout from the new linter rules. When n-g-s is enabled\nthe previous code did not insert a space between the two instances\nof --config-file.\n\nWith the >- multiline style Newlines result in a space being inserted,\nand these can be suppressed with the '-' character in the jinja code.\n\nThis patch adjusts the whitespace insertion so there is always a space\nbetween the --config-file instances, but any spaces are suppressed at\nthe end of the line.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/914859\nChange-Id: I882364336782078ad934e538bd8dc8d127048292\n""}]",1,914544,42bbadba3909deec1f7206b7658a27d30cdcace9,14,3,4,25023,,,0,"Fix multiline yaml formatting in neutron systemd services

Yet more fallout from the new linter rules. When n-g-s is enabled
the previous code did not insert a space between the two instances
of --config-file.

With the >- multiline style Newlines result in a space being inserted,
and these can be suppressed with the '-' character in the jinja code.

This patch adjusts the whitespace insertion so there is always a space
between the --config-file instances, but any spaces are suppressed at
the end of the line.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/914859
Change-Id: I882364336782078ad934e538bd8dc8d127048292
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/44/914544/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,04f5048a679a17d3a28e57ecd4c4d0569274c524,, --config-file {{ neutron_conf_dir }}/neutron.conf --config-file {{ neutron_conf_dir }}/{{ neutron_plugins[neutron_plugin_type].plugin_ini }} {%- if ('ml2.genericswitch' in neutron_plugin_types) -%} {%- endif %} {%- if ('ml2.genericswitch' in neutron_plugin_types) %} {%- endif %} {%- if ('ml2.genericswitch' in neutron_plugin_types) -%} {%- endif %}, --config-file {{ neutron_conf_dir }}/neutron.conf --config-file {{ neutron_conf_dir }}/{{ neutron_plugins[neutron_plugin_type].plugin_ini -}} {% if ('ml2.genericswitch' in neutron_plugin_types) -%} {% endif %} {% if ('ml2.genericswitch' in neutron_plugin_types) -%} {% endif %} {% if ('ml2.genericswitch' in neutron_plugin_types) -%} {% endif %},7,7
openstack%2Fironic~919901,openstack/ironic,bugfix/22.1,I51fe54d10f7b1c8fa9052f6e382a97861f469859,Remove SQLAlchemy tips jobs,NEW,2024-05-16 21:21:31.000000000,2024-05-20 15:12:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-16 21:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/67693614f14bb2c4f95f10f5c1dc9136a8522b9b', 'message': 'Remove SQLAlchemy tips jobs\n\nThe most recent SQLAlchemy and Alembic versions are now in\nupper-constraints. As a result, this job has served its purpose and can\nbe removed. For more information, see [1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/\n\nConflicts:\n\tzuul.d/ironic-jobs.yaml\n\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I51fe54d10f7b1c8fa9052f6e382a97861f469859\n(cherry picked from commit a27f29fb4c20b9cb1de4a3d22caa76d631a13dc2)\n(cherry picked from commit 4e09e6dc5368f2fab162887cf4e120eb888b0c95)\n(cherry picked from commit 81f79769cf5aaef5e0e46a64a54292b06b5e0216)\n'}, {'number': 2, 'created': '2024-05-20 13:18:42.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0c77a6d9fcf981d6f7827ad9728f2ebefc793414', 'message': 'Remove SQLAlchemy tips jobs\n\nThe most recent SQLAlchemy and Alembic versions are now in\nupper-constraints. As a result, this job has served its purpose and can\nbe removed. For more information, see [1].\n\nFurthermore, also update the stable constraints for tox.ini to 2023.2.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/\n\nConflicts:\n\tzuul.d/ironic-jobs.yaml\n\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I51fe54d10f7b1c8fa9052f6e382a97861f469859\n(cherry picked from commit a27f29fb4c20b9cb1de4a3d22caa76d631a13dc2)\n(cherry picked from commit 4e09e6dc5368f2fab162887cf4e120eb888b0c95)\n(cherry picked from commit 81f79769cf5aaef5e0e46a64a54292b06b5e0216)\n'}]",1,919901,0c77a6d9fcf981d6f7827ad9728f2ebefc793414,4,1,2,11655,,,0,"Remove SQLAlchemy tips jobs

The most recent SQLAlchemy and Alembic versions are now in
upper-constraints. As a result, this job has served its purpose and can
be removed. For more information, see [1].

Furthermore, also update the stable constraints for tox.ini to 2023.2.

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/

Conflicts:
	zuul.d/ironic-jobs.yaml

Co-Authored-By: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I51fe54d10f7b1c8fa9052f6e382a97861f469859
(cherry picked from commit a27f29fb4c20b9cb1de4a3d22caa76d631a13dc2)
(cherry picked from commit 4e09e6dc5368f2fab162887cf4e120eb888b0c95)
(cherry picked from commit 81f79769cf5aaef5e0e46a64a54292b06b5e0216)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/919901/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,67693614f14bb2c4f95f10f5c1dc9136a8522b9b,,, - ironic-tox-unit-with-sqlalchemy-2x - ironic-tox-unit-with-sqlalchemy-2x,0,20
openstack%2Fcinder~916788,openstack/cinder,master,I0164582af81daf49b7391944940d2f8c187a9d42,trivial: Enable E275 harder,NEW,2024-04-23 12:51:48.000000000,2024-05-20 15:11:50.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-23 12:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1925405aca2eb4bc313611ef7a0ee20c34123b8', 'message': ""trivial: Prepare for flake8 bump\n\nThe version of hacking/flake8 we are currently using does not support\nPython 3.12, which means the 'pep8' tox target is not usable without\nmodifications on systems where this is the default python executable\n(like Fedora 39). Prepare for a bump by fixing all the issues seen with\nthe latest hacking version, 6.1.0. These mainly fall into one of three\ncategories: using keywords like functions ('return(foo)' instead of\n'return foo'), missing spaces before trailing slashes, and use of '=='\ninstead of 'is' for type equality checks.\n\nChange-Id: I0164582af81daf49b7391944940d2f8c187a9d42\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-05-13 14:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf9a45338658c0e301d265c47acb5b305d966191', 'message': 'trivial: Enable E275\n\nChange I4657d46d27ecfc45299d398cd2f3848fbc64b5b5 skipped this. Unskip it\nnow.\n\nChange-Id: I0164582af81daf49b7391944940d2f8c187a9d42\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-05-18 02:53:42.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'cinder/backup/api.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/datacore/driver.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/ssh_utils.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/volume/drivers/nfs.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/drivers/hpe/nimble.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/volume/drivers/hedvig/rest_client.py', 'cinder/image/accelerator.py', 'cinder/tests/unit/brick/test_brick_lvm.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/volume/drivers/remotefs.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b078e84cbfbc102d2d384eafe449936de458da1', 'message': 'trivial: Enable E275 harder\n\nChange I4657d46d27ecfc45299d398cd2f3848fbc64b5b5 skipped this.\nChange Ib9f9a8bc6720ca8e1b916b2fa1583982859b08ae unskipped it.\nBut some things fell out while we were shaking the code.\n\nChange-Id: I0164582af81daf49b7391944940d2f8c187a9d42\nWas-Signed-off-by: Stephen Finucane <stephenfin@redhat.com>\nRebased-by: Pete Zaitcev <zaitcev@redhat.com>\n'}]",7,916788,7b078e84cbfbc102d2d384eafe449936de458da1,49,2,3,15334,,,0,"trivial: Enable E275 harder

Change I4657d46d27ecfc45299d398cd2f3848fbc64b5b5 skipped this.
Change Ib9f9a8bc6720ca8e1b916b2fa1583982859b08ae unskipped it.
But some things fell out while we were shaking the code.

Change-Id: I0164582af81daf49b7391944940d2f8c187a9d42
Was-Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Rebased-by: Pete Zaitcev <zaitcev@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/916788/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/backup/api.py', 'cinder/tests/unit/targets/test_cxt_driver.py', 'cinder/tests/unit/volume/test_snapshot.py', 'cinder/volume/drivers/stx/iscsi.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/volume/drivers/nfs.py', 'cinder/tests/unit/volume/drivers/test_seagate.py', 'cinder/cmd/status.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_storage.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/datacore/driver.py', 'cinder/volume/drivers/stx/fc.py', 'cinder/volume/targets/fake.py', 'cinder/ssh_utils.py', 'cinder/tests/hacking/checks.py', 'cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/drivers/hpe/nimble.py', 'cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/tests/unit/volume/drivers/open_e/test_driver.py', 'cinder/volume/drivers/toyou/tyds/tyds_client.py', 'cinder/tests/unit/volume/test_volume_migration.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/tests/unit/volume/drivers/lightos/test_lightos_storage.py', 'cinder/tests/unit/targets/test_base_iscsi_driver.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'cinder/tests/unit/test_cleanable_manager.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/scheduler/host_manager.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/targets/test_scst_driver.py', 'cinder/volume/drivers/fungible/swagger_api_client.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/api/openstack/api_version_request.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/fakes.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/volume/drivers/hedvig/rest_client.py', 'cinder/image/accelerator.py', 'cinder/tests/unit/brick/test_brick_lvm.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/scheduler/evaluator/evaluator.py', 'cinder/tests/unit/targets/test_tgt_driver.py', 'cinder/utils.py', 'cinder/volume/drivers/remotefs.py', 'cinder/tests/unit/volume/drivers/inspur/as13000/test_as13000_driver.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py']",52,a1925405aca2eb4bc313611ef7a0ee20c34123b8,openapi," if iterator_count > 0: if iterator_count > 0: if self._is_trans_abortable(): if zone_constant.TRANS_ABORTABLE in line: if not ("" NL "" in line or "" N "" in line):"," if(iterator_count > 0): if(iterator_count > 0): is_abortable = self._is_trans_abortable() if(is_abortable): if(zone_constant.TRANS_ABORTABLE in line): if not("" NL "" in line or "" N "" in line):",230,213
openstack%2Foslo-specs~919963,openstack/oslo-specs,master,If6451773fb17dd99fa71f1ae79c5ae007e349932,oslo.middleware: DisableIfMissing Healthcheck plugin,NEW,2024-05-17 14:46:58.000000000,2024-05-20 14:30:45.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 14:46:58.000000000', 'files': ['doc/source/index.rst', 'specs/dalmatian/disable_if_missing_healthcheck_plugin.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/c37bf6b4e7ce139a59108dc187d1ba0e7f0d1410', 'message': 'oslo.middleware: DisableIfMissing Healthcheck plugin\n\nChange-Id: If6451773fb17dd99fa71f1ae79c5ae007e349932\n'}]",19,919963,c37bf6b4e7ce139a59108dc187d1ba0e7f0d1410,12,2,1,9303,,,0,"oslo.middleware: DisableIfMissing Healthcheck plugin

Change-Id: If6451773fb17dd99fa71f1ae79c5ae007e349932
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/63/919963/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/dalmatian/disable_if_missing_healthcheck_plugin.rst']",2,c37bf6b4e7ce139a59108dc187d1ba0e7f0d1410,healthcheck/disable_if_missing,"====================================== Disable If Missing Healthcheck Plugin ====================================== https://blueprints.launchpad.net/oslo.middleware/+spec/disable-if-missing-healthcheck A generic healthcheck plugin to verify specific file path is available. Problem description =================== The filesystem backend of glance can be used to mount NFS share as local filesystem, so it does not required to store any special configs at glance side. Glance does not care about NFS server address or NFS share path at all, it just assumes that each image is stored in the local filesystem. The downside of this assumption is that glance is not aware whether NFS server is connected/available or not, NFS share is mounted or not and just keeps performing add/delete operations on local filesystem directory which later might causes problem in synchronization when NFS is back online. Proposed change =============== We are planning to add new plugin `disable_if_missing` to `healthcheck` wsgi middleware which can be used by all openstack components to check if desired path is not present then report `503 <REASON>` error or `200 OK` if everything is OK. .. code-block:: ini [app:healthcheck] paste.app_factory = oslo_middleware:Healthcheck.app_factory backends = disable_if_missing (optional, default: empty) # used by the 'disable_if_missing' backend available_file_paths = /var/lib/glance/images,/var/lib/glance/cache (optional, default: empty) # Use this composite for keystone auth with caching and cache management [composite:glance-api-keystone+cachemanagement] paste.composite_factory = glance.api:root_app_factory /: api-keystone+cachemanagement /healthcheck: healthcheck The middleware will return ""200 OK"" if everything is OK, or ""503 <REASON>"" if not with the reason of why this API should not be used. ""backends"" will the name of a stevedore extentions in the namespace ""oslo.middleware.healthcheck"". Alternatives ------------ None Impact on Existing APIs ----------------------- None Security impact --------------- None Performance Impact ------------------ None Configuration Impact -------------------- The middleware needs to be configured as shown in `Proposed Change` section. Developer Impact ---------------- None Testing Impact -------------- Middleware will be covered by the unittest And also have a tempest test for each services that have integrated it. Implementation ============== Assignee(s) ----------- Primary assignee: Abhishek Kekane (abhishek-kekane) Other contributors: None Milestones ---------- Target Milestone for completion: * Dalmatian-1 Work Items ---------- * Write the `disable_if_missing` healthcheck plugin * Update the applications to use it Documentation Impact ==================== N/A Dependencies ============ N/A References ========== * Glance NFS improvement spec - https://review.opendev.org/917284 * DisableIfMissing plugin PoC - https://review.opendev.org/919666 .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,141,0
openstack%2Fcharm-gnocchi~919711,openstack/charm-gnocchi,stable/yoga,I048921beb6aaa66563d83253efb6152caa315ba9,Update package version codenames,MERGED,2024-05-15 10:28:03.000000000,2024-05-20 14:23:25.000000000,2024-05-20 14:23:25.000000000,"[{'_account_id': 1131}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 10:28:03.000000000', 'files': ['src/lib/charm/openstack/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/661efc355c399d85ddd6f524a815e13a30f85baf', 'message': 'Update package version codenames\n\nCodenames stopped at Train so this fills gap\nall the way to Caracal as well as accounting\nfor releases that share the version. Where more\nthan one release shares the same version we set\nthe highest release as the named release for that\nversion to avoid unnecessary upgrades.\n\nCloses-Bug: #1973303\nChange-Id: I048921beb6aaa66563d83253efb6152caa315ba9\n(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)\n'}]",0,919711,661efc355c399d85ddd6f524a815e13a30f85baf,9,4,1,6737,,,0,"Update package version codenames

Codenames stopped at Train so this fills gap
all the way to Caracal as well as accounting
for releases that share the version. Where more
than one release shares the same version we set
the highest release as the named release for that
version to avoid unnecessary upgrades.

Closes-Bug: #1973303
Change-Id: I048921beb6aaa66563d83253efb6152caa315ba9
(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/11/919711/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/gnocchi.py'],1,661efc355c399d85ddd6f524a815e13a30f85baf,bug/1973303-yoga," ('4.3', 'ussuri'), ('4.4.0', 'victoria'), ('4.4.1', 'yoga'), # wallaby, xena, yoga ('4.4.2', 'zed'), ('4.5.0', 'bobcat'), # antelope, bobcat ('4.6.0', 'caracal'),",,6,0
openstack%2Fcharm-gnocchi~919710,openstack/charm-gnocchi,stable/zed,I048921beb6aaa66563d83253efb6152caa315ba9,Update package version codenames,MERGED,2024-05-15 10:27:36.000000000,2024-05-20 14:23:24.000000000,2024-05-20 14:23:24.000000000,"[{'_account_id': 1131}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 10:27:36.000000000', 'files': ['src/lib/charm/openstack/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/90ba928ab6585ddb31804a8a742ede417b413800', 'message': 'Update package version codenames\n\nCodenames stopped at Train so this fills gap\nall the way to Caracal as well as accounting\nfor releases that share the version. Where more\nthan one release shares the same version we set\nthe highest release as the named release for that\nversion to avoid unnecessary upgrades.\n\nCloses-Bug: #1973303\nChange-Id: I048921beb6aaa66563d83253efb6152caa315ba9\n(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)\n'}]",0,919710,90ba928ab6585ddb31804a8a742ede417b413800,9,4,1,6737,,,0,"Update package version codenames

Codenames stopped at Train so this fills gap
all the way to Caracal as well as accounting
for releases that share the version. Where more
than one release shares the same version we set
the highest release as the named release for that
version to avoid unnecessary upgrades.

Closes-Bug: #1973303
Change-Id: I048921beb6aaa66563d83253efb6152caa315ba9
(cherry picked from commit ce8fd528ed2fa01c31fa231e85a83cef285b1887)
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/10/919710/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/gnocchi.py'],1,90ba928ab6585ddb31804a8a742ede417b413800,bug/1973303-zed," ('4.3', 'ussuri'), ('4.4.0', 'victoria'), ('4.4.1', 'yoga'), # wallaby, xena, yoga ('4.4.2', 'zed'), ('4.5.0', 'bobcat'), # antelope, bobcat ('4.6.0', 'caracal'),",,6,0
openstack%2Fopenstacksdk~919981,openstack/openstacksdk,master,I7e25e30b95ebb8df7984a706ece432813554a395,Remove retired project Senlin job,MERGED,2024-05-17 19:00:30.000000000,2024-05-20 14:15:03.000000000,2024-05-20 14:12:37.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-05-17 19:00:30.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/functional-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8091075e3b8a9bb160eaee8cd4b24fb3c6410642', 'message': 'Remove retired project Senlin job\n\nSenlin project has been retired[1] so removing\nits ref and job from sdk gate otherwise it will fail.\n\n[1] https://review.opendev.org/c/openstack/governance/+/919347\n\nChange-Id: I7e25e30b95ebb8df7984a706ece432813554a395\n'}]",1,919981,8091075e3b8a9bb160eaee8cd4b24fb3c6410642,10,3,1,8556,,,0,"Remove retired project Senlin job

Senlin project has been retired[1] so removing
its ref and job from sdk gate otherwise it will fail.

[1] https://review.opendev.org/c/openstack/governance/+/919347

Change-Id: I7e25e30b95ebb8df7984a706ece432813554a395
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/81/919981/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/functional-jobs.yaml']",2,8091075e3b8a9bb160eaee8cd4b24fb3c6410642,retire-senlin,, name: openstacksdk-functional-devstack-senlin parent: openstacksdk-functional-devstack description: | Run openstacksdk functional tests against a master devstack with senlin required-projects: - openstack/senlin vars: devstack_plugins: senlin: https://opendev.org/openstack/senlin devstack_services: s-account: false s-container: false s-object: false s-proxy: false tox_environment: OPENSTACKSDK_HAS_SWIFT: 0 OPENSTACKSDK_HAS_SENLIN: 1 - job:,0,21
openstack%2Fopenstack-ansible~919814,openstack/openstack-ansible,master,Iffbe9c7c1050a108b2121ddbcc02d16721d3d517,[doc] Define release names in documentation,MERGED,2024-05-16 10:43:31.000000000,2024-05-20 13:55:42.000000000,2024-05-20 13:54:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-16 10:43:31.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/43ee0c4999e9b07ca1e64a05ee42c34fbc6ca3d1', 'message': '[doc] Define release names in documentation\n\nChange-Id: Iffbe9c7c1050a108b2121ddbcc02d16721d3d517\n'}]",0,919814,43ee0c4999e9b07ca1e64a05ee42c34fbc6ca3d1,8,3,1,28619,,,0,"[doc] Define release names in documentation

Change-Id: Iffbe9c7c1050a108b2121ddbcc02d16721d3d517
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/14/919814/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,43ee0c4999e9b07ca1e64a05ee42c34fbc6ca3d1,,previous_series_name = '2023.2' previous_slurp_name = '2023.1' current_series_name = '2024.1',previous_series_name = '2023.1' previous_slurp_name = False current_series_name = '2023.2',3,3
openstack%2Fdesignate~905765,openstack/designate,master,I48343b3988ce57ad4d367806d854d48e22dcbfdb,Increase minimum test coverage to 98%,MERGED,2024-01-17 22:37:22.000000000,2024-05-20 13:31:27.000000000,2024-05-20 13:30:19.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 36201}, {'_account_id': 36216}]","[{'number': 1, 'created': '2024-01-17 22:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/29aa4d0f3f3be29af526ed3e84eee52647c938ca', 'message': 'Increase minimum test coverage to 98%\n\nChange-Id: I48343b3988ce57ad4d367806d854d48e22dcbfdb\n'}, {'number': 2, 'created': '2024-01-26 02:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/006e5b3e89cd572ec40ada8705f5c9bc35e8b7fc', 'message': 'Increase minimum test coverage to 98%\n\nChange-Id: I48343b3988ce57ad4d367806d854d48e22dcbfdb\n'}, {'number': 3, 'created': '2024-02-04 15:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/16178e8f6992aa51123b0e465a01f945f48683ee', 'message': 'Increase minimum test coverage to 98%\n\nChange-Id: I48343b3988ce57ad4d367806d854d48e22dcbfdb\n'}, {'number': 4, 'created': '2024-02-17 11:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3c32c8a2d258278d7dbeb13ae4c1c6ec4529c6f0', 'message': 'Increase minimum test coverage to 98%\n\nChange-Id: I48343b3988ce57ad4d367806d854d48e22dcbfdb\n'}, {'number': 5, 'created': '2024-03-02 15:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/21830ce0a0a40a99cbb859b2a4904020fea56e4c', 'message': 'Increase minimum test coverage to 98%\n\nChange-Id: I48343b3988ce57ad4d367806d854d48e22dcbfdb\n'}, {'number': 6, 'created': '2024-03-23 18:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b32c70b3b0d41a9320f9f28a937686f55e268798', 'message': 'Increase minimum test coverage to 98%\n\nChange-Id: I48343b3988ce57ad4d367806d854d48e22dcbfdb\n'}, {'number': 7, 'created': '2024-05-16 19:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3dca2144dd6f20baa8581ecd3b5691feae5c134f', 'message': 'Increase minimum test coverage to 98%\n\nChange-Id: I48343b3988ce57ad4d367806d854d48e22dcbfdb\n'}, {'number': 8, 'created': '2024-05-17 07:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8d5bf17f7617833254a2e4a3cde77facf84b70d3', 'message': 'Increase minimum test coverage to 98%\n\nChange-Id: I48343b3988ce57ad4d367806d854d48e22dcbfdb\n'}, {'number': 9, 'created': '2024-05-17 19:33:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/15ecc90f0501f587ae08e484dbd5a11b435b1919', 'message': 'Increase minimum test coverage to 98%\n\nChange-Id: I48343b3988ce57ad4d367806d854d48e22dcbfdb\n'}]",2,905765,15ecc90f0501f587ae08e484dbd5a11b435b1919,29,4,9,22623,,,0,"Increase minimum test coverage to 98%

Change-Id: I48343b3988ce57ad4d367806d854d48e22dcbfdb
",git fetch https://review.opendev.org/openstack/designate refs/changes/65/905765/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,29aa4d0f3f3be29af526ed3e84eee52647c938ca,, coverage report --fail-under=98 --skip-covered, coverage report --fail-under=97 --skip-covered,1,1
openstack%2Fmasakari~920034,openstack/masakari,master,I67e04640ec76cf000aadfc5834d89da7a772a8d6,Ensure migration script use correct alembic table,NEW,2024-05-20 12:39:00.000000000,2024-05-20 13:15:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 30623}]","[{'number': 1, 'created': '2024-05-20 12:39:00.000000000', 'files': ['masakari/db/sqlalchemy/migration.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/e012ed603488f62f4ae0b452e34d4e058115bbca', 'message': ""Ensure migration script use correct alembic table\n\nAt the moment migration script does misbehave and will fail on attempt\nto migrate database from old SQLAlchemy Migrate to Alembic due to\nmisconfigured alembic_table.\n\nRight now alembic_version table is being used by taskflow. With that it\nwas existing before 2024.1, where Masakari has adopted alembic as well.\n\nAs a result, masakari-manage db sync returns early from\n_migrate_legacy_database as it treats taskflow alembic DB as it's own.\nAnd when it tries to apply migrations - it fails as table already exist.\n\nmasakari-manage db version also shows taskflow version instead of\nmasakari version which is misleading.\n\nPassing correct version_table to MigrationContext fixes the issue.\n\nChange-Id: I67e04640ec76cf000aadfc5834d89da7a772a8d6\n""}]",0,920034,e012ed603488f62f4ae0b452e34d4e058115bbca,2,2,1,28619,,,0,"Ensure migration script use correct alembic table

At the moment migration script does misbehave and will fail on attempt
to migrate database from old SQLAlchemy Migrate to Alembic due to
misconfigured alembic_table.

Right now alembic_version table is being used by taskflow. With that it
was existing before 2024.1, where Masakari has adopted alembic as well.

As a result, masakari-manage db sync returns early from
_migrate_legacy_database as it treats taskflow alembic DB as it's own.
And when it tries to apply migrations - it fails as table already exist.

masakari-manage db version also shows taskflow version instead of
masakari version which is misleading.

Passing correct version_table to MigrationContext fixes the issue.

Change-Id: I67e04640ec76cf000aadfc5834d89da7a772a8d6
",git fetch https://review.opendev.org/openstack/masakari refs/changes/34/920034/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/db/sqlalchemy/migration.py'],1,e012ed603488f62f4ae0b452e34d4e058115bbca,," context = alembic_migration.MigrationContext.configure( connection, opts={'version_table': 'masakari_alembic_version'}) m_context = alembic_migration.MigrationContext.configure( connection, opts={'version_table': 'masakari_alembic_version'} )", context = alembic_migration.MigrationContext.configure(connection) m_context = alembic_migration.MigrationContext.configure(connection),7,2
openstack%2Fmasakari~915572,openstack/masakari,master,Ic173f9579a2cff1138368e376d50a3f31d1567a3,"pre-commit: Bump versions, switch to native hacking plugin",NEW,2024-04-12 10:52:14.000000000,2024-05-20 13:03:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-04-12 10:52:14.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/81e74e189c21b90ef7af02885a609eba6862a112', 'message': 'pre-commit: Bump versions, switch to native hacking plugin\n\nChange-Id: Ic173f9579a2cff1138368e376d50a3f31d1567a3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,915572,81e74e189c21b90ef7af02885a609eba6862a112,3,2,1,15334,,,0,"pre-commit: Bump versions, switch to native hacking plugin

Change-Id: Ic173f9579a2cff1138368e376d50a3f31d1567a3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/masakari refs/changes/72/915572/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,81e74e189c21b90ef7af02885a609eba6862a112,sqlalchemy-20, rev: v4.6.0 - repo: https://opendev.org/openstack/hacking rev: 6.1.0 hooks: - id: hacking additional_dependencies: [], rev: v4.4.0 - repo: local hooks: - id: flake8 name: flake8 additional_dependencies: - hacking~=6.0.1 language: python entry: flake8 files: '^.*\.py$',5,9
openstack%2Fmasakari~915571,openstack/masakari,master,I50e4665dbf70f965d0255aab5af5cb8d88a9d74d,Remove SQLAlchemy tips jobs,NEW,2024-04-12 10:52:14.000000000,2024-05-20 13:03:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-04-12 10:52:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/a9509f874abc460b1d3251cb6a17a9db9f7fe444', 'message': 'Remove SQLAlchemy tips jobs\n\nThe most recent SQLAlchemy and Alembic versions are now in\nupper-constraints. As a result, this job has served its purpose and can\nbe removed. For more information, see [1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/\n\nChange-Id: I50e4665dbf70f965d0255aab5af5cb8d88a9d74d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/879743\n'}]",0,915571,a9509f874abc460b1d3251cb6a17a9db9f7fe444,3,2,1,15334,,,0,"Remove SQLAlchemy tips jobs

The most recent SQLAlchemy and Alembic versions are now in
upper-constraints. As a result, this job has served its purpose and can
be removed. For more information, see [1].

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/

Change-Id: I50e4665dbf70f965d0255aab5af5cb8d88a9d74d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Depends-on: https://review.opendev.org/c/openstack/requirements/+/879743
",git fetch https://review.opendev.org/openstack/masakari refs/changes/71/915571/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a9509f874abc460b1d3251cb6a17a9db9f7fe444,sqlalchemy-20,,"# Temporary job until SQLAlchemy 2.0 is no longer blocked by upper-requirements - job: name: masakari-tox-py310-with-sqlalchemy-2x parent: openstack-tox-py310 description: | Run unit tests with main branch of SQLAlchemy, alembic and oslo.db. Takes advantage of the base tox job's install-siblings feature. # The job only tests the latest and shouldn't be run on the stable branches branches: ^(?!stable) required-projects: - name: github.com/sqlalchemy/sqlalchemy override-checkout: main - name: github.com/sqlalchemy/alembic override-checkout: main - name: openstack/oslo.db - masakari-tox-py310-with-sqlalchemy-2x - masakari-tox-py310-with-sqlalchemy-2x",0,18
openstack%2Fneutron~915053,openstack/neutron,master,If7626543f9095196ef1515039f153b16282c27a4,Skip abandoning of the old patches in unmaintained branches,NEW,2024-04-04 10:28:46.000000000,2024-05-20 12:42:03.000000000,,"[{'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 10:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/477b372e3354c3db1a087a17c64bf83f3476228e', 'message': 'Skip abandoning of the old patches in unmaintained branches\n\nBy default abandon_old_reviews.sh script will now ignore\npatches from any unmaintained branches.\nCleanup of those patches can be done by passing ""--unmaintained""\nparameter to the script\n\nChange-Id: If7626543f9095196ef1515039f153b16282c27a4\n'}, {'number': 2, 'created': '2024-04-26 07:51:21.000000000', 'files': ['tools/abandon_old_reviews.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2452dbab77694445880e5fcdcac8261ab64423ea', 'message': 'Skip abandoning of the old patches in unmaintained branches\n\nBy default abandon_old_reviews.sh script will now ignore\npatches from any unmaintained branches.\nCleanup of those patches can be done by passing ""--unmaintained""\nparameter to the script\n\nChange-Id: If7626543f9095196ef1515039f153b16282c27a4\n'}]",8,915053,2452dbab77694445880e5fcdcac8261ab64423ea,12,3,2,11975,,,0,"Skip abandoning of the old patches in unmaintained branches

By default abandon_old_reviews.sh script will now ignore
patches from any unmaintained branches.
Cleanup of those patches can be done by passing ""--unmaintained""
parameter to the script

Change-Id: If7626543f9095196ef1515039f153b16282c27a4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/915053/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/abandon_old_reviews.sh'],1,477b372e3354c3db1a087a17c64bf83f3476228e,abandon_unmaintained,"UNMAINTAINED=0 echo "" --unmaintained Clean all unmaintained branches only. By default unmaintained branches are skipped"" --unmaintained) UNMAINTAINED=1 shift # past argument ;;gerrit_query=""status:open age:4w label:Code-Review<=-2 "" if [ $UNMAINTAINED -eq 1 ]; then gerrit_query=""${gerrit_query} branch:^unmaintained/.*"" else gerrit_query=""${gerrit_query} NOT branch:^unmaintained/.*"" fi blocked_reviews=$(ssh review.opendev.org ""gerrit query --current-patch-set --format json $PROJECTS $gerrit_query"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g')gerrit_query=""status:open age:4w NOT label:Verified>=1,Zuul "" if [ $UNMAINTAINED -eq 1 ]; then gerrit_query=""${gerrit_query} branch:^unmaintained/.*"" else gerrit_query=""${gerrit_query} NOT branch:^unmaintained/.*"" fi failing_reviews=$(ssh review.opendev.org ""gerrit query --current-patch-set --format json $PROJECTS $gerrit_query"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g')","blocked_reviews=$(ssh review.opendev.org ""gerrit query --current-patch-set --format json $PROJECTS status:open age:4w label:Code-Review<=-2"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g')failing_reviews=$(ssh review.opendev.org ""gerrit query --current-patch-set --format json $PROJECTS status:open age:4w NOT label:Verified>=1,Zuul"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g')",21,2
openstack%2Fneutron~901812,openstack/neutron,master,Ic6ebe4ea782890975b680f420e7fcd802e6cda9d,Remove the restriction on empty cidr's update events,MERGED,2023-11-24 06:42:26.000000000,2024-05-20 11:47:27.000000000,2024-05-20 11:45:15.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28056}, {'_account_id': 32761}, {'_account_id': 34125}]","[{'number': 1, 'created': '2023-11-24 06:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3a583f63ffe84b156a74062c00b827a31e203db', 'message': ""Remove the restriction on empty cidr's update events\n\nIf we set the subnet's enable_dhcp to False and then reconfigure DHCP,\nthere will be an update event in the port_binding table.\nWe need to assess whether metadata services need to be provided or stopped\nbased on this update event.\n\nCloses-Bug: #2044484\nChange-Id: Ic6ebe4ea782890975b680f420e7fcd802e6cda9d\n""}, {'number': 2, 'created': '2023-11-24 07:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab5d25e3264e980986915d18f0374eeb93cb8113', 'message': ""Remove the restriction on empty cidr's update events\n\nIf we set the subnet's enable_dhcp to False and then reconfigure DHCP,\nthere will be an update event in the port_binding table.\nWe need to assess whether metadata services need to be provided or\nstopped based on this update event.\n\nCloses-Bug: #2044484\nChange-Id: Ic6ebe4ea782890975b680f420e7fcd802e6cda9d\n""}, {'number': 3, 'created': '2023-11-28 02:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/947be948b5c6cc5c672b27aab62d9bfa658f8207', 'message': ""Remove the restriction on empty cidr's update events\n\nIf we set the subnet's enable_dhcp to False and then reconfigure DHCP,\nthere will be an update event in the port_binding table.\nWe need to assess whether metadata services need to be provided or\nstopped based on this update event.\n\nCloses-Bug: #2044484\nChange-Id: Ic6ebe4ea782890975b680f420e7fcd802e6cda9d\n""}, {'number': 4, 'created': '2023-12-04 07:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/340414dc81d7c654671e708d219136e1230a1762', 'message': ""Remove the restriction on empty cidr's update events\n\nIf we set the subnet's enable_dhcp to False and then reconfigure DHCP,\nthere will be an update event in the port_binding table.\nWe need to assess whether metadata services need to be provided or\nstopped based on this update event.\n\nCloses-Bug: #2044484\nChange-Id: Ic6ebe4ea782890975b680f420e7fcd802e6cda9d\n""}, {'number': 5, 'created': '2023-12-26 08:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9007630e985df377fe780b861f389645da47f81', 'message': ""Remove the restriction on empty cidr's update events\n\nIf we set the subnet's enable_dhcp to False and then reconfigure DHCP,\nthere will be an update event in the port_binding table.\nWe need to assess whether metadata services need to be provided or\nstopped based on this update event.\n\nCloses-Bug: #2044484\nChange-Id: Ic6ebe4ea782890975b680f420e7fcd802e6cda9d\n""}, {'number': 6, 'created': '2023-12-26 08:49:38.000000000', 'files': ['neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/agent/ovn/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/850a2133660eb51f2e2e906957a05e0f47454ead', 'message': ""Remove the restriction on empty cidr's update events\n\nIf we set the subnet's enable_dhcp to False and then reconfigure DHCP,\nthere will be an update event in the port_binding table.\nWe need to assess whether metadata services need to be provided or\nstopped based on this update event.\n\nCloses-Bug: #2044484\nChange-Id: Ic6ebe4ea782890975b680f420e7fcd802e6cda9d\n""}]",16,901812,850a2133660eb51f2e2e906957a05e0f47454ead,52,11,6,34125,,,0,"Remove the restriction on empty cidr's update events

If we set the subnet's enable_dhcp to False and then reconfigure DHCP,
there will be an update event in the port_binding table.
We need to assess whether metadata services need to be provided or
stopped based on this update event.

Closes-Bug: #2044484
Change-Id: Ic6ebe4ea782890975b680f420e7fcd802e6cda9d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/901812/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,c3a583f63ffe84b156a74062c00b827a31e203db,bug/2044484, if not old_cidrs == new_cidrs:," # If old_cidrs is """", it is create event, # nothing needs to be done. if old_cidrs not in ("""", new_cidrs):",1,3
openstack%2Fpython-openstackclient~920001,openstack/python-openstackclient,master,I8713f45c5f2717cc53ba043aaeb479e72f641f78,Drop direct dependency on simplejson,MERGED,2024-05-19 13:56:02.000000000,2024-05-20 11:47:23.000000000,2024-05-20 11:45:21.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-19 13:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e341e3aaeb76cd0493adb37f6fe0f31bab2e2ee8', 'message': 'Drop direct dependency on simplejson\n\nThe simplejson library is not included by the requirements but it was\nactually called. Drop the direct dependency and use the alias in\nthe requests library.\n\nChange-Id: I8713f45c5f2717cc53ba043aaeb479e72f641f78\n'}, {'number': 2, 'created': '2024-05-20 00:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fb80bb91e084c20d8bb588e4c20c7e68eee816b7', 'message': 'Drop direct dependency on simplejson\n\nThe simplejson library is not included by the requirements but it was\ndirectly imported. Drop the direct inclusion and use the alias in\nthe requests library to avoid ImportError caused by missing simplejson\nin the environment.\n\nThis also fixes the missing requests library in requirements.\n\nChange-Id: I8713f45c5f2717cc53ba043aaeb479e72f641f78\n'}, {'number': 3, 'created': '2024-05-20 00:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7edd25770ed51c84f398c2c51e9ba59e1bf52700', 'message': 'Drop direct dependency on simplejson\n\nThe simplejson library is not included by the requirements but it was\ndirectly imported. Drop the direct inclusion and use the alias in\nthe requests library to avoid ImportError caused by missing simplejson\nin the environment.\n\nAlso fix the missing requests library in requirements.\n\nChange-Id: I8713f45c5f2717cc53ba043aaeb479e72f641f78\n'}, {'number': 4, 'created': '2024-05-20 00:59:49.000000000', 'files': ['requirements.txt', 'openstackclient/api/api.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cf6dd62dd14bb3e234b6e9f6ed716db1154e187f', 'message': 'Drop direct dependency on simplejson\n\nThe simplejson library is not included by the requirements but it was\ndirectly imported. Drop the direct inclusion and use the alias in\nthe requests library to avoid ImportError caused by missing simplejson\nin the environment.\n\nAlso fix the missing requests library in requirements.\n\nChange-Id: I8713f45c5f2717cc53ba043aaeb479e72f641f78\n'}]",0,920001,cf6dd62dd14bb3e234b6e9f6ed716db1154e187f,11,2,4,9816,,,0,"Drop direct dependency on simplejson

The simplejson library is not included by the requirements but it was
directly imported. Drop the direct inclusion and use the alias in
the requests library to avoid ImportError caused by missing simplejson
in the environment.

Also fix the missing requests library in requirements.

Change-Id: I8713f45c5f2717cc53ba043aaeb479e72f641f78
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/01/920001/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/api/api.py'],1,e341e3aaeb76cd0493adb37f6fe0f31bab2e2ee8,,import requests except requests.JSONDecodeError: except requests.JSONDecodeError:,import simplejson as json except json.JSONDecodeError: except json.JSONDecodeError:,3,3
openstack%2Fpython-openstackclient~919856,openstack/python-openstackclient,master,I20a1f55840abad810517b4f583bb1040e63b6210,Remove clients of retired projects,MERGED,2024-05-16 15:31:14.000000000,2024-05-20 11:46:31.000000000,2024-05-20 11:45:19.000000000,"[{'_account_id': 8313}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 15:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4180e93069b46bdf1f44a51eff09e47a8f310080', 'message': 'Remove clients of retired projects\n\nMurano[1], Sahara[2] and Senlin[3] are being retired because of no\nactivity and no maintainer.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/919370\n[2] https://review.opendev.org/c/openstack/requirements/+/919390\n[3] https://review.opendev.org/c/openstack/requirements/+/919354\n\nChange-Id: I20a1f55840abad810517b4f583bb1040e63b6210\n'}, {'number': 2, 'created': '2024-05-16 15:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4556de3114092503b2c01a78de7e86f2f1b5d060', 'message': 'Remove clients of retired projects\n\nMurano[1], Sahara[2] and Senlin[3] are being retired because of no\nactivity and no maintainer.\n\n[1] https://review.opendev.org/c/openstack/governance/+/919358\n[2] https://review.opendev.org/c/openstack/governance/+/919374\n[3] https://review.opendev.org/c/openstack/governance/+/919347\n\nChange-Id: I20a1f55840abad810517b4f583bb1040e63b6210\n'}, {'number': 3, 'created': '2024-05-16 15:51:46.000000000', 'files': ['doc/source/contributor/plugins.rst', 'doc/source/cli/plugin-commands/sahara.rst', 'doc/source/cli/plugin-commands/index.rst', 'doc/source/cli/commands.rst', 'doc/requirements.txt', 'doc/source/cli/plugin-commands/senlin.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bb459d49a8358ca2a8fb94ba21f2385d059e173d', 'message': 'Remove clients of retired projects\n\nMurano[1], Sahara[2] Senlin[3], and Solum[4] are being retired because\nof no activity and no maintainer.\n\n[1] https://review.opendev.org/c/openstack/governance/+/919358\n[2] https://review.opendev.org/c/openstack/governance/+/919374\n[3] https://review.opendev.org/c/openstack/governance/+/919347\n[4] https://review.opendev.org/c/openstack/governance/+/919211\n\nChange-Id: I20a1f55840abad810517b4f583bb1040e63b6210\n'}]",1,919856,bb459d49a8358ca2a8fb94ba21f2385d059e173d,11,3,3,9816,,,0,"Remove clients of retired projects

Murano[1], Sahara[2] Senlin[3], and Solum[4] are being retired because
of no activity and no maintainer.

[1] https://review.opendev.org/c/openstack/governance/+/919358
[2] https://review.opendev.org/c/openstack/governance/+/919374
[3] https://review.opendev.org/c/openstack/governance/+/919347
[4] https://review.opendev.org/c/openstack/governance/+/919211

Change-Id: I20a1f55840abad810517b4f583bb1040e63b6210
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/56/919856/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/plugins.rst', 'doc/source/cli/plugin-commands/sahara.rst', 'doc/source/cli/plugin-commands/index.rst', 'doc/source/cli/commands.rst', 'doc/requirements.txt', 'doc/source/cli/plugin-commands/senlin.rst']",6,4180e93069b46bdf1f44a51eff09e47a8f310080,,,senlin ------ .. autoprogram-cliff:: openstack.clustering.v1 ,0,36
openstack%2Fneutron~905755,openstack/neutron,master,I0c860d723cd5bbc63a96f06fefb27857948912ae,Remove string support in install_instructions,MERGED,2024-01-16 18:05:11.000000000,2024-05-20 11:46:26.000000000,2024-05-20 11:45:11.000000000,"[{'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-16 18:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fef72ad938d70445abe86365d53771b21ff85c96', 'message': ""Remove string support in install_instructions\n\nThis was marked deprecated in the 'U' cycle, finally\nremove it. Had to tweak the bundle test accordingly.\n\nTrivialFix\n\nChange-Id: I0c860d723cd5bbc63a96f06fefb27857948912ae\n""}, {'number': 2, 'created': '2024-01-17 21:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b67bf7c5f11553ad6c57a814b581e5935e3c3fca', 'message': ""Remove string support in install_instructions\n\nThis was marked deprecated in the 'U' cycle, finally\nremove it. Had to tweak the bundle test accordingly.\n\nTrivialFix\n\nChange-Id: I0c860d723cd5bbc63a96f06fefb27857948912ae\n""}, {'number': 3, 'created': '2024-01-18 23:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/105fb1d7fc7797d950ddedfdc453da129db40d53', 'message': ""Remove string support in install_instructions\n\nThis was marked deprecated in the 'U' cycle, finally\nremove it. Had to tweak the bundle test accordingly.\n\nTrivialFix\n\nChange-Id: I0c860d723cd5bbc63a96f06fefb27857948912ae\n""}, {'number': 4, 'created': '2024-01-23 22:33:10.000000000', 'files': ['neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e1cd593a4a3f70682d3e25da7ab4985ade552f2', 'message': ""Remove string support in install_instructions\n\nThis was marked deprecated in the 'U' cycle, finally\nremove it. Had to tweak the bundle test accordingly.\n\nTrivialFix\n\nChange-Id: I0c860d723cd5bbc63a96f06fefb27857948912ae\n""}]",2,905755,1e1cd593a4a3f70682d3e25da7ab4985ade552f2,29,4,4,1131,,,0,"Remove string support in install_instructions

This was marked deprecated in the 'U' cycle, finally
remove it. Had to tweak the bundle test accordingly.

TrivialFix

Change-Id: I0c860d723cd5bbc63a96f06fefb27857948912ae
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/905755/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py']",2,fef72ad938d70445abe86365d53771b21ff85c96,remove-dep-str-install_instructions,,"import debtcollectorfrom os_ken.lib import ofctl_string from os_ken.ofproto import ofproto_parser if isinstance(instructions, str): debtcollector.deprecate( ""Use of string instruction is deprecated"", removal_version='U') jsonlist = ofctl_string.ofp_instruction_from_str( ofp, instructions) instructions = ofproto_parser.ofp_instruction_from_jsondict( dp, jsonlist)",2,32
openstack%2Fneutron~914526,openstack/neutron,master,Ie1a482f4a028cd61233157f992f5476117e9a6cc,Make common Metadata Proxy classes,MERGED,2024-03-27 14:43:40.000000000,2024-05-20 11:30:13.000000000,2024-05-20 11:27:11.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-27 14:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a2041222608d35645089542f357269f84c3c59b', 'message': 'Make common Metadata Proxy classes\n\nThe ML2 and OVN metadata agents have almost identical\ncode, as the former was copied to the latter and modified.\nInstead, combine all the common parts and just have\neach do any proxy-specific operations separately.\n\nChange-Id: Ie1a482f4a028cd61233157f992f5476117e9a6cc\n'}, {'number': 2, 'created': '2024-03-27 14:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22d6e7b7083c7f34d029f2df27bc5b9da2924d5e', 'message': 'Make common Metadata Proxy classes\n\nThe ML2 and OVN metadata agents have almost identical\ncode, as the former was copied to the latter and modified.\nInstead, combine all the common parts and just have\neach do any proxy-specific operations separately.\n\nChange-Id: Ie1a482f4a028cd61233157f992f5476117e9a6cc\n'}, {'number': 3, 'created': '2024-03-27 17:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b0e105e9cbeb0826610996482e9b6bc5a482406', 'message': 'Make common Metadata Proxy classes\n\nThe ML2 and OVN metadata agents have almost identical\ncode, as the former was copied to the latter and modified.\nInstead, combine all the common parts and just have\neach do any proxy-specific operations separately.\n\nChange-Id: Ie1a482f4a028cd61233157f992f5476117e9a6cc\n'}, {'number': 4, 'created': '2024-04-18 22:01:38.000000000', 'files': ['neutron/agent/ovn/metadata/server.py', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/tests/unit/agent/metadata/test_proxy_base.py', 'neutron/agent/metadata/proxy_base.py', 'neutron/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b4e9f8c26188713c6885b3851f1c11b33d78881', 'message': 'Make common Metadata Proxy classes\n\nThe ML2 and OVN metadata agents have almost identical\ncode, as the former was copied to the latter and modified.\nInstead, combine all the common parts and just have\neach do any proxy-specific operations separately.\n\nChange-Id: Ie1a482f4a028cd61233157f992f5476117e9a6cc\n'}]",21,914526,7b4e9f8c26188713c6885b3851f1c11b33d78881,30,6,4,1131,,,0,"Make common Metadata Proxy classes

The ML2 and OVN metadata agents have almost identical
code, as the former was copied to the latter and modified.
Instead, combine all the common parts and just have
each do any proxy-specific operations separately.

Change-Id: Ie1a482f4a028cd61233157f992f5476117e9a6cc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/914526/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/server.py', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/tests/unit/agent/metadata/test_proxy_base.py', 'neutron/agent/metadata/proxy_base.py', 'neutron/tests/unit/agent/metadata/test_agent.py']",6,8a2041222608d35645089542f357269f84c3c59b,common-metadata-proxy,"from neutron.agent.metadata import proxy_base self.log_p = mock.patch.object(proxy_base, 'LOG') '_get_instance_and_project_id') as get_ids: '_get_instance_and_project_id') as get_ids: '_get_instance_and_project_id') as get_ids: '_get_instance_and_project_id') as get_ids: def test_get_port_network_id(self): expected = ('device1', 'tenant1') ports = [ {'device_id': 'device1', 'tenant_id': 'tenant1', 'network_id': 'network1'} ] '_get_ports_for_remote_address', return_value=ports port = self.handler.get_port(remote_address, network_id, router_id=router_id) self.assertEqual(expected, port) def test_get_port_router_id(self): expected = ('device1', 'tenant1') ports = [ {'device_id': 'device1', 'tenant_id': 'tenant1', 'network_id': 'network1'} ] return_value=ports port = self.handler.get_port(remote_address, router_id=router_id) self.assertEqual(expected, port) def test_get_port_no_id(self): self.assertRaises(TypeError, self.handler.get_port, 'remote_address') instance_id, tenant_id = self.handler._get_instance_and_project_id(req)","import requests meta_conf.register_meta_conf_opts( meta_conf.METADATA_PROXY_HANDLER_OPTS, self.conf) self.config(auth_ca_cert=None, nova_metadata_host='9.9.9.9', nova_metadata_port=8775, metadata_proxy_shared_secret='secret', nova_metadata_protocol='http', nova_metadata_insecure=True, nova_client_cert='nova_cert', nova_client_priv_key='nova_priv_key') self.log_p = mock.patch.object(agent, 'LOG') '_get_instance_and_tenant_id') as get_ids: '_get_instance_and_tenant_id') as get_ids: '_get_instance_and_tenant_id') as get_ids: '_get_instance_and_tenant_id') as get_ids: def test_get_ports_network_id(self): expected = ['port1'] '_get_ports_for_remote_address' mock_get_ip_addr.return_value = expected ports = self.handler._get_ports(remote_address, network_id, router_id) self.assertEqual(expected, ports) def test_get_ports_router_id(self): expected = ['port1'] return_value=expected ports = self.handler._get_ports(remote_address, router_id=router_id) self.assertEqual(expected, ports) def test_get_ports_no_id(self): self.assertRaises(TypeError, self.handler._get_ports, 'remote_address') instance_id, tenant_id = self.handler._get_instance_and_tenant_id(req) def _proxy_request_test_helper(self, response_code=200, method='GET'): hdrs = {'X-Forwarded-For': '8.8.8.8'} body = 'body' req = mock.Mock(path_info='/the_path', query_string='', headers=hdrs, method=method, body=body) resp = mock.MagicMock(status_code=response_code) resp.status.__str__.side_effect = AttributeError resp.content = 'content' req.response = resp with mock.patch.object(utils, 'sign_instance_id') as sign: sign.return_value = 'signed' with mock.patch('requests.request') as mock_request: resp.headers = {'content-type': 'text/plain'} mock_request.return_value = resp retval = self.handler._proxy_request('the_id', 'tenant_id', req) mock_request.assert_called_once_with( method=method, url='http://9.9.9.9:8775/the_path', headers={ 'X-Forwarded-For': '8.8.8.8', 'X-Instance-ID-Signature': 'signed', 'X-Instance-ID': 'the_id', 'X-Tenant-ID': 'tenant_id' }, data=body, cert=(self.fake_conf.nova_client_cert, self.fake_conf.nova_client_priv_key), verify=False, timeout=60) return retval def test_proxy_request_post(self): response = self._proxy_request_test_helper(method='POST') self.assertEqual('text/plain', response.content_type) self.assertEqual('content', response.body) def test_proxy_request_200(self): response = self._proxy_request_test_helper(200) self.assertEqual('text/plain', response.content_type) self.assertEqual('content', response.body) def test_proxy_request_400(self): self.assertIsInstance(self._proxy_request_test_helper(400), webob.exc.HTTPBadRequest) def test_proxy_request_403(self): self.assertIsInstance(self._proxy_request_test_helper(403), webob.exc.HTTPForbidden) def test_proxy_request_404(self): self.assertIsInstance(self._proxy_request_test_helper(404), webob.exc.HTTPNotFound) def test_proxy_request_409(self): self.assertIsInstance(self._proxy_request_test_helper(409), webob.exc.HTTPConflict) def test_proxy_request_500(self): self.assertIsInstance(self._proxy_request_test_helper(500), webob.exc.HTTPInternalServerError) def test_proxy_request_502(self): self.assertIsInstance(self._proxy_request_test_helper(502), webob.exc.HTTPBadGateway) def test_proxy_request_503(self): self.assertIsInstance(self._proxy_request_test_helper(503), webob.exc.HTTPServiceUnavailable) def test_proxy_request_504(self): self.assertIsInstance(self._proxy_request_test_helper(504), webob.exc.HTTPGatewayTimeout) def test_proxy_request_other_code(self): with testtools.ExpectedException(Exception): self._proxy_request_test_helper(302) def test_proxy_request_conenction_error(self): req = mock.Mock(path_info='/the_path', query_string='', headers={}, method='GET', body='') with mock.patch('requests.request') as mock_request: mock_request.side_effect = requests.ConnectionError() retval = self.handler._proxy_request('the_id', 'tenant_id', req) self.assertIsInstance(retval, webob.exc.HTTPServiceUnavailable) ",448,561
openstack%2Fpython-openstackclient~919729,openstack/python-openstackclient,master,Ib59b1f599be152a25c4b6a31988c28079f552ba9,Add DeleteVolume class to v3,MERGED,2024-05-15 12:40:21.000000000,2024-05-20 11:29:55.000000000,2024-05-20 11:27:18.000000000,"[{'_account_id': 9535}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 12:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3eecdcca3b5410475d8e12597d006c1828505af2', 'message': 'Add DeleteVolume class to v3\n\nThis is done to support the volume unmanage command.\n\nChange-Id: Ib59b1f599be152a25c4b6a31988c28079f552ba9\n'}, {'number': 2, 'created': '2024-05-16 11:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/33eeb824d5bad2b0c1016177a3bcd6223d06121a', 'message': 'Add DeleteVolume class to v3\n\nThis is done to support the volume unmanage command.\n\nChange-Id: Ib59b1f599be152a25c4b6a31988c28079f552ba9\n'}, {'number': 3, 'created': '2024-05-16 12:37:14.000000000', 'files': ['openstackclient/volume/v3/volume.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/00af14b3f207db101b08ff9add5bab03a70da8b8', 'message': 'Add DeleteVolume class to v3\n\nThis is done to support the volume unmanage command.\n\nChange-Id: Ib59b1f599be152a25c4b6a31988c28079f552ba9\n'}]",1,919729,00af14b3f207db101b08ff9add5bab03a70da8b8,11,3,3,27615,,,0,"Add DeleteVolume class to v3

This is done to support the volume unmanage command.

Change-Id: Ib59b1f599be152a25c4b6a31988c28079f552ba9
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/29/919729/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/volume/v3/volume.py'],1,3eecdcca3b5410475d8e12597d006c1828505af2,add-missing-cinderclient-commands," class DeleteVolume(volume_v2.DeleteVolume): _description = _(""Delete volume(s)"") def get_parser(self, prog_name): parser = super(DeleteVolume, self).get_parser(prog_name) return parser def take_action(self, parsed_args): volume_client = self.app.client_manager.volume result = 0 for i in parsed_args.volumes: try: volume_obj = utils.find_resource(volume_client.volumes, i) if parsed_args.force: volume_client.volumes.force_delete(volume_obj.id) else: volume_client.volumes.delete( volume_obj.id, cascade=parsed_args.purge ) except Exception as e: result += 1 LOG.error( _( ""Failed to delete volume with "" ""name or ID '%(volume)s': %(e)s"" ), {'volume': i, 'e': e}, ) if result > 0: total = len(parsed_args.volumes) msg = _(""%(result)s of %(total)s volumes failed "" ""to delete."") % { 'result': result, 'total': total, } raise exceptions.CommandError(msg)",,39,0
openstack%2Fneutron~917262,openstack/neutron,master,Ic96b5ce6576c31075602e0f033fd74acbae333ee,"Rename create_flows_for_ip_address to reflect it accepts (ip, mac)",MERGED,2024-04-27 02:50:41.000000000,2024-05-20 11:29:17.000000000,2024-05-20 11:27:06.000000000,"[{'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-27 02:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b54b64805e6b4467950138a2ee0d53eab77d8f7e', 'message': 'Rename create_flows_for_ip_address to reflect it accepts (ip, mac)\n\nThe semantics changed since I2e3aa7c400d7bb17cc117b65faaa160b41013dde\nbut the name was not updated.\n\nChange-Id: Ic96b5ce6576c31075602e0f033fd74acbae333ee\n'}, {'number': 2, 'created': '2024-05-03 19:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f71558c6fe92749ee95b53c54aa220e565198f9d', 'message': 'Rename create_flows_for_ip_address to reflect it accepts (ip, mac)\n\nThe semantics changed since I2e3aa7c400d7bb17cc117b65faaa160b41013dde\nbut the name was not updated.\n\nThis patch also revealed a number of issues in unit tests where\nmock flow_states were using the old key format (bare ip) instead of the\nnew (ip, mac) tuple. These are also now fixed.\n\nChange-Id: Ic96b5ce6576c31075602e0f033fd74acbae333ee\n'}, {'number': 3, 'created': '2024-05-15 15:10:39.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d040a38f499d7d3d9dea9192a98583c1cc081ecd', 'message': 'Rename create_flows_for_ip_address to reflect it accepts (ip, mac)\n\nThe semantics changed since I2e3aa7c400d7bb17cc117b65faaa160b41013dde\nbut the name was not updated.\n\nThis patch also revealed a number of issues in unit tests where\nmock flow_states were using the old key format (bare ip) instead of the\nnew (ip, mac) tuple. These are also now fixed.\n\nChange-Id: Ic96b5ce6576c31075602e0f033fd74acbae333ee\n'}]",5,917262,d040a38f499d7d3d9dea9192a98583c1cc081ecd,32,5,3,9656,,,0,"Rename create_flows_for_ip_address to reflect it accepts (ip, mac)

The semantics changed since I2e3aa7c400d7bb17cc117b65faaa160b41013dde
but the name was not updated.

This patch also revealed a number of issues in unit tests where
mock flow_states were using the old key format (bare ip) instead of the
new (ip, mac) tuple. These are also now fixed.

Change-Id: Ic96b5ce6576c31075602e0f033fd74acbae333ee
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/917262/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",4,b54b64805e6b4467950138a2ee0d53eab77d8f7e,bug/2054435," '10.22.3.4', 'ff:ee:dd:cc:bb:aa', 'ingress', 'IPv4', 100, self.firewall.delete_flow_for_ip('10.1.2.3', None,"," ('10.22.3.4', 'ff:ee:dd:cc:bb:aa'), 'ingress', 'IPv4', 100, self.firewall.delete_flow_for_ip(('10.1.2.3', None),",24,23
openstack%2Fpython-openstackclient~917465,openstack/python-openstackclient,master,I9315e457ebd6c5ba4cc67452f92c9dc8c139ee3c,Add CreateVolume class to v3,MERGED,2024-04-29 18:00:56.000000000,2024-05-20 11:29:07.000000000,2024-05-20 11:27:14.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-29 18:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/91999effb433262624f64c96e39b63b456d8e3bc', 'message': 'Add CreateVolume class to v3\n\nThis is done to make adding/reviewing manage volume support easier.\n\nChange-Id: I9315e457ebd6c5ba4cc67452f92c9dc8c139ee3c\n'}, {'number': 2, 'created': '2024-05-16 11:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d2c20d391a6407972c090943ff78d42d25e489d4', 'message': 'Add CreateVolume class to v3\n\nThis is done to make adding/reviewing manage volume support easier.\n\nChange-Id: I9315e457ebd6c5ba4cc67452f92c9dc8c139ee3c\n'}, {'number': 3, 'created': '2024-05-16 12:37:14.000000000', 'files': ['openstackclient/volume/v2/volume.py', 'openstackclient/volume/v3/volume.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0d9ace64250f8ba9d07102f602c47f118d38ef51', 'message': ""Add CreateVolume class to v3\n\nThis patch acts as a base framework to add the parameters needed\nfor manage volume support.\nThis includes 2 changes:\n1. Move get_parser and take_action code to common methods which\ncan be utilized by both v2 and v3\n2. Make _check_size_arg as a static method and move it inside\nCreateVolume class since it's not used by other classes.\n\n[2] was initially thought to be a follow up change but since we\nare implementing changes into the _check_size_arg method for v3,\nit makes sense to just include it in CreateVolume class to avoid\nadding a new additional method. Similar changes are done for v2\nas well.\n\nChange-Id: I9315e457ebd6c5ba4cc67452f92c9dc8c139ee3c\n""}]",11,917465,0d9ace64250f8ba9d07102f602c47f118d38ef51,19,4,3,27615,,,0,"Add CreateVolume class to v3

This patch acts as a base framework to add the parameters needed
for manage volume support.
This includes 2 changes:
1. Move get_parser and take_action code to common methods which
can be utilized by both v2 and v3
2. Make _check_size_arg as a static method and move it inside
CreateVolume class since it's not used by other classes.

[2] was initially thought to be a follow up change but since we
are implementing changes into the _check_size_arg method for v3,
it makes sense to just include it in CreateVolume class to avoid
adding a new additional method. Similar changes are done for v2
as well.

Change-Id: I9315e457ebd6c5ba4cc67452f92c9dc8c139ee3c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/65/917465/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v3/volume.py', 'setup.cfg']",2,91999effb433262624f64c96e39b63b456d8e3bc,add-missing-cinderclient-commands, volume_create = openstackclient.volume.v3.volume:CreateVolume, volume_create = openstackclient.volume.v2.volume:CreateVolume,272,2
openstack%2Fpython-openstackclient~895214,openstack/python-openstackclient,master,I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3,Add support for managing volumes,MERGED,2023-09-14 20:08:48.000000000,2024-05-20 11:27:16.000000000,2024-05-20 11:27:16.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-09-14 20:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d5937e882e6cdaf138d4833c731717f639384afb', 'message': 'WIP: Add support for cinder manage\n\nChange-Id: I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3\n'}, {'number': 2, 'created': '2024-01-16 18:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1058c80513857e2cbc0a3e9c25031cc064bd8d6e', 'message': 'WIP: Add support for cinder manage\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/895213\n\nChange-Id: I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3\n'}, {'number': 3, 'created': '2024-02-15 21:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b114c1d079466d89424cbe54eb14b261609fe07a', 'message': 'WIP: Add support for cinder manage\n\nChange-Id: I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3\n'}, {'number': 4, 'created': '2024-02-19 07:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e2eaab0397466bd2dde3b5b582dc9b09d2a48fb7', 'message': 'Add support for managing volumes\n\nThis patch adds support for the cinder manage command to\nbring a volume under OpenStack management.\n\nChange-Id: I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3\n'}, {'number': 5, 'created': '2024-04-04 13:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ebb6911c561d00ccdcfc82c51d72763aa42a924b', 'message': 'Add support for managing volumes\n\nThis patch adds support for the cinder manage command to\nbring a volume under OpenStack management.\n\nChange-Id: I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3\n'}, {'number': 6, 'created': '2024-04-29 19:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4697b5529d4da16d9723233630a04f4551463542', 'message': 'Add support for managing volumes\n\nThis patch adds support for the cinder manage command to\nbring a volume under OpenStack management.\n\nChange-Id: I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3\n'}, {'number': 7, 'created': '2024-05-07 19:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/594ba762dfdb80fa6acce2034c165f0a90aeb493', 'message': 'Add support for managing volumes\n\nThis patch adds support for the cinder manage command to\nbring a volume under OpenStack management.\n\nChange-Id: I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3\n'}, {'number': 8, 'created': '2024-05-16 11:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d43b69bbc2167dea6a70152f21a258547c7cab6d', 'message': 'Add support for managing volumes\n\nThis patch adds support for the cinder manage command to\nbring a volume under OpenStack management.\n\nChange-Id: I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3\n'}, {'number': 9, 'created': '2024-05-16 12:37:14.000000000', 'files': ['releasenotes/notes/add-volume-manage-command-088890446d0e81c7.yaml', 'openstackclient/volume/v3/volume.py', 'openstackclient/tests/unit/volume/v3/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cc7773f53bac61f602ce8ebc908878fd0914724c', 'message': 'Add support for managing volumes\n\nThis patch adds support for the cinder manage command to\nbring a volume under OpenStack management.\n\nChange-Id: I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3\n'}]",32,895214,cc7773f53bac61f602ce8ebc908878fd0914724c,30,4,9,27615,,,0,"Add support for managing volumes

This patch adds support for the cinder manage command to
bring a volume under OpenStack management.

Change-Id: I12b63bfc4f0c9bc29cf9d4efd9a5cd038ec00af3
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/14/895214/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/volume/v2/volume.py'],1,d5937e882e6cdaf138d4833c731717f639384afb,add-missing-cinderclient-commands," parser.add_argument( ""--remote-source"", metavar=""<key=value>"", action=parseractions.KeyValueAction, help=_( ""The attribute(s) of the existing remote volume "" ""(admin required) (repeat option to specify multiple "" ""attributes) e.g.: '--remote-source source-name=test_name "" ""--remote-source source-id=test_id'"" ), ) parser.add_argument( ""--host"", metavar=""<host>"", help=_( ""Cinder host on which the existing volume resides; "" ""takes the form: host@backend-name#pool"" ), ) volume_client_sdk = self.app.client_manager.sdk_connection.volume if parsed_args.remote_source: volume = volume_client_sdk.manage_volume( host=parsed_args.host, ref=parsed_args.remote_source, name=parsed_args.name, description=parsed_args.description, volume_type=parsed_args.type, availability_zone=parsed_args.availability_zone, metadata=parsed_args.property, bootable=parsed_args.bootable, cluster=getattr(parsed_args, 'cluster', None)) return zip(*sorted(volume.items())) ",,33,0
openstack%2Fpython-neutronclient~913291,openstack/python-neutronclient,master,I8db7b4cc61b810887b0a675efa562f089821e8ec,Fix insert and remove rule from firewall policy,MERGED,2024-03-15 08:43:36.000000000,2024-05-20 11:20:52.000000000,2024-05-20 11:19:44.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 31823}]","[{'number': 1, 'created': '2024-03-15 08:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/74bf9c7aa1fe53f7d293aa24dd285da9872eadb6', 'message': 'Fix insert and remove rule from firewall policy\n\nThis change fixes the incompatability with the openstacksdk\nfor inserting and removing rules from firewall policiese.\n\nCloses-Bug: #2057816\nChange-Id: I8db7b4cc61b810887b0a675efa562f089821e8ec\n'}, {'number': 2, 'created': '2024-03-15 19:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/12d5eddb3cd87fab5d60c8f88adcf44be699ffc7', 'message': 'Fix insert and remove rule from firewall policy\n\nThis change fixes the incompatability with the openstacksdk\nfor inserting and removing rules from firewall policiese.\n\nCloses-Bug: #2057816\nChange-Id: I8db7b4cc61b810887b0a675efa562f089821e8ec\n'}, {'number': 3, 'created': '2024-04-12 08:43:15.000000000', 'files': ['neutronclient/tests/unit/osc/v2/fwaas/test_firewallpolicy.py', 'neutronclient/osc/v2/fwaas/firewallpolicy.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2169b2bbab1b09c320d4eeeb2b341c99b4c3ef87', 'message': 'Fix insert and remove rule from firewall policy\n\nThis change fixes the incompatability with the openstacksdk\nfor inserting and removing rules from firewall policiese.\n\nCloses-Bug: #2057816\nChange-Id: I8db7b4cc61b810887b0a675efa562f089821e8ec\n'}]",7,913291,2169b2bbab1b09c320d4eeeb2b341c99b4c3ef87,16,5,3,31823,,,0,"Fix insert and remove rule from firewall policy

This change fixes the incompatability with the openstacksdk
for inserting and removing rules from firewall policiese.

Closes-Bug: #2057816
Change-Id: I8db7b4cc61b810887b0a675efa562f089821e8ec
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/91/913291/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/osc/v2/fwaas/test_firewallpolicy.py', 'neutronclient/osc/v2/fwaas/firewallpolicy.py']",2,74bf9c7aa1fe53f7d293aa24dd285da9872eadb6,bug/2057816," try: policy_id = client.find_firewall_policy( parsed_args.firewall_policy)['id'] except Exception as e: msg = (_(""Failed to add rule to firewall "" ""policy '%(policy)s': %(e)s"") % {'policy': parsed_args.firewall_policy, 'e': e}) raise exceptions.CommandError(msg) rule_id = _get_required_firewall_rule(client, parsed_args) insert_before = None if 'insert_before' in parsed_args: if parsed_args.insert_before: insert_before = client.find_firewall_rule( parsed_args.insert_before)['id'] insert_after = None if 'insert_after' in parsed_args: if parsed_args.insert_after: insert_after = client.find_firewall_rule( parsed_args.insert_after)['id'] client.insert_rule_into_policy( policy_id, rule_id, insert_after=insert_after, insert_before=insert_before ) try: policy_id = client.find_firewall_policy( parsed_args.firewall_policy)['id'] except Exception as e: msg = (_(""Failed to remove rule from firewall "" ""policy '%(policy)s': %(e)s"") % {'policy': parsed_args.firewall_policy, 'e': e}) raise exceptions.CommandError(msg) client.remove_rule_from_policy(policy_id, fwr_id) '%(policy)s') % {'rule': fwr_id, 'policy': policy}),"," def args2body(self, parsed_args): client = self.app.client_manager.network _rule_id = _get_required_firewall_rule(client, parsed_args) _insert_before = '' if 'insert_before' in parsed_args: if parsed_args.insert_before: _insert_before = client.find_firewall_rule( parsed_args.insert_before)['id'] _insert_after = '' if 'insert_after' in parsed_args: if parsed_args.insert_after: _insert_after = client.find_firewall_rule( parsed_args.insert_after)['id'] return {'firewall_rule_id': _rule_id, 'insert_before': _insert_before, 'insert_after': _insert_after} policy_id = client.find_firewall_policy( parsed_args.firewall_policy)['id'] body = self.args2body(parsed_args) client.insert_rule_into_policy(policy_id, body) rule_id = body['firewall_rule_id'] policy_id = client.find_firewall_policy( parsed_args.firewall_policy)['id'] body = {'firewall_rule_id': fwr_id} client.remove_rule_from_policy(policy_id, body) rule_id = body['firewall_rule_id'] '%(policy)s') % {'rule': rule_id, 'policy': policy}),",39,35
openstack%2Fovn-octavia-provider~918302,openstack/ovn-octavia-provider,master,I7c39d9ff9f735483b1ae9c351e2b945b9f534910,Add pre-commit configuration,MERGED,2024-05-06 10:51:37.000000000,2024-05-20 11:18:23.000000000,2024-05-20 11:16:48.000000000,"[{'_account_id': 9656}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2024-05-06 10:51:37.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7eba634b1f41c6854a8a4c85abbd1d04f27e93fa', 'message': ""Add pre-commit configuration\n\n'pre-commit' tool [1] provides an extensible way to configure hooks\nwhich can be run automatically before each commit. That way we can make\nsure that code send to review is passing base static analysis checks\nlike e.g. bandit, flake8 or hacking.\n\nFor now this is optional to use and not integrated in e.g. tox.ini file\nbut we can integrate it there too as next step.\n\n[1] https://pre-commit.com/\n\nChange-Id: I7c39d9ff9f735483b1ae9c351e2b945b9f534910\n""}]",1,918302,7eba634b1f41c6854a8a4c85abbd1d04f27e93fa,8,3,1,11975,,,0,"Add pre-commit configuration

'pre-commit' tool [1] provides an extensible way to configure hooks
which can be run automatically before each commit. That way we can make
sure that code send to review is passing base static analysis checks
like e.g. bandit, flake8 or hacking.

For now this is optional to use and not integrated in e.g. tox.ini file
but we can integrate it there too as next step.

[1] https://pre-commit.com/

Change-Id: I7c39d9ff9f735483b1ae9c351e2b945b9f534910
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/02/918302/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,7eba634b1f41c6854a8a4c85abbd1d04f27e93fa,pre-commit-hook,"--- default_language_version: # force all unspecified python hooks to run python3 python: python3 repos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: v4.5.0 hooks: - id: trailing-whitespace - id: mixed-line-ending args: ['--fix', 'lf'] exclude: '.*\.(svg)$' - id: check-byte-order-marker - id: check-executables-have-shebangs - id: check-merge-conflict - id: debug-statements - id: check-yaml - repo: https://github.com/lucas-c/pre-commit-hooks rev: v1.5.4 hooks: - id: remove-tabs exclude: '.*\.(svg)$' - repo: local hooks: - id: flake8 name: flake8 additional_dependencies: - hacking>=6.1.0,<6.2.0 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$' # todo(slaweq): enable pylint check once all issues in the current code will # be solved # - id: pylint # name: pylint # entry: pylint # files: ^ovn_octavia_provider/ # language: system # types: [python] # args: ['--rcfile=.pylintrc', '--output-format=colorized'] ",,41,0
openstack%2Fovn-octavia-provider~918301,openstack/ovn-octavia-provider,master,Idde0e874ef3b5f7ff8a48c78d3d63b8ea4a53dcc,Fix small flake8 issues pointed out by the pre-commit script,MERGED,2024-05-06 10:51:37.000000000,2024-05-20 11:17:26.000000000,2024-05-20 11:16:23.000000000,"[{'_account_id': 9656}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2024-05-06 10:51:37.000000000', 'files': ['ovn_octavia_provider/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f4769efb9256fa07d6f6beae5549c3b92db93dfe', 'message': 'Fix small flake8 issues pointed out by the pre-commit script\n\nTrivialFix\n\nChange-Id: Idde0e874ef3b5f7ff8a48c78d3d63b8ea4a53dcc\n'}]",0,918301,f4769efb9256fa07d6f6beae5549c3b92db93dfe,8,3,1,11975,,,0,"Fix small flake8 issues pointed out by the pre-commit script

TrivialFix

Change-Id: Idde0e874ef3b5f7ff8a48c78d3d63b8ea4a53dcc
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/01/918301/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/hacking/checks.py'],1,f4769efb9256fa07d6f6beae5549c3b92db93dfe,pre-commit-hook,"import_mock = re.compile(r""\bimport[\s]+mock\b"") # noqa: H216 yield (0, msg) yield (0, msg) yield (0, msg)","import_mock = re.compile(r""\bimport[\s]+mock\b"") yield(0, msg) yield(0, msg) yield(0, msg)",4,4
openstack%2Fopenstack-ansible~919714,openstack/openstack-ansible,master,I69f2f9e1c04ac131620657df0e11c0744fa0361b,Use NFS Ganesha 5,MERGED,2024-05-15 10:56:35.000000000,2024-05-20 10:55:56.000000000,2024-05-20 10:54:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-15 10:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d7b821964fa97916c44d673e27c5e25a5447fe19', 'message': 'Use NFS Ganesha 5\n\nWith upgrade of Ceph to Reef we also need to use NFS Ganesha of version 5\n\nChange-Id: I69f2f9e1c04ac131620657df0e11c0744fa0361b\n'}, {'number': 2, 'created': '2024-05-15 15:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c6cc9da0175110aba973df5f4e87574e4ff2cce3', 'message': 'Use NFS Ganesha 5\n\nWith upgrade of Ceph to Reef we also need to use NFS Ganesha of version 5\n\nChange-Id: I69f2f9e1c04ac131620657df0e11c0744fa0361b\n'}, {'number': 3, 'created': '2024-05-16 13:18:55.000000000', 'files': ['inventory/group_vars/ceph_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/741b4610a6bd7151ea84fbe1f023a549ae66b32a', 'message': 'Use NFS Ganesha 5\n\nWith upgrade of Ceph to Reef we also need to use NFS Ganesha of version 5\n\nChange-Id: I69f2f9e1c04ac131620657df0e11c0744fa0361b\n'}]",0,919714,741b4610a6bd7151ea84fbe1f023a549ae66b32a,12,3,3,28619,,,0,"Use NFS Ganesha 5

With upgrade of Ceph to Reef we also need to use NFS Ganesha of version 5

Change-Id: I69f2f9e1c04ac131620657df0e11c0744fa0361b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/14/919714/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/ceph_all.yml'],1,d7b821964fa97916c44d673e27c5e25a5447fe19,,nfs_ganesha_stable_deb_repo: http://ppa.launchpad.net/nfs-ganesha/nfs-ganesha-5/ubuntu libntirpc_stable_deb_repo: http://ppa.launchpad.net/nfs-ganesha/libntirpc-5/ubuntu,,2,0
openstack%2Ftempest~920011,openstack/tempest,master,Id96bd9b30598844457963b842f741e5f4bad7c74,Increase swap size of tempest-integrated-storage,NEW,2024-05-20 06:11:39.000000000,2024-05-20 10:54:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-20 06:11:39.000000000', 'files': ['zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1eca493977d6300caa18274f35732f95653ab3ab', 'message': 'Increase swap size of tempest-integrated-storage\n\nThe tempest-integrated-storage job occasionally fails because of OOM\nduring tempest tests. Increase swap size from 4096 to 8192 to avoid\nfrequent memory shortage.\n\nChange-Id: Id96bd9b30598844457963b842f741e5f4bad7c74\n'}]",1,920011,1eca493977d6300caa18274f35732f95653ab3ab,4,1,1,9816,,,0,"Increase swap size of tempest-integrated-storage

The tempest-integrated-storage job occasionally fails because of OOM
during tempest tests. Increase swap size from 4096 to 8192 to avoid
frequent memory shortage.

Change-Id: Id96bd9b30598844457963b842f741e5f4bad7c74
",git fetch https://review.opendev.org/openstack/tempest refs/changes/11/920011/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,1eca493977d6300caa18274f35732f95653ab3ab,, configure_swap_size: 8192,,1,0
openstack%2Fcinder~920006,openstack/cinder,master,Ib50a78a549d3bd20f98e4b51298b5ce9bd276b10,Fix: [Ceph] Restore to a larger disk than the backup,ABANDONED,2024-05-20 03:03:08.000000000,2024-05-20 10:50:35.000000000,,[],"[{'number': 1, 'created': '2024-05-20 03:03:08.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/560c11f0ac4b940987bdd4e26f492e2ecfaf24fa', 'message': ""Fix: [Ceph] Restore to a larger disk than the backup\n\nWhen restoring to a disk older than the backup, you need to write\n'\\0', but the current syntax needs to be compatible with python3.\n\nChange-Id: Ib50a78a549d3bd20f98e4b51298b5ce9bd276b10\n""}]",0,920006,560c11f0ac4b940987bdd4e26f492e2ecfaf24fa,4,0,1,36978,,,0,"Fix: [Ceph] Restore to a larger disk than the backup

When restoring to a disk older than the backup, you need to write
'\0', but the current syntax needs to be compatible with python3.

Change-Id: Ib50a78a549d3bd20f98e4b51298b5ce9bd276b10
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/920006/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,560c11f0ac4b940987bdd4e26f492e2ecfaf24fa,, zeroes = b'\0' * self.chunk_size zeroes = b'\0' * rem, zeroes = '\0' * self.chunk_size zeroes = '\0' * rem,2,2
openstack%2Fcinder~918434,openstack/cinder,master,I2cbae1b6759da8271b481541bf5ba7647de3498f,Remove fallback for Python 2,NEW,2024-05-07 12:09:22.000000000,2024-05-20 10:44:44.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-07 12:09:22.000000000', 'files': ['cinder/api/urlmap.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7dae0e5bdf3151b60e88ee6b5f77b335ed76f026', 'message': 'Remove fallback for Python 2\n\nPython 2 is no longer supported, thus fallback to urllib2 is no longer\nused.\n\nChange-Id: I2cbae1b6759da8271b481541bf5ba7647de3498f\n'}]",1,918434,7dae0e5bdf3151b60e88ee6b5f77b335ed76f026,24,2,1,9816,,,0,"Remove fallback for Python 2

Python 2 is no longer supported, thus fallback to urllib2 is no longer
used.

Change-Id: I2cbae1b6759da8271b481541bf5ba7647de3498f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/918434/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/urlmap.py'],1,7dae0e5bdf3151b60e88ee6b5f77b335ed76f026,remove-urllib2,from urllib.request import parse_http_list,try: from urllib.request import parse_http_list # pylint: disable=E0611 except ImportError: from urllib2 import parse_http_list # Python 2,1,4
openstack%2Fopenstack-ansible-os_cinder~919674,openstack/openstack-ansible-os_cinder,master,I6f4d5f3388b71ce874650558b2566f795361a6c7,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:16:05.000000000,2024-05-20 10:35:06.000000000,2024-05-20 10:34:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/18b5e5fd73f9725f5eee9793bd18375baca29431', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I6f4d5f3388b71ce874650558b2566f795361a6c7\n""}, {'number': 2, 'created': '2024-05-16 15:33:36.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/6a649aea8c39b443b19ab6ed7580ba53336398cf', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919816\nChange-Id: I6f4d5f3388b71ce874650558b2566f795361a6c7\n""}]",1,919674,6a649aea8c39b443b19ab6ed7580ba53336398cf,13,3,2,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919816
Change-Id: I6f4d5f3388b71ce874650558b2566f795361a6c7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/74/919674/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,18b5e5fd73f9725f5eee9793bd18375baca29431,osa/rmq-migrate, - post-install,,1,0
openstack%2Fovn-octavia-provider~919482,openstack/ovn-octavia-provider,master,Id355fcb0ad5b66bf646be2e4ccbdacf1b40c1d7c,Return DELETED status when deleting a nonexistent member,MERGED,2024-05-13 08:40:24.000000000,2024-05-20 10:31:47.000000000,2024-05-20 10:30:34.000000000,"[{'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 29244}, {'_account_id': 34451}]","[{'number': 1, 'created': '2024-05-13 08:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9f73b63da66acc2308abc254ba4ab2e165437994', 'message': ""Return DELETED status when deleting a nonexistent member\n\nThis patch changes the provisioning_status returned to octavia-api\nfor the deletion operation of a member that doesn't exist associated\nwith a pool. Instead of returning ERROR for not having located it,\nwe will return DELETED to sync OVN DB with  Octavia DB. This way,\nthe user won't be able to perform unnecessary UPDATE/DELETE\noperations on this member in the future.\n\nCloses-Bug: #2065566\nChange-Id: Id355fcb0ad5b66bf646be2e4ccbdacf1b40c1d7c\n""}, {'number': 2, 'created': '2024-05-13 09:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9c94dbc4e556a9955ef38b62c7b9c915fa9f8b32', 'message': ""Return DELETED status when deleting a nonexistent member\n\nThis patch changes the provisioning_status returned to octavia-api\nfor the deletion operation of a member that doesn't exist associated\nwith a pool. Instead of returning ERROR for not having located it,\nwe will return DELETED to sync OVN DB with  Octavia DB. This way,\nthe user won't be able to perform unnecessary UPDATE/DELETE\noperations on this member in the future.\n\nCloses-Bug: #2065566\nChange-Id: Id355fcb0ad5b66bf646be2e4ccbdacf1b40c1d7c\n""}, {'number': 3, 'created': '2024-05-13 15:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5e1dbf2b3b37a354e86310d0d0597ef1953179ce', 'message': ""Return DELETED status when deleting a nonexistent member\n\nThis patch changes the provisioning_status returned to octavia-api\nfor the deletion operation of a member that doesn't exist associated\nwith a pool. Instead of returning ERROR for not having located it,\nwe will return DELETED to sync OVN DB with  Octavia DB. This way,\nthe user won't be able to perform unnecessary UPDATE/DELETE\noperations on this member in the future.\n\nCloses-Bug: #2065566\nChange-Id: Id355fcb0ad5b66bf646be2e4ccbdacf1b40c1d7c\n""}, {'number': 4, 'created': '2024-05-14 06:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/17ee9aee005559d18e2aeaab51cf66f765eb41ed', 'message': ""Return DELETED status when deleting a nonexistent member\n\nThis patch changes the provisioning_status returned to octavia-api\nfor the deletion operation of a member that doesn't exist associated\nwith a pool. Instead of returning ERROR for not having located it,\nwe will return DELETED to sync OVN DB with  Octavia DB. This way,\nthe user won't be able to perform unnecessary UPDATE/DELETE\noperations on this member in the future.\n\nCloses-Bug: #2065566\nChange-Id: Id355fcb0ad5b66bf646be2e4ccbdacf1b40c1d7c\n""}, {'number': 5, 'created': '2024-05-16 16:20:34.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/aeac73a0663650efcab96828452753e2db42a7b1', 'message': ""Return DELETED status when deleting a nonexistent member\n\nThis patch changes the provisioning_status returned to octavia-api\nfor the deletion operation of a member that doesn't exist associated\nwith a pool. Instead of returning ERROR for not having located it,\nwe will return DELETED to sync OVN DB with  Octavia DB. This way,\nthe user won't be able to perform unnecessary UPDATE/DELETE\noperations on this member in the future.\n\nCloses-Bug: #2065566\nChange-Id: Id355fcb0ad5b66bf646be2e4ccbdacf1b40c1d7c\n""}]",7,919482,aeac73a0663650efcab96828452753e2db42a7b1,27,6,5,34451,,,0,"Return DELETED status when deleting a nonexistent member

This patch changes the provisioning_status returned to octavia-api
for the deletion operation of a member that doesn't exist associated
with a pool. Instead of returning ERROR for not having located it,
we will return DELETED to sync OVN DB with  Octavia DB. This way,
the user won't be able to perform unnecessary UPDATE/DELETE
operations on this member in the future.

Closes-Bug: #2065566
Change-Id: Id355fcb0ad5b66bf646be2e4ccbdacf1b40c1d7c
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/82/919482/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,9f73b63da66acc2308abc254ba4ab2e165437994,, constants.DELETED), constants.ERROR),8,7
openstack%2Fopenstack-ansible-os_magnum~918119,openstack/openstack-ansible-os_magnum,master,Iec2e6be8d2138e331f1109f2450c8062ad9068ed,Add variable to globally control notifications enablement,MERGED,2024-05-03 17:59:00.000000000,2024-05-20 10:29:36.000000000,2024-05-20 10:28:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-03 17:59:00.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml', 'templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/5ba3084fef837fe2875512dd9b4f0e3b167daf5a', 'message': 'Add variable to globally control notifications enablement\n\nIn order to be able to globally enable notification reporting for all services,\nwithout an need to have ceilometer deployed or bunch of overrides for each\nservice, we add `oslomsg_notify_enabled` variable that aims to control\nbehaviour of enabled notifications.\n\nPresence of ceilometer is still respected by default and being referenced.\n\nPotential usecase are various billing panels that do rely on notifications\nbut do not require presence of Ceilometer.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/914144\nChange-Id: Iec2e6be8d2138e331f1109f2450c8062ad9068ed\n'}]",1,918119,5ba3084fef837fe2875512dd9b4f0e3b167daf5a,10,3,1,28619,,,0,"Add variable to globally control notifications enablement

In order to be able to globally enable notification reporting for all services,
without an need to have ceilometer deployed or bunch of overrides for each
service, we add `oslomsg_notify_enabled` variable that aims to control
behaviour of enabled notifications.

Presence of ceilometer is still respected by default and being referenced.

Potential usecase are various billing panels that do rely on notifications
but do not require presence of Ceilometer.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/914144
Change-Id: Iec2e6be8d2138e331f1109f2450c8062ad9068ed
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/19/918119/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml', 'templates/magnum.conf.j2']",3,5ba3084fef837fe2875512dd9b4f0e3b167daf5a,osa/messaging_improvements,"driver = {{ (magnum_oslomsg_notify_configure | bool) | ternary('messagingv2', 'noop') }}","driver = {{ (magnum_ceilometer_enabled | bool) | ternary('messagingv2', 'noop') }}",3,1
openstack%2Fopenstack-ansible-os_horizon~919995,openstack/openstack-ansible-os_horizon,master,I90a4464ad8f652603ae0a4fff4ea26ba4a7f044e,Remove sahara and murano UI installation,MERGED,2024-05-18 15:39:23.000000000,2024-05-20 10:23:05.000000000,2024-05-20 10:21:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-18 15:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/7e99edd040260ae05557494d5a29258b242d3af3', 'message': ""Remove sahara UI from distro packages\n\nSahara has been retired, so it's UI package was never released for C\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919994\nChange-Id: I90a4464ad8f652603ae0a4fff4ea26ba4a7f044e\n""}, {'number': 2, 'created': '2024-05-18 15:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/a887680555d3105913b2485e3baf5d90c52f9479', 'message': ""Remove sahara UI from distro packages\n\nSahara has been retired, so it's UI package was never released for C\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919994\nChange-Id: I90a4464ad8f652603ae0a4fff4ea26ba4a7f044e\n""}, {'number': 3, 'created': '2024-05-18 19:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/137aec90663910d9675d7d6a4a24df8683dae82e', 'message': ""Remove sahara and murano UI installation\n\nSahara and Murano projects were retired, so it's UI package was never released for C\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919994\nChange-Id: I90a4464ad8f652603ae0a4fff4ea26ba4a7f044e\n""}, {'number': 4, 'created': '2024-05-18 19:01:59.000000000', 'files': ['tasks/horizon_install_source.yml', 'vars/redhat.yml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/3a0f43cd065530a40a4fa90b6d21541d1241c425', 'message': ""Remove sahara and murano UI installation\n\nSahara and Murano projects were retired, so it's UI package was never released for C\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919994\nChange-Id: I90a4464ad8f652603ae0a4fff4ea26ba4a7f044e\n""}]",0,919995,3a0f43cd065530a40a4fa90b6d21541d1241c425,12,3,4,28619,,,0,"Remove sahara and murano UI installation

Sahara and Murano projects were retired, so it's UI package was never released for C

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919994
Change-Id: I90a4464ad8f652603ae0a4fff4ea26ba4a7f044e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/95/919995/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,7e99edd040260ae05557494d5a29258b242d3af3,,, - openstack-sahara-ui,0,1
openstack%2Fopenstack-ansible-os_magnum~918117,openstack/openstack-ansible-os_magnum,master,I6d1aba8d0eca3d8316103b8f2f104a157136ff17,Add service policies defenition,MERGED,2024-05-03 17:55:45.000000000,2024-05-20 10:18:46.000000000,2024-05-20 10:17:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-03 17:55:45.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/5efe49bdd15196942612a1b7990cc4cf4455839a', 'message': ""Add service policies defenition\n\nIn order to allow definition of policies per service, we need to add variables\nto service roles, that will be passed to openstack.osa.mq_setup.\n\nCurrently this can be handled by leveraging group_vars and overriding `oslomsg_rpc_policies` as a whole, but it's not obvious and\ncan be non-trivial for some groups which are co-locating multiple services\nor in case of metal deployments.\n\nChange-Id: I6d1aba8d0eca3d8316103b8f2f104a157136ff17\n""}]",14,918117,5efe49bdd15196942612a1b7990cc4cf4455839a,35,3,1,28619,,,0,"Add service policies defenition

In order to allow definition of policies per service, we need to add variables
to service roles, that will be passed to openstack.osa.mq_setup.

Currently this can be handled by leveraging group_vars and overriding `oslomsg_rpc_policies` as a whole, but it's not obvious and
can be non-trivial for some groups which are co-locating multiple services
or in case of metal deployments.

Change-Id: I6d1aba8d0eca3d8316103b8f2f104a157136ff17
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/17/918117/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,5efe49bdd15196942612a1b7990cc4cf4455839a,osa/messaging_improvements,magnum_oslomsg_rpc_policies: []magnum_oslomsg_notify_policies: [],,4,0
openstack%2Fhacking~920022,openstack/hacking,master,I3f15376db78886b7eecad3fdfdd363c6ea5d19c6,Remove Python 2->3 checks,NEW,2024-05-20 09:55:23.000000000,2024-05-20 10:14:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-20 09:55:23.000000000', 'files': ['hacking/checks/python23.py', 'releasenotes/notes/remove-python23-checks-f1be3588a2a83522.yaml', 'setup.cfg', 'hacking/checks/except_checks.py'], 'web_link': 'https://opendev.org/openstack/hacking/commit/006d92eda21bcb5747d4eb3db63334985827f309', 'message': ""Remove Python 2->3 checks\n\nThese were not running on Python 3 codebases which is everything now.\n\nNote that 'assertEquals'/'assertNotEquals', which is checked for by one\ntest, is still present in some codebases, despite it being removed in\nPython 3. This is because this variant is added by testttools, which\nadds its own deprecation warning that we don't need to duplicate.\n\nChange-Id: I3f15376db78886b7eecad3fdfdd363c6ea5d19c6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,920022,006d92eda21bcb5747d4eb3db63334985827f309,2,1,1,15334,,,0,"Remove Python 2->3 checks

These were not running on Python 3 codebases which is everything now.

Note that 'assertEquals'/'assertNotEquals', which is checked for by one
test, is still present in some codebases, despite it being removed in
Python 3. This is because this variant is added by testttools, which
adds its own deprecation warning that we don't need to duplicate.

Change-Id: I3f15376db78886b7eecad3fdfdd363c6ea5d19c6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/hacking refs/changes/22/920022/1 && git format-patch -1 --stdout FETCH_HEAD,"['hacking/checks/python23.py', 'releasenotes/notes/remove-python23-checks-f1be3588a2a83522.yaml', 'setup.cfg', 'hacking/checks/except_checks.py']",4,006d92eda21bcb5747d4eb3db63334985827f309,trivial," """"""Check whether an AST node corresponds to None."""""" """"""NodeVisitor to check function calls for None arguments. """""" """"""NodeVisitor to find ""assert[True|False](some comparison)"" statements. """""""," '''Check whether an AST node corresponds to None.''' '''NodeVisitor to check function calls for None arguments. ''' '''NodeVisitor to find ""assert[True|False](some comparison)"" statements. '''",21,245
openstack%2Fkolla-ansible~913901,openstack/kolla-ansible,master,I45f3f90ec1973dae92131ea16a7b248ab7a8ae69,Use the running MariaDB server image for backups,NEW,2024-03-21 13:34:06.000000000,2024-05-20 10:06:34.000000000,,"[{'_account_id': 167}, {'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-21 13:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15c3a8ad11722d9b9b93c2625db7c72b72d13528', 'message': ""Use the running MariaDB server image for backups\n\nIf the container image used by Mariabackup is different than the\none used by MariaDB server, it's possible that mariabackup and mariadb\nare incompatible. This may cause backup operations to fail.\n\nThis change queries the running MariaDB server container's image and\nuses it when taking a backup. If MariaDB server isn't running on the\nhost it falls back to the image defined in configuration.\n\nThe separate mariabackup_image, mariabackup_tag and\nmariabackup_image_full variables are no longer required and have been\nremoved.\n\nCloses-Bug: #2058644\nChange-Id: I45f3f90ec1973dae92131ea16a7b248ab7a8ae69\n""}, {'number': 2, 'created': '2024-05-16 10:22:52.000000000', 'files': ['ansible/roles/mariadb/tasks/backup.yml', 'ansible/roles/mariadb/defaults/main.yml', 'releasenotes/notes/bug-2058644-1db8786303234787.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/667d153ef1668f48566f3ed7e2846649b36dea5e', 'message': ""Use the running MariaDB server image for backups\n\nIf the container image used by Mariabackup is different than the\none used by MariaDB server, it's possible that mariabackup and mariadb\nare incompatible. This may cause backup operations to fail.\n\nThis change queries the running MariaDB server container's image and\nuses it when taking a backup. If MariaDB server isn't running on the\nhost it falls back to the image defined in configuration.\n\nThe separate mariabackup_image, mariabackup_tag and\nmariabackup_image_full variables are no longer required and have been\nremoved.\n\nCloses-Bug: #2058644\nChange-Id: I45f3f90ec1973dae92131ea16a7b248ab7a8ae69\n""}]",6,913901,667d153ef1668f48566f3ed7e2846649b36dea5e,13,3,2,14826,,,0,"Use the running MariaDB server image for backups

If the container image used by Mariabackup is different than the
one used by MariaDB server, it's possible that mariabackup and mariadb
are incompatible. This may cause backup operations to fail.

This change queries the running MariaDB server container's image and
uses it when taking a backup. If MariaDB server isn't running on the
host it falls back to the image defined in configuration.

The separate mariabackup_image, mariabackup_tag and
mariabackup_image_full variables are no longer required and have been
removed.

Closes-Bug: #2058644
Change-Id: I45f3f90ec1973dae92131ea16a7b248ab7a8ae69
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/913901/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/mariadb/tasks/backup.yml', 'zuul.d/project.yaml', 'ansible/roles/mariadb/defaults/main.yml', 'releasenotes/notes/bug-2058644-1db8786303234787.yaml']",4,15c3a8ad11722d9b9b93c2625db7c72b72d13528,,--- upgrade: - | MariaDB backup now uses the same image as the running MariaDB server. The following variables relating to MariaDB backups are no longer used and have been removed: * ``mariabackup_image`` * ``mariabackup_tag`` * ``mariabackup_image_full`` fixes: - | Modifies the MariaDB procedure to use the same container image as the running MariaDB server container. This should prevent compatibility issues that may cause the backup to fail. ,,28,104
openstack%2Fneutron~914917,openstack/neutron,master,Id819ae9d61c9d831d38efa0153b45d13a96a7d1e,Increase code coverage for ip_lib sysctl(),MERGED,2024-04-02 20:03:09.000000000,2024-05-20 09:45:41.000000000,2024-05-20 09:44:29.000000000,"[{'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 20:03:09.000000000', 'files': ['neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/546b796f43ed535056407a3c9fe77f0720c1510d', 'message': 'Increase code coverage for ip_lib sysctl()\n\nNoticed there were no ""get"" sysctl tests in cover output,\nadd two simple ones.\n\nTrivialFix\n\nChange-Id: Id819ae9d61c9d831d38efa0153b45d13a96a7d1e\n'}]",0,914917,546b796f43ed535056407a3c9fe77f0720c1510d,10,4,1,1131,,,0,"Increase code coverage for ip_lib sysctl()

Noticed there were no ""get"" sysctl tests in cover output,
add two simple ones.

TrivialFix

Change-Id: Id819ae9d61c9d831d38efa0153b45d13a96a7d1e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/914917/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/agent/linux/test_ip_lib.py'],1,546b796f43ed535056407a3c9fe77f0720c1510d,add-get-sysctl-tests,"class TestGetSysctl(base.BaseTestCase): @mock.patch.object(ip_lib, 'IPWrapper') def test_get_ip_nonlocal_bind(self, mIPWrapper): cmd = ['sysctl', '-bn', ip_lib.IP_NONLOCAL_BIND] ip_lib.get_ip_nonlocal_bind() mIPWrapper.assert_has_calls([ mock.call().netns.execute(cmd, run_as_root=True, privsep_exec=True) ]) @mock.patch.object(ip_lib, 'IPWrapper') def test_get_ipv6_forwarding(self, mIPWrapper): cmd = ['sysctl', '-b', 'net.ipv6.conf.tap0.forwarding'] ip_lib.get_ipv6_forwarding('tap0') mIPWrapper.assert_has_calls([ mock.call().netns.execute(cmd, run_as_root=True, privsep_exec=True) ]) ",,18,0
openstack%2Fmagnum~919560,openstack/magnum,master,I59c3c98fdef93b2c4fc0f867b2f9c200b23ab705,Add tests for Kubernetes v1.28.9,NEW,2024-05-14 11:27:04.000000000,2024-05-20 09:29:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-14 11:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a02a392c2bebf0ae3d4786e08615fcb900bacbe1', 'message': 'Add tests for Kubernetes v1.28.9\n\nChange-Id: I59c3c98fdef93b2c4fc0f867b2f9c200b23ab705\n'}, {'number': 2, 'created': '2024-05-15 09:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/43dd927276569e6bddda2293e7731b08d9955a14', 'message': 'Add tests for Kubernetes v1.28.9\n\nChange-Id: I59c3c98fdef93b2c4fc0f867b2f9c200b23ab705\n'}, {'number': 3, 'created': '2024-05-20 08:35:05.000000000', 'files': ['doc/source/user/index.rst', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a7c132273b8866a45ec076a0bfb3d07d738ca8a3', 'message': 'Add tests for Kubernetes v1.28.9\n\nChange-Id: I59c3c98fdef93b2c4fc0f867b2f9c200b23ab705\n'}]",0,919560,a7c132273b8866a45ec076a0bfb3d07d738ca8a3,6,1,3,8064,,,0,"Add tests for Kubernetes v1.28.9

Change-Id: I59c3c98fdef93b2c4fc0f867b2f9c200b23ab705
",git fetch https://review.opendev.org/openstack/magnum refs/changes/60/919560/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', '.zuul.yaml']",2,a02a392c2bebf0ae3d4786e08615fcb900bacbe1,, name: magnum-tempest-plugin-tests-cluster-k8s_fcos_v1-1.28 parent: magnum-tempest-plugin-tests-cluster-k8s_fcos_v1 vars: devstack_localrc: MAGNUM_KUBECTL_TAG: v1.28.9 devstack_local_conf: test-config: $TEMPEST_CONFIG: magnum: labels: kube_tag: v1.28.9-rancher1 container_runtime: containerd containerd_version: 1.6.28 containerd_tarball_sha256: f70736e52d61e5ad225f4fd21643b5ca1220013ab8b6c380434caeefb572da9b cloud_provider_tag: v1.28.2 cinder_csi_plugin_tag: v1.28.2 k8s_keystone_auth_tag: v1.28.2 magnum_auto_healer_tag: v1.28.2 octavia_ingress_controller_tag: v1.28.2 calico_tag: v3.26.4 - job: name: magnum-tempest-plugin-tests-cluster-k8s_fcos_v1-1.28-calico parent: magnum-tempest-plugin-tests-cluster-k8s_fcos_v1-1.28 vars: devstack_local_conf: test-config: $TEMPEST_CONFIG: magnum: network_driver: calico - job: name: magnum-tempest-plugin-tests-cluster-k8s_fcos_v1-1.28-flannel parent: magnum-tempest-plugin-tests-cluster-k8s_fcos_v1-1.28 vars: devstack_local_conf: test-config: $TEMPEST_CONFIG: magnum: network_driver: flannel - job:,,50,0
openstack%2Fglance~919643,openstack/glance,stable/2024.1,I96ae5ba24a9e32994f4b7b111a8b56e56db33cbe,Remove SQLAlchemy tips jobs,MERGED,2024-05-15 03:54:36.000000000,2024-05-20 08:42:19.000000000,2024-05-20 08:38:56.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 03:54:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/eb3eb4ea269f608a7b534bb205f917309420cd51', 'message': 'Remove SQLAlchemy tips jobs\n\nThe most recent SQLAlchemy and Alembic versions are now in\nupper-constraints. As a result, this job has served its purpose and can\nbe removed. For more information, see [1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/\n\nChange-Id: I96ae5ba24a9e32994f4b7b111a8b56e56db33cbe\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 513311f9752166a333e00f94653c70c49a4a4914)\n'}]",0,919643,eb3eb4ea269f608a7b534bb205f917309420cd51,10,2,1,9816,,,0,"Remove SQLAlchemy tips jobs

The most recent SQLAlchemy and Alembic versions are now in
upper-constraints. As a result, this job has served its purpose and can
be removed. For more information, see [1].

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/

Change-Id: I96ae5ba24a9e32994f4b7b111a8b56e56db33cbe
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 513311f9752166a333e00f94653c70c49a4a4914)
",git fetch https://review.opendev.org/openstack/glance refs/changes/43/919643/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eb3eb4ea269f608a7b534bb205f917309420cd51,sqlalchemy-20,,# Temporary job until SQLAlchemy 2.0 is no longer blocked by upper-requirements # NOTE(stephenfin): We only need functional tests since DB interactions are # stubbed out in unit tests - job: name: glance-tox-functional-py39-sqlalchemy-tips parent: openstack-tox-functional-py39 description: | Glance py39 functional tests vs. sqlalchemy and relatedd project masters # The job only tests the latest and shouldn't be run on the stable branches branches: master required-projects: - name: openstack/oslo.db - name: github.com/sqlalchemy/sqlalchemy override-checkout: main - name: github.com/sqlalchemy/alembic override-checkout: main - glance-tox-functional-py39-sqlalchemy-tips,0,18
openstack%2Fcinder~918805,openstack/cinder,master,I4116412db30602260049a4129cdfbbc5d5c20c73,ceph backup: Only warn about striping opts when necessary,MERGED,2024-05-09 17:09:54.000000000,2024-05-20 08:42:10.000000000,2024-05-20 08:38:53.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2024-05-09 17:09:54.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/89a0c766927631fd3777d763365070b970f5af4c', 'message': 'ceph backup: Only warn about striping opts when necessary\n\nOnly issue this warning message if the striping options\nwere enabled.\n\nChange-Id: I4116412db30602260049a4129cdfbbc5d5c20c73\n'}]",2,918805,89a0c766927631fd3777d763365070b970f5af4c,21,3,1,4523,,,0,"ceph backup: Only warn about striping opts when necessary

Only issue this warning message if the striping options
were enabled.

Change-Id: I4116412db30602260049a4129cdfbbc5d5c20c73
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/918805/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,89a0c766927631fd3777d763365070b970f5af4c,, self.rbd_stripe_count = 0 self.rbd_stripe_unit = 0 elif (CONF.backup_ceph_stripe_unit != 0 or CONF.backup_ceph_stripe_count != 0):, else: self.rbd_stripe_count = 0 self.rbd_stripe_unit = 0,5,3
openstack%2Fneutron-tempest-plugin~919443,openstack/neutron-tempest-plugin,master,I1cc85372aeb7725fcffd6a92cfda412a1f5556bd,Stop running zed jobs in check/gate,MERGED,2024-05-12 16:55:16.000000000,2024-05-20 08:38:58.000000000,2024-05-20 08:38:58.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 29350}, {'_account_id': 31291}]","[{'number': 1, 'created': '2024-05-12 16:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1676288a4f52f3381226b665b5a2fed9c1ef4c98', 'message': 'Make zed jobs non-voting\n\nZed jobs fail and block CI, as suggested in review comment [1], should\nbe removed from check/gate lists.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/917696/comments/854daa96_e14a9374\n\nChange-Id: I1cc85372aeb7725fcffd6a92cfda412a1f5556bd\n'}, {'number': 2, 'created': '2024-05-12 16:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5647b8968c547b87f8002deb47ec040c1a51970c', 'message': 'Make zed jobs non-voting\n\nZed jobs fail and block CI, as suggested in review comment [1], should\nbe removed from check/gate lists.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/917696/comments/854daa96_e14a9374\n\nChange-Id: I1cc85372aeb7725fcffd6a92cfda412a1f5556bd\n'}, {'number': 3, 'created': '2024-05-12 17:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5bb4e5ddd2bcecedfbc707885d26ad5d8b442198', 'message': 'Make zed jobs non-voting\n\nZed jobs fail and block CI, as suggested in review comment [1], should\nbe removed from check/gate lists when depends on patch merged.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/917696/comments/854daa96_e14a9374\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/918137\n\nChange-Id: I1cc85372aeb7725fcffd6a92cfda412a1f5556bd\n'}, {'number': 4, 'created': '2024-05-12 17:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4011060bfb67aefd7cdabecc936a1492e5872020', 'message': 'Remove zed jobs from check/gate\n\nZed jobs fail and block CI, as suggested in review comment [1], should\nbe removed from check/gate lists when depends on patch merged.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/917696/comments/854daa96_e14a9374\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/918137\n\nChange-Id: I1cc85372aeb7725fcffd6a92cfda412a1f5556bd\n'}, {'number': 5, 'created': '2024-05-16 09:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/05016fa492d46b0686f4023bda2984c1bb462215', 'message': 'Make zed jobs non-voting until fixed\n\nZed jobs fail and block CI, as suggested in review comment [1], should\nbe removed or non-voting in check/gate lists.\n\nThe fix is made [2] but is blocked until certain dependencies are\nfigured.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/917696/comments/854daa96_e14a9374\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/917696\n\nChange-Id: I1cc85372aeb7725fcffd6a92cfda412a1f5556bd\n'}, {'number': 6, 'created': '2024-05-16 09:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b6b6ae47d7c3f75aecde018c6237aed57472b993', 'message': 'Make zed jobs non-voting until fixed\n\nZed jobs fail and block CI, as suggested in review comment [1], should\nbe removed or non-voting in check/gate lists.\n\nThe fix is made [2] but is blocked until certain dependencies are\nfigured.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/917696/comments/854daa96_e14a9374\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/917696\n\nChange-Id: I1cc85372aeb7725fcffd6a92cfda412a1f5556bd\n'}, {'number': 7, 'created': '2024-05-16 10:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b4c17494f90e08897cba0ec74c16b30f11019388', 'message': 'Stop running zed jobs in check/gate\n\nZed jobs fail and block CI, since already unmaintained there is no point of keeping them failing,\nthey will be removed eventually anyways, for the same reasoning to previously stop yoga jobs [1].\n\n[1] 908419: Stop running yoga jobs in check/gate | https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/908419\n\nChange-Id: I1cc85372aeb7725fcffd6a92cfda412a1f5556bd\n'}, {'number': 8, 'created': '2024-05-17 13:25:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/22bc0618d0bc6cea88fe933a4586b6134f3fdeb6', 'message': 'Stop running zed jobs in check/gate\n\nZed jobs fail and block CI, since already unmaintained there is no point of keeping them failing,\nthey will be removed eventually anyways, for the same reasoning to previously stop yoga jobs [1].\n\n[1] 908419: Stop running yoga jobs in check/gate | https://review.opendev.org/908419\n\nDepends-On: https://review.opendev.org/c/openstack/tap-as-a-service/+/919934\nChange-Id: I1cc85372aeb7725fcffd6a92cfda412a1f5556bd\n'}]",15,919443,22bc0618d0bc6cea88fe933a4586b6134f3fdeb6,35,6,8,33341,,,0,"Stop running zed jobs in check/gate

Zed jobs fail and block CI, since already unmaintained there is no point of keeping them failing,
they will be removed eventually anyways, for the same reasoning to previously stop yoga jobs [1].

[1] 908419: Stop running yoga jobs in check/gate | https://review.opendev.org/908419

Depends-On: https://review.opendev.org/c/openstack/tap-as-a-service/+/919934
Change-Id: I1cc85372aeb7725fcffd6a92cfda412a1f5556bd
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/43/919443/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1676288a4f52f3381226b665b5a2fed9c1ef4c98,force_focal_zed, voting: false voting: false voting: false voting: false voting: false voting: false,,6,0
openstack%2Fopenstack-ansible-os_cloudkitty~919155,openstack/openstack-ansible-os_cloudkitty,master,I0626c23aaa23e2d446db2b0a0cfa7c38dd783738,reno: Update master for unmaintained/zed,MERGED,2024-05-10 18:54:44.000000000,2024-05-20 08:31:18.000000000,2024-05-20 08:29:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-10 18:54:44.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/32e915153a341251abd06eaff6937cce106f9538', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: I0626c23aaa23e2d446db2b0a0cfa7c38dd783738\n'}]",0,919155,32e915153a341251abd06eaff6937cce106f9538,7,2,1,22816,,,0,"reno: Update master for unmaintained/zed

Update the zed release notes configuration to build from
unmaintained/zed.

Change-Id: I0626c23aaa23e2d446db2b0a0cfa7c38dd783738
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/55/919155/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,32e915153a341251abd06eaff6937cce106f9538,reno-eom-zed, :branch: unmaintained/zed, :branch: stable/zed,1,1
openstack%2Fopenstack-helm~916598,openstack/openstack-helm,master,Ibb8327f02d87532b90324d0f83ede059726a68f1,[debug] checking uwsgi with tls job,NEW,2024-04-22 04:08:27.000000000,2024-05-20 06:35:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-22 04:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6147fdec07fe9c483895a3b1d7ca892b89438874', 'message': '[debug] checking uwsgi with tls job\n\nChange-Id: Ibb8327f02d87532b90324d0f83ede059726a68f1\n'}, {'number': 2, 'created': '2024-04-22 07:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5e3da5732ef9c7f65315f2c103594346c273d1bd', 'message': '[debug] checking uwsgi with tls job\n\nChange-Id: Ibb8327f02d87532b90324d0f83ede059726a68f1\n'}, {'number': 3, 'created': '2024-04-22 08:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bc76ea05b632af309c0c8b1a98e85f67ef41577f', 'message': '[debug] checking uwsgi with tls job\n\nChange-Id: Ibb8327f02d87532b90324d0f83ede059726a68f1\n'}, {'number': 4, 'created': '2024-05-03 06:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a1588c7395713ce97aa17e24e2ee0c0acd2d5059', 'message': '[debug] checking uwsgi with tls job\n\nChange-Id: Ibb8327f02d87532b90324d0f83ede059726a68f1\n'}, {'number': 5, 'created': '2024-05-03 07:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/81f2cbdcbd4bb3337e856dca60f8db4a959f2991', 'message': '[debug] checking uwsgi with tls job\n\nChange-Id: Ibb8327f02d87532b90324d0f83ede059726a68f1\n'}, {'number': 6, 'created': '2024-05-16 09:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b297114bdc81eb0cf401aa90d86fc4ece7e1817', 'message': '[debug] checking uwsgi with tls job\n\nChange-Id: Ibb8327f02d87532b90324d0f83ede059726a68f1\n'}, {'number': 7, 'created': '2024-05-16 17:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a54656b084d88dc051753ddd95e28aad137e87f4', 'message': '[debug] checking uwsgi with tls job\n\nChange-Id: Ibb8327f02d87532b90324d0f83ede059726a68f1\n'}, {'number': 8, 'created': '2024-05-20 05:36:29.000000000', 'files': ['placement/values_overrides/tls.yaml', 'placement/values.yaml', 'placement/templates/configmap-etc.yaml', 'placement/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ec92c729be23f93d34968bea04e8564785f2fea', 'message': '[debug] checking uwsgi with tls job\n\nChange-Id: Ibb8327f02d87532b90324d0f83ede059726a68f1\n'}]",0,916598,3ec92c729be23f93d34968bea04e8564785f2fea,16,1,8,12404,,,0,"[debug] checking uwsgi with tls job

Change-Id: Ibb8327f02d87532b90324d0f83ede059726a68f1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/98/916598/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/templates/bin/_placement-api.sh.tpl'],1,6147fdec07fe9c483895a3b1d7ca892b89438874,use-uwsgi-placement, cp -a $(type -p placement-api) /var/www/cgi-bin/placement/ if [ -f /etc/apache2/envvars ]; then # Loading Apache2 ENV variables source /etc/apache2/envvars # The directory below has to be created due to the fact that # libapache2-mod-wsgi-py3 doesn't create it in contrary by libapache2-mod-wsgi mkdir -p ${APACHE_RUN_DIR} fi # Get rid of stale pid file if present. rm -f /var/run/apache2/*.pid # Start Apache2 {{- if .Values.conf.software.apache2.a2enmod }} {{- range .Values.conf.software.apache2.a2enmod }} a2enmod {{ . }} {{- end }} {{- end }} {{- if .Values.conf.software.apache2.a2dismod }} {{- range .Values.conf.software.apache2.a2dismod }} a2dismod {{ . }} {{- end }} {{- end }} exec {{ .Values.conf.software.apache2.binary }} {{ .Values.conf.software.apache2.start_parameters }},,26,0
openstack%2Ftelemetry-tempest-plugin~917823,openstack/telemetry-tempest-plugin,master,Ie41fc72ad5fd80cee8eb1e9895801ece5be8345f,Remove old excludes,NEW,2024-05-01 02:48:52.000000000,2024-05-20 04:45:36.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-01 02:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/61d2482eb3e750c7b6cda7978dc1cc9d124401a2', 'message': ""emove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository. Minimum versions are bumped to avoid\ninstalling these known bad versions.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nAlso remove the note about old pip's behavior because resolver in\nrecent pip does not require specific order.\n\nChange-Id: Ie41fc72ad5fd80cee8eb1e9895801ece5be8345f\n""}, {'number': 2, 'created': '2024-05-20 04:15:52.000000000', 'files': ['requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/92f9ef501772901c8cea310aef8f810259cfdc9f', 'message': ""Remove old excludes\n\nThese are detected as errors since the clean up was done[1] in\nthe requirements repository. Minimum versions are bumped to avoid\ninstalling these known bad versions.\n\n[1] 314734e938f107cbd5ebcc7af4d9167c11347406\n\nAlso remove the note about old pip's behavior because resolver in\nrecent pip does not require specific order.\n\nChange-Id: Ie41fc72ad5fd80cee8eb1e9895801ece5be8345f\n""}]",1,917823,92f9ef501772901c8cea310aef8f810259cfdc9f,5,2,2,9816,,,0,"Remove old excludes

These are detected as errors since the clean up was done[1] in
the requirements repository. Minimum versions are bumped to avoid
installing these known bad versions.

[1] 314734e938f107cbd5ebcc7af4d9167c11347406

Also remove the note about old pip's behavior because resolver in
recent pip does not require specific order.

Change-Id: Ie41fc72ad5fd80cee8eb1e9895801ece5be8345f
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/23/917823/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/requirements.txt']",2,61d2482eb3e750c7b6cda7978dc1cc9d124401a2,excludes-cleanup,sphinx>=2.1.1 # BSD,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later. sphinx>=2.0.0,!=2.1.0 # BSD",1,9
openstack%2Ftrove~918581,openstack/trove,master,I4c7402585066815781dddb0035be89f817c4cef4,reno: Update master for unmaintained/zed,MERGED,2024-05-08 11:17:58.000000000,2024-05-20 03:36:46.000000000,2024-05-20 03:35:38.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2024-05-08 11:17:58.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/7d2ed80c03d969157cfa294d26c1e4f992eefc29', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: I4c7402585066815781dddb0035be89f817c4cef4\n'}]",0,918581,7d2ed80c03d969157cfa294d26c1e4f992eefc29,7,2,1,22816,,,0,"reno: Update master for unmaintained/zed

Update the zed release notes configuration to build from
unmaintained/zed.

Change-Id: I4c7402585066815781dddb0035be89f817c4cef4
",git fetch https://review.opendev.org/openstack/trove refs/changes/81/918581/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,7d2ed80c03d969157cfa294d26c1e4f992eefc29,reno-eom-zed, :branch: unmaintained/zed, :branch: stable/zed,1,1
openstack%2Fpython-openstackclient~920003,openstack/python-openstackclient,master,I8d8a7f36c468c9faa2c2c47bfa9ba9e1ca5b9858,Show Created At column for volume backups,NEW,2024-05-19 20:19:07.000000000,2024-05-19 21:32:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-19 20:19:07.000000000', 'files': ['openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/volume_backup.py', 'openstackclient/releasenotes/notes/volume-backup-created-at-list-b49ec893ae1f6b0d.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7eccd403c711026b8cd596326baa8337114b6c9c', 'message': ""Show Created At column for volume backups\n\nThe ``volume backup list`` command does not show the\ncreated_at column for backups which doesn't really\nhelp the end-user since a critical part of a backup\nis knowing when it was taken, and fast if there is\na rush doing recovery by restoring a volume from a\nbackup.\n\nChange-Id: I8d8a7f36c468c9faa2c2c47bfa9ba9e1ca5b9858\n""}]",0,920003,7eccd403c711026b8cd596326baa8337114b6c9c,2,1,1,16137,,,0,"Show Created At column for volume backups

The ``volume backup list`` command does not show the
created_at column for backups which doesn't really
help the end-user since a critical part of a backup
is knowing when it was taken, and fast if there is
a rush doing recovery by restoring a volume from a
backup.

Change-Id: I8d8a7f36c468c9faa2c2c47bfa9ba9e1ca5b9858
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/03/920003/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v2/test_volume_backup.py', 'openstackclient/volume/v2/volume_backup.py', 'openstackclient/releasenotes/notes/volume-backup-created-at-list-b49ec893ae1f6b0d.yaml']",3,7eccd403c711026b8cd596326baa8337114b6c9c,,--- features: - | Listing volume backups now shows the created_at column. ,,9,0
openstack%2Fhorizon~918485,openstack/horizon,master,I2e8aecd9bf3151fb42a326d5b9aa28b98a2472d5,Support switching project by name,NEW,2024-05-07 21:02:08.000000000,2024-05-19 20:24:16.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-07 21:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/57b8b3d1923f2432f1a18793ba2859a0373f3e07', 'message': 'Support switching project by name\n\nThis adds support to the switch_tenant url\nto switch project using project name.\n\nChange-Id: I2e8aecd9bf3151fb42a326d5b9aa28b98a2472d5\n'}, {'number': 2, 'created': '2024-05-08 09:46:47.000000000', 'files': ['openstack_auth/views.py', 'openstack_auth/utils.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2e03e5d06f736238c7956849e8461ee12d7f4dc2', 'message': 'Support switching project by name\n\nThis adds support to the switch_tenant url\nto switch project using project name.\n\nChange-Id: I2e8aecd9bf3151fb42a326d5b9aa28b98a2472d5\n'}]",6,918485,2e03e5d06f736238c7956849e8461ee12d7f4dc2,12,2,2,16137,,,0,"Support switching project by name

This adds support to the switch_tenant url
to switch project using project name.

Change-Id: I2e8aecd9bf3151fb42a326d5b9aa28b98a2472d5
",git fetch https://review.opendev.org/openstack/horizon refs/changes/85/918485/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/views.py', 'openstack_auth/utils.py']",2,57b8b3d1923f2432f1a18793ba2859a0373f3e07,," system_scope=None, project_name=None): if project_name: return v3_auth.Token(auth_url=auth_url, token=token, project_name=project_name, reauthenticate=False)", system_scope=None):,15,4
openstack%2Fhorizon~919430,openstack/horizon,master,Ica10eb749b48410583cb34bfa2fda0433a26c664,Prevent KeyError when getting value of optional key,NEW,2024-05-19 14:04:54.000000000,2024-05-19 16:04:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-19 14:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/66b6e7921ff528ed808b163af943831ce3d93bcf', 'message': 'Prevent KeyError when getting value of optional key\n\nCloses-Bug: #2066115\nChange-Id: Ica10eb749b48410583cb34bfa2fda0433a26c664\nSigned-off-by: MinhNLH2 <minh.nlh.work@gmail.com>\n'}, {'number': 2, 'created': '2024-05-19 14:56:28.000000000', 'files': ['openstack_dashboard/dashboards/identity/application_credentials/forms.py', 'openstack_dashboard/dashboards/project/instances/workflows/update_instance.py', 'openstack_dashboard/dashboards/project/networks/subnets/views.py', 'openstack_dashboard/dashboards/admin/aggregates/workflows.py', 'openstack_dashboard/dashboards/identity/users/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4968102ff317a3be4f705803c9ede01a9572b12f', 'message': 'Prevent KeyError when getting value of optional key\n\nCloses-Bug: #2066115\nChange-Id: Ica10eb749b48410583cb34bfa2fda0433a26c664\nSigned-off-by: MinhNLH2 <minh.nlh.work@gmail.com>\n'}]",0,919430,4968102ff317a3be4f705803c9ede01a9572b12f,3,1,2,36898,,,0,"Prevent KeyError when getting value of optional key

Closes-Bug: #2066115
Change-Id: Ica10eb749b48410583cb34bfa2fda0433a26c664
Signed-off-by: MinhNLH2 <minh.nlh.work@gmail.com>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/30/919430/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/identity/application_credentials/forms.py', 'openstack_dashboard/dashboards/project/networks/subnets/views.py', 'openstack_dashboard/dashboards/admin/aggregates/workflows.py', 'openstack_dashboard/dashboards/identity/users/forms.py']",4,66b6e7921ff528ed808b163af943831ce3d93bcf,bug/2066115," email=data.get('email'), project=data.get('project'),"," if ""email"" in data: data['email'] = data['email'] or None email=data['email'], project=data['project'] or None,",6,8
openstack%2Fopenstack-ansible~919970,openstack/openstack-ansible,master,Ie478e298a3a9292ec069b76548d8f4238efc90a1,Create Caracal Beta release,MERGED,2024-05-17 16:18:55.000000000,2024-05-19 13:46:36.000000000,2024-05-19 13:45:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2024-05-17 16:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f799ba2ac05a1bcd0f8a16bad896b29691eeedd', 'message': 'Create Caracal Beta release\n\nIn order to get some more testing around new defaults, it might make\nsense to create a Beta version which comes prior to branching. In the\nmeanwhile we can land leftovers for branches and take our time to\ncover found issues.\n\nChange-Id: Ie478e298a3a9292ec069b76548d8f4238efc90a1\n'}, {'number': 2, 'created': '2024-05-17 16:19:49.000000000', 'files': ['releasenotes/notes/ovsdb_manager_connection-5ea44a5fd9aa789b.yaml', 'releasenotes/notes/networkd_multiple_routes-becb9e691f38987a.yaml', 'releasenotes/notes/force_update_cell-efd821d2a5fa7ef0.yaml', 'releasenotes/notes/glance_use_uwsgi_ceph-7ddcaa2f5be8128c.yaml', 'releasenotes/notes/networkd_filename_formatting-ce5e032876cdca09.yaml', 'releasenotes/notes/blazar_versioned_endpoint-93784aef044f2caa.yaml', 'inventory/group_vars/zun_all/source_git.yml', 'releasenotes/notes/galera_install_source-2989c9ed3a21d945.yaml', 'inventory/group_vars/neutron_all/source_git.yml', 'releasenotes/notes/ceph_components_format-3a947aa47ed2ff71.yaml', 'releasenotes/notes/magnum_images_format-5e621dbe6c20cc9f.yaml', 'releasenotes/notes/no_ironic_ssh_keypairs-b666bcdd67ca179b.yaml', 'inventory/group_vars/masakari_all/source_git.yml', 'inventory/group_vars/skyline_all/source_git.yml', 'inventory/group_vars/trove_all/source_git.yml', 'releasenotes/notes/fix_aio_nova_pki_idempotence-e9b8aa38231825e8.yaml', 'inventory/group_vars/cinder_all/source_git.yml', 'releasenotes/notes/rabbitmq_logging_config-5f96836fb1ce6c2c.yaml', 'releasenotes/notes/horizon_webroot-098629f30f69f192.yaml', 'inventory/group_vars/all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/trove_guest_quorum_queues-bdba87bbe0fba3f3.yaml', 'releasenotes/notes/additional-tls-options-14b7e1a435581887.yaml', 'inventory/group_vars/octavia_all/source_git.yml', 'ansible-collection-requirements.yml', 'releasenotes/notes/glance_property_protection-458102a81be747f5.yaml', 'releasenotes/notes/ironic_user_driver_types-0572dc857f534b92.yaml', 'inventory/group_vars/senlin_all/source_git.yml', 'releasenotes/notes/do_not_add_localhost_to_hosts-36e365b95dc9da42.yaml', 'releasenotes/notes/blazar_manager_plugins-73cad1d582229cc2.yaml', 'inventory/group_vars/nova_all/source_git.yml', 'releasenotes/notes/update_cell0_db_tls-1d14996f697b5c68.yaml', 'inventory/group_vars/manila_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/keystone_all/source_git.yml', 'releasenotes/notes/heat_deffered_method-a1652a2ea4a46b75.yaml', 'inventory/group_vars/cloudkitty_all/source_git.yml', 'releasenotes/notes/support-large-image-uploads.yaml-1ac278e2a2cbb846.yaml', 'releasenotes/notes/blazar_memcached-b069ef6d7dfcbe76.yaml', 'inventory/group_vars/heat_all/source_git.yml', 'inventory/group_vars/utility_all/source_git.yml', 'inventory/group_vars/tacker_all/source_git.yml', 'releasenotes/notes/applyToPolicies-f4cb13dac7ec82b0.yaml', 'releasenotes/notes/neutron_az_support-97f3ab40bf554766.yaml', 'releasenotes/notes/horizon_webroot-ae22a11343c1fb1e.yaml', 'releasenotes/notes/blazar_nova_integration-c8057dcc2ccc162a.yaml', 'releasenotes/notes/haproxy_pki_create_certificates-28dd48424855f463.yaml', 'inventory/group_vars/glance_all/source_git.yml', 'releasenotes/notes/blazar_aggregate_creation-29aec3d2a381ecb9.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c7200cc132b6889d7046fa65c41d126388859342', 'message': 'Create Caracal Beta release\n\nIn order to get some more testing around new defaults, it might make\nsense to create a Beta version which comes prior to branching. In the\nmeanwhile we can land leftovers for branches and take our time to\ncover found issues.\n\nChange-Id: Ie478e298a3a9292ec069b76548d8f4238efc90a1\n'}]",1,919970,c7200cc132b6889d7046fa65c41d126388859342,12,3,2,28619,,,0,"Create Caracal Beta release

In order to get some more testing around new defaults, it might make
sense to create a Beta version which comes prior to branching. In the
meanwhile we can land leftovers for branches and take our time to
cover found issues.

Change-Id: Ie478e298a3a9292ec069b76548d8f4238efc90a1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/70/919970/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovsdb_manager_connection-5ea44a5fd9aa789b.yaml', 'releasenotes/notes/networkd_multiple_routes-becb9e691f38987a.yaml', 'releasenotes/notes/force_update_cell-efd821d2a5fa7ef0.yaml', 'releasenotes/notes/glance_use_uwsgi_ceph-7ddcaa2f5be8128c.yaml', 'releasenotes/notes/networkd_filename_formatting-ce5e032876cdca09.yaml', 'releasenotes/notes/blazar_versioned_endpoint-93784aef044f2caa.yaml', 'inventory/group_vars/zun_all/source_git.yml', 'releasenotes/notes/galera_install_source-2989c9ed3a21d945.yaml', 'inventory/group_vars/neutron_all/source_git.yml', 'releasenotes/notes/ceph_components_format-3a947aa47ed2ff71.yaml', 'releasenotes/notes/magnum_images_format-5e621dbe6c20cc9f.yaml', 'releasenotes/notes/no_ironic_ssh_keypairs-b666bcdd67ca179b.yaml', 'inventory/group_vars/masakari_all/source_git.yml', 'inventory/group_vars/skyline_all/source_git.yml', 'inventory/group_vars/trove_all/source_git.yml', 'releasenotes/notes/fix_aio_nova_pki_idempotence-e9b8aa38231825e8.yaml', 'inventory/group_vars/cinder_all/source_git.yml', 'releasenotes/notes/rabbitmq_logging_config-5f96836fb1ce6c2c.yaml', 'releasenotes/notes/horizon_webroot-098629f30f69f192.yaml', 'inventory/group_vars/all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/trove_guest_quorum_queues-bdba87bbe0fba3f3.yaml', 'releasenotes/notes/additional-tls-options-14b7e1a435581887.yaml', 'inventory/group_vars/octavia_all/source_git.yml', 'ansible-collection-requirements.yml', 'releasenotes/notes/glance_property_protection-458102a81be747f5.yaml', 'releasenotes/notes/ironic_user_driver_types-0572dc857f534b92.yaml', 'inventory/group_vars/senlin_all/source_git.yml', 'releasenotes/notes/do_not_add_localhost_to_hosts-36e365b95dc9da42.yaml', 'releasenotes/notes/blazar_manager_plugins-73cad1d582229cc2.yaml', 'inventory/group_vars/nova_all/source_git.yml', 'releasenotes/notes/update_cell0_db_tls-1d14996f697b5c68.yaml', 'inventory/group_vars/manila_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/keystone_all/source_git.yml', 'releasenotes/notes/heat_deffered_method-a1652a2ea4a46b75.yaml', 'inventory/group_vars/cloudkitty_all/source_git.yml', 'releasenotes/notes/support-large-image-uploads.yaml-1ac278e2a2cbb846.yaml', 'releasenotes/notes/blazar_memcached-b069ef6d7dfcbe76.yaml', 'inventory/group_vars/heat_all/source_git.yml', 'inventory/group_vars/utility_all/source_git.yml', 'inventory/group_vars/tacker_all/source_git.yml', 'releasenotes/notes/applyToPolicies-f4cb13dac7ec82b0.yaml', 'releasenotes/notes/neutron_az_support-97f3ab40bf554766.yaml', 'releasenotes/notes/horizon_webroot-ae22a11343c1fb1e.yaml', 'releasenotes/notes/blazar_nova_integration-c8057dcc2ccc162a.yaml', 'releasenotes/notes/haproxy_pki_create_certificates-28dd48424855f463.yaml', 'inventory/group_vars/glance_all/source_git.yml', 'releasenotes/notes/blazar_aggregate_creation-29aec3d2a381ecb9.yaml']",50,9f799ba2ac05a1bcd0f8a16bad896b29691eeedd,bump_osa,"--- features: - | Added new variable ``blazar_nova_aggregate_name`` that allows to control Nova aggregate name for Blazar. When is not False (default value 'freepool'), aggregate in topic will be created during deployment. ",,400,166
openstack%2Fcharm-octavia~918069,openstack/charm-octavia,stable/2024.1,I887766a68b93d984130808bfbb171ffcaae950fe,Replace usage of LBaaS v2 constant,MERGED,2024-05-03 18:00:23.000000000,2024-05-19 13:31:08.000000000,2024-05-19 13:31:08.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-03 18:00:23.000000000', 'files': ['unit_tests/test_lib_charm_openstack_api_crud.py', 'unit_tests/__init__.py', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/6bf6825c73c04fea2784b8c296515d61e7c7ca06', 'message': 'Replace usage of LBaaS v2 constant\n\nNeutron LBaaS was retired some time ago and its constants was removed\nfrom core neutron[1]. This replaces the usage of LBaaS v2 constants to\nenable IPv6 RA.\n\nIdeally this implementation should be replaced by something more\ngeneric but for now the trunk subport owner can be used.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/902048\n\nChange-Id: I887766a68b93d984130808bfbb171ffcaae950fe\n(cherry picked from commit 81fc941f63049023c96f24750c11467296047451)\n'}]",4,918069,6bf6825c73c04fea2784b8c296515d61e7c7ca06,13,3,1,20870,,,0,"Replace usage of LBaaS v2 constant

Neutron LBaaS was retired some time ago and its constants was removed
from core neutron[1]. This replaces the usage of LBaaS v2 constants to
enable IPv6 RA.

Ideally this implementation should be replaced by something more
generic but for now the trunk subport owner can be used.

[1] https://review.opendev.org/c/openstack/neutron/+/902048

Change-Id: I887766a68b93d984130808bfbb171ffcaae950fe
(cherry picked from commit 81fc941f63049023c96f24750c11467296047451)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/69/918069/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_api_crud.py', 'unit_tests/__init__.py', 'src/lib/charm/openstack/api_crud.py']",3,6bf6825c73c04fea2784b8c296515d61e7c7ca06,,"import neutron_lib.services.trunk.constants # # NOTE(tkajinam): This implementation may need to be updated # because the current logic heavily depends on neutron's internal # behavior. neutron_lib.services.trunk.constants.TRUNK_SUBPORT_OWNER), else: if (hm_port.get('binding:host_id') != port_template['port']['binding:host_id']): # Ensure binding:host_id is up to date on a existing port # # In the event of a need to update it, we bring the port down to # make sure Neutron rebuilds the port correctly. # # Our caller, ``setup_hm_port``, will toggle the port admin status. try: nc.update_port(hm_port['id'], { 'port': { 'admin_state_up': False, 'binding:host_id': port_template['port'][ 'binding:host_id'], } }) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'ports', e) if (hm_port.get('device_owner') != port_template['port']['device_owner']): try: nc.update_port(hm_port['id'], { 'port': { 'device_owner': port_template['port']['device_owner'] } }) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'ports', e) ","import neutron_lib.constants neutron_lib.constants.DEVICE_OWNER_LOADBALANCERV2), elif hm_port.get( 'binding:host_id') != port_template['port']['binding:host_id']: # Ensure binding:host_id is up to date on a existing port # # In the event of a need to update it, we bring the port down to make # sure Neutron rebuilds the port correctly. # # Our caller, ``setup_hm_port``, will toggle the port admin status. try: nc.update_port(hm_port['id'], { 'port': { 'admin_state_up': False, 'binding:host_id': port_template['port'][ 'binding:host_id'], } }) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'ports', e)",41,21
openstack%2Fopenstack-ansible~919816,openstack/openstack-ansible,master,I80e24343f28f712492d378186d0a0fa5832907e2,Enable RabbitMQ Quorum Queues by default,MERGED,2024-05-16 11:19:20.000000000,2024-05-19 13:09:38.000000000,2024-05-19 13:07:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2024-05-16 11:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/920cc6c38b7ba64ef276efc3a6d13006bc00e91d', 'message': 'Enable RabbitMQ Quorum Queues by default\n\nThis patch finalizes [1] and [2] topics and enables usage of quorum\nqueues by default along with adding release note and documentation\naround the change.\n\nWe also convert previous quorum job to the classic HA queues\ntest, not to break an upgrade path for those who want to switch\nto Quorum after OpenStack upgrade.\n\n[1] https://review.opendev.org/q/topic:%22osa/messaging_improvements%22\n[2] https://review.opendev.org/q/topic:%22osa/rmq-migrate%22\n\nChange-Id: I80e24343f28f712492d378186d0a0fa5832907e2\n'}, {'number': 2, 'created': '2024-05-16 15:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e498bcd79c0c5dcbd41bc4e340a022d2e4e641d', 'message': 'Enable RabbitMQ Quorum Queues by default\n\nThis patch finalizes [1] and [2] topics and enables usage of quorum\nqueues by default along with adding release note and documentation\naround the change.\n\nWe also convert previous quorum job to the classic HA queues\ntest, not to break an upgrade path for those who want to switch\nto Quorum after OpenStack upgrade.\n\n[1] https://review.opendev.org/q/topic:%22osa/messaging_improvements%22\n[2] https://review.opendev.org/q/topic:%22osa/rmq-migrate%22\n\nChange-Id: I80e24343f28f712492d378186d0a0fa5832907e2\n'}, {'number': 3, 'created': '2024-05-17 15:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1399f78e28b88774cfdbaaf63b22fee3387df44f', 'message': 'Enable RabbitMQ Quorum Queues by default\n\nThis patch finalizes [1] and [2] topics and enables usage of quorum\nqueues by default along with adding release note and documentation\naround the change.\n\nWe also convert previous quorum job to the classic HA queues\ntest, not to break an upgrade path for those who want to switch\nto Quorum after OpenStack upgrade.\n\n[1] https://review.opendev.org/q/topic:%22osa/messaging_improvements%22\n[2] https://review.opendev.org/q/topic:%22osa/rmq-migrate%22\n\nChange-Id: I80e24343f28f712492d378186d0a0fa5832907e2\n'}, {'number': 4, 'created': '2024-05-17 16:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8933f9a09b81fe16f12b48a92a081c0dcb5776d2', 'message': 'Enable RabbitMQ Quorum Queues by default\n\nThis patch finalizes [1] and [2] topics and enables usage of quorum\nqueues by default along with adding release note and documentation\naround the change.\n\nWe also convert previous quorum job to the classic HA queues\ntest, not to break an upgrade path for those who want to switch\nto Quorum after OpenStack upgrade.\n\n[1] https://review.opendev.org/q/topic:%22osa/messaging_improvements%22\n[2] https://review.opendev.org/q/topic:%22osa/rmq-migrate%22\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919902\nChange-Id: I80e24343f28f712492d378186d0a0fa5832907e2\n'}, {'number': 5, 'created': '2024-05-17 16:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fc643be93beb42d17d538abfc224fa3d71408a08', 'message': 'Enable RabbitMQ Quorum Queues by default\n\nThis patch finalizes [1] and [2] topics and enables usage of quorum\nqueues by default along with adding release note and documentation\naround the change.\n\nWe also convert previous quorum job to the classic HA queues\ntest, not to break an upgrade path for those who want to switch\nto Quorum after OpenStack upgrade.\n\n[1] https://review.opendev.org/q/topic:%22osa/messaging_improvements%22\n[2] https://review.opendev.org/q/topic:%22osa/rmq-migrate%22\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919902\nChange-Id: I80e24343f28f712492d378186d0a0fa5832907e2\n'}, {'number': 6, 'created': '2024-05-17 16:19:45.000000000', 'files': ['releasenotes/notes/quorum_queues_default-2f633cd0d5ee2037.yaml', 'inventory/group_vars/all/oslo-messaging.yml', 'zuul.d/project-templates.yaml', 'doc/source/admin/upgrades/major-upgrades.rst', 'inventory/group_vars/all/infra.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cbf6f6072c3f76c1eff5caa481c567abc1acbe9f', 'message': 'Enable RabbitMQ Quorum Queues by default\n\nThis patch finalizes [1] and [2] topics and enables usage of quorum\nqueues by default along with adding release note and documentation\naround the change.\n\nWe also convert previous quorum job to the classic HA queues\ntest, not to break an upgrade path for those who want to switch\nto Quorum after OpenStack upgrade.\n\n[1] https://review.opendev.org/q/topic:%22osa/messaging_improvements%22\n[2] https://review.opendev.org/q/topic:%22osa/rmq-migrate%22\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919902\nChange-Id: I80e24343f28f712492d378186d0a0fa5832907e2\n'}]",172,919816,cbf6f6072c3f76c1eff5caa481c567abc1acbe9f,20,4,6,28619,,,0,"Enable RabbitMQ Quorum Queues by default

This patch finalizes [1] and [2] topics and enables usage of quorum
queues by default along with adding release note and documentation
around the change.

We also convert previous quorum job to the classic HA queues
test, not to break an upgrade path for those who want to switch
to Quorum after OpenStack upgrade.

[1] https://review.opendev.org/q/topic:%22osa/messaging_improvements%22
[2] https://review.opendev.org/q/topic:%22osa/rmq-migrate%22

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/919902
Change-Id: I80e24343f28f712492d378186d0a0fa5832907e2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/919816/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quorum_queues_default-2f633cd0d5ee2037.yaml', 'zuul.d/project-templates.yaml', 'doc/source/admin/upgrades/major-upgrades.rst', 'inventory/group_vars/all/infra.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'zuul.d/jobs.yaml']",6,920cc6c38b7ba64ef276efc3a6d13006bc00e91d,bump_osa, name: openstack-ansible-deploy-aio_metal_haqueues-ubuntu-jammy name: openstack-ansible-upgrade-aio_metal_haqueues-ubuntu-jammy, name: openstack-ansible-deploy-aio_metal_quorum-ubuntu-jammy name: openstack-ansible-upgrade-aio_metal_quorum-ubuntu-jammy,61,7
openstack%2Fkolla-ansible~919977,openstack/kolla-ansible,master,I3c0ad7652a03388ab2eafa173c644a55b0405cc6,Add NVMe-TCP Cinder driver support for Pure Storage,NEW,2024-05-17 17:31:52.000000000,2024-05-19 10:05:50.000000000,,"[{'_account_id': 167}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 17:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6baa4d5b9bf7a076b00795fdcbcb849937ea6137', 'message': 'Add NVMe-TCP Cinder driver support for Pure Storage\n\nFrom OpenStack 2023.2 (Bobcat) the Pure Storage Cinder driver\nsupports NVMe-TCP as a dataplane protocol. This patch adds support\nfor this new driver type.\n\nChange-Id: I3c0ad7652a03388ab2eafa173c644a55b0405cc6\n'}, {'number': 2, 'created': '2024-05-18 17:53:47.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'doc/source/reference/storage/cinder-guide.rst', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'doc/source/reference/storage/cinder-guide-pure.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7623715679154d5db5a26dd7bba5900b12902033', 'message': 'Add NVMe-TCP Cinder driver support for Pure Storage\n\nFrom OpenStack 2023.2 (Bobcat) the Pure Storage Cinder driver\nsupports NVMe-TCP as a dataplane protocol. This patch adds support\nfor this new driver type.\n\nChange-Id: I3c0ad7652a03388ab2eafa173c644a55b0405cc6\n'}]",3,919977,7623715679154d5db5a26dd7bba5900b12902033,9,2,2,13425,,,0,"Add NVMe-TCP Cinder driver support for Pure Storage

From OpenStack 2023.2 (Bobcat) the Pure Storage Cinder driver
supports NVMe-TCP as a dataplane protocol. This patch adds support
for this new driver type.

Change-Id: I3c0ad7652a03388ab2eafa173c644a55b0405cc6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/919977/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'doc/source/reference/storage/cinder-guide.rst', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'doc/source/reference/storage/cinder-guide-pure.rst', 'etc/kolla/globals.yml']",7,6baa4d5b9bf7a076b00795fdcbcb849937ea6137,add_nvme_tcp,"#enable_cinder_backend_pure_nvme_tcp: ""no""",,32,0
openstack%2Fmistral-extra~919860,openstack/mistral-extra,master,Ief5bbcd05379b49dc1ad2c05c2d40d15d869f40a,Remove support for murano and senlin,NEW,2024-05-16 15:44:39.000000000,2024-05-19 09:52:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-16 15:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/5faf1bd07d2dd90044d85202cd76f4e9d2887500', 'message': 'Remove support for murano and senlin\n\nThese projects were marked inactive during 2024.1 and is being\nretired in 2024.2[1][2].\n\n[1] https://review.opendev.org/c/openstack/governance/+/919358\n[2] https://review.opendev.org/c/openstack/governance/+/919347\n\nChange-Id: Ief5bbcd05379b49dc1ad2c05c2d40d15d869f40a\n'}, {'number': 2, 'created': '2024-05-19 09:40:39.000000000', 'files': ['mistral_extra/config.py', 'requirements.txt', 'mistral_extra/actions/openstack/actions.py', 'test-requirements.txt', 'tools/get_action_list.py', 'mistral_extra/tests/unit/actions/openstack/test_generator.py', 'mistral_extra/actions/generator_factory.py', 'mistral_extra/actions/openstack/mapping.json', 'mistral_extra/tests/unit/actions/openstack/test_openstack_actions.py', 'releasenotes/notes/remove-murano-and-senlin-92e0706e778ff480.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/96bfc6c7185cef96a8906709c2364485b9ccac96', 'message': 'Remove support for murano and senlin\n\nThese projects were marked inactive during 2024.1 and is being\nretired in 2024.2[1][2].\n\nAlso get rid of unittest2, which is not actually required.\n\n[1] https://review.opendev.org/c/openstack/governance/+/919358\n[2] https://review.opendev.org/c/openstack/governance/+/919347\n\nChange-Id: Ief5bbcd05379b49dc1ad2c05c2d40d15d869f40a\n'}]",0,919860,96bfc6c7185cef96a8906709c2364485b9ccac96,4,1,2,9816,,,0,"Remove support for murano and senlin

These projects were marked inactive during 2024.1 and is being
retired in 2024.2[1][2].

Also get rid of unittest2, which is not actually required.

[1] https://review.opendev.org/c/openstack/governance/+/919358
[2] https://review.opendev.org/c/openstack/governance/+/919347

Change-Id: Ief5bbcd05379b49dc1ad2c05c2d40d15d869f40a
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/60/919860/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_extra/config.py', 'requirements.txt', 'mistral_extra/actions/openstack/actions.py', 'test-requirements.txt', 'tools/get_action_list.py', 'mistral_extra/tests/unit/actions/openstack/test_generator.py', 'mistral_extra/actions/generator_factory.py', 'mistral_extra/actions/openstack/mapping.json', 'mistral_extra/tests/unit/actions/openstack/test_openstack_actions.py', 'releasenotes/notes/remove-murano-and-senlin-92e0706e778ff480.yaml']",10,5faf1bd07d2dd90044d85202cd76f4e9d2887500,,"--- upgrade: - | Support for Murano and Senlin was removed, because these two projects were retired. ",,9,237
openstack%2Fneutron~881487,openstack/neutron,master,I762c894f38f9b2856853b781822063d9a6c448e5,[OVN] Retry retrieving metadata port during PortBindingChassisEvent,NEW,2023-04-25 15:55:01.000000000,2024-05-19 00:44:08.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-04-25 15:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb0948f66af022bcd105a665a0b4cf2036aac425', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being by OVN populated in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 2, 'created': '2023-04-26 09:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/513f3ac3dd8b42ab53991ef7a025223c9ac3f445', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 3, 'created': '2023-05-11 12:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f10de8edb90706a9f64ba23a2a01fec192fdf4e0', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 4, 'created': '2023-05-17 16:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66f02a933984a9768411e8705c0bd1dcc35a834a', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 5, 'created': '2023-05-17 18:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f59726c37b9a1bb9a8b9df8b7e6d42cd12d88c3', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 6, 'created': '2023-05-18 13:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61058a07a5b6d0f81f74132e1c8ed7e8d60ae8db', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 7, 'created': '2023-08-21 21:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba9ddfae445f5dbf22b480e4442bf64d819bd66a', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 8, 'created': '2024-01-22 22:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06b682cf58d44875d0eeb8186576e42af4aea29f', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 9, 'created': '2024-01-31 21:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/497e7130d94de276d450ecb2b7bd2c7af074133c', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 10, 'created': '2024-01-31 22:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1aed44c29d8c8b9c9a9d23d18a98d63cf04a0cf', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 11, 'created': '2024-02-01 01:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9abae8678f064f9576611613e32fdd31b2f845b6', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases. The patch also improves\na little the error logged to discriminate between the port not being\nfound or the IP configuration being missing.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 12, 'created': '2024-02-23 00:22:04.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01b90cd7480f89654e76dbbad69cf9907761fb4f', 'message': ""[OVN] Retry retrieving metadata port during PortBindingChassisEvent\n\nIn some edge cases found during a scalability test we noticed that some\nVMs failed to get a DHCP lease. During investigation it was found that\nthe ovnmeta-<uuid> network namespace was not present in the compute node\nwhere the VM was running, with the ovn-metadata logs saying:\n\n2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]\nThere is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa\nor it has no MAC or IP addresses configured, tearing\nthe namespace down if needed _get_provision_params\n/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495\n\nWhen the system is under stress there's a chance that the information of\nthe metadata port has not yet being populated by OVN in the Southbound\ndatabase so when the PortBindingChassisEvent happens and the code tries\nto find the metadata port or its IP information (updated during subnet\ncreation) it does not find it and silently fails with the error above,\ntearing down the network namespace for that network.\n\nNote the same test with less concurrency does not replicate this error.\n\nThis patch adds a retry mechanism when fetching the metadata port for\na maximum of 10 seconds. That (hopefully) should be enough for OVN to\npropagate the information between the databases.\n\nCloses-Bug: #2017748\nChange-Id: I762c894f38f9b2856853b781822063d9a6c448e5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",78,881487,01b90cd7480f89654e76dbbad69cf9907761fb4f,121,7,12,6773,,,0,"[OVN] Retry retrieving metadata port during PortBindingChassisEvent

In some edge cases found during a scalability test we noticed that some
VMs failed to get a DHCP lease. During investigation it was found that
the ovnmeta-<uuid> network namespace was not present in the compute node
where the VM was running, with the ovn-metadata logs saying:

2023-04-18 06:56:09.864 353474 DEBUG neutron.agent.ovn.metadata.agent [-]
There is no metadata port for network 9029c393-5c40-4bf2-beec-27413417eafa
or it has no MAC or IP addresses configured, tearing
the namespace down if needed _get_provision_params
/usr/lib/python3.9/site-packages/neutron/agent/ovn/metadata/agent.py:495

When the system is under stress there's a chance that the information of
the metadata port has not yet being populated by OVN in the Southbound
database so when the PortBindingChassisEvent happens and the code tries
to find the metadata port or its IP information (updated during subnet
creation) it does not find it and silently fails with the error above,
tearing down the network namespace for that network.

Note the same test with less concurrency does not replicate this error.

This patch adds a retry mechanism when fetching the metadata port for
a maximum of 10 seconds. That (hopefully) should be enough for OVN to
propagate the information between the databases.

Closes-Bug: #2017748
Change-Id: I762c894f38f9b2856853b781822063d9a6c448e5
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/881487/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,bb0948f66af022bcd105a665a0b4cf2036aac425,metadata-port-retry,"import tenacity from neutron._i18n import _ @tenacity.retry(retry=tenacity.retry_if_exception_type(RuntimeError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_delay(10), reraise=True) def _find_metadata_port(self, datapath_uuid, net_name): metadata_port = self.sb_idl.get_metadata_port_network(datapath_uuid) # If there's no metadata port or it doesn't have a MAC or IP # addresses, then tear the namespace down if needed. This might happen # when there are no subnets yet created so metadata port doesn't have # an IP address. if not metadata_port: raise RuntimeError( _('No metadata port found for network %s (datapath: %s)') % ( net_name, datapath_uuid)) if not (metadata_port.mac and metadata_port.external_ids.get( ovn_const.OVN_CIDRS_EXT_ID_KEY, None)): raise RuntimeError( _('Metadata port found for network %s (datapath: %s) but is ' 'missing IP address configuration') % (net_name, datapath_uuid)) return metadata_port try: metadata_port = self._find_metadata_port(datapath_uuid, net_name) except RuntimeError as e: LOG.error(e)"," metadata_port = self.sb_idl.get_metadata_port_network(datapath_uuid) # If there's no metadata port or it doesn't have a MAC or IP # addresses, then tear the namespace down if needed. This might happen # when there are no subnets yet created so metadata port doesn't have # an IP address. if not (metadata_port and metadata_port.mac and metadata_port.external_ids.get( ovn_const.OVN_CIDRS_EXT_ID_KEY, None)): LOG.debug(""There is no metadata port for network %s or it has no "" ""MAC or IP addresses configured, tearing the namespace "" ""down if needed"", net_name)",28,11
openstack%2Fopenstack-ansible~919994,openstack/openstack-ansible,master,I80524e03deed956e603fa60feb1de58bd5de0e30,Remove networking-odl/ovn due to repo retirement,MERGED,2024-05-18 11:46:11.000000000,2024-05-18 23:21:48.000000000,2024-05-18 23:19:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-18 11:46:11.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aa7a4d107b69dadd86bcb98ed26c5e75b9da79eb', 'message': 'Remove networking-odl/ovn due to repo retirement\n\nChange-Id: I80524e03deed956e603fa60feb1de58bd5de0e30\n'}]",2,919994,aa7a4d107b69dadd86bcb98ed26c5e75b9da79eb,12,3,1,28619,,,0,"Remove networking-odl/ovn due to repo retirement

Change-Id: I80524e03deed956e603fa60feb1de58bd5de0e30
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/919994/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,aa7a4d107b69dadd86bcb98ed26c5e75b9da79eb,,, - name: openstack/networking-odl - name: openstack/networking-ovn,0,2
openstack%2Fcinder~913913,openstack/cinder,master,I2ab28da5cc2b9ed3a1588259b2e94320662816bb,do not use str(url) to stringify a URL for subsequent use,NEW,2024-03-21 14:45:59.000000000,2024-05-18 15:15:01.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-21 14:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/15f3e500fb22a21c48b1dbb2c4c8d5475820cc3a', 'message': 'do not use str(url) to stringify a URL for subsequent use\n\nThe str(url) function in SQLAlchemy hides the password.\nFor a URL string that is to be re-used, use\nrender_as_string(hide_password=False).\n\nChange-Id: I2ab28da5cc2b9ed3a1588259b2e94320662816bb\n'}, {'number': 2, 'created': '2024-05-15 15:59:53.000000000', 'files': ['cinder/db/migration.py', 'cinder/tests/unit/db/test_migration.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/385acdb1c930509e078d5750a7c5e3f5d25092df', 'message': 'do not use str(url) to stringify a URL for subsequent use\n\nThe str(url) function in SQLAlchemy hides the password.\nFor a URL string that is to be re-used, use\nrender_as_string(hide_password=False).\n\nChange-Id: I2ab28da5cc2b9ed3a1588259b2e94320662816bb\n'}]",1,913913,385acdb1c930509e078d5750a7c5e3f5d25092df,29,2,2,11816,,,0,"do not use str(url) to stringify a URL for subsequent use

The str(url) function in SQLAlchemy hides the password.
For a URL string that is to be re-used, use
render_as_string(hide_password=False).

Change-Id: I2ab28da5cc2b9ed3a1588259b2e94320662816bb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/913913/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/migration.py', 'cinder/tests/unit/db/test_migration.py']",2,15f3e500fb22a21c48b1dbb2c4c8d5475820cc3a,fix_str_url," 'sqlalchemy.url', mock_get_engine.return_value.url. render_as_string(hide_password=False),"," 'sqlalchemy.url', str(mock_get_engine.return_value.url),",5,3
openstack%2Fheat~919653,openstack/heat,stable/2023.1,Ib7e4f136f4b07ea30310fccebb58463eac023454,Remove reference to devstack-gate,MERGED,2024-05-16 05:39:27.000000000,2024-05-18 12:27:28.000000000,2024-05-18 12:24:54.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 05:39:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/362bd38d902e006b50caf86f46581dfd16f7adab', 'message': 'Remove reference to devstack-gate\n\ndevstack-gate was deprecated in xena and is being retired now[1].\n\n[1] https://review.opendev.org/c/openstack/governance/+/919629\n\nChange-Id: Ib7e4f136f4b07ea30310fccebb58463eac023454\n(cherry picked from commit 0290f8a580a76af730739766a2b8cd82de6a9955)\n(cherry picked from commit f5f4d48b8f44c9b03b0800568f69979bcca758e3)\n(cherry picked from commit 39eca5de2e193f652792e4f7be2e5eb96dd3d853)\n'}]",4,919653,362bd38d902e006b50caf86f46581dfd16f7adab,21,2,1,9816,,,0,"Remove reference to devstack-gate

devstack-gate was deprecated in xena and is being retired now[1].

[1] https://review.opendev.org/c/openstack/governance/+/919629

Change-Id: Ib7e4f136f4b07ea30310fccebb58463eac023454
(cherry picked from commit 0290f8a580a76af730739766a2b8cd82de6a9955)
(cherry picked from commit f5f4d48b8f44c9b03b0800568f69979bcca758e3)
(cherry picked from commit 39eca5de2e193f652792e4f7be2e5eb96dd3d853)
",git fetch https://review.opendev.org/openstack/heat refs/changes/53/919653/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,362bd38d902e006b50caf86f46581dfd16f7adab,,, - openstack/devstack-gate,0,1
openstack%2Fkolla-ansible~913449,openstack/kolla-ansible,master,Iee8fa9d94e5ed5bfab794db2d35d75a96d8a7600,ironic: add missing ironic_database_shard_id parameter,NEW,2024-03-15 21:40:49.000000000,2024-05-18 11:55:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-15 21:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cdc169e44632eed2d69bb84c87716eaa72ab0533', 'message': 'ironic: add missing ironic_database_shard_id parameter\n\nWithout this parameter, it is not possible to use ProxySQL for Ironic.\n\nChange-Id: Iee8fa9d94e5ed5bfab794db2d35d75a96d8a7600\n'}, {'number': 2, 'created': '2024-05-18 08:46:35.000000000', 'files': ['ansible/roles/ironic/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b71de703e2b00d766263158f32e53d059b507f1c', 'message': 'ironic: add missing ironic_database_shard_id parameter\n\nWithout this parameter, it is not possible to use ProxySQL for Ironic.\n\nChange-Id: Iee8fa9d94e5ed5bfab794db2d35d75a96d8a7600\n'}]",0,913449,b71de703e2b00d766263158f32e53d059b507f1c,6,1,2,167,,,0,"ironic: add missing ironic_database_shard_id parameter

Without this parameter, it is not possible to use ProxySQL for Ironic.

Change-Id: Iee8fa9d94e5ed5bfab794db2d35d75a96d8a7600
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/913449/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/defaults/main.yml'],1,cdc169e44632eed2d69bb84c87716eaa72ab0533,ironic_database_shard_id,"ironic_database_shard_id: ""{{ mariadb_default_database_shard_id | int }}""",,1,0
openstack%2Fkolla-ansible~913468,openstack/kolla-ansible,master,I07b0d4a9da439954f982d19f472f6440b08ae3f8,ironic: fix tftp server address in the dnsmasq configuration,NEW,2024-03-16 11:40:17.000000000,2024-05-18 11:54:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-16 11:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/53ab5c20828d2696250f2f1b6700876f33bccd48', 'message': 'ironic: fix tftp server address in the dnsmasq configuration\n\nThe tftp server is reachable on the ironic_tftp_listen_address\naddress.\n\nChange-Id: I07b0d4a9da439954f982d19f472f6440b08ae3f8\n'}, {'number': 2, 'created': '2024-03-16 11:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b8a8d4b1f6bc065d4d4d001607bbfa666ded785', 'message': 'ironic: fix tftp server address in the dnsmasq configuration\n\nThe tftp server is reachable on the ironic_tftp_listen_address\naddress.\n\nChange-Id: I07b0d4a9da439954f982d19f472f6440b08ae3f8\n'}, {'number': 3, 'created': '2024-05-18 08:46:08.000000000', 'files': ['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb444acb454e7aa61a19899d4079760953a5556d', 'message': 'ironic: fix tftp server address in the dnsmasq configuration\n\nThe tftp server is reachable on the ironic_tftp_listen_address\naddress.\n\nChange-Id: I07b0d4a9da439954f982d19f472f6440b08ae3f8\n'}]",0,913468,bb444acb454e7aa61a19899d4079760953a5556d,7,1,3,167,,,0,"ironic: fix tftp server address in the dnsmasq configuration

The tftp server is reachable on the ironic_tftp_listen_address
address.

Change-Id: I07b0d4a9da439954f982d19f472f6440b08ae3f8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/913468/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2'],1,53ab5c20828d2696250f2f1b6700876f33bccd48,fix-tftp-server-address,"dhcp-option=option:tftp-server,{{ ironic_tftp_listen_address }}","dhcp-option=option:tftp-server,{{ api_interface_address }}",1,1
openstack%2Fopenstack-ansible~919062,openstack/openstack-ansible,master,I8f9c5e776bfa41fa86c82451ed8c28b94aad44ce,docs: demonstrate quick method to move between HA/Quorum queues,MERGED,2024-05-10 13:52:00.000000000,2024-05-18 10:49:25.000000000,2024-05-18 10:46:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2024-05-10 13:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/00d1ff92a60af11f4d6698cceddff94d9e44ea4d', 'message': 'docs: demonstrate quick method to move between HA/Quorum queues\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/918614\nChange-Id: I8f9c5e776bfa41fa86c82451ed8c28b94aad44ce\n'}, {'number': 2, 'created': '2024-05-13 08:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f70d7878396b0de36e6fa96772b629bf6443c05b', 'message': 'docs: demonstrate quick method to move between HA/Quorum queues\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/918614\nChange-Id: I8f9c5e776bfa41fa86c82451ed8c28b94aad44ce\n'}, {'number': 3, 'created': '2024-05-15 07:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5303608a470a8b63fc739d6a398a03def169d58c', 'message': 'docs: demonstrate quick method to move between HA/Quorum queues\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/918614\nChange-Id: I8f9c5e776bfa41fa86c82451ed8c28b94aad44ce\n'}, {'number': 4, 'created': '2024-05-15 08:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf0d567160ddaed03155702ad55e5ca68eda3a1c', 'message': 'docs: demonstrate quick method to move between HA/Quorum queues\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/918614\nChange-Id: I8f9c5e776bfa41fa86c82451ed8c28b94aad44ce\n'}, {'number': 5, 'created': '2024-05-17 16:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a63b682aa3ca8e4e99fcd8947afc2c5a75e30661', 'message': 'docs: demonstrate quick method to move between HA/Quorum queues\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/918614\nChange-Id: I8f9c5e776bfa41fa86c82451ed8c28b94aad44ce\n'}, {'number': 6, 'created': '2024-05-17 16:19:40.000000000', 'files': ['doc/source/admin/maintenance-tasks/rabbitmq-maintain.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3edb576720cc22bafc1cbf42f6b220bc731f13c0', 'message': 'docs: demonstrate quick method to move between HA/Quorum queues\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/918614\nChange-Id: I8f9c5e776bfa41fa86c82451ed8c28b94aad44ce\n'}]",0,919062,3edb576720cc22bafc1cbf42f6b220bc731f13c0,19,4,6,31542,,,0,"docs: demonstrate quick method to move between HA/Quorum queues

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/918614
Change-Id: I8f9c5e776bfa41fa86c82451ed8c28b94aad44ce
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/919062/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/maintenance-tasks/rabbitmq-maintain.rst'],1,00d1ff92a60af11f4d6698cceddff94d9e44ea4d,bump_osa," Migrate between HA and Quorum queues ------------------------------------ In the 2024.1 (Caracal) release OpenStack Ansible switches to use RabbitMQ Quorum Queues by default, rather than the legacy High Availability classic queues. Migration to Quorum Queues can be performed at upgrade time, but may result in extended control plane downtime as this requires all OpenStack services to be restarted with their new configuration. In order to speed up the migration, the following playbooks can be run to migrate either to or from Quorum Queues, whilst skipping package install and other configuration tasks. These tasks are available from the 2024.1 release onwards. .. code-block:: console $ openstack-ansible rabbitmq-install.yml --tags rabbitmq-config $ openstack-ansible setup-openstack.yml --tags common-mq,post-install In order to take advantage of these steps, we suggest setting `oslomsg_rabbit_quorum_queues` to False before upgrading to 2024.1. Then, once you have upgraded, set `oslomsg_rabbit_quorum_queues` back to the default of True and run the playbooks above.",,24,0
openstack%2Fopenstack-ansible~918615,openstack/openstack-ansible,master,I4dd6350cb8eb211814a1d6055e674065bf015f4c,Remove service-specific tags from service playbooks,MERGED,2024-05-08 12:36:22.000000000,2024-05-18 10:48:02.000000000,2024-05-18 10:45:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-08 12:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e6e04a8c915d3d6ce57bcb76dc37a8dba8d45fda', 'message': 'Add script to aid in migration between HA and quorum queues\n\nThis script is intended to provide a quick method to migrate to\nand from quorum queues, without the need to execute potentially\nlong-running aspects of service roles such as venv builds.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/918614\nChange-Id: I4dd6350cb8eb211814a1d6055e674065bf015f4c\n'}, {'number': 2, 'created': '2024-05-10 13:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3a2c944d2dfe527db58d64ce542e12df9c9f4f95', 'message': ""Adjust playbook tags to ensure HAProxy maintenance steps always run\n\nWhen using a tag like 'nova-config', either with setup-openstack.yml\nor os-nova-install.yml, HAProxy maintenance steps are skipped due to\nan absence of the 'nova' tag.\n\nThis modification aims to maintain the service tag (ie. 'nova')\nfunctionality if using it to restrict setup-openstack.yml to a subset\nof services, but avoids it limiting which tasks can run when\ncalling the service playbook directly with other tags.\n\nTODO: Extend to all other service playbooks subject to review\n\nChange-Id: I4dd6350cb8eb211814a1d6055e674065bf015f4c\n""}, {'number': 3, 'created': '2024-05-13 08:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3f0e11e8a3f80f841569ed2d73121524ae186940', 'message': ""Remove service-specific tags from service playbooks\n\nThis removes service-specific tags like 'nova' as they are confusing\nin their current state, and only appear useful if run using the\nsetup-openstack playbook. The tags restrict which pre/post tasks\nrun, but don't prevent the related roles from running.\n\nThis causes issues such as: calling setup-openstack with a\n'nova' tag would not run the 'haproxy-service-config' step, and\nrunning os-nova-install with a 'nova-config' tag wouldn't run\nHAProxy maintenance steps.\n\nTODO: Extend to all other service playbooks subject to review\n\nChange-Id: I4dd6350cb8eb211814a1d6055e674065bf015f4c\n""}, {'number': 4, 'created': '2024-05-15 07:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1afcf4271daf3cab604d2814e9831574f4b47efe', 'message': ""Remove service-specific tags from service playbooks\n\nThis removes service-specific tags like 'nova' as they are confusing\nin their current state, and only appear useful if run using the\nsetup-openstack playbook. The tags restrict which pre/post tasks\nrun, but don't prevent the related roles from running.\n\nThis causes issues such as: calling setup-openstack with a\n'nova' tag would not run the 'haproxy-service-config' step, and\nrunning os-nova-install with a 'nova-config' tag wouldn't run\nHAProxy maintenance steps.\n\nChange-Id: I4dd6350cb8eb211814a1d6055e674065bf015f4c\n""}, {'number': 5, 'created': '2024-05-15 08:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cac33232ff67d9515982af1a6a286962de870831', 'message': ""Remove service-specific tags from service playbooks\n\nThis removes service-specific tags like 'nova' as they are confusing\nin their current state, and only appear useful if run using the\nsetup-openstack playbook. The tags restrict which pre/post tasks\nrun, but don't prevent the related roles from running.\n\nThis causes issues such as: calling setup-openstack with a\n'nova' tag would not run the 'haproxy-service-config' step, and\nrunning os-nova-install with a 'nova-config' tag wouldn't run\nHAProxy maintenance steps.\n\nChange-Id: I4dd6350cb8eb211814a1d6055e674065bf015f4c\n""}, {'number': 6, 'created': '2024-05-17 16:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4470ba7ff39315dcc2ab9dd44c606ae1d59b9579', 'message': ""Remove service-specific tags from service playbooks\n\nThis removes service-specific tags like 'nova' as they are confusing\nin their current state, and only appear useful if run using the\nsetup-openstack playbook. The tags restrict which pre/post tasks\nrun, but don't prevent the related roles from running.\n\nThis causes issues such as: calling setup-openstack with a\n'nova' tag would not run the 'haproxy-service-config' step, and\nrunning os-nova-install with a 'nova-config' tag wouldn't run\nHAProxy maintenance steps.\n\nChange-Id: I4dd6350cb8eb211814a1d6055e674065bf015f4c\n""}, {'number': 7, 'created': '2024-05-17 16:19:35.000000000', 'files': ['playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-rally-install.yml', 'playbooks/os-masakari-install.yml', 'playbooks/os-mistral-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/os-blazar-install.yml', 'playbooks/os-placement-install.yml', 'playbooks/os-swift-sync.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-trove-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/os-skyline-install.yml', 'playbooks/os-manila-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/os-neutron-install.yml', 'playbooks/common-playbooks/neutron.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/os-tacker-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/os-designate-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-zun-install.yml', 'playbooks/os-ironic-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/os-adjutant-install.yml', 'releasenotes/notes/remove-service-only-tags-71e512750867fe3a.yaml', 'playbooks/os-cloudkitty-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f278ee02eada8164a60eb3383cc9aa9e1d7fab1', 'message': ""Remove service-specific tags from service playbooks\n\nThis removes service-specific tags like 'nova' as they are confusing\nin their current state, and only appear useful if run using the\nsetup-openstack playbook. The tags restrict which pre/post tasks\nrun, but don't prevent the related roles from running.\n\nThis causes issues such as: calling setup-openstack with a\n'nova' tag would not run the 'haproxy-service-config' step, and\nrunning os-nova-install with a 'nova-config' tag wouldn't run\nHAProxy maintenance steps.\n\nChange-Id: I4dd6350cb8eb211814a1d6055e674065bf015f4c\n""}]",4,918615,5f278ee02eada8164a60eb3383cc9aa9e1d7fab1,24,3,7,31542,,,0,"Remove service-specific tags from service playbooks

This removes service-specific tags like 'nova' as they are confusing
in their current state, and only appear useful if run using the
setup-openstack playbook. The tags restrict which pre/post tasks
run, but don't prevent the related roles from running.

This causes issues such as: calling setup-openstack with a
'nova' tag would not run the 'haproxy-service-config' step, and
running os-nova-install with a 'nova-config' tag wouldn't run
HAProxy maintenance steps.

Change-Id: I4dd6350cb8eb211814a1d6055e674065bf015f4c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/918615/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/rabbitmq-migrate.sh'],1,e6e04a8c915d3d6ce57bcb76dc37a8dba8d45fda,bump_osa,"#!/usr/bin/env bash # This script can be used as a quick method to switch between RabbitMQ HA # queues and quorum queues. Change the boolean value of # `oslomsg_rabbit_quorum_queues` before executing this script from the # /opt/openstack-ansible/playbooks directory. openstack-ansible rabbitmq-install.yml --tags rabbitmq-config openstack-ansible setup-openstack.yml --tags common-mq,post-install ",,9,0
openstack%2Fcinder~917272,openstack/cinder,master,I1b0695f843f2dc41e12d74ee74ced67e4a95f609,Remove the duplicate code,MERGED,2024-04-28 01:11:15.000000000,2024-05-18 09:00:08.000000000,2024-05-18 04:51:00.000000000,"[{'_account_id': 597}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 23729}, {'_account_id': 29122}]","[{'number': 1, 'created': '2024-04-28 01:11:15.000000000', 'files': ['cinder/volume/targets/nvmeof.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad60b0b3d594435e308bd94ca7543ce199083162', 'message': 'Remove the duplicate code\n\nChange-Id: I1b0695f843f2dc41e12d74ee74ced67e4a95f609\n'}]",2,917272,ad60b0b3d594435e308bd94ca7543ce199083162,24,5,1,23729,,,0,"Remove the duplicate code

Change-Id: I1b0695f843f2dc41e12d74ee74ced67e4a95f609
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/917272/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/targets/nvmeof.py'],1,ad60b0b3d594435e308bd94ca7543ce199083162,,, if transport == 'rdma': transport = 'RoCEv2' ,0,3
openstack%2Fkolla-ansible~917093,openstack/kolla-ansible,stable/2023.2,I35be54efb5aaa230702d0cebaae04f1e64c3bca3,Update cell0 database connection,NEW,2024-04-29 12:28:03.000000000,2024-05-18 08:38:56.000000000,,"[{'_account_id': 167}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-29 12:28:03.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'kolla_ansible/nova_filters.py', 'ansible/roles/nova/tasks/map_cell0.yml', 'releasenotes/notes/bug-1915302-a668b00dddaff476.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de2f802371719a119118fd30a67e73563cdba7fb', 'message': 'Update cell0 database connection\n\nWhen kolla VIP address is changed the cell0 database connection is\nnow updated to the new address.\n\nCloses-bug: #1915302\nChange-Id: I35be54efb5aaa230702d0cebaae04f1e64c3bca3\nSigned-off-by: Roman Krček <roman.krcek@tietoevry.com>\n(cherry picked from commit ab6eb989ae6fc9fc74cd7b156ba8bc18ad5c784e)\n'}]",0,917093,de2f802371719a119118fd30a67e73563cdba7fb,6,4,1,14826,,,0,"Update cell0 database connection

When kolla VIP address is changed the cell0 database connection is
now updated to the new address.

Closes-bug: #1915302
Change-Id: I35be54efb5aaa230702d0cebaae04f1e64c3bca3
Signed-off-by: Roman Krček <roman.krcek@tietoevry.com>
(cherry picked from commit ab6eb989ae6fc9fc74cd7b156ba8bc18ad5c784e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/917093/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'kolla_ansible/nova_filters.py', 'ansible/roles/nova/tasks/map_cell0.yml', 'releasenotes/notes/bug-1915302-a668b00dddaff476.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml']",5,de2f802371719a119118fd30a67e73563cdba7fb,bug/1915302-stable/2023.2," volumes: ""{{ nova_cell_get_settings_volumes }}"""," volumes: ""{{ nova_cell_bootstrap_default_volumes + nova_cell_bootstrap_extra_volumes }}""",69,23
openstack%2Fkolla-ansible~914185,openstack/kolla-ansible,master,I07058a4b30d0de1aaf8e82656024c5f6a99b290b,[CI] Force config drive for ipv6 jobs,NEW,2024-03-26 07:38:35.000000000,2024-05-18 08:34:07.000000000,,"[{'_account_id': 167}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}, {'_account_id': 36201}]","[{'number': 1, 'created': '2024-03-26 07:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6e01c0c3f068f133d2e504acc549cfbd05aeb8dd', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 2, 'created': '2024-03-26 11:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e83b442de6377bb0c6d86b5f9e690d937279a2ac', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 3, 'created': '2024-03-26 11:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/130849d5334b34d4960f84bf7939a501afb1e1c5', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 4, 'created': '2024-03-26 14:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b810bf7489001c2e8b0a4d1d39e61194c11d3dd8', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 5, 'created': '2024-03-26 15:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d31f4e6dc1afdfcd0d69b2c51c38db5ff27ef58', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 6, 'created': '2024-03-26 16:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c27666d12d98e2ccde9ed9f6f6e6e3465117101', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 7, 'created': '2024-03-26 16:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2ba9f6a95fd2264aa79202d967319a0628499e12', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 8, 'created': '2024-03-26 17:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b907d708f55336a5ad5d0a41ebceefb0f873d684', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 9, 'created': '2024-03-26 21:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42bf11f1060ca86c2de2a109f0c944074a653d80', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 10, 'created': '2024-03-26 22:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/774b5a6acbee1d5c2b68377ad4992960e1d0273f', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 11, 'created': '2024-03-28 10:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fac4c9b828e1690ce5212b53fcab1251412740e5', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}, {'number': 12, 'created': '2024-05-17 11:07:03.000000000', 'files': ['tests/templates/nova-compute-overrides.j2', 'tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77e30ee0662802a5e86909b03073f7864fd99d1f', 'message': '[CI] Force config drive for ipv6 jobs\n\nAs our CI is ipv6 only and using cirros for tests.\nTherefore we need to set force_config_drive = true.\n\nChange-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b\n'}]",4,914185,77e30ee0662802a5e86909b03073f7864fd99d1f,28,7,12,27339,,,0,"[CI] Force config drive for ipv6 jobs

As our CI is ipv6 only and using cirros for tests.
Therefore we need to set force_config_drive = true.

Change-Id: I07058a4b30d0de1aaf8e82656024c5f6a99b290b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/914185/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/nova-compute-overrides.j2', 'tests/run.yml']",2,6e01c0c3f068f133d2e504acc549cfbd05aeb8dd,ci-rally," force_config_drive: ""{{ 'true' if address_family == 'ipv6' else 'false' }}"" force_config_drive: ""{{ 'true' if address_family == 'ipv6' else 'false' }}""",,4,0
openstack%2Fkolla-ansible~918455,openstack/kolla-ansible,master,I96151bb6809a4bf0f17dd3e0e97a654730881869,heat: set backups_enabled=False when cinder-backup is disabled,NEW,2024-05-07 15:01:13.000000000,2024-05-18 08:31:58.000000000,,"[{'_account_id': 167}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-07 15:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f63afd20bccd2f4da16ffe0fad9ea254233eb28', 'message': 'heat: set backups_enabled=False when cinder-backup is disabled\n\nChange-Id: I96151bb6809a4bf0f17dd3e0e97a654730881869\n'}, {'number': 2, 'created': '2024-05-07 19:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0affca30a5b545292b4aba2b51c84d71ad84d5b0', 'message': 'heat: set backups_enabled=False when cinder-backup is disabled\n\nChange-Id: I96151bb6809a4bf0f17dd3e0e97a654730881869\n'}, {'number': 3, 'created': '2024-05-16 07:25:12.000000000', 'files': ['releasenotes/notes/heat-volumes-backup-enabled-4e9799558677e6cd.yaml', 'ansible/roles/heat/templates/heat.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3354c9560648f5c883d5cf1c084ddfaff7af25c', 'message': 'heat: set backups_enabled=False when cinder-backup is disabled\n\nChange-Id: I96151bb6809a4bf0f17dd3e0e97a654730881869\n'}]",3,918455,c3354c9560648f5c883d5cf1c084ddfaff7af25c,12,2,3,15197,,,0,"heat: set backups_enabled=False when cinder-backup is disabled

Change-Id: I96151bb6809a4bf0f17dd3e0e97a654730881869
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/918455/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/heat-volumes-backup-enabled-4e9799558677e6cd.yaml', 'ansible/roles/heat/templates/heat.conf.j2']",2,5f63afd20bccd2f4da16ffe0fad9ea254233eb28,heat-volumes-backups-enabled, {% if not enable_cinder_backup | bool } [volumes] backups_enabled = False {% endif %},,10,0
openstack%2Fcinder~915563,openstack/cinder,master,I968b393ef22616c4d58b29974ad38f97075915c7,Remove SQLAlchemy tips jobs,MERGED,2024-04-12 10:42:54.000000000,2024-05-18 08:07:40.000000000,2024-05-17 22:59:54.000000000,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2024-04-12 10:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/048b667e9ad5ddb03b41fb82216be97e41d00ef7', 'message': 'Remove SQLAlchemy tips jobs\n\nThe most recent SQLAlchemy and Alembic versions are now in\nupper-constraints. As a result, this job has served its purpose and can\nbe removed. For more information, see [1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/\n\nChange-Id: I968b393ef22616c4d58b29974ad38f97075915c7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/879743\n'}, {'number': 2, 'created': '2024-05-15 15:33:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/825d64e41bfe3a00f566091466be8161084f110c', 'message': 'Remove SQLAlchemy tips jobs\n\nThe most recent SQLAlchemy and Alembic versions are now in\nupper-constraints. As a result, this job has served its purpose and can\nbe removed. For more information, see [1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/\n\nChange-Id: I968b393ef22616c4d58b29974ad38f97075915c7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/879743\n'}]",3,915563,825d64e41bfe3a00f566091466be8161084f110c,35,3,2,15334,,,0,"Remove SQLAlchemy tips jobs

The most recent SQLAlchemy and Alembic versions are now in
upper-constraints. As a result, this job has served its purpose and can
be removed. For more information, see [1].

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/

Change-Id: I968b393ef22616c4d58b29974ad38f97075915c7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Depends-on: https://review.opendev.org/c/openstack/requirements/+/879743
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/915563/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,048b667e9ad5ddb03b41fb82216be97e41d00ef7,sqlalchemy-20,," - cinder-sqlalchemy-2x name: cinder-sqlalchemy-2x parent: openstack-tox-py311 description: | Run unit tests with main branch of SQLAlchemy, alembic and oslo.db. Takes advantage of the base tox job's install-siblings feature. # The job only tests the latest and shouldn't be run on the stable branches branches: master required-projects: - name: github.com/sqlalchemy/sqlalchemy override-checkout: main - name: github.com/sqlalchemy/alembic override-checkout: main - name: openstack/oslo.db - job:",0,16
openstack%2Fopenstack-ansible~919902,openstack/openstack-ansible,master,I588e0d3b15e7683ff79b64ecc61a06af94b5d7df,"Remove murano, senlin and sahara from zuul required projects",MERGED,2024-05-16 21:23:48.000000000,2024-05-18 07:17:45.000000000,2024-05-17 20:34:57.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2024-05-16 21:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c1b6ab29d79a80479c81368be79edca84ac7ff9', 'message': 'Remove murano from zuul required projects, it is now retired\n\nChange-Id: I588e0d3b15e7683ff79b64ecc61a06af94b5d7df\n'}, {'number': 2, 'created': '2024-05-17 15:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6de080b7eef050e355f11368c55dfb45e913657c', 'message': 'Remove murano from zuul required projects, it is now retired\n\nChange-Id: I588e0d3b15e7683ff79b64ecc61a06af94b5d7df\n'}, {'number': 3, 'created': '2024-05-17 15:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bb5057649896ec0cc44cb8c0223ea8399bb8f8e8', 'message': 'Remove murano and sahara from zuul required projects\n\nThese repos are now retired\n\nChange-Id: I588e0d3b15e7683ff79b64ecc61a06af94b5d7df\n'}, {'number': 4, 'created': '2024-05-17 15:29:12.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f8d1d82a0a45b07af48d8f0f62fd7965a19a132a', 'message': 'Remove murano, senlin and sahara from zuul required projects\n\nThese repos are now retired\n\nChange-Id: I588e0d3b15e7683ff79b64ecc61a06af94b5d7df\n'}]",309,919902,f8d1d82a0a45b07af48d8f0f62fd7965a19a132a,19,6,4,25023,,,0,"Remove murano, senlin and sahara from zuul required projects

These repos are now retired

Change-Id: I588e0d3b15e7683ff79b64ecc61a06af94b5d7df
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/919902/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,4c1b6ab29d79a80479c81368be79edca84ac7ff9,,, # Murano distro deployment does need access to valid git repo anyway - name: openstack/murano - name: openstack/murano-tempest-plugin - name: openstack/murano - name: openstack/murano - name: openstack/murano-tempest-plugin,0,6
openstack%2Fmagnum-ui~917915,openstack/magnum-ui,master,I7840ab606eb4a39fe34509d7b49d738391148bae,Workflow updates for Create Cluster,MERGED,2024-05-02 03:55:55.000000000,2024-05-18 07:02:56.000000000,2024-05-18 07:01:37.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-05-02 03:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/3969471bb5860d6b81f37586878343397d02f66a', 'message': ""Create cluster workflow updates\n\n* Sort cluster templates alphabetically\n* Help text updates to reflect the options.\n* Apply limitations to 'master_lb_enabled' checkbox\n  interactions, such as master_count.\n* Replace 'floating_ip' with 'master_lb_floating_ip_enabled',\n  as the former seemed to imply floating ip on all nodes.\n* Add 'api_master_lb_allowed_cidrs' so limitations can be placed\n  on K8s API loadbalancer.\n* Basic validation for cluster name, to reduce create failures.\n* Rename 'Master' to 'Control Plane' in line with upstream Kubernetes.\n* Add validation for 'master_count': min/max and odd numbers.\n* Remove required indicator on 'network' tab. The defaults should allow creation.\n* Subnet display bugfix. Reset to default selection on enable/disable.\n\nChange-Id: I7840ab606eb4a39fe34509d7b49d738391148bae\n""}, {'number': 2, 'created': '2024-05-02 04:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/8c9827c30e9d10323140c4c260a055a0fa170374', 'message': ""Create cluster workflow updates\n\n* Sort cluster templates alphabetically\n* Help text updates to reflect the options.\n* Apply limitations to 'master_lb_enabled' checkbox\n  interactions, such as master_count.\n* Replace 'floating_ip' with 'master_lb_floating_ip_enabled',\n  as the former seemed to imply floating ip on all nodes.\n* Add 'api_master_lb_allowed_cidrs' so limitations can be placed\n  on K8s API loadbalancer.\n* Basic validation for cluster name, to reduce create failures.\n* Rename 'Master' to 'Control Plane' in line with upstream Kubernetes.\n* Add validation for 'master_count': min/max and odd numbers.\n* Remove required indicator on 'network' tab. The defaults should allow creation.\n* Subnet display bugfix. Reset to default selection on enable/disable.\n\nChange-Id: I7840ab606eb4a39fe34509d7b49d738391148bae\n""}, {'number': 3, 'created': '2024-05-03 02:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/b1a6bd00dcc512c48380090dd44ba9ea23cd0d94', 'message': ""Create cluster workflow updates\n\n* Sort cluster templates alphabetically\n* Help text updates to reflect the options.\n* Apply limitations to 'master_lb_enabled' checkbox\n  interactions, such as master_count.\n* Replace 'floating_ip' with 'master_lb_floating_ip_enabled',\n  as the former seemed to imply floating ip on all nodes.\n* Add 'api_master_lb_allowed_cidrs' so limitations can be placed\n  on K8s API loadbalancer.\n* Basic validation for cluster name, to reduce create failures.\n* Rename 'Master' to 'Control Plane' in line with upstream Kubernetes.\n* Add validation for 'master_count': min/max and odd numbers.\n* Remove required indicator on 'network' tab. The defaults should allow creation.\n* Subnet display bugfix. Reset to default selection on enable/disable.\n\nChange-Id: I7840ab606eb4a39fe34509d7b49d738391148bae\n""}, {'number': 4, 'created': '2024-05-08 00:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/7cb276ca98df64f415fa5cd0d1635856b5afb022', 'message': ""Workflow updates for Create Cluster\n\n* Sort cluster templates alphabetically\n* Help text updates to reflect the options.\n* Apply limitations to 'master_lb_enabled' checkbox\n  interactions, such as master_count.\n* Replace 'floating_ip' with 'master_lb_floating_ip_enabled',\n  as the former seemed to imply floating ip on all nodes.\n* Add 'api_master_lb_allowed_cidrs' so limitations can be placed\n  on K8s API loadbalancer.\n* Basic validation for cluster name, to reduce create failures.\n* Rename 'Master' to 'Control Plane' in line with upstream Kubernetes.\n* Add validation for 'master_count': min/max and odd numbers.\n* Remove required indicator on 'network' tab. The defaults should allow creation.\n* Subnet display bugfix. Reset to default selection on enable/disable.\n\nChange-Id: I7840ab606eb4a39fe34509d7b49d738391148bae\n""}, {'number': 5, 'created': '2024-05-13 04:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/20da51f4b0bb40117a088b63b6caf47b19cf4ade', 'message': ""Workflow updates for Create Cluster\n\n* Apply limitations to 'master_lb_enabled' checkbox\n  interactions, such as master_count.\n* Basic validation for cluster name, to reduce create failures.\n* Rename 'Master' to 'Control Plane' in line with upstream Kubernetes.\n* Add validation for 'master_count': min/max and odd numbers.\n* Remove required indicator on 'network' tab. The defaults should allow creation.\n* Help text updates to reflect the updated options.\n\nChange-Id: I7840ab606eb4a39fe34509d7b49d738391148bae\n""}, {'number': 6, 'created': '2024-05-13 04:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/d9b5878b555bdc02a8a8009fd2658310a4f073b6', 'message': ""Workflow updates for Create Cluster\n\n* Apply limitations to 'master_lb_enabled' checkbox\n  interactions, such as master_count.\n* Basic validation for cluster name, to reduce create failures.\n* Rename 'Master' to 'Control Plane' in line with upstream Kubernetes.\n* Add validation for 'master_count': min/max and odd numbers.\n* Remove required indicator on 'network' tab. The defaults should allow creation.\n* Help text updates to reflect the updated options.\n\nChange-Id: I7840ab606eb4a39fe34509d7b49d738391148bae\n""}, {'number': 7, 'created': '2024-05-13 21:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/708b9d701fcfb806225673a744a5110af3498aa0', 'message': ""Workflow updates for Create Cluster\n\n* Apply limitations to 'master_lb_enabled' checkbox\n  interactions, such as master_count.\n* Basic validation for cluster name, to reduce create failures.\n* Rename 'Master' to 'Control Plane' in line with upstream Kubernetes.\n* Add validation for 'master_count': min/max and odd numbers.\n* Remove required indicator on 'network' tab. The defaults should allow creation.\n* Help text updates to reflect the updated options.\n\nChange-Id: I7840ab606eb4a39fe34509d7b49d738391148bae\n""}, {'number': 8, 'created': '2024-05-15 23:24:21.000000000', 'files': ['releasenotes/notes/Workflow-updates-for-Create-Cluster-65e4fe510b4d1a4c.yaml', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/advanced.help.html', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/workflow.service.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/cluster-template.controller.spec.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/size.help.html'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/c7241729723f85804a2ee295628f6d425894af98', 'message': ""Workflow updates for Create Cluster\n\n* Apply limitations to 'master_lb_enabled' checkbox\n  interactions, such as master_count.\n* Basic validation for cluster name, to reduce create failures.\n* Rename 'Master' to 'Control Plane' in line with upstream Kubernetes.\n* Add validation for 'master_count': min/max and odd numbers.\n* 'Network' tab required indicator no longer shows when the\n  'create new network' checkbox is selected. This tab has no required\n  options initially and the form can submit without visting the tab.\n* Help text updates to reflect the updated options.\n\nChange-Id: I7840ab606eb4a39fe34509d7b49d738391148bae\n""}]",27,917915,c7241729723f85804a2ee295628f6d425894af98,32,3,8,14394,,,0,"Workflow updates for Create Cluster

* Apply limitations to 'master_lb_enabled' checkbox
  interactions, such as master_count.
* Basic validation for cluster name, to reduce create failures.
* Rename 'Master' to 'Control Plane' in line with upstream Kubernetes.
* Add validation for 'master_count': min/max and odd numbers.
* 'Network' tab required indicator no longer shows when the
  'create new network' checkbox is selected. This tab has no required
  options initially and the form can submit without visting the tab.
* Help text updates to reflect the updated options.

Change-Id: I7840ab606eb4a39fe34509d7b49d738391148bae
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/15/917915/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_ui/static/dashboard/container-infra/clusters/workflow/cluster-template.controller.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/advanced.help.html', 'magnum_ui/static/dashboard/container-infra/clusters/create/create.service.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/workflow.service.js', 'magnum_ui/api/rest/magnum.py', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/size.help.html', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/network.help.html']",7,3969471bb5860d6b81f37586878343397d02f66a,workflow_updates_create_cluster,"<h1 class=""h4"" translate>Network</h1> <p translate>You can choose to create a new network for this cluster, or use an existing network. If you use an existing, it needs to have a subnet and router with a gateway on the external network. You may also need to take care not to conflict with CIDRs in use by the Kubernetes pod and service network.</p> <h1 class=""h4"" translate>API Loadbalancer: Floating IP</h1> <p translate>Making the Kubernetes API accessible from your private network only is the most secure option (the default), but access will be limited to compute instances on the same private network or a VPN to that network.</p> <p translate>Making the Kubernetes API accessible from the public internet with a floating IP is convenient, but may represent a security risk. When selecting this option, it is recommended to set Allowed CIDRs to limit access to a trusted IP address range.</p> <h1 class=""h4"" translate>API Loadbalancer: Allowed CIDRs</h1> <p translate>If this field is left empty, the API Loadbalancer will accept connections from any address. When set to one or more CIDR then only those, plus the internal network, are permitted access to the Kubernetes API Loadbalancer.</em></p> ","<h1 class=""h4"" translate>Cluster API</h1> <p translate>Making the Kubernetes API accessible from the private network only is the most secure option (the default), but access will be limited to compute instances on the same private network or a VPN to that network.</p> <p translate>Making the Kubernetes API accessible from anywhere on the public internet is convenient, but may represent a security risk. <em>[When selecting this option, it is recommended to limit access to a trusted IP address range.]</em></p>",156,47
openstack%2Ftacker~919969,openstack/tacker,master,I8aec097da27b1c30f1291e5d10878ea07d26d007,[DNM] Migrate to SQLAlchemy 2.0,NEW,2024-05-17 16:15:02.000000000,2024-05-18 06:35:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-17 16:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a54d05d526a0dd674fd29ebcbf125d1537c8727a', 'message': ""[DNM] Migrate to SQLAlchemy 2.0\n\nSince the recent update of versions of sqlalchemy[1], some functions\nand attributes in alembic migration scripts hasn't supported and cause\nerrors while running tacker-db-manage script. Related scripts under\n`tacker/tacker/db/migration/alembic_migrations/versions/` should be\nupdated for following the changes.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/879743\n\nCloses-Bug: #2066047\nChange-Id: I8aec097da27b1c30f1291e5d10878ea07d26d007\n""}, {'number': 2, 'created': '2024-05-18 02:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/79791562035a9e5ca12db483db38dc48f4995370', 'message': ""[DNM] Migrate to SQLAlchemy 2.0\n\nSince the recent update of versions of sqlalchemy[1], some functions\nand attributes in alembic migration scripts hasn't supported and cause\nerrors while running tacker-db-manage script. Related scripts under\n`tacker/tacker/db/migration/alembic_migrations/versions/` should be\nupdated for following the changes.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/879743\n\nCloses-Bug: #2066047\nChange-Id: I8aec097da27b1c30f1291e5d10878ea07d26d007\n""}, {'number': 3, 'created': '2024-05-18 03:12:36.000000000', 'files': ['tacker/sol_refactored/common/pm_threshold_utils.py', 'devstack/lib/tacker', 'devstack/local.conf.example', 'tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/sol_refactored/conductor/conductor_v2.py', 'tacker/sol_refactored/conductor/vnfpm_driver_v2.py', 'tacker/db/common_services/common_services_db_plugin.py', 'tacker/db/migration/alembic_migrations/versions/0ae5b1ce3024_unique_constraint_name.py', 'tacker/sol_refactored/conductor/vnffm_driver_v1.py', 'tacker/db/nfvo/nfvo_db_plugin.py', 'tacker/sol_refactored/controller/vnfpm_v2.py', 'tacker/sol_refactored/objects/base.py', 'tacker/conductor/conductor_server.py', 'tox.ini', 'tacker/db/migration/alembic_migrations/versions/6e56d4474b2a_blob_to_json_text.py', 'tacker/db/migration/alembic_migrations/versions/975e28392888_add_unique_key_vnf_package_vnfd.py', 'tacker/db/vnfm/vnfm_db.py', 'tacker/objects/vnf_package.py', 'tacker/sol_refactored/controller/vnffm_v1.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/402c71bc14a1b32a3c13f9fb82b57bb8ba07644d', 'message': ""[DNM] Migrate to SQLAlchemy 2.0\n\nSince the recent update of versions of sqlalchemy[1], some functions\nand attributes in alembic migration scripts hasn't supported and cause\nerrors while running tacker-db-manage script. Related scripts under\n`tacker/tacker/db/migration/alembic_migrations/versions/` should be\nupdated for following the changes.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/879743\n\nCloses-Bug: #2066047\nChange-Id: I8aec097da27b1c30f1291e5d10878ea07d26d007\n""}]",5,919969,402c71bc14a1b32a3c13f9fb82b57bb8ba07644d,5,1,3,25701,,,0,"[DNM] Migrate to SQLAlchemy 2.0

Since the recent update of versions of sqlalchemy[1], some functions
and attributes in alembic migration scripts hasn't supported and cause
errors while running tacker-db-manage script. Related scripts under
`tacker/tacker/db/migration/alembic_migrations/versions/` should be
updated for following the changes.

[1] https://review.opendev.org/c/openstack/requirements/+/879743

Closes-Bug: #2066047
Change-Id: I8aec097da27b1c30f1291e5d10878ea07d26d007
",git fetch https://review.opendev.org/openstack/tacker refs/changes/69/919969/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/tacker', 'devstack/local.conf.example', 'tacker/db/migration/alembic_migrations/versions/0ae5b1ce3024_unique_constraint_name.py', 'tacker/db/migration/alembic_migrations/versions/6e56d4474b2a_blob_to_json_text.py', 'tacker/db/migration/alembic_migrations/versions/975e28392888_add_unique_key_vnf_package_vnfd.py']",5,a54d05d526a0dd674fd29ebcbf125d1537c8727a,hoge," #meta = sa.MetaData(bind=op.get_bind()) meta = sa.MetaData() conn = op.get_bind() engine = conn.engine meta.create_all(bind=engine) #t = sa.Table(table, meta, autoload=True) t = sa.Table(table, meta, autoload_with=engine) session = sa.orm.Session(bind=engine) with session.begin():"," meta = sa.MetaData(bind=op.get_bind()) t = sa.Table(table, meta, autoload=True) session = sa.orm.Session(bind=op.get_bind()) with session.begin(subtransactions=True):",37,13
openstack%2Fcinder~918004,openstack/cinder,master,I7c75ae6ee3324c8ebaa82beb7877039d4b31e51d,Remove workarounds for cinderlib,NEW,2024-05-02 17:52:56.000000000,2024-05-18 06:00:07.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-02 17:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61e3dabfc5fbc991b827e50e8e44d2c85df9335d', 'message': 'Remove workarounds for cinderlib\n\ncinderlib was deprecated after 2023.2 release and is no longer\ndeveloped. Thus we no longer have to maintain these workarounds.\n\nChange-Id: I7c75ae6ee3324c8ebaa82beb7877039d4b31e51d\n'}, {'number': 2, 'created': '2024-05-03 00:58:21.000000000', 'files': ['cinder/api/api_utils.py', 'cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd171d70eecbe9e1e766c2515a3d69e3d729019c', 'message': 'Remove workarounds for cinderlib\n\ncinderlib was deprecated after 2023.2 release and is no longer\ndeveloped. Thus we no longer have to maintain these workarounds.\n\nChange-Id: I7c75ae6ee3324c8ebaa82beb7877039d4b31e51d\n'}]",3,918004,dd171d70eecbe9e1e766c2515a3d69e3d729019c,20,2,2,9816,,,0,"Remove workarounds for cinderlib

cinderlib was deprecated after 2023.2 release and is no longer
developed. Thus we no longer have to maintain these workarounds.

Change-Id: I7c75ae6ee3324c8ebaa82beb7877039d4b31e51d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/918004/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/api_utils.py', 'cinder/db/sqlalchemy/models.py']",2,61e3dabfc5fbc991b827e50e8e44d2c85df9335d,cinderlib-cleanup,,"# imports needed for cinderlib from sqlalchemy import Column, String, Text # noqa: F401",5,9
openstack%2Fcinder~907612,openstack/cinder,master,I92aa6602d324e822a52c926442c05f2f1b20bb0b,Remove dependency on pytz,ABANDONED,2024-02-02 15:28:04.000000000,2024-05-18 05:15:57.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-02 15:28:04.000000000', 'files': ['cinder/tests/unit/objects/test_consistencygroup.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/tests/unit/objects/test_volume_type.py', 'cinder/tests/unit/objects/test_group_snapshot.py', 'cinder/image/cache.py', 'cinder/tests/unit/objects/test_service.py', 'cinder/tests/unit/objects/test_cgsnapshot.py', 'requirements.txt', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/tests/unit/objects/test_qos.py', 'cinder/tests/unit/objects/test_snapshot.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3644c74d1f43b5c4b5ca5e7a69fca9bcdbe45d9f', 'message': 'Remove dependency on pytz\n\nThe current usage can be easily replaced by the built-in datetime\nlibrary. The pytz library is no longer recommended in python 3.9 and\nlater because of the built-in zoneinfo module.\n\nChange-Id: I92aa6602d324e822a52c926442c05f2f1b20bb0b\n'}]",3,907612,3644c74d1f43b5c4b5ca5e7a69fca9bcdbe45d9f,25,2,1,9816,,,0,"Remove dependency on pytz

The current usage can be easily replaced by the built-in datetime
library. The pytz library is no longer recommended in python 3.9 and
later because of the built-in zoneinfo module.

Change-Id: I92aa6602d324e822a52c926442c05f2f1b20bb0b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/907612/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/objects/test_consistencygroup.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/tests/unit/objects/test_volume_type.py', 'cinder/tests/unit/objects/test_group_snapshot.py', 'cinder/image/cache.py', 'cinder/tests/unit/objects/test_service.py', 'cinder/tests/unit/objects/test_cgsnapshot.py', 'requirements.txt', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/tests/unit/objects/test_qos.py', 'cinder/tests/unit/objects/test_snapshot.py']",13,3644c74d1f43b5c4b5ca5e7a69fca9bcdbe45d9f,remove-pytz,"import datetime self.assertEqual( utcnow_mock.return_value.replace(tzinfo=datetime.timezone.utc), snapshot.deleted_at)","import pytz self.assertEqual(utcnow_mock.return_value.replace(tzinfo=pytz.UTC), snapshot.deleted_at)",46,38
openstack%2Fcinder~915979,openstack/cinder,master,I80f2cd614ba7277a28fa8a4a429fef983113f0fb,Fix broken backup_swift_service_auth=True,MERGED,2024-04-16 10:11:54.000000000,2024-05-18 04:49:52.000000000,2024-05-18 04:48:20.000000000,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2024-04-16 10:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb6df8ca974b7f58434517a3a4f6eaec4498d4b5', 'message': 'Fix broken swift backup driver with backup_swift_service_auth=True\n\nFixes the missing session argument so that swift backup driver to\nresolve the TypeError raised in swift object accesss when\nbackup_swift_service_auth option is set to True.\n\nCloses-Bug: #2058596\nChange-Id: I80f2cd614ba7277a28fa8a4a429fef983113f0fb\n'}, {'number': 2, 'created': '2024-04-17 10:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/837e6f3a43ae9e564321f6c011a84f30de202dac', 'message': 'Fix broken backup_swift_service_auth=True\n\nFixes the missing session argument so that swift backup driver to\nresolve the TypeError raised in swift object access. The error makes\nthe swift back driver consistently fail during backup/restore\noperation.\n\nCloses-Bug: #2058596\nChange-Id: I80f2cd614ba7277a28fa8a4a429fef983113f0fb\n'}, {'number': 3, 'created': '2024-04-17 10:51:25.000000000', 'files': ['cinder/service_auth.py', 'cinder/backup/drivers/swift.py', 'releasenotes/notes/bug-2058596-3c676e7fdc642b3d.yaml', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ff29a649ee890cc6bbd7175c8f8f3d2cdd32653', 'message': 'Fix broken backup_swift_service_auth=True\n\nFix the missing session argument so that swift backup driver to\nresolve the TypeError raised in swift object access. The error makes\nthe swift back driver consistently fail during backup/restore\noperation.\n\nCloses-Bug: #2058596\nChange-Id: I80f2cd614ba7277a28fa8a4a429fef983113f0fb\n'}]",9,915979,9ff29a649ee890cc6bbd7175c8f8f3d2cdd32653,47,5,3,9816,,,0,"Fix broken backup_swift_service_auth=True

Fix the missing session argument so that swift backup driver to
resolve the TypeError raised in swift object access. The error makes
the swift back driver consistently fail during backup/restore
operation.

Closes-Bug: #2058596
Change-Id: I80f2cd614ba7277a28fa8a4a429fef983113f0fb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/915979/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/service_auth.py', 'cinder/backup/drivers/swift.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",3,bb6df8ca974b7f58434517a3a4f6eaec4498d4b5,bug/2058596," def get_token(self, session):", def get_token(self):,14,2
openstack%2Fproject-config~919417,openstack/project-config,master,I5d4763511dc283f00c6e594a0c0cf243777788c2,Remove networking-ovn completely,MERGED,2024-05-12 06:08:50.000000000,2024-05-18 04:25:41.000000000,2024-05-18 02:47:50.000000000,"[{'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-12 06:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/015ded51791acd7e1711ea30f78cb2d12d05ad1f', 'message': 'Remove networking-ovn completely\n\nThe networking-ovn project was deprecated after stable/train because\nits implementations were merged into the core neutron. stable/train is\nalready EOL so no stable branch is currently active.\n\nChange-Id: I5d4763511dc283f00c6e594a0c0cf243777788c2\n'}, {'number': 2, 'created': '2024-05-15 09:27:25.000000000', 'files': ['gerrit/acls/openstack/networking-ovn.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f56ccecc5b8d35e7ca63d20aa14ac172f3faf445', 'message': 'Remove networking-ovn completely\n\nThe networking-ovn project was deprecated after stable/train because\nits implementations were merged into the core neutron. stable/train is\nalready EOL so no stable branch is currently active.\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/919700\nChange-Id: I5d4763511dc283f00c6e594a0c0cf243777788c2\n'}]",3,919417,f56ccecc5b8d35e7ca63d20aa14ac172f3faf445,16,3,2,9816,,,0,"Remove networking-ovn completely

The networking-ovn project was deprecated after stable/train because
its implementations were merged into the core neutron. stable/train is
already EOL so no stable branch is currently active.

Depends-on: https://review.opendev.org/c/openstack/governance/+/919700
Change-Id: I5d4763511dc283f00c6e594a0c0cf243777788c2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/919417/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/networking-ovn.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",5,015ded51791acd7e1711ea30f78cb2d12d05ad1f,project-cleanup,, - openstack/networking-ovn,2,49
openstack%2Fcinder~910234,openstack/cinder,master,If3e94ea2b192c9d7fef2e96325563819c8c15935,mypy: Add minimal sqlalchemy/api.py coverage,NEW,2024-02-26 14:39:04.000000000,2024-05-18 04:07:58.000000000,,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-26 14:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4cf0249f2bd66532746b53726a6ad97bbb71376', 'message': 'mypy: Add minimal sqlalchemy/api.py coverage\n\nThis catches the bug reported as bug #2047693.\n\nRelated-Bug: #2047693\nChange-Id: If3e94ea2b192c9d7fef2e96325563819c8c15935\n'}, {'number': 2, 'created': '2024-02-29 13:08:33.000000000', 'files': ['mypy-files.txt', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/98002806e86e5abfdfc521aa6404c5a06c4d7726', 'message': 'mypy: Add minimal sqlalchemy/api.py coverage\n\nThis catches the bug reported as bug #2047693.\n\nRelated-Bug: #2047693\nChange-Id: If3e94ea2b192c9d7fef2e96325563819c8c15935\n'}]",3,910234,98002806e86e5abfdfc521aa6404c5a06c4d7726,39,3,2,4523,,,0,"mypy: Add minimal sqlalchemy/api.py coverage

This catches the bug reported as bug #2047693.

Related-Bug: #2047693
Change-Id: If3e94ea2b192c9d7fef2e96325563819c8c15935
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/910234/1 && git format-patch -1 --stdout FETCH_HEAD,"['mypy-files.txt', 'cinder/db/sqlalchemy/api.py']",2,b4cf0249f2bd66532746b53726a6ad97bbb71376,,"import typing from typing import Anyif typing.TYPE_CHECKING: from cinder import context def model_query(context: 'context.RequestContext', model, *args, **kwargs):_GET_METHODS: dict = {} orm_field_list: list = [] case_list: list = [] unordered_list: list = [] update_args: dict[str, Any] = {'synchronize_session': False} exists_exc: type[exception.CinderException] result: dict | list result: list | dict transferred_snapshots: list[str] = []","def model_query(context, model, *args, **kwargs):_GET_METHODS = {} orm_field_list = [] case_list = [] unordered_list = [] update_args = {'synchronize_session': False} transferred_snapshots = []",19,7
openstack%2Fcinder~917495,openstack/cinder,master,If984e84592eadfcc43f044508d25a290252b079f,Add docstring for clear_download,NEW,2024-04-29 21:30:36.000000000,2024-05-18 02:58:34.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2024-04-29 21:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c3a7c7598ad8395776cee8162b4c3cf43866396', 'message': 'Add docstring for clear_download\n\nThis patch adds the method and docstring of clear_download in the\ninterface driver class.\n\nChange-Id: If984e84592eadfcc43f044508d25a290252b079f\n'}, {'number': 2, 'created': '2024-04-30 05:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78c267b6c9ae1e95458fcd3c455996d177fdb8d4', 'message': 'Add docstring for clear_download\n\nThis patch adds the method and docstring of clear_download in the\ninterface driver class.\n\nChange-Id: If984e84592eadfcc43f044508d25a290252b079f\n'}, {'number': 3, 'created': '2024-05-07 10:31:27.000000000', 'files': ['cinder/volume/driver.py', 'cinder/interface/volume_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/304f93d08599d61d5db50807b4ef0e18f76fe412', 'message': 'Add docstring for clear_download\n\nThis patch adds the method and docstring of clear_download in the\ninterface driver class.\n\nChange-Id: If984e84592eadfcc43f044508d25a290252b079f\n'}]",6,917495,304f93d08599d61d5db50807b4ef0e18f76fe412,49,3,3,27615,,,0,"Add docstring for clear_download

This patch adds the method and docstring of clear_download in the
interface driver class.

Change-Id: If984e84592eadfcc43f044508d25a290252b079f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/917495/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/interface/volume_driver.py']",2,0c3a7c7598ad8395776cee8162b4c3cf43866396,document-driver-interface-image," def clear_download(self, context, volume): """"""Clean up after an interrupted image copy. If the Cinder-Volume service is restarted while an image-copy is happening, we set the status of the volume to error. This method is called before the database update, in case, the driver would like to perform any action on the volume. TODO (whoami-rajat): Remove this method since it was introduced in 2013 and no driver has implemented it till date. """""" ",,24,1
openstack%2Fswift~919881,openstack/swift,master,I2a4581e408e3012a44bfb0cd58563b82040e23fc,test: more test for s3api v4 checksum,MERGED,2024-05-16 15:45:14.000000000,2024-05-18 00:35:34.000000000,2024-05-18 00:34:18.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 15:45:14.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'test/unit/common/middleware/s3api/test_bucket.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/893deca2743cc7590dbea90d5b0adfcf999bbc8b', 'message': 'test: more test for s3api v4 checksum\n\nRelated-Change: I9924ff3b8d7d246631fe61b916823e028e2c01f2\nChange-Id: I2a4581e408e3012a44bfb0cd58563b82040e23fc\n'}]",6,919881,893deca2743cc7590dbea90d5b0adfcf999bbc8b,10,3,1,1179,,,0,"test: more test for s3api v4 checksum

Related-Change: I9924ff3b8d7d246631fe61b916823e028e2c01f2
Change-Id: I2a4581e408e3012a44bfb0cd58563b82040e23fc
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/919881/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_obj.py', 'test/unit/common/middleware/s3api/test_bucket.py']",2,893deca2743cc7590dbea90d5b0adfcf999bbc8b,input-checksum-mismatch,"from hashlib import sha256 def test_bucket_PUT_v4_with_body(self): elem = Element('CreateBucketConfiguration') SubElement(elem, 'LocationConstraint').text = self.s3api.conf.location req_body = tostring(elem) body_sha = sha256(req_body).hexdigest() headers = { 'Authorization': 'AWS4-HMAC-SHA256 ' + ', '.join([ 'Credential=test:tester/%s/us-east-1/s3/aws4_request' % self.get_v4_amz_date_header().split('T', 1)[0], 'SignedHeaders=host', 'Signature=X', ]), 'Date': self.get_date_header(), 'x-amz-content-sha256': body_sha, } req = Request.blank('/bucket', environ={'REQUEST_METHOD': 'PUT'}, headers=headers, body=req_body) status, headers, body = self.call_s3api(req) self.assertEqual(status.split()[0], '200', body) def test_bucket_PUT_v4_with_body_bad_hash(self): elem = Element('CreateBucketConfiguration') SubElement(elem, 'LocationConstraint').text = self.s3api.conf.location req_body = tostring(elem) headers = { 'Authorization': 'AWS4-HMAC-SHA256 ' + ', '.join([ 'Credential=test:tester/%s/us-east-1/s3/aws4_request' % self.get_v4_amz_date_header().split('T', 1)[0], 'SignedHeaders=host', 'Signature=X', ]), 'Date': self.get_date_header(), 'x-amz-content-sha256': 'not the hash', } req = Request.blank('/bucket', environ={'REQUEST_METHOD': 'PUT'}, headers=headers, body=req_body) status, headers, body = self.call_s3api(req) self.assertEqual(status.split()[0], '400') self.assertEqual(self._get_error_code(body), 'BadDigest') self.assertIn(b'X-Amz-Content-SHA56', body) # we maybe haven't parsed the location/path yet? self.assertNotIn('swift.backend_path', req.environ) ",,78,0
openstack%2Fneutron-tempest-plugin~916921,openstack/neutron-tempest-plugin,master,I30002758a9bf42ece6e1565deb903913bf510af1,UM only: change wallaby and xena to use unmaintained/,MERGED,2024-04-24 15:06:33.000000000,2024-05-17 23:54:28.000000000,2024-05-17 23:54:28.000000000,"[{'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-24 15:06:33.000000000', 'files': ['zuul.d/wallaby_jobs.yaml', 'zuul.d/xena_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/eb17a84aaa673ebef7c446112048ea83f37c46fd', 'message': 'UM only: change wallaby and xena to use unmaintained/\n\nChange-Id: I30002758a9bf42ece6e1565deb903913bf510af1\n'}]",1,916921,eb17a84aaa673ebef7c446112048ea83f37c46fd,8,5,1,8313,,,0,"UM only: change wallaby and xena to use unmaintained/

Change-Id: I30002758a9bf42ece6e1565deb903913bf510af1
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/21/916921/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/wallaby_jobs.yaml', 'zuul.d/xena_jobs.yaml']",2,eb17a84aaa673ebef7c446112048ea83f37c46fd,um_tempest, override-checkout: unmaintained/xena override-checkout: unmaintained/xena override-checkout: unmaintained/xena override-checkout: unmaintained/xena override-checkout: unmaintained/xena override-checkout: unmaintained/xena override-checkout: unmaintained/xena override-checkout: unmaintained/xena override-checkout: unmaintained/xena override-checkout: unmaintained/xena override-checkout: unmaintained/xena override-checkout: unmaintained/xena, override-checkout: stable/xena override-checkout: stable/xena override-checkout: stable/xena override-checkout: stable/xena override-checkout: stable/xena override-checkout: stable/xena override-checkout: stable/xena override-checkout: stable/xena override-checkout: stable/xena override-checkout: stable/xena override-checkout: stable/xena override-checkout: stable/xena,23,23
openstack%2Fmanila~919769,openstack/manila,master,If17ddd1bc06810d94db43dec3bb877d5045621ad,[CI] Grenade job changes for 2024.2 release cycle,MERGED,2024-05-15 19:51:41.000000000,2024-05-17 23:38:29.000000000,2024-05-17 22:31:30.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 32594}]","[{'number': 1, 'created': '2024-05-15 19:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ba9e45e3e854a67641bf42694e983d8beaa5928c', 'message': '[CI] Grenade job changes for 2024.2 release cycle\n\nWe\'re in a non-SLURP release cycle; this means that we\'d test upgrading to\nthe release produced by this cycle is supported only from stable/2024.1 (Caracal).\n\nSo set ""grenade_from_branch"" to stable/2024.1 and run only the ""skip-level""\ngrenade job. When we get into the 2025.1 cycle, we can run the regular\ngrenade job as well.\n\nChange-Id: If17ddd1bc06810d94db43dec3bb877d5045621ad\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2024-05-15 21:47:36.000000000', 'files': ['zuul.d/grenade-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/05279a6fe7f7ab7a006cc05b2bf31e32383a7763', 'message': '[CI] Grenade job changes for 2024.2 release cycle\n\nWe\'re in a non-SLURP release cycle; this means that we\'d test upgrading to\nthe release produced by this cycle is supported only from stable/2024.1 (Caracal).\n\nSo set ""grenade_from_branch"" to stable/2024.1 and run only the ""skip-level""\ngrenade job. When we get into the 2025.1 cycle, we can run the regular\ngrenade job as well.\n\nChange-Id: If17ddd1bc06810d94db43dec3bb877d5045621ad\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,919769,05279a6fe7f7ab7a006cc05b2bf31e32383a7763,22,5,2,16643,,,0,"[CI] Grenade job changes for 2024.2 release cycle

We're in a non-SLURP release cycle; this means that we'd test upgrading to
the release produced by this cycle is supported only from stable/2024.1 (Caracal).

So set ""grenade_from_branch"" to stable/2024.1 and run only the ""skip-level""
grenade job. When we get into the 2025.1 cycle, we can run the regular
grenade job as well.

Change-Id: If17ddd1bc06810d94db43dec3bb877d5045621ad
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/69/919769/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/grenade-jobs.yaml', 'zuul.d/project.yaml']",2,ba9e45e3e854a67641bf42694e983d8beaa5928c,grenade, # (TODO) gouthamr: unskip this grenade job when trunk is 2025.1 since # this is different from the job below only during SLURP releases,,3,1
openstack%2Ftempest~918457,openstack/tempest,master,I857870de4afba862be60e9946dec877e8a707d88,Add servers tests with LUN direct volume,MERGED,2024-05-07 15:18:03.000000000,2024-05-17 23:02:15.000000000,2024-05-17 23:00:01.000000000,"[{'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2024-05-07 15:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b31373484e2d35eaf9c338b4f34de37b1a841cdb', 'message': 'Add servers test with LUN direct volume\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/918089\nChange-Id: I857870de4afba862be60e9946dec877e8a707d88\n'}, {'number': 2, 'created': '2024-05-07 18:18:39.000000000', 'files': ['tempest/api/compute/volumes/test_attach_volume.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/aec7f39cbe29fef41f64001cb2abbbdef35b3500', 'message': 'Add servers tests with LUN direct volume\n\nThis tests the cases covered in nova bug #2065084\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/918470\nChange-Id: I857870de4afba862be60e9946dec877e8a707d88\n'}]",12,918457,aec7f39cbe29fef41f64001cb2abbbdef35b3500,16,4,2,4393,,,0,"Add servers tests with LUN direct volume

This tests the cases covered in nova bug #2065084

Depends-On: https://review.opendev.org/c/openstack/nova/+/918470
Change-Id: I857870de4afba862be60e9946dec877e8a707d88
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/918457/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/volumes/test_attach_volume.py'],1,b31373484e2d35eaf9c338b4f34de37b1a841cdb,test-lun," @decorators.idempotent_id('07eb6686-571c-45f0-9d96-446b120f1121') def test_boot_from_multiattach_volume_direct_lun(self): image = self.images_client.show_image(CONF.compute.image_ref) if image.get('hw_scsi_model') != 'virtio-scsi': # NOTE(danms): Technically we don't need this to be virtio-scsi, # but cirros (and other) test images won't see the device unless # they have lsilogic drivers (which is the default). So use this # as sort of the indication that the test should be enabled. self.skip('hw_scsi_model=virtio-scsi not set on image') if not CONF.validation.run_validation: self.skip('validation is required for this test') validation_resources = self.get_test_validation_resources( self.os_primary) volume = self._create_multiattach_volume(bootable=False) # Create an image-backed instance with the multi-attach volume as a # block device with device_type=lun bdm = [{'source_type': 'image', 'destination_type': 'local', 'uuid': CONF.compute.image_ref, 'boot_index': 0}, {'uuid': volume['id'], 'source_type': 'volume', 'destination_type': 'volume', 'device_type': 'lun', 'disk_bus': 'scsi'}] server = self.create_test_server( validatable=True, validation_resources=validation_resources, block_device_mapping_v2=bdm, wait_until='SSHABLE') # Assert the volume is attached to the server. attachments = self.servers_client.list_volume_attachments( server['id'])['volumeAttachments'] self.assertEqual(1, len(attachments)) self.assertEqual(volume['id'], attachments[0]['volumeId']) linux_client = remote_client.RemoteClient( self.get_server_ip(server, validation_resources), self.image_ssh_user, self.image_ssh_password, validation_resources['keypair']['private_key'], server=server, servers_client=self.servers_client) # Assert the volume appears as a SCSI device command = 'lsblk -S' blks = linux_client.exec_command(command).strip() self.assertIn('\nsda ', blks) self.servers_client.delete_server(server['id']) waiters.wait_for_server_termination(self.servers_client, server['id']) @utils.services('image')",,55,0
openstack%2Fswift~919780,openstack/swift,master,I6eb5b27a387cc2b7310ee11cc49d38fd2b6cbab8,Allow StatsdClients to no-op if no host provided,MERGED,2024-05-15 22:24:34.000000000,2024-05-17 23:02:11.000000000,2024-05-17 22:59:57.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 22:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/55a6597b616d8e6828cefc3305a9c3aeaaf66526', 'message': ""Allow StatsdClients to no-op if no host provided\n\nWe've been working toward separating our logger from our statsd client.\nThis is generally a good idea; it's always been a little weird to have\nour special-case loggers that would allow you to *also* increment some\ncounters.\n\nThe end goal is to take a bunch of places that look like\n\n    logger = utils.get_logger(conf)\n    ...\n    logger.info(...)\n    logger.increment(...)\n\nand turn them into something more like\n\n    logger = logs.get_adapted_logger(conf)\n    statsd_client = statsd_client.get_statsd_client(conf, logger=logger)\n    ...\n    logger.info(...)\n    statsd_client.increment(...)\n\nTake a lesson from logging: callers don't need to know whether the\nlog_level is high enough that their message will be logged, or even\nwhether logging is enabled at all. Code wanting to emit stats shouldn't\nneed to know whether statsd collection has been configured, either.\n\nChange-Id: I6eb5b27a387cc2b7310ee11cc49d38fd2b6cbab8\n""}, {'number': 2, 'created': '2024-05-16 15:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/08df934c05dc2448051ab36095b12b6c8217fe3b', 'message': ""Allow StatsdClients to no-op if no host provided\n\nWe've been working toward separating our logger from our statsd client.\nThis is generally a good idea; it's always been a little weird to have\nour special-case loggers that would allow you to *also* increment some\ncounters.\n\nThe end goal is to take a bunch of places that look like\n\n    logger = utils.get_logger(conf)\n    ...\n    logger.info(...)\n    logger.increment(...)\n\nand turn them into something more like\n\n    logger = logs.get_adapted_logger(conf)\n    stats = statsd_client.get_statsd_client(conf, logger=logger)\n    ...\n    logger.info(...)\n    stats.increment(...)\n\nTake a lesson from logging: callers don't need to know whether the\nlog_level is high enough that their message will be logged, or even\nwhether logging is enabled at all. Code wanting to emit stats shouldn't\nneed to know whether statsd collection has been configured, either.\n\nChange-Id: I6eb5b27a387cc2b7310ee11cc49d38fd2b6cbab8\n""}, {'number': 3, 'created': '2024-05-16 18:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/63d765e02b30739e2c6a97246dd16dc53bc73a5a', 'message': ""Allow StatsdClients to no-op if no host provided\n\nWe've been working toward separating our logger from our statsd client.\nThis is generally a good idea; it's always been a little weird to have\nour special-case loggers that would allow you to *also* increment some\ncounters.\n\nThe end goal is to take a bunch of places that look like\n\n    logger = utils.get_logger(conf)\n    ...\n    logger.info(...)\n    logger.increment(...)\n\nand turn them into something more like\n\n    logger = logs.get_adapted_logger(conf)\n    stats = statsd_client.get_statsd_client(conf, logger=logger)\n    ...\n    logger.info(...)\n    stats.increment(...)\n\nTake a lesson from logging: callers don't need to know whether the\nlog_level is high enough that their message will be logged, or even\nwhether logging is enabled at all. Code wanting to emit stats shouldn't\nneed to know whether statsd collection has been configured, either.\n\nChange-Id: I6eb5b27a387cc2b7310ee11cc49d38fd2b6cbab8\n""}, {'number': 4, 'created': '2024-05-16 20:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f8d6eaade58afb4e2da69314030e34c45675e402', 'message': ""Allow StatsdClients to no-op if no host provided\n\nWe've been working toward separating our logger from our statsd client.\nThis is generally a good idea; it's always been a little weird to have\nour special-case loggers that would allow you to *also* increment some\ncounters.\n\nThe end goal is to take a bunch of places that look like\n\n    logger = utils.get_logger(conf)\n    ...\n    logger.info(...)\n    logger.increment(...)\n\nand turn them into something more like\n\n    logger = logs.get_adapted_logger(conf)\n    stats = statsd_client.get_statsd_client(conf, logger=logger)\n    ...\n    logger.info(...)\n    stats.increment(...)\n\nTake a lesson from logging: callers don't need to know whether the\nlog_level is high enough that their message will be logged, or even\nwhether logging is enabled at all. Code wanting to emit stats shouldn't\nneed to know whether statsd collection has been configured, either.\n\nChange-Id: I6eb5b27a387cc2b7310ee11cc49d38fd2b6cbab8\n""}, {'number': 5, 'created': '2024-05-17 17:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/76659d1ea4fb4ae35fe2dcacd8be66d7bc584e30', 'message': ""Allow StatsdClients to no-op if no host provided\n\nWe've been working toward separating our logger from our statsd client.\nThis is generally a good idea; it's always been a little weird to have\nour special-case loggers that would allow you to *also* increment some\ncounters.\n\nThe end goal is to take a bunch of places that look like\n\n    logger = utils.get_logger(conf)\n    ...\n    logger.info(...)\n    logger.increment(...)\n\nand turn them into something more like\n\n    logger = logs.get_adapted_logger(conf)\n    stats = statsd_client.get_statsd_client(conf, logger=logger)\n    ...\n    logger.info(...)\n    stats.increment(...)\n\nTake a lesson from logging: callers don't need to know whether the\nlog_level is high enough that their message will be logged, or even\nwhether logging is enabled at all. Code wanting to emit stats shouldn't\nneed to know whether statsd collection has been configured, either.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I6eb5b27a387cc2b7310ee11cc49d38fd2b6cbab8\n""}, {'number': 6, 'created': '2024-05-17 17:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c2233238efbe96135cafc55237db673bc37ee18f', 'message': ""Allow StatsdClients to no-op if no host provided\n\nWe've been working toward separating our logger from our statsd client.\nThis is generally a good idea; it's always been a little weird to have\nour special-case loggers that would allow you to *also* increment some\ncounters.\n\nThe end goal is to take a bunch of places that look like\n\n    logger = utils.get_logger(conf)\n    ...\n    logger.info(...)\n    logger.increment(...)\n\nand turn them into something more like\n\n    logger = logs.get_adapted_logger(conf)\n    stats = statsd_client.get_statsd_client(conf, logger=logger)\n    ...\n    logger.info(...)\n    stats.increment(...)\n\nTake a lesson from logging: callers don't need to know whether the\nlog_level is high enough that their message will be logged, or even\nwhether logging is enabled at all. Code wanting to emit stats shouldn't\nneed to know whether statsd collection has been configured, either.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I6eb5b27a387cc2b7310ee11cc49d38fd2b6cbab8\n""}, {'number': 7, 'created': '2024-05-17 18:49:53.000000000', 'files': ['test/unit/common/middleware/test_tempauth.py', 'swift/common/statsd_client.py', 'swift/common/utils/logs.py', 'test/debug_logger.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/test_statsd_client.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b447234b2f1e005025b5ce50010993ca226c2283', 'message': ""Allow StatsdClients to no-op if no host provided\n\nWe've been working toward separating our logger from our statsd client.\nThis is generally a good idea; it's always been a little weird to have\nour special-case loggers that would allow you to *also* increment some\ncounters.\n\nThe end goal is to take a bunch of places that look like\n\n    logger = utils.get_logger(conf)\n    ...\n    logger.info(...)\n    logger.increment(...)\n\nand turn them into something more like\n\n    logger = logs.get_adapted_logger(conf)\n    stats = statsd_client.get_statsd_client(conf, logger=logger)\n    ...\n    logger.info(...)\n    stats.increment(...)\n\nTake a lesson from logging: callers don't need to know whether the\nlog_level is high enough that their message will be logged, or even\nwhether logging is enabled at all. Code wanting to emit stats shouldn't\nneed to know whether statsd collection has been configured, either.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I6eb5b27a387cc2b7310ee11cc49d38fd2b6cbab8\n""}]",36,919780,b447234b2f1e005025b5ce50010993ca226c2283,31,4,7,15343,,,0,"Allow StatsdClients to no-op if no host provided

We've been working toward separating our logger from our statsd client.
This is generally a good idea; it's always been a little weird to have
our special-case loggers that would allow you to *also* increment some
counters.

The end goal is to take a bunch of places that look like

    logger = utils.get_logger(conf)
    ...
    logger.info(...)
    logger.increment(...)

and turn them into something more like

    logger = logs.get_adapted_logger(conf)
    stats = statsd_client.get_statsd_client(conf, logger=logger)
    ...
    logger.info(...)
    stats.increment(...)

Take a lesson from logging: callers don't need to know whether the
log_level is high enough that their message will be logged, or even
whether logging is enabled at all. Code wanting to emit stats shouldn't
need to know whether statsd collection has been configured, either.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I6eb5b27a387cc2b7310ee11cc49d38fd2b6cbab8
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/919780/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/statsd_client.py', 'swift/common/utils/logs.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/common/test_statsd.py']",4,55a6597b616d8e6828cefc3305a9c3aeaaf66526,noop-stats," # white-box construction validation: # there may be a client instance, but it won't send anything; # won't even open a socket self.assertIsInstance(logger.logger.statsd_client, StatsdClient) self.assertIsNone(logger.logger.statsd_client._host) with mock.patch.object(logger.logger.statsd_client, '_open_socket') as mock_open: logger.increment('tunafish') self.assertFalse(mock_open.mock_calls)", # white-box construction validation self.assertIsNone(logger.logger.statsd_client),34,18
openstack%2Fcinder~908193,openstack/cinder,master,I29435c63ab57c5730f12d3fefde2149a52235636,Tests: Require moto>=5.0.0,MERGED,2024-02-06 19:44:23.000000000,2024-05-17 22:33:57.000000000,2024-05-17 22:30:54.000000000,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2024-02-06 19:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8dba074da4bc530a8afc838026c026e98a7f611f', 'message': 'Tests: Require moto>=5.0.0\n\nMoto 5.0.0 introduces changes which need to be\nhandled in the s3 backup driver unit tests.\n\nRemove the code that handled older versions of\nmoto.\n\nChange-Id: I29435c63ab57c5730f12d3fefde2149a52235636\n'}, {'number': 2, 'created': '2024-02-07 06:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8abfe742c8228242506c51dfb74650b5eb5041f', 'message': 'Tests: Require moto>=5.0.0\n\nMoto 5.0.0 introduces changes which need to be\nhandled in the s3 backup driver unit tests.\n\nRemove the code that handled older versions of\nmoto.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/907665\nChange-Id: I29435c63ab57c5730f12d3fefde2149a52235636\n'}, {'number': 3, 'created': '2024-04-15 17:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4416afa9e0fb1c96cd09af7c3cc7eb6894a572c0', 'message': 'Tests: Require moto>=5.0.0\n\nMoto 5.0.0 introduces changes which need to be\nhandled in the s3 backup driver unit tests.\n\nRemove the code that handled older versions of\nmoto.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/907665\nChange-Id: I29435c63ab57c5730f12d3fefde2149a52235636\n'}, {'number': 4, 'created': '2024-05-15 14:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/775df2c8db04935b864eba7d9b94804306a28060', 'message': 'Tests: Require moto>=5.0.0\n\nMoto 5.0.0 introduces changes which need to be\nhandled in the s3 backup driver unit tests.\n\nRemove the code that handled older versions of\nmoto.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/907665\nChange-Id: I29435c63ab57c5730f12d3fefde2149a52235636\n'}, {'number': 5, 'created': '2024-05-15 14:42:12.000000000', 'files': ['test-requirements.txt', 'cinder/tests/unit/backup/drivers/test_backup_s3.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c9897dd4c64357232ebec8520d900fd4d31b2dd', 'message': 'Tests: Require moto>=5.0.0\n\nMoto 5.0.0 introduces changes which need to be\nhandled in the s3 backup driver unit tests.\n\nRemove the code that handled older versions of\nmoto.\n\nChange-Id: I29435c63ab57c5730f12d3fefde2149a52235636\n'}]",5,908193,8c9897dd4c64357232ebec8520d900fd4d31b2dd,66,3,5,4523,,,0,"Tests: Require moto>=5.0.0

Moto 5.0.0 introduces changes which need to be
handled in the s3 backup driver unit tests.

Remove the code that handled older versions of
moto.

Change-Id: I29435c63ab57c5730f12d3fefde2149a52235636
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/908193/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'cinder/tests/unit/backup/drivers/test_backup_s3.py']",2,8dba074da4bc530a8afc838026c026e98a7f611f,,from moto import mock_aws,try: from moto import mock_aws except ImportError: from moto import mock_s3 as mock_aws,2,5
openstack%2Fcinder~907372,openstack/cinder,master,Iab3df26827e725eacf28302c76e45d29a579b983,Remove six from zonemanager module,MERGED,2024-02-01 02:40:01.000000000,2024-05-17 22:32:22.000000000,2024-05-17 22:30:51.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-01 02:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1efcf84de15e6ae11499c84c6a39cb0fd67a630', 'message': 'Remove six from zonemanager module\n\nChange-Id: Iab3df26827e725eacf28302c76e45d29a579b983\n'}, {'number': 2, 'created': '2024-02-01 04:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60b63866ee06591041deec0c825fa531f2f8c462', 'message': 'Remove six from zonemanager module\n\nChange-Id: Iab3df26827e725eacf28302c76e45d29a579b983\n'}, {'number': 3, 'created': '2024-02-04 06:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e20c56fe305d55cda39532ccb22fab2038c95628', 'message': 'Remove six from zonemanager module\n\nChange-Id: Iab3df26827e725eacf28302c76e45d29a579b983\n'}, {'number': 4, 'created': '2024-02-04 06:34:04.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py', 'cinder/zonemanager/fc_zone_manager.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a31e641d73a0c1d8a8cb2701bab64663514ece44', 'message': 'Remove six from zonemanager module\n\nChange-Id: Iab3df26827e725eacf28302c76e45d29a579b983\n'}]",4,907372,a31e641d73a0c1d8a8cb2701bab64663514ece44,60,3,4,9816,,,0,"Remove six from zonemanager module

Change-Id: Iab3df26827e725eacf28302c76e45d29a579b983
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/907372/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py', 'cinder/zonemanager/fc_zone_manager.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py']",8,b1efcf84de15e6ae11499c84c6a39cb0fd67a630,remove-six," ) % {'cfg_name': cfg_name, 'err': str(e)} ) % {'cfg_name': cfg_name, 'err': str(e)} ) % {'cmd': cmd, 'err': str(e)} ""error=%(err)s)."") % {'cmd': cmd, 'err': str(e)} 'err': str(e)}","import six ) % {'cfg_name': cfg_name, 'err': six.text_type(e)} ) % {'cfg_name': cfg_name, 'err': six.text_type(e)} ) % {'cmd': cmd, 'err': six.text_type(e)} ""error=%(err)s)."") % {'cmd': cmd, 'err': six.text_type(e)} 'err': six.text_type(e)}",35,43
openstack%2Ftap-as-a-service~919934,openstack/tap-as-a-service,master,Id87eafeb1a3bbe565ef3ee30f43d449eb0166532,SQLAlchemy2: fix remaining issues,MERGED,2024-05-17 10:00:45.000000000,2024-05-17 22:13:37.000000000,2024-05-17 22:13:37.000000000,"[{'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 33341}]","[{'number': 1, 'created': '2024-05-17 10:00:45.000000000', 'files': ['neutron_taas/db/taas_db.py', 'neutron_taas/tests/unit/db/test_taas_db.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/ae79362271b0c5dae240adfc7456c6a0e45abe56', 'message': 'SQLAlchemy2: fix remaining issues\n\nRemove leftover subransaction=True arguments in\nsome of the unit tests, and fix get_port_network_data\nas result of session query is tuple instead of dict.\n\nCloses-Bug: #2065924\nChange-Id: Id87eafeb1a3bbe565ef3ee30f43d449eb0166532\n'}]",1,919934,ae79362271b0c5dae240adfc7456c6a0e45abe56,7,4,1,8313,,,0,"SQLAlchemy2: fix remaining issues

Remove leftover subransaction=True arguments in
some of the unit tests, and fix get_port_network_data
as result of session query is tuple instead of dict.

Closes-Bug: #2065924
Change-Id: Id87eafeb1a3bbe565ef3ee30f43d449eb0166532
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/34/919934/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/db/taas_db.py', 'neutron_taas/tests/unit/db/test_taas_db.py']",2,ae79362271b0c5dae240adfc7456c6a0e45abe56,bug/2065924, with self.ctx.session.begin(): with self.ctx.session.begin(): with self.ctx.session.begin(): with self.ctx.session.begin(): with self.ctx.session.begin(): with self.ctx.session.begin(): with self.ctx.session.begin(): with self.ctx.session.begin(): with self.ctx.session.begin(): with self.ctx.session.begin():, with self.ctx.session.begin(subtransactions=True): with self.ctx.session.begin(subtransactions=True): with self.ctx.session.begin(subtransactions=True): with self.ctx.session.begin(subtransactions=True): with self.ctx.session.begin(subtransactions=True): with self.ctx.session.begin(subtransactions=True): with self.ctx.session.begin(subtransactions=True): with self.ctx.session.begin(subtransactions=True): with self.ctx.session.begin(subtransactions=True): with self.ctx.session.begin(subtransactions=True):,12,12
openstack%2Fswift~918809,openstack/swift,master,I95ab7cf1052f9266cb19d867e6038140aa18a859,Move swift.common.utils.timestamp out of utils,ABANDONED,2024-05-09 18:18:57.000000000,2024-05-17 21:38:42.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-09 18:18:57.000000000', 'files': ['swift/common/timestamp.py', 'test/unit/common/test_timestamp.py', 'swift/common/utils/__init__.py', 'swift/common/utils/logs.py', 'swift/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c6bfa4f6dbade17f862586699a4510db16bf0ba4', 'message': 'Move swift.common.utils.timestamp out of utils\n\nThis was causing some circular imports on py2 like\n\n  Traceback (most recent call last):\n    File "".../swift-ring-builder"", line 7, in <module>\n      exec(compile(f.read(), __file__, \'exec\'))\n    File "".../swift/bin/swift-ring-builder"", line 34, in <module>\n      from swift.cli.ringbuilder import main\n    File "".../swift/cli/ringbuilder.py"", line 35, in <module>\n      from swift.common import exceptions\n    File "".../swift/common/exceptions.py"", line 17, in <module>\n      import swift.common.utils\n    File "".../swift/common/utils/__init__.py"", line 87, in <module>\n      from swift.common.utils.logs import (   # noqa\n    File "".../swift/common/utils/logs.py"", line 38, in <module>\n      from swift.common import statsd_client, exceptions\n  ImportError: cannot import name exceptions\n\n(py3 somehow managed to sort it out?)\n\nChange-Id: I95ab7cf1052f9266cb19d867e6038140aa18a859\n'}]",3,918809,c6bfa4f6dbade17f862586699a4510db16bf0ba4,8,2,1,15343,,,0,"Move swift.common.utils.timestamp out of utils

This was causing some circular imports on py2 like

  Traceback (most recent call last):
    File "".../swift-ring-builder"", line 7, in <module>
      exec(compile(f.read(), __file__, 'exec'))
    File "".../swift/bin/swift-ring-builder"", line 34, in <module>
      from swift.cli.ringbuilder import main
    File "".../swift/cli/ringbuilder.py"", line 35, in <module>
      from swift.common import exceptions
    File "".../swift/common/exceptions.py"", line 17, in <module>
      import swift.common.utils
    File "".../swift/common/utils/__init__.py"", line 87, in <module>
      from swift.common.utils.logs import (   # noqa
    File "".../swift/common/utils/logs.py"", line 38, in <module>
      from swift.common import statsd_client, exceptions
  ImportError: cannot import name exceptions

(py3 somehow managed to sort it out?)

Change-Id: I95ab7cf1052f9266cb19d867e6038140aa18a859
",git fetch https://review.opendev.org/openstack/swift refs/changes/09/918809/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/timestamp.py', 'test/unit/common/test_timestamp.py', 'swift/common/utils/__init__.py', 'swift/common/utils/logs.py', 'swift/common/exceptions.py']",5,c6bfa4f6dbade17f862586699a4510db16bf0ba4,,import swift.common.timestamp self.timestamp = swift.common.timestamp.Timestamp(,import swift.common.utils self.timestamp = swift.common.utils.Timestamp(,11,11
openstack%2Fovsdbapp~918970,openstack/ovsdbapp,master,I06eec5619f958f6c4b90f6068c361a18c2356be6,Improve compatibility with netaddr 1.x,MERGED,2024-05-10 08:20:24.000000000,2024-05-17 21:32:17.000000000,2024-05-17 21:31:18.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-10 08:20:24.000000000', 'files': ['ovsdbapp/utils.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f45ee765f95260b53c2d3783daaff9d76b8c590b', 'message': 'Improve compatibility with netaddr 1.x\n\nnetaddr 0.10 added flags to define the semantics while parsing\nIP addresses. available are inet_pton() and inet_aton() semantics,\nwhich inet_aton() semantics the default in 0.10 and inet_pton() the\ndefault in 1.x. As the testsuite specifically tests for aton semantics,\nset that flag.\n\nChange-Id: I06eec5619f958f6c4b90f6068c361a18c2356be6\n'}]",1,918970,f45ee765f95260b53c2d3783daaff9d76b8c590b,8,3,1,6593,,,0,"Improve compatibility with netaddr 1.x

netaddr 0.10 added flags to define the semantics while parsing
IP addresses. available are inet_pton() and inet_aton() semantics,
which inet_aton() semantics the default in 0.10 and inet_pton() the
default in 1.x. As the testsuite specifically tests for aton semantics,
set that flag.

Change-Id: I06eec5619f958f6c4b90f6068c361a18c2356be6
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/70/918970/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/utils.py', 'requirements.txt']",2,f45ee765f95260b53c2d3783daaff9d76b8c590b,,netaddr>=0.10.0 # BSD,netaddr>=0.7.18 # BSD,2,2
openstack%2Fcinder~916625,openstack/cinder,master,Ic87a96c4502925a9f9a3d0a41aa852ac32843626,[backup] [ceph] Catch ImageNotFound for incremental backup,MERGED,2024-04-22 12:46:36.000000000,2024-05-17 21:00:07.000000000,2024-05-17 18:12:18.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2024-04-22 12:46:36.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/820f31ec40430d7dc09f078bde3e7da377fda917', 'message': ""[backup] [ceph] Catch ImageNotFound for incremental backup\n\nWhen doing an incremental backup and it gets scheduled to a node\nthat does not have access to the base backup we leak the entire\nRBD message into the fail_reason field of the volume backup.\n\n  [errno 2] RBD image not found (error opening image\n  b'volume-e4cdd6d1-e5b5-4f86-b201-f6dace37432d.backup.f60c5a19-509c-4d8c-bb78-e11c7d3c5a3f'\n  at snapshot None)\n\nThis changes so that we instead return a message that the base\nbackup image was not found.\n\nChange-Id: Ic87a96c4502925a9f9a3d0a41aa852ac32843626\n""}]",1,916625,820f31ec40430d7dc09f078bde3e7da377fda917,22,5,1,16137,,,0,"[backup] [ceph] Catch ImageNotFound for incremental backup

When doing an incremental backup and it gets scheduled to a node
that does not have access to the base backup we leak the entire
RBD message into the fail_reason field of the volume backup.

  [errno 2] RBD image not found (error opening image
  b'volume-e4cdd6d1-e5b5-4f86-b201-f6dace37432d.backup.f60c5a19-509c-4d8c-bb78-e11c7d3c5a3f'
  at snapshot None)

This changes so that we instead return a message that the base
backup image was not found.

Change-Id: Ic87a96c4502925a9f9a3d0a41aa852ac32843626
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/916625/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,820f31ec40430d7dc09f078bde3e7da377fda917,," try: base_rbd = eventlet.tpool.Proxy( self.rbd.Image(client.ioctx, base_name, read_only=True)) except rbd.ImageNotFound: msg = (_( ""Can't find base name image %(base)s."") % {'base': base_name}) LOG.error(msg) raise exception.BackupRBDOperationFailed(msg) "," base_rbd = eventlet.tpool.Proxy(self.rbd.Image(client.ioctx, base_name, read_only=True))",10,3
openstack%2Fdesignate~904978,openstack/designate,master,I35e03b9818851487686153bc68ad90c081e61966,Updated Infoblox backend,MERGED,2024-01-16 00:36:17.000000000,2024-05-17 20:34:31.000000000,2024-05-17 20:33:11.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2024-01-16 00:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9cf1a3534d84ab852e96c1d138d35a13eaab93ae', 'message': '[WIP] New Infoblox driver\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 2, 'created': '2024-01-16 12:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3f4dd5e6a22e5dfe8d3ef1b5d869a0ff09a4a2b5', 'message': '[WIP] New Infoblox driver\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox python client.\n\nIn addition, this adds new options for configuring the\nback end.\n- host\n- wapi_version\n- cert\n- key\n\nThe original wapi_url still exists, but will be deprecated\nin future versions.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 3, 'created': '2024-01-16 12:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d21ed67bdabdd4085687e02395b9879429e7437b', 'message': '[WIP] New Infoblox driver\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox python client.\n\nIn addition, this adds new options for configuring the\nback end.\n- host\n- wapi_version\n- cert\n- key\n\nThe original wapi_url still exists, but will be deprecated\nin future versions.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 4, 'created': '2024-01-16 12:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a2cf200079e247a32466d774f5c6be7a02735bb7', 'message': '[WIP] New Infoblox driver\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox python client.\n\nIn addition, this adds new options for configuring the\nback end.\n- host\n- wapi_version\n- cert\n- key\n\nThe original wapi_url still exists, but will be deprecated\nin future versions.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 5, 'created': '2024-01-16 12:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/578af2333c3907cbbea99f4c3858560c0d076a5d', 'message': '[WIP] New Infoblox driver\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox python client.\n\nIn addition, this adds new options for configuring the\nback end.\n- host\n- wapi_version\n- cert\n- key\n\nThe original wapi_url option still exists, but will be\ndeprecated in future versions.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 6, 'created': '2024-01-17 13:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d069b1d23ba39abb4ce833d05b8ebb5f2b1b5c51', 'message': '[WIP] New Infoblox driver\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox python client.\n\nIn addition, this adds new options for configuring the\nback end.\n- host, wapi_version, cert and key\n\nThe original wapi_url option still exists, but will be\ndeprecated in future versions.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 7, 'created': '2024-01-17 16:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/56644602130cd35d40182baced36eca77b8f152d', 'message': 'New Infoblox driver\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox python client.\n\nIn addition, this adds new options for configuring the\nback end.\n- host, wapi_version, cert and key\n\nThe original wapi_url option still exists, but will be\ndeprecated in future versions.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 8, 'created': '2024-01-17 16:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/92cc2075acfed1bf942977133358af1593d06e74', 'message': 'New Infoblox driver\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox python client.\n\nIn addition, this adds new options for configuring the\nback end.\n- host, wapi_version, cert and key\n\nThe original wapi_url option still exists, but will be\ndeprecated in future versions.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 9, 'created': '2024-01-17 16:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e4b58dcfb431887ae26dda0e9e2309e2a0884f61', 'message': 'New Infoblox driver\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox python client.\n\nIn addition, this adds new options for configuring the\nback end.\n- host, wapi_version, cert and key\n\nThe original wapi_url option still exists, but will be\ndeprecated in future versions.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 10, 'created': '2024-01-17 22:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7b5220121acc1a800c5a09eb6abb414bd5417af3', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 11, 'created': '2024-01-17 22:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/30518139cef0bf202f952ca4b6c64fe41662b3f8', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 12, 'created': '2024-01-17 22:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c40fbe59523c399a317238b8b5578fe1698da419', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 13, 'created': '2024-01-22 10:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/15759751d24ad0d5c3b378f136804b7488894698', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 14, 'created': '2024-01-22 10:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/62e22c7df0e55543febff0f246c786110b380218', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 15, 'created': '2024-01-22 13:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/10c9a3a653b27233944c339c250dfb637f9a06c3', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 16, 'created': '2024-01-22 13:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c2484b7f05b70f33e0bb3aa4b60bc841d4d1837b', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 17, 'created': '2024-01-26 02:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2f6b9f6555170b0d8829c9b020e96ed3c6d4759c', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 18, 'created': '2024-02-04 15:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c25c1cd9d262668eeeb450476cfdb2a71ae7d0fd', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 19, 'created': '2024-02-17 11:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f930eb44ebef6054c704f9d7b8ea42c155f8f825', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 20, 'created': '2024-03-02 15:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cbb6466d12cbad7f8aaa0aa00dd3a79c171e5e6b', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 21, 'created': '2024-03-02 15:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/67e3a712334441ba7ddf3f88b2918c0f315cc9c9', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 22, 'created': '2024-03-23 18:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/01197325e7d1fa35dc2a7510671913a98831b92c', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 23, 'created': '2024-04-12 22:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f70e4cff3f7b5b133af089d1e0f860691a86894c', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 24, 'created': '2024-05-16 19:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/461727ea05950bbf3e864bdb3762bd990ae01b6e', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 25, 'created': '2024-05-16 19:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2270c26e5479818d2ece2877e38153a232e5f1de', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 26, 'created': '2024-05-17 07:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7eddf98ffe751261430eac60e133e3ca89a16e5d', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 27, 'created': '2024-05-17 07:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/58693e38cb658f830a8a19f6f4205e12055dd3d8', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}, {'number': 28, 'created': '2024-05-17 07:46:23.000000000', 'files': ['designate/backend/impl_infoblox/ibexceptions.py', 'test-requirements.txt', 'releasenotes/notes/improved-infoblox-backend-e24cee40ba568e65.yaml', 'designate/backend/impl_infoblox.py', 'designate/backend/impl_infoblox/object_manipulator.py', 'designate/backend/impl_infoblox/__init__.py', 'designate/backend/impl_infoblox/connector.py', 'designate/conf/__init__.py', 'designate/tests/unit/backend/test_infoblox.py', 'etc/designate/pools.yaml.sample-infoblox', 'setup.cfg', 'designate/conf/infoblox.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1dbdcac58fdb602c9a3617d4b22ba16690e869cf', 'message': 'Updated Infoblox backend\n\nThis implementation replaces the existing Infoblox driver,\nand is based on the official Infoblox Python client.\n\nThe following new configuring options are now available.\n- wapi_host, wapi_version, cert and key\n\nThe original wapi_url option still works, but can now be\nalternatively replaced by wapi_host and wapi_version.\n\nFinally, the deprecated configuration options for designate.conf\nwas removed, and all Infoblox configuration now happens in the pools\nconfiguration.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/905764\nChange-Id: I35e03b9818851487686153bc68ad90c081e61966\n'}]",16,904978,1dbdcac58fdb602c9a3617d4b22ba16690e869cf,61,3,28,22623,,,0,"Updated Infoblox backend

This implementation replaces the existing Infoblox driver,
and is based on the official Infoblox Python client.

The following new configuring options are now available.
- wapi_host, wapi_version, cert and key

The original wapi_url option still works, but can now be
alternatively replaced by wapi_host and wapi_version.

Finally, the deprecated configuration options for designate.conf
was removed, and all Infoblox configuration now happens in the pools
configuration.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/905764
Change-Id: I35e03b9818851487686153bc68ad90c081e61966
",git fetch https://review.opendev.org/openstack/designate refs/changes/78/904978/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'designate/backend/impl_infoblox.py']",2,9cf1a3534d84ab852e96c1d138d35a13eaab93ae,,"# Copyright 2015 Infoblox Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from urllib.parse import urlparse from infoblox_client import connector from infoblox_client import object_manager from infoblox_client import objects as infoblox_objects from oslo_log import log as logging from designate.backend import base from designate import exceptions LOG = logging.getLogger(__name__) class InfobloxBackend(base.Backend): """"""Provides a Designate Backend for Infoblox"""""" __backend_status__ = 'untested' __plugin_name__ = 'infoblox' def __init__(self, *args, **kwargs): super().__init__(*args, **kwargs) host = self.options.get('host') wapi_version = self.options.get('wapi_version') wapi_url = self.options.get('wapi_url') self.username = self.options.get('username') self.password = self.options.get('password') self.sslverify = self.options.get('sslverify') self.multi_tenant = self.options.get('multi_tenant') self.http_pool_connections = self.options.get('http_pool_connections') self.http_pool_maxsize = self.options.get('http_pool_maxsize') self.dns_view = self.options.get('dns_view') self.net_view = self.options.get('net_view') self.ns_group = self.options.get('ns_group') if not host: url = urlparse(wapi_url) host = url.netloc for path in url.path.split('/'): if path.startswith('v'): wapi_version = path.strip('v') break options = { 'host': host, 'username': self.username, 'password': self.password, 'http_pool_connections': self.http_pool_connections, 'http_pool_maxsize': self.http_pool_maxsize, 'wapi_version': wapi_version } self.connection = connector.Connector(options) self.infoblox = object_manager.InfobloxObjectManager(self.connection) for master in self.masters: if master.port != 53: raise exceptions.ConfigurationError( 'Infoblox only supports mDNS instances on port 53' ) def get_or_create_network_view(self, tenant_id, create_if_missing=True): net_view_name = f'{self.net_view}.{tenant_id}' network_view = infoblox_objects.NetworkView.search( self.connection, name=net_view_name ) if not network_view and create_if_missing: network_view = self.infoblox.create_network_view( net_view_name, extattrs={'TenantID': {'value': tenant_id}} ) if not network_view: return None return network_view.name def get_or_create_dns_view(self, net_view, create_if_missing=True): dns_view_name = f'{self.dns_view}.{net_view}' dns_view = infoblox_objects.DNSView.search( self.connection, name=dns_view_name ) if not dns_view and create_if_missing: dns_view = self.infoblox.create_dns_view( self.net_view, dns_view_name, ) if not dns_view: return None return dns_view.name @property def is_multi_tenant(self): if not self.multi_tenant or self.multi_tenant == '0': return False return True def restart_if_needed(self): from infoblox_client import exceptions try: member = infoblox_objects.Grid(self.connection) if not member._ref: member.fetch(only_ref=True) self.connection.call_func( 'restartservices', member._ref, { 'restart_option': 'RESTART_IF_NEEDED', 'mode': 'GROUPED', 'services': ['DNS'], } ) except exceptions.InfobloxException: LOG.warning('Unable to restart infoblox service.') def create_zone(self, context, zone): LOG.info('Create Zone %r', zone) project_id = context.project_id or zone.tenant_id dns_view = self.dns_view if self.is_multi_tenant: net_view = self.get_or_create_network_view(project_id) dns_view = self.get_or_create_dns_view(net_view) fqdn = zone['name'][0:-1] if fqdn.endswith('in-addr.arpa'): zone_format = 'IPV4' elif fqdn.endswith('ip6.arpa'): zone_format = 'IPV6' else: zone_format = 'FORWARD' self.infoblox.create_dns_zone( dns_zone=fqdn, dns_view=dns_view, zone_format=zone_format, ns_group=self.ns_group, ) self.restart_if_needed() def delete_zone(self, context, zone, zone_params=None): LOG.info('Delete Zone %r', zone) fqdn = zone['name'][0:-1] project_id = context.project_id or zone.tenant_id dns_view = self.dns_view if self.is_multi_tenant: net_view = self.get_or_create_network_view( project_id, create_if_missing=False ) dns_view = self.get_or_create_dns_view( net_view, create_if_missing=False ) self.infoblox.delete_dns_zone(dns_view, fqdn) self.restart_if_needed() ",,170,0
openstack%2Fnetworking-bagpipe~900216,openstack/networking-bagpipe,master,I7af2b438960233a9140aa711c27c330c58ebb176,Add pyproject.toml to support pip 23.1,NEW,2023-11-06 16:56:46.000000000,2024-05-17 20:25:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-11-06 16:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/f853656f45455d07dc1cf1f4fd8b09ab6d6af4cb', 'message': 'Add pyproject.toml to support pip 23.1\n\nChange-Id: I7af2b438960233a9140aa711c27c330c58ebb176\n'}, {'number': 2, 'created': '2023-11-06 17:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4dbf3fcd92fdacce1c8c9a1a0ec7baace310e08d', 'message': 'Add pyproject.toml to support pip 23.1\n\nFor details see the below mail thread:\nhttps://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/\n\nand the commit message of the keystone patch:\nhttps://review.opendev.org/c/899519\n\nChange-Id: I7af2b438960233a9140aa711c27c330c58ebb176\n'}, {'number': 3, 'created': '2023-11-09 15:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/f5d2850cdd75fe79659c6074f79ed965773aaa29', 'message': 'Add pyproject.toml to support pip 23.1\n\nFor details see the below mail thread:\nhttps://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/\n\nand the commit message of the keystone patch:\nhttps://review.opendev.org/c/899519\n\nChange-Id: I7af2b438960233a9140aa711c27c330c58ebb176\n'}, {'number': 4, 'created': '2024-04-19 11:13:19.000000000', 'files': ['.zuul.yaml', 'pyproject.toml'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/8c1dc2ed125ed23531c488abca8e4019ab8a38da', 'message': 'Add pyproject.toml to support pip 23.1\n\nFor details see the below mail thread:\nhttps://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/\n\nand the commit message of the keystone patch:\nhttps://review.opendev.org/c/899519\n\nChange-Id: I7af2b438960233a9140aa711c27c330c58ebb176\n'}]",3,900216,8c1dc2ed125ed23531c488abca8e4019ab8a38da,12,1,4,8313,,,0,"Add pyproject.toml to support pip 23.1

For details see the below mail thread:
https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/

and the commit message of the keystone patch:
https://review.opendev.org/c/899519

Change-Id: I7af2b438960233a9140aa711c27c330c58ebb176
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/16/900216/1 && git format-patch -1 --stdout FETCH_HEAD,['pyproject.toml'],1,f853656f45455d07dc1cf1f4fd8b09ab6d6af4cb,pip-23.1-support,"[build-system] requires = [""pbr>=5.7.0"", ""setuptools>=64.0.0"", ""wheel""] build-backend = ""pbr.build"" ",,4,0
openstack%2Fnetworking-bgpvpn~900287,openstack/networking-bgpvpn,master,I4f96a06da3bd322ea1bf43c8d89d5377b3e1129d,Add pyproject.toml to support pip 23.1,NEW,2023-11-07 13:21:53.000000000,2024-05-17 20:20:12.000000000,,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-07 13:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7f04459bd56450ca0b2ccd48d9046e4dad7c2512', 'message': 'Add pyproject.toml to support pip 23.1\n\nFor details see the below mail thread:\nhttps://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/\n\nand the commit message of the keystone patch:\nhttps://review.opendev.org/c/899519\n\nChange-Id: I4f96a06da3bd322ea1bf43c8d89d5377b3e1129d\n'}, {'number': 2, 'created': '2023-11-09 15:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1f317b82d115d500b2b263bbf6b383a106ee96d5', 'message': 'Add pyproject.toml to support pip 23.1\n\nFor details see the below mail thread:\nhttps://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/\n\nand the commit message of the keystone patch:\nhttps://review.opendev.org/c/899519\n\nChange-Id: I4f96a06da3bd322ea1bf43c8d89d5377b3e1129d\n'}, {'number': 3, 'created': '2024-01-26 09:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/2568b8ae0ac97941302e45fbc7c2c7c901c92ba7', 'message': 'Add pyproject.toml to support pip 23.1\n\nFor details see the below mail thread:\nhttps://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/\n\nand the commit message of the keystone patch:\nhttps://review.opendev.org/c/899519\n\nChange-Id: I4f96a06da3bd322ea1bf43c8d89d5377b3e1129d\n'}, {'number': 4, 'created': '2024-04-19 11:13:04.000000000', 'files': ['.zuul.yaml', 'pyproject.toml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/0aab4614c35ea6f6fd7bc246dc6340a9f65915d0', 'message': 'Add pyproject.toml to support pip 23.1\n\nFor details see the below mail thread:\nhttps://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/\n\nand the commit message of the keystone patch:\nhttps://review.opendev.org/c/899519\n\nChange-Id: I4f96a06da3bd322ea1bf43c8d89d5377b3e1129d\n'}]",2,900287,0aab4614c35ea6f6fd7bc246dc6340a9f65915d0,13,5,4,8313,,,0,"Add pyproject.toml to support pip 23.1

For details see the below mail thread:
https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/

and the commit message of the keystone patch:
https://review.opendev.org/c/899519

Change-Id: I4f96a06da3bd322ea1bf43c8d89d5377b3e1129d
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/87/900287/1 && git format-patch -1 --stdout FETCH_HEAD,['pyproject.toml'],1,7f04459bd56450ca0b2ccd48d9046e4dad7c2512,pip-23.1-support,"[build-system] requires = [""pbr>=5.7.0"", ""setuptools>=64.0.0"", ""wheel""] build-backend = ""pbr.build"" ",,4,0
openstack%2Fneutron-dynamic-routing~916418,openstack/neutron-dynamic-routing,master,I321f10c1a46246ed4c6ea9b494b248ed92fae945,Add pyproject.toml to support pip 23.1,NEW,2024-04-19 12:10:18.000000000,2024-05-17 20:19:15.000000000,,"[{'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-19 12:10:18.000000000', 'files': ['pyproject.toml'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/408ce29824df4a5d493ed5373af83816e4e37e56', 'message': 'Add pyproject.toml to support pip 23.1\n\nFor details see the below mail thread:\nhttps://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/\n\nand the commit message of the keystone patch:\nhttps://review.opendev.org/c/899519\n\nChange-Id: I321f10c1a46246ed4c6ea9b494b248ed92fae945\n'}]",1,916418,408ce29824df4a5d493ed5373af83816e4e37e56,5,2,1,8313,,,0,"Add pyproject.toml to support pip 23.1

For details see the below mail thread:
https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/HVFN5RBSHRTM3B2UUKPAWKH6H6AT6CYR/

and the commit message of the keystone patch:
https://review.opendev.org/c/899519

Change-Id: I321f10c1a46246ed4c6ea9b494b248ed92fae945
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/18/916418/1 && git format-patch -1 --stdout FETCH_HEAD,['pyproject.toml'],1,408ce29824df4a5d493ed5373af83816e4e37e56,pip-23.1-support,"[build-system] requires = [""pbr>=5.7.0"", ""setuptools>=64.0.0"", ""wheel""] build-backend = ""pbr.build"" ",,4,0
openstack%2Fgovernance~919700,openstack/governance,master,I0f3e1fda9080b3a433783ae2c423f82f638a5457,Neutron: Retire networking-ovn,MERGED,2024-05-15 09:27:12.000000000,2024-05-17 19:44:40.000000000,2024-05-17 19:43:43.000000000,"[{'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 09:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/83915bfa1c5723d27411fc1327dfe8a0cd99f5c7', 'message': 'Neutron: Retire networking-ovn\n\nThe last stable branch of networking-ovn, stable/train, was already\nretired[1] and the project no longer have any active stable branches,\nso can be formally retired.\n\n[1] https://review.opendev.org/c/openstack/releases/+/865967\n\nChange-Id: I0f3e1fda9080b3a433783ae2c423f82f638a5457\n'}, {'number': 2, 'created': '2024-05-15 09:28:36.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/3245f4855897c820cf25390de94254c96df5762f', 'message': 'Neutron: Retire networking-ovn\n\nThe last stable branch of networking-ovn, stable/train, was already\nretired[1] and the project no longer has any active stable branches,\nso can be formally retired.\n\n[1] https://review.opendev.org/c/openstack/releases/+/865967\n\nChange-Id: I0f3e1fda9080b3a433783ae2c423f82f638a5457\n'}]",2,919700,3245f4855897c820cf25390de94254c96df5762f,14,5,2,9816,,,0,"Neutron: Retire networking-ovn

The last stable branch of networking-ovn, stable/train, was already
retired[1] and the project no longer has any active stable branches,
so can be formally retired.

[1] https://review.opendev.org/c/openstack/releases/+/865967

Change-Id: I0f3e1fda9080b3a433783ae2c423f82f638a5457
",git fetch https://review.opendev.org/openstack/governance refs/changes/00/919700/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,83915bfa1c5723d27411fc1327dfe8a0cd99f5c7,project-update,, networking-ovn: deprecated: ussuri release-management: deprecated repos: - openstack/networking-ovn,4,5
openstack%2Fdesignate~903111,openstack/designate,master,Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e,Remove unused infoblox code,ABANDONED,2023-12-09 19:05:59.000000000,2024-05-17 19:35:56.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2023-12-09 19:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a3d95ee5e0a258d2368d5fc764d7c3965e7d8688', 'message': 'Remove unused infoblox code\n\nChange-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e\n'}, {'number': 2, 'created': '2023-12-12 10:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/20fb21c6e3c3e5e3811e06fc6155d85ac6e27b9d', 'message': 'Remove unused infoblox code\n\nChange-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e\n'}, {'number': 3, 'created': '2023-12-13 21:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2d18c6755cdc2a42c1c90bcfdcb214ce09e582f6', 'message': 'Remove unused infoblox code\n\nChange-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e\n'}, {'number': 4, 'created': '2023-12-17 17:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/69516f4f93f62fe522d1bc928b48fd27ad519768', 'message': 'Remove unused infoblox code\n\nChange-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e\n'}, {'number': 5, 'created': '2023-12-17 17:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c8dd55f2ab588439c31ab5474a94a47158bba512', 'message': 'Remove unused infoblox code\n\nChange-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e\n'}, {'number': 6, 'created': '2023-12-31 00:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7f44dfb5120ff4228d63d893d0b490d07d2c2ce9', 'message': 'Remove unused infoblox code\n\nNone of these code paths were reachable. If we want to expand\nthis implementation and make use of this code we can bring\nthem back in the future.\n\nChange-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e\n'}, {'number': 7, 'created': '2024-01-07 13:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/170de0c532be4e6be5a0bac4e4fff5d6f908a4fe', 'message': 'Remove unused infoblox code\n\nNone of these code paths were reachable. If we want to expand\nthis implementation and make use of this code we can bring\nthem back in the future.\n\nChange-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e\n'}, {'number': 8, 'created': '2024-01-08 17:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7b0350ef0d223aff3f22a11989389f7dbff91849', 'message': 'Remove unused infoblox code\n\nNone of these code paths were reachable. If we want to expand\nthis implementation and make use of this code we can bring\nthem back in the future.\n\nChange-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e\n'}, {'number': 9, 'created': '2024-01-09 00:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d54a79eb8e01c376428d41419a97cf7fc8b07329', 'message': 'Remove unused infoblox code\n\nNone of these code paths were reachable. If we want to expand\nthis implementation and make use of this code we can bring\nthem back in the future.\n\nChange-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e\n'}, {'number': 10, 'created': '2024-02-04 15:24:57.000000000', 'files': ['designate/backend/impl_infoblox/ibexceptions.py', 'designate/backend/impl_infoblox/object_manipulator.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/090039dcc1667547469179645be5d571e4614416', 'message': 'Remove unused infoblox code\n\nNone of these code paths were reachable. If we want to expand\nthis implementation and make use of this code we can bring\nthem back in the future.\n\nChange-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e\n'}]",3,903111,090039dcc1667547469179645be5d571e4614416,25,3,10,22623,,,0,"Remove unused infoblox code

None of these code paths were reachable. If we want to expand
this implementation and make use of this code we can bring
them back in the future.

Change-Id: Ic428d77d9773f5c1f9d5516a9ea2e5a56c5a101e
",git fetch https://review.opendev.org/openstack/designate refs/changes/11/903111/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/backend/impl_infoblox/ibexceptions.py', 'designate/backend/impl_infoblox/object_manipulator.py']",2,a3d95ee5e0a258d2368d5fc764d7c3965e7d8688,,," def get_member(self, member_name): obj = {'host_name': member_name[0:-1]} return self.connector.get_object('member', obj) def delete_dns_view(self, net_view_name): net_view_data = {'name': net_view_name} self._delete_infoblox_object('view', net_view_data) def delete_network_view(self, net_view_name): if net_view_name == 'default': # never delete default network view return net_view_data = {'name': net_view_name} self._delete_infoblox_object('networkview', net_view_data) def create_tsig(self, name, algorithm, secret): tsig = { 'name': name, 'key': secret } self._create_infoblox_object( 'tsig', tsig, check_if_exists=True) def delete_tsig(self, name, algorithm, secret): tsig = { 'name': name, 'key': secret } self._delete_infoblox_object( 'tsig', tsig, check_if_exists=True) ",0,50
openstack%2Fproject-config~918146,openstack/project-config,master,I38d11c79372cd3f44a27f281b04c4ff9246990e9,Adjust max Code-Review possible on governance repo,MERGED,2024-05-03 22:15:36.000000000,2024-05-17 19:32:49.000000000,2024-05-17 19:28:44.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-03 22:15:36.000000000', 'files': ['gerrit/acls/openstack/governance.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2ba2b7861f4a00ea00a8679b2635ee617039f249', 'message': 'Adjust max Code-Review possible on governance repo\n\nOn this repo, we use ""RollCall Vote"" and ""Workflow"" to\ndetermine approvals. We still need the ""Code Review""\nlabel since it allows all registered users to express\ntheir opinions. So adjust the max value for Code-Review\nto -1..+1\n\nChange-Id: I38d11c79372cd3f44a27f281b04c4ff9246990e9\n'}]",3,918146,2ba2b7861f4a00ea00a8679b2635ee617039f249,12,5,1,16643,,,0,"Adjust max Code-Review possible on governance repo

On this repo, we use ""RollCall Vote"" and ""Workflow"" to
determine approvals. We still need the ""Code Review""
label since it allows all registered users to express
their opinions. So adjust the max value for Code-Review
to -1..+1

Change-Id: I38d11c79372cd3f44a27f281b04c4ff9246990e9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/918146/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/governance.config'],1,2ba2b7861f4a00ea00a8679b2635ee617039f249,governance-acls, label-Code-Review = -1..+1 group Registered Users, value = -2 Unused -2 value = +2 Unused +2,1,2
openstack%2Fneutron~917002,openstack/neutron,master,I3f4538e1e63fb316425ef7c6ab5c53a0a74f739f,Remove and modify outdated options in DHCP HA documentation,MERGED,2024-04-25 08:21:12.000000000,2024-05-17 18:23:17.000000000,2024-05-17 18:21:47.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-25 08:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d74013a0c2f41301900b0b7d95a0f35231356a4e', 'message': 'Remove and modify outdated options in DHCP HA documentation\n\nA database option has been added to neutron.conf. And removed the old options rabbit_host and rabbit_password.\n\nRemoved outdated options use_neutron and firewall_driver from linuxbridge_conf.ini. And the options using admin_ in the neutron part have been updated to the latest.\n\nCloses-Bug: #2042647\nChange-Id: I3f4538e1e63fb316425ef7c6ab5c53a0a74f739f\n'}, {'number': 2, 'created': '2024-04-29 04:02:13.000000000', 'files': ['doc/source/admin/config-dhcp-ha.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cee4b34faa511a73a88a40a4e8994f053f3cc6c', 'message': 'Remove and modify outdated options in DHCP HA documentation\n\nA database option has been added to neutron.conf.\nRemoved the old options rabbit_host and rabbit_password in neutron.conf.\n\nRemoved outdated options use_neutron and firewall_driver from linuxbridge_conf.ini.\nThe admin_ option used in the neutron part of linuxbridge_conf.ini has been updated to the latest.\nModify tenant_name to project_name in the neutron part of linuxbridge_conf.ini\n\nCloses-Bug: #2042647\nChange-Id: I3f4538e1e63fb316425ef7c6ab5c53a0a74f739f\n'}]",4,917002,5cee4b34faa511a73a88a40a4e8994f053f3cc6c,11,3,2,36049,,,0,"Remove and modify outdated options in DHCP HA documentation

A database option has been added to neutron.conf.
Removed the old options rabbit_host and rabbit_password in neutron.conf.

Removed outdated options use_neutron and firewall_driver from linuxbridge_conf.ini.
The admin_ option used in the neutron part of linuxbridge_conf.ini has been updated to the latest.
Modify tenant_name to project_name in the neutron part of linuxbridge_conf.ini

Closes-Bug: #2042647
Change-Id: I3f4538e1e63fb316425ef7c6ab5c53a0a74f739f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/917002/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-dhcp-ha.rst'],1,d74013a0c2f41301900b0b7d95a0f35231356a4e,bug/2042647, [database] connection = mysql+pymysql://root:root@127.0.0.1:3306/neutron [database] connection = mysql+pymysql://root:root@127.0.0.1:3306/neutron username=neutron password=servicepassword auth_url=http://controlnode:35357/v2.0/ tenant_name=servicetenant, rabbit_host = controlnode rabbit_host = controlnode rabbit_password = openstack [DEFAULT] use_neutron=True firewall_driver=nova.virt.firewall.NoopFirewallDriver admin_username=neutron admin_password=servicepassword admin_auth_url=http://controlnode:35357/v2.0/ admin_tenant_name=servicetenant,10,11
openstack%2Fcinder~891908,openstack/cinder,master,Ib9f9a8bc6720ca8e1b916b2fa1583982859b08ae,hacking: Reenable E275,MERGED,2023-08-17 20:14:41.000000000,2024-05-17 18:16:51.000000000,2024-05-17 18:12:22.000000000,"[{'_account_id': 5314}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-08-17 20:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c858e9b407770c6979c465e1662015cb959987d', 'message': 'hacking: Reenable E275\n\nUnclear if this is actually an improvement, but\npycodestyle says so...\n\nChange-Id: Ib9f9a8bc6720ca8e1b916b2fa1583982859b08ae\n'}, {'number': 2, 'created': '2023-09-06 11:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df9c44246ff098643867d70d44d9474527d7b1ab', 'message': 'hacking: Reenable E275\n\nGet up to speed with current Python style.\n\nChange-Id: Ib9f9a8bc6720ca8e1b916b2fa1583982859b08ae\n'}, {'number': 3, 'created': '2024-01-08 16:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5647090e013525be0ec8fcff97b89b95cc020ee', 'message': 'hacking: Reenable E275\n\nGet up to speed with current Python style.\n\nChange-Id: Ib9f9a8bc6720ca8e1b916b2fa1583982859b08ae\n'}, {'number': 4, 'created': '2024-01-08 20:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b3fcd667d781f64ed389c1623b333673fa9ee0e', 'message': 'hacking: Reenable E275\n\nGet up to speed with current Python style.\n\nChange-Id: Ib9f9a8bc6720ca8e1b916b2fa1583982859b08ae\n'}, {'number': 5, 'created': '2024-03-21 14:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4c9fb62012b5ec79fbb0e2468d4f6443043a03c', 'message': 'hacking: Reenable E275\n\nGet up to speed with current Python style.\n\nChange-Id: Ib9f9a8bc6720ca8e1b916b2fa1583982859b08ae\n'}, {'number': 6, 'created': '2024-04-03 16:21:53.000000000', 'files': ['cinder/volume/manager.py', 'cinder/backup/api.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/tests/unit/volume/drivers/lightos/test_lightos_storage.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/volume/drivers/nfs.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/scheduler/host_manager.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/cmd/status.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_storage.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/datacore/driver.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/targets/fake.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/fakes.py', 'cinder/ssh_utils.py', 'cinder/tests/hacking/checks.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/drivers/hpe/nimble.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/volume/drivers/hedvig/rest_client.py', 'cinder/image/accelerator.py', 'cinder/tests/unit/brick/test_brick_lvm.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/scheduler/evaluator/evaluator.py', 'tox.ini', 'cinder/utils.py', 'cinder/volume/drivers/remotefs.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b87d45b3c87ad836d94c7bcbde1dbaeff5f1caae', 'message': 'hacking: Reenable E275\n\nGet up to speed with current Python style.\n\nChange-Id: Ib9f9a8bc6720ca8e1b916b2fa1583982859b08ae\n'}]",17,891908,b87d45b3c87ad836d94c7bcbde1dbaeff5f1caae,98,5,6,4523,,,0,"hacking: Reenable E275

Get up to speed with current Python style.

Change-Id: Ib9f9a8bc6720ca8e1b916b2fa1583982859b08ae
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/891908/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/backup/api.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/tests/unit/volume/drivers/lightos/test_lightos_storage.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/volume/drivers/nfs.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/scheduler/host_manager.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/cmd/status.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_storage.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/datacore/driver.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/targets/fake.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/fakes.py', 'cinder/ssh_utils.py', 'cinder/tests/hacking/checks.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/drivers/hpe/nimble.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/volume/drivers/hedvig/rest_client.py', 'cinder/image/accelerator.py', 'cinder/tests/unit/brick/test_brick_lvm.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/scheduler/evaluator/evaluator.py', 'tox.ini', 'cinder/utils.py', 'cinder/volume/drivers/remotefs.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py']",34,2c858e9b407770c6979c465e1662015cb959987d,," if (iterator_count > 0): if (iterator_count > 0): if (is_abortable): if (zone_constant.TRANS_ABORTABLE in line): if not ("" NL "" in line or "" N "" in line):"," if(iterator_count > 0): if(iterator_count > 0): if(is_abortable): if(zone_constant.TRANS_ABORTABLE in line): if not("" NL "" in line or "" N "" in line):",92,97
openstack%2Fneutron~914916,openstack/neutron,master,I314cad9a4eb443e7d7ce2b14b0b11f144dcb6be2,Increase code coverage for cidr_broadcast_address_alternative(),MERGED,2024-04-02 20:02:53.000000000,2024-05-17 18:16:34.000000000,2024-05-17 18:12:43.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 20:02:53.000000000', 'files': ['neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/714865a7f4c3c17b23b36db6df637478680e85a6', 'message': 'Increase code coverage for cidr_broadcast_address_alternative()\n\nThere is an edge case in the ip_lib code that adding an\nIPv4 address with a /32 prefix length should also use\nthat address for the broadcast address. The mentioned\nutils.py code is tested indirectly via the add_ip_address()\ncode in ip_lib.\n\nTrivialFix\n\nChange-Id: I314cad9a4eb443e7d7ce2b14b0b11f144dcb6be2\n'}]",1,914916,714865a7f4c3c17b23b36db6df637478680e85a6,10,4,1,1131,,,0,"Increase code coverage for cidr_broadcast_address_alternative()

There is an edge case in the ip_lib code that adding an
IPv4 address with a /32 prefix length should also use
that address for the broadcast address. The mentioned
utils.py code is tested indirectly via the add_ip_address()
code in ip_lib.

TrivialFix

Change-Id: I314cad9a4eb443e7d7ce2b14b0b11f144dcb6be2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/914916/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/agent/linux/test_ip_lib.py'],1,714865a7f4c3c17b23b36db6df637478680e85a6,add-broadcast," @mock.patch.object(priv_lib, 'add_ip_address') def test_add_address_broadcast(self, add): self.addr_cmd.add('192.168.45.100/32') add.assert_called_once_with( 4, '192.168.45.100', 32, self.parent.name, self.addr_cmd._parent.namespace, 'global', '192.168.45.100') ",,12,0
openstack%2Fpython-swiftclient~918701,openstack/python-swiftclient,master,Ib14d34da34c07f8b356c3fdaacec00b6fa6bf903,"Fix retries for bytes, BytesIO",NEW,2024-05-08 22:29:56.000000000,2024-05-17 18:15:19.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2024-05-08 22:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/2411bb22669faff18d270922163f47720939ffec', 'message': 'Add reset function for ReadableToIterable\n\nChange-Id: Ib14d34da34c07f8b356c3fdaacec00b6fa6bf903\n'}, {'number': 2, 'created': '2024-05-09 00:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/38a4b5adc898e77f4098974902da5e34efc13cdb', 'message': ""Add reset function for ReadableToIterable\n\nPreviously, you'd get ClientExceptions like\n\n    put_object(...) failure and no ability to reset contents for reupload\n\nwhen uploading with a BytesIO (and other readables, presumably).\n\nCloses-Bug: #2065231\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: Ib14d34da34c07f8b356c3fdaacec00b6fa6bf903\n""}, {'number': 3, 'created': '2024-05-13 18:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/65be8f8867dd61250063e682d861994c971de284', 'message': ""Add reset function for ReadableToIterable\n\nPreviously, you'd get ClientExceptions like\n\n    put_object(...) failure and no ability to reset contents for reupload\n\nwhen uploading with a BytesIO (and other readables, presumably).\n\nCloses-Bug: #2065231\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: Ib14d34da34c07f8b356c3fdaacec00b6fa6bf903\n""}, {'number': 4, 'created': '2024-05-17 16:45:33.000000000', 'files': ['test/unit/test_service.py', 'test/unit/utils.py', 'test/functional/test_swiftclient.py', 'swiftclient/utils.py', 'swiftclient/client.py', 'test/unit/test_swiftclient.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/3eb6e615048e7f37fe537770dbf8e1022ea8c2d9', 'message': ""Fix retries for bytes, BytesIO\n\nPreviously, you'd get ClientExceptions like\n\n    put_object(...) failure and no ability to reset contents for reupload\n\nwhen uploading with a BytesIO (and other readables, presumably).\n\nDrive-By: Prefer custom reset functions over doing our own reset with\ntell/seek. Presumably, the reset function was written to account for\nother book-keeping that might be required, such as resetting a checksum.\n\nCloses-Bug: #2065231\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nChange-Id: Ib14d34da34c07f8b356c3fdaacec00b6fa6bf903\n""}]",16,918701,3eb6e615048e7f37fe537770dbf8e1022ea8c2d9,12,4,4,15343,,,0,"Fix retries for bytes, BytesIO

Previously, you'd get ClientExceptions like

    put_object(...) failure and no ability to reset contents for reupload

when uploading with a BytesIO (and other readables, presumably).

Drive-By: Prefer custom reset functions over doing our own reset with
tell/seek. Presumably, the reset function was written to account for
other book-keeping that might be required, such as resetting a checksum.

Closes-Bug: #2065231
Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Change-Id: Ib14d34da34c07f8b356c3fdaacec00b6fa6bf903
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/01/918701/1 && git format-patch -1 --stdout FETCH_HEAD,['swiftclient/utils.py'],1,2411bb22669faff18d270922163f47720939ffec,bytesio_traceback," if hasattr(content, 'seek') or hasattr(content, 'reset'): self.reset = self._reset def _reset(self): if hasattr(self.content, 'reset'): self.content.reset() else: self.content.seek(0) if not isinstance(self.md5sum, NoopMD5): self.md5sum = hashlib.md5() ",,10,0
openstack%2Fcinder~915019,openstack/cinder,stable/2023.2,I381999e669bfe7a603c9233f9c22b6e80abc708b,[coordination] backend_url should be secret,MERGED,2024-04-05 13:22:37.000000000,2024-05-17 18:14:28.000000000,2024-05-17 18:12:26.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 13:22:37.000000000', 'files': ['cinder/coordination.py', 'releasenotes/notes/bug-2012246-292d7d93260a1fe5.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c504a019b832d910b1e9198e7feb0298c752c41', 'message': '[coordination] backend_url should be secret\n\nThe backend_url option can sometimes contain secrets.\n\nFor example when redis coordination backend is used and authentication\nis enabled in redis, the plain redis password is put as an URL element.\n\n[coordination]\nbackend_url=redis://:password@127.0.0.1:6379\n\nCloses-Bug: #2012246\nChange-Id: I381999e669bfe7a603c9233f9c22b6e80abc708b\n(cherry picked from commit a14b17fc0c12318c755dd94665dfe1f09520633a)\n'}]",2,915019,9c504a019b832d910b1e9198e7feb0298c752c41,16,3,1,9373,,,0,"[coordination] backend_url should be secret

The backend_url option can sometimes contain secrets.

For example when redis coordination backend is used and authentication
is enabled in redis, the plain redis password is put as an URL element.

[coordination]
backend_url=redis://:password@127.0.0.1:6379

Closes-Bug: #2012246
Change-Id: I381999e669bfe7a603c9233f9c22b6e80abc708b
(cherry picked from commit a14b17fc0c12318c755dd94665dfe1f09520633a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/915019/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/coordination.py', 'releasenotes/notes/bug-2012246-292d7d93260a1fe5.yaml']",2,9c504a019b832d910b1e9198e7feb0298c752c41,bug/2012246-stable/2023.2,--- fixes: - | `Bug #2008017 <https://bugs.launchpad.net/cinder/+bug/2012246>`_: Hide value of the `[coordination] backend_url` option from logs because it can contain credential. ,,7,0
openstack%2Fcinder~882350,openstack/cinder,master,If4b711c45ca8a4ec3ec13623597739cc095c0352,Remove pytz dependency,MERGED,2023-05-04 18:08:06.000000000,2024-05-17 18:14:28.000000000,2024-05-17 18:12:14.000000000,"[{'_account_id': 5314}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-04 18:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea2e06da9da6cd73dfc1fded1da17e664616828d', 'message': 'Remove pytz dependency\n\nUse built-in zoneinfo lib which was introduced\nin Python 3.9.\n\nAdds a requirement on tzdata to ensure that tzdata is\ninstalled if not provided by the system.\n\nSee more details in\nhttps://review.opendev.org/c/openstack/requirements/+/875854\n\nChange-Id: If4b711c45ca8a4ec3ec13623597739cc095c0352\n'}, {'number': 2, 'created': '2024-02-02 15:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db0d2fabbebfac50dff1f18900bc001c82b07225', 'message': 'Remove pytz dependency\n\nUse built-in zoneinfo lib which was introduced\nin Python 3.9.\n\nAdds a requirement on tzdata to ensure that tzdata is\ninstalled if not provided by the system.\n\nSee more details in\nhttps://review.opendev.org/c/openstack/requirements/+/875854\n\nChange-Id: If4b711c45ca8a4ec3ec13623597739cc095c0352\n'}, {'number': 3, 'created': '2024-05-09 15:11:32.000000000', 'files': ['cinder/tests/unit/objects/test_consistencygroup.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/tests/unit/objects/test_volume_type.py', 'cinder/tests/unit/objects/test_group_snapshot.py', 'cinder/image/cache.py', 'cinder/tests/unit/objects/test_service.py', 'cinder/tests/unit/objects/test_cgsnapshot.py', 'requirements.txt', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/tests/unit/objects/test_qos.py', 'cinder/tests/unit/objects/test_snapshot.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7afc7ae2acaac1485c37fa367eedab4becda02b7', 'message': 'Remove pytz dependency\n\nUse built-in zoneinfo lib which was introduced\nin Python 3.9.\n\nAdds a requirement on tzdata to ensure that tzdata is\ninstalled if not provided by the system.\n\nSee more details in\nhttps://review.opendev.org/c/openstack/requirements/+/875854\n\nChange-Id: If4b711c45ca8a4ec3ec13623597739cc095c0352\n'}]",7,882350,7afc7ae2acaac1485c37fa367eedab4becda02b7,51,4,3,4523,,,0,"Remove pytz dependency

Use built-in zoneinfo lib which was introduced
in Python 3.9.

Adds a requirement on tzdata to ensure that tzdata is
installed if not provided by the system.

See more details in
https://review.opendev.org/c/openstack/requirements/+/875854

Change-Id: If4b711c45ca8a4ec3ec13623597739cc095c0352
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/882350/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/objects/test_consistencygroup.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/tests/unit/objects/test_volume_type.py', 'cinder/tests/unit/objects/test_group_snapshot.py', 'cinder/image/cache.py', 'cinder/tests/unit/objects/test_service.py', 'cinder/tests/unit/objects/test_cgsnapshot.py', 'requirements.txt', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/api/v2/test_snapshots.py', 'cinder/tests/unit/objects/test_qos.py', 'cinder/tests/unit/objects/test_snapshot.py']",13,ea2e06da9da6cd73dfc1fded1da17e664616828d,,"from zoneinfo import ZoneInfo self.assertEqual( utcnow_mock.return_value.replace(tzinfo=ZoneInfo('UTC')), snapshot.deleted_at)","import pytz self.assertEqual(utcnow_mock.return_value.replace(tzinfo=pytz.UTC), snapshot.deleted_at)",46,37
openstack%2Fneutron~914920,openstack/neutron,master,I5a59572c0637cb8b3d36a6e73a9c800f7a6e289d,Increase code coverage for plugin _get_network_mtu(),MERGED,2024-04-02 20:04:17.000000000,2024-05-17 18:14:23.000000000,2024-05-17 18:12:30.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 20:04:17.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db0818d5d253a71dfabc2abacd28d203f094c106', 'message': 'Increase code coverage for plugin _get_network_mtu()\n\nAdded test case where requested MTU was greater than\ntype driver MTU.\n\nTrivialFix\n\nChange-Id: I5a59572c0637cb8b3d36a6e73a9c800f7a6e289d\n'}]",0,914920,db0818d5d253a71dfabc2abacd28d203f094c106,10,4,1,1131,,,0,"Increase code coverage for plugin _get_network_mtu()

Added test case where requested MTU was greater than
type driver MTU.

TrivialFix

Change-Id: I5a59572c0637cb8b3d36a6e73a9c800f7a6e289d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/914920/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/test_plugin.py'],1,db0818d5d253a71dfabc2abacd28d203f094c106,get_network_mtu," def test_get_mtu_toobig(self): plugin = directory.get_plugin() self._register_type_driver_with_mtu('driver1', 1400) net = { 'name': 'net1', 'network_type': 'driver1', 'physical_network': 'physnet1', 'mtu': 1500, } self.assertRaises( exc.InvalidInput, plugin._get_network_mtu, net) ",,13,0
openstack%2Fneutron~914918,openstack/neutron,master,Iad6df382b17c6e814c2431b4570aba6712f13797,Increase code coverage for floating_mangle_rules(),MERGED,2024-04-02 20:03:28.000000000,2024-05-17 18:12:38.000000000,2024-05-17 18:12:38.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 20:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b7ad54de6a0ed2ead1995712be74ea2556d7fa3', 'message': ""Increase code coverage for floating_mangle_rules()\n\nDon't mock this method out in the router_info tests,\nbut instead verify it made the correct calls.\n\nTrivialFix\n\nChange-Id: Iad6df382b17c6e814c2431b4570aba6712f13797\n""}, {'number': 2, 'created': '2024-04-03 00:19:25.000000000', 'files': ['neutron/tests/unit/agent/l3/test_router_info.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca3c57308fa0195ae6b0774665698e2802b2b555', 'message': ""Increase code coverage for floating_mangle_rules()\n\nDon't mock this method out in the router_info tests,\nbut instead verify it made the correct calls.\n\nTrivialFix\n\nChange-Id: Iad6df382b17c6e814c2431b4570aba6712f13797\n""}]",2,914918,ca3c57308fa0195ae6b0774665698e2802b2b555,13,4,2,1131,,,0,"Increase code coverage for floating_mangle_rules()

Don't mock this method out in the router_info tests,
but instead verify it made the correct calls.

TrivialFix

Change-Id: Iad6df382b17c6e814c2431b4570aba6712f13797
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/914918/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/agent/l3/test_router_info.py'],1,6b7ad54de6a0ed2ead1995712be74ea2556d7fa3,floating-mangle-rules," internal_mark = ri.get_address_scope_mark_mask('scope1') self.assertEqual(2, ipv4_mangle.add_rule.call_count) expected_calls = [ mock.call.clear_rules_by_tag('floating_ip'), mock.call.add_rule('floatingip', '-d %s/32 -j MARK --set-xmark %s' % (mock.sentinel.fip, internal_mark), tag='floating_ip'), mock.call.add_rule('FORWARD', '-s %s/32 -j $float-snat' % mock.sentinel.ip, tag='floating_ip') ] ipv4_mangle.assert_has_calls(expected_calls)"," ri.floating_mangle_rules = mock.Mock( return_value=[(mock.sentinel.chain1, mock.sentinel.rule1)]) # Be sure that the rules are cleared first self.assertEqual(mock.call.clear_rules_by_tag('floating_ip'), ipv4_mangle.mock_calls[0]) # Be sure that add_rule is called somewhere in the middle self.assertEqual(1, ipv4_mangle.add_rule.call_count) self.assertEqual(mock.call.add_rule(mock.sentinel.chain1, mock.sentinel.rule1, tag='floating_ip'), ipv4_mangle.mock_calls[1])",13,11
openstack%2Fneutron~912315,openstack/neutron,master,I0d621faf577ca21488e150b77ce850d02a65823a,Update the OVN manual install doc,MERGED,2024-03-08 21:57:00.000000000,2024-05-17 18:12:33.000000000,2024-05-17 18:12:33.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-08 21:57:00.000000000', 'files': ['doc/source/install/ovn/manual_install.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fa3a14a95240c1e0b625fa44ee8dfd4f4773af1', 'message': 'Update the OVN manual install doc\n\nWhile not intended to be perfect, at least tried to update\npackage names accordingly and remove cruft.\n\nTrivialfix\n\nCloses-bug: #1996241\nChange-Id: I0d621faf577ca21488e150b77ce850d02a65823a\n'}]",2,912315,8fa3a14a95240c1e0b625fa44ee8dfd4f4773af1,7,3,1,1131,,,0,"Update the OVN manual install doc

While not intended to be perfect, at least tried to update
package names accordingly and remove cruft.

Trivialfix

Closes-bug: #1996241
Change-Id: I0d621faf577ca21488e150b77ce850d02a65823a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/912315/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/ovn/manual_install.rst'],1,8fa3a14a95240c1e0b625fa44ee8dfd4f4773af1,bug/1996241," .. note:: These instructions are intended for advanced users only, and could be incomplete. Please consult your distro-specific documentation for more details. It is also assumed you have already installed neutron components, see the latest `Install Tutorials and Guides <../index.html>`__ for more information. drivers, so should be delivered with the ``neutron`` package, beginning with the Ussuri release. For deployment tools using distribution packages, the names of them are different depending on the distribution. #. RHEL/Fedora and compatible distributions include the ``ovn-central`` and ``ovn-host`` packages, which automatically install ``openvswitch`` as a dependency. #. Ubuntu/Debian distributions include the ``ovn-central``, ``ovn-host``, ``ovn-common`` and ``ovn-docker`` packages, which automatically install the appropriate Open vSwitch dependencies as needed.Each controller node runs the Open vSwitch (OVS) service (including dependent services such as ``ovsdb-server``) and ``ovn-northd``. Only a single instance of the ``ovsdb-server`` and ``ovn-northd`` services can operate in a deployment. However, deployment tools can implement active/passive high-availability using a management tool that monitors service health and automatically starts these services on another node after failure of the primary node. See the :doc:`/ovn/faq/index` for more information. #. Install the ``ovn-central`` and ``openvswitch`` packages (RHEL/Fedora). #. Install the ``ovn-central`` and ``openvswitch-common`` packages (Ubuntu/Debian). # systemctl start openvswitch (RHEL/Fedora) # systemctl start openvswitch-switch (Ubuntu/Debian) Permit remote access to TCP ports: 6640 (OVS) to VTEPS (if you use vteps), 6642 (SBDB) to hosts running neutron-server, gateway nodes that run ovn-controller, and compute node services like ovn-controller and ovn-metadata-agent. 6641 (NBDB) to hosts running neutron-server.#. Start, or restart, the ``neutron-server`` service. Using the *systemd* unit: .. code-block:: console # systemctl start neutron-server#. Install the ``ovn-host``, ``openvswitch`` and ``neutron-ovn-metadata-agent`` packages (RHEL/Fedora). #. Install the ``ovn-host``, ``openvswitch-switch`` and ``neutron-ovn-metadata-agent`` packages (Ubuntu/Debian). # systemctl start openvswitch (RHEL/Fedora) # systemctl start openvswitch-switch (Ubuntu/Debian)#. Start the ``ovn-controller`` and ``neutron-ovn-metadata-agent`` services. # systemctl start ovn-controller neutron-ovn-metadata-agent","Open vSwitch (OVS) includes OVN beginning with version 2.5 and considers it experimental. From version 2.13 OVN has been released as separate project.drivers so should be delivered with ``neutron`` package, but older versions of this integration were delivered with independent package, typically ``networking-ovn``. Building OVS from source automatically installs OVN for releases older than 2.13. For newer releases it is required to build OVS and OVN separately. For deployment tools using distribution packages, the ``openvswitch-ovn`` package for RHEL/CentOS and compatible distributions automatically installs ``openvswitch`` as a dependency. Ubuntu/Debian includes ``ovn-central``, ``ovn-host``, ``ovn-docker``, and ``ovn-common`` packages that pull in the appropriate Open vSwitch dependencies as needed. A ``python-networking-ovn`` RPM may be obtained for Fedora or CentOS from the RDO project. Since Ussuri release OVN driver is shipped with ``neutron`` package. A package based on the older branch of ``networking-ovn`` can be found at https://trunk.rdoproject.org/. Fedora and CentOS RPM builds of OVS and OVN from the ``master`` branch of ``ovs`` can be found in this COPR repository: https://copr.fedorainfracloud.org/coprs/leifmadsen/ovs-master/.Each controller node runs the OVS service (including dependent services such as ``ovsdb-server``) and the ``ovn-northd`` service. However, only a single instance of the ``ovsdb-server`` and ``ovn-northd`` services can operate in a deployment. However, deployment tools can implement active/passive high-availability using a management tool that monitors service health and automatically starts these services on another node after failure of the primary node. See the :doc:`/ovn/faq/index` for more information. #. Install the ``openvswitch-ovn`` and ``networking-ovn`` packages. # systemctl start openvswitch Using the ``ovs-ctl`` script: .. code-block:: console # /usr/share/openvswitch/scripts/ovs-ctl start --system-id=""random"" Permit remote access to TCP ports: 6640 (OVS) to VTEPS (if you use vteps), 6642 (SBDB) to hosts running neutron-server, gateway nodes that run ovn-controller, and compute node services like ovn-controller and ovn-metadata-agent. 6641 (NBDB) to hosts running neutron-server. Using the ``ovn-ctl`` script: .. code-block:: console # /usr/share/openvswitch/scripts/ovn-ctl start_northd Options for *start_northd*: .. code-block:: console # /usr/share/openvswitch/scripts/ovn-ctl start_northd --help # ... # DB_NB_SOCK=""/usr/local/etc/openvswitch/nb_db.sock"" # DB_NB_PID=""/usr/local/etc/openvswitch/ovnnb_db.pid"" # DB_SB_SOCK=""usr/local/etc/openvswitch/sb_db.sock"" # DB_SB_PID=""/usr/local/etc/openvswitch/ovnsb_db.pid"" # ... #. Start the ``neutron-server`` service.#. Install the ``openvswitch-ovn`` and ``networking-ovn`` packages. # systemctl start openvswitch Using the ``ovs-ctl`` script: .. code-block:: console # /usr/share/openvswitch/scripts/ovs-ctl start --system-id=""random""#. Start the ``ovn-controller`` service. # systemctl start ovn-controller Using the ``ovn-ctl`` script: .. code-block:: console # /usr/share/openvswitch/scripts/ovn-ctl start_controller",52,72
openstack%2Ftempest-stress~914579,openstack/tempest-stress,master,Ic9f19de28279aff63ad58a8c2aa983c87c9fe33a,Get rid of six,MERGED,2024-03-28 06:38:09.000000000,2024-05-17 17:42:43.000000000,2024-05-17 17:41:43.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 36714}]","[{'number': 1, 'created': '2024-03-28 06:38:09.000000000', 'files': ['tempest_stress/stressaction.py', 'tempest_stress/driver.py'], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/9bcfe929f56ebbc196985b95cd4473a8589d7bd2', 'message': 'Get rid of six\n\nsix is no longer needed because Python 2 is no longer supported.\n\nChange-Id: Ic9f19de28279aff63ad58a8c2aa983c87c9fe33a\n'}]",4,914579,9bcfe929f56ebbc196985b95cd4473a8589d7bd2,11,4,1,9816,,,0,"Get rid of six

six is no longer needed because Python 2 is no longer supported.

Change-Id: Ic9f19de28279aff63ad58a8c2aa983c87c9fe33a
",git fetch https://review.opendev.org/openstack/tempest-stress refs/changes/79/914579/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_stress/stressaction.py', 'tempest_stress/driver.py']",2,9bcfe929f56ebbc196985b95cd4473a8589d7bd2,remove-six, test_run.setUp(**kwargs),import six test_run.setUp(**dict(six.iteritems(kwargs))),2,5
openstack%2Fswift~919936,openstack/swift,master,I68848cc8489bef430637eb9e42e7f7a77175de1a,sq? test StatsdClient directly,ABANDONED,2024-05-17 10:05:28.000000000,2024-05-17 17:16:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-17 10:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5c63b02fdb31ac9b7ee7b4eb3923a6d71cdddfcb', 'message': 'sq? test StatsdClient directly\n\nUnit tests currently cover StatsdClient indirectly via\nget_logger(). Start to add tests that actually call StatsdClient().\n\nChange-Id: I68848cc8489bef430637eb9e42e7f7a77175de1a\n'}, {'number': 2, 'created': '2024-05-17 10:30:54.000000000', 'files': ['test/unit/common/test_statsd_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2a6363c57a90c04cd3ff19aea780e4462b25dc56', 'message': 'sq? test StatsdClient directly\n\nUnit tests currently cover StatsdClient indirectly via\nget_logger(). Start to add tests that actually call StatsdClient().\n\nChange-Id: I68848cc8489bef430637eb9e42e7f7a77175de1a\n'}]",0,919936,2a6363c57a90c04cd3ff19aea780e4462b25dc56,5,1,2,7847,,,0,"sq? test StatsdClient directly

Unit tests currently cover StatsdClient indirectly via
get_logger(). Start to add tests that actually call StatsdClient().

Change-Id: I68848cc8489bef430637eb9e42e7f7a77175de1a
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/919936/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_statsd_client.py'],1,5c63b02fdb31ac9b7ee7b4eb3923a6d71cdddfcb,noop-stats,"from swift.common.statsd_client import StatsdClientclass BaseTestStasdClient(unittest.TestCase): def setUp(self): self.getaddrinfo_calls = [] self.getaddrinfo_calls.append((host, port)) class TestStatsdClient(BaseTestStasdClient): def test_init_host(self): client = StatsdClient('myhost', 1234) self.assertEqual([('myhost', 1234)], self.getaddrinfo_calls) with mock.patch.object(client, '_open_socket') as mock_open: mock_open.sendto = mock.MagicMock(return_value=None) res = client.increment('tunafish') self.assertIsNone(res) self.assertEqual( [mock.call(), mock.call().sendto(b'tunafish:1|c', ('myhost', 1234)), mock.call().close()], mock_open.mock_calls) def test_init_host_is_none(self): client = StatsdClient(None, None) self.assertIsNone(client._host) self.assertFalse(self.getaddrinfo_calls) with mock.patch.object(client, '_open_socket') as mock_open: res = self.assertIsNone(client.increment('tunafish')) self.assertIsNone(res) self.assertFalse(mock_open.mock_calls) self.assertFalse(self.getaddrinfo_calls) class TestStatsdLogging(BaseTestStasdClient):",class TestStatsdLogging(unittest.TestCase): def setUp(self):,31,1
openstack%2Fos-brick~919511,openstack/os-brick,stable/2024.1,I3abc5bee7f474a9a40d396c559a42edff86334e0,Silence warning when running in a container with overlayfs,MERGED,2024-05-13 14:01:04.000000000,2024-05-17 16:57:53.000000000,2024-05-17 16:56:50.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-13 14:01:04.000000000', 'files': ['releasenotes/notes/fix-host-uuid-warning-3814b7e47bde8010.yaml', 'os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/823cda4b8a2102281facfcd666514fc6147d770a', 'message': ""Silence warning when running in a container with overlayfs\n\nWhen running in a container using overlayfs we may see the following\nwarning:\n\n  WARNING os_brick.initiator.connectors.nvmeof process execution error\n  in _get_host_uuid: Unexpected error while running command.\n  Command: blkid overlay -s UUID -o value\n  Exit code: 2\n  Stdout: ''\n  Stderr: '': oslo_concurrency.processutils.ProcessExecutionError:\n  Unexpected error while running command.\n\nThis change fixes the issue by not running the command when the file\nsystem source is overlay.\n\nCloses-Bug: #2045557\nChange-Id: I3abc5bee7f474a9a40d396c559a42edff86334e0\n(cherry picked from commit bd07c571da7a3f78dbdec68af638b7e16181848d)\n""}]",1,919511,823cda4b8a2102281facfcd666514fc6147d770a,10,3,1,14826,,,0,"Silence warning when running in a container with overlayfs

When running in a container using overlayfs we may see the following
warning:

  WARNING os_brick.initiator.connectors.nvmeof process execution error
  in _get_host_uuid: Unexpected error while running command.
  Command: blkid overlay -s UUID -o value
  Exit code: 2
  Stdout: ''
  Stderr: '': oslo_concurrency.processutils.ProcessExecutionError:
  Unexpected error while running command.

This change fixes the issue by not running the command when the file
system source is overlay.

Closes-Bug: #2045557
Change-Id: I3abc5bee7f474a9a40d396c559a42edff86334e0
(cherry picked from commit bd07c571da7a3f78dbdec68af638b7e16181848d)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/11/919511/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-host-uuid-warning-3814b7e47bde8010.yaml', 'os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py']",3,823cda4b8a2102281facfcd666514fc6147d770a,," source = lines.split('\n')[0] # In a container this could be 'overlay', which causes the blkid # command to fail. if source == ""overlay"": return None 'blkid', source, '-s', 'UUID', '-o', 'value')"," 'blkid', lines.split('\n')[0], '-s', 'UUID', '-o', 'value')",20,3
openstack%2Fnova~919724,openstack/nova,unmaintained/zed,I4ab97626c10052c7af9934a80ff8db9ddab82738,Enforce quota usage from placement when unshelving,NEW,2024-05-15 11:43:43.000000000,2024-05-17 16:57:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-15 11:43:43.000000000', 'files': ['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/limit/placement.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c4a21f63ad2e5ad66a339af6143ee609663f6e8a', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n'}]",2,919724,c4a21f63ad2e5ad66a339af6143ee609663f6e8a,9,1,1,17685,,,0,"Enforce quota usage from placement when unshelving

When [quota]count_usage_from_placement = true or
[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota
usage are counted from placement. When an instance is SHELVED_OFFLOADED,
it will not have allocations in placement, so its cores and ram should
not count against quota during that time.

This means however that when an instance is unshelved, there is a
possibility of going over quota if the cores and ram it needs were
allocated by some other instance(s) while it was SHELVED_OFFLOADED.

This fixes a bug where quota was not being properly enforced during
unshelve of a SHELVED_OFFLOADED instance when quota usage is counted
from placement. Test coverage is also added for the ""recheck"" quota
cases.

Closes-Bug: #2003991

Change-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738
(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)
(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/919724/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/limit/placement.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",7,c4a21f63ad2e5ad66a339af6143ee609663f6e8a,bug/2003991,"from nova.limit import utils as limit_utils @staticmethod def _check_quota_unshelve_offloaded( context: nova_context.RequestContext, instance: 'objects.Instance', request_spec: 'objects.RequestSpec' ): if not (CONF.quota.count_usage_from_placement or limit_utils.use_unified_limits()): return # TODO(melwitt): This is ugly but we have to do it this way because # instances quota is currently counted from the API database but cores # and ram are counted from placement. That means while an instance is # SHELVED_OFFLOADED, it will still consume instances quota but it will # not consume cores and ram. So we need an instances delta of # 0 but cores and ram deltas from the flavor. # Once instances usage is also being counted from placement, we can # replace this method with a normal check_num_instances_quota() call. vcpus = instance.flavor.vcpus memory_mb = instance.flavor.memory_mb # We are not looking to create a new server, we are unshelving an # existing one. deltas = {'instances': 0, 'cores': vcpus, 'ram': memory_mb} objects.Quotas.check_deltas( context, deltas, context.project_id, user_id=context.user_id, check_project_id=instance.project_id, check_user_id=instance.user_id, ) # Do the same for unified limits. placement_limits.enforce_num_instances_and_flavor( context, context.project_id, instance.flavor, request_spec.is_bfv, 0, 0, delta_updates={'servers': 0}) # Check quota before we save any changes to the database, but only if # we are counting quota usage from placement. When an instance is # SHELVED_OFFLOADED, it will not consume cores or ram resources in # placement. This means it is possible that an unshelve would cause the # project/user to go over quota. if instance.vm_state == vm_states.SHELVED_OFFLOADED: self._check_quota_unshelve_offloaded( context, instance, request_spec) ",,265,28
openstack%2Fnova~910010,openstack/nova,unmaintained/yoga,I4ab97626c10052c7af9934a80ff8db9ddab82738,Enforce quota usage from placement when unshelving,NEW,2024-02-23 16:41:15.000000000,2024-05-17 16:56:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-02-23 16:41:15.000000000', 'files': ['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/limit/placement.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bffc1cb1fe90dde02fa671b8a286d3d4ebf8d191', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nConflicts:\n    nova/compute/api.py\n\nNOTE(melwitt): The conflict is because change\nIeb4766fdd88c469574fad823e05fe401537cdc30 (Allow unshelve to a specific\nhost (Compute API part)) is not in Yoga.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)\n(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)\n(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)\n'}]",3,910010,bffc1cb1fe90dde02fa671b8a286d3d4ebf8d191,12,1,1,17685,,,0,"Enforce quota usage from placement when unshelving

When [quota]count_usage_from_placement = true or
[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota
usage are counted from placement. When an instance is SHELVED_OFFLOADED,
it will not have allocations in placement, so its cores and ram should
not count against quota during that time.

This means however that when an instance is unshelved, there is a
possibility of going over quota if the cores and ram it needs were
allocated by some other instance(s) while it was SHELVED_OFFLOADED.

This fixes a bug where quota was not being properly enforced during
unshelve of a SHELVED_OFFLOADED instance when quota usage is counted
from placement. Test coverage is also added for the ""recheck"" quota
cases.

Conflicts:
    nova/compute/api.py

NOTE(melwitt): The conflict is because change
Ieb4766fdd88c469574fad823e05fe401537cdc30 (Allow unshelve to a specific
host (Compute API part)) is not in Yoga.

Closes-Bug: #2003991

Change-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738
(cherry picked from commit 6f79d6321e7c3edaab2eb911198b7b7f851371b3)
(cherry picked from commit c67e69c0e35d837fcefd7e4ea010a956569c3a55)
(cherry picked from commit 490d5de6bb9ef3123cbbcea50e08ad0ad2edcbbe)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/910010/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/limit/placement.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",7,bffc1cb1fe90dde02fa671b8a286d3d4ebf8d191,bug/2003991,"from nova.limit import utils as limit_utils @staticmethod def _check_quota_unshelve_offloaded( context: nova_context.RequestContext, instance: 'objects.Instance', request_spec: 'objects.RequestSpec' ): if not (CONF.quota.count_usage_from_placement or limit_utils.use_unified_limits()): return # TODO(melwitt): This is ugly but we have to do it this way because # instances quota is currently counted from the API database but cores # and ram are counted from placement. That means while an instance is # SHELVED_OFFLOADED, it will still consume instances quota but it will # not consume cores and ram. So we need an instances delta of # 0 but cores and ram deltas from the flavor. # Once instances usage is also being counted from placement, we can # replace this method with a normal check_num_instances_quota() call. vcpus = instance.flavor.vcpus memory_mb = instance.flavor.memory_mb # We are not looking to create a new server, we are unshelving an # existing one. deltas = {'instances': 0, 'cores': vcpus, 'ram': memory_mb} objects.Quotas.check_deltas( context, deltas, context.project_id, user_id=context.user_id, check_project_id=instance.project_id, check_user_id=instance.user_id, ) # Do the same for unified limits. placement_limits.enforce_num_instances_and_flavor( context, context.project_id, instance.flavor, request_spec.is_bfv, 0, 0, delta_updates={'servers': 0}) # Check quota before we save any changes to the database, but only if # we are counting quota usage from placement. When an instance is # SHELVED_OFFLOADED, it will not consume cores or ram resources in # placement. This means it is possible that an unshelve would cause the # project/user to go over quota. if instance.vm_state == vm_states.SHELVED_OFFLOADED: self._check_quota_unshelve_offloaded( context, instance, request_spec) ",,265,28
openstack%2Fswift~913240,openstack/swift,feature/mpu,If262db80eea2222ef74c8c6bb968b4979751ac17,Add doc re working with feature branch,MERGED,2024-03-14 16:44:24.000000000,2024-05-17 16:55:17.000000000,2024-03-14 20:13:30.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-14 16:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/942ffd3a4833ed046027343f2d473b495c2b6b0a', 'message': 'Add doc re working with feature branch\n\nChange-Id: If262db80eea2222ef74c8c6bb968b4979751ac17\n'}, {'number': 2, 'created': '2024-03-14 19:06:50.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/working_with_feature_branch.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/256938544919924323e77a962bfc8830fa98ad89', 'message': 'Add doc re working with feature branch\n\nChange-Id: If262db80eea2222ef74c8c6bb968b4979751ac17\n'}]",10,913240,256938544919924323e77a962bfc8830fa98ad89,13,2,2,7847,,,0,"Add doc re working with feature branch

Change-Id: If262db80eea2222ef74c8c6bb968b4979751ac17
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/913240/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/working_with_feature_branch.rst'],1,942ffd3a4833ed046027343f2d473b495c2b6b0a,p-dev-doc,"Working with a feature branch ============================= Creating a patch ---------------- To propose a patch to a feature branch, create a local branch based on the feature branch, e.g.:: git checkout -b branch_name remotes/origin/feature/mpu When you have made your changes, push to gerrit as usual:: git review Merging master to the feature branch ------------------------------------ From time to time it is necessary to merge from master to the feature branch. First, get master up-to-date:: git checkout master git pull --ff-only origin master Then create a local branch off the feature branch into which you will merge the master branch, e.g.:: git checkout -b merge-master remotes/origin/feature/mpu git merge remotes/origin/master If everything merges cleanly then the tip of your local branch will be a commit for the merge. However, there may be merge conflicts to resolve. Once you've taken care of them, add all the affected files and then commit the merge:: git add git commit -m 'merge master to feature/mpu' .. note:: The ``git commit`` is only necessary when there have been merge conflicts. Push the merged branch to gerrit for review, using the ``-R`` option:: git review -R ",,45,0
openstack%2Fswift~911165,openstack/swift,master,Ia89aef5dbc06c49a34947e50ace2365c2c59ea62,object-server: return 503 not 404 if ts file unlinked,NEW,2024-03-05 18:11:24.000000000,2024-05-17 16:54:42.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-05 18:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c0c0eee84a8e54eaf6274a4975145323f385cab8', 'message': 'sq: raise DiskFileMetadataUnavailable more\n\nChange-Id: Ia89aef5dbc06c49a34947e50ace2365c2c59ea62\n'}, {'number': 2, 'created': '2024-05-16 11:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f448ecbcfca75264de502bd5060a35582f453787', 'message': 'object-server: return 503 not 404 if ts file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed tombstone (.ts) no longer exists\nwhen its metadata is read then a DiskFileNotExist exception is raised\nwhich would previously cause the object server to return a 404.\n\nThe .ts file may have been reclaimed by a concurrent cleanup, in which\ncase the 404 is appropriate, but it may have been replaced by a\nconcurrent PUT request, in which case a 503 would be more appropriate.\n\nThis patch changes behavior to assume the latter i.e. return a 503\nbecause there may have been a concurrent PUT.\n\nRelated-Change: I2f698c25ed65b236e851e5a307d48a12cef62b33\nChange-Id: Ia89aef5dbc06c49a34947e50ace2365c2c59ea62\n'}, {'number': 3, 'created': '2024-05-16 13:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5159174f77e25b68d77d3588aa00e317425b4ed8', 'message': 'object-server: return 503 not 404 if ts file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed tombstone (.ts) no longer exists\nwhen its metadata is read then a DiskFileNotExist exception is raised\nwhich would previously cause the object server to return a 404.\n\nThe .ts file may have been reclaimed by a concurrent cleanup, in which\ncase the 404 is appropriate, but it may have been replaced by a\nconcurrent PUT request, in which case a 503 would be more appropriate.\n\nThis patch changes behavior to assume the latter i.e. return a 503\nbecause there may have been a concurrent PUT.\n\nRelated-Change: I2f698c25ed65b236e851e5a307d48a12cef62b33\nChange-Id: Ia89aef5dbc06c49a34947e50ace2365c2c59ea62\n'}, {'number': 4, 'created': '2024-05-16 17:26:32.000000000', 'files': ['test/unit/obj/test_server.py', 'test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ac1acc2e8ebd80e9f4ca9ef232b253732f2847bc', 'message': 'object-server: return 503 not 404 if ts file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed tombstone (.ts) no longer exists\nwhen its metadata is read then a DiskFileNotExist exception is raised\nwhich would previously cause the object server to return a 404.\n\nThe .ts file may have been reclaimed by a concurrent cleanup, in which\ncase the 404 is appropriate, but it may have been replaced by a\nconcurrent PUT request, in which case a 503 would be more appropriate.\n\nThis patch changes behavior to assume the latter i.e. return a 503\nbecause there may have been a concurrent PUT.\n\nRelated-Change: I2f698c25ed65b236e851e5a307d48a12cef62b33\nChange-Id: Ia89aef5dbc06c49a34947e50ace2365c2c59ea62\n'}]",15,911165,ac1acc2e8ebd80e9f4ca9ef232b253732f2847bc,16,2,4,15343,,,0,"object-server: return 503 not 404 if ts file unlinked

When a DiskFile is opened, its on-disk files are first listed and then
xattr metadata is read. If a listed tombstone (.ts) no longer exists
when its metadata is read then a DiskFileNotExist exception is raised
which would previously cause the object server to return a 404.

The .ts file may have been reclaimed by a concurrent cleanup, in which
case the 404 is appropriate, but it may have been replaced by a
concurrent PUT request, in which case a 503 would be more appropriate.

This patch changes behavior to assume the latter i.e. return a 503
because there may have been a concurrent PUT.

Related-Change: I2f698c25ed65b236e851e5a307d48a12cef62b33
Change-Id: Ia89aef5dbc06c49a34947e50ace2365c2c59ea62
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/911165/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_server.py', 'test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py']",3,c0c0eee84a8e54eaf6274a4975145323f385cab8,p-diskfile-race,"def read_metadata(fd, add_missing_checksum=False): :raises DiskFileMetadataUnavailable: if ts_file was provided, but is not available to read metadata except DiskFileQuarantined: return read_metadata(source, add_missing_checksum) raise DiskFileMetadataUnavailable() self._datafile_metadata = self._read_and_validate_metadata( fp, data_file, add_missing_checksum=modernize)","def read_file_metadata(fd, add_missing_checksum=False):def read_metadata(fd, add_missing_checksum=False): """""" Helper function to read the pickled metadata from an object data file. The only difference from ``read_file_metadata`` is that this function raises ``DiskFileNotExist`` when the file cannot be read. That is only appropriate if the file is a data file. For meta files callers should use ``read_file_metadata`` which raises ``DiskFileMetadataUnavailable``. :param fd: file descriptor or filename to load the metadata from :param add_missing_checksum: if set and checksum is missing, add it :returns: dictionary of metadata :raises DiskFileXattrNotSupported: if the filesystem does not support xattr :raises DiskFileNotExist: if the file metadata could not be read :raises DiskFileBadMetadataChecksum: if the checksum of the read metadata does not match the stored checksum """""" try: return read_file_metadata(fd, add_missing_checksum) except DiskFileMetadataUnavailable: raise DiskFileNotExist() except (DiskFileQuarantined, DiskFileMetadataUnavailable): return read_file_metadata(source, add_missing_checksum) raise DiskFileNotExist() try: self._datafile_metadata = self._read_and_validate_metadata( fp, data_file, add_missing_checksum=modernize) except DiskFileMetadataUnavailable: # not expected because an open file descriptor was passed, but # handle it just in case raise DiskFileNotExist()",119,50
openstack%2Fneutron~916171,openstack/neutron,unmaintained/victoria,I89c21d221c6f7598c3af1e84c10b2f01bc827e8a,DNM: Test unmaintained/victoria jobs,NEW,2024-04-18 08:57:33.000000000,2024-05-17 16:53:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-18 08:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26695af5890a301efb30fbe0582680145dbec31d', 'message': 'DNM: Test unmaintained/victoria jobs\n\nChange-Id: I89c21d221c6f7598c3af1e84c10b2f01bc827e8a\n'}, {'number': 2, 'created': '2024-04-18 09:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0690ce9e544162062722a9e54d8f2892f589e2cb', 'message': 'DNM: Test unmaintained/victoria jobs\n\nChange-Id: I89c21d221c6f7598c3af1e84c10b2f01bc827e8a\n'}, {'number': 3, 'created': '2024-04-22 12:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd52a0e7c0eb075fdc27caa860b525d6b6c18763', 'message': 'DNM: Test unmaintained/victoria jobs\n\nChange-Id: I89c21d221c6f7598c3af1e84c10b2f01bc827e8a\n'}, {'number': 4, 'created': '2024-04-24 08:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3c762b58b22b79e29e929cfd99bd0aca0fe3926', 'message': 'DNM: Test unmaintained/victoria jobs\n\nChange-Id: I89c21d221c6f7598c3af1e84c10b2f01bc827e8a\n'}, {'number': 5, 'created': '2024-04-25 07:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a73aab42d639622b248f97feafda3e7ff00d95c7', 'message': 'DNM: Test unmaintained/victoria jobs\n\nChange-Id: I89c21d221c6f7598c3af1e84c10b2f01bc827e8a\n'}, {'number': 6, 'created': '2024-04-30 07:37:33.000000000', 'files': ['neutron/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39e6b90109c1d98808c2ca64e33a2b67292e3e53', 'message': 'DNM: Test unmaintained/victoria jobs\n\nChange-Id: I89c21d221c6f7598c3af1e84c10b2f01bc827e8a\n'}]",9,916171,39e6b90109c1d98808c2ca64e33a2b67292e3e53,28,1,6,8313,,,0,"DNM: Test unmaintained/victoria jobs

Change-Id: I89c21d221c6f7598c3af1e84c10b2f01bc827e8a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/916171/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/opts.py'],1,26695af5890a301efb30fbe0582680145dbec31d,um_tempest_victoria_last,# DNM: test unmaintained/victoria,,1,0
openstack%2Fbarbican~913526,openstack/barbican,master,I10d7d3f611bc884549ab8c01f69ffc87fcd6f451,Remove unused test utils,MERGED,2024-03-18 10:03:57.000000000,2024-05-17 16:36:27.000000000,2024-05-17 16:34:11.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-18 10:03:57.000000000', 'files': ['barbican/tests/certificate_utils.py', 'barbican/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/3e5ba21c47136f561feb60540d785941ccbd2600', 'message': 'Remove unused test utils\n\nThese utils are not used by any of the test codes so can be removed.\nThis allos us to reduce dependency on crypto module of pyOpenSSL which\nis discouraged now[1]\n\n[1] https://www.pyopenssl.org/en/latest/api/crypto.html\n\nChange-Id: I10d7d3f611bc884549ab8c01f69ffc87fcd6f451\n'}]",0,913526,3e5ba21c47136f561feb60540d785941ccbd2600,9,3,1,9816,,,0,"Remove unused test utils

These utils are not used by any of the test codes so can be removed.
This allos us to reduce dependency on crypto module of pyOpenSSL which
is discouraged now[1]

[1] https://www.pyopenssl.org/en/latest/api/crypto.html

Change-Id: I10d7d3f611bc884549ab8c01f69ffc87fcd6f451
",git fetch https://review.opendev.org/openstack/barbican refs/changes/26/913526/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/certificate_utils.py', 'barbican/tests/utils.py']",2,3e5ba21c47136f561feb60540d785941ccbd2600,remove-pyopenssl,,"from OpenSSL import cryptodef is_cert_valid(expected, observed): c1 = crypto.load_certificate(crypto.FILETYPE_PEM, expected) c2 = crypto.load_certificate(crypto.FILETYPE_PEM, observed) return (crypto.dump_certificate(crypto.FILETYPE_PEM, c1) == crypto.dump_certificate(crypto.FILETYPE_PEM, c2)) def is_private_key_valid(expected, observed): k1 = crypto.load_privatekey(crypto.FILETYPE_PEM, expected) k2 = crypto.load_privatekey(crypto.FILETYPE_PEM, observed) return (crypto.dump_privatekey(crypto.FILETYPE_PEM, k1) == crypto.dump_privatekey(crypto.FILETYPE_PEM, k2)) def is_public_key_valid(expected, observed): # TODO(alee) fill in the relevant test here return True ",0,115
openstack%2Fbarbican~916619,openstack/barbican,master,I362c4a7f6d7bad331acd9007d46d890306d4bf88,kmip: Fix missing extra requirement,MERGED,2024-04-22 11:39:45.000000000,2024-05-17 16:35:12.000000000,2024-05-17 16:34:05.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-22 11:39:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican/commit/7d1d8147f30193eeef4950a4f97c5990447c3c1b', 'message': ""kmip: Fix missing extra requirement\n\nThe kmip plugin requires the pykmip library but it hasn't been listed\nin requirements or extra requirements.\n\nChange-Id: I362c4a7f6d7bad331acd9007d46d890306d4bf88\n""}]",0,916619,7d1d8147f30193eeef4950a4f97c5990447c3c1b,8,4,1,9816,,,0,"kmip: Fix missing extra requirement

The kmip plugin requires the pykmip library but it hasn't been listed
in requirements or extra requirements.

Change-Id: I362c4a7f6d7bad331acd9007d46d890306d4bf88
",git fetch https://review.opendev.org/openstack/barbican refs/changes/19/916619/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7d1d8147f30193eeef4950a4f97c5990447c3c1b,,kmip = pykmip>=0.7.0 # Apache 2.0 License,,2,0
openstack%2Fbarbican~917934,openstack/barbican,master,I4267092b014c91b2b87f0740b162f24dffee3243,Restore disabled tests,MERGED,2024-05-02 09:13:14.000000000,2024-05-17 16:34:06.000000000,2024-05-17 16:34:06.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 35125}]","[{'number': 1, 'created': '2024-05-02 09:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4831810de8f9d0982fa897a369ad29e2062ca916', 'message': 'Restore disabled tests\n\nChange-Id: I4267092b014c91b2b87f0740b162f24dffee3243\n'}, {'number': 2, 'created': '2024-05-02 15:07:57.000000000', 'files': ['functionaltests/api/v1/functional/test_secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/936234ae8c7ec108355b7ef47ebac2ab3396f9f9', 'message': 'Restore disabled tests\n\nThese tests were disabled in the past because of some problems but\nit seems the problems have be already resolved somehow. Restore\nthe test coverage to detect further regressions.\n\nStory: 2002122\nTask: 19825\nChange-Id: I4267092b014c91b2b87f0740b162f24dffee3243\n'}]",0,917934,936234ae8c7ec108355b7ef47ebac2ab3396f9f9,11,4,2,9816,,,0,"Restore disabled tests

These tests were disabled in the past because of some problems but
it seems the problems have be already resolved somehow. Restore
the test coverage to detect further regressions.

Story: 2002122
Task: 19825
Change-Id: I4267092b014c91b2b87f0740b162f24dffee3243
",git fetch https://review.opendev.org/openstack/barbican refs/changes/34/917934/1 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/api/v1/functional/test_secrets.py'],1,4831810de8f9d0982fa897a369ad29e2062ca916,," 'utf8_text_content_type_none_encoding': { 'payload_content_type': 'text/plain; charset=utf-8', 'payload_content_encoding': None}, 'no_space_utf8_text_content_type_none_encoding': { 'payload_content_type': 'text/plain;charset=utf-8', 'payload_content_encoding': None}, 'utf8_text_content_type_none_encoding': { 'payload_content_type': 'text/plain; charset=utf-8', 'payload_content_encoding': None}, 'no_space_utf8_text_content_type_none_encoding': { 'payload_content_type': 'text/plain;charset=utf-8', 'payload_content_encoding': None},"," # TODO(dmend): Fix content negotiation # 'utf8_text_content_type_none_encoding': { # 'payload_content_type': 'text/plain; charset=utf-8', # 'payload_content_encoding': None}, # 'no_space_utf8_text_content_type_none_encoding': { # 'payload_content_type': 'text/plain;charset=utf-8', # 'payload_content_encoding': None}, # TODO(dmend): Fix content negotiation # 'utf8_text_content_type_none_encoding': { # 'payload_content_type': 'text/plain; charset=utf-8', # 'payload_content_encoding': None}, # 'no_space_utf8_text_content_type_none_encoding': { # 'payload_content_type': 'text/plain;charset=utf-8', # 'payload_content_encoding': None},",12,14
openstack%2Fswift~919911,openstack/swift,master,I4bbd28a4c8554cba742a68028ad1aa24d897146f,obj: Have handoff_delete reduce replication to handoffs,NEW,2024-05-17 01:09:40.000000000,2024-05-17 16:25:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-17 01:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/037afd12b0a0982d6eb85db26f06c95347c3f7ac', 'message': ""obj: Have handoff_delete reduce replication to handoffs\n\nSuppose you've got a full cluster. Some time after bringing in more\nhardware and setting handoff_delete=1 and handoffs_first=true but\nbefore you're all the way out of the woods, you notice one of the\npartitions has one primary on fresh hardware and at least one primary\nwith a full disk.\n\nThe fresh-hardware primary should have few if any handoffs; as a\nresult, it goes back to syncing mode. For every 507 it gets back, it\nfinds a handoff to sync to. Those handoffs are going to try to clean\nthat up as quick as they can, and with handoff_delete=1, they only\nneed to sync with the fresh-hardware primary in order to delete --\nall we've done is waste some rsync connections and network bandwidth,\nand the fresh-hardware primary will try to do it again.\n\nNow, only be willing to sync to at most handoff_delete-1 handoffs.\nThis respects the operator's stated willingness to tolerate reduced\ndurability for the sake of faster replication and ensures that no\nhandoff should receive a bunch of data just to immediately delete\nit the next chance it gets.\n\nNote that the intentionally-create-handoffs behavior can now be\ndisabled entirely via handoff_delete = 1.\n\nChange-Id: I4bbd28a4c8554cba742a68028ad1aa24d897146f\n""}, {'number': 2, 'created': '2024-05-17 15:10:51.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c9e6a1e127192ad9b50251f767215d51f1c4f09e', 'message': ""obj: Have handoff_delete reduce replication to handoffs\n\nSuppose you've got a full cluster. Some time after bringing in more\nhardware and setting handoff_delete=1 and handoffs_first=true but\nbefore you're all the way out of the woods, you notice one of the\npartitions has one primary on fresh hardware and at least one primary\nwith a full disk.\n\nThe fresh-hardware primary should have few if any handoffs; as a\nresult, it goes back to syncing mode. For every 507 it gets back, it\nfinds a handoff to sync to. Those handoffs are going to try to clean\nthat up as quick as they can, and with handoff_delete=1, they only\nneed to sync with the fresh-hardware primary in order to delete --\nall we've done is waste some rsync connections and network bandwidth,\nand the fresh-hardware primary will try to do it again.\n\nNow, only be willing to sync to at most handoff_delete-1 handoffs.\nThis respects the operator's stated willingness to tolerate reduced\ndurability for the sake of faster replication and ensures that no\nhandoff should receive a bunch of data just to immediately delete\nit the next chance it gets.\n\nNote that the intentionally-create-handoffs behavior can now be\ndisabled entirely via handoff_delete = 1.\n\nChange-Id: I4bbd28a4c8554cba742a68028ad1aa24d897146f\n""}]",1,919911,c9e6a1e127192ad9b50251f767215d51f1c4f09e,6,1,2,15343,,,0,"obj: Have handoff_delete reduce replication to handoffs

Suppose you've got a full cluster. Some time after bringing in more
hardware and setting handoff_delete=1 and handoffs_first=true but
before you're all the way out of the woods, you notice one of the
partitions has one primary on fresh hardware and at least one primary
with a full disk.

The fresh-hardware primary should have few if any handoffs; as a
result, it goes back to syncing mode. For every 507 it gets back, it
finds a handoff to sync to. Those handoffs are going to try to clean
that up as quick as they can, and with handoff_delete=1, they only
need to sync with the fresh-hardware primary in order to delete --
all we've done is waste some rsync connections and network bandwidth,
and the fresh-hardware primary will try to do it again.

Now, only be willing to sync to at most handoff_delete-1 handoffs.
This respects the operator's stated willingness to tolerate reduced
durability for the sake of faster replication and ensures that no
handoff should receive a bunch of data just to immediately delete
it the next chance it gets.

Note that the intentionally-create-handoffs behavior can now be
disabled entirely via handoff_delete = 1.

Change-Id: I4bbd28a4c8554cba742a68028ad1aa24d897146f
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/919911/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py']",2,037afd12b0a0982d6eb85db26f06c95347c3f7ac,," def test_update_with_handoff_delete( self, mock_do_listdir, mock_http, mock_tpool_execute): def set_default(self): self.replicator.suffix_count = 0 self.replicator.suffix_sync = 0 self.replicator.suffix_hash = 0 self.replicator.last_replication_count = 0 self.replicator._zero_stats() self.replicator.partition_times = [] # operator says to accept reduced durability to keep rebalance moving self.replicator.handoff_delete = 2 self.headers = {'Content-Length': '0', 'user-agent': 'object-replicator %s' % os.getpid()} mock_tpool_execute.return_value = (0, {}) all_jobs = self.replicator.collect_jobs() jobs = [job for job in all_jobs if not job['delete']] good_resp = mock.MagicMock() good_resp.status = 200 good_resp.read.return_value = pickle.dumps({}) bad_resp = mock.MagicMock() bad_resp.status = 507 mock_http.return_value = answer = mock.MagicMock() expected_listdir_calls = [ mock.call(int(job['partition']), self.replicator.replication_cycle) for job in jobs] do_listdir_results = [False, False, True, False, True, False] mock_do_listdir.side_effect = do_listdir_results expected_tpool_calls = [ mock.call(self.replicator._df_router[job['policy']]._get_hashes, job['device'], job['partition'], job['policy'], do_listdir=do_listdir) for job, do_listdir in zip(jobs, do_listdir_results) ] for job in jobs: set_default(self) answer.getresponse.side_effect = [good_resp, bad_resp] ring = job['policy'].object_ring self.headers['X-Backend-Storage-Policy-Index'] = int(job['policy']) self.replicator.update(job) error_lines = self.logger.get_lines_for_level('error') expected = [] error = '%s responded as unmounted' # Just the primaries for node in job['nodes'][1:]: node_str = utils.node_to_string(node, replication=True) expected.append(error % node_str) # Never goes to handoffs self.assertEqual(expected, error_lines) self.assertEqual(len(self.replicator.partition_times), 1) self.assertEqual(mock_http.call_count, len(job['nodes'])) reqs = [] for node in job['nodes']: reqs.append(mock.call(node['ip'], node['port'], node['device'], job['partition'], 'REPLICATE', '', headers=self.headers)) if job['partition'] == '0': self.assertEqual(self.replicator.suffix_hash, 0) mock_http.assert_has_calls(reqs, any_order=True) mock_http.reset_mock() self.logger.clear() mock_do_listdir.assert_has_calls(expected_listdir_calls) mock_tpool_execute.assert_has_calls(expected_tpool_calls) mock_do_listdir.side_effect = None mock_do_listdir.return_value = False for job in jobs: set_default(self) answer.getresponse.side_effect = [bad_resp, bad_resp, good_resp] ring = job['policy'].object_ring self.headers['X-Backend-Storage-Policy-Index'] = int(job['policy']) self.replicator.update(job) error_lines = self.logger.get_lines_for_level('error') expected = [] error = '%s responded as unmounted' # Just the primaries for node in job['nodes']: node_str = utils.node_to_string(node, replication=True) expected.append(error % node_str) self.assertEqual(expected, error_lines) self.assertEqual(len(self.replicator.partition_times), 1) # Goes to only one handoff self.assertEqual(mock_http.call_count, len(job['nodes']) + 1) reqs = [] for node in job['nodes']: reqs.append(mock.call(node['ip'], node['port'], node['device'], job['partition'], 'REPLICATE', '', headers=self.headers)) if job['partition'] == '0': self.assertEqual(self.replicator.suffix_hash, 0) mock_http.assert_has_calls(reqs, any_order=True) mock_http.reset_mock() self.logger.clear() mock_do_listdir.assert_has_calls(expected_listdir_calls) mock_tpool_execute.assert_has_calls(expected_tpool_calls) @mock.patch('swift.obj.replicator.tpool.execute') @mock.patch('swift.obj.replicator.http_connect', autospec=True) @mock.patch('swift.obj.replicator._do_listdir')",,118,1
openstack%2Fcinder~789603,openstack/cinder,master,I2414e521eb0b4ce48b41dfe4d305e002e8de8f40,Validate fields in encryption spec create/update,NEW,2021-05-04 16:21:36.000000000,2024-05-17 16:01:29.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30092}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-05-04 16:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6113b8da3c119d9310373e264e198d86e37ae716', 'message': 'Validate cipher in encryption spec\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 2, 'created': '2021-05-04 17:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06c591555f4af599e2143211e261bcc096b1884d', 'message': 'Validate cipher in encryption spec\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 3, 'created': '2021-05-11 15:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0334b47c4039692e51af3c3929dd75bc86ee6b53', 'message': 'Validate cipher in encryption spec\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 4, 'created': '2021-05-11 15:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1223e817457a3507e3929c9630627bed1385a63c', 'message': 'Validate cipher in encryption spec\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 5, 'created': '2021-05-11 18:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7506cdf978eb006625a8a97bea3d152c5c18c33', 'message': 'Validate cipher in encryption spec\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 6, 'created': '2021-05-12 14:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2030cbc5bc33714730d3cee3bb795d0b752cc50', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 7, 'created': '2021-06-07 14:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4349506465f379af9e19b09eab7d95187a12540c', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 8, 'created': '2021-06-07 16:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/713bbb5bd0788e9c579a5ce568e4dc2f271cf3ff', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 9, 'created': '2021-06-09 14:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99a493944cc3cbef94c546d61f695c81ad09b5ea', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.  This change introduces a\nminimum key size of 128 bits for encrypted volume types.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 10, 'created': '2021-06-10 16:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/912dc2306f55ccaa88a6b8e643713a342c967d87', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.  This change introduces a\nminimum key size of 128 bits for encrypted volume types.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 11, 'created': '2021-07-08 12:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/990ab3e3dad8ad82cd4aa113654335a56dc7f62a', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis change introduces a minimum key size of 128 bits for\nencrypted volume types.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 12, 'created': '2021-07-15 15:01:47.000000000', 'files': ['api-ref/source/v2/samples/encryption-type-update-response.json', 'releasenotes/notes/validate-encryption-spec-fields-fe6f61bc74aa8139.yaml', 'cinder/tests/unit/policies/test_volume_type.py', 'cinder/tests/functional/api_sample_tests/samples/volume_type/encryption-type-update-request.json.tpl', 'cinder/tests/unit/api/contrib/test_volume_type_encryption.py', 'api-ref/source/v2/samples/encryption-type-update-request.json', 'cinder/api/contrib/volume_type_encryption.py', 'cinder/tests/functional/api_sample_tests/samples/volume_type/encryption-type-update-response.json.tpl', 'api-ref/source/v3/samples/volume_type/encryption-type-update-response.json', 'api-ref/source/v3/samples/volume_type/encryption-type-update-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d7142711b2301e3aecba3205610062dc124d311', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis change introduces a minimum key size of 128 bits for\nencrypted volume types.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}]",15,789603,5d7142711b2301e3aecba3205610062dc124d311,221,7,12,4523,,,0,"Validate fields in encryption spec create/update

When the cipher is None or an empty string (allowed by
our standard CLI clients), reject the encryption
type creation immediately, since the encryption spec is
invalid and will not be able to be used to create volumes.

Similarly, reject encryption cipher fields that don't
take the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead
of the correct ""aes-xts-plain64"".

Before this change, such invalid cipher fields in encryption
specs would be accepted by the API, but volume creation would
fail later with various errors.

This change introduces a minimum key size of 128 bits for
encrypted volume types.

Closes-Bug: #1926630 (2/2)
Change-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/789603/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_volume_type_encryption.py', 'cinder/api/contrib/volume_type_encryption.py']",2,6113b8da3c119d9310373e264e198d86e37ae716,bug/1926630,"from oslo_log import logLOG = log.getLogger(__name__) cipher = body['encryption'].get('cipher') if cipher in (None, """"): expl = _('Encryption cipher must be specified.') raise webob.exc.HTTPBadRequest(explanation=expl) if len(cipher.split('-')) != 3: LOG.info('Encryption cipher \""%s\"" is invalid, ' 'must contain three dash-separated items.', cipher) expl = _('Encryption cipher is invalid.') raise webob.exc.HTTPBadRequest(explanation=expl) ",,34,6
openstack%2Fbarbican~907593,openstack/barbican,master,I77853c2a1b3a12b62db6100c8537ae35cf94b99e,tox: Drop envdir,MERGED,2024-02-02 14:45:10.000000000,2024-05-17 15:57:45.000000000,2024-05-17 15:56:11.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-02 14:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/dd4404644cd4d553d9f599762476f77d3e39980e', 'message': ""tox: Drop envdir\n\ntox now always recreates an env although the env is shared using envdir\noptions.\n~~~\n$ tox -e genpolicy\ngenpolicy: recreate env because env type changed from\n{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to\n{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}\n~~~\n\nAccording to the maintainer of tox, this functionality is not intended\nto be supported.\nhttps://github.com/tox-dev/tox/issues/425#issuecomment-1011944293\n\nChange-Id: I77853c2a1b3a12b62db6100c8537ae35cf94b99e\n""}, {'number': 2, 'created': '2024-02-05 13:10:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/03234a9dbae24ab142d3faa6447f19c8d621df39', 'message': ""tox: Drop envdir\n\ntox now always recreates an env although the env is shared using envdir\noptions.\n~~~\n$ tox -e genpolicy\ngenpolicy: recreate env because env type changed from\n{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to\n{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}\n~~~\n\nAccording to the maintainer of tox, this functionality is not intended\nto be supported.\nhttps://github.com/tox-dev/tox/issues/425#issuecomment-1011944293\n\nChange-Id: I77853c2a1b3a12b62db6100c8537ae35cf94b99e\n""}]",0,907593,03234a9dbae24ab142d3faa6447f19c8d621df39,10,4,2,9816,,,0,"tox: Drop envdir

tox now always recreates an env although the env is shared using envdir
options.
~~~
$ tox -e genpolicy
genpolicy: recreate env because env type changed from
{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to
{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}
~~~

According to the maintainer of tox, this functionality is not intended
to be supported.
https://github.com/tox-dev/tox/issues/425#issuecomment-1011944293

Change-Id: I77853c2a1b3a12b62db6100c8537ae35cf94b99e
",git fetch https://review.opendev.org/openstack/barbican refs/changes/93/907593/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dd4404644cd4d553d9f599762476f77d3e39980e,tox-envdir,,allowlist_externals = bash envdir = {toxworkdir}/pep8envdir = {toxworkdir}/pep8,0,3
openstack%2Fovn-octavia-provider~917719,openstack/ovn-octavia-provider,stable/2024.1,I9ff255c110774590f53811162572eef596ff9a04,Adding isolation to functional tests,MERGED,2024-04-30 14:48:25.000000000,2024-05-17 15:55:07.000000000,2024-05-17 15:54:01.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2024-04-30 14:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c2699d498e468e219125ef5458445f85ba866f5f', 'message': ""Adding isolation to functional tests\n\nDue to some events received among different tests in the\nsame worker, this patch add '--isolated' tag to stestr\nto run every test on a unique worker and in a different stestr\nprocess.\n\nCloses-Bug: #2058400\n\nChange-Id: I9ff255c110774590f53811162572eef596ff9a04\n(cherry picked from commit 8d3e5c7ed3064abac33d152ed74e2f0427d4e676)\n""}, {'number': 2, 'created': '2024-05-17 13:21:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c68129ce529b116f9fdab3c57d6f2f41f5dc91c3', 'message': ""Adding isolation to functional tests\n\nDue to some events received among different tests in the\nsame worker, this patch add '--isolated' tag to stestr\nto run every test on a unique worker and in a different stestr\nprocess.\n\nCloses-Bug: #2058400\n\nChange-Id: I9ff255c110774590f53811162572eef596ff9a04\n(cherry picked from commit 8d3e5c7ed3064abac33d152ed74e2f0427d4e676)\n""}]",0,917719,c68129ce529b116f9fdab3c57d6f2f41f5dc91c3,14,4,2,34451,,,0,"Adding isolation to functional tests

Due to some events received among different tests in the
same worker, this patch add '--isolated' tag to stestr
to run every test on a unique worker and in a different stestr
process.

Closes-Bug: #2058400

Change-Id: I9ff255c110774590f53811162572eef596ff9a04
(cherry picked from commit 8d3e5c7ed3064abac33d152ed74e2f0427d4e676)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/19/917719/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c2699d498e468e219125ef5458445f85ba866f5f,, stestr run --isolated {posargs}, stestr run {posargs},1,1
openstack%2Fswift~919637,openstack/swift,master,I318bc3ed6d665f2117fd9573d6a487b361623a72,prefactor: rework process config,NEW,2024-05-15 02:23:22.000000000,2024-05-17 15:54:08.000000000,,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 02:23:22.000000000', 'files': ['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c3ee927dc5c173a0e248056316c54584d524914d', 'message': 'prefactor: rework process config\n\nChange-Id: I318bc3ed6d665f2117fd9573d6a487b361623a72\n'}]",20,919637,c3ee927dc5c173a0e248056316c54584d524914d,6,3,1,1179,,,0,"prefactor: rework process config

Change-Id: I318bc3ed6d665f2117fd9573d6a487b361623a72
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/919637/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py']",2,c3ee927dc5c173a0e248056316c54584d524914d,parallel-task-iter," self.expiring_objects_account = AUTO_CREATE_ACCOUNT_PREFIX + \ (self.conf.get('expiring_objects_account_name') or 'expiring_objects') self.set_process_values(**conf) # Only one expirer daemon assigned for each task # these config values are available to override at the command line, # blow-up now if they're wrong self.set_process_values(**kwargs) # these config values are available to override at the command line, # blow-up now if they're wrong self.set_process_values(**kwargs) def set_process_values(self, **kwargs): self.processes = getattr(self, 'processes', 0) self.process = getattr(self, 'process', 0)"," self.expiring_objects_account = AUTO_CREATE_ACCOUNT_PREFIX + \ (self.conf.get('expiring_objects_account_name') or 'expiring_objects') self.processes = int(self.conf.get('processes', 0)) self.process = int(self.conf.get('process', 0)) # Only one expirer daemon assigned for one task self.get_process_values(kwargs) def get_process_values(self, kwargs):",30,30
openstack%2Fcinder~657543,openstack/cinder,master,I5c6065d99116ae5f223799e8558d25777aedd055,Speed up starting cinder-backup,NEW,2019-05-07 08:27:30.000000000,2024-05-17 15:47:06.000000000,,"[{'_account_id': 597}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29568}, {'_account_id': 29637}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30382}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-05-07 08:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb01b6ca657dbd0fe41ebf2cfe106559257ffe03', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups form cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 2, 'created': '2019-05-17 08:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ae43587be0d5e9c28cd05ed3f4f2e1d863655f7', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups form cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 3, 'created': '2019-07-24 08:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a450c960e07c1ced5d87b5eb8d87781aff573a4a', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups form cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 4, 'created': '2019-07-24 08:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69cdf18318f69422a6c1cbef30d7abaf95ebf737', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups form cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 5, 'created': '2019-09-11 10:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3523d1d503ccd65a745e28ad86aa24be7495d02e', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups form cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 6, 'created': '2019-09-11 10:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/80973afaa9a930987305b19ba48ca394c691edcc', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups form cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 7, 'created': '2019-09-11 10:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31ebeb6342734d778b1fde372896be8ea8429078', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 8, 'created': '2019-09-11 10:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/015a54e4fa746599676ae24c739ad2c173531f69', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 9, 'created': '2019-09-11 12:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c4f8d64a37ca764bd5e24c41efa504ff4d9d644', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 10, 'created': '2019-11-12 09:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8018a9810b912eaf518ad7808e12f5ac5b50af51', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 11, 'created': '2019-11-20 08:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/302095741a9ad204228112a895f52cf6cc1b96ae', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 12, 'created': '2023-11-02 04:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/130304b6d77ae6113d805856ed27035d8dbd1791', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 13, 'created': '2024-01-19 05:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/11fd227bf441f61617deca2535f0373bc311ac1e', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 14, 'created': '2024-02-01 04:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa224f3fda5f67bf028c1febe8418d3c4a27f1ad', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 15, 'created': '2024-02-03 05:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/280d14e6d97298b328844e1cf61bc58d6ab9a6ef', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 16, 'created': '2024-02-08 00:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52d35f93aa3acb26e86f3467840354ad99ea1711', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 17, 'created': '2024-02-16 00:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b52eb917b4150e68e1a3d83b2374d017e7addaa9', 'message': 'Speed up starting cinder-backup\n\nWhen start/restart cinder-backup, we will get all backups from cinder\nDB and then check the status in the for loop. It will take a long time\nwhen the backups in a huge amount. Now we just get all incomplete\nbackups what we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}, {'number': 18, 'created': '2024-04-19 22:07:18.000000000', 'files': ['cinder/backup/manager.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/db/sqlalchemy/api.py', 'releasenotes/notes/speed-up-starting-cinder-backup-76c1618b4cdb9d6e.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7bd72aca32ff3f52c92e7f107921a6a33d64abf1', 'message': 'Speed up starting cinder-backup\n\nWhen cinder-backup is started, we get all backups from cinder DB\nand then check the status in a for loop. It takes a long time\nwhen a large number of backups exists. With this change, we only\nget incomplete backups that we really need to do the job with.\n\nChange-Id: I5c6065d99116ae5f223799e8558d25777aedd055\n'}]",70,657543,7bd72aca32ff3f52c92e7f107921a6a33d64abf1,347,48,18,25837,,,0,"Speed up starting cinder-backup

When cinder-backup is started, we get all backups from cinder DB
and then check the status in a for loop. It takes a long time
when a large number of backups exists. With this change, we only
get incomplete backups that we really need to do the job with.

Change-Id: I5c6065d99116ae5f223799e8558d25777aedd055
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/657543/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/manager.py', 'cinder/db/sqlalchemy/api.py']",2,cb01b6ca657dbd0fe41ebf2cfe106559257ffe03,optimize_backup_get," elif isinstance(value, (list, tuple, set, frozenset)): # Looking for values in a list; apply to query directly. column_attr = getattr(models.Backup, key) query = query.filter(column_attr.in_(value))",,9,1
openstack%2Fbarbican~917979,openstack/barbican,master,I980e11e5a00e52da20835d73b6f9a2dc8f347057,reno: Update master for unmaintained/zed,NEW,2024-05-02 14:37:19.000000000,2024-05-17 15:44:01.000000000,,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-02 14:37:19.000000000', 'files': ['releasenotes/source/zed.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/413939cd993ffc44af68bbba17a9e0755dcd7398', 'message': 'reno: Update master for unmaintained/zed\n\nUpdate the zed release notes configuration to build from\nunmaintained/zed.\n\nChange-Id: I980e11e5a00e52da20835d73b6f9a2dc8f347057\n'}]",0,917979,413939cd993ffc44af68bbba17a9e0755dcd7398,3,2,1,22816,,,0,"reno: Update master for unmaintained/zed

Update the zed release notes configuration to build from
unmaintained/zed.

Change-Id: I980e11e5a00e52da20835d73b6f9a2dc8f347057
",git fetch https://review.opendev.org/openstack/barbican refs/changes/79/917979/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/zed.rst'],1,413939cd993ffc44af68bbba17a9e0755dcd7398,reno-eom-zed, :branch: unmaintained/zed, :branch: stable/zed,1,1
openstack%2Fpython-vitrageclient~919945,openstack/python-vitrageclient,master,I0b1e6585d2ff68a621c82930f9627801ff2766df,Support networkx 3.x,MERGED,2024-05-17 12:09:59.000000000,2024-05-17 15:40:45.000000000,2024-05-17 15:39:49.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-17 12:09:59.000000000', 'files': ['vitrageclient/common/formatters.py'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/e3ad06efb6d78263dd421549ec0f14161f91c326', 'message': ""Support networkx 3.x\n\nWithout this patch, there's 2 unit tests failing.\n\nChange-Id: I0b1e6585d2ff68a621c82930f9627801ff2766df\n""}]",0,919945,e3ad06efb6d78263dd421549ec0f14161f91c326,7,2,1,6476,,,0,"Support networkx 3.x

Without this patch, there's 2 unit tests failing.

Change-Id: I0b1e6585d2ff68a621c82930f9627801ff2766df
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/45/919945/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrageclient/common/formatters.py'],1,e3ad06efb6d78263dd421549ec0f14161f91c326,," if nx.__version__ >= '3.0': graph = json_graph.node_link_graph( data, name='graph_index') elif nx.__version__ >= '2.0':", if nx.__version__ >= '2.0':,4,1
openstack%2Fpuppet-openstack-integration~919912,openstack/puppet-openstack-integration,master,Ieab90d12fb26753e74c2b8c89eaaaa95000cb581,Updated from Puppet OpenStack modules constraints,MERGED,2024-05-17 02:10:04.000000000,2024-05-17 15:38:12.000000000,2024-05-17 15:38:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 02:10:04.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eb393e178935b5aa0d72027e41e8b59fa8e49db2', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ieab90d12fb26753e74c2b8c89eaaaa95000cb581\n'}]",0,919912,eb393e178935b5aa0d72027e41e8b59fa8e49db2,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ieab90d12fb26753e74c2b8c89eaaaa95000cb581
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/12/919912/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,eb393e178935b5aa0d72027e41e8b59fa8e49db2,openstack/puppet/constraints, :ref => '10.4.0', :ref => '10.3.0',1,1
openstack%2Fcinder~484729,openstack/cinder,master,I4ca4fd0dc3c294ebead069c5bb93e869b417439e,Optimize getting parent backup for new incremental,NEW,2017-07-18 11:30:50.000000000,2024-05-17 15:37:11.000000000,,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16137}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19138}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2017-07-18 11:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e898ed56036a7079f993206e9afe37af71b768a7', 'message': ""Added filters while fetching backups from DB for incremental\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries gets fetched from DB to search for the one\nto use in incremental.\n\nNow, only required one would be fetched after adding sort_keys='created_at'\nand limit=1.\n\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n""}, {'number': 2, 'created': '2017-07-19 07:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e110722ac4c60ee8fe8041f5e399c2a8c5df2d5', 'message': ""Added filters while fetching backups from DB for incremental\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries gets fetched from DB to search for the one\nto use in incremental.\n\nNow, only required one would be fetched after adding sort_keys='created_at'\nand limit=1.\n\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n""}, {'number': 3, 'created': '2017-07-24 11:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8bb46f918a785d9a7aa43f15671964de648af37a', 'message': ""Added filters while fetching backups from DB for incremental\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries gets fetched from DB to search for the one\nto use in incremental.\n\nNow, only required one would be fetched after adding sort_keys='created_at'\nand limit=1.\n\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n""}, {'number': 4, 'created': '2017-07-24 11:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f823706d990d3f2263fb9f545c9c116581475fb3', 'message': ""Added filters while fetching backups from DB for incremental\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries get fetched from DB to search for the one\nto use in incremental.\n\nNow, only required one would be fetched after adding sort_keys='created_at'\nand limit=1.\n\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n""}, {'number': 5, 'created': '2018-04-14 17:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/574ab5b68599e81e7e81a3cbba0eb733bb153796', 'message': ""Added filters while fetching backups from DB for incremental\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries get fetched from DB to search for the one\nto use in incremental.\n\nNow, only required one would be fetched after adding sort_keys='created_at'\nand limit=1.\n\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n""}, {'number': 6, 'created': '2019-04-15 21:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb1334a9815262e79f75f07503ac3ff1d90bdcdc', 'message': ""Filters fetching backups for incremental backup\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries get fetched from DB to search for the one\nto use in incremental.\n\nNow, only required one would be fetched after adding sort_keys='created_at'\nand limit=1.\n\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n""}, {'number': 7, 'created': '2019-04-16 13:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6048217d70342ca5c129535a355e7f0effe36e80', 'message': ""Filters fetching backups for incremental backup\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries get fetched from DB to search for the one\nto use in incremental.\n\nNow, only required one would be fetched after adding sort_keys='created_at'\nand limit=1.\n\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n""}, {'number': 8, 'created': '2024-01-29 11:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2817cbf23d85c29995c02bcd80af9d979f61245', 'message': ""Filters fetching parent backup for incremental backup\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries get fetched from DB to search for the one\nto use in incremental.\n\nNow, only required one would be fetched after adding sort_keys='created_at'\nand limit=1.\n\nAdditionally the handling of incremental backups of snapshots is also\nmoved to the DB query, removing the former loop and filterin in code.\n\nCo-Authored-by: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n""}, {'number': 9, 'created': '2024-01-29 13:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/efcf7895798f2da6a8566d7dd4640892413cf102', 'message': ""Filters fetching parent backup for incremental backup\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries get fetched from DB to search for the one\nto use in incremental.\n\nNow, only required one would be fetched after adding sort_keys='created_at'\nand limit=1.\n\nAdditionally the handling of incremental backups of snapshots is also\nmoved to the DB query, removing the former loop and filterin in code.\n\nCo-Authored-by: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n""}, {'number': 10, 'created': '2024-01-30 16:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a59889d055b82a4723c54d90a172483b16bddba', 'message': ""Filters fetching parent backup for incremental backup\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries get fetched from DB to search for the one\nto use in incremental.\n\nNow, only required one would be fetched after adding sort_keys='created_at'\nand limit=1.\n\nAdditionally the handling of incremental backups of snapshots is also\nmoved to the DB query, removing the former loop and filterin in code.\n\nCo-Authored-by: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n""}, {'number': 11, 'created': '2024-02-07 13:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56ebbfb5fabde2e330f11d16770efd2b6ed5aea7', 'message': 'DNM: Filters fetching parent backup for incremental backup\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries get fetched from DB to search for the one\nto use in incremental.\n\nNow a single DB query is utilized to find one most suitable parent\nand limit=1.\n\nCo-Authored-by: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n'}, {'number': 12, 'created': '2024-02-07 16:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7d39a1f495b36d83c7d4b8bddb6bfba569ab5f4', 'message': 'Optimize fetching the parent backup for a new incremental\n\nIn create method of backup, while doing an incremental backup all\nexisting backup entries where fetched from DB to then search for the\none to use as parent for a new incremental.\n\nThis change introduces a new method utilizing a single DB query to\nfind the right parent (if one exists).\n\nCo-Authored-by: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n'}, {'number': 13, 'created': '2024-02-08 08:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1349845952ad8228febc817978c1fce9c02775a1', 'message': 'Optimize fetching the parent backup for a new incremental\n\nWhen creating an incremental backup all existing backup entries where fetched\nfrom the DB to then search this potentially large list for the one to use as\nparent.\n\nThis change introduces a new method utilizing a single DB query to\nfind the single best parent (if one exists).\n\nCo-Authored-by: PranaliD <pdeore@redhat.com>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n'}, {'number': 14, 'created': '2024-02-08 08:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/440bade7a3912a62d89173f35d4098cba3bc7f43', 'message': 'Optimize getting parent backup for new incremental\n\nWhen creating an incremental backup all existing backup entries where fetched\nfrom the DB to then search this potentially large list for the one to use as\nparent.\n\nThis change introduces a new method utilizing a single DB query to\nfind the single best parent (if one exists).\n\nCo-Authored-by: PranaliD <pdeore@redhat.com>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n'}, {'number': 15, 'created': '2024-02-14 13:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b501817376f000b814d5d4dea38b47d48ea18fba', 'message': 'Optimize getting parent backup for new incremental\n\nWhen creating an incremental backup all existing backup entries where fetched\nfrom the DB to then search this potentially large list for the one to use as\nparent.\n\nThis change introduces a new method utilizing a single DB query to\nfind the single best parent (if one exists).\n\nCo-Authored-by: PranaliD <pdeore@redhat.com>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n'}, {'number': 16, 'created': '2024-02-19 13:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4e46ba5745ebefd3d2092686069e412eac222fa', 'message': 'Optimize getting parent backup for new incremental\n\nWhen creating an incremental backup all existing backup entries where fetched\nfrom the DB to then search this potentially large list for the one to use as\nparent.\n\nThis change introduces a new method utilizing a single DB query to\nfind the single best parent (if one exists).\n\nCo-Authored-by: PranaliD <pdeore@redhat.com>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n'}, {'number': 17, 'created': '2024-04-12 14:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d9b6bf0846531e190c0f4f8758cdf62686e27db', 'message': 'Optimize getting parent backup for new incremental\n\nWhen creating an incremental backup all existing backup entries where fetched\nfrom the DB to then search this potentially large list for the one to use as\nparent.\n\nThis change introduces a new method utilizing a single DB query to\nfind the single best parent (if one exists).\n\nCo-Authored-by: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n'}, {'number': 18, 'created': '2024-04-12 14:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff403a1b9119dce47bf4dfcfa6882be2d7d8db80', 'message': 'Optimize getting parent backup for new incremental\n\nWhen creating an incremental backup all existing backup entries where fetched\nfrom the DB to then search this potentially large list for the one to use as\nparent.\n\nThis change introduces a new method utilizing a single DB query to\nfind the single best parent (if one exists).\n\nCo-Authored-by: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n'}, {'number': 19, 'created': '2024-04-16 08:16:41.000000000', 'files': ['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/tests/unit/test_db_api.py', 'cinder/backup/api.py', 'releasenotes/notes/bug1696715-dfb21549c4238b88.yaml', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f34bcabd4e6e6155e06e3d6e357263269fed6fbc', 'message': 'Optimize getting parent backup for new incremental\n\nWhen creating an incremental backup all existing backup entries were fetched\nfrom the DB to then search this potentially large list for the one to use as\nparent.\n\nThis change introduces a new method utilizing a single DB query to\nfind the single best parent (if one exists).\n\nCo-Authored-by: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e\nCloses-Bug: 1696715\n'}]",67,484729,f34bcabd4e6e6155e06e3d6e357263269fed6fbc,352,55,19,19138,,,0,"Optimize getting parent backup for new incremental

When creating an incremental backup all existing backup entries were fetched
from the DB to then search this potentially large list for the one to use as
parent.

This change introduces a new method utilizing a single DB query to
find the single best parent (if one exists).

Co-Authored-by: Christian Rohmann <christian.rohmann@inovex.de>
Change-Id: I4ca4fd0dc3c294ebead069c5bb93e869b417439e
Closes-Bug: 1696715
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/484729/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/db/api.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py']",5,e898ed56036a7079f993206e9afe37af71b768a7,bug/1696715,"def backup_get_all_by_volume(context, volume_id, filters=None, limit=None, sort_keys=None): return _backup_get_all(context, filters, limit=limit, sort_keys=sort_keys)","def backup_get_all_by_volume(context, volume_id, filters=None): return _backup_get_all(context, filters)",17,9
openstack%2Fbarbican~913376,openstack/barbican,master,I8a40137134b73808f15178b0e03144ea9233a6c0,Update master for stable/2024.1,MERGED,2024-03-15 14:33:06.000000000,2024-05-17 15:35:06.000000000,2024-05-17 15:33:53.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-15 14:33:06.000000000', 'files': ['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/8ce12d4ec55e949486af77c6de16526378089ddf', 'message': 'Update master for stable/2024.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2024.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2024.1.\n\nSem-Ver: feature\nChange-Id: I8a40137134b73808f15178b0e03144ea9233a6c0\n'}]",1,913376,8ce12d4ec55e949486af77c6de16526378089ddf,9,4,1,22816,,,0,"Update master for stable/2024.1

Add file to the reno documentation build to show release notes for
stable/2024.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2024.1.

Sem-Ver: feature
Change-Id: I8a40137134b73808f15178b0e03144ea9233a6c0
",git fetch https://review.opendev.org/openstack/barbican refs/changes/76/913376/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst']",2,8ce12d4ec55e949486af77c6de16526378089ddf,reno-2024.1, 2024.1,,7,0
openstack%2Fpuppet-openstack-integration~919863,openstack/puppet-openstack-integration,stable/2024.1,I4cb520c7250d0920f677c6411a493859bbf2a0ae,Ubuntu: Switch back to official repository,MERGED,2024-05-16 23:00:10.000000000,2024-05-17 15:32:06.000000000,2024-05-17 15:32:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 23:00:10.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9e98a441b3c59d61ae377bbdf3c8d0cd15c475b1', 'message': ""Ubuntu: Switch back to official repository\n\nWe replaced the ceph official repository by UCA because the official\nrepository didn't provide packages for jammy but now the packages\nfor jammy are available.\n\nChange-Id: I4cb520c7250d0920f677c6411a493859bbf2a0ae\n(cherry picked from commit b2aaa0db1d578991b95806fb08ee7d2839f34f00)\n""}]",0,919863,9e98a441b3c59d61ae377bbdf3c8d0cd15c475b1,7,3,1,9816,,,0,"Ubuntu: Switch back to official repository

We replaced the ceph official repository by UCA because the official
repository didn't provide packages for jammy but now the packages
for jammy are available.

Change-Id: I4cb520c7250d0920f677c6411a493859bbf2a0ae
(cherry picked from commit b2aaa0db1d578991b95806fb08ee7d2839f34f00)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/63/919863/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,9e98a441b3c59d61ae377bbdf3c8d0cd15c475b1,," # Ceph is both packaged on UCA and official download.ceph.com packages # which we mirror. We want to use the official packages or our mirror. if $ceph_mirror !~ '^http://download.ceph.com/.*' { $ceph_version_cap = capitalize($ceph_version_real) apt::pin { 'ceph': priority => 1001, originator => ""Ceph ${ceph_version_cap}"", } } else { apt::pin { 'ceph': priority => 1001, origin => 'download.ceph.com', class { 'ceph::repo': enable_sig => $enable_sig, enable_epel => $enable_epel, ceph_mirror => $ceph_mirror,"," if $facts['os']['name'] == 'Ubuntu' and versioncmp($facts['os']['release']['major'], '22') >= 0 { # NOTE(tkajinam): Upstream ceph repository does not provide packages for # Ubuntu Jammy, so we use packages from UCA. $enable_ceph_repository = false } else { $enable_ceph_repository = true } if $enable_ceph_repository { # Ceph is both packaged on UCA and official download.ceph.com packages # which we mirror. We want to use the official packages or our mirror. if $ceph_mirror !~ '^http://download.ceph.com/.*' { $ceph_version_cap = capitalize($ceph_version_real) apt::pin { 'ceph': priority => 1001, originator => ""Ceph ${ceph_version_cap}"", } } else { apt::pin { 'ceph': priority => 1001, origin => 'download.ceph.com', } if $enable_ceph_repository { class { 'ceph::repo': enable_sig => $enable_sig, enable_epel => $enable_epel, ceph_mirror => $ceph_mirror, }",16,28
openstack%2Fbarbican-specs~882255,openstack/barbican-specs,master,I7ac3d0bd3eabbf1c23a5060b9f91b8a6c44336be,setup.cfg: Replace dashes with underscores,MERGED,2023-05-05 05:58:10.000000000,2024-05-17 15:29:28.000000000,2024-05-17 15:28:29.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2023-05-05 05:58:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/7f6525a0bb9a26bc6ae9b217c0a63bbd203c7606', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7ac3d0bd3eabbf1c23a5060b9f91b8a6c44336be\n""}]",0,882255,7f6525a0bb9a26bc6ae9b217c0a63bbd203c7606,10,5,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7ac3d0bd3eabbf1c23a5060b9f91b8a6c44336be
",git fetch https://review.opendev.org/openstack/barbican-specs refs/changes/55/882255/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7f6525a0bb9a26bc6ae9b217c0a63bbd203c7606,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/barbican-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/barbican-specs/,3,3
openstack%2Fnova~919949,openstack/nova,master,I6bf1189c178085df010d9dad15f3e10fc534574c,libvirt: Filter out disabled guest CPU features in _get_cpu_feature_traits(),NEW,2024-05-17 13:13:29.000000000,2024-05-17 15:25:25.000000000,,"[{'_account_id': 6962}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 13:13:29.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3e9dfbedeac842c9c543f75126902534131dbeb3', 'message': ""libvirt: Filter out disabled guest CPU features in _get_cpu_feature_traits()\n\nCurrently, `_get_cpu_feature_traits()` considers all `cpu.features`\nas enabled, but some may be disabled in `cpu_model_extra_flags` [1].\n\nThis seems like false-positive traits (enabled w/ feature disabled).\n\nSo, filter out disabled features, like LibvirtConfigCPU.parse_dom().\n\nP.S.: the `caps.host.cpu.features` are already filtered out, since\n`Host.get_capabilities()` calls `LibvirtConfigObject.parse_str()`,\nwhich calls `LibvirtConfigCPU.parse_dom()` mentioned above.\n\nTests:\n-----\n\n`test_cpu_traits_with_mode_{passthrough,custom,not_set}_and_extra_flags`\nreproduce the problem with a disabled feature (e.g., add '-AVX' to list):\n\t```\n\t{0} ...test_cpu_traits_with_mode_not_set_and_extra_flags ... FAILED\n\t...\n\tExpected: cpu_features_to_traits(ItemsMatcher(['pcid', 'erms']))\n\tActual: cpu_features_to_traits({'erms', 'pcid', 'avx'})\n\n\t{2} ...test_cpu_traits_with_mode_custom_and_extra_flags ... FAILED\n\t...\n\tExpected: cpu_features_to_traits(ItemsMatcher(['pcid', 'erms']))\n\tActual: cpu_features_to_traits({'pcid', 'erms', 'avx'})\n\n\t{1} ...test_cpu_traits_with_mode_passthrough_and_extra_flags ... FAILED\n\t...\n\tExpected: cpu_features_to_traits(ItemsMatcher(['pcid', 'erms']))\n\tActual: cpu_features_to_traits({'erms', 'pcid', 'avx'})\n\t```\n\nThe 1st `if` fixes `passthrough` and `not_set`; the 2nd `if` fixes `custom`:\n\t```\n\t{0} ...test_cpu_traits_with_mode_custom_and_extra_flags ... ok\n\t{1} ...test_cpu_traits_with_mode_passthrough_and_extra_flags ... ok\n\t{2} ...test_cpu_traits_with_mode_not_set_and_extra_flags ... ok\n\t```\n\nAll unit tests with tox:\n\t```\n\t - Passed: 2941\n\t - Skipped: 2\n\t - Expected Fail: 3\n\t - Unexpected Success: 0\n\t - Failed: 0\n\t```\n\n[1] https://docs.openstack.org/nova/latest/configuration/config.html#libvirt.cpu_model_extra_flags\n\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: I6bf1189c178085df010d9dad15f3e10fc534574c\n""}]",7,919949,3e9dfbedeac842c9c543f75126902534131dbeb3,6,3,1,28621,,,0,"libvirt: Filter out disabled guest CPU features in _get_cpu_feature_traits()

Currently, `_get_cpu_feature_traits()` considers all `cpu.features`
as enabled, but some may be disabled in `cpu_model_extra_flags` [1].

This seems like false-positive traits (enabled w/ feature disabled).

So, filter out disabled features, like LibvirtConfigCPU.parse_dom().

P.S.: the `caps.host.cpu.features` are already filtered out, since
`Host.get_capabilities()` calls `LibvirtConfigObject.parse_str()`,
which calls `LibvirtConfigCPU.parse_dom()` mentioned above.

Tests:
-----

`test_cpu_traits_with_mode_{passthrough,custom,not_set}_and_extra_flags`
reproduce the problem with a disabled feature (e.g., add '-AVX' to list):
	```
	{0} ...test_cpu_traits_with_mode_not_set_and_extra_flags ... FAILED
	...
	Expected: cpu_features_to_traits(ItemsMatcher(['pcid', 'erms']))
	Actual: cpu_features_to_traits({'erms', 'pcid', 'avx'})

	{2} ...test_cpu_traits_with_mode_custom_and_extra_flags ... FAILED
	...
	Expected: cpu_features_to_traits(ItemsMatcher(['pcid', 'erms']))
	Actual: cpu_features_to_traits({'pcid', 'erms', 'avx'})

	{1} ...test_cpu_traits_with_mode_passthrough_and_extra_flags ... FAILED
	...
	Expected: cpu_features_to_traits(ItemsMatcher(['pcid', 'erms']))
	Actual: cpu_features_to_traits({'erms', 'pcid', 'avx'})
	```

The 1st `if` fixes `passthrough` and `not_set`; the 2nd `if` fixes `custom`:
	```
	{0} ...test_cpu_traits_with_mode_custom_and_extra_flags ... ok
	{1} ...test_cpu_traits_with_mode_passthrough_and_extra_flags ... ok
	{2} ...test_cpu_traits_with_mode_not_set_and_extra_flags ... ok
	```

All unit tests with tox:
	```
	 - Passed: 2941
	 - Skipped: 2
	 - Expected Fail: 3
	 - Unexpected Success: 0
	 - Failed: 0
	```

[1] https://docs.openstack.org/nova/latest/configuration/config.html#libvirt.cpu_model_extra_flags

Signed-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>
Change-Id: I6bf1189c178085df010d9dad15f3e10fc534574c
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/919949/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,3e9dfbedeac842c9c543f75126902534131dbeb3,disabled-cpu-features-enable-traits," cpu_model_extra_flags=['PCID', '-AVX'], test_utils.ItemsMatcher(['pcid', 'erms'])) # not avx (disabled) cpu_model_extra_flags=['PCID', '-AVX'], test_utils.ItemsMatcher(['pcid', 'erms'])) # not avx (disabled) cpu_model_extra_flags=['PCID', '-AVX'], test_utils.ItemsMatcher(['pcid', 'erms'])) # not avx (disabled)"," cpu_model_extra_flags='PCID', test_utils.ItemsMatcher(['pcid', 'erms'])) cpu_model_extra_flags='PCID', test_utils.ItemsMatcher(['pcid', 'erms'])) cpu_model_extra_flags='PCID', test_utils.ItemsMatcher(['pcid', 'erms']))",13,11
openstack%2Fswift~919636,openstack/swift,master,I551266dafb33688507196c75d98eced09e084d8b,sq: drop MAX_TASK_CONTAINER_TO_CACHE,ABANDONED,2024-05-15 02:23:22.000000000,2024-05-17 15:13:31.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2024-05-15 02:23:22.000000000', 'files': ['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/935f431bb8e49cf7f42a52c5eb035d43fbf9e50a', 'message': 'sq: drop MAX_TASK_CONTAINER_TO_CACHE\n\nChange-Id: I551266dafb33688507196c75d98eced09e084d8b\n'}]",6,919636,935f431bb8e49cf7f42a52c5eb035d43fbf9e50a,8,3,1,1179,,,0,"sq: drop MAX_TASK_CONTAINER_TO_CACHE

Change-Id: I551266dafb33688507196c75d98eced09e084d8b
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/919636/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py']",2,935f431bb8e49cf7f42a52c5eb035d43fbf9e50a,parallel-task-iter, if self.task_container_iteration_strategy == 'randomized': shuffle(container_list),"MAX_TASK_CONTAINER_TO_CACHE = 10000 N.B. When randomized_task_container_iteration is enabled, this method ""batches"" the pages of the account listings so that it can yield the task_containers in a randomized order. if self.task_container_iteration_strategy == ""legacy"": yield task_account, task_container # we never append to container_list continue if len(container_list) > MAX_TASK_CONTAINER_TO_CACHE: shuffle(container_list) for task_container in container_list: yield task_account, task_container container_list = [] shuffle(container_list)",5,27
openstack%2Fswift~919635,openstack/swift,master,I6aadbed8e9f8056be753303cf374048ff549a239,sq: strategy is randomized,ABANDONED,2024-05-15 02:23:22.000000000,2024-05-17 15:12:54.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2024-05-15 02:23:22.000000000', 'files': ['test/unit/obj/test_expirer.py', 'etc/object-expirer.conf-sample', 'swift/obj/expirer.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/014058097b89fe6bb8e89b63e10ccc4517b4e9a7', 'message': 'sq: strategy is randomized\n\nChange-Id: I6aadbed8e9f8056be753303cf374048ff549a239\n'}]",16,919635,014058097b89fe6bb8e89b63e10ccc4517b4e9a7,8,3,1,1179,,,0,"sq: strategy is randomized

Change-Id: I6aadbed8e9f8056be753303cf374048ff549a239
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/919635/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'etc/object-expirer.conf-sample', 'swift/obj/expirer.py', 'etc/object-server.conf-sample']",4,014058097b89fe6bb8e89b63e10ccc4517b4e9a7,parallel-task-iter,"# The default task container iteration strategy ""legacy"" will process all task # containers oldest to newest. N.B. this does not guarantee all *tasks* are # processed oldest to newest because of how tasks are randomly distributed into # 100 containers for each day's worth of expirations. Alternatively, the # expirer supports a task container iteration strategy ""randomized"" which seems # to help avoid longer start-up delays if using large values w/ delay_reaping # and create less hot spots listing task_containers from many processes. # task_container_iteration_strategy = legacy",# When false each cycle the expirer will process all task containers oldest to # newest; N.B. this does not guarantee all tasks are processed oldest to # newest because of how tasks are randomly distributed into 100 containers for # each day's worth of expirations. Randomized task container iteration may help # avoid longer start-up delays if using large values w/ delay_reaping or create # less hot spots listing task_containers from many processes. # randomized_task_container_iteration = false,91,34
openstack%2Fdevstack~915980,openstack/devstack,master,I67243b12435fba10a17021a4b31f54f797357d68,cinder: Enable backup_swift_service_auth,NEW,2024-04-16 10:12:50.000000000,2024-05-17 14:56:10.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-16 10:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/812ab46fdfb2682676706aa81151dbbe6c8656cd', 'message': 'cinder: Enable backup_swift_service_auth\n\nDepeneds-on: https://review.opendev.org/c/openstack/cinder/+/915979\nChange-Id: I67243b12435fba10a17021a4b31f54f797357d68\n'}, {'number': 2, 'created': '2024-04-16 13:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/64ae0c3f1379b2807f5688668de61695bed5a3a7', 'message': 'cinder: Enable backup_swift_service_auth\n\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/915979\nChange-Id: I67243b12435fba10a17021a4b31f54f797357d68\n'}, {'number': 3, 'created': '2024-04-16 13:24:44.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ddbe0a0256d2d0e76a738689b90e4982f2a51e49', 'message': 'cinder: Enable backup_swift_service_auth\n\n... to catch any regressions with the feature.\n\nRelated-Bug: #2058596\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/915979\nChange-Id: I67243b12435fba10a17021a4b31f54f797357d68\n'}]",1,915980,ddbe0a0256d2d0e76a738689b90e4982f2a51e49,6,2,3,9816,,,0,"cinder: Enable backup_swift_service_auth

... to catch any regressions with the feature.

Related-Bug: #2058596
Depends-on: https://review.opendev.org/c/openstack/cinder/+/915979
Change-Id: I67243b12435fba10a17021a4b31f54f797357d68
",git fetch https://review.opendev.org/openstack/devstack refs/changes/80/915980/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,812ab46fdfb2682676706aa81151dbbe6c8656cd,,"# user token while communicating to external RESP API's like Nova, Glance and # Swift. iniset $CINDER_CONF DEFAULT backup_swift_service_auth True",# user token while communicating to external RESP API's like Nova and Glance.,3,1
openstack%2Fcinder~902122,openstack/cinder,master,Iaaedcdaf53d327be35bb3b9f586a4188204ee23d,Make google-api-python-client optional,NEW,2023-11-29 01:22:54.000000000,2024-05-17 14:47:45.000000000,,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-29 01:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5f5889b3c3cd93c52cb744433eaa7185d748cef', 'message': 'Make google-api-python-client optional\n\nThis library is required only when gcs backup driver is used. This\nchange moves out this library from requirements to extra driver\nrequirements so that users skip installing this library and its\ndependencies when not needed.\n\nChange-Id: Iaaedcdaf53d327be35bb3b9f586a4188204ee23d\n'}, {'number': 2, 'created': '2023-11-29 01:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2428d34c35e75d4ffa6aa0bb73738475bf31fc06', 'message': 'Make google-api-python-client optional\n\nThis library is required only when gcs backup driver is used. This\nchange moves out this library from requirements to extra driver\nrequirements so that users skip installing this library and its\ndependencies when not needed.\n\nChange-Id: Iaaedcdaf53d327be35bb3b9f586a4188204ee23d\n'}, {'number': 3, 'created': '2024-02-02 02:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/700962ea9cd5bbfd8880202a4271e15848cca181', 'message': 'Make google-api-python-client optional\n\nThis library is required only when gcs backup driver is used. This\nchange moves out this library from requirements to extra driver\nrequirements so that users skip installing this library and its\ndependencies when not needed.\n\nChange-Id: Iaaedcdaf53d327be35bb3b9f586a4188204ee23d\n'}, {'number': 4, 'created': '2024-02-02 02:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10928d6257ccae493af8b8bb3fa9f28630d05dd0', 'message': 'Make google-api-python-client optional\n\nThis library is required only when gcs backup driver is used. This\nchange moves out this library from requirements to extra driver\nrequirements so that users skip installing this library and its\ndependencies when not needed.\n\nChange-Id: Iaaedcdaf53d327be35bb3b9f586a4188204ee23d\n'}, {'number': 5, 'created': '2024-02-02 02:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/320015b0eab2963e464bda44e776eecebf63a75f', 'message': 'Make google-api-python-client optional\n\nThis library is required only when gcs backup driver is used. This\nchange moves out this library from requirements to extra driver\nrequirements so that users skip installing this library and its\ndependencies when not needed.\n\nChange-Id: Iaaedcdaf53d327be35bb3b9f586a4188204ee23d\n'}, {'number': 6, 'created': '2024-02-10 11:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d516d722c854b656421f45c38fdc9060c612d2db', 'message': 'Make google-api-python-client optional\n\nThis library is required only when gcs backup driver is used. This\nchange moves out this library from requirements to extra driver\nrequirements so that users skip installing this library and its\ndependencies when not needed.\n\nChange-Id: Iaaedcdaf53d327be35bb3b9f586a4188204ee23d\n'}, {'number': 7, 'created': '2024-02-20 01:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d53b997b1f8bb97a374f94db13568dc5d48c1889', 'message': 'Make google-api-python-client optional\n\nThis library is required only when gcs backup driver is used. This\nchange moves out this library from requirements to extra driver\nrequirements so that users skip installing this library and its\ndependencies when not needed.\n\nChange-Id: Iaaedcdaf53d327be35bb3b9f586a4188204ee23d\n'}, {'number': 8, 'created': '2024-02-20 03:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/046b965d86c23d86b257d663090e7de3460b4f14', 'message': 'Make google-api-python-client optional\n\nThis library is required only when gcs backup driver is used. This\nchange moves out this library from requirements to extra driver\nrequirements so that users skip installing this library and its\ndependencies when not needed.\n\nChange-Id: Iaaedcdaf53d327be35bb3b9f586a4188204ee23d\n'}, {'number': 9, 'created': '2024-03-21 04:45:27.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'releasenotes/notes/google-api-optional-f1f9f4b105fb4934.yaml', 'cinder/backup/drivers/gcs.py', 'driver-requirements.txt', 'doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3bb434024d635a897bf33ce9b97209d0ee2bf4a9', 'message': 'Make google-api-python-client optional\n\nThis library is required only when gcs backup driver is used. This\nchange moves out this library from requirements to extra driver\nrequirements so that users skip installing this library and its\ndependencies when not needed.\n\nPartial-Bug: #2058601\nChange-Id: Iaaedcdaf53d327be35bb3b9f586a4188204ee23d\n'}]",5,902122,3bb434024d635a897bf33ce9b97209d0ee2bf4a9,125,3,9,9816,,,0,"Make google-api-python-client optional

This library is required only when gcs backup driver is used. This
change moves out this library from requirements to extra driver
requirements so that users skip installing this library and its
dependencies when not needed.

Partial-Bug: #2058601
Change-Id: Iaaedcdaf53d327be35bb3b9f586a4188204ee23d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/902122/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'cinder/backup/drivers/gcs.py', 'driver-requirements.txt', 'setup.cfg']",5,f5f5889b3c3cd93c52cb744433eaa7185d748cef,bug/2058601, google-api-python-client>=1.11.0 # Apache-2.0gcs = google-api-python-client>=1.11.0 # Apache-2.0,,8,6
openstack%2Fcinder~902104,openstack/cinder,master,Ie9846b1d18e2afca9752a5ba9ccc697f528ab8d7,Move boto3 to driver requirement,NEW,2023-11-28 17:59:00.000000000,2024-05-17 14:42:44.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-28 17:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/32bf2afcbd1b2c23b75b6cf66ef5a381a57f459a', 'message': 'Move boto3 to driver requirement\n\nThe boto3 library is currently part of the requirements but it is\nactually required only when s3 backup driver is used.\n\nRemoving the hard requirements allows us to reduce number of unused\nlibraries(eg. botocore) installed for no use.\n\nChange-Id: Ie9846b1d18e2afca9752a5ba9ccc697f528ab8d7\n'}, {'number': 2, 'created': '2023-11-28 18:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ff07ad8253d34d1a364d9aeebf443b8c4e053d4', 'message': 'Move boto3 to driver requirement\n\nThe boto3 library is currently part of the requirements but it is\nactually required only when s3 backup driver is used.\n\nRemoving the hard requirements allows us to reduce number of unused\nlibraries(eg. botocore) installed for no use.\n\nChange-Id: Ie9846b1d18e2afca9752a5ba9ccc697f528ab8d7\n'}, {'number': 3, 'created': '2023-11-28 18:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c168915e9d09a0249189ed7682bd7e0210910ed4', 'message': 'Move boto3 to driver requirement\n\nThe boto3 library is currently part of the requirements but it is\nactually required only when s3 backup driver is used.\n\nRemoving the hard requirements allows us to reduce number of unused\nlibraries(eg. botocore) installed for no use.\n\nChange-Id: Ie9846b1d18e2afca9752a5ba9ccc697f528ab8d7\n'}, {'number': 4, 'created': '2024-02-21 03:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0065f838bae7d1fed30a78c9a7fc34b64086d634', 'message': 'Move boto3 to driver requirement\n\nThe boto3 library is currently part of the requirements but it is\nactually required only when s3 backup driver is used.\n\nRemoving the hard requirements allows us to reduce number of unused\nlibraries(eg. botocore) installed for no use.\n\nChange-Id: Ie9846b1d18e2afca9752a5ba9ccc697f528ab8d7\n'}, {'number': 5, 'created': '2024-02-21 15:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95fbf1d88830e56b413ed4c1633407a9ff9ff713', 'message': 'Move boto3 to driver requirement\n\nThe boto3 library is currently part of the requirements but it is\nactually required only when s3 backup driver is used.\n\nRemoving the hard requirements allows us to reduce number of unused\nlibraries(eg. botocore) installed for no use.\n\nChange-Id: Ie9846b1d18e2afca9752a5ba9ccc697f528ab8d7\n'}, {'number': 6, 'created': '2024-03-21 04:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d3a88ad6a4ee373df10bd83335f133558ce97c7', 'message': 'Move boto3 to driver requirement\n\nThe boto3 library is currently part of the requirements but it is\nactually required only when s3 backup driver is used.\n\nRemoving the hard requirements allows us to reduce number of unused\nlibraries(eg. botocore) installed for no use.\n\nPartial-Bug: #2058601\nChange-Id: Ie9846b1d18e2afca9752a5ba9ccc697f528ab8d7\n'}, {'number': 7, 'created': '2024-04-10 03:02:22.000000000', 'files': ['requirements.txt', 'cinder/backup/drivers/s3.py', 'test-requirements.txt', 'driver-requirements.txt', 'setup.cfg', 'releasenotes/notes/boto3-driver-requirements-1eb72cf2fc4f713b.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5771ce3c2bae7156505617a7fe54f72663a4be41', 'message': 'Move boto3 to driver requirement\n\nThe boto3 library is currently part of the requirements but it is\nactually required only when s3 backup driver is used.\n\nRemoving the hard requirements allows us to reduce number of unused\nlibraries(eg. botocore) installed for no use.\n\nPartial-Bug: #2058601\nChange-Id: Ie9846b1d18e2afca9752a5ba9ccc697f528ab8d7\n'}]",15,902104,5771ce3c2bae7156505617a7fe54f72663a4be41,128,3,7,9816,,,0,"Move boto3 to driver requirement

The boto3 library is currently part of the requirements but it is
actually required only when s3 backup driver is used.

Removing the hard requirements allows us to reduce number of unused
libraries(eg. botocore) installed for no use.

Partial-Bug: #2058601
Change-Id: Ie9846b1d18e2afca9752a5ba9ccc697f528ab8d7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/902104/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cinder/backup/drivers/s3.py', 'driver-requirements.txt', 'releasenotes/notes/boto3-driver-requirements-1eb72cf2fc4f713b.yaml']",4,32bf2afcbd1b2c23b75b6cf66ef5a381a57f459a,bug/2058601,--- upgrade: - | The boto3 library is no longer directly required by cinder. The library and its dependencies should be installed when s3 backup driver is used. ,,21,6
openstack%2Fmagnum-ui~919449,openstack/magnum-ui,master,I18bf64be9d9ddb4ee043cfba37bffe8e82f33d0d,Change floating_ip to use master_lb_floating_ip_enabled.,NEW,2024-05-13 04:36:04.000000000,2024-05-17 14:19:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-13 04:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/bad74f2cd984012fe2fddcf51c588779c16f122b', 'message': ""Change floating_ip to use master_lb_floating_ip_enabled.\n\n* Replace 'floating_ip_enabled' with 'master_lb_floating_ip_enabled',\n  as the former implies floating ip on all nodes in addition to a\n  Floating IP on the API loadbalancer.\n* Add 'api_master_lb_allowed_cidrs' so limitations can be placed\n  on K8s API loadbalancer.\n\nChange-Id: I18bf64be9d9ddb4ee043cfba37bffe8e82f33d0d\n""}, {'number': 2, 'created': '2024-05-13 04:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/c59e39cb90a6c941e032d3b3a4a17748c135554e', 'message': ""Change floating_ip to use master_lb_floating_ip_enabled.\n\n* Replace 'floating_ip_enabled' with 'master_lb_floating_ip_enabled',\n  as the former implies floating ip on all nodes in addition to a\n  Floating IP on the API loadbalancer.\n* Add 'api_master_lb_allowed_cidrs' so limitations can be placed\n  on K8s API loadbalancer.\n\nChange-Id: I18bf64be9d9ddb4ee043cfba37bffe8e82f33d0d\n""}, {'number': 3, 'created': '2024-05-13 21:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/51e7834f639f59f8b497345f18950be38530330b', 'message': ""Change floating_ip to use master_lb_floating_ip_enabled.\n\n* Replace 'floating_ip_enabled' with 'master_lb_floating_ip_enabled',\n  as the former implies floating ip on all nodes in addition to a\n  Floating IP on the API loadbalancer.\n* Add 'api_master_lb_allowed_cidrs' so limitations can be placed\n  on K8s API loadbalancer.\n\nChange-Id: I18bf64be9d9ddb4ee043cfba37bffe8e82f33d0d\n""}, {'number': 4, 'created': '2024-05-17 13:46:54.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/clusters/workflow/cluster-template.controller.js', 'magnum_ui/static/dashboard/container-infra/clusters/create/create.service.js', 'releasenotes/notes/lb_floating_ip-ca6039444f88a968.yaml', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/workflow.service.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/cluster-template.controller.spec.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/network.help.html'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/207503080df22fb0736da8af434600fee8ba9603', 'message': ""Change floating_ip to use master_lb_floating_ip_enabled.\n\n* Replace 'floating_ip_enabled' with 'master_lb_floating_ip_enabled',\n  as the former implies floating ip on all nodes in addition to a\n  Floating IP on the API loadbalancer.\n* Add 'api_master_lb_allowed_cidrs' so limitations can be placed\n  on K8s API loadbalancer.\n\nChange-Id: I18bf64be9d9ddb4ee043cfba37bffe8e82f33d0d\n""}]",0,919449,207503080df22fb0736da8af434600fee8ba9603,7,1,4,14394,,,0,"Change floating_ip to use master_lb_floating_ip_enabled.

* Replace 'floating_ip_enabled' with 'master_lb_floating_ip_enabled',
  as the former implies floating ip on all nodes in addition to a
  Floating IP on the API loadbalancer.
* Add 'api_master_lb_allowed_cidrs' so limitations can be placed
  on K8s API loadbalancer.

Change-Id: I18bf64be9d9ddb4ee043cfba37bffe8e82f33d0d
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/49/919449/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_ui/static/dashboard/container-infra/clusters/workflow/cluster-template.controller.js', 'magnum_ui/static/dashboard/container-infra/clusters/create/create.service.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/workflow.service.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/cluster-template.controller.spec.js', 'magnum_ui/static/dashboard/container-infra/clusters/workflow/network.help.html']",5,bad74f2cd984012fe2fddcf51c588779c16f122b,lb_floating_ip,"<h1 class=""h4"" translate>Network</h1> <p translate>You can choose to create a new network for this cluster, or use an existing network. If you use an existing, it needs to have a subnet and router with a gateway on the external network. You may also need to take care not to conflict with CIDRs in use by the Kubernetes pod and service network.</p> <h1 class=""h4"" translate>API Loadbalancer: Floating IP</h1> <p translate>Making the Kubernetes API accessible from your private network only is the most secure option (the default), but access will be limited to compute instances on the same private network or a VPN to that network.</p> <p translate>Making the Kubernetes API accessible from the public internet with a floating IP is convenient, but may represent a security risk. When selecting this option, it is recommended to set Allowed CIDRs to limit access to a trusted IP address range.</p> <h1 class=""h4"" translate>API Loadbalancer: Allowed CIDRs</h1> <p translate>If this field is left empty, the API Loadbalancer will accept connections from any address. When set to one or more CIDR then only those, plus the internal network, are permitted access to the Kubernetes API Loadbalancer.</em></p> ","<h1 class=""h4"" translate>Cluster API</h1> <p translate>Making the Kubernetes API accessible from the private network only is the most secure option (the default), but access will be limited to compute instances on the same private network or a VPN to that network.</p> <p translate>Making the Kubernetes API accessible from anywhere on the public internet is convenient, but may represent a security risk. <em>[When selecting this option, it is recommended to limit access to a trusted IP address range.]</em></p>",87,28
openstack%2Fdevstack~919926,openstack/devstack,unmaintained/victoria,I28a39b31f71153a602d41cefe621a216d09a290f,Drop devstack-gate roles from devstack zuul jobs,MERGED,2024-05-17 08:35:35.000000000,2024-05-17 14:09:47.000000000,2024-05-17 14:07:36.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 08:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/acbac00aa3bf5e7a019433c630e94bb49b1035e3', 'message': ""Drop devstack-gate roles from devstack zuul jobs\n\nDevstack-gate has been retired and relying on a retired repo for roles\nin zuul produces errors (because the roles are no longer in the HEAD of\nthe repo). It doesn't look like devstack actually relies on these roles\nin d-g (if it does they can be ported into devstack instead) so we just\ndrop the roles specifier for d-g in the devstack job.\n\nNOTE(elod.illes): nova-ceph-multistore job is broken in this branch, so\nit is set as non-voting in check queue and removed from gate queue\nuntil it gets fixed.\n\nNOTE(elod.illes): grenade is also failing on this branch with cinder\nrelated issue, so it is set as non-voting to be able to merge this\npatch to unblock other repos gates.\n\nConflicts:\n  .zuul.yaml\n\nChange-Id: I28a39b31f71153a602d41cefe621a216d09a290f\n(cherry picked from commit d487302e60bf295122ab04ba5d3b799132ed0b17)\n(cherry picked from commit 503116557a0b5ed91aa7bea2ef6eaa967ce15712)\n(cherry picked from commit 37f0673893bc33008d962261e11023a713d82901)\n(cherry picked from commit 1592b95d70839d5d2f50ac2a6521b8315689eded)\n""}, {'number': 2, 'created': '2024-05-17 09:16:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/abb47d3a2063b267d2b8613add288e38c662ae2b', 'message': ""Drop devstack-gate roles from devstack zuul jobs\n\nDevstack-gate has been retired and relying on a retired repo for roles\nin zuul produces errors (because the roles are no longer in the HEAD of\nthe repo). It doesn't look like devstack actually relies on these roles\nin d-g (if it does they can be ported into devstack instead) so we just\ndrop the roles specifier for d-g in the devstack job.\n\nNOTE(elod.illes): nova-ceph-multistore job is broken in this branch, so\nit is set as non-voting in check queue and removed from gate queue\nuntil it gets fixed.\n\nNOTE(elod.illes): grenade is also failing on this branch with cinder\nrelated issue, so it is set as non-voting to be able to merge this\npatch to unblock other repos gates.\n\nConflicts:\n  .zuul.yaml\n\nChange-Id: I28a39b31f71153a602d41cefe621a216d09a290f\n(cherry picked from commit d487302e60bf295122ab04ba5d3b799132ed0b17)\n(cherry picked from commit 503116557a0b5ed91aa7bea2ef6eaa967ce15712)\n(cherry picked from commit 37f0673893bc33008d962261e11023a713d82901)\n(cherry picked from commit 1592b95d70839d5d2f50ac2a6521b8315689eded)\n""}]",1,919926,abb47d3a2063b267d2b8613add288e38c662ae2b,8,2,2,17685,,,0,"Drop devstack-gate roles from devstack zuul jobs

Devstack-gate has been retired and relying on a retired repo for roles
in zuul produces errors (because the roles are no longer in the HEAD of
the repo). It doesn't look like devstack actually relies on these roles
in d-g (if it does they can be ported into devstack instead) so we just
drop the roles specifier for d-g in the devstack job.

NOTE(elod.illes): nova-ceph-multistore job is broken in this branch, so
it is set as non-voting in check queue and removed from gate queue
until it gets fixed.

NOTE(elod.illes): grenade is also failing on this branch with cinder
related issue, so it is set as non-voting to be able to merge this
patch to unblock other repos gates.

Conflicts:
  .zuul.yaml

Change-Id: I28a39b31f71153a602d41cefe621a216d09a290f
(cherry picked from commit d487302e60bf295122ab04ba5d3b799132ed0b17)
(cherry picked from commit 503116557a0b5ed91aa7bea2ef6eaa967ce15712)
(cherry picked from commit 37f0673893bc33008d962261e11023a713d82901)
(cherry picked from commit 1592b95d70839d5d2f50ac2a6521b8315689eded)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/919926/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,acbac00aa3bf5e7a019433c630e94bb49b1035e3,drop-devstack-gate-roles," voting: false # TODO(elod.illes): nova-ceph-multistore is broken in this branch, # so it is set as non-voting in check queue and commented out here # in gate queue until the job gets fixed. # - nova-ceph-multistore: # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$", - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,8,4
openstack%2Fkolla~919938,openstack/kolla,master,Iceb16a5cf2ebc64effe30bbc9144144cdffebab0,opensearch: remove example certs and securityadmin_demo.sh,NEW,2024-05-17 10:53:36.000000000,2024-05-17 13:56:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-17 10:53:36.000000000', 'files': ['docker/opensearch/opensearch/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a13158e56cdbd6a5bb7be01660d8467ebffc3a05', 'message': 'opensearch: remove example certs and securityadmin_demo.sh\n\nChange-Id: Iceb16a5cf2ebc64effe30bbc9144144cdffebab0\n'}]",0,919938,a13158e56cdbd6a5bb7be01660d8467ebffc3a05,4,1,1,22629,,,0,"opensearch: remove example certs and securityadmin_demo.sh

Change-Id: Iceb16a5cf2ebc64effe30bbc9144144cdffebab0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/919938/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/opensearch/opensearch/Dockerfile.j2'],1,a13158e56cdbd6a5bb7be01660d8467ebffc3a05,,RUN chown -R opensearch:opensearch /usr/share/opensearch \ && rm -f /etc/opensearch/*.pem \ && rm -f /etc/opensearch/securityadmin_demo.sh ,RUN chown -R opensearch:opensearch /usr/share/opensearch,4,1
openstack%2Fovn-octavia-provider~919887,openstack/ovn-octavia-provider,stable/2024.1,I06a5695e7e3ad3d645b81771cc1248046fdf8d68,Fix new pylint errors,MERGED,2024-05-16 16:42:31.000000000,2024-05-17 13:22:44.000000000,2024-05-17 13:20:11.000000000,"[{'_account_id': 6773}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 16:42:31.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d48cefda03dd27fe5cedcdb2eeb08bcd4f415d80', 'message': 'Fix new pylint errors\n\nFix the following new errors detected by pylint 3.2.0.\n - possibly-used-before-assignment\n\nChange-Id: I06a5695e7e3ad3d645b81771cc1248046fdf8d68\n(cherry picked from commit b0bfda27d0f7bf0fbbdba0249b23e71915a21a97)\n'}]",2,919887,d48cefda03dd27fe5cedcdb2eeb08bcd4f415d80,15,4,1,34451,,,0,"Fix new pylint errors

Fix the following new errors detected by pylint 3.2.0.
 - possibly-used-before-assignment

Change-Id: I06a5695e7e3ad3d645b81771cc1248046fdf8d68
(cherry picked from commit b0bfda27d0f7bf0fbbdba0249b23e71915a21a97)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/87/919887/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py']",2,d48cefda03dd27fe5cedcdb2eeb08bcd4f415d80,, pool_subnet_cidr = None,,2,2
openstack%2Fcharms.openstack~919709,openstack/charms.openstack,stable/yoga,I138f61312efb728544276483b1a459b9eeecafdb,Support same pkg version for multiple releases,MERGED,2024-05-15 10:26:37.000000000,2024-05-17 13:15:45.000000000,2024-05-17 13:15:45.000000000,"[{'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 10:26:37.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/86f03182b7f8f5a2bbf77c2a5dfdd26a7038d51f', 'message': 'Support same pkg version for multiple releases\n\nIt is possible for the version of a package to remain the same\nacross multiple releases of openstack so this adds support to\nget_os_codename_package() to allow this.\n\nIf releases A, B and C have version N and we are on release B\nthis will return release C so that it does not look like there\nis an upgrade necessary. The main change here that allows this\nis to support matching major and minor version up to X.Y.Z as\nopposed to previously only matching the major version X.\n\nRelated-Bug: #1973303\n\nChange-Id: I138f61312efb728544276483b1a459b9eeecafdb\n(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)\n'}]",0,919709,86f03182b7f8f5a2bbf77c2a5dfdd26a7038d51f,7,3,1,6737,,,0,"Support same pkg version for multiple releases

It is possible for the version of a package to remain the same
across multiple releases of openstack so this adds support to
get_os_codename_package() to allow this.

If releases A, B and C have version N and we are on release B
this will return release C so that it does not look like there
is an upgrade necessary. The main change here that allows this
is to support matching major and minor version up to X.Y.Z as
opposed to previously only matching the major version X.

Related-Bug: #1973303

Change-Id: I138f61312efb728544276483b1a459b9eeecafdb
(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/09/919709/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",2,86f03182b7f8f5a2bbf77c2a5dfdd26a7038d51f,bug/1973303-yoga," def test_get_closest_release_match(self): # this is mocked universally in unit_tests/__init__.py so we have # to apply to not so great mock on top to allow the method to be # called. def fake_version_compare(a, b): if a > b: return 1 elif a < b: return -1 return 0 self.patch_object(chm_core.charmhelpers.fetch.apt_pkg, 'version_compare') chm_core.charmhelpers.fetch.apt_pkg.version_compare.side_effect = \ fake_version_compare codenames = collections.OrderedDict([('3.9', 'ussuri'), ('4.0', 'victoria'), ('4.0.1', 'yoga')]) pkg_ver = '4' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver), mock.call('4.0', pkg_ver)]) self.assertEqual(release, None) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver), mock.call('4.0', pkg_ver)]) self.assertEqual(release, ('4.0', 'victoria')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0.1' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0.2' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() codenames['4.0.3'] = 'antelope' pkg_ver = '4.0.2' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.3', pkg_ver), mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() release = self.target.get_closest_release_match('4.0.1.1', codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', '4.0.1.1')]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.4.1+git2022033113.2339b9e9-0ubuntu1' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.3', pkg_ver)]) self.assertEqual(release, ('4.0.3', 'antelope')) self.patch_object(self.target, 'get_closest_release_match') self.get_closest_release_match.return_value = (3, 'newton')",,117,8
openstack%2Fcharms.openstack~919708,openstack/charms.openstack,stable/zed,I138f61312efb728544276483b1a459b9eeecafdb,Support same pkg version for multiple releases,MERGED,2024-05-15 10:26:21.000000000,2024-05-17 13:11:25.000000000,2024-05-17 13:11:25.000000000,"[{'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 10:26:21.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/282e551d063f22b494aaaa9be394322adadd36c4', 'message': 'Support same pkg version for multiple releases\n\nIt is possible for the version of a package to remain the same\nacross multiple releases of openstack so this adds support to\nget_os_codename_package() to allow this.\n\nIf releases A, B and C have version N and we are on release B\nthis will return release C so that it does not look like there\nis an upgrade necessary. The main change here that allows this\nis to support matching major and minor version up to X.Y.Z as\nopposed to previously only matching the major version X.\n\nRelated-Bug: #1973303\n\nChange-Id: I138f61312efb728544276483b1a459b9eeecafdb\n(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)\n'}]",0,919708,282e551d063f22b494aaaa9be394322adadd36c4,7,3,1,6737,,,0,"Support same pkg version for multiple releases

It is possible for the version of a package to remain the same
across multiple releases of openstack so this adds support to
get_os_codename_package() to allow this.

If releases A, B and C have version N and we are on release B
this will return release C so that it does not look like there
is an upgrade necessary. The main change here that allows this
is to support matching major and minor version up to X.Y.Z as
opposed to previously only matching the major version X.

Related-Bug: #1973303

Change-Id: I138f61312efb728544276483b1a459b9eeecafdb
(cherry picked from commit 55f98e80e430b1112c38b90d88e10bd0923daa6f)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/08/919708/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",2,282e551d063f22b494aaaa9be394322adadd36c4,bug/1973303-zed," def test_get_closest_release_match(self): # this is mocked universally in unit_tests/__init__.py so we have # to apply to not so great mock on top to allow the method to be # called. def fake_version_compare(a, b): if a > b: return 1 elif a < b: return -1 return 0 self.patch_object(chm_core.charmhelpers.fetch.apt_pkg, 'version_compare') chm_core.charmhelpers.fetch.apt_pkg.version_compare.side_effect = \ fake_version_compare codenames = collections.OrderedDict([('3.9', 'ussuri'), ('4.0', 'victoria'), ('4.0.1', 'yoga')]) pkg_ver = '4' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver), mock.call('4.0', pkg_ver)]) self.assertEqual(release, None) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver), mock.call('4.0', pkg_ver)]) self.assertEqual(release, ('4.0', 'victoria')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0.1' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.0.2' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() codenames['4.0.3'] = 'antelope' pkg_ver = '4.0.2' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.3', pkg_ver), mock.call('4.0.1', pkg_ver)]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() release = self.target.get_closest_release_match('4.0.1.1', codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.1', '4.0.1.1')]) self.assertEqual(release, ('4.0.1', 'yoga')) chm_core.charmhelpers.fetch.apt_pkg.version_compare.reset_mock() pkg_ver = '4.4.1+git2022033113.2339b9e9-0ubuntu1' release = self.target.get_closest_release_match(pkg_ver, codenames) chm_core.charmhelpers.fetch.apt_pkg.version_compare.assert_has_calls([ mock.call('4.0.3', pkg_ver)]) self.assertEqual(release, ('4.0.3', 'antelope')) self.patch_object(self.target, 'get_closest_release_match') self.get_closest_release_match.return_value = (3, 'newton')",,117,8
openstack%2Fgrenade~919818,openstack/grenade,unmaintained/yoga,I6caaac9d84e4f3925378f496acd06fc38bb0d2d8,Remove sourcing of userrc_early,MERGED,2024-05-16 11:23:48.000000000,2024-05-17 12:55:04.000000000,2024-05-17 12:54:03.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 11:23:48.000000000', 'files': ['projects/30_swift/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/e3d0f3aae533d1e1f00c1981a26ff9fe6a6327ce', 'message': 'Remove sourcing of userrc_early\n\nDevstack has stopped creating the userrc_early in yoga\nand also fixed the start_swift function to stopm relying\non userrc_early.\n\n- https://review.opendev.org/c/openstack/devstack/+/780417\n\nIt start failing when grenade started upgrade testing from\nstable/yoga to master.\n\n- https://review.opendev.org/c/openstack/grenade/+/835232\n\nChange-Id: I6caaac9d84e4f3925378f496acd06fc38bb0d2d8\n(cherry picked from commit e10ac41b71f41799cd6aefec122a0771b83fa535)\n'}]",3,919818,e3d0f3aae533d1e1f00c1981a26ff9fe6a6327ce,11,2,1,17685,,,0,"Remove sourcing of userrc_early

Devstack has stopped creating the userrc_early in yoga
and also fixed the start_swift function to stopm relying
on userrc_early.

- https://review.opendev.org/c/openstack/devstack/+/780417

It start failing when grenade started upgrade testing from
stable/yoga to master.

- https://review.opendev.org/c/openstack/grenade/+/835232

Change-Id: I6caaac9d84e4f3925378f496acd06fc38bb0d2d8
(cherry picked from commit e10ac41b71f41799cd6aefec122a0771b83fa535)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/18/919818/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/30_swift/upgrade.sh'],1,e3d0f3aae533d1e1f00c1981a26ff9fe6a6327ce,fix-grenade-missing-userrc-early,,#Set OS_AUTH_URL as it is needed during start_swift when tempurls are enabled source $BASE_DEVSTACK_DIR/userrc_early,0,2
openstack%2Fkolla-ansible~919941,openstack/kolla-ansible,stable/2024.1,I5efbb7bc49da0eaba0eba2e909651dc91b96191e,Extend init-runonce.sh script - create addiditonal resources,NEW,2024-05-17 11:41:55.000000000,2024-05-17 12:52:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-17 11:41:55.000000000', 'files': ['tests/run.yml', 'tools/init-runonce', 'zuul.d/base.yaml', 'tests/init-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45ad20ebae1ffe3d76259ba1c19cdec8b1871b99', 'message': 'Extend init-runonce.sh script - create addiditonal resources\n\nFor the upstream CI, we want to use Rally and specifically\nTempest tests. However, we want to run Tempest through static\naccounts instead of dynamic ones, as it is unnecessary and\nextends the testing time. Ideally, we also do not want to use\nthe admin project and admin user, since it has an admin role\nand some tests might not function correctly because of this.\n\nTherefore, it is necessary to add a project, user, and all its\nresources so that we can run the tests. I achieved this by\nmodifying the init-runonce.sh script, which now behaves exactly\nas before but has new features if the user calls with parameters.\n\nOutside of CI, this is also useful for the initialization of\nresources outside the admin project during a fresh installation\nof OpenStack.\n\nChange-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e\n'}]",1,919941,45ad20ebae1ffe3d76259ba1c19cdec8b1871b99,4,1,1,27339,,,0,"Extend init-runonce.sh script - create addiditonal resources

For the upstream CI, we want to use Rally and specifically
Tempest tests. However, we want to run Tempest through static
accounts instead of dynamic ones, as it is unnecessary and
extends the testing time. Ideally, we also do not want to use
the admin project and admin user, since it has an admin role
and some tests might not function correctly because of this.

Therefore, it is necessary to add a project, user, and all its
resources so that we can run the tests. I achieved this by
modifying the init-runonce.sh script, which now behaves exactly
as before but has new features if the user calls with parameters.

Outside of CI, this is also useful for the initialization of
resources outside the admin project during a fresh installation
of OpenStack.

Change-Id: I5efbb7bc49da0eaba0eba2e909651dc91b96191e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/919941/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tools/init-runonce', 'zuul.d/base.yaml', 'tests/init-core-openstack.sh']",4,45ad20ebae1ffe3d76259ba1c19cdec8b1871b99,," KOLLA_DEBUG=1 tools/init-runonce ${RUN_ONCE_PARAMS} |& gawk '{ print strftime(""%F %T""), $0; }' &> /tmp/logs/ansible/init-runonce if [[ ""${RUN_ONCE_PARAMS}"" != """" ]]; then sudo ip route add ${KOLLA_PROJECT_NET_CIDR} via ${EXT_NET_KOLLA_PROJECT_ROUTER_ADDR} fi"," KOLLA_DEBUG=1 tools/init-runonce |& gawk '{ print strftime(""%F %T""), $0; }' &> /tmp/logs/ansible/init-runonce",119,8
openstack%2Fdevstack~919895,openstack/devstack,unmaintained/wallaby,I28a39b31f71153a602d41cefe621a216d09a290f,Drop devstack-gate roles from devstack zuul jobs,MERGED,2024-05-16 19:16:26.000000000,2024-05-17 12:50:57.000000000,2024-05-17 12:48:48.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 19:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bf89ba2f8f238084189744b7ebdeb9d24ca82c6e', 'message': ""Drop devstack-gate roles from devstack zuul jobs\n\nDevstack-gate has been retired and relying on a retired repo for roles\nin zuul produces errors (because the roles are no longer in the HEAD of\nthe repo). It doesn't look like devstack actually relies on these roles\nin d-g (if it does they can be ported into devstack instead) so we just\ndrop the roles specifier for d-g in the devstack job.\n\nNOTE(elod.illes): nova-ceph-multistore job is broken in this branch, so\nit is set as non-voting in check queue and removed from gate queue\nuntil it gets fixed.\n\nChange-Id: I28a39b31f71153a602d41cefe621a216d09a290f\n(cherry picked from commit d487302e60bf295122ab04ba5d3b799132ed0b17)\n(cherry picked from commit 503116557a0b5ed91aa7bea2ef6eaa967ce15712)\n(cherry picked from commit 37f0673893bc33008d962261e11023a713d82901)\n""}, {'number': 2, 'created': '2024-05-17 08:23:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1592b95d70839d5d2f50ac2a6521b8315689eded', 'message': ""Drop devstack-gate roles from devstack zuul jobs\n\nDevstack-gate has been retired and relying on a retired repo for roles\nin zuul produces errors (because the roles are no longer in the HEAD of\nthe repo). It doesn't look like devstack actually relies on these roles\nin d-g (if it does they can be ported into devstack instead) so we just\ndrop the roles specifier for d-g in the devstack job.\n\nNOTE(elod.illes): nova-ceph-multistore job is broken in this branch, so\nit is set as non-voting in check queue and removed from gate queue\nuntil it gets fixed.\n\nNOTE(elod.illes): grenade is also failing on this branch with cinder\nrelated issue, so it is set as non-voting to be able to merge this\npatch to unblock other repos gates.\n\nChange-Id: I28a39b31f71153a602d41cefe621a216d09a290f\n(cherry picked from commit d487302e60bf295122ab04ba5d3b799132ed0b17)\n(cherry picked from commit 503116557a0b5ed91aa7bea2ef6eaa967ce15712)\n(cherry picked from commit 37f0673893bc33008d962261e11023a713d82901)\n""}]",2,919895,1592b95d70839d5d2f50ac2a6521b8315689eded,11,2,2,17685,,,0,"Drop devstack-gate roles from devstack zuul jobs

Devstack-gate has been retired and relying on a retired repo for roles
in zuul produces errors (because the roles are no longer in the HEAD of
the repo). It doesn't look like devstack actually relies on these roles
in d-g (if it does they can be ported into devstack instead) so we just
drop the roles specifier for d-g in the devstack job.

NOTE(elod.illes): nova-ceph-multistore job is broken in this branch, so
it is set as non-voting in check queue and removed from gate queue
until it gets fixed.

NOTE(elod.illes): grenade is also failing on this branch with cinder
related issue, so it is set as non-voting to be able to merge this
patch to unblock other repos gates.

Change-Id: I28a39b31f71153a602d41cefe621a216d09a290f
(cherry picked from commit d487302e60bf295122ab04ba5d3b799132ed0b17)
(cherry picked from commit 503116557a0b5ed91aa7bea2ef6eaa967ce15712)
(cherry picked from commit 37f0673893bc33008d962261e11023a713d82901)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/95/919895/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bf89ba2f8f238084189744b7ebdeb9d24ca82c6e,drop-devstack-gate-roles," voting: false # TODO(elod.illes): nova-ceph-multistore is broken in this branch, # so it is set as non-voting in check queue and commented out here # in gate queue until the job gets fixed. # - nova-ceph-multistore: # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$", - zuul: opendev.org/openstack/devstack-gate - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,8,5
openstack%2Fkolla-ansible~914411,openstack/kolla-ansible,master,If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac,[DNM] Try to turn on swift tempest smoke tests,NEW,2024-03-26 21:59:36.000000000,2024-05-17 12:35:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-26 21:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4962c19eea4a48b54389605ecd5e313600993d40', 'message': '[DNM] Try to turn on swift tempest smoke tests\n\nChange-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac\n'}, {'number': 2, 'created': '2024-03-26 22:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/608029b2568c0813118d632a9f4ddc2518e37769', 'message': '[DNM] Try to turn on swift tempest smoke tests\n\nChange-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac\n'}, {'number': 3, 'created': '2024-03-27 11:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b39fedbbfcde99a9344b4a27c736b828276a808', 'message': '[DNM] Try to turn on swift tempest smoke tests\n\nChange-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac\n'}, {'number': 4, 'created': '2024-03-27 11:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78237b88655368759bc7f19fbd93d966ab07c2a9', 'message': '[DNM] Try to turn on swift tempest smoke tests\n\nChange-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac\n'}, {'number': 5, 'created': '2024-03-27 13:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/03aa61cb8d12bbf77c059c2254881c017830dcf6', 'message': '[DNM] Try to turn on swift tempest smoke tests\n\nChange-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac\n'}, {'number': 6, 'created': '2024-03-27 16:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/975a43c2b96f2fb59ca9c2f42e29d1364831fee8', 'message': '[DNM] Try to turn on swift tempest smoke tests\n\nChange-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac\n'}, {'number': 7, 'created': '2024-03-27 17:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec39351f7b2b89f6b9526bca62a700793390e9a1', 'message': '[DNM] Try to turn on swift tempest smoke tests\n\nChange-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac\n'}, {'number': 8, 'created': '2024-03-27 19:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75e7f683f9065ca815d489ce3e77e4a36c016e86', 'message': '[DNM] Try to turn on swift tempest smoke tests\n\nChange-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac\n'}, {'number': 9, 'created': '2024-03-28 10:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/90e7257d90a341242fef8e92ff5103694a3be3bd', 'message': '[DNM] Try to turn on swift tempest smoke tests\n\nChange-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac\n'}, {'number': 10, 'created': '2024-05-17 11:07:03.000000000', 'files': ['tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/39c7a9720bb0a40d308f17ab0215f53907d62be0', 'message': '[DNM] Try to turn on swift tempest smoke tests\n\nChange-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac\n'}]",1,914411,39c7a9720bb0a40d308f17ab0215f53907d62be0,24,1,10,27339,,,0,"[DNM] Try to turn on swift tempest smoke tests

Change-Id: If262cbd285dcb189cc62a0ea96ff2c6d5077d9ac
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/914411/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-core-openstack.sh'],1,4962c19eea4a48b54389605ecd5e313600993d40,ci-rally,,[service_available] swift = False [service_available] swift = False ,0,6
openstack%2Fproject-config~910212,openstack/project-config,master,I1eca9e89fcdeadfb599b7f2976a820f266b94a88,enforce BackportCandidate voting for kolla,MERGED,2024-02-26 11:03:19.000000000,2024-05-17 12:04:20.000000000,2024-05-17 11:59:38.000000000,"[{'_account_id': 5263}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-02-26 11:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/57d3b078edd4ff4e6bb95ecc64b028bc2382fd7e', 'message': 'enforce BackportCandidate voting for kolla\n\nas discussed in IRC we want to enforce\na BackportCandidate vote before changes can\nbe submitted, because we have missed important\nbackports in the past.\n\nChange-Id: I1eca9e89fcdeadfb599b7f2976a820f266b94a88\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}, {'number': 2, 'created': '2024-02-26 17:19:06.000000000', 'files': ['gerrit/acls/openstack/kolla.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/faa4814a11bf63c18b9d97d2332822348fb62c65', 'message': 'enforce BackportCandidate voting for kolla\n\nas discussed in IRC we want to enforce\na BackportCandidate vote before changes can\nbe submitted, because we have missed important\nbackports in the past.\n\nChange-Id: I1eca9e89fcdeadfb599b7f2976a820f266b94a88\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}]",4,910212,faa4814a11bf63c18b9d97d2332822348fb62c65,14,5,2,32553,,,0,"enforce BackportCandidate voting for kolla

as discussed in IRC we want to enforce
a BackportCandidate vote before changes can
be submitted, because we have missed important
backports in the past.

Change-Id: I1eca9e89fcdeadfb599b7f2976a820f266b94a88
Signed-off-by: Sven Kieske <kieske@osism.tech>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/910212/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/kolla.config'],1,57d3b078edd4ff4e6bb95ecc64b028bc2382fd7e,kolla_make_backport_vote_mandatory," [submit-requirement ""NonZeroBackportCandidate""] description = A non-zero vote on Backport-Candidate is required before submitting changes submittableIf = label:Backport-Candidate=1 OR label:Backport-Candidate=-1 OR label:Backport-Candidate=-2 OR label:Backport-Candidate=2",,4,0
openstack%2Fansible-collection-kolla~919866,openstack/ansible-collection-kolla,stable/2024.1,Ic3dd0ce30a8436406a451276bbd94cb5f6f33f9d,Use deb822 format for Apt repositories on Ubuntu and drop apt-key,NEW,2024-05-17 11:49:14.000000000,2024-05-17 11:58:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-05-17 11:49:14.000000000', 'files': ['releasenotes/notes/fix-apt-repositories-and-drop-apt-key-ff4c062f5689c91e.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/3c06919989c076081b7928ff251abb31d010b228', 'message': 'Use deb822 format for Apt repositories on Ubuntu and drop apt-key\n\nUse the modern deb822 format [1] for Apt repositories on Ubuntu the\nsame way as in OpenStack Kolla projects, for example in Kayobe [2].\nAlso this change refactor usage of the deprecated [3] apt-key tool.\n\n[1] https://manpages.ubuntu.com/manpages/jammy/en/man5/sources.list.5.html#deb822-style%20format\n[2] I3f821937b0930a0ac9341178de7ae5123d82b957\n[3] https://manpages.ubuntu.com/manpages/jammy/en/man8/apt-key.8.html#deprecation\n\nChange-Id: Ic3dd0ce30a8436406a451276bbd94cb5f6f33f9d\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 2ab88e699019ae33b48c28ad4c9f87d0877e46e9)\n'}]",1,919866,3c06919989c076081b7928ff251abb31d010b228,3,2,1,32553,,,0,"Use deb822 format for Apt repositories on Ubuntu and drop apt-key

Use the modern deb822 format [1] for Apt repositories on Ubuntu the
same way as in OpenStack Kolla projects, for example in Kayobe [2].
Also this change refactor usage of the deprecated [3] apt-key tool.

[1] https://manpages.ubuntu.com/manpages/jammy/en/man5/sources.list.5.html#deb822-style%20format
[2] I3f821937b0930a0ac9341178de7ae5123d82b957
[3] https://manpages.ubuntu.com/manpages/jammy/en/man8/apt-key.8.html#deprecation

Change-Id: Ic3dd0ce30a8436406a451276bbd94cb5f6f33f9d
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 2ab88e699019ae33b48c28ad4c9f87d0877e46e9)
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/66/919866/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-apt-repositories-and-drop-apt-key-ff4c062f5689c91e.yaml'],1,3c06919989c076081b7928ff251abb31d010b228,fix-apt-repositories-and-drop-apt-key-stable/2024.1,<<<<<<< HEAD (566f70 Update TOX_CONSTRAINTS_FILE for stable/2024.1)======= Fixes usage of the deprecated apt-key tool and switch to deb822 format for Apt repositories on Ubuntu. >>>>>>> CHANGE (2ab88e Use deb822 format for Apt repositories on Ubuntu and drop ap),,5,0
openstack%2Fproject-config~800442,openstack/project-config,master,Ie0cc691d04b4eb2f118fed5ba5062c82608e5897,create tricircle under x namespaces,ABANDONED,2021-07-12 09:15:19.000000000,2024-05-17 11:56:47.000000000,,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28071}]","[{'number': 1, 'created': '2021-07-12 09:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4c5af9b8796ef688e8367e55f5f6534d678042df', 'message': 'register and bring back tricircle under x namespaces\n\nChange-Id: Ie0cc691d04b4eb2f118fed5ba5062c82608e5897\n'}, {'number': 2, 'created': '2021-12-15 03:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fcd74b547248198306478158d74f68762b2b0c43', 'message': 'register and bring back tricircle under x namespaces\n\nChange-Id: Ie0cc691d04b4eb2f118fed5ba5062c82608e5897\n'}, {'number': 3, 'created': '2022-03-31 07:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/26b920adfb04dbfbb31da4a3cd7a9d5aa710596f', 'message': 'register and bring back tricircle under x namespaces\n\nChange-Id: Ie0cc691d04b4eb2f118fed5ba5062c82608e5897\n'}, {'number': 4, 'created': '2022-03-31 07:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/198dca6525edcf68f250859965da85eb64f23e33', 'message': 'register and bring back tricircle under x namespaces\n\nChange-Id: Ie0cc691d04b4eb2f118fed5ba5062c82608e5897\n'}, {'number': 5, 'created': '2022-03-31 08:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/802307506fc02427469ef07e3eaad088391a6127', 'message': 'create tricircle under x namespaces\n\nChange-Id: Ie0cc691d04b4eb2f118fed5ba5062c82608e5897\n'}, {'number': 6, 'created': '2022-03-31 09:02:16.000000000', 'files': ['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/tricircle.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/379da2842ef41fb3642238081b4d2310d7f5de49', 'message': 'create tricircle under x namespaces\n\nChange-Id: Ie0cc691d04b4eb2f118fed5ba5062c82608e5897\n'}]",7,800442,379da2842ef41fb3642238081b4d2310d7f5de49,27,6,6,28071,,,0,"create tricircle under x namespaces

Change-Id: Ie0cc691d04b4eb2f118fed5ba5062c82608e5897
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/800442/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/tricircle.config']",3,4c5af9b8796ef688e8367e55f5f6534d678042df,,"[access ""refs/heads/*""] abandon = group tricircle-core create = group tricircle-release label-Code-Review = -2..+2 group tricircle-core label-Workflow = -1..+1 group tricircle-core [access ""refs/tags/*""] pushSignedTag = group tricircle-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,19,0
openstack%2Fovn-octavia-provider~919888,openstack/ovn-octavia-provider,stable/2023.2,I06a5695e7e3ad3d645b81771cc1248046fdf8d68,Fix new pylint errors,MERGED,2024-05-16 16:43:04.000000000,2024-05-17 11:46:00.000000000,2024-05-17 11:45:05.000000000,"[{'_account_id': 6773}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 16:43:04.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/27b95699ee954affabd6b8d49b75566a018f7fd6', 'message': 'Fix new pylint errors\n\nFix the following new errors detected by pylint 3.2.0.\n - possibly-used-before-assignment\n\nChange-Id: I06a5695e7e3ad3d645b81771cc1248046fdf8d68\n(cherry picked from commit b0bfda27d0f7bf0fbbdba0249b23e71915a21a97)\n'}]",0,919888,27b95699ee954affabd6b8d49b75566a018f7fd6,9,4,1,34451,,,0,"Fix new pylint errors

Fix the following new errors detected by pylint 3.2.0.
 - possibly-used-before-assignment

Change-Id: I06a5695e7e3ad3d645b81771cc1248046fdf8d68
(cherry picked from commit b0bfda27d0f7bf0fbbdba0249b23e71915a21a97)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/88/919888/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py']",2,27b95699ee954affabd6b8d49b75566a018f7fd6,pylint, pool_subnet_cidr = None,,2,2
openstack%2Fkolla-ansible~919490,openstack/kolla-ansible,stable/2023.1,I3c92a80b1db9422e72d769b4747fb282ac4ff52a,Cinder and Nova: add service role,MERGED,2024-05-13 10:20:42.000000000,2024-05-17 11:45:06.000000000,2024-05-17 11:43:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-05-13 10:20:42.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/upgrade.yml', 'releasenotes/notes/cinder-nova-register-service-role-46a5a745ca697654.yaml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/nova/tasks/upgrade.yml', 'ansible/roles/cinder/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0631cd9685de40af5a5c0e4852664c379f9a9b37', 'message': 'Cinder and Nova: add service role\n\nThis role is registered in Keystone [1], but Nova and Cinder deployment\nwill break if Keystone is skipped. Register this role in Nova and Cinder\ntasks too to prevent this failure.\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/909002\n\nCloses-Bug: #2065578\nChange-Id: I3c92a80b1db9422e72d769b4747fb282ac4ff52a\n'}]",2,919490,0631cd9685de40af5a5c0e4852664c379f9a9b37,12,5,1,35263,,,0,"Cinder and Nova: add service role

This role is registered in Keystone [1], but Nova and Cinder deployment
will break if Keystone is skipped. Register this role in Nova and Cinder
tasks too to prevent this failure.

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/909002

Closes-Bug: #2065578
Change-Id: I3c92a80b1db9422e72d769b4747fb282ac4ff52a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/919490/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/upgrade.yml', 'releasenotes/notes/cinder-nova-register-service-role-46a5a745ca697654.yaml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/nova/tasks/upgrade.yml', 'ansible/roles/cinder/tasks/register.yml']",7,0631cd9685de40af5a5c0e4852664c379f9a9b37,bug/2065578," service_ks_register_roles: ""{{ cinder_ks_roles }}""",,16,0
openstack%2Fovn-octavia-provider~919889,openstack/ovn-octavia-provider,stable/2023.1,I06a5695e7e3ad3d645b81771cc1248046fdf8d68,Fix new pylint errors,MERGED,2024-05-16 16:43:25.000000000,2024-05-17 11:40:01.000000000,2024-05-17 11:38:47.000000000,"[{'_account_id': 6773}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 16:43:25.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0248f4ef7c5c2d94af3e1bef2311a55e6cb6ee60', 'message': 'Fix new pylint errors\n\nFix the following new errors detected by pylint 3.2.0.\n - possibly-used-before-assignment\n\nChange-Id: I06a5695e7e3ad3d645b81771cc1248046fdf8d68\n(cherry picked from commit b0bfda27d0f7bf0fbbdba0249b23e71915a21a97)\n'}]",0,919889,0248f4ef7c5c2d94af3e1bef2311a55e6cb6ee60,9,4,1,34451,,,0,"Fix new pylint errors

Fix the following new errors detected by pylint 3.2.0.
 - possibly-used-before-assignment

Change-Id: I06a5695e7e3ad3d645b81771cc1248046fdf8d68
(cherry picked from commit b0bfda27d0f7bf0fbbdba0249b23e71915a21a97)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/89/919889/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py']",2,0248f4ef7c5c2d94af3e1bef2311a55e6cb6ee60,pylint1, pool_subnet_cidr = None,,2,2
openstack%2Fkeystone~914759,openstack/keystone,master,Ifc25cf32ffcdb3b8a62d6741bc38e14bca0d7763,Allow domain admin to view roles,MERGED,2024-03-29 14:34:34.000000000,2024-05-17 11:23:21.000000000,2024-05-08 17:04:35.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-29 14:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/094e20b8ff384be40d73daa8d79c1aa79484b0e6', 'message': 'Allow domain admin to view roles\n\nDomain admins are allowed to assign roles. So it should be allowed to\nview roles.\n\nCloses-Bug: #2059780\nChange-Id: Ifc25cf32ffcdb3b8a62d6741bc38e14bca0d7763\n'}, {'number': 2, 'created': '2024-04-17 18:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9162501c5f842817bde1e6d49986ad1e3068add7', 'message': 'Allow domain admin to view roles\n\nDomain admins are allowed to assign roles. So it should be allowed to\nview roles.\n\nCloses-Bug: #2059780\nChange-Id: Ifc25cf32ffcdb3b8a62d6741bc38e14bca0d7763\n'}, {'number': 3, 'created': '2024-04-23 05:40:36.000000000', 'files': ['keystone/common/policies/role.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/522627de3c66113d03019122735cdfc3e0d245c8', 'message': 'Allow domain admin to view roles\n\nDomain admins are allowed to assign roles. So it should be allowed to\nview roles.\n\nNote that protection job is made non-voting until the domain admin role\ntest cases are updated.\n\nCloses-Bug: #2059780\nChange-Id: Ifc25cf32ffcdb3b8a62d6741bc38e14bca0d7763\n'}]",9,914759,522627de3c66113d03019122735cdfc3e0d245c8,24,4,3,9816,,,0,"Allow domain admin to view roles

Domain admins are allowed to assign roles. So it should be allowed to
view roles.

Note that protection job is made non-voting until the domain admin role
test cases are updated.

Closes-Bug: #2059780
Change-Id: Ifc25cf32ffcdb3b8a62d6741bc38e14bca0d7763
",git fetch https://review.opendev.org/openstack/keystone refs/changes/59/914759/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/role.py'],1,094e20b8ff384be40d73daa8d79c1aa79484b0e6,bug/2059780," scope_types=['system', 'domain', 'project'], scope_types=['system', 'domain', 'project'],"," scope_types=['system', 'project'], scope_types=['system', 'project'],",2,2
openstack%2Fcharm-nova-cell-controller~919931,openstack/charm-nova-cell-controller,master,I844d142e9e015e7d335955edb3035916cdd62039,Remove pin for setuptools in wheelhouse.txt,NEW,2024-05-17 09:52:15.000000000,2024-05-17 11:22:54.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 09:52:15.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/cea2878e06a775447b848048456fef8ef81aba3c', 'message': 'Remove pin for setuptools in wheelhouse.txt\n\nOlder versions of setuptools experience\nfatal import errors in distutils in\nnewer versions of Python. Remove the\npin to get newer versions of setuptools.\nPinning setuptools is no longer required.\n\nCloses-Bug: 2066023\nChange-Id: I844d142e9e015e7d335955edb3035916cdd62039\n'}]",0,919931,cea2878e06a775447b848048456fef8ef81aba3c,3,2,1,31203,,,0,"Remove pin for setuptools in wheelhouse.txt

Older versions of setuptools experience
fatal import errors in distutils in
newer versions of Python. Remove the
pin to get newer versions of setuptools.
Pinning setuptools is no longer required.

Closes-Bug: 2066023
Change-Id: I844d142e9e015e7d335955edb3035916cdd62039
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/31/919931/1 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,cea2878e06a775447b848048456fef8ef81aba3c,bug/2066023,,setuptools < 50.0 ,0,2
openstack%2Fcharm-cinder-backup-swift-proxy~919932,openstack/charm-cinder-backup-swift-proxy,master,Iaf027c4886c2d3522d782b12d3f4efdb4caa9c48,Remove pin for setuptools in wheelhouse.txt,NEW,2024-05-17 09:56:26.000000000,2024-05-17 11:09:17.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 09:56:26.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/9ebcb1f03a77b093ca0155105befa47d6d9d6471', 'message': 'Remove pin for setuptools in wheelhouse.txt\n\nOlder versions of setuptools experience\nfatal import errors in distutils in\nnewer versions of Python. Remove the\npin to get newer versions of setuptools.\nPinning setuptools is no longer required.\n\nCloses-Bug: 2066023\nChange-Id: Iaf027c4886c2d3522d782b12d3f4efdb4caa9c48\n'}]",0,919932,9ebcb1f03a77b093ca0155105befa47d6d9d6471,3,2,1,31203,,,0,"Remove pin for setuptools in wheelhouse.txt

Older versions of setuptools experience
fatal import errors in distutils in
newer versions of Python. Remove the
pin to get newer versions of setuptools.
Pinning setuptools is no longer required.

Closes-Bug: 2066023
Change-Id: Iaf027c4886c2d3522d782b12d3f4efdb4caa9c48
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/32/919932/1 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,9ebcb1f03a77b093ca0155105befa47d6d9d6471,bug/2066023,,setuptools < 50.0 ,0,2
openstack%2Fnova~905284,openstack/nova,master,I0db7a2ce1dc8d64cf46d91f4791b6fc06a6d9298,use futureist for scater_gather,NEW,2024-01-11 03:24:25.000000000,2024-05-17 11:00:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 26250}]","[{'number': 1, 'created': '2024-01-11 03:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbc4a58c8d9f151694685ade3367d11fa3a85523', 'message': 'set rpc executor based on monkey patch state\n\nThis change simply makes the RPC server select\nits executor based on if eventlet is used.\n\nChange-Id: I0db7a2ce1dc8d64cf46d91f4791b6fc06a6d9298\n'}, {'number': 2, 'created': '2024-05-02 10:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e003478cc98307f4522b398df7ebe4e3567826f', 'message': 'use futureist for scater_gather\n\nThis change is the combination of 3 commits\nthat must be comined due to how eventlet monkey patrching\ninteract with the standard libary types.\n\nfirt this change simply makes the RPC server select\nits executor based on if eventlet is used.\n\nremove use of eventlet.queue.LightQueue\n\nThis change removes the explict use of eventlet.queue.LightQueue\nand replaces it with queue.SimpleQueue\n\nuse futureist for scater_gather\n\nThis is a port of Ifb1c407df1f888c72e008578232d53a76b3d2e40\nto replace the use of eventlet in the nova api with\nfutureist.\n\nChange-Id: I0db7a2ce1dc8d64cf46d91f4791b6fc06a6d9298\n'}, {'number': 3, 'created': '2024-05-02 10:57:54.000000000', 'files': ['nova/api/openstack/__init__.py', 'nova/conductor/manager.py', 'nova/rpc.py', 'nova/compute/multi_cell_list.py', 'nova/conf/service.py', 'nova/context.py', 'nova/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/554892bc72c6a3b93c9a8a905e89107e94ca46de', 'message': 'use futureist for scater_gather\n\nThis change is the combination of 3 commits\nthat must be comined due to how eventlet monkey patrching\ninteract with the standard libary types.\n\nfirt this change simply makes the RPC server select\nits executor based on if eventlet is used.\n\nremove use of eventlet.queue.LightQueue\n\nThis change removes the explict use of eventlet.queue.LightQueue\nand replaces it with queue.SimpleQueue\n\nuse futureist for scater_gather\n\nThis is a port of Ifb1c407df1f888c72e008578232d53a76b3d2e40\nto replace the use of eventlet in the nova api with\nfutureist.\n\nChange-Id: I0db7a2ce1dc8d64cf46d91f4791b6fc06a6d9298\n'}]",16,905284,554892bc72c6a3b93c9a8a905e89107e94ca46de,24,2,3,11604,,,0,"use futureist for scater_gather

This change is the combination of 3 commits
that must be comined due to how eventlet monkey patrching
interact with the standard libary types.

firt this change simply makes the RPC server select
its executor based on if eventlet is used.

remove use of eventlet.queue.LightQueue

This change removes the explict use of eventlet.queue.LightQueue
and replaces it with queue.SimpleQueue

use futureist for scater_gather

This is a port of Ifb1c407df1f888c72e008578232d53a76b3d2e40
to replace the use of eventlet in the nova api with
futureist.

Change-Id: I0db7a2ce1dc8d64cf46d91f4791b6fc06a6d9298
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/905284/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/rpc.py'],1,dbc4a58c8d9f151694685ade3367d11fa3a85523,eventlet-removal-part-1,"from oslo_utils import eventletutils executor = 'eventlet' if not eventletutils.is_monkey_patched('thread'): executor = 'threading' executor=executor,"," executor='eventlet',",5,1
openstack%2Fkeystone~916130,openstack/keystone,master,I140b302d879ce1cc1f8d8de9e666cc74278a977f,Allow domain users to manage credentials,MERGED,2024-04-17 18:17:51.000000000,2024-05-17 10:58:04.000000000,2024-05-08 20:28:34.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-17 18:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/04a71d340fa95ccc0f883fd0bc12cecb87b9d76e', 'message': 'Allow domain users to manage credentials\n\nCredentials are associated with users so there is no reason we prevent\ndomain users from accessing the resources. In some services like heat\ndomain admin is used to generate keystone credentials and loosing\nthe scope check is required to continue supporting such use case.\n\nCloses-Bug: #2062045\nChange-Id: I140b302d879ce1cc1f8d8de9e666cc74278a977f\n'}, {'number': 2, 'created': '2024-04-23 05:45:40.000000000', 'files': ['keystone/common/policies/credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5ead95ffcc597517feed53170e2d2f77cdd311a1', 'message': 'Allow domain users to manage credentials\n\nCredentials are associated with users so there is no reason we prevent\ndomain users from accessing the resources. In some services like heat\ndomain admin is used to generate keystone credentials and loosing\nthe scope check is required to continue supporting such use case.\n\nCloses-Bug: #2062045\nChange-Id: I140b302d879ce1cc1f8d8de9e666cc74278a977f\n'}]",5,916130,5ead95ffcc597517feed53170e2d2f77cdd311a1,16,4,2,9816,,,0,"Allow domain users to manage credentials

Credentials are associated with users so there is no reason we prevent
domain users from accessing the resources. In some services like heat
domain admin is used to generate keystone credentials and loosing
the scope check is required to continue supporting such use case.

Closes-Bug: #2062045
Change-Id: I140b302d879ce1cc1f8d8de9e666cc74278a977f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/30/916130/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/credential.py'],1,04a71d340fa95ccc0f883fd0bc12cecb87b9d76e,bug/2062045," scope_types=['system', 'domain', 'project'], scope_types=['system', 'domain', 'project'], scope_types=['system', 'domain', 'project'], scope_types=['system', 'domain', 'project'], scope_types=['system', 'domain', 'project'],"," scope_types=['system', 'project'], scope_types=['system', 'project'], scope_types=['system', 'project'], scope_types=['system', 'project'], scope_types=['system', 'project'],",5,5
openstack%2Fkolla-ansible~915121,openstack/kolla-ansible,master,Idcff0cecdd4e5612c9af4d3b6f174734221d59a8,WIP: OpenSearch TLS,NEW,2024-04-05 10:37:54.000000000,2024-05-17 10:36:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-05 10:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5adc07d34e9ddc39417faa902200478751760105', 'message': 'WIP: OpenSearch TLS\n\nChange-Id: Idcff0cecdd4e5612c9af4d3b6f174734221d59a8\n'}, {'number': 2, 'created': '2024-04-08 10:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b10b14b571572033af8ffd795f89f86ea20265af', 'message': 'WIP: OpenSearch TLS\n\nChange-Id: Idcff0cecdd4e5612c9af4d3b6f174734221d59a8\n'}, {'number': 3, 'created': '2024-04-08 11:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c7396575af1f3220176d393eab8422f6e7af449', 'message': 'WIP: OpenSearch TLS\n\nChange-Id: Idcff0cecdd4e5612c9af4d3b6f174734221d59a8\n'}, {'number': 4, 'created': '2024-04-08 11:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b18f47eeb821c29deca7921e25a21c70673357cd', 'message': 'WIP: OpenSearch TLS\n\nChange-Id: Idcff0cecdd4e5612c9af4d3b6f174734221d59a8\n'}, {'number': 5, 'created': '2024-04-08 12:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/baa321b2dcbfa800d6003dc20e15f8c3a1e253d9', 'message': 'WIP: OpenSearch TLS\n\nChange-Id: Idcff0cecdd4e5612c9af4d3b6f174734221d59a8\n'}, {'number': 6, 'created': '2024-05-17 10:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1bae0960b96893bfdaec5042bfa77757ee3279a', 'message': 'WIP: OpenSearch TLS\n\nChange-Id: Idcff0cecdd4e5612c9af4d3b6f174734221d59a8\n'}, {'number': 7, 'created': '2024-05-17 10:04:00.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/opensearch/templates/opensearch.json.j2', 'ansible/roles/opensearch/defaults/main.yml', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'ansible/roles/opensearch/templates/opensearch.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/423b42882ccba3ee09964390852a31101e1ac658', 'message': 'WIP: OpenSearch TLS\n\nChange-Id: Idcff0cecdd4e5612c9af4d3b6f174734221d59a8\n'}]",0,915121,423b42882ccba3ee09964390852a31101e1ac658,16,1,7,22629,,,0,"WIP: OpenSearch TLS

Change-Id: Idcff0cecdd4e5612c9af4d3b6f174734221d59a8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/915121/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/opensearch/templates/opensearch.json.j2', 'ansible/roles/opensearch/defaults/main.yml', 'ansible/roles/opensearch/templates/opensearch.yml.j2']",4,5adc07d34e9ddc39417faa902200478751760105,,"{% if not opensearch_enable_tls_backend | bool %}{% else %} plugins.security.ssl.transport.pemcert_filepath: ""certs/opensearch-cert.pem"" plugins.security.ssl.transport.pemkey_filepath: ""certs/opensearch-key.pem"" #plugins.security.ssl.transport.pemtrustedcas_filepath: plugins.security.ssl.http.enabled: ""true"" plugins.security.ssl.http.pemcert_filepath: ""certs/opensearch-cert.pem"" plugins.security.ssl.http.pemkey_filepath: ""certs/opensearch-key.pem"" #plugins.security.ssl.http.pemtrustedcas_filepath: {% endif %}",,25,2
openstack%2Fcharm-ironic-conductor~919929,openstack/charm-ironic-conductor,master,Ic6214f82f98d438f740208b99c588e94b675f7c6,Remove pin for setuptools in wheelhouse.txt,NEW,2024-05-17 09:29:14.000000000,2024-05-17 10:07:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-17 09:29:14.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/d69958830cbc900828071ed2cf5f4005a1412217', 'message': 'Remove pin for setuptools in wheelhouse.txt\n\nOlder versions of setuptools experience\nfatal import errors in distutils in\nnewer versions of Python. Remove the\npin to get newer versions of setuptools.\nPinning setuptools is no longer required.\n\nCloses-Bug: 2066023\nChange-Id: Ic6214f82f98d438f740208b99c588e94b675f7c6\n'}]",0,919929,d69958830cbc900828071ed2cf5f4005a1412217,3,2,1,31203,,,0,"Remove pin for setuptools in wheelhouse.txt

Older versions of setuptools experience
fatal import errors in distutils in
newer versions of Python. Remove the
pin to get newer versions of setuptools.
Pinning setuptools is no longer required.

Closes-Bug: 2066023
Change-Id: Ic6214f82f98d438f740208b99c588e94b675f7c6
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/29/919929/1 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,d69958830cbc900828071ed2cf5f4005a1412217,bug/2066023,,setuptools<60.9.0,0,1
openstack%2Fsunbeam-charms~919933,openstack/sunbeam-charms,main,I6f67c26af37f2d7745d25465e40f5be0ad90db6d,Fix size of pie chart on OpenStack project dashboard,ABANDONED,2024-05-17 10:00:29.000000000,2024-05-17 10:05:26.000000000,,[],"[{'number': 1, 'created': '2024-05-17 10:00:29.000000000', 'files': ['charms/openstack-exporter-k8s/src/grafana_dashboards/project.json'], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/5c2e9976f0f2d9713e9d8bd0c5a0c6749f49ae8d', 'message': 'Fix size of pie chart on OpenStack project dashboard\n\nChange-Id: I6f67c26af37f2d7745d25465e40f5be0ad90db6d\n'}]",0,919933,5c2e9976f0f2d9713e9d8bd0c5a0c6749f49ae8d,2,0,1,32717,,,0,"Fix size of pie chart on OpenStack project dashboard

Change-Id: I6f67c26af37f2d7745d25465e40f5be0ad90db6d
",git fetch https://review.opendev.org/openstack/sunbeam-charms refs/changes/33/919933/1 && git format-patch -1 --stdout FETCH_HEAD,['charms/openstack-exporter-k8s/src/grafana_dashboards/project.json'],1,5c2e9976f0f2d9713e9d8bd0c5a0c6749f49ae8d,openstack-exporter-gh65," ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""fiscalYearStartMonth"": 0, ""id"": 50, ""liveNow"": false, ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""targets"": [ { ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""refId"": ""A"" } ], ""datasource"": { ""uid"": ""${prometheusds}"" }, ""custom"": { ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false } }, ""mappings"": [] ""options"": { ""from"": -1e+29, ""result"": { ""text"": ""UNLIMITED"" }, ""to"": -1 }, ""type"": ""range"" ""h"": 8, ""x"": 1, ""showLegend"": true, ""text"": {}, ""tooltip"": { ""mode"": ""single"", ""sort"": ""none"" } ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""custom"": { ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false } }, ""mappings"": [] ""options"": { ""from"": -1e+29, ""result"": { ""text"": ""UNLIMITED"" }, ""to"": -1 }, ""type"": ""range"" ""h"": 8, ""w"": 5, ""x"": 7, ""showLegend"": true, ], ""width"": 200 ""text"": {}, ""tooltip"": { ""mode"": ""single"", ""sort"": ""none"" } ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""custom"": { ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false } ""mappings"": [], ""options"": { ""from"": -1e+29, ""result"": { ""text"": ""UNLIMITED"" }, ""to"": -1 }, ""type"": ""range"" ""h"": 8, ""w"": 5, ""showLegend"": true, ], ""width"": 200 ""text"": {}, ""tooltip"": { ""mode"": ""single"", ""sort"": ""none"" } ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""custom"": { ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false } ""mappings"": [], ""options"": { ""from"": -1e+29, ""result"": { ""text"": ""UNLIMITED"" }, ""to"": -1 }, ""type"": ""range"" ""h"": 8, ""x"": 17, ""showLegend"": true, ""text"": {}, ""tooltip"": { ""mode"": ""single"", ""sort"": ""none"" } ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""custom"": { ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false } ""options"": { ""from"": -1e+29, ""result"": { ""text"": ""UNLIMITED"" }, ""to"": -1 }, ""type"": ""range"" ""h"": 8, ""w"": 5, ""x"": 7, ""y"": 9 ""showLegend"": true, ""text"": {}, ""tooltip"": { ""mode"": ""single"", ""sort"": ""none"" } ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false } }, ""mappings"": [], ""unit"": ""gbytes"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""green"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Used"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""red"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""mappings"", ""value"": [ { ""options"": { ""from"": -1e+29, ""result"": { ""text"": ""UNLIMITED"" }, ""to"": -1 }, ""type"": ""range"" } ] } ] } ] }, ""gridPos"": { ""h"": 8, ""w"": 5, ""x"": 12, ""y"": 9 }, ""id"": 6, ""options"": { ""displayLabels"": [ ""value"" ], ""legend"": { ""displayMode"": ""table"", ""placement"": ""right"", ""showLegend"": true, ""values"": [ ""value"" ] }, ""pieType"": ""pie"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""tooltip"": { ""mode"": ""single"", ""sort"": ""none"" } }, ""pluginVersion"": ""7.5.17"", ""targets"": [ { ""datasource"": { ""uid"": ""${prometheusds}"" }, ""exemplar"": false, ""expr"": ""openstack_cinder_limits_backup_max_gb{tenant_id=\""$Project_id\""} - openstack_cinder_limits_backup_used_gb{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Free"", ""queryType"": ""randomWalk"", ""refId"": ""A"" }, { ""datasource"": { ""uid"": ""${prometheusds}"" }, ""exemplar"": false, ""expr"": ""openstack_cinder_limits_backup_used_gb{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Used"", ""refId"": ""B"" } ], ""title"": ""Backups"", ""transformations"": [], ""transparent"": true, ""type"": ""piechart"" }, { ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""y"": 17 ""targets"": [ { ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""refId"": ""A"" } ], ""datasource"": { ""uid"": ""${prometheusds}"" }, ""align"": ""auto"", ""cellOptions"": { ""type"": ""auto"" }, ""filterable"": false, ""inspect"": false ""y"": 18 ""cellHeight"": ""sm"", ""footer"": { ""countRows"": false, ""fields"": """", ""reducer"": [ ""sum"" ], ""show"": false }, ""pluginVersion"": ""9.5.3"", ""datasource"": { ""uid"": ""${prometheusds}"" }, ""datasource"": { ""uid"": ""${prometheusds}"" }, ""schemaVersion"": 38, ""current"": { ""selected"": false, ""text"": ""All"", ""value"": ""$__all"" }, ""hide"": 0, ""includeAll"": true, ""label"": ""Loki datasource"", ""multi"": true, ""name"": ""lokids"", ""options"": [], ""query"": ""loki"", ""refresh"": 1, ""regex"": """", ""skipUrlSync"": false, ""type"": ""datasource"" }, { ""current"": { ""selected"": false, ""text"": ""All"", ""value"": ""$__all"" }, ""hide"": 0, ""includeAll"": true, ""label"": ""Prometheus datasource"", ""multi"": true, ""name"": ""prometheusds"", ""options"": [], ""query"": ""prometheus"", ""refresh"": 1, ""regex"": """", ""skipUrlSync"": false, ""type"": ""datasource"" }, { ""text"": ""cit-network-prod"", ""value"": ""cit-network-prod"" ""datasource"": { ""uid"": ""${prometheusds}"" }, ""text"": ""d180fa4cc086408bb2251cd80c6bba90"", ""value"": ""d180fa4cc086408bb2251cd80c6bba90"" ""datasource"": { ""uid"": ""${prometheusds}"" }, ""options"": [], ""refresh"": 1, ""version"": 1, ""weekStart"": """""," ""datasource"": ""-- Grafana --"", ""gnetId"": null, ""id"": 80, ""iteration"": 1715932076102, ""datasource"": null, ""datasource"": ""${prometheusds}"", ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] } ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2, ""value"": """" ""h"": 10, ""x"": 0, ""text"": {} ""timeFrom"": null, ""timeShift"": null, ""datasource"": ""${prometheusds}"", ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] } ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2 ""h"": 10, ""w"": 6, ""x"": 6, ] ""text"": {} ""timeFrom"": null, ""timeShift"": null, ""datasource"": ""${prometheusds}"", ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2, ""value"": ""-29"" ""h"": 11, ""w"": 6, ] ""text"": {} ""timeFrom"": null, ""timeShift"": null, ""datasource"": ""${prometheusds}"", ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2 ""h"": 11, ""x"": 18, ""text"": {} ""timeFrom"": null, ""timeShift"": null, ""datasource"": ""${prometheusds}"", ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""unit"": ""gbytes"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""green"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Used"" }, ""properties"": [ { ""id"": ""color"", ""value"": { ""fixedColor"": ""red"", ""mode"": ""fixed"" } } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Free"" }, ""properties"": [ { ""id"": ""mappings"", ""value"": [ { ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2 } ] } ] } ] }, ""gridPos"": { ""h"": 12, ""w"": 6, ""x"": 0, ""y"": 11 }, ""id"": 6, ""options"": { ""displayLabels"": [ ""value"" ], ""legend"": { ""displayMode"": ""table"", ""placement"": ""right"", ""values"": [ ""value"" ] }, ""pieType"": ""pie"", ""reduceOptions"": { ""calcs"": [ ""lastNotNull"" ], ""fields"": """", ""values"": false }, ""text"": {} }, ""pluginVersion"": ""7.5.17"", ""targets"": [ { ""exemplar"": false, ""expr"": ""openstack_cinder_limits_backup_max_gb{tenant_id=\""$Project_id\""} - openstack_cinder_limits_backup_used_gb{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Free"", ""queryType"": ""randomWalk"", ""refId"": ""A"" }, { ""exemplar"": false, ""expr"": ""openstack_cinder_limits_backup_used_gb{tenant_id=\""$Project_id\""}"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""Used"", ""refId"": ""B"" } ], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Backups"", ""transformations"": [], ""transparent"": true, ""type"": ""piechart"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""from"": ""-100000000000000000000000000000"", ""id"": 1, ""text"": ""UNLIMITED"", ""to"": ""-1"", ""type"": 2 ""h"": 12, ""w"": 6, ""x"": 6, ""y"": 11 ""text"": {} ""timeFrom"": null, ""timeShift"": null, ""datasource"": null, ""y"": 23 ""datasource"": ""${prometheusds}"", ""align"": null, ""filterable"": false ""y"": 24 ""pluginVersion"": ""7.5.17"", ""schemaVersion"": 27, ""allValue"": null, ""text"": ""bootstack-monitoring-mesh-project"", ""value"": ""bootstack-monitoring-mesh-project"" ""datasource"": ""${prometheusds}"", ""description"": null, ""error"": null, ""label"": null, ""tags"": [], ""allValue"": null, ""text"": ""0d55cf9adf0a47c7af6935c4af640811"", ""value"": ""0d55cf9adf0a47c7af6935c4af640811"" ""datasource"": ""${prometheusds}"", ""description"": null, ""error"": null, ""label"": null, ""options"": [ { ""selected"": true, ""text"": ""0d55cf9adf0a47c7af6935c4af640811"", ""value"": ""0d55cf9adf0a47c7af6935c4af640811"" } ], ""refresh"": 0, ""tags"": [], ""version"": 29",420,299
openstack%2Freleases~918422,openstack/releases,master,I1b224e98c89bd5fafeb1ef7d8f87dc476ba84417,Nova deadlines for Dalmatian schedule,MERGED,2024-05-07 09:41:07.000000000,2024-05-17 09:57:40.000000000,2024-05-17 09:57:40.000000000,"[{'_account_id': 11604}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-07 09:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7d8c00b8827bd61fc34ec5510f4027bfc50b4a72', 'message': 'Nova deadlines for Dalmatian schedule\n\nWe agreed on those dates during the PTG.\n\nChange-Id: I1b224e98c89bd5fafeb1ef7d8f87dc476ba84417\n'}, {'number': 2, 'created': '2024-05-17 08:31:44.000000000', 'files': ['doc/source/dalmatian/schedule.rst', 'doc/source/dalmatian/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9aba7caf6a75c5429ac544113e7bae7af53b8fb4', 'message': 'Nova deadlines for Dalmatian schedule\n\nWe agreed on those dates during the PTG.\n\nChange-Id: I1b224e98c89bd5fafeb1ef7d8f87dc476ba84417\n'}]",7,918422,9aba7caf6a75c5429ac544113e7bae7af53b8fb4,12,4,2,7166,,,0,"Nova deadlines for Dalmatian schedule

We agreed on those dates during the PTG.

Change-Id: I1b224e98c89bd5fafeb1ef7d8f87dc476ba84417
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/918422/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/dalmatian/schedule.rst', 'doc/source/dalmatian/schedule.yaml']",2,7d8c00b8827bd61fc34ec5510f4027bfc50b4a72,nova_dalmatian_schedule, project-specific: - d-nova-spec-review-day project-specific: - d-nova-spec-review-day project-specific: - d-nova-spec-freeze project-specific: - d-nova-review-day,,39,0
openstack%2Ftaskflow~919661,openstack/taskflow,stable/2024.1,I68f786d4125e00708c45fcb81fc1ff9cbe059f27,Remove SQLAlchemy tips jobs,MERGED,2024-05-15 03:48:07.000000000,2024-05-17 09:55:33.000000000,2024-05-17 09:51:24.000000000,"[{'_account_id': 9816}, {'_account_id': 11628}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 03:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/de48a626a3629e1d8c80e248d136f66c2bba6807', 'message': 'Remove SQLAlchemy tips jobs\n\nThe most recent SQLAlchemy and Alembic versions are now in\nupper-constraints. As a result, this job has served its purpose and can\nbe removed. For more information, see [1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/\n\nConflicts:\n\t.zuul.yaml\n\nChange-Id: I68f786d4125e00708c45fcb81fc1ff9cbe059f27\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 7bc39ac5afde1b008c8f65613aaa8cfd9c722a37)\n'}, {'number': 2, 'created': '2024-05-15 03:51:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ce81b920870b04e5156c5d7d07e345e4ecac4c02', 'message': 'Remove SQLAlchemy tips jobs\n\nThe most recent SQLAlchemy and Alembic versions are now in\nupper-constraints. As a result, this job has served its purpose and can\nbe removed. For more information, see [1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/\n\nChange-Id: I68f786d4125e00708c45fcb81fc1ff9cbe059f27\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/requirements/+/879743\n(cherry picked from commit 7bc39ac5afde1b008c8f65613aaa8cfd9c722a37)\n'}]",1,919661,ce81b920870b04e5156c5d7d07e345e4ecac4c02,12,4,2,9816,,,0,"Remove SQLAlchemy tips jobs

The most recent SQLAlchemy and Alembic versions are now in
upper-constraints. As a result, this job has served its purpose and can
be removed. For more information, see [1].

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/thread/RBHXHTO3GUOOXVSZXD4C2O3TKDOH2QSC/

Change-Id: I68f786d4125e00708c45fcb81fc1ff9cbe059f27
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Depends-on: https://review.opendev.org/c/openstack/requirements/+/879743
(cherry picked from commit 7bc39ac5afde1b008c8f65613aaa8cfd9c722a37)
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/61/919661/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,de48a626a3629e1d8c80e248d136f66c2bba6807,sqlalchemy-20,,"# Temporary job until SQLAlchemy 2.0 is no longer blocked by upper-requirements - job: name: taskflow-tox-py310-with-sqlalchemy-2x parent: openstack-tox-py310 description: | Run unit tests with main branch of SQLAlchemy, alembic and oslo.db. Takes advantage of the base tox job's install-siblings feature. # The job only tests the latest and shouldn't be run on the stable branches branches: regex: ^stable/.*$ negate: true required-projects: - name: github.com/sqlalchemy/sqlalchemy override-checkout: main - name: github.com/sqlalchemy/alembic override-checkout: main - name: openstack/oslo.db check: jobs: - taskflow-tox-py310-with-sqlalchemy-2x gate: jobs: - taskflow-tox-py310-with-sqlalchemy-2x",0,23
openstack%2Ftaskflow~916147,openstack/taskflow,master,I6c69593c5ce5a62721294564917d7a75531a2dac,"Python3.12: disable process_executor, which depends on asyncore",MERGED,2024-04-17 23:54:22.000000000,2024-05-17 09:55:02.000000000,2024-05-17 09:53:29.000000000,"[{'_account_id': 8122}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2024-04-17 23:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f5e16cb441e7b0db10d65009e49a3ff389114b02', 'message': 'Python3.12: disable process_executor, which depends on asyncore\n\nThe asyncore module has been deprecated in Python 3.6 and removed in\nPython 3.12. In the future, we should either port process_executor to\nasyncio or deprecate it, but for now we just disable it starting in\nPython 3.12.\n\nChange-Id: I6c69593c5ce5a62721294564917d7a75531a2dac\n'}, {'number': 2, 'created': '2024-04-18 14:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/90c647d9a015ea3923f6e9f7e81abccaeea18bce', 'message': 'Python3.12: disable process_executor, which depends on asyncore\n\nThe asyncore module has been deprecated in Python 3.6 and removed in\nPython 3.12. In the future, we should either port process_executor to\nasyncio or deprecate it, but for now we just disable it starting in\nPython 3.12.\n\nChange-Id: I6c69593c5ce5a62721294564917d7a75531a2dac\n'}, {'number': 3, 'created': '2024-04-30 15:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2adce34ae0f2445de7af74af4852fdd2efc15bbf', 'message': 'Python3.12: disable process_executor, which depends on asyncore\n\nThe asyncore module has been deprecated in Python 3.6 and removed in\nPython 3.12. In the future, we should either port process_executor to\nasyncio or deprecate it, but for now we just disable it starting in\nPython 3.12.\n\nChange-Id: I6c69593c5ce5a62721294564917d7a75531a2dac\n'}, {'number': 4, 'created': '2024-04-30 17:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5ea977c22e251e7ca8996e574d88762378f6cadb', 'message': 'Python3.12: disable process_executor, which depends on asyncore\n\nThe asyncore module has been deprecated in Python 3.6 and removed in\nPython 3.12. In the future, we should either port process_executor to\nasyncio or deprecate it, but for now we just disable it starting in\nPython 3.12.\n\nChange-Id: I6c69593c5ce5a62721294564917d7a75531a2dac\n'}, {'number': 5, 'created': '2024-04-30 17:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8e855cbcc5a62fc1ebfb21ab414258e3aed5d54f', 'message': 'Python3.12: disable process_executor, which depends on asyncore\n\nThe asyncore module has been deprecated in Python 3.6 and removed in\nPython 3.12. In the future, we should either port process_executor to\nasyncio or deprecate it, but for now we just disable it starting in\nPython 3.12.\n\nChange-Id: I6c69593c5ce5a62721294564917d7a75531a2dac\n'}, {'number': 6, 'created': '2024-04-30 21:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/85b330057adfeceed7c00e1a7997b48fb984e48f', 'message': 'Python3.12: disable process_executor, which depends on asyncore\n\nThe asyncore module has been deprecated in Python 3.6 and removed in\nPython 3.12. In the future, we should either port process_executor to\nasyncio or deprecate it, but for now we just disable it starting in\nPython 3.12.\n\nCloses-Bug: #2026183\n\nChange-Id: I6c69593c5ce5a62721294564917d7a75531a2dac\n'}, {'number': 7, 'created': '2024-05-03 23:24:28.000000000', 'files': ['taskflow/engines/action_engine/engine.py', 'taskflow/tests/unit/action_engine/test_creation.py', 'taskflow/tests/unit/test_engines.py', 'taskflow/engines/action_engine/process_executor.py', 'taskflow/tests/unit/test_arguments_passing.py', 'releasenotes/notes/disable-process_executor-python-312-d1074c816bc8303e.yaml', 'taskflow/tests/unit/test_suspend.py', 'taskflow/tests/unit/test_retries.py', 'taskflow/tests/unit/action_engine/test_process_executor.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/78d39c49aab39fc823c86ef93bc696968e12f233', 'message': 'Python3.12: disable process_executor, which depends on asyncore\n\nThe asyncore module has been deprecated in Python 3.6 and removed in\nPython 3.12. In the future, we should either port process_executor to\nasyncio or deprecate it, but for now we just disable it starting in\nPython 3.12.\n\nCloses-Bug: #2026183\n\nChange-Id: I6c69593c5ce5a62721294564917d7a75531a2dac\n'}]",11,916147,78d39c49aab39fc823c86ef93bc696968e12f233,24,4,7,8122,,,0,"Python3.12: disable process_executor, which depends on asyncore

The asyncore module has been deprecated in Python 3.6 and removed in
Python 3.12. In the future, we should either port process_executor to
asyncio or deprecate it, but for now we just disable it starting in
Python 3.12.

Closes-Bug: #2026183

Change-Id: I6c69593c5ce5a62721294564917d7a75531a2dac
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/47/916147/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/engine.py', 'taskflow/tests/unit/action_engine/test_creation.py', 'taskflow/tests/unit/test_engines.py', 'taskflow/tests/unit/test_arguments_passing.py', 'taskflow/tests/unit/test_suspend.py', 'taskflow/tests/unit/test_retries.py', 'taskflow/tests/unit/action_engine/test_process_executor.py']",7,f5e16cb441e7b0db10d65009e49a3ff389114b02,py312,"try: import asyncore _ASYNCORE_AVAILABLE = True except ImportError: _ASYNCORE_AVAILABLE = Falseimport testtools if _ASYNCORE_AVAILABLE: from taskflow.engines.action_engine import process_executor as pu@testtools.skipIf(not _ASYNCORE_AVAILABLE, 'process_executor is not available')",import asyncorefrom taskflow.engines.action_engine import process_executor as pu,42,13
openstack%2Ftaskflow~919642,openstack/taskflow,stable/2024.1,I1ddb580e9e8eb34937acba934520a998d249da3c,Add functional job with redis enabled,MERGED,2024-05-15 03:49:51.000000000,2024-05-17 09:54:43.000000000,2024-05-17 09:51:23.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-15 03:49:51.000000000', 'files': ['playbooks/tests/functional/RedHat.yaml', 'bindep.txt', 'test-requirements.txt', '.zuul.yaml', 'playbooks/tests/functional/pre.yml', 'playbooks/tests/functional/Debian.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/34ef1ea9bee705ddb4dd81ca8d2737d5b9d46a8e', 'message': 'Add functional job with redis enabled\n\nSome of the ""unit"" test cases required actual redis running. This\nintroduces a separate job with actual redis service enabled so that\nwe run these tests in CI.\n\nChange-Id: I1ddb580e9e8eb34937acba934520a998d249da3c\n(cherry picked from commit f46a54aa959820c80f1a662dbdd89a25cc5460ee)\n'}]",0,919642,34ef1ea9bee705ddb4dd81ca8d2737d5b9d46a8e,7,2,1,9816,,,0,"Add functional job with redis enabled

Some of the ""unit"" test cases required actual redis running. This
introduces a separate job with actual redis service enabled so that
we run these tests in CI.

Change-Id: I1ddb580e9e8eb34937acba934520a998d249da3c
(cherry picked from commit f46a54aa959820c80f1a662dbdd89a25cc5460ee)
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/42/919642/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tests/functional/RedHat.yaml', 'bindep.txt', 'test-requirements.txt', '.zuul.yaml', 'playbooks/tests/functional/pre.yml', 'playbooks/tests/functional/Debian.yaml', 'tox.ini']",7,34ef1ea9bee705ddb4dd81ca8d2737d5b9d46a8e,,"[testenv:functional] commands = find . -type f -name ""*.pyc"" -delete pifpaf -e TAKSFLOW_TEST run {env:PIFPAF_DAEMON} {env:PIFPAF_OPTS} -- stestr run allowlist_externals = find ",,60,0
openstack%2Fproject-config~919391,openstack/project-config,master,Ic75809721c2e32a32a16bf29137a10af7d4da80c,Retire Sahara: remove project from infra,MERGED,2024-05-11 00:46:51.000000000,2024-05-17 09:53:38.000000000,2024-05-17 09:29:14.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-11 00:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/31b074cd2cf90aedf0348e27efcd0dbdbda65a5e', 'message': 'Retire Sahara: remove project from infra\n\nSahara project has been retired, this commit removes\nit from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919374/1\nChange-Id: Ic75809721c2e32a32a16bf29137a10af7d4da80c\n'}, {'number': 2, 'created': '2024-05-15 08:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/dd1e4e61a758d61066d3e8cbdec10607a3f8cdff', 'message': 'Retire Sahara: remove project from infra\n\nSahara project has been retired, this commit removes\nit from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919374/1\nChange-Id: Ic75809721c2e32a32a16bf29137a10af7d4da80c\n'}, {'number': 3, 'created': '2024-05-16 23:40:58.000000000', 'files': ['gerrit/acls/openstack/sahara-dashboard.config', 'gerrit/acls/openstack/sahara-tests.config', 'gerritbot/channels.yaml', 'gerrit/acls/openstack/sahara-specs.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/sahara.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/172f0b0c193fbfd29ce52aa312d0e15122338c52', 'message': 'Retire Sahara: remove project from infra\n\nSahara project has been retired, this commit removes\nit from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919374/1\nChange-Id: Ic75809721c2e32a32a16bf29137a10af7d4da80c\n'}]",1,919391,172f0b0c193fbfd29ce52aa312d0e15122338c52,13,3,3,8556,,,0,"Retire Sahara: remove project from infra

Sahara project has been retired, this commit removes
it from infra.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919374/1
Change-Id: Ic75809721c2e32a32a16bf29137a10af7d4da80c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/919391/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/sahara-dashboard.config', 'gerrit/acls/openstack/sahara-tests.config', 'gerritbot/channels.yaml', 'gerrit/acls/openstack/sahara-specs.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/sahara.config']",8,31b074cd2cf90aedf0348e27efcd0dbdbda65a5e,retire-sahara,,"[access] inheritFrom = openstack/meta-config [access ""refs/heads/*""] abandon = group sahara-core label-Code-Review = -2..+2 group sahara-core label-Verified = -1..+1 group sahara-ci label-Workflow = -1..+1 group sahara-core [access ""refs/heads/stable/*""] abandon = group Change Owner abandon = group Project Bootstrappers abandon = group sahara-stable-maint abandon = group stable-maint-core exclusiveGroupPermissions = abandon label-Code-Review label-Workflow label-Code-Review = -2..+2 group Project Bootstrappers label-Code-Review = -2..+2 group sahara-stable-maint label-Code-Review = -2..+2 group stable-maint-core label-Code-Review = -1..+1 group Registered Users label-Workflow = -1..+0 group Change Owner label-Workflow = -1..+1 group Project Bootstrappers label-Workflow = -1..+1 group sahara-stable-maint label-Workflow = -1..+1 group stable-maint-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",0,268
openstack%2Fproject-config~919397,openstack/project-config,master,I00c599b5a89db53674b34ab2ae1f5e784e59e779,Retire ec2-api: remove project from infra,MERGED,2024-05-11 01:05:33.000000000,2024-05-17 09:41:44.000000000,2024-05-17 09:14:20.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-11 01:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4d0399eac51dc2110fa932c1c0f45df840a93b62', 'message': 'Retire ec2-api: remove project from infra\n\nec2-api project has been retired, this commit removes\nit from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919394/1\nChange-Id: I00c599b5a89db53674b34ab2ae1f5e784e59e779\n'}, {'number': 2, 'created': '2024-05-15 08:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cfe0d4b480d70d1ba1333baf0f1ac6d31ca5a5f0', 'message': 'Retire ec2-api: remove project from infra\n\nec2-api project has been retired, this commit removes\nit from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919394/1\nChange-Id: I00c599b5a89db53674b34ab2ae1f5e784e59e779\n'}, {'number': 3, 'created': '2024-05-16 23:34:18.000000000', 'files': ['gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/ec2-api.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6a222415469107d5600e6857ea88a7ae7d26bb6d', 'message': 'Retire ec2-api: remove project from infra\n\nec2-api project has been retired, this commit removes\nit from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919394/1\nChange-Id: I00c599b5a89db53674b34ab2ae1f5e784e59e779\n'}]",3,919397,6a222415469107d5600e6857ea88a7ae7d26bb6d,14,3,3,8556,,,0,"Retire ec2-api: remove project from infra

ec2-api project has been retired, this commit removes
it from infra.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919394/1
Change-Id: I00c599b5a89db53674b34ab2ae1f5e784e59e779
",git fetch https://review.opendev.org/openstack/project-config refs/changes/97/919397/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/ec2-api.config']",4,4d0399eac51dc2110fa932c1c0f45df840a93b62,retire-ec2api,,"[access] inheritFrom = openstack/meta-config [access ""refs/heads/*""] abandon = group ec2-api-core label-Code-Review = -2..+2 group ec2-api-core label-Workflow = -1..+1 group ec2-api-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",0,32
openstack%2Fproject-config~919355,openstack/project-config,master,Ica75f88bc80bed5b3eb7f84200e60a9179afc2dd,Retire Senlin: remove project from infra,MERGED,2024-05-10 21:46:43.000000000,2024-05-17 09:31:45.000000000,2024-05-17 09:14:17.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-10 21:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/aaf7c263b9ce4ab2e8b9b12b5253b204120dc4f8', 'message': 'Retire Senlin: remove project from infra\n\nSenlin project has been retired, this commit removes\nit from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919347\nChange-Id: Ica75f88bc80bed5b3eb7f84200e60a9179afc2dd\n'}, {'number': 2, 'created': '2024-05-16 23:29:54.000000000', 'files': ['gerrit/acls/openstack/senlin.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/senlin-dashboard.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a8a40342490fd79ee11f284608cb955b011dcf3a', 'message': 'Retire Senlin: remove project from infra\n\nSenlin project has been retired, this commit removes\nit from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919347\nChange-Id: Ica75f88bc80bed5b3eb7f84200e60a9179afc2dd\n'}]",1,919355,a8a40342490fd79ee11f284608cb955b011dcf3a,12,3,2,8556,,,0,"Retire Senlin: remove project from infra

Senlin project has been retired, this commit removes
it from infra.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919347
Change-Id: Ica75f88bc80bed5b3eb7f84200e60a9179afc2dd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/919355/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/senlin.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/senlin-dashboard.config']",6,aaf7c263b9ce4ab2e8b9b12b5253b204120dc4f8,retire-senlin,,"[access] inheritFrom = openstack/meta-config [access ""refs/heads/*""] abandon = group senlin-dashboard-core label-Code-Review = -2..+2 group senlin-dashboard-core label-Workflow = -1..+1 group senlin-dashboard-core [access ""refs/heads/stable/*""] abandon = group Change Owner abandon = group Project Bootstrappers abandon = group senlin-dashboard-stable-maint abandon = group stable-maint-core exclusiveGroupPermissions = abandon label-Code-Review label-Workflow label-Code-Review = -2..+2 group Project Bootstrappers label-Code-Review = -2..+2 group senlin-dashboard-stable-maint label-Code-Review = -2..+2 group stable-maint-core label-Code-Review = -1..+1 group Registered Users label-Workflow = -1..+0 group Change Owner label-Workflow = -1..+1 group Project Bootstrappers label-Workflow = -1..+1 group senlin-dashboard-stable-maint label-Workflow = -1..+1 group stable-maint-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",0,108
openstack%2Fhorizon~916095,openstack/horizon,stable/2023.1,Ia778317acc41fe589765e6cd04c7fe8cad2360ab,Fix Users/Groups tab list when a domain context is set,MERGED,2024-04-19 08:23:48.000000000,2024-05-17 09:31:43.000000000,2024-05-17 09:29:11.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-04-19 08:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bc934c7b3d0c7fc4d75de798a50cc3fabdfd6012', 'message': ""Fix Users/Groups tab list when a domain context is set\n\nThe list of users assigned to a project becomes invisible when a domain context\nis set in Horizon. If a domain context is set, the user list call should\nprovide a list of users within the specified domain context, rather than users\nwithin the user's own domain.\n\nGroups tab of project also has the same problem.\n\nChange-Id: Ia778317acc41fe589765e6cd04c7fe8cad2360ab\nCloses-Bug: #2054799\n(cherry picked from commit ed768ab5071307ee15f95636ea548050cb894f9e)\n""}, {'number': 2, 'created': '2024-05-06 14:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/20c7a8a72f54923a9dd013f96029b47fe4fd9334', 'message': ""Fix Users/Groups tab list when a domain context is set\n\nThe list of users assigned to a project becomes invisible when a domain context\nis set in Horizon. If a domain context is set, the user list call should\nprovide a list of users within the specified domain context, rather than users\nwithin the user's own domain.\n\nGroups tab of project also has the same problem.\n\nDue to this change I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7 our integration\njob is failing, so this patch also update cirros image version to fix our CI.\n\nChange-Id: Ia778317acc41fe589765e6cd04c7fe8cad2360ab\nCloses-Bug: #2054799\n(cherry picked from commit ed768ab5071307ee15f95636ea548050cb894f9e)\n""}, {'number': 3, 'created': '2024-05-07 09:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/44682f59c0cd514f8039b5ad51616fa72b68761f', 'message': ""Fix Users/Groups tab list when a domain context is set\n\nThe list of users assigned to a project becomes invisible when a domain context\nis set in Horizon. If a domain context is set, the user list call should\nprovide a list of users within the specified domain context, rather than users\nwithin the user's own domain.\n\nGroups tab of project also has the same problem.\n\nDue to this change I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7 our integration\njob is failing, so this patch also update cirros image version to fix our CI.\n\nChange-Id: Ia778317acc41fe589765e6cd04c7fe8cad2360ab\nCloses-Bug: #2054799\n(cherry picked from commit ed768ab5071307ee15f95636ea548050cb894f9e)\n""}, {'number': 4, 'created': '2024-05-14 04:22:39.000000000', 'files': ['openstack_dashboard/dashboards/identity/projects/tabs.py', 'openstack_dashboard/dashboards/identity/projects/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4437228638b899e3963856e0e1158b364c3a97b1', 'message': ""Fix Users/Groups tab list when a domain context is set\n\nThe list of users assigned to a project becomes invisible when a domain context\nis set in Horizon. If a domain context is set, the user list call should\nprovide a list of users within the specified domain context, rather than users\nwithin the user's own domain.\n\nGroups tab of project also has the same problem.\n\nChange-Id: Ia778317acc41fe589765e6cd04c7fe8cad2360ab\nDepends-On: I58c2d33a07bcc04d70cc6867cb44dc7248db9651\nCloses-Bug: #2054799\n(cherry picked from commit ed768ab5071307ee15f95636ea548050cb894f9e)\nSigned-off-by: Zhang Hua <joshua.zhang@canonical.com>\n""}]",12,916095,4437228638b899e3963856e0e1158b364c3a97b1,40,4,4,2711,,,0,"Fix Users/Groups tab list when a domain context is set

The list of users assigned to a project becomes invisible when a domain context
is set in Horizon. If a domain context is set, the user list call should
provide a list of users within the specified domain context, rather than users
within the user's own domain.

Groups tab of project also has the same problem.

Change-Id: Ia778317acc41fe589765e6cd04c7fe8cad2360ab
Depends-On: I58c2d33a07bcc04d70cc6867cb44dc7248db9651
Closes-Bug: #2054799
(cherry picked from commit ed768ab5071307ee15f95636ea548050cb894f9e)
Signed-off-by: Zhang Hua <joshua.zhang@canonical.com>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/95/916095/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/identity/projects/tabs.py', 'openstack_dashboard/dashboards/identity/projects/tests.py']",2,bc934c7b3d0c7fc4d75de798a50cc3fabdfd6012,bug2054799,"from openstack_dashboard.utils import identity quotas: ('enabled_quotas',), identity: ('get_domain_id_for_operation',)}) self.mock_get_domain_id_for_operation.return_value = domain.id def _user_list_side_effect(request, group=None, domain=None): self.mock_group_list.assert_called_once_with(test.IsHttpRequest(), domain=""1"") calls = [mock.call(test.IsHttpRequest(), domain=""1""), mock.call(test.IsHttpRequest(), group=""1"", domain=""1""), ] calls = [mock.call(test.IsHttpRequest(), ""1""), mock.call(test.IsHttpRequest(), None), ] self.mock_domain_get.assert_has_calls(calls) self.mock_group_list.assert_called_once_with(test.IsHttpRequest(), domain=None) calls = [mock.call(test.IsHttpRequest(), ""1""), mock.call(test.IsHttpRequest(), None), ] self.mock_domain_get.assert_has_calls(calls)"," quotas: ('enabled_quotas',)}) def _user_list_side_effect(request, group=None): self.mock_group_list.assert_called_once_with(test.IsHttpRequest()) calls = [mock.call(test.IsHttpRequest()), mock.call(test.IsHttpRequest(), group=""1""), ] self.mock_domain_get.assert_called_once_with(test.IsHttpRequest(), domain.id) self.mock_group_list.assert_called_once_with(test.IsHttpRequest()) self.mock_domain_get.assert_called_once_with(test.IsHttpRequest(), domain.id)",26,14
openstack%2Fswift~909674,openstack/swift,master,I2f698c25ed65b236e851e5a307d48a12cef62b33,object-server: return 503 not 404 if meta or data file unlinked,NEW,2024-02-21 14:39:04.000000000,2024-05-17 09:17:49.000000000,,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-21 14:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8e3ad5997daedba8d0c9e75886d7c3ac9d7e478f', 'message': 'diskfile: add test_open_meta_file_unlinked\n\nVerify that if a .meta file is cleaned up while diskfile is being\nopened then DiskFileNotExist can be raised.\n\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n'}, {'number': 2, 'created': '2024-02-22 16:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1399d2b913c90821bb50e7ca14bcac2950fba2a7', 'message': ""object-server: return 503 not 404 if meta file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception is raised which\nwould previously cause the object server to return a 404.\n\nThis behavior is appropriate when the missing file is a data file (it\ncould have been removed by a concurrent request) but not when it is a\nmeta file (it could have been replaced by another meta file, but the\nobject still exists). For example, during a period of many concurrent\nPOST requests to an object in a production system, a significant\nnumber of the POSTs returned 404 despite the object never being\ndeleted.\n\nThis patch modifies DiskFile to raise a new\nDiskFileMetadataUnavailable exception when metadata cannot be read\nfrom a meta file that was listed in the object's datadir. The object\nserver may translate this exception to a 503 response rather than a\n404, depending on the request method:\n\nPOSTs, GETs and HEADs that encounter this transient loss of a meta\nfile will now return 503 rather than 404.\n\nDELETEs that encounter this transient loss of a meta file would\npreviously have proceeded but will now return 503: the meta file may\ncontain an X-Delete-At that would have prevented the DELETE\nproceeding.\n\nPUTs that encounter this transient loss of a meta file will continue\nto proceed as before: the meta file may contain an X-Delete-At that\nrequires updates to the expirer queue but those updates would\npresumably be handled by the concurrent POST that has replaced the\nmeta file.\n\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}, {'number': 3, 'created': '2024-02-23 11:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aacc064e04c511fc77f9c52b4d36e45690c72b2d', 'message': ""object-server: return 503 not 404 if meta file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception is raised which\nwould previously cause the object server to return a 404.\n\nThis behavior is appropriate when the missing file is a data file (it\ncould have been removed by a concurrent request) but not when it is a\nmeta file (it could have been replaced by another meta file, but the\nobject still exists). For example, during a period of many concurrent\nPOST requests to an object in a production system, a significant\nnumber of the POSTs returned 404 despite the object never being\ndeleted.\n\nThis patch modifies DiskFile to raise a new\nDiskFileMetadataUnavailable exception when metadata cannot be read\nfrom a meta file that was listed in the object's datadir. The object\nserver may translate this exception to a 503 response rather than a\n404, depending on the request method:\n\nPOSTs, GETs and HEADs that encounter this transient loss of a meta\nfile will now return 503 rather than 404.\n\nDELETEs that encounter this transient loss of a meta file would\npreviously have proceeded but will now return 503: the meta file may\ncontain an X-Delete-At that would have prevented the DELETE\nproceeding.\n\nPUTs that encounter this transient loss of a meta file will continue\nto proceed as before: the meta file may contain an X-Delete-At that\nrequires updates to the expirer queue but those updates would\npresumably be handled by the concurrent POST that has replaced the\nmeta file.\n\nCloses-Bug: #2054791\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}, {'number': 4, 'created': '2024-02-23 12:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/43c3cdd956ffd7d8270c9fc6ec27a96fdac3167d', 'message': ""object-server: return 503 not 404 if meta file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception is raised which\nwould previously cause the object server to return a 404.\n\nThis behavior is appropriate when the missing file is a data file (it\ncould have been removed by a concurrent request) but not when it is a\nmeta file (it could have been replaced by another meta file, but the\nobject still exists). For example, during a period of many concurrent\nPOST requests to an object in a production system, a significant\nnumber of the POSTs returned 404 despite the object never being\ndeleted.\n\nThis patch modifies DiskFile to raise a new\nDiskFileMetadataUnavailable exception when metadata cannot be read\nfrom a meta file that was listed in the object's datadir. The object\nserver may translate this exception to a 503 response rather than a\n404, depending on the request method:\n\nPOSTs, GETs and HEADs that encounter this transient loss of a meta\nfile will now return 503 rather than 404.\n\nDELETEs that encounter this transient loss of a meta file would\npreviously have proceeded but will now return 503: the meta file may\ncontain an X-Delete-At that would have prevented the DELETE\nproceeding.\n\nPUTs that encounter this transient loss of a meta file will continue\nto proceed as before: the meta file may contain an X-Delete-At that\nrequires updates to the expirer queue but those updates would\npresumably be handled by the concurrent POST that has replaced the\nmeta file.\n\nCloses-Bug: #2054791\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}, {'number': 5, 'created': '2024-02-23 12:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a87ae2ebaaafbe6b10451e6fd9b3ba78b4426be0', 'message': ""object-server: return 503 not 404 if meta file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception is raised which\nwould previously cause the object server to return a 404.\n\nThis behavior is appropriate when the missing file is a data file (it\ncould have been removed by a concurrent request) but not when it is a\nmeta file (it could have been replaced by another meta file, but the\nobject still exists). For example, during a period of many concurrent\nPOST requests to an object in a production system, a significant\nnumber of the POSTs returned 404 despite the object never being\ndeleted.\n\nThis patch modifies DiskFile to raise a new\nDiskFileMetadataUnavailable exception when metadata cannot be read\nfrom a meta file that was listed in the object's datadir. The object\nserver may translate this exception to a 503 response rather than a\n404, depending on the request method:\n\nPOSTs, GETs and HEADs that encounter this transient loss of a meta\nfile will now return 503 rather than 404.\n\nDELETEs that encounter this transient loss of a meta file would\npreviously have proceeded but will now return 503: the meta file may\ncontain an X-Delete-At that would have prevented the DELETE\nproceeding.\n\nPUTs that encounter this transient loss of a meta file will continue\nto proceed as before: the meta file may contain an X-Delete-At that\nrequires updates to the expirer queue but those updates would\npresumably be handled by the concurrent POST that has replaced the\nmeta file.\n\nCloses-Bug: #2054791\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}, {'number': 6, 'created': '2024-02-23 13:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/20da935f5c022f9aab81e6fc402313d4613e6c7e', 'message': ""object-server: return 503 not 404 if meta file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception is raised which\nwould previously cause the object server to return a 404.\n\nThis behavior is appropriate when the missing file is a data file (it\ncould have been removed by a concurrent request) but not when it is a\nmeta file (it could have been replaced by another meta file, but the\nobject still exists). For example, during a period of many concurrent\nPOST requests to an object in a production system, a significant\nnumber of the POSTs returned 404 despite the object never being\ndeleted.\n\nThis patch modifies DiskFile to raise a new\nDiskFileMetadataUnavailable exception when metadata cannot be read\nfrom a meta file that was listed in the object's datadir. The object\nserver may translate this exception to a 503 response rather than a\n404, depending on the request method:\n\nPOSTs, GETs and HEADs that encounter this transient loss of a meta\nfile will now return 503 rather than 404.\n\nDELETEs that encounter this transient loss of a meta file would\npreviously have proceeded but will now return 503: the meta file may\ncontain an X-Delete-At that would have prevented the DELETE\nproceeding.\n\nPUTs that encounter this transient loss of a meta file will continue\nto proceed as before: the meta file may contain an X-Delete-At that\nrequires updates to the expirer queue but those updates would\npresumably be handled by the concurrent POST that has replaced the\nmeta file.\n\nCloses-Bug: #2054791\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}, {'number': 7, 'created': '2024-02-26 15:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b80a986cf4c7b5e47a462c92d897669d30ee98b1', 'message': ""object-server: return 503 not 404 if meta file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception is raised which\nwould previously cause the object server to return a 404.\n\nThis behavior is appropriate when the missing file is a data file (it\ncould have been removed by a concurrent request) but not when it is a\nmeta file (it could have been replaced by another meta file, but the\nobject still exists). For example, during a period of many concurrent\nPOST requests to an object in a production system, a significant\nnumber of the POSTs returned 404 despite the object never being\ndeleted.\n\nThis patch modifies DiskFile to raise a new\nDiskFileMetadataUnavailable exception when metadata cannot be read\nfrom a meta file that was listed in the object's datadir. The object\nserver may translate this exception to a 503 response rather than a\n404, depending on the request method:\n\nPOSTs, GETs and HEADs that encounter this transient loss of a meta\nfile will now return 503 rather than 404.\n\nDELETEs that encounter this transient loss of a meta file would\npreviously have proceeded but will now return 503: the meta file may\ncontain an X-Delete-At that would have prevented the DELETE\nproceeding.\n\nPUTs that encounter this transient loss of a meta file will continue\nto proceed as before: the meta file may contain an X-Delete-At that\nrequires updates to the expirer queue but those updates would\npresumably be handled by the concurrent POST that has replaced the\nmeta file.\n\nCloses-Bug: #2054791\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}, {'number': 8, 'created': '2024-02-27 15:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4d5c7d4c130319abc33e9b9b3226eb499ededde', 'message': ""object-server: return 503 not 404 if meta file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception is raised which\nwould previously cause the object server to return a 404.\n\nThis behavior is appropriate when the missing file is a data file (it\ncould have been removed by a concurrent request) but not when it is a\nmeta file (it could have been replaced by another meta file, but the\nobject still exists). For example, during a period of many concurrent\nPOST requests to an object in a production system, a significant\nnumber of the POSTs returned 404 despite the object never being\ndeleted.\n\nThis patch modifies DiskFile to raise a new\nDiskFileMetadataUnavailable exception when metadata cannot be read\nfrom a meta file that was listed in the object's datadir. The object\nserver may translate this exception to a 503 response rather than a\n404, depending on the request method:\n\nPOSTs, GETs and HEADs that encounter this transient loss of a meta\nfile will now return 503 rather than 404.\n\nDELETEs that encounter this transient loss of a meta file would\npreviously have proceeded but will now return 503: the meta file may\ncontain an X-Delete-At that would have prevented the DELETE\nproceeding.\n\nPUTs that encounter this transient loss of a meta file will continue\nto proceed as before: the meta file may contain an X-Delete-At that\nrequires updates to the expirer queue but those updates would\npresumably be handled by the concurrent POST that has replaced the\nmeta file.\n\nCloses-Bug: #2054791\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}, {'number': 9, 'created': '2024-05-16 11:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/578b34f00f8ab228568f92c6a95fdf416d1f2039', 'message': ""object-server: return 503 not 404 if meta or data file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception is raised which\nwould previously cause the object server to return a 404.\n\nIt isn't appropriate to return 404 when the list of on-disk files\nsuggested that the object existed (i.e. included a .data file) and\nthere is no evidence that it no longer exists: the missing file may\nwell have been *replaced* by a concurrent request.\n\nFor example, if a POST request races with another concurrent POST\nrequest, the object's .meta file may be replaced by a new .meta file,\nand reading the original .meta file will fail. Similarly, if a POST\nraces with a concurrent PUT request, the PUT request may replace the\n.data file causing the POST request handler to fail to read the\noriginal .data file. In neither case has the object ever been\nnon-existent.\n\nThi issue was observed during a period of many concurrent POST\nrequests to an object in a production system. A significant number of\nthe POSTs returned 404 despite the object never being deleted.\n\nThis patch modifies DiskFile to raise a new DiskFileStateChanged\nexception when metadata cannot be read from a meta file that was\nlisted in the object's datadir. The object server may translate this\nexception to a 503 response rather than a 404, depending on the\nrequest method:\n\n  * POSTs, GETs and HEADs that encounter this transient loss of a\n    file will now return 503 rather than 404. The DiskFile may\n    still exist.\n\n  * DELETEs that encounter this transient loss of a file would\n    previously have proceeded but will now return 503: a replacement\n    file may contain an X-Delete-At that would have prevented the\n    DELETE proceeding.\n\n  * PUTs that encounter this transient loss of a file will continue to\n    proceed as before: a replacement meta file may contain an\n    X-Delete-At that requires updates to the expirer queue but those\n    updates would presumably be handled by the concurrent POST that\n    has replaced the meta file; a replacement .data file will remain\n    on disk until the DiskFile is next opened and one of the .data\n    files will be cleaned up.\n\nCloses-Bug: #2054791\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}, {'number': 10, 'created': '2024-05-16 13:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/94dc568a7a54eba6c8f4adbee7c80e2a266d74c3', 'message': ""object-server: return 503 not 404 if meta or data file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception is raised which\nwould previously cause the object server to return a 404.\n\nIt isn't appropriate to return 404 when the list of on-disk files\nsuggested that the object existed (i.e. included a .data file) and\nthere is no evidence that it no longer exists: the missing file may\nwell have been *replaced* by a concurrent request.\n\nFor example, if a POST request races with another concurrent POST\nrequest, the object's .meta file may be replaced by a new .meta file,\nand reading the original .meta file will fail. Similarly, if a POST\nraces with a concurrent PUT request, the PUT request may replace the\n.data file causing the POST request handler to fail to read the\noriginal .data file. In neither case has the object ever been\nnon-existent.\n\nThi issue was observed during a period of many concurrent POST\nrequests to an object in a production system. A significant number of\nthe POSTs returned 404 despite the object never being deleted.\n\nThis patch modifies DiskFile to raise a new DiskFileStateChanged\nexception when metadata cannot be read from a meta file that was\nlisted in the object's datadir. The object server may translate this\nexception to a 503 response rather than a 404, depending on the\nrequest method:\n\n  * POSTs, GETs and HEADs that encounter this transient loss of a\n    file will now return 503 rather than 404. The DiskFile may\n    still exist.\n\n  * DELETEs that encounter this transient loss of a file would\n    previously have proceeded but will now return 503: a replacement\n    file may contain an X-Delete-At that would have prevented the\n    DELETE proceeding.\n\n  * PUTs that encounter this transient loss of a file will continue to\n    proceed as before: a replacement meta file may contain an\n    X-Delete-At that requires updates to the expirer queue but those\n    updates would presumably be handled by the concurrent POST that\n    has replaced the meta file; a replacement .data file will remain\n    on disk until the DiskFile is next opened and one of the .data\n    files will be cleaned up.\n\nCloses-Bug: #2054791\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}, {'number': 11, 'created': '2024-05-16 16:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a58117194ea79ca94463648bb31da61268173308', 'message': ""object-server: return 503 not 404 if meta or data file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception was raised which\nwould previously cause the object server to return a 404.\n\nIt isn't appropriate to return 404 when the list of on-disk files\nsuggested that the object existed (i.e. included a .data file) and\nthere is no evidence that the object no longer exists: the missing file\nmay well have been *replaced* by a concurrent request.\n\nFor example, if a POST request races with another concurrent POST\nrequest, the object's .meta file may be replaced by a new .meta file,\nand reading the original .meta file will fail. Similarly, if a POST\nraces with a concurrent PUT request, the PUT request may replace the\n.data file causing the POST request handler to fail to read the\noriginal .data file. In neither case has the object ever been\nnon-existent.\n\nThis issue was observed during a period of many concurrent POST\nrequests to an object in a production system. A significant number of\nthe POSTs returned 404 despite the object never being deleted.\n\nThis patch modifies DiskFile to raise a new DiskFileStateChanged\nexception when metadata cannot be read from a data, meta, or ts file\nthat was listed in the object's datadir. The object server may translate\nthis exception to a 503 response rather than a 404, depending on the\nrequest method:\n\n  * POSTs, GETs and HEADs that encounter this transient loss of a\n    file will now return 503 rather than 404. The DiskFile may\n    still exist.\n\n  * DELETEs that encounter this transient loss of a file would\n    previously have proceeded but will now return 503: a replacement\n    file may contain an X-Delete-At that would have prevented the\n    DELETE proceeding.\n\n  * PUTs that encounter this transient loss of a file will continue to\n    proceed as before: a replacement meta file may contain an\n    X-Delete-At that requires updates to the expirer queue but those\n    updates would presumably be handled by the concurrent POST that\n    has replaced the meta file; a replacement .data file will remain\n    on disk until the DiskFile is next opened and one of the .data\n    files will be cleaned up.\n\nCloses-Bug: #2054791\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}, {'number': 12, 'created': '2024-05-16 17:26:32.000000000', 'files': ['swift/obj/server.py', 'test/unit/obj/test_server.py', 'test/unit/obj/test_diskfile.py', 'swift/common/exceptions.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6be52b6451cb3f99be134a4c4d008592bc4cd8d9', 'message': ""object-server: return 503 not 404 if meta or data file unlinked\n\nWhen a DiskFile is opened, its on-disk files are first listed and then\nxattr metadata is read. If a listed file no longer exists when its\nmetadata is read then a DiskFileNotExist exception was raised which\nwould previously cause the object server to return a 404.\n\nIt isn't appropriate to return 404 when the list of on-disk files\nsuggested that the object existed (i.e. included a .data file) and\nthere is no evidence that the object no longer exists: the missing file\nmay well have been *replaced* by a concurrent request.\n\nFor example, if a POST request races with another concurrent POST\nrequest, the object's .meta file may be replaced by a new .meta file,\nand reading the original .meta file will fail. Similarly, if a POST\nraces with a concurrent PUT request, the PUT request may replace the\n.data file causing the POST request handler to fail to read the\noriginal .data file. In neither case has the object ever been\nnon-existent.\n\nThis issue was observed during a period of many concurrent POST\nrequests to an object in a production system. A significant number of\nthe POSTs returned 404 despite the object never being deleted.\n\nThis patch modifies DiskFile to raise a new DiskFileStateChanged\nexception when metadata cannot be read from a data, meta, or ts file\nthat was listed in the object's datadir. The object server may translate\nthis exception to a 503 response rather than a 404, depending on the\nrequest method:\n\n  * POSTs, GETs and HEADs that encounter this transient loss of a\n    file will now return 503 rather than 404. The DiskFile may\n    still exist.\n\n  * DELETEs that encounter this transient loss of a file would\n    previously have proceeded but will now return 503: a replacement\n    file may contain an X-Delete-At that would have prevented the\n    DELETE proceeding.\n\n  * PUTs that encounter this transient loss of a file will continue to\n    proceed as before: a replacement meta file may contain an\n    X-Delete-At that requires updates to the expirer queue but those\n    updates would presumably be handled by the concurrent POST that\n    has replaced the meta file; a replacement .data file will remain\n    on disk until the DiskFile is next opened and one of the .data\n    files will be cleaned up.\n\nCloses-Bug: #2054791\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nChange-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33\n""}]",101,909674,6be52b6451cb3f99be134a4c4d008592bc4cd8d9,52,5,12,7847,,,0,"object-server: return 503 not 404 if meta or data file unlinked

When a DiskFile is opened, its on-disk files are first listed and then
xattr metadata is read. If a listed file no longer exists when its
metadata is read then a DiskFileNotExist exception was raised which
would previously cause the object server to return a 404.

It isn't appropriate to return 404 when the list of on-disk files
suggested that the object existed (i.e. included a .data file) and
there is no evidence that the object no longer exists: the missing file
may well have been *replaced* by a concurrent request.

For example, if a POST request races with another concurrent POST
request, the object's .meta file may be replaced by a new .meta file,
and reading the original .meta file will fail. Similarly, if a POST
races with a concurrent PUT request, the PUT request may replace the
.data file causing the POST request handler to fail to read the
original .data file. In neither case has the object ever been
non-existent.

This issue was observed during a period of many concurrent POST
requests to an object in a production system. A significant number of
the POSTs returned 404 despite the object never being deleted.

This patch modifies DiskFile to raise a new DiskFileStateChanged
exception when metadata cannot be read from a data, meta, or ts file
that was listed in the object's datadir. The object server may translate
this exception to a 503 response rather than a 404, depending on the
request method:

  * POSTs, GETs and HEADs that encounter this transient loss of a
    file will now return 503 rather than 404. The DiskFile may
    still exist.

  * DELETEs that encounter this transient loss of a file would
    previously have proceeded but will now return 503: a replacement
    file may contain an X-Delete-At that would have prevented the
    DELETE proceeding.

  * PUTs that encounter this transient loss of a file will continue to
    proceed as before: a replacement meta file may contain an
    X-Delete-At that requires updates to the expirer queue but those
    updates would presumably be handled by the concurrent POST that
    has replaced the meta file; a replacement .data file will remain
    on disk until the DiskFile is next opened and one of the .data
    files will be cleaned up.

Closes-Bug: #2054791
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Change-Id: I2f698c25ed65b236e851e5a307d48a12cef62b33
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/909674/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/obj/test_diskfile.py'],1,8e3ad5997daedba8d0c9e75886d7c3ac9d7e478f,p-diskfile-race," def test_open_meta_file_unlinked(self): # if a .meta file is cleaned up while diskfile is being opened then # DiskFileNotExist can be raised timestamp = self.ts().internal self._create_test_file(b'1234567890', timestamp=timestamp) df = self._simple_get_diskfile() df.write_metadata({'X-Timestamp': self.ts().internal, 'test': 'me'}) df = self._simple_get_diskfile() orig_get_ondisk_files = df._get_ondisk_files def fake_get_ondisk_files(files, policy): file_info = orig_get_ondisk_files(files, policy) os.unlink(file_info['meta_file']) return file_info with mock.patch.object(df, '_get_ondisk_files', fake_get_ondisk_files): with self.assertRaises(DiskFileNotExist): df.open() ",,20,0
openstack%2Fovn-octavia-provider~919530,openstack/ovn-octavia-provider,master,I5c770ab1c293dc0a3b607dd5464d026a1629f71f,Enable kuryr job as voting,NEW,2024-05-13 15:13:26.000000000,2024-05-17 09:10:20.000000000,,"[{'_account_id': 9656}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2024-05-13 15:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d7d51a28c4c1ead4c27a73d00f9222e3fd60d33c', 'message': 'Enable kuryr job as voting\n\nAs this one is the real only one that allow us to evaluate a\ncomplete end2end on the ovn-provider, let us activate as\nvoting job.\n\nChange-Id: I5c770ab1c293dc0a3b607dd5464d026a1629f71f\n'}, {'number': 2, 'created': '2024-05-13 15:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9ffd9e9f0d17ecd323f7a1d2c8300992ca87faec', 'message': 'Enable kuryr job as voting\n\nAs this one is the real only one that allow us to evaluate a\ncomplete end2end on the ovn-provider, let us activate as\nvoting job.\n\nChange-Id: I5c770ab1c293dc0a3b607dd5464d026a1629f71f\n'}, {'number': 3, 'created': '2024-05-14 06:35:48.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/870c37993000787e9a4d5960b7e2520bdbfbcaa0', 'message': 'Enable kuryr job as voting\n\nAs this one is the real only one that allow us to evaluate a\ncomplete end2end on the ovn-provider, let us activate as\nvoting job.\n\nChange-Id: I5c770ab1c293dc0a3b607dd5464d026a1629f71f\n'}]",11,919530,870c37993000787e9a4d5960b7e2520bdbfbcaa0,15,3,3,34451,,,0,"Enable kuryr job as voting

As this one is the real only one that allow us to evaluate a
complete end2end on the ovn-provider, let us activate as
voting job.

Change-Id: I5c770ab1c293dc0a3b607dd5464d026a1629f71f
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/30/919530/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d7d51a28c4c1ead4c27a73d00f9222e3fd60d33c,first_attempt,, voting: false,0,1
openstack%2Fpython-dracclient~917151,openstack/python-dracclient,master,I7aae4ba993e20dcba0ce7fd3c377616d7a617224,Drop usage of six,NEW,2024-04-26 14:46:41.000000000,2024-05-17 08:42:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-26 14:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/ffe68819414babaa2b81ee56a3d6228cd1417838', 'message': ""Drop usage of six\n\nsix has been used but is not listed in requirements. It's no longer\ninstalled by dependencies.\n\nRemove usage of six because it's no longer required with python 2\nsupport removed.\n\nChange-Id: I7aae4ba993e20dcba0ce7fd3c377616d7a617224\n""}, {'number': 2, 'created': '2024-05-17 08:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/bbd5dae4e8cbbb54e0760125472e923b0791b69f', 'message': ""Drop usage of six\n\nsix has been used but is not listed in requirements. It's no longer\ninstalled by dependencies.\n\nRemove usage of six because it's no longer required with python 2\nsupport removed.\n\nChange-Id: I7aae4ba993e20dcba0ce7fd3c377616d7a617224\n""}, {'number': 3, 'created': '2024-05-17 08:28:44.000000000', 'files': ['dracclient/wsman.py', 'dracclient/tests/test_wsman.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/64dc97ddd75403c5eba3220fcad67d94f32dea37', 'message': ""Drop usage of six\n\nsix has been used but is not listed in requirements. It's no longer\ninstalled by dependencies.\n\nRemove usage of six because it's no longer required with python 2\nsupport removed.\n\nChange-Id: I7aae4ba993e20dcba0ce7fd3c377616d7a617224\n""}]",1,917151,64dc97ddd75403c5eba3220fcad67d94f32dea37,7,1,3,9816,,,0,"Drop usage of six

six has been used but is not listed in requirements. It's no longer
installed by dependencies.

Remove usage of six because it's no longer required with python 2
support removed.

Change-Id: I7aae4ba993e20dcba0ce7fd3c377616d7a617224
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/51/917151/1 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/wsman.py', 'dracclient/tests/test_wsman.py', 'setup.cfg']",3,ffe68819414babaa2b81ee56a3d6228cd1417838,remove-six,python_requires = >=3.6,,8,7
openstack%2Fpython-dracclient~917125,openstack/python-dracclient,master,I53d00a109de7fcf80f8eafe90ce7bfed913c4c16,Replace assertRaisesRegexp,NEW,2024-04-26 08:56:38.000000000,2024-05-17 08:39:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-26 08:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/50d484a4e891f84b38b303810ff6d934fd716fdb', 'message': 'Replace assertRaisesRegexp\n\nIt was deprecated in python 3.2 and was removed in python 3.12.\n\nChange-Id: I53d00a109de7fcf80f8eafe90ce7bfed913c4c16\n'}, {'number': 2, 'created': '2024-04-26 14:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/dd7459b84ebfc665e7618c75e609a0f6c7fc0f74', 'message': 'Replace assertRaisesRegexp\n\nIt was deprecated in python 3.2 and was removed in python 3.12.\n\nChange-Id: I53d00a109de7fcf80f8eafe90ce7bfed913c4c16\n'}, {'number': 3, 'created': '2024-05-17 08:28:54.000000000', 'files': ['dracclient/tests/test_lifecycle_controller.py', 'dracclient/tests/test_utils.py', 'dracclient/tests/test_raid.py', 'dracclient/tests/test_nic.py', 'dracclient/tests/test_bios.py', 'dracclient/tests/test_idrac_card.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/2536cedb77b85d753356be3c78ec38c9e7873fa0', 'message': 'Replace assertRaisesRegexp\n\nIt was deprecated in python 3.2 and was removed in python 3.12.\n\nChange-Id: I53d00a109de7fcf80f8eafe90ce7bfed913c4c16\n'}]",0,917125,2536cedb77b85d753356be3c78ec38c9e7873fa0,6,1,3,9816,,,0,"Replace assertRaisesRegexp

It was deprecated in python 3.2 and was removed in python 3.12.

Change-Id: I53d00a109de7fcf80f8eafe90ce7bfed913c4c16
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/25/917125/1 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/test_lifecycle_controller.py', 'dracclient/tests/test_utils.py', 'dracclient/tests/test_raid.py', 'dracclient/tests/test_nic.py', 'dracclient/tests/test_bios.py', 'dracclient/tests/test_idrac_card.py']",6,50d484a4e891f84b38b303810ff6d934fd716fdb,, self.assertRaisesRegex( self.assertRaisesRegex( self.assertRaisesRegex( self.assertRaisesRegex( self.assertRaisesRegex(, self.assertRaisesRegexp( self.assertRaisesRegexp( self.assertRaisesRegexp( self.assertRaisesRegexp( self.assertRaisesRegexp(,22,22
openstack%2Ftrove~877071,openstack/trove,master,I4c000363dd046fc82f099de0a30c16b1f01d6d2c,Working on missing postgresql features,NEW,2023-03-10 06:53:06.000000000,2024-05-17 08:36:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-03-10 06:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/081b1a85d32bd989f66ec4a71544001587dc38aa', 'message': 'Working on missing postgresql features\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 2, 'created': '2023-03-10 06:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/37a387a792d15611c18c75d884f1cc847068f910', 'message': 'Working on missing postgresql features.\n\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 3, 'created': '2023-03-20 11:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0e97f25c6b11f1edbbdf9deef5464bc4e180013e', 'message': 'Working on missing postgresql features\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 4, 'created': '2023-03-20 11:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/23e9fdd2c0972faa0125896287faba8139a838b7', 'message': 'Working on missing postgresql features\n\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 5, 'created': '2023-03-20 12:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b3b5aef3d24816665f6161aac554f40798675069', 'message': 'Working on missing postgresql features\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 6, 'created': '2023-03-20 12:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4cfa9b15461c38f8b593ba296c5c829ad1abcf83', 'message': 'Working on missing postgresql features\n\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 7, 'created': '2023-03-21 13:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/757e6cd2cdd28cec5e39dbf755abf4f0c819f1a4', 'message': 'Working on missing postgresql features\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 8, 'created': '2023-03-21 13:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6483ea98b5549f7c66d05b8f1046e0ae50207d18', 'message': 'Working on missing postgresql features\n\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 9, 'created': '2023-03-22 06:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6c50f4e907af41d141296aa9298f32c04369bcd5', 'message': 'Working on missing postgresql features\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 10, 'created': '2023-03-22 06:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/510bbefb6f66bc9f9e341993f742d23dc82095d6', 'message': 'Working on missing postgresql features\n\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 11, 'created': '2023-07-20 03:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9b2f75486a702b999ced75ac5eb71e3b665049b4', 'message': 'Working on missing postgresql features\n\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 12, 'created': '2023-07-20 06:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/440168e175a46829c5dc05686ff51d65a9d4e4e5', 'message': 'Working on missing postgresql features\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 13, 'created': '2023-07-20 08:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8ad0271e51e44b5aa5fc7edc2160b46ca1b1f4cf', 'message': 'Working on missing postgresql features\n\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 14, 'created': '2024-04-02 03:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/82742868b5ba05d119905c72607232cf78224373', 'message': 'Working on missing postgresql features\n\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 15, 'created': '2024-04-02 07:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3647b281e037a436bd43b6f0c9922cd33dc37591', 'message': 'Working on missing postgresql features\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 16, 'created': '2024-04-02 10:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ca0f92ecdcac953c60192b954d5ee1d1989cd5a1', 'message': 'Working on missing postgresql features\n\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 17, 'created': '2024-05-17 08:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/bfd0bc325ba4bf1ab1c0fa4264eb1cc5f7a65326', 'message': 'Working on missing postgresql features\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}, {'number': 18, 'created': '2024-05-17 08:13:28.000000000', 'files': ['trove/conductor/manager.py', 'trove/extensions/mysql/__init__.py', '.gitignore', 'trove/tests/unittests/mysql/test_user_controller.py', 'trove/extensions/common/service.py', 'trove/extensions/common/models.py', 'trove/instance/service.py', 'trove/common/db/models.py', 'trove/extensions/common/common.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/extensions/mgmt/instances/models.py', 'trove/extensions/mysql/models.py', 'trove/taskmanager/models.py', 'trove/db/sqlalchemy/session.py', 'trove/extensions/common/views.py', 'trove/extensions/mysql/views.py', 'trove/tests/unittests/mysql/test_common.py', 'trove/extensions/mgmt/instances/service.py', 'trove/extensions/mysql/service.py', 'trove/extensions/routes/mysql.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/cd2ea4c104aa438442ba130b69e78dab196cd85a', 'message': 'Working on missing postgresql features\n\n* Db list operation added for postgresql\n* User list operation added for postgresql\n* User create operation added for postgresql\n* User delete operation added for postgresql\n* Db create operation added for postgresql\n* Db delete operation added for postgresql\n* User grant access operation added for postgresql\n* User revoke access and update attributes operations added for postgresql\n* Common/db/models collate and character_set setter functions are updated.\n\nChange-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c\n'}]",46,877071,cd2ea4c104aa438442ba130b69e78dab196cd85a,61,2,18,34671,,,0,"Working on missing postgresql features

* Db list operation added for postgresql
* User list operation added for postgresql
* User create operation added for postgresql
* User delete operation added for postgresql
* Db create operation added for postgresql
* Db delete operation added for postgresql
* User grant access operation added for postgresql
* User revoke access and update attributes operations added for postgresql
* Common/db/models collate and character_set setter functions are updated.

Change-Id: I4c000363dd046fc82f099de0a30c16b1f01d6d2c
",git fetch https://review.opendev.org/openstack/trove refs/changes/71/877071/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/conductor/manager.py', 'trove/extensions/mysql/__init__.py', '.gitignore', 'trove/tests/unittests/mysql/test_user_controller.py', 'trove/extensions/common/service.py', 'trove/extensions/mysql/common.py', 'trove/extensions/common/models.py', 'trove/instance/service.py', 'trove/common/db/models.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/extensions/mgmt/instances/models.py', 'trove/extensions/mysql/models.py', 'trove/taskmanager/models.py', 'trove/db/sqlalchemy/session.py', 'trove/extensions/common/views.py', 'trove/extensions/mysql/views.py', 'trove/tests/unittests/mysql/test_common.py', 'trove/extensions/mgmt/instances/service.py', 'trove/extensions/mysql/service.py', 'trove/extensions/routes/mysql.py']",20,081b1a85d32bd989f66ec4a71544001587dc38aa,," common_service.SchemaController(), common_service.UserController(), common_service.UserAccessController(), return resources","from trove.extensions.mysql import service as mysql_service mysql_service.SchemaController(), mysql_service.UserController(), mysql_service.UserAccessController(), return resources ",712,845
openstack%2Fopenstack-manuals~919395,openstack/openstack-manuals,master,I88812b2604fc6a135ca06603d3ce3bc85bfca2d8,Retire ec2-api: remove doc ref,MERGED,2024-05-11 00:57:37.000000000,2024-05-17 08:02:06.000000000,2024-05-17 07:06:19.000000000,"[{'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-11 00:57:37.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3973662f583dfd2ae611bed4e0d525a1a129378b', 'message': 'Retire ec2-api: remove doc ref\n\nec2-api project is retired, adding its doc\nsite redirect to README.rst file.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919394/1\nChange-Id: I88812b2604fc6a135ca06603d3ce3bc85bfca2d8\n'}]",0,919395,3973662f583dfd2ae611bed4e0d525a1a129378b,9,3,1,8556,,,0,"Retire ec2-api: remove doc ref

ec2-api project is retired, adding its doc
site redirect to README.rst file.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919394/1
Change-Id: I88812b2604fc6a135ca06603d3ce3bc85bfca2d8
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/95/919395/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,3973662f583dfd2ae611bed4e0d525a1a129378b,retire-ec2api," 'openstack/ec2-api',",,1,0
openstack%2Fglance~914932,openstack/glance,master,I2b6425f8a2bce4e47ebb15f4161fa238b3b6c6f9,Docs: be more explicit regarding oslo_limit.endpoint_id,MERGED,2024-04-03 00:40:44.000000000,2024-05-17 07:40:55.000000000,2024-05-17 07:38:23.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 00:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f0d5026817ab8720309c59866037f827fb878512', 'message': 'Docs: be more explicit regarding oslo_limit.endpoint_id\n\nMake sure readers understand where this id comes from.\n\nChange-Id: I2b6425f8a2bce4e47ebb15f4161fa238b3b6c6f9\nCloses-Bug: #2059829\n'}, {'number': 2, 'created': '2024-04-03 00:42:03.000000000', 'files': ['doc/source/install/configure-quotas.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/70d18c868a82f347a1ec3247084b330148be9c3a', 'message': 'Docs: be more explicit regarding oslo_limit.endpoint_id\n\nMake sure readers understand where this id comes from.\n\nChange-Id: I2b6425f8a2bce4e47ebb15f4161fa238b3b6c6f9\nCloses-Bug: #2059829\n'}]",0,914932,70d18c868a82f347a1ec3247084b330148be9c3a,8,2,2,8122,,,0,"Docs: be more explicit regarding oslo_limit.endpoint_id

Make sure readers understand where this id comes from.

Change-Id: I2b6425f8a2bce4e47ebb15f4161fa238b3b6c6f9
Closes-Bug: #2059829
",git fetch https://review.opendev.org/openstack/glance refs/changes/32/914932/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/configure-quotas.rst'],1,f0d5026817ab8720309c59866037f827fb878512,bug/2059829," endpoint_id = ENDPOINT_ID Replace ENDPOINT_ID with the ID of the image endpoint you created earlier (in our case, this would be 340be3625e9b4239a6415d034e98aace), and that you could find by running: .. code-block:: console $ openstack endpoint list --service glance --region RegionOne .. end ", endpoint_id = 340be3625e9b4239a6415d034e98aace,11,1
openstack%2Fdevstack~919847,openstack/devstack,unmaintained/xena,I28a39b31f71153a602d41cefe621a216d09a290f,Drop devstack-gate roles from devstack zuul jobs,MERGED,2024-05-16 14:14:49.000000000,2024-05-17 07:40:40.000000000,2024-05-17 07:38:17.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 14:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/882d47ce322caab5fdf62840ff3c19c2e73ae560', 'message': ""Drop devstack-gate roles from devstack zuul jobs\n\nDevstack-gate has been retired and relying on a retired repo for roles\nin zuul produces errors (because the roles are no longer in the HEAD of\nthe repo). It doesn't look like devstack actually relies on these roles\nin d-g (if it does they can be ported into devstack instead) so we just\ndrop the roles specifier for d-g in the devstack job.\n\nNOTE(elod.illes): nova-ceph-multistore job is broken in this branch, so\nit is set as non-voting in check queue and removed from gate queue\nuntil it gets fixed.\n\nNOTE(elod.illes): grenade is set as non-voting as it won't pass until\ngrenade fix [1] is not landed, which is a 'catch 22' as it won't pass\nuntil this patch is not landed.\n\n[1] https://review.opendev.org/c/openstack/grenade/+/919818\n\nChange-Id: I28a39b31f71153a602d41cefe621a216d09a290f\n(cherry picked from commit d487302e60bf295122ab04ba5d3b799132ed0b17)\n(cherry picked from commit 503116557a0b5ed91aa7bea2ef6eaa967ce15712)\n""}, {'number': 2, 'created': '2024-05-16 15:56:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/37f0673893bc33008d962261e11023a713d82901', 'message': ""Drop devstack-gate roles from devstack zuul jobs\n\nDevstack-gate has been retired and relying on a retired repo for roles\nin zuul produces errors (because the roles are no longer in the HEAD of\nthe repo). It doesn't look like devstack actually relies on these roles\nin d-g (if it does they can be ported into devstack instead) so we just\ndrop the roles specifier for d-g in the devstack job.\n\nNOTE(elod.illes): nova-ceph-multistore job is broken in this branch, so\nit is set as non-voting in check queue and removed from gate queue\nuntil it gets fixed.\n\nChange-Id: I28a39b31f71153a602d41cefe621a216d09a290f\n(cherry picked from commit d487302e60bf295122ab04ba5d3b799132ed0b17)\n(cherry picked from commit 503116557a0b5ed91aa7bea2ef6eaa967ce15712)\n""}]",2,919847,37f0673893bc33008d962261e11023a713d82901,11,2,2,17685,,,0,"Drop devstack-gate roles from devstack zuul jobs

Devstack-gate has been retired and relying on a retired repo for roles
in zuul produces errors (because the roles are no longer in the HEAD of
the repo). It doesn't look like devstack actually relies on these roles
in d-g (if it does they can be ported into devstack instead) so we just
drop the roles specifier for d-g in the devstack job.

NOTE(elod.illes): nova-ceph-multistore job is broken in this branch, so
it is set as non-voting in check queue and removed from gate queue
until it gets fixed.

Change-Id: I28a39b31f71153a602d41cefe621a216d09a290f
(cherry picked from commit d487302e60bf295122ab04ba5d3b799132ed0b17)
(cherry picked from commit 503116557a0b5ed91aa7bea2ef6eaa967ce15712)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/919847/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,882d47ce322caab5fdf62840ff3c19c2e73ae560,drop-devstack-gate-roles," # NOTE(elod.illes): needs to be set back as voting, when grenade # patch merges: https://review.opendev.org/919818 voting: false voting: false # NOTE(elod.illes): needs to be set back as voting, when grenade # patch merges: https://review.opendev.org/919818 voting: false # TODO(elod.illes): nova-ceph-multistore is broken in this branch, # so it is set as non-voting in check queue and commented out here # in gate queue until the job gets fixed. # - nova-ceph-multistore: # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$", - zuul: opendev.org/openstack/devstack-gate - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,14,5
openstack%2Fopenstack-manuals~919356,openstack/openstack-manuals,master,I958a406e0266fabd3d6dd02027a1ed2f44322326,Retire Senlin: remove doc ref,MERGED,2024-05-10 21:56:35.000000000,2024-05-17 07:36:05.000000000,2024-05-17 06:57:15.000000000,"[{'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-10 21:56:35.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5c0a59e49c87e98da6fba12f1292ea1f2bfd74d1', 'message': 'Retire Senlin: remove doc ref\n\nSenlin project is retired, adding its doc\nsite redirect to README.rst file.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919347\nChange-Id: I958a406e0266fabd3d6dd02027a1ed2f44322326\n'}]",0,919356,5c0a59e49c87e98da6fba12f1292ea1f2bfd74d1,9,3,1,8556,,,0,"Retire Senlin: remove doc ref

Senlin project is retired, adding its doc
site redirect to README.rst file.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919347
Change-Id: I958a406e0266fabd3d6dd02027a1ed2f44322326
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/56/919356/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,5c0a59e49c87e98da6fba12f1292ea1f2bfd74d1,retire-senlin," 'openstack/python-senlinclient', 'openstack/senlin',",,2,0
openstack%2Foctavia~904256,openstack/octavia,master,I399a20c1c3a1908923108365c787e1d98623679f,Improve: Make to_dict returns only attribute of dataclass,NEW,2023-12-22 10:03:36.000000000,2024-05-17 07:10:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-12-22 10:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8d014c76b9fc9ec867ad3b63df02134acb1b9b7f', 'message': 'Improve: Make to_dict returns only attribute of dataclass\n\nChange-Id: I399a20c1c3a1908923108365c787e1d98623679f\n'}, {'number': 2, 'created': '2023-12-25 04:44:17.000000000', 'files': ['octavia/api/common/types.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2d77f88411767818883fec53f18e984ce3016c59', 'message': 'Improve: Make to_dict returns only attribute of dataclass\n\nChange-Id: I399a20c1c3a1908923108365c787e1d98623679f\n'}]",0,904256,2d77f88411767818883fec53f18e984ce3016c59,9,1,2,35916,,,0,"Improve: Make to_dict returns only attribute of dataclass

Change-Id: I399a20c1c3a1908923108365c787e1d98623679f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/904256/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/common/types.py'],1,8d014c76b9fc9ec867ad3b63df02134acb1b9b7f,dataclass-to-dict," for attr in wtypes.list_attributes(type(self)): value = getattr(self, attr.name)"," for attr in dir(self): if attr.startswith('_'): continue value = getattr(self, attr, None) if value and callable(value): continue",2,6
openstack%2Fopenstack-manuals~919392,openstack/openstack-manuals,master,Ic6eda02d80b3f131f86426c1439bc0327c4733eb,Retire Sahara: remove doc ref,MERGED,2024-05-11 00:49:30.000000000,2024-05-17 07:06:17.000000000,2024-05-17 07:06:17.000000000,"[{'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-11 00:49:30.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f6d77b13594c0e86476db526371684f385cfd8b4', 'message': 'Retire Sahara: remove doc ref\n\nSahara project is retired, adding its doc\nsite redirect to README.rst file.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919374/1\nChange-Id: Ic6eda02d80b3f131f86426c1439bc0327c4733eb\n'}]",0,919392,f6d77b13594c0e86476db526371684f385cfd8b4,8,3,1,8556,,,0,"Retire Sahara: remove doc ref

Sahara project is retired, adding its doc
site redirect to README.rst file.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919374/1
Change-Id: Ic6eda02d80b3f131f86426c1439bc0327c4733eb
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/92/919392/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,f6d77b13594c0e86476db526371684f385cfd8b4,retire-sahara," 'openstack/python-saharaclient', 'openstack/sahara',",,2,0
openstack%2Fopenstack-manuals~919372,openstack/openstack-manuals,master,I85db0e71c3bc4cf4e8ae5d401d47b7bed80e92ea,Retire Murano: remove doc ref,MERGED,2024-05-10 23:28:43.000000000,2024-05-17 07:06:15.000000000,2024-05-17 07:06:15.000000000,"[{'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-10 23:28:43.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/68ae9bef16ef554d3004fe87bfb4b37aa866c0e4', 'message': 'Retire Murano: remove doc ref\n\nMurano project is retired, adding its doc\nsite redirect to README.rst file.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919358\nChange-Id: I85db0e71c3bc4cf4e8ae5d401d47b7bed80e92ea\n'}]",0,919372,68ae9bef16ef554d3004fe87bfb4b37aa866c0e4,8,3,1,8556,,,0,"Retire Murano: remove doc ref

Murano project is retired, adding its doc
site redirect to README.rst file.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919358
Change-Id: I85db0e71c3bc4cf4e8ae5d401d47b7bed80e92ea
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/72/919372/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,68ae9bef16ef554d3004fe87bfb4b37aa866c0e4,retire-murano," 'openstack/murano', 'openstack/python-muranoclient',",,2,0
openstack%2Fopenstack-manuals~919227,openstack/openstack-manuals,master,Ib7ae6c4f93a3c28c46ef3dc54c22a1bf46f52b39,Retire Solum: remove doc ref,MERGED,2024-05-10 20:26:00.000000000,2024-05-17 06:57:07.000000000,2024-05-17 06:12:38.000000000,"[{'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-10 20:26:00.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3533589cbe4fb6eed6d73e4dfa43767c69d33887', 'message': 'Retire Solum: remove doc ref\n\nSolum project is retired, adding its doc\nsite redirect to README.rst file.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919211\nChange-Id: Ib7ae6c4f93a3c28c46ef3dc54c22a1bf46f52b39\n'}]",0,919227,3533589cbe4fb6eed6d73e4dfa43767c69d33887,9,3,1,8556,,,0,"Retire Solum: remove doc ref

Solum project is retired, adding its doc
site redirect to README.rst file.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919211
Change-Id: Ib7ae6c4f93a3c28c46ef3dc54c22a1bf46f52b39
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/27/919227/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,3533589cbe4fb6eed6d73e4dfa43767c69d33887,retire-solum," 'openstack/python-solumclient', 'openstack/solum',",,2,0
openstack%2Ftacker~918628,openstack/tacker,unmaintained/zed,I6937c8c136009e8413e943a3594e1c06dab9e5d4,Update .gitreview for unmaintained/zed,NEW,2024-05-08 12:40:50.000000000,2024-05-17 06:10:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2024-05-08 12:40:50.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tacker/commit/2ff9905b41313b28ea590fb7a53a489b5b1fde8a', 'message': 'Update .gitreview for unmaintained/zed\n\nChange-Id: I6937c8c136009e8413e943a3594e1c06dab9e5d4\n'}]",0,918628,2ff9905b41313b28ea590fb7a53a489b5b1fde8a,2,2,1,22816,,,0,"Update .gitreview for unmaintained/zed

Change-Id: I6937c8c136009e8413e943a3594e1c06dab9e5d4
",git fetch https://review.opendev.org/openstack/tacker refs/changes/28/918628/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2ff9905b41313b28ea590fb7a53a489b5b1fde8a,create-zed,defaultbranch=unmaintained/zed,defaultbranch=stable/zed,1,1
openstack%2Ftacker~918370,openstack/tacker,master,I87eef25a2e9f81aa6c6a31f4dcb9c900b8984162,Remove six from sample scripts,NEW,2024-05-07 02:25:53.000000000,2024-05-17 06:09:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2024-05-07 02:25:53.000000000', 'files': ['samples/mgmt_driver/ansible/ansible_config_parser.py', 'samples/mgmt_driver/ansible/config_actions/vm_app_config/ansible_playbook_exec.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/8356867c3ecbf1c886bca1afd31c27e116d0356e', 'message': 'Remove six from sample scripts\n\nsix is no longer needed since python 2 support was removed.\n\nChange-Id: I87eef25a2e9f81aa6c6a31f4dcb9c900b8984162\n'}]",0,918370,8356867c3ecbf1c886bca1afd31c27e116d0356e,3,2,1,9816,,,0,"Remove six from sample scripts

six is no longer needed since python 2 support was removed.

Change-Id: I87eef25a2e9f81aa6c6a31f4dcb9c900b8984162
",git fetch https://review.opendev.org/openstack/tacker refs/changes/70/918370/1 && git format-patch -1 --stdout FETCH_HEAD,"['samples/mgmt_driver/ansible/ansible_config_parser.py', 'samples/mgmt_driver/ansible/config_actions/vm_app_config/ansible_playbook_exec.py']",2,8356867c3ecbf1c886bca1afd31c27e116d0356e,remove-six," for key, value in obj_params.items():","from six import iteritems for key, value in iteritems(obj_params):",4,6
openstack%2Ftacker~919404,openstack/tacker,master,I9c24e9d14c2f97f05fb6d87c0cf3a81eb08c0b29,Add config for etsi-nfv dir,NEW,2024-05-11 03:07:39.000000000,2024-05-17 06:09:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2024-05-11 03:07:39.000000000', 'files': ['tacker/common/config.py', 'setup.cfg', 'tacker/tosca/utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/066d6b6acd995eabe9b0dcd5dc1bad9d394686ae', 'message': 'Add config for etsi-nfv dir\n\nChange-Id: I9c24e9d14c2f97f05fb6d87c0cf3a81eb08c0b29\n'}]",1,919404,066d6b6acd995eabe9b0dcd5dc1bad9d394686ae,2,2,1,34918,,,0,"Add config for etsi-nfv dir

Change-Id: I9c24e9d14c2f97f05fb6d87c0cf3a81eb08c0b29
",git fetch https://review.opendev.org/openstack/tacker refs/changes/04/919404/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/common/config.py', 'setup.cfg', 'tacker/tosca/utils.py']",3,066d6b6acd995eabe9b0dcd5dc1bad9d394686ae,,"from oslo_config import cfgCONF = cfg.CONF fpath = os.path.join(CONF.etsi_nfv_dir, ""sol001"", ver, fname)"," fpath = os.path.join(utils.proj_root(), ""etc"", ""etsi-nfv"", ""sol001"", ver, fname)",7,4
openstack%2Ftacker~919547,openstack/tacker,master,I29b53638dfe3798e2b797dce9de928275dd87ae4,Fix node_templates in topology_template,NEW,2024-05-14 02:10:00.000000000,2024-05-17 06:09:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2024-05-14 02:10:00.000000000', 'files': ['doc/source/user/vnfd-sol001.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/8bb808b4dffa4a2f8666f402feb2ee10bb9cfa2f', 'message': 'Fix node_templates in topology_template\n\nChange-Id: I29b53638dfe3798e2b797dce9de928275dd87ae4\n'}]",0,919547,8bb808b4dffa4a2f8666f402feb2ee10bb9cfa2f,2,2,1,34918,,,0,"Fix node_templates in topology_template

Change-Id: I29b53638dfe3798e2b797dce9de928275dd87ae4
",git fetch https://review.opendev.org/openstack/tacker refs/changes/47/919547/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/vnfd-sol001.rst'],1,8bb808b4dffa4a2f8666f402feb2ee10bb9cfa2f,, * *node_templates*:, * *node_template*:,1,1
openstack%2Ftacker~919548,openstack/tacker,master,I05d98e5bef7757bff0b65bd4f8fd49218c0e79a9,Format python code in userdata_script,NEW,2024-05-14 02:24:44.000000000,2024-05-17 06:09:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2024-05-14 02:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a2293114687318bbb2fb093fbcb27eb54b9182df', 'message': 'Formate python code in userdata_script\n\nChange-Id: I05d98e5bef7757bff0b65bd4f8fd49218c0e79a9\n'}, {'number': 2, 'created': '2024-05-14 02:27:00.000000000', 'files': ['doc/source/user/userdata_script.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/f4164f54c7d1a20c6725dd344da3c01b80a45658', 'message': 'Format python code in userdata_script\n\nChange-Id: I05d98e5bef7757bff0b65bd4f8fd49218c0e79a9\n'}]",0,919548,f4164f54c7d1a20c6725dd344da3c01b80a45658,3,2,2,34918,,,0,"Format python code in userdata_script

Change-Id: I05d98e5bef7757bff0b65bd4f8fd49218c0e79a9
",git fetch https://review.opendev.org/openstack/tacker refs/changes/48/919548/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/userdata_script.rst'],1,a2293114687318bbb2fb093fbcb27eb54b9182df,, fields = {, fields = {,1,1
openstack%2Ftacker~919550,openstack/tacker,master,I178b1014998fd000022defd483c5abeecaf8a89f,Update json code-block in document,NEW,2024-05-14 02:38:32.000000000,2024-05-17 06:08:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2024-05-14 02:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f029384b7e48f5ed400e604ecd2b924c17faebed', 'message': 'Update json code-block in document\n\nChange-Id: I178b1014998fd000022defd483c5abeecaf8a89f\n'}, {'number': 2, 'created': '2024-05-14 02:56:37.000000000', 'files': ['doc/source/user/etsi_vnf_deployment_as_vm_with_user_data.rst', 'doc/source/user/etsi_vnf_deployment_as_vm_with_tosca.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/702614334718ca11a5cd264a10792634b3d4f6c0', 'message': 'Update json code-block in document\n\nChange-Id: I178b1014998fd000022defd483c5abeecaf8a89f\n'}]",2,919550,702614334718ca11a5cd264a10792634b3d4f6c0,5,2,2,34918,,,0,"Update json code-block in document

Change-Id: I178b1014998fd000022defd483c5abeecaf8a89f
",git fetch https://review.opendev.org/openstack/tacker refs/changes/50/919550/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/etsi_vnf_deployment_as_vm_with_user_data.rst', 'doc/source/user/etsi_vnf_deployment_as_vm_with_tosca.rst']",2,f029384b7e48f5ed400e604ecd2b924c17faebed,,.. code-block:: json.. code-block:: json,.. code-block:: console.. code-block:: console,4,4
openstack%2Ftacker~919703,openstack/tacker,master,Ice44fc23c18cec96dc5e4dd183452ab6881b4b63,Update config files url,NEW,2024-05-15 09:48:37.000000000,2024-05-17 06:08:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2024-05-15 09:48:37.000000000', 'files': ['doc/source/user/v2/getting_started/index.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/718750aa8f1799779253c0b058dbb758b1e4602a', 'message': 'Update config files url\n\nChange-Id: Ice44fc23c18cec96dc5e4dd183452ab6881b4b63\n'}]",0,919703,718750aa8f1799779253c0b058dbb758b1e4602a,2,2,1,34918,,,0,"Update config files url

Change-Id: Ice44fc23c18cec96dc5e4dd183452ab6881b4b63
",git fetch https://review.opendev.org/openstack/tacker refs/changes/03/919703/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/v2/getting_started/index.rst'],1,718750aa8f1799779253c0b058dbb758b1e4602a,, https://opendev.org/openstack/tacker/src/branch/master/doc/source/user/v2/getting_started/conf, https://opendev.org/openstack/tacker/src/branch/master/doc/user/v2/getting_started/conf,1,1
openstack%2Fhorizon~919551,openstack/horizon,stable/2023.1,I58c2d33a07bcc04d70cc6867cb44dc7248db9651,Update cirros image to cirros-0.5.3-x86_64,MERGED,2024-05-14 04:12:22.000000000,2024-05-17 05:48:34.000000000,2024-05-17 05:47:28.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-05-14 04:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c748d794a851043f4c55456d9f0cc6b3086d3574', 'message': 'Update cirros image to cirros-0.5.3-x86_64\n\nDue to this change I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7\nour integration job is failing. This patch update cirror image\nversion to fix our CI.\n\nChange-Id: I58c2d33a07bcc04d70cc6867cb44dc7248db9651\n'}, {'number': 2, 'created': '2024-05-14 07:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6edaea4a8db54c2205ff32acfb77da1e48f5e34c', 'message': 'Update cirros image to cirros-0.5.3-x86_64\n\nDue to this change I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7\nour integration job is failing. This patch update cirror image\nversion to fix our CI.\n\nChange-Id: I58c2d33a07bcc04d70cc6867cb44dc7248db9651\n'}, {'number': 3, 'created': '2024-05-14 11:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7c30097c0178fef3a97e05f4d94199e8a74db065', 'message': 'Update cirros image to cirros-0.5.3-x86_64\n\nDue to this change I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7\nour integration job is failing. This patch update cirror image\nversion to fix our CI.\n\nChange-Id: I58c2d33a07bcc04d70cc6867cb44dc7248db9651\n'}, {'number': 4, 'created': '2024-05-15 01:56:49.000000000', 'files': ['openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/horizon.conf'], 'web_link': 'https://opendev.org/openstack/horizon/commit/78cb074f7c2501cc4fa5a782a8e6b1c0fb68288c', 'message': 'Update cirros image to cirros-0.5.3-x86_64\n\nDue to this change I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7\nour integration job is failing. This patch update cirror image\nversion to fix our CI.\n\nChange-Id: I58c2d33a07bcc04d70cc6867cb44dc7248db9651\n'}]",8,919551,78cb074f7c2501cc4fa5a782a8e6b1c0fb68288c,28,3,4,2711,,,0,"Update cirros image to cirros-0.5.3-x86_64

Due to this change I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7
our integration job is failing. This patch update cirror image
version to fix our CI.

Change-Id: I58c2d33a07bcc04d70cc6867cb44dc7248db9651
",git fetch https://review.opendev.org/openstack/horizon refs/changes/51/919551/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/horizon.conf']",2,c748d794a851043f4c55456d9f0cc6b3086d3574,bug2054799,image_name=cirros-0.5.3-x86_64-disk (16 MB),image_name=cirros-0.5.2-x86_64-disk (15.5 MB),2,2
openstack%2Fwhitebox-tempest-plugin~919841,openstack/whitebox-tempest-plugin,master,Ia531b01af6b70b4c09865b1dd18bc8300a56700c,WIP: Add evacution tests for microversion 2.95,ABANDONED,2024-05-16 13:24:50.000000000,2024-05-17 04:16:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-05-16 13:24:50.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_server_evacuation.py', 'whitebox_tempest_plugin/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4d7b6addbf3813335b3181c448af4bebc23e158d', 'message': 'WIP: Add evacution tests for microversion 2.95\n\nChange-Id: Ia531b01af6b70b4c09865b1dd18bc8300a56700c\n'}]",1,919841,4d7b6addbf3813335b3181c448af4bebc23e158d,3,1,1,34860,,,0,"WIP: Add evacution tests for microversion 2.95

Change-Id: Ia531b01af6b70b4c09865b1dd18bc8300a56700c
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/41/919841/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_server_evacuation.py', 'whitebox_tempest_plugin/common/waiters.py']",3,4d7b6addbf3813335b3181c448af4bebc23e158d,server-evacuation, # s_migs = os_admin.migrations_client.list_migrations( # server_id=server_id) s_migs = os_admin.migrations_client.list_migrations(), s_migs = os_admin.migrations_client.list_migrations( server_id=server_id),49,4
openstack%2Fpython-manilaclient~919758,openstack/python-manilaclient,master,I0b0dba95c53aad264921dc32644ee8e5b86fc1e2,Fix show info about share network,MERGED,2024-05-15 17:13:48.000000000,2024-05-17 01:57:46.000000000,2024-05-17 01:56:52.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30407}]","[{'number': 1, 'created': '2024-05-15 17:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2688b36eb25cdd427aaa9101938167e1cd5c9cf8', 'message': 'Add check to dict with info\\n Closes-Bug:#2065771\n\nChange-Id: I0b0dba95c53aad264921dc32644ee8e5b86fc1e2\n'}, {'number': 2, 'created': '2024-05-15 17:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b3cdf14d981f172ae082dd007f2969f006effcaf', 'message': ""Add check to dict with info, without this a exception raises and user doen't get info\n\nCloses-Bug:#2065771\nChange-Id: I0b0dba95c53aad264921dc32644ee8e5b86fc1e2\n""}, {'number': 3, 'created': '2024-05-15 17:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6e1a6bd1af6b3f531a7abf21af29d65a8a7e9ce6', 'message': ""Add check to dict with info in share Network\nWithout this check a exception raises and user doen't get info.\n\nCloses-Bug:#2065771\nChange-Id: I0b0dba95c53aad264921dc32644ee8e5b86fc1e2\n""}, {'number': 4, 'created': '2024-05-15 17:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4b8ffc43aed2ebaf388883d8d8719e8c413e3983', 'message': ""Add check to dict with info in share Network\n\nWithout this check a exception raises and user doen't get info.\n\nCloses-Bug:#2065771\nChange-Id: I0b0dba95c53aad264921dc32644ee8e5b86fc1e2\n""}, {'number': 5, 'created': '2024-05-15 17:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f82f79606e9e2549efc7bbbb32a3f3f69d72f5d8', 'message': ""Add check to dict with info in share Network\n\nWithout this check an exception will occur and user doen't get info.\n\nCloses-Bug:#2065771\nChange-Id: I0b0dba95c53aad264921dc32644ee8e5b86fc1e2\n""}, {'number': 6, 'created': '2024-05-15 17:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c2399dbdb0eca15dca7de931c9e58c0ec6d6b328', 'message': ""Add check to dict with info in share Network\n\nWithout this check an exception will occur and user doesn't get info.\n\nCloses-Bug:#2065771\nChange-Id: I0b0dba95c53aad264921dc32644ee8e5b86fc1e2\n""}, {'number': 7, 'created': '2024-05-15 17:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d932f21c1386432efb39df1ba5a2f76af1003c58', 'message': ""Fix show info about share Network\n\nAdd check for _info dict, without this check an exception will occur and user doesn't get info.\n\nCloses-Bug:#2065771\nChange-Id: I0b0dba95c53aad264921dc32644ee8e5b86fc1e2\n""}, {'number': 8, 'created': '2024-05-15 17:45:55.000000000', 'files': ['manilaclient/osc/v2/share_networks.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/48fbad6f62e13accd99225d92007cd2eb2a47833', 'message': ""Fix show info about share network\n\nAdd check for _info dict, without this check an exception will occur and user doesn't get info.\n\nCloses-Bug:#2065771\nChange-Id: I0b0dba95c53aad264921dc32644ee8e5b86fc1e2\n""}]",4,919758,48fbad6f62e13accd99225d92007cd2eb2a47833,17,3,8,37033,,,0,"Fix show info about share network

Add check for _info dict, without this check an exception will occur and user doesn't get info.

Closes-Bug:#2065771
Change-Id: I0b0dba95c53aad264921dc32644ee8e5b86fc1e2
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/58/919758/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/osc/v2/share_networks.py'],1,2688b36eb25cdd427aaa9101938167e1cd5c9cf8,bug/2065771, if 'share_network_subnets' not in data: data['share_network_subnets'] = [] if 'share_network_subnets' not in share_network_data: share_network_data['share_network_subnets'] = [],,4,0
openstack%2Fswift~919897,openstack/swift,master,I17bed216f9bb7d97f6ab50431f45048220294c3d,Patch in orjson if available,NEW,2024-05-16 19:58:43.000000000,2024-05-17 01:41:38.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 19:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3f08c6f1a7dd1f160d0321f81a03aba38294c545', 'message': 'Patch in orjson if available\n\nChange-Id: I17bed216f9bb7d97f6ab50431f45048220294c3d\n'}, {'number': 2, 'created': '2024-05-16 20:00:41.000000000', 'files': ['test/unit/common/middleware/crypto/test_crypto_utils.py', 'swift/__init__.py', 'test/unit/common/middleware/test_slo.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5caf9649e386e9d5e722b3d05513af45a8d0cda6', 'message': 'Patch in orjson if available\n\nChange-Id: I17bed216f9bb7d97f6ab50431f45048220294c3d\n'}]",2,919897,5caf9649e386e9d5e722b3d05513af45a8d0cda6,8,2,2,15343,,,0,"Patch in orjson if available

Change-Id: I17bed216f9bb7d97f6ab50431f45048220294c3d
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/919897/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/crypto/test_crypto_utils.py', 'swift/__init__.py', 'test/unit/common/middleware/test_slo.py']",3,3f08c6f1a7dd1f160d0321f81a03aba38294c545,," # orjson 'Unable to load SLO manifest: ' 'expected ident at line 1 column 3: line 1 column 3 (char 2)',",,15,2
openstack%2Fswift~906391,openstack/swift,master,I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5,slo: Support range requests for part-number queries,NEW,2024-01-23 17:25:27.000000000,2024-05-16 23:45:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 34892}]","[{'number': 1, 'created': '2024-01-23 17:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2bdf2489e71a75730adbe5905aa62075c0cbbbee', 'message': 'slo: Support range requests for part-number queries\n\nChange-Id: I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5\n'}, {'number': 2, 'created': '2024-02-01 00:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/86ebd5b868babe5bd3b25134971b3168dda6a067', 'message': 'slo: Support range requests for part-number queries\n\nChange-Id: I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5\n'}, {'number': 3, 'created': '2024-02-20 21:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4dc17adcecea8c383bb596840f2bc648dea69f70', 'message': 'slo: Support range requests for part-number queries\n\nChange-Id: I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5\n'}, {'number': 4, 'created': '2024-02-27 18:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bc273636b3a25040deac916744fcd11a0e872645', 'message': 'slo: Support range requests for part-number queries\n\nChange-Id: I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5\n'}, {'number': 5, 'created': '2024-03-13 16:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d5eb5d63edbc6c9600f0ef5032aff853af3d0c99', 'message': 'slo: Support range requests for part-number queries\n\nChange-Id: I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5\n'}, {'number': 6, 'created': '2024-03-14 20:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/56714662aa9a5f85d256b7d81c2de1dcbd32751f', 'message': 'slo: Support range requests for part-number queries\n\nChange-Id: I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5\n'}, {'number': 7, 'created': '2024-03-15 23:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/851222b4277a7c3923ca802207176e4d88ffa01d', 'message': 'slo: Support range requests for part-number queries\n\nChange-Id: I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5\n'}, {'number': 8, 'created': '2024-04-16 14:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/037b3bba5d395ede67fe54e3826c4f0a96855b0e', 'message': 'slo: Support range requests for part-number queries\n\nChange-Id: I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5\n'}, {'number': 9, 'created': '2024-05-16 22:24:50.000000000', 'files': ['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'swift/common/request_helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/999ef44f31b34c28251dcff79da935bd20a9a8d9', 'message': 'slo: Support range requests for part-number queries\n\nChange-Id: I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5\n'}]",3,906391,999ef44f31b34c28251dcff79da935bd20a9a8d9,30,2,9,15343,,,0,"slo: Support range requests for part-number queries

Change-Id: I8fa3588d0ce92914bf27df5e58c81d6b5a07bdd5
",git fetch https://review.opendev.org/openstack/swift refs/changes/91/906391/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py']",2,2bdf2489e71a75730adbe5905aa62075c0cbbbee,," def test_GET_part_number_with_range(self): '/v1/AUTH_test/gettest/manifest-abcd?part-number=2', self.assertEqual(status, '206 Partial Content') self.assertEqual(headers['Content-Range'], 'bytes 9-17/50') self.assertEqual(headers['Etag'], '""%s""' % self.manifest_abcd_slo_etag) self.assertEqual(headers['X-Manifest-Etag'], self.manifest_abcd_json_md5) self.assertEqual(headers['X-Static-Large-Object'], 'true') self.assertEqual(headers['X-Parts-Count'], '3') self.assertEqual(int(headers['Content-Length']), len(body)) self.assertEqual(body, b'bbbbbbccc') ('GET', '/v1/AUTH_test/gettest/manifest-abcd?part-number=2'), ('GET', '/v1/AUTH_test/gettest/manifest-bc'), ('GET', '/v1/AUTH_test/gettest/b_10?multipart-manifest=get'), ('GET', '/v1/AUTH_test/gettest/c_15?multipart-manifest=get'), ] self.assertEqual(expected_calls, self.app.calls) def test_GET_part_number_with_range_past_part(self): req = Request.blank( '/v1/AUTH_test/gettest/manifest-abcd?part-number=2', headers={'Range': 'bytes=25-'}) status, headers, body = self.call_slo(req) # Servers can ignore range headers for all sorts of reasons; # we do that in this case self.assertEqual(status, '206 Partial Content') self.assertEqual(headers['Content-Range'], 'bytes 5-29/50') self.assertEqual(headers['Etag'], '""%s""' % self.manifest_abcd_slo_etag) self.assertEqual(headers['X-Manifest-Etag'], self.manifest_abcd_json_md5) self.assertEqual(headers['X-Static-Large-Object'], 'true') self.assertEqual(headers['X-Parts-Count'], '3') self.assertEqual(int(headers['Content-Length']), len(body)) self.assertEqual(body, b'b' * 10 + b'c' * 15) expected_calls = [ ('GET', '/v1/AUTH_test/gettest/manifest-abcd?part-number=2'), ('GET', '/v1/AUTH_test/gettest/manifest-bc'), ('GET', '/v1/AUTH_test/gettest/b_10?multipart-manifest=get'), ('GET', '/v1/AUTH_test/gettest/c_15?multipart-manifest=get'), ] self.assertEqual(expected_calls, self.app.calls) def test_HEAD_part_number_with_range(self): req = Request.blank( '/v1/AUTH_test/gettest/manifest-abcd?part-number=2', headers={'Range': 'bytes=4-12'}, method='HEAD') status, headers, body = self.call_slo(req) self.assertEqual(status, '206 Partial Content') # per spec, Range is ignored on HEAD, though we expose part boundary self.assertEqual(headers['Content-Range'], 'bytes 5-29/50') self.assertEqual(headers['Etag'], '""%s""' % self.manifest_abcd_slo_etag) self.assertEqual(headers['X-Manifest-Etag'], self.manifest_abcd_json_md5) self.assertEqual(headers['X-Static-Large-Object'], 'true') self.assertEqual(headers['X-Parts-Count'], '3') self.assertEqual(int(headers['Content-Length']), 25) self.assertEqual(body, b'') expected_calls = [ ('HEAD', '/v1/AUTH_test/gettest/manifest-abcd?part-number=2'), ('GET', '/v1/AUTH_test/gettest/manifest-abcd?part-number=2'),"," def test_range_with_part_number_is_error(self): '/v1/AUTH_test/gettest/manifest-abcd-subranges?part-number=2', self.assertEqual(status, '400 Bad Request') self.assertNotIn('Content-Range', headers) self.assertNotIn('Etag', headers) self.assertNotIn('X-Static-Large-Object', headers) self.assertNotIn('X-Parts-Count', headers) self.assertEqual(body, b'Range requests are not supported with ' b'part number queries') ('GET', '/v1/AUTH_test/gettest/manifest-abcd-subranges?part-number=2')",83,24
openstack%2Fadjutant-ui~912281,openstack/adjutant-ui,master,Ibefe848cf73a31608ce5e71f4847b741ec16f8ad,Address RemovedInDjango40Warning (2),MERGED,2024-03-08 16:27:46.000000000,2024-05-16 23:18:10.000000000,2024-05-16 23:18:10.000000000,"[{'_account_id': 14394}, {'_account_id': 22348}, {'_account_id': 36393}]","[{'number': 1, 'created': '2024-03-08 16:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/ae0e36d3a1389d1e7f53cbcf26bc18c04a70d7b7', 'message': ""Address RemovedInDjango40Warning (2)\n\ndjango.utils.translation.ugettext(), ugettext_lazy(), ugettext_noop(),\nungettext(), and ungettext_lazy() are deprecated in favor of the\nfunctions that they’re aliases for: django.utils.translation.gettext(),\ngettext_lazy(), gettext_noop(), ngettext(), and ngettext_lazy().\n\nOn top of that django.conf.urls.url() is deprecated in favor of\ndjango.urls.re_path()\n\nSince Horizon is using Django>4.0, it's highly important to cover these\nissues for upcoming release.\n\nhttps: //docs.djangoproject.com/en/4.0/releases/3.0/#id3\nChange-Id: Ibefe848cf73a31608ce5e71f4847b741ec16f8ad\n""}, {'number': 2, 'created': '2024-05-16 08:39:44.000000000', 'files': ['adjutant_ui/content/notifications/urls.py', 'adjutant_ui/dashboards/signup_dash.py', 'adjutant_ui/content/quota/views.py', 'adjutant_ui/content/tasks/tabs.py', 'adjutant_ui/content/forgot_password/forms.py', 'adjutant_ui/content/quota/tables.py', 'adjutant_ui/content/quota/urls.py', 'adjutant_ui/content/project_users/urls.py', 'adjutant_ui/content/token/forms.py', 'adjutant_ui/content/email/panel.py', 'adjutant_ui/content/project_users/panel.py', 'adjutant_ui/content/quota/panel.py', 'adjutant_ui/enabled/_6020_management_access_control_group.py', 'adjutant_ui/content/tasks/panel.py', 'adjutant_ui/dashboards/token_dash.py', 'adjutant_ui/content/notifications/tables.py', 'adjutant_ui/content/token/panel.py', 'adjutant_ui/content/token/views.py', 'adjutant_ui/content/project_users/views.py', 'adjutant_ui/content/signup/panel.py', 'adjutant_ui/content/tasks/forms.py', 'adjutant_ui/content/signup/forms.py', 'adjutant_ui/content/forgot_password/panel.py', 'adjutant_ui/content/notifications/tabs.py', 'adjutant_ui/content/email/views.py', 'adjutant_ui/dashboards/forgot_password_dash.py', 'adjutant_ui/content/signup/urls.py', 'adjutant_ui/content/tasks/urls.py', 'adjutant_ui/content/tasks/views.py', 'adjutant_ui/dashboards/management.py', 'adjutant_ui/content/email/forms.py', 'adjutant_ui/content/default/panel.py', 'adjutant_ui/content/notifications/panel.py', 'adjutant_ui/content/tasks/tables.py', 'run_tests.sh', 'adjutant_ui/content/project_users/tables.py', 'adjutant_ui/content/token/urls.py', 'adjutant_ui/content/quota/forms.py', 'adjutant_ui/content/notifications/views.py', 'adjutant_ui/content/project_users/forms.py', 'adjutant_ui/templatetags/relabel_username_field.py', 'adjutant_ui/content/email/urls.py', 'adjutant_ui/content/forgot_password/urls.py', 'tox.ini', 'adjutant_ui/api/adjutant.py'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/2bea2114fb234bf25f62a5fb041e5829e29d375c', 'message': ""Address RemovedInDjango40Warning (2)\n\ndjango.utils.translation.ugettext(), ugettext_lazy(), ugettext_noop(),\nungettext(), and ungettext_lazy() are deprecated in favor of the\nfunctions that they’re aliases for: django.utils.translation.gettext(),\ngettext_lazy(), gettext_noop(), ngettext(), and ngettext_lazy().\n\nOn top of that django.conf.urls.url() is deprecated in favor of\ndjango.urls.re_path()\n\nSince Horizon is using Django>4.0, it's highly important to cover these\nissues for upcoming release.\n\nhttps: //docs.djangoproject.com/en/4.0/releases/3.0/#id3\nChange-Id: Ibefe848cf73a31608ce5e71f4847b741ec16f8ad\n""}]",10,912281,2bea2114fb234bf25f62a5fb041e5829e29d375c,8,3,2,28619,,,0,"Address RemovedInDjango40Warning (2)

django.utils.translation.ugettext(), ugettext_lazy(), ugettext_noop(),
ungettext(), and ungettext_lazy() are deprecated in favor of the
functions that they’re aliases for: django.utils.translation.gettext(),
gettext_lazy(), gettext_noop(), ngettext(), and ngettext_lazy().

On top of that django.conf.urls.url() is deprecated in favor of
django.urls.re_path()

Since Horizon is using Django>4.0, it's highly important to cover these
issues for upcoming release.

https: //docs.djangoproject.com/en/4.0/releases/3.0/#id3
Change-Id: Ibefe848cf73a31608ce5e71f4847b741ec16f8ad
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/81/912281/1 && git format-patch -1 --stdout FETCH_HEAD,"['adjutant_ui/content/notifications/urls.py', 'adjutant_ui/dashboards/signup_dash.py', 'adjutant_ui/content/quota/views.py', 'adjutant_ui/content/tasks/tabs.py', 'adjutant_ui/content/forgot_password/forms.py', 'adjutant_ui/content/quota/tables.py', 'adjutant_ui/content/quota/urls.py', 'adjutant_ui/content/project_users/urls.py', 'adjutant_ui/content/token/forms.py', 'adjutant_ui/content/email/panel.py', 'adjutant_ui/content/project_users/panel.py', 'adjutant_ui/content/quota/panel.py', 'adjutant_ui/enabled/_6020_management_access_control_group.py', 'adjutant_ui/content/tasks/panel.py', 'adjutant_ui/dashboards/token_dash.py', 'adjutant_ui/content/notifications/tables.py', 'adjutant_ui/content/token/panel.py', 'adjutant_ui/content/token/views.py', 'adjutant_ui/content/project_users/views.py', 'adjutant_ui/content/signup/panel.py', 'adjutant_ui/content/tasks/forms.py', 'adjutant_ui/content/signup/forms.py', 'adjutant_ui/content/forgot_password/panel.py', 'adjutant_ui/content/notifications/tabs.py', 'adjutant_ui/content/email/views.py', 'adjutant_ui/dashboards/forgot_password_dash.py', 'adjutant_ui/content/signup/urls.py', 'adjutant_ui/content/tasks/urls.py', 'adjutant_ui/content/tasks/views.py', 'adjutant_ui/dashboards/management.py', 'adjutant_ui/content/email/forms.py', 'adjutant_ui/content/default/panel.py', 'adjutant_ui/content/notifications/panel.py', 'adjutant_ui/content/tasks/tables.py', 'run_tests.sh', 'adjutant_ui/content/project_users/tables.py', 'adjutant_ui/content/token/urls.py', 'adjutant_ui/content/quota/forms.py', 'adjutant_ui/content/notifications/views.py', 'adjutant_ui/content/project_users/forms.py', 'adjutant_ui/templatetags/relabel_username_field.py', 'adjutant_ui/content/email/urls.py', 'adjutant_ui/content/forgot_password/urls.py', 'tox.ini', 'adjutant_ui/api/adjutant.py']",45,ae0e36d3a1389d1e7f53cbcf26bc18c04a70d7b7,,from django.utils.translation import gettext_lazy as _,from django.utils.translation import ugettext_lazy as _,88,89
openstack%2Fopenstack-helm-infra~919425,openstack/openstack-helm-infra,master,I2b5bd47d1a648813987ff10184d2468473454dfd,Fix selenium test for additional compatibility.,MERGED,2024-05-15 20:55:35.000000000,2024-05-16 23:06:48.000000000,2024-05-16 23:05:46.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 32204}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-05-15 20:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/791b801bff2b7464759b88b6f4735d43f638e90a', 'message': 'Fix for selenium test for additional compatibility.\n\nChange-Id: I2b5bd47d1a648813987ff10184d2468473454dfd\n'}, {'number': 2, 'created': '2024-05-15 23:05:04.000000000', 'files': ['releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml', 'grafana/templates/bin/_selenium-tests.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d399c38317955429c4fd754893e3b140eaf3706', 'message': 'Fix selenium test for additional compatibility.\n\nChange-Id: I2b5bd47d1a648813987ff10184d2468473454dfd\n'}]",0,919425,6d399c38317955429c4fd754893e3b140eaf3706,12,4,2,35948,,,0,"Fix selenium test for additional compatibility.

Change-Id: I2b5bd47d1a648813987ff10184d2468473454dfd
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/919425/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml', 'grafana/templates/bin/_selenium-tests.py.tpl']",3,791b801bff2b7464759b88b6f4735d43f638e90a,grafana-helm-tests," browser.find_element(By.CSS_SELECTOR, '[type=""submit""]').click() browser.find_element_by_css_selector('[type=""submit""]').click()"," browser.find_element(By.CSS_SELECTOR, '[aria-label=""Login button""]').click() browser.find_element_by_css_selector('[aria-label=""Login button""]').click()",4,3
openstack%2Fcinder~919848,openstack/cinder,master,Idf93686a13cfc40923bc142cad058c97fecf5177,Fix fast8 tox env,MERGED,2024-05-16 14:25:57.000000000,2024-05-16 22:58:38.000000000,2024-05-16 21:10:42.000000000,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2024-05-16 14:25:57.000000000', 'files': ['tools/fast8.sh'], 'web_link': 'https://opendev.org/openstack/cinder/commit/26a9884c2a29bd73bba3df733e9b964e521dd6be', 'message': 'Fix fast8 tox env\n\nflake8 --diff no longer exists.\n\nChange-Id: Idf93686a13cfc40923bc142cad058c97fecf5177\n'}]",2,919848,26a9884c2a29bd73bba3df733e9b964e521dd6be,15,3,1,4523,,,0,"Fix fast8 tox env

flake8 --diff no longer exists.

Change-Id: Idf93686a13cfc40923bc142cad058c97fecf5177
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/919848/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/fast8.sh'],1,26a9884c2a29bd73bba3df733e9b964e521dd6be,,"CHANGED="""" CHANGED+=""$(git diff --name-only HEAD~${NUM_COMMITS} \*.py | tr '\n' ' ')"" while [[ -z $CHANGED ]]; do # Search back until we find a commit containing python files NUM_COMMITS=$((NUM_COMMITS + 1)) CHANGED+=""$(git diff --name-only HEAD~${NUM_COMMITS} \*.py | tr '\n' ' ')"" ; done CHECK+=""$FILE ""flake8 $CHECK","CHANGED=$(git diff --name-only HEAD~${NUM_COMMITS} | tr '\n' ' ') CHECK=""$CHECK $FILE""diff -u --from-file /dev/null $CHECK | flake8 --diff",10,3
openstack%2Fopenstack-helm~919774,openstack/openstack-helm,master,Icfa87074c81444a3faf775a8f44d9d341391fb25,Bump K8s version to 1.29.5,MERGED,2024-05-15 20:25:48.000000000,2024-05-16 21:45:21.000000000,2024-05-16 21:43:26.000000000,"[{'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-05-15 20:25:48.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f9e5bd3d317890499e2294dc5d7360193dd0e001', 'message': 'Bump K8s version to 1.29.5\n\nChange-Id: Icfa87074c81444a3faf775a8f44d9d341391fb25\n'}]",3,919774,f9e5bd3d317890499e2294dc5d7360193dd0e001,14,3,1,3009,,,0,"Bump K8s version to 1.29.5

Change-Id: Icfa87074c81444a3faf775a8f44d9d341391fb25
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/74/919774/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,f9e5bd3d317890499e2294dc5d7360193dd0e001,," kube_version_repo: ""v1.29"" kube_version: ""1.29.5-1.1"""," kube_version_repo: ""v1.28"" kube_version: ""1.28.4-1.1""",2,2
openstack%2Fswift~907751,openstack/swift,master,I917edf6b8ac77285c4b925ade20e97916b4ba50a,WIP s3api: add more MPU cross-compat  tests,NEW,2024-02-05 14:47:00.000000000,2024-05-16 21:41:56.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-05 14:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/319034d79fa0876ec55d6b0209ca26806836bb2e', 'message': 'WIP s3api: add more MPU cross-compat  tests\n\n8/24 tests (XXX) fail with Swift s3api.\nAll tests pass with AWS S3.\n\nChange-Id: I917edf6b8ac77285c4b925ade20e97916b4ba50a\n'}, {'number': 2, 'created': '2024-02-09 16:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cb6ef8a5eb1641cffbbfe4ac87e3d8fd3e34c6ee', 'message': 'WIP s3api: add more MPU cross-compat  tests\n\n9/26 tests (XXX) fail with Swift s3api.\nAll tests pass with AWS S3.\n\nChange-Id: I917edf6b8ac77285c4b925ade20e97916b4ba50a\n'}, {'number': 3, 'created': '2024-02-12 12:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7bb4eb8bf72029d3c1ba4a1ae1d9a948834e6cbd', 'message': 'WIP s3api: add more MPU cross-compat  tests\n\n9/26 tests (XXX) fail with Swift s3api.\nAll tests pass with AWS S3.\n\nChange-Id: I917edf6b8ac77285c4b925ade20e97916b4ba50a\n'}, {'number': 4, 'created': '2024-02-21 21:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2c11230165b883dd3290c9b3a8e04d783bfb9a2b', 'message': 'WIP s3api: add more MPU cross-compat  tests\n\n9/26 tests (XXX) fail with Swift s3api.\nAll tests pass with AWS S3.\n\nChange-Id: I917edf6b8ac77285c4b925ade20e97916b4ba50a\n'}, {'number': 5, 'created': '2024-02-22 23:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/65e8ae005410d9ac533346107ff0699e3b6bf120', 'message': 'WIP s3api: add more MPU cross-compat  tests\n\n9/26 tests (XXX) fail with Swift s3api.\nAll tests pass with AWS S3.\n\nChange-Id: I917edf6b8ac77285c4b925ade20e97916b4ba50a\n'}, {'number': 6, 'created': '2024-05-16 20:57:47.000000000', 'files': ['test/s3api/test_mpu.py', 'test/s3api/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e511e7dea64adc9561512e90c15d181af9c7a984', 'message': 'WIP s3api: add more MPU cross-compat  tests\n\n9/26 tests (XXX) fail with Swift s3api.\nAll tests pass with AWS S3.\n\nChange-Id: I917edf6b8ac77285c4b925ade20e97916b4ba50a\n'}]",7,907751,e511e7dea64adc9561512e90c15d181af9c7a984,21,2,6,7847,,,0,"WIP s3api: add more MPU cross-compat  tests

9/26 tests (XXX) fail with Swift s3api.
All tests pass with AWS S3.

Change-Id: I917edf6b8ac77285c4b925ade20e97916b4ba50a
",git fetch https://review.opendev.org/openstack/swift refs/changes/51/907751/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/s3api/test_mpu.py', 'test/s3api/__init__.py']",2,319034d79fa0876ec55d6b0209ca26806836bb2e,p-native-mpu-compat-tests,"from datetime import datetimedef date_to_datetime(resp): date_str = resp['ResponseMetadata']['HTTPHeaders']['date'] return datetime.strptime(date_str, '%a, %d %b %Y %H:%M:%S %Z') ",,282,2
openstack%2Fpuppet-openstack-integration~919654,openstack/puppet-openstack-integration,stable/2024.1,I50e08ff61d3e4152777b425fe15f2f48fcea6070,redis: Generate tls certs timely for redis-sentinel,MERGED,2024-05-16 05:41:51.000000000,2024-05-16 21:22:13.000000000,2024-05-16 21:22:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-16 05:41:51.000000000', 'files': ['manifests/redis.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/03bb16aa61d0ed78efb764fa5a7202644bb7cbfd', 'message': 'redis: Generate tls certs timely for redis-sentinel\n\nThe same certs are used by not only redis but also redis-sentinel so\nthe certs should be generated at the appropriate timing for sentinel\ninstallation/configuration.\n\nChange-Id: I50e08ff61d3e4152777b425fe15f2f48fcea6070\n(cherry picked from commit 0a9c65cbe1f7aa9507bc8accc50b249b9782d2e8)\n'}]",0,919654,03bb16aa61d0ed78efb764fa5a7202644bb7cbfd,7,3,1,9816,,,0,"redis: Generate tls certs timely for redis-sentinel

The same certs are used by not only redis but also redis-sentinel so
the certs should be generated at the appropriate timing for sentinel
installation/configuration.

Change-Id: I50e08ff61d3e4152777b425fe15f2f48fcea6070
(cherry picked from commit 0a9c65cbe1f7aa9507bc8accc50b249b9782d2e8)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/54/919654/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/redis.pp'],1,03bb16aa61d0ed78efb764fa5a7202644bb7cbfd,," require => [ Package[$::redis::package_name], Package[$::redis::sentinel::package_name], ], notify => [ Service[$::redis::service_name], Service[$::redis::sentinel::service_name], ]"," require => Package[$::redis::package_name], notify => Service[$::redis::service_name],",8,2
openstack%2Fpuppet-openstack-integration~916551,openstack/puppet-openstack-integration,master,I4cb520c7250d0920f677c6411a493859bbf2a0ae,Ubuntu: Switch back to official repository,MERGED,2024-04-20 03:06:08.000000000,2024-05-16 21:22:12.000000000,2024-05-16 21:22:12.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-20 03:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/407171263a69b1cdf77b04786f17fdf1243510aa', 'message': ""Ubuntu: Switch back to official repository\n\nWe replaced the ceph official repository by UCA because the official\nrepository didn't provide packages for jammy but now the packages\nfor jammy are available.\n\nChange-Id: I4cb520c7250d0920f677c6411a493859bbf2a0ae\n""}, {'number': 2, 'created': '2024-04-20 03:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7fea88ec8fc49d5d9be802fbdee0b16e3edc8c2f', 'message': ""Ubuntu: Switch back to official repository\n\nWe replaced the ceph official repository by UCA because the official\nrepository didn't provide packages for jammy but now the packages\nfor jammy are available.\n\nChange-Id: I4cb520c7250d0920f677c6411a493859bbf2a0ae\n""}, {'number': 3, 'created': '2024-05-05 10:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f0ca2e43a7d8d051cf4347243b118b4464fa9044', 'message': ""Ubuntu: Switch back to official repository\n\nWe replaced the ceph official repository by UCA because the official\nrepository didn't provide packages for jammy but now the packages\nfor jammy are available.\n\nChange-Id: I4cb520c7250d0920f677c6411a493859bbf2a0ae\n""}, {'number': 4, 'created': '2024-05-09 02:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ed6043010f5e9a3c3aa3bdb553d6c8b684551bcb', 'message': ""Ubuntu: Switch back to official repository\n\nWe replaced the ceph official repository by UCA because the official\nrepository didn't provide packages for jammy but now the packages\nfor jammy are available.\n\nChange-Id: I4cb520c7250d0920f677c6411a493859bbf2a0ae\n""}, {'number': 5, 'created': '2024-05-15 14:09:05.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b2aaa0db1d578991b95806fb08ee7d2839f34f00', 'message': ""Ubuntu: Switch back to official repository\n\nWe replaced the ceph official repository by UCA because the official\nrepository didn't provide packages for jammy but now the packages\nfor jammy are available.\n\nChange-Id: I4cb520c7250d0920f677c6411a493859bbf2a0ae\n""}]",0,916551,b2aaa0db1d578991b95806fb08ee7d2839f34f00,16,4,5,9816,,,0,"Ubuntu: Switch back to official repository

We replaced the ceph official repository by UCA because the official
repository didn't provide packages for jammy but now the packages
for jammy are available.

Change-Id: I4cb520c7250d0920f677c6411a493859bbf2a0ae
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/51/916551/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,407171263a69b1cdf77b04786f17fdf1243510aa,," # Ceph is both packaged on UCA and official download.ceph.com packages # which we mirror. We want to use the official packages or our mirror. if $ceph_mirror !~ '^http://download.ceph.com/.*' { $ceph_version_cap = capitalize($ceph_version_real) apt::pin { 'ceph': priority => 1001, originator => ""Ceph ${ceph_version_cap}"", } } else { apt::pin { 'ceph': priority => 1001, origin => 'download.ceph.com', class { 'ceph::repo': enable_sig => $enable_sig, enable_epel => $enable_epel, ceph_mirror => $ceph_mirror,"," if $facts['os']['name'] == 'Ubuntu' and versioncmp($facts['os']['release']['major'], '22') >= 0 { # NOTE(tkajinam): Upstream ceph repository does not provide packages for # Ubuntu Jammy, so we use packages from UCA. $enable_ceph_repository = false } else { $enable_ceph_repository = true } if $enable_ceph_repository { # Ceph is both packaged on UCA and official download.ceph.com packages # which we mirror. We want to use the official packages or our mirror. if $ceph_mirror !~ '^http://download.ceph.com/.*' { $ceph_version_cap = capitalize($ceph_version_real) apt::pin { 'ceph': priority => 1001, originator => ""Ceph ${ceph_version_cap}"", } } else { apt::pin { 'ceph': priority => 1001, origin => 'download.ceph.com', } if $enable_ceph_repository { class { 'ceph::repo': enable_sig => $enable_sig, enable_epel => $enable_epel, ceph_mirror => $ceph_mirror, }",16,28
openstack%2Fpuppet-neutron~919596,openstack/puppet-neutron,master,I4de49c4ef317d086cff486e739365384e0d5f3c9,"Follow up ""Support ovs/openflow_processed_per_port configuration option""",MERGED,2024-05-14 15:27:24.000000000,2024-05-16 21:18:59.000000000,2024-05-16 21:18:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-14 15:27:24.000000000', 'files': ['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/openflow_processed_per_port-6587301ed42b53e9.yaml', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2890306d9b77e7d6a660b04f5ca3cdd82e334b22', 'message': 'Follow up ""Support ovs/openflow_processed_per_port configuration option""\n\nThis is follow-up of ebd50d644498f5c436a0b92b5064ce3fbb5100ab and\naddresses the following points.\n\n- Add missing release note\n- Add unit test assertion of the new resource\n- replace the hard-coded default by os_service_default fact to avoid\n  additional maintenance effort to sync the default\n\nChange-Id: I4de49c4ef317d086cff486e739365384e0d5f3c9\n'}]",0,919596,2890306d9b77e7d6a660b04f5ca3cdd82e334b22,8,3,1,9816,,,0,"Follow up ""Support ovs/openflow_processed_per_port configuration option""

This is follow-up of ebd50d644498f5c436a0b92b5064ce3fbb5100ab and
addresses the following points.

- Add missing release note
- Add unit test assertion of the new resource
- replace the hard-coded default by os_service_default fact to avoid
  additional maintenance effort to sync the default

Change-Id: I4de49c4ef317d086cff486e739365384e0d5f3c9
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/96/919596/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/openflow_processed_per_port-6587301ed42b53e9.yaml', 'manifests/agents/ml2/ovs.pp']",3,2890306d9b77e7d6a660b04f5ca3cdd82e334b22,,"# Defaults to $facts['os_service_default']. $openflow_processed_per_port = $facts['os_service_default'],","# Defaults to false Boolean $openflow_processed_per_port = false,",8,2
openstack%2Fopenstack-ansible-os_neutron~919695,openstack/openstack-ansible-os_neutron,master,I8cc76005915afc5ae16a8df0b8ced4e1b1807f09,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:21:34.000000000,2024-05-16 21:07:11.000000000,2024-05-16 21:06:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:21:34.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4cb5f70e4e9eb61036582b43436dcd0684124105', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I8cc76005915afc5ae16a8df0b8ced4e1b1807f09\n""}]",1,919695,4cb5f70e4e9eb61036582b43436dcd0684124105,9,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I8cc76005915afc5ae16a8df0b8ced4e1b1807f09
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/95/919695/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,4cb5f70e4e9eb61036582b43436dcd0684124105,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_magnum~919685,openstack/openstack-ansible-os_magnum,master,Ic6496838142b1103c83f05666d3e7525056490d2,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:17:34.000000000,2024-05-16 21:05:39.000000000,2024-05-16 21:04:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:17:34.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/ac6213088f5c498d5c23c2d1cdba02c052ee0661', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: Ic6496838142b1103c83f05666d3e7525056490d2\n""}]",1,919685,ac6213088f5c498d5c23c2d1cdba02c052ee0661,10,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: Ic6496838142b1103c83f05666d3e7525056490d2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/85/919685/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,ac6213088f5c498d5c23c2d1cdba02c052ee0661,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_mistral~919692,openstack/openstack-ansible-os_mistral,master,I685448ae30c2407b28ac60f8abf69faab0fbb5b8,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:18:37.000000000,2024-05-16 20:59:50.000000000,2024-05-16 20:58:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:18:37.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/0364055cf0c475da3434b3e67fe6b2b27a18430c', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I685448ae30c2407b28ac60f8abf69faab0fbb5b8\n""}]",0,919692,0364055cf0c475da3434b3e67fe6b2b27a18430c,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I685448ae30c2407b28ac60f8abf69faab0fbb5b8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/92/919692/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,0364055cf0c475da3434b3e67fe6b2b27a18430c,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_tacker~919688,openstack/openstack-ansible-os_tacker,master,I8717460a94f3687266367c934b7accce3c037b1b,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:17:58.000000000,2024-05-16 20:59:46.000000000,2024-05-16 20:58:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:17:58.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/f629a968ac8bbe8d0f7a122bbbc8cc122050b605', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I8717460a94f3687266367c934b7accce3c037b1b\n""}]",0,919688,f629a968ac8bbe8d0f7a122bbbc8cc122050b605,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I8717460a94f3687266367c934b7accce3c037b1b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/88/919688/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,f629a968ac8bbe8d0f7a122bbbc8cc122050b605,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_ceilometer~918107,openstack/openstack-ansible-os_ceilometer,master,I9f7e7aa52de4691cae5a5d6ff5eee0ff781e36a7,Implement variables to address oslo.messaging improvements,MERGED,2024-05-03 16:57:57.000000000,2024-05-16 20:58:43.000000000,2024-05-16 20:56:59.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 34411}]","[{'number': 1, 'created': '2024-05-03 16:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/8a0666049e34e4df3bcf96e33fb4e4be31ca89c4', 'message': 'Implement variables to address oslo.messaging improvements\n\nDuring last release cycle oslo.messaging has landed [1] series of extremely\nuseful changes that are designed to implement modern messaging\ntechniques for rabbitmq quorum queues.\n\nSince these changes are breaking and require queues being re-created,\nit makes total sense to align these with migration to quorum queues by default.\n\n[1] https://review.opendev.org/q/topic:%22bug-2031497%22\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_gnocchi/+/918036\nChange-Id: I9f7e7aa52de4691cae5a5d6ff5eee0ff781e36a7\n'}, {'number': 2, 'created': '2024-05-10 16:28:43.000000000', 'files': ['templates/ceilometer.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/e69b34bf192208d055d724a3b44925cd911ed230', 'message': 'Implement variables to address oslo.messaging improvements\n\nDuring last release cycle oslo.messaging has landed [1] series of extremely\nuseful changes that are designed to implement modern messaging\ntechniques for rabbitmq quorum queues.\n\nSince these changes are breaking and require queues being re-created,\nit makes total sense to align these with migration to quorum queues by default.\n\n[1] https://review.opendev.org/q/topic:%22bug-2031497%22\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_gnocchi/+/918036\nChange-Id: I9f7e7aa52de4691cae5a5d6ff5eee0ff781e36a7\n'}]",2,918107,e69b34bf192208d055d724a3b44925cd911ed230,14,3,2,28619,,,0,"Implement variables to address oslo.messaging improvements

During last release cycle oslo.messaging has landed [1] series of extremely
useful changes that are designed to implement modern messaging
techniques for rabbitmq quorum queues.

Since these changes are breaking and require queues being re-created,
it makes total sense to align these with migration to quorum queues by default.

[1] https://review.opendev.org/q/topic:%22bug-2031497%22

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_gnocchi/+/918036
Change-Id: I9f7e7aa52de4691cae5a5d6ff5eee0ff781e36a7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/07/918107/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ceilometer.conf.j2', 'defaults/main.yml']",2,8a0666049e34e4df3bcf96e33fb4e4be31ca89c4,osa/messaging_improvements,"ceilometer_oslomsg_rabbit_transient_quorum_queues: ""{{ oslomsg_rabbit_transient_quorum_queues | default(ceilometer_oslomsg_rabbit_quorum_queues) }}"" ceilometer_oslomsg_rabbit_queue_manager: ""{{ oslomsg_rabbit_queue_manager | default(ceilometer_oslomsg_rabbit_quorum_queues) }}"" ceilometer_oslomsg_rabbit_stream_fanout: ""{{ oslomsg_rabbit_stream_fanout | default(ceilometer_oslomsg_rabbit_quorum_queues) }}""",,6,0
openstack%2Fopenstack-ansible-os_ceilometer~919681,openstack/openstack-ansible-os_ceilometer,master,Ic428f497e721cfc6ab3aafe4827ecb9033126639,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:17:06.000000000,2024-05-16 20:57:54.000000000,2024-05-16 20:56:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:17:06.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/b08d9b9411381fcb70f32af74011bc5795b55100', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: Ic428f497e721cfc6ab3aafe4827ecb9033126639\n""}]",2,919681,b08d9b9411381fcb70f32af74011bc5795b55100,11,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: Ic428f497e721cfc6ab3aafe4827ecb9033126639
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/81/919681/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,b08d9b9411381fcb70f32af74011bc5795b55100,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_trove~919686,openstack/openstack-ansible-os_trove,master,I6b168e0bfbc0cf0fa3847a5cdfd9f6dda3d1d64e,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:17:44.000000000,2024-05-16 20:57:41.000000000,2024-05-16 20:56:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:17:44.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/9944b66ccd2fd5b637fe28e7bc89eeda8f08cb1a', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I6b168e0bfbc0cf0fa3847a5cdfd9f6dda3d1d64e\n""}]",0,919686,9944b66ccd2fd5b637fe28e7bc89eeda8f08cb1a,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I6b168e0bfbc0cf0fa3847a5cdfd9f6dda3d1d64e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/86/919686/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,9944b66ccd2fd5b637fe28e7bc89eeda8f08cb1a,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_placement~919672,openstack/openstack-ansible-os_placement,master,If0be99368a853749439f99d67f2c4aabce383d08,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:15:07.000000000,2024-05-16 20:57:27.000000000,2024-05-16 20:56:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:15:07.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/74242e58cb6d06c2f43be7b934c0ec1739891c35', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: If0be99368a853749439f99d67f2c4aabce383d08\n""}]",0,919672,74242e58cb6d06c2f43be7b934c0ec1739891c35,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: If0be99368a853749439f99d67f2c4aabce383d08
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/72/919672/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,74242e58cb6d06c2f43be7b934c0ec1739891c35,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_ceilometer~918105,openstack/openstack-ansible-os_ceilometer,master,Iade3f5279024446ba535d6f72f66e656a2e8308d,Add service policies defenition,MERGED,2024-05-03 16:52:51.000000000,2024-05-16 20:56:58.000000000,2024-05-16 20:56:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-05-03 16:52:51.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/73cf522711032113a0fd03d4ba40657898f5d359', 'message': ""Add service policies defenition\n\nIn order to allow definition of policies per service, we need to add variables\nto service roles, that will be passed to openstack.osa.mq_setup.\n\nCurrently this can be handled by leveraging group_vars and overriding `oslomsg_rpc_policies` as a whole, but it's not obvious and\ncan be non-trivial for some groups which are co-locating multiple services\nor in case of metal deployments.\n\nChange-Id: Iade3f5279024446ba535d6f72f66e656a2e8308d\n""}]",5,918105,73cf522711032113a0fd03d4ba40657898f5d359,17,3,1,28619,,,0,"Add service policies defenition

In order to allow definition of policies per service, we need to add variables
to service roles, that will be passed to openstack.osa.mq_setup.

Currently this can be handled by leveraging group_vars and overriding `oslomsg_rpc_policies` as a whole, but it's not obvious and
can be non-trivial for some groups which are co-locating multiple services
or in case of metal deployments.

Change-Id: Iade3f5279024446ba535d6f72f66e656a2e8308d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/05/918105/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,73cf522711032113a0fd03d4ba40657898f5d359,osa/messaging_improvements,ceilometer_oslomsg_rpc_policies: []ceilometer_oslomsg_notify_policies: [],,4,0
openstack%2Fopenstack-ansible-os_designate~919677,openstack/openstack-ansible-os_designate,master,I97d1195efa10785074cacd36082944503bcf0037,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:16:26.000000000,2024-05-16 20:55:59.000000000,2024-05-16 20:54:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:16:26.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/9e8ec75b9ec31f6d469a68dda56915052cbc472d', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I97d1195efa10785074cacd36082944503bcf0037\n""}]",0,919677,9e8ec75b9ec31f6d469a68dda56915052cbc472d,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I97d1195efa10785074cacd36082944503bcf0037
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/77/919677/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,9e8ec75b9ec31f6d469a68dda56915052cbc472d,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_nova~918614,openstack/openstack-ansible-os_nova,master,Idf0a0a7033d8f6c4d6efebff456ea3f19ea81185,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-08 12:34:49.000000000,2024-05-16 20:55:52.000000000,2024-05-16 20:54:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-08 12:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f616ef9e3a6cfdf04675555328cea9bad137179d', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: Idf0a0a7033d8f6c4d6efebff456ea3f19ea81185\n""}, {'number': 2, 'created': '2024-05-15 08:19:54.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ae20d2d9fd2ce4a6d8e3dc88537cbdd3a8299fce', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: Idf0a0a7033d8f6c4d6efebff456ea3f19ea81185\n""}]",1,918614,ae20d2d9fd2ce4a6d8e3dc88537cbdd3a8299fce,12,3,2,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: Idf0a0a7033d8f6c4d6efebff456ea3f19ea81185
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/14/918614/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,f616ef9e3a6cfdf04675555328cea9bad137179d,osa/rmq-migrate, - post-install - post-install,,2,0
openstack%2Fopenstack-ansible-os_aodh~919682,openstack/openstack-ansible-os_aodh,master,I7bd52a92b3328d71d63528298752d75715b6770a,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:17:16.000000000,2024-05-16 20:55:33.000000000,2024-05-16 20:54:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:17:16.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/e58eed434c672315cad46215e93c22bc9209a959', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I7bd52a92b3328d71d63528298752d75715b6770a\n""}]",0,919682,e58eed434c672315cad46215e93c22bc9209a959,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I7bd52a92b3328d71d63528298752d75715b6770a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/82/919682/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,e58eed434c672315cad46215e93c22bc9209a959,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_blazar~919689,openstack/openstack-ansible-os_blazar,master,I34789c5aeeaa9fd4a61536edc35099f8c6b3852c,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:18:08.000000000,2024-05-16 20:54:41.000000000,2024-05-16 20:53:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:18:08.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/962229f2c6b2cf70b58e9513bb4d444e5866f53e', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I34789c5aeeaa9fd4a61536edc35099f8c6b3852c\n""}]",0,919689,962229f2c6b2cf70b58e9513bb4d444e5866f53e,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I34789c5aeeaa9fd4a61536edc35099f8c6b3852c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/89/919689/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,962229f2c6b2cf70b58e9513bb4d444e5866f53e,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_swift~919678,openstack/openstack-ansible-os_swift,master,I05034cd14f1a8e136b17d6903ea758b009dbeba1,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:16:36.000000000,2024-05-16 20:54:21.000000000,2024-05-16 20:53:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:16:36.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/66dffb7f4f896246d563e6b884e2938967920ecb', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I05034cd14f1a8e136b17d6903ea758b009dbeba1\n""}]",0,919678,66dffb7f4f896246d563e6b884e2938967920ecb,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I05034cd14f1a8e136b17d6903ea758b009dbeba1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/78/919678/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,66dffb7f4f896246d563e6b884e2938967920ecb,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_keystone~919670,openstack/openstack-ansible-os_keystone,master,Ib3878b1ba7af4f36480d94d0d2441347b767e9e2,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:14:28.000000000,2024-05-16 20:54:18.000000000,2024-05-16 20:53:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:14:28.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/429dfbea39f0695f072a7dc339e3c772cc39df7d', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: Ib3878b1ba7af4f36480d94d0d2441347b767e9e2\n""}]",0,919670,429dfbea39f0695f072a7dc339e3c772cc39df7d,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: Ib3878b1ba7af4f36480d94d0d2441347b767e9e2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/70/919670/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,429dfbea39f0695f072a7dc339e3c772cc39df7d,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_octavia~919687,openstack/openstack-ansible-os_octavia,master,I6c84cf958a1d7268ccec14c3cf1b98ff6a8115e3,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:17:48.000000000,2024-05-16 20:54:07.000000000,2024-05-16 20:53:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:17:48.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/6a89e0a9263712b2c4a3ceafbc2892ad21ad5dd2', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I6c84cf958a1d7268ccec14c3cf1b98ff6a8115e3\n""}]",0,919687,6a89e0a9263712b2c4a3ceafbc2892ad21ad5dd2,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I6c84cf958a1d7268ccec14c3cf1b98ff6a8115e3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/87/919687/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,6a89e0a9263712b2c4a3ceafbc2892ad21ad5dd2,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_ironic~919684,openstack/openstack-ansible-os_ironic,master,Ic1a896df1ba8d14aca9a12e0adf0d1822a5262d3,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:17:30.000000000,2024-05-16 20:54:00.000000000,2024-05-16 20:52:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:17:30.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/0ad636ef46efa801bf0e2240238687296cb6377e', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: Ic1a896df1ba8d14aca9a12e0adf0d1822a5262d3\n""}]",0,919684,0ad636ef46efa801bf0e2240238687296cb6377e,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: Ic1a896df1ba8d14aca9a12e0adf0d1822a5262d3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/84/919684/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,0ad636ef46efa801bf0e2240238687296cb6377e,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_barbican~919671,openstack/openstack-ansible-os_barbican,master,I12a450c826b824876b393a0db5673273d433eafd,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:14:57.000000000,2024-05-16 20:53:45.000000000,2024-05-16 20:52:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:14:57.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/c49eac3d3b3a06935ce51a98658045229d7bef2e', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I12a450c826b824876b393a0db5673273d433eafd\n""}]",0,919671,c49eac3d3b3a06935ce51a98658045229d7bef2e,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I12a450c826b824876b393a0db5673273d433eafd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/71/919671/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,c49eac3d3b3a06935ce51a98658045229d7bef2e,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_horizon~919676,openstack/openstack-ansible-os_horizon,master,I57d102bf17d20c6abebe12891d9f702c9621f8d0,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:16:22.000000000,2024-05-16 20:53:15.000000000,2024-05-16 20:52:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:16:22.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/cc7340b47e1283f2fc166f5fb9d012e5bde722a8', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I57d102bf17d20c6abebe12891d9f702c9621f8d0\n""}]",0,919676,cc7340b47e1283f2fc166f5fb9d012e5bde722a8,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I57d102bf17d20c6abebe12891d9f702c9621f8d0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/76/919676/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,cc7340b47e1283f2fc166f5fb9d012e5bde722a8,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_skyline~919694,openstack/openstack-ansible-os_skyline,master,I75ae7710ed426e6249ea0e5b5a496d2c822782d0,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:19:15.000000000,2024-05-16 20:52:04.000000000,2024-05-16 20:51:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:19:15.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_skyline/commit/9388087f7e363c4cc63034fbc0e753b8e986294d', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I75ae7710ed426e6249ea0e5b5a496d2c822782d0\n""}]",0,919694,9388087f7e363c4cc63034fbc0e753b8e986294d,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I75ae7710ed426e6249ea0e5b5a496d2c822782d0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_skyline refs/changes/94/919694/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,9388087f7e363c4cc63034fbc0e753b8e986294d,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_glance~919673,openstack/openstack-ansible-os_glance,master,Ic66fef907988590d4b74eb245574176ab1e53170,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:16:01.000000000,2024-05-16 20:51:12.000000000,2024-05-16 20:49:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:16:01.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/35aa82224627d0245cab0f5bb51feb0f9f48b825', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: Ic66fef907988590d4b74eb245574176ab1e53170\n""}]",0,919673,35aa82224627d0245cab0f5bb51feb0f9f48b825,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: Ic66fef907988590d4b74eb245574176ab1e53170
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/73/919673/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,35aa82224627d0245cab0f5bb51feb0f9f48b825,osa/rmq-migrate, - post-install,,1,0
openstack%2Fopenstack-ansible-os_heat~919675,openstack/openstack-ansible-os_heat,master,I6fe51d12af039abd216c4d937766dd9da206234e,Add tag to enable targeting of post-install config elements only,MERGED,2024-05-15 08:16:17.000000000,2024-05-16 20:50:04.000000000,2024-05-16 20:49:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-05-15 08:16:17.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/c876d93858995028d6181875b15b87ec80c247da', 'message': ""Add tag to enable targeting of post-install config elements only\n\n<service>-config tags are quite broad and have a long execution\ntime. Where you only need to modify a service's '.conf' file and\nsimilar it is useful to have a quicker method to do so.\n\nChange-Id: I6fe51d12af039abd216c4d937766dd9da206234e\n""}]",0,919675,c876d93858995028d6181875b15b87ec80c247da,8,3,1,31542,,,0,"Add tag to enable targeting of post-install config elements only

<service>-config tags are quite broad and have a long execution
time. Where you only need to modify a service's '.conf' file and
similar it is useful to have a quicker method to do so.

Change-Id: I6fe51d12af039abd216c4d937766dd9da206234e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/75/919675/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,c876d93858995028d6181875b15b87ec80c247da,osa/rmq-migrate, - post-install,,1,0
openstack%2Fironic~919585,openstack/ironic,master,I19350fc010bd5aac798b2d57ea3d2eb98239a457,docs: allow the state diagram to be larger,MERGED,2024-05-14 14:27:44.000000000,2024-05-16 20:45:46.000000000,2024-05-16 20:44:10.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 35743}]","[{'number': 1, 'created': '2024-05-14 14:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b058248037c3ffcfaa40b07852fb97d5f8b08977', 'message': 'docs: allow the state diagram to be larger\n\nThe state digram is constrainted into a frame of the page rendering\nand the prior configuration set it to be a maximum of 660 pixels,\nhowever we should allow the image to be aligned to page size which\ncan result in a larger image, but still constrained slightly so\nspinx includes a link to the image.\n\nChange-Id: I19350fc010bd5aac798b2d57ea3d2eb98239a457\n'}, {'number': 2, 'created': '2024-05-15 13:48:46.000000000', 'files': ['doc/source/user/states.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0d2a2e4bf4069cb5961bdbccb67950578cb0c2d1', 'message': 'docs: allow the state diagram to be larger\n\nThe state digram is constrainted into a frame of the page rendering\nand the prior configuration set it to be a maximum of 660 pixels,\nhowever we should allow the image to be aligned to page size which\ncan result in a larger image, but still constrained slightly so\nspinx includes a link to the image.\n\nChange-Id: I19350fc010bd5aac798b2d57ea3d2eb98239a457\n'}]",2,919585,0d2a2e4bf4069cb5961bdbccb67950578cb0c2d1,11,3,2,11655,,,0,"docs: allow the state diagram to be larger

The state digram is constrainted into a frame of the page rendering
and the prior configuration set it to be a maximum of 660 pixels,
however we should allow the image to be aligned to page size which
can result in a larger image, but still constrained slightly so
spinx includes a link to the image.

Change-Id: I19350fc010bd5aac798b2d57ea3d2eb98239a457
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/919585/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/states.rst'],1,b058248037c3ffcfaa40b07852fb97d5f8b08977,," :width: 99%Please click the image above to view the diagram at it's full size, as the presence in the documentation results in it being scaled down. ", :width: 660px,5,1
openstack%2Fproject-config~919371,openstack/project-config,master,I912599baf35608de7e3c5634feecaef2b7e438f9,Retire Murano: remove project from infra,MERGED,2024-05-10 23:12:44.000000000,2024-05-16 20:43:02.000000000,2024-05-16 19:46:47.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-05-10 23:12:44.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/acls/openstack/murano.config', 'gerrit/acls/openstack/murano-dashboard.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/murano-specs.config', 'gerrit/acls/openstack/murano-apps.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0de25240ebd6c7c6b237f8dca59618279ae98830', 'message': 'Retire Murano: remove project from infra\n\nMurano project has been retired, this commit removes\nit from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/919358\nChange-Id: I912599baf35608de7e3c5634feecaef2b7e438f9\n'}]",0,919371,0de25240ebd6c7c6b237f8dca59618279ae98830,8,3,1,8556,,,0,"Retire Murano: remove project from infra

Murano project has been retired, this commit removes
it from infra.

Depends-On: https://review.opendev.org/c/openstack/governance/+/919358
Change-Id: I912599baf35608de7e3c5634feecaef2b7e438f9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/919371/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/acls/openstack/murano.config', 'gerrit/acls/openstack/murano-dashboard.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/murano-specs.config', 'gerrit/acls/openstack/murano-apps.config']",8,0de25240ebd6c7c6b237f8dca59618279ae98830,retire-murano,,"[access] inheritFrom = openstack/meta-config [access ""refs/heads/*""] abandon = group murano-apps-core label-Code-Review = -2..+2 group murano-apps-core label-Verified = -1..+1 group murano-apps-ci label-Workflow = -1..+1 group murano-apps-core [access ""refs/heads/stable/*""] abandon = group Change Owner abandon = group Project Bootstrappers abandon = group murano-apps-release abandon = group stable-maint-core exclusiveGroupPermissions = abandon label-Code-Review label-Workflow label-Code-Review = -2..+2 group Project Bootstrappers label-Code-Review = -2..+2 group murano-apps-release label-Code-Review = -2..+2 group stable-maint-core label-Code-Review = -1..+1 group Registered Users label-Workflow = -1..+0 group Change Owner label-Workflow = -1..+1 group Project Bootstrappers label-Workflow = -1..+1 group murano-apps-release label-Workflow = -1..+1 group stable-maint-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",0,197
