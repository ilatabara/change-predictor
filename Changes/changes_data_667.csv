id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcharm-cinder-ceph~master~I860584810dc3b8923635d7d45cc468ea96e4ce07,openstack/charm-cinder-ceph,master,I860584810dc3b8923635d7d45cc468ea96e4ce07,Setup Ceph default RBD features,MERGED,2017-07-27 09:01:16.000000000,2017-08-02 12:44:14.000000000,2017-08-02 12:44:14.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-07-27 09:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/a8a3611f657e34c2f1c118789b101ba166689c55', 'message': 'Setup Ceph default RBD features\n\nNova-lxd requires that our Ceph images only contain the features\nsupported by the kernel RBD driver, and a discussion on the dev mailing\nlist suggests that 1 should work fine as the driver level\n\nThis commit contains a charmhelpers sync to bring in the new\nflag to support configuration sent from the ceph charms.\n\nChange-Id: I860584810dc3b8923635d7d45cc468ea96e4ce07\n'}, {'number': 2, 'created': '2017-08-01 07:10:14.000000000', 'files': ['hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'tests/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/bcache.py', 'hooks/charmhelpers/fetch/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/ceph.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/6cc19d8f36a33ccf555e2e961d0f4d6afc7cc84d', 'message': 'Setup Ceph default RBD features\n\nNova-lxd requires that our Ceph images only contain the features\nsupported by the kernel RBD driver, and a discussion on the dev mailing\nlist suggests that 1 should work fine as the driver level\n\nThis commit contains a charmhelpers sync to bring in the new\nflag to support configuration sent from the ceph charms.\n\nChange-Id: I860584810dc3b8923635d7d45cc468ea96e4ce07\n'}]",0,487769,6cc19d8f36a33ccf555e2e961d0f4d6afc7cc84d,14,3,2,20634,,,0,"Setup Ceph default RBD features

Nova-lxd requires that our Ceph images only contain the features
supported by the kernel RBD driver, and a discussion on the dev mailing
list suggests that 1 should work fine as the driver level

This commit contains a charmhelpers sync to bring in the new
flag to support configuration sent from the ceph charms.

Change-Id: I860584810dc3b8923635d7d45cc468ea96e4ce07
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/69/487769/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'tests/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/bcache.py', 'hooks/charmhelpers/fetch/__init__.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/ceph.conf']",18,a8a3611f657e34c2f1c118789b101ba166689c55,default-rbd-features,# ceph configuration file maintained by Juju{% if rbd_features %} rbd default features = {{ rbd_features }} {% endif %},# cinder configuration file maintained by Juju,894,293
openstack%2Fvitrage~master~I689c3bd3f39ed38c86710341b3778b11f9e48f68,openstack/vitrage,master,I689c3bd3f39ed38c86710341b3778b11f9e48f68,listener_service - enable listen to multiple topics + specify exchange name,MERGED,2017-07-25 09:50:34.000000000,2017-08-02 12:43:37.000000000,2017-08-02 12:43:37.000000000,"[{'_account_id': 3}, {'_account_id': 9030}, {'_account_id': 19122}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 21414}]","[{'number': 1, 'created': '2017-07-25 09:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/96f67eb90d3f512157cb1cfb076e1ad1be4b9ccf', 'message': 'listener_service - enable listen to multiple topics + specify exchange name\n\nChange-Id: I689c3bd3f39ed38c86710341b3778b11f9e48f68\n'}, {'number': 2, 'created': '2017-07-26 07:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/1ebe96ae25210c2060fa1ad0e2efa3be6e5ee331', 'message': 'listener_service - enable listen to multiple topics + specify exchange name\n\nChange-Id: I689c3bd3f39ed38c86710341b3778b11f9e48f68\n'}, {'number': 3, 'created': '2017-08-02 09:57:18.000000000', 'files': ['vitrage/datasources/listener_service.py', 'vitrage/datasources/__init__.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0604e5ef1cdd8b48bc7cc13f312e9ad00e2e78a1', 'message': 'listener_service - enable listen to multiple topics + specify exchange name\n\nChange-Id: I689c3bd3f39ed38c86710341b3778b11f9e48f68\n'}]",1,486967,0604e5ef1cdd8b48bc7cc13f312e9ad00e2e78a1,17,6,3,9030,,,0,"listener_service - enable listen to multiple topics + specify exchange name

Change-Id: I689c3bd3f39ed38c86710341b3778b11f9e48f68
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/67/486967/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/listener_service.py', 'vitrage/datasources/__init__.py']",2,96f67eb90d3f512157cb1cfb076e1ad1be4b9ccf,," cfg.ListOpt('notification_topic', default='vitrage_notifications', help='Vitrage configured notifications topic'), cfg.StrOpt('notification_exchange', required=False, help='exchange that is used for notifications.'),"," cfg.StrOpt('notification_topic', default='vitrage_notifications', help='Vitrage configured notifications topic'),",13,7
openstack%2Fopenstack-ansible-os_swift~stable%2Fnewton~Ic7d07d869aa617ee00190a9aedf411017539b97b,openstack/openstack-ansible-os_swift,stable/newton,Ic7d07d869aa617ee00190a9aedf411017539b97b,Fix ordering of swift3 in middleware pipeline,ABANDONED,2017-08-02 12:03:50.000000000,2017-08-02 12:41:10.000000000,,"[{'_account_id': 3}, {'_account_id': 17264}]","[{'number': 1, 'created': '2017-08-02 12:03:50.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/86effe939e5f648db12ba06983ca151102de4310', 'message': 'Fix ordering of swift3 in middleware pipeline\n\nBeginning with commit 6ffcc29 of swift3, the swift3 and s3token middlewares\nmust come between authtoken and keystoneauth in the swift proxy pipeline.\n\nWhen 6ffcc29 was committed, reordering was optional at the expense of an\nunneceessary call to keystone.  However, the change becomes mandatory when using\nkeystone v3 tokens.  Without this change, authtoken will strip the necessary\nheaders that s3token just added to the environment.\n\nChange-Id: Ic7d07d869aa617ee00190a9aedf411017539b97b\n(cherry picked from commit 8b2fc7afc7563e475c67e95cf47a800ab2f5108c)\n'}]",0,489997,86effe939e5f648db12ba06983ca151102de4310,3,2,1,6816,,,0,"Fix ordering of swift3 in middleware pipeline

Beginning with commit 6ffcc29 of swift3, the swift3 and s3token middlewares
must come between authtoken and keystoneauth in the swift proxy pipeline.

When 6ffcc29 was committed, reordering was optional at the expense of an
unneceessary call to keystone.  However, the change becomes mandatory when using
keystone v3 tokens.  Without this change, authtoken will strip the necessary
headers that s3token just added to the environment.

Change-Id: Ic7d07d869aa617ee00190a9aedf411017539b97b
(cherry picked from commit 8b2fc7afc7563e475c67e95cf47a800ab2f5108c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/97/489997/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,86effe939e5f648db12ba06983ca151102de4310,fix_swift3_pipeline," - ""{% if swift_swift3_enabled | bool%}swift3{% endif %}"" - ""{% if swift_swift3_enabled | bool%}s3token{% endif %}""",,2,0
openstack%2Fopenstack-manuals~stable%2Fnewton~I4dbfa6eb5a360a96c1d0d871a875b89eff05e595,openstack/openstack-manuals,stable/newton,I4dbfa6eb5a360a96c1d0d871a875b89eff05e595,Limit openstack-doc-tools,MERGED,2017-08-02 11:42:38.000000000,2017-08-02 12:34:22.000000000,2017-08-02 12:34:22.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-08-02 11:42:38.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5e0d6fe156da5e71e406a00873cedac5d7f4989c', 'message': 'Limit openstack-doc-tools\n\nVersion 1.5.0 is the latest version that works with this branch. Update\nrequirements.\n\nChange-Id: I4dbfa6eb5a360a96c1d0d871a875b89eff05e595\n'}]",0,489990,5e0d6fe156da5e71e406a00873cedac5d7f4989c,6,2,1,6547,,,0,"Limit openstack-doc-tools

Version 1.5.0 is the latest version that works with this branch. Update
requirements.

Change-Id: I4dbfa6eb5a360a96c1d0d871a875b89eff05e595
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/90/489990/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5e0d6fe156da5e71e406a00873cedac5d7f4989c,,"openstack-doc-tools>=1.1.0,<=1.5.0 # Apache-2.0",openstack-doc-tools>=1.1.0 # Apache-2.0,1,1
openstack%2Fopenstack-manuals~stable%2Focata~I4dbfa6eb5a360a96c1d0d871a875b89eff05e595,openstack/openstack-manuals,stable/ocata,I4dbfa6eb5a360a96c1d0d871a875b89eff05e595,Limit openstack-doc-tools,MERGED,2017-08-02 11:44:45.000000000,2017-08-02 12:34:14.000000000,2017-08-02 12:34:14.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-08-02 11:44:45.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8465c33927a1d0ea76ab2e5bb838d8aeb5cf5e4a', 'message': 'Limit openstack-doc-tools\n\nVersion 1.5.0 is the latest version that works\nwith this branch. Update requirements.\n\nChange-Id: I4dbfa6eb5a360a96c1d0d871a875b89eff05e595\n'}]",0,489992,8465c33927a1d0ea76ab2e5bb838d8aeb5cf5e4a,6,2,1,6547,,,0,"Limit openstack-doc-tools

Version 1.5.0 is the latest version that works
with this branch. Update requirements.

Change-Id: I4dbfa6eb5a360a96c1d0d871a875b89eff05e595
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/92/489992/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8465c33927a1d0ea76ab2e5bb838d8aeb5cf5e4a,,"openstack-doc-tools>=1.1.0,<=1.5.0 # Apache-2.0",openstack-doc-tools>=1.1.0 # Apache-2.0,1,1
openstack%2Fnetworking-midonet~master~Icc8ef3e6c4ee448aadc58b533a125543b171d777,openstack/networking-midonet,master,Icc8ef3e6c4ee448aadc58b533a125543b171d777,grenade: Enable QoS,MERGED,2017-06-27 09:22:32.000000000,2017-08-02 12:32:48.000000000,2017-08-02 12:23:53.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 14824}, {'_account_id': 15471}, {'_account_id': 19307}]","[{'number': 1, 'created': '2017-06-27 09:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7b6603dbd560e21b3adde5a357f61bf14d167f72', 'message': 'grenade: Enable QoS\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n'}, {'number': 2, 'created': '2017-06-27 09:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f29631d159b215b1caa9b55fa4b53b91605a264a', 'message': 'grenade: Enable QoS\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n'}, {'number': 3, 'created': '2017-06-27 11:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e3292ea73b38a184a87288b61332069540975b14', 'message': 'grenade: Enable QoS\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n'}, {'number': 4, 'created': '2017-06-28 05:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/715744003cde1a95715d0bc91d7806da7e6ce037', 'message': 'grenade: Enable QoS\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n'}, {'number': 5, 'created': '2017-06-28 08:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/67ce13b6d05ca96166beaa5945dd562fac1a507d', 'message': 'grenade: Enable QoS\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n'}, {'number': 6, 'created': '2017-06-28 10:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/91ca70487df3d686d8117c8e12b71c59f2f3c241', 'message': 'grenade: Enable QoS\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n'}, {'number': 7, 'created': '2017-06-28 12:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/452f9acada4d0f6bcdfbd730e0ffa525a8e11486', 'message': 'grenade: Enable QoS\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n'}, {'number': 8, 'created': '2017-06-29 04:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/9d635905090ec086d651ce830e1a8cafd1379237', 'message': ""grenade: Enable QoS\n\nBecause:\n- It might be interesting for v2 -> ml2 migration job.\n- Unlike other advanced services, it's in neutron repo.\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n""}, {'number': 9, 'created': '2017-07-05 15:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/50ecf733602c15f65ea656fd63699046dd7468ae', 'message': ""grenade: Enable QoS\n\nBecause:\n- It might be interesting for v2 -> ml2 migration job.\n- Unlike other advanced services, it's in neutron repo.\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n""}, {'number': 10, 'created': '2017-07-24 22:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/ed1c099921701b1a761827d47ee6a9a21a17c911', 'message': ""grenade: Enable QoS\n\nBecause:\n- It might be interesting for v2 -> ml2 migration job.\n- Unlike other advanced services, it's in neutron repo.\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n""}, {'number': 11, 'created': '2017-07-24 22:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/17c880b2fdd6e9833e807a7237259e6c20ea612f', 'message': ""grenade: Enable QoS\n\nBecause:\n- It might be interesting for v2 -> ml2 migration job.\n- Unlike other advanced services, it's in neutron repo.\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n""}, {'number': 12, 'created': '2017-07-25 22:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/43d0a283553d5c2c90ea5080d8f86198d7000074', 'message': ""grenade: Enable QoS\n\nBecause:\n- It might be interesting for v2 -> ml2 migration job.\n- Unlike other advanced services, it's in neutron repo.\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n""}, {'number': 13, 'created': '2017-07-26 01:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/0be32b1501ab230befdcea889b78afcc537d5217', 'message': ""grenade: Enable QoS\n\nBecause:\n- It might be interesting for v2 -> ml2 migration job.\n- Unlike other advanced services, it's in neutron repo.\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n""}, {'number': 14, 'created': '2017-07-26 01:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/0736c05cbd5a6c9540089011a1a9c588d7ae0843', 'message': ""grenade: Enable QoS\n\nBecause:\n- It might be interesting for v2 -> ml2 migration job.\n- Unlike other advanced services, it's in neutron repo.\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n""}, {'number': 15, 'created': '2017-07-26 05:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c6f0b6e92cd8bfc541242eb4b0e62dd57f01cc46', 'message': ""grenade: Enable QoS\n\nBecause:\n- It might be interesting for v2 -> ml2 migration job.\n- Unlike other advanced services, it's in neutron repo.\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n""}, {'number': 16, 'created': '2017-07-31 09:18:31.000000000', 'files': ['devstack/upgrade/upgrade.sh', 'devstack/ci/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e616b3df17265149ef7c344bf314c3b0d0a9ae18', 'message': ""grenade: Enable QoS\n\nBecause:\n- It might be interesting for v2 -> ml2 migration job.\n- Unlike other advanced services, it's in neutron repo.\n\nRelated-Bug: #1649722\nChange-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777\n""}]",0,477844,e616b3df17265149ef7c344bf314c3b0d0a9ae18,57,7,16,6854,,,0,"grenade: Enable QoS

Because:
- It might be interesting for v2 -> ml2 migration job.
- Unlike other advanced services, it's in neutron repo.

Related-Bug: #1649722
Change-Id: Icc8ef3e6c4ee448aadc58b533a125543b171d777
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/44/477844/16 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/upgrade/upgrade.sh', 'devstack/ci/gate_hook.sh']",2,7b6603dbd560e21b3adde5a357f61bf14d167f72,bug/1649722," _QOS=False _QOS=True _QOS=False _QOS=True _QOS=True _QOS=True _QOS=False _QOS=Falseif [ ""${_OQS}"" = ""True"" ]; then # Enable QoS export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron https://github.com/openstack/neutron"" s+="",q-qos"" fi "," # Enable QoS export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin neutron https://github.com/openstack/neutron"" s+="",q-qos"" ",15,5
openstack%2Fmonasca-api~master~Iab12e980eacc1c4a35ccb2e9202c5a7ca3662e03,openstack/monasca-api,master,Iab12e980eacc1c4a35ccb2e9202c5a7ca3662e03,Remove usage of parameter enforce_type,MERGED,2017-06-02 09:12:45.000000000,2017-08-02 12:29:13.000000000,2017-08-02 12:29:13.000000000,"[{'_account_id': 3}, {'_account_id': 16168}]","[{'number': 1, 'created': '2017-06-02 09:12:45.000000000', 'files': ['monasca_api/tests/test_alarms.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b2908766f3bae1107935d7527d544f53259964b0', 'message': 'Remove usage of parameter enforce_type\n\nOslo.config deprecated parameter enforce_type and change its default\nvalue to True in Ifa552de0a994e40388cbc9f7dbaa55700ca276b0. Remove the\nusage of it to avoid DeprecationWarning: ""Using the \'enforce_type\'\nargument is deprecated in version \'4.0\' and will be removed in version\n\'5.0\': The argument enforce_type has changed its default value to True\nand then will be removed completely.""\n\nChange-Id: Iab12e980eacc1c4a35ccb2e9202c5a7ca3662e03\nCloses-Bug: #1694616\n'}]",0,470215,b2908766f3bae1107935d7527d544f53259964b0,11,2,1,25903,,,0,"Remove usage of parameter enforce_type

Oslo.config deprecated parameter enforce_type and change its default
value to True in Ifa552de0a994e40388cbc9f7dbaa55700ca276b0. Remove the
usage of it to avoid DeprecationWarning: ""Using the 'enforce_type'
argument is deprecated in version '4.0' and will be removed in version
'5.0': The argument enforce_type has changed its default value to True
and then will be removed completely.""

Change-Id: Iab12e980eacc1c4a35ccb2e9202c5a7ca3662e03
Closes-Bug: #1694616
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/15/470215/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_api/tests/test_alarms.py'],1,b2908766f3bae1107935d7527d544f53259964b0,bug/1694616, group='messaging') group='repositories') group='repositories') group='repositories')," group='messaging', enforce_type=True) group='repositories', enforce_type=True) group='repositories', enforce_type=True) group='repositories', enforce_type=True)",4,4
openstack%2Fnetworking-midonet~master~I20879b73e80342737be80a2264e83efb77c12cea,openstack/networking-midonet,master,I20879b73e80342737be80a2264e83efb77c12cea,grenade: Migrate from monolithic plugin to ml2,MERGED,2017-06-27 07:24:17.000000000,2017-08-02 12:26:03.000000000,2017-08-02 12:16:55.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 14824}, {'_account_id': 19307}, {'_account_id': 23314}]","[{'number': 1, 'created': '2017-06-27 07:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/02eaf2a7da78c59306b03cbdafaed77f5aecfa00', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 2, 'created': '2017-06-27 08:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2be2dfc618357ab972ee68a09b0f95a0e081ee9e', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 3, 'created': '2017-06-27 09:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/ee54b37326f464dd53673d46156afb8837a04239', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 4, 'created': '2017-06-27 11:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b4034d52604c62c5b787a7ba3184cbe40e3cf820', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 5, 'created': '2017-06-28 05:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f37cf8f61e91d33dc874414ce41230c00862daad', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 6, 'created': '2017-06-28 08:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f0aeca446275b7ea769de99882fdde26b7dbdbea', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 7, 'created': '2017-06-28 10:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/0dcc6e1eba06ca01142265a987354d218f37a569', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 8, 'created': '2017-06-28 12:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/3afb3cbf667909bbf39f0e7c43f978fba9d7bf6c', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 9, 'created': '2017-07-05 15:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e0c5997012ec5db2bfb98c13bf50ac5c6ae7960c', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 10, 'created': '2017-07-24 22:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2d225339f5ff8bf7bab0eb9d44190e0767b5679c', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 11, 'created': '2017-07-24 22:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/4aa552605963d17d12aa06664a661624af2facc8', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 12, 'created': '2017-07-25 22:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/3420d8111f0913e89078fda882b2954ab4272509', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 13, 'created': '2017-07-26 01:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8f244d7b44fd6b6df9077ebd0ae78331503fb6fe', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 14, 'created': '2017-07-26 01:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/ec3d37b97c269a722b197af470ccb66081a74f43', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 15, 'created': '2017-07-26 05:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/68ac75a0fe841a4db168928f64c4fa0f9a82101c', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}, {'number': 16, 'created': '2017-07-31 09:18:31.000000000', 'files': ['devstack/upgrade/upgrade.sh', 'devstack/ci/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/ce4d31cfe2ea19e6c4bab541f7f72c0b1bf1e7a8', 'message': 'grenade: Migrate from monolithic plugin to ml2\n\nRelated-Bug: #1649722\nChange-Id: I20879b73e80342737be80a2264e83efb77c12cea\n'}]",0,477792,ce4d31cfe2ea19e6c4bab541f7f72c0b1bf1e7a8,68,7,16,6854,,,0,"grenade: Migrate from monolithic plugin to ml2

Related-Bug: #1649722
Change-Id: I20879b73e80342737be80a2264e83efb77c12cea
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/92/477792/16 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/upgrade.sh'],1,02eaf2a7da78c59306b03cbdafaed77f5aecfa00,bug/1649722," # Migrate from the monolithic plugin to ML2 # https://docs.openstack.org/developer/networking-midonet/ml2_migration.html if [ ${Q_PLUGIN} != ml2 ]; then # REVISIT(yamamoto): It's better to avoid hardcoding these paths # but it's complicated to get these devstack variables here. # (See grenade/projects/50_neutron/upgrade.sh) local NEUTRON_CONF=/etc/neutron/neutron.conf local Q_PLUGIN_CONF_FILE=etc/neutron/plugins/midonet/midonet.ini iniset $NEUTRON_CONF DEFAULT core_plugin ml2 iniset /$Q_PLUGIN_CONF_FILE ml2 mechanism_drivers midonet iniset /$Q_PLUGIN_CONF_FILE ml2 type_drivers midonet,uplink iniset /$Q_PLUGIN_CONF_FILE ml2 tenant_network_types midonet iniset /$Q_PLUGIN_CONF_FILE ml2 external_network_type midonet iniset /$Q_PLUGIN_CONF_FILE ml2 extension_drivers port_security fi",,17,0
openstack%2Ffuel-main~stable%2F7.0~Ibfa6385bfe431f4b04a0842201d9682ee11f173c,openstack/fuel-main,stable/7.0,Ibfa6385bfe431f4b04a0842201d9682ee11f173c,fix package listing in bootstrap,MERGED,2017-08-02 11:30:54.000000000,2017-08-02 12:21:08.000000000,2017-08-02 12:21:08.000000000,"[{'_account_id': 3}, {'_account_id': 14610}]","[{'number': 1, 'created': '2017-08-02 11:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/39ff35bd50924f3876e0bf466df3c8762b4e0dab', 'message': 'test\n\nChange-Id: Ibfa6385bfe431f4b04a0842201d9682ee11f173c\n'}, {'number': 2, 'created': '2017-08-02 11:49:31.000000000', 'files': ['bootstrap/module.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/bab1664baf364990b4224f43ce883559fcd159bd', 'message': 'fix package listing in bootstrap\n\nChange-Id: Ibfa6385bfe431f4b04a0842201d9682ee11f173c\n'}]",0,489982,bab1664baf364990b4224f43ce883559fcd159bd,8,2,2,10288,,,0,"fix package listing in bootstrap

Change-Id: Ibfa6385bfe431f4b04a0842201d9682ee11f173c
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/82/489982/1 && git format-patch -1 --stdout FETCH_HEAD,['bootstrap/module.mk'],1,39ff35bd50924f3876e0bf466df3c8762b4e0dab,, sleep 60m || true rm -rf ~/.rpmdb,,2,0
openstack%2Fnova~master~I71a2d521f5e4fdec676643670fff9cad69fee94c,openstack/nova,master,I71a2d521f5e4fdec676643670fff9cad69fee94c,nova.utils.get_service_url(),ABANDONED,2017-04-19 22:13:17.000000000,2017-08-02 12:15:18.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 6062}, {'_account_id': 8190}, {'_account_id': 9008}, {'_account_id': 9060}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-19 22:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21b8f0c9f5068892b8f4129c3932399da827d55f', 'message': 'WIP/PoC: nova.utils.get_service_url(group)\n\nPrototype code for the referenced blueprint.\n\nWIP: Live test\nWIP: UT\nWIP: Need to populate the mapping of conf groups to service_type\ndefaults.  Also need to keep an eye on whether service-type-authority\nand/or os-client-config can be made to work within pike.\nWIP: Conf options for service_type & interface in the appropriate groups\n(which groups?); deprecate existing service-related options.\nWIP: Plug this into existing endpoint discovery in (at least) cinder,\nglance, ironic (what others?), including conditionally using existing\nconf options for those guys.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\n'}, {'number': 2, 'created': '2017-04-21 22:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bab78c38f554e319ffcc41e42e829f7bbd4bde1', 'message': 'WIP/PoC: nova.utils.get_service_url(group)\n\nPrototype code for the referenced blueprint.\n\nWIP: Live test\nWIP: UT\nWIP: Need to populate the mapping of conf groups to service_type\ndefaults.  Also need to keep an eye on whether service-type-authority\nand/or os-client-config can be made to work within pike.\nWIP: Conf options for service_type & interface in the appropriate groups\n(which groups?); deprecate existing service-related options.\nWIP: Plug this into existing endpoint discovery in (at least) cinder,\nglance, ironic (what others?), including conditionally using existing\nconf options for those guys.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\n'}, {'number': 3, 'created': '2017-04-24 20:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad6b16936b0f224c151aa767bfa06b602850ce69', 'message': 'WIP/PoC: nova.utils.get_service_url(group)\n\nPrototype code for the referenced blueprint.\n\nWIP: Live test\nWIP: UT\nWIP: Need to populate the mapping of conf groups to service_type\ndefaults.  Also need to keep an eye on whether service-type-authority\nand/or os-client-config can be made to work within pike.\nWIP: Conf options for service_type & interface in the appropriate groups\n(which groups?); deprecate existing service-related options.\nWIP: Plug this into existing endpoint discovery in (at least) cinder,\nglance, ironic (what others?), including conditionally using existing\nconf options for those guys.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\n'}, {'number': 4, 'created': '2017-04-25 16:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1274ed7bf493de6b977fa24e2c2ec479f2668006', 'message': 'WIP/PoC: nova.utils.get_service_url(group)\n\nPrototype code for the referenced blueprint.\n\nWIP: UT\nWIP: Need to populate the mapping of conf groups to service_type\ndefaults.  Also need to keep an eye on whether service-type-authority\nand/or os-client-config can be made to work within pike.\nWIP: New conf options & deprecations in (more of) the appropriate\ngroups (which groups?)\nWIP: Plug this into existing endpoint discovery in (more of) the\nappropriate spots.  Glance is done; need cinder, ironic (what others?).\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nImplements: bp use-service-catalog-for-endpoints\n'}, {'number': 5, 'created': '2017-05-01 21:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ad16ccf719bc52acb22a7d3decd7efdeb35e9e6', 'message': 'nova.utils.get_service_url()\n\nProvide a new method:\n\nnova.utils.get_service_url(groupname, ks_adapter=None, ks_auth=None,\n                           ks_session=None)\n\n...to retrieve the endpoint URL for a service based on a keystoneauth1\nauth, session, and adapter.  The keystone artifacts may be passed into\nthe method, or they will be loaded based on options in the specified\nconf group.  (The former allows the caller to cache these artifacts,\nand/or retrieve them from sources other than the conf - e.g. getting\nauth from a context object.)\n\nThe ultimate goal is to replace the various disparate mechanisms used by\ndifferent services to look up endpoint URLs.  In Pike, the original\nmechanisms will still take precedence, but (other than\n[glance]api_servers - see the spec) will be deprecated.  In Queens, the\ndeprecated options will be removed.\n\nThis change incorporates the above utility into endpoint discovery for\nglance and ironic.  Future change sets will do the same for other\nservices.  (Those change sets must also ensure appropriate defaults are\nreturned by _default_service_types.)\n\nIf the user does not specify a service_type, the code in this change set\nconsults a local, hardcoded dictionary of known possibilities and tries\nthem successively.  In future change sets, this logic may be replaced by\nuse of os-client-config or service-type-authority.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\nDepends-On: Icb8c295799cc5ef4ca16f44c238838668fb7ab93\n'}, {'number': 6, 'created': '2017-05-01 22:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fdb83605eb70995adbc621706aabc93af597987', 'message': 'nova.utils.get_service_url()\n\nProvide a new method:\n\nnova.utils.get_service_url(groupname, ks_adapter=None, ks_auth=None,\n                           ks_session=None)\n\n...to retrieve the endpoint URL for a service based on a keystoneauth1\nauth, session, and adapter.  The keystone artifacts may be passed into\nthe method, or they will be loaded based on options in the specified\nconf group.  (The former allows the caller to cache these artifacts,\nand/or retrieve them from sources other than the conf - e.g. getting\nauth from a context object.)\n\nThe ultimate goal is to replace the various disparate mechanisms used by\ndifferent services to look up endpoint URLs.  In Pike, the original\nmechanisms will still take precedence, but (other than\n[glance]api_servers - see the spec) will be deprecated.  In Queens, the\ndeprecated options will be removed.\n\nThis change incorporates the above utility into endpoint discovery for\nglance and ironic.  Future change sets will do the same for other\nservices.  (Those change sets must also ensure appropriate defaults are\nreturned by _default_service_types.)\n\nIf the user does not specify a service_type, the code in this change set\nconsults a local, hardcoded dictionary of known possibilities and tries\nthem successively.  In future change sets, this logic may be replaced by\nuse of os-client-config or service-type-authority.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\nDepends-On: Icb8c295799cc5ef4ca16f44c238838668fb7ab93\n'}, {'number': 7, 'created': '2017-05-03 13:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a2ee5545685a0e959be7e6b7a83baf251a27505', 'message': 'nova.utils.get_service_url()\n\nProvide a new method:\n\nnova.utils.get_service_url(groupname, ks_adapter=None, ks_auth=None,\n                           ks_session=None)\n\n...to retrieve the endpoint URL for a service based on a keystoneauth1\nauth, session, and adapter.  The keystone artifacts may be passed into\nthe method, or they will be loaded based on options in the specified\nconf group.  (The former allows the caller to cache these artifacts,\nand/or retrieve them from sources other than the conf - e.g. getting\nauth from a context object.)\n\nThe ultimate goal is to replace the various disparate mechanisms used by\ndifferent services to look up endpoint URLs.  In Pike, the original\nmechanisms will still take precedence, but (other than\n[glance]api_servers - see the spec) will be deprecated.  In Queens, the\ndeprecated options will be removed.\n\nThis change incorporates the above utility into endpoint discovery for\nglance and ironic.  Future change sets will do the same for other\nservices.  (Those change sets must also ensure appropriate defaults are\nreturned by _default_service_types.)\n\nIf the user does not specify a service_type, the code in this change set\nconsults a local, hardcoded dictionary of known possibilities and tries\nthem successively.  In future change sets, this logic may be replaced by\nuse of os-client-config or service-type-authority.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\nDepends-On: Icb8c295799cc5ef4ca16f44c238838668fb7ab93\n'}, {'number': 8, 'created': '2017-05-05 19:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21dee41c8ceb8fda674860b1d6eaceb51ef057fb', 'message': 'nova.utils.get_service_url()\n\nProvide a new method:\n\nnova.utils.get_service_url(groupname, ks_adapter=None, ks_auth=None,\n                           ks_session=None)\n\n...to retrieve the endpoint URL for a service based on a keystoneauth1\nauth, session, and adapter.  The keystone artifacts may be passed into\nthe method, or they will be loaded based on options in the specified\nconf group.  (The former allows the caller to cache these artifacts,\nand/or retrieve them from sources other than the conf - e.g. getting\nauth from a context object.)\n\nThe ultimate goal is to replace the various disparate mechanisms used by\ndifferent services to look up endpoint URLs.  In Pike, the original\nmechanisms will still take precedence, but (other than\n[glance]api_servers - see the spec) will be deprecated.  In Queens, the\ndeprecated options will be removed.\n\nThis change incorporates the above utility into endpoint discovery for\nglance and ironic.  Future change sets will do the same for other\nservices.  (Those change sets must also ensure appropriate defaults are\nreturned by _default_service_types.)\n\nIf the user does not specify a service_type, the code in this change set\nconsults a local, hardcoded dictionary of known possibilities and tries\nthem successively.  In future change sets, this logic may be replaced by\nuse of os-client-config or service-type-authority.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\nDepends-On: Icb8c295799cc5ef4ca16f44c238838668fb7ab93\n'}, {'number': 9, 'created': '2017-07-19 14:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b5d07e1571171f5d0b8ac4bea43f4a8405f67d9', 'message': 'nova.utils.get_service_url()\n\nProvide a new method:\n\nnova.utils.get_service_url(groupname, ks_adapter=None, ks_auth=None,\n                           ks_session=None)\n\n...to retrieve the endpoint URL for a service based on a keystoneauth1\nauth, session, and adapter.  The keystone artifacts may be passed into\nthe method, or they will be loaded based on options in the specified\nconf group.  (The former allows the caller to cache these artifacts,\nand/or retrieve them from sources other than the conf - e.g. getting\nauth from a context object.)\n\nThe ultimate goal is to replace the various disparate mechanisms used by\ndifferent services to look up endpoint URLs.  In Pike, the original\nmechanisms will still take precedence, but (other than\n[glance]api_servers - see the spec) will be deprecated.  In Queens, the\ndeprecated options will be removed.\n\nThis change incorporates the above utility into endpoint discovery for\nglance and ironic.  Future change sets will do the same for other\nservices.  (Those change sets must also ensure appropriate defaults are\nreturned by _default_service_types.)\n\nIf the user does not specify a service_type, the code in this change set\nconsults a local, hardcoded dictionary of known possibilities and tries\nthem successively.  In future change sets, this logic may be replaced by\nuse of os-client-config or service-type-authority.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\nDepends-On: Icb8c295799cc5ef4ca16f44c238838668fb7ab93\n'}, {'number': 10, 'created': '2017-07-24 20:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a39703cc149ba36e097c8b0bc58aae05cc2cb5b7', 'message': 'nova.utils.get_service_url()\n\nProvide a new method:\n\nnova.utils.get_service_url(groupname, ks_adapter=None, ks_auth=None,\n                           ks_session=None)\n\n...to retrieve the endpoint URL for a service based on a keystoneauth1\nauth, session, and adapter.  The keystone artifacts may be passed into\nthe method, or they will be loaded based on options in the specified\nconf group.  (The former allows the caller to cache these artifacts,\nand/or retrieve them from sources other than the conf - e.g. getting\nauth from a context object.)\n\nThe ultimate goal is to replace the various disparate mechanisms used by\ndifferent services to look up endpoint URLs.  In Pike, the original\nmechanisms will still take precedence, but (other than\n[glance]api_servers - see the spec) will be deprecated.  In Queens, the\ndeprecated options will be removed.\n\nThis change incorporates the above utility into endpoint discovery for\nglance and ironic.  Future change sets will do the same for other\nservices.  (Those change sets must also ensure appropriate defaults are\nreturned by _default_service_types.)\n\nIf the user does not specify a service_type, the code in this change set\nconsults a local, hardcoded dictionary of known possibilities and tries\nthem successively.  In future change sets, this logic may be replaced by\nuse of os-client-config or service-type-authority.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\nDepends-On: Icb8c295799cc5ef4ca16f44c238838668fb7ab93\n'}, {'number': 11, 'created': '2017-07-25 15:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/082acbf25153068e0eb9a948dfee56eaca886f12', 'message': 'nova.utils.get_service_url()\n\nProvide a new method:\n\nnova.utils.get_service_url(groupname, ks_adapter=None, ks_auth=None,\n                           ks_session=None)\n\n...to retrieve the endpoint URL for a service based on a keystoneauth1\nauth, session, and adapter.  The keystone artifacts may be passed into\nthe method, or they will be loaded based on options in the specified\nconf group.  (The former allows the caller to cache these artifacts,\nand/or retrieve them from sources other than the conf - e.g. getting\nauth from a context object.)\n\nThe ultimate goal is to replace the various disparate mechanisms used by\ndifferent services to look up endpoint URLs.  In Pike, the original\nmechanisms will still take precedence, but (other than\n[glance]api_servers - see the spec) will be deprecated.  In Queens, the\ndeprecated options will be removed.\n\nThis change incorporates the above utility into endpoint discovery for\nglance and ironic.  Future change sets will do the same for other\nservices.  (Those change sets must also ensure appropriate defaults are\nreturned by _default_service_types.)\n\nIf the user does not specify a service_type, the code in this change set\nconsults a local, hardcoded dictionary of known possibilities and tries\nthem successively.  In future change sets, this logic may be replaced by\nuse of os-client-config or service-type-authority.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\nDepends-On: Icb8c295799cc5ef4ca16f44c238838668fb7ab93\n'}, {'number': 12, 'created': '2017-07-26 20:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80b1a4753a523fcf1651192647cb8ca8c4cc8e00', 'message': 'nova.utils.get_service_url()\n\nProvide a new method:\n\nnova.utils.get_service_url(groupname, ks_adapter=None, ks_auth=None,\n                           ks_session=None)\n\n...to retrieve the endpoint URL for a service based on a keystoneauth1\nauth, Session, and Adapter.  The keystone artifacts may be passed into\nthe method, or they will be loaded based on options in the specified\nconf group.  (The former allows the caller to cache these artifacts,\nand/or retrieve them from sources other than the conf - e.g. getting\nauth from a context object.)\n\nThe ultimate goal is to replace the various disparate mechanisms used by\ndifferent services to look up endpoint URLs.  In Pike, the original\nmechanisms will still take precedence, but (other than\n[glance]api_servers - see the spec) will be deprecated.  In Queens, the\ndeprecated options will be removed.\n\nThis change incorporates the above utility into endpoint discovery for\nglance and ironic.  Future change sets will do the same for other\nservices.  (Those change sets must also ensure appropriate defaults are\nreturned by _default_service_types.)\n\nIf the user does not specify a service_type, the code in this change set\nassumes the conf group corresponds to a project name, uses\nos-service-types to get the list of possible service types (the official\nservice type and any aliases) for that project name, and then tries them\nsuccessively.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\nDepends-On: Icb8c295799cc5ef4ca16f44c238838668fb7ab93\n'}, {'number': 13, 'created': '2017-07-26 22:25:01.000000000', 'files': ['nova/exception.py', 'requirements.txt', 'nova/virt/ironic/client_wrapper.py', 'nova/conf/ironic.py', 'nova/image/glance.py', 'nova/tests/unit/test_utils.py', 'nova/conf/glance.py', 'nova/utils.py', 'nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d0053414e4993e89d78440b4c7183e39891fc7cc', 'message': 'nova.utils.get_service_url()\n\nProvide a new method:\n\nnova.utils.get_service_url(groupname, ks_adapter=None, ks_auth=None,\n                           ks_session=None)\n\n...to retrieve the endpoint URL for a service based on a keystoneauth1\nauth, Session, and Adapter.  The keystone artifacts may be passed into\nthe method, or they will be loaded based on options in the specified\nconf group.  (The former allows the caller to cache these artifacts,\nand/or retrieve them from sources other than the conf - e.g. getting\nauth from a context object.)\n\nThe ultimate goal is to replace the various disparate mechanisms used by\ndifferent services to look up endpoint URLs.  In Pike, the original\nmechanisms will still take precedence, but (other than\n[glance]api_servers - see the spec) will be deprecated.  In Queens, the\ndeprecated options will be removed.\n\nThis change incorporates the above utility into endpoint discovery for\nglance and ironic.  Future change sets will do the same for other\nservices.  (Those change sets must also ensure appropriate defaults are\nreturned by _default_service_types.)\n\nIf the user does not specify a service_type, the code in this change set\nassumes the conf group corresponds to a project name, uses\nos-service-types to get the list of possible service types (the official\nservice type and any aliases) for that project name, and then tries them\nsuccessively.\n\nChange-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c\nPartial-Implements: bp use-service-catalog-for-endpoints\nDepends-On: Icb8c295799cc5ef4ca16f44c238838668fb7ab93\n'}]",49,458257,d0053414e4993e89d78440b4c7183e39891fc7cc,173,26,13,14070,,,0,"nova.utils.get_service_url()

Provide a new method:

nova.utils.get_service_url(groupname, ks_adapter=None, ks_auth=None,
                           ks_session=None)

...to retrieve the endpoint URL for a service based on a keystoneauth1
auth, Session, and Adapter.  The keystone artifacts may be passed into
the method, or they will be loaded based on options in the specified
conf group.  (The former allows the caller to cache these artifacts,
and/or retrieve them from sources other than the conf - e.g. getting
auth from a context object.)

The ultimate goal is to replace the various disparate mechanisms used by
different services to look up endpoint URLs.  In Pike, the original
mechanisms will still take precedence, but (other than
[glance]api_servers - see the spec) will be deprecated.  In Queens, the
deprecated options will be removed.

This change incorporates the above utility into endpoint discovery for
glance and ironic.  Future change sets will do the same for other
services.  (Those change sets must also ensure appropriate defaults are
returned by _default_service_types.)

If the user does not specify a service_type, the code in this change set
assumes the conf group corresponds to a project name, uses
os-service-types to get the list of possible service types (the official
service type and any aliases) for that project name, and then tries them
successively.

Change-Id: I71a2d521f5e4fdec676643670fff9cad69fee94c
Partial-Implements: bp use-service-catalog-for-endpoints
Depends-On: Icb8c295799cc5ef4ca16f44c238838668fb7ab93
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/458257/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/utils.py'],1,21b8f0c9f5068892b8f4129c3932399da827d55f,bp/use-service-catalog-for-endpoints,"from keystoneauth1 import loading as ks_loading from keystoneauth1 import exceptions as ks_exc# Keystone session _KS_SESSIONS = {} def _default_service_types(conf_group): """"""For a given conf group, return the list of possible service_types. :param conf_group: A oslo_config.cfg.GroupAttr CONF group. :return: A list of service_type strings for the given conf_group. """""" # TODO(efried): Use service-type-authority or os-client-config return { # TODO(efried): Get a correct and comprehensive list of these 'glance': ['image'], 'cinder': ['block-storage', 'volumev3', 'volumev2', 'volume'] }[conf_group._group.name] @lockutils.synchronized('_KS_SESSIONS') def get_keystone_session(group): """"""Return an authenticated keystone session for a given conf group name. :param group: String name of a conf group for which a session is to be returned. The conf must present appropriate keystone auth options. :return: keystoneauth1.session.Session for the given group. """""" # TODO(efried): We ought to have one session, and one place we look for # TODO(efried): auth options. I don't think each conf group should need to # TODO(efried): have separate auth. But where should those be? # TODO(efried): PoC (for testing): my env has creds in 'placement' group = 'placement' if group not in _KS_SESSIONS: _KS_SESSIONS[group] = ks_loading.load_session_from_conf_options( CONF, group, auth=ks_loading.load_auth_from_conf_options( CONF, group)) return _KS_SESSIONS[group] def get_service_url(group): """"""Find the endpoint URL for :param group: String name of a conf group whose service endpoint is to be returned. The conf must present appropriate keystone auth options. :return: String endpoint URL for the service type corresponding to the conf_group. If multiple URLs exist for the service type, successive calls to this method return them in random order. :raise: ServiceNotFound if no endpoint URL could be found for the given service_type. """""" conf_group = getattr(CONF, group) svctyp = getattr(conf_group, 'service_type', None) service_types = [svctyp] if svctyp else _default_service_types(conf_group) interface = getattr(conf_group, 'interface', None) interfaces = [interface] if interface else ['internal', 'public', 'admin'] ks_session = get_keystone_session(group) for service_type in service_types: for interface in interfaces: try: return ks_session.get_endpoint(service_type=service_type, interface=interface) except ks_exc.EndpointNotFound as e: LOG.debug(six.text_type(e)) raise exception.ServiceNotFound(service_id='url for group %s' % group)",,70,0
openstack%2Freleases~master~Idda3a7ab46e5478f83541fbbb629d7e086515ffd,openstack/releases,master,Idda3a7ab46e5478f83541fbbb629d7e086515ffd,use yamlutils.loads() everywhere instead of yaml.safe_load(),MERGED,2017-08-01 21:18:34.000000000,2017-08-02 12:13:21.000000000,2017-08-02 12:13:21.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-08-01 21:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c5c5ef53b5869ca2ed9da7c1186b35a09ea0f9f2', 'message': 'use yamlutils.loads() everywhere instead of yaml.safe_load()\n\nAlso set the encoding for the data files in more open() calls.\n\nChange-Id: Idda3a7ab46e5478f83541fbbb629d7e086515ffd\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-08-01 21:51:22.000000000', 'files': ['openstack_releases/cmds/list_changes.py', 'openstack_releases/cmds/new_release.py', 'openstack_releases/cmds/make_tracking_pad.py', 'openstack_releases/cmds/propose_final_releases.py', 'openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/cmds/missing.py', 'openstack_releases/cmds/check_diff_start.py', 'openstack_releases/project_config.py', 'openstack_releases/cmds/list_constraints.py', 'openstack_releases/cmds/propose_library_branches.py', 'openstack_releases/deliverable.py', 'openstack_releases/governance.py', 'openstack_releases/cmds/edit_deliverable.py', 'openstack_releases/tests/test_governance.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/ee1fc3d892fe0666ff81269eec6e4f62f4bbb116', 'message': 'use yamlutils.loads() everywhere instead of yaml.safe_load()\n\nAlso set the encoding for the data files in more open() calls.\n\nChange-Id: Idda3a7ab46e5478f83541fbbb629d7e086515ffd\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489753,ee1fc3d892fe0666ff81269eec6e4f62f4bbb116,10,3,2,2472,,,0,"use yamlutils.loads() everywhere instead of yaml.safe_load()

Also set the encoding for the data files in more open() calls.

Change-Id: Idda3a7ab46e5478f83541fbbb629d7e086515ffd
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/489753/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/cmds/list_changes.py', 'openstack_releases/cmds/new_release.py', 'openstack_releases/cmds/make_tracking_pad.py', 'openstack_releases/cmds/propose_final_releases.py', 'openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/cmds/missing.py', 'openstack_releases/cmds/check_diff_start.py', 'openstack_releases/project_config.py', 'openstack_releases/cmds/list_constraints.py', 'openstack_releases/cmds/propose_library_branches.py', 'openstack_releases/deliverable.py', 'openstack_releases/governance.py', 'openstack_releases/cmds/edit_deliverable.py', 'openstack_releases/tests/test_governance.py']",15,c5c5ef53b5869ca2ed9da7c1186b35a09ea0f9f2,doc-branch-requirements,from openstack_releases import yamlutilsTEAM_DATA = yamlutils.loads(_team_data_yaml), import yamlTEAM_DATA = yaml.load(_team_data_yaml),69,79
openstack%2Freleases~master~I1387d4a7ffe5656d52129ec0131882701b2e02de,openstack/releases,master,I1387d4a7ffe5656d52129ec0131882701b2e02de,remove unused data from new-release,MERGED,2017-08-01 21:18:34.000000000,2017-08-02 12:13:16.000000000,2017-08-02 12:13:16.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-08-01 21:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0efbfb85a61ea98f36bb8f58eae66ab9b3294c1e', 'message': 'remove unused data from new-release\n\nChange-Id: I1387d4a7ffe5656d52129ec0131882701b2e02de\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-08-01 21:51:22.000000000', 'files': ['openstack_releases/cmds/new_release.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/1a1b79467fa70e587ffc8a4feb4c620a5e69b3cd', 'message': 'remove unused data from new-release\n\nChange-Id: I1387d4a7ffe5656d52129ec0131882701b2e02de\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489752,1a1b79467fa70e587ffc8a4feb4c620a5e69b3cd,10,3,2,2472,,,0,"remove unused data from new-release

Change-Id: I1387d4a7ffe5656d52129ec0131882701b2e02de
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/489752/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/new_release.py'],1,0efbfb85a61ea98f36bb8f58eae66ab9b3294c1e,doc-branch-requirements,,import yaml PROJECT_TEMPLATE = ''' - repo: {repo} hash: {hash} '''.lstrip('\n') ,0,7
openstack%2Freleases~master~Ia7d1192c458f89164d2b5525ead08b5d8eaa192e,openstack/releases,master,Ia7d1192c458f89164d2b5525ead08b5d8eaa192e,have propose-final-releases use yamlutils instead of appending to the file,MERGED,2017-08-01 20:52:45.000000000,2017-08-02 12:12:37.000000000,2017-08-02 12:12:37.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-08-01 20:52:45.000000000', 'files': ['openstack_releases/cmds/propose_final_releases.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/b583afe676ffe8e7957242bc78e25e416d8ec77e', 'message': 'have propose-final-releases use yamlutils instead of appending to the file\n\nChange-Id: Ia7d1192c458f89164d2b5525ead08b5d8eaa192e\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489747,b583afe676ffe8e7957242bc78e25e416d8ec77e,8,3,1,2472,,,0,"have propose-final-releases use yamlutils instead of appending to the file

Change-Id: Ia7d1192c458f89164d2b5525ead08b5d8eaa192e
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/489747/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/propose_final_releases.py'],1,b583afe676ffe8e7957242bc78e25e416d8ec77e,doc-branch-requirements,"from openstack_releases import yamlutils with open(filename, 'r', encoding='utf-8') as f: with open(filename, 'w', encoding='utf-8') as f: f.write(yamlutils.dumps(deliverable_data))"," PROJECT_TEMPLATE = '''\ - repo: {repo} hash: {hash}''' VERSION_TEMPLATE = '''\ - version: {version} {diff_start_comment}diff-start: {diff_start} projects: {projects} ''' with open(filename, 'r') as f: # NOTE(dhellmann): PyYAML doesn't preserve layout when you # write the data back out, so do the formatting ourselves. projects = '\n'.join(PROJECT_TEMPLATE.format(**p) for p in latest_release['projects']) new_block = VERSION_TEMPLATE.format( version=new_version, diff_start=diff_start, diff_start_comment=('# ' if diff_start is None else ''), projects=projects, ).rstrip() + '\n' with open(filename, 'a') as f: f.write(new_block)",4,24
openstack%2Freleases~master~Ib6bf3f3683fae2edb94910bea86971e591b5b87c,openstack/releases,master,Ib6bf3f3683fae2edb94910bea86971e591b5b87c,do not let yamlutils emit alias references,MERGED,2017-08-01 20:52:45.000000000,2017-08-02 12:12:31.000000000,2017-08-02 12:12:31.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-08-01 20:52:45.000000000', 'files': ['openstack_releases/yamlutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/63291dbd84270a19180106106f4a1ac1823ca0a9', 'message': 'do not let yamlutils emit alias references\n\nWe want the canonical data files to have repeated information to make\nit easy for human readers to understand the content, so do not emit\naliases to blocks of repeated data.\n\nChange-Id: Ib6bf3f3683fae2edb94910bea86971e591b5b87c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489746,63291dbd84270a19180106106f4a1ac1823ca0a9,8,3,1,2472,,,0,"do not let yamlutils emit alias references

We want the canonical data files to have repeated information to make
it easy for human readers to understand the content, so do not emit
aliases to blocks of repeated data.

Change-Id: Ib6bf3f3683fae2edb94910bea86971e591b5b87c
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/489746/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/yamlutils.py'],1,63291dbd84270a19180106106f4a1ac1823ca0a9,doc-branch-requirements," def ignore_aliases(self, data): # Never output alias references; always repeat the data. return True ", if self.alias_key is not None: self.represented_objects[self.alias_key] = node,4,2
openstack%2Freleases~master~Icdb2504cae46cd804cb40c2163ae399cdafdcaaf,openstack/releases,master,Icdb2504cae46cd804cb40c2163ae399cdafdcaaf,fix typos in yamlutils,MERGED,2017-08-01 20:52:45.000000000,2017-08-02 12:12:26.000000000,2017-08-02 12:12:26.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-08-01 20:52:45.000000000', 'files': ['openstack_releases/yamlutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/032675e6b4336512ffc6b4c8cdf8977b4237568b', 'message': 'fix typos in yamlutils\n\nChange-Id: Icdb2504cae46cd804cb40c2163ae399cdafdcaaf\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489745,032675e6b4336512ffc6b4c8cdf8977b4237568b,8,3,1,2472,,,0,"fix typos in yamlutils

Change-Id: Icdb2504cae46cd804cb40c2163ae399cdafdcaaf
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/489745/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/yamlutils.py'],1,032675e6b4336512ffc6b4c8cdf8977b4237568b,doc-branch-requirements," """"""Yaml dumper that tries to not alter original formats (too much)."""""" BINARY_ENCODING = 'utf-8'"," """"""Yaml dumper that tries to not alter original formats (to much)."""""" BINARY_ENCODING = 'utf8'",2,2
openstack%2Fopenstack-ansible-os_swift~master~Ic7d07d869aa617ee00190a9aedf411017539b97b,openstack/openstack-ansible-os_swift,master,Ic7d07d869aa617ee00190a9aedf411017539b97b,Fix ordering of swift3 in middleware pipeline,MERGED,2017-07-27 21:01:48.000000000,2017-08-02 12:03:50.000000000,2017-07-28 13:12:07.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-07-27 21:01:48.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/8b2fc7afc7563e475c67e95cf47a800ab2f5108c', 'message': 'Fix ordering of swift3 in middleware pipeline\n\nBeginning with commit 6ffcc29 of swift3, the swift3 and s3token middlewares\nmust come between authtoken and keystoneauth in the swift proxy pipeline.\n\nWhen 6ffcc29 was committed, reordering was optional at the expense of an\nunneceessary call to keystone.  However, the change becomes mandatory when using\nkeystone v3 tokens.  Without this change, authtoken will strip the necessary\nheaders that s3token just added to the environment.\n\nChange-Id: Ic7d07d869aa617ee00190a9aedf411017539b97b\n'}]",0,488203,8b2fc7afc7563e475c67e95cf47a800ab2f5108c,9,3,1,17264,,,0,"Fix ordering of swift3 in middleware pipeline

Beginning with commit 6ffcc29 of swift3, the swift3 and s3token middlewares
must come between authtoken and keystoneauth in the swift proxy pipeline.

When 6ffcc29 was committed, reordering was optional at the expense of an
unneceessary call to keystone.  However, the change becomes mandatory when using
keystone v3 tokens.  Without this change, authtoken will strip the necessary
headers that s3token just added to the environment.

Change-Id: Ic7d07d869aa617ee00190a9aedf411017539b97b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/03/488203/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,8b2fc7afc7563e475c67e95cf47a800ab2f5108c,fix_swift3_pipeline," - ""{% if swift_swift3_enabled | bool%}swift3{% endif %}"" - ""{% if swift_swift3_enabled | bool%}s3token{% endif %}"""," - ""{% if swift_swift3_enabled | bool%}swift3{% endif %}"" - ""{% if swift_swift3_enabled | bool%}s3token{% endif %}""",2,2
openstack%2Foctavia~master~I7cbf649230c7aca051c1c38a0043c41ac51ea8f0,openstack/octavia,master,I7cbf649230c7aca051c1c38a0043c41ac51ea8f0,"Barbicanclient is refactoring, this fixes one of our bad tests",MERGED,2017-08-01 17:30:03.000000000,2017-08-02 11:55:09.000000000,2017-08-02 11:55:09.000000000,"[{'_account_id': 3}, {'_account_id': 10850}, {'_account_id': 11628}]","[{'number': 1, 'created': '2017-08-01 17:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f906ab19eacf428ece21881135dfafdc770d10a7', 'message': 'Barbicanclient is refactoring, this fixes one of our bad tests\n\nChange-Id: I7cbf649230c7aca051c1c38a0043c41ac51ea8f0\n'}, {'number': 2, 'created': '2017-08-01 21:47:13.000000000', 'files': ['octavia/tests/unit/certificates/common/auth/test_barbican_acl.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c0e0f6d4d1a1578fd82b4023bbbc45b0c42cd98c', 'message': 'Barbicanclient is refactoring, this fixes one of our bad tests\n\nChange-Id: I7cbf649230c7aca051c1c38a0043c41ac51ea8f0\n'}]",1,489678,c0e0f6d4d1a1578fd82b4023bbbc45b0c42cd98c,17,3,2,10273,,,0,"Barbicanclient is refactoring, this fixes one of our bad tests

Change-Id: I7cbf649230c7aca051c1c38a0043c41ac51ea8f0
",git fetch https://review.opendev.org/openstack/octavia refs/changes/78/489678/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/tests/unit/certificates/common/auth/test_barbican_acl.py'],1,f906ab19eacf428ece21881135dfafdc770d10a7,489678," # Our returned client should have stuff a Client is supposed to have # This replaces the old (bad) `isinstance` check self.assertTrue(hasattr(bc1, 'containers') and hasattr(bc1.containers, 'register_consumer'))","from barbicanclient import client as barbican_client # Our returned client should be an instance of barbican_client.Client self.assertIsInstance( bc1, barbican_client.Client )",4,6
openstack%2Ftempest~master~Ia6aec6ddbe46ae23e9406ed1a938acd477d129a2,openstack/tempest,master,Ia6aec6ddbe46ae23e9406ed1a938acd477d129a2,Remove unnecessary usage of instance variable,MERGED,2017-07-31 09:20:11.000000000,2017-08-02 11:37:40.000000000,2017-07-31 15:41:57.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 8556}, {'_account_id': 12033}]","[{'number': 1, 'created': '2017-07-31 09:20:11.000000000', 'files': ['tempest/api/object_storage/test_account_quotas_negative.py', 'tempest/api/object_storage/test_object_temp_url_negative.py', 'tempest/api/object_storage/test_container_staticweb.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/39bea7b68f362ee74b63843d8c28b0d774493738', 'message': 'Remove unnecessary usage of instance variable\n\nThis is to remove unnecessary usage of instance variable\nto keep code clean.\n\nChange-Id: Ia6aec6ddbe46ae23e9406ed1a938acd477d129a2\n'}]",0,489146,39bea7b68f362ee74b63843d8c28b0d774493738,9,4,1,20190,,,0,"Remove unnecessary usage of instance variable

This is to remove unnecessary usage of instance variable
to keep code clean.

Change-Id: Ia6aec6ddbe46ae23e9406ed1a938acd477d129a2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/46/489146/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/test_account_quotas_negative.py', 'tempest/api/object_storage/test_object_temp_url_negative.py', 'tempest/api/object_storage/test_container_staticweb.py']",3,39bea7b68f362ee74b63843d8c28b0d774493738,instance_var," headers_public_read_acl = {'Read': '.r:*,.rlistings'} metadata=headers_public_read_acl,"," cls.headers_public_read_acl = {'Read': '.r:*,.rlistings'} metadata=cls.headers_public_read_acl,",6,6
openstack%2Freleases~master~Ie2427ebc08902d2eb7aeb1a106b5acfbdc8ea933,openstack/releases,master,Ie2427ebc08902d2eb7aeb1a106b5acfbdc8ea933,Release OpenStack-Ansible Ocata/15.1.7,MERGED,2017-07-27 12:38:06.000000000,2017-08-02 11:30:01.000000000,2017-08-02 11:30:01.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-07-27 12:38:06.000000000', 'files': ['deliverables/ocata/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/03389a62a70e10e563730f976897688b8900cdaf', 'message': 'Release OpenStack-Ansible Ocata/15.1.7\n\nChange-Id: Ie2427ebc08902d2eb7aeb1a106b5acfbdc8ea933\n'}]",0,487828,03389a62a70e10e563730f976897688b8900cdaf,12,3,1,2799,,,0,"Release OpenStack-Ansible Ocata/15.1.7

Change-Id: Ie2427ebc08902d2eb7aeb1a106b5acfbdc8ea933
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/487828/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/openstack-ansible.yaml'],1,03389a62a70e10e563730f976897688b8900cdaf,openstack-ansible, - version: 15.1.7 projects: - repo: openstack/openstack-ansible hash: aab48ca0f1b71d527d02d75130d02b1ae9a83661 - repo: openstack/openstack-ansible-apt_package_pinning hash: d5c0d7e8d21fc1539cc043097e23851296e2dd95 - repo: openstack/openstack-ansible-pip_install hash: 2bc7e27c2b36e8cd0265053b446ee5f5cc4f4f1d - repo: openstack/openstack-ansible-galera_client hash: 1d3cdcd33c75a668ac3be046ac53fe1842780058 - repo: openstack/openstack-ansible-galera_server hash: c6d36689655586971fbd4be8a6cba2f54b5f44b3 - repo: openstack/openstack-ansible-ceph_client hash: 029abd28ded1e52300cfd3093060e1fc5e9574fd - repo: openstack/openstack-ansible-haproxy_server hash: 4874ef7e218e0bc29f5ccca3c16f704a85f0c0b0 - repo: openstack/openstack-ansible-lxc_container_create hash: 05ed7dfa57b7ead13f63edb72918241e8ef1916e - repo: openstack/openstack-ansible-lxc_hosts hash: d22208afede2fdf1b070f3236016ea3f1e3fa49c - repo: openstack/openstack-ansible-memcached_server hash: 5363432f58334823f7e6c6c88617bb908ca48359 - repo: openstack/openstack-ansible-openstack_hosts hash: 8a9dd8cf281f5d1199fc3cbaa635dde91b1037a0 - repo: openstack/openstack-ansible-os_keystone hash: 4ed06e106a83160d76b56edda09c7ced1caf104a - repo: openstack/openstack-ansible-openstack_openrc hash: dfdf65b3db7c6240fa173a3a62af4e5028023626 - repo: openstack/openstack-ansible-os_aodh hash: aebf86ae0dafae3876a6faab7a0c55010c055f53 - repo: openstack/openstack-ansible-os_barbican hash: 91c62d5d2815bc53940e0048f7c9b65bd31e1a7d - repo: openstack/openstack-ansible-os_ceilometer hash: 1d709bd6eace68bfd7fb7d1e52df8d5b6f28810b - repo: openstack/openstack-ansible-os_cinder hash: 3e8a5bb467fbef16cc2ea3ac5217b4dd0a0e0a8c - repo: openstack/openstack-ansible-os_glance hash: 802c3dcad5b9f578fdac969e327bfece75509ef2 - repo: openstack/openstack-ansible-os_gnocchi hash: 6c3ffedc0e523163042cf167b1077ddc11136b4c - repo: openstack/openstack-ansible-os_heat hash: 300f15ee65d2e157a0304caa10fcac279fbd5f18 - repo: openstack/openstack-ansible-os_horizon hash: e2e28afd60f92238be9d42abaa08260ade5c60eb - repo: openstack/openstack-ansible-os_ironic hash: b217195f8ae7a5a39eba7d633e625b0c3b0c63b1 - repo: openstack/openstack-ansible-os_magnum hash: dfb38385242c9e7f8c04b4485d793055f892ee17 - repo: openstack/openstack-ansible-os_trove hash: 93913b6af52bbf55d224b1b0b8ce53e3a8c84398 - repo: openstack/openstack-ansible-os_neutron hash: e1bb52ff0a67fd34df2c2182c9d37cab88fb4d8e - repo: openstack/openstack-ansible-os_nova hash: 991d3295fc2f8ecb3cfd46f680ceb1816c763291 - repo: openstack/openstack-ansible-os_rally hash: 190522159369ddfec4c8df72bb2a3da351cb841d - repo: openstack/openstack-ansible-os_sahara hash: 4a224f899fbbb68be31824a265fabcb92aa873a4 - repo: openstack/openstack-ansible-os_swift hash: 5233a587f242ae5ccab7d7563a33a9f96556a9d6 - repo: openstack/openstack-ansible-os_tempest hash: de52855d1215a96fde4c060725502fd172c3d949 - repo: openstack/openstack-ansible-plugins hash: 9c26a443a977e73524d9e4c30e018596ce5e48bd - repo: openstack/openstack-ansible-rabbitmq_server hash: b7247285e563e24ca31be1decb6f5b3bf88de69d - repo: openstack/openstack-ansible-repo_build hash: ad719d992b366be8fad11493edcb92e644d92ecc - repo: openstack/openstack-ansible-repo_server hash: 96739ea44eeb8153676433311fc1824e2a763c72 - repo: openstack/openstack-ansible-rsyslog_client hash: 5f5275720d13bd22945348751131c39877b731ab - repo: openstack/openstack-ansible-rsyslog_server hash: a7d4b0df2e9ed3c2a1414613e96c7c9db0f2db60 - repo: openstack/openstack-ansible-os_designate hash: 2d1d0a75fb30b95588b943cfa3e7c830004999f4,,76,0
openstack%2Ftrove~master~Ib4dde18eb78ed6859713e737208bc2dbd008ade8,openstack/trove,master,Ib4dde18eb78ed6859713e737208bc2dbd008ade8,Test enabling nova policy check in nova-cpu.conf,ABANDONED,2017-08-01 20:28:05.000000000,2017-08-02 11:26:13.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 13562}]","[{'number': 1, 'created': '2017-08-01 20:28:05.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/trove/commit/8147c7a55721b390e1082c642015c60ddd7680a5', 'message': 'Test enabling nova policy check in nova-cpu.conf\n\nChange-Id: Ib4dde18eb78ed6859713e737208bc2dbd008ade8\n'}]",2,489733,8147c7a55721b390e1082c642015c60ddd7680a5,5,3,1,13562,,,0,"Test enabling nova policy check in nova-cpu.conf

Change-Id: Ib4dde18eb78ed6859713e737208bc2dbd008ade8
",git fetch https://review.opendev.org/openstack/trove refs/changes/33/489733/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,8147c7a55721b390e1082c642015c60ddd7680a5,enable_policy_check2, NOVA_CONF_DIR=${NOVA_CONF_DIR:-/etc/nova} NOVA_CONF=${NOVA_CONF:-${NOVA_CONF_DIR}/nova-cpu.conf} iniset $NOVA_CONF workarounds disable_group_policy_check_upcall False ,,4,0
openstack%2Ftrove~master~I756b8f828cc5c6420ba8f21bc3859b07293827a1,openstack/trove,master,I756b8f828cc5c6420ba8f21bc3859b07293827a1,WIP/DNM Test enabling Nova compute policy check,ABANDONED,2017-08-01 20:25:25.000000000,2017-08-02 11:25:56.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-08-01 20:25:25.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/trove/commit/ee7bf653150d239448178e586b87e017c5e7e91e', 'message': 'WIP/DNM Test enabling Nova compute policy check\n\nChange-Id: I756b8f828cc5c6420ba8f21bc3859b07293827a1\n'}]",0,489731,ee7bf653150d239448178e586b87e017c5e7e91e,3,1,1,13562,,,0,"WIP/DNM Test enabling Nova compute policy check

Change-Id: I756b8f828cc5c6420ba8f21bc3859b07293827a1
",git fetch https://review.opendev.org/openstack/trove refs/changes/31/489731/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,ee7bf653150d239448178e586b87e017c5e7e91e,enable_policy_check, NOVA_CONF_DIR=${NOVA_CONF_DIR:-/etc/nova} NOVA_CONF=${NOVA_CONF:-${NOVA_CONF_DIR}/nova.conf} iniset $NOVA_CONF workarounds disable_group_policy_check_upcall False,,3,0
openstack%2Freleases~master~I28e1cdcf1d18f4b8f7502d39bd83e5b0d7242086,openstack/releases,master,I28e1cdcf1d18f4b8f7502d39bd83e5b0d7242086,update new-release to let it add b3 tags,MERGED,2017-07-28 19:42:37.000000000,2017-08-02 11:22:29.000000000,2017-08-02 11:22:29.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-07-28 19:42:37.000000000', 'files': ['openstack_releases/cmds/new_release.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/7765e3322e7da829b593a6abad98cc1e0327439f', 'message': 'update new-release to let it add b3 tags\n\nChange-Id: I28e1cdcf1d18f4b8f7502d39bd83e5b0d7242086\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,488587,7765e3322e7da829b593a6abad98cc1e0327439f,11,3,1,2472,,,0,"update new-release to let it add b3 tags

Change-Id: I28e1cdcf1d18f4b8f7502d39bd83e5b0d7242086
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/488587/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/new_release.py'],1,7765e3322e7da829b593a6abad98cc1e0327439f,new-release-b3," choices=('bugfix', 'feature', 'major', 'b3'), if args.release_type == 'b3': new_version_parts = last_version[:-1] new_version_parts.append('0b3') else: increment = { 'bugfix': (0, 0, 1), 'feature': (0, 1, 0), 'major': (1, 0, 0), }[args.release_type] new_version_parts = [] clear = False for cur, inc in zip(last_version, increment): if clear: new_version_parts.append('0') else: new_version_parts.append(str(int(cur) + inc)) if inc: clear = True"," choices=('bugfix', 'feature', 'major'), increment = { 'bugfix': (0, 0, 1), 'feature': (0, 1, 0), 'major': (1, 0, 0), }[args.release_type] new_version_parts = [] clear = False for cur, inc in zip(last_version, increment): if clear: new_version_parts.append('0') else: new_version_parts.append(str(int(cur) + inc)) if inc: clear = True",19,15
openstack%2Freleases~master~Ide6522e33bdb213eb8d260cea0352e0a014dedb0,openstack/releases,master,Ide6522e33bdb213eb8d260cea0352e0a014dedb0,update the release process steps related to documentation,MERGED,2017-07-31 16:03:06.000000000,2017-08-02 11:18:34.000000000,2017-08-02 11:18:34.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}, {'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 14947}, {'_account_id': 14962}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-07-31 16:03:06.000000000', 'files': ['PROCESS.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/e1acee644ef43a5aa3e6c43c81b2ac51e5be7773', 'message': 'update the release process steps related to documentation\n\nAfter the doc-migration, the release team no longer branches the\nopenstack-manuals repository. They can also establish the new landing\npages for the soon-to-be-open series earlier, and update the series\nstatus for soon-to-be-released series at the same time.\n\nChange-Id: Ide6522e33bdb213eb8d260cea0352e0a014dedb0\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489265,e1acee644ef43a5aa3e6c43c81b2ac51e5be7773,12,8,1,2472,,,0,"update the release process steps related to documentation

After the doc-migration, the release team no longer branches the
openstack-manuals repository. They can also establish the new landing
pages for the soon-to-be-open series earlier, and update the series
status for soon-to-be-released series at the same time.

Change-Id: Ide6522e33bdb213eb8d260cea0352e0a014dedb0
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/489265/1 && git format-patch -1 --stdout FETCH_HEAD,['PROCESS.rst'],1,e1acee644ef43a5aa3e6c43c81b2ac51e5be7773,doc-migration,"10. Notify the documentation team that it should be safe to apply their process to create the new release series landing pages for docs.openstack.org. Their process works better if they wait until most of the projects have their stable branches created, but they can do the work before the final release date to avoid having to synchronize with the release team on that day. 4. Mark series as released on releases.o.o, by updating doc/source/index.rst5. Update the default series name in6. Send release announcement email to7. Declare ``openstack/releases`` unfrozen.","4. Notify the documentation team that the final release has been tagged so they can update the documentation landing page. (They might wait to do that until the press release is published.) 5. Mark series as released on releases.o.o, by updating doc/source/index.rst6. Update the default series name in7. Send release announcement email to8. Declare ``openstack/releases`` unfrozen. R+4 Branch Documentation Repos ============================== 1. The documentation team waits to branch their repositories until a few weeks after the final release. Be available to help with creating the branches if needed.",11,15
openstack%2Fcharm-cinder~master~I667b8d6133c265cfba7d51708d2aa222856d3bee,openstack/charm-cinder,master,I667b8d6133c265cfba7d51708d2aa222856d3bee,Setup Ceph default RBD features,MERGED,2017-07-27 08:54:47.000000000,2017-08-02 11:14:37.000000000,2017-08-02 11:14:37.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-07-27 08:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/fede6944fc15b4f8968cefde8f4668416ff2d444', 'message': 'Setup Ceph default RBD features\n\nNova-lxd requires that our Ceph images only contain the features\nsupported by the kernel RBD driver, and a discussion on the dev mailing\nlist suggests that 1 should work fine as the driver level\n\nThis commit contains a charmhelpers sync to bring in the new\nflag to support configuration sent from the ceph charms.\n\nChange-Id: I667b8d6133c265cfba7d51708d2aa222856d3bee\n'}, {'number': 2, 'created': '2017-07-27 08:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d037a3bf45520380a1ef147f75e02ef4cfbb31a6', 'message': 'Setup Ceph default RBD features\n\nNova-lxd requires that our Ceph images only contain the features\nsupported by the kernel RBD driver, and a discussion on the dev mailing\nlist suggests that 1 should work fine as the driver level\n\nThis commit contains a charmhelpers sync to bring in the new\nflag to support configuration sent from the ceph charms.\n\nChange-Id: I667b8d6133c265cfba7d51708d2aa222856d3bee\n'}, {'number': 3, 'created': '2017-08-01 07:09:59.000000000', 'files': ['hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'tests/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/bcache.py', 'hooks/charmhelpers/fetch/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/ceph.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/500863cedf87bfb096e24f62b3dbb361b5a50f0e', 'message': 'Setup Ceph default RBD features\n\nNova-lxd requires that our Ceph images only contain the features\nsupported by the kernel RBD driver, and a discussion on the dev mailing\nlist suggests that 1 should work fine as the driver level\n\nThis commit contains a charmhelpers sync to bring in the new\nflag to support configuration sent from the ceph charms.\n\nChange-Id: I667b8d6133c265cfba7d51708d2aa222856d3bee\n'}]",0,487765,500863cedf87bfb096e24f62b3dbb361b5a50f0e,18,4,3,20634,,,0,"Setup Ceph default RBD features

Nova-lxd requires that our Ceph images only contain the features
supported by the kernel RBD driver, and a discussion on the dev mailing
list suggests that 1 should work fine as the driver level

This commit contains a charmhelpers sync to bring in the new
flag to support configuration sent from the ceph charms.

Change-Id: I667b8d6133c265cfba7d51708d2aa222856d3bee
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/65/487765/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'tests/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/bcache.py', 'hooks/charmhelpers/fetch/__init__.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/ceph.conf']",19,fede6944fc15b4f8968cefde8f4668416ff2d444,default-rbd-features,# ceph configuration file maintained by Juju{% if rbd_features %} rbd default features = {{ rbd_features }} {% endif %},# cinder configuration file maintained by Juju,901,293
openstack%2Fcharm-glance~master~Iea2e2215cce01efe47adff9ec6743538c92f2437,openstack/charm-glance,master,Iea2e2215cce01efe47adff9ec6743538c92f2437,Setup Ceph default RBD features,MERGED,2017-07-27 08:58:24.000000000,2017-08-02 11:13:51.000000000,2017-08-02 11:13:51.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-07-27 08:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/b6d18d142af172a138900df2a018e94042793ce6', 'message': 'Setup Ceph default RBD features\n\nNova-lxd requires that our Ceph images only contain the features\nsupported by the kernel RBD driver, and a discussion on the dev mailing\nlist suggests that 1 should work fine as the driver level\n\nThis commit contains a charmhelpers sync to bring in the new\nflag to support configuration sent from the ceph charms.\n\nChange-Id: Iea2e2215cce01efe47adff9ec6743538c92f2437\n'}, {'number': 2, 'created': '2017-08-01 07:10:04.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/snap.py', 'tests/charmhelpers/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/keystone.py', 'charmhelpers/contrib/openstack/templates/ceph.conf', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/centos.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/9fe6a510116071e38ce2e71986e6b02320ed4461', 'message': 'Setup Ceph default RBD features\n\nNova-lxd requires that our Ceph images only contain the features\nsupported by the kernel RBD driver, and a discussion on the dev mailing\nlist suggests that 1 should work fine as the driver level\n\nThis commit contains a charmhelpers sync to bring in the new\nflag to support configuration sent from the ceph charms.\n\nChange-Id: Iea2e2215cce01efe47adff9ec6743538c92f2437\n'}]",0,487767,9fe6a510116071e38ce2e71986e6b02320ed4461,14,3,2,20634,,,0,"Setup Ceph default RBD features

Nova-lxd requires that our Ceph images only contain the features
supported by the kernel RBD driver, and a discussion on the dev mailing
list suggests that 1 should work fine as the driver level

This commit contains a charmhelpers sync to bring in the new
flag to support configuration sent from the ceph charms.

Change-Id: Iea2e2215cce01efe47adff9ec6743538c92f2437
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/67/487767/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/fetch/snap.py', 'tests/charmhelpers/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'tests/charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/keystone.py', 'charmhelpers/contrib/openstack/templates/ceph.conf', 'charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/centos.py', 'charmhelpers/__init__.py']",18,b6d18d142af172a138900df2a018e94042793ce6,default-rbd-features,"from __future__ import print_function from __future__ import absolute_import import functools import inspect # Holds a list of mapping of mangled function names that have been deprecated # using the @deprecate decorator below. This is so that the warning is only # printed once for each usage of the function. __deprecated_functions = {} def deprecate(warning, date=None, log=None): """"""Add a deprecation warning the first time the function is used. The date, which is a string in semi-ISO8660 format indicate the year-month that the function is officially going to be removed. usage: @deprecate('use core/fetch/add_source() instead', '2017-04') def contributed_add_source_thing(...): ... And it then prints to the log ONCE that the function is deprecated. The reason for passing the logging function (log) is so that hookenv.log can be used for a charm if needed. :param warning: String to indicat where it has moved ot. :param date: optional sting, in YYYY-MM format to indicate when the function will definitely (probably) be removed. :param log: The log function to call to log. If not, logs to stdout """""" def wrap(f): @functools.wraps(f) def wrapped_f(*args, **kwargs): try: module = inspect.getmodule(f) file = inspect.getsourcefile(f) lines = inspect.getsourcelines(f) f_name = ""{}-{}-{}..{}-{}"".format( module.__name__, file, lines[0], lines[-1], f.__name__) except (IOError, TypeError): # assume it was local, so just use the name of the function f_name = f.__name__ if f_name not in __deprecated_functions: __deprecated_functions[f_name] = True s = ""DEPRECATION WARNING: Function {} is being removed"".format( f.__name__) if date: s = ""{} on/around {}"".format(s, date) if warning: s = ""{} : {}"".format(s, warning) if log: log(s) else: print(s) return f(*args, **kwargs) return wrapped_f return wrap",,827,293
openstack%2Fkuryr-kubernetes~master~I05cd13e59f6cf087a980fda0de2a5c5944fa30b9,openstack/kuryr-kubernetes,master,I05cd13e59f6cf087a980fda0de2a5c5944fa30b9,Add devstack support for multi-node deployment,MERGED,2017-07-31 06:00:41.000000000,2017-08-02 11:03:36.000000000,2017-08-02 11:03:36.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 23567}]","[{'number': 1, 'created': '2017-07-31 06:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c14e3f96d92e9b5544ba3120da9bd0badda6aa12', 'message': 'Add devstack support for multi-node deployment\n\nEnables devstack to deploy worker node only.\nAdds sample overcloud worker node local.conf.\n\nChange-Id: I05cd13e59f6cf087a980fda0de2a5c5944fa30b9\n'}, {'number': 2, 'created': '2017-07-31 06:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fbc59b7eeb3709099f1453d57aec3e7632b31cfc', 'message': '[WIP] Add devstack support for multi-node deployment\n\nEnables devstack to deploy worker node only.\nAdds sample overcloud worker node local.conf.\n\nCloses-Bug: 1706576\nChange-Id: I05cd13e59f6cf087a980fda0de2a5c5944fa30b9\n'}, {'number': 3, 'created': '2017-07-31 07:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1120154b7a42a3d77ca1142164005ba7a5363aff', 'message': '[WIP] Add devstack support for multi-node deployment\n\nEnables devstack to deploy worker node only.\nAdds sample overcloud worker node local.conf.\n\nCloses-Bug: 1706576\nChange-Id: I05cd13e59f6cf087a980fda0de2a5c5944fa30b9\n'}, {'number': 4, 'created': '2017-07-31 07:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f9056ef882878d10d53cffbb5120e22dd2fa80a9', 'message': '[WIP] Add devstack support for multi-node deployment\n\nEnables devstack to deploy worker node only.\nAdds sample overcloud worker node local.conf.\n\nCloses-Bug: 1706576\nChange-Id: I05cd13e59f6cf087a980fda0de2a5c5944fa30b9\n'}, {'number': 5, 'created': '2017-08-01 05:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/800312dbc7722cb74e198654c0a9fc51d0da7a59', 'message': 'Add devstack support for multi-node deployment\n\nEnables devstack to deploy worker node only.\nAdds sample overcloud worker node local.conf.\n\nCloses-Bug: 1706576\nChange-Id: I05cd13e59f6cf087a980fda0de2a5c5944fa30b9\n'}, {'number': 6, 'created': '2017-08-02 09:36:29.000000000', 'files': ['devstack/plugin.sh', 'devstack/local.conf.worker.sample'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8ac1d192c458233d61f144ea036375ef4c18342c', 'message': 'Add devstack support for multi-node deployment\n\nEnables devstack to deploy worker node only.\nAdds sample worker node local.conf.\n\nCloses-Bug: 1706576\nChange-Id: I05cd13e59f6cf087a980fda0de2a5c5944fa30b9\n'}]",8,489098,8ac1d192c458233d61f144ea036375ef4c18342c,26,5,6,6598,,,0,"Add devstack support for multi-node deployment

Enables devstack to deploy worker node only.
Adds sample worker node local.conf.

Closes-Bug: 1706576
Change-Id: I05cd13e59f6cf087a980fda0de2a5c5944fa30b9
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/98/489098/6 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.worker.overcloud.sample', 'devstack/plugin.sh']",2,c14e3f96d92e9b5544ba3120da9bd0badda6aa12,bug/1706576,"if [[ ""$1"" == ""stack"" && ""$2"" == ""install"" ]]; then setup_develop ""$KURYR_HOME"" if is_service_enabled kubelet; then install_kuryr_cnielif [[ ""$1"" == ""stack"" && ""$2"" == ""post-config"" ]]; then if is_service_enabled kuryr-kubernetes; then create_kuryr_account fi configure_kuryr fi if [[ ""$1"" == ""stack"" && ""$2"" == ""extra"" ]]; then if is_service_enabled kuryr-kubernetes; then fi # FIXME(limao): When Kuryr start up, it need to detect if neutron # support tag plugin. # # Kuryr will call neutron extension API to verify if neutron support # tag. So Kuryr need to start after neutron-server finish load tag # plugin. The process of devstack is: # ... # run_phase ""stack"" ""post-config"" # ... # start neutron-server # ... # run_phase ""stack"" ""extra"" # # If Kuryr start up in ""post-config"" phase, there is no way to make # sure Kuryr can start before neutron-server, so Kuryr start in ""extra"" # phase. Bug: https://bugs.launchpad.net/kuryr/+bug/1587522 if is_service_enabled legacy_etcd; then prepare_etcd_legacy run_etcd_legacy fi get_container ""$KURYR_HYPERKUBE_IMAGE"" ""$KURYR_HYPERKUBE_VERSION"" prepare_kubernetes_files if is_service_enabled kubernetes-api; then run_k8s_api fi if is_service_enabled kubernetes-controller-manager; then run_k8s_controller_manager fi if is_service_enabled kubernetes-scheduler; then run_k8s_scheduler fi if is_service_enabled kubelet; then prepare_kubelet extract_hyperkube prepare_kubeconfig run_k8s_kubelet KURYR_CONFIGURE_BAREMETAL_KUBELET_IFACE=$(trueorfalse True KURYR_CONFIGURE_BAREMETAL_KUBELET_IFACE) if [[ ""$KURYR_CONFIGURE_BAREMETAL_KUBELET_IFACE"" == ""True"" ]]; then ovs_bind_for_kubelet ""$KURYR_NEUTRON_DEFAULT_PROJECT"" fi fi if is_service_enabled tempest; then copy_tempest_kubeconfig fi if is_service_enabled kuryr-kubernetes; then fi elif [[ ""$1"" == ""stack"" && ""$2"" == ""test-config"" ]]; then if is_service_enabled kuryr-kubernetes; thenfi if [[ ""$1"" == ""unstack"" ]]; then if is_service_enabled kuryr-kubernetes; then docker kill devstack-k8s-setup-files docker rm devstack-k8s-setup-files if is_service_enabled kubernetes-controller-manager; then stop_container kubernetes-controller-manager fi if is_service_enabled kubernetes-scheduler; then stop_container kubernetes-scheduler fi if is_service_enabled kubelet; then stop_process kubelet fi if is_service_enabled kubernetes-api; then stop_container kubernetes-api fi if is_service_enabled legacy_etcd; then stop_container etcd fi fi if [[ ""$1"" == ""clean"" ]]; then if is_service_enabled legacy_etcd; then # Cleanup Etcd for the next stacking sudo rm -rf ""$KURYR_ETCD_DATA_DIR""","if is_service_enabled kuryr-kubernetes; then if [[ ""$1"" == ""stack"" && ""$2"" == ""install"" ]]; then setup_develop ""$KURYR_HOME"" if is_service_enabled kubelet; then install_kuryr_cni fi elif [[ ""$1"" == ""stack"" && ""$2"" == ""post-config"" ]]; then create_kuryr_account configure_kuryr if [[ ""$1"" == ""stack"" && ""$2"" == ""extra"" ]]; then # FIXME(limao): When Kuryr start up, it need to detect if neutron # support tag plugin. # # Kuryr will call neutron extension API to verify if neutron support # tag. So Kuryr need to start after neutron-server finish load tag # plugin. The process of devstack is: # ... # run_phase ""stack"" ""post-config"" # ... # start neutron-server # ... # run_phase ""stack"" ""extra"" # # If Kuryr start up in ""post-config"" phase, there is no way to make # sure Kuryr can start before neutron-server, so Kuryr start in ""extra"" # phase. Bug: https://bugs.launchpad.net/kuryr/+bug/1587522 if is_service_enabled legacy_etcd; then prepare_etcd_legacy run_etcd_legacy fi get_container ""$KURYR_HYPERKUBE_IMAGE"" ""$KURYR_HYPERKUBE_VERSION"" prepare_kubernetes_files if is_service_enabled kubernetes-api; then run_k8s_api fi if is_service_enabled kubernetes-controller-manager; then run_k8s_controller_manager fi if is_service_enabled kubernetes-scheduler; then run_k8s_scheduler fi if is_service_enabled kubelet; then prepare_kubelet extract_hyperkube prepare_kubeconfig run_k8s_kubelet KURYR_CONFIGURE_BAREMETAL_KUBELET_IFACE=$(trueorfalse True KURYR_CONFIGURE_BAREMETAL_KUBELET_IFACE) if [[ ""$KURYR_CONFIGURE_BAREMETAL_KUBELET_IFACE"" == ""True"" ]]; then ovs_bind_for_kubelet ""$KURYR_NEUTRON_DEFAULT_PROJECT"" fi if is_service_enabled tempest; then copy_tempest_kubeconfig fi fi elif [[ ""$1"" == ""stack"" && ""$2"" == ""test-config"" ]]; then if [[ ""$1"" == ""unstack"" ]]; then docker kill devstack-k8s-setup-files docker rm devstack-k8s-setup-files if is_service_enabled kubernetes-controller-manager; then stop_container kubernetes-controller-manager fi if is_service_enabled kubernetes-scheduler; then stop_container kubernetes-scheduler fi if is_service_enabled kubelet; then stop_process kubelet fi if is_service_enabled kubernetes-api; then stop_container kubernetes-api fi if is_service_enabled legacy_etcd; then stop_container etcd fi stop_docker if [[ ""$1"" == ""clean"" ]]; then if is_service_enabled legacy_etcd; then # Cleanup Etcd for the next stacking sudo rm -rf ""$KURYR_ETCD_DATA_DIR"" fi",155,82
openstack%2Fkolla-ansible~stable%2Focata~I404868d5b5077b9f2135e37605421bc84717f9d3,openstack/kolla-ansible,stable/ocata,I404868d5b5077b9f2135e37605421bc84717f9d3,Remove symlink from fluentd global conf,MERGED,2017-08-02 08:38:45.000000000,2017-08-02 10:59:45.000000000,2017-08-02 10:41:24.000000000,"[{'_account_id': 3}, {'_account_id': 22582}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-08-02 08:38:45.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be989d1e26f10de016706417935b22378a3e2adf', 'message': 'Remove symlink from fluentd global conf\n\nAs the logrotate will create new filename with timestamp, fluentd\nwith symlink will staled when restart fluentd and can not set\npermission on the old file.\n\nRemove symlink from the global conf.\n\nChange-Id: I404868d5b5077b9f2135e37605421bc84717f9d3\nCloses-Bug: #1685170\n(cherry picked from commit 24ed428f067a08f6cbf7479671035227bb924a98)\n'}]",0,489927,be989d1e26f10de016706417935b22378a3e2adf,8,3,1,7488,,,0,"Remove symlink from fluentd global conf

As the logrotate will create new filename with timestamp, fluentd
with symlink will staled when restart fluentd and can not set
permission on the old file.

Remove symlink from the global conf.

Change-Id: I404868d5b5077b9f2135e37605421bc84717f9d3
Closes-Bug: #1685170
(cherry picked from commit 24ed428f067a08f6cbf7479671035227bb924a98)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/489927/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,be989d1e26f10de016706417935b22378a3e2adf,bug/1685170,, symlink_path /var/log/kolla/swift/swift_latest.log symlink_path /var/log/kolla/haproxy/haproxy_latest.log,0,2
openstack%2Fzun~master~I6637b74c6615998490060ed26a4fe2cc47f3d8d1,openstack/zun,master,I6637b74c6615998490060ed26a4fe2cc47f3d8d1,Add missing module import,MERGED,2017-08-01 06:28:59.000000000,2017-08-02 10:49:00.000000000,2017-08-02 10:49:00.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 16277}, {'_account_id': 23365}]","[{'number': 1, 'created': '2017-08-01 06:28:59.000000000', 'files': ['zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/f62a8aee7d0258c4e8f331c7c494b60c80bf0151', 'message': ""Add missing module import\n\nFunc _ was referenced in line 177, but didn't import.\n\nChange-Id: I6637b74c6615998490060ed26a4fe2cc47f3d8d1\n""}]",1,489495,f62a8aee7d0258c4e8f331c7c494b60c80bf0151,11,5,1,17813,,,0,"Add missing module import

Func _ was referenced in line 177, but didn't import.

Change-Id: I6637b74c6615998490060ed26a4fe2cc47f3d8d1
",git fetch https://review.opendev.org/openstack/zun refs/changes/95/489495/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/manager.py'],1,f62a8aee7d0258c4e8f331c7c494b60c80bf0151,import_bug,from zun.common.i18n import _,,1,0
openstack%2Fkolla-ansible~master~Ie6b464dd8535246a247fba0633baa0f475fa3f62,openstack/kolla-ansible,master,Ie6b464dd8535246a247fba0633baa0f475fa3f62,Add external-ceph-scripts to create configration files,ABANDONED,2017-08-02 10:37:44.000000000,2017-08-02 10:46:36.000000000,,[],"[{'number': 1, 'created': '2017-08-02 10:37:44.000000000', 'files': ['doc/external-ceph-guide.rst', 'tools/external-ceph.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/03a00bc1af62adeb7633f3f5e2695f704075bbde', 'message': 'Add external-ceph-scripts to create configration files\n\nChange-Id: Ie6b464dd8535246a247fba0633baa0f475fa3f62\n'}]",0,489964,03a00bc1af62adeb7633f3f5e2695f704075bbde,2,0,1,24759,,,0,"Add external-ceph-scripts to create configration files

Change-Id: Ie6b464dd8535246a247fba0633baa0f475fa3f62
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/489964/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/external-ceph-guide.rst', 'tools/external-ceph.sh']",2,03a00bc1af62adeb7633f3f5e2695f704075bbde,external-ceph-scripts,"#!/bin/bash # This scripts for external-ceph-guide and executed on external ceph mon node. set -o xtrace CEPH_CONFIG_DIR='/etc/ceph/' # Set the ceph user of Glance,Nova, Cinder and Cinder_Backup. # Or You Get the User Name From The Ceph Manager, Default admin. # These variabels should be set suitable for your partical environment. GLANCE_USER=admin NOVA_USER=admin CINDER_USER=admin CINDER_BACKUP_USER=admin # If not existing Ceph storage pools, create the storage pools, default # set the pg and pgp num of ceph pool, default 128 128 POOL_PG=128 POOL_PGP=128 # clean old configuration files rm -rf ./config echo ""Delete the old dir"" # configure glance function glance_config(){ mkdir -p ./config/glance cat > ./config/glance/glance-api.conf << EOF [DEFAULT] show_image_direct_url = True [glance_store] stores = rbd default_store = rbd rbd_store_pool = images rbd_store_user = $GLANCE_USER rbd_store_ceph_conf = /etc/ceph/ceph.conf EOF cp $CEPH_CONFIG_DIR/ceph.conf ./config/glance/ceph.conf ceph auth get client.$GLANCE_USER|head -2 > ./config/glance/ceph.client.glance.keyring echo ""the glance config files has been created"" echo ""##############################################################"" } #configure cinder function cinder_config(){ mkdir -p ./config/cinder/{cinder-volume,cinder-backup} cat > ./config/cinder/cinder-volume.conf << EOF [DEFAULT] enabled_backends=rbd-1 [rbd-1] rbd_ceph_conf=/etc/ceph/ceph.conf rbd_user= $CINDER_USER backend_host=rbd:volumes rbd_pool=volumes volume_backend_name=rbd-1 volume_driver=cinder.volume.drivers.rbd.RBDDriver rbd_secret_uuid = {{ cinder_rbd_secret_uuid }} EOF cat > ./config/cinder/cinder-backup.conf << EOF [DEFAULT] backup_ceph_conf=/etc/ceph/ceph.conf backup_ceph_user= $CINDER_BACKUP_USER backup_ceph_chunk_size = 134217728 backup_ceph_pool=backups backup_driver = cinder.backup.drivers.ceph backup_ceph_stripe_unit = 0 backup_ceph_stripe_count = 0 restore_discard_excess_bytes = true EOF cp $CEPH_CONFIG_DIR/ceph.conf ./config/cinder/ceph.conf ceph auth get client.$CINDER_USER|head -2 > ./config/cinder/cinder-volume/ceph.client.cinder.keyring ceph auth get client.$CINDER_BACKUP_USER|head -2 > ./config/cinder/cinder-backup/ceph.client.cinder.keyring echo ""the cinder config files has been created"" echo ""##############################################################"" } #configure nova function nova_config(){ mkdir ./config/nova cat > ./config/nova/nova-compute.conf << EOF [DEFAULT] block_device_allocate_retries = 300 [libvirt] images_rbd_pool=vms images_type=rbd images_rbd_ceph_conf=/etc/ceph/ceph.conf rbd_user= $NOVA_USER inject_password = true inject_partition = -1 EOF cp $CEPH_CONFIG_DIR/ceph.conf ./config/nova/ceph.conf ceph auth get client.$NOVA_USER|head -2 > ./config/nova/ceph.client.nova.keyring ceph auth get client.$CINDER_USER|head -2 > ./config/nova/ceph.client.cinder.keyring echo ""the nova config files has been created"" echo ""##############################################################"" } #Configure the ceph cluster and create the ceph pool function ceph_pool_create(){ if [[ $(ceph osd pool ls|grep images) ]]; then echo ""the POOL images has been EXISTS"" else ceph osd pool create images $POOL_PG $POOL_PGP fi if [[ $(ceph osd pool ls|grep volumes) ]]; then echo ""the POOL volumes has been EXISTS"" else ceph osd pool create volumes $POOL_PG $POOL_PGP fi if [[ $(ceph osd pool ls|grep backups) ]]; then echo ""the POOL backups has been EXISTS"" else ceph osd pool create backups $POOL_PG $POOL_PGP fi if [[ $(ceph osd pool ls|grep vms) ]]; then echo ""the POOL vms has been EXISTS"" else ceph osd pool create vms $POOL_PG $POOL_PGP fi echo ""the pool of external-ceph-pool has been created !"" } glance_config cinder_config nova_config ceph_pool_create echo ""##############################################################"" echo ""Copy the ./config directory to kolla-deploy-node:/etc/kolla/, then run kolla-ansible deploy."" ",,157,0
openstack%2Fcharm-neutron-openvswitch~master~Ia1d1da9e625fa85dc0afc8931b11bc2b30b41c09,openstack/charm-neutron-openvswitch,master,Ia1d1da9e625fa85dc0afc8931b11bc2b30b41c09,deepcopy SRIOV_RESOURCE_MAP,MERGED,2017-08-01 08:07:34.000000000,2017-08-02 10:42:42.000000000,2017-08-02 10:42:42.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-08-01 08:07:34.000000000', 'files': ['hooks/neutron_ovs_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/5967b18b5042b08991178ab9ddae0574c1968c03', 'message': 'deepcopy SRIOV_RESOURCE_MAP\n\nEnsure that a full copy of the SR-IOV resource map is made when\nbuilding the full resource_map for the charm; this avoids any\ndirect manipulation of the constant SRIOV_RESOURCE_MAP and\nsome associated unit test failures.\n\nChange-Id: Ia1d1da9e625fa85dc0afc8931b11bc2b30b41c09\n'}]",0,489522,5967b18b5042b08991178ab9ddae0574c1968c03,8,4,1,935,,,0,"deepcopy SRIOV_RESOURCE_MAP

Ensure that a full copy of the SR-IOV resource map is made when
building the full resource_map for the charm; this avoids any
direct manipulation of the constant SRIOV_RESOURCE_MAP and
some associated unit test failures.

Change-Id: Ia1d1da9e625fa85dc0afc8931b11bc2b30b41c09
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/22/489522/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_ovs_utils.py'],1,5967b18b5042b08991178ab9ddae0574c1968c03,deepcopy-sriov, sriov_resource_map = deepcopy(SRIOV_RESOURCE_MAP), sriov_resource_map = SRIOV_RESOURCE_MAP,1,1
openstack%2Fmurano-dashboard~master~Ie3a518f07de4407c84a9e0c1ff65b64e79ce7ebd,openstack/murano-dashboard,master,Ie3a518f07de4407c84a9e0c1ff65b64e79ce7ebd,Imported Translations from Zanata,MERGED,2017-08-01 07:22:16.000000000,2017-08-02 10:36:30.000000000,2017-08-02 10:36:30.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}]","[{'number': 1, 'created': '2017-08-01 07:22:16.000000000', 'files': ['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'muranodashboard/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/362c0ea270e3747f13d90bda0462ce90c58feb29', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ie3a518f07de4407c84a9e0c1ff65b64e79ce7ebd\n'}]",0,489508,362c0ea270e3747f13d90bda0462ce90c58feb29,8,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Ie3a518f07de4407c84a9e0c1ff65b64e79ce7ebd
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/08/489508/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'muranodashboard/locale/de/LC_MESSAGES/django.po']",2,362c0ea270e3747f13d90bda0462ce90c58feb29,zanata/translations,"""Project-Id-Version: murano-dashboard 4.0.0.0b4.dev5\n""""POT-Creation-Date: 2017-07-31 13:22+0000\n""""PO-Revision-Date: 2017-07-31 10:35+0000\n""""Default network is either not specified for this project, or specified "" ""incorrectly, please contact administrator."" msgstr """" ""Das Standardnetzwerk für dieses Projekt wurde entweder nicht angegeben oder "" ""ist falsch. Bitte kontaktieren Sie den Administrator."" msgid """"#, python-format msgid """" ""Error fetching the environment. The page may be rendered incorrectly. "" ""Reason: %s"" msgstr """" ""Fehler beim Abruf der Umgebung. Die Seite wird möglicherweise falsch "" ""dargestellt. Grund: %s"" ","""Project-Id-Version: murano-dashboard 4.0.0.0b3.dev8\n""""POT-Creation-Date: 2017-06-22 12:32+0000\n""""PO-Revision-Date: 2017-06-26 11:56+0000\n""",34,5
openstack%2Fcinder~driverfixes%2Fnewton~If76b7525b011c2576cfb669a4dc29ee1d6b870de,openstack/cinder,driverfixes/newton,If76b7525b011c2576cfb669a4dc29ee1d6b870de,Huawei driver supports front-end qos,MERGED,2017-07-27 03:21:52.000000000,2017-08-02 10:33:05.000000000,2017-07-27 15:08:23.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 16595}, {'_account_id': 16883}, {'_account_id': 17565}, {'_account_id': 19904}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22510}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-27 03:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e56c27f77b5962f8ae622a3a11cac842cd501ba', 'message': 'Huawei driver supports front-end qos\n\nThere\'s a parameter in QoS specs named ""consumer"" and it\'s default\nvalue is \'back-end\'. When ""consumer"" is set to \'front-end\'/\'back-end\',\nit should create a front-end/back-end QoS.\n\nNow Huawei Driver doesn\'t consider the ""consumer"" parameter, fix it.\n\nChange-Id: If76b7525b011c2576cfb669a4dc29ee1d6b870de\nCloses-bug:#1667875\n(cherry picked from commit b268b842bd88b37ae1c0d8f6b29ae0e804776413)\n'}, {'number': 2, 'created': '2017-07-27 03:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e6bf583b165149612e8d49edf31fd9344301aec', 'message': 'Huawei driver supports front-end qos\n\nThere\'s a parameter in QoS specs named ""consumer"" and it\'s default\nvalue is \'back-end\'. When ""consumer"" is set to \'front-end\'/\'back-end\',\nit should create a front-end/back-end QoS.\n\nNow Huawei Driver doesn\'t consider the ""consumer"" parameter, fix it.\n\nChange-Id: If76b7525b011c2576cfb669a4dc29ee1d6b870de\nCloses-bug:#1667875\n(cherry picked from commit b268b842bd88b37ae1c0d8f6b29ae0e804776413)\n'}, {'number': 3, 'created': '2017-07-27 06:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4e16b928fcd31ee6f9621fd85edafae89ee7b79', 'message': 'Huawei driver supports front-end qos\n\nThere\'s a parameter in QoS specs named ""consumer"" and it\'s default\nvalue is \'back-end\'. When ""consumer"" is set to \'front-end\'/\'back-end\',\nit should create a front-end/back-end QoS.\n\nNow Huawei Driver doesn\'t consider the ""consumer"" parameter, fix it.\n\nChange-Id: If76b7525b011c2576cfb669a4dc29ee1d6b870de\nCloses-bug:#1667875\n(cherry picked from commit b268b842bd88b37ae1c0d8f6b29ae0e804776413)\n'}, {'number': 4, 'created': '2017-07-27 09:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8fdbfb3c1f92fd2332c726341119ec6ef1c245f', 'message': 'Huawei driver supports front-end qos\n\nThere\'s a parameter in QoS specs named ""consumer"" and it\'s default\nvalue is \'back-end\'. When ""consumer"" is set to \'front-end\'/\'back-end\',\nit should create a front-end/back-end QoS.\n\nNow Huawei Driver doesn\'t consider the ""consumer"" parameter, fix it.\n\nChange-Id: If76b7525b011c2576cfb669a4dc29ee1d6b870de\nCloses-bug:#1667875\n(cherry picked from commit b268b842bd88b37ae1c0d8f6b29ae0e804776413)\n'}, {'number': 5, 'created': '2017-07-27 09:23:00.000000000', 'files': ['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/smartx.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbcfe481831c3c445e6bd07f7bf098006a356903', 'message': 'Huawei driver supports front-end qos\n\nThere\'s a parameter in QoS specs named ""consumer"" and it\'s default\nvalue is \'back-end\'. When ""consumer"" is set to \'front-end\'/\'back-end\',\nit should create a front-end/back-end QoS.\n\nNow Huawei Driver doesn\'t consider the ""consumer"" parameter, fix it.\n\nChange-Id: If76b7525b011c2576cfb669a4dc29ee1d6b870de\nCloses-bug:#1667875\n(cherry picked from commit b268b842bd88b37ae1c0d8f6b29ae0e804776413)\n'}]",0,487680,fbcfe481831c3c445e6bd07f7bf098006a356903,33,13,5,16203,,,0,"Huawei driver supports front-end qos

There's a parameter in QoS specs named ""consumer"" and it's default
value is 'back-end'. When ""consumer"" is set to 'front-end'/'back-end',
it should create a front-end/back-end QoS.

Now Huawei Driver doesn't consider the ""consumer"" parameter, fix it.

Change-Id: If76b7525b011c2576cfb669a4dc29ee1d6b870de
Closes-bug:#1667875
(cherry picked from commit b268b842bd88b37ae1c0d8f6b29ae0e804776413)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/487680/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/smartx.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py']",3,3e56c27f77b5962f8ae622a3a11cac842cd501ba,bug/1667875," @ddt.data('front-end', 'back-end') @mock.patch.object(huawei_driver.HuaweiBaseDriver, '_get_volume_params', return_value={'smarttier': 'true', 'smartcache': 'true', 'smartpartition': 'true', 'thin_provisioning_support': 'true', 'thick_provisioning_support': 'false', 'policy': '2', 'cachename': 'cache-test', 'partitionname': 'partition-test'}) @mock.patch.object(huawei_driver.HuaweiBaseDriver, '_get_volume_type', return_value={'qos_specs_id': u'025ce295-15e9-41a7'}) def test_create_smartqos_success(self, mock_consumer, mock_qos_specs, mock_value_type): self.mock_object(qos_specs, 'get_qos_specs', return_value={'specs': {'maxBandWidth': '100', 'IOType': '0'}, 'consumer': mock_consumer}) self.driver.support_func = FAKE_POOLS_SUPPORT_REPORT",,30,2
openstack%2Fmurano~master~I61f2de5dce0eedd81309a729c728c2a1d665a86c,openstack/murano,master,I61f2de5dce0eedd81309a729c728c2a1d665a86c,Fix Murano API in Installation Guide,MERGED,2017-08-01 09:42:37.000000000,2017-08-02 10:30:25.000000000,2017-08-02 10:30:25.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-08-01 09:42:37.000000000', 'files': ['doc/source/install/install-api.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/f54c2424ceef2ed9215da554907d3a710e8d07d5', 'message': 'Fix Murano API in Installation Guide\n\nChange command ""apt-get install"" to ""apt-get install murano-manage murano-api"".\n\nChange-Id: I61f2de5dce0eedd81309a729c728c2a1d665a86c\nClose-bug: #1703524\n'}]",0,489546,f54c2424ceef2ed9215da554907d3a710e8d07d5,8,4,1,17109,,,0,"Fix Murano API in Installation Guide

Change command ""apt-get install"" to ""apt-get install murano-manage murano-api"".

Change-Id: I61f2de5dce0eedd81309a729c728c2a1d665a86c
Close-bug: #1703524
",git fetch https://review.opendev.org/openstack/murano refs/changes/46/489546/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-api.rst'],1,f54c2424ceef2ed9215da554907d3a710e8d07d5,bug/1703524, # apt-get install murano-engine murano-api, # apt-get install,1,1
openstack%2Fmurano~master~Ie2da617839983f71dab459ce5afa698ad21441a9,openstack/murano,master,Ie2da617839983f71dab459ce5afa698ad21441a9,Refine skip messages,MERGED,2017-08-01 05:58:46.000000000,2017-08-02 10:30:14.000000000,2017-08-02 10:30:14.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-08-01 05:58:46.000000000', 'files': ['murano_tempest_tests/tests/scenario/application_catalog/test_cinder_volumes.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/90d5d47a9aaf88e553a4ef4b1d8e37178167bb76', 'message': 'Refine skip messages\n\nFix a few nits in skip messages.\n\nChange-Id: Ie2da617839983f71dab459ce5afa698ad21441a9\n'}]",0,489483,90d5d47a9aaf88e553a4ef4b1d8e37178167bb76,8,4,1,1921,,,0,"Refine skip messages

Fix a few nits in skip messages.

Change-Id: Ie2da617839983f71dab459ce5afa698ad21441a9
",git fetch https://review.opendev.org/openstack/murano refs/changes/83/489483/1 && git format-patch -1 --stdout FETCH_HEAD,['murano_tempest_tests/tests/scenario/application_catalog/test_cinder_volumes.py'],1,90d5d47a9aaf88e553a4ef4b1d8e37178167bb76,volume_clients," msg = ""Cinder is not available. Skipping volumes tests"" msg = (""Neither cinder v2 nor v3 are available. Skipping"" ""volumes tests"") msg = ""Cinder volumes tests will be skipped."""," msg = ""Cinder is not available. Skipping volumes attachment tests"" msg = (""Neither cinder v2 nor v3 are not available. Skipping"" ""volumes attachment tests"") msg = ""Cinder volumes attachment tests will be skipped.""",4,4
openstack%2Fwatcher~master~Ia643215f0b93ce76d0decb93456e7c6ab1a2a394,openstack/watcher,master,Ia643215f0b93ce76d0decb93456e7c6ab1a2a394,"Replace assertEqual([], items) with assertEmpty(items)",ABANDONED,2017-06-15 02:14:29.000000000,2017-08-02 10:29:55.000000000,,"[{'_account_id': 3}, {'_account_id': 25903}]","[{'number': 1, 'created': '2017-06-15 02:14:29.000000000', 'files': ['watcher/tests/api/v1/test_audit_templates.py', 'watcher/tests/db/test_service.py', 'watcher/tests/decision_engine/strategy/strategies/test_outlet_temp_control.py', 'watcher/tests/db/test_action.py', 'watcher/tests/db/test_audit_template.py', 'watcher/tests/db/test_goal.py', 'watcher/tests/api/v1/test_actions.py', 'watcher/tests/db/test_efficacy_indicator.py', 'watcher/tests/db/test_scoring_engine.py', 'watcher/tests/db/test_strategy.py', 'watcher/tests/decision_engine/strategy/strategies/test_workload_balance.py', 'watcher/tests/decision_engine/strategy/strategies/test_uniform_airflow.py', 'watcher/tests/db/test_audit.py', 'watcher/tests/api/v1/test_actions_plans.py', 'watcher/tests/api/v1/test_audits.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/cb48da2c54adc4e0dd5948285c3b6264fa998312', 'message': ""Replace assertEqual([], items) with assertEmpty(items)\n\nSince assertEmpty() function has already been implemented in tempest,\nlet's use this function instead of generic assertEqual() function.\nThis change makes the code and the error messages to be more readable.\nTherefore it improves maintainability a little bit.\n\nTrivialFix\n\nChange-Id: Ia643215f0b93ce76d0decb93456e7c6ab1a2a394\n""}]",0,474422,cb48da2c54adc4e0dd5948285c3b6264fa998312,4,2,1,25079,,,0,"Replace assertEqual([], items) with assertEmpty(items)

Since assertEmpty() function has already been implemented in tempest,
let's use this function instead of generic assertEqual() function.
This change makes the code and the error messages to be more readable.
Therefore it improves maintainability a little bit.

TrivialFix

Change-Id: Ia643215f0b93ce76d0decb93456e7c6ab1a2a394
",git fetch https://review.opendev.org/openstack/watcher refs/changes/22/474422/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/api/v1/test_audit_templates.py', 'watcher/tests/db/test_service.py', 'watcher/tests/decision_engine/strategy/strategies/test_outlet_temp_control.py', 'watcher/tests/db/test_action.py', 'watcher/tests/db/test_audit_template.py', 'watcher/tests/db/test_goal.py', 'watcher/tests/api/v1/test_actions.py', 'watcher/tests/db/test_efficacy_indicator.py', 'watcher/tests/db/test_scoring_engine.py', 'watcher/tests/db/test_strategy.py', 'watcher/tests/decision_engine/strategy/strategies/test_workload_balance.py', 'watcher/tests/decision_engine/strategy/strategies/test_uniform_airflow.py', 'watcher/tests/db/test_audit.py', 'watcher/tests/api/v1/test_actions_plans.py', 'watcher/tests/api/v1/test_audits.py']",15,cb48da2c54adc4e0dd5948285c3b6264fa998312,assertEmpty, self.assertEmpty(response['audits']) self.assertEmpty(response['audits']) self.assertEmpty(response['audits'])," self.assertEqual([], response['audits']) self.assertEqual([], response['audits']) self.assertEqual([], response['audits'])",24,25
openstack%2Fwatcher~master~Ib58104763cfa038749b94ba88fb94149832af849,openstack/watcher,master,Ib58104763cfa038749b94ba88fb94149832af849,Fix failure to load storage plugin,ABANDONED,2017-08-01 07:43:00.000000000,2017-08-02 10:28:09.000000000,,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-08-01 07:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d73731ee8999d9ee00d8403a633fc7faec2abea3', 'message': 'Fix failure to load storage plugin\n\nWatcher fails to load storage plugin in case there is no installed\nCinder in OpenStack services.\nThis patch set updates collector manager to check that watcher can\ncinder service list. If it fails, watcher does not load storage\nCDM plugin.\n\nChange-Id: Ib58104763cfa038749b94ba88fb94149832af849\nCloses-Bug: #1707603\n'}, {'number': 2, 'created': '2017-08-02 06:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/6eeef53a0d21dea813d2b4bdf21dc5acd186fb26', 'message': 'Fix failure to load storage plugin\n\nWatcher fails to load storage plugin in case there is no installed\nCinder in OpenStack services.\nThis patch set updates collector manager to check that watcher can\ncinder service list. If it fails, watcher does not load storage\nCDM plugin.\n\nChange-Id: Ib58104763cfa038749b94ba88fb94149832af849\nCloses-Bug: #1707603\n'}, {'number': 3, 'created': '2017-08-02 06:55:55.000000000', 'files': ['watcher/decision_engine/model/collector/manager.py', 'watcher/tests/decision_engine/model/collector/__init__.py', 'watcher/tests/decision_engine/model/collector/test_collectors.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/17411078c040b751e5e39e00952a36f4e2a0015a', 'message': 'Fix failure to load storage plugin\n\nWatcher fails to load storage plugin in case there is no installed\nCinder in OpenStack services.\nThis patch set updates collector manager to check that watcher can\ncinder service list. If it fails, watcher does not load storage\nCDM plugin.\n\nChange-Id: Ib58104763cfa038749b94ba88fb94149832af849\nCloses-Bug: #1707603\n'}]",4,489514,17411078c040b751e5e39e00952a36f4e2a0015a,14,6,3,13111,,,0,"Fix failure to load storage plugin

Watcher fails to load storage plugin in case there is no installed
Cinder in OpenStack services.
This patch set updates collector manager to check that watcher can
cinder service list. If it fails, watcher does not load storage
CDM plugin.

Change-Id: Ib58104763cfa038749b94ba88fb94149832af849
Closes-Bug: #1707603
",git fetch https://review.opendev.org/openstack/watcher refs/changes/14/489514/3 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/model/collector/manager.py', 'watcher/tests/decision_engine/model/collector/__init__.py', 'watcher/tests/decision_engine/model/collector/test_collectors.py']",3,d73731ee8999d9ee00d8403a633fc7faec2abea3,bug/1707603,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import mock from watcher.common import cinder_helper from watcher.decision_engine.loading import default as default_loading from watcher.decision_engine.model.collector import manager from watcher.tests import base class TestCollectorManager(base.TestCase): @mock.patch.object( default_loading.ClusterDataModelCollectorLoader, 'load') @mock.patch.object(cinder_helper, 'CinderHelper') @mock.patch.object( default_loading.ClusterDataModelCollectorLoader, 'list_available') def test_get_collectors_load( self, m_list_available, m_cinder_helper, m_load): m_list_available.return_value = ['compute', 'storage'] m_get_storage_node_list = mock.MagicMock() m_cinder_helper.return_value = mock.MagicMock( get_storage_node_list=m_get_storage_node_list) collector_manager = manager.CollectorManager() collectors = collector_manager.get_collectors() # load m_load.assert_called() # number of collectors self.assertTrue(2, len(collectors)) @mock.patch.object( default_loading.ClusterDataModelCollectorLoader, 'load') @mock.patch.object(cinder_helper, 'CinderHelper') @mock.patch.object( default_loading.ClusterDataModelCollectorLoader, 'list_available') def test_get_collectors_not_storage_load( self, m_list_available, m_cinder_helper, m_load): m_list_available.return_value = ['compute', 'storage'] m_get_storage_node_list = mock.MagicMock( side_effect=Exception()) m_cinder_helper.return_value = mock.MagicMock( get_storage_node_list=m_get_storage_node_list) collector_manager = manager.CollectorManager() collectors = collector_manager.get_collectors() # load compute CDM m_load.assert_called_once_with('compute') # number of collectors self.assertTrue(1, len(collectors)) ",,76,0
openstack%2Fwatcher~master~I41cc870e2d47c56fd7c9fcdd6f03c95fa939c3f2,openstack/watcher,master,I41cc870e2d47c56fd7c9fcdd6f03c95fa939c3f2,[Doc] Add Configure Cinder Notifications,MERGED,2017-07-26 05:38:08.000000000,2017-08-02 10:25:13.000000000,2017-08-02 10:25:13.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}]","[{'number': 1, 'created': '2017-07-26 05:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3a39795915cfda13d83061ea632124f4009dc226', 'message': '[Doc] Add Configure Cinder Notifications\n\nCinder data model was added in Pike cycle and that needs\nconfiguration in cinder.conf for refreshing the model in\nreal time.\n\nThis patch set adds Add Configure Cinder Notifications section\nfor explaining the configuration.\n\nChange-Id: I41cc870e2d47c56fd7c9fcdd6f03c95fa939c3f2\n'}, {'number': 2, 'created': '2017-07-26 07:31:41.000000000', 'files': ['doc/source/configuration/configuring.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c12178920bf273c645b0c16fd6d878f9c2ece2eb', 'message': '[Doc] Add Configure Cinder Notifications\n\nCinder data model was added in Pike cycle and that needs\nconfiguration in cinder.conf for refreshing the model in\nreal time.\n\nThis patch set adds Add Configure Cinder Notifications section\nfor explaining the configuration.\n\nChange-Id: I41cc870e2d47c56fd7c9fcdd6f03c95fa939c3f2\n'}]",8,487280,c12178920bf273c645b0c16fd6d878f9c2ece2eb,12,5,2,13111,,,0,"[Doc] Add Configure Cinder Notifications

Cinder data model was added in Pike cycle and that needs
configuration in cinder.conf for refreshing the model in
real time.

This patch set adds Add Configure Cinder Notifications section
for explaining the configuration.

Change-Id: I41cc870e2d47c56fd7c9fcdd6f03c95fa939c3f2
",git fetch https://review.opendev.org/openstack/watcher refs/changes/80/487280/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/configuring.rst'],1,3a39795915cfda13d83061ea632124f4009dc226,doc_cinder_conf,"Configure Cinder Notifications ============================== Watcher can also consume notifications generate by the Cinder services, in order to build or update, in real time, its cluster data model related to storage resources. So you have to update the Cinder configuration file on controller and volume nodes, in order to Watcher receives Cinder notifications in ``watcher_notifications`` as well. * In the file ``/etc/cinder/cinder.conf``, update the section ``[oslo_messaging_notifications]``, by redefining the list of topics into which Cinder services will publish events :: [oslo_messaging_notifications] driver = messagingv2 topics = notifications,watcher_notifications * Restart the Cinder services. ",,20,0
openstack%2Fwatcher~master~Ief43668feb06c136c87a2218e9d7671c7809dcbc,openstack/watcher,master,Ief43668feb06c136c87a2218e9d7671c7809dcbc,Ignore autogenerated sample config file,MERGED,2017-07-10 11:17:47.000000000,2017-08-02 10:23:15.000000000,2017-08-02 10:23:15.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 14107}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}]","[{'number': 1, 'created': '2017-07-10 11:17:47.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/watcher/commit/22ee0aa8f7e6404b541f8cf046fe2fa247d1e6fc', 'message': 'Ignore autogenerated sample config file\n\nChange-Id: Ief43668feb06c136c87a2218e9d7671c7809dcbc\n'}]",0,482098,22ee0aa8f7e6404b541f8cf046fe2fa247d1e6fc,11,6,1,24872,,,0,"Ignore autogenerated sample config file

Change-Id: Ief43668feb06c136c87a2218e9d7671c7809dcbc
",git fetch https://review.opendev.org/openstack/watcher refs/changes/98/482098/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,22ee0aa8f7e6404b541f8cf046fe2fa247d1e6fc,, # Autogenerated sample config file etc/watcher/watcher.conf.sample,,3,0
openstack%2Fwatcher~master~Ibf590996494f4e6ebcc59b26fbd562d079cea9ef,openstack/watcher,master,Ibf590996494f4e6ebcc59b26fbd562d079cea9ef,[Doc] Add cinder to architecture diagram,MERGED,2017-07-26 12:52:57.000000000,2017-08-02 10:22:12.000000000,2017-08-02 10:22:12.000000000,"[{'_account_id': 3}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}]","[{'number': 1, 'created': '2017-07-26 12:52:57.000000000', 'files': ['doc/source/images/architecture.svg'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c03668cb024e6169c38ce7be81016189c2611cfd', 'message': '[Doc] Add cinder to architecture diagram\n\nCinder data model was added in Pike cycle.\nThis patch set adds cinder to architecture diagram.\n\nChange-Id: Ibf590996494f4e6ebcc59b26fbd562d079cea9ef\n'}]",0,487402,c03668cb024e6169c38ce7be81016189c2611cfd,8,4,1,13111,,,0,"[Doc] Add cinder to architecture diagram

Cinder data model was added in Pike cycle.
This patch set adds cinder to architecture diagram.

Change-Id: Ibf590996494f4e6ebcc59b26fbd562d079cea9ef
",git fetch https://review.opendev.org/openstack/watcher refs/changes/02/487402/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/images/architecture.svg'],1,c03668cb024e6169c38ce7be81016189c2611cfd,doc_add_cinder_model," <marker inkscape:stockid=""EmptyTriangleInL"" orient=""auto"" refY=""0"" refX=""0"" id=""EmptyTriangleInL-6"" style=""overflow:visible""> <path inkscape:connector-curvature=""0"" id=""path7091-2"" d=""m 5.77,0 -8.65,5 0,-10 8.65,5 z"" style=""fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-width:1pt"" transform=""matrix(-0.8,0,0,-0.8,4.8,0)"" /> </marker> <marker inkscape:stockid=""EmptyTriangleInL"" orient=""auto"" refY=""0"" refX=""0"" id=""EmptyTriangleInL-12"" style=""overflow:visible""> <path inkscape:connector-curvature=""0"" id=""path7091-70"" d=""m 5.77,0 -8.65,5 0,-10 8.65,5 z"" style=""fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-width:1pt"" transform=""matrix(-0.8,0,0,-0.8,4.8,0)"" /> </marker> inkscape:cx=""665.19215"" inkscape:current-layer=""g4866-2-3"" inkscape:window-width=""1211"" inkscape:window-height=""698"" <path sodipodi:nodetypes=""cc"" inkscape:connector-curvature=""0"" id=""path3284-4-2-3-77-5-9"" d=""m 813.66791,753.1462 0,-92.21768"" style=""display:inline;fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#EmptyTriangleInL-6)"" /> d=""m 472.18905,726.66568 331.45651,0"" style=""display:inline;fill:none;stroke:#000000;stroke-width:1.22230256px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"" /> d=""m 543.75943,651.7922 280.63651,0"" style=""display:inline;fill:none;stroke:#000000;stroke-width:1.25154257;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:2.50308524, 2.50308524;stroke-dashoffset:0;stroke-opacity:1;marker-start:url(#TriangleInL)"" /> <g id=""g4866-2-3"" style=""display:inline"" transform=""matrix(1.7775787,0,0,1.7775787,991.15946,596.08131)""> <rect style=""display:inline;fill:#ffffff;stroke:#000000;stroke-width:0.562563;stroke-opacity:1"" id=""rect4267-4-7-7-6"" width=""49.81258"" height=""24.243191"" x=""-116.67716"" y=""88.977051"" /> <text xml:space=""preserve"" style=""font-style:normal;font-weight:normal;font-size:11.73851585px;line-height:125%;font-family:Sans;text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none"" x=""-91.899979"" y=""104.01585"" id=""text5037-4-6-9-7"" sodipodi:linespacing=""125%""><tspan sodipodi:role=""line"" x=""-91.899979"" y=""104.01585"" style=""font-size:11.2512598px;text-align:center;text-anchor:middle"" id=""tspan5184-3-5-5"">cinder</tspan></text> </g> <path sodipodi:nodetypes=""cc"" inkscape:connector-curvature=""0"" id=""path3284-4-2-3-4-9-3"" d=""m 824.37881,651.58554 0,102.98987"" style=""display:inline;fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.99999999, 1.99999999;stroke-dashoffset:0;stroke-opacity:1;marker-start:none"" /> <circle r=""2.6672709"" cy=""693.98395"" cx=""823.72699"" id=""path13407-89-5"" style=""color:#000000;display:inline;overflow:visible;visibility:visible;fill:#ececec;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;enable-background:accumulate"" /> <path sodipodi:nodetypes=""cc"" inkscape:connector-curvature=""0"" id=""path3284-4-2-3-7-9"" d=""m 804.16781,752.35205 0,-26.2061"" style=""display:inline;fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-start:url(#EmptyTriangleInL-12)"" />"," inkscape:cx=""261.24633"" inkscape:current-layer=""g5356"" inkscape:window-width=""1215"" inkscape:window-height=""776"" d=""m 472.18905,726.66568 221.85496,0"" style=""fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;display:inline"" /> d=""m 540.57926,651.7922 179.16488,0"" style=""fill:none;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:1.99999999, 1.99999999;stroke-dashoffset:0;marker-start:url(#TriangleInL);display:inline"" />",84,8
openstack%2Fnetworking-midonet~master~I94abc4a0e3b2ea0ba19744a430bcecdde8c6f8d8,openstack/networking-midonet,master,I94abc4a0e3b2ea0ba19744a430bcecdde8c6f8d8,Updated from global requirements,MERGED,2017-08-01 02:57:44.000000000,2017-08-02 10:03:52.000000000,2017-08-02 09:54:12.000000000,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 14824}]","[{'number': 1, 'created': '2017-08-01 02:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/968e499f600e2260207bdcca8479e048c1b61e05', 'message': 'Updated from global requirements\n\nChange-Id: I94abc4a0e3b2ea0ba19744a430bcecdde8c6f8d8\n'}, {'number': 2, 'created': '2017-08-01 13:31:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/93b2e224a272cf381567dd327eec842407b534d7', 'message': 'Updated from global requirements\n\nChange-Id: I94abc4a0e3b2ea0ba19744a430bcecdde8c6f8d8\n'}]",0,489450,93b2e224a272cf381567dd327eec842407b534d7,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: I94abc4a0e3b2ea0ba19744a430bcecdde8c6f8d8
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/50/489450/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,968e499f600e2260207bdcca8479e048c1b61e05,openstack/requirements,bandit>=1.1.0 # Apache-2.0,bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Fhorizon~master~I40545759ecddd7e361da9e558e7217705e4df9b1,openstack/horizon,master,I40545759ecddd7e361da9e558e7217705e4df9b1,Allow admin users to modify flavor's access,ABANDONED,2017-07-28 17:10:46.000000000,2017-08-02 09:57:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 11885}, {'_account_id': 14151}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-07-28 17:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f11d96983d83fcb9e9d66723772d396fa397597b', 'message': ""Allow admin users to modify flavor's access\n\nWe can't modify access rules for public flavors, that's why we have to\nre-create flavor as private if access rules changed.\n\nChange-Id: I40545759ecddd7e361da9e558e7217705e4df9b1\nCloses-Bug: #1707257\n""}, {'number': 2, 'created': '2017-07-28 17:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ac52259b5587c885825dd657267b2d901d94c268', 'message': ""Allow admin users to modify flavor's access\n\nWe can't modify access rules for public flavors, that's why we have to\nre-create flavor as private if access rules changed.\n\nChange-Id: I40545759ecddd7e361da9e558e7217705e4df9b1\nCloses-Bug: #1707257\n""}, {'number': 3, 'created': '2017-07-29 11:18:11.000000000', 'files': ['openstack_dashboard/dashboards/admin/flavors/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8dff74b8deb8b048348f11f372ba742d60b187ac', 'message': ""Allow admin users to modify flavor's access\n\nWe can't modify access rules for public flavors, that's why we have to\nre-create flavor as private if access rules changed.\n\nChange-Id: I40545759ecddd7e361da9e558e7217705e4df9b1\nCloses-Bug: #1707257\n""}]",3,488539,8dff74b8deb8b048348f11f372ba742d60b187ac,14,5,3,1736,,,0,"Allow admin users to modify flavor's access

We can't modify access rules for public flavors, that's why we have to
re-create flavor as private if access rules changed.

Change-Id: I40545759ecddd7e361da9e558e7217705e4df9b1
Closes-Bug: #1707257
",git fetch https://review.opendev.org/openstack/horizon refs/changes/39/488539/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/flavors/workflows.py'],1,f11d96983d83fcb9e9d66723772d396fa397597b,bug/1707257," # NOTE(e0ne): we can't modify access rules for public flavors, # that's why we have to check if flavor is not public if not is_changed(flavor) and not is_public:", if not is_changed(flavor):,3,1
openstack%2Fproject-config~master~I98d8586fa918ac60cd2fea37da303e1728881b56,openstack/project-config,master,I98d8586fa918ac60cd2fea37da303e1728881b56,Push translated pages to docs-draft,MERGED,2017-08-01 16:58:58.000000000,2017-08-02 09:51:50.000000000,2017-08-02 09:51:50.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6133}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-01 16:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ba1a3c90eac32163b440672ff0a9429b91b8530e', 'message': 'Push translated pages to docs-draft\n\nUse docs-draft to publish result from check/gate translation jobs for\nmanual projects.\n\nChange-Id: I98d8586fa918ac60cd2fea37da303e1728881b56\n'}, {'number': 2, 'created': '2017-08-01 17:12:16.000000000', 'files': ['jenkins/jobs/translation-jobs.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5b402bf01c29d34b07510ecafabe76482ac44712', 'message': 'Push translated pages to docs-draft\n\nUse docs-draft to publish result from check/gate translation jobs for\nmanual projects.\n\nChange-Id: I98d8586fa918ac60cd2fea37da303e1728881b56\n'}]",0,489669,5b402bf01c29d34b07510ecafabe76482ac44712,11,4,2,6547,,,0,"Push translated pages to docs-draft

Use docs-draft to publish result from check/gate translation jobs for
manual projects.

Change-Id: I98d8586fa918ac60cd2fea37da303e1728881b56
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/489669/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/translation-jobs.yaml', 'zuul/layout.yaml']",2,ba1a3c90eac32163b440672ff0a9429b91b8530e,trans-publish, - gate-{name}-tox-doc-publish-checklang gate: - gate-{name}-tox-doc-publish-checklang - name: ^gate-.*-tox-doc-checklang$ - gate-api-site-tox-doc-publish-checklang gate: - gate-api-site-tox-doc-publish-checklang, - gate-{name}-tox-checklang-ubuntu-xenial gate: - gate-{name}-tox-checklang-ubuntu-xenial - name: ^gate-.*-tox-checklang.*ubuntu-xenial$ - gate-api-site-tox-checklang-ubuntu-xenial gate: - gate-api-site-tox-checklang-ubuntu-xenial,6,7
openstack%2Fpuppet-tripleo~master~I27089ef4d6aff528a4043edf1d9914a09d34eb91,openstack/puppet-tripleo,master,I27089ef4d6aff528a4043edf1d9914a09d34eb91,Support keystone wsgi logging to syslog,ABANDONED,2017-07-31 13:19:11.000000000,2017-08-02 09:48:37.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}]","[{'number': 1, 'created': '2017-07-31 13:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/19ce2abb55715a06d6f4b65c414315364159b318', 'message': 'Support keystone wsgi logging to syslog\n\nAdd options to log access/error messages to syslog\n\nDepends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d\nRelated-bug: #1700045\n\nChange-Id: I27089ef4d6aff528a4043edf1d9914a09d34eb91\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2017-08-01 16:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a3a35169a3861096c34e68fcc947bb6d62a22988', 'message': 'Support keystone wsgi logging to syslog\n\nAdd options to log access/error messages to syslog\n\nDepends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d\nRelated-bug: #1700045\n\nChange-Id: I27089ef4d6aff528a4043edf1d9914a09d34eb91\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2017-08-02 08:47:22.000000000', 'files': ['manifests/profile/base/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5b616baa708deaf57b38edf9a374ce18da3b66f8', 'message': 'Support keystone wsgi logging to syslog\n\nAdd options to log access/error messages to syslog\n\nDepends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d\nRelated-bug: #1700045\n\nChange-Id: I27089ef4d6aff528a4043edf1d9914a09d34eb91\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,489218,5b616baa708deaf57b38edf9a374ce18da3b66f8,12,2,3,6926,,,0,"Support keystone wsgi logging to syslog

Add options to log access/error messages to syslog

Depends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d
Related-bug: #1700045

Change-Id: I27089ef4d6aff528a4043edf1d9914a09d34eb91
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/18/489218/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/keystone.pp'],1,19ce2abb55715a06d6f4b65c414315364159b318,bug/1700045,"# [*access_log_syslog*] # Sends the virtualhost access log messages to syslog. # Optional. Defaults to false. # # [*error_log_syslog*] # Sends the virtualhost error log messages to syslog. # Optional. Defaults to undef. # $access_log_syslog = false, $error_log_syslog = undef, ssl_cert => $tls_certfile, ssl_key => $tls_keyfile, ssl_cert_admin => $tls_certfile_admin, ssl_key_admin => $tls_keyfile_admin, access_log_syslog => $access_log_syslog, error_log_syslog => $error_log_syslog,"," ssl_cert => $tls_certfile, ssl_key => $tls_keyfile, ssl_cert_admin => $tls_certfile_admin, ssl_key_admin => $tls_keyfile_admin,",16,4
openstack%2Fneutron~master~Idac83eb76a5527fb674806d3293ed2397326b0d8,openstack/neutron,master,Idac83eb76a5527fb674806d3293ed2397326b0d8,[WIP DO NOT MERGE] secgroup and aap port update,ABANDONED,2016-12-26 14:43:38.000000000,2017-08-02 09:47:21.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 13717}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2016-12-26 14:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2c9b5dde67805daa1cee2fdf5aa4516fad9b720', 'message': '[WIP DO NOT MERGE] secgroup and aap port update\n\nAn attempt to cover the behavior with a test, no luck yet\n\nChange-Id: Idac83eb76a5527fb674806d3293ed2397326b0d8\nRelated-Bug: #1622657\n'}, {'number': 2, 'created': '2016-12-26 18:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35ed7055394d2673ddf496b63cab99d5f80d01eb', 'message': '[WIP DO NOT MERGE] secgroup and aap port update\n\nAn attempt to cover the behavior with a test, no luck yet\n\nChange-Id: Idac83eb76a5527fb674806d3293ed2397326b0d8\nRelated-Bug: #1622657\n'}, {'number': 3, 'created': '2017-01-10 17:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6be9daa31e0381eb75213eaaccecf709ff8689a6', 'message': '[WIP DO NOT MERGE] secgroup and aap port update\n\nAn attempt to cover the behavior with a test, no luck yet\n\nChange-Id: Idac83eb76a5527fb674806d3293ed2397326b0d8\nRelated-Bug: #1622657\n'}, {'number': 4, 'created': '2017-01-11 14:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a35f6384758bc9c09ade66c8390fd79d754ece2f', 'message': '[WIP DO NOT MERGE] secgroup and aap port update\n\nAn attempt to cover the behavior with a test, no luck yet\n\nChange-Id: Idac83eb76a5527fb674806d3293ed2397326b0d8\nRelated-Bug: #1622657\n'}, {'number': 5, 'created': '2017-02-21 16:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5958960d9a18131741bee3cde737881fe16b0095', 'message': '[WIP DO NOT MERGE] secgroup and aap port update\n\nCovered with a test at last; possibly have caught\nanother bug with strangely unrelevant all_allowed_pairs and\nvms ips.\n\nChange-Id: Idac83eb76a5527fb674806d3293ed2397326b0d8\nRelated-Bug: #1622657\n'}, {'number': 6, 'created': '2017-03-02 12:54:57.000000000', 'files': ['neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/common/conn_testers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ebbaf3bfd9e8893063f0f6c01e9816710d8201f', 'message': '[WIP DO NOT MERGE] secgroup and aap port update\n\nStill no luck with test repro. Rebased on top of minor\novsfw allowed_address_pairs bug fix.\n\nChange-Id: Idac83eb76a5527fb674806d3293ed2397326b0d8\nRelated-Bug: #1622657\n'}]",5,415001,5ebbaf3bfd9e8893063f0f6c01e9816710d8201f,52,12,6,13717,,,0,"[WIP DO NOT MERGE] secgroup and aap port update

Still no luck with test repro. Rebased on top of minor
ovsfw allowed_address_pairs bug fix.

Change-Id: Idac83eb76a5527fb674806d3293ed2397326b0d8
Related-Bug: #1622657
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/415001/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/test_firewall.py'],1,c2c9b5dde67805daa1cee2fdf5aa4516fad9b720,bug/1669021,"from neutron.tests.common import machine_fixtures from neutron.tests.common import net_helpers def test_allowed_pairs_huge_cidr_remote_sg(self): # XXX FIXME NOTE(ivasilevskaya) will be removed after I figure out how # to fake a vm with allowed_address_pairs and utilize nc tester class VM(object): def __init__(self, testcase, tester): self._vm = testcase.useFixture(machine_fixtures.FakeMachine( tester.bridge, tester.ip_cidr)) self.ip = netaddr.IPAddress(tester.vm_ip_address) + 1 self._tester = tester @property def port_id(self): return net_helpers.VethFixture.get_peer_name( self._vm.port.name) @property def mac_address(self): return self._vm.port.link.address @property def ip_address(self): return self.ip def _setup_port(port_id, ip_address, mac_address, sec_group_id, sec_group_rules, prepare=False): port_desc = self._create_port_description( port_id, [ip_address], mac_address, [sec_group_id]) sg_members = {'IPv4': [ip_address]} self.firewall.update_security_group_rules(sec_group_id, sec_group_rules) self.firewall.update_security_group_members(sec_group_id, sg_members) if prepare: self.firewall.prepare_port_filter(port_desc) else: self.firewall.update_port_filter(port_desc) return port_desc # assign FAKE_SECURITY_GROUP to a peer vm all_allowed_sg_id = ""all_allowed_sg_id"" all_allowed_sg_rules = [{'ethertype': 'IPv4', 'direction': 'ingress'}, {'ethertype': 'IPv4', 'direction': 'egress'}] aap_vm = VM(self, self.tester) aap_port_desc = _setup_port(aap_vm.port_id, aap_vm.ip_address, aap_vm.mac_address, all_allowed_sg_id, all_allowed_sg_rules, prepare=True) fake_sg_rules = [{'ethertype': 'IPv4', 'direction': 'ingress', 'protocol': 'icmp', 'remote_group_id': all_allowed_sg_id}, {'ethertype': 'IPv4', 'direction': 'egress', 'protocol': 'icmp', 'remote_group_id': all_allowed_sg_id}] _setup_port(self.tester.peer_port_id, self.tester.peer_ip_address, self.tester.peer_mac_address, self.FAKE_SECURITY_GROUP_ID, fake_sg_rules) vm_sg_members = {'IPv4': [self.tester.vm_ip_address, self.tester.peer_ip_address]} self._apply_security_group_members(self.FAKE_SECURITY_GROUP_ID, vm_sg_members) self._apply_security_group_rules(self.FAKE_SECURITY_GROUP_ID, fake_sg_rules) self.tester.assert_no_connection(protocol=self.tester.ICMP, direction=self.tester.INGRESS) # add allowed_address_pairs and verify that pings pass port_mac = aap_vm.mac_address huge_cidr = ""128.0.0.0/1"" aap_port_desc['allowed_address_pairs'] = [{'mac_address': port_mac, 'ip_address': huge_cidr}] self.firewall.update_port_filter(aap_port_desc) # XXX FIXME trying to figure out why artificially created VM can't be # pinged # self.tester._vm = aap_vm self.tester.assert_connection(protocol=self.tester.ICMP, direction=self.tester.INGRESS) ",,80,0
openstack%2Fcharm-neutron-api~master~I37da1c430a06417ff7f1bc9df2d984137688bba0,openstack/charm-neutron-api,master,I37da1c430a06417ff7f1bc9df2d984137688bba0,Add support for setting sriov_supported_pci_vendor_devs,MERGED,2017-06-09 11:14:24.000000000,2017-08-02 09:31:40.000000000,2017-08-02 09:22:14.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 13686}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-06-09 11:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/622d7f30ebea8e90e0b6e22b77e4c536bb1c52a5', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 2, 'created': '2017-06-09 14:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/24e98a35f8da1324a13ec0f0a68c99e063736dff', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 3, 'created': '2017-06-12 15:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/19ef643b0e5406a6b56ffacdd7c91ef367b63c18', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka. From Newton and onwards this is no longer\nrequired.\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 4, 'created': '2017-06-12 22:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/69ca832fc901b3831a8f6d2a7b9ce8c7c0427c33', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka. From Newton and onwards this is no longer\nrequired.\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 5, 'created': '2017-06-13 00:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/db0ae21110c725bf7f4243ae023b8ec091f79656', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka. From Newton and onwards this is no longer\nrequired.\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 6, 'created': '2017-06-14 12:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/a09adecfdceeaeff1a45d9e12844d12fbbfb159e', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka (unless you are the lucky owner of\nNICs with the default vendor/product IDs '15b3:1004', '8086:10ca').\n\nThe option is deprecated in Newton and the default behaviour\nonwards is to not perform the check (unless configured) and not\noverrule Nova's scheduling decision. (See LP #1611302)\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 7, 'created': '2017-07-06 06:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/0e14ecc2f2ba3bcf180897d14b449890bbc474dd', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka (unless you are the lucky owner of\nNICs with the default vendor/product IDs '15b3:1004', '8086:10ca').\n\nThe option is deprecated in Newton and the default behaviour\nonwards is to not perform the check (unless configured) and not\noverrule Nova's scheduling decision. (See LP #1611302)\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 8, 'created': '2017-07-17 15:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/2c9892f8315bc919f13856535992c9709411face', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka (unless you are the lucky owner of\nNICs with the default vendor/product IDs '15b3:1004', '8086:10ca').\n\nThe option is deprecated in Newton and the default behaviour\nonwards is to not perform the check (unless configured) and not\noverrule Nova's scheduling decision. (See LP #1611302)\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 9, 'created': '2017-07-17 16:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/be013b20009f14b4f4edb4fc67d97edce3314138', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka (unless you are the lucky owner of\nNICs with the default vendor/product IDs '15b3:1004', '8086:10ca').\n\nThe option is deprecated in Newton and the default behaviour\nonwards is to not perform the check (unless configured) and not\noverrule Nova's scheduling decision. (See LP #1611302)\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 10, 'created': '2017-07-19 10:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/fd888e4ecf5d5174ff6824df11b2422148a9ca45', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka (unless you are the lucky owner of\nNICs with the default vendor/product IDs '15b3:1004', '8086:10ca').\n\nThe option is deprecated in Newton and the default behaviour\nonwards is to not perform the check (unless configured) and not\noverrule Nova's scheduling decision. (See LP #1611302)\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 11, 'created': '2017-07-19 11:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/9d1fb1b739c6fac6f238a88e7111ae6abd9237a9', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka (unless you are the lucky owner of\nNICs with the default vendor/product IDs '15b3:1004', '8086:10ca').\n\nThe option is deprecated in Newton and the default behaviour\nonwards is to not perform the check (unless configured) and not\noverrule Nova's scheduling decision. (See LP #1611302)\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 12, 'created': '2017-07-20 12:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/5fc6b2552ab03aa19d1b10b47f25aa99305cf147', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka (unless you are the lucky owner of\nNICs with the default vendor/product IDs '15b3:1004', '8086:10ca').\n\nThe option is deprecated in Newton and the default behaviour\nonwards is to not perform the check (unless configured) and not\noverrule Nova's scheduling decision. (See LP #1611302)\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}, {'number': 13, 'created': '2017-08-02 08:45:47.000000000', 'files': ['hooks/neutron_api_context.py', 'tests/basic_deployment.py', 'hooks/neutron_api_utils.py', 'templates/kilo/ml2_conf.ini', 'config.yaml', 'unit_tests/test_neutron_api_context.py', 'templates/kilo/ml2_conf_sriov.ini', 'templates/mitaka/ml2_conf.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/353d4a97eb82f67098b1749303cc117aa9c2b6e7', 'message': ""Add support for setting sriov_supported_pci_vendor_devs\n\nThis is required for SR-IOV to work on OpenStack versions\nKilo, Liberty and Mitaka (unless you are the lucky owner of\nNICs with the default vendor/product IDs '15b3:1004', '8086:10ca').\n\nThe option is deprecated in Newton and the default behaviour\nonwards is to not perform the check (unless configured) and not\noverrule Nova's scheduling decision. (See LP #1611302)\n\nRe-work mechanism_driver templating. Current implementation\ntreats mechanism drivers 'hyperv' and 'sriovnicswitch' as\nmutually exclusive for simplicity. This prohibits us from\nadding functional test for verifying sriov statements in\nconfiguration files.\n\nDue to how neutron init scripts are laid out on various Linux\ndistributions put the [ml2_sriov] section in ml2_conf.ini instead\nof its default ml2_conf_sriov.ini location.\n\nAdd a placeholder ml2_conf_sriov.ini with comment to point users\nin the right direction.\n\nChange-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0\nCloses-Bug: #1630387\n""}]",17,472640,353d4a97eb82f67098b1749303cc117aa9c2b6e7,87,6,13,13686,,,0,"Add support for setting sriov_supported_pci_vendor_devs

This is required for SR-IOV to work on OpenStack versions
Kilo, Liberty and Mitaka (unless you are the lucky owner of
NICs with the default vendor/product IDs '15b3:1004', '8086:10ca').

The option is deprecated in Newton and the default behaviour
onwards is to not perform the check (unless configured) and not
overrule Nova's scheduling decision. (See LP #1611302)

Re-work mechanism_driver templating. Current implementation
treats mechanism drivers 'hyperv' and 'sriovnicswitch' as
mutually exclusive for simplicity. This prohibits us from
adding functional test for verifying sriov statements in
configuration files.

Due to how neutron init scripts are laid out on various Linux
distributions put the [ml2_sriov] section in ml2_conf.ini instead
of its default ml2_conf_sriov.ini location.

Add a placeholder ml2_conf_sriov.ini with comment to point users
in the right direction.

Change-Id: I37da1c430a06417ff7f1bc9df2d984137688bba0
Closes-Bug: #1630387
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/40/472640/13 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_context.py', 'tests/basic_deployment.py', 'hooks/neutron_api_utils.py', 'templates/kilo/ml2_conf.ini', 'config.yaml', 'unit_tests/test_neutron_api_context.py', 'templates/kilo/ml2_conf_sriov.ini', 'templates/mitaka/ml2_conf.ini']",8,622d7f30ebea8e90e0b6e22b77e4c536bb1c52a5,bug/1611302,mechanism_drivers = {{ mechanism_drivers }} {% if sriov_supported_pci_vendor_devs != '' %} [ml2_sriov] supported_pci_vendor_devs = {{ sriov_supported_pci_vendor_devs }} {% endif -%},"{% if enable_sriov %} mechanism_drivers = openvswitch,l2population,sriovnicswitch {% elif enable_hyperv %} mechanism_drivers = openvswitch,hyperv,l2population {% else %} mechanism_drivers = openvswitch,l2population {% endif %}",120,26
openstack%2Fpython-zunclient~master~I7a1be4066746db4f1c644117732189881e93ec84,openstack/python-zunclient,master,I7a1be4066746db4f1c644117732189881e93ec84,Image pull policy support for zun pull,NEW,2017-07-31 05:52:19.000000000,2017-08-02 09:25:35.000000000,,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-07-31 05:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/333ff2360bb7f92ca3eca69a2fd0a18249d47b81', 'message': 'Image pull policy support for zun pull\n\nCloses Bug: #1647434\nDepends on: I8759c45958e5b1cfb96aca2de4e3dacac5ad7b81\n\nChange-Id: I7a1be4066746db4f1c644117732189881e93ec84\n'}, {'number': 2, 'created': '2017-07-31 06:41:39.000000000', 'files': ['zunclient/v1/images_shell.py', 'zunclient/v1/images.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/5af36a5ffdc09e5390aae183c32b143f70db7850', 'message': 'Image pull policy support for zun pull\n\nCloses Bug: #1647434\nDepends on: I8759c45958e5b1cfb96aca2de4e3dacac5ad7b81\n\nChange-Id: I7a1be4066746db4f1c644117732189881e93ec84\n'}]",0,489094,5af36a5ffdc09e5390aae183c32b143f70db7850,7,3,2,21785,,,0,"Image pull policy support for zun pull

Closes Bug: #1647434
Depends on: I8759c45958e5b1cfb96aca2de4e3dacac5ad7b81

Change-Id: I7a1be4066746db4f1c644117732189881e93ec84
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/94/489094/2 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/images_shell.py', 'zunclient/v1/images.py']",2,333ff2360bb7f92ca3eca69a2fd0a18249d47b81,bug/1647434,"PULL_ATTRIBUTES = ['repo', 'image_pull_policy']",PULL_ATTRIBUTES = ['repo'],15,1
openstack%2Fpython-magnumclient~stable%2Fpike~I395ef454cd148e7744ec718ed206e0a2c227e26a,openstack/python-magnumclient,stable/pike,I395ef454cd148e7744ec718ed206e0a2c227e26a,Update UPPER_CONSTRAINTS_FILE for stable/pike,MERGED,2017-07-28 21:07:20.000000000,2017-08-02 09:24:26.000000000,2017-08-02 09:24:26.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}]","[{'number': 1, 'created': '2017-07-28 21:07:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/f2dd02385634f9b4e8b0ddf5feba8f253ed7a7b2', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/pike\n\nChange-Id: I395ef454cd148e7744ec718ed206e0a2c227e26a\n'}]",0,488784,f2dd02385634f9b4e8b0ddf5feba8f253ed7a7b2,7,3,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/pike

Change-Id: I395ef454cd148e7744ec718ed206e0a2c227e26a
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/84/488784/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f2dd02385634f9b4e8b0ddf5feba8f253ed7a7b2,create-pike, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/pike} {opts} {packages}, {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fxstatic-roboto-fontface~master~Ie1b0a045f37657f4d3991a03e09cd996b3b27a29,openstack/xstatic-roboto-fontface,master,Ie1b0a045f37657f4d3991a03e09cd996b3b27a29,Update XStatic-roboto to 0.7.1,ABANDONED,2017-07-06 12:42:05.000000000,2017-08-02 09:23:21.000000000,,"[{'_account_id': 3}, {'_account_id': 23757}]","[{'number': 1, 'created': '2017-07-06 12:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-roboto-fontface/commit/ca9ae84009cba53da4cb84acfa708f912e3a4f39', 'message': 'Update XStatic-roboto to 0.7.1\n\nChange-Id: Ie1b0a045f37657f4d3991a03e09cd996b3b27a29\n'}, {'number': 2, 'created': '2017-07-06 13:47:56.000000000', 'files': ['xstatic/pkg/roboto_fontface/data/css/roboto-slab/sass/roboto-slab-fontface-regular.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-RegularItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BoldItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-MediumItalic.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/less/roboto-slab-fontface.less', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Light.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BlackItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Thin.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Light.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Light.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-regular.less', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-regular-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-RegularItalic.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/sass/roboto-slab-fontface-bold.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-MediumItalic.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-ThinItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BoldItalic.woff', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Regular.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Thin.eot', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Bold.svg', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Light.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-regular-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Light.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-LightItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-medium.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Light.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BlackItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Bold.svg', 'xstatic/pkg/roboto_fontface/__init__.py', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-MediumItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-ThinItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Regular.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Medium.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Thin.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-thin.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-ThinItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Light.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Bold.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Regular.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/less/roboto-slab-fontface-regular.less', 'xstatic/pkg/roboto_fontface/data/css/roboto/roboto-fontface.css', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Medium.svg', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Regular.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-LightItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Thin.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Regular.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/roboto-slab-fontface.css', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Black.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BoldItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Black.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Bold.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Bold.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Bold.eot', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-medium-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Regular.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface.less', 'xstatic/pkg/roboto_fontface/data/css/mixins.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-LightItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Regular.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-light.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-RegularItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Regular.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Regular.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-thin-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-RegularItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/sass/roboto-slab-fontface.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Black.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-light.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BoldItalic.eot', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-bold-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BlackItalic.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/roboto-condensed-fontface.css', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/less/roboto-slab-fontface-light.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-BoldItalic.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-medium.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Regular.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-light-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Medium.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-light.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Bold.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/less/roboto-slab-fontface-thin.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Regular.ttf', 'xstatic/pkg/roboto_fontface/data/LICENSE', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Thin.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-RegularItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-ThinItalic.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-bold-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BoldItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-regular-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BlackItalic.eot', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/sass/roboto-slab-fontface-light.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Black.eot', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/sass/roboto-slab-fontface-thin.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Light.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-regular.scss', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Bold.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Light.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-LightItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-MediumItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Light.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Regular.eot', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-light-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-RegularItalic.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Thin.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-bold-italic.less', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-light-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Light.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-bold-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Bold.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-BoldItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-LightItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Light.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-regular-italic.less', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-thin.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BlackItalic.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Light.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Bold.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Bold.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-medium-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Thin.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-MediumItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/mixins.scss', 'setup.cfg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Bold.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-BoldItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Light.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-bold.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-RegularItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Regular.svg', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Bold.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-LightItalic.woff', 'xstatic/pkg/roboto_fontface/data/README.md', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-ThinItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-black.scss', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-bold.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Medium.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Thin.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-regular.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-LightItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Thin.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Black.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-thin-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-LightItalic.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-RegularItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-black-italic.less', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-black-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Regular.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Medium.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-RegularItalic.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-bold.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-LightItalic.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-light-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Thin.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-regular.scss', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-bold.less', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-BoldItalic.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/less/roboto-slab-fontface-bold.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-RegularItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-BoldItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-light.scss', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-LightItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Bold.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-black.less', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Bold.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Light.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Regular.svg'], 'web_link': 'https://opendev.org/openstack/xstatic-roboto-fontface/commit/f8ee5cd442716fe9664ce91c03ba84b63573769f', 'message': 'Update XStatic-roboto to 0.7.1\n\nChange-Id: Ie1b0a045f37657f4d3991a03e09cd996b3b27a29\n'}]",0,481015,f8ee5cd442716fe9664ce91c03ba84b63573769f,6,2,2,23757,,,0,"Update XStatic-roboto to 0.7.1

Change-Id: Ie1b0a045f37657f4d3991a03e09cd996b3b27a29
",git fetch https://review.opendev.org/openstack/xstatic-roboto-fontface refs/changes/15/481015/1 && git format-patch -1 --stdout FETCH_HEAD,"['xstatic/pkg/roboto_fontface/data/css/roboto-slab/sass/roboto-slab-fontface-regular.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-RegularItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BoldItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-MediumItalic.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/less/roboto-slab-fontface.less', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Light.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BlackItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Thin.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Light.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Light.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-regular.less', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-regular-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-RegularItalic.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/sass/roboto-slab-fontface-bold.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-MediumItalic.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-ThinItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BoldItalic.woff', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Regular.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Thin.eot', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Bold.svg', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Light.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-regular-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Light.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-LightItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-medium.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Light.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BlackItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Bold.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-MediumItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-ThinItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Regular.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Medium.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Thin.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-thin.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-ThinItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Light.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Bold.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Regular.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/less/roboto-slab-fontface-regular.less', 'xstatic/pkg/roboto_fontface/data/css/roboto/roboto-fontface.css', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Medium.svg', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Regular.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-LightItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Thin.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Regular.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/roboto-slab-fontface.css', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Black.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BoldItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Black.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Bold.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Bold.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Bold.eot', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-medium-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Regular.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface.less', 'xstatic/pkg/roboto_fontface/data/css/mixins.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-LightItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Regular.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-light.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-RegularItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Regular.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Regular.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-thin-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-RegularItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/sass/roboto-slab-fontface.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Black.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-light.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BoldItalic.eot', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-bold-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BlackItalic.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/roboto-condensed-fontface.css', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/less/roboto-slab-fontface-light.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-BoldItalic.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-medium.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Regular.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-light-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Medium.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-light.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Bold.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/less/roboto-slab-fontface-thin.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Regular.ttf', 'xstatic/pkg/roboto_fontface/data/LICENSE', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Thin.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-RegularItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-ThinItalic.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-bold-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BoldItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-regular-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BlackItalic.eot', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/sass/roboto-slab-fontface-light.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Black.eot', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/sass/roboto-slab-fontface-thin.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Light.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-regular.scss', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Bold.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Light.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-LightItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-MediumItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Light.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Regular.eot', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-light-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-RegularItalic.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Thin.woff2', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-bold-italic.less', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-light-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Light.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-bold-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Bold.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-BoldItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-LightItalic.svg', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Light.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-regular-italic.less', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-thin.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-BlackItalic.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Light.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Bold.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Bold.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-medium-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Thin.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-MediumItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/mixins.scss', 'setup.cfg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Bold.woff', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-BoldItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Light.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-bold.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-RegularItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Regular.svg', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Bold.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-LightItalic.woff', 'xstatic/pkg/roboto_fontface/data/README.md', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-ThinItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-black.scss', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-bold.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Medium.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Thin.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-regular.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-LightItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Thin.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Black.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-thin-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-LightItalic.ttf', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-RegularItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-black-italic.less', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface-black-italic.scss', 'xstatic/pkg/roboto_fontface/data/fonts/Roboto-Slab/Roboto-Slab-Regular.svg', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Medium.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-RegularItalic.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-bold.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-LightItalic.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/less/roboto-condensed-fontface-light-italic.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Thin.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-regular.scss', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-bold.less', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-BoldItalic.woff', 'xstatic/pkg/roboto_fontface/data/css/roboto-slab/less/roboto-slab-fontface-bold.less', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-RegularItalic.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-BoldItalic.ttf', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface-light.scss', 'xstatic/pkg/roboto_fontface/data/css/roboto-condensed/sass/roboto-condensed-fontface.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-LightItalic.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto/Roboto-Bold.svg', 'xstatic/pkg/roboto_fontface/data/css/roboto/less/roboto-fontface-black.less', 'xstatic/pkg/roboto_fontface/data/css/roboto/sass/roboto-fontface.scss', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Bold.woff2', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Light.eot', 'xstatic/pkg/roboto_fontface/data/fonts/roboto-condensed/Roboto-Condensed-Regular.svg']",168,ca9ae84009cba53da4cb84acfa708f912e3a4f39,openstack-master,,,2861,57
openstack%2Fpuppet-ironic~master~Ide02fae255971d220732b9ba3d4c8677c4895d2b,openstack/puppet-ironic,master,Ide02fae255971d220732b9ba3d4c8677c4895d2b,Change permissions of Apache config files to 0640,ABANDONED,2017-06-23 14:06:37.000000000,2017-08-02 09:23:00.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 23757}, {'_account_id': 26275}]","[{'number': 1, 'created': '2017-06-23 14:06:37.000000000', 'files': ['spec/classes/ironic_api_spec.rb', 'manifests/wsgi/apache.pp', 'spec/acceptance/ironic_wsgi_apache_spec.rb', 'manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/975c1a1424cad022ec70e20dc59b0280d7aa10f1', 'message': 'Change permissions of Apache config files to 0640\n\nChange-Id: Ide02fae255971d220732b9ba3d4c8677c4895d2b\nCloses-Bug: #1700083\n'}]",0,476919,975c1a1424cad022ec70e20dc59b0280d7aa10f1,10,5,1,23757,,,0,"Change permissions of Apache config files to 0640

Change-Id: Ide02fae255971d220732b9ba3d4c8677c4895d2b
Closes-Bug: #1700083
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/19/476919/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_api_spec.rb', 'manifests/wsgi/apache.pp', 'spec/acceptance/ironic_wsgi_apache_spec.rb', 'manifests/pxe.pp']",4,975c1a1424cad022ec70e20dc59b0280d7aa10f1,bug/1700083," class { '::apache': file_mode => '0640', }", include ::apache,15,5
openstack%2Fpuppet-horizon~master~I2c428e616335ad5155bd846c349acb1a662bf864,openstack/puppet-horizon,master,I2c428e616335ad5155bd846c349acb1a662bf864,Change permissions of Apache config files to 0640,ABANDONED,2017-06-23 13:59:28.000000000,2017-08-02 09:22:53.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 26275}]","[{'number': 1, 'created': '2017-06-23 13:59:28.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/037cc55a934c1c45499972642e0864f88b44ce3b', 'message': 'Change permissions of Apache config files to 0640\n\nCloses-Bug: #1700083\nChange-Id: I2c428e616335ad5155bd846c349acb1a662bf864\n'}]",0,476917,037cc55a934c1c45499972642e0864f88b44ce3b,6,4,1,23757,,,0,"Change permissions of Apache config files to 0640

Closes-Bug: #1700083
Change-Id: I2c428e616335ad5155bd846c349acb1a662bf864
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/17/476917/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,037cc55a934c1c45499972642e0864f88b44ce3b,bug/1700083," class { '::apache': file_mode => '0640', }", include ::apache,3,1
openstack%2Fdragonflow~master~Id24876292b51846db9f025343816ed659155bdc5,openstack/dragonflow,master,Id24876292b51846db9f025343816ed659155bdc5,Classifier: remove access to uninitialized variable,MERGED,2017-07-31 08:13:02.000000000,2017-08-02 09:21:52.000000000,2017-08-02 09:21:52.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 20229}, {'_account_id': 23235}, {'_account_id': 26131}]","[{'number': 1, 'created': '2017-07-31 08:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/91b289ee9d4f27bf9b29f0d987a78bf97fbe18d2', 'message': 'Classifier: remove access to uninitialized variable\n\nChange-Id: Id24876292b51846db9f025343816ed659155bdc5\nRelated-Bug: #1706051\n'}, {'number': 2, 'created': '2017-07-31 13:44:58.000000000', 'files': ['dragonflow/controller/apps/classifier.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/f3bc952175bc976c84fad27ac9ab016583dfb6ae', 'message': 'Classifier: remove access to uninitialized variable\n\nChange-Id: Id24876292b51846db9f025343816ed659155bdc5\nRelated-Bug: #1706051\n'}]",1,489126,f3bc952175bc976c84fad27ac9ab016583dfb6ae,12,5,2,23766,,,0,"Classifier: remove access to uninitialized variable

Change-Id: Id24876292b51846db9f025343816ed659155bdc5
Related-Bug: #1706051
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/26/489126/2 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/controller/apps/classifier.py'],1,91b289ee9d4f27bf9b29f0d987a78bf97fbe18d2,bug/1706051," # OvsPort was not added to the lookup, not relevant for classifier"," LOG.debug(""Unknown classification/dispatch for ofport %s"", ofport)",1,1
openstack%2Fpython-magnumclient~stable%2Fpike~Ic276b728ef6e06903bb9ac4af880f0fe2dc2093f,openstack/python-magnumclient,stable/pike,Ic276b728ef6e06903bb9ac4af880f0fe2dc2093f,Update .gitreview for stable/pike,MERGED,2017-07-28 21:07:19.000000000,2017-08-02 09:18:31.000000000,2017-08-02 09:18:31.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}, {'_account_id': 16237}]","[{'number': 1, 'created': '2017-07-28 21:07:19.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/ff4938454644297dec18a2c7fb02b1ef41fac13b', 'message': 'Update .gitreview for stable/pike\n\nChange-Id: Ic276b728ef6e06903bb9ac4af880f0fe2dc2093f\n'}]",0,488783,ff4938454644297dec18a2c7fb02b1ef41fac13b,8,4,1,22816,,,0,"Update .gitreview for stable/pike

Change-Id: Ic276b728ef6e06903bb9ac4af880f0fe2dc2093f
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/83/488783/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ff4938454644297dec18a2c7fb02b1ef41fac13b,create-pike,defaultbranch=stable/pike,,1,0
openstack%2Fpython-openstackclient~master~Ib763314df0868e2b8c60a8cf8510632090d21057,openstack/python-openstackclient,master,Ib763314df0868e2b8c60a8cf8510632090d21057,Automatically migrate to other hosts,ABANDONED,2017-08-01 10:54:14.000000000,2017-08-02 09:10:56.000000000,,"[{'_account_id': 3}, {'_account_id': 6482}]","[{'number': 1, 'created': '2017-08-01 10:54:14.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7612db68e7e014c5f1f8cea2b82df9991a00963f', 'message': ""Automatically migrate to other hosts\n\nThe nova API has an option to set host to None during migration, in which case\nthe scheduler chooses a host. Useful for when you don't care where they end up,\njust that they can't stay where they currently are.\n\nChange-Id: Ib763314df0868e2b8c60a8cf8510632090d21057\n""}]",0,489558,7612db68e7e014c5f1f8cea2b82df9991a00963f,4,2,1,25600,,,0,"Automatically migrate to other hosts

The nova API has an option to set host to None during migration, in which case
the scheduler chooses a host. Useful for when you don't care where they end up,
just that they can't stay where they currently are.

Change-Id: Ib763314df0868e2b8c60a8cf8510632090d21057
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/58/489558/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,7612db68e7e014c5f1f8cea2b82df9991a00963f,automigrate," live_group = parser.add_mutually_exclusive_group() live_group.add_argument( live_group.add_argument( '--auto', dest='live', action='store_true' ) host=None if parsed_args.live is True else parsed_args.live, raise exceptions.CommandError(""--live or --auto must be "" ""specified if --block-migration "" ""or --disk-overcommit is "" ""specified"")"," parser.add_argument( host=parsed_args.live, raise exceptions.CommandError(""--live must be specified if "" ""--block-migration or "" ""--disk-overcommit is specified"")",12,5
openstack%2Frpm-packaging~master~I7280c843230c678f246ad4a5b210abfecb7f5d30,openstack/rpm-packaging,master,I7280c843230c678f246ad4a5b210abfecb7f5d30,Update oslo.policy to 1.25.1,MERGED,2017-08-02 01:34:29.000000000,2017-08-02 09:07:58.000000000,2017-08-02 09:07:58.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-08-02 01:34:29.000000000', 'files': ['openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/607015d9f6f53041ab9bf0b7f1ac0465fd2a82bb', 'message': 'Update oslo.policy to 1.25.1\n\nChange-Id: I7280c843230c678f246ad4a5b210abfecb7f5d30\nDepends-on: I59b1afadcdc3416de0e095bbf6fe73a52cfbf3bd\n'}]",0,489823,607015d9f6f53041ab9bf0b7f1ac0465fd2a82bb,10,6,1,17130,,,0,"Update oslo.policy to 1.25.1

Change-Id: I7280c843230c678f246ad4a5b210abfecb7f5d30
Depends-on: I59b1afadcdc3416de0e095bbf6fe73a52cfbf3bd
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/23/489823/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.policy/oslo.policy.spec.j2'],1,607015d9f6f53041ab9bf0b7f1ac0465fd2a82bb,update-oslopolicy,Version: 1.25.1,Version: 1.25.0,1,1
openstack%2Ftripleo-heat-templates~master~I5e82da9fc092ffb096fb7a3c03c2af6250f421e9,openstack/tripleo-heat-templates,master,I5e82da9fc092ffb096fb7a3c03c2af6250f421e9,Send keystone container httpd logs to syslog,ABANDONED,2017-07-28 15:55:00.000000000,2017-08-02 09:05:06.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8745}]","[{'number': 1, 'created': '2017-07-28 15:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a61282bcf801d8040acd5b9bddbe1dc4564cc84', 'message': 'Send keystone container httpd logs to syslog\n\nPartial-bug: #1700045\n\nChange-Id: I5e82da9fc092ffb096fb7a3c03c2af6250f421e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2017-07-28 15:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d623af811ebb3dd0b936d2ea8614fd751d7d4f5', 'message': 'Send keystone container httpd logs to syslog\n\nPartial-bug: #1700045\n\nChange-Id: I5e82da9fc092ffb096fb7a3c03c2af6250f421e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2017-07-31 13:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ac702a3c256a113071daacc5f15da8b69bd9c86', 'message': 'Send keystone container httpd logs to syslog\n\nDepends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d\nDepends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d\nPartial-bug: #1700045\n\nChange-Id: I5e82da9fc092ffb096fb7a3c03c2af6250f421e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2017-08-01 12:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1ac2f3cc7cf82bf064c755bd090335945a88d7f', 'message': 'Send keystone container httpd logs to syslog\n\nDepends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d\nDepends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d\nPartial-bug: #1700045\n\nChange-Id: I5e82da9fc092ffb096fb7a3c03c2af6250f421e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2017-08-01 13:19:56.000000000', 'files': ['docker/services/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6cebebf65f1ae8d3c64e7f3b481aa4661b684b5a', 'message': 'Send keystone container httpd logs to syslog\n\nDepends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d\nDepends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d\nPartial-bug: #1700045\n\nChange-Id: I5e82da9fc092ffb096fb7a3c03c2af6250f421e9\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,488506,6cebebf65f1ae8d3c64e7f3b481aa4661b684b5a,16,5,5,6926,,,0,"Send keystone container httpd logs to syslog

Depends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d
Depends-on: If60cb8e31c46e32ba6e04f53ac73a72bf989df2d
Partial-bug: #1700045

Change-Id: I5e82da9fc092ffb096fb7a3c03c2af6250f421e9
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/488506/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/keystone.yaml'],1,6a61282bcf801d8040acd5b9bddbe1dc4564cc84,bug/1700045, - apache::access_log_syslog: true - apache::error_log_syslog: true,,2,0
openstack%2Freleases~master~Ia8964211754cb6f704ec297905d0d03f4b819c5e,openstack/releases,master,Ia8964211754cb6f704ec297905d0d03f4b819c5e,Release OpenStack-Ansible Newton/14.2.7,MERGED,2017-07-27 13:15:39.000000000,2017-08-02 08:56:32.000000000,2017-08-02 08:56:32.000000000,"[{'_account_id': 3}, {'_account_id': 308}]","[{'number': 1, 'created': '2017-07-27 13:15:39.000000000', 'files': ['deliverables/newton/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/44512d70781eeac36f96ba86332633dbe1f34834', 'message': 'Release OpenStack-Ansible Newton/14.2.7\n\nChange-Id: Ia8964211754cb6f704ec297905d0d03f4b819c5e\n'}]",0,487844,44512d70781eeac36f96ba86332633dbe1f34834,6,2,1,2799,,,0,"Release OpenStack-Ansible Newton/14.2.7

Change-Id: Ia8964211754cb6f704ec297905d0d03f4b819c5e
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/487844/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/newton/openstack-ansible.yaml'],1,44512d70781eeac36f96ba86332633dbe1f34834,openstack-ansible, - version: 14.2.7 projects: - repo: openstack/openstack-ansible hash: 68564131c4d8a434295a7c2078fe725936b84264 - repo: openstack/openstack-ansible-apt_package_pinning hash: ea0e5cd10c0d96b50887de544f53d0bcc54949fc - repo: openstack/openstack-ansible-pip_install hash: d3144510bf604f9dda1311c14afaf33c4c502ad6 - repo: openstack/openstack-ansible-galera_client hash: d2c8ca9db71e2689a83d94889bf21a319aae617b - repo: openstack/openstack-ansible-galera_server hash: 8d5df339ddfc7c59171b2e76c1da4b7760ef24e4 - repo: openstack/openstack-ansible-ceph_client hash: 9e336a5622a8c2d5797c3d9acaf05b4f130d3505 - repo: openstack/openstack-ansible-haproxy_server hash: 9227a79e5c349b4411fd47acc2163fc163d802b3 - repo: openstack/openstack-ansible-lxc_container_create hash: d04c99ab38fbec4a84129188805b215d1b172417 - repo: openstack/openstack-ansible-lxc_hosts hash: ff37f654f449be4afbb70a5815a3477341281cfd - repo: openstack/openstack-ansible-memcached_server hash: 5a84473dc25ced10a844b9e1df18f04588655bd1 - repo: openstack/openstack-ansible-security hash: e9e425247ec00b8b2613560c84bdb8404900029c - repo: openstack/openstack-ansible-openstack_hosts hash: 4a689188b4aad2836713c151448b35ea6a657a4c - repo: openstack/openstack-ansible-os_keystone hash: e6cda9dc2a4664e6e6c0c920932c15ccf214a371 - repo: openstack/openstack-ansible-openstack_openrc hash: eafbe337bea94f32fe6fcef8149ec1c786cb8f01 - repo: openstack/openstack-ansible-os_aodh hash: ac0a498abb638300380cc769c527d2a195e13ca0 - repo: openstack/openstack-ansible-os_ceilometer hash: ee6257fa4f51ce23b57273f674b543236b658a42 - repo: openstack/openstack-ansible-os_cinder hash: 62d0597ace57e8f1e22e83beb125d9bcd540be32 - repo: openstack/openstack-ansible-os_glance hash: 849f8df7d83ef23774485068103a6047d97a3635 - repo: openstack/openstack-ansible-os_gnocchi hash: 4372bcfd590c9d8e245c35c9cfef8c3be6df073b - repo: openstack/openstack-ansible-os_heat hash: 6054607dc1629cface1b2420fdd69f0fe1e18a50 - repo: openstack/openstack-ansible-os_horizon hash: 36a1acb58e5b6328e309617e12948fb7a00b8166 - repo: openstack/openstack-ansible-os_ironic hash: 78a45df5877e79a8ecc2ce120fa00aae13c243aa - repo: openstack/openstack-ansible-os_magnum hash: 8acd8217ebdcdab664e0f4f6b5bd6ee0f62edca4 - repo: openstack/openstack-ansible-os_neutron hash: 5bef44319e70724fcaf7a1c944c0e95f36e6752d - repo: openstack/openstack-ansible-os_nova hash: f4634205d920899e0bc4d2dfa4c2642044d184a3 - repo: openstack/openstack-ansible-os_rally hash: 84c626fc93b34a3a61758be73ae70320cca9aa2d - repo: openstack/openstack-ansible-os_sahara hash: aeb5cdc728eea8f8a63fd29443e0be911ea2e6c1 - repo: openstack/openstack-ansible-os_swift hash: 9e91824884fb695c6094baaa2ce22b6a501ef0bd - repo: openstack/openstack-ansible-os_tempest hash: 518982a5340912ebd6e9bc4488ebacb707229efa - repo: openstack/openstack-ansible-plugins hash: f49519df7f07a4b0ab487479598fa150d7ed7e1a - repo: openstack/openstack-ansible-rabbitmq_server hash: 44ddd694e117fbd4fe6d9d1f40f987e82e6c1213 - repo: openstack/openstack-ansible-repo_build hash: bc8d059b9f40eca43376a48d92fe3e1d9562e5bc - repo: openstack/openstack-ansible-repo_server hash: 90a77110090ab2c3314a9719daa8c1398ed1ca08 - repo: openstack/openstack-ansible-rsyslog_client hash: 56ca566ef024603b2fbfd3d0b7af6d844e26884a - repo: openstack/openstack-ansible-rsyslog_server hash: 27e47df8ad22f01d0a8905ec35ff3bfa916dc89b,,72,0
openstack%2Freleases~master~I5a1a4abce872254bcc33b6ad595808c0dd96dbea,openstack/releases,master,I5a1a4abce872254bcc33b6ad595808c0dd96dbea,Release tooz 1.48.2 for Ocata,MERGED,2017-07-21 11:26:58.000000000,2017-08-02 08:56:00.000000000,2017-08-02 08:56:00.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 12898}]","[{'number': 1, 'created': '2017-07-21 11:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bb2250f4c437967af0b0334bba2600925475010a', 'message': 'Release tooz 1.48.2 for Ocata\n\nChange-Id: I5a1a4abce872254bcc33b6ad595808c0dd96dbea\n'}, {'number': 2, 'created': '2017-08-01 20:55:35.000000000', 'files': ['deliverables/ocata/tooz.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bc22b424519b06211a3190154c7a7115d6698728', 'message': 'Release tooz 1.48.2 for Ocata\n\nChange-Id: I5a1a4abce872254bcc33b6ad595808c0dd96dbea\n'}]",0,486108,bc22b424519b06211a3190154c7a7115d6698728,16,5,2,1669,,,0,"Release tooz 1.48.2 for Ocata

Change-Id: I5a1a4abce872254bcc33b6ad595808c0dd96dbea
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/486108/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/tooz.yaml'],1,bb2250f4c437967af0b0334bba2600925475010a,tooz-ocata,- version: 1.48.2 projects: - repo: openstack/tooz hash: 0dc996b92dd66a5da5e75966df3a59fabc6df420,,4,0
openstack%2Felection~master~I30f23ce2579084e1741efee4b8ead0cf58422914,openstack/election,master,I30f23ce2579084e1741efee4b8ead0cf58422914,Adds Samuel Cassiba candidacy for Chef OpenStack,MERGED,2017-08-01 16:21:59.000000000,2017-08-02 08:53:22.000000000,2017-08-02 08:53:22.000000000,"[{'_account_id': 3}, {'_account_id': 6088}, {'_account_id': 16708}]","[{'number': 1, 'created': '2017-08-01 16:21:59.000000000', 'files': ['candidates/queens/Chef_OpenStack/sc`.txt'], 'web_link': 'https://opendev.org/openstack/election/commit/ab757202717dbe081e333f61a37fd7edee768909', 'message': 'Adds Samuel Cassiba candidacy for Chef OpenStack\n\nChange-Id: I30f23ce2579084e1741efee4b8ead0cf58422914\n'}]",0,489652,ab757202717dbe081e333f61a37fd7edee768909,7,3,1,14790,,,0,"Adds Samuel Cassiba candidacy for Chef OpenStack

Change-Id: I30f23ce2579084e1741efee4b8ead0cf58422914
",git fetch https://review.opendev.org/openstack/election refs/changes/52/489652/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/queens/Chef_OpenStack/sc`.txt'],1,ab757202717dbe081e333f61a37fd7edee768909,,"Hello, I would like to announce my canadidacy for Chef OpenStack PTL for the Queens cycle. I have been a core member since Chef OpenStack became an official project, and have previously served as PTL. This would be my third non-consecutive cycle as PTL. During my time, I have written many patches for the cookbooks to support the OpenStack use case, at a much slower trajectory than the core projects. For the next cycle, I will continue to be focused on developer enablement and general throughput, with a particular focus on improving the testing capabilities. My primary goal is to continue to get us back on track as a project, and closer to core's release cadence by addressing stabilization and technical debt issues. I seek to improve active participation and contribution, to keep up with the changes not only in the rest of OpenStack, but Chef as well. I feel these are attainable goals, even with our reduced participant size. I intend to keep doing what I can to progress the project and legitimize the existence. As part of the core team, I am also taking a more active role in maintaining the public presence of Chef OpenStack, in an attempt to further raise awareness of the project's activity and be a more active participant in the community. Best, sc` ",,30,0
openstack%2Felection~master~Icbea7f77db034be3a14a3e8854e36dd81898e606,openstack/election,master,Icbea7f77db034be3a14a3e8854e36dd81898e606,Adding Luke Hinds candidacy for Security Project,MERGED,2017-08-01 15:21:47.000000000,2017-08-02 08:49:18.000000000,2017-08-02 08:49:18.000000000,"[{'_account_id': 3}, {'_account_id': 6088}, {'_account_id': 16708}]","[{'number': 1, 'created': '2017-08-01 15:21:47.000000000', 'files': ['candidates/queens/Security/lhinds.txt'], 'web_link': 'https://opendev.org/openstack/election/commit/4906bfaac5153950b85376b52541f2adc4c46042', 'message': 'Adding Luke Hinds candidacy for Security Project\n\nChange-Id: Icbea7f77db034be3a14a3e8854e36dd81898e606\n'}]",0,489634,4906bfaac5153950b85376b52541f2adc4c46042,7,3,1,17893,,,0,"Adding Luke Hinds candidacy for Security Project

Change-Id: Icbea7f77db034be3a14a3e8854e36dd81898e606
",git fetch https://review.opendev.org/openstack/election refs/changes/34/489634/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/queens/Security/lhinds.txt'],1,4906bfaac5153950b85376b52541f2adc4c46042,,"I would like to announce my candidacy for Security Project PTL for Queens. I have been a member of the security project for 2-3 years, and a core member for one year. During my tenure as core I have managed public and embargoed security notes and contributed with my feedback to the VMT team on OpenStack vulnerabilities. I have also been an active contributor to the security guide as well as a regular reviewer. I am the current driver for the security guide launchpad page. As PTL, I'd like to focus on the following things: * Documentation I am currently planning a revamp of the Security guide to bring it up to date with Pike. To do this I will reach out to other projects to help validate the information in the guide is technically correct and up to date. I also would like to migrate the checklists into a format that can be easily filtered to a specific release, thereby allowing other security tools and processes to easily consume the content and gain a snapshot of what security actions are required to harden any given release. * Support and championing of OpenStack security projects. I would like to put forward continued support by means of reviews and feedback for the projects currently having their home under the security project, and I have plans to propose further projects. Our close synergy with the Barbican project should continue to be fostered, and encouraged. * Perform Threat Analysis with further projects The Threat Analysis project has proved very useful in helping the VMT and operators understand the threat landscape pertinent to each OpenStack project. I will work with and encourage other projects to undergo threat analysis. * Encourage more contributions and grow some new cores The security project has lost a good number of core members due to companies shifting priorities, so I would like increase the projects exposure with blog posts to planet.openstack.org and by outreach at various other tech events. I see it as vital to keep the security project afloat, as operators rely so much on the project for guidance on securing OpenStack clouds. Regards, Luke Hinds (lhinds) ",,55,0
openstack%2Felection~master~I4519480fcbf1d19c974786db73b4c9b4339c8f79,openstack/election,master,I4519480fcbf1d19c974786db73b4c9b4339c8f79,Adding amrith candidacy for Trove,MERGED,2017-08-01 14:52:39.000000000,2017-08-02 08:48:11.000000000,2017-08-02 08:48:11.000000000,"[{'_account_id': 3}, {'_account_id': 6088}, {'_account_id': 16708}]","[{'number': 1, 'created': '2017-08-01 14:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/59712f27f16a3bef1f290541130ce4132d0d9382', 'message': 'Adding amrith candidacy for Trove\n\nChange-Id: I4519480fcbf1d19c974786db73b4c9b4339c8f79\n'}, {'number': 2, 'created': '2017-08-01 14:53:23.000000000', 'files': ['candidates/queens/Trove/amrith.txt'], 'web_link': 'https://opendev.org/openstack/election/commit/e165804857afcc5e014149c14338aaf9efb0ca5e', 'message': 'Adding amrith candidacy for Trove\n\nChange-Id: I4519480fcbf1d19c974786db73b4c9b4339c8f79\n'}]",0,489628,e165804857afcc5e014149c14338aaf9efb0ca5e,8,3,2,9664,,,0,"Adding amrith candidacy for Trove

Change-Id: I4519480fcbf1d19c974786db73b4c9b4339c8f79
",git fetch https://review.opendev.org/openstack/election refs/changes/28/489628/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/queens/Trove/amrith.txt'],1,59712f27f16a3bef1f290541130ce4132d0d9382,,"Adding amrth candidacy for Trove This email is to announce my candidacy for the PTL of Trove for the Queens cycle. My candidacy has been formally submitted in[1]. I have been the PTL for the Trove project since the Trove release (in March 2016). During this time, we've seen significant improvements during the Newton and Ocata releases but faced a setback with the departure of several companies from the community in the Pike release. Trove faces many of the same challenges faced by projects that are not part of the 'core' of OpenStack. Even though the last two user surveys[2,3] show that Trove is one of the popular projects that people want to adopt, this has not translated into an increase in active participation. The challenges facing Trove in the Queens release are broadly to: 1. improve active participation and contribution in code reviews and stabilize the core reviewer team. 2. keep up with changes in the rest of OpenStack 3. stabilize and maintain the existing code base Two important aspects of my candidacy that are worth highlighting here. The first is that I am in favor of taking a serious look at the current Trove architecture and revisiting whether we should reimplement the project as a layered platform project that better leverages underlying infrastructure (IaaS) projects. A good discussion on the mailing list [4] surfaced a number of ideas which I intend to discuss in depth at the PTG in Denver with other members of the team. The hope is that we can come out of the PTG with a clear action plan, and more importantly a commitment from participants to work on the project and implement that plan. The second is that at least in the Queens release, and until we can get to the point where we have more active participation in the project, I intend to place the project in 'maintenance-mode'. A change has been proposed in the governance repository[5] to make this happen. I expect however that the TC will respect the wishes of whoever is elected PTL of the project in this election cycle. I highlight both of these aspects (above) because they are not universally accepted. I am aware that at least one other person wishes to also run for election to the position of Trove PTL in the Queens cycle, and we differ in our views on these two subjects. As I write this, he has not yet announced his candidacy, and I will likely be submitting this before he does so I will merely note that we differ on how to approach the issue of rearchitecting Trove (he would prefer we continue down the current path and stabilize/enhance it rather than rearchitect it), and does not favor the notion of attaching the maintenance-mode tag to the project. While we differ on these two issues, I intend to remain an active participant in the project, and support the PTL's lead if I am not re-elected. [1] ... this review ... [2] https://www.openstack.org/assets/survey/April2017SurveyReport.pdf [3] https://www.openstack.org/assets/survey/October2016SurveyReport.pdf [4] http://openstack.markmail.org/thread/wokk73ecv44ipfjz [5] https://review.openstack.org/#/c/488947/ ",,63,0
openstack%2Fmistral~master~I185843cacbb4626841a74f6577c467910adf6830,openstack/mistral,master,I185843cacbb4626841a74f6577c467910adf6830,TrivialFix: Fix typo,MERGED,2017-07-20 12:47:11.000000000,2017-08-02 08:47:57.000000000,2017-08-02 08:47:57.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 20863}]","[{'number': 1, 'created': '2017-07-20 12:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a1e18a57cccdf6e74692b20aad6c0101916f806c', 'message': 'Retrieve last update time from git log\n\nLast update time should be the last one when doc was updated, So retrieve it\nfrom git log is reasonable.\n\nChange-Id: I185843cacbb4626841a74f6577c467910adf6830\n'}, {'number': 2, 'created': '2017-07-31 10:58:25.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/cli/index.rst', 'doc/source/contributor/extending_yaql.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/1539bfad762d11b519a2c1d15e725781a04bf97d', 'message': 'TrivialFix: Fix typo\n\nChange-Id: I185843cacbb4626841a74f6577c467910adf6830\n'}]",0,485598,1539bfad762d11b519a2c1d15e725781a04bf97d,12,4,2,25456,,,0,"TrivialFix: Fix typo

Change-Id: I185843cacbb4626841a74f6577c467910adf6830
",git fetch https://review.opendev.org/openstack/mistral refs/changes/98/485598/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a1e18a57cccdf6e74692b20aad6c0101916f806c,fix-typo,"import subprocess git_cmd = [ ""git"", ""log"", ""--pretty=format:'%ad, commit %h'"", ""--date=local"", ""-n1"" ] try: html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8') except Exception: warnings.warn('Cannot get last updated time from git repository. ' 'Not setting ""html_last_updated_fmt"".')",html_last_updated_fmt = '%Y-%m-%d %H:%M',10,1
openstack%2Ftripleo-ci~master~I158084d6ac3c0bf0970f096962a058e4e352de01,openstack/tripleo-ci,master,I158084d6ac3c0bf0970f096962a058e4e352de01,Let the pre-upgrade hook stop services in pike+,MERGED,2017-07-14 18:22:22.000000000,2017-08-02 08:47:06.000000000,2017-08-02 08:47:06.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-07-14 18:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e0e3d540644058d28a7ee4353a132954747683d', 'message': ""Let the pre-upgrade hook stop services in pike+\n\nThe undercloud and client can now work together to automate more of\nthe undercloud upgrade, so we don't need to do this step in pike and\nlater.\n\nChange-Id: I158084d6ac3c0bf0970f096962a058e4e352de01\nDepends-On: Icb3fe2c1285f8f8574aad583d08c557936ffabe5\n""}, {'number': 2, 'created': '2017-07-14 20:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/48750f5db480bd36279675599c126da0984630c2', 'message': ""Let the pre-upgrade hook stop services in pike+\n\nThe undercloud and client can now work together to automate more of\nthe undercloud upgrade, so we don't need to do this step in pike and\nlater.\n\nChange-Id: I158084d6ac3c0bf0970f096962a058e4e352de01\nDepends-On: Icb3fe2c1285f8f8574aad583d08c557936ffabe5\n""}, {'number': 3, 'created': '2017-07-26 13:36:27.000000000', 'files': ['scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/268abf1fd9853c17c4aebeb4bcb606d548d6959f', 'message': ""Let the pre-upgrade hook stop services in pike+\n\nThe undercloud and client can now work together to automate more of\nthe undercloud upgrade, so we don't need to do this step in pike and\nlater.\n\nChange-Id: I158084d6ac3c0bf0970f096962a058e4e352de01\nDepends-On: Icb3fe2c1285f8f8574aad583d08c557936ffabe5\n""}]",0,484012,268abf1fd9853c17c4aebeb4bcb606d548d6959f,55,5,3,6928,,,0,"Let the pre-upgrade hook stop services in pike+

The undercloud and client can now work together to automate more of
the undercloud upgrade, so we don't need to do this step in pike and
later.

Change-Id: I158084d6ac3c0bf0970f096962a058e4e352de01
Depends-On: Icb3fe2c1285f8f8574aad583d08c557936ffabe5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/12/484012/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,2e0e3d540644058d28a7ee4353a132954747683d,undercloud-upgrade,"OVB=${OVB:-0} # In pike and above this is handled by the pre-upgrade hook if [[ ""$STABLE_RELEASE"" =~ ^(newton|ocata)$ ]]; then sudo systemctl stop openstack-* sudo systemctl stop neutron-* sudo systemctl stop openvswitch sudo systemctl stop httpd fi # This verifies that at least one conductor comes up, and at least one # IPMI-based driver was successfully enabled. ironic driver-list | grep -q ipmi"," -e $HOME/tripleo-heat-templates/environments/docker-centos-tripleoupstream.yaml \ # NOTE(emilien): # If we don't stop OpenStack services before the upgrade, Puppet run will hang forever. # This thing might be an ugly workaround but we need to to upgrade the undercloud. # The question is: where to do it? in tripleoclient? or instack-undercloud? sudo systemctl stop openstack-* sudo systemctl stop neutron-* sudo systemctl stop openvswitch sudo systemctl stop httpd if [[ ! ""${STABLE_RELEASE}"" =~ ^(newton|ocata) ]]; then # This verifies that at least one conductor comes up, and at least one # IPMI-based driver was successfully enabled. ipmi_drivers=""$(grep -c ipmi <(ironic driver-list))"" if [[ $ipmi_drivers -eq 0 ]]; then log ""ERROR: Check ironic driver-list"" exit 1 fi else ironic node-list fi",11,20
openstack%2Fdevstack-plugin-ceph~master~I57b9ad1deec7ca4c390e6c42b23ddbf419d5bd4e,openstack/devstack-plugin-ceph,master,I57b9ad1deec7ca4c390e6c42b23ddbf419d5bd4e,[WIP] Fix install by removing keystone pki configuration,ABANDONED,2017-05-30 13:14:31.000000000,2017-08-02 08:46:44.000000000,,"[{'_account_id': 3}, {'_account_id': 23173}]","[{'number': 1, 'created': '2017-05-30 13:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/06b8a265ef883ad694e20cc5d790ff0d8f6b7739', 'message': ""Fix install by removing keystone pki configuration\n\nPKI and PKIz token format have been removed in Ocata in favor of\nfernet tokens [1].\nFollowing in Pike, 'keystone-manage pki_setup' have also been\nremoved [2], leading the devstack plugin install to fail.\n\nThis patch removes the unnecessary pki configuration lines.\n\n[1] https://docs.openstack.org/releasenotes/keystone/ocata.html\n[2] https://blueprints.launchpad.net/keystone/+spec/removed-as-of-pike\n\nChange-Id: I57b9ad1deec7ca4c390e6c42b23ddbf419d5bd4e\n""}, {'number': 2, 'created': '2017-05-30 15:14:37.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ccae612595f10d32ba31edc75bcad06035172341', 'message': ""[WIP] Fix install by removing keystone pki configuration\n\nPKI and PKIz token format have been removed in Ocata in favor of\nfernet tokens [1].\nFollowing in Pike, 'keystone-manage pki_setup' have also been\nremoved [2], leading the devstack plugin install to fail.\n\nThis patch removes the unnecessary pki configuration lines.\n\n[1] https://docs.openstack.org/releasenotes/keystone/ocata.html\n[2] https://blueprints.launchpad.net/keystone/+spec/removed-as-of-pike\n\nChange-Id: I57b9ad1deec7ca4c390e6c42b23ddbf419d5bd4e\n""}]",0,469083,ccae612595f10d32ba31edc75bcad06035172341,6,2,2,23173,,,0,"[WIP] Fix install by removing keystone pki configuration

PKI and PKIz token format have been removed in Ocata in favor of
fernet tokens [1].
Following in Pike, 'keystone-manage pki_setup' have also been
removed [2], leading the devstack plugin install to fail.

This patch removes the unnecessary pki configuration lines.

[1] https://docs.openstack.org/releasenotes/keystone/ocata.html
[2] https://blueprints.launchpad.net/keystone/+spec/removed-as-of-pike

Change-Id: I57b9ad1deec7ca4c390e6c42b23ddbf419d5bd4e
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/83/469083/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,06b8a265ef883ad694e20cc5d790ff0d8f6b7739,bp/s,," # Let keystone generate the certs, rgw needs these. keystone-manage pki_setup --rebuild # radosgw needs to access keystone's revocation list sudo mkdir -p ${dest}/nss sudo openssl x509 -in /etc/keystone/ssl/certs/ca.pem -pubkey | \ sudo certutil -d ${dest}/nss -A -n ca -t ""TCu,Cu,Tuw"" sudo openssl x509 -in /etc/keystone/ssl/certs/signing_cert.pem -pubkey | \ sudo certutil -A -d ${dest}/nss -n signing_cert -t ""P,P,P""",0,11
openstack%2Fpuppet-tripleo~master~I015f7dfec4bedf72332d91b91cda3ef1dc8caf8c,openstack/puppet-tripleo,master,I015f7dfec4bedf72332d91b91cda3ef1dc8caf8c,Support for Dell EMC Unity Cinder Driver,MERGED,2017-07-26 21:15:38.000000000,2017-08-02 08:46:27.000000000,2017-08-02 08:46:27.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-07-26 21:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c0cb22a33405aab4ee2e2d4897e39c9a34f72160', 'message': 'Support for Dell EMC Unity Cinder Driver\n\nThis changes adds Dell EMC Unity backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I015f7dfec4bedf72332d91b91cda3ef1dc8caf8c\n'}, {'number': 2, 'created': '2017-07-27 19:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bcc69568f4ffeed84e1da9dbf5b906b1a839448f', 'message': 'Support for Dell EMC Unity Cinder Driver\n\nThis changes adds Dell EMC Unity backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I015f7dfec4bedf72332d91b91cda3ef1dc8caf8c\n'}, {'number': 3, 'created': '2017-07-27 19:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/838514d77367781be3836f1cad9c4214b2873f7a', 'message': 'Support for Dell EMC Unity Cinder Driver\n\nThis changes adds Dell EMC Unity backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I015f7dfec4bedf72332d91b91cda3ef1dc8caf8c\n'}, {'number': 4, 'created': '2017-07-29 00:59:37.000000000', 'files': ['manifests/profile/base/cinder/volume.pp', 'spec/classes/tripleo_profile_base_cinder_unity_spec.rb', 'manifests/profile/base/cinder/volume/dellemc_unity.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fab85e5dcb55160544d8a420b0f4e30002c908f8', 'message': 'Support for Dell EMC Unity Cinder Driver\n\nThis changes adds Dell EMC Unity backend as composable service\nand matches the tripleo-heat-templates.\n\nChange-Id: I015f7dfec4bedf72332d91b91cda3ef1dc8caf8c\n'}]",0,487591,fab85e5dcb55160544d8a420b0f4e30002c908f8,35,5,4,10379,,,0,"Support for Dell EMC Unity Cinder Driver

This changes adds Dell EMC Unity backend as composable service
and matches the tripleo-heat-templates.

Change-Id: I015f7dfec4bedf72332d91b91cda3ef1dc8caf8c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/91/487591/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_cinder_unity_spec.rb', 'manifests/profile/base/cinder/volume/dellemc_unity.pp']",2,c0cb22a33405aab4ee2e2d4897e39c9a34f72160,bp/dellemc-unity-cinder,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::cinder::volume::dellemc_unity # # Cinder Volume dellemc_unity profile for tripleo # # === Parameters # # [*backend_name*] # (Optional) Name given to the Cinder backend stanza # Defaults to 'tripleo_dellemc_unity' # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::cinder::volume::dellemc_unity ( $backend_name = hiera('cinder::backend::dellemc_unity::volume_backend_name', 'tripleo_dellemc_unity'), $step = Integer(hiera('step')), ) { include ::tripleo::profile::base::cinder::volume if $step >= 4 { cinder::backend::dellemc_unity { $backend_name : san_ip => hiera('cinder::backend::dellemc_unity::san_ip', undef), san_login => hiera('cinder::backend::dellemc_unity::san_login', undef), san_password => hiera('cinder::backend::dellemc_unity::san_password', undef), storage_protocol => hiera('cinder::backend::dellemc_unity::storage_protocol', undef), unity_io_ports => hiera('cinder::backend::dellemc_unity::unity_io_ports', undef), unity_storage_pool_names => hiera('cinder::backend::dellemc_unity::unity_storage_pool_names', undef), } } } ",,105,0
openstack%2Felection~master~I2a5c981ef7a389000ba12c9257de2279809f30f1,openstack/election,master,I2a5c981ef7a389000ba12c9257de2279809f30f1,Add Ben Swartzlander candidacy for Manila PTL,MERGED,2017-08-01 14:38:03.000000000,2017-08-02 08:45:55.000000000,2017-08-02 08:45:55.000000000,"[{'_account_id': 3}, {'_account_id': 6088}, {'_account_id': 16708}]","[{'number': 1, 'created': '2017-08-01 14:38:03.000000000', 'files': ['candidates/queens/Manila/bswartz.txt'], 'web_link': 'https://opendev.org/openstack/election/commit/43481af1e5b830d455e63fff0b4ede2218bbc601', 'message': 'Add Ben Swartzlander candidacy for Manila PTL\n\nChange-Id: I2a5c981ef7a389000ba12c9257de2279809f30f1\n'}]",0,489622,43481af1e5b830d455e63fff0b4ede2218bbc601,7,3,1,2417,,,0,"Add Ben Swartzlander candidacy for Manila PTL

Change-Id: I2a5c981ef7a389000ba12c9257de2279809f30f1
",git fetch https://review.opendev.org/openstack/election refs/changes/22/489622/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/queens/Manila/bswartz.txt'],1,43481af1e5b830d455e63fff0b4ede2218bbc601,,"I am running for PTL of Manila once again. For the Queens release I would like to continue to focus the project on stabilization and addressing technical debt issues. This is a continuation of the agenda I put forward for Pike -- some progress has been made but not enough on issues of quality and stability -- especially in the first party drivers. I also want to move to Python 3 for all test jobs in Queens, and start the clock on dropping Python 2. ",,8,0
openstack%2Fmanila~master~Ieb12ccc506d107dd65a94a07b07bf6200a8e0fb7,openstack/manila,master,Ieb12ccc506d107dd65a94a07b07bf6200a8e0fb7,Use HostAddressOpt for opts that accept IP and hostnames,ABANDONED,2017-08-02 07:16:58.000000000,2017-08-02 08:45:02.000000000,,"[{'_account_id': 3}, {'_account_id': 15831}]","[{'number': 1, 'created': '2017-08-02 07:16:58.000000000', 'files': ['manila/data/helper.py', 'manila/network/standalone_network_plugin.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3e9e94fc4f471e03892ad84f11ba0ad17b304898', 'message': 'Use HostAddressOpt for opts that accept IP and hostnames\n\nSome configuration options were accepting both IP addresses\nand hostnames. Since there was no specific OSLO opt type to\nsupport this, we were using ""StrOpt"". The change [1] that added\nsupport for ""HostAddressOpt"" type was merged in Ocata and became\navailable for use with oslo version 3.22.\n\nThis patch changes the opt type of configuration options to use\nthis more relevant opt type - HostAddressOpt.\n\n[1] I77bdb64b7e6e56ce761d76696bc4448a9bd325eb\n\nChange-Id: Ieb12ccc506d107dd65a94a07b07bf6200a8e0fb7\n'}]",0,489889,3e9e94fc4f471e03892ad84f11ba0ad17b304898,4,2,1,25225,,,0,"Use HostAddressOpt for opts that accept IP and hostnames

Some configuration options were accepting both IP addresses
and hostnames. Since there was no specific OSLO opt type to
support this, we were using ""StrOpt"". The change [1] that added
support for ""HostAddressOpt"" type was merged in Ocata and became
available for use with oslo version 3.22.

This patch changes the opt type of configuration options to use
this more relevant opt type - HostAddressOpt.

[1] I77bdb64b7e6e56ce761d76696bc4448a9bd325eb

Change-Id: Ieb12ccc506d107dd65a94a07b07bf6200a8e0fb7
",git fetch https://review.opendev.org/openstack/manila refs/changes/89/489889/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/data/helper.py', 'manila/network/standalone_network_plugin.py']",2,3e9e94fc4f471e03892ad84f11ba0ad17b304898,," cfg.HostAddressOpt( 'standalone_network_plugin_gateway', help=""Gateway address that should be used. Required."", deprecated_group='DEFAULT'),"," cfg.StrOpt( 'standalone_network_plugin_gateway', help=""Gateway address that should be used. Required."", deprecated_group='DEFAULT'),",9,8
openstack%2Felection~master~Ia7ed954178201b7c0ec2c64f57d42f7829cc5c15,openstack/election,master,Ia7ed954178201b7c0ec2c64f57d42f7829cc5c15,Add Dmitry Tantsur candidacy for Ironic PTL,MERGED,2017-08-01 11:33:39.000000000,2017-08-02 08:43:57.000000000,2017-08-02 08:43:57.000000000,"[{'_account_id': 3}, {'_account_id': 6088}, {'_account_id': 16708}]","[{'number': 1, 'created': '2017-08-01 11:33:39.000000000', 'files': ['candidates/queens/Ironic/dtantsur.txt'], 'web_link': 'https://opendev.org/openstack/election/commit/f7ed106cf44c57e84493479520f493bb58fd4d82', 'message': 'Add Dmitry Tantsur candidacy for Ironic PTL\n\nChange-Id: Ia7ed954178201b7c0ec2c64f57d42f7829cc5c15\n'}]",0,489571,f7ed106cf44c57e84493479520f493bb58fd4d82,7,3,1,10239,,,0,"Add Dmitry Tantsur candidacy for Ironic PTL

Change-Id: Ia7ed954178201b7c0ec2c64f57d42f7829cc5c15
",git fetch https://review.opendev.org/openstack/election refs/changes/71/489571/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/queens/Ironic/dtantsur.txt'],1,f7ed106cf44c57e84493479520f493bb58fd4d82,dtantsur,"I am announcing my candidacy for PTL for the Ironic team for the Queens release cycle. In case you don't know me, I'm dtantsur on IRC. I started working on Ironic around late spring or summer 2014 (oh, time flies!), and has been dedicated full time to bare metal provisioning since then. I am not going to surprise anyone, if I say that the Pike cycle was a difficult one. We've gone through removing four cores and through several iterations of re-prioritization. The team has done an amazing job keeping the pace - thank you all for that. This also required me to change my personal priorities for the cycle, concentrating more on keeping the project healthy and going. I hope I did not let you down. If you elect me, I would like to concentrate on the following efforts: * CI and testing improvements. This was on my agenda for Pike, and I'm not giving up on it. We have introduced multi-node jobs, a standalone job. I believe that the 3rd party CI have become more reliable since the beginning of the cycle. I would like to broaden the use of the standalone tests in the main and in 3rdparty CI to reduce the resource pressure and to be able to cover more important aspects of Ironic. I would like us to cover a few important testing gaps, such as testing adoption or root device hints. * Improve the prioritization process. I believe that we have been doing really well with our weekly priorities process. However, we have clearly had too many big items on our plate this cycle. That required an extensive de-prioritization in the end, leaving people frustrated. That also made it harder for less-of-a-priority changes, such as vendor-specific patches to get in. * Bug triaging. One of my PTL promises during the last election was to improve the bug handling process, and I apologize for not having done it. I would like to change it, and make sure that our bug backlog reduces instead of slowly growing. This may include better processes around incoming bug triaging, smarter dashboard and some automation, e.g. for handling old bugs. * Stabilization and paper cut bug fixing. This is related to the prioritization topic above. We've been chasing big stuff over a few cycles. That was absolutely justified, and we've landed several absolutely mind-blowing features, such as ironic-neutron integration or boot-from-volume. Now, I think, it's time to slow down a tiny bit, and think of the things that can make every day life managing an ironic deployment easier. Treating of the maintenance mode, reporting of cleaning progress, error messages and logging, just to name a few. Of course, this includes documentation for operators. As you know, I've spent some substantial time this cycle writing and refining installation and operation docs. With the documentation reform in place we have even more power over them - let's use it wisely. And as the last time, my significant goal will be not to get in a way of our wonderful team :) -- Dmitry Tantsur ",,62,0
openstack%2Fpython-openstackclient~master~I35c8d132b147a562e0c50c89458d90960556c1da,openstack/python-openstackclient,master,I35c8d132b147a562e0c50c89458d90960556c1da,Implement bandwidth limit direction on net qos rules.,ABANDONED,2016-08-18 09:44:20.000000000,2017-08-02 08:43:16.000000000,,"[{'_account_id': 3}, {'_account_id': 8788}, {'_account_id': 16688}, {'_account_id': 17776}]","[{'number': 1, 'created': '2016-08-18 09:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d776894d187af89415f67a31268a5b642d9c31de', 'message': 'Implement bandwidth limit direction on net qos rules.\n\nThis change introduces the direction field on the bandwidth\nlimit QoS rules for network service.\n\nDepends-On: I90c412a5c8757b3ffe8abfc1165a70bdb8744702\nCloses-Bug: 1614121\n\nChange-Id: I35c8d132b147a562e0c50c89458d90960556c1da\n'}, {'number': 2, 'created': '2016-08-18 12:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/549d5ce070b16b5242f72dfff39dfa01fcbdc350', 'message': 'Implement bandwidth limit direction on net qos rules.\n\nThis change introduces the direction field on the bandwidth\nlimit QoS rules for network service.\n\nDepends-On: I90c412a5c8757b3ffe8abfc1165a70bdb8744702\nCloses-Bug: 1614121\n\nChange-Id: I35c8d132b147a562e0c50c89458d90960556c1da\n'}, {'number': 3, 'created': '2016-08-18 12:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/09f425383e5e4a8d6b413839727514028787eb42', 'message': 'Implement bandwidth limit direction on net qos rules.\n\nThis change introduces the direction field on the bandwidth\nlimit QoS rules for network service.\n\nDepends-On: I90c412a5c8757b3ffe8abfc1165a70bdb8744702\nCloses-Bug: 1614121\n\nChange-Id: I35c8d132b147a562e0c50c89458d90960556c1da\n'}, {'number': 4, 'created': '2016-08-20 07:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c634d2bf25fec3244aa3bb5f54121cbe3238517a', 'message': 'Implement bandwidth limit direction on net qos rules.\n\nThis change introduces the direction field on the bandwidth\nlimit QoS rules for network service.\n\nDepends-On: I90c412a5c8757b3ffe8abfc1165a70bdb8744702\nCloses-Bug: 1614121\n\nChange-Id: I35c8d132b147a562e0c50c89458d90960556c1da\n'}, {'number': 5, 'created': '2016-08-20 07:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6eb28a4fdad485ce778356b50d0de33601522387', 'message': 'Implement bandwidth limit direction on net qos rules.\n\nThis change introduces the direction field on the bandwidth\nlimit QoS rules for network service.\n\nDepends-On: I90c412a5c8757b3ffe8abfc1165a70bdb8744702\nCloses-Bug: 1614121\n\nChange-Id: I35c8d132b147a562e0c50c89458d90960556c1da\n'}, {'number': 6, 'created': '2016-09-26 09:25:03.000000000', 'files': ['openstackclient/tests/network/v2/fakes.py', 'functional/tests/network/v2/test_qos_bandwidth_limit_rule.py', 'openstackclient/network/v2/qos_bandwidth_limit_rule.py', 'openstackclient/tests/network/v2/test_qos_bandwidth_limit_rule.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/97d2563af5aca962f767caa752ae3f621301cfdd', 'message': 'Implement bandwidth limit direction on net qos rules.\n\nThis change introduces the direction field on the bandwidth\nlimit QoS rules for network service.\n\nDepends-On: I90c412a5c8757b3ffe8abfc1165a70bdb8744702\nCloses-Bug: 1614121\n\nChange-Id: I35c8d132b147a562e0c50c89458d90960556c1da\n'}]",4,357055,97d2563af5aca962f767caa752ae3f621301cfdd,16,4,6,8788,,,0,"Implement bandwidth limit direction on net qos rules.

This change introduces the direction field on the bandwidth
limit QoS rules for network service.

Depends-On: I90c412a5c8757b3ffe8abfc1165a70bdb8744702
Closes-Bug: 1614121

Change-Id: I35c8d132b147a562e0c50c89458d90960556c1da
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/55/357055/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/network/v2/fakes.py', 'functional/tests/network/v2/test_qos_bandwidth_limit_rule.py', 'openstackclient/network/v2/qos_bandwidth_limit_rule.py', 'openstackclient/tests/network/v2/test_qos_bandwidth_limit_rule.py']",4,d776894d187af89415f67a31268a5b642d9c31de,bug/1614121," 'direction', new_rule.direction, '--direction', str(self.new_rule.direction), ('direction', self.new_rule.direction), def test_set_name_direction(self): arglist = [ '--direction', str(self._qos_rule.direction), self._qos_rule.id, self._qos_rule.qos_policy_id, ] verifylist = [ ('direction', self._qos_rule.direction), ('id', self._qos_rule.id), ('qos_policy_id', self._qos_rule.qos_policy_id), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) attrs = { 'direction': self._qos_rule.direction, 'id': self._qos_rule.id, 'qos_policy_id': self._qos_rule.qos_policy_id } self.network.find_qos_bandwidth_limit_rule.assert_called_with( self._qos_rule.id, self._qos_rule.qos_policy_id, ignore_missing=False) self.network.update_qos_bandwidth_limit_rule.assert_called_with( self._qos_rule, self._qos_rule.qos_policy_id, **attrs) self.assertIsNone(result) 'Direction', qos_rule.direction, 'direction', _qos_rule.direction,", # NOTE(ralonsoh): 'direction' parameter to be implemented in bug 1560961. # New tests must be added,65,38
openstack%2Felection~master~I4ff59ebb7c81cfca4b07798df6596bf959649138,openstack/election,master,I4ff59ebb7c81cfca4b07798df6596bf959649138,Adding Omer Anson (oanson) candidacy for Dragonflow,MERGED,2017-08-01 08:45:34.000000000,2017-08-02 08:42:05.000000000,2017-08-02 08:42:05.000000000,"[{'_account_id': 3}, {'_account_id': 6088}, {'_account_id': 16708}]","[{'number': 1, 'created': '2017-08-01 08:45:34.000000000', 'files': ['candidates/queens/Dragonflow/oanson.txt'], 'web_link': 'https://opendev.org/openstack/election/commit/317ba264014cb879c6622cdf66a49a09087b8ccc', 'message': 'Adding Omer Anson (oanson) candidacy for Dragonflow\n\nChange-Id: I4ff59ebb7c81cfca4b07798df6596bf959649138\n'}]",0,489530,317ba264014cb879c6622cdf66a49a09087b8ccc,7,3,1,20229,,,0,"Adding Omer Anson (oanson) candidacy for Dragonflow

Change-Id: I4ff59ebb7c81cfca4b07798df6596bf959649138
",git fetch https://review.opendev.org/openstack/election refs/changes/30/489530/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/queens/Dragonflow/oanson.txt'],1,317ba264014cb879c6622cdf66a49a09087b8ccc,,"I would like to propose my candidacy for Dragonflow PTL position. I have been working on Dragonflow for over a year, including related projects such as Neutron, Openstack-Ansible, and ovsdbapp. My goal for Dragonflow is to make it a reference architecture to implement networking and distributed networking services in an easy and simple manner while supporting production grade and large scale requirements. I think that Dragonflow's plug-able architecture is proving to be a strong choice, and is even being considered at other OpenStack networking projects. In the previsous cycle we worked to improve this. Now it is even easier and simpler to extend Dragonflow, and allow external vendors to write their own drivers and applications. I also believe that our simplicity can be very appealing to users that want a simple network virtualisation solution part of OpenStack. For the next cycle, I would like to see Dragonflow become a viable choice for cloud deployments. This means a heavy stress on stabilisation, deployment, and performance. I would also like to see new features make it into the release, such as FWaaS, and LBaaS. I would also like to see the completion of the Kuryr integration, and have Dragonflow as a reference network implementation for Kubernetes. Thank you, Omer Anson (oanson). ",,29,0
openstack%2Felection~master~I0ba90665d98594929347e58ddaac0901283c966c,openstack/election,master,I0ba90665d98594929347e58ddaac0901283c966c,Add Rico Lin candidacy for Heat PTL(Queens),MERGED,2017-08-01 08:24:35.000000000,2017-08-02 08:41:59.000000000,2017-08-02 08:41:59.000000000,"[{'_account_id': 3}, {'_account_id': 6088}, {'_account_id': 16708}]","[{'number': 1, 'created': '2017-08-01 08:24:35.000000000', 'files': ['candidates/queens/Heat/ricolin.txt'], 'web_link': 'https://opendev.org/openstack/election/commit/426a67e2f24c7977ea445175bae7ab3bef6714d6', 'message': 'Add Rico Lin candidacy for Heat PTL(Queens)\n\nChange-Id: I0ba90665d98594929347e58ddaac0901283c966c\n'}]",0,489527,426a67e2f24c7977ea445175bae7ab3bef6714d6,7,3,1,12404,,,0,"Add Rico Lin candidacy for Heat PTL(Queens)

Change-Id: I0ba90665d98594929347e58ddaac0901283c966c
",git fetch https://review.opendev.org/openstack/election refs/changes/27/489527/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/queens/Heat/ricolin.txt'],1,426a67e2f24c7977ea445175bae7ab3bef6714d6,queens-ptl-candidacy,"Hi All, I would like to nominate myself to take the role of Heat PTL for Queens release. I'd been involved with the project around two years. And it's my privilege to work and learn within this great team and have the honor to serve as Pike PTL. No doubt, heat already become the engine for other OpenStack services who try to deploy and manage a scale services or applications. With some excellent jobs from the team, we got great improvements on resources, py35, WSGI, bug fixes, infrastructure, agents, and templates which I don't think we can do it without anyone in the team. And as what we always open for more ideas to join, it's essential to embrace following jobs: - Cross projects integration and improvement - Welcome any developers/ops/users who work on heat in any format - Make project goals. Also following community goals and project goals to make sure it will complete. - Provide as many resources and guidelines for members as possible when they need it. To make it more efficient when working on Heat. - Ensuring that CI jobs are healthy (and we don't break other projects) - On time releases with effective coordination and collaboration So these are targets that I think we can work on. We will open to any idea, and give it full discussion and help. In past cycle, I do get a lot of help from other experienced members, which allows me to learn and grow. And I tend to keep learning and growing from any opinions and experiences good or bad. As usual, my goal is to reach all above targets and make sure this team will be able to keep running well, keep integration to new things, and always open to ideas. This means we will keep trying and making mistake on the way, but the result must be worth. Hope you will consider me for Queens PTL. Thank you! Rico ",,38,0
openstack%2Freleases~master~I9795058d0d035e40b1359caee1d7dca7721629a3,openstack/releases,master,I9795058d0d035e40b1359caee1d7dca7721629a3,update import_branch_points.sh to use edit-deliverable,MERGED,2017-08-01 20:31:55.000000000,2017-08-02 08:41:07.000000000,2017-08-02 08:41:07.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-08-01 20:31:55.000000000', 'files': ['tools/import_branch_points.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/87d5618d51ea078290810a804615ae9a9f6cd55d', 'message': 'update import_branch_points.sh to use edit-deliverable\n\nChange-Id: I9795058d0d035e40b1359caee1d7dca7721629a3\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489738,87d5618d51ea078290810a804615ae9a9f6cd55d,8,4,1,2472,,,0,"update import_branch_points.sh to use edit-deliverable

Change-Id: I9795058d0d035e40b1359caee1d7dca7721629a3
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/489738/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/import_branch_points.sh'],1,87d5618d51ea078290810a804615ae9a9f6cd55d,doc-branch-requirements,[[ ! -d .tox/venv ]] && tox -e venv --notest source .tox/venv/bin/activate edit-deliverable $series $deliverable add-stable-branch $version," sed -i '' -e ""/^releases:/ ibranches:\n - name: stable/${series}\n location: $version"" $fname",4,1
openstack%2Freleases~master~Ibdc7f32fd1ccdfc63858e2243adffc3cd54204ce,openstack/releases,master,Ibdc7f32fd1ccdfc63858e2243adffc3cd54204ce,add deliverable argument to discover_branch_points.py,MERGED,2017-08-01 20:31:55.000000000,2017-08-02 08:41:01.000000000,2017-08-02 08:41:01.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-08-01 20:31:55.000000000', 'files': ['tools/discover_branch_points.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/08e0000034f245a34a4522172c33d6d587ac6421', 'message': 'add deliverable argument to discover_branch_points.py\n\nChange-Id: Ibdc7f32fd1ccdfc63858e2243adffc3cd54204ce\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489737,08e0000034f245a34a4522172c33d6d587ac6421,8,4,1,2472,,,0,"add deliverable argument to discover_branch_points.py

Change-Id: Ibdc7f32fd1ccdfc63858e2243adffc3cd54204ce
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/489737/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/discover_branch_points.py'],1,08e0000034f245a34a4522172c33d6d587ac6421,doc-branch-requirements," parser.add_argument( 'deliverable', nargs='+', help='the deliverable name', ) if deliv.name not in args.deliverable: continue",,7,0
openstack%2Felection~master~I0ff01a9964bb5f5353218943f42cbf93d08d9f83,openstack/election,master,I0ff01a9964bb5f5353218943f42cbf93d08d9f83,Add Frank Kloeker candidacy for I18n PTL (Queens),MERGED,2017-08-01 05:16:47.000000000,2017-08-02 08:40:35.000000000,2017-08-02 08:40:35.000000000,"[{'_account_id': 3}, {'_account_id': 6088}, {'_account_id': 16708}]","[{'number': 1, 'created': '2017-08-01 05:16:47.000000000', 'files': ['candidates/queens/I18n/eumel8.txt'], 'web_link': 'https://opendev.org/openstack/election/commit/2d6fcdfa1d6e5e557d9d855b45b843e8353eabe9', 'message': 'Add Frank Kloeker candidacy for I18n PTL (Queens)\n\nChange-Id: I0ff01a9964bb5f5353218943f42cbf93d08d9f83\n'}]",0,489469,2d6fcdfa1d6e5e557d9d855b45b843e8353eabe9,7,3,1,17765,,,0,"Add Frank Kloeker candidacy for I18n PTL (Queens)

Change-Id: I0ff01a9964bb5f5353218943f42cbf93d08d9f83
",git fetch https://review.opendev.org/openstack/election refs/changes/69/489469/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/queens/I18n/eumel8.txt'],1,2d6fcdfa1d6e5e557d9d855b45b843e8353eabe9,,"Today I would like to announce my candidacy as I18n PTL in Queens cycle. I've been in the OpenStack Community since 2015, active as a translator in the German team. I participated in my first OpenStack Summit in Tokyo and met the I18n team for the first time at the Design Summit. It was an exciting moment to meet people from all over the world working on the same thing. It is not just translations, but working with different cultures, views and ... time zones. These are the magical dimensions and challenges. After Tokyo we had virtual midcycle sprint to develop the translation check site, one of the tools to help translators in their work. I met more people during Barcelona Summit and sank deeper and deeper into the work of OpenStack and I18n. In Boston we had our own session to show the work of the I18n team. We prepared a workshop also which was not so successful, but the preparation was great and we can repeat it at any time. At this point I would like to thank Ianychoi for his excellent work in the past as PTL. He is tireless, full of energy, and brought I18n far forward. He was for me in the last weeks a kind of mentor to learn all the things related to I18n and PTL. Nevertheless, I still need support from the entire team to successfully manage this task. What goals have I set for myself for Queens: 1. Completion of the translation check site. I have been involved in this project since 2015 and now it has to be finished :-) 2. Automate all the things. We have some manual work in I18n and our tools that are to automate to make the work easier. 3. Aquire more people to the team. We have great teams that do a lot. But we also get more work through translate new OpenStack projects or the User Survey. I hope I have given a good overview. Contact me directly if you have any questions or requests. On good cooperation in a new cycle OpenStack! Frank Email: eumel@arcor.de IRC: eumel8 Twitter: eumel_8 OpenStack Profile: https://www.openstack.org/community/members/profile/45058/frank-kloeker ",,40,0
openstack%2Freleases~master~I939592591ddbf54bc4a2ef239912a09fd5c42d7e,openstack/releases,master,I939592591ddbf54bc4a2ef239912a09fd5c42d7e,teach edit-deliverable to add stable branch data,MERGED,2017-08-01 20:31:55.000000000,2017-08-02 08:40:29.000000000,2017-08-02 08:40:29.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-08-01 20:31:55.000000000', 'files': ['tools/add_release_note_links.sh', 'openstack_releases/cmds/edit_deliverable.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/8367ba73207726309ef84e03d00815cc26081c54', 'message': 'teach edit-deliverable to add stable branch data\n\nRefactor edit-deliverable to use sub-commands and then add one for\nadding the stable branch to a deliverable based on the version.\n\nChange-Id: I939592591ddbf54bc4a2ef239912a09fd5c42d7e\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489736,8367ba73207726309ef84e03d00815cc26081c54,8,4,1,2472,,,0,"teach edit-deliverable to add stable branch data

Refactor edit-deliverable to use sub-commands and then add one for
adding the stable branch to a deliverable based on the version.

Change-Id: I939592591ddbf54bc4a2ef239912a09fd5c42d7e
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/489736/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/add_release_note_links.sh', 'openstack_releases/cmds/edit_deliverable.py']",2,8367ba73207726309ef84e03d00815cc26081c54,doc-branch-requirements,"def release_notes(args, series, deliverable_info): deliverable_info['release-notes'] = args.url def stable_branch(args, series, deliverable_info): name = 'stable/{}'.format(series) for b in deliverable_info.get('branches', []): if b['name'] == name: return new_branch = { 'name': name, 'location': args.location, } deliverable_info.setdefault('branches', []).append(new_branch) subparsers = parser.add_subparsers(help='commands') relnote_parser = subparsers.add_parser( 'set-release-notes', help='set the release-notes field', ) relnote_parser.add_argument( 'url', relnote_parser.set_defaults(func=release_notes) stable_branch_parser = subparsers.add_parser( 'add-stable-branch', help='add a branch', ) stable_branch_parser.add_argument( 'location', help='version number', ) stable_branch_parser.set_defaults(func=stable_branch) args.func(args, series, deliverable_info) deliverable_filename = 'deliverables/%s/%s.yaml' % ( series, args.deliverable) with open(deliverable_filename, 'w', encoding='utf-8') as f: f.write(yamlutils.dumps(deliverable_info))"," parser.add_argument( '--release-notes', changes = 0 if args.release_notes: deliverable_info['release-notes'] = args.release_notes changes += 1 if changes > 0: deliverable_filename = 'deliverables/%s/%s.yaml' % ( series, args.deliverable) with open(deliverable_filename, 'w', encoding='utf-8') as f: f.write(yamlutils.dumps(deliverable_info))",42,13
openstack%2Felection~master~Id933690c1d8e39927db9956c74e13e20dece792b,openstack/election,master,Id933690c1d8e39927db9956c74e13e20dece792b,Adding smcginnis candidacy for Release Management,MERGED,2017-07-31 17:24:28.000000000,2017-08-02 08:39:00.000000000,2017-08-02 08:38:59.000000000,"[{'_account_id': 3}, {'_account_id': 6088}, {'_account_id': 16708}]","[{'number': 1, 'created': '2017-07-31 17:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/0278762dcbb15492c9e3472b260a12a399d4acab', 'message': 'Adding smcginnis candidacy for Release Management\n\nChange-Id: Id933690c1d8e39927db9956c74e13e20dece792b\n'}, {'number': 2, 'created': '2017-07-31 22:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/aceb7beebd26fe388b8f8807d7eab7abfcc95bb8', 'message': 'Adding smcginnis candidacy for Release Management\n\nChange-Id: Id933690c1d8e39927db9956c74e13e20dece792b\n'}, {'number': 3, 'created': '2017-07-31 22:22:15.000000000', 'files': ['candidates/queens/Release_Management/smcginnis.txt'], 'web_link': 'https://opendev.org/openstack/election/commit/79253898438ddf62f684d2832d34dbdc3f637cab', 'message': 'Adding smcginnis candidacy for Release Management\n\nChange-Id: Id933690c1d8e39927db9956c74e13e20dece792b\n'}]",0,489280,79253898438ddf62f684d2832d34dbdc3f637cab,10,3,3,11904,,,0,"Adding smcginnis candidacy for Release Management

Change-Id: Id933690c1d8e39927db9956c74e13e20dece792b
",git fetch https://review.opendev.org/openstack/election refs/changes/80/489280/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/queens/Release_Management/smcginnis.txt'],1,0278762dcbb15492c9e3472b260a12a399d4acab,,"Hey everyone, I would like to submit my name for release management PTL for the Queens release. I've just recently been added to the core team, but I've been around for a few cycles interacting with the release management team. So I've been able to see the great work that they've done up to this point in scripting much of the process. Their work has been amazing in reducing the amount of manual steps that need to be taken, and I've been very impressed by the discipline they've had of actually writing down how all of this works. With all of that history, I'm confident that I can quickly get up to speed and hopefully continue to contribute to leading the release manager activites. Thierry, Doug, and others will also still be around and have that history, knowledge, and willingness to help that will greatly help. Personally, I would love to devote more time to some of these cross-project activities that are absolutely essential to keep things moving smoothly. I'm lucky enough to be in a position where I can now do that. My plan for the cycle would not be anything really that exciting. I think just continuing with the great work that has been done already and looking for any other areas where we can automate and make the release team a resource for other projects to go to when they need it. I would also do whatever I can to encourage and educate others to also participate in this important, but most behind the scenes, activity. Thanks for your consideration. Sean McGinnis (smcginnis) ",,32,0
openstack%2Freleases~master~I06dd208100afcd95fcf5b29d7ee6682edc7ce657,openstack/releases,master,I06dd208100afcd95fcf5b29d7ee6682edc7ce657,make openstack_requirements cycle-with-intermediary,MERGED,2017-08-01 20:31:55.000000000,2017-08-02 08:32:38.000000000,2017-08-02 08:32:37.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-08-01 20:31:55.000000000', 'files': ['deliverables/ocata/requirements.yaml', 'deliverables/pike/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/534aa718c380d9cba694316975898becfcd8628f', 'message': 'make openstack_requirements cycle-with-intermediary\n\nChange-Id: I06dd208100afcd95fcf5b29d7ee6682edc7ce657\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489735,534aa718c380d9cba694316975898becfcd8628f,8,4,1,2472,,,0,"make openstack_requirements cycle-with-intermediary

Change-Id: I06dd208100afcd95fcf5b29d7ee6682edc7ce657
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/489735/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/requirements.yaml', 'deliverables/pike/requirements.yaml']",2,534aa718c380d9cba694316975898becfcd8628f,doc-branch-requirements,release-model: cycle-with-intermediary releases:,releases: - version: 1.0.0 projects: - repo: openstack/requirements hash: 495027bda42431678845f40f084191623c7b2755 tarball-base: openstack_requirements,16,5
openstack%2Freleases~master~Icb93d55112130c33c20406c07b15ed99e7ea8019,openstack/releases,master,Icb93d55112130c33c20406c07b15ed99e7ea8019,Release paunch 1.5.0,MERGED,2017-08-02 03:44:03.000000000,2017-08-02 08:32:32.000000000,2017-08-02 08:32:32.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-02 03:44:03.000000000', 'files': ['deliverables/pike/paunch.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/659810e347076d6494086d32a02e7d87eacd8327', 'message': 'Release paunch 1.5.0\n\nChange-Id: Icb93d55112130c33c20406c07b15ed99e7ea8019\n'}]",0,489847,659810e347076d6494086d32a02e7d87eacd8327,8,4,1,4571,,,0,"Release paunch 1.5.0

Change-Id: Icb93d55112130c33c20406c07b15ed99e7ea8019
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/489847/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/paunch.yaml'],1,659810e347076d6494086d32a02e7d87eacd8327,paunch, - version: 1.5.0 projects: - repo: openstack/paunch hash: d11e04548e43c0ad099910cfacdb02d43e8a3a7c,,4,0
openstack%2Fcinder~stable%2Focata~I0fb9a6c7e12776b3f0b1c81164fa037261ec16ff,openstack/cinder,stable/ocata,I0fb9a6c7e12776b3f0b1c81164fa037261ec16ff,[Backport] RemoteFS: enable image volume cache,ABANDONED,2017-08-01 12:53:22.000000000,2017-08-02 08:31:08.000000000,,"[{'_account_id': 3}, {'_account_id': 8543}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 15831}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24578}, {'_account_id': 25243}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-08-01 12:53:22.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/520e0b48e936790c606c999019673dbbd5986dfa', 'message': ""[Backport] RemoteFS: enable image volume cache\n\nThis change is backport of the change with the id\nI84bb3f062637031f7f46b414d6cbbff0bb0292ea\n\nAt the moment, the RemoteFS based drivers cannot leverage the generic\nimage volume cache feature.\n\nThe reason is that this involves cloning a newly created volume while\nstill being in 'downloading' state, which is an unacceptable state\nfrom the driver's point of view.\n\nThis change adds 'downloading' as an acceptable state for the volume\nclone operation as well as for creating/deleting snapshots used\ninternally by the volume clone operation.\n\nNote that 'regular' volume clones will be rejected before reaching\nthe driver when having a source volume in 'downloading' state.\n\nChange-Id: I0fb9a6c7e12776b3f0b1c81164fa037261ec16ff\nPartial-Bug: #1685277\n""}]",0,489591,520e0b48e936790c606c999019673dbbd5986dfa,17,16,1,13915,,,0,"[Backport] RemoteFS: enable image volume cache

This change is backport of the change with the id
I84bb3f062637031f7f46b414d6cbbff0bb0292ea

At the moment, the RemoteFS based drivers cannot leverage the generic
image volume cache feature.

The reason is that this involves cloning a newly created volume while
still being in 'downloading' state, which is an unacceptable state
from the driver's point of view.

This change adds 'downloading' as an acceptable state for the volume
clone operation as well as for creating/deleting snapshots used
internally by the volume clone operation.

Note that 'regular' volume clones will be rejected before reaching
the driver when having a source volume in 'downloading' state.

Change-Id: I0fb9a6c7e12776b3f0b1c81164fa037261ec16ff
Partial-Bug: #1685277
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/489591/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",2,520e0b48e936790c606c999019673dbbd5986dfa,bug/1685277," @staticmethod def _validate_state(current_state, acceptable_states, obj_description='volume', invalid_exc=exception.InvalidVolume): if current_state not in acceptable_states: message = _('Invalid %(obj_description)s state. ' 'Acceptable states for this operation: ' '%(acceptable_states)s. ' 'Current %(obj_description)s state: ' '%(current_state)s.') raise invalid_exc( message=message % dict(obj_description=obj_description, acceptable_states=acceptable_states, current_state=current_state)) acceptable_states = ['available', 'backing-up', 'downloading'] self._validate_state(src_vref.status, acceptable_states, obj_description='source volume') acceptable_states = ['available', 'in-use', 'backing-up', 'deleting', 'downloading'] self._validate_state(volume_status, acceptable_states) acceptable_states = ['available', 'in-use', 'backing-up'] if snapshot.id.startswith('tmp-snap-'): # This is an internal volume snapshot. In order to support # image caching, we'll allow creating/deleting such snapshots # while having volumes in 'downloading' state. acceptable_states.append('downloading') self._validate_state(status, acceptable_states)"," if src_vref.status not in ['available', 'backing-up']: msg = _(""Source volume status must be 'available', or "" ""'backing-up' but is: "" ""%(status)s."") % {'status': src_vref.status} raise exception.InvalidVolume(msg) if volume_status not in ['available', 'in-use', 'backing-up']: msg = _(""Volume status must be 'available', 'in-use' or "" ""'backing-up' but is: "" ""%(status)s."") % {'status': volume_status} raise exception.InvalidVolume(msg) if status not in ['available', 'in-use', 'backing-up']: msg = _(""Volume status must be 'available', 'in-use' or "" ""'backing-up' but is: "" ""%(status)s."") % {'status': status} raise exception.InvalidVolume(msg)",111,57
openstack%2Freleases~master~I586a694fb904cd1f9301c7f8d05cd0db65d0fcf2,openstack/releases,master,I586a694fb904cd1f9301c7f8d05cd0db65d0fcf2,Release Tricircle 3.4.0,MERGED,2017-07-29 02:13:31.000000000,2017-08-02 08:30:42.000000000,2017-08-02 08:30:42.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-07-29 02:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/586b7f96f39ee08a2c75637a98b667c20b7b7eb8', 'message': 'Release Tricircle 3.4.0\n\nChange-Id: I586a694fb904cd1f9301c7f8d05cd0db65d0fcf2\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}, {'number': 2, 'created': '2017-07-29 09:22:09.000000000', 'files': ['deliverables/pike/tricircle.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9a7b4d75b15e661d91889618ac535f3566cc9cb8', 'message': 'Release Tricircle 3.4.0\n\nThe last patch for this release is\nac1b390fb2cf54acd04ce2e7dffba39c8a439a27, which includes pagination support\nfor jobs.\n\nChange-Id: I586a694fb904cd1f9301c7f8d05cd0db65d0fcf2\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}]",0,488904,9a7b4d75b15e661d91889618ac535f3566cc9cb8,9,3,2,11819,,,0,"Release Tricircle 3.4.0

The last patch for this release is
ac1b390fb2cf54acd04ce2e7dffba39c8a439a27, which includes pagination support
for jobs.

Change-Id: I586a694fb904cd1f9301c7f8d05cd0db65d0fcf2
Signed-off-by: joehuang <joehuang@huawei.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/488904/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/tricircle.yaml'],1,586b7f96f39ee08a2c75637a98b667c20b7b7eb8,tricircle, - version: 3.4.0 projects: - repo: openstack/tricircle hash: 2e8b8797e5b54c2e120d03285976da51c9e007bf,,4,0
openstack%2Fnova~master~Ie482fc6aceb0341411db2dae7f016399ee0c0253,openstack/nova,master,Ie482fc6aceb0341411db2dae7f016399ee0c0253,Dump versioned notifications when sample test fails,ABANDONED,2017-07-26 07:51:28.000000000,2017-08-02 08:26:07.000000000,,"[{'_account_id': 3}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18602}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-26 07:51:28.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ba368a2623be861d9a3423d7b8137daa9382d2d', 'message': ""Dump versioned notifications when sample test fails\n\nWhen notification sample tests fail due to different number of\nnotifications received than expect then the error message only\nsays the number of the notification but doesn't tell us which\nnotification is missing.\n\nThis patch dumps the received notifications as well to help the\ntroubleshooting.\n\nChange-Id: Ie482fc6aceb0341411db2dae7f016399ee0c0253\nRelated-Bug: #1706533\n""}]",0,487314,9ba368a2623be861d9a3423d7b8137daa9382d2d,11,8,1,9708,,,0,"Dump versioned notifications when sample test fails

When notification sample tests fail due to different number of
notifications received than expect then the error message only
says the number of the notification but doesn't tell us which
notification is missing.

This patch dumps the received notifications as well to help the
troubleshooting.

Change-Id: Ie482fc6aceb0341411db2dae7f016399ee0c0253
Related-Bug: #1706533
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/487314/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_instance.py'],1,9ba368a2623be861d9a3423d7b8137daa9382d2d,bug/1706533," self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(6, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS) self.assertLessEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS), fake_notifier.VERSIONED_NOTIFICATIONS)"," self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(6, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(4, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS)) self.assertLessEqual(2, len(fake_notifier.VERSIONED_NOTIFICATIONS))",38,19
openstack%2Freleases~master~I4a0f1fe10f5421ed7327f3fc1ac4b05fd45a19bf,openstack/releases,master,I4a0f1fe10f5421ed7327f3fc1ac4b05fd45a19bf,do not classify tempest as a library,MERGED,2017-07-28 21:18:58.000000000,2017-08-02 08:26:05.000000000,2017-08-02 08:26:05.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-07-28 21:18:58.000000000', 'files': ['deliverables/pike/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cfa16161be36c628b49db5d435dd870bb95c3de7', 'message': ""do not classify tempest as a library\n\nWe don't want tempest to be picked up when we run bulk operations on\nlibraries, especially branching.\n\nChange-Id: I4a0f1fe10f5421ed7327f3fc1ac4b05fd45a19bf\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,488850,cfa16161be36c628b49db5d435dd870bb95c3de7,7,3,1,2472,,,0,"do not classify tempest as a library

We don't want tempest to be picked up when we run bulk operations on
libraries, especially branching.

Change-Id: I4a0f1fe10f5421ed7327f3fc1ac4b05fd45a19bf
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/488850/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/tempest.yaml'],1,cfa16161be36c628b49db5d435dd870bb95c3de7,tempest-non-lib,type: other,type: library,1,1
openstack%2Fwatcher~master~Ie08eb682879b2c071f724a6847094650047bde34,openstack/watcher,master,Ie08eb682879b2c071f724a6847094650047bde34,Fix show db version in README,MERGED,2017-08-02 04:58:00.000000000,2017-08-02 08:20:36.000000000,2017-08-02 08:20:36.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 19055}, {'_account_id': 19457}]","[{'number': 1, 'created': '2017-08-02 04:58:00.000000000', 'files': ['watcher/db/sqlalchemy/alembic/README.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/d5a7d7674cdebdf919db5ff301acdeed9d82270a', 'message': 'Fix show db version in README\n\nwatcher-db-manage version: Print the current version\n\nChange-Id: Ie08eb682879b2c071f724a6847094650047bde34\n'}]",0,489851,d5a7d7674cdebdf919db5ff301acdeed9d82270a,8,4,1,21692,,,0,"Fix show db version in README

watcher-db-manage version: Print the current version

Change-Id: Ie08eb682879b2c071f724a6847094650047bde34
",git fetch https://review.opendev.org/openstack/watcher refs/changes/51/489851/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/db/sqlalchemy/alembic/README.rst'],1,d5a7d7674cdebdf919db5ff301acdeed9d82270a,fix_show_db_version, $ watcher-db-manage --config-file /path/to/watcher.conf version, $ watcher-db-manage --config-file /path/to/watcher.conf current,1,1
openstack%2Fcharm-percona-cluster~master~I1337096eb32250285e4a4a5d2b1975f91993816a,openstack/charm-percona-cluster,master,I1337096eb32250285e4a4a5d2b1975f91993816a,Resync charm-helpers for support to change passwords,MERGED,2017-07-28 20:24:12.000000000,2017-08-02 08:15:21.000000000,2017-08-02 08:15:21.000000000,"[{'_account_id': 3}, {'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-07-28 20:24:12.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/bcache.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/database/mysql.py', 'charmhelpers/contrib/network/ip.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/62ed38b7b2affe163d7597abfd520abc9c7cdd30', 'message': 'Resync charm-helpers for support to change passwords\n\nChange-Id: I1337096eb32250285e4a4a5d2b1975f91993816a\nPartial-Bug: 1436093\n'}]",0,488603,62ed38b7b2affe163d7597abfd520abc9c7cdd30,9,4,1,2424,,,0,"Resync charm-helpers for support to change passwords

Change-Id: I1337096eb32250285e4a4a5d2b1975f91993816a
Partial-Bug: 1436093
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/03/488603/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/bcache.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/database/mysql.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/ubuntu.py']",8,62ed38b7b2affe163d7597abfd520abc9c7cdd30,bug/1436093," 'xenial-proposed/ocata': 'xenial-proposed/ocata', 'xenial-proposed/pike': 'xenial-proposed/pike', 'xenial-proposed/queens': 'xenial-proposed/queens',CMD_RETRY_COUNT = 3 # Retry a failing fatal command X times. (r""^snap:.*-(.*)-(.*)$"", _add_cloud_distro_check),"," 'xenial-ocata/newton': 'xenial-proposed/ocata', 'xenial-pike/newton': 'xenial-proposed/pike', 'xenial-queens/newton': 'xenial-proposed/queens',CMD_RETRY_COUNT = 30 # Retry a failing fatal command X times.",422,54
openstack%2Ftraining-guides~master~Ifcbefec244d1c6c37e9932135ac452b92dfdaccd,openstack/training-guides,master,Ifcbefec244d1c6c37e9932135ac452b92dfdaccd,Imported Translations from Zanata,MERGED,2017-08-02 07:33:11.000000000,2017-08-02 08:15:15.000000000,2017-08-02 08:15:15.000000000,"[{'_account_id': 3}, {'_account_id': 14482}]","[{'number': 1, 'created': '2017-08-02 07:33:11.000000000', 'files': ['doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/33798d4ba4ed524d829b46c79f87420aac24c884', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ifcbefec244d1c6c37e9932135ac452b92dfdaccd\n'}]",0,489899,33798d4ba4ed524d829b46c79f87420aac24c884,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Ifcbefec244d1c6c37e9932135ac452b92dfdaccd
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/99/489899/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po'],1,33798d4ba4ed524d829b46c79f87420aac24c884,zanata/translations,"# shin minwook <minwook0106@gmail.com>, 2017. #zanata""POT-Creation-Date: 2017-07-21 14:21+0000\n""""PO-Revision-Date: 2017-08-01 07:37+0000\n"" ""Last-Translator: shin minwook <minwook0106@gmail.com>\n""msgid ""General tips for Trainers and Coaches"" msgstr ""트레이너와 코치를 위한 일반적인 팁"" msgid ""OpenStack Upstream Institute Trainers' Guide"" msgstr ""OpenStack Upstream Institute 트레이너의 가이드"" msgid ""Tips for Exercises"" msgstr ""실습을 위한 팁"" msgid ""Tips for the Class"" msgstr ""수업을 위한 팁"" ","""POT-Creation-Date: 2017-06-29 17:08+0000\n""""PO-Revision-Date: 2017-06-23 02:44+0000\n"" ""Last-Translator: Wonil Choi <wonil0522@gmail.com>\n""",16,3
openstack%2Fproject-config~master~I4bb76975bf054162b0cd696a9e0ca0cc1779c133,openstack/project-config,master,I4bb76975bf054162b0cd696a9e0ca0cc1779c133,Add python and client libray for Rack Scale Design,MERGED,2017-07-26 21:52:36.000000000,2017-08-02 08:14:25.000000000,2017-08-02 08:14:25.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 12597}, {'_account_id': 17275}]","[{'number': 1, 'created': '2017-07-26 21:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f8aedbc8f252edfa340df8e1470ce366bf8f0167', 'message': 'Add python client libray for Rack Scale Design\n\nCreated new repo for RSD(Rack Scale Design)[1] python client library.\nAnd mark all jobs non-voting to facilitate start with empty\nrepository.\n\n[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html\n\nChange-Id: I4bb76975bf054162b0cd696a9e0ca0cc1779c133\n'}, {'number': 2, 'created': '2017-07-26 22:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7a567d662a6ef5278fe2945f4ffd5d11c72d8782', 'message': 'Add python client libray for Rack Scale Design\n\nCreated new repo for RSD(Rack Scale Design)[1] python client library.\nAnd mark all jobs non-voting to facilitate start with empty\nrepository.\n\n[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html\n\nChange-Id: I4bb76975bf054162b0cd696a9e0ca0cc1779c133\n'}, {'number': 3, 'created': '2017-07-27 18:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0d08c5491b16ab17e8161d19397a49dab690edd9', 'message': 'Add python and client libray for Rack Scale Design\n\nCreated two new repos for RSD(Rack Scale Design)[1] python client and\nlibrary. And mark all jobs non-voting to facilitate start with empty\nrepository.\n\n[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html\n\nChange-Id: I4bb76975bf054162b0cd696a9e0ca0cc1779c133\n'}, {'number': 4, 'created': '2017-07-27 18:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e53d010176160958c1e550d77d9afa7b72324a7', 'message': 'Add python and client libray for Rack Scale Design\n\nCreated two new repos for RSD(Rack Scale Design)[1] python client and\nlibrary. And mark all jobs non-voting to facilitate start with empty\nrepository.\n\n[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html\n\nChange-Id: I4bb76975bf054162b0cd696a9e0ca0cc1779c133\n'}, {'number': 5, 'created': '2017-07-27 18:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9d287459a4b0938f41312681a03ebc0338835325', 'message': 'Add python and client libray for Rack Scale Design\n\nCreated two new repos for RSD(Rack Scale Design)[1] python client and\nlibrary. And mark all jobs non-voting to facilitate start with empty\nrepository.\n\n[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html\n\nChange-Id: I4bb76975bf054162b0cd696a9e0ca0cc1779c133\n'}, {'number': 6, 'created': '2017-07-28 15:52:28.000000000', 'files': ['gerrit/acls/openstack/rsd.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/aeb4dece11bbf042865adc8e96f4691038c9f20c', 'message': 'Add python and client libray for Rack Scale Design\n\nCreated two new repos for RSD(Rack Scale Design)[1] python client and\nlibrary. And mark all jobs non-voting to facilitate start with empty\nrepository.\n\n[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html\n\nChange-Id: I4bb76975bf054162b0cd696a9e0ca0cc1779c133\n'}]",6,487601,aeb4dece11bbf042865adc8e96f4691038c9f20c,27,5,6,12597,,,0,"Add python and client libray for Rack Scale Design

Created two new repos for RSD(Rack Scale Design)[1] python client and
library. And mark all jobs non-voting to facilitate start with empty
repository.

[1] https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design-overview.html

Change-Id: I4bb76975bf054162b0cd696a9e0ca0cc1779c133
",git fetch https://review.opendev.org/openstack/project-config refs/changes/01/487601/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/rsd.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,f8aedbc8f252edfa340df8e1470ce366bf8f0167,new-project," # TODO(lin-a-yang): To start with empty repository, mark all # python-rsdclient jobs non-voting to not block any changes. Once the # jobs all run fine, change back to voting. - name: ^gate-python-rsdclient-(pep8|python).*$ voting: false - name: openstack/python-rsdclient template: - name: merge-check check: - gate-python-rsdclient-pep8-ubuntu-xenial - gate-python-rsdclient-python27-ubuntu-xenial - gate-python-rsdclient-python35-ubuntu-xenial gate: - gate-python-rsdclient-pep8-ubuntu-xenial - gate-python-rsdclient-python27-ubuntu-xenial - gate-python-rsdclient-python35-ubuntu-xenial ",,42,0
openstack%2Fproject-config~master~I26f5d42929120409a219214c27d0a5aac5289185,openstack/project-config,master,I26f5d42929120409a219214c27d0a5aac5289185,Add Fedora 26 builds,MERGED,2017-08-02 01:00:53.000000000,2017-08-02 08:12:58.000000000,2017-08-02 08:12:58.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-08-02 01:00:53.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/382666b2cde2ad6cfced12f78c0ca55a80f01bd6', 'message': 'Add Fedora 26 builds\n\nAdd Fedora 26 builds.  I have built this with the infra elements under\nlocal testing conditions, and it seems to work.  This will replace\nFedora 25 as soon as it is shown to work.\n\nChange-Id: I26f5d42929120409a219214c27d0a5aac5289185\n'}]",0,489819,382666b2cde2ad6cfced12f78c0ca55a80f01bd6,7,3,1,7118,,,0,"Add Fedora 26 builds

Add Fedora 26 builds.  I have built this with the infra elements under
local testing conditions, and it seems to work.  This will replace
Fedora 25 as soon as it is shown to work.

Change-Id: I26f5d42929120409a219214c27d0a5aac5289185
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/489819/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,382666b2cde2ad6cfced12f78c0ca55a80f01bd6,fedora26, - name: fedora-26 image: fedora-26 ready-script: configure_mirror.sh min-ready: 1 providers: - name: rax-dfw - name: rax-ord - name: rax-iad - name: ovh-gra1 - name: ovh-bhs1 - name: internap-mtl01 - name: osic-cloud1-disk - name: infracloud-vanilla - name: infracloud-chocolate - name: citycloud-lon1 - name: citycloud-kna1 - name: citycloud-la1 - name: citycloud-sto2 - name: fedora-26 min-ram: 8192 diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa name-filter: 'Performance' config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8192 diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa name-filter: 'Performance' config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8192 diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa name-filter: 'Performance' config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8000 name-filter: 'ssd-osFoundation-3' diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8000 name-filter: 'ssd-osFoundation-3' diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8000 name-filter: 'A1.8' diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8000 name-filter: 'm2.medium.disk' diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8000 name-filter: 'nodepool' diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8000 name-filter: 'nodepool' diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8000 name-filter: '8C-8GB-100GB' diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8000 name-filter: '8C-8GB-100GB' diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8000 name-filter: '8C-8GB-100GB' diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa config-drive: true key-name: infra-root-keys - name: fedora-26 min-ram: 8000 name-filter: '8C-8GB-100GB' diskimage: fedora-26 username: jenkins private-key: /home/nodepool/.ssh/id_rsa config-drive: true key-name: infra-root-keys - name: fedora-26 elements: - fedora-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - initialize-urandom - growroot - infra-package-needs release: 26 env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache QEMU_IMG_OPTIONS: compat=0.10 DIB_GRUB_TIMEOUT: '0',,140,0
openstack%2Ffuel-astute~stable%2F8.0~Ia761dd4a8d2f3a077647dc2e5292628b793e30be,openstack/fuel-astute,stable/8.0,Ia761dd4a8d2f3a077647dc2e5292628b793e30be,Use mcollective instead of Cobbler fence_ssh to reboot nodes,MERGED,2016-01-12 10:30:11.000000000,2017-08-02 08:12:36.000000000,2016-01-12 17:52:45.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8971}, {'_account_id': 9448}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-01-12 10:30:11.000000000', 'files': ['lib/astute/image_provision.rb', 'lib/astute/provision.rb', 'spec/unit/provision_spec.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/b81577a5b7857c4be8748492bae1dec2fa89b446', 'message': 'Use mcollective instead of Cobbler fence_ssh to reboot nodes\n\nChange-Id: Ia761dd4a8d2f3a077647dc2e5292628b793e30be\nCloses-Bug: #1528574\n(cherry picked from commit 330ac35b26d01f882adf62b060888349e3200b0b)\n'}]",0,266280,b81577a5b7857c4be8748492bae1dec2fa89b446,14,6,1,8776,,,0,"Use mcollective instead of Cobbler fence_ssh to reboot nodes

Change-Id: Ia761dd4a8d2f3a077647dc2e5292628b793e30be
Closes-Bug: #1528574
(cherry picked from commit 330ac35b26d01f882adf62b060888349e3200b0b)
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/80/266280/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/astute/image_provision.rb', 'lib/astute/provision.rb', 'spec/unit/provision_spec.rb']",3,b81577a5b7857c4be8748492bae1dec2fa89b446,bug/1528574," Astute::CobblerManager.any_instance.expects(:check_reboot_nodes).never @provisioner.expects(:soft_reboot).returns() @provisioner.stubs(:soft_reboot).returns() @provisioner.stubs(:soft_reboot).returns() @provisioner.stubs(:soft_reboot).returns() @provisioner.stubs(:soft_reboot).returns() @provisioner.stubs(:control_reboot_using_ssh) result = @provisioner.provision_piece(@reporter, 'task_uuid', engine_attrs, nodes, 'native')"," Astute::CobblerManager.any_instance.stubs(:check_reboot_nodes).returns([]) Astute::Provision::Cobbler.any_instance do expects(:power_reboot).never end Astute::CobblerManager.any_instance.stubs(:check_reboot_nodes).returns([]) Astute::CobblerManager.any_instance.stubs(:check_reboot_nodes).returns([]) Astute::CobblerManager.any_instance.stubs(:check_reboot_nodes).returns([]) Astute::CobblerManager.any_instance.stubs(:reboot_nodes) result = @provisioner.provision_piece(@reporter, 'task_uuid', engine_attrs, nodes, 'image')",49,31
openstack%2Fproject-config~master~I84e5cb24b942f94549357441a0e057adbf0bf653,openstack/project-config,master,I84e5cb24b942f94549357441a0e057adbf0bf653,Removal of installguide-cookiecutter,MERGED,2017-08-02 07:32:27.000000000,2017-08-02 08:09:22.000000000,2017-08-02 08:09:22.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-08-02 07:32:27.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0a8c5acd1071ef0028bd5e1511a47748938a3195', 'message': 'Removal of installguide-cookiecutter\n\nIn the Pike document structure installguide is merged\ninto the doc folder and handled by the project\ncookiecutter [1].\nThere is no need for an installguide specific\ncookiecutter anymore.\n\n[1]: https://review.openstack.org/#/c/482504/\n\nChange-Id: I84e5cb24b942f94549357441a0e057adbf0bf653\nSigned-off-by: csatari <gergely.csatari@nokia.com>\n'}]",0,489898,0a8c5acd1071ef0028bd5e1511a47748938a3195,7,3,1,21723,,,0,"Removal of installguide-cookiecutter

In the Pike document structure installguide is merged
into the doc folder and handled by the project
cookiecutter [1].
There is no need for an installguide specific
cookiecutter anymore.

[1]: https://review.openstack.org/#/c/482504/

Change-Id: I84e5cb24b942f94549357441a0e057adbf0bf653
Signed-off-by: csatari <gergely.csatari@nokia.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/98/489898/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",3,0a8c5acd1071ef0028bd5e1511a47748938a3195,installguide-cookiecutter-removal,, - name: openstack/installguide-cookiecutter template: - name: merge-check - name: noop-jobs ,1,7
openstack%2Fopenstack-manuals~stable%2Focata~I49c5cb8bb1a9f621518e93d5ea5c4960ddeb63d5,openstack/openstack-manuals,stable/ocata,I49c5cb8bb1a9f621518e93d5ea5c4960ddeb63d5,Imported Translations from Zanata,MERGED,2017-08-02 07:14:30.000000000,2017-08-02 08:06:52.000000000,2017-08-02 08:06:52.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-08-02 07:14:30.000000000', 'files': ['doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/de/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/037ba38e59e59fb8383139e2e170ceee314ab69e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: I49c5cb8bb1a9f621518e93d5ea5c4960ddeb63d5\n'}]",0,489888,037ba38e59e59fb8383139e2e170ceee314ab69e,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: I49c5cb8bb1a9f621518e93d5ea5c4960ddeb63d5
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/88/489888/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/install-guide/source/locale/de/LC_MESSAGES/install-guide.po']",2,037ba38e59e59fb8383139e2e170ceee314ab69e,zanata/translations,"""POT-Creation-Date: 2017-07-25 17:57+0000\n""""PO-Revision-Date: 2017-08-01 10:59+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""msgid ""Add the Placement user to the service project with the admin role:"" msgstr """" ""Fügen Sie den Placement-Benutzer zum Diensteprojekt mit der Admin-Rolle "" ""hinzu:"" msgid ""Add the ``user`` role to the ``demo`` user of the ``demo`` project:"" msgstr """" ""Hinzufügen der ``user`` Rolle zum ``demo`` Benutzer im ``demo`` Projekt:"" msgid ""Change the existing line ``MEMCACHED_PARAMS=\""-l 127.0.0.1,::1\""``."" msgstr """" ""Ändern Sie die vorhandene Zeile ``MEMCACHED_PARAMS=\""-l 127.0.0.1,::1\""``."" msgid ""Create a Placement service user using your chosen ``PLACEMENT_PASS``:"" msgstr """" ""Erstellen Sie einen Benutzer für den Placement-Dienst mit dem von Ihnen "" ""verwendeten ``PLACEMENT_PASS``:"" msgid ""Create the Compute API service endpoints:"" msgstr ""Erstellen Sie die Compute-API Dienst-Endpunkte:"" msgid ""Create the Compute service credentials:"" msgstr ""Erstellen Sie die Compute-Dienst Anmeldeinformationen:"" msgid ""Create the Placement API service endpoints:"" msgstr ""Erzeugen Sie die Placement API Dienst Endpunkte:"" msgid ""Create the ``cinderv2`` and ``cinderv3`` service entities:"" msgstr ""Erstellen Sie die ``cinderv2`` und ``cinderv3`` Dienst-Entitäten:"" msgid ""Discover compute hosts:"" msgstr ""Compute-Knoten erkennen:"" msgid ""Enable the placement API Apache vhost:"" msgstr ""Aktivieren Sie den Placement API Apache vhost:"" msgid ""In the ``[placement]`` section, configure the Placement API:"" msgstr ""Konfigurieren Sie die Placement API in der ``[placement]`` Sektion:"" msgid ""Password of the Placement service user ``placement``"" msgstr ""Passwort des Placement Dienst Benutzers ``placement``"" ""Replace ``PLACEMENT_PASS`` with the password you choose for the "" ""``placement`` user in the Identity service. Comment out any other options in "" ""the ``[placement]`` section."" msgstr """" ""Ersetzen Sie ``PLACEMENT_PASS`` mit dem Passwort, dass Sie für den "" ""``placement`` Benutzer im Identitätsdienst gewählt haben. Kommentieren Sie "" ""alle andern Optionen in der ``[placement]`` Sektion."" msgid """"msgid ""Restart the httpd service:"" msgstr ""Starten Sie den httpd-Dienst neu:"" msgid ""Secret for the metadata proxy"" msgstr ""Geheimwort für den Metadaten-Proxy"" ""Source the admin credentials to enable admin-only CLI commands, then confirm "" ""there are compute hosts in the database:"" msgstr """" ""Sourcen Sie die Admin-Anmeldeinformatonen um auf den Administrator "" ""beschränkte CLI Kommandos zu verwenden, und bestätigen dann, dass Compute-"" ""Knoten in der Datenbank vorhanden sind:"" msgid """"""The paths of the client environment scripts are unrestricted. For "" ""convenience, you can place the scripts in any location, however ensure that "" ""they are accessible."" msgstr """" ""Es gibt keine Beschränkungen für die Pfade der Umgebungsskripte. Sie können "" ""die Skripte nach Belieben an jeglichem Ort ablegen, müssen aber dann dafür "" ""sorgen, dass darauf zugegriffen werden kann."" msgid """"""To ease the installation process, this guide only covers password security "" ""where applicable. You can create secure passwords manually, but the database "" ""connection string in services configuration file cannot accept special "" ""characters like \""@\"". We recommend you generate them using a tool such as "" ""`pwgen <https://sourceforge.net/projects/pwgen/>`_, or by running the "" ""following command:"" msgstr """" ""Um den Installationsprozess zu vereinfachen, werden in diesem Leitfaden nur "" ""Passwörter als Sicherheitsmaßnahme verwendet. Sichere Passwörter können "" ""manuell erstellt werden, aber das Datenbankverbindungskommando kann keine "" ""Sonderzeichen wie z.B. \""@\"" verarbeiten. Wir empfehlen, dass Passwörter mit "" ""Hilfe von Werkzeugen wie `pwgen <https://sourceforge.net/projects/pwgen/>`_ "" ""generiert werden oder mit folgendem Befehl erzeugt werden:"" msgid """"","""POT-Creation-Date: 2017-07-05 02:56+0000\n""""PO-Revision-Date: 2017-04-28 01:25+0000\n"" ""Last-Translator: Eugen Block <eblock@nde.ag>\n""#, fuzzy",884,6
openstack%2Fkolla-ansible~master~Ibd64fb19708176e32a050e88851e29ece7da826c,openstack/kolla-ansible,master,Ibd64fb19708176e32a050e88851e29ece7da826c,Add external-ceph-scripts to create configration files,ABANDONED,2017-08-02 07:45:00.000000000,2017-08-02 07:57:57.000000000,,[{'_account_id': 19316}],"[{'number': 1, 'created': '2017-08-02 07:45:00.000000000', 'files': ['doc/external-ceph-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d8fdab1169e1c7478af82247eb0e0c9215e29f9', 'message': 'Add external-ceph-scripts to create configration files\n\nChange-Id: Ibd64fb19708176e32a050e88851e29ece7da826c\n'}]",3,489908,8d8fdab1169e1c7478af82247eb0e0c9215e29f9,3,1,1,24759,,,0,"Add external-ceph-scripts to create configration files

Change-Id: Ibd64fb19708176e32a050e88851e29ece7da826c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/489908/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/external-ceph-guide.rst'],1,8d8fdab1169e1c7478af82247eb0e0c9215e29f9,external-ceph-scripts," Quick Config ------ There is a scripts ./kolla-ansible/tools/kolla-extend-ceph.sh to create these files. Put the scripts on ceph-mon-node and execute it, then copy the dir ./config to /etc/kolla/ on deploy-node.",,6,0
openstack%2Fproject-config~master~I3dfc8525127715132b9a44e610a2927ecf0852f1,openstack/project-config,master,I3dfc8525127715132b9a44e610a2927ecf0852f1,networking-midonet: Make v2 grenade job non-voting,MERGED,2017-08-02 02:05:26.000000000,2017-08-02 07:42:33.000000000,2017-08-02 07:42:33.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-02 02:05:26.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0fedb5c22c0893a987fc317535e629c579a5ff29', 'message': 'networking-midonet: Make v2 grenade job non-voting\n\nPartial-Bug: #1701200\nChange-Id: I3dfc8525127715132b9a44e610a2927ecf0852f1\n'}]",0,489827,0fedb5c22c0893a987fc317535e629c579a5ff29,7,3,1,6854,,,0,"networking-midonet: Make v2 grenade job non-voting

Partial-Bug: #1701200
Change-Id: I3dfc8525127715132b9a44e610a2927ecf0852f1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/489827/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,0fedb5c22c0893a987fc317535e629c579a5ff29,bug/1701200, - gate-grenade-dsvm-networking-midonet-v2-ubuntu-xenial-nv, - gate-grenade-dsvm-networking-midonet-v2-ubuntu-xenial-nv,1,1
openstack%2Fproject-config~master~I21811af43f9aeb7ed7af198e04d2fd86631e6993,openstack/project-config,master,I21811af43f9aeb7ed7af198e04d2fd86631e6993,Enable Django 1.10 test for Sahara UI only from Pike+,MERGED,2017-08-01 17:14:05.000000000,2017-08-02 07:39:10.000000000,2017-08-02 07:39:10.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-01 17:14:05.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4100c9a4619ccb3859ebd33cbb6490e2660a2245', 'message': 'Enable Django 1.10 test for Sahara UI only from Pike+\n\nThe requirements.txt files for Horizon and UIs in Ocata say:\nDjango<1.9,>=1.8 # BSD\n\nChange-Id: I21811af43f9aeb7ed7af198e04d2fd86631e6993\n'}]",0,489674,4100c9a4619ccb3859ebd33cbb6490e2660a2245,7,3,1,10459,,,0,"Enable Django 1.10 test for Sahara UI only from Pike+

The requirements.txt files for Horizon and UIs in Ocata say:
Django<1.9,>=1.8 # BSD

Change-Id: I21811af43f9aeb7ed7af198e04d2fd86631e6993
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/489674/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,4100c9a4619ccb3859ebd33cbb6490e2660a2245,sahara-dashboard-d110-pike," # Until Ocata, only Django 1.8.x is supported branch: ^(?!stable/(newton|ocata)).*$",,2,0
openstack%2Ftempest~master~I22ad2c3f6f37e0ca80c2a0d0943492572899929e,openstack/tempest,master,I22ad2c3f6f37e0ca80c2a0d0943492572899929e,TrivialFix: Remove the unused import code,MERGED,2017-07-31 07:35:49.000000000,2017-08-02 07:33:53.000000000,2017-07-31 10:52:50.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 12033}]","[{'number': 1, 'created': '2017-07-31 07:35:49.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/15b3842665e53994adb7683714d3815b68ae45bb', 'message': 'TrivialFix: Remove the unused import code\n\nIn the file doc/source/conf.py, some unused import code left, this change is to\nclean them up.\n\nChange-Id: I22ad2c3f6f37e0ca80c2a0d0943492572899929e\n'}]",0,489116,15b3842665e53994adb7683714d3815b68ae45bb,9,4,1,25456,,,0,"TrivialFix: Remove the unused import code

In the file doc/source/conf.py, some unused import code left, this change is to
clean them up.

Change-Id: I22ad2c3f6f37e0ca80c2a0d0943492572899929e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/16/489116/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,15b3842665e53994adb7683714d3815b68ae45bb,clean-import,,import sysimport warnings,0,2
openstack%2Foctavia~master~I8b2bf54de6f79c98822689e48f6ec0b65c6296c5,openstack/octavia,master,I8b2bf54de6f79c98822689e48f6ec0b65c6296c5,Properly handle more states from HAProxy health messages,MERGED,2017-07-27 02:42:19.000000000,2017-08-02 07:30:38.000000000,2017-08-02 07:30:38.000000000,"[{'_account_id': 3}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}]","[{'number': 1, 'created': '2017-07-27 02:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/17a17a9cc818aec8fbc24c4e42fab5de4ff36e7f', 'message': 'Properly handle DRAIN state from HAProxy health messages\n\nChange-Id: I8b2bf54de6f79c98822689e48f6ec0b65c6296c5\n'}, {'number': 2, 'created': '2017-07-27 08:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56280b950971dbb7beeba41e0ceb37ae325a801e', 'message': 'Properly handle DRAIN state from HAProxy health messages\n\nChange-Id: I8b2bf54de6f79c98822689e48f6ec0b65c6296c5\n'}, {'number': 3, 'created': '2017-07-27 09:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f14f5e249109fa54b293d9e9ee0931dc1ef64043', 'message': 'Properly handle DRAIN state from HAProxy health messages\n\nChange-Id: I8b2bf54de6f79c98822689e48f6ec0b65c6296c5\n'}, {'number': 4, 'created': '2017-07-28 01:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cdbe515367d34af3e773ab25abb1697bb488415b', 'message': 'Properly handle more states from HAProxy health messages\n\nDRAIN / MAINT are handled now, and others are marked as UNKNOWN.\n\nChange-Id: I8b2bf54de6f79c98822689e48f6ec0b65c6296c5\n'}, {'number': 5, 'created': '2017-07-29 01:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5ad33ba83f845f29f8cfeb828e6367d545b4a744', 'message': 'Properly handle more states from HAProxy health messages\n\nDRAIN / MAINT are handled now, and others are marked as UNKNOWN.\n\nChange-Id: I8b2bf54de6f79c98822689e48f6ec0b65c6296c5\n'}, {'number': 6, 'created': '2017-07-30 01:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/48ed63108526ab90866294abc90c202ed96bcc55', 'message': 'Properly handle more states from HAProxy health messages\n\nDRAIN / MAINT are handled now, and others are marked as UNKNOWN.\nAlso, transitional UP/DOWN states report correctly now.\n\nChange-Id: I8b2bf54de6f79c98822689e48f6ec0b65c6296c5\n'}, {'number': 7, 'created': '2017-08-01 23:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1db1f1d52fb8a480f433d61f887191d224588bfe', 'message': 'Properly handle more states from HAProxy health messages\n\nDRAIN / MAINT are handled now.\nAlso, transitional UP/DOWN states report correctly now.\n\nChange-Id: I8b2bf54de6f79c98822689e48f6ec0b65c6296c5\n'}, {'number': 8, 'created': '2017-08-01 23:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/04c8421428d9465b81d9b279f40e573e8a0f05dc', 'message': 'Properly handle more states from HAProxy health messages\n\nDRAIN / MAINT are handled now.\nAlso, transitional UP/DOWN states report correctly now.\n\nChange-Id: I8b2bf54de6f79c98822689e48f6ec0b65c6296c5\nCloses-Bug: #1708042\n'}, {'number': 9, 'created': '2017-08-02 00:43:49.000000000', 'files': ['octavia/db/migration/alembic_migrations/versions/4aeb9e23ad43_add_draining_operating_status.py', 'api-ref/source/v2/general.inc', 'octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/common/constants.py', 'octavia/controller/healthmanager/update_db.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py', 'releasenotes/notes/Report-more-accurate-haproxy-statuses-7e995bb4c7cc0dd6.yaml', 'octavia/tests/unit/controller/healthmanager/test_update_db.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/12135dcc922210b0ce27f28af890a7e9b1329d4b', 'message': 'Properly handle more states from HAProxy health messages\n\nDRAIN / MAINT are handled now.\nAlso, transitional UP/DOWN states report correctly now.\n\nChange-Id: I8b2bf54de6f79c98822689e48f6ec0b65c6296c5\nCloses-Bug: #1708042\n'}]",6,487671,12135dcc922210b0ce27f28af890a7e9b1329d4b,33,4,9,10273,,,0,"Properly handle more states from HAProxy health messages

DRAIN / MAINT are handled now.
Also, transitional UP/DOWN states report correctly now.

Change-Id: I8b2bf54de6f79c98822689e48f6ec0b65c6296c5
Closes-Bug: #1708042
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/487671/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/controller/healthmanager/update_db.py']",2,17a17a9cc818aec8fbc24c4e42fab5de4ff36e7f,bug/1708042, if new_op_status == constants.DRAINING: new_op_status = constants.UP elif status == constants.DRAIN: member_status = constants.DRAINING,,10,2
openstack%2Fcinder~master~I985b5e3a77de47077526858671e0f30ca7496f1e,openstack/cinder,master,I985b5e3a77de47077526858671e0f30ca7496f1e,Fix failure for failing back the primary.,MERGED,2017-07-26 10:02:08.000000000,2017-08-02 07:20:18.000000000,2017-07-31 16:22:58.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 10628}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-07-26 10:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c75b549cb0a13aacc4cbe1082f258cde77967448', 'message': 'Fix failure for failing back the primary.\n\nAfter failing over to the remote VNX, the following mirrorview command\nshould be issued against the original primary VNX instead of the remote\nVNX.\n\nChange-Id: I985b5e3a77de47077526858671e0f30ca7496f1e\nCloses-bug: #1706554\n'}, {'number': 2, 'created': '2017-07-28 02:13:30.000000000', 'files': ['cinder/volume/drivers/dell_emc/vnx/replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/69521e9fbdc28b724bbe1a3793c8a372c6263bf9', 'message': 'Fix failure for failing back the primary.\n\nAfter failing over to the remote VNX, the following mirrorview command\nshould be issued against the original primary VNX instead of the remote\nVNX.\n\nChange-Id: I985b5e3a77de47077526858671e0f30ca7496f1e\nCloses-bug: #1706554\n'}]",0,487353,69521e9fbdc28b724bbe1a3793c8a372c6263bf9,88,36,2,10628,,,0,"Fix failure for failing back the primary.

After failing over to the remote VNX, the following mirrorview command
should be issued against the original primary VNX instead of the remote
VNX.

Change-Id: I985b5e3a77de47077526858671e0f30ca7496f1e
Closes-bug: #1706554
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/487353/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vnx/replication.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py']",2,c75b549cb0a13aacc4cbe1082f258cde77967448,bug/1706554," def _build_client_from_config(self, config, queue_path=None): return client.Client( config.san_ip, config.san_login, config.san_password, config.storage_vnx_authentication_type, config.naviseccli_path, config.storage_vnx_security_file_dir, queue_path) self.client = self._build_client_from_config( self.config, self.queue_path)"," self.client = client.Client( self.config.san_ip, self.config.san_login, self.config.san_password, self.config.storage_vnx_authentication_type, self.config.naviseccli_path, self.config.storage_vnx_security_file_dir, self.queue_path)",17,10
openstack%2Fkolla-ansible~master~Idab2ab98dea4940ba9404b219dbed935db0d51ed,openstack/kolla-ansible,master,Idab2ab98dea4940ba9404b219dbed935db0d51ed,Add default volume_backend_name for rbd driver in cinder volume,MERGED,2017-07-21 08:26:55.000000000,2017-08-02 07:15:38.000000000,2017-08-02 07:15:38.000000000,"[{'_account_id': 3}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 24759}]","[{'number': 1, 'created': '2017-07-21 08:26:55.000000000', 'files': ['ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2352f99863ef1e35e47a354ac359bb873fb83c22', 'message': 'Add default volume_backend_name for rbd driver in cinder volume\n\nvolume_backend_name is required when using volume type.\n\nChange-Id: Idab2ab98dea4940ba9404b219dbed935db0d51ed\nCloses-Bug: #1705657\n'}]",0,486043,2352f99863ef1e35e47a354ac359bb873fb83c22,8,4,1,7488,,,0,"Add default volume_backend_name for rbd driver in cinder volume

volume_backend_name is required when using volume type.

Change-Id: Idab2ab98dea4940ba9404b219dbed935db0d51ed
Closes-Bug: #1705657
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/486043/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/templates/cinder.conf.j2'],1,2352f99863ef1e35e47a354ac359bb873fb83c22,bug/1705657,volume_backend_name = rbd-1,,1,0
openstack%2Fcinder~master~I2faba6db9ce9e77a9b6d392bdd5006af4bccef47,openstack/cinder,master,I2faba6db9ce9e77a9b6d392bdd5006af4bccef47,Updated from global requirements,MERGED,2017-07-27 19:08:18.000000000,2017-08-02 07:15:34.000000000,2017-07-28 04:19:44.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-07-27 19:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4671cb8c4cc173fc5b92f2dc3b09424d9d24254d', 'message': 'Updated from global requirements\n\nChange-Id: I2faba6db9ce9e77a9b6d392bdd5006af4bccef47\n'}, {'number': 2, 'created': '2017-07-27 19:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87f42b80cab85f02ddf82c9a9f48186b63e722ac', 'message': 'Updated from global requirements\n\nChange-Id: I2faba6db9ce9e77a9b6d392bdd5006af4bccef47\n'}, {'number': 3, 'created': '2017-07-27 20:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cdb214a295dd67984e8a94342f97a3eca7738436', 'message': 'Updated from global requirements\n\nChange-Id: I2faba6db9ce9e77a9b6d392bdd5006af4bccef47\n'}, {'number': 4, 'created': '2017-07-27 20:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81f3d55b368a52e4cd7219d1f853ebc60ccaf598', 'message': 'Updated from global requirements\n\nChange-Id: I2faba6db9ce9e77a9b6d392bdd5006af4bccef47\n'}, {'number': 5, 'created': '2017-07-27 21:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93c997c8b94dd61c40b4c7e8f56aee99e175814e', 'message': 'Updated from global requirements\n\nChange-Id: I2faba6db9ce9e77a9b6d392bdd5006af4bccef47\n'}, {'number': 6, 'created': '2017-07-27 23:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4662f1bd1dc622f5806e0ffdc5e9ae38cbaee215', 'message': 'Updated from global requirements\n\nChange-Id: I2faba6db9ce9e77a9b6d392bdd5006af4bccef47\n'}, {'number': 7, 'created': '2017-07-28 00:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f401fb23e56b1d08db41d396e3f925d94f93b776', 'message': 'Updated from global requirements\n\nChange-Id: I2faba6db9ce9e77a9b6d392bdd5006af4bccef47\n'}, {'number': 8, 'created': '2017-07-28 01:10:24.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2712abc0d3ce37101982cb3b1c5030dd7246809', 'message': 'Updated from global requirements\n\nChange-Id: I2faba6db9ce9e77a9b6d392bdd5006af4bccef47\n'}]",0,487985,a2712abc0d3ce37101982cb3b1c5030dd7246809,58,25,8,11131,,,0,"Updated from global requirements

Change-Id: I2faba6db9ce9e77a9b6d392bdd5006af4bccef47
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/487985/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4671cb8c4cc173fc5b92f2dc3b09424d9d24254d,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Fsahara-dashboard~master~I4b4fc2d12465fcda5e0feddcf4aab6b11bd9be10,openstack/sahara-dashboard,master,I4b4fc2d12465fcda5e0feddcf4aab6b11bd9be10,Fix can't open the NGT creating form,MERGED,2017-08-01 12:02:14.000000000,2017-08-02 07:09:26.000000000,2017-08-01 13:08:40.000000000,"[{'_account_id': 3}, {'_account_id': 10459}, {'_account_id': 22689}, {'_account_id': 23078}]","[{'number': 1, 'created': '2017-08-01 12:02:14.000000000', 'files': ['sahara_dashboard/content/data_processing/clusters/nodegroup_templates/workflows/create.py'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/309e1662fa15d34fd2d88a283f64e6ca0491b746', 'message': 'Fix can\'t open the NGT creating form\n\nHorizon team has overloaded a method ""build_attrs"" in [1]\nto use ""var-keyword parameter"".\nSahara dashboard will face an error when click button to create\nnode group template. Error message is:\n  ""TypeError: build_attrs() got an unexpected keyword argument \'name\'""\n\n[1]: https://review.openstack.org/#/c/484277/\n\nChange-Id: I4b4fc2d12465fcda5e0feddcf4aab6b11bd9be10\n'}]",0,489576,309e1662fa15d34fd2d88a283f64e6ca0491b746,11,4,1,22689,,,0,"Fix can't open the NGT creating form

Horizon team has overloaded a method ""build_attrs"" in [1]
to use ""var-keyword parameter"".
Sahara dashboard will face an error when click button to create
node group template. Error message is:
  ""TypeError: build_attrs() got an unexpected keyword argument 'name'""

[1]: https://review.openstack.org/#/c/484277/

Change-Id: I4b4fc2d12465fcda5e0feddcf4aab6b11bd9be10
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/76/489576/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_dashboard/content/data_processing/clusters/nodegroup_templates/workflows/create.py'],1,309e1662fa15d34fd2d88a283f64e6ca0491b746,," final_attrs = self.build_attrs(attrs, {'name': name})"," final_attrs = self.build_attrs(attrs, name=name)",1,1
openstack%2Fwatcher~master~I0af59f2164922c56d59fbad8018e2aecfef97098,openstack/watcher,master,I0af59f2164922c56d59fbad8018e2aecfef97098,Update State diagram of Action Plan,MERGED,2017-07-31 09:47:35.000000000,2017-08-02 07:08:52.000000000,2017-08-02 07:08:52.000000000,"[{'_account_id': 3}, {'_account_id': 12394}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22775}, {'_account_id': 24872}]","[{'number': 1, 'created': '2017-07-31 09:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/fe179a5f868472606d92c1656e522f9ca17031c9', 'message': 'Update State diagram of Action Plan\n\nThis patch updates the state machine diagram for action plan, It\nincludes new state ""cancelling"" which is introduced by actionplan\ncancel operation\n\nChange-Id: I0af59f2164922c56d59fbad8018e2aecfef97098\n'}, {'number': 2, 'created': '2017-08-01 04:49:34.000000000', 'files': ['doc/source/images/action_plan_state_machine.png', 'doc/source/image_src/plantuml/action_plan_state_machine.txt'], 'web_link': 'https://opendev.org/openstack/watcher/commit/3043e570669125408577fff4a740b59f9ebc0046', 'message': 'Update State diagram of Action Plan\n\nThis patch updates the state machine diagram for action plan, It\nincludes new state ""cancelling"" which is introduced by actionplan\ncancel operation\n\nChange-Id: I0af59f2164922c56d59fbad8018e2aecfef97098\n'}]",2,489156,3043e570669125408577fff4a740b59f9ebc0046,12,9,2,19457,,,0,"Update State diagram of Action Plan

This patch updates the state machine diagram for action plan, It
includes new state ""cancelling"" which is introduced by actionplan
cancel operation

Change-Id: I0af59f2164922c56d59fbad8018e2aecfef97098
",git fetch https://review.opendev.org/openstack/watcher refs/changes/56/489156/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/images/action_plan_state_machine.png', 'doc/source/image_src/plantuml/action_plan_state_machine.txt']",2,fe179a5f868472606d92c1656e522f9ca17031c9,,ONGOING --> CANCELLING : Administrator cancels\nAction Plan CANCELLING --> CANCELLED : The Watcher Applier cancelled\nthe Action Plan successfully,ONGOING --> CANCELLED : Administrator cancels\nAction Plan,2,1
openstack%2Frequirements~master~I59b1afadcdc3416de0e095bbf6fe73a52cfbf3bd,openstack/requirements,master,I59b1afadcdc3416de0e095bbf6fe73a52cfbf3bd,update constraint for oslo.policy to new release 1.25.1,MERGED,2017-08-02 00:24:26.000000000,2017-08-02 07:04:34.000000000,2017-08-02 07:04:34.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 12898}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-08-02 00:24:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b099aa58ef4f009efd32a2e88c357d264ff2b8cd', 'message': 'update constraint for oslo.policy to new release 1.25.1\n\nChange-Id: I59b1afadcdc3416de0e095bbf6fe73a52cfbf3bd\nmeta:version: 1.25.1\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Commit: Lance Bragstad <lbragstad@gmail.com>\nmeta:release:Change-Id: I4d0fb93ff9727f88223cff5f13261f29452a8911\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Davanum Srinivas (dims) <davanum@gmail.com>\nmeta:release:Workflow+1: Davanum Srinivas (dims) <davanum@gmail.com>\n'}]",0,489814,b099aa58ef4f009efd32a2e88c357d264ff2b8cd,10,4,1,11131,,,0,"update constraint for oslo.policy to new release 1.25.1

Change-Id: I59b1afadcdc3416de0e095bbf6fe73a52cfbf3bd
meta:version: 1.25.1
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lance Bragstad <lbragstad@gmail.com>
meta:release:Commit: Lance Bragstad <lbragstad@gmail.com>
meta:release:Change-Id: I4d0fb93ff9727f88223cff5f13261f29452a8911
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Davanum Srinivas (dims) <davanum@gmail.com>
meta:release:Workflow+1: Davanum Srinivas (dims) <davanum@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/489814/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b099aa58ef4f009efd32a2e88c357d264ff2b8cd,new-release,oslo.policy===1.25.1,oslo.policy===1.25.0,1,1
openstack%2Ftrove~master~Ib556b954a1f537524ec1ac82fce83433fe71d182,openstack/trove,master,Ib556b954a1f537524ec1ac82fce83433fe71d182,Update the documention for doc migration,ABANDONED,2017-08-02 03:14:48.000000000,2017-08-02 07:01:58.000000000,,"[{'_account_id': 3}, {'_account_id': 19930}]","[{'number': 1, 'created': '2017-08-02 03:14:48.000000000', 'files': ['doc/source/install/verify.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/28fa8fc924a25176135b9000abe959f1f4f141bb', 'message': 'Update the documention for doc migration\n\nChange-Id: Ib556b954a1f537524ec1ac82fce83433fe71d182\n'}]",0,489838,28fa8fc924a25176135b9000abe959f1f4f141bb,4,2,1,25073,,,0,"Update the documention for doc migration

Change-Id: Ib556b954a1f537524ec1ac82fce83433fe71d182
",git fetch https://review.opendev.org/openstack/trove refs/changes/38/489838/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/verify.rst'],1,28fa8fc924a25176135b9000abe959f1f4f141bb,, * `Create a trove image <https://docs.openstack.org/trove/latest/admin/building_guest_images.html>`_. <https://docs.openstack.org/trove/latest/admin/guest_cloud_init.html>`_ ., * `Create a trove image <http://docs.openstack.org/developer/trove/dev/building_guest_images.html>`_. <http://docs.openstack.org/developer/trove/dev/guest_cloud_init.html>`_ .,2,2
openstack%2Frequirements~stable%2Focata~I2816a4674a977a93fbd8d961aa0335d458f3350c,openstack/requirements,stable/ocata,I2816a4674a977a93fbd8d961aa0335d458f3350c,Fix sphinx version,ABANDONED,2017-08-02 05:13:30.000000000,2017-08-02 07:00:43.000000000,,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 12404}, {'_account_id': 12898}]","[{'number': 1, 'created': '2017-08-02 05:13:30.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7fee66ba868a8c4404bd48096f9fc58521352d7e', 'message': ""Fix sphinx version\n\nFound error 'Sphinx' object has no attribute 'add_html_theme' when\nbuilding doc from openstackdocstheme. This patch propose to update\nthe sphinx package to newer version so it will compatable with\nopenstackdocstheme in ocata.\n\nChange-Id: I2816a4674a977a93fbd8d961aa0335d458f3350c\n""}]",0,489853,7fee66ba868a8c4404bd48096f9fc58521352d7e,6,4,1,12404,,,0,"Fix sphinx version

Found error 'Sphinx' object has no attribute 'add_html_theme' when
building doc from openstackdocstheme. This patch propose to update
the sphinx package to newer version so it will compatable with
openstackdocstheme in ocata.

Change-Id: I2816a4674a977a93fbd8d961aa0335d458f3350c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/489853/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,7fee66ba868a8c4404bd48096f9fc58521352d7e,fix-doc-build,Sphinx===1.6.3,Sphinx===1.3.6,2,2
openstack%2Fbarbican~master~I84a2d1a4702c9e071871b0e9145de3f419794266,openstack/barbican,master,I84a2d1a4702c9e071871b0e9145de3f419794266,Update the documention for doc migration,ABANDONED,2017-08-02 02:19:23.000000000,2017-08-02 06:59:56.000000000,,"[{'_account_id': 3}, {'_account_id': 19930}]","[{'number': 1, 'created': '2017-08-02 02:19:23.000000000', 'files': ['barbican/queue/retry_scheduler.py', 'api-guide/source/acls.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/687e0440828a79817097a8267b1605aa9b196767', 'message': 'Update the documention for doc migration\n\nChange-Id: I84a2d1a4702c9e071871b0e9145de3f419794266\n'}]",0,489828,687e0440828a79817097a8267b1605aa9b196767,4,2,1,25073,,,0,"Update the documention for doc migration

Change-Id: I84a2d1a4702c9e071871b0e9145de3f419794266
",git fetch https://review.opendev.org/openstack/barbican refs/changes/28/489828/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/queue/retry_scheduler.py', 'api-guide/source/acls.rst']",2,687e0440828a79817097a8267b1605aa9b196767,doc-migration,"`development guide <https://docs.openstack.org/barbican/latest/configuration/index.html>`__`Set Secret ACL <https://docs.openstack.org/barbican/latest/api/reference/acls.html#put-v1-secrets-uuid-acl>`__ or `Set Container ACL <https://docs.openstack.org/barbican/latest/api/reference/acls.html#put-v1-containers-uuid-acl>`__the `Update Secret ACL <https://docs.openstack.org/barbican/latest/api/reference/acls.html#put-secret-acl>`__ , `Update Container ACL <https://docs.openstack.org/barbican/latest/api/reference/acls.html#put-container-acl>`__ , `Partial Update Secret ACL <https://docs.openstack.org/barbican/latest/api/reference/acls.html#patch-secret-acl>`__ or `Partial Update Container ACL <https://docs.openstack.org/barbican/latest/api/reference/acls.html#patch-container-acl>`__`Default ACL <https://developer.openstack.org/api-guide/key-manager/acls.html#default-acl>`__`Delete Secret ACL <https://docs.openstack.org/barbican/latest/api/reference/acls.html#delete-secret-acl>`__ , `Delete Container ACL <https://docs.openstack.org/barbican/latest/api/reference/acls.html#delete-container-acl>`__","`development guide <http://docs.openstack.org/developer/barbican/setup/dev.html>`__`Set Secret ACL <http://docs.openstack.org/developer/barbican/api/reference/acls.html#put-v1-secrets-uuid-acl>`__ or `Set Container ACL <http://docs.openstack.org/developer/barbican/api/reference/acls.html#put-v1-containers-uuid-acl>`__the `Update Secret ACL <http://docs.openstack.org/developer/barbican/api/reference/acls.html#put-secret-acl>`__ , `Update Container ACL <http://docs.openstack.org/developer/barbican/api/reference/acls.html#put-container-acl>`__ , `Partial Update Secret ACL <http://docs.openstack.org/developer/barbican/api/reference/acls.html#patch-secret-acl>`__ or `Partial Update Container ACL <http://docs.openstack.org/developer/barbican/api/reference/acls.html#patch-container-acl>`__`Default ACL <http://docs.openstack.org/developer/barbican/api/userguide/acls.html#default-implicit-acl>`__`Delete Secret ACL <http://docs.openstack.org/developer/barbican/api/reference/acls.html#delete-secret-acl>`__ , `Delete Container ACL <http://docs.openstack.org/developer/barbican/api/reference/acls.html#delete-container-acl>`__",11,11
openstack%2Fneutron~master~Ia7e6cd717758a9d5b18fe9cb07c55938f52040ce,openstack/neutron,master,Ia7e6cd717758a9d5b18fe9cb07c55938f52040ce,Catch exceptions for all rpc casts,MERGED,2017-07-24 16:27:12.000000000,2017-08-02 06:43:02.000000000,2017-08-02 06:43:02.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-07-24 16:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6685b4cd3fc4b63b90bf42933f5d2765d938e91c', 'message': 'Catch exceptions for all rpc casts\n\nI15cc2d6ae48e505c2da121880e27481dedf36d3b catches exceptions for\nspecific RPC endpoints affected by a recent change related to\npush-notifications. There may be more changes like that in the future,\nso instead of fixing them one by one, this patch consistently catches\nexceptions from all cast calls for all RPC clients.\n\nChange-Id: Ia7e6cd717758a9d5b18fe9cb07c55938f52040ce\nPartial-Bug: #1705351\n'}, {'number': 2, 'created': '2017-07-26 20:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfa3fe00e1ba51ad2f7869cc464a1d67613a27f0', 'message': 'Catch exceptions for all rpc casts\n\nI15cc2d6ae48e505c2da121880e27481dedf36d3b catches exceptions for\nspecific RPC endpoints affected by a recent change related to\npush-notifications. There may be more changes like that in the future,\nso instead of fixing them one by one, this patch consistently catches\nexceptions from all cast calls for all RPC clients.\n\nChange-Id: Ia7e6cd717758a9d5b18fe9cb07c55938f52040ce\nPartial-Bug: #1705351\n'}, {'number': 3, 'created': '2017-07-26 20:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2bd9307df81c91a12721af70f0f994d477f7e77', 'message': 'Catch exceptions for all rpc casts\n\nI15cc2d6ae48e505c2da121880e27481dedf36d3b catches exceptions for\nspecific RPC endpoints affected by a recent change related to\npush-notifications. There may be more changes like that in the future,\nso instead of fixing them one by one, this patch consistently catches\nexceptions from all cast calls for all RPC clients.\n\nChange-Id: Ia7e6cd717758a9d5b18fe9cb07c55938f52040ce\nPartial-Bug: #1705351\n'}, {'number': 4, 'created': '2017-07-27 16:05:11.000000000', 'files': ['neutron/plugins/ml2/rpc.py', 'neutron/common/rpc.py', 'neutron/tests/unit/common/test_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/85d8f6f1c8c51f32b6ec2f6fdc8cc09bbcc060eb', 'message': 'Catch exceptions for all rpc casts\n\nI15cc2d6ae48e505c2da121880e27481dedf36d3b catches exceptions for\nspecific RPC endpoints affected by a recent change related to\npush-notifications. There may be more changes like that in the future,\nso instead of fixing them one by one, this patch consistently catches\nexceptions from all cast calls for all RPC clients.\n\nChange-Id: Ia7e6cd717758a9d5b18fe9cb07c55938f52040ce\nPartial-Bug: #1705351\n'}]",9,486687,85d8f6f1c8c51f32b6ec2f6fdc8cc09bbcc060eb,51,10,4,9656,,,0,"Catch exceptions for all rpc casts

I15cc2d6ae48e505c2da121880e27481dedf36d3b catches exceptions for
specific RPC endpoints affected by a recent change related to
push-notifications. There may be more changes like that in the future,
so instead of fixing them one by one, this patch consistently catches
exceptions from all cast calls for all RPC clients.

Change-Id: Ia7e6cd717758a9d5b18fe9cb07c55938f52040ce
Partial-Bug: #1705351
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/486687/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/rpc.py', 'neutron/common/rpc.py']",2,6685b4cd3fc4b63b90bf42933f5d2765d938e91c,bug/1707160,"class NeutronRPCClient(oslo_messaging.RPCClient): def cast(self, ctxt, method, **kwargs): try: super(NeutronRPCClient, self).cast(ctxt, method, **kwargs) except Exception: # TODO(kevinbenton): make catch specific to missing exchange once # bug/1705351 is resolved on the oslo.messaging side. LOG.exception(""Ignored exception during cast"") class BackingOffClient(NeutronRPCClient):",class BackingOffClient(oslo_messaging.RPCClient):,12,19
openstack%2Frequirements~master~I70028d75130fb31c14bd73b90e5928c47b8e145f,openstack/requirements,master,I70028d75130fb31c14bd73b90e5928c47b8e145f,Remove libvirt-python from global requirements,ABANDONED,2017-08-01 06:06:55.000000000,2017-08-02 06:34:44.000000000,,"[{'_account_id': 3}, {'_account_id': 12898}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-08-01 06:06:55.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/49d66d99385695c5634cf9a73b13e11b8a48d08c', 'message': 'Remove libvirt-python from global requirements\n\nlibvirt-python version depends on libvirt, in some case, compile\nlibvirt-python failed on lower libvirt version.\n\nlibvirt-python is introduced by\nIeba2a15eaa1e1b22282179aee8f401607928b18b\nfor nova project. whereas, nova do not use it anymore.\n\nChange-Id: I70028d75130fb31c14bd73b90e5928c47b8e145f\n'}]",0,489485,49d66d99385695c5634cf9a73b13e11b8a48d08c,5,3,1,7488,,,0,"Remove libvirt-python from global requirements

libvirt-python version depends on libvirt, in some case, compile
libvirt-python failed on lower libvirt version.

libvirt-python is introduced by
Ieba2a15eaa1e1b22282179aee8f401607928b18b
for nova project. whereas, nova do not use it anymore.

Change-Id: I70028d75130fb31c14bd73b90e5928c47b8e145f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/489485/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,49d66d99385695c5634cf9a73b13e11b8a48d08c,,,libvirt-python===3.5.0,0,2
openstack%2Fheat~master~I312c45314f4e6e86a7f7b74f747eb0bed6d60759,openstack/heat,master,I312c45314f4e6e86a7f7b74f747eb0bed6d60759,Remove install-guide env which is no longer effective,MERGED,2017-07-31 09:02:30.000000000,2017-08-02 06:29:49.000000000,2017-08-02 06:29:49.000000000,"[{'_account_id': 3}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-07-31 09:02:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/bcc6000093f6710919843c617cd7211365ea16cf', 'message': 'Remove install-guide env which is no longer effective\n\nThe install-guide directory was moved to doc/source directory when\nmigrating docs.\n\nChange-Id: I312c45314f4e6e86a7f7b74f747eb0bed6d60759\n'}]",0,489141,bcc6000093f6710919843c617cd7211365ea16cf,8,4,1,22056,,,0,"Remove install-guide env which is no longer effective

The install-guide directory was moved to doc/source directory when
migrating docs.

Change-Id: I312c45314f4e6e86a7f7b74f747eb0bed6d60759
",git fetch https://review.opendev.org/openstack/heat refs/changes/41/489141/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bcc6000093f6710919843c617cd7211365ea16cf,tox,, [testenv:install-guide] commands = sphinx-build -a -E -W -d install-guide/build/doctrees -b html install-guide/source install-guide/build/html,0,3
openstack%2Fcinder~master~Ib00fcc61658f6b1e59df66d387f3101ea198d2e7,openstack/cinder,master,Ib00fcc61658f6b1e59df66d387f3101ea198d2e7,"Revert ""Handle concurrent volume creation request""",MERGED,2017-07-27 19:26:31.000000000,2017-08-02 06:29:35.000000000,2017-07-28 19:35:01.000000000,"[{'_account_id': 3}, {'_account_id': 7173}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-07-27 19:26:31.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b2a9407f7c1b4688b9f696ea94677516bca5eba', 'message': 'Revert ""Handle concurrent volume creation request""\n\nThis change converted a lock which locked on a\nper-image basis to lock on a per-image+volume basis.\n\nThis defeats the point of having this lock, which was\nto not perform the same image download operation more than\nonce, consuming unneeded network and storage resources.\n\nThis is not an especially strenuous or odd locking\npattern.  If this causes tooz+etcd to fail, there is\nlikely a bug in tooz or etcd.  There are many places in\nCinder that use locks like this one.\n\nRelated-Bug: #1705442\n\nThis reverts commit 35ae6fb90380a8e9db936827a4414cb249ef399b.\n\nChange-Id: Ib00fcc61658f6b1e59df66d387f3101ea198d2e7\n'}]",0,488158,9b2a9407f7c1b4688b9f696ea94677516bca5eba,79,18,1,4523,,,0,"Revert ""Handle concurrent volume creation request""

This change converted a lock which locked on a
per-image basis to lock on a per-image+volume basis.

This defeats the point of having this lock, which was
to not perform the same image download operation more than
once, consuming unneeded network and storage resources.

This is not an especially strenuous or odd locking
pattern.  If this causes tooz+etcd to fail, there is
likely a bug in tooz or etcd.  There are many places in
Cinder that use locks like this one.

Related-Bug: #1705442

This reverts commit 35ae6fb90380a8e9db936827a4414cb249ef399b.

Change-Id: Ib00fcc61658f6b1e59df66d387f3101ea198d2e7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/488158/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/flows/manager/create_volume.py'],1,9b2a9407f7c1b4688b9f696ea94677516bca5eba,bug/1705442, @coordination.synchronized('{image_id}'), @coordination.synchronized('{image_id}-{volume.id}'),1,1
openstack%2Fzun~master~I8759c45958e5b1cfb96aca2de4e3dacac5ad7b81,openstack/zun,master,I8759c45958e5b1cfb96aca2de4e3dacac5ad7b81,Image pull policy support for zun pull,MERGED,2017-07-31 05:50:14.000000000,2017-08-02 06:25:26.000000000,2017-08-02 06:25:26.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 22076}]","[{'number': 1, 'created': '2017-07-31 05:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/42e4c15fe67bf56a8b2a0987e9a9ea8fd234aa09', 'message': 'Image pull policy support for zun pull\nCloses Bug: #1647434\n\nChange-Id: I8759c45958e5b1cfb96aca2de4e3dacac5ad7b81\n'}, {'number': 2, 'created': '2017-07-31 05:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4e3c576fe74e1fc96d93c1af463d7b6d0cdfb2fd', 'message': 'Image pull policy support for zun pull\n\nCloses Bug: #1647434\nDepends on: I7a1be4066746db4f1c644117732189881e93ec84\nChange-Id: I8759c45958e5b1cfb96aca2de4e3dacac5ad7b81\n'}, {'number': 3, 'created': '2017-08-01 14:48:15.000000000', 'files': ['zun/api/controllers/v1/schemas/images.py', 'zun/api/controllers/v1/views/images_view.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/b00129644e78df4f7080b5e7b37a6303ccc5b7d2', 'message': 'Image pull policy support for zun pull\n\nCloses Bug: #1647434\nChange-Id: I8759c45958e5b1cfb96aca2de4e3dacac5ad7b81\n'}]",1,489093,b00129644e78df4f7080b5e7b37a6303ccc5b7d2,12,3,3,21785,,,0,"Image pull policy support for zun pull

Closes Bug: #1647434
Change-Id: I8759c45958e5b1cfb96aca2de4e3dacac5ad7b81
",git fetch https://review.opendev.org/openstack/zun refs/changes/93/489093/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/api/controllers/v1/schemas/images.py', 'zun/api/controllers/v1/views/images_view.py']",2,42e4c15fe67bf56a8b2a0987e9a9ea8fd234aa09,bug/1647434," 'size', 'image_pull_policy'", 'size',4,2
openstack%2Fzaqar~master~Ia79af5bdc77c155278384f7e091c9a4b3880efdc,openstack/zaqar,master,Ia79af5bdc77c155278384f7e091c9a4b3880efdc,Fixes all current typo errors from Zaqar project.,ABANDONED,2017-01-20 09:59:40.000000000,2017-08-02 06:19:01.000000000,,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 15054}]","[{'number': 1, 'created': '2017-01-20 09:59:40.000000000', 'files': ['zaqar/storage/mongodb/subscriptions.py', 'zaqar/transport/websocket/protocol.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/b322d8530eca62f64848b2d6647ca11134ea27ba', 'message': 'Fixes all current typo errors from Zaqar project.\n\nChange-Id: Ia79af5bdc77c155278384f7e091c9a4b3880efdc\n'}]",2,423156,b322d8530eca62f64848b2d6647ca11134ea27ba,5,3,1,24456,,,0,"Fixes all current typo errors from Zaqar project.

Change-Id: Ia79af5bdc77c155278384f7e091c9a4b3880efdc
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/56/423156/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/storage/mongodb/subscriptions.py', 'zaqar/transport/websocket/protocol.py']",2,b322d8530eca62f64848b2d6647ca11134ea27ba,typo-bug-zaqar-20172001, # NOTE(wangxiyuan): _auth_app should be cleaned up after the, # NOTE(wangxiyuan): _auth_app should be cleaned up the after the,2,2
openstack%2Frally~master~I814fa7aa185d16a6f61baf6ba94cd5e63b00cdfb,openstack/rally,master,I814fa7aa185d16a6f61baf6ba94cd5e63b00cdfb,Remove isfile checks on task and task args files,MERGED,2017-08-01 20:23:33.000000000,2017-08-02 06:12:09.000000000,2017-08-02 06:12:09.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 14817}, {'_account_id': 21528}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-08-01 20:23:33.000000000', 'files': ['rally/cli/commands/task.py', 'tests/unit/cli/commands/test_task.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/3b1e2355e43c867cd409cf50b5d831b221a6d9ae', 'message': ""Remove isfile checks on task and task args files\n\nThe checks make it impossible to use output redirection (E.g., 'rally\ntask start --task <(cat *.yaml)') The whole check is unnecessary,\nsince open(task_file) returns perfectly useful error messages itself,\nand works in all the cases we care about -- we don't actually care if\nsomething is a file, only if we can read it.\n\nThis also catches errors in case the task or task args files are\nunreadable (but are files), which previously would have raised IOError\nto the user.\n\nThis is a forward-port of ff9c0c1, and fixes the same problem again.\n\nChange-Id: I814fa7aa185d16a6f61baf6ba94cd5e63b00cdfb\n""}]",0,489730,3b1e2355e43c867cd409cf50b5d831b221a6d9ae,9,5,1,11748,,,0,"Remove isfile checks on task and task args files

The checks make it impossible to use output redirection (E.g., 'rally
task start --task <(cat *.yaml)') The whole check is unnecessary,
since open(task_file) returns perfectly useful error messages itself,
and works in all the cases we care about -- we don't actually care if
something is a file, only if we can read it.

This also catches errors in case the task or task args files are
unreadable (but are files), which previously would have raised IOError
to the user.

This is a forward-port of ff9c0c1, and fixes the same problem again.

Change-Id: I814fa7aa185d16a6f61baf6ba94cd5e63b00cdfb
",git fetch https://review.opendev.org/openstack/rally refs/changes/30/489730/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cli/commands/task.py', 'tests/unit/cli/commands/test_task.py']",2,3b1e2355e43c867cd409cf50b5d831b221a6d9ae,," def test__load_and_validate_task(self, mock_open): @mock.patch(""rally.cli.commands.task.open"", create=True) def test__load_task_wrong_task_args_file(self, mock_open): def open_return_value(filename): if filename == ""in_task"": return mock.Mock() else: raise IOError() mock_open.side_effect = open_return_value self.fake_api, task_file=""in_task"", self.assertEqual(""Invalid --task-args-file passed:\n\n\t Error "" ""reading in_args_path: "", e.format_message()) def test__load_task_wrong_input_task_args(self, mock_safe_load): def test__load_task_task_render_raise_exc(self, mock_open): def test__load_task_task_not_in_yaml(self, mock_open, mock_yaml): def test_load_task_including_other_template(self): @mock.patch(""rally.cli.commands.task.open"", create=True) def test__load_and_validate_file_failed(self, mock_open): mock_open.side_effect = IOError self.assertEqual( ""Invalid --task passed:\n\n\t Error reading some_task: "", e.format_message())"," @mock.patch(""rally.cli.commands.task.os.path.isfile"") def test__load_and_validate_task(self, mock_open, mock_isfile): @mock.patch(""rally.cli.commands.task.os.path.isfile"") def test__load_task_wrong_task_args_file(self, mock_isfile): mock_isfile.side_effect = (True, False) # use real file to avoid mocking open task_file = __file__ self.fake_api, task_file=task_file, self.assertEqual(""Invalid --task-args-file passed:\n\n\t File "" ""'in_args_path' doesn't exist."", e.format_message()) @mock.patch(""rally.cli.commands.task.os.path.isfile"") def test__load_task_wrong_input_task_args(self, mock_isfile, mock_safe_load): mock_isfile.side_effect = (True, False) mock_isfile.side_effect = (True, False) mock_isfile.side_effect = (True, False) @mock.patch(""rally.cli.commands.task.os.path.isfile"") def test__load_task_task_render_raise_exc(self, mock_open, mock_isfile): mock_isfile.side_effect = (True, False) @mock.patch(""rally.cli.commands.task.os.path.isfile"") def test__load_task_task_not_in_yaml(self, mock_open, mock_isfile, mock_yaml): mock_isfile.side_effect = (True, ) @mock.patch(""rally.cli.commands.task.os.path.isfile"", return_value=True) def test_load_task_including_other_template(self, mock_isfile): def test__load_and_validate_file_failed(self): self.assertEqual(""Invalid --task passed:\n\n\t File 'some_task' "" ""doesn't exist."", e.format_message())",43,45
openstack%2Fcharm-cinder~master~I9661ef5c086453ae29dc82ee4488fc4d8cb3fe81,openstack/charm-cinder,master,I9661ef5c086453ae29dc82ee4488fc4d8cb3fe81,Modify the spelling mistakes.,ABANDONED,2017-07-26 09:43:49.000000000,2017-08-02 05:45:59.000000000,,"[{'_account_id': 10068}, {'_account_id': 20648}, {'_account_id': 24454}]","[{'number': 1, 'created': '2017-07-26 09:43:49.000000000', 'files': ['.idea/workspace.xml', '.idea/scopes/scope_settings.xml', 'tests/charmhelpers/core/host.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/8871440a69d2ffdf343bd09df0c58b67fbe3364b', 'message': 'Modify the spelling mistakes.\n\nChange-Id: I9661ef5c086453ae29dc82ee4488fc4d8cb3fe81\n'}]",0,487341,8871440a69d2ffdf343bd09df0c58b67fbe3364b,4,3,1,26458,,,0,"Modify the spelling mistakes.

Change-Id: I9661ef5c086453ae29dc82ee4488fc4d8cb3fe81
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/41/487341/1 && git format-patch -1 --stdout FETCH_HEAD,"['.idea/workspace.xml', '.idea/scopes/scope_settings.xml', 'tests/charmhelpers/core/host.py']",3,8871440a69d2ffdf343bd09df0c58b67fbe3364b,," :param service_name: the name of the service to perform the action on :param str hash_type: Any hash algorithm supported by :mod:`hashlib`, Can be any hash algorithm supported by :mod:`hashlib`,"," :param service_name: the name of the service to perform th action on :param str hash_type: Any hash alrgorithm supported by :mod:`hashlib`, Can be any hash alrgorithm supported by :mod:`hashlib`,",401,3
openstack%2Fcinder~master~I8290734817d171f6797c88d0a0d1a21f8b5789db,openstack/cinder,master,I8290734817d171f6797c88d0a0d1a21f8b5789db,NetApp cDOT: Support generic groups for block,MERGED,2017-03-31 19:55:41.000000000,2017-08-02 05:43:47.000000000,2017-07-28 00:52:36.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16212}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19554}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-03-31 19:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc22702b97431eb8c8a7704b4b3bdec505681d98', 'message': ""NetApp cDOT: Support generic groups for block\n\nAdding support for generic volume groups to NetApp cDOT's FC, and iSCSI\ndrivers.\n\nCG methods are moved to the 7-mode block driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGenric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}, {'number': 2, 'created': '2017-04-03 18:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07166673eb4c2998f2db3b66d6b73a4c38be25a3', 'message': ""NetApp cDOT: Support generic groups for block\n\nAdding support for generic volume groups to NetApp cDOT's FC, and iSCSI\ndrivers.\n\nCG methods are moved to the 7-mode block driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGenric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}, {'number': 3, 'created': '2017-04-14 18:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2826e46295635585d551a331cecf1b9c27172e3', 'message': ""NetApp cDOT: Support generic groups for block\n\nAdding support for generic volume groups to NetApp cDOT's FC, and iSCSI\ndrivers.\n\nCG methods are moved to the 7-mode block driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGenric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}, {'number': 4, 'created': '2017-04-18 01:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/614c7da409b882ecf4aa103f62d96c2cf7112fb7', 'message': ""NetApp cDOT: Support generic groups for block\n\nAdding support for generic volume groups to NetApp cDOT's FC, and iSCSI\ndrivers.\n\nCG methods are moved to the 7-mode block driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGenric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}, {'number': 5, 'created': '2017-04-22 01:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce2ac80c68e612c58418265b723cfe8d71d14be6', 'message': ""NetApp cDOT: Support generic groups for block\n\nAdding support for generic volume groups to NetApp cDOT's FC, and iSCSI\ndrivers.\n\nCG methods are moved to the 7-mode block driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGenric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}, {'number': 6, 'created': '2017-04-26 17:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87d92f1ef889f406fec8529e6993e0cf499a7a35', 'message': ""NetApp cDOT: Support generic groups for block\n\nAdding support for generic volume groups to NetApp cDOT's FC, and iSCSI\ndrivers.\n\nCG methods are moved to the 7-mode block driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGenric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}, {'number': 7, 'created': '2017-07-20 15:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/044d421743edfe893d91ab90565a2bda180a18d6', 'message': ""NetApp cDOT: Support generic groups for block\n\nAdding support for generic volume groups to NetApp cDOT's FC, and iSCSI\ndrivers.\n\nCG methods are moved to the 7-mode block driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGenric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}, {'number': 8, 'created': '2017-07-20 21:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0aa3c465f32cd1caddb9d466d06070a5f9637a1', 'message': ""NetApp cDOT: Support generic groups for block\n\nAdding support for generic volume groups to NetApp cDOT's FC, and iSCSI\ndrivers.\n\nCG methods are moved to the 7-mode block driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGeneric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}, {'number': 9, 'created': '2017-07-27 17:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41f148a3808ef6f2fad2c53ebde1ea4f286cf89b', 'message': ""NetApp cDOT: Support generic groups for block\n\nAdding support for generic volume groups to NetApp cDOT's FC, and iSCSI\ndrivers.\n\nCG methods are moved to the 7-mode block driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGeneric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}, {'number': 10, 'created': '2017-07-27 19:22:33.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/netapp/dataontap/fc_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_driver_interfaces.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/iscsi_cmode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/68139326f69b696df5ca5d113fe57c543b254f33', 'message': ""NetApp cDOT: Support generic groups for block\n\nAdding support for generic volume groups to NetApp cDOT's FC, and iSCSI\ndrivers.\n\nCG methods are moved to the 7-mode block driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGeneric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}]",71,452306,68139326f69b696df5ca5d113fe57c543b254f33,319,55,10,16212,,,0,"NetApp cDOT: Support generic groups for block

Adding support for generic volume groups to NetApp cDOT's FC, and iSCSI
drivers.

CG methods are moved to the 7-mode block driver. Announcement was made
in a previous release for the removal of the NetApp 7-mode drivers.
Generic groups will only be implemented for the NetApp cDOT drivers.

Change-Id: I8290734817d171f6797c88d0a0d1a21f8b5789db
Implements: blueprint netapp-add-generic-group-support-cdot
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/452306/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/netapp/dataontap/fc_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_driver_interfaces.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/iscsi_cmode.py']",10,fc22702b97431eb8c8a7704b4b3bdec505681d98,bp/netapp-add-generic-group-support-cdot," def create_group(self, context, group): return self.library.create_group(group) def delete_group(self, context, group, volumes): return self.library.delete_group(group, volumes) def update_group(self, context, group, add_volumes=None, remove_volumes=None): return self.library.update_group(group, add_volumes=None, remove_volumes=None) def create_group_snapshot(self, context, group_snapshot, snapshots): return self.library.create_group_snapshot(group_snapshot, snapshots) def delete_group_snapshot(self, context, group_snapshot, snapshots): return self.library.delete_group_snapshot(group_snapshot, snapshots) def create_group_from_src(self, context, group, volumes, group_snapshot=None, snapshots=None, source_group=None, source_vols=None): return self.library.create_group_from_src( group, volumes, group_snapshot=group_snapshot, snapshots=snapshots, source_group=source_group, source_vols=source_vols)"," def create_consistencygroup(self, context, group): return self.library.create_consistencygroup(group) def delete_consistencygroup(self, context, group, volumes): return self.library.delete_consistencygroup(group, volumes) def update_consistencygroup(self, context, group, add_volumes=None, remove_volumes=None): return self.library.update_consistencygroup(group, add_volumes=None, remove_volumes=None) def create_cgsnapshot(self, context, cgsnapshot, snapshots): return self.library.create_cgsnapshot(cgsnapshot, snapshots) def delete_cgsnapshot(self, context, cgsnapshot, snapshots): return self.library.delete_cgsnapshot(cgsnapshot, snapshots) def create_consistencygroup_from_src(self, context, group, volumes, cgsnapshot=None, snapshots=None, source_cg=None, source_vols=None): return self.library.create_consistencygroup_from_src( group, volumes, cgsnapshot=cgsnapshot, snapshots=snapshots, source_cg=source_cg, source_vols=source_vols)",653,364
openstack%2Ftripleo-heat-templates~master~I12605dba61fd5f6ce80c3ab78e883ed5ebf3ca62,openstack/tripleo-heat-templates,master,I12605dba61fd5f6ce80c3ab78e883ed5ebf3ca62,Fix iscsid role data's section,MERGED,2017-07-27 16:56:34.000000000,2017-08-02 05:11:22.000000000,2017-08-02 05:11:22.000000000,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-07-27 16:56:34.000000000', 'files': ['puppet/services/iscsid.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74072672d68c1dd669db82f97b9e10287245c7c2', 'message': ""Fix iscsid role data's section\n\nThe iscsid service definition has a typo, config_setting should\nread config_settings\n\nChange-Id: I12605dba61fd5f6ce80c3ab78e883ed5ebf3ca62\n""}]",0,487944,74072672d68c1dd669db82f97b9e10287245c7c2,13,3,1,20778,,,0,"Fix iscsid role data's section

The iscsid service definition has a typo, config_setting should
read config_settings

Change-Id: I12605dba61fd5f6ce80c3ab78e883ed5ebf3ca62
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/487944/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/iscsid.yaml'],1,74072672d68c1dd669db82f97b9e10287245c7c2,scsid-config-settings, config_settings: {}, config_setting: {},1,1
openstack%2Fproject-config~master~I8c6ea6288c4beeb1169614c919694c9d4121db35,openstack/project-config,master,I8c6ea6288c4beeb1169614c919694c9d4121db35,Disable swift for Vitrage,MERGED,2017-07-31 07:34:59.000000000,2017-08-02 04:59:59.000000000,2017-08-02 04:59:59.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-07-31 07:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/163f6c1e759a7a92661e4fc5ad9838a2718cea44', 'message': ""Disable swift, as it doesn't run in python 3.5 devstack, and it is not used by Vitrage tempests anyway\n\nChange-Id: I8c6ea6288c4beeb1169614c919694c9d4121db35\n""}, {'number': 2, 'created': '2017-08-02 04:40:43.000000000', 'files': ['jenkins/jobs/vitrage.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2538d4d513d43a7147862fb2086603cc2782254b', 'message': ""Disable swift for Vitrage\n\nSwift doesn't run in python 3.5 devstack, and it is not used by\nVitrage tempests anyway\n\nChange-Id: I8c6ea6288c4beeb1169614c919694c9d4121db35\n""}]",0,489115,2538d4d513d43a7147862fb2086603cc2782254b,9,3,2,19159,,,0,"Disable swift for Vitrage

Swift doesn't run in python 3.5 devstack, and it is not used by
Vitrage tempests anyway

Change-Id: I8c6ea6288c4beeb1169614c919694c9d4121db35
",git fetch https://review.opendev.org/openstack/project-config refs/changes/15/489115/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/vitrage.yaml'],1,163f6c1e759a7a92661e4fc5ad9838a2718cea44,py35_2, # swift is not ready for python3 yet disable_service s-account disable_service s-container disable_service s-object disable_service s-proxy ,,7,0
openstack%2Fproject-config~master~I3c05c6ff575a9f7e06394e573163fb7d2979cd9d,openstack/project-config,master,I3c05c6ff575a9f7e06394e573163fb7d2979cd9d,[Zun] Add py35 dsvm non-voting job,MERGED,2017-07-31 22:25:41.000000000,2017-08-02 04:55:13.000000000,2017-08-02 04:55:13.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-07-31 22:25:41.000000000', 'files': ['jenkins/jobs/zun.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4b3dec19333ae9b4afc71e8a145b461c0537fd91', 'message': '[Zun] Add py35 dsvm non-voting job\n\nThis is for community goal python35. Introduce a py35 dsvm job\nfor running tempest tests. The job starts as non-voting and will\nbe turned into voting later.\n\nChange-Id: I3c05c6ff575a9f7e06394e573163fb7d2979cd9d\n'}]",0,489424,4b3dec19333ae9b4afc71e8a145b461c0537fd91,10,3,1,11536,,,0,"[Zun] Add py35 dsvm non-voting job

This is for community goal python35. Introduce a py35 dsvm job
for running tempest tests. The job starts as non-voting and will
be turned into voting later.

Change-Id: I3c05c6ff575a9f7e06394e573163fb7d2979cd9d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/489424/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/zun.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",3,4b3dec19333ae9b4afc71e8a145b461c0537fd91,goal-python35, - gate-zun-devstack-dsvm-py35-docker-sql-nv,,64,0
openstack%2Fdevstack~master~Id04b66df70d87ebae2b25a0de59270b5cb0e1d45,openstack/devstack,master,Id04b66df70d87ebae2b25a0de59270b5cb0e1d45,[WIP] run libvirt under electric-fence,ABANDONED,2017-03-29 01:49:31.000000000,2017-08-02 04:53:06.000000000,,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-03-29 01:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2c224942e00c762a334aa36793b5bea0596d5a8d', 'message': ""[WIP] run libvirt under electric-fence\n\nthis may help track some seeming malloc() corruption.  let's see what\nhappens...\n\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 2, 'created': '2017-03-29 02:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e5926bb65da5e133a453372c4fe998afc4b664d1', 'message': ""[WIP] run libvirt under electric-fence\n\nthis may help track some seeming malloc() corruption.  let's see what\nhappens...\n\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 3, 'created': '2017-03-29 03:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a0a60bbe233018a57acabb429233fed31100bb7d', 'message': ""[WIP] run libvirt under electric-fence\n\nthis may help track some seeming malloc() corruption.  let's see what\nhappens...\n\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 4, 'created': '2017-03-29 03:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/13845a59e9c3b03bd50bc43a8132b6d848960e48', 'message': ""[WIP] run libvirt under electric-fence\n\nthis may help track some seeming malloc() corruption.  let's see what\nhappens...\n\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 5, 'created': '2017-03-29 03:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/00b95360b2da944eaab3758d033f7a30d006e151', 'message': ""[WIP] run libvirt under electric-fence\n\nthis may help track some seeming malloc() corruption.  let's see what\nhappens...\n\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 6, 'created': '2017-03-29 07:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f83a2ff42c31eead42adf370f9e08d96a7fb2c92', 'message': ""[WIP] run libvirt under electric-fence\n\nthis may help track some seeming malloc() corruption.  let's see what\nhappens...\n\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 7, 'created': '2017-03-29 10:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4a25a9d387fe16a38a1226f07b5134efe45693be', 'message': ""[WIP] run libvirt under electric-fence\n\nthis may help track some seeming malloc() corruption.  let's see what\nhappens...\n\nDepends-On: I381ba3b540c57b2ca5d73087473c8be4b5b32cad\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 8, 'created': '2017-03-30 06:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e4a7403d90400b823b88b701d5d180c7fe11fa69', 'message': ""[WIP] run libvirt under electric-fence\n\nThis may help track some seeming malloc() corruption. let's see what happens...\n\nDepends-On: I381ba3b540c57b2ca5d73087473c8be4b5b32cad\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 9, 'created': '2017-03-30 09:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/26bfa61e7fac11716d09dafb68462bb873b8d918', 'message': ""[WIP] run libvirt under electric-fence\n\nThis may help track some seeming malloc() corruption. let's see what happens...\n\nDepends-On: I381ba3b540c57b2ca5d73087473c8be4b5b32cad\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 10, 'created': '2017-03-30 21:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8c4b59674fd2b46f0ed747ec5e9459ab21df0a6e', 'message': ""[WIP] run libvirt under electric-fence\n\nThis may help track some seeming malloc() corruption. let's see what happens...\n\nDepends-On: I381ba3b540c57b2ca5d73087473c8be4b5b32cad\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 11, 'created': '2017-03-30 23:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f910b0eebfafff2e52f9393cbc21f845d522f201', 'message': ""[WIP] run libvirt under electric-fence\n\nThis may help track some seeming malloc() corruption. let's see what happens...\n\nDepends-On: I381ba3b540c57b2ca5d73087473c8be4b5b32cad\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}, {'number': 12, 'created': '2017-03-30 23:29:36.000000000', 'files': ['lib/nova_plugins/functions-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1367570629a6c0d85592b7088ee186d3e9b5ff1f', 'message': ""[WIP] run libvirt under electric-fence\n\nThis may help track some seeming malloc() corruption. let's see what happens...\n\nDepends-On: I381ba3b540c57b2ca5d73087473c8be4b5b32cad\nChange-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45\n""}]",0,451136,1367570629a6c0d85592b7088ee186d3e9b5ff1f,47,7,12,7118,,,0,"[WIP] run libvirt under electric-fence

This may help track some seeming malloc() corruption. let's see what happens...

Depends-On: I381ba3b540c57b2ca5d73087473c8be4b5b32cad
Change-Id: Id04b66df70d87ebae2b25a0de59270b5cb0e1d45
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/451136/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/functions-libvirt'],1,2c224942e00c762a334aa36793b5bea0596d5a8d,libvirt-coredumps," install_package electric-fence echo ""LD_PRELOAD=libefence.so.0.0"" | \ sudo tee /etc/default/libvirt-bin echo ""EF_ALLOW_MALLOC_0=1"" | \ sudo tee /etc/default/libvirt-bin ",,7,0
openstack%2Fdevstack~master~Ifaa617920fbf1335615d17501faeb7fc604f68fe,openstack/devstack,master,Ifaa617920fbf1335615d17501faeb7fc604f68fe,Detect if lib/apache imported without STACK_USER,ABANDONED,2015-10-07 06:07:41.000000000,2017-08-02 04:52:39.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-10-07 06:07:41.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4f64559b61e0356ec49eba1140abc079575699e9', 'message': ""Detect if lib/apache imported without STACK_USER\n\nAdd an explicit failure if lib/apache is imported without STACK_USER\nbeing set.  If you re-organise things, it's easy to miss and results\nin odd failures later.\n\nChange-Id: Ifaa617920fbf1335615d17501faeb7fc604f68fe\n""}]",1,231838,4f64559b61e0356ec49eba1140abc079575699e9,5,3,1,7118,,,0,"Detect if lib/apache imported without STACK_USER

Add an explicit failure if lib/apache is imported without STACK_USER
being set.  If you re-organise things, it's easy to miss and results
in odd failures later.

Change-Id: Ifaa617920fbf1335615d17501faeb7fc604f68fe
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/231838/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,4f64559b61e0356ec49eba1140abc079575699e9,bashate-e042,"if [ -z ""${STACK_USER:-}"" ]; then die $LINENO ""lib/apache: STACK_USER not defined"" fi ",,4,0
openstack%2Fproject-config~master~Id97f36ecf8e81b4732d3a42ea1966536a1772d84,openstack/project-config,master,Id97f36ecf8e81b4732d3a42ea1966536a1772d84,Specify the ZUUL_USER_SSH_PUBLIC_KEY,ABANDONED,2016-06-27 01:06:05.000000000,2017-08-02 04:50:55.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2016-06-27 01:06:05.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/21dcb33a7b95921c1ac818149bf1ce9922f81e7f', 'message': 'Specify the ZUUL_USER_SSH_PUBLIC_KEY\n\nSee the comments in the dependent change about this being the key for\na separate user.  The parent change\n(Ic9c9e415c158ad1f057b8d2aa2776dbe2bbd1e47) modifies the zuul-worker\nelement to use the key from this variable for the zuul user.\n\nChange-Id: Id97f36ecf8e81b4732d3a42ea1966536a1772d84\nDepends-On: I2a9189f18f0b09ea7b2dfa4c4bb1873a6c538e1c\n'}]",0,334264,21dcb33a7b95921c1ac818149bf1ce9922f81e7f,8,2,1,7118,,,0,"Specify the ZUUL_USER_SSH_PUBLIC_KEY

See the comments in the dependent change about this being the key for
a separate user.  The parent change
(Ic9c9e415c158ad1f057b8d2aa2776dbe2bbd1e47) modifies the zuul-worker
element to use the key from this variable for the zuul user.

Change-Id: Id97f36ecf8e81b4732d3a42ea1966536a1772d84
Depends-On: I2a9189f18f0b09ea7b2dfa4c4bb1873a6c538e1c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/334264/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,21dcb33a7b95921c1ac818149bf1ce9922f81e7f,zuul-worker-no-devuser, ZUUL_USER_SSH_PUBLIC_KEY: /var/run/nodepool/zuul_worker_id_rsa.pub ZUUL_USER_SSH_PUBLIC_KEY: /var/run/nodepool/zuul_worker_id_rsa.pub ZUUL_USER_SSH_PUBLIC_KEY: /var/run/nodepool/zuul_worker_id_rsa.pub ZUUL_USER_SSH_PUBLIC_KEY: /var/run/nodepool/zuul_worker_id_rsa.pub ZUUL_USER_SSH_PUBLIC_KEY: /var/run/nodepool/zuul_worker_id_rsa.pub ZUUL_USER_SSH_PUBLIC_KEY: /var/run/nodepool/zuul_worker_id_rsa.pub,,6,0
openstack%2Fproject-config~master~Id2d2a4aa9452697603d3aaaa17d5fea34a807aac,openstack/project-config,master,Id2d2a4aa9452697603d3aaaa17d5fea34a807aac,tripleo: move container upgrade jobs to check,MERGED,2017-08-01 18:19:54.000000000,2017-08-02 04:49:25.000000000,2017-08-02 04:49:25.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8042}, {'_account_id': 8297}]","[{'number': 1, 'created': '2017-08-01 18:19:54.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5c156cf8e3efbb3dcac9f6c7fdea3ba2b2228186', 'message': ""tripleo: move container upgrade jobs to check\n\nPike will be our first release where we want to support upgrade\ndeployments from non-containerized to containerized deployments.\n\nWe decided to switch CI jobs to reflect what we support:\n\n- newton to ocata: classic upgrade jobs, as voting (no change)\n- ocata to pike: new jobs (by quickstart) to deploy ocata in baremetal\n  and upgrade to a containerized pike environment, as non voting for\n  now.\n\nWhen new upgrade job will work correctly and be stable, we'll move them to\nthe gate.\n\nChange-Id: Id2d2a4aa9452697603d3aaaa17d5fea34a807aac\n""}]",0,489702,5c156cf8e3efbb3dcac9f6c7fdea3ba2b2228186,10,6,1,3153,,,0,"tripleo: move container upgrade jobs to check

Pike will be our first release where we want to support upgrade
deployments from non-containerized to containerized deployments.

We decided to switch CI jobs to reflect what we support:

- newton to ocata: classic upgrade jobs, as voting (no change)
- ocata to pike: new jobs (by quickstart) to deploy ocata in baremetal
  and upgrade to a containerized pike environment, as non voting for
  now.

When new upgrade job will work correctly and be stable, we'll move them to
the gate.

Change-Id: Id2d2a4aa9452697603d3aaaa17d5fea34a807aac
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/489702/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,5c156cf8e3efbb3dcac9f6c7fdea3ba2b2228186,pike/upgrades, - gate-tripleo-ci-centos-7-scenario001-multinode-oooq-container-upgrades-nv - gate-tripleo-ci-centos-7-scenario002-multinode-oooq-container-upgrades-nv - gate-tripleo-ci-centos-7-scenario003-multinode-oooq-container-upgrades-nv - gate-tripleo-ci-centos-7-scenario004-multinode-oooq-container-upgrades-nv," - gate-tripleo-ci-centos-7-multinode-upgrades-nv - gate-tripleo-ci-centos-7-scenario001-multinode-upgrades-nv - gate-tripleo-ci-centos-7-scenario002-multinode-upgrades-nv - gate-tripleo-ci-centos-7-scenario003-multinode-upgrades-nv - gate-tripleo-ci-centos-7-scenario004-multinode-upgrades-nv - gate-tripleo-ci-centos-7-scenario001-multinode-oooq-container-upgrades - gate-tripleo-ci-centos-7-scenario002-multinode-oooq-container-upgrades - gate-tripleo-ci-centos-7-scenario003-multinode-oooq-container-upgrades - gate-tripleo-ci-centos-7-scenario004-multinode-oooq-container-upgrades # TripleO Upgrade jobs are non-voting for scenario001,002,003,004 # and classic multinode-upgrades job on master (future Pike). # For now, we only want these jobs in master - name: ^gate-tripleo-ci-centos-7(-scenario00(1|2|3|4))?-multinode-upgrades-nv$ branch: ^(?!stable/(newton|ocata)).*$ # TripleO scenario004 job has been introduced in Ocata so we don't want to run the upgrade job yet. - name: ^gate-tripleo-ci-centos-7-scenario004-multinode-upgrades.*$ branch: ^(?!stable/(newton|ocata)).*$ ",8,23
openstack%2Fproject-config~master~I5693994f1012a99f3b988db1c76b73d5ded711fd,openstack/project-config,master,I5693994f1012a99f3b988db1c76b73d5ded711fd,Add pre-release and release automation for ARA,MERGED,2017-08-02 00:35:20.000000000,2017-08-02 04:46:49.000000000,2017-08-02 04:46:49.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-08-02 00:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a3a3d195b10ec9e83264498dd4035fe214663f79', 'message': ""Add pre-release and release automation for ARA\n\nI managed the pre-release and release of ARA manually although I\npushed the signed tags to gerrit properly.\nI have been taught there was a better way and that I should let\nZuul handle this for me.\n\nThat's an awesome idea. Let's do it.\n\nChange-Id: I5693994f1012a99f3b988db1c76b73d5ded711fd\n""}, {'number': 2, 'created': '2017-08-02 00:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5fada29657d86467a1f52b4b7c42f98e969aeb70', 'message': ""Add pre-release and release automation for ARA\n\nI managed the pre-release and release of ARA manually although I\npushed the signed tags to gerrit properly.\nI have been taught there was a better way and that I should let\nZuul handle this for me.\n\nThat's an awesome idea. Let's do it.\n\nChange-Id: I5693994f1012a99f3b988db1c76b73d5ded711fd\n""}, {'number': 3, 'created': '2017-08-02 00:37:13.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5eb71e857529e2dff8cad6188035a4fddbf0fbfb', 'message': ""Add pre-release and release automation for ARA\n\nI managed the pre-release and release of ARA manually although I\npushed the signed tags to gerrit properly.\nI have been taught there was a better way and that I should let\nZuul handle this for me.\n\nThat's an awesome idea. Let's do it.\n\nCasualty of this change is the post coverage job which is no longer\nnecessary.\n\nChange-Id: I5693994f1012a99f3b988db1c76b73d5ded711fd\n""}]",0,489817,5eb71e857529e2dff8cad6188035a4fddbf0fbfb,9,3,3,9061,,,0,"Add pre-release and release automation for ARA

I managed the pre-release and release of ARA manually although I
pushed the signed tags to gerrit properly.
I have been taught there was a better way and that I should let
Zuul handle this for me.

That's an awesome idea. Let's do it.

Casualty of this change is the post coverage job which is no longer
necessary.

Change-Id: I5693994f1012a99f3b988db1c76b73d5ded711fd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/489817/3 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,a3a3d195b10ec9e83264498dd4035fe214663f79,, pre-release: - ara-tarball: - ara-tarball-signing - ara-pypi-both-upload release: - oaktree-tarball: - ara-tarball-signing - ara-pypi-both-upload, post: - ara-coverage-ubuntu-xenial,9,2
openstack%2Fpython-zunclient~master~I49be8a71109a97ee2a91569392b3a96c7b82c55f,openstack/python-zunclient,master,I49be8a71109a97ee2a91569392b3a96c7b82c55f,Showing contain info after updating by osc command,MERGED,2017-07-31 09:54:51.000000000,2017-08-02 04:31:37.000000000,2017-08-02 04:31:37.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 22076}]","[{'number': 1, 'created': '2017-07-31 09:54:51.000000000', 'files': ['zunclient/osc/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/302ac049609577ec5d88c5ece910e0cc9aa9a20b', 'message': 'Showing contain info after updating by osc command\n\nChange-Id: I49be8a71109a97ee2a91569392b3a96c7b82c55f\n'}]",0,489158,302ac049609577ec5d88c5ece910e0cc9aa9a20b,11,3,1,23365,,,0,"Showing contain info after updating by osc command

Change-Id: I49be8a71109a97ee2a91569392b3a96c7b82c55f
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/58/489158/1 && git format-patch -1 --stdout FETCH_HEAD,['zunclient/osc/v1/containers.py'],1,302ac049609577ec5d88c5ece910e0cc9aa9a20b,,"class UpdateContainer(command.ShowOne): container = client.containers.update(container, **opts) columns = _container_columns(container) return columns, utils.get_item_properties(container, columns)","class UpdateContainer(command.Command): try: client.containers.update(container, **opts) print(_('Request to update container %s has been accepted') % container) except Exception as e: print(""update for container %(container)s failed: %(e)s"" % {'container': container, 'e': e})",4,8
openstack%2Fcastellan-ui~master~I1e2fb3ecf56d50bf6ba1bcdbdf62b724b84772a0,openstack/castellan-ui,master,I1e2fb3ecf56d50bf6ba1bcdbdf62b724b84772a0,Initial ui cookiecutter commit,MERGED,2017-07-18 13:43:24.000000000,2017-08-02 04:10:07.000000000,2017-08-02 04:10:07.000000000,"[{'_account_id': 3}, {'_account_id': 1091}, {'_account_id': 6783}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 7973}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-07-18 13:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan-ui/commit/1f0b4cd7133e58804f3ae99c6e49b12e3cf2889f', 'message': 'Initial ui cookiecutter commit\n\nChange-Id: I1e2fb3ecf56d50bf6ba1bcdbdf62b724b84772a0\n'}, {'number': 2, 'created': '2017-07-18 14:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan-ui/commit/14d7e1c4c7a4da2c0c755cfcd95e73653c1ac4cb', 'message': 'Initial ui cookiecutter commit\n\nChange-Id: I1e2fb3ecf56d50bf6ba1bcdbdf62b724b84772a0\n'}, {'number': 3, 'created': '2017-07-18 15:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan-ui/commit/6def2a534134b02ae115f2a3483209a76571deac', 'message': 'Initial ui cookiecutter commit\n\nChange-Id: I1e2fb3ecf56d50bf6ba1bcdbdf62b724b84772a0\n'}, {'number': 4, 'created': '2017-07-18 15:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan-ui/commit/0414348ef0c2d4ca3b8b46d9d2cb42f2afd5d8ab', 'message': 'Initial ui cookiecutter commit\n\nChange-Id: I1e2fb3ecf56d50bf6ba1bcdbdf62b724b84772a0\n'}, {'number': 5, 'created': '2017-08-01 14:46:40.000000000', 'files': ['castellan_ui/test/__init__.py', 'test-requirements.txt', 'README.rst', 'castellan_ui/api/rest_api.py', 'castellan_ui/static/dashboard/castellan/castellan.module.js', 'setup.py', 'castellan_ui/__init__.py', 'castellan_ui/content/manages/tests.py', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'castellan_ui/static/dashboard/castellan/manages/actions/update.service.js', 'castellan_ui/static/dashboard/castellan/manages/details/overview.controller.js', 'LICENSE', 'castellan_ui/api/__init__.py', 'babel-djangojs.cfg', 'castellan_ui/static/dashboard/castellan/manages/actions/actions.module.js', 'castellan_ui/karma.conf.js', 'castellan_ui/static/dashboard/castellan/manages/details/details.module.js', 'castellan_ui/test/integration_tests/__init__.py', 'castellan_ui/static/dashboard/castellan/manages/workflow/manage-model.js', 'releasenotes/source/index.rst', 'MANIFEST.in', 'castellan_ui/static/dashboard/castellan/manages/manages.module.js', 'doc/source/configuration/index.rst', 'castellan_ui/static/dashboard/castellan/manages/manages.scss', 'castellan_ui/enabled/__init__.py', 'castellan_ui/static/dashboard/castellan/manages/actions/delete.service.js', 'castellan_ui/enabled/_91_project_castellan_manages_panel.py', 'doc/source/contributor/api.rst', 'setup.cfg', 'castellan_ui/static/dashboard/castellan/castellan.service.js', 'tox.ini', 'castellan_ui/enabled/_90_project_castellan_panelgroup.py', 'castellan_ui/test/settings.py', 'doc/source/install/index.rst', 'castellan_ui/api/client.py', 'castellan_ui/static/dashboard/castellan/manages/manages.service.spec.js', 'test-shim.js', 'doc/Makefile', 'requirements.txt', 'tools/tox_install.sh', 'doc/source/contributor/index.rst', 'castellan_ui/content/manages/panel.py', 'castellan_ui/static/dashboard/castellan/manages/manages.service.js', 'castellan_ui/static/dashboard/castellan/castellan.module.spec.js', 'castellan_ui/content/__init__.py', 'castellan_ui/content/manages/urls.py', 'castellan_ui/static/dashboard/castellan/castellan.scss', 'castellan_ui/static/dashboard/castellan/manages/actions/create.service.js', 'castellan_ui/static/dashboard/castellan/manages/workflow/info.help.html', 'castellan_ui/version.py', 'castellan_ui/static/dashboard/castellan/manages/workflow/recipe.help.html', 'castellan_ui/static/dashboard/castellan/manages/manages.module.spec.js', 'babel-django.cfg', 'castellan_ui/static/dashboard/castellan/manages/workflow/workflow.service.js', 'castellan_ui/static/dashboard/castellan/manages/panel.html', 'doc/source/conf.py', 'manage.py', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'castellan_ui/content/manages/__init__.py', 'package.json', 'castellan_ui/static/dashboard/castellan/manages/details/overview.html', 'castellan_ui/static/dashboard/castellan/manages/details/drawer.html', 'HACKING.rst', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/castellan-ui/commit/a2f556e3f5bfa5999624b8aa47f1101c7b58d604', 'message': 'Initial ui cookiecutter commit\n\nChange-Id: I1e2fb3ecf56d50bf6ba1bcdbdf62b724b84772a0\n'}]",0,484794,a2f556e3f5bfa5999624b8aa47f1101c7b58d604,23,12,5,8623,,,0,"Initial ui cookiecutter commit

Change-Id: I1e2fb3ecf56d50bf6ba1bcdbdf62b724b84772a0
",git fetch https://review.opendev.org/openstack/castellan-ui refs/changes/94/484794/1 && git format-patch -1 --stdout FETCH_HEAD,"['castellan_ui/test/__init__.py', 'test-requirements.txt', 'README.rst', 'castellan_ui/api/rest_api.py', 'castellan_ui/static/dashboard/castellan/castellan.module.js', 'setup.py', 'castellan_ui/__init__.py', 'castellan_ui/content/manages/tests.py', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'castellan_ui/static/dashboard/castellan/manages/actions/update.service.js', 'castellan_ui/static/dashboard/castellan/manages/details/overview.controller.js', 'LICENSE', 'castellan_ui/api/__init__.py', 'babel-djangojs.cfg', 'castellan_ui/static/dashboard/castellan/manages/actions/actions.module.js', 'castellan_ui/karma.conf.js', 'castellan_ui/static/dashboard/castellan/manages/details/details.module.js', 'castellan_ui/test/integration_tests/__init__.py', 'castellan_ui/static/dashboard/castellan/manages/workflow/manage-model.js', 'releasenotes/source/index.rst', 'MANIFEST.in', 'castellan_ui/static/dashboard/castellan/manages/manages.module.js', 'doc/source/configuration/index.rst', 'castellan_ui/static/dashboard/castellan/manages/manages.scss', 'castellan_ui/enabled/__init__.py', 'castellan_ui/static/dashboard/castellan/manages/actions/delete.service.js', 'castellan_ui/enabled/_91_project_castellan_manages_panel.py', 'doc/source/contributor/api.rst', 'setup.cfg', 'castellan_ui/static/dashboard/castellan/castellan.service.js', 'tox.ini', 'castellan_ui/enabled/_90_project_castellan_panelgroup.py', 'castellan_ui/test/settings.py', 'doc/source/install/index.rst', 'castellan_ui/api/client.py', 'castellan_ui/static/dashboard/castellan/manages/manages.service.spec.js', 'test-shim.js', 'doc/Makefile', 'requirements.txt', 'tools/tox_install.sh', 'doc/source/contributor/index.rst', 'castellan_ui/content/manages/panel.py', 'castellan_ui/static/dashboard/castellan/manages/manages.service.js', 'castellan_ui/static/dashboard/castellan/castellan.module.spec.js', 'castellan_ui/content/__init__.py', 'castellan_ui/content/manages/urls.py', 'castellan_ui/static/dashboard/castellan/castellan.scss', 'castellan_ui/static/dashboard/castellan/manages/actions/create.service.js', 'castellan_ui/static/dashboard/castellan/manages/workflow/info.help.html', 'castellan_ui/version.py', 'castellan_ui/static/dashboard/castellan/manages/workflow/recipe.help.html', 'castellan_ui/static/dashboard/castellan/manages/manages.module.spec.js', 'babel-django.cfg', 'castellan_ui/static/dashboard/castellan/manages/workflow/workflow.service.js', 'castellan_ui/static/dashboard/castellan/manages/panel.html', 'doc/source/conf.py', 'manage.py', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'castellan_ui/content/manages/__init__.py', 'package.json', 'castellan_ui/static/dashboard/castellan/manages/details/overview.html', 'castellan_ui/static/dashboard/castellan/manages/details/drawer.html', 'HACKING.rst', 'releasenotes/source/conf.py']",66,1f0b4cd7133e58804f3ae99c6e49b12e3cf2889f,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # Glance Release Notes documentation build configuration file, created by # sphinx-quickstart on Tue Nov 3 17:40:50 2015. # # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. # templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'Castellan UI Release Notes' copyright = u'2016, OpenStack Foundation' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # from castellan_ui import version as ui_ver # The short X.Y version. # The full version, including alpha/beta/rc tags. release = ui_ver.version_info.release_string() # The short X.Y version. version = ui_ver.version_info.version_string() # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # openstackdocstheme options repository_name = 'openstack/{cookiecutter.repo_name}}' bug_project = 'castellan-ui' bug_tag = '' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". # html_static_path = [] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # Must set this variable to include year, month, day, hours, and minutes. html_last_updated_fmt = '%Y-%m-%d %H:%M' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'Castellan-UIReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'Castellan-UIReleaseNotes.tex', u'Castellan UI Release Notes Documentation', u'Castellan UI Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'castellan_uireleasenotes', u'Castellan UI Release Notes Documentation', [u'Castellan UI Developers'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'Castellan-UIReleaseNotes', u'Castellan UI Release Notes Documentation', u'Castellan UI Developers', 'Castellan-UIReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/']",,3578,0
openstack%2Fcinder~master~Idc59abcd574a7eef354d6590f7b748c6b54df8b4,openstack/cinder,master,Idc59abcd574a7eef354d6590f7b748c6b54df8b4,Update backend state when extending volume,MERGED,2017-07-27 09:18:46.000000000,2017-08-02 04:03:33.000000000,2017-07-27 18:47:49.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-27 09:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ba546d1d42a28d5d4d5339fa9595f14efa42996', 'message': 'Update backend state when extending volume\n\nRather than update the backend state in the next\nperiod task, update it directly in scheduler when\nextending.\n\nChange-Id: Idc59abcd574a7eef354d6590f7b748c6b54df8b4\nCloses-Bug: #1706888\n'}, {'number': 2, 'created': '2017-07-27 09:26:12.000000000', 'files': ['cinder/scheduler/manager.py', 'releasenotes/notes/bug-1706888-update-backend-when-extending-3e4a9831a0w29d68.yaml', 'cinder/tests/unit/scheduler/test_scheduler.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8776a726ea6320e2985b6c12f580ea8b17d21d2', 'message': 'Update backend state when extending volume\n\nRather than update the backend state in the next\nperiod task, update it directly in scheduler when\nextending.\n\nChange-Id: Idc59abcd574a7eef354d6590f7b748c6b54df8b4\nCloses-Bug: #1706888\n'}]",0,487783,a8776a726ea6320e2985b6c12f580ea8b17d21d2,37,13,2,23083,,,0,"Update backend state when extending volume

Rather than update the backend state in the next
period task, update it directly in scheduler when
extending.

Change-Id: Idc59abcd574a7eef354d6590f7b748c6b54df8b4
Closes-Bug: #1706888
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/487783/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/manager.py', 'releasenotes/notes/bug-1706888-update-backend-when-extending-3e4a9831a0w29d68.yaml', 'cinder/tests/unit/scheduler/test_scheduler.py']",3,8ba546d1d42a28d5d4d5339fa9595f14efa42996,bug/1706888,"from cinder.tests.unit.scheduler import fakes as fake_scheduler @mock.patch('cinder.scheduler.driver.Scheduler.backend_passes_filters') @mock.patch( 'cinder.scheduler.host_manager.BackendState.consume_from_volume') @mock.patch('cinder.volume.rpcapi.VolumeAPI.extend_volume') def test_extend_volume(self, mock_extend, mock_consume, mock_backend_passes): volume = fake_volume.fake_volume_obj(self.context, **{'size': 1}) fake_backend = fake_scheduler.FakeBackendState('host1', {}) mock_backend_passes.return_value = fake_backend self.manager.extend_volume(self.context, volume, 2, 'fake_reservation') mock_consume.assert_called_once_with({'size': 1}) mock_extend.assert_called_once_with( self.context, volume, 2, 'fake_reservation') @mock.patch('cinder.scheduler.driver.Scheduler.backend_passes_filters') @mock.patch( 'cinder.scheduler.host_manager.BackendState.consume_from_volume') @mock.patch('cinder.volume.rpcapi.VolumeAPI.extend_volume') @mock.patch('cinder.quota.QUOTAS.rollback') def test_extend_volume_no_valid_host(self, mock_rollback, mock_extend, mock_consume, mock_backend_passes): volume = fake_volume.fake_volume_obj(self.context, **{'size': 1}) no_valid_backend = exception.NoValidBackend(reason='') mock_backend_passes.side_effect = [no_valid_backend] with mock.patch.object(self.manager, '_set_volume_state_and_notify') as mock_notify: self.manager.extend_volume(self.context, volume, 2, 'fake_reservation') mock_notify.assert_called_once_with( 'extend_volume', {'volume_state': {'status': 'available'}}, self.context, no_valid_backend, None) mock_rollback.assert_called_once_with( self.context, 'fake_reservation', project_id=volume.project_id) mock_consume.assert_not_called() mock_extend.assert_not_called() ",,49,3
openstack%2Fnova~master~Ic8311858c73f9166c721eb8f3859220e7af2f1db,openstack/nova,master,Ic8311858c73f9166c721eb8f3859220e7af2f1db,Add functional tests for cold migration to same host,ABANDONED,2016-12-26 10:18:21.000000000,2017-08-02 03:56:06.000000000,,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 17922}, {'_account_id': 19339}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 22077}, {'_account_id': 23310}, {'_account_id': 23314}, {'_account_id': 23871}]","[{'number': 1, 'created': '2016-12-26 10:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfb32eb4f3997650be8c20cad9187dacb6a1d031', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 2, 'created': '2016-12-26 11:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a0137368ecf779f72c68a87133ddf6e9c7fdb2e', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 3, 'created': '2016-12-26 12:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db0ed57d349ab3aee97f5a47ba2620b8c638d9fb', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 4, 'created': '2017-01-03 23:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c28602b8981ac0bc095ff18b32fe880b341bec7', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 5, 'created': '2017-01-05 03:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21ce0050a0e11ac7a35c05829f4386122fd550a0', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 6, 'created': '2017-01-06 04:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6841a7392f8a95d433ea023add7b30a59b0037c', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 7, 'created': '2017-01-07 16:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5734d2333d54ee95b66f1b158c1f837f8707fec7', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 8, 'created': '2017-01-07 16:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8d748e6e35f8c2ca5925816a8bef3ff8f01f683', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 9, 'created': '2017-01-07 16:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c681cfe3ece3325d9af5d30820796d5b016890ef', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 10, 'created': '2017-01-16 02:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5de1856f0bb039432e21994e9c34c69ea31a7df', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 11, 'created': '2017-01-17 13:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/086da021b0246085bd8138ad65476000203d5c10', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 12, 'created': '2017-01-18 11:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c2ab8af5c5db889e2fa537b6242f28566b0b8cb', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 13, 'created': '2017-01-19 21:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41bdbd3f78ed2c29a4050b6d1f645da65a3962a8', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 14, 'created': '2017-01-20 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e54d3a74a3cc549473458599c242854cd1f2c8e7', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 15, 'created': '2017-01-23 04:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b672a3f5bd11bf7b9660b2ac6c369814b9cc450', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 16, 'created': '2017-01-25 02:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cde3cfb42105381f9bf029e94b10a5ebc0f889b', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 17, 'created': '2017-01-26 00:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c1c1e59366ab414f8eab54a3914a3d175cb9cf2', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 18, 'created': '2017-01-26 23:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa2af0cec1d8e61f3af56a9325eecff5a2d8b95b', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-ocata\n'}, {'number': 19, 'created': '2017-01-30 02:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31abbb197bbb31f5516e340d30bd7ad0473e6f79', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 20, 'created': '2017-01-30 02:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4662f9d92cc3dc059805a3b2349921ebe50c2adb', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 21, 'created': '2017-02-02 09:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/825544f3b36c95ec77754867c76d9d5ed34b3527', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 22, 'created': '2017-02-02 09:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bda6962da3d5981855c412a3e1d48ad1e6b7b72c', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 23, 'created': '2017-02-02 22:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/180a203d9064898eef4e1ad3670af54c4f3aa66c', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 24, 'created': '2017-02-08 07:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab399756119c831e041e89d4becb5c25dcc8a45f', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 25, 'created': '2017-02-09 14:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13a51969a2383a34e439d0eadf807755a5df57f7', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 26, 'created': '2017-02-10 00:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0d25767ffefc62257eb2350b9e36a882ace6e55', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 27, 'created': '2017-02-16 02:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26b5dea7353e797ff48084bcb086ccef1c9c649a', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 28, 'created': '2017-03-02 23:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87d76f13e0b658c07665ff4c22a7c8c7dd44e948', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 29, 'created': '2017-03-07 04:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ca69278976d08870302dbc595e590c7a15da70d', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 30, 'created': '2017-03-10 05:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c8045f774cf5076fd164bb97be7f7d7dfd03fa9', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 31, 'created': '2017-03-14 04:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f0d9642b87c02301ecd0f63f33ec94a7eb952f0', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 32, 'created': '2017-03-27 05:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/630de91d10e8570813b38933fe9eee0e6220d787', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 33, 'created': '2017-03-27 08:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37255aa9f6d992eee8fa4c0b36696dcd731fd281', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 34, 'created': '2017-03-31 00:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b3b83a8ffb2982238d6bdfb8166df56c59e09a3', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 35, 'created': '2017-04-03 02:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e13725230560964fca64657678988272ccaca2d6', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 36, 'created': '2017-04-06 08:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25f79b00b8d6f3cd8f07f396e5e450bce2266814', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 37, 'created': '2017-04-06 23:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/923fad5164cabdee84b6c057596a9c54af70acfa', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 38, 'created': '2017-04-10 12:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd98f79f0088f4ed2a4856126730910386adc77f', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 39, 'created': '2017-04-13 08:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a28729c912356784b2bc1675b190ad50dcee3b1e', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 40, 'created': '2017-04-19 05:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc40659fb30f0a300307d3581427379fd6f707d6', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 41, 'created': '2017-04-19 06:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ba46ee38a2a8c73d5c049c203785fd1c167886e', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 42, 'created': '2017-04-26 04:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0641437f4d5d40748b13063a951f2b6cdb156d0e', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 43, 'created': '2017-05-16 00:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4717e2638dfbffad198d1d6d0f9050b962a905ce', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 44, 'created': '2017-05-24 22:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2220d45a0ce62e44b5365f140759b1c75e431e8b', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 45, 'created': '2017-05-29 01:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1f33c4ede7024ed76d03d832fc78e27bf0e4320', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 46, 'created': '2017-05-29 01:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49f968b335859d2e499f1551ad30742cc1e1e1a7', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 47, 'created': '2017-06-05 00:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc6935fc0173d4ecfb4858abe10193ffd6fc2a60', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 48, 'created': '2017-06-05 00:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ffbc9814e98141ca41bc835a3c67f6e16f0f2bf', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 49, 'created': '2017-06-06 06:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c6ef5c1d8c9755924c25cd7ec824133590170c5', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 50, 'created': '2017-06-06 06:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8de75567b8c9ca189c21e06d8fd8ab0dc822c7e5', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 51, 'created': '2017-06-07 00:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef119a3fd35198c7676a6e38ffe70dc8d7895040', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 52, 'created': '2017-06-07 03:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b46f0c3e587366e961e7168e90f6b71988f2e97', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 53, 'created': '2017-06-08 04:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41567830c226ebd7c375844f1bb7498a29394e42', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 54, 'created': '2017-06-15 06:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/010a32908da7b2e3eb50411cdee7c1035616f957', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 55, 'created': '2017-06-15 08:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b80a0c567afb2db88458930e46dc86f80dffdb13', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 56, 'created': '2017-06-19 02:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5770813dd5ab8dc302c633d85ff75afdbdee5c1e', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 57, 'created': '2017-06-28 02:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53ac3c15cdc295c9446e7124a4a7eaa0c1897400', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 58, 'created': '2017-06-29 15:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7df3f7cf72c6eac9880657af0350693b88f4456', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 59, 'created': '2017-07-01 15:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e93aa4d54f83300607eca35cd8869dc175d9fd6', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 60, 'created': '2017-07-06 05:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5a983d910eeaa499a6d68eae181fbf86426e502', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 61, 'created': '2017-07-12 16:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7bb824a29b705c1923fed7118a7d12371fe42bd', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 62, 'created': '2017-07-12 16:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39c9c298b80703e4d2854c4feb4fd3c00ab0aa58', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 63, 'created': '2017-07-13 00:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/827da6b4f1e5d2fc1facd8856230798bdf4e1730', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 64, 'created': '2017-07-13 15:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/666b22e10f018cc54ea6d05fd5d8a635a6e1f5aa', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 65, 'created': '2017-07-13 15:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b7c27f625e2925d90385f4e966e480d2dcba500', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 66, 'created': '2017-07-19 03:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad62cc7ce1dfa1e0c6c2cbbde5cc5d714dbdc260', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 67, 'created': '2017-07-19 03:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d86894e55570de9ee751d05cd0d277e9330ab4e8', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 68, 'created': '2017-07-22 11:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d45fb3bfd6ea9b3a787eee3717dd021f860a1aae', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}, {'number': 69, 'created': '2017-07-22 11:33:24.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api/client.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b903bcbd63eba6f63d60908c867bc7a869ccda47', 'message': 'Add functional tests for cold migration to same host\n\nChange-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db\nImplements: blueprint cold-migration-with-target-pike\n'}]",2,414926,b903bcbd63eba6f63d60908c867bc7a869ccda47,541,23,69,7634,,,0,"Add functional tests for cold migration to same host

Change-Id: Ic8311858c73f9166c721eb8f3859220e7af2f1db
Implements: blueprint cold-migration-with-target-pike
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/414926/69 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api/client.py', 'nova/tests/functional/test_servers.py']",3,dfb32eb4f3997650be8c20cad9187dacb6a1d031,bp/cold-migration-with-target-pike," class ServerTestV241(ServersTestBase): api_major_version = 'v2.1' def setUp(self): super(ServerTestV241, self).setUp() self.api.microversion = '2.41' self.flags(allow_resize_to_same_host=True) self.ctxt = context.get_admin_context() def _create_server(self): server = self._build_minimal_create_server_request( image_uuid='a2459075-d96c-40d5-893e-577ff92e721c') server.update({'networks': 'auto'}) post = {'server': server} response = self.api.api_post('/servers', post).body return response['server'] def _test_migrate_server_to_same_host(self, force): server = self._create_server() self.addCleanup(self._delete_server, server['id']) found_server = self.api.get_server(server['id']) host = found_server['OS-EXT-SRV-ATTR:host'] self.api.post_server_action( server['id'], {'migrate': {'host': host, 'force': force}}) self._wait_for_state_change(server, 'VERIFY_RESIZE') self.api.post_server_action(server['id'], {'confirmResize': None}) found_server = self._wait_for_state_change(server, 'ACTIVE') self.assertEqual(host, found_server['OS-EXT-SRV-ATTR:host']) def test_migrate_server_to_same_host_with_force_true(self): self._test_migrate_server_to_same_host(force=True) def test_migrate_server_to_same_host_with_force_false(self): self._test_migrate_server_to_same_host(force=False)",,42,3
openstack%2Ftacker~master~I22303f879fec246204f632d2e519b4eb6bab5710,openstack/tacker,master,I22303f879fec246204f632d2e519b4eb6bab5710,Updated from global requirements,MERGED,2017-07-26 15:12:45.000000000,2017-08-02 03:54:05.000000000,2017-08-02 03:54:05.000000000,"[{'_account_id': 3}, {'_account_id': 2874}, {'_account_id': 16237}, {'_account_id': 19644}, {'_account_id': 19999}, {'_account_id': 20560}]","[{'number': 1, 'created': '2017-07-26 15:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f5ef1a371ea2e74780d174cb26d300eb50a99911', 'message': 'Updated from global requirements\n\nChange-Id: I22303f879fec246204f632d2e519b4eb6bab5710\n'}, {'number': 2, 'created': '2017-07-27 19:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/393183d84dfe195f007cb39a6eb0af3f794f1ccf', 'message': 'Updated from global requirements\n\nChange-Id: I22303f879fec246204f632d2e519b4eb6bab5710\n'}, {'number': 3, 'created': '2017-07-28 21:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b862304d7292b01764a8f3bccb45fa2aa61737b8', 'message': 'Updated from global requirements\n\nChange-Id: I22303f879fec246204f632d2e519b4eb6bab5710\n'}, {'number': 4, 'created': '2017-08-01 03:06:21.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tacker/commit/5d8856e1b11cdf9409a725dd639b84e2e7992ad3', 'message': 'Updated from global requirements\n\nChange-Id: I22303f879fec246204f632d2e519b4eb6bab5710\n'}]",0,487477,5d8856e1b11cdf9409a725dd639b84e2e7992ad3,16,6,4,11131,,,0,"Updated from global requirements

Change-Id: I22303f879fec246204f632d2e519b4eb6bab5710
",git fetch https://review.opendev.org/openstack/tacker refs/changes/77/487477/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f5ef1a371ea2e74780d174cb26d300eb50a99911,openstack/requirements,"cryptography!=2.0,>=1.6 # BSD/Apache-2.0",cryptography>=1.6 # BSD/Apache-2.0,1,1
openstack%2Fpython-zunclient~master~Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b,openstack/python-zunclient,master,Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b,Add host list cli,MERGED,2017-07-19 05:59:22.000000000,2017-08-02 03:51:39.000000000,2017-08-02 03:51:39.000000000,"[{'_account_id': 3}, {'_account_id': 8264}, {'_account_id': 11536}, {'_account_id': 21785}, {'_account_id': 22076}]","[{'number': 1, 'created': '2017-07-19 05:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/5cb8c5ce49f410770a62f223f6a05e44b6978ab1', 'message': 'Add host list cli\n\nAdd host list cli\n\nChange-Id: Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b\nPartially-Implements: blueprint show-container-engine-info\n'}, {'number': 2, 'created': '2017-07-20 03:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/bf66cd201c02359593081c42dc67966082623e63', 'message': 'Add host list cli\n\nAdd host list cli\n\nChange-Id: Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b\nPartially-Implements: blueprint show-container-engine-info\n'}, {'number': 3, 'created': '2017-07-20 09:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/62017ff72017c7c5de494b64b1acf3e031984aa1', 'message': 'Add host list cli\n\nAdd host list cli\n\nChange-Id: Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b\nPartially-Implements: blueprint show-container-engine-info\n'}, {'number': 4, 'created': '2017-07-21 01:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/a9ee6f01ff959c5d3f0e614e0ce1dcbbfdd74898', 'message': 'Add host list cli\n\nAdd host list cli\n\nChange-Id: Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b\nPartially-Implements: blueprint show-container-engine-info\n'}, {'number': 5, 'created': '2017-07-24 00:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/7e60a54d9351d93ae7f94b159a0f2589205e2f61', 'message': 'Add host list cli\n\nAdd host list cli\n\nChange-Id: Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b\nPartially-Implements: blueprint show-container-engine-info\n'}, {'number': 6, 'created': '2017-07-25 08:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/6012b1332654c0936758ab3c34c8a799322c33d1', 'message': 'Add host list cli\n\nAdd host list cli\n\nChange-Id: Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b\nPartially-Implements: blueprint show-container-engine-info\n'}, {'number': 7, 'created': '2017-08-01 06:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/c4af6156bef8766d55230c874840889802f86203', 'message': 'Add host list cli\n\nAdd host list cli\n\nChange-Id: Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b\nPartially-Implements: blueprint show-container-engine-info\n'}, {'number': 8, 'created': '2017-08-01 06:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/17650f6d3e2f5469433cd771383e231b5fddd7d2', 'message': 'Add host list cli\n\nAdd host list cli\n\nChange-Id: Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b\nPartially-Implements: blueprint show-container-engine-info\n'}, {'number': 9, 'created': '2017-08-01 07:43:48.000000000', 'files': ['zunclient/v1/hosts_shell.py', 'zunclient/v1/shell.py', 'zunclient/osc/v1/hosts.py', 'zunclient/v1/client.py', 'zunclient/tests/unit/test_shell.py', 'setup.cfg', 'zunclient/api_versions.py', 'zunclient/osc/plugin.py', 'zunclient/v1/hosts.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/60be365a7cabfbd86030c9eafafd3fab1d53ffa0', 'message': 'Add host list cli\n\nAdd host list cli\n\nChange-Id: Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b\nPartially-Implements: blueprint show-container-engine-info\n'}]",8,485048,60be365a7cabfbd86030c9eafafd3fab1d53ffa0,38,5,9,8264,,,0,"Add host list cli

Add host list cli

Change-Id: Ic9685fd747e8c2fb56ffe5b2c48597ecd4f4d44b
Partially-Implements: blueprint show-container-engine-info
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/48/485048/9 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/hosts_shell.py', 'zunclient/osc/v1/hosts.py', 'zunclient/v1/shell.py', 'zunclient/v1/client.py', 'setup.cfg', 'zunclient/v1/hosts.py']",6,5cb8c5ce49f410770a62f223f6a05e44b6978ab1,bp/show-container-engine-info,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from zunclient.common import base from zunclient.common import utils class Host(base.Resource): def __repr__(self): return ""<Host %s>"" % self._info class HostManager(base.Manager): resource_class = Host @staticmethod def _path(id=None): if id: return '/v1/hosts/%s' % id else: return '/v1/hosts/' def list(self, marker=None, limit=None, sort_key=None, sort_dir=None, detail=False): """"""Retrieve a list of hosts. :param marker: Optional, the UUID of an host, eg the last host from a previous result set. Return the next result set. :param limit: The maximum number of results to return per request, if: 1) limit > 0, the maximum number of hosts to return. 2) limit == 0, return the entire list of hosts. 3) limit param is NOT specified (None), the number of items returned respect the maximum imposed by the Zun api :param sort_key: Optional, field used for sorting. :param sort_dir: Optional, direction of sorting, either 'asc' (the default) or 'desc'. :param detail: Optional, boolean whether to return detailed information about hosts. :returns: A list of hosts. """""" if limit is not None: limit = int(limit) filters = utils.common_filters(marker, limit, sort_key, sort_dir) path = '' if detail: path += 'detail' if filters: path += '?' + '&'.join(filters) if limit is None: return self._list(self._path(path), ""hosts"") else: return self._list_pagination(self._path(path), ""hosts"", limit=limit) ",,188,0
openstack%2Fpython-zunclient~master~I4abbc44800fd99a39a3e3b74a17f00d5a90261aa,openstack/python-zunclient,master,I4abbc44800fd99a39a3e3b74a17f00d5a90261aa,Add <> for metavar info,MERGED,2017-07-31 09:20:29.000000000,2017-08-02 03:51:26.000000000,2017-08-02 03:51:26.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 22076}]","[{'number': 1, 'created': '2017-07-31 09:20:29.000000000', 'files': ['zunclient/v1/containers_shell.py', 'zunclient/osc/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/518d91aed1dfaf00a82e71ebfc2e2b16be0c1d0c', 'message': 'Add <> for metavar info\n\nChange-Id: I4abbc44800fd99a39a3e3b74a17f00d5a90261aa\n'}]",0,489147,518d91aed1dfaf00a82e71ebfc2e2b16be0c1d0c,7,3,1,23365,,,0,"Add <> for metavar info

Change-Id: I4abbc44800fd99a39a3e3b74a17f00d5a90261aa
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/47/489147/1 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/containers_shell.py', 'zunclient/osc/v1/containers.py']",2,518d91aed1dfaf00a82e71ebfc2e2b16be0c1d0c,," metavar='<key=value>', metavar='<key=value>',"," metavar='key=value', metavar='key=value',",4,4
openstack%2Fcinder~master~Ib78ba6aa1fcc488aa2ab7db25a37021f206519dd,openstack/cinder,master,Ib78ba6aa1fcc488aa2ab7db25a37021f206519dd,Handle concurrent volume creation request,MERGED,2017-07-27 05:07:21.000000000,2017-08-02 03:50:59.000000000,2017-07-27 19:04:38.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 26240}]","[{'number': 1, 'created': '2017-07-27 05:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4d3fae5395e1b5f9716f55cd1ddc6174218d903', 'message': ""Handle concurrent volume creation request\n\nCinder passes same 'image_id', from which the\nlock_name is created. This 'lock_name' is used\nby 'tooz.locking' to acquire the lock.\n\nIn this flow, based on 'lock_name' it creates the\n'key' and stored in 'etcd'. etcd3gw client does\nnot allow to modify the same key several times\nwithin one transactionn. so to aviod this, pass\nunique 'lock_name' which in turn creates unique\nkey.\n\nChange-Id: Ib78ba6aa1fcc488aa2ab7db25a37021f206519dd\nCloses-Bug: #1705442\n""}, {'number': 2, 'created': '2017-07-27 06:56:39.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/35ae6fb90380a8e9db936827a4414cb249ef399b', 'message': ""Handle concurrent volume creation request\n\nCinder passes same 'image_id', from which the\nlock_name is created. This 'lock_name' is used\nby 'tooz.locking' to acquire the lock.\n\nIn this flow, based on 'lock_name' it creates the\n'key' and stored in 'etcd'. etcd3gw client does\nnot allow to modify the same key several times\nwithin one transactionn. so to aviod this, pass\nunique 'lock_name' which in turn creates unique\nkey.\n\nChange-Id: Ib78ba6aa1fcc488aa2ab7db25a37021f206519dd\nCloses-Bug: #1705442\n""}]",0,487694,35ae6fb90380a8e9db936827a4414cb249ef399b,54,24,2,24952,,,0,"Handle concurrent volume creation request

Cinder passes same 'image_id', from which the
lock_name is created. This 'lock_name' is used
by 'tooz.locking' to acquire the lock.

In this flow, based on 'lock_name' it creates the
'key' and stored in 'etcd'. etcd3gw client does
not allow to modify the same key several times
within one transactionn. so to aviod this, pass
unique 'lock_name' which in turn creates unique
key.

Change-Id: Ib78ba6aa1fcc488aa2ab7db25a37021f206519dd
Closes-Bug: #1705442
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/487694/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/flows/manager/create_volume.py'],1,f4d3fae5395e1b5f9716f55cd1ddc6174218d903,bug/1705442, @coordination.synchronized('{image_id}-{volume.display_name}'), @coordination.synchronized('{image_id}'),1,1
openstack%2Fcinder~driverfixes%2Fnewton~I397e4edde4d82baceb324c1fe9896b1c0f914194,openstack/cinder,driverfixes/newton,I397e4edde4d82baceb324c1fe9896b1c0f914194,Use requests lib for Huawei array connection,MERGED,2017-07-27 03:42:22.000000000,2017-08-02 03:48:12.000000000,2017-07-27 15:08:14.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 16595}, {'_account_id': 19933}, {'_account_id': 22510}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-27 03:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f141618be553b93cd18ec7f4c83f1427444d96e', 'message': 'Use requests lib for Huawei array connection\n\nUpdates Huawei driver logic to use requests lib for Huawei\narray connection instead.\n\nChange-Id: I397e4edde4d82baceb324c1fe9896b1c0f914194\n(cherry picked from commit 59ddeabacabdbbd9e396d1d62ae65c1fdfa3f455)\n'}, {'number': 2, 'created': '2017-07-27 06:20:22.000000000', 'files': ['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/rest_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/967139334317857e8c1d032bd8c7f30312cf6b55', 'message': 'Use requests lib for Huawei array connection\n\nUpdates Huawei driver logic to use requests lib for Huawei\narray connection instead.\n\nChange-Id: I397e4edde4d82baceb324c1fe9896b1c0f914194\n(cherry picked from commit 59ddeabacabdbbd9e396d1d62ae65c1fdfa3f455)\n'}]",0,487685,967139334317857e8c1d032bd8c7f30312cf6b55,24,8,2,16203,,,0,"Use requests lib for Huawei array connection

Updates Huawei driver logic to use requests lib for Huawei
array connection instead.

Change-Id: I397e4edde4d82baceb324c1fe9896b1c0f914194
(cherry picked from commit 59ddeabacabdbbd9e396d1d62ae65c1fdfa3f455)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/487685/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/rest_client.py']",2,0f141618be553b93cd18ec7f4c83f1427444d96e,backport-use-requests-to-N,"import requests self.session = None def init_http_head(self): self.url = None self.session = requests.Session() self.session.headers.update({ ""Connection"": ""keep-alive"", ""Content-Type"": ""application/json""}) self.session.verify = False def do_call(self, url, data, method, kwargs = {'timeout': calltimeout} if data: kwargs['data'] = json.dumps(data) if method in ('POST', 'PUT', 'GET', 'DELETE'): func = getattr(self.session, method.lower()) else: msg = _(""Request method %s is invalid."") % method LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) res = func(url, **kwargs) except Exception as err: LOG.exception(_LE('Bad response from server: %(url)s.' ' Error: %(err)s'), {'url': url, 'err': err}) return {""error"": {""code"": constants.ERROR_CONNECT_TO_SERVER, ""description"": ""Connect to server error.""}} res.raise_for_status() except requests.HTTPError as exc: return {""error"": {""code"": exc.response.status_code, ""description"": six.text_type(exc)}} res_json = res.json() LOG.info(_LI('\n\n\n\nRequest URL: %(url)s\n\n' 'Call Method: %(method)s\n\n' 'Request Data: %(data)s\n\n' 'Response Data:%(res)s\n\n'), {'url': url, 'method': method, 'data': data, 'res': res_json}) result = self.do_call(url, data, 'POST', self.session.headers['iBaseToken'] = result['data']['iBaseToken'] result = self.call(url, lun_params, 'POST') result = self.call(url, None, ""GET"") result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, None, 'GET') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') url = ""/ioclass"" result = self.call(url, data, 'POST') result = self.call(url, data, 'POST')","import socketfrom six.moves import http_cookiejar from six.moves import urllib self.init_http_head() def init_http_head(self): self.cookie = http_cookiejar.CookieJar() self.headers = { ""Connection"": ""keep-alive"", ""Content-Type"": ""application/json"", } def do_call(self, url=None, data=None, method=None, handler = urllib.request.HTTPCookieProcessor(self.cookie) opener = urllib.request.build_opener(handler) urllib.request.install_opener(opener) res_json = None socket.setdefaulttimeout(calltimeout) if data: data = json.dumps(data) req = urllib.request.Request(url, data, self.headers) if method: req.get_method = lambda: method res = urllib.request.urlopen(req).read().decode(""utf-8"") if ""xx/sessions"" not in url: LOG.info(_LI('\n\n\n\nRequest URL: %(url)s\n\n' 'Call Method: %(method)s\n\n' 'Request Data: %(data)s\n\n' 'Response Data:%(res)s\n\n'), {'url': url, 'method': method, 'data': data, 'res': res}) except Exception as err: LOG.error(_LE('Bad response from server: %(url)s.' ' Error: %(err)s'), {'url': url, 'err': err}) json_msg = ('{""error"":{""code"": %s,""description"": ""Connect to ' 'server error.""}}') % constants.ERROR_CONNECT_TO_SERVER res_json = json.loads(json_msg) return res_json res_json = json.loads(res) except Exception as err: LOG.error(_LE('JSON transfer error: %s.'), err) raise result = self.do_call(url, data, self.headers['iBaseToken'] = result['data']['iBaseToken'] result = self.call(url, lun_params) result = self.call(url, None) result = self.call(url, data) result = self.call(url, data) result = self.call(url, data) result = self.call(url, None) result = self.call(url, data) result = self.call(url, data) result = self.call(url, data) result = self.call(url, data) result = self.call(url, data) result = self.call(url, data) url = ""/ioclass/"" result = self.call(url, data) result = self.call(url, data)",143,77
openstack%2Fcinder~master~I126f7c5bd06e740c382c30db795e99c404517d5b,openstack/cinder,master,I126f7c5bd06e740c382c30db795e99c404517d5b,[DOC BLD FIX] Correct json code block in attachments,MERGED,2017-07-27 03:43:18.000000000,2017-08-02 03:45:20.000000000,2017-07-27 15:08:02.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 15386}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-27 03:43:18.000000000', 'files': ['cinder/api/v3/attachments.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3be82a1098856bc607139a707659f4c985351de', 'message': '[DOC BLD FIX] Correct json code block in attachments\n\nThere was a json code block in attachments that was\nnot properly formatted.  Space was needed for it to\nbee properly processed.\n\nChange-Id: I126f7c5bd06e740c382c30db795e99c404517d5b\n'}]",1,487686,c3be82a1098856bc607139a707659f4c985351de,36,11,1,7198,,,0,"[DOC BLD FIX] Correct json code block in attachments

There was a json code block in attachments that was
not properly formatted.  Space was needed for it to
bee properly processed.

Change-Id: I126f7c5bd06e740c382c30db795e99c404517d5b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/487686/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/v3/attachments.py'],1,c3be82a1098856bc607139a707659f4c985351de,doc-bld-fix, .. code:: json , .. code-block:: json,3,1
openstack%2Fzun~master~Ie00c16446e118c6cab1939e9bafb44ebf59fd5d9,openstack/zun,master,Ie00c16446e118c6cab1939e9bafb44ebf59fd5d9,Add filter scheduler doc.,MERGED,2017-07-31 07:08:24.000000000,2017-08-02 03:40:21.000000000,2017-08-02 03:40:21.000000000,"[{'_account_id': 3}, {'_account_id': 8264}, {'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-07-31 07:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3b38402f90229b5354485672db47ac7be3994be6', 'message': 'Add filter scheduler doc.\n\nAdd filter scheduler doc.\n\nChange-Id: Ie00c16446e118c6cab1939e9bafb44ebf59fd5d9\n'}, {'number': 2, 'created': '2017-08-01 00:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/790d574f02e649805280e5f5fe3cf6bc83b2933a', 'message': 'Add filter scheduler doc.\n\nAdd filter scheduler doc.\n\nChange-Id: Ie00c16446e118c6cab1939e9bafb44ebf59fd5d9\n'}, {'number': 3, 'created': '2017-08-01 05:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/43a79dddf45c49c50de5340c38b5e07c9ab37e13', 'message': 'Add filter scheduler doc.\n\nAdd filter scheduler doc.\n\nChange-Id: Ie00c16446e118c6cab1939e9bafb44ebf59fd5d9\n'}, {'number': 4, 'created': '2017-08-01 06:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4fa575ffa48343fbdc11dd690b3c3e173bd1a97e', 'message': 'Add filter scheduler doc.\n\nAdd filter scheduler doc.\n\nChange-Id: Ie00c16446e118c6cab1939e9bafb44ebf59fd5d9\n'}, {'number': 5, 'created': '2017-08-02 01:48:43.000000000', 'files': ['doc/source/index.rst', 'doc/source/user/filter-scheduler.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/2d7be38ead67fc6dc0aebc097504a5f0909b2551', 'message': 'Add filter scheduler doc.\n\nAdd filter scheduler doc.\n\nChange-Id: Ie00c16446e118c6cab1939e9bafb44ebf59fd5d9\n'}]",32,489109,2d7be38ead67fc6dc0aebc097504a5f0909b2551,22,5,5,8264,,,0,"Add filter scheduler doc.

Add filter scheduler doc.

Change-Id: Ie00c16446e118c6cab1939e9bafb44ebf59fd5d9
",git fetch https://review.opendev.org/openstack/zun refs/changes/09/489109/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/arch/filter-scheduler.rst', 'doc/source/index.rst']",2,3b38402f90229b5354485672db47ac7be3994be6,filter-doc,Architecture Concepts ===================== .. toctree:: :maxdepth: 1 arch/filter-scheduler ,,68,0
openstack%2Fcinder~master~Ia1aaa0882d28bdd7bda33022acb8c59946026622,openstack/cinder,master,Ia1aaa0882d28bdd7bda33022acb8c59946026622,[DOC BLD FIX] Fix docstring error in fakes.rst,MERGED,2017-07-27 03:16:20.000000000,2017-08-02 02:58:31.000000000,2017-07-27 15:08:34.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-27 03:16:20.000000000', 'files': ['doc/source/contributor/fakes.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e6bba6ceb2f68d60ed8200a7ad078f002319a4f', 'message': ""[DOC BLD FIX] Fix docstring error in fakes.rst\n\nIn fakes.rst there was a 'todo' directive which\ndoes not work with the latest version of Sphinx.\nThis fix changes that so that Sphinx doesn't produce\na warning.\n\nChange-Id: Ia1aaa0882d28bdd7bda33022acb8c59946026622\n""}]",0,487677,7e6bba6ceb2f68d60ed8200a7ad078f002319a4f,26,10,1,7198,,,0,"[DOC BLD FIX] Fix docstring error in fakes.rst

In fakes.rst there was a 'todo' directive which
does not work with the latest version of Sphinx.
This fix changes that so that Sphinx doesn't produce
a warning.

Change-Id: Ia1aaa0882d28bdd7bda33022acb8c59946026622
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/487677/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/fakes.rst'],1,7e6bba6ceb2f68d60ed8200a7ad078f002319a4f,doc-bld-fix,TODO: document general info about fakes,.. todo:: document general info about fakes,1,1
openstack%2Fcinder~master~Ifc641d82e6eecbe12aa0e77242ce8555b7e57b76,openstack/cinder,master,Ifc641d82e6eecbe12aa0e77242ce8555b7e57b76,VMware: Add volume adapter type extra-spec option,MERGED,2017-05-19 05:22:08.000000000,2017-08-02 02:44:19.000000000,2017-08-01 19:48:55.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 15296}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20382}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-05-19 05:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b526787fee76664a5c6516891339ed5552cdda5', 'message': ""VMware: Add volume adapter type extra-spec option\n\nAdding a new volume type extra-spec option 'vmware:adapter_type'\nto override the default adapter type of volumes.\n\nDocImpact\nThe VMDK driver now supports a new extra-spec option\n'vmware:adapter_type' to override the default adapter\ntype specified by config option 'vmware_adapter_type'.\n\nChange-Id: Ifc641d82e6eecbe12aa0e77242ce8555b7e57b76\nCloses-bug: #1691285\n""}, {'number': 2, 'created': '2017-07-06 04:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0f854d9c117b5fb1f576b06995843c993134657', 'message': ""VMware: Add volume adapter type extra-spec option\n\nAdding a new volume type extra-spec option 'vmware:adapter_type'\nto override the default adapter type of volumes.\n\nDocImpact\nThe VMDK driver now supports a new extra-spec option\n'vmware:adapter_type' to override the default adapter\ntype specified by config option 'vmware_adapter_type'.\n\nChange-Id: Ifc641d82e6eecbe12aa0e77242ce8555b7e57b76\nCloses-bug: #1691285\n""}, {'number': 3, 'created': '2017-07-25 21:21:43.000000000', 'files': ['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/drivers/vmware/vmdk.py', 'releasenotes/notes/vmware_adapter_type-66164bc3857f244f.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8dbf2b7e980678f3f7dd8a0071d5f70cc3ad266a', 'message': ""VMware: Add volume adapter type extra-spec option\n\nAdding a new volume type extra-spec option 'vmware:adapter_type'\nto override the default adapter type of volumes.\n\nDocImpact\nThe VMDK driver now supports a new extra-spec option\n'vmware:adapter_type' to override the default adapter\ntype specified by config option 'vmware_adapter_type'.\n\nChange-Id: Ifc641d82e6eecbe12aa0e77242ce8555b7e57b76\nCloses-bug: #1691285\n""}]",0,466185,8dbf2b7e980678f3f7dd8a0071d5f70cc3ad266a,92,38,3,9171,,,0,"VMware: Add volume adapter type extra-spec option

Adding a new volume type extra-spec option 'vmware:adapter_type'
to override the default adapter type of volumes.

DocImpact
The VMDK driver now supports a new extra-spec option
'vmware:adapter_type' to override the default adapter
type specified by config option 'vmware_adapter_type'.

Change-Id: Ifc641d82e6eecbe12aa0e77242ce8555b7e57b76
Closes-bug: #1691285
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/466185/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/drivers/vmware/vmdk.py']",2,6b526787fee76664a5c6516891339ed5552cdda5,bug/1691285," # validate adapter type self._get_adapter_type(volume) LOG.debug(""Verified disk type, adapter type and storage profile "" ""of volume: %s."", volume.name) def _get_extra_spec_adapter_type(self, type_id): adapter_type = _get_volume_type_extra_spec( type_id, 'adapter_type', default_value=self.configuration.vmware_adapter_type) volumeops.VirtualDiskAdapterType.validate(adapter_type) return adapter_type def _get_adapter_type(self, volume): return self._get_extra_spec_adapter_type(volume['volume_type_id']) adapter_type = create_params.get(CREATE_PARAM_ADAPTER_TYPE, self._get_adapter_type(volume)) image_adapter_type = self._get_adapter_type(volume) self._get_adapter_type(volume),"," LOG.debug(""Verified disk type and storage profile of volume: %s."", volume.name) adapter_type = create_params.get( CREATE_PARAM_ADAPTER_TYPE, self.configuration.vmware_adapter_type) image_adapter_type = self.configuration.vmware_adapter_type self.configuration.vmware_adapter_type,",69,14
openstack%2Fcinder~master~I2b923af59d51a8b0c94ef4e111d20958d44182b0,openstack/cinder,master,I2b923af59d51a8b0c94ef4e111d20958d44182b0,VMware: Config option for default adapter type,MERGED,2017-05-16 22:13:41.000000000,2017-08-02 02:43:39.000000000,2017-08-01 19:41:15.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22501}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-05-16 22:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6779513bf2b641d445716b55fc9b1389eaedc1c', 'message': ""VMware: Config option for default adapter type\n\nCurrently vmdk volumes are created with lsiLogic adapter.\nThe volume may not be recognized if the guest OS does not\nsupport lsiLogic. Adding config option 'vmware_adapter_type'\nto specify the default adapter type for new volumes.\n\nDocImpact\nAdded new driver config option 'vmware_adapter_type' to\nspecify the default adapter type for new volumes created\nby the VMware VMDK driver.\n\nPartial-bug: #1691285\nChange-Id: I2b923af59d51a8b0c94ef4e111d20958d44182b0\n""}, {'number': 2, 'created': '2017-07-06 04:06:29.000000000', 'files': ['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'releasenotes/notes/vmware_vmdk_default_adapter_type-8e247bce5b229c7a.yaml', 'cinder/volume/drivers/vmware/vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fdd49d09a6c85b4b07be18d56ac29c5af2ac224f', 'message': ""VMware: Config option for default adapter type\n\nCurrently vmdk volumes are created with lsiLogic adapter.\nThe volume may not be recognized if the guest OS does not\nsupport lsiLogic. Adding config option 'vmware_adapter_type'\nto specify the default adapter type for new volumes.\n\nDocImpact\nAdded new driver config option 'vmware_adapter_type' to\nspecify the default adapter type for new volumes created\nby the VMware VMDK driver.\n\nPartial-bug: #1691285\nChange-Id: I2b923af59d51a8b0c94ef4e111d20958d44182b0\n""}]",2,465186,fdd49d09a6c85b4b07be18d56ac29c5af2ac224f,99,38,2,9171,,,0,"VMware: Config option for default adapter type

Currently vmdk volumes are created with lsiLogic adapter.
The volume may not be recognized if the guest OS does not
support lsiLogic. Adding config option 'vmware_adapter_type'
to specify the default adapter type for new volumes.

DocImpact
Added new driver config option 'vmware_adapter_type' to
specify the default adapter type for new volumes created
by the VMware VMDK driver.

Partial-bug: #1691285
Change-Id: I2b923af59d51a8b0c94ef4e111d20958d44182b0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/465186/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'releasenotes/notes/vmware_vmdk_default_adapter_type-8e247bce5b229c7a.yaml', 'cinder/volume/drivers/vmware/vmdk.py']",3,a6779513bf2b641d445716b55fc9b1389eaedc1c,bug/1691285," cfg.StrOpt('vmware_adapter_type', choices=[volumeops.VirtualDiskAdapterType.LSI_LOGIC, volumeops.VirtualDiskAdapterType.BUS_LOGIC, volumeops.VirtualDiskAdapterType.LSI_LOGIC_SAS, volumeops.VirtualDiskAdapterType.PARA_VIRTUAL, volumeops.VirtualDiskAdapterType.IDE], default=volumeops.VirtualDiskAdapterType.LSI_LOGIC, help='Default adapter type to be used for attaching volumes.'), adapter_type = create_params.get( CREATE_PARAM_ADAPTER_TYPE, self.configuration.vmware_adapter_type) image_adapter_type = self.configuration.vmware_adapter_type self.configuration.vmware_adapter_type,"," adapter_type = create_params.get(CREATE_PARAM_ADAPTER_TYPE, 'lsiLogic') image_adapter_type = volumeops.VirtualDiskAdapterType.LSI_LOGIC 'lsiLogic',",22,6
openstack%2Fpython-masakariclient~master~I1029be8dedd8d4530586c2b4b852c7ddc1d03cf7,openstack/python-masakariclient,master,I1029be8dedd8d4530586c2b4b852c7ddc1d03cf7,Use os-testr and add PY35 support,MERGED,2017-07-31 07:37:23.000000000,2017-08-02 02:41:00.000000000,2017-08-02 02:41:00.000000000,"[{'_account_id': 3}, {'_account_id': 1011}, {'_account_id': 8988}]","[{'number': 1, 'created': '2017-07-31 07:37:23.000000000', 'files': ['test-requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/7e21abfc1d08a8fdd38778b9bf76e3e01edf59eb', 'message': 'Use os-testr and add PY35 support\n\npython-masakariclient should use os-testr instead of testr as\nit is more powerful and provide much prettier output than testr.\n\nThis patch also disables the use of PY34 and adds PY35 for in tox\nas the gating on python 3.4 is restricted to <= Mitaka in OpenStack.\nThis is due to the change from Ubuntu Trusty to Xenial, where only\npython3.5 is available.\n\nChange-Id: I1029be8dedd8d4530586c2b4b852c7ddc1d03cf7\n'}]",0,489117,7e21abfc1d08a8fdd38778b9bf76e3e01edf59eb,7,3,1,20191,,,0,"Use os-testr and add PY35 support

python-masakariclient should use os-testr instead of testr as
it is more powerful and provide much prettier output than testr.

This patch also disables the use of PY34 and adds PY35 for in tox
as the gating on python 3.4 is restricted to <= Mitaka in OpenStack.
This is due to the change from Ubuntu Trusty to Xenial, where only
python3.5 is available.

Change-Id: I1029be8dedd8d4530586c2b4b852c7ddc1d03cf7
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/17/489117/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'setup.cfg', 'tox.ini']",3,7e21abfc1d08a8fdd38778b9bf76e3e01edf59eb,use_ostestr,"envlist = py35,py27,pypy,pep8setenv = VIRTUAL_ENV={envdir} OS_TEST_PATH=./masakariclient/tests/unit LANGUAGE=en_US LC_ALL=en_US.utf-8whitelist_externals = bash find rm env # By default ostestr will set concurrency # to ncpu, to specify something else use # the concurrency=<n> option. # call ie: 'tox -epy27 -- --concurrency=4' commands = find . -type f -name ""*.pyc"" -delete rm -Rf .testrepository/times.dbm passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHES [testenv:py27] commands = {[testenv]commands} ostestr '{posargs}' [testenv:py35] commands = {[testenv]commands} ostestr '{posargs}'","envlist = py34,py27,pypy,pep8setenv = VIRTUAL_ENV={envdir} PYTHONWARNINGS=default::DeprecationWarningcommands = python setup.py test --slowest --testr-args='{posargs}'",29,7
openstack%2Fmasakari-monitors~master~Ib84b0b28a845e49eaef969d0fc995b1adbb7b29d,openstack/masakari-monitors,master,Ib84b0b28a845e49eaef969d0fc995b1adbb7b29d,Use os-testr and add PY35 support,MERGED,2017-07-31 07:41:43.000000000,2017-08-02 02:37:51.000000000,2017-08-02 02:37:51.000000000,"[{'_account_id': 3}, {'_account_id': 1011}, {'_account_id': 8988}]","[{'number': 1, 'created': '2017-07-31 07:41:43.000000000', 'files': ['masakarimonitors/tests/unit/processmonitor/test_process.py', 'masakarimonitors/processmonitor/process.py', 'requirements.txt', 'test-requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/5f591452764e78b5bbfa9b6043e0a7387afdf903', 'message': ""Use os-testr and add PY35 support\n\nmasakari-monitors should use os-testr instead of testr as\nit is more powerful and provide much prettier output than testr.\n\nThis patch also disables the use of PY34 and adds PY35 for in tox\nas the gating on python 3.4 is restricted to <= Mitaka in OpenStack.\nThis is due to the change from Ubuntu Trusty to Xenial, where only\npython3.5 is available. Python 3 don't have 'file' builtin method so\nto make it compatible with Python 2 and 3 used 'open' builtin method.\nAlso fixed the failing test cases due to that.\n\nChange-Id: Ib84b0b28a845e49eaef969d0fc995b1adbb7b29d\n""}]",0,489118,5f591452764e78b5bbfa9b6043e0a7387afdf903,7,3,1,20191,,,0,"Use os-testr and add PY35 support

masakari-monitors should use os-testr instead of testr as
it is more powerful and provide much prettier output than testr.

This patch also disables the use of PY34 and adds PY35 for in tox
as the gating on python 3.4 is restricted to <= Mitaka in OpenStack.
This is due to the change from Ubuntu Trusty to Xenial, where only
python3.5 is available. Python 3 don't have 'file' builtin method so
to make it compatible with Python 2 and 3 used 'open' builtin method.
Also fixed the failing test cases due to that.

Change-Id: Ib84b0b28a845e49eaef969d0fc995b1adbb7b29d
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/18/489118/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/processmonitor/test_process.py', 'masakarimonitors/processmonitor/process.py', 'requirements.txt', 'test-requirements.txt', 'setup.cfg', 'tox.ini']",6,5f591452764e78b5bbfa9b6043e0a7387afdf903,use_ostestr,"envlist = py35,py27,pypy,pep8setenv = VIRTUAL_ENV={envdir} OS_TEST_PATH=./masakarimonitors/tests/unit LANGUAGE=en_US LC_ALL=en_US.utf-8whitelist_externals = bash find rm env # By default ostestr will set concurrency # to ncpu, to specify something else use # the concurrency=<n> option. # call ie: 'tox -epy27 -- --concurrency=4' commands = find . -type f -name ""*.pyc"" -delete rm -Rf .testrepository/times.dbm passenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_DEBUG GENERATE_HASHES [testenv:py27] commands = {[testenv]commands} ostestr '{posargs}' [testenv:py35] commands = {[testenv]commands} ostestr '{posargs}'","envlist = py34,py27,pypy,pep8setenv = VIRTUAL_ENV={envdir} PYTHONWARNINGS=default::DeprecationWarningcommands = python setup.py test --slowest --testr-args='{posargs}'",35,16
openstack%2Freleases~master~Ib90338156c0eafd27570e875e8c2e708e942ca35,openstack/releases,master,Ib90338156c0eafd27570e875e8c2e708e942ca35,Remove extral spaces when adding new releases,ABANDONED,2017-05-15 10:12:06.000000000,2017-08-02 02:27:58.000000000,,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-05-15 10:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f02caca82479eddd76e705124f6765a94816acd7', 'message': 'Remove extral spaces when\n\nThe command line new-release genrates extra spaces as follow:\n  - version: 4.1.1\n    projects:\n      - repo: openstack/oslo.config\n        hash: 3290830993094d8bfebaabd499ffd825bffdb3a6\n\nNeed remove these extra spaces to pass the doc test.\n\nChange-Id: Ib90338156c0eafd27570e875e8c2e708e942ca35\n'}, {'number': 2, 'created': '2017-07-05 06:06:57.000000000', 'files': ['openstack_releases/cmds/new_release.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/028401406426dd7d814f75dd924f64cbc3188c8d', 'message': 'Remove extral spaces when adding new releases\n\nThe command line new-release genrates extra spaces as follow:\n  - version: 4.1.1\n    projects:\n      - repo: openstack/oslo.config\n        hash: 3290830993094d8bfebaabd499ffd825bffdb3a6\n\nNeed remove these extra spaces to pass the doc test.\n\nChange-Id: Ib90338156c0eafd27570e875e8c2e708e942ca35\n'}]",0,464601,028401406426dd7d814f75dd924f64cbc3188c8d,12,4,2,9796,,,0,"Remove extral spaces when adding new releases

The command line new-release genrates extra spaces as follow:
  - version: 4.1.1
    projects:
      - repo: openstack/oslo.config
        hash: 3290830993094d8bfebaabd499ffd825bffdb3a6

Need remove these extra spaces to pass the doc test.

Change-Id: Ib90338156c0eafd27570e875e8c2e708e942ca35
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/464601/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/new_release.py'],1,f02caca82479eddd76e705124f6765a94816acd7,release_format,- version: {version} projects: - repo: {repo} hash: {hash}, - version: {version} projects: - repo: {repo} hash: {hash},4,4
openstack%2Fheat-templates~master~I1ac6371929fd2dbbe16c8faa6617cad1e4367fdf,openstack/heat-templates,master,I1ac6371929fd2dbbe16c8faa6617cad1e4367fdf,Use correct policy references in autoscaling.yaml,MERGED,2017-08-01 10:16:30.000000000,2017-08-02 02:20:32.000000000,2017-08-02 02:20:32.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 8289}, {'_account_id': 12404}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-08-01 10:16:30.000000000', 'files': ['hot/autoscaling.yaml'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/a7243bc0896a24e0d403589b852ba51ecb4ff2a0', 'message': 'Use correct policy references in autoscaling.yaml\n\nIt seems I4a617daf063fb1faf01c71762d6509cb00eed0b6 has added some\nwrong resource references. It seems it was not detected at that\ntime with the dsvm job and some recent heat code changes have made\nit detect the issue.\n\nChange-Id: I1ac6371929fd2dbbe16c8faa6617cad1e4367fdf\nCloses-Bug: #1707874\n'}]",0,489554,a7243bc0896a24e0d403589b852ba51ecb4ff2a0,8,5,1,8833,,,0,"Use correct policy references in autoscaling.yaml

It seems I4a617daf063fb1faf01c71762d6509cb00eed0b6 has added some
wrong resource references. It seems it was not detected at that
time with the dsvm job and some recent heat code changes have made
it detect the issue.

Change-Id: I1ac6371929fd2dbbe16c8faa6617cad1e4367fdf
Closes-Bug: #1707874
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/54/489554/1 && git format-patch -1 --stdout FETCH_HEAD,['hot/autoscaling.yaml'],1,a7243bc0896a24e0d403589b852ba51ecb4ff2a0,bug/1707874," url: {get_attr: [web_server_scaleup_policy, signal_url]} url: {get_attr: [web_server_scaledown_policy, signal_url]}"," url: {get_attr: [scaleup_policy, signal_url]} url: {get_attr: [scaleup_policy, signal_url]}",2,2
openstack%2Fpaunch~master~Ic656d27c4428249c5394dcd9f998c5bb4e264250,openstack/paunch,master,Ic656d27c4428249c5394dcd9f998c5bb4e264250,paunch apply should exit nonzero for failures,MERGED,2017-08-01 19:38:16.000000000,2017-08-02 02:20:18.000000000,2017-08-02 02:20:18.000000000,"[{'_account_id': 3}, {'_account_id': 4571}]","[{'number': 1, 'created': '2017-08-01 19:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/becabe62655c118ebb40068212fc90b72794a711', 'message': 'paunch apply should exit nonzero for failures\n\nExit with the return code (nonzero) in case of a failure during paunch\napply. When executing commands such as ""docker run..."" the actual docker\nreturn code will be used as the exit code, which is what we want so that\nthe ansible tasks running paunch will actually fail.\n\nChange-Id: Ic656d27c4428249c5394dcd9f998c5bb4e264250\nPartial-Bug: #1707997\n'}, {'number': 2, 'created': '2017-08-01 22:16:53.000000000', 'files': ['paunch/cmd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/d11e04548e43c0ad099910cfacdb02d43e8a3a7c', 'message': 'paunch apply should exit nonzero for failures\n\nExit with the return code (nonzero) in case of a failure during paunch\napply. When executing commands such as ""docker run..."" the actual docker\nreturn code will be used as the exit code, which is what we want so that\nthe ansible tasks running paunch will actually fail.\n\nChange-Id: Ic656d27c4428249c5394dcd9f998c5bb4e264250\nPartial-Bug: #1707997\n'}]",0,489722,d11e04548e43c0ad099910cfacdb02d43e8a3a7c,16,2,2,7144,,,0,"paunch apply should exit nonzero for failures

Exit with the return code (nonzero) in case of a failure during paunch
apply. When executing commands such as ""docker run..."" the actual docker
return code will be used as the exit code, which is what we want so that
the ansible tasks running paunch will actually fail.

Change-Id: Ic656d27c4428249c5394dcd9f998c5bb4e264250
Partial-Bug: #1707997
",git fetch https://review.opendev.org/openstack/paunch refs/changes/22/489722/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/cmd.py'],1,becabe62655c118ebb40068212fc90b72794a711,bug/1707997," stdout, stderr, rc = paunch.apply( return rc ", paunch.apply(,3,1
openstack%2Fneutron~master~I755a1cb2e0037ec2316161a09ad462bc4b09f397,openstack/neutron,master,I755a1cb2e0037ec2316161a09ad462bc4b09f397,Check if record is stale after bulk pull,MERGED,2017-07-31 18:30:00.000000000,2017-08-02 02:13:17.000000000,2017-07-31 22:56:48.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}]","[{'number': 1, 'created': '2017-07-31 18:30:00.000000000', 'files': ['neutron/agent/resource_cache.py', 'neutron/tests/unit/agent/test_resource_cache.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec709767e6ca7fa7d8ceb81b6ef76fdde1580289', 'message': 'Check if record is stale after bulk pull\n\nWe need to check if the results from a bulk_pull are stale because\nthe resource might have been updated and concurrently pushed from\nthe server while the bulk_pull query was being fulfilled.\n\nChange-Id: I755a1cb2e0037ec2316161a09ad462bc4b09f397\nCloses-Bug: #1707699\n'}]",0,489295,ec709767e6ca7fa7d8ceb81b6ef76fdde1580289,14,5,1,7787,,,0,"Check if record is stale after bulk pull

We need to check if the results from a bulk_pull are stale because
the resource might have been updated and concurrently pushed from
the server while the bulk_pull query was being fulfilled.

Change-Id: I755a1cb2e0037ec2316161a09ad462bc4b09f397
Closes-Bug: #1707699
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/489295/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/resource_cache.py', 'neutron/tests/unit/agent/test_resource_cache.py']",2,ec709767e6ca7fa7d8ceb81b6ef76fdde1580289,bug/1707699," def test_bulk_pull_doesnt_wipe_out_newer_data(self): self.rcache.record_resource_update( self.ctx, 'goose', OVOLikeThing(1, revision_number=5)) updated = OVOLikeThing(1) updated.revision_number = 1 # older revision number self._pullmock.bulk_pull.return_value = [updated] self.rcache._flood_cache_for_query('goose', id=(1,),) self.assertEqual( 5, self.rcache.get_resource_by_id('goose', 1).revision_number) ",,15,0
openstack%2Fcinder~stable%2Focata~I928eded513772b8b1c9f050f2d31d4334b1da8ae,openstack/cinder,stable/ocata,I928eded513772b8b1c9f050f2d31d4334b1da8ae,Do not delete group if group snapshot exists,MERGED,2017-07-27 02:37:31.000000000,2017-08-02 02:09:09.000000000,2017-07-28 04:18:31.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 19933}, {'_account_id': 22510}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-27 02:37:31.000000000', 'files': ['cinder/tests/unit/group/test_groups_api.py', 'cinder/tests/unit/api/v3/test_groups.py', 'releasenotes/notes/bug-1705375-prohibit-group-deletion-if-groupsnapshot-exists.yaml', 'cinder/group/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/42aa97ba3ef8f31e3188d0676aabc769121a2368', 'message': ""Do not delete group if group snapshot exists\n\nThis patch adds group snapshot's existence validation\nbefore performing group's deletion operation.\n\nCloses-Bug: #1705375\nChange-Id: I928eded513772b8b1c9f050f2d31d4334b1da8ae\n(cherry picked from commit 252ff38a9dbe9751a54a0ca9e88d30020cc58296)\n""}]",0,487669,42aa97ba3ef8f31e3188d0676aabc769121a2368,24,8,1,23083,,,0,"Do not delete group if group snapshot exists

This patch adds group snapshot's existence validation
before performing group's deletion operation.

Closes-Bug: #1705375
Change-Id: I928eded513772b8b1c9f050f2d31d4334b1da8ae
(cherry picked from commit 252ff38a9dbe9751a54a0ca9e88d30020cc58296)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/487669/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/v3/test_groups.py', 'cinder/tests/unit/group/test_groups_api.py', 'releasenotes/notes/bug-1705375-prohibit-group-deletion-if-groupsnapshot-exists.yaml', 'cinder/group/api.py']",4,42aa97ba3ef8f31e3188d0676aabc769121a2368,bug/1705375," # NOTE(tommylikehu): Admin context is required to load group snapshots. with group.obj_as_admin(): if group.group_snapshots: raise exception.InvalidGroup( reason=_(""Group has existing snapshots."")) ",,34,0
openstack%2Fopenstack-helm-addons~master~I57907675c046984f09728182c98c798325edfee2,openstack/openstack-helm-addons,master,I57907675c046984f09728182c98c798325edfee2,Testing updated Kube and Helm Versions,MERGED,2017-08-01 18:39:42.000000000,2017-08-02 02:01:34.000000000,2017-08-02 02:01:34.000000000,"[{'_account_id': 3}, {'_account_id': 17591}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-08-01 18:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/8256bcfb32d3c89e5ce35e23dc517fda3b3acd65', 'message': 'DNM: Testing updated Kube and Helm Versions\n\nGate is failing. Testing if updating the versions will fix\nthe issue we are seeing.\n\nChange-Id: I57907675c046984f09728182c98c798325edfee2\n'}, {'number': 2, 'created': '2017-08-01 19:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ea1b01372f947d4f3effceeb9b92a51cb85ad10f', 'message': 'DNM: Testing updated Kube and Helm Versions\n\nGate is failing. Testing if updating the versions will fix\nthe issue we are seeing.\n\nChange-Id: I57907675c046984f09728182c98c798325edfee2\n'}, {'number': 3, 'created': '2017-08-01 19:20:43.000000000', 'files': ['tools/kubeadm-aio/README.rst', 'tools/gate/setup_gate.sh', 'tools/kubeadm-aio/Dockerfile'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b3781eabd9c647a7a5438f82593ea655e8c9a61a', 'message': 'Testing updated Kube and Helm Versions\n\nThe gate has been failing due to the outdated Kube\nand Helm versions. Updating to get the gate working\nagain and to match OpenStack-Helm.\n\nChange-Id: I57907675c046984f09728182c98c798325edfee2\n'}]",0,489704,b3781eabd9c647a7a5438f82593ea655e8c9a61a,10,3,3,17589,,,0,"Testing updated Kube and Helm Versions

The gate has been failing due to the outdated Kube
and Helm versions. Updating to get the gate working
again and to match OpenStack-Helm.

Change-Id: I57907675c046984f09728182c98c798325edfee2
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/04/489704/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/setup_gate.sh', 'tools/kubeadm-aio/Dockerfile']",2,8256bcfb32d3c89e5ce35e23dc517fda3b3acd65,testing_kube_version,ENV HELM_VERSION=v2.5.0\ KUBE_VERSION=v1.6.7 \,ENV HELM_VERSION=v2.4.1 \ KUBE_VERSION=v1.6.5 \,4,4
openstack%2Fcinder~master~Ia841ca55b36aa19d4d6b174239f4d4200793d4e5,openstack/cinder,master,Ia841ca55b36aa19d4d6b174239f4d4200793d4e5,Mock execute in unit test,MERGED,2017-07-25 05:21:23.000000000,2017-08-02 02:00:44.000000000,2017-07-27 21:41:16.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-07-25 05:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b4ead1e3ce442518e93908e0b783e1b3751a871', 'message': 'Mock execute in unit test\n\nThis patch fixes the test_volume_create_after_thin_creation test\nto mock execute instead of defining an execute method inside\nthe test.\n\nChange-Id: Ia841ca55b36aa19d4d6b174239f4d4200793d4e5\nCloses-bug: 1676646\n'}, {'number': 2, 'created': '2017-07-25 19:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9860e5fac60b0a8c6a3be790ff2d7568c3a6c0c5', 'message': 'Mock execute in unit test\n\nThis patch fixes the test_volume_create_after_thin_creation test\nto mock execute instead of defining an execute method inside\nthe test. Since the unit test is run twice with different options,\nthe unit test asserts different things depending on the configuration\nof how the test is being run.\n\nChange-Id: Ia841ca55b36aa19d4d6b174239f4d4200793d4e5\nCloses-bug: 1676646\n'}, {'number': 3, 'created': '2017-07-26 22:24:44.000000000', 'files': ['cinder/tests/unit/brick/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/438b3e8fc2af1882d1df21eaf94331c2b0836490', 'message': 'Mock execute in unit test\n\nThis patch fixes the test_volume_create_after_thin_creation test\nto mock execute instead of defining an execute method inside\nthe test. Since the unit test is run twice with different options,\nthe unit test asserts different things depending on the configuration\nof how the test is being run.\n\nChange-Id: Ia841ca55b36aa19d4d6b174239f4d4200793d4e5\nCloses-bug: 1676646\n'}]",1,486870,438b3e8fc2af1882d1df21eaf94331c2b0836490,69,30,3,16708,,,0,"Mock execute in unit test

This patch fixes the test_volume_create_after_thin_creation test
to mock execute instead of defining an execute method inside
the test. Since the unit test is run twice with different options,
the unit test asserts different things depending on the configuration
of how the test is being run.

Change-Id: Ia841ca55b36aa19d4d6b174239f4d4200793d4e5
Closes-bug: 1676646
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/486870/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/brick/test_brick_lvm.py'],1,3b4ead1e3ce442518e93908e0b783e1b3751a871,bug/1676646," self.vg._execute = mock.Mock() self.vg._execute.assert_called_once_with( 'env', 'LC_ALL=C', 'lvcreate', '-T', '-V', '1G', '-n', 'test', 'fake-vg/vg-name-pool', root_helper='sudo', run_as_root=True)"," pool_path = ""%s/%s"" % (vg_name, pool_name) def executor(obj, *cmd, **kwargs): self.assertEqual(pool_path, cmd[-1]) self.vg._executor = executor",5,8
openstack%2Fkarbor~master~Id5158e697d427369085e17b3c2b55db1e93239b9,openstack/karbor,master,Id5158e697d427369085e17b3c2b55db1e93239b9,Add extra_info when creating checkpoint in scheduled operation,MERGED,2016-11-21 12:17:53.000000000,2017-08-02 02:00:31.000000000,2017-08-02 02:00:31.000000000,"[{'_account_id': 3}, {'_account_id': 2023}, {'_account_id': 17151}, {'_account_id': 17192}, {'_account_id': 18266}, {'_account_id': 18908}, {'_account_id': 19346}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 21648}]","[{'number': 1, 'created': '2016-11-21 12:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5769e6e7db9e0cdfe12ba5c0f3474fa4c2b63574', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nPartial Implements: blueprint checkpoint-scheduled-clean\n\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 2, 'created': '2016-11-22 02:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5a563666b49e969503f7e38427ef44e4226787dc', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 3, 'created': '2016-11-29 03:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d979813ae8e6fd33a1a21bb7a6fb2468a12207df', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 4, 'created': '2016-12-20 02:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b26de8b85acc322d89da18600339035d14126cb1', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 5, 'created': '2016-12-21 03:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/0874e67630c56def90027f2b0070783d43a36691', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 6, 'created': '2017-02-10 06:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e1790a5e9a19a36759d13af45136d63fd9b4aadd', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 7, 'created': '2017-02-13 02:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b026dd8f742096ae90948818c0d6ccd28f1b1317', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 8, 'created': '2017-02-13 09:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b838d35813befdd7a158d3d6706634ebf5b21047', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 9, 'created': '2017-02-21 06:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/5b26e63db4752ed665aa3a1c7c535295ae899269', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 10, 'created': '2017-03-07 01:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/dbb78e1ae4aabe06d83d21e05f64ecb09dc00a4a', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 11, 'created': '2017-03-14 01:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/10cff9ba274dced8249c845c7390ee8344408050', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 12, 'created': '2017-03-14 01:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4fab4b07d70450d5eaf5298622a3cdafb67631d3', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 13, 'created': '2017-03-15 06:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/fc81cd4fdc4a0b2bee76c1552e3dd56eee99e28b', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 14, 'created': '2017-03-22 02:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ba1a2c80ab00cd1ee0d5d4371fe459c385f8322e', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 15, 'created': '2017-03-22 03:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/bdcee7f105e2e603d24170a077af188c43e5aa21', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 16, 'created': '2017-03-22 06:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/0fb50f18be78613f61c25910e0349da1f01f5c1a', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 17, 'created': '2017-06-29 09:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/31c1d9dbdf3742bba22b7ceab32c5e20305a0df9', 'message': 'Add extra_info when scheduled exec\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nPartial Implements: blueprint checkpoint-scheduled-clean\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 18, 'created': '2017-06-29 09:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/fdbd1d8efb9e8f38ae86553adb21aabd84d3a281', 'message': 'Add extra_info when creating checkpoint in scheduled operation\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nCo-authored-by: chenying <ying.chen@huawei.com>\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 19, 'created': '2017-07-31 08:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2fed54aad4bc492c3ae258de14ab8694ceb831e8', 'message': 'Add extra_info when creating checkpoint in scheduled operation\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nCo-authored-by: chenying <ying.chen@huawei.com>\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}, {'number': 20, 'created': '2017-07-31 14:27:32.000000000', 'files': ['karbor/tests/unit/operationengine/operations/test_protect_operation.py', 'karbor/common/constants.py', 'karbor/services/operationengine/engine/executors/scheduled_operation_executor.py', 'karbor/services/operationengine/operations/protect_operation.py', 'karbor/services/operationengine/engine/executors/green_thread_executor.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/e6103c62576ddf3a4a7cfef019a881076b88eca0', 'message': 'Add extra_info when creating checkpoint in scheduled operation\n\nWhen scheduled operation the creation of checkpoint, pass extra_info\nparameter.\n\nCo-authored-by: chenying <ying.chen@huawei.com>\nDepends-On: I34c3f2996b11a0597091276eedd120c5222073b4\nChange-Id: Id5158e697d427369085e17b3c2b55db1e93239b9\n'}]",8,400222,e6103c62576ddf3a4a7cfef019a881076b88eca0,67,10,20,21648,,,0,"Add extra_info when creating checkpoint in scheduled operation

When scheduled operation the creation of checkpoint, pass extra_info
parameter.

Co-authored-by: chenying <ying.chen@huawei.com>
Depends-On: I34c3f2996b11a0597091276eedd120c5222073b4
Change-Id: Id5158e697d427369085e17b3c2b55db1e93239b9
",git fetch https://review.opendev.org/openstack/karbor refs/changes/22/400222/19 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/common/constants.py', 'karbor/services/operationengine/operations/protect_operation.py']",2,5769e6e7db9e0cdfe12ba5c0f3474fa4c2b63574,protection_extra_info," checkpoint_extra_info = {'create_by': constants.SCHEDULED} operation_definition.get(""plan_id""), checkpoint_extra_info)"," operation_definition.get(""plan_id""))",9,1
openstack%2Fopenstack-helm-addons~master~I4bed6ea492711b64a4f0eeda65d896d8854de7dc,openstack/openstack-helm-addons,master,I4bed6ea492711b64a4f0eeda65d896d8854de7dc,Update Kubernetes and Helm versions,ABANDONED,2017-07-14 20:12:10.000000000,2017-08-02 01:59:17.000000000,,"[{'_account_id': 3}, {'_account_id': 17591}, {'_account_id': 20466}]","[{'number': 1, 'created': '2017-07-14 20:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4761dfc13ae1d95168ca935e790cfe48724503a4', 'message': 'Update Kubernetes and Helm versions\n\nUpdates Helm to 2.5.0 and Kubernetes to 1.6.7 to match versions\nin openstack-helm.  This was seemingly the cause of some gate\nfailures\n\nChange-Id: I4bed6ea492711b64a4f0eeda65d896d8854de7dc\n'}, {'number': 2, 'created': '2017-07-14 21:34:51.000000000', 'files': ['tools/kubeadm-aio/README.rst', 'tools/gate/setup_gate.sh', 'tools/gate/basic_launch.sh', 'tools/kubeadm-aio/Dockerfile'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ce50303ae456f731fa0159e6c4a58eb3c745a909', 'message': 'Update Kubernetes and Helm versions\n\nUpdates Helm to 2.5.0 and Kubernetes to 1.6.7 to match versions\nin openstack-helm.  This was seemingly the cause of some gate\nfailures\n\nChange-Id: I4bed6ea492711b64a4f0eeda65d896d8854de7dc\n'}]",6,484034,ce50303ae456f731fa0159e6c4a58eb3c745a909,9,3,2,17591,,,0,"Update Kubernetes and Helm versions

Updates Helm to 2.5.0 and Kubernetes to 1.6.7 to match versions
in openstack-helm.  This was seemingly the cause of some gate
failures

Change-Id: I4bed6ea492711b64a4f0eeda65d896d8854de7dc
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/34/484034/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/kubeadm-aio/README.rst', 'tools/gate/setup_gate.sh', 'tools/gate/basic_launch.sh', 'tools/kubeadm-aio/Dockerfile']",4,4761dfc13ae1d95168ca935e790cfe48724503a4,fix_version,ENV HELM_VERSION=v2.5.0 \ KUBE_VERSION=v1.6.7 \,ENV HELM_VERSION=v2.4.1 \ KUBE_VERSION=v1.6.5 \,8,8
openstack%2Fcinder~master~Ibd1a5c316027a9e5230b3bf06a311b9d089f6b7e,openstack/cinder,master,Ibd1a5c316027a9e5230b3bf06a311b9d089f6b7e,Revert MySQL Cluster Support until an approach is worked out,MERGED,2017-07-26 21:58:51.000000000,2017-08-02 01:58:03.000000000,2017-07-27 11:11:23.000000000,"[{'_account_id': 3}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11816}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-07-26 21:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33c2490a81a880eb8639653810fe5bbcd373060c', 'message': ""Revert MySQL Cluster Support until an approach is worked out\n\nThe approach merged in\nI6e92b6057d319e20706608f984a4e0836eaf6a16 is being revised,\nspecifically changes to datatypes within the migration file\nwill no longer work in the way specified.  Either the names\nand arguments of the datatypes will change, or the concept of\naltering a migration in place will not be used.  In any case,\nas this is the only merged patch and I'd like to hopefully\ncleanly remove types like\nAutoStringText from oslo_db, if this can be reverted before a release\nthat will give us time to rethink this approach without struggling\nwith backwards incompatibility.  Similar patches for Nova, Neutron\netc. are all waiting for now.\n\nSee also: http://lists.openstack.org/pipermail/openstack-dev/2017-July/120037.html\n\nChange-Id: Ibd1a5c316027a9e5230b3bf06a311b9d089f6b7e\n""}, {'number': 2, 'created': '2017-07-26 22:09:47.000000000', 'files': ['releasenotes/notes/bug-1564110-enables-mysql-cluster-support-99012d96e029223a.yaml', 'cinder/db/sqlalchemy/migrate_repo/versions/073_cinder_init.py', 'cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8b6e97901168093214d2e2edc119e9b125f9343', 'message': ""Revert MySQL Cluster Support until an approach is worked out\n\nThe approach merged in\nI6e92b6057d319e20706608f984a4e0836eaf6a16 is being revised,\nspecifically changes to datatypes within the migration file\nwill no longer work in the way specified.  Either the names\nand arguments of the datatypes will change, or the concept of\naltering a migration in place will not be used.  In any case,\nas this is the only merged patch and I'd like to hopefully\ncleanly remove types like\nAutoStringText from oslo_db, if this can be reverted before a release\nthat will give us time to rethink this approach without struggling\nwith backwards incompatibility.  Similar patches for Nova, Neutron\netc. are all waiting for now.\n\nSee also: http://lists.openstack.org/pipermail/openstack-dev/2017-July/120037.html\n\nChange-Id: Ibd1a5c316027a9e5230b3bf06a311b9d089f6b7e\n""}]",1,487603,d8b6e97901168093214d2e2edc119e9b125f9343,44,15,2,11816,,,0,"Revert MySQL Cluster Support until an approach is worked out

The approach merged in
I6e92b6057d319e20706608f984a4e0836eaf6a16 is being revised,
specifically changes to datatypes within the migration file
will no longer work in the way specified.  Either the names
and arguments of the datatypes will change, or the concept of
altering a migration in place will not be used.  In any case,
as this is the only merged patch and I'd like to hopefully
cleanly remove types like
AutoStringText from oslo_db, if this can be reverted before a release
that will give us time to rethink this approach without struggling
with backwards incompatibility.  Similar patches for Nova, Neutron
etc. are all waiting for now.

See also: http://lists.openstack.org/pipermail/openstack-dev/2017-July/120037.html

Change-Id: Ibd1a5c316027a9e5230b3bf06a311b9d089f6b7e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/487603/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cinder/db/sqlalchemy/migrate_repo/versions/073_cinder_init.py', 'releasenotes/notes/bug-1564110-enables-mysql-cluster-support-99012d96e029223a.yaml', 'cinder/db/sqlalchemy/models.py']",4,33c2490a81a880eb8639653810fe5bbcd373060c,revert_mysql_cluster, availability_zone = Column(String(255)) # TODO(vish): foreign key? status = Column(String(255)) # TODO(vish): enum? attach_status = Column(String(255)) # TODO(vish): enum migration_status = Column(String(255)) display_description = Column(String(255)) replication_status = Column(String(255)) replication_extended_status = Column(String(255)) replication_driver_data = Column(String(255)),"from oslo_db.sqlalchemy import ndb availability_zone = Column(ndb.AutoStringTinyText(255)) # TODO(vish):fkey? status = Column(ndb.AutoStringSize(255, 64)) # TODO(vish): enum? attach_status = Column(ndb.AutoStringSize(255, 64)) # TODO(vish): enum migration_status = Column(ndb.AutoStringSize(255, 64)) display_description = Column(ndb.AutoStringTinyText(255)) replication_status = Column(ndb.AutoStringSize(255, 64)) replication_extended_status = Column(ndb.AutoStringTinyText(255)) replication_driver_data = Column(ndb.AutoStringTinyText(255))",17,28
openstack%2Fcinder~master~I833b5233edbbd811878a2b42b1e0aadb6cc9161a,openstack/cinder,master,I833b5233edbbd811878a2b42b1e0aadb6cc9161a,[DOC BLD FIX] Add code:: blocks to manager.py,MERGED,2017-07-26 19:39:53.000000000,2017-08-02 01:55:22.000000000,2017-07-27 17:04:08.000000000,"[{'_account_id': 3}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 26077}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-07-26 19:39:53.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f46e83ff686f75467d26927683dfde092ecb7bcf', 'message': '[DOC BLD FIX] Add code:: blocks to manager.py\n\nThere were a few blocks of code in the dosctrings for\nmanager.py that needed to be indicated as code blocks\nto avoid Sphinx build warnings.  This patch adds\nthose sections.\n\nChange-Id: I833b5233edbbd811878a2b42b1e0aadb6cc9161a\n'}]",0,487572,f46e83ff686f75467d26927683dfde092ecb7bcf,70,18,1,7198,,,0,"[DOC BLD FIX] Add code:: blocks to manager.py

There were a few blocks of code in the dosctrings for
manager.py that needed to be indicated as code blocks
to avoid Sphinx build warnings.  This patch adds
those sections.

Change-Id: I833b5233edbbd811878a2b42b1e0aadb6cc9161a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/487572/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,f46e83ff686f75467d26927683dfde092ecb7bcf,doc-fix-manager," .. code:: json .. code:: json .. code:: json { 'replication_targets': [ { 'backend_id': 'vendor-id-1', 'unique_key': 'val1', ...... }, { 'backend_id': 'vendor-id-2', 'unique_key': 'val2', ...... } ] } .. code json { 'replication_targets': [ { 'backend_id': 'vendor-id-1' }, { 'backend_id': 'vendor-id-2' } ] }"," { 'replication_targets': [ { 'backend_id': 'vendor-id-1', 'unique_key': 'val1', ...... }, { 'backend_id': 'vendor-id-2', 'unique_key': 'val2', ...... } ] } { 'replication_targets': [ { 'backend_id': 'vendor-id-1' }, { 'backend_id': 'vendor-id-2' } ] }",34,24
openstack%2Fcinder~master~I0e009d4375ed029fe72c9e8728ec498b44683edb,openstack/cinder,master,I0e009d4375ed029fe72c9e8728ec498b44683edb,[DOC BLD FIX] Fix docstring problems in vzstorage driver,MERGED,2017-07-26 17:57:05.000000000,2017-08-02 01:52:39.000000000,2017-07-26 22:25:56.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-07-26 17:57:05.000000000', 'files': ['cinder/volume/drivers/vzstorage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5fe884be0672891711bf5aa3438cdfeceda466b7', 'message': '[DOC BLD FIX] Fix docstring problems in vzstorage driver\n\nThere are docstring issues in the vzstorage driver that\ncaused the Sphinx build process to produce WARNINGs.\nThis patch corrects those issues.\n\nChange-Id: I0e009d4375ed029fe72c9e8728ec498b44683edb\n'}]",0,487541,5fe884be0672891711bf5aa3438cdfeceda466b7,32,22,1,7198,,,0,"[DOC BLD FIX] Fix docstring problems in vzstorage driver

There are docstring issues in the vzstorage driver that
caused the Sphinx build process to produce WARNINGs.
This patch corrects those issues.

Change-Id: I0e009d4375ed029fe72c9e8728ec498b44683edb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/487541/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/vzstorage.py'],1,5fe884be0672891711bf5aa3438cdfeceda466b7,doc-bld-fix, # do something, # do something,1,1
openstack%2Fcinder~master~I065b904bc881324de79ce59afd5bb97a97ea1b85,openstack/cinder,master,I065b904bc881324de79ce59afd5bb97a97ea1b85,Volume type with encryption comparison,MERGED,2017-06-27 11:06:12.000000000,2017-08-02 01:49:56.000000000,2017-08-02 01:49:56.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 15961}, {'_account_id': 16258}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21517}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22664}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25805}, {'_account_id': 26077}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-06-27 11:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41db0fa3c69b26972ad35892e2de2d1cd0e4673c', 'message': ""Correct volume type comparison with encryption\n\nComparison of volume types with same encryption\nwill returns true, instead of false because of\nunique field 'encryption_id', so ignore this\nfield before comparing.\n\nChange-Id: I065b904bc881324de79ce59afd5bb97a97ea1b85\nCloses-Bug: 1700741\n""}, {'number': 2, 'created': '2017-06-29 05:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a424a65bb1a37e19699b5e13855d2e69ec508c6', 'message': ""volume type with encryption comparison\n\nIn volume retype with encryption, Comparison of\nvolume types with same encryption will returns\ntrue, instead of false because of unique field\n'encryption_id', so ignore this field before\ncomparing.\n\nChange-Id: I065b904bc881324de79ce59afd5bb97a97ea1b85\nCloses-Bug: 1700741\n""}, {'number': 3, 'created': '2017-06-30 03:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1376cfd8fe39733a039c6cefce93c933c6a8fee', 'message': ""Volume type with encryption comparison\n\nIn volume retype with encryption, comparison of\nvolume types with same encryption will returns\ntrue, instead of false because of unique field\n'encryption_id', so ignore this field before\ncomparing.\n\nChange-Id: I065b904bc881324de79ce59afd5bb97a97ea1b85\nCloses-Bug: 1700741\n""}, {'number': 4, 'created': '2017-07-13 02:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c21ee756a46550e080d093c930797a75d8509270', 'message': ""Volume type with encryption comparison\n\nIn volume retype with encryption, comparison of\nvolume types with same encryption will returns\ntrue, instead of false because of unique field\n'encryption_id', so ignore this field before\ncomparing.\n\nChange-Id: I065b904bc881324de79ce59afd5bb97a97ea1b85\nCloses-Bug: 1700741\n""}, {'number': 5, 'created': '2017-07-25 05:08:13.000000000', 'files': ['cinder/tests/unit/test_volume_types.py', 'cinder/volume/volume_types.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/32ea9339ea13c4cd207a7f1ae5b24e82db90061c', 'message': ""Volume type with encryption comparison\n\nIn volume retype with encryption, comparison of\nvolume types with same encryption will returns\ntrue, instead of false because of unique field\n'encryption_id', so ignore this field before\ncomparing.\n\nChange-Id: I065b904bc881324de79ce59afd5bb97a97ea1b85\nCloses-Bug: 1700741\n""}]",2,477888,32ea9339ea13c4cd207a7f1ae5b24e82db90061c,174,52,5,24952,,,0,"Volume type with encryption comparison

In volume retype with encryption, comparison of
volume types with same encryption will returns
true, instead of false because of unique field
'encryption_id', so ignore this field before
comparing.

Change-Id: I065b904bc881324de79ce59afd5bb97a97ea1b85
Closes-Bug: 1700741
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/477888/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_volume_types.py', 'cinder/volume/volume_types.py']",2,41db0fa3c69b26972ad35892e2de2d1cd0e4673c,bug/1700741," 'deleted_at', 'encryption_id']", 'deleted_at'],4,7
openstack%2Fcinder~master~I43d8c8549a5109fe02cc1ddedff4439a0bd5e71c,openstack/cinder,master,I43d8c8549a5109fe02cc1ddedff4439a0bd5e71c,[DOC BLD FIX] Fix dosctring errors in veritas driver,MERGED,2017-07-26 17:20:52.000000000,2017-08-02 01:49:49.000000000,2017-07-26 22:06:52.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-07-26 17:20:52.000000000', 'files': ['cinder/volume/drivers/veritas_cnfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5bd10012723743f3f38ddc7b11aacacd9304d4c7', 'message': '[DOC BLD FIX] Fix dosctring errors in veritas driver\n\nThere were docstring issues in the veritas driver causing\nSphinx to produce WARNINGs during the build.  This patch\ncorrects that.\n\nChange-Id: I43d8c8549a5109fe02cc1ddedff4439a0bd5e71c\n'}]",0,487528,5bd10012723743f3f38ddc7b11aacacd9304d4c7,32,21,1,7198,,,0,"[DOC BLD FIX] Fix dosctring errors in veritas driver

There were docstring issues in the veritas driver causing
Sphinx to produce WARNINGs during the build.  This patch
corrects that.

Change-Id: I43d8c8549a5109fe02cc1ddedff4439a0bd5e71c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/487528/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/veritas_cnfs.py'],1,5bd10012723743f3f38ddc7b11aacacd9304d4c7,doc-bld-fix, .. code-block:: default Version History: 1.0.0 - Initial driver implementations for Kilo. 1.0.1 - Liberty release driver not implemented. Place holder for Liberty release in case we need to support. 1.0.2 - cinder.interface.volumedriver decorator. Mitaka/Newton/Okata Release 1.0.3 - Seperate create_cloned_volume() and create_volume_from_snapshot () functionality. Pike Release , 1.0.0 - Initial driver implementations for Kilo. 1.0.1 - Liberty release driver not implemented. Place holder for Liberty release in case we need to support. 1.0.2 - cinder.interface.volumedriver decorator. Mitaka/Newton/Okata Release 1.0.3 - Seperate create_cloned_volume() and create_volume_from_snapshot () functionality. Pike Release,14,9
openstack%2Fheat~master~I5a22498e12bfde213d830ba0e653bd965ed8ae67,openstack/heat,master,I5a22498e12bfde213d830ba0e653bd965ed8ae67,Remove the range constraint for volume size of trove instance,ABANDONED,2017-05-03 03:36:57.000000000,2017-08-02 01:37:20.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 8833}]","[{'number': 1, 'created': '2017-05-03 03:36:57.000000000', 'files': ['heat/engine/resources/openstack/trove/cluster.py', 'heat/engine/resources/openstack/trove/instance.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5a51352cac03a1a77b9fa9f3e1ad558efda38c87', 'message': 'Remove the range constraint for volume size of trove instance\n\nThere is a config option to limit the volume size in\nTrove, so adding the range constraint in Heat makes\nno sense.\n\nChange-Id: I5a22498e12bfde213d830ba0e653bd965ed8ae67\nCloses-Bug: #1687846\n'}]",0,461979,5a51352cac03a1a77b9fa9f3e1ad558efda38c87,4,3,1,8289,,,0,"Remove the range constraint for volume size of trove instance

There is a config option to limit the volume size in
Trove, so adding the range constraint in Heat makes
no sense.

Change-Id: I5a22498e12bfde213d830ba0e653bd965ed8ae67
Closes-Bug: #1687846
",git fetch https://review.opendev.org/openstack/heat refs/changes/79/461979/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/trove/cluster.py', 'heat/engine/resources/openstack/trove/instance.py']",2,5a51352cac03a1a77b9fa9f3e1ad558efda38c87,bug/1687846, update_allowed=True," update_allowed=True, constraints=[ constraints.Range(1, 150), ]",2,8
openstack%2Ftripleo-heat-templates~master~I331b8fec3847bce6ca6c22a9f173055121ef65c9,openstack/tripleo-heat-templates,master,I331b8fec3847bce6ca6c22a9f173055121ef65c9,Fix network-isolation.j2.yaml to ignore VIPs for disabled networks,MERGED,2017-07-20 20:20:55.000000000,2017-08-02 01:35:47.000000000,2017-08-02 01:35:47.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 18575}]","[{'number': 1, 'created': '2017-07-20 20:20:55.000000000', 'files': ['environments/network-isolation.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48cf302fb9c1ff5a4ed08fb07cc86a41b33bee9d', 'message': 'Fix network-isolation.j2.yaml to ignore VIPs for disabled networks\n\nThis change modifies network-isolation.j2.yaml to ignore VIPs for\nnetworks that are disabled. This fixes a bug where VIPs would be\ncreated in network-isolation.yaml even if a network was disabled.\n\nChange-Id: I331b8fec3847bce6ca6c22a9f173055121ef65c9\n'}]",1,485810,48cf302fb9c1ff5a4ed08fb07cc86a41b33bee9d,20,6,1,12398,,,0,"Fix network-isolation.j2.yaml to ignore VIPs for disabled networks

This change modifies network-isolation.j2.yaml to ignore VIPs for
networks that are disabled. This fixes a bug where VIPs would be
created in network-isolation.yaml even if a network was disabled.

Change-Id: I331b8fec3847bce6ca6c22a9f173055121ef65c9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/485810/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/network-isolation.j2.yaml'],1,48cf302fb9c1ff5a4ed08fb07cc86a41b33bee9d,bp/composable-networks, {%- for network in networks if network.vip and network.enabled|default(true) %}, {%- for network in networks if network.vip %},1,1
openstack%2Ftripleo-heat-templates~master~Ieac62a8076e421b5c4843a3cbe1c8fa9e3825b38,openstack/tripleo-heat-templates,master,Ieac62a8076e421b5c4843a3cbe1c8fa9e3825b38,Remove empty metadata_settings from iscsid and multipathd templates,MERGED,2017-08-01 05:44:29.000000000,2017-08-02 01:30:11.000000000,2017-08-02 01:30:11.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-08-01 05:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/048520330a507b01d2472ae6dbffc49053226311', 'message': ""Remove empty metadata_settings from iscsid and multipathd templates\n\nmetadata_settings is meant to have a specific format or be completely\nabsent. Unfortunately the hook [1] doesn't an empty value for this. So\nwe remove it as an easy fix before figuring out how to add such a\nfunctionality to the hook.\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/extraconfig/nova_metadata/krb-service-principals.yaml\n\nChange-Id: Ieac62a8076e421b5c4843a3cbe1c8fa9e3825b38\n""}, {'number': 2, 'created': '2017-08-01 05:45:07.000000000', 'files': ['docker/services/multipathd.yaml', 'docker/services/iscsid.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52649405a2e050c2ad36f5ac454f4955cf6481ba', 'message': ""Remove empty metadata_settings from iscsid and multipathd templates\n\nmetadata_settings is meant to have a specific format or be completely\nabsent. Unfortunately the hook [1] doesn't an empty value for this. So\nwe remove it as an easy fix before figuring out how to add such a\nfunctionality to the hook.\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/extraconfig/nova_metadata/krb-service-principals.yaml\n\nCo-Authored-By: Thomas Herve <therve@redhat.com>\nChange-Id: Ieac62a8076e421b5c4843a3cbe1c8fa9e3825b38\n""}]",0,489472,52649405a2e050c2ad36f5ac454f4955cf6481ba,20,5,2,10873,,,0,"Remove empty metadata_settings from iscsid and multipathd templates

metadata_settings is meant to have a specific format or be completely
absent. Unfortunately the hook [1] doesn't an empty value for this. So
we remove it as an easy fix before figuring out how to add such a
functionality to the hook.

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/extraconfig/nova_metadata/krb-service-principals.yaml

Co-Authored-By: Thomas Herve <therve@redhat.com>
Change-Id: Ieac62a8076e421b5c4843a3cbe1c8fa9e3825b38
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/489472/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/multipathd.yaml', 'docker/services/iscsid.yaml']",2,048520330a507b01d2472ae6dbffc49053226311,fix-tls-containers,, metadata_settings: {},0,2
openstack%2Fpuppet-nova~stable%2Focata~I9f84728f89a8344685f64b79c8079f3bf74ff979,openstack/puppet-nova,stable/ocata,I9f84728f89a8344685f64b79c8079f3bf74ff979,Switch nova_security_rule to openstack provider,MERGED,2017-07-27 22:41:36.000000000,2017-08-02 01:30:07.000000000,2017-08-02 01:30:07.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-07-27 22:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/298add6adbfccc584ad4133f6a8c3dfdecaa27f7', 'message': 'Switch nova_security_rule to openstack provider\n\nThe current nova provider for nova_security_rule is broken at the\nmoment.  Due to the fact that the commands are getting deprecated,\nthe warnings are confusing the text parsing and result in repeated\ncreation of security group rules.\n\nThis patch resolves this issue by switching it to the new openstack\nprovider.  It also adds the instances and prefetch methods which\nwill allow `puppet resource` CLI usage.\n\nChange-Id: I9f84728f89a8344685f64b79c8079f3bf74ff979\n'}, {'number': 2, 'created': '2017-08-01 19:28:42.000000000', 'files': ['spec/unit/provider/nova_security_rule/openstack_spec.rb', 'spec/unit/provider/nova_security_rule/nova_spec.rb', 'lib/puppet/provider/nova_security_rule/openstack.rb', 'lib/puppet/provider/nova_security_rule/nova.rb', 'lib/puppet/type/nova_security_rule.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8b053ef7a804f416c78d1b8e9c962ea7bac626a2', 'message': 'Switch nova_security_rule to openstack provider\n\nThe current nova provider for nova_security_rule is broken at the\nmoment.  Due to the fact that the commands are getting deprecated,\nthe warnings are confusing the text parsing and result in repeated\ncreation of security group rules.\n\nThis patch resolves this issue by switching it to the new openstack\nprovider.  It also adds the instances and prefetch methods which\nwill allow `puppet resource` CLI usage.\n\nChange-Id: I9f84728f89a8344685f64b79c8079f3bf74ff979\n(cherry picked from commit 93b7656774f861ce5975b64599f7e28ada835a34)'}]",1,488223,8b053ef7a804f416c78d1b8e9c962ea7bac626a2,15,5,2,1004,,,0,"Switch nova_security_rule to openstack provider

The current nova provider for nova_security_rule is broken at the
moment.  Due to the fact that the commands are getting deprecated,
the warnings are confusing the text parsing and result in repeated
creation of security group rules.

This patch resolves this issue by switching it to the new openstack
provider.  It also adds the instances and prefetch methods which
will allow `puppet resource` CLI usage.

Change-Id: I9f84728f89a8344685f64b79c8079f3bf74ff979
(cherry picked from commit 93b7656774f861ce5975b64599f7e28ada835a34)",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/23/488223/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/nova_security_rule/openstack_spec.rb', 'spec/unit/provider/nova_security_rule/nova_spec.rb', 'lib/puppet/provider/nova_security_rule/openstack.rb', 'lib/puppet/provider/nova_security_rule/nova.rb', 'lib/puppet/type/nova_security_rule.rb']",5,298add6adbfccc584ad4133f6a8c3dfdecaa27f7,fix-nova-security-group," newvalues(/\d+/) if value.to_i < -1 or value.to_i >= 65536 newvalues(/\d+/) if value.to_i < -1 or value.to_i >= 65536 newparam(:source_group) newparam(:security_group) unless self[:from_port] raise Puppet::Error, 'You should give the source port!' end unless self[:to_port] raise Puppet::Error, 'You should give the destination port!' end unless self[:security_group] raise Puppet::Error, 'You should provide the security group to add this rule to!' end unless self[:ip_range].to_s.empty? ^ self[:source_group].to_s.empty? if self[:ip_protocol].to_s != 'icmp' and (self[:from_port].to_i <= 0 || self[:to_port].to_i <= 0)"," defaultto do raise Puppet::Error, 'You should give protocol!' end defaultto do raise Puppet::Error, 'You should give the source port!' end if value !~ /\d+/ or value.to_i <= -1 or value.to_i >= 65536 defaultto do raise Puppet::Error, 'You should give the destination port!' end if value !~ /\d+/ or value.to_i <= -1 or value.to_i >= 65536 newparam(:source_group) do end newparam(:security_group) do defaultto do raise Puppet::Error, 'You should provide the security group to add this rule to!' end end unless !!self[:ip_range] ^ !!self[:source_group] if self[:ip_protocol] != 'icmp' and (self[:from_port].to_i <= 0 || self[:to_port].to_i <= 0)",200,120
openstack%2Fpuppet-nova~stable%2Fnewton~I9f84728f89a8344685f64b79c8079f3bf74ff979,openstack/puppet-nova,stable/newton,I9f84728f89a8344685f64b79c8079f3bf74ff979,Switch nova_security_rule to openstack provider,MERGED,2017-07-27 22:41:45.000000000,2017-08-02 01:30:00.000000000,2017-08-02 01:30:00.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-07-27 22:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/67a1902f95ab239bc1eea830515275f8f5842ed2', 'message': 'Switch nova_security_rule to openstack provider\n\nThe current nova provider for nova_security_rule is broken at the\nmoment.  Due to the fact that the commands are getting deprecated,\nthe warnings are confusing the text parsing and result in repeated\ncreation of security group rules.\n\nThis patch resolves this issue by switching it to the new openstack\nprovider.  It also adds the instances and prefetch methods which\nwill allow `puppet resource` CLI usage.\n\nChange-Id: I9f84728f89a8344685f64b79c8079f3bf74ff979\n'}, {'number': 2, 'created': '2017-08-01 19:29:08.000000000', 'files': ['spec/unit/provider/nova_security_rule/openstack_spec.rb', 'spec/unit/provider/nova_security_rule/nova_spec.rb', 'lib/puppet/provider/nova_security_rule/openstack.rb', 'lib/puppet/provider/nova_security_rule/nova.rb', 'lib/puppet/type/nova_security_rule.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f418b8b63e71b97daa71fa8c9ea5f16059859a48', 'message': 'Switch nova_security_rule to openstack provider\n\nThe current nova provider for nova_security_rule is broken at the\nmoment.  Due to the fact that the commands are getting deprecated,\nthe warnings are confusing the text parsing and result in repeated\ncreation of security group rules.\n\nThis patch resolves this issue by switching it to the new openstack\nprovider.  It also adds the instances and prefetch methods which\nwill allow `puppet resource` CLI usage.\n\nChange-Id: I9f84728f89a8344685f64b79c8079f3bf74ff979\n(cherry picked from commit 93b7656774f861ce5975b64599f7e28ada835a34)\n'}]",1,488224,f418b8b63e71b97daa71fa8c9ea5f16059859a48,16,5,2,1004,,,0,"Switch nova_security_rule to openstack provider

The current nova provider for nova_security_rule is broken at the
moment.  Due to the fact that the commands are getting deprecated,
the warnings are confusing the text parsing and result in repeated
creation of security group rules.

This patch resolves this issue by switching it to the new openstack
provider.  It also adds the instances and prefetch methods which
will allow `puppet resource` CLI usage.

Change-Id: I9f84728f89a8344685f64b79c8079f3bf74ff979
(cherry picked from commit 93b7656774f861ce5975b64599f7e28ada835a34)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/24/488224/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/nova_security_rule/openstack_spec.rb', 'spec/unit/provider/nova_security_rule/nova_spec.rb', 'lib/puppet/provider/nova_security_rule/openstack.rb', 'lib/puppet/provider/nova_security_rule/nova.rb', 'lib/puppet/type/nova_security_rule.rb']",5,67a1902f95ab239bc1eea830515275f8f5842ed2,fix-nova-security-group," newvalues(/\d+/) if value.to_i < -1 or value.to_i >= 65536 newvalues(/\d+/) if value.to_i < -1 or value.to_i >= 65536 newparam(:source_group) newparam(:security_group) unless self[:from_port] raise Puppet::Error, 'You should give the source port!' end unless self[:to_port] raise Puppet::Error, 'You should give the destination port!' end unless self[:security_group] raise Puppet::Error, 'You should provide the security group to add this rule to!' end unless self[:ip_range].to_s.empty? ^ self[:source_group].to_s.empty? if self[:ip_protocol].to_s != 'icmp' and (self[:from_port].to_i <= 0 || self[:to_port].to_i <= 0)"," defaultto do raise Puppet::Error, 'You should give protocol!' end defaultto do raise Puppet::Error, 'You should give the source port!' end if value !~ /\d+/ or value.to_i <= -1 or value.to_i >= 65536 defaultto do raise Puppet::Error, 'You should give the destination port!' end if value !~ /\d+/ or value.to_i <= -1 or value.to_i >= 65536 newparam(:source_group) do end newparam(:security_group) do defaultto do raise Puppet::Error, 'You should provide the security group to add this rule to!' end end unless !!self[:ip_range] ^ !!self[:source_group] if self[:ip_protocol] != 'icmp' and (self[:from_port].to_i <= 0 || self[:to_port].to_i <= 0)",200,120
openstack%2Ftripleo-quickstart~master~I168602a7680328f4f138f9f7ad64285e393feb5b,openstack/tripleo-quickstart,master,I168602a7680328f4f138f9f7ad64285e393feb5b,Add support for custom additional repos in featureset,MERGED,2017-07-27 08:11:50.000000000,2017-08-02 01:29:30.000000000,2017-08-02 01:29:30.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-07-27 08:11:50.000000000', 'files': ['roles/repo-setup/templates/repo_setup.sh.j2', 'roles/repo-setup/defaults/main.yml', 'roles/repo-setup/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2ca5eb89ade7f5285b720b36da524e2d42f2f1ea', 'message': 'Add support for custom additional repos in featureset\n\nSometimes featureset files require a custom repository to by added\nand this patch adds an variable that could be populated in fs\nfiles.\n\nChange-Id: I168602a7680328f4f138f9f7ad64285e393feb5b\n'}]",0,487742,2ca5eb89ade7f5285b720b36da524e2d42f2f1ea,24,6,1,10969,,,0,"Add support for custom additional repos in featureset

Sometimes featureset files require a custom repository to by added
and this patch adds an variable that could be populated in fs
files.

Change-Id: I168602a7680328f4f138f9f7ad64285e393feb5b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/42/487742/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/repo-setup/templates/repo_setup.sh.j2', 'roles/repo-setup/README.md', 'roles/repo-setup/defaults/main.yml']",3,2ca5eb89ade7f5285b720b36da524e2d42f2f1ea,,"# For adding custom repositories in featureset files add_repos: []rhceph_version_number: ""1.3"" ","rhceph_version_number: ""1.3""",5,2
openstack%2Ftripleo-heat-templates~master~Ic54b48b149594e8ea08e95152111bcdaf7b252b7,openstack/tripleo-heat-templates,master,Ic54b48b149594e8ea08e95152111bcdaf7b252b7,Adds stop and disable for libvirtd on upgrade to containers,MERGED,2017-08-01 14:26:23.000000000,2017-08-02 01:29:22.000000000,2017-08-02 01:29:22.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 20775}]","[{'number': 1, 'created': '2017-08-01 14:26:23.000000000', 'files': ['extraconfig/tasks/tripleo_upgrade_node.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94a3c82c03687e5c9d2d9f4d82ed6654dcf04f86', 'message': 'Adds stop and disable for libvirtd on upgrade to containers\n\nAdds this into the tripleo_upgrade_node.sh executed by the\noperator for the major upgrade see the bug for more info\n\nChange-Id: Ic54b48b149594e8ea08e95152111bcdaf7b252b7\nCloses-Bug: 1707926\n'}]",0,489619,94a3c82c03687e5c9d2d9f4d82ed6654dcf04f86,8,5,1,8449,,,0,"Adds stop and disable for libvirtd on upgrade to containers

Adds this into the tripleo_upgrade_node.sh executed by the
operator for the major upgrade see the bug for more info

Change-Id: Ic54b48b149594e8ea08e95152111bcdaf7b252b7
Closes-Bug: 1707926
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/489619/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/tripleo_upgrade_node.sh'],1,94a3c82c03687e5c9d2d9f4d82ed6654dcf04f86,bug/1707926," # https://bugs.launchpad.net/tripleo/+bug/1707926 stop&disable libvirtd log_debug ""Stop and disable libvirtd service for upgrade to containers"" systemctl stop libvirtd systemctl disable libvirtd",,4,0
openstack%2Fkarbor~master~I5b5c76d3a5c789d6dc5f61978901d0c5392eb9d4,openstack/karbor,master,I5b5c76d3a5c789d6dc5f61978901d0c5392eb9d4,Add retry mechanism for image restore,ABANDONED,2017-07-28 04:28:58.000000000,2017-08-02 01:25:58.000000000,,"[{'_account_id': 3}, {'_account_id': 21224}]","[{'number': 1, 'created': '2017-07-28 04:28:58.000000000', 'files': ['karbor/services/protection/protection_plugins/image/image_protection_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/fdaae340064649e99cbc96bae7261288d0dd7cb7', 'message': 'Add retry mechanism for image restore\n\nWhen restore image from remote object storage, chunks getting will fail\noccasionally. If the image file size is several GB, and at the end of\nthe restore one of the chunk getting failed for network or other reasons,\nthe whole restore will fail. So we should add retry mechanism to improve\nthe success rate of image restore.\n\nChange-Id: I5b5c76d3a5c789d6dc5f61978901d0c5392eb9d4\nCloses-Bug: #1706552\n'}]",0,488286,fdaae340064649e99cbc96bae7261288d0dd7cb7,4,2,1,21224,,,0,"Add retry mechanism for image restore

When restore image from remote object storage, chunks getting will fail
occasionally. If the image file size is several GB, and at the end of
the restore one of the chunk getting failed for network or other reasons,
the whole restore will fail. So we should add retry mechanism to improve
the success rate of image restore.

Change-Id: I5b5c76d3a5c789d6dc5f61978901d0c5392eb9d4
Closes-Bug: #1706552
",git fetch https://review.opendev.org/openstack/karbor refs/changes/86/488286/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/protection/protection_plugins/image/image_protection_plugin.py'],1,fdaae340064649e99cbc96bae7261288d0dd7cb7,bug/1706552," retry_count = 0 while True: try: data = self.bank_section.get_object( self.sorted_objects[obj_index]) return data except exception.KarborException as e: if retry_count != 0: LOG.error('Get object from bank error, ' 'retried times {0}, error: {1}' .format(retry_count, e)) retry_count += 1 if retry_count > 2: raise e", return self.bank_section.get_object( self.sorted_objects[obj_index]),14,2
openstack%2Fneutron~master~I94c023dce3fd3f30430ebb43a327228489af3ce2,openstack/neutron,master,I94c023dce3fd3f30430ebb43a327228489af3ce2,Add Unique Key check in self.update_obj_fields(),ABANDONED,2017-07-21 06:52:29.000000000,2017-08-02 01:19:15.000000000,,"[{'_account_id': 3}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17491}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-07-21 06:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/316109094972b9c217928294e906f8db5b54b07e', 'message': 'Add Unique Key check in self.update_obj_fields()\n\nself.update_obj_fields generates fields which require actual values,\nbut currently it does not check if the generated UUIDs violates\nexisting Unique Key constraints stored in self._unique_tracker.\n\nThis patch adds this check.\n\nChange-Id: I94c023dce3fd3f30430ebb43a327228489af3ce2\nCloses-Bug: #1704000\n'}, {'number': 2, 'created': '2017-07-21 10:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0ca5c5906c1b97bfb38f64983e55a1854cab5ce', 'message': 'Add Unique Key check in self.update_obj_fields()\n\nself.update_obj_fields generates fields which require actual values,\nbut currently it does not check if the generated UUIDs violates\nexisting Unique Key constraints stored in self._unique_tracker.\n\nThis patch adds this check.\n\nChange-Id: I94c023dce3fd3f30430ebb43a327228489af3ce2\nCloses-Bug: #1704000\n'}, {'number': 3, 'created': '2017-07-24 02:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b484a6f806e215b244cb1d8c5d75c5ed284fd675', 'message': 'Add Unique Key check in self.update_obj_fields()\n\nself.update_obj_fields generates fields which require actual values,\nbut currently it does not check if the generated UUIDs violates\nexisting Unique Key constraints stored in self._unique_tracker.\n\nThis patch adds this check.\n\nChange-Id: I94c023dce3fd3f30430ebb43a327228489af3ce2\nCloses-Bug: #1704000\n'}, {'number': 4, 'created': '2017-07-24 10:41:50.000000000', 'files': ['neutron/tests/unit/objects/test_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ab58eb742416d88a1463f59b382907e5143e62e', 'message': 'Add Unique Key check in self.update_obj_fields()\n\nself.update_obj_fields generates fields which require actual values,\nbut currently it does not add the generated valued to Unique Key\nconstraints stored in self._unique_tracker.\n\nThis patch adds the updates of the self._unique_tracker.\n\nChange-Id: I94c023dce3fd3f30430ebb43a327228489af3ce2\nCloses-Bug: #1704000\n'}]",9,485996,7ab58eb742416d88a1463f59b382907e5143e62e,39,8,4,17491,,,0,"Add Unique Key check in self.update_obj_fields()

self.update_obj_fields generates fields which require actual values,
but currently it does not add the generated valued to Unique Key
constraints stored in self._unique_tracker.

This patch adds the updates of the self._unique_tracker.

Change-Id: I94c023dce3fd3f30430ebb43a327228489af3ce2
Closes-Bug: #1704000
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/485996/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/objects/test_base.py'],1,316109094972b9c217928294e906f8db5b54b07e,bug/1704000, for keys in self._test_class.unique_keys: keytup = tuple(keys) unique_values = tuple(fields[k] for k in keytup) if unique_values in self._unique_tracker[keytup]: return self.update_obj_fields(values_dict),,5,0
openstack%2Fkeystone~master~Ic7d1c7ce90441cc0f3893f600a89147df411be93,openstack/keystone,master,Ic7d1c7ce90441cc0f3893f600a89147df411be93,Add missing sample configuration file,ABANDONED,2017-07-13 05:20:55.000000000,2017-08-02 01:06:41.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}]","[{'number': 1, 'created': '2017-07-13 05:20:55.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5355a322fbe45002e485eebd91c317d0820b5e75', 'message': 'Add missing sample configuration file\n\npolicy.v3cloudsample.json should be included in\nsample configuration files.\n\nChange-Id: Ic7d1c7ce90441cc0f3893f600a89147df411be93\n'}]",1,483196,5355a322fbe45002e485eebd91c317d0820b5e75,4,2,1,25273,,,0,"Add missing sample configuration file

policy.v3cloudsample.json should be included in
sample configuration files.

Change-Id: Ic7d1c7ce90441cc0f3893f600a89147df411be93
",git fetch https://review.opendev.org/openstack/keystone refs/changes/96/483196/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,5355a322fbe45002e485eebd91c317d0820b5e75,missing-sample-configuration-file,* ``etc/policy.v3cloudsample.json``,,1,0
openstack%2Fkeystone~master~I32d42e5bfa24e3d3d16b5760583ac98846e68a14,openstack/keystone,master,I32d42e5bfa24e3d3d16b5760583ac98846e68a14,Patch description of domain_id in creating project,ABANDONED,2017-07-04 08:00:51.000000000,2017-08-02 01:03:20.000000000,,"[{'_account_id': 3}, {'_account_id': 8866}, {'_account_id': 25273}]","[{'number': 1, 'created': '2017-07-04 08:00:51.000000000', 'files': ['api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0cc2efe89e484a83340beec37ebff6f8bc95c6cc', 'message': 'Patch description of domain_id in creating project\n\nThis patch correct a description of the domain id in creating\nproject api.\nWhen creating project, if domain_id is not specified, whether\nparent_id is specified or not, the Identity service implementation\nwill get domain id from token or use default domain id, and the\ndomain ID of the parent will not be used.On the contrary,\nif parent_id is not specified, it will set to be domain_id.\n\nChange-Id: I32d42e5bfa24e3d3d16b5760583ac98846e68a14\n'}]",1,480056,0cc2efe89e484a83340beec37ebff6f8bc95c6cc,6,3,1,25273,,,0,"Patch description of domain_id in creating project

This patch correct a description of the domain id in creating
project api.
When creating project, if domain_id is not specified, whether
parent_id is specified or not, the Identity service implementation
will get domain id from token or use default domain id, and the
domain ID of the parent will not be used.On the contrary,
if parent_id is not specified, it will set to be domain_id.

Change-Id: I32d42e5bfa24e3d3d16b5760583ac98846e68a14
",git fetch https://review.opendev.org/openstack/keystone refs/changes/56/480056/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/parameters.yaml'],1,0cc2efe89e484a83340beec37ebff6f8bc95c6cc,patch-description-domain-id," is not specified, the Identity service implementation will default to the domain to which the client's token is scoped. If ``parent_id`` is not specified, it is a top level project, providing the ``domain_id`` as its ``parent_id``. If both ``domain_id`` and ``parent_id`` are specified, and they do not indicate the same domain, an ``Bad Request (400)`` will be returned."," is not specified, but ``parent_id`` is specified, then the domain ID of the parent will be used. If neither ``domain_id`` or ``parent_id`` is specified, the Identity service implementation will default to the domain to which the client's token is scoped. If both ``domain_id`` and ``parent_id`` are specified, and they do not indicate the same domain, an ``Bad Request (400)`` will be returned.",6,6
openstack%2Fcinder~master~Ie66f3d81f62357695858dacdb1188711aa1b9b71,openstack/cinder,master,Ie66f3d81f62357695858dacdb1188711aa1b9b71,[DOC BLD FIX] Correct docstring issues in Soldfire driver,MERGED,2017-07-26 16:49:05.000000000,2017-08-02 01:01:45.000000000,2017-07-28 16:14:54.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 16643}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-07-26 16:49:05.000000000', 'files': ['cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c90ab115758d9522e7493199adc299c615d7541', 'message': '[DOC BLD FIX] Correct docstring issues in Soldfire driver\n\nThere were poorly formatted dosctrings in the Solidfire driver.\nThe docstrings were causing WARNINGs to be produced during\nSphinx doc generation.  This change fixes those errors.\n\nChange-Id: Ie66f3d81f62357695858dacdb1188711aa1b9b71\n'}]",1,487514,8c90ab115758d9522e7493199adc299c615d7541,37,8,1,7198,,,0,"[DOC BLD FIX] Correct docstring issues in Soldfire driver

There were poorly formatted dosctrings in the Solidfire driver.
The docstrings were causing WARNINGs to be produced during
Sphinx doc generation.  This change fixes those errors.

Change-Id: Ie66f3d81f62357695858dacdb1188711aa1b9b71
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/487514/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,8c90ab115758d9522e7493199adc299c615d7541,doc-bld-fix," .. code-block:: default Version history: 1.0 - Initial driver 1.1 - Refactor, clone support, qos by type and minor bug fixes 1.2 - Add xfr and retype support 1.2.1 - Add export/import support 1.2.2 - Catch VolumeNotFound on accept xfr 2.0.0 - Move from httplib to requests 2.0.1 - Implement SolidFire Snapshots 2.0.2 - Implement secondary account 2.0.3 - Implement cluster pairing 2.0.4 - Implement volume replication 2.0.5 - Try and deal with the stupid retry/clear issues from objects and tflow 2.0.6 - Add a lock decorator around the clone_image method 2.0.7 - Add scaled IOPS 2.0.8 - Add active status filter to get volume ops 2.0.9 - Always purge on delete volume 2.0.10 - Add response to debug on retryable errors "," Version history: 1.0 - Initial driver 1.1 - Refactor, clone support, qos by type and minor bug fixes 1.2 - Add xfr and retype support 1.2.1 - Add export/import support 1.2.2 - Catch VolumeNotFound on accept xfr 2.0.0 - Move from httplib to requests 2.0.1 - Implement SolidFire Snapshots 2.0.2 - Implement secondary account 2.0.3 - Implement cluster pairing 2.0.4 - Implement volume replication 2.0.5 - Try and deal with the stupid retry/clear issues from objects and tflow 2.0.6 - Add a lock decorator around the clone_image method 2.0.7 - Add scaled IOPS 2.0.8 - Add active status filter to get volume ops 2.0.9 - Always purge on delete volume 2.0.10 - Add response to debug on retryable errors",21,18
openstack%2Fcinder~master~Ic11404b7117d38b3e6a32666964bb5a21390821c,openstack/cinder,master,Ic11404b7117d38b3e6a32666964bb5a21390821c,Fix no feature to enable 'exclusive-lock' of image in ceph,MERGED,2017-07-07 07:22:23.000000000,2017-08-02 00:58:56.000000000,2017-07-26 22:26:25.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25805}, {'_account_id': 26077}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-07-07 07:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ad3b98a1bc1d0124f8d595630a862828bf80c08', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in ceph.conf to run the\nceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nRelated-Bug: #1702650\n""}, {'number': 2, 'created': '2017-07-10 15:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f7fbe922769ed6e87e5139ad261a87ebf62c994', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in ceph.conf to run the\nceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nRelated-Bug: #1702650\n""}, {'number': 3, 'created': '2017-07-10 15:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1829f838a77604bda89bee139e970ddf5cf5d2ef', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in ceph.conf to run the\nceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}, {'number': 4, 'created': '2017-07-11 10:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6694b82b29ce540d690cc3a4f362a2df6d614d1', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in ceph.conf to run the\nceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}, {'number': 5, 'created': '2017-07-11 16:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aea4c1c5db1fc441536161bdedaecbff5357e18a', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in ceph.conf to run the\nceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}, {'number': 6, 'created': '2017-07-12 16:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dcf1939422956d3a56796f7314cf5eea3b55760b', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in ceph.conf to run the\nceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}, {'number': 7, 'created': '2017-07-13 01:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a07c4cf61b56698938743b049881cb59e9f1a38', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in ceph.conf to run the\nceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}, {'number': 8, 'created': '2017-07-13 03:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c67dd977e3381bead85f13bd9bebc58af802df80', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in 'ceph.conf' to run the\nceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}, {'number': 9, 'created': '2017-07-13 05:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/040bef402f6b1435159ea5edca300c23b12f7af3', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in 'ceph.conf' file to run\nthe ceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}, {'number': 10, 'created': '2017-07-14 01:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/708533b5d92e28f2939cea0d8b1e1143be4f72f6', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in 'ceph.conf' file to run\nthe ceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}, {'number': 11, 'created': '2017-07-14 03:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/deb49f290af3fcba7c2cb6371511760264ee897b', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in 'ceph.conf' file to run\na ceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}, {'number': 12, 'created': '2017-07-14 05:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b93a80c520831b41224b5d5360f03f90ff220fbe', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in 'ceph.conf' file to run\nthe ceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}, {'number': 13, 'created': '2017-07-26 16:37:07.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a806ebc6d4b475cc38c5e98c10fb2646b9f567e', 'message': ""Fix no feature to enable 'exclusive-lock' of image in ceph\n\nIn normally, it is as default to enable 'exclusive-lock' of image.\nBut when set 'rbd default features = 1' in 'ceph.conf' file to run\nthe ceph cluster. The feature is not as default. And there is no\nfeature to check and enable the 'exclusive-lock' in cinder, which\nthe 'journaling' depends on it.\n\nChange-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c\nCloses-Bug: #1702650\n""}]",35,481472,5a806ebc6d4b475cc38c5e98c10fb2646b9f567e,239,45,13,25805,,,0,"Fix no feature to enable 'exclusive-lock' of image in ceph

In normally, it is as default to enable 'exclusive-lock' of image.
But when set 'rbd default features = 1' in 'ceph.conf' file to run
the ceph cluster. The feature is not as default. And there is no
feature to check and enable the 'exclusive-lock' in cinder, which
the 'journaling' depends on it.

Change-Id: Ic11404b7117d38b3e6a32666964bb5a21390821c
Closes-Bug: #1702650
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/481472/13 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,3ad3b98a1bc1d0124f8d595630a862828bf80c08,bug/1702650," had_exclusive_lock = (image.feature() & self.rbd.RBD_FEATURE_EXCLUSIVE_LOCK) if not had_exclusive_lock: image.update_features(self.rbd.RBD_FEATURE_EXCLUSIVE_LOCK, True)",,5,0
openstack%2Fneutron~master~I00010ef600a4185b7628318bb88971d978b9fe67,openstack/neutron,master,I00010ef600a4185b7628318bb88971d978b9fe67,Change ovsdbapp vlog to INFO,MERGED,2017-07-31 22:59:44.000000000,2017-08-02 00:57:18.000000000,2017-08-02 00:57:18.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 9732}, {'_account_id': 9845}]","[{'number': 1, 'created': '2017-07-31 22:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f2ffe4895cc8ec839e50939c2bf951231d54a12', 'message': 'Change ovsdbapp vlog to INFO\n\nThis is to eliminate the following messages that fill the\nOVS agent logs:\n\novsdbapp.backend.ovs_idl.vlog [-] [POLLIN]\n\nChange-Id: I00010ef600a4185b7628318bb88971d978b9fe67\nPartial-bug: #1707307\n'}, {'number': 2, 'created': '2017-07-31 23:00:46.000000000', 'files': ['neutron/common/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d92dc1244ed8277bf0c204448b49a425b40f55b1', 'message': 'Change ovsdbapp vlog to INFO\n\nThis is to eliminate the following messages that fill the\nOVS agent logs:\n\novsdbapp.backend.ovs_idl.vlog [-] [POLLIN]\n\nChange-Id: I00010ef600a4185b7628318bb88971d978b9fe67\nPartial-bug: #1707307\n'}]",0,489430,d92dc1244ed8277bf0c204448b49a425b40f55b1,17,5,2,7787,,,0,"Change ovsdbapp vlog to INFO

This is to eliminate the following messages that fill the
OVS agent logs:

ovsdbapp.backend.ovs_idl.vlog [-] [POLLIN]

Change-Id: I00010ef600a4185b7628318bb88971d978b9fe67
Partial-bug: #1707307
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/489430/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/config.py'],1,8f2ffe4895cc8ec839e50939c2bf951231d54a12,bug/1707307, 'ovsdbapp.backend.ovs_idl.vlog=INFO',,1,0
openstack%2Fcinder~master~Iafe30fc961e02e4976ffcbf0b2d4c0759cce15ae,openstack/cinder,master,Iafe30fc961e02e4976ffcbf0b2d4c0759cce15ae,[DOC BLD FIX] Fix docstring issues in hpmsa driver,MERGED,2017-07-26 16:10:48.000000000,2017-08-02 00:56:06.000000000,2017-07-26 22:25:35.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-07-26 16:10:48.000000000', 'files': ['cinder/volume/drivers/san/hp/hpmsa_fc.py', 'cinder/volume/drivers/san/hp/hpmsa_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd49f55f9f08e20447a82309a5b35edbf10da48d', 'message': '[DOC BLD FIX] Fix docstring issues in hpmsa driver\n\nThere were poorly formatted docstrings in the hpmsa\ndriver that caused Sphinx to generate WARNINGs when\nrun.  This patch fixes those issues.\n\nChange-Id: Iafe30fc961e02e4976ffcbf0b2d4c0759cce15ae\n'}]",0,487501,cd49f55f9f08e20447a82309a5b35edbf10da48d,37,21,1,7198,,,0,"[DOC BLD FIX] Fix docstring issues in hpmsa driver

There were poorly formatted docstrings in the hpmsa
driver that caused Sphinx to generate WARNINGs when
run.  This patch fixes those issues.

Change-Id: Iafe30fc961e02e4976ffcbf0b2d4c0759cce15ae
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/487501/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/san/hp/hpmsa_fc.py', 'cinder/volume/drivers/san/hp/hpmsa_iscsi.py']",2,cd49f55f9f08e20447a82309a5b35edbf10da48d,doc-bld-fix, .. code-block:: default Version history: 1.0 - Inheriting from DotHill cinder drivers. 1.6 - Add management path redundancy and reduce load placed on management controller. , Version history: 1.0 - Inheriting from DotHill cinder drivers. 1.6 - Add management path redundancy and reduce load placed on management controller.,14,8
openstack%2Fcinder~master~Ida70602ed8656f6897fe2709b0205f7f6ab2c6f1,openstack/cinder,master,Ida70602ed8656f6897fe2709b0205f7f6ab2c6f1,Mark Tegile driver as unsupported,MERGED,2017-05-05 18:08:52.000000000,2017-08-02 00:53:19.000000000,2017-07-27 18:48:03.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 5997}, {'_account_id': 7173}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16898}, {'_account_id': 17357}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26077}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-05-05 18:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/679194303a5cfdfc791846ad6b8eaf11e1d14ca9', 'message': ""Mark Tegile driver as unsupported\n\nThe Tegile CI has not reported success past our CI required period.\n\nChecking name: Tegile Storage CI\n  first seen: 2017-03-17 08:39:31 (48 days, 8:32:23 old)\n  last seen: 2017-04-08 03:37:59 (26 days, 13:33:55 old)\n  last success:  None\n  Job TegileFCDriver-dsvm-tempest 0% success out of 250 comments S=0, F=250\nOverall success rate: 0% of 250 comments\n\nPer Cinder's non-compliance policy, this patch marks the drivers\nas unsupported and deprecated and they will be removed in the\nnext cycle if the issue is not corrected.\n\nChange-Id: Ida70602ed8656f6897fe2709b0205f7f6ab2c6f1\n""}, {'number': 2, 'created': '2017-05-22 17:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42321b9b0b9863e86b8cf6666a4250f1ac154b48', 'message': ""Mark Tegile driver as unsupported\n\nThe Tegile CI has not reported success past our CI required period.\n\nChecking name: Tegile Storage CI\n  first seen: 2017-03-17 08:39:31 (48 days, 8:32:23 old)\n  last seen: 2017-04-08 03:37:59 (26 days, 13:33:55 old)\n  last success:  None\n  Job TegileFCDriver-dsvm-tempest 0% success out of 250 comments S=0, F=250\nOverall success rate: 0% of 250 comments\n\nPer Cinder's non-compliance policy, this patch marks the drivers\nas unsupported and deprecated and they will be removed in the\nnext cycle if the issue is not corrected.\n\nChange-Id: Ida70602ed8656f6897fe2709b0205f7f6ab2c6f1\n""}, {'number': 3, 'created': '2017-06-24 06:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/466ea4541e51c3ab67a7301ae760a749e4ec1632', 'message': ""Mark Tegile driver as unsupported\n\nThe Tegile CI has not reported success past our CI required period.\n\nChecking name: Tegile Storage CI\n  first seen: 2017-03-17 08:39:31 (48 days, 8:32:23 old)\n  last seen: 2017-04-08 03:37:59 (26 days, 13:33:55 old)\n  last success:  None\n  Job TegileFCDriver-dsvm-tempest 0% success out of 250 comments S=0, F=250\nOverall success rate: 0% of 250 comments\n\nPer Cinder's non-compliance policy, this patch marks the drivers\nas unsupported and deprecated and they will be removed in the\nnext cycle if the issue is not corrected.\n\nChange-Id: Ida70602ed8656f6897fe2709b0205f7f6ab2c6f1\n""}, {'number': 4, 'created': '2017-07-26 16:07:18.000000000', 'files': ['cinder/volume/drivers/tegile.py', 'releasenotes/notes/mark-tegile-deprecated-1effb23010ea997c.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/943f3e0660b04e982f95ef5f2fe6385787f7d509', 'message': ""Mark Tegile driver as unsupported\n\nThe Tegile CI has not reported success past our CI required period.\n\nChecking name: Tegile Storage CI\n  first seen: 2017-03-17 08:39:31 (48 days, 8:32:23 old)\n  last seen: 2017-04-08 03:37:59 (26 days, 13:33:55 old)\n  last success:  None\n  Job TegileFCDriver-dsvm-tempest 0% success out of 250 comments S=0, F=250\nOverall success rate: 0% of 250 comments\n\nPer Cinder's non-compliance policy, this patch marks the drivers\nas unsupported and deprecated and they will be removed in the\nnext cycle if the issue is not corrected.\n\nChange-Id: Ida70602ed8656f6897fe2709b0205f7f6ab2c6f1\n""}]",5,463029,943f3e0660b04e982f95ef5f2fe6385787f7d509,135,55,4,11904,,,0,"Mark Tegile driver as unsupported

The Tegile CI has not reported success past our CI required period.

Checking name: Tegile Storage CI
  first seen: 2017-03-17 08:39:31 (48 days, 8:32:23 old)
  last seen: 2017-04-08 03:37:59 (26 days, 13:33:55 old)
  last success:  None
  Job TegileFCDriver-dsvm-tempest 0% success out of 250 comments S=0, F=250
Overall success rate: 0% of 250 comments

Per Cinder's non-compliance policy, this patch marks the drivers
as unsupported and deprecated and they will be removed in the
next cycle if the issue is not corrected.

Change-Id: Ida70602ed8656f6897fe2709b0205f7f6ab2c6f1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/463029/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/tegile.py', 'releasenotes/notes/mark-tegile-deprecated-1effb23010ea997c.yaml']",2,679194303a5cfdfc791846ad6b8eaf11e1d14ca9,ci_unsupported,"--- upgrade: - | The Tegile driver has been marked as unsupported and is now deprecated. ``enable_unsupported_drivers`` will need to be set to ``True`` in cinder.conf to continue to use it. deprecations: - | The Tegile driver has been marked as unsupported and is now deprecated. ``enable_unsupported_drivers`` will need to be set to ``True`` in cinder.conf to continue to use it. If its support status does not change, they will be removed in the Queens development cycle. ",,16,0
openstack%2Fdiskimage-builder~master~If1bdce36335852901f3bbba46d38cfc258c62d58,openstack/diskimage-builder,master,If1bdce36335852901f3bbba46d38cfc258c62d58,[DNM] larger LVM testing,ABANDONED,2017-07-25 04:59:44.000000000,2017-08-02 00:29:21.000000000,,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 8871}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-07-25 04:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1e6794480c12b372aec0e31b9d00837b642d94fb', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 2, 'created': '2017-07-25 05:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b89a40682564372c96953b00d9a64fc236b3a03e', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 3, 'created': '2017-07-25 06:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8f198a23b993d86feb9a7a7b6fb609ddb4d0c0fa', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 4, 'created': '2017-07-25 10:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3aa5b7fcd83c50618fbe5a7bd53ced311b5e525c', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 5, 'created': '2017-07-25 10:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dd739ebdf86003db0a99b52c0669909fbb3d169c', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 6, 'created': '2017-07-25 13:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8b908d72ac7bdec35e016f07111feea0286f1c27', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 7, 'created': '2017-07-27 14:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e67daede1eadfa43ebb05ac5711ddcdbf47fb2c2', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 8, 'created': '2017-07-27 15:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f60c5f90c95eaad1dc05d9ed20770705c55bff4c', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 9, 'created': '2017-07-28 14:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f21fc4d21ff4866bbdc18ddef20117a597dfcac1', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 10, 'created': '2017-07-31 06:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/335521efeb7cc86f1cc30733c5d0d1b1d3283d54', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 11, 'created': '2017-07-31 06:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1623b3ebae02367bd3b7b1e33ba2a59f096a64ec', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}, {'number': 12, 'created': '2017-08-01 05:25:27.000000000', 'files': ['diskimage_builder/block_device/tests/config/lvm_tree_multiple_pv.yaml', 'diskimage_builder/block_device/tests/config/lvm_tree_multiple_pv_vg.yaml', 'diskimage_builder/block_device/level1/lvm.py', 'diskimage_builder/block_device/tests/test_lvm.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/84ea8240a371fb1b98ec3e263eeaa341e9df39b7', 'message': '[DNM] larger LVM testing\n\nI intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9\nafter any comments.\n\nChange-Id: If1bdce36335852901f3bbba46d38cfc258c62d58\n'}]",0,486864,84ea8240a371fb1b98ec3e263eeaa341e9df39b7,46,4,12,7118,,,0,"[DNM] larger LVM testing

I intend to squash this into Ibd624d9f95ee68b20a15891f639ddd5b3188cdf9
after any comments.

Change-Id: If1bdce36335852901f3bbba46d38cfc258c62d58
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/64/486864/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/block_device/tests/config/lvm_tree_multiple_pv.yaml', 'diskimage_builder/block_device/level1/lvm.py', 'diskimage_builder/block_device/tests/test_lvm.py']",3,1e6794480c12b372aec0e31b9d00837b642d94fb,status-object,"import mockfrom diskimage_builder.block_device.blockdevice import BlockDeviceStatefrom diskimage_builder.block_device.config import create_graph from diskimage_builder.block_device.level1.lvm import LvsNode from diskimage_builder.block_device.level1.lvm import PvsNode from diskimage_builder.block_device.level1.lvm import VgsNode @mock.patch('diskimage_builder.block_device.level1.lvm.exec_sudo') def test_lvm_multi_pv(self, mock_exec_sudo): # Test the command-sequence for a more complicated LVM setup tree = self.load_config_file('lvm_tree_multiple_pv.yaml') config = config_tree_to_graph(tree) state = BlockDeviceState() graph, call_order = create_graph(config, self.fake_default_config, state) # XXX: todo; test call_order. Make sure PV's come before, VG; # VG before LV, and that mounts/etc happen afterwards. # Fake state for the two PV's specified by this config state['blockdev'] = {} state['blockdev']['root'] = {} state['blockdev']['root']['device'] = '/dev/fake/root' state['blockdev']['data'] = {} state['blockdev']['data']['device'] = '/dev/fake/data' for node in call_order: # XXX: This has not mocked out the ""lower"" layers of # creating the devices, which we're assuming works OK, nor # the upper layers. if isinstance(node, (PvsNode, VgsNode, LvsNode)): # only the PvsNode actually does anything here... node.create() # ensure the sequence of calls correctly setup the devices cmd_sequence = [ # create the pv's on the faked out block devices mock.call(['pvcreate', '/dev/fake/root', '--force']), mock.call(['pvcreate', '/dev/fake/data', '--force']), # create a volume called ""vg"" out of these two pv's mock.call(['vgcreate', 'vg', '/dev/fake/root', '/dev/fake/data', '--force']), # create a bunch of lv's on vg mock.call(['lvcreate', '--name', 'lv_root', '-L', '1800M', 'vg']), mock.call(['lvcreate', '--name', 'lv_tmp', '-L', '100M', 'vg']), mock.call(['lvcreate', '--name', 'lv_var', '-L', '500M', 'vg']), mock.call(['lvcreate', '--name', 'lv_log', '-L', '100M', 'vg']), mock.call(['lvcreate', '--name', 'lv_audit', '-L', '100M', 'vg']), mock.call(['lvcreate', '--name', 'lv_home', '-L', '200M', 'vg'])] self.assertEqual(mock_exec_sudo.call_count, len(cmd_sequence)) mock_exec_sudo.assert_has_calls(cmd_sequence) # Ensure the correct LVM state was preserved blockdev_state = { 'data': {'device': '/dev/fake/data'}, 'root': {'device': '/dev/fake/root'}, 'lv_audit': { 'device': '/dev/mapper/vg-lv_audit', 'extents': None, 'opts': None, 'size': '100M', 'vgs': 'vg' }, 'lv_home': { 'device': '/dev/mapper/vg-lv_home', 'extents': None, 'opts': None, 'size': '200M', 'vgs': 'vg' }, 'lv_log': { 'device': '/dev/mapper/vg-lv_log', 'extents': None, 'opts': None, 'size': '100M', 'vgs': 'vg' }, 'lv_root': { 'device': '/dev/mapper/vg-lv_root', 'extents': None, 'opts': None, 'size': '1800M', 'vgs': 'vg' }, 'lv_tmp': { 'device': '/dev/mapper/vg-lv_tmp', 'extents': None, 'opts': None, 'size': '100M', 'vgs': 'vg' }, 'lv_var': { 'device': '/dev/mapper/vg-lv_var', 'extents': None, 'opts': None, 'size': '500M', 'vgs': 'vg' }, } # state.debug_dump() self.assertDictEqual(state['blockdev'], blockdev_state) # XXX: mount ordering? fs creation?",,232,4
openstack%2Fpaunch~master~I951cdf0cb2bfd87a22a239ff7522ab5bba9d6eb6,openstack/paunch,master,I951cdf0cb2bfd87a22a239ff7522ab5bba9d6eb6,Log stdout/stderr during error,MERGED,2017-08-01 15:43:45.000000000,2017-08-02 00:17:58.000000000,2017-08-02 00:17:57.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 6928}]","[{'number': 1, 'created': '2017-08-01 15:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/a31e240fb18f1482ec2fa5692d7c91d4c0838381', 'message': 'Log stdout/stderr during error\n\nPaunch does not currently show stdout/stderr from the docker cmd when an\nerror happens. Without this output, there is no way to tell what\nactually caused the container command to fail.\n\nLog the output with LOG.error if we get an unexpected return code so\nthat the actual error is displayed to the user.\n\nChange-Id: I951cdf0cb2bfd87a22a239ff7522ab5bba9d6eb6\nCloses-Bug: #1707948\n'}, {'number': 2, 'created': '2017-08-01 22:16:53.000000000', 'files': ['paunch/builder/compose1.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/64df79c70d4156da2bcc29eb18d12b0193414dc7', 'message': 'Log stdout/stderr during error\n\nPaunch does not currently show stdout/stderr from the docker cmd when an\nerror happens. Without this output, there is no way to tell what\nactually caused the container command to fail.\n\nLog the output with LOG.error if we get an unexpected return code so\nthat the actual error is displayed to the user.\n\nChange-Id: I951cdf0cb2bfd87a22a239ff7522ab5bba9d6eb6\nCloses-Bug: #1707948\n'}]",4,489640,64df79c70d4156da2bcc29eb18d12b0193414dc7,19,4,2,7144,,,0,"Log stdout/stderr during error

Paunch does not currently show stdout/stderr from the docker cmd when an
error happens. Without this output, there is no way to tell what
actually caused the container command to fail.

Log the output with LOG.error if we get an unexpected return code so
that the actual error is displayed to the user.

Change-Id: I951cdf0cb2bfd87a22a239ff7522ab5bba9d6eb6
Closes-Bug: #1707948
",git fetch https://review.opendev.org/openstack/paunch refs/changes/40/489640/2 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/compose1.py'],1,a31e240fb18f1482ec2fa5692d7c91d4c0838381,bug/1707997, LOG.error(cmd_stdout) LOG.error(cmd_stderr),,2,0
openstack%2Freleases~master~I4d0fb93ff9727f88223cff5f13261f29452a8911,openstack/releases,master,I4d0fb93ff9727f88223cff5f13261f29452a8911,Release oslo.policy 1.25.1,MERGED,2017-08-01 13:20:49.000000000,2017-08-02 00:17:03.000000000,2017-08-02 00:17:03.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-01 13:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7ea3a513345cf749679fade24800569045865e88', 'message': 'Release oslo.policy 1.25.1\n\nThis change includes a couple backport that fix the show-policy\ndirective. This helps projects leverage that directive for rendering\nthe policy they maintain in their configuration guide.\n\n  45cd69557df98f8ccc581be0e6eaab3954310aaf\n  3cbcaad8a44f913aea4b31aa3184410b0b227868\n\nChange-Id: I4d0fb93ff9727f88223cff5f13261f29452a8911\n'}, {'number': 2, 'created': '2017-08-01 13:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/352ebbd05b9e0b85864e9ed7739433b2e4209aab', 'message': 'Release oslo.policy 1.25.1\n\nThis change includes a couple backport that fix the show-policy\ndirective. This helps projects leverage that directive for rendering\nthe policy they maintain in their configuration guide.\n\n  45cd69557df98f8ccc581be0e6eaab3954310aaf\n  3cbcaad8a44f913aea4b31aa3184410b0b227868\n\nChange-Id: I4d0fb93ff9727f88223cff5f13261f29452a8911\n'}, {'number': 3, 'created': '2017-08-01 17:55:51.000000000', 'files': ['deliverables/pike/oslo.policy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/27e4ea5adfc452b559ca7a4689ea43c296cf764d', 'message': 'Release oslo.policy 1.25.1\n\nThis change includes a couple backport that fix the show-policy\ndirective. This helps projects leverage that directive for rendering\nthe policy they maintain in their configuration guide.\n\n  45cd69557df98f8ccc581be0e6eaab3954310aaf\n  3cbcaad8a44f913aea4b31aa3184410b0b227868\n\nChange-Id: I4d0fb93ff9727f88223cff5f13261f29452a8911\n'}]",1,489599,27e4ea5adfc452b559ca7a4689ea43c296cf764d,16,4,3,5046,,,0,"Release oslo.policy 1.25.1

This change includes a couple backport that fix the show-policy
directive. This helps projects leverage that directive for rendering
the policy they maintain in their configuration guide.

  45cd69557df98f8ccc581be0e6eaab3954310aaf
  3cbcaad8a44f913aea4b31aa3184410b0b227868

Change-Id: I4d0fb93ff9727f88223cff5f13261f29452a8911
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/489599/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/oslo.policy.yaml'],1,7ea3a513345cf749679fade24800569045865e88,,- version: 1.25.1 projects: - repo: openstack/oslo.policy hash: 94c7504b11113365d28c7f7cff1d6bd6d315e588 location: 1.25.1, location: 1.25.0,5,1
openstack%2Fcinder~master~I41f50518cfe2be9790c8b655770b8a874bf8ab5b,openstack/cinder,master,I41f50518cfe2be9790c8b655770b8a874bf8ab5b,[DOC BLD FIX] Fix docstring errors in reduxio,MERGED,2017-07-26 15:46:21.000000000,2017-08-02 00:05:05.000000000,2017-07-26 18:57:44.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-07-26 15:46:21.000000000', 'files': ['cinder/volume/drivers/reduxio/rdx_iscsi_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/92b51927955dabeeb10a13ccc88a9d2e7011fcbd', 'message': '[DOC BLD FIX] Fix docstring errors in reduxio\n\nThe reduxio driver had docstring errors that were causing\nSphinx to produce build WARNINGs.  This change fixes those\ndocstring problems.\n\nChange-Id: I41f50518cfe2be9790c8b655770b8a874bf8ab5b\n'}]",0,487491,92b51927955dabeeb10a13ccc88a9d2e7011fcbd,31,20,1,7198,,,0,"[DOC BLD FIX] Fix docstring errors in reduxio

The reduxio driver had docstring errors that were causing
Sphinx to produce build WARNINGs.  This change fixes those
docstring problems.

Change-Id: I41f50518cfe2be9790c8b655770b8a874bf8ab5b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/487491/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/reduxio/rdx_iscsi_driver.py'],1,92b51927955dabeeb10a13ccc88a9d2e7011fcbd,doc-bld-fix," .. code-block:: default Version history: 1.0.0 - Initial version - volume management, snapshots, BackDating(TM). 1.0.1 - Capacity stats, fixed error handling for volume deletions. "," Version history: 1.0.0 - Initial version - volume management, snapshots, BackDating(TM). 1.0.1 - Capacity stats, fixed error handling for volume deletions.",11,3
openstack%2Fqinling~master~I0724417cfe974c23813117cf3733de89f8f5f1c5,openstack/qinling,master,I0724417cfe974c23813117cf3733de89f8f5f1c5,Fix getting update params,MERGED,2017-08-01 05:45:11.000000000,2017-08-01 23:59:31.000000000,2017-08-01 23:59:31.000000000,"[{'_account_id': 3}, {'_account_id': 6732}]","[{'number': 1, 'created': '2017-08-01 05:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/91dac8f349d6a293a9018a0de58ffc8f5707de62', 'message': 'Fix getting update params\n\nChange-Id: I0724417cfe974c23813117cf3733de89f8f5f1c5\n'}, {'number': 2, 'created': '2017-08-01 22:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/170e0d4dfbd9c3091579bfa517f6928515f55e28', 'message': 'Fix getting update params\n\nChange-Id: I0724417cfe974c23813117cf3733de89f8f5f1c5\n'}, {'number': 3, 'created': '2017-08-01 22:15:25.000000000', 'files': ['qinling/api/controllers/v1/function.py', 'qinling/api/controllers/v1/runtime.py', 'qinling/api/controllers/v1/job.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/13e2d1319596147ab7c6554639bfc149824e217e', 'message': 'Fix getting update params\n\nChange-Id: I0724417cfe974c23813117cf3733de89f8f5f1c5\n'}]",0,489474,13e2d1319596147ab7c6554639bfc149824e217e,10,2,3,6732,,,0,"Fix getting update params

Change-Id: I0724417cfe974c23813117cf3733de89f8f5f1c5
",git fetch https://review.opendev.org/openstack/qinling refs/changes/74/489474/1 && git format-patch -1 --stdout FETCH_HEAD,"['qinling/api/controllers/v1/function.py', 'qinling/api/controllers/v1/job.py']",2,91dac8f349d6a293a9018a0de58ffc8f5707de62,fix-update, if job.to_dict().get(key): values.update({key: job.to_dict()[key]}), if key in job.to_dict(): values.update({key: job.to_dict().get(key)}),4,4
openstack%2Fpuppet-tempest~master~Ie7def5893bfdd3313b0434777e926dd0b078a36f,openstack/puppet-tempest,master,Ie7def5893bfdd3313b0434777e926dd0b078a36f,Add support for testing magnum,MERGED,2016-09-07 22:09:02.000000000,2017-08-01 23:40:54.000000000,2017-06-05 10:19:08.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9061}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 20498}]","[{'number': 1, 'created': '2016-09-07 22:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/f5b8febaedef622af6e59de17e57b56ba806f8e0', 'message': 'Add support for testing magnum\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n'}, {'number': 2, 'created': '2016-09-08 00:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/1865c198f597d935edee0549c79174366764ab4d', 'message': 'Add support for testing magnum\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n'}, {'number': 3, 'created': '2016-09-08 01:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/4aaed02970f4e833a5238e8ae9ad95a75b377cd0', 'message': 'Add support for testing magnum\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n'}, {'number': 4, 'created': '2016-09-08 02:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/034bd85a7587e1c45c18e83b5217fb71eb4bc449', 'message': 'Add support for testing magnum\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n'}, {'number': 5, 'created': '2016-09-08 20:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/225d0a0e461c91399524f75998d051ff2ec2f64b', 'message': 'Add support for testing magnum\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n'}, {'number': 6, 'created': '2016-09-30 17:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/79072d4f7da45b58fa213f33dd9cf295bd7d70e9', 'message': ""WIP: Add support for testing magnum\n\nNote: This uses a different layout than what has been done until\nnow by moving service-specific configuration to it's own class.\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n""}, {'number': 7, 'created': '2016-10-31 18:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/4d6419d02f525c0b5edc7129c02dba1c11539ce3', 'message': ""WIP: Add support for testing magnum\n\nNote: This uses a different layout than what has been done until\nnow by moving service-specific configuration to it's own class.\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n""}, {'number': 8, 'created': '2016-10-31 19:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/1b225a9f92bbc0026a43f005343ecce4ff7dc55a', 'message': ""WIP: Add support for testing magnum\n\nNote: This uses a different layout than what has been done until\nnow by moving service-specific configuration to it's own class.\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n""}, {'number': 9, 'created': '2016-11-01 21:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/ce993e81ebfe1c609f948b26ebc69cf4783841bf', 'message': ""WIP: Add support for testing magnum\n\nNote: This uses a different layout than what has been done until\nnow by moving service-specific configuration to it's own class.\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n""}, {'number': 10, 'created': '2017-03-23 20:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/4858663cdc6bfbb80e6021909a5e330a8d01517b', 'message': ""WIP: Add support for testing magnum\n\nNote: This uses a different layout than what has been done until\nnow by moving service-specific configuration to it's own class.\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n""}, {'number': 11, 'created': '2017-04-29 11:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/87f2d531328dfff5289eeb7d87fb7792a82087ce', 'message': ""WIP: Add support for testing magnum\n\nNote: This uses a different layout than what has been done until\nnow by moving service-specific configuration to it's own class.\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n""}, {'number': 12, 'created': '2017-04-29 11:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/60df0acfad8f5b9aa5b39d7cda0764be78531bd3', 'message': ""WIP: Add support for testing magnum\n\nNote: This uses a different layout than what has been done until\nnow by moving service-specific configuration to it's own class.\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n""}, {'number': 13, 'created': '2017-04-29 12:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/467f7806af0d15d5a88e9e2dbe5a56bec81ac9c5', 'message': ""WIP: Add support for testing magnum\n\nNote: This uses a different layout than what has been done until\nnow by moving service-specific configuration to it's own class.\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n""}, {'number': 14, 'created': '2017-06-01 19:01:05.000000000', 'files': ['spec/classes/tempest_magnum_spec.rb', 'manifests/magnum.pp', 'manifests/params.pp', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/132bf33cca601a6848d9db4fa10a36439fd68727', 'message': ""Add support for testing magnum\n\nNote: This uses a different layout than what has been done until\nnow by moving service-specific configuration to it's own class.\n\nChange-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f\n""}]",4,367009,132bf33cca601a6848d9db4fa10a36439fd68727,52,8,14,9061,,,0,"Add support for testing magnum

Note: This uses a different layout than what has been done until
now by moving service-specific configuration to it's own class.

Change-Id: Ie7def5893bfdd3313b0434777e926dd0b078a36f
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/09/367009/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/params.pp', 'spec/classes/tempest_spec.rb']",3,f5b8febaedef622af6e59de17e57b56ba806f8e0,magnum-testing," context 'with magnum enabled' do let :params do { :magnum_available => true, :image_name => 'foo', :public_network_id => '4c423fc6-87f7-4e6d-9d3c-abc13058ae5b', :keypair_id => 'keypair', :flavor_ref => 'm1.tempest', :flavor_ref_alt => 'm1.tempest_alt', } end it 'properly configures magnum in tempest.conf' do is_expected.to contain_tempest_config('magnum/image_name').with_value('foo') is_expected.to contain_tempest_config('magnum/public_network_id').with_value('4c423fc6-87f7-4e6d-9d3c-abc13058ae5b') is_expected.to contain_tempest_config('magnum/keypair_id').with_value('keypair') is_expected.to contain_tempest_config('magnum/flavor_ref').with_value('m1.tempest') is_expected.to contain_tempest_config('magnum/flavor_ref_alt').with_value('m1.tempest_alt') is_expected.to contain_tempest_config('magnum/image_name').with_value('foo') end end is_expected.to contain_tempest_config('service_available/magnum').with(:value => false)",,66,0
openstack%2Fpython-brick-cinderclient-ext~master~Ie8bda5dbca318abe4286fcc75c10de12d1c6dcba,openstack/python-brick-cinderclient-ext,master,Ie8bda5dbca318abe4286fcc75c10de12d1c6dcba,Updated from global requirements,MERGED,2017-07-27 19:20:29.000000000,2017-08-01 23:36:56.000000000,2017-08-01 23:36:56.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 5997}]","[{'number': 1, 'created': '2017-07-27 19:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/11b377a7d0b80f4af420106ffec848f5300c22a4', 'message': 'Updated from global requirements\n\nChange-Id: Ie8bda5dbca318abe4286fcc75c10de12d1c6dcba\n'}, {'number': 2, 'created': '2017-07-28 04:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/58beb23d7808768cecb5c8fca0650d360f0964db', 'message': 'Updated from global requirements\n\nChange-Id: Ie8bda5dbca318abe4286fcc75c10de12d1c6dcba\n'}, {'number': 3, 'created': '2017-07-29 02:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/14971a16d3f09f30de71e489101904632a4ab31a', 'message': 'Updated from global requirements\n\nChange-Id: Ie8bda5dbca318abe4286fcc75c10de12d1c6dcba\n'}, {'number': 4, 'created': '2017-08-01 13:37:15.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/d7433cf86d3afd169b6d707e2f59c336debca265', 'message': 'Updated from global requirements\n\nChange-Id: Ie8bda5dbca318abe4286fcc75c10de12d1c6dcba\n'}]",0,488110,d7433cf86d3afd169b6d707e2f59c336debca265,14,3,4,11131,,,0,"Updated from global requirements

Change-Id: Ie8bda5dbca318abe4286fcc75c10de12d1c6dcba
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/10/488110/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,11b377a7d0b80f4af420106ffec848f5300c22a4,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Frpm-packaging~master~I00011d8c0048c3ebbd40e226c3e317c5fef93de9,openstack/rpm-packaging,master,I00011d8c0048c3ebbd40e226c3e317c5fef93de9,Update python-distilclient to 0.3.0,ABANDONED,2017-08-01 03:26:19.000000000,2017-08-01 23:19:17.000000000,,"[{'_account_id': 3}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-08-01 03:26:19.000000000', 'files': ['openstack/python-distilclient/python-distilclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/03e0e0b83bd0468538a64ca6067b68d3c0eeb42f', 'message': 'Update python-distilclient to 0.3.0\n\nChange-Id: I00011d8c0048c3ebbd40e226c3e317c5fef93de9\n'}]",0,489454,03e0e0b83bd0468538a64ca6067b68d3c0eeb42f,7,5,1,17130,,,0,"Update python-distilclient to 0.3.0

Change-Id: I00011d8c0048c3ebbd40e226c3e317c5fef93de9
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/54/489454/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-distilclient/python-distilclient.spec.j2'],1,03e0e0b83bd0468538a64ca6067b68d3c0eeb42f,python-distilclient,Version: 0.3.0,Version: 0.1.1,1,1
openstack%2Fcinder~master~I16f00fdb260d3422bcb6d5f8f2d6a4efda3ebd12,openstack/cinder,master,I16f00fdb260d3422bcb6d5f8f2d6a4efda3ebd12,Updated from global requirements,MERGED,2017-07-26 14:59:35.000000000,2017-08-01 23:14:41.000000000,2017-07-26 22:26:11.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24578}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-26 14:59:35.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f397a6a00adad88342bb679c4b06df9cf533a378', 'message': 'Updated from global requirements\n\nChange-Id: I16f00fdb260d3422bcb6d5f8f2d6a4efda3ebd12\n'}]",0,487461,f397a6a00adad88342bb679c4b06df9cf533a378,37,19,1,11131,,,0,"Updated from global requirements

Change-Id: I16f00fdb260d3422bcb6d5f8f2d6a4efda3ebd12
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/487461/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f397a6a00adad88342bb679c4b06df9cf533a378,openstack/requirements,"cryptography!=2.0,>=1.6 # BSD/Apache-2.0",cryptography>=1.6 # BSD/Apache-2.0,1,1
openstack%2Foctavia~master~I5698d3a9a9796fac8fd8c5a1a14590e976f3c32e,openstack/octavia,master,I5698d3a9a9796fac8fd8c5a1a14590e976f3c32e,Correct status for disabled members (pinocchio edition),ABANDONED,2017-07-30 18:39:21.000000000,2017-08-01 22:59:32.000000000,,"[{'_account_id': 3}, {'_account_id': 12024}]","[{'number': 1, 'created': '2017-07-30 18:39:21.000000000', 'files': ['octavia/api/v2/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/63a0628891636c757d033e988c02f88b51686117', 'message': 'Correct status for disabled members (pinocchio edition)\n\nThis is *one way* to handle this problem (the simplest way).\n\nThere are a lot of complications with handling it ""correctly"" (updating\nthe DB at the appropriate time) because there will always be a race\nbetween our flows and the HM packets. If we update the status to OFFLINE\nin our flows (even after updating Listeners) there\'s always a chance\nthat a HM packet could be received and change the status back to ONLINE\none last time, leaving it in the wrong status again.\n\nThe other option would be to actually add additional logic to the HM\ncode as well as the flows, which I will propose as a different CR.\n\nChange-Id: I5698d3a9a9796fac8fd8c5a1a14590e976f3c32e\nCloses-Bug: #1706828\n'}]",0,489014,63a0628891636c757d033e988c02f88b51686117,4,2,1,10273,,,0,"Correct status for disabled members (pinocchio edition)

This is *one way* to handle this problem (the simplest way).

There are a lot of complications with handling it ""correctly"" (updating
the DB at the appropriate time) because there will always be a race
between our flows and the HM packets. If we update the status to OFFLINE
in our flows (even after updating Listeners) there's always a chance
that a HM packet could be received and change the status back to ONLINE
one last time, leaving it in the wrong status again.

The other option would be to actually add additional logic to the HM
code as well as the flows, which I will propose as a different CR.

Change-Id: I5698d3a9a9796fac8fd8c5a1a14590e976f3c32e
Closes-Bug: #1706828
",git fetch https://review.opendev.org/openstack/octavia refs/changes/14/489014/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/v2/controllers/base.py'],1,63a0628891636c757d033e988c02f88b51686117,bug/1706828," member = self._get_db_obj(session, self.repositories.member, data_models.Member, id) if member.enabled is False: member.operating_status = constants.OFFLINE return member"," return self._get_db_obj(session, self.repositories.member, data_models.Member, id)",5,2
openstack%2Fopenstack-helm~master~Ic536524e3cecf7b6ab973ea754331b373dd41e1f,openstack/openstack-helm,master,Ic536524e3cecf7b6ab973ea754331b373dd41e1f,WIP: Armada Openstack-Helm Deploy,ABANDONED,2017-07-11 22:48:20.000000000,2017-08-01 22:57:00.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-07-11 22:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5b321d3eae0a8061a72bd626a4066f60d85869ab', 'message': 'WIP: Armada Openstack-Helm Deploy\n\nChange-Id: Ic536524e3cecf7b6ab973ea754331b373dd41e1f\n'}, {'number': 2, 'created': '2017-07-13 15:47:26.000000000', 'files': ['tools/gate/armada_launch.sh', 'tools/deployment/armada/openstack-master.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8fae5ee83e98e9fd9611b58bec0ba3c1a6fbfa32', 'message': 'WIP: Armada Openstack-Helm Deploy\n\nChange-Id: Ic536524e3cecf7b6ab973ea754331b373dd41e1f\n'}]",0,482729,8fae5ee83e98e9fd9611b58bec0ba3c1a6fbfa32,5,1,2,23928,,,0,"WIP: Armada Openstack-Helm Deploy

Change-Id: Ic536524e3cecf7b6ab973ea754331b373dd41e1f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/482729/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/armada_launch.sh'],1,5b321d3eae0a8061a72bd626a4066f60d85869ab,armada-deployment-yaml,"#!/bin/bash # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. set -ex : ${WORK_DIR:=""$(pwd)""} source ${WORK_DIR}/tools/gate/funcs/helm.sh source ${WORK_DIR}/tools/gate/funcs/kube.sh helm_build helm search # NOTE(portdirect): Temp workaround until module loading is supported by # OpenStack-Helm in Fedora if [ ""x$HOST_OS"" == ""xfedora"" ]; then sudo modprobe openvswitch sudo modprobe gre sudo modprobe vxlan sudo modprobe ip6_tables fi if [ ""x$PVC_BACKEND"" == ""xceph"" ]; then kubectl label nodes ceph-storage=enabled --all CONTROLLER_MANAGER_POD=$(kubectl get -n kube-system pods -l component=kube-controller-manager --no-headers -o name | head -1 | awk -F '/' '{ print $NF }') kubectl exec -n kube-system ${CONTROLLER_MANAGER_POD} -- sh -c ""cat > /etc/resolv.conf <<EOF nameserver 10.96.0.10 nameserver 8.8.8.8 search cluster.local svc.cluster.local EOF"" fi ",,40,0
openstack%2Fopenstack-zuul-jobs~master~I04c8c680de7340b394f287c42ea3a7965c4f6d69,openstack/openstack-zuul-jobs,master,I04c8c680de7340b394f287c42ea3a7965c4f6d69,Setup tox_chdir for tox-py35-on-zuul job,ABANDONED,2017-07-27 17:00:31.000000000,2017-08-01 22:27:43.000000000,,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-07-27 17:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6a31d4131421d45391bfce8e58770c8dd2ed2f77', 'message': 'Switch to use tox_chdir for tox-py35-on-zuul job\n\nChange-Id: I04c8c680de7340b394f287c42ea3a7965c4f6d69\nDepends-On: I53f2619a99e93be0ac210bf4254e37e441a7aaa2\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2017-07-27 17:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/94d43e7209c6f54eb7c0679d59a360b030908ff2', 'message': 'WIP: Switch to use tox_chdir for tox-py35-on-zuul job\n\nChange-Id: I04c8c680de7340b394f287c42ea3a7965c4f6d69\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2017-07-27 17:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1cf2cba8d80dbf543e3120c2dd96bf07672d4d8a', 'message': 'WIP: Setup tox_chdir for tox-py35-on-zuul job\n\nChange-Id: I04c8c680de7340b394f287c42ea3a7965c4f6d69\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 4, 'created': '2017-07-31 17:02:56.000000000', 'files': ['zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ef29195d41448e9ab7bb1d1bfd6ef7f7d81d7940', 'message': 'Setup tox_chdir for tox-py35-on-zuul job\n\nOur tox has created a tox_chdir variable which needs to be set to\nopenstack-infra/zuul, not openstack-zuul-jobs.\n\nChange-Id: I04c8c680de7340b394f287c42ea3a7965c4f6d69\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",1,487948,ef29195d41448e9ab7bb1d1bfd6ef7f7d81d7940,12,3,4,4162,,,0,"Setup tox_chdir for tox-py35-on-zuul job

Our tox has created a tox_chdir variable which needs to be set to
openstack-infra/zuul, not openstack-zuul-jobs.

Change-Id: I04c8c680de7340b394f287c42ea3a7965c4f6d69
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/48/487948/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.yaml'],1,6a31d4131421d45391bfce8e58770c8dd2ed2f77,zuulv3-tox-jobs," tox_chdir: ""src/git.openstack.org/openstack-infra/zuul"""," zuul_work_dir: ""src/git.openstack.org/openstack-infra/zuul""",1,1
openstack%2Fceilometer~master~I2252c71cb0c596967c694ea3e47179fca0d4a375,openstack/ceilometer,master,I2252c71cb0c596967c694ea3e47179fca0d4a375,add configuration folder,MERGED,2017-07-24 22:57:38.000000000,2017-08-01 21:53:04.000000000,2017-08-01 21:53:04.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 15843}, {'_account_id': 19779}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-07-24 22:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3363b62eb70930f7475f861391e82ce29f5a4585', 'message': 'add configuration folder\n\nmove conf generation to configuration folder\n\nChange-Id: I2252c71cb0c596967c694ea3e47179fca0d4a375\nCloses-Bug: #1706156\n'}, {'number': 2, 'created': '2017-07-25 12:31:59.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/index.rst', 'doc/source/contributor/configuration.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/008c0f65cc4fb2ddae9a23b0b75db8111310c213', 'message': 'add configuration folder\n\nmove conf generation to configuration folder\n\nChange-Id: I2252c71cb0c596967c694ea3e47179fca0d4a375\nCloses-Bug: #1706156\n'}]",0,486789,008c0f65cc4fb2ddae9a23b0b75db8111310c213,14,6,2,6537,,,0,"add configuration folder

move conf generation to configuration folder

Change-Id: I2252c71cb0c596967c694ea3e47179fca0d4a375
Closes-Bug: #1706156
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/89/486789/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/contributor/configuration.rst']",2,3363b62eb70930f7475f861391e82ce29f5a4585,bug/1706156,=============== Configuration ===============,"======================= Configuration Options ======================= For the list and description of configuration options that can be set for Ceilometer in order to set up the services please see the `Telemetry section <http://docs.openstack.org/trunk/config-reference/content/ch_configuring-openstack-telemetry.html>`_ in the OpenStack Manuals Configuration Reference. Sample Configuration file ~~~~~~~~~~~~~~~~~~~~~~~~~ The sample configuration file for Ceilometer, named :file:`etc/ceilometer/ceilometer.conf.sample`, was removed from version control after the Icehouse release. You can generate this sample configuration file by running ``tox -e genconfig``. ",27,17
openstack%2Fceilometer~master~I83db618116cb56574f67738e008001ff7074799e,openstack/ceilometer,master,I83db618116cb56574f67738e008001ff7074799e,generate conf on doc build,MERGED,2017-07-24 22:57:38.000000000,2017-08-01 21:52:58.000000000,2017-08-01 21:52:58.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-07-24 22:57:38.000000000', 'files': ['.gitignore', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1e60a368ae90456266ac6d5c3f12115e700ad35b', 'message': 'generate conf on doc build\n\nChange-Id: I83db618116cb56574f67738e008001ff7074799e\n'}]",0,486788,1e60a368ae90456266ac6d5c3f12115e700ad35b,8,3,1,6537,,,0,"generate conf on doc build

Change-Id: I83db618116cb56574f67738e008001ff7074799e
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/88/486788/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'doc/source/conf.py']",2,1e60a368ae90456266ac6d5c3f12115e700ad35b,bug/1706156," 'oslo_config.sphinxconfiggen',config_generator_config_file = os.path.join(ROOT, 'etc/ceilometer/ceilometer-config-generator.conf') sample_config_basename = '_static/ceilometer' html_static_path = ['_static']",#html_static_path = ['_static'],7,1
openstack%2Fceilometer~master~I1629ebb51f32dc019d8384a3c12b1ecad204245d,openstack/ceilometer,master,I1629ebb51f32dc019d8384a3c12b1ecad204245d,turn on warning-is-error for doc builds,MERGED,2017-07-24 22:04:07.000000000,2017-08-01 21:52:53.000000000,2017-08-01 21:52:53.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-07-24 22:04:07.000000000', 'files': ['doc/source/install/index.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7ce164a254f94cd252d44b35e4525fa334b00484', 'message': 'turn on warning-is-error for doc builds\n\nSuppress warnings from Sphinx extensions that used to be suppressed by\npbr with older versions of Sphinx.\n\nChange-Id: I1629ebb51f32dc019d8384a3c12b1ecad204245d\n'}]",0,486777,7ce164a254f94cd252d44b35e4525fa334b00484,8,3,1,6537,,,0,"turn on warning-is-error for doc builds

Suppress warnings from Sphinx extensions that used to be suppressed by
pbr with older versions of Sphinx.

Change-Id: I1629ebb51f32dc019d8384a3c12b1ecad204245d
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/77/486777/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index.rst', 'doc/source/conf.py']",2,7ce164a254f94cd252d44b35e4525fa334b00484,doc-migration," # NOTE(dhellmann): pbr used to set this option but now that we are # using Sphinx>=1.6.2 it does not so we have to set it ourselves. suppress_warnings = [ 'app.add_directive', 'app.add_role', 'app.add_generic_role', 'app.add_node', 'image.nonlocal_uri', ]",,10,2
openstack%2Fnova~master~I30b51a3235e69f4a2993052f7f9ef853858f2d65,openstack/nova,master,I30b51a3235e69f4a2993052f7f9ef853858f2d65,placement: Specific error for inventory in use,MERGED,2017-04-26 17:30:17.000000000,2017-08-01 21:46:25.000000000,2017-06-02 18:40:07.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8175}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-26 17:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8493e0f90f25fe48ef81d27c2cd11b321390dbe', 'message': 'placement: Specific error for inventory in use\n\nDeleting an inventory in use should return HTTPConflict 409 with\na specific error message, not just dump the error from the DB API\ninto the REST API output.\n\nChange-Id: I30b51a3235e69f4a2993052f7f9ef853858f2d65\n'}, {'number': 2, 'created': '2017-04-26 20:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b27f29d3a4528a30ebb1c40e41fde91b4f99be8', 'message': 'placement: Specific error for inventory in use\n\nDeleting an inventory in use should return HTTPConflict 409 with\na specific error message, not just dump the error from the DB API\ninto the REST API output.\n\nChange-Id: I30b51a3235e69f4a2993052f7f9ef853858f2d65\n'}, {'number': 3, 'created': '2017-05-08 13:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03c9c7f55567bce526b77d7f8e5079d30ab7ba9c', 'message': 'placement: Specific error for inventory in use\n\nDeleting an inventory in use should return HTTPConflict 409 with\na specific error message, not just dump the error from the DB API\ninto the REST API output.\n\nChange-Id: I30b51a3235e69f4a2993052f7f9ef853858f2d65\n'}, {'number': 4, 'created': '2017-05-30 17:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c71e49dd504428e5e9594e74f20a2bcdbaeb5ab', 'message': 'placement: Specific error for inventory in use\n\nDeleting an inventory in use should return HTTPConflict 409 with\na specific error message, not just dump the error from the DB API\ninto the REST API output.\n\nChange-Id: I30b51a3235e69f4a2993052f7f9ef853858f2d65\n'}, {'number': 5, 'created': '2017-06-02 13:58:09.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/with-allocations.yaml', 'nova/api/openstack/placement/handlers/inventory.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cc6be41491a4780acbcebdd057da67d3e1ef10c6', 'message': 'placement: Specific error for inventory in use\n\nDeleting an inventory in use should return HTTPConflict 409 with\na specific error message, not just dump the error from the DB API\ninto the REST API output.\n\nChange-Id: I30b51a3235e69f4a2993052f7f9ef853858f2d65\n'}]",21,460231,cc6be41491a4780acbcebdd057da67d3e1ef10c6,106,22,5,8175,,,0,"placement: Specific error for inventory in use

Deleting an inventory in use should return HTTPConflict 409 with
a specific error message, not just dump the error from the DB API
into the REST API output.

Change-Id: I30b51a3235e69f4a2993052f7f9ef853858f2d65
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/460231/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/gabbits/inventory.yaml', 'nova/api/openstack/placement/handlers/inventory.py']",2,a8493e0f90f25fe48ef81d27c2cd11b321390dbe,conflict_error, exception.InventoryInUse): _('Unable to delete inventory for resource provider ' ' %(rp_uuid)s because the inventory is in use') % {'rp_uuid': resource_provider.uuid}), exception.InventoryInUse) as exc: _('update conflict: %(error)s') % {'error': exc}),30,3
openstack%2Fneutron~master~I3ca2f77e026167bf6828072ccd02872e7c504c1c,openstack/neutron,master,I3ca2f77e026167bf6828072ccd02872e7c504c1c,Add bandit target to tox,MERGED,2017-07-29 00:52:05.000000000,2017-08-01 21:41:18.000000000,2017-08-01 21:41:17.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 12024}]","[{'number': 1, 'created': '2017-07-29 00:52:05.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd4c2c9760bc6e9dc5c7eb7f2646a6795dc7dd83', 'message': 'Add bandit target to tox\n\nChange-Id: I3ca2f77e026167bf6828072ccd02872e7c504c1c\n'}]",1,488894,bd4c2c9760bc6e9dc5c7eb7f2646a6795dc7dd83,24,6,1,748,,,0,"Add bandit target to tox

Change-Id: I3ca2f77e026167bf6828072ccd02872e7c504c1c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/488894/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,bd4c2c9760bc6e9dc5c7eb7f2646a6795dc7dd83,bandit,[testenv:bandit] deps = -r{toxinidir}/test-requirements.txt commands = bandit -r neutron -x tests -n5 ,,5,0
openstack%2Fceilometer~master~I034e5bfae6104d68e738f1c7a0d6c35907754342,openstack/ceilometer,master,I034e5bfae6104d68e738f1c7a0d6c35907754342,add missing sphinx extension,MERGED,2017-07-24 22:04:07.000000000,2017-08-01 21:36:12.000000000,2017-08-01 21:36:12.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 22752}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-07-24 22:04:07.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7e8b37c6ca845a06691553be425d131769be63c7', 'message': 'add missing sphinx extension\n\nThe sphinxcontrib.httpdomain extension is being installed, but not\ninitialized. Add it to the list of extensions to eliminate warnings\nabout the http:get and http:post directives.\n\nChange-Id: I034e5bfae6104d68e738f1c7a0d6c35907754342\n'}]",0,486776,7e8b37c6ca845a06691553be425d131769be63c7,10,5,1,6537,,,0,"add missing sphinx extension

The sphinxcontrib.httpdomain extension is being installed, but not
initialized. Add it to the list of extensions to eliminate warnings
about the http:get and http:post directives.

Change-Id: I034e5bfae6104d68e738f1c7a0d6c35907754342
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/76/486776/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,7e8b37c6ca845a06691553be425d131769be63c7,doc-migration," 'sphinxcontrib.httpdomain',",,1,0
openstack%2Fkeystonemiddleware~master~I4b3fd18314c3ca94beb3b0c8c17280451d6c8755,openstack/keystonemiddleware,master,I4b3fd18314c3ca94beb3b0c8c17280451d6c8755,strip whitespace from token,MERGED,2017-07-12 13:49:51.000000000,2017-08-01 21:34:14.000000000,2017-08-01 21:34:14.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 10608}, {'_account_id': 17645}, {'_account_id': 17860}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 23659}, {'_account_id': 26197}, {'_account_id': 26202}]","[{'number': 1, 'created': '2017-07-12 13:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f7158c371a3c7cff3d3dd2a2479f986525397541', 'message': 'strip whitespace from token\n\nThis change strips whitespace from incoming tokens to prevent errors\nthat are difficult for a caller to root cause.\n\nChange-Id: I4b3fd18314c3ca94beb3b0c8c17280451d6c8755\nCloses-Bug: #1689468\n'}, {'number': 2, 'created': '2017-07-31 20:16:54.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_base_middleware.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/efb1fb99d87f754a008877f2e2d391221cb43721', 'message': 'strip whitespace from token\n\nThis change strips whitespace from incoming tokens to prevent errors\nthat are difficult for a caller to root cause.\n\nChange-Id: I4b3fd18314c3ca94beb3b0c8c17280451d6c8755\nCloses-Bug: #1689468\n'}]",4,482971,efb1fb99d87f754a008877f2e2d391221cb43721,21,11,2,10608,,,0,"strip whitespace from token

This change strips whitespace from incoming tokens to prevent errors
that are difficult for a caller to root cause.

Change-Id: I4b3fd18314c3ca94beb3b0c8c17280451d6c8755
Closes-Bug: #1689468
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/71/482971/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/auth_token/test_base_middleware.py', 'keystonemiddleware/auth_token/__init__.py']",2,f7158c371a3c7cff3d3dd2a2479f986525397541,bug/1689468, # NOTE(edmondsw): strip the token to remove any whitespace that may # have been passed along in the header per bug 1689468 token = token.strip(),,11,2
openstack%2Fswift~master~Id92552f4a2d0fb79ddefc55a08636f2e7aeb07cb,openstack/swift,master,Id92552f4a2d0fb79ddefc55a08636f2e7aeb07cb,Update and optimize documentation links,MERGED,2017-07-20 07:14:16.000000000,2017-08-01 21:27:18.000000000,2017-08-01 21:27:17.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 9625}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-07-20 07:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/39e9b92df9e2f6f9009a544f24e589f4392a86b5', 'message': 'Update and optimize documentation links\n\n * Update URLs according to document migration\n * Update the dead and outdated links\n\nChange-Id: Id92552f4a2d0fb79ddefc55a08636f2e7aeb07cb\n'}, {'number': 2, 'created': '2017-08-01 09:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4be5f8f796c2f27769787650196d4b98c031593e', 'message': 'Update and optimize documentation links\n\n * Update URLs according to document migration\n * Update the dead and outdated links\n\nChange-Id: Id92552f4a2d0fb79ddefc55a08636f2e7aeb07cb\n'}, {'number': 3, 'created': '2017-08-01 14:12:16.000000000', 'files': ['doc/source/admin/objectstorage-components.rst', 'doc/source/admin/objectstorage-admin.rst', 'doc/source/admin/objectstorage-large-objects.rst', 'etc/swift.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/0d07e3fdb1c3a6e626428289d599f44ccec5bdd9', 'message': 'Update and optimize documentation links\n\n * Update URLs according to document migration\n * Update the dead and outdated links\n\nChange-Id: Id92552f4a2d0fb79ddefc55a08636f2e7aeb07cb\n'}]",2,485474,0d07e3fdb1c3a6e626428289d599f44ccec5bdd9,18,5,3,25456,,,0,"Update and optimize documentation links

 * Update URLs according to document migration
 * Update the dead and outdated links

Change-Id: Id92552f4a2d0fb79ddefc55a08636f2e7aeb07cb
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/485474/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/objectstorage-admin.rst', 'doc/source/admin/objectstorage-components.rst', 'doc/source/admin/objectstorage-large-objects.rst', 'etc/swift.conf-sample']",4,39e9b92df9e2f6f9009a544f24e589f4392a86b5,doc-migration,# https://docs.openstack.org/swift/latest/overview_erasure_code.html,# https://docs.openstack.org/developer/swift/overview_erasure_code.html,3,7
openstack%2Fdiskimage-builder~master~Idd4ae71ee6deee84604823b6b5dc4a845f316e01,openstack/diskimage-builder,master,Idd4ae71ee6deee84604823b6b5dc4a845f316e01,Move selinux packages to redhat-common,MERGED,2017-07-31 23:53:57.000000000,2017-08-01 21:02:56.000000000,2017-08-01 21:02:56.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-07-31 23:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bf60832a91620dfe8fd91e056a6a3630645b16f7', 'message': 'Move selinux packages to redhat-common\n\nChange I008f8bbc9c8414ce948c601e3907e27764e15a52 has shown that not\nall builds have the ""semange"" tool available, which comes from the\nlibselinux-python package (see also\nI3f9e2c322d042a5dddba33451c0fc21a4d32a88a).\n\nA similar issue was found with yum-minimal+ansible in\nI403e7806ae10d5dd96d0727832f4da20e34b94c7, which added the package to\nthe base installs.\n\nGiven both these changes, it seems that libselinux-python is\nreasonably considered part of all base images.  Move the selinux\nrelated packages into redhat-common.\n\nChange-Id: Idd4ae71ee6deee84604823b6b5dc4a845f316e01\nRelated-Bug: #1707788\n'}, {'number': 2, 'created': '2017-08-01 01:10:25.000000000', 'files': ['diskimage_builder/elements/redhat-common/package-installs.yaml', 'tests/install_test_deps.sh', 'diskimage_builder/elements/yum-minimal/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/818b75af41b99b7573d3d9da132c7b866a2ac2a1', 'message': 'Move selinux packages to redhat-common\n\nChange I008f8bbc9c8414ce948c601e3907e27764e15a52 has shown that we\nbuild redhat images without the ""semange"" tool available, which comes\nfrom the policycoreutils-python package (see also\nI3f9e2c322d042a5dddba33451c0fc21a4d32a88a).\n\nI403e7806ae10d5dd96d0727832f4da20e34b94c7 added some of the selinux\nlibraries to yum-minimal for ansible support, but not to others.\n\nGiven both these changes, it seems that selinux[-targeted],\nlibselinux[-python] and policycoreutils[-python] can reasonably\nconsidered part of all base images.  Move the selinux related packages\ninto redhat-common.\n\nThis also adds it explicitly to install_test_deps.sh.  It was actually\nbeing dragged in by the docker install, but is a required component\nfor building (should be in bindep, but not there with that yet).\n\nChange-Id: Idd4ae71ee6deee84604823b6b5dc4a845f316e01\nRelated-Bug: #1707788\n'}]",0,489434,818b75af41b99b7573d3d9da132c7b866a2ac2a1,14,5,2,7118,,,0,"Move selinux packages to redhat-common

Change I008f8bbc9c8414ce948c601e3907e27764e15a52 has shown that we
build redhat images without the ""semange"" tool available, which comes
from the policycoreutils-python package (see also
I3f9e2c322d042a5dddba33451c0fc21a4d32a88a).

I403e7806ae10d5dd96d0727832f4da20e34b94c7 added some of the selinux
libraries to yum-minimal for ansible support, but not to others.

Given both these changes, it seems that selinux[-targeted],
libselinux[-python] and policycoreutils[-python] can reasonably
considered part of all base images.  Move the selinux related packages
into redhat-common.

This also adds it explicitly to install_test_deps.sh.  It was actually
being dragged in by the docker install, but is a required component
for building (should be in bindep, but not there with that yet).

Change-Id: Idd4ae71ee6deee84604823b6b5dc4a845f316e01
Related-Bug: #1707788
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/34/489434/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/redhat-common/package-installs.yaml', 'diskimage_builder/elements/yum-minimal/package-installs.yaml']",2,bf60832a91620dfe8fd91e056a6a3630645b16f7,bug/1707788,,selinux-policy: selinux-policy-targeted: libselinux-python:,3,3
openstack%2Fmanila~master~I4d446759eddf512c46247aca0bab08b4c8155d9a,openstack/manila,master,I4d446759eddf512c46247aca0bab08b4c8155d9a,[Trivialfix]Fix typos,MERGED,2017-08-01 08:26:21.000000000,2017-08-01 20:59:07.000000000,2017-08-01 12:15:51.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15831}, {'_account_id': 17565}, {'_account_id': 21884}, {'_account_id': 25720}]","[{'number': 1, 'created': '2017-08-01 08:26:21.000000000', 'files': ['manila/share/drivers/qnap/qnap.py', 'manila_tempest_tests/tests/api/admin/test_user_messages.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5084efe621f3c23f168d605fa292913c9f25eb56', 'message': '[Trivialfix]Fix typos\n\nFix the typos in manila.\n\nChange-Id: I4d446759eddf512c46247aca0bab08b4c8155d9a\n'}]",0,489528,5084efe621f3c23f168d605fa292913c9f25eb56,16,9,1,23317,,,0,"[Trivialfix]Fix typos

Fix the typos in manila.

Change-Id: I4d446759eddf512c46247aca0bab08b4c8155d9a
",git fetch https://review.opendev.org/openstack/manila refs/changes/28/489528/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/qnap/qnap.py', 'manila_tempest_tests/tests/api/admin/test_user_messages.py']",2,5084efe621f3c23f168d605fa292913c9f25eb56,dev, # multiple keys in response ('messages' and 'message_links'), # multiple keys in reponse ('messages' and 'message_links'),2,2
openstack%2Freleases~master~I0065ce2e7eb49b804760f026dcdd5e33d1d34268,openstack/releases,master,I0065ce2e7eb49b804760f026dcdd5e33d1d34268,update directions for branching requirements repo,MERGED,2017-08-01 20:31:55.000000000,2017-08-01 20:40:37.000000000,2017-08-01 20:40:37.000000000,"[{'_account_id': 3}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-01 20:31:55.000000000', 'files': ['PROCESS.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/a26d2dfd95844660557973a364202985672aa94b', 'message': 'update directions for branching requirements repo\n\nChange-Id: I0065ce2e7eb49b804760f026dcdd5e33d1d34268\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489734,a26d2dfd95844660557973a364202985672aa94b,6,2,1,2472,,,0,"update directions for branching requirements repo

Change-Id: I0065ce2e7eb49b804760f026dcdd5e33d1d34268
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/489734/1 && git format-patch -1 --stdout FETCH_HEAD,['PROCESS.rst'],1,a26d2dfd95844660557973a364202985672aa94b,doc-branch-requirements," created, update the deliverable file to create the stable/$series"," created, use ``make_branch.sh`` to create the stable/$series",1,1
openstack%2Ftap-as-a-service~master~Ife1807c04d8f0f44f067e1905890262ae2f7e426,openstack/tap-as-a-service,master,Ife1807c04d8f0f44f067e1905890262ae2f7e426,L2 agent extension support for Tap-as-a-Service,MERGED,2017-07-04 06:25:14.000000000,2017-08-01 20:27:43.000000000,2017-08-01 20:27:42.000000000,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 11578}, {'_account_id': 17776}, {'_account_id': 19350}, {'_account_id': 19388}]","[{'number': 1, 'created': '2017-07-04 06:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/882ae792459648e9e507ed3250cee2d99a41e90b', 'message': 'L2 agent extension support for Tap-as-a-Service\n\nThis patch adds L2 agent extension for TaaS.\n\nChange-Id: Ife1807c04d8f0f44f067e1905890262ae2f7e426\n'}, {'number': 2, 'created': '2017-07-11 16:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/4076ac7048a2579e2898abfe37d6d234cbc81f2b', 'message': 'L2 agent extension support for Tap-as-a-Service\n\nThis patch adds L2 agent extension for TaaS.\n\nChange-Id: Ife1807c04d8f0f44f067e1905890262ae2f7e426\n'}, {'number': 3, 'created': '2017-07-19 12:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/8ea720317d23c93a5fc3379a14cbe07df2ed3f9c', 'message': 'L2 agent extension support for Tap-as-a-Service\n\nThis patch adds L2 agent extension for TaaS.\n\nChange-Id: Ife1807c04d8f0f44f067e1905890262ae2f7e426\n'}, {'number': 4, 'created': '2017-07-26 10:12:03.000000000', 'files': ['neutron_taas/services/taas/drivers/taas_base.py', 'neutron_taas/services/taas/agents/taas_agent_api.py', 'neutron_taas/services/taas/agents/extensions/taas.py', 'devstack/plugin.sh', 'neutron_taas/services/taas/agents/ovs/agent.py', 'neutron_taas/services/taas/drivers/linux/ovs_taas.py', 'devstack/README.rst', 'neutron_taas/tests/unit/extensions/test_taas.py', 'neutron_taas/tests/unit/extensions/__init__.py', 'neutron_taas/services/taas/agents/ovs/taas_ovs_agent.py', 'neutron_taas/services/taas/agents/extensions/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/33b116ee7ef1e8cf88256fa1f130847951e32b49', 'message': 'L2 agent extension support for Tap-as-a-Service\n\nThis patch adds L2 agent extension for TaaS.\n\nChange-Id: Ife1807c04d8f0f44f067e1905890262ae2f7e426\n'}]",10,480031,33b116ee7ef1e8cf88256fa1f130847951e32b49,28,6,4,19350,,,0,"L2 agent extension support for Tap-as-a-Service

This patch adds L2 agent extension for TaaS.

Change-Id: Ife1807c04d8f0f44f067e1905890262ae2f7e426
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/31/480031/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/common/topics.py', 'neutron_taas/services/taas/drivers/taas_base.py', 'neutron_taas/services/taas/agents/taas_agent_api.py', 'neutron_taas/services/taas/agents/extensions/taas.py', 'devstack/plugin.sh', 'neutron_taas/services/taas/agents/ovs/agent.py', 'neutron_taas/services/taas/drivers/linux/ovs_taas.py', 'devstack/README.rst', 'neutron_taas/tests/unit/extensions/test_taas.py', 'neutron_taas/tests/unit/extensions/__init__.py', 'neutron_taas/services/taas/agents/ovs/taas_ovs_agent.py', 'neutron_taas/services/taas/agents/extensions/__init__.py', 'neutron_taas/services/taas/service_drivers/taas_agent_api.py', 'setup.cfg']",14,882ae792459648e9e507ed3250cee2d99a41e90b,,neutron.agent.l2.extensions = taas = neutron_taas.services.taas.agents.extensions.taas:TaasAgentExtension neutron_taas.taas.agent_drivers = ovs = neutron_taas.services.taas.drivers.linux.ovs_taas:OvsTaasDriver,console_scripts = neutron-taas-openvswitch-agent = neutron_taas.services.taas.agents.ovs.agent:main,301,182
openstack%2Fcinder~master~I177e8245f9a2af4c9b10f8ce57488a3c12036308,openstack/cinder,master,I177e8245f9a2af4c9b10f8ce57488a3c12036308,Add choices to backup_swift_auth,MERGED,2017-07-26 12:05:41.000000000,2017-08-01 20:25:33.000000000,2017-07-29 21:16:38.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-26 12:05:41.000000000', 'files': ['cinder/backup/drivers/swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d222465e4a0ca1005802c1561b66488ebf103ee', 'message': 'Add choices to backup_swift_auth\n\nLooking at the sample configuration there is no way to tell what are the\nvalid options for the ""backup_swift_auth"" configuration option.\n\nThis patch adds to the parameter\'s definition the list of available\noptions so it\'s easier for admins to tell what values are supported.\n\nTrivialFix\n\nChange-Id: I177e8245f9a2af4c9b10f8ce57488a3c12036308\n'}]",0,487387,9d222465e4a0ca1005802c1561b66488ebf103ee,43,4,1,9535,,,0,"Add choices to backup_swift_auth

Looking at the sample configuration there is no way to tell what are the
valid options for the ""backup_swift_auth"" configuration option.

This patch adds to the parameter's definition the list of available
options so it's easier for admins to tell what values are supported.

TrivialFix

Change-Id: I177e8245f9a2af4c9b10f8ce57488a3c12036308
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/487387/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/swift.py'],1,9d222465e4a0ca1005802c1561b66488ebf103ee,backup/swift-auth-options," choices=['per_user', 'single_user'], help='Swift authentication mechanism.'),"," help='Swift authentication mechanism'),",2,1
openstack%2Fneutron~master~I59a0f63e56d972a2fadf5a4e0bf531ccf4da8dba,openstack/neutron,master,I59a0f63e56d972a2fadf5a4e0bf531ccf4da8dba,docs: clarify wording about how to use advanced glance image,MERGED,2017-07-31 18:12:08.000000000,2017-08-01 20:23:02.000000000,2017-08-01 20:23:02.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 12024}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-07-31 18:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ce6bfd0589220d62289638e8ebb2013134cddf7', 'message': 'docs: clarify wording about how to use advanced glance image\n\nThis is to follow up on comments in\nhttps://review.openstack.org/#/c/469838/\n\nChange-Id: I59a0f63e56d972a2fadf5a4e0bf531ccf4da8dba\n'}, {'number': 2, 'created': '2017-08-01 15:57:06.000000000', 'files': ['TESTING.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/99a12a23920a8e6d746be179e342c281466644aa', 'message': 'docs: clarify wording about how to use advanced glance image\n\nThis is to follow up on comments in\nhttps://review.openstack.org/#/c/469838/\n\nChange-Id: I59a0f63e56d972a2fadf5a4e0bf531ccf4da8dba\n'}]",2,489292,99a12a23920a8e6d746be179e342c281466644aa,20,8,2,9656,,,0,"docs: clarify wording about how to use advanced glance image

This is to follow up on comments in
https://review.openstack.org/#/c/469838/

Change-Id: I59a0f63e56d972a2fadf5a4e0bf531ccf4da8dba
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/489292/1 && git format-patch -1 --stdout FETCH_HEAD,['TESTING.rst'],1,9ce6bfd0589220d62289638e8ebb2013134cddf7,TESTS_doc,"them, make sure ``image_ref`` value in ``tempest.conf`` is configured to use an advanced image, and then set the following in ``tempest`` configuration file:","them, make sure ``tempest.conf`` is configured to use an advanced image, and then set the following in ``tempest`` configuration file:",2,2
openstack%2Fcinder~master~Iae6dc3a0444ba32254ca05d20f22ad46e177db07,openstack/cinder,master,Iae6dc3a0444ba32254ca05d20f22ad46e177db07,Use OVO for test_backup,MERGED,2017-06-09 03:09:15.000000000,2017-08-01 20:22:54.000000000,2017-07-27 02:10:26.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22255}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-06-09 03:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/433958e60fd961e4e328a316c7cf81501c76259d', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 2, 'created': '2017-06-09 03:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56dbff0f56c7325a804df72dc3dbbae1f001c064', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 3, 'created': '2017-06-09 04:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9820a00451397a3f895364f4b08918906c00e5d1', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 4, 'created': '2017-06-12 01:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e05ceebb087f1f422a0adcdd22bbad6a9f1d9114', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 5, 'created': '2017-06-13 01:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e81d6825bf4815678fe26428278a61074bd0f7d9', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 6, 'created': '2017-06-18 10:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/566366b124002926cc6b6ef6ea1edc3463f83944', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 7, 'created': '2017-06-20 08:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2d1a2ee6e96c7727acffafbcd4f49113375895c', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 8, 'created': '2017-06-22 02:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3bdf08fbd604d2da941efb0db213d1bc72082a5', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 9, 'created': '2017-06-24 02:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e6accbb79bd8de2caeb83b189aa734a4515d7bd', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 10, 'created': '2017-06-30 02:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c223447ce1533612d418f82446b2c95a7dff1f0c', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 11, 'created': '2017-07-07 01:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f274555bc69986f3ad7f26f6fd339ecf4dcc931', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 12, 'created': '2017-07-14 06:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5d5ca8698a388f22e95ffad41d1e84adbde840f', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 13, 'created': '2017-07-18 01:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e57d302cf6798805519f830960716c5a2b10de2c', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 14, 'created': '2017-07-18 04:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc7348ef36c1532152c3c26b34d3cb6362955d30', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 15, 'created': '2017-07-18 06:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8abe160299ef05dd8843e41a8b5d3e4bc353143', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 16, 'created': '2017-07-18 08:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/75e550c68e8a885c7eb56c02cdfc3ae0bf3a93f9', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 17, 'created': '2017-07-19 01:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1bd4fc992caeec54bd52a4bb1f56bf49f21c7e7c', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}, {'number': 18, 'created': '2017-07-26 06:33:10.000000000', 'files': ['cinder/tests/unit/api/contrib/test_backups.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/735a555aa1d2166119b51d766f5193050d17cc5d', 'message': 'Use OVO for test_backup\n\nUse OVO in unit tests.\n\nChange-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07\n'}]",5,472506,735a555aa1d2166119b51d766f5193050d17cc5d,377,55,18,15054,,,0,"Use OVO for test_backup

Use OVO in unit tests.

Change-Id: Iae6dc3a0444ba32254ca05d20f22ad46e177db07
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/472506/13 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/api/contrib/test_backups.py'],1,433958e60fd961e4e328a316c7cf81501c76259d,bp/metadata-for-backup," backup_obj = objects.Backup(context.get_admin_context(), **backup) backup_obj.create() if not snapshot_id: backup_obj.data_timestamp = backup_obj.created_at backup_obj.save() return backup_obj volume = utils.create_volume(self.context, size=5, status='creating') volume.id) backup = self._create_backup(volume.id, snapshot_id=snapshot_id) fake.PROJECT_ID, backup.id)) self.assertEqual(backup.id, res_dict['backup']['id']) self.assertEqual(volume.id, res_dict['backup']['volume_id']) backup.destroy() volume.destroy() backup1 = self._create_backup() backup2 = self._create_backup() backup3 = self._create_backup() self.assertEqual(backup3.id, res_dict['backups'][0]['id']) self.assertEqual(backup2.id, res_dict['backups'][1]['id']) self.assertEqual(backup1.id, res_dict['backups'][2]['id']) backup3.destroy() backup2.destroy() backup1.destroy() backup1 = self._create_backup() backup2 = self._create_backup() backup3 = self._create_backup() self.assertEqual(backup3.id, res_dict['backups'][0]['id']) self.assertEqual(backup2.id, res_dict['backups'][1]['id']) backup3.destroy() backup2.destroy() backup1.destroy() backup1 = self._create_backup() backup2 = self._create_backup() backup3 = self._create_backup() url = '/v2/%s/backups?marker=%s' % (fake.PROJECT_ID, backup3.id) self.assertEqual(backup2.id, res_dict['backups'][0]['id']) self.assertEqual(backup1.id, res_dict['backups'][1]['id']) backup3.destroy() backup2.destroy() backup1.destroy() backup1 = self._create_backup() backup2 = self._create_backup() backup3 = self._create_backup() backup3.id)) self.assertEqual(backup2.id, res_dict['backups'][0]['id']) backup3.destroy() backup2.destroy() backup1.destroy() backup1 = self._create_backup() backup2 = self._create_backup() backup3 = self._create_backup() self.assertEqual(backup3.id, res_dict['backups'][0]['id']) self.assertEqual(backup2.id, res_dict['backups'][1]['id']) self.assertEqual(backup1.id, res_dict['backups'][2]['id']) backup3.destroy() backup2.destroy() backup1.destroy() backup1 = self._create_backup(display_name='test2') backup2 = self._create_backup(status=fields.BackupStatus.AVAILABLE) backup3 = self._create_backup(volume_id=fake.VOLUME3_ID) self.assertEqual(backup1.id, res_dict['backups'][0]['id']) self.assertEqual(backup2.id, res_dict['backups'][0]['id']) self.assertEqual(backup3.id, res_dict['backups'][0]['id']) backup3.destroy() backup2.destroy() backup1.destroy() backup1 = self._create_backup() backup2 = self._create_backup() backup3 = self._create_backup() self.assertEqual(backup3.id, res_dict['backups'][0]['id']) self.assertEqual(backup2.id, res_dict['backups'][1]['id']) backup3.destroy() backup2.destroy() backup1.destroy() backup1 = self._create_backup() backup2 = self._create_backup() backup3 = self._create_backup() fake.PROJECT_ID, backup3.id)) self.assertEqual(backup2.id, res_dict['backups'][0]['id']) self.assertEqual(backup1.id, res_dict['backups'][1]['id']) backup3.destroy() backup2.destroy() backup1.destroy() backup1 = self._create_backup() backup2 = self._create_backup() backup3 = self._create_backup() fake.PROJECT_ID, backup3.id)) self.assertEqual(backup2.id, res_dict['backups'][0]['id']) backup3.destroy() backup2.destroy() backup1.destroy() volume = utils.create_volume(self.context, size=5) ""volume_id"": volume.id, volume.destroy() volume = utils.create_volume(self.context, size=5, status='in-use') ""volume_id"": volume.id, volume.destroy() volume = utils.create_volume(self.context, size=5, status='in-use') backup = self._create_backup(volume.id, status=fields.BackupStatus.AVAILABLE) ""volume_id"": volume.id, backup.destroy() volume.destroy() volume = utils.create_volume(self.context, size=5, status='available') ""volume_id"": volume.id, volume.destroy() volume = utils.create_volume(self.context, size=5, status='available') volume2 = utils.create_volume(self.context, size=5, status='available') snapshot = utils.create_snapshot(self.context, volume.id, status='available') ""volume_id"": volume2.id, ""snapshot_id"": snapshot.id, snapshot.destroy() volume2.destroy() volume.destroy() def test_create_backup_with_invalid_snapshot(self): volume = utils.create_volume(self.context, size=5, status='available') snapshot = utils.create_snapshot(self.context, volume.id, status='error') ""snapshot_id"": snapshot.id, ""volume_id"": volume.id, } } volume.destroy() snapshot.destroy() def test_create_backup_with_non_existent_snapshot(self): volume = utils.create_volume(self.context, size=5, status='restoring') ""volume_id"": volume.id, } } volume.destroy() def test_create_backup_with_invalid_container(self): volume = utils.create_volume(self.context, size=5, status='available') ""volume_id"": volume.id, volume = utils.create_volume(self.context, size=5) volume.id, backup = self._create_backup(volume.id, status=fields.BackupStatus.AVAILABLE) ""volume_id"": volume.id, backup.destroy() volume.destroy() volume = utils.create_volume(self.context, size=5) backup = self._create_backup(volume.id) ""volume_id"": volume.id, backup.destroy() volume.destroy() volume = utils.create_volume(self.context, size=5, status='restoring') ""volume_id"": volume.id, volume = utils.create_volume(self.context, size=2) ""volume_id"": volume.id, self.assertEqual('available', volume.status) volume = utils.create_volume(self.context, size=5, status='available') ""volume_id"": volume.id, volume.destroy() volume = utils.create_volume(self.context, size=2, host=testhost) volume.availability_zone, volume.availability_zone, volume.availability_zone, volume.availability_zone, volume.availability_zone, volume.availability_zone, backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) fake.PROJECT_ID, backup.id)) backup.refresh() backup.status) backup.destroy() backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) delta = self._create_backup(status=fields.BackupStatus.AVAILABLE, incremental=True) fake.PROJECT_ID, delta.id)) delta.refresh() delta.status) delta.destroy() backup.destroy() backup = self._create_backup(status=fields.BackupStatus.ERROR) fake.PROJECT_ID, backup.id)) backup.refresh() backup.status) backup.destroy() backup = self._create_backup() fake.PROJECT_ID, backup.id)) backup.destroy() volume = utils.create_volume(self.context, size=5) backup = self._create_backup(volume.id, status=fields.BackupStatus.AVAILABLE) delta_backup = self._create_backup( parent_id=backup.id) fake.PROJECT_ID, backup.id)) delta_backup.destroy() backup.destroy() backup = self._create_backup(status='available') fake.PROJECT_ID, backup.id)) backup.destroy() backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume = utils.create_volume(self.context, size=5, display_name=volume_name) body = {""restore"": {""volume_id"": volume.id, }} fake.PROJECT_ID, backup.id)) self.assertEqual(backup.id, res_dict['restore']['backup_id']) self.assertEqual(volume.id, res_dict['restore']['volume_id']) backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) fake.PROJECT_ID, backup.id)) backup.destroy() backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) fake.PROJECT_ID, backup.id)) backup = self._create_backup(size=5, status=fields.BackupStatus.AVAILABLE) fake.PROJECT_ID, backup.id)) self.assertEqual(backup.id, res_dict['restore']['backup_id']) backup = self._create_backup(size=5, status=fields.BackupStatus.AVAILABLE) (fake.PROJECT_ID, backup.id)) self.assertEqual(backup.id, res_dict['restore']['backup_id']) backup = self._create_backup(size=5, status=fields.BackupStatus.AVAILABLE) volume = utils.create_volume(self.context, size=5, display_name=orig_vol_name) body = {""restore"": {'name': 'vol-01', 'volume_id': volume.id}} fake.PROJECT_ID, backup.id)) self.assertEqual(backup.id, res_dict['restore']['backup_id']) self.assertEqual(volume.id, res_dict['restore']['volume_id']) backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume = utils.create_volume(self.context, size=0) body = {""restore"": {""volume_id"": volume.id, }} fake.PROJECT_ID, backup.id)) backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume = utils.create_volume(self.context, size=5, status='attaching') body = {""restore"": {""volume_id"": volume.id, }} fake.PROJECT_ID, backup.id)) volume.destroy() backup.destroy() backup = self._create_backup(status=fields.BackupStatus.RESTORING) volume = utils.create_volume(self.context, size=5) body = {""restore"": {""volume_id"": volume.id, }} fake.PROJECT_ID, backup.id)) volume.destroy() backup.destroy() volume = utils.create_volume(self.context, size=5) body = {""restore"": {""volume_id"": volume.id, }} volume.destroy() backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) fake.PROJECT_ID, backup.id)) backup.destroy() backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume = utils.create_volume(self.context, size=5) body = {""restore"": {""volume_id"": volume.id, }} fake.PROJECT_ID, backup.id)) backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume = utils.create_volume(self.context, size=5) body = {""restore"": {""volume_id"": volume.id, }} fake.PROJECT_ID, backup.id)) backup = self._create_backup(status=fields.BackupStatus.AVAILABLE, size=backup_size) volume = utils.create_volume(self.context, size=volume_size) body = {""restore"": {""volume_id"": volume.id, }} fake.PROJECT_ID, backup.id)) volume.destroy() backup.destroy() backup = self._create_backup(status=fields.BackupStatus.AVAILABLE, size=10) volume = utils.create_volume(self.context, size=15, display_name=volume_name) body = {""restore"": {""volume_id"": volume.id, }} fake.PROJECT_ID, backup.id)) self.assertEqual(backup.id, res_dict['restore']['backup_id']) self.assertEqual(volume.id, res_dict['restore']['volume_id']) volume.destroy() backup.destroy() backup = self._create_backup(status=fields.BackupStatus.AVAILABLE, size=10, host='HostA') volume = utils.create_volume(self.context, size=10, host='HostB@BackendB#PoolB', display_name=volume_name) body = {""restore"": {""volume_id"": volume.id, }} fake.PROJECT_ID, backup.id)) self.assertEqual(backup.id, res_dict['restore']['backup_id']) self.assertEqual(volume.id, res_dict['restore']['volume_id']) mock.ANY, volume.id) self.assertEqual(backup.id, mock_restore_backup.call_args[0][2].id) volume.destroy() backup.destroy() backup = self._create_backup(status=fields.BackupStatus.AVAILABLE, size=10) fake.PROJECT_ID, backup.id)) backup = self._create_backup(status=fields.BackupStatus.AVAILABLE, size=10) fake.PROJECT_ID, backup.id)) backup.destroy() backup = self._create_backup(status=fields.BackupStatus.RESTORING) (fake.PROJECT_ID, backup.id)) backup.destroy() backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) (fake.PROJECT_ID, backup.id)) backup.destroy() backup_del = self._create_backup(fake.VOLUME_ID, status=fields.BackupStatus.DELETED) backup_del.destroy() backup = self._create_backup(fake.VOLUME_ID) backup.destroy() backup = self._create_backup(fake.VOLUME_ID, status=fields.BackupStatus.DELETED) backup.destroy() backup = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume = utils.create_volume(self.context, size=5) parent_backup = self._create_backup( volume.id, status=fields.BackupStatus.AVAILABLE, backup = self._create_backup(volume.id, status=fields.BackupStatus.AVAILABLE, incremental=True, parent_id=parent_backup.id, num_dependent_backups=1) volume.id) child_backup = self._create_backup( volume.id, status=fields.BackupStatus.AVAILABLE, incremental=True, parent_id=backup.id, snapshot_id=snapshot_id) fake.PROJECT_ID, backup.id)) fake.PROJECT_ID, parent_backup.id)) fake.PROJECT_ID, child_backup.id)) child_backup.destroy() backup.destroy() parent_backup.destroy() volume.destroy()"," backup = db.backup_create(context.get_admin_context(), backup) if not snapshot_id: db.backup_update(context.get_admin_context(), backup['id'], {'data_timestamp': backup['created_at']}) return backup['id'] volume_id = utils.create_volume(self.context, size=5, status='creating').id volume_id) backup_id = self._create_backup(volume_id, snapshot_id=snapshot_id) fake.PROJECT_ID, backup_id)) self.assertEqual(backup_id, res_dict['backup']['id']) self.assertEqual(volume_id, res_dict['backup']['volume_id']) db.backup_destroy(context.get_admin_context(), backup_id) db.volume_destroy(context.get_admin_context(), volume_id) backup_id1 = self._create_backup() backup_id2 = self._create_backup() backup_id3 = self._create_backup() self.assertEqual(backup_id3, res_dict['backups'][0]['id']) self.assertEqual(backup_id2, res_dict['backups'][1]['id']) self.assertEqual(backup_id1, res_dict['backups'][2]['id']) db.backup_destroy(context.get_admin_context(), backup_id3) db.backup_destroy(context.get_admin_context(), backup_id2) db.backup_destroy(context.get_admin_context(), backup_id1) backup_id1 = self._create_backup() backup_id2 = self._create_backup() backup_id3 = self._create_backup() self.assertEqual(backup_id3, res_dict['backups'][0]['id']) self.assertEqual(backup_id2, res_dict['backups'][1]['id']) db.backup_destroy(context.get_admin_context(), backup_id3) db.backup_destroy(context.get_admin_context(), backup_id2) db.backup_destroy(context.get_admin_context(), backup_id1) backup_id1 = self._create_backup() backup_id2 = self._create_backup() backup_id3 = self._create_backup() url = '/v2/%s/backups?marker=%s' % (fake.PROJECT_ID, backup_id3) self.assertEqual(backup_id2, res_dict['backups'][0]['id']) self.assertEqual(backup_id1, res_dict['backups'][1]['id']) db.backup_destroy(context.get_admin_context(), backup_id3) db.backup_destroy(context.get_admin_context(), backup_id2) db.backup_destroy(context.get_admin_context(), backup_id1) backup_id1 = self._create_backup() backup_id2 = self._create_backup() backup_id3 = self._create_backup() backup_id3)) self.assertEqual(backup_id2, res_dict['backups'][0]['id']) db.backup_destroy(context.get_admin_context(), backup_id3) db.backup_destroy(context.get_admin_context(), backup_id2) db.backup_destroy(context.get_admin_context(), backup_id1) backup_id1 = self._create_backup() backup_id2 = self._create_backup() backup_id3 = self._create_backup() self.assertEqual(backup_id3, res_dict['backups'][0]['id']) self.assertEqual(backup_id2, res_dict['backups'][1]['id']) self.assertEqual(backup_id1, res_dict['backups'][2]['id']) db.backup_destroy(context.get_admin_context(), backup_id3) db.backup_destroy(context.get_admin_context(), backup_id2) db.backup_destroy(context.get_admin_context(), backup_id1) backup_id1 = self._create_backup(display_name='test2') backup_id2 = self._create_backup(status=fields.BackupStatus.AVAILABLE) backup_id3 = self._create_backup(volume_id=fake.VOLUME3_ID) self.assertEqual(backup_id1, res_dict['backups'][0]['id']) self.assertEqual(backup_id2, res_dict['backups'][0]['id']) self.assertEqual(backup_id3, res_dict['backups'][0]['id']) db.backup_destroy(context.get_admin_context(), backup_id3) db.backup_destroy(context.get_admin_context(), backup_id2) db.backup_destroy(context.get_admin_context(), backup_id1) backup_id1 = self._create_backup() backup_id2 = self._create_backup() backup_id3 = self._create_backup() self.assertEqual(backup_id3, res_dict['backups'][0]['id']) self.assertEqual(backup_id2, res_dict['backups'][1]['id']) db.backup_destroy(context.get_admin_context(), backup_id3) db.backup_destroy(context.get_admin_context(), backup_id2) db.backup_destroy(context.get_admin_context(), backup_id1) backup_id1 = self._create_backup() backup_id2 = self._create_backup() backup_id3 = self._create_backup() fake.PROJECT_ID, backup_id3)) self.assertEqual(backup_id2, res_dict['backups'][0]['id']) self.assertEqual(backup_id1, res_dict['backups'][1]['id']) db.backup_destroy(context.get_admin_context(), backup_id3) db.backup_destroy(context.get_admin_context(), backup_id2) db.backup_destroy(context.get_admin_context(), backup_id1) backup_id1 = self._create_backup() backup_id2 = self._create_backup() backup_id3 = self._create_backup() fake.PROJECT_ID, backup_id3)) self.assertEqual(backup_id2, res_dict['backups'][0]['id']) db.backup_destroy(context.get_admin_context(), backup_id3) db.backup_destroy(context.get_admin_context(), backup_id2) db.backup_destroy(context.get_admin_context(), backup_id1) volume_id = utils.create_volume(self.context, size=5).id ""volume_id"": volume_id, db.volume_destroy(context.get_admin_context(), volume_id) volume_id = utils.create_volume(self.context, size=5, status='in-use').id ""volume_id"": volume_id, db.volume_destroy(context.get_admin_context(), volume_id) volume_id = utils.create_volume(self.context, size=5, status='in-use').id backup_id = self._create_backup(volume_id, status=fields.BackupStatus.AVAILABLE) ""volume_id"": volume_id, db.backup_destroy(context.get_admin_context(), backup_id) db.volume_destroy(context.get_admin_context(), volume_id) volume_id = utils.create_volume(self.context, size=5, status='available').id ""volume_id"": volume_id, db.volume_destroy(context.get_admin_context(), volume_id) volume_id = utils.create_volume(self.context, size=5, status='available').id volume_id2 = utils.create_volume(self.context, size=5, status='available').id snapshot_id = utils.create_snapshot(self.context, volume_id, status='available')['id'] self.addCleanup(db.volume_destroy, self.context.elevated(), volume_id) self.addCleanup(db.volume_destroy, self.context.elevated(), volume_id2) self.addCleanup(db.snapshot_destroy, self.context.elevated(), snapshot_id) ""volume_id"": volume_id2, ""snapshot_id"": snapshot_id, def test_create_backup_with_invalid_snapshot(self): volume_id = utils.create_volume(self.context, size=5, status='available').id snapshot_id = utils.create_snapshot(self.context, volume_id, status='error')['id'] ""snapshot_id"": snapshot_id, ""volume_id"": volume_id, } } self.addCleanup(db.volume_destroy, self.context.elevated(), volume_id) self.addCleanup(db.snapshot_destroy, self.context.elevated(), snapshot_id) def test_create_backup_with_non_existent_snapshot(self): volume_id = utils.create_volume(self.context, size=5, status='restoring').id ""volume_id"": volume_id, } } self.addCleanup(db.volume_destroy, self.context.elevated(), volume_id) def test_create_backup_with_invalid_container(self): volume_id = utils.create_volume(self.context, size=5, status='available').id ""volume_id"": volume_id, volume_id = utils.create_volume(self.context, size=5).id volume_id, backup_id = self._create_backup(volume_id, status=fields.BackupStatus.AVAILABLE) ""volume_id"": volume_id, db.backup_destroy(context.get_admin_context(), backup_id) db.volume_destroy(context.get_admin_context(), volume_id) volume_id = utils.create_volume(self.context, size=5).id backup_id = self._create_backup(volume_id) ""volume_id"": volume_id, db.backup_destroy(context.get_admin_context(), backup_id) db.volume_destroy(context.get_admin_context(), volume_id) volume_id = utils.create_volume(self.context, size=5, status='restoring').id ""volume_id"": volume_id, volume_id = utils.create_volume(self.context, size=2).id ""volume_id"": volume_id, volume = self.volume_api.get(context.get_admin_context(), volume_id) self.assertEqual('available', volume['status']) volume_id = utils.create_volume(self.context, size=5, status='available').id ""volume_id"": volume_id, db.volume_destroy(context.get_admin_context(), volume_id) volume_id = utils.create_volume(self.context, size=2, host=testhost).id volume = self.volume_api.get(context.get_admin_context(), volume_id) volume['availability_zone'], volume['availability_zone'], volume['availability_zone'], volume['availability_zone'], volume['availability_zone'], volume['availability_zone'], backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) fake.PROJECT_ID, backup_id)) self._get_backup_attrib(backup_id, 'status')) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) delta_id = self._create_backup(status=fields.BackupStatus.AVAILABLE, incremental=True) fake.PROJECT_ID, delta_id)) self._get_backup_attrib(delta_id, 'status')) db.backup_destroy(context.get_admin_context(), delta_id) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.ERROR) fake.PROJECT_ID, backup_id)) self._get_backup_attrib(backup_id, 'status')) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup() fake.PROJECT_ID, backup_id)) db.backup_destroy(context.get_admin_context(), backup_id) volume_id = utils.create_volume(self.context, size=5).id backup_id = self._create_backup(volume_id, status=fields.BackupStatus.AVAILABLE) delta_backup_id = self._create_backup( parent_id=backup_id) fake.PROJECT_ID, backup_id)) db.backup_destroy(context.get_admin_context(), delta_backup_id) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status='available') fake.PROJECT_ID, backup_id)) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume_id = utils.create_volume(self.context, size=5, display_name=volume_name).id body = {""restore"": {""volume_id"": volume_id, }} fake.PROJECT_ID, backup_id)) self.assertEqual(backup_id, res_dict['restore']['backup_id']) self.assertEqual(volume_id, res_dict['restore']['volume_id']) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) fake.PROJECT_ID, backup_id)) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) fake.PROJECT_ID, backup_id)) backup_id = self._create_backup(size=5, status=fields.BackupStatus.AVAILABLE) fake.PROJECT_ID, backup_id)) self.assertEqual(backup_id, res_dict['restore']['backup_id']) backup_id = self._create_backup(size=5, status=fields.BackupStatus.AVAILABLE) (fake.PROJECT_ID, backup_id)) self.assertEqual(backup_id, res_dict['restore']['backup_id']) backup_id = self._create_backup(size=5, status=fields.BackupStatus.AVAILABLE) volume_id = utils.create_volume(self.context, size=5, display_name=orig_vol_name).id body = {""restore"": {'name': 'vol-01', 'volume_id': volume_id}} fake.PROJECT_ID, backup_id)) self.assertEqual(backup_id, res_dict['restore']['backup_id']) self.assertEqual(volume_id, res_dict['restore']['volume_id']) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume_id = utils.create_volume(self.context, size=0).id body = {""restore"": {""volume_id"": volume_id, }} fake.PROJECT_ID, backup_id)) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume_id = utils.create_volume(self.context, size=5, status='attaching').id body = {""restore"": {""volume_id"": volume_id, }} fake.PROJECT_ID, backup_id)) db.volume_destroy(context.get_admin_context(), volume_id) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.RESTORING) volume_id = utils.create_volume(self.context, size=5).id body = {""restore"": {""volume_id"": volume_id, }} fake.PROJECT_ID, backup_id)) db.volume_destroy(context.get_admin_context(), volume_id) db.backup_destroy(context.get_admin_context(), backup_id) volume_id = utils.create_volume(self.context, size=5).id body = {""restore"": {""volume_id"": volume_id, }} db.volume_destroy(context.get_admin_context(), volume_id) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) fake.PROJECT_ID, backup_id)) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume_id = utils.create_volume(self.context, size=5).id body = {""restore"": {""volume_id"": volume_id, }} fake.PROJECT_ID, backup_id)) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) volume_id = utils.create_volume(self.context, size=5).id body = {""restore"": {""volume_id"": volume_id, }} fake.PROJECT_ID, backup_id)) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE, size=backup_size) volume_id = utils.create_volume(self.context, size=volume_size).id body = {""restore"": {""volume_id"": volume_id, }} fake.PROJECT_ID, backup_id)) db.volume_destroy(context.get_admin_context(), volume_id) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE, size=10) volume_id = utils.create_volume(self.context, size=15, display_name=volume_name).id body = {""restore"": {""volume_id"": volume_id, }} fake.PROJECT_ID, backup_id)) self.assertEqual(backup_id, res_dict['restore']['backup_id']) self.assertEqual(volume_id, res_dict['restore']['volume_id']) db.volume_destroy(context.get_admin_context(), volume_id) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE, size=10, host='HostA') volume_id = utils.create_volume(self.context, size=10, host='HostB@BackendB#PoolB', display_name=volume_name).id body = {""restore"": {""volume_id"": volume_id, }} fake.PROJECT_ID, backup_id)) self.assertEqual(backup_id, res_dict['restore']['backup_id']) self.assertEqual(volume_id, res_dict['restore']['volume_id']) mock.ANY, volume_id) self.assertEqual(backup_id, mock_restore_backup.call_args[0][2].id) db.volume_destroy(context.get_admin_context(), volume_id) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE, size=10) fake.PROJECT_ID, backup_id)) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE, size=10) fake.PROJECT_ID, backup_id)) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.RESTORING) (fake.PROJECT_ID, backup_id)) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) (fake.PROJECT_ID, backup_id)) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(fake.VOLUME_ID, status=fields.BackupStatus.DELETED) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(fake.VOLUME_ID) backup = objects.Backup.get_by_id(ctx, backup_id) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(fake.VOLUME_ID, status=fields.BackupStatus.DELETED) backup = objects.Backup.get_by_id(ctx, backup_id) db.backup_destroy(context.get_admin_context(), backup_id) backup_id = self._create_backup(status=fields.BackupStatus.AVAILABLE) backup = self.backup_api.get(self.context, backup_id) volume_id = utils.create_volume(self.context, size=5).id parent_backup_id = self._create_backup( volume_id, status=fields.BackupStatus.AVAILABLE, backup_id = self._create_backup(volume_id, status=fields.BackupStatus.AVAILABLE, incremental=True, parent_id=parent_backup_id, num_dependent_backups=1) volume_id) child_backup_id = self._create_backup( volume_id, status=fields.BackupStatus.AVAILABLE, incremental=True, parent_id=backup_id, snapshot_id=snapshot_id) fake.PROJECT_ID, backup_id)) fake.PROJECT_ID, parent_backup_id)) fake.PROJECT_ID, child_backup_id)) db.backup_destroy(context.get_admin_context(), child_backup_id) db.backup_destroy(context.get_admin_context(), backup_id) db.backup_destroy(context.get_admin_context(), parent_backup_id) db.volume_destroy(context.get_admin_context(), volume_id)",321,345
openstack%2Fcinder~stable%2Focata~Ib2dcba29ca4d97f77501fd0068499aad09984ad6,openstack/cinder,stable/ocata,Ib2dcba29ca4d97f77501fd0068499aad09984ad6,Unity: temp snapshot for backup deleted twice,MERGED,2017-07-07 05:24:52.000000000,2017-08-01 20:22:48.000000000,2017-08-01 20:22:48.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-07 05:24:52.000000000', 'files': ['cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4b41eb21e88e4af81e1f44cc70787af1ce5557b', 'message': 'Unity: temp snapshot for backup deleted twice\n\nRemove the codes in `create/remove_export_snapshot`. The code there\nis designed for mounting snapshots for remotefs filesystems. It is\nunnecessary in Unity.\n\nChange-Id: Ib2dcba29ca4d97f77501fd0068499aad09984ad6\nCloses-bug: 1701311\n(cherry picked from commit 3f53833c9e47aafa076b6a4264da2c1b20d5774b)\n'}]",5,481428,e4b41eb21e88e4af81e1f44cc70787af1ce5557b,44,5,1,18742,,,0,"Unity: temp snapshot for backup deleted twice

Remove the codes in `create/remove_export_snapshot`. The code there
is designed for mounting snapshots for remotefs filesystems. It is
unnecessary in Unity.

Change-Id: Ib2dcba29ca4d97f77501fd0068499aad09984ad6
Closes-bug: 1701311
(cherry picked from commit 3f53833c9e47aafa076b6a4264da2c1b20d5774b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/481428/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_driver.py']",2,e4b41eb21e88e4af81e1f44cc70787af1ce5557b,bug/1701311,," def test_create_export_snapshot(self): snapshot = self.driver.create_export_snapshot(self.get_context(), self.get_snapshot(), self.get_connector()) self.assertTrue(snapshot.exists) def test_remove_export_snapshot(self): snapshot = self.get_snapshot() self.driver.remove_export_snapshot(self.get_context(), snapshot) self.assertFalse(snapshot.exists) ",13,17
openstack%2Fneutron~master~Ia39c73189ad8a3331c1911989fe69428f064f7a6,openstack/neutron,master,Ia39c73189ad8a3331c1911989fe69428f064f7a6,Enable QoS scenario tests,MERGED,2017-05-26 09:17:31.000000000,2017-08-01 20:22:38.000000000,2017-08-01 20:22:38.000000000,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-26 09:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b51014d8fdd96266bb5e5b01b6db5cae592e669b', 'message': 'Enable QoS scenario tests\n\nRelated-Bug: #1662109\nChange-Id: Ia39c73189ad8a3331c1911989fe69428f064f7a6\n'}, {'number': 2, 'created': '2017-05-29 07:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eea60db6a451755b681079aa04703c80b915668c', 'message': 'Enable QoS scenario tests\n\nRelated-Bug: #1662109\nChange-Id: Ia39c73189ad8a3331c1911989fe69428f064f7a6\n'}, {'number': 3, 'created': '2017-05-29 09:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5a6020544513d243cbbffce29b300136cf02513', 'message': 'Enable QoS scenario tests\n\nRelated-Bug: #1662109\nChange-Id: Ia39c73189ad8a3331c1911989fe69428f064f7a6\n'}, {'number': 4, 'created': '2017-08-01 06:54:38.000000000', 'files': ['neutron/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe0bb07113a00a4d8a56dc08b004bf758c505e4b', 'message': ""Enable QoS scenario tests\n\nThis test has been disabled since [1].\nBut it seems the failure ratio is not so high with\nthe current code.  Let's re-enable it now and see how it goes.\n\nNote: This same test has been enabled on the gate jobs for\nother implementation for a while. It doesn't fail much there\neither. (networking-midonet)\n\n[1] I37f1488db258f6a4d383fb472cb5433c65371ac5\n\nRelated-Bug: #1662109\nChange-Id: Ia39c73189ad8a3331c1911989fe69428f064f7a6\n""}]",1,468326,fe0bb07113a00a4d8a56dc08b004bf758c505e4b,73,13,4,6854,,,0,"Enable QoS scenario tests

This test has been disabled since [1].
But it seems the failure ratio is not so high with
the current code.  Let's re-enable it now and see how it goes.

Note: This same test has been enabled on the gate jobs for
other implementation for a while. It doesn't fail much there
either. (networking-midonet)

[1] I37f1488db258f6a4d383fb472cb5433c65371ac5

Related-Bug: #1662109
Change-Id: Ia39c73189ad8a3331c1911989fe69428f064f7a6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/468326/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/contrib/gate_hook.sh'],1,b51014d8fdd96266bb5e5b01b6db5cae592e669b,bug/1662109,," # bug/1662109 export DEVSTACK_GATE_TEMPEST_REGEX=""^(?!.*(?:neutron\.tests\.tempest\.scenario\.test_qos.*))^neutron\.tests\.tempest\.scenario\.""",0,2
openstack%2Fcinder~master~I6c4c175ec3be9423cdc821ccb52578dcfe442cbe,openstack/cinder,master,I6c4c175ec3be9423cdc821ccb52578dcfe442cbe,Support metadata for backup resource,MERGED,2017-06-07 02:12:51.000000000,2017-08-01 20:19:57.000000000,2017-07-27 02:13:15.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19904}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22255}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-06-07 02:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ce0b0f1710a8f4455f8565d888c876eff3ce3de', 'message': 'Support metadata for backup resource - 1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nFor comfortable review, this feature will be done in\nthree patches:\n1. Add/update the related db table and ovo model. (This patch)\n2. Update the related backup CRUD APIs.\n3. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 2, 'created': '2017-06-08 03:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/291ff2aabf995cff39c1ce3927dfca5c0ade2bd8', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nFor comfortable review, this feature will be done in\nthree patches:\n1. Add/update the related db table and ovo model. (This patch)\n2. Update the related backup CRUD APIs.\n3. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 3, 'created': '2017-06-08 07:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de50ab5cae6b5099b934e6380ab44306be404ea5', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nFor comfortable review, this feature will be done in\nthree patches:\n1. Add/update the related db table and ovo model. (This patch)\n2. Update the related backup CRUD APIs.\n3. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 4, 'created': '2017-06-08 07:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b656bb8828c9cb372804871c75005e5266c0dad7', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nFor comfortable review, this feature will be done in\nthree patches:\n1. Add/update the related db table and ovo model. (This patch)\n2. Update the related backup CRUD APIs.\n3. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 5, 'created': '2017-06-08 09:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38de4b5d98591f2302a1422b0c5cc3968dfbdbbd', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nFor comfortable review, this feature will be done in\nthree patches:\n1. Add/update the related db table and ovo model. (This patch)\n2. Update the related backup CRUD APIs.\n3. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 6, 'created': '2017-06-09 03:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42262d6daaf7faf0234343683d35bd8682edf0cc', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nFor comfortable review, this feature will be done in\nthree patches:\n1. Add/update the related db table and ovo model. (This patch)\n2. Update the related backup CRUD APIs.\n3. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 7, 'created': '2017-06-09 03:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/611662aed6f57bc7adc0ad3146cdb4f3a12a3644', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nFor comfortable review, this feature will be done in\nthree patches:\n1. Add/update the related db table and ovo model. (This patch)\n2. Update the related backup CRUD APIs.\n3. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 8, 'created': '2017-06-09 07:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f76de8e130b8f308082b5f1c99f9bb548d66ac4', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nFor comfortable review, this feature will be done in\ntwo patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs.\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 9, 'created': '2017-06-09 10:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bdf42be00521cbacae140a19479943b828049530', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nFor comfortable review, this feature will be done in\ntwo patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs.\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 10, 'created': '2017-06-12 01:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71c4ad304bf2a55b0c3a9ef450b11d82fc454b66', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nFor comfortable review, this feature will be done in\ntwo patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs.\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 11, 'created': '2017-06-12 03:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/844ac82394819d1635032cb47b9d6d661b2ffa38', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 12, 'created': '2017-06-12 08:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bd78ed170fb2b337e68a5d4b24fac698e9980f5', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 13, 'created': '2017-06-12 10:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee46770d279f3e83fa87bc075cf9a8af4f8cf2d8', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 14, 'created': '2017-06-12 10:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/45f75912939b7486543709ee00359fa43b522999', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 15, 'created': '2017-06-12 15:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6254fae96f5fc38aa3e9531f1fc4bd0551939cf', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 16, 'created': '2017-06-13 01:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d931f8cfd83f2d53a9520b363cbfc258a981fc80', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 17, 'created': '2017-06-18 10:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a053bcd6c236ed20c5086ae35054973dcedc782c', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 18, 'created': '2017-06-19 00:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b9875a0be168c356761b6c470d4da8909e3d925', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 19, 'created': '2017-06-20 08:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de5e9b23238c3bcce08a565c3c3b3eae4ee7176d', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 20, 'created': '2017-06-22 02:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b29ab86f7a8b1032129433a5cc00f3a81655eeef', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 21, 'created': '2017-06-22 03:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/638215b750725b1a277367b2da12349bd76bfdc1', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 22, 'created': '2017-06-24 02:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/11b543161f6283f03073aef9fedf32db34e10f77', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 23, 'created': '2017-06-30 02:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82acdd01693058ab5bf4920ec818eebb486fb898', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 24, 'created': '2017-07-07 01:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6264b41425e336507cb134fcc52003a27cc284b', 'message': 'Support metadata for backup resource-1\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis feature will be done in two patches:\n1. Add/update the related db and ovo model, update\nthe related backup CRUD APIs. (This patch)\n2. Add new APIs for backup metadata.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 25, 'created': '2017-07-14 06:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/02b0088c203e89d729be0ecb5cf58f1b9c9283b2', 'message': 'Support metadata for backup resource\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis patch added/updated the related db and ovo model,\nupdated the related backup CRUD APIs.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 26, 'created': '2017-07-18 01:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5445a1536587fdee5079db301413e7a2ca1ec236', 'message': 'Support metadata for backup resource\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis patch added/updated the related db and ovo model,\nupdated the related backup CRUD APIs.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 27, 'created': '2017-07-18 04:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7073c71219f2bdb6c9a5f21977c6ce76f05526f9', 'message': 'Support metadata for backup resource\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis patch added/updated the related db and ovo model,\nupdated the related backup CRUD APIs.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 28, 'created': '2017-07-18 06:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffb964751218cc954c5a3ee50fa0be80f3fb4416', 'message': 'Support metadata for backup resource\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis patch added/updated the related db and ovo model,\nupdated the related backup CRUD APIs.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 29, 'created': '2017-07-18 08:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/366e830fd70642e349f414572dde641f96ea48d2', 'message': 'Support metadata for backup resource\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis patch added/updated the related db and ovo model,\nupdated the related backup CRUD APIs.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}, {'number': 30, 'created': '2017-07-26 06:33:10.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/backup/api.py', 'cinder/objects/base.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/db/sqlalchemy/migrate_repo/versions/105_add_backup_metadata.py', 'cinder/api/openstack/api_version_request.py', 'cinder/tests/unit/utils.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/api/v3/backups.py', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/test_cmd.py', 'cinder/tests/unit/api/contrib/test_backups.py', 'cinder/api/contrib/backups.py', 'cinder/exception.py', 'cinder/objects/backup.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/tests/unit/test_migrations.py', 'cinder/api/views/backups.py', 'cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9a4ee90b7812ff59b4e6b0abd3981d832434dcd', 'message': 'Support metadata for backup resource\n\nNow only volume and snapshot has metadata property.\nWe should support it for backup as well.\n\nThis patch added/updated the related db and ovo model,\nupdated the related backup CRUD APIs.\n\nChange-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe\nImplements: blueprint metadata-for-backup\n'}]",2,471541,f9a4ee90b7812ff59b4e6b0abd3981d832434dcd,526,57,30,15054,,,0,"Support metadata for backup resource

Now only volume and snapshot has metadata property.
We should support it for backup as well.

This patch added/updated the related db and ovo model,
updated the related backup CRUD APIs.

Change-Id: I6c4c175ec3be9423cdc821ccb52578dcfe442cbe
Implements: blueprint metadata-for-backup
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/471541/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/migrate_repo/versions/102_add_backup_metadata.py', 'cinder/objects/base.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/objects/backup.py', 'cinder/tests/unit/test_migrations.py', 'cinder/db/sqlalchemy/models.py']",6,3ce0b0f1710a8f4455f8565d888c876eff3ce3de,bp/metadata-for-backup,"class BackupMetadata(BASE, CinderBase): """"""Represents a metadata key/value pair for a backup."""""" __tablename__ = 'backup_metadata' id = Column(Integer, primary_key=True) key = Column(String(255)) value = Column(String(255)) volume_id = Column(String(36), ForeignKey('volumes.id'), nullable=False) volume = relationship(Volume, backref=""backup_metadata"", foreign_keys=volume_id, primaryjoin='and_(' 'BackupMetadata.volume_id == Volume.id,' 'BackupMetadata.deleted == False)') ",,88,1
openstack%2Foctavia~master~I61d9dd5ed30410558a9bb9888d2b05572b350493,openstack/octavia,master,I61d9dd5ed30410558a9bb9888d2b05572b350493,Updated from global requirements,MERGED,2017-07-28 21:43:27.000000000,2017-08-01 20:07:32.000000000,2017-08-01 20:07:32.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 12024}]","[{'number': 1, 'created': '2017-07-28 21:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9197e5dbfe98e7d3849e441fa6551f838f74a0ae', 'message': 'Updated from global requirements\n\nChange-Id: I61d9dd5ed30410558a9bb9888d2b05572b350493\n'}, {'number': 2, 'created': '2017-07-29 02:53:21.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c17f59ffc15ec14ac32811c30e69b36ea9f6e18d', 'message': 'Updated from global requirements\n\nChange-Id: I61d9dd5ed30410558a9bb9888d2b05572b350493\n'}]",0,488866,c17f59ffc15ec14ac32811c30e69b36ea9f6e18d,26,5,2,11131,,,0,"Updated from global requirements

Change-Id: I61d9dd5ed30410558a9bb9888d2b05572b350493
",git fetch https://review.opendev.org/openstack/octavia refs/changes/66/488866/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9197e5dbfe98e7d3849e441fa6551f838f74a0ae,openstack/requirements,"python-barbicanclient!=4.5.0,>=4.0.0 # Apache-2.0",python-barbicanclient>=4.0.0 # Apache-2.0,1,1
openstack%2Frpm-packaging~master~Id111481c6271ad4cb2708e32b21b9ffd937df7a7,openstack/rpm-packaging,master,Id111481c6271ad4cb2708e32b21b9ffd937df7a7,Update python-distilclient version to 0.3.0,MERGED,2017-07-27 08:05:02.000000000,2017-08-01 20:04:28.000000000,2017-08-01 20:04:28.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-07-27 08:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3dd257a432533a3c2177397fae0e1da8c3f202f7', 'message': 'Update python-distilclient version to 0.3.0\n\nChange-Id: Id111481c6271ad4cb2708e32b21b9ffd937df7a7\n'}, {'number': 2, 'created': '2017-08-01 19:08:47.000000000', 'files': ['openstack/python-distilclient/python-distilclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9e6de87ca968206e5b182daacd6e03aef49186af', 'message': 'Update python-distilclient version to 0.3.0\n\nChange-Id: Id111481c6271ad4cb2708e32b21b9ffd937df7a7\n'}]",0,487739,9e6de87ca968206e5b182daacd6e03aef49186af,14,5,2,16367,,,0,"Update python-distilclient version to 0.3.0

Change-Id: Id111481c6271ad4cb2708e32b21b9ffd937df7a7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/39/487739/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-distilclient/python-distilclient.spec.j2'],1,3dd257a432533a3c2177397fae0e1da8c3f202f7,python_distilclient_0.3.0,Version: 0.3.0,Version: 0.1.1,1,1
openstack%2Frpm-packaging~master~Ida8cf78511353118e8ca7bbcd80da879ae5220e1,openstack/rpm-packaging,master,Ida8cf78511353118e8ca7bbcd80da879ae5220e1,Update python-oneviewclient version to 2.6.4,MERGED,2017-07-27 09:35:41.000000000,2017-08-01 20:02:34.000000000,2017-08-01 20:02:34.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-07-27 09:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/148f5bc450d690c684b8082765a8c583fc34ed97', 'message': 'Update python-oneviewclient version to 2.6.4\n\nChange-Id: Ida8cf78511353118e8ca7bbcd80da879ae5220e1\n'}, {'number': 2, 'created': '2017-08-01 19:05:00.000000000', 'files': ['openstack/python-oneviewclient/python-oneviewclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a38d7cfdacd7a5e9ca9de74b180b8bf564b23866', 'message': 'Update python-oneviewclient version to 2.6.4\n\nChange-Id: Ida8cf78511353118e8ca7bbcd80da879ae5220e1\n'}]",0,487789,a38d7cfdacd7a5e9ca9de74b180b8bf564b23866,19,7,2,16367,,,0,"Update python-oneviewclient version to 2.6.4

Change-Id: Ida8cf78511353118e8ca7bbcd80da879ae5220e1
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/89/487789/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-oneviewclient/python-oneviewclient.spec.j2'],1,148f5bc450d690c684b8082765a8c583fc34ed97,python-oneviewclient_2.6.4,Version: 2.6.4,Version: 2.5.2,1,1
openstack%2Fmistral~master~Id248ec5906a0899d188675d002b45f6249d36d90,openstack/mistral,master,Id248ec5906a0899d188675d002b45f6249d36d90,Create and run a workflow within a namespace,MERGED,2017-07-19 18:47:47.000000000,2017-08-01 20:02:02.000000000,2017-08-01 20:02:02.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7065}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9408}, {'_account_id': 9712}, {'_account_id': 18238}, {'_account_id': 19206}, {'_account_id': 20863}]","[{'number': 1, 'created': '2017-07-19 18:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bfcde7b8b1719954200bdbf7ee61d898990b09bb', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another namespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under params\n\nblueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 2, 'created': '2017-07-19 18:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e34b7ac8792748bfc76950902d602815911ba9f0', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another namespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under params\n\nblueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 3, 'created': '2017-07-20 09:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cb0ef3d20dd288367dcf77369fecf71d3cf35c1b', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another namespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under params\n\nblueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 4, 'created': '2017-07-20 09:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d179899d58a21e899f0bde51e2ec91712b9c8c77', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another namespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under params\n\nblueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 5, 'created': '2017-07-23 16:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/50156cb205bd884c6b3d9a3831302fe2e825e923', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another namespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under params\n\nblueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 6, 'created': '2017-07-24 08:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ce70005f48670852b69ca71bb512ebcd61e55f02', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another namespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under params\n\nblueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 7, 'created': '2017-07-24 11:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/261e4670ef8c2d5564efeb8bbca1cc3d57f628e4', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another namespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under params\n\nblueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 8, 'created': '2017-07-24 12:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e1e8214ae9dd75876fdb73a1ca68c6bcef2d25d0', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another namespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under params\n\nblueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 9, 'created': '2017-07-25 08:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/16787e585587a30e2026b92d0706e7fa2bb3f221', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another namespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under params\n\nblueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 10, 'created': '2017-07-25 15:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/dba995ce97a2c4c1ff0d88cf4cc45734cafd85ad', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another\nnamespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the\n     subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt\n     namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under\n     params\n\nPartially-Implements: blueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 11, 'created': '2017-07-26 17:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9670d4f6aa45e3379483ce21addf7e1cc1f39474', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another\nnamespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the\n     subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt\n     namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under\n     params\n\nPartially-Implements: blueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 12, 'created': '2017-07-31 13:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cbc0d47ae0371b31acc38ae011509e073b7a0bff', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another\nnamespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the\n     subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt\n     namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under\n     params\n\nPartially-Implements: blueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 13, 'created': '2017-07-31 13:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8ac75bd204c2182e48274e3acd160e2e92fadc0a', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another\nnamespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the\n     subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt\n     namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under\n     params\n\nPartially-Implements: blueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 14, 'created': '2017-07-31 14:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e81c769446b8560c22a6d9a3cbcacf2ebc37ccc5', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another\nnamespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the\n     subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt\n     namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under\n     params\n\nPartially-Implements: blueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 15, 'created': '2017-07-31 14:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a92ab9d99a62d8a82163b8c605b80fafc4ff8acf', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another\nnamespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the\n     subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt\n     namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under\n     params\n\nPartially-Implements: blueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}, {'number': 16, 'created': '2017-08-01 13:51:05.000000000', 'files': ['functionaltests/run_tests.sh', 'mistral/tests/unit/engine/test_reverse_workflow_rerun.py', 'mistral/tests/unit/api/v2/test_workflows.py', 'mistral/tests/unit/engine/test_workflow_resume.py', 'mistral/tests/unit/engine/test_state_info.py', 'mistral/engine/base.py', 'mistral/tests/unit/engine/test_direct_workflow_with_cycles.py', 'mistral/tests/unit/api/v2/test_members.py', 'mistral/tests/unit/engine/test_safe_rerun.py', 'mistral/api/controllers/v2/workflow.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/db/v2/sqlalchemy/models.py', 'mistral/tests/unit/engine/test_join.py', 'mistral/tests/unit/engine/test_lookup_utils.py', 'mistral/tests/resources/for_wf_namespace/lowest_level_wf.yaml', 'mistral/tests/unit/engine/test_reverse_workflow.py', 'mistral/engine/engine_server.py', 'mistral/api/controllers/v2/resources.py', 'mistral/tests/unit/engine/test_workflow_stop.py', 'mistral_tempest_tests/tests/api/v2/test_tasks.py', 'mistral/tests/unit/api/v2/test_executions.py', 'mistral/tests/unit/engine/test_execution_fields_size_limitation.py', 'mistral/tests/unit/engine/test_dataflow.py', 'mistral/tests/unit/engine/test_tasks_function.py', 'mistral/tests/unit/engine/test_race_condition.py', 'mistral/services/workflows.py', 'mistral/tests/unit/engine/test_task_defaults.py', 'mistral/tests/unit/engine/test_reverse_workflow_rerun_cancelled.py', 'mistral/db/v2/api.py', 'mistral/tests/unit/engine/test_subworkflows.py', 'mistral_tempest_tests/tests/api/v2/test_action_executions.py', 'mistral/tests/unit/engine/test_direct_workflow_rerun.py', 'mistral/tests/unit/engine/test_action_context.py', 'mistral/tests/resources/for_wf_namespace/top_level_wf.yaml', 'mistral/tests/unit/engine/test_environment.py', 'mistral_tempest_tests/tests/api/v2/test_event_triggers.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/engine/test_default_engine.py', 'mistral/tests/unit/engine/test_commands.py', 'mistral/rpc/clients.py', 'mistral/tests/unit/engine/test_noop_task.py', 'mistral/tests/unit/engine/test_workflow_variables.py', 'mistral/tests/unit/engine/test_task_cancel.py', 'mistral/engine/actions.py', 'mistral/tests/unit/engine/test_policies.py', 'mistral/tests/unit/engine/test_task_publish.py', 'mistral/tests/unit/engine/test_yaql_functions.py', 'mistral/tests/unit/engine/test_workflow_cancel.py', 'mistral/api/controllers/v2/execution.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/engine/test_with_items.py', 'mistral/engine/default_engine.py', 'mistral/tests/unit/executors/test_local_executor.py', 'mistral_tempest_tests/tests/api/v2/test_actions.py', 'mistral/tests/resources/for_wf_namespace/middle_wf.yaml', 'mistral/tests/unit/engine/test_action_defaults.py', 'mistral/tests/unit/engine/test_error_handling.py', 'mistral/tests/unit/engine/test_error_result.py', 'mistral_tempest_tests/services/base.py', 'mistral/tests/unit/engine/test_javascript_action.py', 'mistral/engine/utils.py', 'mistral/services/workbooks.py', 'mistral/engine/tasks.py', 'mistral/tests/unit/engine/test_direct_workflow_rerun_cancelled.py', 'mistral_tempest_tests/tests/api/v2/test_executions.py', 'mistral_tempest_tests/tests/api/v2/test_workflows.py', 'mistral/tests/unit/engine/test_adhoc_actions.py', 'mistral/tests/unit/engine/test_direct_workflow.py', 'mistral_tempest_tests/services/v2/mistral_client.py', 'mistral/tests/unit/engine/test_profiler.py', 'mistral/engine/workflow_handler.py', 'mistral/db/sqlalchemy/migration/alembic_migrations/versions/022_namespace_support.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/cbee740de5e8df9214394eae66776904cacf9ef5', 'message': 'Create and run a workflow within a namespace\n\nAllow adding many workflows with the same name.\nThe way this works is by adding the new workflows under another\nnamespace.\n\nNotice that:\n  1. Namespaces are not part of the mistral DSL.\n  2. When executing a workflow, the namespace passes down to the\n     subworkflow.\n  3. When searching for the sub-workflow definition -\n     If no workflow was found in the given namespace, than the defualt\n     namespace will be used.\n  4. The default namespace is an empty string.\n  5. The namespace property or the workflow execution will be under\n     params\n\nPartially-Implements: blueprint create-and-run-workflows-within-a-namespace\n\nChange-Id: Id248ec5906a0899d188675d002b45f6249d36d90\n'}]",27,485325,cbee740de5e8df9214394eae66776904cacf9ef5,58,11,16,9408,,,0,"Create and run a workflow within a namespace

Allow adding many workflows with the same name.
The way this works is by adding the new workflows under another
namespace.

Notice that:
  1. Namespaces are not part of the mistral DSL.
  2. When executing a workflow, the namespace passes down to the
     subworkflow.
  3. When searching for the sub-workflow definition -
     If no workflow was found in the given namespace, than the defualt
     namespace will be used.
  4. The default namespace is an empty string.
  5. The namespace property or the workflow execution will be under
     params

Partially-Implements: blueprint create-and-run-workflows-within-a-namespace

Change-Id: Id248ec5906a0899d188675d002b45f6249d36d90
",git fetch https://review.opendev.org/openstack/mistral refs/changes/25/485325/16 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/api/v2/test_event_trigger.py', 'functionaltests/run_tests.sh', 'mistral/tests/unit/engine/test_reverse_workflow_rerun.py', 'mistral/tests/unit/api/v2/test_workflows.py', 'mistral/tests/unit/engine/test_workflow_resume.py', 'mistral/tests/unit/engine/test_state_info.py', 'mistral/tests/unit/engine/test_direct_workflow_with_cycles.py', 'mistral/tests/unit/api/v2/test_members.py', 'mistral/tests/unit/engine/test_safe_rerun.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/tests/unit/api/v2/test_action_executions.py', 'mistral/tests/unit/engine/test_join.py', 'mistral/tests/unit/engine/test_lookup_utils.py', 'mistral/tests/resources/for_wf_namespace/lowest_level_wf.yaml', 'mistral/tests/unit/engine/test_reverse_workflow.py', 'mistral/tests/unit/engine/test_workflow_stop.py', 'mistral_tempest_tests/tests/api/v2/test_tasks.py', 'mistral/tests/unit/api/v2/test_executions.py', 'mistral/tests/unit/engine/test_execution_fields_size_limitation.py', 'mistral/tests/unit/engine/test_dataflow.py', 'mistral/tests/unit/engine/test_tasks_function.py', 'mistral/tests/unit/engine/test_race_condition.py', 'mistral/tests/unit/engine/test_task_defaults.py', 'mistral/tests/unit/engine/test_reverse_workflow_rerun_cancelled.py', 'mistral/tests/unit/engine/test_subworkflows.py', 'mistral_tempest_tests/tests/api/v2/test_action_executions.py', 'mistral/tests/unit/engine/test_direct_workflow_rerun.py', 'mistral/tests/unit/engine/test_action_context.py', 'mistral/tests/resources/for_wf_namespace/top_level_wf.yaml', 'mistral/tests/unit/engine/test_environment.py', 'mistral/tests/unit/engine/test_default_engine.py', 'mistral/tests/unit/engine/test_commands.py', 'mistral/tests/unit/engine/test_noop_task.py', 'mistral/tests/unit/engine/test_workflow_variables.py', 'mistral/tests/unit/engine/test_task_cancel.py', 'mistral/tests/unit/engine/test_policies.py', 'mistral/tests/unit/engine/test_task_publish.py', 'mistral/tests/unit/engine/test_yaql_functions.py', 'mistral/tests/unit/engine/test_workflow_cancel.py', 'mistral/tests/unit/engine/test_with_items.py', 'mistral/tests/unit/executors/test_local_executor.py', 'mistral_tempest_tests/tests/api/v2/test_actions.py', 'mistral/tests/resources/for_wf_namespace/middle_wf.yaml', 'mistral/tests/unit/engine/test_action_defaults.py', 'mistral/tests/unit/engine/test_error_handling.py', 'mistral/tests/unit/engine/test_error_result.py', 'mistral_tempest_tests/services/base.py', 'mistral/tests/unit/engine/test_javascript_action.py', 'mistral/tests/unit/api/v2/test_environment.py', 'mistral/tests/unit/engine/test_direct_workflow_rerun_cancelled.py', 'mistral_tempest_tests/tests/api/v2/test_executions.py', 'mistral_tempest_tests/tests/api/v2/test_workflows.py', 'mistral/tests/unit/engine/test_adhoc_actions.py', 'mistral/tests/unit/api/v2/test_cron_triggers.py', 'mistral/tests/unit/engine/test_direct_workflow.py', 'mistral_tempest_tests/services/v2/mistral_client.py', 'mistral/tests/unit/engine/test_profiler.py']",57,bfcde7b8b1719954200bdbf7ee61d898990b09bb,bp/create-and-run-workflows-within-a-namespace," wf_ex = self.engine_client.start_workflow('wf', '', {}) wf_ex = self.engine_client.start_workflow('wf', '', {})"," wf_ex = self.engine_client.start_workflow('wf', {}) wf_ex = self.engine_client.start_workflow('wf', {})",662,351
openstack%2Ftripleo-ui~master~Ie460a13b5b2f99e86aceebc23f932d586a60afc9,openstack/tripleo-ui,master,Ie460a13b5b2f99e86aceebc23f932d586a60afc9,Add axios and es6-error dependencies,MERGED,2017-07-25 10:23:30.000000000,2017-08-01 20:01:48.000000000,2017-08-01 20:01:48.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 9317}, {'_account_id': 10384}, {'_account_id': 17888}, {'_account_id': 20970}]","[{'number': 1, 'created': '2017-07-25 10:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/9673cf58c3a77c9f3b370ad350dcdb65a4ea0b5c', 'message': 'Add axios and es6-error dependencies\n\nAxios [MIT] - Intended to replace reqwest, provides data, request, response\nand request configuration with every API call, which\nallows for better error handling directly at API call side.\n\nes6-error [MIT] - Extendable error class allowing to create custom\nerrors using ES6 classes. This package has been already used as a non\ndirect dependency\n\nChange-Id: Ie460a13b5b2f99e86aceebc23f932d586a60afc9\n'}, {'number': 2, 'created': '2017-07-25 13:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/635f76b1614b1c8c95b0ff62267d2e857576ecf0', 'message': 'Add axios and es6-error dependencies\n\nAxios [MIT] - Intended to replace reqwest, provides data, request, response\nand request configuration with every API call, which\nallows for better error handling directly at API call side.\n\nes6-error [MIT] - Extendable error class allowing to create custom\nerrors using ES6 classes. This package has been already used as a non\ndirect dependency\n\nChange-Id: Ie460a13b5b2f99e86aceebc23f932d586a60afc9\n'}, {'number': 3, 'created': '2017-07-27 11:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/90093c4dd1052ed9f71f0f88f6706cdb8b70a454', 'message': 'Add axios and es6-error dependencies\n\nAxios [MIT] - Intended to replace reqwest, provides data, request, response\nand request configuration with every API call, which\nallows for better error handling directly at API call side.\n\nes6-error [MIT] - Extendable error class allowing to create custom\nerrors using ES6 classes. This package has been already used as a non\ndirect dependency\n\nChange-Id: Ie460a13b5b2f99e86aceebc23f932d586a60afc9\n'}, {'number': 4, 'created': '2017-08-01 09:07:30.000000000', 'files': ['npm-shrinkwrap.json', 'package.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/5d47e0605bdeac866f1a783a00b4911f525357fc', 'message': 'Add axios and es6-error dependencies\n\nAxios [MIT] - Intended to replace reqwest, provides data, request, response\nand request configuration with every API call, which\nallows for better error handling directly at API call side.\n\nes6-error [MIT] - Extendable error class allowing to create custom\nerrors using ES6 classes. This package has been already used as a non\ndirect dependency\n\nChange-Id: Ie460a13b5b2f99e86aceebc23f932d586a60afc9\n'}]",0,486975,5d47e0605bdeac866f1a783a00b4911f525357fc,20,6,4,7509,,,0,"Add axios and es6-error dependencies

Axios [MIT] - Intended to replace reqwest, provides data, request, response
and request configuration with every API call, which
allows for better error handling directly at API call side.

es6-error [MIT] - Extendable error class allowing to create custom
errors using ES6 classes. This package has been already used as a non
direct dependency

Change-Id: Ie460a13b5b2f99e86aceebc23f932d586a60afc9
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/75/486975/2 && git format-patch -1 --stdout FETCH_HEAD,"['npm-shrinkwrap.json', 'package.json']",2,9673cf58c3a77c9f3b370ad350dcdb65a4ea0b5c,bug/1696963," ""axios"": ""^0.16.2"", ""es6-error"": ""~4.0.2"",",,19,2
openstack%2Ftripleo-heat-templates~master~I0dab1dc9caef1e749f1c42cfefeba179caebc8d7,openstack/tripleo-heat-templates,master,I0dab1dc9caef1e749f1c42cfefeba179caebc8d7,Generate MySQL client config if service requires database,MERGED,2017-07-09 21:01:45.000000000,2017-08-01 20:00:18.000000000,2017-08-01 20:00:18.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}]","[{'number': 1, 'created': '2017-07-09 21:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b031d9bb59d7bf43cb6a99c274d1d00a6612840a', 'message': ""Generate MySQL client config if service requires database\n\nServices that access database have to read an extra MySQL configuration\nfile /etc/my.cnf.d/tripleo.cnf which holds client-only settings, like\nclient bind address and SSL configuration.\n\nIn order to generate that client configuration file, 1) the MySQLClient\nservice must be included by the role; 2) every service which uses the\ndatabase must include the mysql::client profile in the docker-puppet\nconfig generation step.\n\nBy including the mysql::client profile in each service, we ensure that\nany change in configuration file will be reflected in the service's\n/var/lib/config-data/{service}, and that paunch will restart the\nservice's container automatically.\n\nWe include a new YAML validation step to ensure that any service which\ndepends on MySQL will initialize the mysql::client profile during the\ndocker-puppet step.\n\nDepends-On: I103baa02373f6713cc300ac039a6f173ff0bbf1c\nDepends-On: Ia4ad6d77387e3dc354cd131c2f9756939fb8f736\nDepends-On: I857c94ba5f7f064d7c58df621ec5d477654b9166\n\nChange-Id: I0dab1dc9caef1e749f1c42cfefeba179caebc8d7\n""}, {'number': 2, 'created': '2017-07-11 12:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62558064776e0cfe9af7d3b37cfc00927e578129', 'message': ""Generate MySQL client config if service requires database\n\nServices that access database have to read an extra MySQL configuration\nfile /etc/my.cnf.d/tripleo.cnf which holds client-only settings, like\nclient bind address and SSL configuration.\n\nIn order to generate that client configuration file, 1) the MySQLClient\nservice must be included by the role; 2) every service which uses the\ndatabase must include the mysql::client profile in the docker-puppet\nconfig generation step.\n\nBy including the mysql::client profile in each service, we ensure that\nany change in configuration file will be reflected in the service's\n/var/lib/config-data/{service}, and that paunch will restart the\nservice's container automatically.\n\nWe include a new YAML validation step to ensure that any service which\ndepends on MySQL will initialize the mysql::client profile during the\ndocker-puppet step.\n\nDepends-On: I103baa02373f6713cc300ac039a6f173ff0bbf1c\nDepends-On: I857c94ba5f7f064d7c58df621ec5d477654b9166\n\nChange-Id: I0dab1dc9caef1e749f1c42cfefeba179caebc8d7\n""}, {'number': 3, 'created': '2017-07-11 12:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f00b642612548f4d06f6613ab41ae5c6f0ade5e', 'message': ""Generate MySQL client config if service requires database\n\nServices that access database have to read an extra MySQL configuration\nfile /etc/my.cnf.d/tripleo.cnf which holds client-only settings, like\nclient bind address and SSL configuration.\n\nIn order to generate that client configuration file, 1) the MySQLClient\nservice must be included by the role; 2) every service which uses the\ndatabase must include the mysql::client profile in the docker-puppet\nconfig generation step.\n\nBy including the mysql::client profile in each service, we ensure that\nany change in configuration file will be reflected in the service's\n/var/lib/config-data/{service}, and that paunch will restart the\nservice's container automatically.\n\nWe include a new YAML validation step to ensure that any service which\ndepends on MySQL will initialize the mysql::client profile during the\ndocker-puppet step.\n\nDepends-On: I103baa02373f6713cc300ac039a6f173ff0bbf1c\nDepends-On: I857c94ba5f7f064d7c58df621ec5d477654b9166\n\nChange-Id: I0dab1dc9caef1e749f1c42cfefeba179caebc8d7\n""}, {'number': 4, 'created': '2017-07-12 09:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef109694b4d2cbf88f3461e824abcd94bf624f59', 'message': ""Generate MySQL client config if service requires database\n\nServices that access database have to read an extra MySQL configuration file\n/etc/my.cnf.d/tripleo.cnf which holds client-only settings, like client bind\naddress and SSL configuration. The configuration file is thus used by\ncontainerized services, but also by non-containerized services that still\nrun on the host.\n\nIn order to generate that client configuration file appropriately both on the\nhost and for containers, 1) the MySQLClient service must be included by the\nrole; 2) every containerized service which uses the database must include the\nmysql::client profile in the docker-puppet config generation step.\n\nBy including the mysql::client profile in each containerized service, we ensure\nthat any change in configuration file will be reflected in the service's\n/var/lib/config-data/{service}, and that paunch will restart the service's\ncontainer automatically.\n\nWe now only rely on MySQLClient from puppet/services, to make it possible to\ngenerate /etc/my.cnf.d/tripleo.cnf on the host, and to set the hiera keys that\ndrive the generation of that config file in containers via docker-puppet.\n\nWe include a new YAML validation step to ensure that any service which depends\non MySQL will initialize the mysql::client profile during the docker-puppet\nstep.\n\nDepends-On: I103baa02373f6713cc300ac039a6f173ff0bbf1c\nDepends-On: I857c94ba5f7f064d7c58df621ec5d477654b9166\n\nChange-Id: I0dab1dc9caef1e749f1c42cfefeba179caebc8d7\n""}, {'number': 5, 'created': '2017-07-17 10:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae8cc2826efb352e89b8598c76ef134a36aac860', 'message': ""Generate MySQL client config if service requires database\n\nServices that access database have to read an extra MySQL configuration file\n/etc/my.cnf.d/tripleo.cnf which holds client-only settings, like client bind\naddress and SSL configuration. The configuration file is thus used by\ncontainerized services, but also by non-containerized services that still\nrun on the host.\n\nIn order to generate that client configuration file appropriately both on the\nhost and for containers, 1) the MySQLClient service must be included by the\nrole; 2) every containerized service which uses the database must include the\nmysql::client profile in the docker-puppet config generation step.\n\nBy including the mysql::client profile in each containerized service, we ensure\nthat any change in configuration file will be reflected in the service's\n/var/lib/config-data/{service}, and that paunch will restart the service's\ncontainer automatically.\n\nWe now only rely on MySQLClient from puppet/services, to make it possible to\ngenerate /etc/my.cnf.d/tripleo.cnf on the host, and to set the hiera keys that\ndrive the generation of that config file in containers via docker-puppet.\n\nWe include a new YAML validation step to ensure that any service which depends\non MySQL will initialize the mysql::client profile during the docker-puppet\nstep.\n\nDepends-On: I103baa02373f6713cc300ac039a6f173ff0bbf1c\nDepends-On: I857c94ba5f7f064d7c58df621ec5d477654b9166\n\nChange-Id: I0dab1dc9caef1e749f1c42cfefeba179caebc8d7\n""}, {'number': 6, 'created': '2017-07-19 11:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4175e79f7c8d717805d9519adb07eb768316f8c9', 'message': ""Generate MySQL client config if service requires database\n\nServices that access database have to read an extra MySQL configuration file\n/etc/my.cnf.d/tripleo.cnf which holds client-only settings, like client bind\naddress and SSL configuration. The configuration file is thus used by\ncontainerized services, but also by non-containerized services that still\nrun on the host.\n\nIn order to generate that client configuration file appropriately both on the\nhost and for containers, 1) the MySQLClient service must be included by the\nrole; 2) every containerized service which uses the database must include the\nmysql::client profile in the docker-puppet config generation step.\n\nBy including the mysql::client profile in each containerized service, we ensure\nthat any change in configuration file will be reflected in the service's\n/var/lib/config-data/{service}, and that paunch will restart the service's\ncontainer automatically.\n\nWe now only rely on MySQLClient from puppet/services, to make it possible to\ngenerate /etc/my.cnf.d/tripleo.cnf on the host, and to set the hiera keys that\ndrive the generation of that config file in containers via docker-puppet.\n\nWe include a new YAML validation step to ensure that any service which depends\non MySQL will initialize the mysql::client profile during the docker-puppet\nstep.\n\nChange-Id: I0dab1dc9caef1e749f1c42cfefeba179caebc8d7\n""}, {'number': 7, 'created': '2017-07-27 17:49:54.000000000', 'files': ['docker/services/gnocchi-metricd.yaml', 'docker/services/panko-api.yaml', 'docker/services/nova-ironic.yaml', 'docker/services/octavia-api.yaml', 'docker/services/aodh-api.yaml', 'docker/services/gnocchi-statsd.yaml', 'docker/services/nova-api.yaml', 'docker/services/nova-consoleauth.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/nova-libvirt.yaml', 'docker/services/ironic-conductor.yaml', 'environments/docker.yaml', 'docker/services/mistral-api.yaml', 'docker/services/ec2-api.yaml', 'tools/yaml-validate.py', 'docker/services/cinder-scheduler.yaml', 'docker/services/tacker.yaml', 'docker/services/manila-api.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/nova-vnc-proxy.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/database/mysql-client.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/aodh-listener.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/neutron-api.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/ironic-api.yaml', 'docker/services/keystone.yaml', 'docker/services/sahara-api.yaml', 'docker/services/zaqar.yaml', 'docker/services/aodh-evaluator.yaml', 'docker/services/nova-placement.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/congress.yaml', 'docker/services/heat-engine.yaml', 'docker/services/manila-share.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/manila-scheduler.yaml', 'docker/services/cinder-api.yaml', 'docker/services/glance-api.yaml', 'docker/services/mistral-engine.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cb45d65c607cf4eb9a4096c7cc3f1c8a5ca58b4', 'message': ""Generate MySQL client config if service requires database\n\nServices that access database have to read an extra MySQL configuration file\n/etc/my.cnf.d/tripleo.cnf which holds client-only settings, like client bind\naddress and SSL configuration. The configuration file is thus used by\ncontainerized services, but also by non-containerized services that still\nrun on the host.\n\nIn order to generate that client configuration file appropriately both on the\nhost and for containers, 1) the MySQLClient service must be included by the\nrole; 2) every containerized service which uses the database must include the\nmysql::client profile in the docker-puppet config generation step.\n\nBy including the mysql::client profile in each containerized service, we ensure\nthat any change in configuration file will be reflected in the service's\n/var/lib/config-data/{service}, and that paunch will restart the service's\ncontainer automatically.\n\nWe now only rely on MySQLClient from puppet/services, to make it possible to\ngenerate /etc/my.cnf.d/tripleo.cnf on the host, and to set the hiera keys that\ndrive the generation of that config file in containers via docker-puppet.\n\nWe include a new YAML validation step to ensure that any service which depends\non MySQL will initialize the mysql::client profile during the docker-puppet\nstep.\n\nChange-Id: I0dab1dc9caef1e749f1c42cfefeba179caebc8d7\n""}]",0,481965,0cb45d65c607cf4eb9a4096c7cc3f1c8a5ca58b4,57,10,7,20778,,,0,"Generate MySQL client config if service requires database

Services that access database have to read an extra MySQL configuration file
/etc/my.cnf.d/tripleo.cnf which holds client-only settings, like client bind
address and SSL configuration. The configuration file is thus used by
containerized services, but also by non-containerized services that still
run on the host.

In order to generate that client configuration file appropriately both on the
host and for containers, 1) the MySQLClient service must be included by the
role; 2) every containerized service which uses the database must include the
mysql::client profile in the docker-puppet config generation step.

By including the mysql::client profile in each containerized service, we ensure
that any change in configuration file will be reflected in the service's
/var/lib/config-data/{service}, and that paunch will restart the service's
container automatically.

We now only rely on MySQLClient from puppet/services, to make it possible to
generate /etc/my.cnf.d/tripleo.cnf on the host, and to set the hiera keys that
drive the generation of that config file in containers via docker-puppet.

We include a new YAML validation step to ensure that any service which depends
on MySQL will initialize the mysql::client profile during the docker-puppet
step.

Change-Id: I0dab1dc9caef1e749f1c42cfefeba179caebc8d7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/481965/7 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/gnocchi-metricd.yaml', 'docker/services/panko-api.yaml', 'docker/services/nova-ironic.yaml', 'docker/services/octavia-api.yaml', 'docker/services/aodh-api.yaml', 'docker/services/gnocchi-statsd.yaml', 'docker/services/nova-api.yaml', 'docker/services/nova-consoleauth.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/nova-libvirt.yaml', 'docker/services/ironic-conductor.yaml', 'docker/services/mistral-api.yaml', 'docker/services/ec2-api.yaml', 'tools/yaml-validate.py', 'docker/services/cinder-scheduler.yaml', 'docker/services/tacker.yaml', 'docker/services/manila-api.yaml', 'docker/services/cinder-volume.yaml', 'docker/services/nova-vnc-proxy.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/database/mysql-client.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/aodh-listener.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/neutron-api.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/ironic-api.yaml', 'docker/services/keystone.yaml', 'docker/services/sahara-api.yaml', 'docker/services/aodh-evaluator.yaml', 'docker/services/nova-placement.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/congress.yaml', 'docker/services/heat-engine.yaml', 'docker/services/sahara-engine.yaml', 'docker/services/manila-scheduler.yaml', 'docker/services/cinder-api.yaml', 'docker/services/glance-api.yaml', 'docker/services/mistral-engine.yaml', 'docker/services/nova-compute.yaml']",41,b031d9bb59d7bf43cb6a99c274d1d00a6612840a,ha-containers," MySQLClient: type: ./database/mysql-client.yaml list_join: - ""\n"" - - {get_attr: [NovaComputeBase, role_data, step_config]} - {get_attr: [MySQLClient, role_data, step_config]}"," get_attr: [NovaComputeBase, role_data, step_config]",354,54
openstack%2Fopenstack-helm~master~I7ac7b7482b945a9a836f6f69df0ef8cebc37bafb,openstack/openstack-helm,master,I7ac7b7482b945a9a836f6f69df0ef8cebc37bafb,Randomize ceph namespace cleaner job name,MERGED,2017-07-31 15:50:34.000000000,2017-08-01 19:59:41.000000000,2017-08-01 19:59:41.000000000,"[{'_account_id': 3}, {'_account_id': 10068}, {'_account_id': 17591}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-07-31 15:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2980c205a0afad08f68cf08801150129b726a4a6', 'message': 'fix BUG 1707670: randomize cleaner job\n\nChange-Id: I7ac7b7482b945a9a836f6f69df0ef8cebc37bafb\nSigned-off-by: Huamin Chen <huamin.chen@gmail.com>\n'}, {'number': 2, 'created': '2017-07-31 17:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e56d9356678d6a3c0661e702defe66a4db1e5de', 'message': 'Closes-Bug: 1707670: randomize cleaner job\n\nChange-Id: I7ac7b7482b945a9a836f6f69df0ef8cebc37bafb\nSigned-off-by: Huamin Chen <huamin.chen@gmail.com>\n'}, {'number': 3, 'created': '2017-08-01 13:33:26.000000000', 'files': ['ceph/templates/job-namespace-client-key-cleaner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ae758a4f1682335aa3ea626db1f039247f2ac8c', 'message': 'Randomize ceph namespace cleaner job name\n\nCurrently Ceph namespace job cleaner uses a fixed name. This leads to\nhelm delete fails to clean up Ceph package. This fix randomizes the job\nname to avoid name conflicts.\n\nDocImpact\nCloses-Bug: #1707670\n\nChange-Id: I7ac7b7482b945a9a836f6f69df0ef8cebc37bafb\n'}]",0,489261,4ae758a4f1682335aa3ea626db1f039247f2ac8c,16,4,3,26509,,,0,"Randomize ceph namespace cleaner job name

Currently Ceph namespace job cleaner uses a fixed name. This leads to
helm delete fails to clean up Ceph package. This fix randomizes the job
name to avoid name conflicts.

DocImpact
Closes-Bug: #1707670

Change-Id: I7ac7b7482b945a9a836f6f69df0ef8cebc37bafb
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/61/489261/3 && git format-patch -1 --stdout FETCH_HEAD,['ceph/templates/job-namespace-client-key-cleaner.yaml'],1,2980c205a0afad08f68cf08801150129b726a4a6,bug/1707670, name: ceph-namespace-client-key-cleaner-{{ randAlphaNum 5 | lower }}, name: ceph-namespace-client-key-cleaner,1,1
openstack%2Fcinder~stable%2Focata~I619d61c7d07d4845ce46640bb28f8937052c4f84,openstack/cinder,stable/ocata,I619d61c7d07d4845ce46640bb28f8937052c4f84,VMAX driver - volume and snapshot treated as dicts in attach snapshot,MERGED,2017-07-03 16:33:39.000000000,2017-08-01 19:58:32.000000000,2017-08-01 19:58:32.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12670}, {'_account_id': 13628}, {'_account_id': 14624}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 17450}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 26077}, {'_account_id': 26347}]","[{'number': 1, 'created': '2017-07-03 16:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a46bde8d6164dc48961cc3b44c7cb3dd4fd271c7', 'message': 'VMAX driver - volume and snapshot treated as dicts in attach snapshot\n\nVolume and snapshot objects are treated as dicts in attach and detach\nsnapshot functionality. This causes an exception in stable ocata when\naccessing members of the class.\n\nChange-Id: I619d61c7d07d4845ce46640bb28f8937052c4f84\nCloses-Bug: #1702065\n'}, {'number': 2, 'created': '2017-07-03 17:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/340c0e03c54122387560947164313e09b2a807af', 'message': 'VMAX driver - volume and snapshot treated as dicts in attach snapshot\n\nVolume and snapshot objects are treated as dicts in attach and detach\nsnapshot functionality. This causes an exception in stable ocata when\naccessing members of the class.\n\nChange-Id: I619d61c7d07d4845ce46640bb28f8937052c4f84\nCloses-Bug: #1702065\n'}, {'number': 3, 'created': '2017-07-04 10:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d27ee920bb9318db93197b3f615ee4032974a4c', 'message': 'VMAX driver - volume and snapshot treated as dicts in attach snapshot\n\nVolume and snapshot objects are treated as dicts in attach and detach\nsnapshot functionality. This causes an exception in stable ocata when\naccessing members of the class.\n\nChange-Id: I619d61c7d07d4845ce46640bb28f8937052c4f84\nCloses-Bug: #1702065\n'}, {'number': 4, 'created': '2017-07-04 12:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/827474fab30984fc998a93750c9ce0bbf5ea324e', 'message': 'VMAX driver - volume and snapshot treated as dicts in attach snapshot\n\nVolume and snapshot objects are treated as dicts in attach and detach\nsnapshot functionality. This causes an exception in stable ocata when\naccessing members of the class. This was not cherry-picked from master\nas the SMIS driver has been replaced by REST in Pike.\n\nChange-Id: I619d61c7d07d4845ce46640bb28f8937052c4f84\nCloses-Bug: #1702065\n'}, {'number': 5, 'created': '2017-07-05 11:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/885cc86475e3cb7f09b8e5c5cc2678d4edf6b80d', 'message': 'VMAX driver - volume and snapshot treated as dicts in attach snapshot\n\nVolume and snapshot objects are treated as dicts in attach and detach\nsnapshot functionality. This causes an exception in stable ocata when\naccessing members of the class.\n\nChange-Id: I619d61c7d07d4845ce46640bb28f8937052c4f84\nCloses-Bug: #1702065\n'}, {'number': 6, 'created': '2017-07-11 16:47:30.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/76498ac6edb45d83f1c92e837a0ac01906912c60', 'message': 'VMAX driver - volume and snapshot treated as dicts in attach snapshot\n\nVolume and snapshot objects are treated as dicts in attach and detach\nsnapshot functionality. This causes an exception in stable ocata when\naccessing members of the class. This has not been cherry picked from\nthe master branch as the SMI-S driver has been replaced by REST and\nfixes are no longer applicable to Pike.\n\nChange-Id: I619d61c7d07d4845ce46640bb28f8937052c4f84\nCloses-Bug: #1702065\n'}]",18,479893,76498ac6edb45d83f1c92e837a0ac01906912c60,80,27,6,12670,,,0,"VMAX driver - volume and snapshot treated as dicts in attach snapshot

Volume and snapshot objects are treated as dicts in attach and detach
snapshot functionality. This causes an exception in stable ocata when
accessing members of the class. This has not been cherry picked from
the master branch as the SMI-S driver has been replaced by REST and
fixes are no longer applicable to Pike.

Change-Id: I619d61c7d07d4845ce46640bb28f8937052c4f84
Closes-Bug: #1702065
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/479893/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/tests/unit/fake_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py']",5,a46bde8d6164dc48961cc3b44c7cb3dd4fd271c7,bug/1702065," src_volume = snapshot.volume device_info = self.common.initialize_connection_snapshot( src_volume, snapshot, connector) src_volume = snapshot.volume return self.common.terminate_connection_snapshot( src_volume, snapshot, connector)"," src_volume = snapshot['volume'] snapshot['host'] = src_volume['host'] device_info = self.common.initialize_connection( snapshot, connector) src_volume = snapshot['volume'] snapshot['host'] = src_volume['host'] return self.common.terminate_connection(snapshot, connector)",117,34
openstack%2Fcinder~stable%2Focata~Ie62d7bc84b8b0e54ff627a52763e93456ff45d65,openstack/cinder,stable/ocata,Ie62d7bc84b8b0e54ff627a52763e93456ff45d65,XtremIO: fix fetching FC targets from X2 array,MERGED,2017-07-12 11:45:06.000000000,2017-08-01 19:58:23.000000000,2017-08-01 19:58:23.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-12 11:45:06.000000000', 'files': ['cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/efc653f9883fb32a57f2f9a6aa01387784417367', 'message': 'XtremIO: fix fetching FC targets from X2 array\n\nPrevious versions of XtremIO had the type as part of the target name, in\nX2 this convention was changed and a driver updated is required to query\nthe type from the target object.\n\nCloses-Bug: #1702458\nChange-Id: Ie62d7bc84b8b0e54ff627a52763e93456ff45d65\n(cherry picked from commit 67facebe4d9996bcbe8b3aaffd0a0d78660649e7)\n'}]",0,482933,efc653f9883fb32a57f2f9a6aa01387784417367,26,4,1,11418,,,0,"XtremIO: fix fetching FC targets from X2 array

Previous versions of XtremIO had the type as part of the target name, in
X2 this convention was changed and a driver updated is required to query
the type from the target object.

Closes-Bug: #1702458
Change-Id: Ie62d7bc84b8b0e54ff627a52763e93456ff45d65
(cherry picked from commit 67facebe4d9996bcbe8b3aaffd0a0d78660649e7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/482933/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py']",2,efc653f9883fb32a57f2f9a6aa01387784417367,bug/1702458," 'targets': {'X1-SC2-target1': {'index': 1, ""name"": ""X1-SC2-fc1"", ""port-address"": ""21:00:00:24:ff:57:b2:36"", 'port-type': 'fc', 'port-state': 'up', }, 'X1-SC2-target2': {'index': 2, ""name"": ""X1-SC2-fc2"", ""port-address"": ""21:00:00:24:ff:57:b2:55"", 'port-type': 'fc', 'port-state': 'up', }"," 'targets': {'X1-SC2-fc1': {'index': 1, ""name"": ""X1-SC2-fc1"", ""port-address"": ""21:00:00:24:ff:57:b2:36"", 'port-state': 'up', }, 'X1-SC2-fc2': {'index': 2, ""name"": ""X1-SC2-fc2"", ""port-address"": ""21:00:00:24:ff:57:b2:55"", 'port-state': 'up', }",28,17
openstack%2Fdevstack~master~Ia2b507a7b923f1e3393a9cb7746c66d39d6abfde,openstack/devstack,master,Ia2b507a7b923f1e3393a9cb7746c66d39d6abfde,Fix path to mlock_report,MERGED,2017-07-31 21:17:52.000000000,2017-08-01 19:54:50.000000000,2017-08-01 19:54:50.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10385}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-07-31 21:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1f7a96b404b4a9d4a10bcc53fa5fdf2ebbb272c5', 'message': 'Fix path to mlock_report\n\nmlock_report.py is located in the same directory as memory_tracker.sh\nThis patch fixes path to mlock_report.py.\n\nChange-Id: Ia2b507a7b923f1e3393a9cb7746c66d39d6abfde\n'}, {'number': 2, 'created': '2017-07-31 22:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1cee3cab559fc89cead6384ad5030005a2a42c9d', 'message': 'Fix path to mlock_report\n\nThis patch fixes path to mlock_report.py.\n\nChange-Id: Ia2b507a7b923f1e3393a9cb7746c66d39d6abfde\n'}, {'number': 3, 'created': '2017-08-01 05:15:26.000000000', 'files': ['files/rpms/dstat', 'files/debs/dstat', 'tools/memory_tracker.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/dea3083d984569eac9647f1a28f10ae98afc42f7', 'message': 'Fix path to mlock_report\n\nThis patch fixes path to mlock_report.py. Also add python-psutil\nto dstat depends as it is required by mlock_report.\n\nChange-Id: Ia2b507a7b923f1e3393a9cb7746c66d39d6abfde\n'}]",0,489404,dea3083d984569eac9647f1a28f10ae98afc42f7,19,7,3,14525,,,0,"Fix path to mlock_report

This patch fixes path to mlock_report.py. Also add python-psutil
to dstat depends as it is required by mlock_report.

Change-Id: Ia2b507a7b923f1e3393a9cb7746c66d39d6abfde
",git fetch https://review.opendev.org/openstack/devstack refs/changes/04/489404/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/memory_tracker.sh'],1,1f7a96b404b4a9d4a10bcc53fa5fdf2ebbb272c5,, ${PYTHON} ./mlock_report.py, ${PYTHON} ./tools/mlock_report.py,1,1
openstack%2Fcinder~master~I8cc0e7a9ae82dab462dfd7234af76fbd7a188bea,openstack/cinder,master,I8cc0e7a9ae82dab462dfd7234af76fbd7a188bea,[api-ref]Fix the wrong description in volume API,MERGED,2017-06-15 01:35:31.000000000,2017-08-01 19:41:25.000000000,2017-08-01 19:41:25.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 23083}, {'_account_id': 25254}, {'_account_id': 25433}]","[{'number': 1, 'created': '2017-06-15 01:35:31.000000000', 'files': ['api-ref/source/v3/volumes-v3-volumes.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bdf13836a8b3659e337737b63275341183800274', 'message': ""[api-ref]Fix the wrong description in volume API\n\nCinder is using the description of volume transfer\nfor 'id', 'name' and 'links' in querying volume\nresponse parameters and elsewhere.\n\nThat is incorrect, so fix it soon.\n\nChange-Id: I8cc0e7a9ae82dab462dfd7234af76fbd7a188bea\nCloses-Bug: #1698034\n""}]",0,474406,bdf13836a8b3659e337737b63275341183800274,39,7,1,8846,,,0,"[api-ref]Fix the wrong description in volume API

Cinder is using the description of volume transfer
for 'id', 'name' and 'links' in querying volume
response parameters and elsewhere.

That is incorrect, so fix it soon.

Change-Id: I8cc0e7a9ae82dab462dfd7234af76fbd7a188bea
Closes-Bug: #1698034
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/474406/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/volumes-v3-volumes.inc'],1,bdf13836a8b3659e337737b63275341183800274,bug/1698034, - links: links_3 - id: id_5 - name: name_13 - name: name_13 - links: links_3 - id: id_5 - name: name_13 - id: id_5 - links: links_3 - name: name_13 - links: links_3 - id: id_5 - name: name_13 - name: name_13 - links: links_3 - id: id_5 - name: name_13, - links: links - id: id - name: name - name: name - links: links - id: id - name: name - id: id - links: links - name: name - links: links - id: id - name: name - name: name - links: links - id: id - name: name,17,17
openstack%2Fcinder~master~I01b8fb2302884c3ed398f9553bb8e6a2aeb307c7,openstack/cinder,master,I01b8fb2302884c3ed398f9553bb8e6a2aeb307c7,"Revert ""Correct RBD Provision stats&fix a perf problem""",MERGED,2017-07-12 20:52:54.000000000,2017-08-01 19:25:43.000000000,2017-07-13 09:03:31.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 16834}, {'_account_id': 23613}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-07-12 20:52:54.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/86e8cf948aaa100c78d2fd9378c5c837b3f7304f', 'message': 'Revert ""Correct RBD Provision stats&fix a perf problem""\n\nThis reverts commit b907450d7d7500fbcb9e4040efc2d0e42f4a78f9.\n\nEven though this approach should perform better, the value it calculates\nis not what the scheduler expects, we should be returning allocated\nsize.\n\nWe\'ll address the performance issue in a follow up patch\n\nChange-Id: I01b8fb2302884c3ed398f9553bb8e6a2aeb307c7\n'}]",0,483092,86e8cf948aaa100c78d2fd9378c5c837b3f7304f,30,11,1,9236,,,0,"Revert ""Correct RBD Provision stats&fix a perf problem""

This reverts commit b907450d7d7500fbcb9e4040efc2d0e42f4a78f9.

Even though this approach should perform better, the value it calculates
is not what the scheduler expects, we should be returning allocated
size.

We'll address the performance issue in a follow up patch

Change-Id: I01b8fb2302884c3ed398f9553bb8e6a2aeb307c7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/483092/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,86e8cf948aaa100c78d2fd9378c5c837b3f7304f,," def _iterate_cb(self, offset, length, exists): if exists: self._total_usage += length v.diff_iterate(0, v.size(), None, self._iterate_cb)", self._total_usage += v.size(),5,1
openstack%2Fcookbook-openstack-network~master~Ibb67f0ed977b14f542650108c68b7db0ba24a768,openstack/cookbook-openstack-network,master,Ibb67f0ed977b14f542650108c68b7db0ba24a768,Neutron OVS Interfacedriver name deprecation,MERGED,2017-07-31 13:10:49.000000000,2017-08-01 19:25:05.000000000,2017-08-01 19:25:05.000000000,"[{'_account_id': 3}, {'_account_id': 11915}, {'_account_id': 14790}]","[{'number': 1, 'created': '2017-07-31 13:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/102a87aef9cc2c7402ffac067add8a61472a0aa5', 'message': 'Neutron OVS Interfacedriver name deprecation\n\n- now its just openvswitch\n\nChange-Id: Ibb67f0ed977b14f542650108c68b7db0ba24a768\n'}, {'number': 2, 'created': '2017-07-31 13:38:20.000000000', 'files': ['attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/7d6850fda5ae3a948406fe32241eee8d157621c3', 'message': 'Neutron OVS Interfacedriver name deprecation\n\n- now its just openvswitch\n\nChange-Id: Ibb67f0ed977b14f542650108c68b7db0ba24a768\n'}]",0,489216,7d6850fda5ae3a948406fe32241eee8d157621c3,10,3,2,19193,,,0,"Neutron OVS Interfacedriver name deprecation

- now its just openvswitch

Change-Id: Ibb67f0ed977b14f542650108c68b7db0ba24a768
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/16/489216/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/metering_agent_spec.rb', 'attributes/default.rb']",2,102a87aef9cc2c7402ffac067add8a61472a0aa5,deprecations, conf['DEFAULT']['interface_driver'] = 'openvswitch', conf['DEFAULT']['interface_driver'] = 'neutron.agent.linux.interface.OVSInterfaceDriver',2,2
openstack%2Fnetworking-odl~master~I3616c67e07f2a851f7ecbd7b6857307ee9850905,openstack/networking-odl,master,I3616c67e07f2a851f7ecbd7b6857307ee9850905,Add Flag to support OpenDaylight DHCP Service in Devstack,MERGED,2017-07-31 11:42:07.000000000,2017-08-01 19:24:57.000000000,2017-08-01 19:24:57.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 9361}, {'_account_id': 17120}, {'_account_id': 18429}, {'_account_id': 25544}, {'_account_id': 25550}]","[{'number': 1, 'created': '2017-07-31 11:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/71b2817397cb75fb0fb6c8c0c346c093056b2ce0', 'message': 'Add Flag to support OpenDaylight DHCP Service in Devstack\n\nAdding flag `ODL_DHCP_SERVICE` to enable/disable OpenDaylight DHCP\nService in Devstack. By default OpenDaylight DHCP Service is not\nenabled. \n\nChange-Id: I3616c67e07f2a851f7ecbd7b6857307ee9850905\n'}, {'number': 2, 'created': '2017-07-31 19:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/97a4f923a2bf6c8a51c1831e760b19db06b448e6', 'message': 'Add Flag to support OpenDaylight DHCP Service in Devstack\n\nAdding flag `ODL_DHCP_SERVICE` to enable/disable OpenDaylight DHCP\nService in Devstack. By default OpenDaylight DHCP Service is not\nenabled. \n\nChange-Id: I3616c67e07f2a851f7ecbd7b6857307ee9850905\n'}, {'number': 3, 'created': '2017-08-01 05:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1950b7ce287ce90e7fe475fc5fb6b454a0f14c53', 'message': 'Add Flag to support OpenDaylight DHCP Service in Devstack\n\nAdding flag `ODL_DHCP_SERVICE` to enable/disable OpenDaylight DHCP\nService in Devstack. By default OpenDaylight DHCP Service is not\nenabled.\n\nChange-Id: I3616c67e07f2a851f7ecbd7b6857307ee9850905\n'}, {'number': 4, 'created': '2017-08-01 09:01:05.000000000', 'files': ['devstack/settings.odl', 'devstack/entry_points', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b71722c4d82076de6f10ae195908477c940c7057', 'message': 'Add Flag to support OpenDaylight DHCP Service in Devstack\n\nAdding flag `ODL_DHCP_SERVICE` to enable/disable OpenDaylight DHCP\nService in Devstack. By default OpenDaylight DHCP Service is not\nenabled.\n\nChange-Id: I3616c67e07f2a851f7ecbd7b6857307ee9850905\n'}]",8,489189,b71722c4d82076de6f10ae195908477c940c7057,28,7,4,25544,,,0,"Add Flag to support OpenDaylight DHCP Service in Devstack

Adding flag `ODL_DHCP_SERVICE` to enable/disable OpenDaylight DHCP
Service in Devstack. By default OpenDaylight DHCP Service is not
enabled.

Change-Id: I3616c67e07f2a851f7ecbd7b6857307ee9850905
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/89/489189/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/settings.odl', 'devstack/entry_points', 'devstack/README.rst']",3,71b2817397cb75fb0fb6c8c0c346c093056b2ce0,neutron_port_dhcp," 17. To enable OpenDaylight DHCP service to use with OpenDaylight Controller, include the following line in localrc(or local.conf):: > cat local.conf [[local|localrc]] ODL_DHCP_SERVICE=True",,12,0
openstack%2Fnetworking-odl~master~I1dcc73718bf8f9ff7b8b54ea0b2a99969d12443a,openstack/networking-odl,master,I1dcc73718bf8f9ff7b8b54ea0b2a99969d12443a,Enabling support for DHCP Service on OpenDaylight Controller,MERGED,2017-07-31 09:38:24.000000000,2017-08-01 19:24:39.000000000,2017-08-01 19:24:39.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 9361}, {'_account_id': 17120}, {'_account_id': 18429}, {'_account_id': 25544}, {'_account_id': 25550}]","[{'number': 1, 'created': '2017-07-31 09:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/de9e1ea94f6c4bc2d404c6b2858185e46e00ed6c', 'message': 'Enabling support for DHCP Service on OpenDaylight Controller\n\nThis patch fixes pending review comments of\nhttps://review.openstack.org/#/c/465735/\n\nChange-Id: I1dcc73718bf8f9ff7b8b54ea0b2a99969d12443a\n'}, {'number': 2, 'created': '2017-07-31 12:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/999c556da9f857da17f22097c28d079de7cc6d5f', 'message': 'Enabling support for DHCP Service on OpenDaylight Controller\n\nThis patch fixes pending review comments of\nhttps://review.openstack.org/#/c/465735/\n\nChange-Id: I1dcc73718bf8f9ff7b8b54ea0b2a99969d12443a\n'}, {'number': 3, 'created': '2017-07-31 18:43:33.000000000', 'files': ['doc/source/install/installation.rst', 'networking_odl/tests/unit/dhcp/test_odl_dhcp_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/153ea703f4a36b4903f89c2b1ae2be9088bb42d6', 'message': 'Enabling support for DHCP Service on OpenDaylight Controller\n\nThis patch fixes pending review comments of\nhttps://review.openstack.org/#/c/465735/\n\nChange-Id: I1dcc73718bf8f9ff7b8b54ea0b2a99969d12443a\n'}]",5,489154,153ea703f4a36b4903f89c2b1ae2be9088bb42d6,19,7,3,25544,,,0,"Enabling support for DHCP Service on OpenDaylight Controller

This patch fixes pending review comments of
https://review.openstack.org/#/c/465735/

Change-Id: I1dcc73718bf8f9ff7b8b54ea0b2a99969d12443a
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/54/489154/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/installation.rst', 'networking_odl/tests/unit/dhcp/test_odl_dhcp_driver.py']",2,de9e1ea94f6c4bc2d404c6b2858185e46e00ed6c,neutron_port_dhcp," self.assertTrue(isinstance(self.mech.dhcp_driver, odl_dhcp_driver.OdlDhcpDriver))"," self.db_session = neutron_db_api.get_writer_session() dhcp_driver = getattr(self.mech, 'dhcp_driver') self.assertTrue(isinstance(dhcp_driver, odl_dhcp_driver.OdlDhcpDriver))",8,12
openstack%2Fnova~master~I59facb7e1d05c0e49b253194fa754372f77ea719,openstack/nova,master,I59facb7e1d05c0e49b253194fa754372f77ea719,DNM: Refactor get_endpoint_data to accept service_type,ABANDONED,2017-08-01 16:50:16.000000000,2017-08-01 19:23:28.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-08-01 16:50:16.000000000', 'files': ['nova/exception.py', 'nova/virt/ironic/client_wrapper.py', 'nova/image/glance.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py', 'nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/61d07d4a026cc0d783b136244611a2c81e79cfff', 'message': ""DNM: Refactor get_endpoint_data to accept service_type\n\nDo not merge.  This commit will either be squashed into its parent\ncommit (if it works) or abandoned (if it doesn't).\n\nChange-Id: I59facb7e1d05c0e49b253194fa754372f77ea719\n""}]",0,489666,61d07d4a026cc0d783b136244611a2c81e79cfff,8,6,1,14070,,,0,"DNM: Refactor get_endpoint_data to accept service_type

Do not merge.  This commit will either be squashed into its parent
commit (if it works) or abandoned (if it doesn't).

Change-Id: I59facb7e1d05c0e49b253194fa754372f77ea719
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/489666/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/ironic/client_wrapper.py', 'nova/image/glance.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py', 'nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py']",7,61d07d4a026cc0d783b136244611a2c81e79cfff,bp/use-service-catalog-for-endpoints," self.get_endpoint_data.assert_called_once_with('baremetal', exception.ConfGroupForServiceTypeNotFound(stype='baremetal')) self.get_endpoint_data.assert_called_once_with('baremetal',"," self.get_endpoint_data.assert_called_once_with('ironic', exception.EndpointDataForGroupNotFound(groupname='ironic')) self.get_endpoint_data.assert_called_once_with('ironic',",128,179
openstack%2Fcinder~master~I042deedb8e8e0e253182ff0e3244cb4ae68d547a,openstack/cinder,master,I042deedb8e8e0e253182ff0e3244cb4ae68d547a,Fix release notes link,MERGED,2017-07-25 21:28:01.000000000,2017-08-01 19:22:06.000000000,2017-07-26 08:41:13.000000000,"[{'_account_id': 3}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 20382}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 23317}, {'_account_id': 24815}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-07-25 21:28:01.000000000', 'files': ['releasenotes/README.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1aac87ab266d90f1a00bda6c99145b44f21b76d6', 'message': 'Fix release notes link\n\nFixing the broken link to release notes documentation.\n\nTrivialFix\n\nChange-Id: I042deedb8e8e0e253182ff0e3244cb4ae68d547a\n'}]",0,487221,1aac87ab266d90f1a00bda6c99145b44f21b76d6,49,15,1,9171,,,0,"Fix release notes link

Fixing the broken link to release notes documentation.

TrivialFix

Change-Id: I042deedb8e8e0e253182ff0e3244cb4ae68d547a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/487221/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/README.rst'],1,1aac87ab266d90f1a00bda6c99145b44f21b76d6,release_note_devref,https://docs.openstack.org/cinder/latest/contributor/releasenotes.html,http://docs.openstack.org/developer/cinder/devref/releasenotes.html,1,1
openstack%2Fcinder~master~I6aa92c3b56ed08830c82f7adbbf8dcb36e980162,openstack/cinder,master,I6aa92c3b56ed08830c82f7adbbf8dcb36e980162,[api-ref] Update volume metadata for a specific key (v2),MERGED,2017-06-28 08:33:40.000000000,2017-08-01 19:20:50.000000000,2017-08-01 19:20:50.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15831}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19853}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23081}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-06-28 08:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5024c502e9b5d90fb4f6d6a41b77ed73e106377', 'message': ""[api-ref] Update a volume's metadata for a specific key (v2)\n\nThis patch is to add api-ref for cinder v2 api: update a volume's metadata\nfor a specific key.\n\nChange-Id: I6aa92c3b56ed08830c82f7adbbf8dcb36e980162\n""}, {'number': 2, 'created': '2017-06-28 09:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c82e70473bcdc1b051125dec4b074712e607c7ab', 'message': ""[api-ref] Update a volume's metadata for a specific key (v2)\n\nThis patch is to add api-ref for cinder v2 api: update a volume's metadata\nfor a specific key.\n\nChange-Id: I6aa92c3b56ed08830c82f7adbbf8dcb36e980162\n""}, {'number': 3, 'created': '2017-06-29 08:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/021f999e23ab844aa088e91fd0f884b78defb057', 'message': '[api-ref] Update volume metadata for a specific key (v2)\n\nThis patch is to add api-ref for cinder v2 api: update volume metadata\nfor a specific key.\n\nChange-Id: I6aa92c3b56ed08830c82f7adbbf8dcb36e980162\n'}, {'number': 4, 'created': '2017-07-19 16:57:09.000000000', 'files': ['api-ref/source/v2/volumes-v2-volumes.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/volume-metadata-update-key-request.json', 'api-ref/source/v2/samples/volume-metadata-update-key-response.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/49dce5e87b057e989559316527f3021ae4a559aa', 'message': '[api-ref] Update volume metadata for a specific key (v2)\n\nThis patch is to add api-ref for cinder v2 api: update volume metadata\nfor a specific key.\n\nChange-Id: I6aa92c3b56ed08830c82f7adbbf8dcb36e980162\n'}]",1,478435,49dce5e87b057e989559316527f3021ae4a559aa,74,30,4,23081,,,0,"[api-ref] Update volume metadata for a specific key (v2)

This patch is to add api-ref for cinder v2 api: update volume metadata
for a specific key.

Change-Id: I6aa92c3b56ed08830c82f7adbbf8dcb36e980162
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/478435/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/volumes-v2-volumes.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/volume-metadata-update-key-request.json', 'api-ref/source/v2/samples/volume-metadata-update-key-response.json']",4,b5024c502e9b5d90fb4f6d6a41b77ed73e106377,fix_volume_api_ref,"{ ""meta"": { ""name"": ""new_name"" } } ",,65,0
openstack%2Fcinder~master~I72dc6c61f10417f8382c7c488be27ed5199b75b9,openstack/cinder,master,I72dc6c61f10417f8382c7c488be27ed5199b75b9,Add group to cluster when init host,MERGED,2017-04-24 03:24:06.000000000,2017-08-01 19:20:40.000000000,2017-08-01 19:20:40.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20146}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-04-24 03:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01775867ef52da9670174e4836e2f90b08a1a0c1', 'message': 'Add group to cluser when init host\n\nIf cluser is enabled, the group should be updated with cluser\nas well.\n\nChange-Id: I72dc6c61f10417f8382c7c488be27ed5199b75b9\nImplements: blueprint cinder-volume-active-active-support\n'}, {'number': 2, 'created': '2017-04-24 07:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fcf8123e187f17ec61a8b8a5e9f64fc34f3aae16', 'message': 'Add group to cluser when init host\n\nIf cluser is enabled, the group should be updated with cluser\nas well.\n\nChange-Id: I72dc6c61f10417f8382c7c488be27ed5199b75b9\nImplements: blueprint cinder-volume-active-active-support\n'}, {'number': 3, 'created': '2017-04-24 14:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e125a7f31cbee8a66483d50dc1167d4f1e20a59', 'message': 'Add group to cluster when init host\n\nIf cluster is enabled, the group should be updated with cluster\nas well.\n\nChange-Id: I72dc6c61f10417f8382c7c488be27ed5199b75b9\nImplements: blueprint cinder-volume-active-active-support\n'}, {'number': 4, 'created': '2017-07-12 01:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de03ecd5fc3090029c65c39d480f463a4c0b92a5', 'message': 'Add group to cluster when init host\n\nIf cluster is enabled, the group should be updated with cluster\nas well.\n\nChange-Id: I72dc6c61f10417f8382c7c488be27ed5199b75b9\nImplements: blueprint cinder-volume-active-active-support\n'}, {'number': 5, 'created': '2017-07-12 03:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42502f754dcba484dc59c8ebd60487a15fa01ad0', 'message': 'Add group to cluster when init host\n\nIf cluster is enabled, the group should be updated with cluster\nas well.\n\nChange-Id: I72dc6c61f10417f8382c7c488be27ed5199b75b9\nImplements: blueprint cinder-volume-active-active-support\n'}, {'number': 6, 'created': '2017-07-12 06:10:04.000000000', 'files': ['cinder/tests/unit/objects/test_group.py', 'cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'cinder/objects/group.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/volume/test_init_host.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/48ce34a68e5407f183e05ee1f841d5b28b2debea', 'message': 'Add group to cluster when init host\n\nIf cluster is enabled, the group should be updated with cluster\nas well.\n\nChange-Id: I72dc6c61f10417f8382c7c488be27ed5199b75b9\nImplements: blueprint cinder-volume-active-active-support\n'}]",3,459153,48ce34a68e5407f183e05ee1f841d5b28b2debea,126,39,6,15054,,,0,"Add group to cluster when init host

If cluster is enabled, the group should be updated with cluster
as well.

Change-Id: I72dc6c61f10417f8382c7c488be27ed5199b75b9
Implements: blueprint cinder-volume-active-active-support
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/459153/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/objects/group.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py']",4,01775867ef52da9670174e4836e2f90b08a1a0c1,bp/cinder-volume-active-active-support,"@require_admin_context def group_include_in_cluster(context, cluster, partial_rename=True, **filters): """"""Include all generic groups matching the filters into a cluster."""""" return _include_in_cluster(context, cluster, models.Group, partial_rename, filters) ",,48,3
openstack%2Fpython-cinderclient~master~Ieb3b4460300e8ad8f606b2979262dd39b251cd8d,openstack/python-cinderclient,master,Ieb3b4460300e8ad8f606b2979262dd39b251cd8d,Updated from global requirements,MERGED,2017-07-27 19:20:32.000000000,2017-08-01 19:19:00.000000000,2017-08-01 19:19:00.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-27 19:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/6512aefec62db93d05a05f3aced96dd48878de2d', 'message': 'Updated from global requirements\n\nChange-Id: Ieb3b4460300e8ad8f606b2979262dd39b251cd8d\n'}, {'number': 2, 'created': '2017-07-27 19:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/e7dffa84085af54a94c4d30a4798847532277b70', 'message': 'Updated from global requirements\n\nChange-Id: Ieb3b4460300e8ad8f606b2979262dd39b251cd8d\n'}, {'number': 3, 'created': '2017-07-27 20:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/cfa4878de7b9d329c32fb0d72e17c1738e36f3bd', 'message': 'Updated from global requirements\n\nChange-Id: Ieb3b4460300e8ad8f606b2979262dd39b251cd8d\n'}, {'number': 4, 'created': '2017-07-27 20:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/62411bb19925ce7c2486392b748acefd5c689b60', 'message': 'Updated from global requirements\n\nChange-Id: Ieb3b4460300e8ad8f606b2979262dd39b251cd8d\n'}, {'number': 5, 'created': '2017-07-28 12:58:55.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/574959cb084563bc71ebf9db349daa52884af815', 'message': 'Updated from global requirements\n\nChange-Id: Ieb3b4460300e8ad8f606b2979262dd39b251cd8d\n'}]",0,488111,574959cb084563bc71ebf9db349daa52884af815,13,3,5,11131,,,0,"Updated from global requirements

Change-Id: Ieb3b4460300e8ad8f606b2979262dd39b251cd8d
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/11/488111/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6512aefec62db93d05a05f3aced96dd48878de2d,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Fcinder~master~I2d89df3cf6f691d6cde2429b1b33b5b16af3269c,openstack/cinder,master,I2d89df3cf6f691d6cde2429b1b33b5b16af3269c,Add v2 v3 response example in API doc,MERGED,2017-06-20 02:48:35.000000000,2017-08-01 19:18:20.000000000,2017-08-01 19:18:20.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 16422}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 23083}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24863}, {'_account_id': 25456}]","[{'number': 1, 'created': '2017-06-20 02:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/764ce4c16dc1f102a4fe4e8138724b0176b21759', 'message': 'Add v2 v3 response example in API doc\n\nIn the api-ref/source/v2 and api-ref/source/v3, Add response\nexample for some of volumes, backups, consistencygroups doc.\n\nChange-Id: I2d89df3cf6f691d6cde2429b1b33b5b16af3269c\n'}, {'number': 2, 'created': '2017-06-20 03:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6b192a2e135b91f0c4b7a85845aa3182722fada', 'message': 'Add response example in API v2 v3 doc\n\nIn the api-ref/source/v2 and api-ref/source/v3, Add response\nexample for some of volumes, backups, consistencygroups doc.\n\nChange-Id: I2d89df3cf6f691d6cde2429b1b33b5b16af3269c\n'}, {'number': 3, 'created': '2017-06-20 07:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a429cd88c8ee15d73ef28f66d772f6e504528639', 'message': 'Add v2 v3 response example in API doc\n\nIn the api-ref/source/v2 and api-ref/source/v3, Add response\nexample for some of volumes, backups, consistencygroups doc.\n\nChange-Id: I2d89df3cf6f691d6cde2429b1b33b5b16af3269c\n'}, {'number': 4, 'created': '2017-06-20 08:24:57.000000000', 'files': ['api-ref/source/v2/volumes-v2-volumes.inc', 'api-ref/source/v2/consistencygroups-v2.inc', 'api-ref/source/v3/group-snapshots.inc', 'api-ref/source/v3/samples/backup-restore-response.json', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/samples/group-snapshots-create-response.json', 'api-ref/source/v2/ext-backups.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/04bfefcf346ea97cf629cde6bdeb9d463b9f6932', 'message': 'Add v2 v3 response example in API doc\n\nIn the api-ref/source/v2 and api-ref/source/v3, Add response\nexample for some of volumes, backups, consistencygroups doc.\n\nChange-Id: I2d89df3cf6f691d6cde2429b1b33b5b16af3269c\n'}]",3,475624,04bfefcf346ea97cf629cde6bdeb9d463b9f6932,60,18,4,25456,,,0,"Add v2 v3 response example in API doc

In the api-ref/source/v2 and api-ref/source/v3, Add response
example for some of volumes, backups, consistencygroups doc.

Change-Id: I2d89df3cf6f691d6cde2429b1b33b5b16af3269c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/475624/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/volumes-v2-volumes.inc', 'api-ref/source/v2/consistencygroups-v2.inc', 'api-ref/source/v3/group-snapshots.inc', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v2/ext-backups.inc']",6,764ce4c16dc1f102a4fe4e8138724b0176b21759,update_v3_doc,Response Example ---------------- .. literalinclude:: ./samples/backup-restore-response.json :language: javascript ,,32,9
openstack%2Fcinder~master~I5eed7f58d458e82cb2b58f9865e5fdb9df08b222,openstack/cinder,master,I5eed7f58d458e82cb2b58f9865e5fdb9df08b222,Mapping parallel and ploop,MERGED,2017-06-05 07:55:36.000000000,2017-08-01 19:16:44.000000000,2017-08-01 19:16:44.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-06-05 07:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/14f86bfbd831f3bf423ca1d07eb2e50241918c1a', 'message': '[wip] Mapping parallel and ploop\n\nFor the image format ""parallel"", qemu-img use ""parallel""\nbut Glance use ""ploop"". When upload volume to image, Cinder\nshould convert them internally.\n\nChange-Id: I5eed7f58d458e82cb2b58f9865e5fdb9df08b222\nCloses-bug: #1695832\n'}, {'number': 2, 'created': '2017-06-05 11:46:11.000000000', 'files': ['cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1117c0c646fde6dd119d7978bae7f893802123a2', 'message': 'Mapping parallel and ploop\n\nFor the image format ""parallel"", qemu-img use ""parallel""\nbut Glance use ""ploop"". When upload volume to image, Cinder\nshould convert them internally.\n\nChange-Id: I5eed7f58d458e82cb2b58f9865e5fdb9df08b222\nCloses-bug: #1695832\n'}]",0,470869,1117c0c646fde6dd119d7978bae7f893802123a2,41,12,2,15054,,,0,"Mapping parallel and ploop

For the image format ""parallel"", qemu-img use ""parallel""
but Glance use ""ploop"". When upload volume to image, Cinder
should convert them internally.

Change-Id: I5eed7f58d458e82cb2b58f9865e5fdb9df08b222
Closes-bug: #1695832
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/470869/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/api/contrib/volume_actions.py']",2,14f86bfbd831f3bf423ca1d07eb2e50241918c1a,bug/1695832," if disk_format == ""parallels"": disk_format = ""ploop"" if req_version.matches(""3.1""):", if req_version >= api_version_request.APIVersionRequest('3.1'):,5,1
openstack%2Fpython-cinderclient~master~I4bade57753a50245df1b4b82c4a8708d3b0acdba,openstack/python-cinderclient,master,I4bade57753a50245df1b4b82c4a8708d3b0acdba,Clean the redundant code in shell.py,MERGED,2017-06-24 04:01:37.000000000,2017-08-01 19:14:16.000000000,2017-08-01 19:14:16.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 23083}, {'_account_id': 23602}]","[{'number': 1, 'created': '2017-06-24 04:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b8374e7d8abeb18312934c62087c67c0084696ba', 'message': 'Clean the redundant code in shell.py\n\nIn the file cinderclient/shell.py, packages requests and six\nare double imported, This patch is to clean the redundant oode.\n\nChange-Id: I4bade57753a50245df1b4b82c4a8708d3b0acdba\n'}, {'number': 2, 'created': '2017-06-24 05:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f1bf739ebdce444dd3f60ac1e9e4f05d765ab71a', 'message': 'Clean the redundant code in shell.py\n\nIn the file cinderclient/shell.py, packages requests and six\nare double imported, This patch is to clean the redundant oode.\n\nChange-Id: I4bade57753a50245df1b4b82c4a8708d3b0acdba\n'}, {'number': 3, 'created': '2017-07-26 01:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/3a7af1e5c35e64a4fb8cf2596aac35dfdb138dd7', 'message': 'Clean the redundant code in shell.py\n\nIn the file cinderclient/shell.py, packages requests and six\nare double imported, This patch is to clean the redundant oode.\n\nChange-Id: I4bade57753a50245df1b4b82c4a8708d3b0acdba\n'}, {'number': 4, 'created': '2017-07-26 21:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/3206fd11c9bd63704a6ed3a09a91cd5010d3c906', 'message': 'Clean the redundant code in shell.py\n\nIn the file cinderclient/shell.py, packages requests and six\nare double imported, This patch is to clean the redundant oode.\n\nChange-Id: I4bade57753a50245df1b4b82c4a8708d3b0acdba\n'}, {'number': 5, 'created': '2017-07-27 08:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/d86f44c6e04655d7d599f2277df8548797d08e79', 'message': 'Clean the redundant code in shell.py\n\nIn the file cinderclient/shell.py, packages requests and six\nare double imported. This patch is to clean the redundant code.\n\nChange-Id: I4bade57753a50245df1b4b82c4a8708d3b0acdba\n'}, {'number': 6, 'created': '2017-07-27 10:07:18.000000000', 'files': ['cinderclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/c6504502edcda34c624af4f3c5e1765c664f408e', 'message': 'Clean the redundant code in shell.py\n\nIn the file cinderclient/shell.py, packages requests and six\nare double imported. This patch is to clean the redundant code.\n\nChange-Id: I4bade57753a50245df1b4b82c4a8708d3b0acdba\n'}]",7,477062,c6504502edcda34c624af4f3c5e1765c664f408e,23,6,6,25456,,,0,"Clean the redundant code in shell.py

In the file cinderclient/shell.py, packages requests and six
are double imported. This patch is to clean the redundant code.

Change-Id: I4bade57753a50245df1b4b82c4a8708d3b0acdba
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/62/477062/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/shell.py'],1,b8374e7d8abeb18312934c62087c67c0084696ba,clean-code,,import requests import siximport cinderclient,1,4
openstack%2Fnova~master~I0678f613388d90f0396d9c742872cc0b8103b0c7,openstack/nova,master,I0678f613388d90f0396d9c742872cc0b8103b0c7,Don't send instance updates from compute if not using filter scheduler,ABANDONED,2017-04-05 22:16:26.000000000,2017-08-01 19:02:05.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17922}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-04-05 22:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bed93c58e585db6f86209cc4a0434b55fa270b89', 'message': ""Mention track_instance_changes in scheduler.driver conf help\n\nThe default scheduler driver is the filter_scheduler and\ntrack_instance_changes is therefore enabled by default. However,\nthe help text for track_instance_changes mentions that if you\nare not using the filter scheduler, that you can disable\ntrack_instance_changes since it's just unnecessary rpc traffic\nfrom the compute nodes to the scheduler. This change mentions\ntrack_instance_changes in the scheduler/driver option help so people\ncan make the connection.\n\nChange-Id: I0678f613388d90f0396d9c742872cc0b8103b0c7\n""}, {'number': 2, 'created': '2017-04-05 22:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcd193d66903b7393ea0a63b67a7ba2b5e9331db', 'message': ""Don't send instance updates from compute if not using filter scheduler\n\nThe default scheduler driver is the filter_scheduler and\ntrack_instance_changes is therefore enabled by default. However,\nthe help text for track_instance_changes mentions that if you\nare not using the filter scheduler, that you can disable\ntrack_instance_changes since it's just unnecessary rpc traffic\nfrom the compute nodes to the scheduler.\n\nRather than force an operator that is not using the filter scheduler\nto change another option, we can simply determine in the compute\nmanager that if we're not using the filter scheduler that we shouldn't\ntrack instance updates.\n\nThis also cleans up the help for scheduler_instance_sync_interval\na bit so it no longer references a deprecated option name.\n\nChange-Id: I0678f613388d90f0396d9c742872cc0b8103b0c7\n""}, {'number': 3, 'created': '2017-04-05 22:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c081d1340d4d4da9e23d4f59a7764c0576cd5481', 'message': ""Don't send instance updates from compute if not using filter scheduler\n\nThe default scheduler driver is the filter_scheduler and\ntrack_instance_changes is therefore enabled by default. However,\nthe help text for track_instance_changes mentions that if you\nare not using the filter scheduler, that you can disable\ntrack_instance_changes since it's just unnecessary rpc traffic\nfrom the compute nodes to the scheduler.\n\nRather than force an operator that is not using the filter scheduler\nto change another option, we can simply determine in the compute\nmanager that if we're not using the filter scheduler that we shouldn't\ntrack instance updates.\n\nThis also cleans up the help for scheduler_instance_sync_interval\na bit so it no longer references a deprecated option name.\n\nChange-Id: I0678f613388d90f0396d9c742872cc0b8103b0c7\n""}, {'number': 4, 'created': '2017-04-06 22:50:36.000000000', 'files': ['nova/conf/compute.py', 'releasenotes/notes/track_instance_changes-compute-fc80ee6599e7db3c.yaml', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/compute/manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f27b0ddccff77e5f7a5484b0ff819c756bd19568', 'message': ""Don't send instance updates from compute if not using filter scheduler\n\nThe default scheduler driver is the filter_scheduler and\ntrack_instance_changes is therefore enabled by default. However,\nthe help text for track_instance_changes mentions that if you\nare not using the filter scheduler, that you can disable\ntrack_instance_changes since it's just unnecessary rpc traffic\nfrom the compute nodes to the scheduler.\n\nRather than force an operator that is not using the filter scheduler\nto change another option, we can simply determine in the compute\nmanager that if we're not using the filter scheduler that we shouldn't\ntrack instance updates.\n\nSince we're basically doing the same thing in the HostManager in\nthe scheduler, the same logic is applied there.\n\nThis also cleans up the help for scheduler_instance_sync_interval\na bit so it no longer references a deprecated option name.\n\nPart of blueprint put-host-manager-instance-info-on-a-diet\n\nChange-Id: I0678f613388d90f0396d9c742872cc0b8103b0c7\n""}]",8,453916,f27b0ddccff77e5f7a5484b0ff819c756bd19568,57,22,4,6873,,,0,"Don't send instance updates from compute if not using filter scheduler

The default scheduler driver is the filter_scheduler and
track_instance_changes is therefore enabled by default. However,
the help text for track_instance_changes mentions that if you
are not using the filter scheduler, that you can disable
track_instance_changes since it's just unnecessary rpc traffic
from the compute nodes to the scheduler.

Rather than force an operator that is not using the filter scheduler
to change another option, we can simply determine in the compute
manager that if we're not using the filter scheduler that we shouldn't
track instance updates.

Since we're basically doing the same thing in the HostManager in
the scheduler, the same logic is applied there.

This also cleans up the help for scheduler_instance_sync_interval
a bit so it no longer references a deprecated option name.

Part of blueprint put-host-manager-instance-info-on-a-diet

Change-Id: I0678f613388d90f0396d9c742872cc0b8103b0c7
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/453916/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/scheduler.py'],1,bed93c58e585db6f86209cc4a0434b55fa270b89,bp/put-host-manager-instance-info-on-a-diet, Related options: * scheduler_filter/track_instance_changes: If not using ``filter_scheduler`` then track_instance_changes can be set to False to improve performance.,,5,0
openstack%2Fdevstack~master~I6b092506c9370618804241f00112a74f499f2f57,openstack/devstack,master,I6b092506c9370618804241f00112a74f499f2f57,Configure nova for notifications when searchlight is enabled,ABANDONED,2017-03-05 22:18:51.000000000,2017-08-01 19:01:03.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-03-05 22:18:51.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/493b334933c7fa203349548b2e0261a7c76844e8', 'message': 'Configure nova for notifications when searchlight is enabled\n\nPer the searchlight nova plugin docs [1] we need to do some\nadditional configuration in nova when using searchlight.\n\n[1] https://docs.openstack.org/developer/searchlight/plugins/nova.html\n\nChange-Id: I6b092506c9370618804241f00112a74f499f2f57\n'}]",0,441711,493b334933c7fa203349548b2e0261a7c76844e8,14,7,1,6873,,,0,"Configure nova for notifications when searchlight is enabled

Per the searchlight nova plugin docs [1] we need to do some
additional configuration in nova when using searchlight.

[1] https://docs.openstack.org/developer/searchlight/plugins/nova.html

Change-Id: I6b092506c9370618804241f00112a74f499f2f57
",git fetch https://review.opendev.org/openstack/devstack refs/changes/11/441711/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,493b334933c7fa203349548b2e0261a7c76844e8,bp/list-instances-using-searchlight," if is_service_enabled searchlight; then iniset $NOVA_CONF notifications notify_on_state_change ""vm_and_task_state"" fi ",,5,0
openstack%2Fdevstack-gate~master~I43ef537f2357bc31af59d91ee601cce2ac80af4d,openstack/devstack-gate,master,I43ef537f2357bc31af59d91ee601cce2ac80af4d,WIP: test running dsvm with searchlight,ABANDONED,2017-03-05 17:37:48.000000000,2017-08-01 19:00:55.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9708}]","[{'number': 1, 'created': '2017-03-05 17:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/d276eab68f90285b92204433ddbbdd622d67230f', 'message': ""WIP: test running dsvm with searchlight\n\nThere is probably a lot more work required for this,\nfor example, it doesn't look like the searchlight\ndevstack plugin configures nova for notifications.\n\nChange-Id: I43ef537f2357bc31af59d91ee601cce2ac80af4d\n""}, {'number': 2, 'created': '2017-03-05 22:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/d3eab989776d8891c24ceb1d65d55ad257752d37', 'message': ""WIP: test running dsvm with searchlight\n\nThere is probably a lot more work required for this,\nfor example, it doesn't look like the searchlight\ndevstack plugin configures nova for notifications.\n\nDepends-On: I3031afe7551a0c8dde46e1ccfacff445fb68e122\n\nChange-Id: I43ef537f2357bc31af59d91ee601cce2ac80af4d\n""}, {'number': 3, 'created': '2017-03-05 22:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/463b9861c3309a84268c5b215861349c4690d59c', 'message': ""WIP: test running dsvm with searchlight\n\nThere is probably a lot more work required for this,\nfor example, it doesn't look like the searchlight\ndevstack plugin configures nova for notifications.\n\nDepends-On: I6b092506c9370618804241f00112a74f499f2f57\n\nChange-Id: I43ef537f2357bc31af59d91ee601cce2ac80af4d\n""}, {'number': 4, 'created': '2017-03-06 00:19:12.000000000', 'files': ['devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/511fd53f65bcd0e63f5425a6a390cc18ac774ea6', 'message': ""WIP: test running dsvm with searchlight\n\nThere is probably a lot more work required for this,\nfor example, it doesn't look like the searchlight\ndevstack plugin configures nova for notifications.\n\nDepends-On: I6b092506c9370618804241f00112a74f499f2f57\n\nChange-Id: I43ef537f2357bc31af59d91ee601cce2ac80af4d\n""}]",0,441696,511fd53f65bcd0e63f5425a6a390cc18ac774ea6,10,3,4,6873,,,0,"WIP: test running dsvm with searchlight

There is probably a lot more work required for this,
for example, it doesn't look like the searchlight
devstack plugin configures nova for notifications.

Depends-On: I6b092506c9370618804241f00112a74f499f2f57

Change-Id: I43ef537f2357bc31af59d91ee601cce2ac80af4d
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/96/441696/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate-wrap.sh'],1,d276eab68f90285b92204433ddbbdd622d67230f,bp/list-instances-using-searchlight,"PROJECTS=""openstack/searchlight $PROJECTS""# setup searchlight when stacking # we'd use local_conf when this is in project-config export DEVSTACK_LOCAL_CONFIG=""enable_plugin searchlight https://git.openstack.org/openstack/searchlight"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_service searchlight-api"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_service searchlight-listener"" ",,7,0
openstack%2Fnova~master~I8100765fc9bbd294c9fa55952a81521172978af0,openstack/nova,master,I8100765fc9bbd294c9fa55952a81521172978af0,Remove dead code in _bury_in_cell0,ABANDONED,2017-02-16 03:40:57.000000000,2017-08-01 18:59:34.000000000,,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 20223}]","[{'number': 1, 'created': '2017-02-16 03:40:57.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa456d0acb96d130b926e6c477cd8df0c412086d', 'message': 'Remove dead code in _bury_in_cell0\n\nThe 030_require_cell_setup API database migration which\nlanded in Ocata will prevent the API DB schema migration\nfrom continuing, and thus your upgrade past that point,\nif there is no cell0 CellMapping. Because of that, we can\nremove this now vestigial check in _bury_in_cell0.\n\nChange-Id: I8100765fc9bbd294c9fa55952a81521172978af0\n'}]",6,434615,fa456d0acb96d130b926e6c477cd8df0c412086d,24,15,1,6873,,,0,"Remove dead code in _bury_in_cell0

The 030_require_cell_setup API database migration which
landed in Ocata will prevent the API DB schema migration
from continuing, and thus your upgrade past that point,
if there is no cell0 CellMapping. Because of that, we can
remove this now vestigial check in _bury_in_cell0.

Change-Id: I8100765fc9bbd294c9fa55952a81521172978af0
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/434615/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,fa456d0acb96d130b926e6c477cd8df0c412086d,cell0-cleanup," cell0 = objects.CellMapping.get_by_uuid( context, objects.CellMapping.CELL0_UUID)"," try: cell0 = objects.CellMapping.get_by_uuid( context, objects.CellMapping.CELL0_UUID) except exception.CellMappingNotFound: # Not yet setup for cellsv2. Instances will need to be written # to the configured database. This will become a deployment # error in Ocata. LOG.error(_LE('No cell mapping found for cell0 while ' 'trying to record scheduling failure. ' 'Setup is incomplete.')) return",2,20
openstack%2Fzaqar~master~I61dad6daa2d030a8ae14acaf1f9bed43cf0be060,openstack/zaqar,master,I61dad6daa2d030a8ae14acaf1f9bed43cf0be060,Fix api doc in creating pre-signed url,MERGED,2017-07-31 09:19:17.000000000,2017-08-01 18:58:29.000000000,2017-08-01 18:58:29.000000000,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 15054}, {'_account_id': 21387}, {'_account_id': 22484}]","[{'number': 1, 'created': '2017-07-31 09:19:17.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/159f89ad38cfa41083283c74e130c8a047ef87c8', 'message': ""Fix api doc in creating pre-signed url\n\nNow the three arguments 'paths', 'methods', 'expires' in body\nare all optional, but it's required in api-ref doc.\n\nSo fix it soon.\n\nChange-Id: I61dad6daa2d030a8ae14acaf1f9bed43cf0be060\n""}]",0,489145,159f89ad38cfa41083283c74e130c8a047ef87c8,9,5,1,8846,,,0,"Fix api doc in creating pre-signed url

Now the three arguments 'paths', 'methods', 'expires' in body
are all optional, but it's required in api-ref doc.

So fix it soon.

Change-Id: I61dad6daa2d030a8ae14acaf1f9bed43cf0be060
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/45/489145/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,159f89ad38cfa41083283c74e130c8a047ef87c8,fix-api-doc, required: False required: False required: False, required: True required: True required: True,3,3
openstack%2Ftripleo-heat-templates~master~I61cc20460c56336d3d74655080e24119267c2e9f,openstack/tripleo-heat-templates,master,I61cc20460c56336d3d74655080e24119267c2e9f,DNM - Test all CI scenarios jobs,ABANDONED,2017-07-12 21:38:37.000000000,2017-08-01 18:56:08.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-07-12 21:38:37.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode.yaml', 'ci/environments/scenario002-multinode.yaml', 'ci/environments/multinode.yaml', 'ci/environments/multinode_major_upgrade.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'ci/environments/scenario001-multinode.yaml', 'ci/environments/multinode-containers.yaml', 'ci/environments/scenario003-multinode.yaml', 'ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/181cd57fad2144556604da98f31ca6d2a449e1ee', 'message': 'DNM - Test all CI scenarios jobs\n\nDo not review.\n\nChange-Id: I61cc20460c56336d3d74655080e24119267c2e9f\n'}]",0,483105,181cd57fad2144556604da98f31ca6d2a449e1ee,11,2,1,3153,,,0,"DNM - Test all CI scenarios jobs

Do not review.

Change-Id: I61cc20460c56336d3d74655080e24119267c2e9f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/483105/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode.yaml', 'ci/environments/scenario002-multinode.yaml', 'ci/environments/multinode.yaml', 'ci/environments/multinode_major_upgrade.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'ci/environments/scenario006-multinode-containers.yaml', 'ci/environments/scenario001-multinode.yaml', 'ci/environments/multinode-containers.yaml', 'ci/environments/scenario003-multinode.yaml', 'ci/environments/scenario003-multinode-containers.yaml']",12,181cd57fad2144556604da98f31ca6d2a449e1ee,citesting,#,,12,12
openstack%2Fpython-barbicanclient~master~Ib5b7c2ae50d30e85685c20cfabc188f46c0c947b,openstack/python-barbicanclient,master,Ib5b7c2ae50d30e85685c20cfabc188f46c0c947b,Support import modules from barbicanclient.client module,MERGED,2017-08-01 07:50:20.000000000,2017-08-01 18:47:22.000000000,2017-08-01 18:47:22.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 10273}, {'_account_id': 10873}, {'_account_id': 11561}]","[{'number': 1, 'created': '2017-08-01 07:50:20.000000000', 'files': ['barbicanclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/714fce222816ad3348d4ba4c3baaa721308158e2', 'message': 'Support import modules from barbicanclient.client module\n\nBefore refactor patch, modules could be imported either from\nbarbicanclient.<module> or barbicanclient.client.<module>, octavia\nis using both methods. We need to support that.\n\nChange-Id: Ib5b7c2ae50d30e85685c20cfabc188f46c0c947b\nCloses-bug: #1706841\n'}]",0,489518,714fce222816ad3348d4ba4c3baaa721308158e2,10,5,1,21797,,,0,"Support import modules from barbicanclient.client module

Before refactor patch, modules could be imported either from
barbicanclient.<module> or barbicanclient.client.<module>, octavia
is using both methods. We need to support that.

Change-Id: Ib5b7c2ae50d30e85685c20cfabc188f46c0c947b
Closes-bug: #1706841
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/18/489518/1 && git format-patch -1 --stdout FETCH_HEAD,['barbicanclient/client.py'],1,714fce222816ad3348d4ba4c3baaa721308158e2,bug/1706841,"import importlibimport sys import warnings class _LazyImporter(object): def __init__(self, module): self._module = module def __getattr__(self, name): # This is only called until the import has been done. lazy_submodules = [ 'acls', 'cas', 'containers', 'orders', 'secrets', ] if name in lazy_submodules: warnings.warn(""The %s module is moved to barbicanclient/v1 "" ""directory, direct import of "" ""barbicanclient.client.%s "" ""will be deprecated. Please import "" ""barbicanclient.v1.%s instead."" % (name, name, name)) return importlib.import_module('barbicanclient.v1.%s' % name) # Return module attributes like __all__ etc. return getattr(self._module, name) sys.modules[__name__] = _LazyImporter(sys.modules[__name__])",,32,0
openstack%2Fheat~master~I45679e83aacd07950a8fd980ed1f34e68a398356,openstack/heat,master,I45679e83aacd07950a8fd980ed1f34e68a398356,Fix networks update from [] to None,MERGED,2017-07-28 08:32:45.000000000,2017-08-01 18:46:31.000000000,2017-08-01 18:46:31.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-07-28 08:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b399c2412cb7dc63c46191e73fe57e8cdaac9ef8', 'message': ""Fix networks update from [] to None\n\nCorrect the logic of networks updating, to avoid\nattach two interfaces to a server if update 'networks'\nfrom [] to None. Also if user update 'networks' between\n[] and None, we don't have to detach the old one and\nattach a new one.\n\nCloses-Bug: #1706830\nChange-Id: I45679e83aacd07950a8fd980ed1f34e68a398356\n""}, {'number': 2, 'created': '2017-07-29 02:48:36.000000000', 'files': ['heat/engine/resources/openstack/nova/server_network_mixin.py', 'heat/tests/openstack/nova/test_server.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e1973fd9565b38c42a2ca5c1af3b96fa6a4c9621', 'message': ""Fix networks update from [] to None\n\nCorrect the logic of networks updating, to avoid\nattach two interfaces to a server if update 'networks'\nfrom [] to None. Also if user update 'networks' between\n[] and None, we don't have to detach the old one and\nattach a new one.\n\nCloses-Bug: #1706830\nChange-Id: I45679e83aacd07950a8fd980ed1f34e68a398356\n""}]",0,488334,e1973fd9565b38c42a2ca5c1af3b96fa6a4c9621,18,4,2,8289,,,0,"Fix networks update from [] to None

Correct the logic of networks updating, to avoid
attach two interfaces to a server if update 'networks'
from [] to None. Also if user update 'networks' between
[] and None, we don't have to detach the old one and
attach a new one.

Closes-Bug: #1706830
Change-Id: I45679e83aacd07950a8fd980ed1f34e68a398356
",git fetch https://review.opendev.org/openstack/heat refs/changes/34/488334/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/nova/server_network_mixin.py', 'heat/tests/openstack/nova/test_server.py']",2,b399c2412cb7dc63c46191e73fe57e8cdaac9ef8,bug/1703279," def test_server_update_empty_networks_to_None(self): return_server = self.fc.servers.list()[3] return_server.id = '9102' server = self._create_test_server(return_server, 'networks_update', networks=[]) update_props = copy.deepcopy(self.server_props) update_props.pop('networks') update_template = server.t.freeze(properties=update_props) self.patchobject(self.fc.servers, 'get', return_value=return_server) iface = self.create_fake_iface('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', '450abbc9-9b6d-4d6f-8c3a-c47ac34100ef', '1.2.3.4') self.patchobject(return_server, 'interface_list', return_value=[iface]) mock_detach = self.patchobject(return_server, 'interface_detach') mock_attach = self.patchobject(return_server, 'interface_attach') mock_detach_check = self.patchobject(nova.NovaClientPlugin, 'check_interface_detach', return_value=True) mock_attach_check = self.patchobject(nova.NovaClientPlugin, 'check_interface_attach', return_value=True) scheduler.TaskRunner(server.update, update_template)() self.assertEqual((server.UPDATE, server.COMPLETE), server.state) # test we detach the old interface and attach a new one self.assertEqual(0, mock_detach.call_count) self.assertEqual(0, mock_attach.call_count) self.assertEqual(0, mock_detach_check.call_count) self.assertEqual(0, mock_attach_check.call_count) scheduler.TaskRunner(server.update, update_template, before=server.t)() def test_server_update_old_networks_to_empty_list(self):"," scheduler.TaskRunner(server.update, update_template)() def test_server_update_networks_with_empty_list(self):",40,6
openstack%2Fnova-powervm~master~I9f4263f22fb73bf694bf0d2f766d1b921c1f2704,openstack/nova-powervm,master,I9f4263f22fb73bf694bf0d2f766d1b921c1f2704,Install nova test requirements for tox,MERGED,2017-08-01 15:55:30.000000000,2017-08-01 18:46:21.000000000,2017-08-01 18:28:03.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 10608}, {'_account_id': 13557}, {'_account_id': 13883}, {'_account_id': 16128}, {'_account_id': 16710}]","[{'number': 1, 'created': '2017-08-01 15:55:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/6cf382b960fb1cb27a1059108fbd97e789047ebe', 'message': ""Install nova test requirements for tox\n\nBecause nova-powervm follows nova at a development level, we have to\ninstall the latest master branch, so we can't put nova in our\n[test-]requirements.txt.  Instead, we put it in our tox.ini testenv\ndeps as a git clone and install.  This pulls in nova's requirements.txt,\nbut not its test-requirements.txt.\n\nChange [1] moved nova's wsgi_intercept dependency from requirements.txt\nto test-requirements.txt; but this didn't cause problems yet because\nwsgi_intercept wasn't actually being imported in a path that mattered to\nnova-powervm testing until [2].\n\nThis change set explicitly adds nova's test-requirements.txt, pulled\nfrom the master branch, to the nova-powervm testenv deps.\n\n[1] I0d8325e12ed7d5d022877782d6aa4ba4055c30db\n[2] I03b3abea152d45575ac6dde22ccbe32b6acb4646\n\nChange-Id: I9f4263f22fb73bf694bf0d2f766d1b921c1f2704\nCloses-Bug: #1707951\n""}]",4,489645,6cf382b960fb1cb27a1059108fbd97e789047ebe,15,7,1,14070,,,0,"Install nova test requirements for tox

Because nova-powervm follows nova at a development level, we have to
install the latest master branch, so we can't put nova in our
[test-]requirements.txt.  Instead, we put it in our tox.ini testenv
deps as a git clone and install.  This pulls in nova's requirements.txt,
but not its test-requirements.txt.

Change [1] moved nova's wsgi_intercept dependency from requirements.txt
to test-requirements.txt; but this didn't cause problems yet because
wsgi_intercept wasn't actually being imported in a path that mattered to
nova-powervm testing until [2].

This change set explicitly adds nova's test-requirements.txt, pulled
from the master branch, to the nova-powervm testenv deps.

[1] I0d8325e12ed7d5d022877782d6aa4ba4055c30db
[2] I03b3abea152d45575ac6dde22ccbe32b6acb4646

Change-Id: I9f4263f22fb73bf694bf0d2f766d1b921c1f2704
Closes-Bug: #1707951
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/45/489645/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6cf382b960fb1cb27a1059108fbd97e789047ebe,bug/1707951, -rhttps://raw.githubusercontent.com/openstack/nova/master/test-requirements.txt,,1,0
openstack%2Fhorizon~master~I8f61dda206918917469812a75f305f9f7b369f37,openstack/horizon,master,I8f61dda206918917469812a75f305f9f7b369f37,Imported Translations from Zanata,MERGED,2017-08-01 12:17:33.000000000,2017-08-01 18:40:46.000000000,2017-08-01 18:40:46.000000000,"[{'_account_id': 3}, {'_account_id': 841}]","[{'number': 1, 'created': '2017-08-01 12:17:33.000000000', 'files': ['horizon/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'horizon/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/47cb4f38e18dc4aa6fb7df4f06d135fc31d1c91d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: I8f61dda206918917469812a75f305f9f7b369f37\n'}]",0,489581,47cb4f38e18dc4aa6fb7df4f06d135fc31d1c91d,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: I8f61dda206918917469812a75f305f9f7b369f37
",git fetch https://review.opendev.org/openstack/horizon refs/changes/81/489581/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/pt_BR/LC_MESSAGES/django.po']",9,47cb4f38e18dc4aa6fb7df4f06d135fc31d1c91d,zanata/translations,"""Project-Id-Version: horizon 12.0.0.0b4.dev20\n""""POT-Creation-Date: 2017-07-31 19:09+0000\n""","""Project-Id-Version: horizon 12.0.0.0b3.dev250\n""""POT-Creation-Date: 2017-07-27 21:41+0000\n""msgid """" ""<div class='input-group date'> %(datepicker_input)s <label class=\""sr-only\"">"" ""%(datepicker_label)s</label> <span class=\""input-group-addon datepicker-addon"" ""\""> <span class=\""fa fa-calendar\""></span> </span> </div>"" msgstr """" ""<div class='input-group date'> %(datepicker_input)s <label class=\""sr-only\"">"" ""%(datepicker_label)s</label> <span class=\""input-group-addon datepicker-addon"" ""\""> <span class=\""fa fa-calendar\""></span> </span> </div>"" #, python-format",207,49
openstack%2Fcinder~master~If762c8c6987cd063f675865238f0fe0933a4598c,openstack/cinder,master,If762c8c6987cd063f675865238f0fe0933a4598c,[DOC BLD FIX] Fix docstring errors in nexenta driver,MERGED,2017-07-25 20:31:09.000000000,2017-08-01 18:34:10.000000000,2017-07-26 00:49:18.000000000,"[{'_account_id': 3}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-25 20:31:09.000000000', 'files': ['cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e853c01421d3bd59cd8c38336582ae54aec98adf', 'message': '[DOC BLD FIX] Fix docstring errors in nexenta driver\n\nThe nexenta code had a number od dosctring errors that were\ncausing Sphinx to generate WARNINGs during build.  This\npatch corrects those errors.\n\nChange-Id: If762c8c6987cd063f675865238f0fe0933a4598c\n'}]",0,487196,e853c01421d3bd59cd8c38336582ae54aec98adf,36,15,1,7198,,,0,"[DOC BLD FIX] Fix docstring errors in nexenta driver

The nexenta code had a number od dosctring errors that were
causing Sphinx to generate WARNINGs during build.  This
patch corrects those errors.

Change-Id: If762c8c6987cd063f675865238f0fe0933a4598c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/487196/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py']",2,e853c01421d3bd59cd8c38336582ae54aec98adf,doc-bld-fix, .. code-block:: default Version history: 1.0.0 - Initial driver version. 1.1.0 - Added HTTPS support. Added use of sessions for REST calls. , Version history: 1.0.0 - Initial driver version. 1.1.0 - Added HTTPS support. Added use of sessions for REST calls.,18,12
openstack%2Fcinder~master~I5998755b845c4ee39c45647b49147b19a14b12ea,openstack/cinder,master,I5998755b845c4ee39c45647b49147b19a14b12ea,[DOC BLD FIX] Fix netapp docstring issues,MERGED,2017-07-25 17:41:57.000000000,2017-08-01 18:31:29.000000000,2017-07-26 10:12:05.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 15941}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-25 17:41:57.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/da3fd412cfb2ef2dd3e2547ad1e591a9d17af11c', 'message': '[DOC BLD FIX] Fix netapp docstring issues\n\nCorrect docstring issues that are causing\nthe Sphinx build process to produce WARNINGs.\n\nChange-Id: I5998755b845c4ee39c45647b49147b19a14b12ea\n'}]",0,487149,da3fd412cfb2ef2dd3e2547ad1e591a9d17af11c,61,10,1,7198,,,0,"[DOC BLD FIX] Fix netapp docstring issues

Correct docstring issues that are causing
the Sphinx build process to produce WARNINGs.

Change-Id: I5998755b845c4ee39c45647b49147b19a14b12ea
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/487149/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/netapp/dataontap/client/client_cmode.py'],1,da3fd412cfb2ef2dd3e2547ad1e591a9d17af11c,doc-bld-fix, :param volume_list: Placeholder parameter to match 7mode client method signature., :param volume_list: placeholder parameter to match 7mode client method signature.,2,2
openstack%2Fcinder~master~I571e998f3a0209d95f1d0dc4eda79a919b13c974,openstack/cinder,master,I571e998f3a0209d95f1d0dc4eda79a919b13c974,Remove references to dothill driver options,MERGED,2017-07-25 17:38:00.000000000,2017-08-01 18:28:48.000000000,2017-07-26 12:54:27.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22255}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 26486}]","[{'number': 1, 'created': '2017-07-25 17:38:00.000000000', 'files': ['cinder/volume/drivers/dothill/dothill_iscsi.py', 'cinder/volume/drivers/dothill/dothill_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/108b33df5b298370ef32df050c65776526ab8991', 'message': ""Remove references to dothill driver options\n\nThe dothill driver's options were recently removed since the driver was\ndisabled, but some dangling references need to be cleaned up so that the\nmodule can still be imported by the drivers that inherit from it.\n\nChange-Id: I571e998f3a0209d95f1d0dc4eda79a919b13c974\n""}]",0,487148,108b33df5b298370ef32df050c65776526ab8991,40,10,1,17042,,,0,"Remove references to dothill driver options

The dothill driver's options were recently removed since the driver was
disabled, but some dangling references need to be cleaned up so that the
module can still be imported by the drivers that inherit from it.

Change-Id: I571e998f3a0209d95f1d0dc4eda79a919b13c974
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/487148/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dothill/dothill_fc.py', 'cinder/volume/drivers/dothill/dothill_iscsi.py']",2,108b33df5b298370ef32df050c65776526ab8991,remove-option-refs,, self.configuration.append_config_values(dothillcommon.common_opts) self.configuration.append_config_values(dothillcommon.iscsi_opts) self.iscsi_ips = self.configuration.dothill_iscsi_ips,0,4
openstack%2Fcinder~master~Idb1a4f4ba2bbcd850f53e717f85159147756a272,openstack/cinder,master,Idb1a4f4ba2bbcd850f53e717f85159147756a272,[DOC BLD FIX] Fix docstring issues in Lenovo driver,MERGED,2017-07-25 16:57:54.000000000,2017-08-01 18:26:05.000000000,2017-07-28 16:13:31.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 11904}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-25 16:57:54.000000000', 'files': ['cinder/volume/drivers/lenovo/lenovo_iscsi.py', 'cinder/volume/drivers/lenovo/lenovo_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8afc32d76a9a756bc1306eb7e4445f7f8e87fb2', 'message': '[DOC BLD FIX] Fix docstring issues in Lenovo driver\n\nThe version history at the top of the Lenovo driver\nwas causing Sphinx build errors.  I have put these\ninto code-blocks like other drivers to correct the\nWARNINGs being produced by Sphinx.\n\nChange-Id: Idb1a4f4ba2bbcd850f53e717f85159147756a272\n'}]",0,487142,b8afc32d76a9a756bc1306eb7e4445f7f8e87fb2,39,4,1,7198,,,0,"[DOC BLD FIX] Fix docstring issues in Lenovo driver

The version history at the top of the Lenovo driver
was causing Sphinx build errors.  I have put these
into code-blocks like other drivers to correct the
WARNINGs being produced by Sphinx.

Change-Id: Idb1a4f4ba2bbcd850f53e717f85159147756a272
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/487142/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/lenovo/lenovo_iscsi.py', 'cinder/volume/drivers/lenovo/lenovo_fc.py']",2,b8afc32d76a9a756bc1306eb7e4445f7f8e87fb2,doc-bld-fix, .. code-block:: default Version history: 1.0 - Inheriting from DotHill cinder drivers. 1.6 - Add management path redundancy and reduce load placed on management controller. , Version history: 1.0 - Inheriting from DotHill cinder drivers. 1.6 - Add management path redundancy and reduce load placed on management controller.,13,8
openstack%2Fironic~master~I02ad35a383b0f3b9af8a034aa99a10eecff6cc65,openstack/ironic,master,I02ad35a383b0f3b9af8a034aa99a10eecff6cc65,Attempt replacing ipmitool with ipminative/pyghmi,ABANDONED,2017-01-05 21:26:43.000000000,2017-08-01 18:21:22.000000000,,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 7080}, {'_account_id': 7902}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 23379}]","[{'number': 1, 'created': '2017-01-05 21:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/96fc85fd31dff24bf311d7ee4c15a259dde501ce', 'message': ""Attempt replacing ipmitool with ipminative/pyghmi\n\nThis should be a drop-in replacement. Let's see how the gate behaves.\n\nChange-Id: I02ad35a383b0f3b9af8a034aa99a10eecff6cc65\n""}, {'number': 2, 'created': '2017-01-06 16:17:41.000000000', 'files': ['ironic/drivers/modules/ipminative.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic/commit/96b59f95afb03f5b9bc2243edfbd447753bfc789', 'message': ""Attempt replacing ipmitool with ipminative/pyghmi\n\nThis should be a drop-in replacement. Let's see how the gate behaves.\n\nAdditionally, add priliminary support for ipmi_port for devstack\nsupport.\n\nChange-Id: I02ad35a383b0f3b9af8a034aa99a10eecff6cc65\n""}]",1,417196,96b59f95afb03f5b9bc2243edfbd447753bfc789,20,9,2,7080,,,0,"Attempt replacing ipmitool with ipminative/pyghmi

This should be a drop-in replacement. Let's see how the gate behaves.

Additionally, add priliminary support for ipmi_port for devstack
support.

Change-Id: I02ad35a383b0f3b9af8a034aa99a10eecff6cc65
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/417196/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,96fc85fd31dff24bf311d7ee4c15a259dde501ce,, agent_ipmitool = ironic.drivers.agent:AgentAndIPMINativeDriver, agent_ipmitool = ironic.drivers.agent:AgentAndIPMIToolDriver,1,1
openstack%2Fironic-python-agent~master~I61fcc41d590432ae8bcdd019fb0ba72365c4fd3d,openstack/ironic-python-agent,master,I61fcc41d590432ae8bcdd019fb0ba72365c4fd3d,(DO NOT MERGE) testing dib cross-repo deps,ABANDONED,2016-08-30 16:20:11.000000000,2017-08-01 18:20:37.000000000,,"[{'_account_id': 3}, {'_account_id': 7080}]","[{'number': 1, 'created': '2016-08-30 16:20:11.000000000', 'files': ['TEST_FILE'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/76321feee710f71375a407a3b78d55778a526d9d', 'message': '(DO NOT MERGE) testing dib cross-repo deps\n\nChange-Id: I61fcc41d590432ae8bcdd019fb0ba72365c4fd3d\n'}]",0,363006,76321feee710f71375a407a3b78d55778a526d9d,4,2,1,7080,,,0,"(DO NOT MERGE) testing dib cross-repo deps

Change-Id: I61fcc41d590432ae8bcdd019fb0ba72365c4fd3d
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/06/363006/1 && git format-patch -1 --stdout FETCH_HEAD,['TEST_FILE'],1,76321feee710f71375a407a3b78d55778a526d9d,,,,0,0
openstack%2Fopenstack-zuul-roles~master~Icb07996acb3a80cfbf153c3b486fd76ea28f0d82,openstack/openstack-zuul-roles,master,Icb07996acb3a80cfbf153c3b486fd76ea28f0d82,WIP: Ansiblify run-tox role,ABANDONED,2017-06-12 16:33:24.000000000,2017-08-01 18:18:54.000000000,,"[{'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-06-12 16:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/cd687292c25f6381bef2343c4e43d010a5ad7630', 'message': 'WIP: Ansiblify run-tox role\n\nRemove the dependency on our embedded bash script we hardcode into our\nimages.\n\nChange-Id: Icb07996acb3a80cfbf153c3b486fd76ea28f0d82\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2017-06-12 17:09:03.000000000', 'files': ['roles/run-tox/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-roles/commit/d6c56cbf5de9acc24a9b94b3cca00cacc2b4c542', 'message': 'WIP: Ansiblify run-tox role\n\nRemove the dependency on our embedded bash script we hardcode into our\nimages.\n\nChange-Id: Icb07996acb3a80cfbf153c3b486fd76ea28f0d82\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,473523,d6c56cbf5de9acc24a9b94b3cca00cacc2b4c542,8,2,2,4162,,,0,"WIP: Ansiblify run-tox role

Remove the dependency on our embedded bash script we hardcode into our
images.

Change-Id: Icb07996acb3a80cfbf153c3b486fd76ea28f0d82
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-roles refs/changes/23/473523/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-tox/tasks/main.yaml'],1,cd687292c25f6381bef2343c4e43d010a5ad7630,,"- name: Run tox. shell: ""tox -vv -e{{ envlist }}"" args: chdir: ""{{ zuul_workspace_root }}/src/{{ zuul.project.canonical_name }}"" register: result - name: Freeze output from test virtualenv. shell: "".tox/{{ envlist }}/bin/pip freeze | sort -f""","- name: Run tox shell: ""/usr/local/jenkins/slave_scripts/run-tox.sh {{ envlist }}""",8,2
openstack%2Fneutron~master~I5c74ba17223a431dad924d31bbe08ad958de3877,openstack/neutron,master,I5c74ba17223a431dad924d31bbe08ad958de3877,Use push notification for security groups,MERGED,2016-12-13 22:05:29.000000000,2017-08-01 18:17:11.000000000,2017-08-01 03:27:45.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 8726}, {'_account_id': 8871}, {'_account_id': 8976}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 23317}]","[{'number': 1, 'created': '2016-12-13 22:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be3a8fd3e1685884bd070c03e6f77e7c6fee8d64', 'message': 'more wip\n\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 2, 'created': '2016-12-14 01:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8fa17205a8aaf22265d0d9a36ae568a17cd309e', 'message': 'more wip\n\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 3, 'created': '2017-01-23 01:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd665f050bd4dadf005048e303f89164bfd28c67', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 4, 'created': '2017-01-23 05:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e85813c7aa10aefe8fa68febbb1ba304e22da78', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 5, 'created': '2017-01-23 08:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7329ac4885602627a7aa7a96fb48c6d3dd6f2c01', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 6, 'created': '2017-01-23 08:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11103c4c5d7675cde913219b33579f0fe922f752', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 7, 'created': '2017-01-23 21:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bc23d8724d0df6be7dc5b178ff074f76129c9f3', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 8, 'created': '2017-01-25 11:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f34007890370d145ad126fb7ef9aa67f593a65a', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 9, 'created': '2017-01-26 13:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef2fa6d3ade5b0bfeba96ef6006b3a388906a275', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 10, 'created': '2017-06-13 11:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d59d3c718ea92b9aa89f16d51b6c50072423db3b', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 11, 'created': '2017-06-14 05:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cc494754efbbb3d228aa52c4573ebf3accdb48b', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 12, 'created': '2017-06-14 08:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab895d1c3cdbffe26d9145ff2085e7c5cebb5256', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 13, 'created': '2017-06-14 23:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3298f94c78cf5b91cc1a5670d5cd4b7d9c8c0f2e', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 14, 'created': '2017-06-15 18:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/399d4f155eb62941818c05cdf77ccaee56d68c02', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 15, 'created': '2017-06-16 23:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7a69f24822433f5338f572ae863bf9a88111cec', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 16, 'created': '2017-06-17 06:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bed98f531c71b3f8997549fe2db78c272346907b', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 17, 'created': '2017-06-17 10:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37e6d5978062dd25bad214c0043225c301dd0f81', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 18, 'created': '2017-06-19 08:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bae37545610944698ae15a65ad00d826d1907e01', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 19, 'created': '2017-06-20 08:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f253dca7eebe9f5618890d834100ced5fc04f5d5', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 21, 'created': '2017-07-19 09:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d117ad48fbc99f381e59d6d844ff0433e7f59ba', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 22, 'created': '2017-07-20 21:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6444bdf5521b96cd5cc810af43c48f3870312cc0', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 23, 'created': '2017-07-21 22:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d126a461a2358d5f4d06d78db3e4c6050a5ab832', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 24, 'created': '2017-07-24 22:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6720a34dae8567bfb150f73d21afd5bb2852c063', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 25, 'created': '2017-07-28 02:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d1dbdd12d41bea1ebf16673441b2fe570a8f59a', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 26, 'created': '2017-07-28 17:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf5b4e4b17d64f6eac66c8e7df7f4b3bc67df52f', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}, {'number': 27, 'created': '2017-07-28 18:20:59.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/020ea1479e3c2fac3e1ef99ed85f45792b286a0e', 'message': 'Use push notification for security groups\n\nCalculate all security group info on the agent from\nthe push notification cache.\n\nPartially-Implements: blueprint push-notifications\nChange-Id: I5c74ba17223a431dad924d31bbe08ad958de3877\n'}]",25,410422,020ea1479e3c2fac3e1ef99ed85f45792b286a0e,235,16,26,7787,,,0,"Use push notification for security groups

Calculate all security group info on the agent from
the push notification cache.

Partially-Implements: blueprint push-notifications
Change-Id: I5c74ba17223a431dad924d31bbe08ad958de3877
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/410422/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/pecan_wsgi/app.py'],1,be3a8fd3e1685884bd070c03e6f77e7c6fee8d64,bp/push-notifications,," 'server': { 'port': CONF.bind_port, 'host': CONF.bind_host },",0,4
openstack%2Fneutron~stable%2Fnewton~I3388bce4d51f18a527de425927b7bfc96992f703,openstack/neutron,stable/newton,I3388bce4d51f18a527de425927b7bfc96992f703,Don't log about retrying failed devices if empty,MERGED,2017-07-31 12:03:43.000000000,2017-08-01 18:11:57.000000000,2017-08-01 18:11:56.000000000,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 748}, {'_account_id': 979}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6873}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 12898}, {'_account_id': 22816}]","[{'number': 1, 'created': '2017-07-31 12:03:43.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c15b7aa3c4fbbd2a7333e796692defed7c603147', 'message': 'Don\'t log about retrying failed devices if empty\n\nIn a regular gate run we have hundreds of entries of\n""retrying failed devices set([]) _update_port_info_failed_devices_stats"",\nwhich makes it hard to see when things are actually failing and\nretrying.\n\nThis patch just makes it only log if there is a failed device present.\n\nTrivialFix\n\nChange-Id: I3388bce4d51f18a527de425927b7bfc96992f703\n(cherry picked from commit 715e9c81fc205d48421c39a22b75765dcaeb0879)\n'}]",0,489193,c15b7aa3c4fbbd2a7333e796692defed7c603147,26,17,1,24791,,,0,"Don't log about retrying failed devices if empty

In a regular gate run we have hundreds of entries of
""retrying failed devices set([]) _update_port_info_failed_devices_stats"",
which makes it hard to see when things are actually failing and
retrying.

This patch just makes it only log if there is a failed device present.

TrivialFix

Change-Id: I3388bce4d51f18a527de425927b7bfc96992f703
(cherry picked from commit 715e9c81fc205d48421c39a22b75765dcaeb0879)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/489193/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,c15b7aa3c4fbbd2a7333e796692defed7c603147,bug/1665215," if failed_devices['added']: LOG.debug(""retrying failed devices %s"", failed_devices['added'])"," LOG.debug(""retrying failed devices %s"", failed_devices['added'])",2,1
openstack%2Frpm-packaging~master~I824cb5bdabf246e3288776b95889a5ada4a0233d,openstack/rpm-packaging,master,I824cb5bdabf246e3288776b95889a5ada4a0233d,Update python-openstackclient to 3.12.0,MERGED,2017-07-26 04:03:46.000000000,2017-08-01 18:07:27.000000000,2017-08-01 18:07:27.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-07-26 04:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c3a72d195680a5a4c1477c7cd9b8cba4db2cf934', 'message': 'Update python-openstackclient to 3.12.0\n\nChange-Id: I824cb5bdabf246e3288776b95889a5ada4a0233d\nDepends-on: I6ca1289d904a9aa2dba39c12e9c1bb4eefb2aed3\n'}, {'number': 2, 'created': '2017-07-26 04:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/72d13a82dc794c104c1502934f553156b1dd415c', 'message': 'Update python-openstackclient to 3.12.0\n\nChange-Id: I824cb5bdabf246e3288776b95889a5ada4a0233d\nDepends-on: I6ca1289d904a9aa2dba39c12e9c1bb4eefb2aed3\n'}, {'number': 3, 'created': '2017-07-27 14:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ecdda2142cfd448c04c144cb044fc211bb24494f', 'message': 'Update python-openstackclient to 3.12.0\n\nChange-Id: I824cb5bdabf246e3288776b95889a5ada4a0233d\nDepends-on: I6ca1289d904a9aa2dba39c12e9c1bb4eefb2aed3\n'}, {'number': 4, 'created': '2017-08-01 10:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6f50b55b55ba4a2af62aee985f881ec3f6717133', 'message': 'Update python-openstackclient to 3.12.0\n\nChange-Id: I824cb5bdabf246e3288776b95889a5ada4a0233d\nDepends-on: I6ca1289d904a9aa2dba39c12e9c1bb4eefb2aed3\n'}, {'number': 5, 'created': '2017-08-01 16:50:13.000000000', 'files': ['openstack/python-openstackclient/python-openstackclient.spec.j2', 'openstack/python-openstackclient/0001-Fix-unit-test-failures-related-to-new-os-client-conf.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6e6b795e584dc8306b279131d72519a73f5c1ab2', 'message': 'Update python-openstackclient to 3.12.0\n\nChange-Id: I824cb5bdabf246e3288776b95889a5ada4a0233d\nDepends-on: I6ca1289d904a9aa2dba39c12e9c1bb4eefb2aed3\n'}]",0,487270,6e6b795e584dc8306b279131d72519a73f5c1ab2,28,6,5,17130,,,0,"Update python-openstackclient to 3.12.0

Change-Id: I824cb5bdabf246e3288776b95889a5ada4a0233d
Depends-on: I6ca1289d904a9aa2dba39c12e9c1bb4eefb2aed3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/70/487270/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-openstackclient/python-openstackclient.spec.j2'],1,c3a72d195680a5a4c1477c7cd9b8cba4db2cf934,python-openstackclient,Version: 3.12.0,Version: 3.11.0,1,1
openstack%2Fdevstack~master~Id9e15384ede99c319091521fc19b6bdeba174856,openstack/devstack,master,Id9e15384ede99c319091521fc19b6bdeba174856,DNM: use manilaclient from git HEAD,ABANDONED,2017-07-28 15:08:07.000000000,2017-08-01 18:06:58.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-07-28 15:08:07.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cc61f8dd4a28848f6ad1b44e07b0e9c5409be12f', 'message': 'DNM: use manilaclient from git HEAD\n\nDepends-On: If7330345c4d67a94b4ce225a19def5feafddaea6\nChange-Id: Id9e15384ede99c319091521fc19b6bdeba174856\n'}]",0,488492,cc61f8dd4a28848f6ad1b44e07b0e9c5409be12f,5,3,1,10459,,,0,"DNM: use manilaclient from git HEAD

Depends-On: If7330345c4d67a94b4ce225a19def5feafddaea6
Change-Id: Id9e15384ede99c319091521fc19b6bdeba174856
",git fetch https://review.opendev.org/openstack/devstack refs/changes/92/488492/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,cc61f8dd4a28848f6ad1b44e07b0e9c5409be12f,test-manilaclient-git,"LIBS_FROM_GIT=""python-manilaclient""",,1,0
openstack%2Fpuppet-openstack-guide~master~I8d8bba83332c140ed65010207ae564744f8df14c,openstack/puppet-openstack-guide,master,I8d8bba83332c140ed65010207ae564744f8df14c,Add meeting #113 and meeting policy,MERGED,2017-08-01 16:49:41.000000000,2017-08-01 18:04:11.000000000,2017-08-01 18:04:11.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-08-01 16:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/c638f514f8f6d9bcdcd9e399270c4a60f5bd8339', 'message': 'Add meeting #113 and meeting policy\n\nAdd the last scheduled weekly meeting (#113) and update the\ndocumentation to reflect the change to adhoc meetings that will be\nannounced on OpenStack-dev as needed.\n\nChange-Id: I8d8bba83332c140ed65010207ae564744f8df14c\n'}, {'number': 2, 'created': '2017-08-01 17:09:32.000000000', 'files': ['doc/source/contributor/meetings.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/704c2377e4a840ee33abafc1315de5781aa8323c', 'message': 'Add meeting #113 and meeting policy\n\nAdd the last scheduled weekly meeting (#113) and update the\ndocumentation to reflect the change to adhoc meetings that will be\nannounced on OpenStack-dev as needed.\n\nChange-Id: I8d8bba83332c140ed65010207ae564744f8df14c\n'}]",2,489665,704c2377e4a840ee33abafc1315de5781aa8323c,10,3,2,14985,,,0,"Add meeting #113 and meeting policy

Add the last scheduled weekly meeting (#113) and update the
documentation to reflect the change to adhoc meetings that will be
announced on OpenStack-dev as needed.

Change-Id: I8d8bba83332c140ed65010207ae564744f8df14c
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/65/489665/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/meetings.rst'],1,c638f514f8f6d9bcdcd9e399270c4a60f5bd8339,meeting-updates,"1. `IRC meetings`_IRC meetings ============ If you're interested in Puppet OpenStack, we hold public meetings add needed on ``#puppet-openstack`` on freenode. If a meeting is going to be held, it will be announced on the OpenStack-dev mailing list. * - UTC 1500 Tuesdays as needed- Meeting #113 | 01 August, 2017 | `log <http://eavesdrop.openstack.org/meetings/puppet_openstack/2017/puppet_ openstack.2017-08-01-15.00.log.html>`_ | `agenda <https://etherpad.openstack.org/p/puppet-openstack-weekly-meeting- 20170801>`_","1. `Weekly meeting`_Weekly meeting ============== If you're interested in Puppet OpenStack, we hold public meetings weekly on ``#openstack-meeting-4`` on freenode. * - UTC 1500 Tuesdays Next meeting ============ - `Tuesday July 18, 2017 @ 1500 UTC <http://www.timeanddate.com/worldclock/fixedtime.html?msg=Puppet+Meeting&iso =20170718T15>`_ on ``#openstack-meeting-4`` on freenode Agenda ------ https://etherpad.openstack.org/p/puppet-openstack-weekly-meeting-20170718 ",12,20
openstack%2Fnova~master~I1a56f1c8a09db36806cf6ed9868bda8b41ddb900,openstack/nova,master,I1a56f1c8a09db36806cf6ed9868bda8b41ddb900,Centralize keystoneauth1 Adapter conf option setup,ABANDONED,2017-07-26 20:47:07.000000000,2017-08-01 17:55:04.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-26 20:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d22a11f914056f46c14cc1571c0a019789c46c68', 'message': 'WIP: Set Adapter interface defaults in conf\n\nChange-Id: I1a56f1c8a09db36806cf6ed9868bda8b41ddb900\n'}, {'number': 2, 'created': '2017-07-26 21:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fba6c2fefd0191de575f882411bb97896e020058', 'message': 'WIP: Set Adapter interface defaults in conf\n\nChange-Id: I1a56f1c8a09db36806cf6ed9868bda8b41ddb900\n'}, {'number': 3, 'created': '2017-07-26 22:15:26.000000000', 'files': ['nova/conf/ironic.py', 'nova/conf/utils.py', 'nova/tests/unit/test_utils.py', 'nova/conf/glance.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e342cb8cb6601e9defc2e90ce4c8fd4d0d89fe1', 'message': 'Centralize keystoneauth1 Adapter conf option setup\n\nNova needs to tweak keystoneauth1 Adapter conf options in the following\nways:\n- The deprecated `interface` option needs to be absent, so consumers\n  only use the new `valid-interfaces` option.\n- The default for `valid-interfaces` needs to be different from its\n  default in keystoneauth1 (see the referenced blueprint).\n\nBecause these conf options are registered from multiple places (glance,\nironic, etc.), this change set introduces a centralized utility,\nnova.conf.utils.get_ksa_adapter_opts, to load and prepare them.\n\nPartial-Implements: bp use-service-catalog-for-endpoints\n\nChange-Id: I1a56f1c8a09db36806cf6ed9868bda8b41ddb900\n'}]",0,487581,6e342cb8cb6601e9defc2e90ce4c8fd4d0d89fe1,21,12,3,14070,,,0,"Centralize keystoneauth1 Adapter conf option setup

Nova needs to tweak keystoneauth1 Adapter conf options in the following
ways:
- The deprecated `interface` option needs to be absent, so consumers
  only use the new `valid-interfaces` option.
- The default for `valid-interfaces` needs to be different from its
  default in keystoneauth1 (see the referenced blueprint).

Because these conf options are registered from multiple places (glance,
ironic, etc.), this change set introduces a centralized utility,
nova.conf.utils.get_ksa_adapter_opts, to load and prepare them.

Partial-Implements: bp use-service-catalog-for-endpoints

Change-Id: I1a56f1c8a09db36806cf6ed9868bda8b41ddb900
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/487581/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/ironic.py', 'nova/conf/glance.py', 'nova/utils.py']",3,d22a11f914056f46c14cc1571c0a019789c46c68,bp/use-service-catalog-for-endpoints,," # If interface(s) not specified in the Adapter, try these by default if not ks_adapter.interface: ks_adapter.interface = ['internal', 'admin', 'public'] ",11,7
openstack%2Freleases~master~Iaf5b35f7037fbff0ee74ced2d9bfac94a1b5981c,openstack/releases,master,Iaf5b35f7037fbff0ee74ced2d9bfac94a1b5981c,treat deliverable files as utf-8 in edit-deliverable,MERGED,2017-08-01 17:44:36.000000000,2017-08-01 17:54:14.000000000,2017-08-01 17:54:14.000000000,"[{'_account_id': 3}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-08-01 17:44:36.000000000', 'files': ['openstack_releases/cmds/edit_deliverable.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/eef369f83b0d32ea34bcf2c92527e9f2d99a436b', 'message': 'treat deliverable files as utf-8 in edit-deliverable\n\nChange-Id: Iaf5b35f7037fbff0ee74ced2d9bfac94a1b5981c\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489684,eef369f83b0d32ea34bcf2c92527e9f2d99a436b,6,2,1,2472,,,0,"treat deliverable files as utf-8 in edit-deliverable

Change-Id: Iaf5b35f7037fbff0ee74ced2d9bfac94a1b5981c
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/489684/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/edit_deliverable.py'],1,eef369f83b0d32ea34bcf2c92527e9f2d99a436b,queens-indentation," with open(deliverable_filename, 'r', encoding='utf-8') as f:"," with open(deliverable_filename, 'r') as f:",1,1
openstack%2Freleases~master~Ia61a5fb05850db26b469feea181b3ed5c895ba81,openstack/releases,master,Ia61a5fb05850db26b469feea181b3ed5c895ba81,add new-release and edit-deliverable to helpers list in readme,MERGED,2017-07-31 21:19:59.000000000,2017-08-01 17:53:01.000000000,2017-08-01 17:53:01.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 21:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/eb89e33c244504bbc94e4f961c5ca49ca5c25e8d', 'message': 'add new-release and edit-deliverable to helpers list in readme\n\nChange-Id: Ia61a5fb05850db26b469feea181b3ed5c895ba81\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 21:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/501df11ef5f13b41266ba2eab28dbd6c0971c126', 'message': 'add new-release and edit-deliverable to helpers list in readme\n\nChange-Id: Ia61a5fb05850db26b469feea181b3ed5c895ba81\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a8e5b810626bb839e57b63082c1c064a6796b84b', 'message': 'add new-release and edit-deliverable to helpers list in readme\n\nChange-Id: Ia61a5fb05850db26b469feea181b3ed5c895ba81\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-08-01 14:30:58.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/842b728e20840b51ed9ee36a1cd427adf147a869', 'message': 'add new-release and edit-deliverable to helpers list in readme\n\nChange-Id: Ia61a5fb05850db26b469feea181b3ed5c895ba81\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489405,842b728e20840b51ed9ee36a1cd427adf147a869,12,3,4,2472,,,0,"add new-release and edit-deliverable to helpers list in readme

Change-Id: Ia61a5fb05850db26b469feea181b3ed5c895ba81
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/489405/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,eb89e33c244504bbc94e4f961c5ca49ca5c25e8d,queens-indentation,"* ``new-release`` takes arguments to describe a new release and updates the deliverable file, automatically calculating the version number * ``edit-deliverable`` takes arguments to update the contents of a single deliverable file",,5,0
openstack%2Freleases~master~I9bd7ec180eee007d80297735688e7702a137153f,openstack/releases,master,I9bd7ec180eee007d80297735688e7702a137153f,add release-notes URLs for some pike deliverables,MERGED,2017-07-31 21:13:04.000000000,2017-08-01 17:52:55.000000000,2017-08-01 17:52:55.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/850f53929ea6cd62f10ac34754e3894c0d7b4499', 'message': ""add release-notes URLs for some pike deliverables\n\nUpdate the deliverable files that have pike release notes\nalready. Some of the changes are normalization from rewriting the\nfiles. The only differences should be the order of items and the value\nof the 'release-notes' key.\n\nChange-Id: I9bd7ec180eee007d80297735688e7702a137153f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2017-07-31 21:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8e56b987a64fd4b5635a412a8317106ee6c8821e', 'message': ""add release-notes URLs for some pike deliverables\n\nUpdate the deliverable files that have pike release notes\nalready. Some of the changes are normalization from rewriting the\nfiles. The only differences should be the order of items and the value\nof the 'release-notes' key.\n\nChange-Id: I9bd7ec180eee007d80297735688e7702a137153f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 3, 'created': '2017-07-31 21:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8b35e3ba575ec339581f59b19a28822138f35037', 'message': ""add release-notes URLs for some pike deliverables\n\nUpdate the deliverable files that have pike release notes\nalready. Some of the changes are normalization from rewriting the\nfiles. The only differences should be the order of items and the value\nof the 'release-notes' key.\n\nChange-Id: I9bd7ec180eee007d80297735688e7702a137153f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 4, 'created': '2017-08-01 14:30:58.000000000', 'files': ['deliverables/pike/oslo.i18n.yaml', 'deliverables/pike/oslo.cache.yaml', 'deliverables/pike/oslo.middleware.yaml', 'deliverables/pike/python-muranoclient.yaml', 'deliverables/pike/oslo.config.yaml', 'deliverables/pike/oslo.vmware.yaml', 'deliverables/pike/oslotest.yaml', 'deliverables/pike/os-brick.yaml', 'deliverables/pike/python-ironicclient.yaml', 'deliverables/pike/shade.yaml', 'deliverables/pike/taskflow.yaml', 'deliverables/pike/python-neutronclient.yaml', 'deliverables/pike/oslo.utils.yaml', 'deliverables/pike/python-mistralclient.yaml', 'deliverables/pike/oslo.log.yaml', 'deliverables/pike/os-service-types.yaml', 'deliverables/pike/oslo.policy.yaml', 'deliverables/pike/oslo.privsep.yaml', 'deliverables/pike/oslo.serialization.yaml', 'deliverables/pike/oslo.rootwrap.yaml', 'deliverables/pike/automaton.yaml', 'deliverables/pike/oslo.service.yaml', 'deliverables/pike/python-ironic-inspector-client.yaml', 'deliverables/pike/python-vitrageclient.yaml', 'deliverables/pike/os-client-config.yaml', 'deliverables/pike/oslo.reports.yaml', 'deliverables/pike/keystonemiddleware.yaml', 'deliverables/pike/oslo.db.yaml', 'deliverables/pike/oslo.versionedobjects.yaml', 'deliverables/pike/python-glanceclient.yaml', 'deliverables/pike/keystoneauth.yaml', 'deliverables/pike/python-manilaclient.yaml', 'deliverables/pike/futurist.yaml', 'deliverables/pike/oslo.concurrency.yaml', 'deliverables/pike/python-novaclient.yaml', 'deliverables/pike/oslosphinx.yaml', 'deliverables/pike/tooz.yaml', 'deliverables/pike/osc-lib.yaml', 'deliverables/pike/debtcollector.yaml', 'deliverables/pike/python-keystoneclient.yaml', 'deliverables/pike/stevedore.yaml', 'deliverables/pike/python-senlinclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c085ac75688e2288140c8c8021f428311d8c1ea8', 'message': ""add release-notes URLs for some pike deliverables\n\nUpdate the deliverable files that have pike release notes\nalready. Some of the changes are normalization from rewriting the\nfiles. The only differences should be the order of items and the value\nof the 'release-notes' key.\n\nChange-Id: I9bd7ec180eee007d80297735688e7702a137153f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,489403,c085ac75688e2288140c8c8021f428311d8c1ea8,12,3,4,2472,,,0,"add release-notes URLs for some pike deliverables

Update the deliverable files that have pike release notes
already. Some of the changes are normalization from rewriting the
files. The only differences should be the order of items and the value
of the 'release-notes' key.

Change-Id: I9bd7ec180eee007d80297735688e7702a137153f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/489403/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/oslo.i18n.yaml', 'deliverables/pike/oslo.cache.yaml', 'deliverables/pike/oslo.middleware.yaml', 'deliverables/pike/python-muranoclient.yaml', 'deliverables/pike/oslo.config.yaml', 'deliverables/pike/oslo.vmware.yaml', 'deliverables/pike/oslotest.yaml', 'deliverables/pike/os-brick.yaml', 'deliverables/pike/python-ironicclient.yaml', 'deliverables/pike/shade.yaml', 'deliverables/pike/taskflow.yaml', 'deliverables/pike/python-neutronclient.yaml', 'deliverables/pike/oslo.utils.yaml', 'deliverables/pike/python-mistralclient.yaml', 'deliverables/pike/oslo.log.yaml', 'deliverables/pike/os-service-types.yaml', 'deliverables/pike/oslo.policy.yaml', 'deliverables/pike/oslo.privsep.yaml', 'deliverables/pike/oslo.serialization.yaml', 'deliverables/pike/oslo.rootwrap.yaml', 'deliverables/pike/automaton.yaml', 'deliverables/pike/oslo.service.yaml', 'deliverables/pike/python-ironic-inspector-client.yaml', 'deliverables/pike/python-vitrageclient.yaml', 'deliverables/pike/os-client-config.yaml', 'deliverables/pike/oslo.reports.yaml', 'deliverables/pike/keystonemiddleware.yaml', 'deliverables/pike/oslo.db.yaml', 'deliverables/pike/oslo.versionedobjects.yaml', 'deliverables/pike/python-glanceclient.yaml', 'deliverables/pike/keystoneauth.yaml', 'deliverables/pike/python-manilaclient.yaml', 'deliverables/pike/futurist.yaml', 'deliverables/pike/oslo.concurrency.yaml', 'deliverables/pike/python-novaclient.yaml', 'deliverables/pike/oslosphinx.yaml', 'deliverables/pike/tooz.yaml', 'deliverables/pike/osc-lib.yaml', 'deliverables/pike/debtcollector.yaml', 'deliverables/pike/python-keystoneclient.yaml', 'deliverables/pike/stevedore.yaml', 'deliverables/pike/python-senlinclient.yaml']",42,850f53929ea6cd62f10ac34754e3894c0d7b4499,queens-indentation,branches: - location: 1.4.0 name: stable/pike include-pypi-link: yesrelease-notes: https://docs.openstack.org/releasenotes/python-senlinclient/pike.html releases: - projects: - hash: 2c6dce877e3d1c74b63f9c9a4a1a7d842ec9bcd5 repo: openstack/python-senlinclient version: 1.3.0 - projects: - hash: cfdf62a47031d6ad3a8bc88ea3c25c08e04865c8 repo: openstack/python-senlinclient version: 1.4.0,include-pypi-link: truereleases: - version: 1.3.0 projects: - repo: openstack/python-senlinclient hash: 2c6dce877e3d1c74b63f9c9a4a1a7d842ec9bcd5 - version: 1.4.0 projects: - repo: openstack/python-senlinclient hash: cfdf62a47031d6ad3a8bc88ea3c25c08e04865c8 branches: - name: stable/pike location: 1.4.0,1222,1201
openstack%2Freleases~master~Iff9aedb2faf888a5440e54b0a889140676e50f7b,openstack/releases,master,Iff9aedb2faf888a5440e54b0a889140676e50f7b,use edit-deliverable in script to set the release notes URLs,MERGED,2017-07-31 21:13:04.000000000,2017-08-01 17:50:05.000000000,2017-08-01 17:50:05.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a8ffbb1611cfd18168c15b36a2768077d9eb8403', 'message': 'use edit-deliverable in script to set the release notes URLs\n\nChange-Id: Iff9aedb2faf888a5440e54b0a889140676e50f7b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 21:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/94cf2d650cade5eacce19e613fd3db40b2394413', 'message': 'use edit-deliverable in script to set the release notes URLs\n\nChange-Id: Iff9aedb2faf888a5440e54b0a889140676e50f7b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:35:47.000000000', 'files': ['tools/add_release_note_links.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/62241c3755807910885c5b06b476b3deb190e96a', 'message': 'use edit-deliverable in script to set the release notes URLs\n\nChange-Id: Iff9aedb2faf888a5440e54b0a889140676e50f7b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489402,62241c3755807910885c5b06b476b3deb190e96a,10,3,3,2472,,,0,"use edit-deliverable in script to set the release notes URLs

Change-Id: Iff9aedb2faf888a5440e54b0a889140676e50f7b
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/489402/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/add_release_note_links.sh'],1,a8ffbb1611cfd18168c15b36a2768077d9eb8403,queens-indentation,"# Set up and activate the virtualenv that contains the # edit-deliverable command. tox -e venv --notest source .tox/venv/bin/activate echo edit-deliverable $SERIES $deliverable --release-notes ""$url"""," new_value=""release-notes: $url"" if grep -q ""$new_value"" $filename; then echo "" OK"" else # Remove any existing links, since they might point to the # ""unreleased"" page. sed -i -e '/release-notes/d' $filename # Add the link pointing to the series-specific page. sed -i -e ""/team:.*/a \ $new_value"" $filename echo "" updated"" fi",7,12
openstack%2Freleases~master~I7b4949d2e93bf6bdfd0080f42a0a3c32a9631750,openstack/releases,master,I7b4949d2e93bf6bdfd0080f42a0a3c32a9631750,add edit-deliverable command,MERGED,2017-07-31 21:13:04.000000000,2017-08-01 17:49:56.000000000,2017-08-01 17:49:56.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e25c563153c69a8de45dbb5e8b4ac8a8a4069c3a', 'message': 'add edit-deliverable command\n\nAdd a new command for making small changes to deliverable files. The\nfirst version knows how to set the release notes URL.\n\nChange-Id: I7b4949d2e93bf6bdfd0080f42a0a3c32a9631750\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 21:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/46fc5aa391c82aa490f2a9acf661b9d9321d9f38', 'message': 'add edit-deliverable command\n\nAdd a new command for making small changes to deliverable files. The\nfirst version knows how to set the release notes URL.\n\nChange-Id: I7b4949d2e93bf6bdfd0080f42a0a3c32a9631750\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:35:47.000000000', 'files': ['setup.cfg', 'openstack_releases/cmds/edit_deliverable.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/6080c4b5ae0f88f469b198ca573d3bbf73dc06e1', 'message': 'add edit-deliverable command\n\nAdd a new command for making small changes to deliverable files. The\nfirst version knows how to set the release notes URL.\n\nChange-Id: I7b4949d2e93bf6bdfd0080f42a0a3c32a9631750\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",2,489401,6080c4b5ae0f88f469b198ca573d3bbf73dc06e1,12,3,3,2472,,,0,"add edit-deliverable command

Add a new command for making small changes to deliverable files. The
first version knows how to set the release notes URL.

Change-Id: I7b4949d2e93bf6bdfd0080f42a0a3c32a9631750
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/489401/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'openstack_releases/cmds/edit_deliverable.py']",2,e25c563153c69a8de45dbb5e8b4ac8a8a4069c3a,queens-indentation,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import print_function import argparse import atexit import os import shutil import tempfile from openstack_releases import yamlutils import yaml def get_deliverable_data(series, deliverable): deliverable_filename = 'deliverables/%s/%s.yaml' % ( series, deliverable) with open(deliverable_filename, 'r') as f: return yaml.safe_load(f) def main(): parser = argparse.ArgumentParser() parser.add_argument( 'series', help='the name of the release series to scan', ) parser.add_argument( 'deliverable', help='the base name of the deliverable file', ) parser.add_argument( '--release-notes', help='the release-notes URL', ) args = parser.parse_args() # Allow for independent projects. series = args.series if series.lstrip('_') == 'independent': series = '_independent' # Load existing deliverable data. try: deliverable_info = get_deliverable_data( series, args.deliverable) except (IOError, OSError) as e: parser.error(e) changes = 0 if args.release_notes: deliverable_info['release-notes'] = args.release_notes changes += 1 if changes > 0: deliverable_filename = 'deliverables/%s/%s.yaml' % ( series, args.deliverable) with open(deliverable_filename, 'w', encoding='utf-8') as f: f.write(yamlutils.dumps(deliverable_info)) ",,74,0
openstack%2Fmanila~master~Ic3f985b445d0adfad725d24f49c42591f373d92b,openstack/manila,master,Ic3f985b445d0adfad725d24f49c42591f373d92b,Imported Translations from Zanata,MERGED,2017-08-01 07:59:37.000000000,2017-08-01 17:47:31.000000000,2017-08-01 16:30:37.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 21884}, {'_account_id': 22248}]","[{'number': 1, 'created': '2017-08-01 07:59:37.000000000', 'files': ['releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/manila/commit/bc46dc6142277073c0493ec2806dae341484a747', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ic3f985b445d0adfad725d24f49c42591f373d92b\n'}]",0,489520,bc46dc6142277073c0493ec2806dae341484a747,22,6,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Ic3f985b445d0adfad725d24f49c42591f373d92b
",git fetch https://review.opendev.org/openstack/manila refs/changes/20/489520/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po']",2,bc46dc6142277073c0493ec2806dae341484a747,zanata/translations,"""POT-Creation-Date: 2017-07-31 14:52+0000\n""","""POT-Creation-Date: 2017-07-29 18:55+0000\n""msgid ""'"" msgstr ""'"" msgid "","" msgstr "","" msgid ""."" msgstr ""."" msgid ""F"" msgstr ""F"" msgid ""_"" msgstr ""_"" msgid ""a"" msgstr ""a"" msgid ""b"" msgstr ""b"" msgid ""c"" msgstr ""c"" msgid ""d"" msgstr ""d"" msgid ""e"" msgstr ""e"" msgid ""f"" msgstr ""f"" msgid ""g"" msgstr ""g"" msgid ""h"" msgstr ""h"" msgid ""i"" msgstr ""i"" msgid ""k"" msgstr ""k"" msgid ""n"" msgstr ""n"" msgid ""o"" msgstr ""o"" msgid ""p"" msgstr ""p"" msgid ""q"" msgstr ""q"" msgid ""r"" msgstr ""r"" msgid ""s"" msgstr ""s"" msgid ""t"" msgstr ""t"" msgid ""u"" msgstr ""u"" msgid ""y"" msgstr ""y""",5,74
openstack%2Fsahara-dashboard~master~Icb669a9e999118f4d4302449d1b0d0ce2abb8c2c,openstack/sahara-dashboard,master,Icb669a9e999118f4d4302449d1b0d0ce2abb8c2c,Fix py27dj110 tox environment: really use Django 1.10,MERGED,2017-08-01 16:55:33.000000000,2017-08-01 17:44:56.000000000,2017-08-01 17:44:56.000000000,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 23078}]","[{'number': 1, 'created': '2017-08-01 16:55:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/33d9525c1d73743388e95e265a08c409df8eb57d', 'message': 'Fix py27dj110 tox environment: really use Django 1.10\n\nThat specific testenv was added before the release of Django 1.10,\nso the pip line was not capped and without this change tox installs\nthe last version (currently 1.11).\n\nChange-Id: Icb669a9e999118f4d4302449d1b0d0ce2abb8c2c\n'}]",0,489668,33d9525c1d73743388e95e265a08c409df8eb57d,8,3,1,10459,,,0,"Fix py27dj110 tox environment: really use Django 1.10

That specific testenv was added before the release of Django 1.10,
so the pip line was not capped and without this change tox installs
the last version (currently 1.11).

Change-Id: Icb669a9e999118f4d4302449d1b0d0ce2abb8c2c
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/68/489668/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,33d9525c1d73743388e95e265a08c409df8eb57d,fix-tox-d110,"commands = pip install django>=1.10,<1.11",commands = pip install django --pre --upgrade,1,1
openstack%2Fcinder~stable%2Fnewton~I9ec9282268adc80c947e18c34f34dc0fdd82b187,openstack/cinder,stable/newton,I9ec9282268adc80c947e18c34f34dc0fdd82b187,Switch to use stable data_utils,MERGED,2017-07-25 06:21:13.000000000,2017-08-01 17:41:49.000000000,2017-07-25 12:19:47.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6854}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 16595}, {'_account_id': 19554}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 26277}]","[{'number': 1, 'created': '2017-07-25 06:21:13.000000000', 'files': ['cinder/tests/tempest/api/volume/test_volume_unicode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b3ab80f1c457a123b4d059f9cb9a721d68bc9fd', 'message': 'Switch to use stable data_utils\n\nTempest provides stable library interfaces under tempest.lib.\nThis patch switches to use it for data_utils.\n\nChange-Id: I9ec9282268adc80c947e18c34f34dc0fdd82b187\n(cherry picked from commit 4a3082709e310f3cea88a2a92185723608f2d935)\n'}]",0,486901,1b3ab80f1c457a123b4d059f9cb9a721d68bc9fd,30,12,1,8556,,,0,"Switch to use stable data_utils

Tempest provides stable library interfaces under tempest.lib.
This patch switches to use it for data_utils.

Change-Id: I9ec9282268adc80c947e18c34f34dc0fdd82b187
(cherry picked from commit 4a3082709e310f3cea88a2a92185723608f2d935)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/486901/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/tempest/api/volume/test_volume_unicode.py'],1,1b3ab80f1c457a123b4d059f9cb9a721d68bc9fd,tempest-data_utils,from tempest.lib.common.utils import data_utils,from tempest.common.utils import data_utils,1,1
openstack%2Fshade~master~Ibe2b28d15a9a8de58e9605330e241328c1cd242b,openstack/shade,master,Ibe2b28d15a9a8de58e9605330e241328c1cd242b,Add Neutron QoS minimum bandwidth rule commands,MERGED,2017-07-31 20:47:38.000000000,2017-08-01 17:41:36.000000000,2017-08-01 17:41:36.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 16688}]","[{'number': 1, 'created': '2017-07-31 20:47:38.000000000', 'files': ['shade/tests/unit/test_qos_minimum_bandwidth_rule.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/99865c9f77b9825498d60c7895c9784ffdaf70f5', 'message': 'Add Neutron QoS minimum bandwidth rule commands\n\nCreate/Update/List/Get/Delete QoS minimum bandwidth\nrules is now possible to do with shade.\n\nChange-Id: Ibe2b28d15a9a8de58e9605330e241328c1cd242b\n'}]",1,489390,99865c9f77b9825498d60c7895c9784ffdaf70f5,7,3,1,11975,,,0,"Add Neutron QoS minimum bandwidth rule commands

Create/Update/List/Get/Delete QoS minimum bandwidth
rules is now possible to do with shade.

Change-Id: Ibe2b28d15a9a8de58e9605330e241328c1cd242b
",git fetch https://review.opendev.org/openstack/shade refs/changes/90/489390/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_qos_minimum_bandwidth_rule.py', 'shade/openstackcloud.py']",2,99865c9f77b9825498d60c7895c9784ffdaf70f5,task/4761/qos-min-bw," def search_qos_minimum_bandwidth_rules(self, policy_name_or_id, rule_id=None, filters=None): """"""Search QoS minimum bandwidth rules :param string policy_name_or_id: Name or ID of the QoS policy to which rules should be associated. :param string rule_id: ID of searched rule. :param filters: a dict containing additional filters to use. e.g. {'min_kbps': 1000} :returns: a list of ``munch.Munch`` containing the bandwidth limit rule descriptions. :raises: ``OpenStackCloudException`` if something goes wrong during the OpenStack API call. """""" rules = self.list_qos_minimum_bandwidth_rules( policy_name_or_id, filters) return _utils._filter_list(rules, rule_id, filters) def list_qos_minimum_bandwidth_rules(self, policy_name_or_id, filters=None): """"""List all available QoS minimum bandwith rules. :param string policy_name_or_id: Name or ID of the QoS policy from from rules should be listed. :param filters: (optional) dict of filter conditions to push down :returns: A list of ``munch.Munch`` containing rule info. :raises: ``OpenStackCloudResourceNotFound`` if QoS policy will not be found. """""" if not self._has_neutron_extension('qos'): raise OpenStackCloudUnavailableExtension( 'QoS extension is not available on target cloud') policy = self.get_qos_policy(policy_name_or_id) if not policy: raise OpenStackCloudResourceNotFound( ""QoS policy {name_or_id} not Found."".format( name_or_id=policy_name_or_id)) # Translate None from search interface to empty {} for kwargs below if not filters: filters = {} data = self._network_client.get( ""/qos/policies/{policy_id}/minimum_bandwidth_rules.json"".format( policy_id=policy['id']), params=filters, error_message=""Error fetching QoS minimum bandwith rules from "" ""{policy}"".format(policy=policy['id'])) return self._get_and_munchify('minimum_bandwidth_rules', data) def get_qos_minimum_bandwidth_rule(self, policy_name_or_id, rule_id): """"""Get a QoS minimum bandwidth rule by name or ID. :param string policy_name_or_id: Name or ID of the QoS policy to which rule should be associated. :param rule_id: ID of the rule. :returns: A bandwidth limit rule ``munch.Munch`` or None if no matching rule is found. """""" if not self._has_neutron_extension('qos'): raise OpenStackCloudUnavailableExtension( 'QoS extension is not available on target cloud') policy = self.get_qos_policy(policy_name_or_id) if not policy: raise OpenStackCloudResourceNotFound( ""QoS policy {name_or_id} not Found."".format( name_or_id=policy_name_or_id)) data = self._network_client.get( ""/qos/policies/{policy_id}/minimum_bandwidth_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id), error_message=""Error fetching QoS minimum_bandwith rule {rule_id} "" ""from {policy}"".format(rule_id=rule_id, policy=policy['id'])) return self._get_and_munchify('minimum_bandwidth_rule', data) def create_qos_minimum_bandwidth_rule(self, policy_name_or_id, min_kbps=None, direction=None): """"""Create a QoS minimum bandwidth limit rule. :param string policy_name_or_id: Name or ID of the QoS policy to which rule should be associated. :param int min_kbps: Minimum bandwidth value (in kilobits per second). :param string direction: Ingress or egress. The direction in which the traffic will be available. :returns: The QoS minimum bandwidth rule. :raises: OpenStackCloudException on operation error. """""" if not self._has_neutron_extension('qos'): raise OpenStackCloudUnavailableExtension( 'QoS extension is not available on target cloud') policy = self.get_qos_policy(policy_name_or_id) if not policy: raise OpenStackCloudResourceNotFound( ""QoS policy {name_or_id} not Found."".format( name_or_id=policy_name_or_id)) rule = {} if min_kbps: rule['min_kbps'] = min_kbps if direction: rule['direction'] = direction data = self._network_client.post( ""/qos/policies/{policy_id}/minimum_bandwidth_rules"".format( policy_id=policy['id']), json={'minimum_bandwidth_rule': rule}) return self._get_and_munchify('minimum_bandwidth_rule', data) def update_qos_minimum_bandwidth_rule(self, policy_name_or_id, rule_id, min_kbps=None, direction=None): """"""Update a QoS minimum bandwidth rule. :param string policy_name_or_id: Name or ID of the QoS policy to which rule is associated. :param string rule_id: ID of rule to update. :param int min_kbps: Minimum bandwidth value (in kilobits per second). :param string direction: Ingress or egress. The direction in which the traffic will be available. :returns: The updated QoS minimum bandwidth rule. :raises: OpenStackCloudException on operation error. """""" if not self._has_neutron_extension('qos'): raise OpenStackCloudUnavailableExtension( 'QoS extension is not available on target cloud') policy = self.get_qos_policy(policy_name_or_id) if not policy: raise OpenStackCloudResourceNotFound( ""QoS policy {name_or_id} not Found."".format( name_or_id=policy_name_or_id)) rule = {} if min_kbps: rule['min_kbps'] = min_kbps if direction: rule['direction'] = direction if not rule: self.log.debug(""No QoS minimum bandwidth rule data to update"") return curr_rule = self.get_qos_minimum_bandwidth_rule( policy_name_or_id, rule_id) if not curr_rule: raise OpenStackCloudException( ""QoS minimum_bandwidth_rule {rule_id} not found in policy "" ""{policy_id}"".format(rule_id=rule_id, policy_id=policy['id'])) data = self._network_client.put( ""/qos/policies/{policy_id}/minimum_bandwidth_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id), json={'minimum_bandwidth_rule': rule}) return self._get_and_munchify('minimum_bandwidth_rule', data) def delete_qos_minimum_bandwidth_rule(self, policy_name_or_id, rule_id): """"""Delete a QoS minimum bandwidth rule. :param string policy_name_or_id: Name or ID of the QoS policy to which rule is associated. :param string rule_id: ID of rule to delete. :raises: OpenStackCloudException on operation error. """""" if not self._has_neutron_extension('qos'): raise OpenStackCloudUnavailableExtension( 'QoS extension is not available on target cloud') policy = self.get_qos_policy(policy_name_or_id) if not policy: raise OpenStackCloudResourceNotFound( ""QoS policy {name_or_id} not Found."".format( name_or_id=policy_name_or_id)) try: self._network_client.delete( ""/qos/policies/{policy}/minimum_bandwidth_rules/{rule}.json"". format(policy=policy['id'], rule=rule_id)) except OpenStackCloudURINotFound: self.log.debug( ""QoS minimum bandwidth rule {rule_id} not found in policy "" ""{policy_id}. Ignoring."".format(rule_id=rule_id, policy_id=policy['id'])) return False return True ",,492,0
openstack%2Fshade~master~I7fb5add36af09cc22084c8c034bf9f3cd0fbb442,openstack/shade,master,I7fb5add36af09cc22084c8c034bf9f3cd0fbb442,router: Ignore L3 HA ports when listing interfaces,MERGED,2017-07-10 14:00:36.000000000,2017-08-01 17:41:31.000000000,2017-08-01 17:41:31.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 7350}, {'_account_id': 7787}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-07-10 14:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/a629a45a84b2ad205d47e29dae6b1c76ee9e39d0', 'message': 'router: Ignore L3 HA ports when listing interfaces\n\nL3 HA ports do not correspond to a router interface and should be\nignored when listing these interfaces.\n\nChange-Id: I7fb5add36af09cc22084c8c034bf9f3cd0fbb442\n'}, {'number': 2, 'created': '2017-07-11 13:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/c41e8fc5db498993628744cf37fbad56150a8e35', 'message': 'router: Ignore L3 HA ports when listing interfaces\n\nL3 HA ports do not correspond to a router interface and should be\nignored when listing these interfaces.\n\nChange-Id: I7fb5add36af09cc22084c8c034bf9f3cd0fbb442\n'}, {'number': 3, 'created': '2017-07-26 11:44:23.000000000', 'files': ['shade/tests/unit/test_router.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/a4fdee57310f9bca644e84e43787f04c5996ab98', 'message': 'router: Ignore L3 HA ports when listing interfaces\n\nL3 HA ports do not correspond to a router interface and should be\nignored when listing these interfaces.\n\nChange-Id: I7fb5add36af09cc22084c8c034bf9f3cd0fbb442\n'}]",7,482153,a4fdee57310f9bca644e84e43787f04c5996ab98,22,8,3,10135,,,0,"router: Ignore L3 HA ports when listing interfaces

L3 HA ports do not correspond to a router interface and should be
ignored when listing these interfaces.

Change-Id: I7fb5add36af09cc22084c8c034bf9f3cd0fbb442
",git fetch https://review.opendev.org/openstack/shade refs/changes/53/482153/3 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_router.py', 'shade/openstackcloud.py']",2,a629a45a84b2ad205d47e29dae6b1c76ee9e39d0,, # L3 HA ports are not router interfaces so remove them before we filter ports = [port for port in ports if 'HA port' not in port['name']] ,,15,1
openstack%2Fshade~master~Ie2e117935e12b9fb56c0b6070924786f9693421e,openstack/shade,master,Ie2e117935e12b9fb56c0b6070924786f9693421e,Use more specific asserts in tests,MERGED,2017-08-01 08:18:32.000000000,2017-08-01 17:39:51.000000000,2017-08-01 17:39:51.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-01 08:18:32.000000000', 'files': ['shade/tests/unit/test_meta.py', 'shade/tests/functional/test_range_search.py', 'shade/tests/unit/test_shade_operator.py', 'shade/tests/functional/test_floating_ip_pool.py', 'shade/tests/functional/test_cluster_templates.py', 'shade/tests/functional/test_port.py', 'shade/tests/functional/test_identity.py', 'shade/tests/functional/test_flavor.py', 'shade/tests/functional/test_compute.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/05b0fe25ccb82b69a986a1ebda3b65506c73b5d1', 'message': 'Use more specific asserts in tests\n\nInstead of assertTrue and assertFalse use more specific asserts.\nThey are compatible with Python 2.7[1] and 3.5[2]\n\n[1]: https://docs.python.org/2.7/library/unittest.html\n[2]: https://docs.python.org/3.5/library/unittest.html\n\nChange-Id: Ie2e117935e12b9fb56c0b6070924786f9693421e\n'}]",0,489524,05b0fe25ccb82b69a986a1ebda3b65506c73b5d1,10,3,1,18603,,,0,"Use more specific asserts in tests

Instead of assertTrue and assertFalse use more specific asserts.
They are compatible with Python 2.7[1] and 3.5[2]

[1]: https://docs.python.org/2.7/library/unittest.html
[2]: https://docs.python.org/3.5/library/unittest.html

Change-Id: Ie2e117935e12b9fb56c0b6070924786f9693421e
",git fetch https://review.opendev.org/openstack/shade refs/changes/24/489524/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_meta.py', 'shade/tests/functional/test_range_search.py', 'shade/tests/unit/test_shade_operator.py', 'shade/tests/functional/test_floating_ip_pool.py', 'shade/tests/functional/test_cluster_templates.py', 'shade/tests/functional/test_port.py', 'shade/tests/functional/test_flavor.py', 'shade/tests/functional/test_identity.py', 'shade/tests/functional/test_compute.py']",9,05b0fe25ccb82b69a986a1ebda3b65506c73b5d1,, self.assertTrue(server['has_config_drive']) self.assertFalse(server['has_config_drive']) self.assertTrue(volume['bootable']) self.assertTrue(volume['bootable'])," self.assertEqual(True, server['has_config_drive']) self.assertEqual(False, server['has_config_drive']) self.assertEqual(True, volume['bootable']) self.assertEqual(True, volume['bootable'])",30,30
openstack%2Fproject-config~master~Ia9164fa0b06a2b97e04d6d7365f150ee53091a2b,openstack/project-config,master,Ia9164fa0b06a2b97e04d6d7365f150ee53091a2b,Add openstack-dev/sandbox to zuulv3.o.o,MERGED,2017-08-01 16:54:00.000000000,2017-08-01 17:39:34.000000000,2017-08-01 17:39:34.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-08-01 16:54:00.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7de86bce9e4ad3a9bc4153653eea062efef467a0', 'message': 'Add openstack-dev/sandbox to zuulv3.o.o\n\nWe need a project where we can tag (pre-)releases, add sandbox so we\ncan do just that.\n\nChange-Id: Ia9164fa0b06a2b97e04d6d7365f150ee53091a2b\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,489667,7de86bce9e4ad3a9bc4153653eea062efef467a0,7,3,1,4162,,,0,"Add openstack-dev/sandbox to zuulv3.o.o

We need a project where we can tag (pre-)releases, add sandbox so we
can do just that.

Change-Id: Ia9164fa0b06a2b97e04d6d7365f150ee53091a2b
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/67/489667/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,7de86bce9e4ad3a9bc4153653eea062efef467a0,, - openstack-dev/sandbox,,1,0
openstack%2Fnetworking-sfc~master~Ic2af2e746a2ca0905480adfa4a9ffe537234aff9,openstack/networking-sfc,master,Ic2af2e746a2ca0905480adfa4a9ffe537234aff9,Updated from global requirements,MERGED,2017-07-27 19:13:33.000000000,2017-08-01 17:34:02.000000000,2017-08-01 17:34:02.000000000,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 21798}]","[{'number': 1, 'created': '2017-07-27 19:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/4dd1523f336f91eef4347efa11d5d5ffd30f50fe', 'message': 'Updated from global requirements\n\nChange-Id: Ic2af2e746a2ca0905480adfa4a9ffe537234aff9\n'}, {'number': 2, 'created': '2017-07-29 21:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/87a9c14d35fbc475626990d9c8ab79ecf5618013', 'message': 'Updated from global requirements\n\nChange-Id: Ic2af2e746a2ca0905480adfa4a9ffe537234aff9\n'}, {'number': 3, 'created': '2017-08-01 02:58:00.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/9fe187798a74c5bc978960ac6e248cc64fd86fe2', 'message': 'Updated from global requirements\n\nChange-Id: Ic2af2e746a2ca0905480adfa4a9ffe537234aff9\n'}]",0,488028,9fe187798a74c5bc978960ac6e248cc64fd86fe2,14,5,3,11131,,,0,"Updated from global requirements

Change-Id: Ic2af2e746a2ca0905480adfa4a9ffe537234aff9
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/28/488028/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4dd1523f336f91eef4347efa11d5d5ffd30f50fe,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Fosprofiler~master~I36d3457d36e5b831343409748e2e97b377e0cc92,openstack/osprofiler,master,I36d3457d36e5b831343409748e2e97b377e0cc92,Add loading local static files option of template.html,MERGED,2017-07-18 08:36:02.000000000,2017-08-01 17:25:35.000000000,2017-08-01 17:25:35.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 6172}, {'_account_id': 9008}, {'_account_id': 9545}, {'_account_id': 10068}, {'_account_id': 22960}, {'_account_id': 23630}, {'_account_id': 26025}, {'_account_id': 26178}]","[{'number': 1, 'created': '2017-07-18 08:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/0b02c14c5c2a7cff03993048e560114526f99017', 'message': ""Add loading local static files option of template.html\n\nwhen rendering template.html, static files can be loaded from local path '/libs' by using include_libs args.\n\nChange-Id: I36d3457d36e5b831343409748e2e97b377e0cc92\n""}, {'number': 2, 'created': '2017-07-30 03:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/c5f0d1d9ce9294eb75680dba59817f9c89d07f04', 'message': ""Add loading local static files option of template.html\n\nwhen rendering template.html, static files can be loaded from local path '/libs' by using include_libs args.\n\nChange-Id: I36d3457d36e5b831343409748e2e97b377e0cc92\n""}, {'number': 3, 'created': '2017-07-31 01:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/4a885bc471202ee95263d51d0e583c8394126af6', 'message': ""Add loading local static files option of template.html\n\nwhen rendering template.html, static files can be loaded from local path '/libs' by using include_libs args.\n\nChange-Id: I36d3457d36e5b831343409748e2e97b377e0cc92\n""}, {'number': 4, 'created': '2017-07-31 04:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/a0674a3243270464f8352bd0af976c4d872eed2d', 'message': ""Add loading local static files option of template.html\n\nwhen rendering template.html, static files can be loaded from local path '/libs' by using include_libs args.\n\nChange-Id: I36d3457d36e5b831343409748e2e97b377e0cc92\n""}, {'number': 5, 'created': '2017-07-31 07:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/97fbd5d7c4488a4e6d614365fd35e31c72b6a9dc', 'message': ""Add loading local static files option of template.html\n\nwhen rendering template.html, static files can be loaded from local path '/libs' by using include_libs args.\n\nChange-Id: I36d3457d36e5b831343409748e2e97b377e0cc92\n""}, {'number': 6, 'created': '2017-08-01 03:43:02.000000000', 'files': ['osprofiler/cmd/template.html', 'osprofiler/cmd/commands.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/30c35a1afe667c25ef4c5efe037f28b0409109a8', 'message': ""Add loading local static files option of template.html\n\nwhen rendering template.html, static files can be loaded from local path '/libs' by using include_libs args.\n\nChange-Id: I36d3457d36e5b831343409748e2e97b377e0cc92\n""}]",22,484671,30c35a1afe667c25ef4c5efe037f28b0409109a8,39,10,6,26025,,,0,"Add loading local static files option of template.html

when rendering template.html, static files can be loaded from local path '/libs' by using include_libs args.

Change-Id: I36d3457d36e5b831343409748e2e97b377e0cc92
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/71/484671/6 && git format-patch -1 --stdout FETCH_HEAD,['osprofiler/cmd/template.html'],1,0b02c14c5c2a7cff03993048e560114526f99017,," {% if include_libs %} <style> {{ include_raw_file(""/libs/bootstrap.min.css"") }} {{ include_raw_file(""/libs/github.min.css"") }} </style> <script type=""text/javascript""> {{ include_raw_file(""/libs/angular.min.js"") }} {{ include_raw_file(""/libs/ui-bootstrap-tpls-2.3.1.min.js"") }} {{ include_raw_file(""/libs/highlight.min.js"") }} {{ include_raw_file(""/libs/angular-highlightjs.min.js"") }} </script> {% else %} {% endif %}",,13,0
openstack%2Fcinder~master~I180ee85d3ef8d19851641ded16574ffbff1059d9,openstack/cinder,master,I180ee85d3ef8d19851641ded16574ffbff1059d9,Add cinder backup service initialize check,MERGED,2017-03-16 13:37:32.000000000,2017-08-01 17:22:47.000000000,2017-07-25 22:42:57.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13167}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19904}, {'_account_id': 19933}, {'_account_id': 20140}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23602}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-03-16 13:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/62b6161ae27db1e9d44521dd2315ac2d59815cd7', 'message': 'WIP: Add cinder backup service initialize check\nChecked only for swift driver (not thoroughly).\n\n1. Added initialize check at the service startup;\n2. Added swift get_backup_driver method workaround without\ninitialization during getting SwiftDriverObject;\n3. Added to backup manager service\'s is_working method redefinition;\n4. Added is_working check to backup manager\'s create and delete methods;\n5. Correct _update_backup_error method to have an opportunity set\n""ERROR_DELETING"" or another status;\n\nTODO:\n0. Assure that everything is ok with swift and the other drivers;\n1. Make swift driver workaround not so ugly :(\n2. Fix unit tests for this patch;\n3. Add all remaining for this spec\'s [0] requirements;\n4. Address all \'-1\'/\'-2\' review comments :)\n5. Change return code for backup-(subcommand) call when service is down\n\n[0] - https://review.openstack.org/#/c/367439/\n\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nCloses-Bug: #1598709\nImplements: blueprint backup-init\n'}, {'number': 2, 'created': '2017-03-24 16:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f5da2dc5f0154b1905fb77bcfc378e6cf58d918', 'message': 'WIP: Add cinder backup service initialize check\nChecked only for swift driver (not thoroughly).\n\n1. Added initialize check at the service startup;\n2. Added swift get_backup_driver method workaround without\ninitialization during getting SwiftDriverObject;\n3. Added to backup manager service\'s is_working method redefinition;\n4. Added is_working check to backup manager\'s create and delete methods;\n5. Correct _update_backup_error method to have an opportunity set\n""ERROR_DELETING"" or another status;\n\nTODO:\n0. Assure that everything is ok with swift and the other drivers;\n1. Make swift driver workaround not so ugly :(\n2. Fix unit tests for this patch;\n3. Add all remaining for this spec\'s [0] requirements;\n4. Address all \'-1\'/\'-2\' review comments :)\n5. Change return code for backup-(subcommand) call when service is down\n\n[0] - https://review.openstack.org/#/c/367439/\n\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nCloses-Bug: #1598709\nImplements: blueprint backup-init\n'}, {'number': 3, 'created': '2017-05-12 13:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/feb098a59ce0ae81d55fba6dfd76e057bae231bd', 'message': 'WIP: Add cinder backup service initialize check\nChecked only for swift driver (not thoroughly).\n\n1. Added initialize check at the service startup;\n3. Added to backup manager service\'s is_working method redefinition;\n4. Added is_working check to backup manager\'s create and delete methods;\n5. Correct _update_backup_error method to have an opportunity set\n""ERROR_DELETING"" or another status;\n\nTODO:\n0. Assure that everything is ok with swift and the other drivers;\n1. Fix reset_status for backups (we can reset it to error state. don\'t need it\nfor error_deleting status, but for the other variants);\n2. Fix unit tests for this patch;\n3. Add all remaining for this spec\'s [0] requirements;\n4. Address all \'-1\'/\'-2\' review comments :)\n5. Change return code for backup-(subcommand) call when service is down\n\n[0] - https://review.openstack.org/#/c/367439/\n\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nCloses-Bug: #1598709\nImplements: blueprint backup-init\n'}, {'number': 4, 'created': '2017-06-08 14:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e2511675fe183ab1b707bac44e79993dde099e58', 'message': '(WIP) Add cinder backup service initialize check\n\nChecked only for swift driver (not thoroughly).\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service\'s is_working method redefinition;\n3. Added is_working check to backup manager\'s create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n""ERROR_DELETING"" or another status;\n\nTODO:\n0. Assure that everything is ok with swift and the other drivers;\n1. Add all remaining for this spec\'s [0] requirements;\n2. Change return code for backup-(subcommand) call when service is down;\n3. Need to improve tests coverage;\n4. Improve NOTE comments;\n\n[0] - https://review.openstack.org/#/c/367439/\n\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n'}, {'number': 5, 'created': '2017-06-12 09:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab0df1b2589e861151b2778725cecccf3f3ef595', 'message': '(WIP) Add cinder backup service initialize check\n\nChecked only for swift driver (not thoroughly).\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service\'s is_working method redefinition;\n3. Added is_working check to backup manager\'s create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n""ERROR_DELETING"" or another status;\n\nTODO:\n0. Assure that everything is ok with swift and the other drivers;\n1. Add all remaining for this spec\'s [0] requirements;\n2. Change return code for backup-(subcommand) call when service is down;\n3. Need to improve tests coverage;\n4. Improve NOTE comments;\n\n[0] - https://review.openstack.org/#/c/367439/\n\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n'}, {'number': 6, 'created': '2017-06-30 09:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4eaf8bf4d18989487928d85b82c4e3124410142', 'message': '(WIP) Add cinder backup service initialize check\n\nChecked only for swift driver (not thoroughly).\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service\'s is_working method redefinition;\n3. Added is_working check to backup manager\'s create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n""ERROR_DELETING"" or another status;\n\nTODO:\n0. Assure that everything is ok with swift and the other drivers;\n1. Add all remaining for this spec\'s [0] requirements;\n2. Change return code for backup-(subcommand) call when service is down;\n3. Need to improve tests coverage;\n4. Improve NOTE comments;\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n'}, {'number': 7, 'created': '2017-06-30 12:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e8eb91516efa8b0cdb997bc11fd912197b09ea65', 'message': '(WIP) Add cinder backup service initialize check\n\nChecked only for swift driver (not thoroughly).\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service\'s is_working method redefinition;\n3. Added is_working check to backup manager\'s create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n""ERROR_DELETING"" or another status;\n\nTODO:\n0. Assure that everything is ok with swift and the other drivers;\n1. Add all remaining for this spec\'s [0] requirements;\n2. Change return code for backup-(subcommand) call when service is down;\n3. Need to improve tests coverage;\n4. Improve NOTE comments;\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n'}, {'number': 8, 'created': '2017-07-04 18:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a69c5f64d8695a54402a7db24e7ced233cfd6b4', 'message': ""(WIP) Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\nTODO:\n1. Add all remaining for this spec's [0] requirements;\n2. Need to improve tests coverage;\n3. Improve NOTE comments;\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}, {'number': 9, 'created': '2017-07-04 18:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/729aef6fe85657bd7d630129dd332bcd7a131248', 'message': ""(WIP) Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\nTODO:\n1. Add all remaining for this spec's [0] requirements;\n2. Need to improve tests coverage;\n3. Improve NOTE comments;\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}, {'number': 10, 'created': '2017-07-06 10:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65d913c76f64679b95444a0ebfc1d8a522b9ca2c', 'message': ""(WIP) Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\nTODO:\n1. Need to improve tests coverage;\n2. Improve NOTE comments;\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}, {'number': 11, 'created': '2017-07-06 10:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4df2e4a7f5d72a3788f0f359102bac1590b47c8', 'message': ""(WIP) Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\nTODO:\n1. Need to improve tests coverage;\n2. Improve NOTE comments;\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}, {'number': 12, 'created': '2017-07-14 14:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db65cd6127aa025356f3e3a09d54a443f242300c', 'message': ""Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}, {'number': 13, 'created': '2017-07-25 08:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7cb0f35fa452f67743a55dcb32b2fda0e14ed38f', 'message': ""Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}, {'number': 14, 'created': '2017-07-25 09:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ca53892a00a0c541bd5c92e2771c33628f208c5', 'message': ""Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}, {'number': 15, 'created': '2017-07-25 10:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d26bdf5e6ce56afd46770546b60a4746126cd9a8', 'message': ""Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}, {'number': 16, 'created': '2017-07-25 10:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7fed42089b148036c5f62e4aa4009b5a4e3dc9d7', 'message': ""Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}, {'number': 17, 'created': '2017-07-25 12:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb2abc8840ed9c97afe5b70a0f74ae79e215deac', 'message': ""Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}, {'number': 18, 'created': '2017-07-25 13:56:52.000000000', 'files': ['cinder/backup/manager.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/tests/unit/backup/drivers/test_backup_glusterfs.py', 'cinder/backup/drivers/google.py', 'cinder/backup/driver.py', 'cinder/tests/unit/api/contrib/test_backups.py', 'cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/interface/backup_driver.py', 'cinder/backup/drivers/swift.py', 'cinder/api/contrib/backups.py', 'cinder/backup/drivers/glusterfs.py', 'cinder/backup/drivers/ceph.py', 'cinder/backup/drivers/nfs.py', 'cinder/backup/drivers/tsm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d1825bb7cfa42a562a5b15e9f2402bfce4647b8', 'message': ""Add cinder backup service initialize check\n\n1. Added initialize check at the service startup;\n2. Added to backup manager service's is_working method redefinition;\n3. Added is_working check to backup manager's create and delete methods;\n4. Correct _update_backup_error method to have an opportunity set\n5. Change return code for backup-(subcommand) call when service is down\nto 503 Service Unavailable\n\n[0] - https://review.openstack.org/#/c/367439/\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9\nImplements: blueprint backup-init\n""}]",39,446518,0d1825bb7cfa42a562a5b15e9f2402bfce4647b8,358,64,18,23602,,,0,"Add cinder backup service initialize check

1. Added initialize check at the service startup;
2. Added to backup manager service's is_working method redefinition;
3. Added is_working check to backup manager's create and delete methods;
4. Correct _update_backup_error method to have an opportunity set
5. Change return code for backup-(subcommand) call when service is down
to 503 Service Unavailable

[0] - https://review.openstack.org/#/c/367439/

Co-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>
Change-Id: I180ee85d3ef8d19851641ded16574ffbff1059d9
Implements: blueprint backup-init
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/446518/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/manager.py', 'cinder/backup/drivers/swift.py', 'cinder/backup/driver.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",4,62b6161ae27db1e9d44521dd2315ac2d59815cd7,bp/backup-init," backup = swift_dr.SwiftBackupDriver(self.ctxt) # self.assertRaises(exception.BackupDriverException, # swift_dr.SwiftBackupDriver, # self.ctxt) backup._initialize) backup = swift_dr.SwiftBackupDriver(self.ctxt) backup._initialize()"," swift_dr.SwiftBackupDriver, self.ctxt) swift_dr.SwiftBackupDriver(self.ctxt)",90,6
openstack%2Fkolla-ansible~stable%2Focata~I079d5ec6178018403ec7a49c975f137e27eb9ad4,openstack/kolla-ansible,stable/ocata,I079d5ec6178018403ec7a49c975f137e27eb9ad4,Assume the container is removed if it is not show in docker ps,MERGED,2017-07-28 06:31:17.000000000,2017-08-01 17:22:38.000000000,2017-08-01 17:22:38.000000000,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 22582}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-07-28 06:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/17506f76f97bb760c2272db9b8ba9a9c819b5eb0', 'message': 'Stop container before container is removed\n\nChange-Id: I079d5ec6178018403ec7a49c975f137e27eb9ad4\n'}, {'number': 2, 'created': '2017-07-28 08:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c74061f4a807d5512bcd83190dce3ba397fadb4a', 'message': 'Assume the container is removed if it is not show in docker ps\n\nIn some case, docker can not remove container and raise following error\nmessage:\n\n    Unable to remove filesystem for xxx remove\n    /var/lib/docker/containers/xxx/shm: device or resource busy\n\nBut the container is removed. This patch assumes container is\nremoved if only container name is not shown in docker ps.\n\nCloses-Bug: #1662598\nChange-Id: I079d5ec6178018403ec7a49c975f137e27eb9ad4\n'}, {'number': 3, 'created': '2017-07-31 13:26:16.000000000', 'files': ['ansible/library/kolla_docker.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8cf51b3fe5b7bfc1fe6776bdeb07c607cd8baf39', 'message': 'Assume the container is removed if it is not show in docker ps\n\nIn some case, docker can not remove container and raise following error\nmessage:\n\n    Unable to remove filesystem for xxx remove\n    /var/lib/docker/containers/xxx/shm: device or resource busy\n\nBut the container is removed. This patch assumes container is\nremoved if only container name is not shown in docker ps.\n\nCloses-Bug: #1662598\nChange-Id: I079d5ec6178018403ec7a49c975f137e27eb9ad4\n(cherry picked from commit ea1ae405ba6255cdde2af88fb000fd3b79ea3af1)\n'}]",0,488306,8cf51b3fe5b7bfc1fe6776bdeb07c607cd8baf39,18,5,3,7488,,,0,"Assume the container is removed if it is not show in docker ps

In some case, docker can not remove container and raise following error
message:

    Unable to remove filesystem for xxx remove
    /var/lib/docker/containers/xxx/shm: device or resource busy

But the container is removed. This patch assumes container is
removed if only container name is not shown in docker ps.

Closes-Bug: #1662598
Change-Id: I079d5ec6178018403ec7a49c975f137e27eb9ad4
(cherry picked from commit ea1ae405ba6255cdde2af88fb000fd3b79ea3af1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/488306/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/library/kolla_docker.py'],1,17506f76f97bb760c2272db9b8ba9a9c819b5eb0,bug/1662598, self.stop_container() self.stop_container() self.stop_container(),,3,0
openstack%2Fosprofiler~master~I3a13bb9ff180be5e3f767aa71fed985d990856ab,openstack/osprofiler,master,I3a13bb9ff180be5e3f767aa71fed985d990856ab,Remove unused parameters from Profiler class,MERGED,2017-06-21 15:41:48.000000000,2017-08-01 17:22:30.000000000,2017-08-01 17:22:30.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 5950}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 22501}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-06-21 15:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/a8f21c2eebc2b8a17a7eef54bcdf263654c2d50f', 'message': 'Remove unused parameters from Profiler class\n\nProfiler class is declared to accept \'project\', \'service\'\nand \'connection_str\' parameters, which actually have never\nbe used. This leads to null values inside \'info\' dict in\ntrace data, e.g. to following:\n\n        ""meta.raw_payload.wsgi-stop"": {\n          ""info"": {\n            ""project"": null,\n            ""host"": ""allinone172.butterfly.org"",\n            ""service"": null\n          },\n        }\n\nValues for \'service\' and \'project\' are injected by notifier\ninto \'payload\' section of tracing event.\n\nChange-Id: I3a13bb9ff180be5e3f767aa71fed985d990856ab\n'}, {'number': 2, 'created': '2017-07-31 08:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/4ae9f820a437e75c49295fada92534b27f0031c3', 'message': 'Remove unused parameters from Profiler class\n\nProfiler class is declared to accept \'project\', \'service\'\nand \'connection_str\' parameters, which actually have never\nbeen used. This leads to null values inside \'info\' dict in\ntrace data, e.g. to following:\n\n        ""meta.raw_payload.wsgi-stop"": {\n          ""info"": {\n            ""project"": null,\n            ""host"": ""allinone172.butterfly.org"",\n            ""service"": null\n          },\n        }\n\nTrue values for \'service\' and \'project\' are injected by\nnotifier into \'payload\' section of tracing event.\n\nChange-Id: I3a13bb9ff180be5e3f767aa71fed985d990856ab\n'}, {'number': 3, 'created': '2017-07-31 13:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/2da17c8d1a39e82bb2fbab0660c6f804c244ed1d', 'message': 'Remove unused parameters from Profiler class\n\nProfiler class is declared to accept \'project\', \'service\'\nand \'connection_str\' parameters, which actually have never\nbeen used. This leads to null values inside \'info\' dict in\ntrace data, e.g. to following:\n\n        ""meta.raw_payload.wsgi-stop"": {\n          ""info"": {\n            ""project"": null,\n            ""host"": ""allinone172.butterfly.org"",\n            ""service"": null\n          },\n        }\n\nTrue values for \'service\' and \'project\' are injected by\nnotifier into \'payload\' section of tracing event.\n\nChange-Id: I3a13bb9ff180be5e3f767aa71fed985d990856ab\n'}, {'number': 4, 'created': '2017-07-31 15:59:56.000000000', 'files': ['osprofiler/profiler.py', 'osprofiler/tests/functional/test_driver.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/362c4f7b19a4715810f5c6ad64a239a1f5f1cb08', 'message': 'Remove unused parameters from Profiler class\n\nProfiler class is declared to accept \'project\', \'service\'\nand \'connection_str\' parameters, which actually have never\nbeen used. This leads to null values inside \'info\' dict in\ntrace data, e.g. to following:\n\n        ""meta.raw_payload.wsgi-stop"": {\n          ""info"": {\n            ""project"": null,\n            ""host"": ""allinone172.butterfly.org"",\n            ""service"": null\n          },\n        }\n\nTrue values for \'service\' and \'project\' are injected by\nnotifier into \'payload\' section of tracing event.\n\nChange-Id: I3a13bb9ff180be5e3f767aa71fed985d990856ab\n'}]",8,476186,362c4f7b19a4715810f5c6ad64a239a1f5f1cb08,36,7,4,5950,,,0,"Remove unused parameters from Profiler class

Profiler class is declared to accept 'project', 'service'
and 'connection_str' parameters, which actually have never
been used. This leads to null values inside 'info' dict in
trace data, e.g. to following:

        ""meta.raw_payload.wsgi-stop"": {
          ""info"": {
            ""project"": null,
            ""host"": ""allinone172.butterfly.org"",
            ""service"": null
          },
        }

True values for 'service' and 'project' are injected by
notifier into 'payload' section of tracing event.

Change-Id: I3a13bb9ff180be5e3f767aa71fed985d990856ab
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/86/476186/4 && git format-patch -1 --stdout FETCH_HEAD,['osprofiler/profiler.py'],1,a8f21c2eebc2b8a17a7eef54bcdf263654c2d50f,cleanup,"def init(hmac_key, base_id=None, parent_id=None): parent_id=parent_id) def __init__(self, hmac_key, base_id=None, parent_id=None):","def init(hmac_key, base_id=None, parent_id=None, connection_str=None, project=None, service=None): :param connection_str: Connection string to the backend to use for notifications. :param project: Project name that is under profiling :param service: Service name that is under profiling parent_id=parent_id, connection_str=connection_str, project=project, service=service) def __init__(self, hmac_key, base_id=None, parent_id=None, connection_str=None, project=None, service=None): self._connection_str = connection_str self._project = project self._service = service info[""project""] = self._project info[""service""] = self._service info[""project""] = self._project info[""service""] = self._service",3,18
openstack%2Fosprofiler~stable%2Fpike~I50a6639ecee38ae937a106af8cccf33374f00b5d,openstack/osprofiler,stable/pike,I50a6639ecee38ae937a106af8cccf33374f00b5d,Update .gitreview for stable/pike,MERGED,2017-07-28 21:06:02.000000000,2017-08-01 17:22:24.000000000,2017-08-01 17:22:24.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-07-28 21:06:02.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/638b62094b3a59ac977856e9db65a8d58f90b5d9', 'message': 'Update .gitreview for stable/pike\n\nChange-Id: I50a6639ecee38ae937a106af8cccf33374f00b5d\n'}]",0,488739,638b62094b3a59ac977856e9db65a8d58f90b5d9,9,3,1,22816,,,0,"Update .gitreview for stable/pike

Change-Id: I50a6639ecee38ae937a106af8cccf33374f00b5d
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/39/488739/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,638b62094b3a59ac977856e9db65a8d58f90b5d9,create-pike,defaultbranch=stable/pike,,1,0
openstack%2Ftripleo-heat-templates~master~I81fcf453fc1aaa2545e0ed24013f0f13b240a102,openstack/tripleo-heat-templates,master,I81fcf453fc1aaa2545e0ed24013f0f13b240a102,Add missing metadata_settings from docker services,MERGED,2017-07-31 15:23:13.000000000,2017-08-01 17:20:06.000000000,2017-08-01 17:20:06.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-07-31 15:23:13.000000000', 'files': ['docker/services/nova-placement.yaml', 'docker/services/nova-api.yaml', 'docker/services/cinder-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3ee5965fd1dab46fc9054e5b2b48adfea6e5304', 'message': 'Add missing metadata_settings from docker services\n\nThese are needed for the TLS everywhere bits.\n\nChange-Id: I81fcf453fc1aaa2545e0ed24013f0f13b240a102\n'}]",0,489255,e3ee5965fd1dab46fc9054e5b2b48adfea6e5304,17,5,1,10873,,,0,"Add missing metadata_settings from docker services

These are needed for the TLS everywhere bits.

Change-Id: I81fcf453fc1aaa2545e0ed24013f0f13b240a102
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/489255/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-placement.yaml', 'docker/services/nova-api.yaml', 'docker/services/cinder-api.yaml']",3,e3ee5965fd1dab46fc9054e5b2b48adfea6e5304,fix-tls-containers," metadata_settings: get_attr: [CinderBase, role_data, metadata_settings]",,6,0
openstack%2Fosprofiler~master~Ie2df1cd81429813539f628dce1f928e6b213c1a1,openstack/osprofiler,master,Ie2df1cd81429813539f628dce1f928e6b213c1a1,Update reno for stable/pike,MERGED,2017-07-28 21:06:03.000000000,2017-08-01 17:17:47.000000000,2017-08-01 17:17:47.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-07-28 21:06:03.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/8dee13ccba03949996d961d40db8064aa6ba5b2a', 'message': 'Update reno for stable/pike\n\nChange-Id: Ie2df1cd81429813539f628dce1f928e6b213c1a1\n'}]",0,488740,8dee13ccba03949996d961d40db8064aa6ba5b2a,11,3,1,22816,,,0,"Update reno for stable/pike

Change-Id: Ie2df1cd81429813539f628dce1f928e6b213c1a1
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/40/488740/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,8dee13ccba03949996d961d40db8064aa6ba5b2a,reno-pike, pike,,7,0
openstack%2Finstallguide-cookiecutter~master~I2cf38c9b471008b09772b19b782b06bdcd24f76a,openstack/installguide-cookiecutter,master,I2cf38c9b471008b09772b19b782b06bdcd24f76a,Removal of installguide-cookiecutter,MERGED,2017-08-01 12:20:28.000000000,2017-08-01 17:14:58.000000000,2017-08-01 14:39:12.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 21723}]","[{'number': 1, 'created': '2017-08-01 12:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/installguide-cookiecutter/commit/c34b186597943d60778e577ffa66e8b145dfffc3', 'message': 'Removal of installguide-cookiecutter\n\nIn the Pike document structure installguide is merged\ninto the doc folder and handled by the project\ncookiecutter [1]. There is no need for an installguide\nspecific cookiecutter anymore.\n\n[1]: https://review.openstack.org/#/c/482504/\n\nChange-Id: I2cf38c9b471008b09772b19b782b06bdcd24f76a\nSigned-off-by: csatari <gergely.csatari@nokia.com>\n'}, {'number': 2, 'created': '2017-08-01 12:27:05.000000000', 'files': ['{{cookiecutter.directory_name}}/source/index.rst', '{{cookiecutter.directory_name}}/source/verify.rst', '{{cookiecutter.directory_name}}/source/common_configure.rst', '{{cookiecutter.directory_name}}/source/install-ubuntu.rst', 'README.rst', '{{cookiecutter.directory_name}}/source/install.rst', '{{cookiecutter.directory_name}}/source/install-rdo.rst', 'cookiecutter.json', '{{cookiecutter.directory_name}}/source/install-obs.rst', '{{cookiecutter.directory_name}}/source/common_prerequisites.rst', '{{cookiecutter.directory_name}}/source/conf.py', '{{cookiecutter.directory_name}}/source/get_started.rst', '{{cookiecutter.directory_name}}/source/next-steps.rst'], 'web_link': 'https://opendev.org/openstack/installguide-cookiecutter/commit/e22d2e3d933843dbe1d83a13e241aa1a8d72e6fe', 'message': 'Removal of installguide-cookiecutter\n\nIn the Pike document structure installguide is merged\ninto the doc folder and handled by the project\ncookiecutter [1]. There is no need for an installguide\nspecific cookiecutter anymore.\n\n[1]: https://review.openstack.org/#/c/482504/\n\nChange-Id: I2cf38c9b471008b09772b19b782b06bdcd24f76a\nSigned-off-by: csatari <gergely.csatari@nokia.com>\n'}]",2,489582,e22d2e3d933843dbe1d83a13e241aa1a8d72e6fe,12,4,2,21723,,,0,"Removal of installguide-cookiecutter

In the Pike document structure installguide is merged
into the doc folder and handled by the project
cookiecutter [1]. There is no need for an installguide
specific cookiecutter anymore.

[1]: https://review.openstack.org/#/c/482504/

Change-Id: I2cf38c9b471008b09772b19b782b06bdcd24f76a
Signed-off-by: csatari <gergely.csatari@nokia.com>
",git fetch https://review.opendev.org/openstack/installguide-cookiecutter refs/changes/82/489582/1 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.directory_name}}/source/index.rst', '{{cookiecutter.directory_name}}/source/verify.rst', '{{cookiecutter.directory_name}}/source/common_configure.rst', '{{cookiecutter.directory_name}}/source/install-ubuntu.rst', 'README.rst', '{{cookiecutter.directory_name}}/source/install.rst', '{{cookiecutter.directory_name}}/source/install-rdo.rst', 'cookiecutter.json', '{{cookiecutter.directory_name}}/source/install-obs.rst', '{{cookiecutter.directory_name}}/source/common_prerequisites.rst', '{{cookiecutter.directory_name}}/source/conf.py', '{{cookiecutter.directory_name}}/source/get_started.rst', '{{cookiecutter.directory_name}}/source/next-steps.rst']",13,c34b186597943d60778e577ffa66e8b145dfffc3,removal,,".. _next-steps: Next steps ~~~~~~~~~~ Your OpenStack environment now includes the {{cookiecutter.codename}} service. To add additional services, see https://docs.openstack.org/project-install-guide/ocata/. ",10,606
openstack%2Freleases~master~I819957b86294c515a8ea1526f12ac44fd2a50ad1,openstack/releases,master,I819957b86294c515a8ea1526f12ac44fd2a50ad1,remove obsolete tool script for adding team names,MERGED,2017-07-31 21:13:04.000000000,2017-08-01 16:54:54.000000000,2017-08-01 16:54:54.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2dbaf31fb5f07674eb6c70872dd9c40dd05c0f31', 'message': 'remove obsolete tool script for adding team names\n\nChange-Id: I819957b86294c515a8ea1526f12ac44fd2a50ad1\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 21:27:38.000000000', 'files': ['tools/add_teams_to_deliverable_files.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/baf36c6230a04d82a5b8ad0a056eb52f5c2d8b2e', 'message': 'remove obsolete tool script for adding team names\n\nChange-Id: I819957b86294c515a8ea1526f12ac44fd2a50ad1\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489400,baf36c6230a04d82a5b8ad0a056eb52f5c2d8b2e,9,3,2,2472,,,0,"remove obsolete tool script for adding team names

Change-Id: I819957b86294c515a8ea1526f12ac44fd2a50ad1
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/489400/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/add_teams_to_deliverable_files.sh'],1,2dbaf31fb5f07674eb6c70872dd9c40dd05c0f31,queens-indentation,,"#!/bin/sh # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # Try to add team fields to deliverable files that don't have them. list-deliverables | while read team deliverable; do for filename in deliverables/*/${deliverable}.yaml; do if [ -f $filename ]; then if grep -q '^team:' $filename; then continue fi echo $filename sed -i ""/^launchpad:/a team: $team"" $filename fi done done ",0,26
openstack%2Freleases~master~Ie53eade7f782e24150ba2f0bbcfeebf869e4ac17,openstack/releases,master,Ie53eade7f782e24150ba2f0bbcfeebf869e4ac17,add linter rules for vertical whitespace,MERGED,2017-07-28 20:37:30.000000000,2017-08-01 16:54:48.000000000,2017-08-01 16:54:48.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-28 20:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/43acf50c1641d41e135da85741fd85c64470527f', 'message': 'add linter rules for vertical whitespace\n\nChange-Id: Ie53eade7f782e24150ba2f0bbcfeebf869e4ac17\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/91c83493365a624801b6994478d24e9923887ed5', 'message': 'add linter rules for vertical whitespace\n\nChange-Id: Ie53eade7f782e24150ba2f0bbcfeebf869e4ac17\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ef32d6e0ddd438811408299589c9292961e36ff7', 'message': 'add linter rules for vertical whitespace\n\nChange-Id: Ie53eade7f782e24150ba2f0bbcfeebf869e4ac17\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f037454f8e84c31b300c7337f9e7f0fc9f3f130b', 'message': 'add linter rules for vertical whitespace\n\nChange-Id: Ie53eade7f782e24150ba2f0bbcfeebf869e4ac17\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2017-07-31 21:27:38.000000000', 'files': ['yamllint.yml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ddb0af27d5558ad0b3fb5c99b955f624cc3dff1', 'message': 'add linter rules for vertical whitespace\n\nChange-Id: Ie53eade7f782e24150ba2f0bbcfeebf869e4ac17\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,488608,0ddb0af27d5558ad0b3fb5c99b955f624cc3dff1,15,3,5,2472,,,0,"add linter rules for vertical whitespace

Change-Id: Ie53eade7f782e24150ba2f0bbcfeebf869e4ac17
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/488608/4 && git format-patch -1 --stdout FETCH_HEAD,['yamllint.yml'],1,43acf50c1641d41e135da85741fd85c64470527f,queens-indentation, new-line-at-end-of-file: enable trailing-spaces: enable,,2,0
openstack%2Freleases~master~Idef3574021845bccfc92c75425bc0f40b32b0026,openstack/releases,master,Idef3574021845bccfc92c75425bc0f40b32b0026,standardize indentation at 2 spaces,MERGED,2017-07-28 20:37:30.000000000,2017-08-01 16:54:47.000000000,2017-08-01 16:54:47.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-28 20:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/54f09efc2b695a0b79fdad15dcb79257b1a0aee8', 'message': 'standardize indentation at 2 spaces\n\nUpdate the linter rules to require 2 spaces. Update our dumper to emit\n2 spaces.\n\nChange-Id: Idef3574021845bccfc92c75425bc0f40b32b0026\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/343a93c7e64f1df52c74a6ef231f2f88cf8d041a', 'message': 'standardize indentation at 2 spaces\n\nUpdate the linter rules to require 2 spaces. Update our dumper to emit\n2 spaces.\n\nChange-Id: Idef3574021845bccfc92c75425bc0f40b32b0026\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bdbfdaed395a5633f51511331fdbaa83fc004b06', 'message': 'standardize indentation at 2 spaces\n\nUpdate the linter rules to require 2 spaces. Update our dumper to emit\n2 spaces.\n\nChange-Id: Idef3574021845bccfc92c75425bc0f40b32b0026\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e1fcf05ac6f4fc376b756a1296bc10b5cb44afbc', 'message': 'standardize indentation at 2 spaces\n\nUpdate the linter rules to require 2 spaces. Update our dumper to emit\n2 spaces.\n\nChange-Id: Idef3574021845bccfc92c75425bc0f40b32b0026\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2017-07-31 21:27:38.000000000', 'files': ['yamllint.yml', 'openstack_releases/yamlutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/4891bea8c52e78048396a5e604c0c478f91d90ae', 'message': 'standardize indentation at 2 spaces\n\nUpdate the linter rules to require 2 spaces. Update our dumper to emit\n2 spaces.\n\nChange-Id: Idef3574021845bccfc92c75425bc0f40b32b0026\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,488607,4891bea8c52e78048396a5e604c0c478f91d90ae,15,3,5,2472,,,0,"standardize indentation at 2 spaces

Update the linter rules to require 2 spaces. Update our dumper to emit
2 spaces.

Change-Id: Idef3574021845bccfc92c75425bc0f40b32b0026
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/488607/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/yamlutils.py', 'yamllint.yml']",2,54f09efc2b695a0b79fdad15dcb79257b1a0aee8,queens-indentation, indentation: spaces: 2 ,,11,0
openstack%2Freleases~master~I2e33d62bcd5d43ef6b928e2d9cae685b492b588b,openstack/releases,master,I2e33d62bcd5d43ef6b928e2d9cae685b492b588b,normalize misc deliverable files,MERGED,2017-07-31 20:35:04.000000000,2017-08-01 16:54:37.000000000,2017-08-01 16:54:37.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/54f8169d57fa6b250fd75156006b1732fa112451', 'message': 'normalize misc deliverable files\n\nChange-Id: I2e33d62bcd5d43ef6b928e2d9cae685b492b588b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8643307d981dd242cb6ff83ebdf999a6031a33c4', 'message': 'normalize misc deliverable files\n\nChange-Id: I2e33d62bcd5d43ef6b928e2d9cae685b492b588b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3deb05b7102c6c8a52e1d9917fdf0db6056e600b', 'message': 'normalize misc deliverable files\n\nChange-Id: I2e33d62bcd5d43ef6b928e2d9cae685b492b588b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-07-31 21:27:38.000000000', 'files': ['deliverables/pike/pycadf.yaml', 'deliverables/pike/keystonemiddleware.yaml', 'deliverables/newton/osc-lib.yaml', 'deliverables/ocata/osc-lib.yaml', 'deliverables/pike/karbor-dashboard.yaml', 'deliverables/ocata/osprofiler.yaml', 'deliverables/newton/keystone.yaml', 'deliverables/newton/pycadf.yaml', 'deliverables/newton/keystoneauth.yaml', 'deliverables/ocata/keystonemiddleware.yaml', 'deliverables/ocata/pycadf.yaml', 'deliverables/newton/keystonemiddleware.yaml', 'deliverables/ocata/keystoneauth.yaml', 'deliverables/pike/karbor.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cd690c2e358f0942049ee3e6f946297d0cc3352c', 'message': 'normalize misc deliverable files\n\nChange-Id: I2e33d62bcd5d43ef6b928e2d9cae685b492b588b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489389,cd690c2e358f0942049ee3e6f946297d0cc3352c,13,3,4,2472,,,0,"normalize misc deliverable files

Change-Id: I2e33d62bcd5d43ef6b928e2d9cae685b492b588b
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/489389/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/pycadf.yaml', 'deliverables/pike/keystonemiddleware.yaml', 'deliverables/newton/osc-lib.yaml', 'deliverables/ocata/osc-lib.yaml', 'deliverables/pike/karbor-dashboard.yaml', 'deliverables/ocata/osprofiler.yaml', 'deliverables/newton/keystone.yaml', 'deliverables/newton/pycadf.yaml', 'deliverables/newton/keystoneauth.yaml', 'deliverables/ocata/keystonemiddleware.yaml', 'deliverables/ocata/pycadf.yaml', 'deliverables/newton/keystonemiddleware.yaml', 'deliverables/ocata/keystoneauth.yaml', 'deliverables/pike/karbor.yaml']",14,54f8169d57fa6b250fd75156006b1732fa112451,queens-indentation, - version: 0.3.0 projects: - repo: openstack/karbor hash: 539e3ade1e5429d67d0b7eb0019e009683a27f16 - version: 0.4.0 projects: - repo: openstack/karbor hash: 5516e645ca0abf9b0917ab0267fc53b54c4e7687,- version: 0.3.0 projects: - repo: openstack/karbor hash: 539e3ade1e5429d67d0b7eb0019e009683a27f16 - version: 0.4.0 projects: - repo: openstack/karbor hash: 5516e645ca0abf9b0917ab0267fc53b54c4e7687,344,344
openstack%2Freleases~master~I25fd30f78f0fc05719a33a11423b33825bf530e5,openstack/releases,master,I25fd30f78f0fc05719a33a11423b33825bf530e5,normalize puppet deliverable files,MERGED,2017-07-31 20:35:04.000000000,2017-08-01 16:54:31.000000000,2017-08-01 16:54:31.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f12238383573f5269950346cc9f403b03158a8f9', 'message': 'normalize puppet deliverable files\n\nChange-Id: I25fd30f78f0fc05719a33a11423b33825bf530e5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b19cbb5f2e489f6c977a4f94c78e46fa632590d9', 'message': 'normalize puppet deliverable files\n\nChange-Id: I25fd30f78f0fc05719a33a11423b33825bf530e5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d29d875f6fb0b5b15724abe1e17dc99601afd5a3', 'message': 'normalize puppet deliverable files\n\nChange-Id: I25fd30f78f0fc05719a33a11423b33825bf530e5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-07-31 21:27:38.000000000', 'files': ['deliverables/ocata/puppet-sahara.yaml', 'deliverables/ocata/puppet-tempest.yaml', 'deliverables/pike/puppet-cinder.yaml', 'deliverables/pike/puppet-keystone.yaml', 'deliverables/ocata/puppet-ec2api.yaml', 'deliverables/pike/puppet-ironic.yaml', 'deliverables/ocata/puppet-barbican.yaml', 'deliverables/pike/puppet-vswitch.yaml', 'deliverables/ocata/puppet-magnum.yaml', 'deliverables/pike/puppet-horizon.yaml', 'deliverables/ocata/puppet-horizon.yaml', 'deliverables/ocata/puppet-openstack_extras.yaml', 'deliverables/pike/puppet-mistral.yaml', 'deliverables/ocata/puppet-octavia.yaml', 'deliverables/pike/puppet-openstacklib.yaml', 'deliverables/ocata/puppet-panko.yaml', 'deliverables/ocata/puppet-zaqar.yaml', 'deliverables/pike/puppet-trove.yaml', 'deliverables/pike/puppet-tempest.yaml', 'deliverables/pike/puppet-ovn.yaml', 'deliverables/ocata/puppet-congress.yaml', 'deliverables/ocata/puppet-swift.yaml', 'deliverables/pike/puppet-openstack_extras.yaml', 'deliverables/ocata/puppet-ceilometer.yaml', 'deliverables/pike/puppet-magnum.yaml', 'deliverables/pike/puppet-watcher.yaml', 'deliverables/ocata/puppet-neutron.yaml', 'deliverables/ocata/puppet-trove.yaml', 'deliverables/pike/puppet-heat.yaml', 'deliverables/pike/puppet-murano.yaml', 'deliverables/pike/puppet-barbican.yaml', 'deliverables/ocata/puppet-glance.yaml', 'deliverables/pike/puppet-octavia.yaml', 'deliverables/ocata/puppet-cinder.yaml', 'deliverables/pike/puppet-panko.yaml', 'deliverables/ocata/puppet-tripleo.yaml', 'deliverables/pike/puppet-sahara.yaml', 'deliverables/ocata/puppet-ironic.yaml', 'deliverables/pike/puppet-oslo.yaml', 'deliverables/pike/puppet-ec2api.yaml', 'deliverables/ocata/puppet-nova.yaml', 'deliverables/pike/puppet-gnocchi.yaml', 'deliverables/pike/puppet-tacker.yaml', 'deliverables/ocata/puppet-ovn.yaml', 'deliverables/ocata/puppet-heat.yaml', 'deliverables/pike/puppet-swift.yaml', 'deliverables/ocata/puppet-vswitch.yaml', 'deliverables/ocata/puppet-designate.yaml', 'deliverables/pike/puppet-zaqar.yaml', 'deliverables/pike/puppet-manila.yaml', 'deliverables/ocata/puppet-mistral.yaml', 'deliverables/pike/puppet-glance.yaml', 'deliverables/pike/puppet-nova.yaml', 'deliverables/ocata/puppet-murano.yaml', 'deliverables/ocata/puppet-oslo.yaml', 'deliverables/pike/puppet-aodh.yaml', 'deliverables/pike/puppet-designate.yaml', 'deliverables/pike/puppet-tripleo.yaml', 'deliverables/ocata/puppet-aodh.yaml', 'deliverables/ocata/puppet-gnocchi.yaml', 'deliverables/pike/puppet-ceilometer.yaml', 'deliverables/ocata/puppet-tacker.yaml', 'deliverables/ocata/puppet-watcher.yaml', 'deliverables/pike/puppet-congress.yaml', 'deliverables/pike/puppet-neutron.yaml', 'deliverables/ocata/puppet-openstacklib.yaml', 'deliverables/ocata/puppet-keystone.yaml', 'deliverables/ocata/puppet-manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5e4c42ac0dea9772b4ec60d61bccb4245a0f1c0e', 'message': 'normalize puppet deliverable files\n\nChange-Id: I25fd30f78f0fc05719a33a11423b33825bf530e5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489388,5e4c42ac0dea9772b4ec60d61bccb4245a0f1c0e,13,3,4,2472,,,0,"normalize puppet deliverable files

Change-Id: I25fd30f78f0fc05719a33a11423b33825bf530e5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/489388/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/puppet-sahara.yaml', 'deliverables/ocata/puppet-tempest.yaml', 'deliverables/pike/puppet-cinder.yaml', 'deliverables/pike/puppet-keystone.yaml', 'deliverables/ocata/puppet-ec2api.yaml', 'deliverables/pike/puppet-ironic.yaml', 'deliverables/ocata/puppet-barbican.yaml', 'deliverables/pike/puppet-vswitch.yaml', 'deliverables/ocata/puppet-magnum.yaml', 'deliverables/pike/puppet-horizon.yaml', 'deliverables/ocata/puppet-horizon.yaml', 'deliverables/ocata/puppet-openstack_extras.yaml', 'deliverables/pike/puppet-mistral.yaml', 'deliverables/ocata/puppet-octavia.yaml', 'deliverables/pike/puppet-openstacklib.yaml', 'deliverables/ocata/puppet-panko.yaml', 'deliverables/ocata/puppet-zaqar.yaml', 'deliverables/pike/puppet-trove.yaml', 'deliverables/pike/puppet-tempest.yaml', 'deliverables/pike/puppet-ovn.yaml', 'deliverables/ocata/puppet-congress.yaml', 'deliverables/ocata/puppet-swift.yaml', 'deliverables/pike/puppet-openstack_extras.yaml', 'deliverables/ocata/puppet-ceilometer.yaml', 'deliverables/pike/puppet-magnum.yaml', 'deliverables/pike/puppet-watcher.yaml', 'deliverables/ocata/puppet-neutron.yaml', 'deliverables/ocata/puppet-trove.yaml', 'deliverables/pike/puppet-heat.yaml', 'deliverables/pike/puppet-murano.yaml', 'deliverables/pike/puppet-barbican.yaml', 'deliverables/ocata/puppet-glance.yaml', 'deliverables/pike/puppet-octavia.yaml', 'deliverables/ocata/puppet-cinder.yaml', 'deliverables/pike/puppet-panko.yaml', 'deliverables/ocata/puppet-tripleo.yaml', 'deliverables/pike/puppet-sahara.yaml', 'deliverables/ocata/puppet-ironic.yaml', 'deliverables/pike/puppet-oslo.yaml', 'deliverables/pike/puppet-ec2api.yaml', 'deliverables/ocata/puppet-nova.yaml', 'deliverables/pike/puppet-gnocchi.yaml', 'deliverables/pike/puppet-tacker.yaml', 'deliverables/ocata/puppet-ovn.yaml', 'deliverables/ocata/puppet-heat.yaml', 'deliverables/pike/puppet-swift.yaml', 'deliverables/ocata/puppet-vswitch.yaml', 'deliverables/ocata/puppet-designate.yaml', 'deliverables/pike/puppet-zaqar.yaml', 'deliverables/pike/puppet-manila.yaml', 'deliverables/ocata/puppet-mistral.yaml', 'deliverables/pike/puppet-glance.yaml', 'deliverables/pike/puppet-nova.yaml', 'deliverables/ocata/puppet-murano.yaml', 'deliverables/ocata/puppet-oslo.yaml', 'deliverables/pike/puppet-aodh.yaml', 'deliverables/pike/puppet-designate.yaml', 'deliverables/pike/puppet-tripleo.yaml', 'deliverables/ocata/puppet-aodh.yaml', 'deliverables/ocata/puppet-gnocchi.yaml', 'deliverables/pike/puppet-ceilometer.yaml', 'deliverables/ocata/puppet-tacker.yaml', 'deliverables/ocata/puppet-watcher.yaml', 'deliverables/pike/puppet-congress.yaml', 'deliverables/pike/puppet-neutron.yaml', 'deliverables/ocata/puppet-openstacklib.yaml', 'deliverables/ocata/puppet-keystone.yaml', 'deliverables/ocata/puppet-manila.yaml']",68,f12238383573f5269950346cc9f403b03158a8f9,queens-indentation,team: 'Puppet OpenStack' - name: stable/ocata location: 10.3.0 releases: - version: 10.0.0 projects: - repo: openstack/puppet-manila hash: 6f1779fe25df4f1b2b4cce0313f7ac5b190f5ea8 - version: 10.1.0 projects: - repo: openstack/puppet-manila hash: 50fc09c38214f6a917f18ff6fe6394e747b5c92f - version: 10.2.0 projects: - repo: openstack/puppet-manila hash: fa721a73491ae8425d6e2327c3645f0508de0246 - version: 10.3.0 projects: - repo: openstack/puppet-manila hash: f799c2df055175c69d0be6d0b6903f7067d328d8 - version: 10.3.1 projects: - repo: openstack/puppet-manila hash: 6f77e846af4673f7c0242505673c554675ea35a5,team: Puppet OpenStack- name: stable/ocata location: 10.3.0 releases: - version: 10.0.0 projects: - repo: openstack/puppet-manila hash: 6f1779fe25df4f1b2b4cce0313f7ac5b190f5ea8 - version: 10.1.0 projects: - repo: openstack/puppet-manila hash: 50fc09c38214f6a917f18ff6fe6394e747b5c92f - version: 10.2.0 projects: - repo: openstack/puppet-manila hash: fa721a73491ae8425d6e2327c3645f0508de0246 - version: 10.3.0 projects: - repo: openstack/puppet-manila hash: f799c2df055175c69d0be6d0b6903f7067d328d8 - version: 10.3.1 projects: - repo: openstack/puppet-manila hash: 6f77e846af4673f7c0242505673c554675ea35a5,1210,1210
openstack%2Fmurano~master~If3b6a2c71498c19a0a8dfeb4c51e2c80e5a918f4,openstack/murano,master,If3b6a2c71498c19a0a8dfeb4c51e2c80e5a918f4,Handle available volume client versions,MERGED,2017-07-28 21:03:58.000000000,2017-08-01 16:53:08.000000000,2017-08-01 16:53:08.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-07-28 21:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/3e5a4d616602a98c3a46ad2392548f1eed19312a', 'message': 'Handle available volume client versions\n\nIf Cinder is not available or Cinder v1 only is available skip\nvolume attachment tests. Else prefer volume v3 where available\nor fallback to v2 otherwise.\n\nThis requires a Tempest patch for the snapshots v3 client.\n\nChange-Id: If3b6a2c71498c19a0a8dfeb4c51e2c80e5a918f4\nDepends-on: I21f07f7b3e8f22055e7978c0bf4aa01b80b493d9\n'}, {'number': 2, 'created': '2017-07-28 22:59:18.000000000', 'files': ['murano_tempest_tests/tests/scenario/application_catalog/base.py', 'murano_tempest_tests/tests/scenario/application_catalog/test_cinder_volumes.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/12beb64c78a01c6f5716b51868776316f634f032', 'message': 'Handle available volume client versions\n\nIf Cinder is not available or Cinder v1 only is available skip\nvolume attachment tests. Else prefer volume v3 where available\nor fallback to v2 otherwise.\n\nThis requires a Tempest patch for the snapshots v3 client.\n\nChange-Id: If3b6a2c71498c19a0a8dfeb4c51e2c80e5a918f4\nDepends-on: I21f07f7b3e8f22055e7978c0bf4aa01b80b493d9\n'}]",5,488656,12beb64c78a01c6f5716b51868776316f634f032,16,5,2,1921,,,0,"Handle available volume client versions

If Cinder is not available or Cinder v1 only is available skip
volume attachment tests. Else prefer volume v3 where available
or fallback to v2 otherwise.

This requires a Tempest patch for the snapshots v3 client.

Change-Id: If3b6a2c71498c19a0a8dfeb4c51e2c80e5a918f4
Depends-on: I21f07f7b3e8f22055e7978c0bf4aa01b80b493d9
",git fetch https://review.opendev.org/openstack/murano refs/changes/56/488656/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano_tempest_tests/tests/scenario/application_catalog/base.py', 'murano_tempest_tests/tests/scenario/application_catalog/test_cinder_volumes.py']",2,3e5a4d616602a98c3a46ad2392548f1eed19312a,volume_clients," def skip_checks(cls): super(TestCinderVolumes, cls).skip_checks() if not CONF.service_enabled.cinder: msg = ""Cinder is not available. Skipping volumes attachment tests"" raise cls.skipException(msg) if (not CONF.volume_feature_enabled.api_v3 and not CONF.volume_feature_enabled.api_v2): msg = (""Neither cinder v2 nor v3 are not available. Skipping"" ""volumes attachment tests"") raise cls.skipException(msg) @classmethod def setup_clients(cls): super(TestCinderVolumes, cls).setup_clients() # Prefer volume v3 which is the current version if CONF.volume_feature_enabled.api_v3: _volume = cls.services_manager.volume_v3 elif CONF.volume_feature_enabled.api_v2: _volume = cls.services_manager.volume_v2 cls.volumes_client = _volume.VolumesClient() cls.backups_client = _volume.BackupsClient() cls.snapshots_client = _volume.SnapshotsClient() @classmethod",,24,3
openstack%2Freleases~master~Ic5994787fe5f214de7b0e241fc2faeab64f4839b,openstack/releases,master,Ic5994787fe5f214de7b0e241fc2faeab64f4839b,normalize tripleo deliverable files,MERGED,2017-07-31 20:35:04.000000000,2017-08-01 16:50:46.000000000,2017-08-01 16:50:46.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/80b8d4d5dc0235a7a35aba1ffd1e9f4e1c51cc10', 'message': 'normalize tripleo deliverable files\n\nChange-Id: Ic5994787fe5f214de7b0e241fc2faeab64f4839b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d35e7075548844aec4c61c915e4afc3bf8dc85d6', 'message': 'normalize tripleo deliverable files\n\nChange-Id: Ic5994787fe5f214de7b0e241fc2faeab64f4839b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6988e9414c98e29553e1565331990595e56c1d1b', 'message': 'normalize tripleo deliverable files\n\nChange-Id: Ic5994787fe5f214de7b0e241fc2faeab64f4839b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-07-31 21:27:38.000000000', 'files': ['deliverables/ocata/instack-undercloud.yaml', 'deliverables/pike/tripleo-quickstart.yaml', 'deliverables/newton/instack-undercloud.yaml', 'deliverables/pike/os-apply-config.yaml', 'deliverables/newton/tripleo-heat-templates.yaml', 'deliverables/newton/tripleo-ui.yaml', 'deliverables/ocata/os-apply-config.yaml', 'deliverables/pike/tripleo-ui.yaml', 'deliverables/pike/os-service-types.yaml', 'deliverables/pike/tripleo-puppet-elements.yaml', 'deliverables/newton/tripleo-validations.yaml', 'deliverables/newton/instack.yaml', 'deliverables/ocata/tripleo-image-elements.yaml', 'deliverables/newton/tripleo-image-elements.yaml', 'deliverables/pike/os-collect-config.yaml', 'deliverables/pike/os-refresh-config.yaml', 'deliverables/newton/tripleo-common.yaml', 'deliverables/ocata/os-refresh-config.yaml', 'deliverables/pike/tripleo-image-elements.yaml', 'deliverables/ocata/tripleo-validations.yaml', 'deliverables/newton/os-collect-config.yaml', 'deliverables/ocata/tripleo-heat-templates.yaml', 'deliverables/newton/os-net-config.yaml', 'deliverables/newton/os-refresh-config.yaml', 'deliverables/ocata/os-collect-config.yaml', 'deliverables/ocata/os-net-config.yaml', 'deliverables/newton/os-apply-config.yaml', 'deliverables/pike/os-net-config.yaml', 'deliverables/pike/osprofiler.yaml', 'deliverables/pike/tripleo-validations.yaml', 'deliverables/pike/instack.yaml', 'deliverables/pike/tripleo-heat-templates.yaml', 'deliverables/ocata/tripleo-common.yaml', 'deliverables/ocata/tripleo-puppet-elements.yaml', 'deliverables/ocata/tripleo-ui.yaml', 'deliverables/pike/instack-undercloud.yaml', 'deliverables/pike/tripleo-common.yaml', 'deliverables/newton/puppet-tripleo.yaml', 'deliverables/newton/tripleo-puppet-elements.yaml', 'deliverables/ocata/instack.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/86bf1f4596240c0fd9af098d998b472d5db03d93', 'message': 'normalize tripleo deliverable files\n\nChange-Id: Ic5994787fe5f214de7b0e241fc2faeab64f4839b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489387,86bf1f4596240c0fd9af098d998b472d5db03d93,13,3,4,2472,,,0,"normalize tripleo deliverable files

Change-Id: Ic5994787fe5f214de7b0e241fc2faeab64f4839b
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/489387/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/instack-undercloud.yaml', 'deliverables/pike/tripleo-quickstart.yaml', 'deliverables/newton/instack-undercloud.yaml', 'deliverables/pike/os-apply-config.yaml', 'deliverables/newton/tripleo-heat-templates.yaml', 'deliverables/newton/tripleo-ui.yaml', 'deliverables/ocata/os-apply-config.yaml', 'deliverables/pike/tripleo-ui.yaml', 'deliverables/pike/os-service-types.yaml', 'deliverables/pike/tripleo-puppet-elements.yaml', 'deliverables/newton/tripleo-validations.yaml', 'deliverables/newton/instack.yaml', 'deliverables/ocata/tripleo-image-elements.yaml', 'deliverables/newton/tripleo-image-elements.yaml', 'deliverables/pike/os-collect-config.yaml', 'deliverables/pike/os-refresh-config.yaml', 'deliverables/newton/tripleo-common.yaml', 'deliverables/ocata/os-refresh-config.yaml', 'deliverables/pike/tripleo-image-elements.yaml', 'deliverables/ocata/tripleo-validations.yaml', 'deliverables/newton/os-collect-config.yaml', 'deliverables/ocata/tripleo-heat-templates.yaml', 'deliverables/newton/os-net-config.yaml', 'deliverables/newton/os-refresh-config.yaml', 'deliverables/ocata/os-collect-config.yaml', 'deliverables/ocata/os-net-config.yaml', 'deliverables/newton/os-apply-config.yaml', 'deliverables/pike/os-net-config.yaml', 'deliverables/pike/osprofiler.yaml', 'deliverables/pike/tripleo-validations.yaml', 'deliverables/pike/instack.yaml', 'deliverables/pike/tripleo-heat-templates.yaml', 'deliverables/ocata/tripleo-common.yaml', 'deliverables/ocata/tripleo-puppet-elements.yaml', 'deliverables/ocata/tripleo-ui.yaml', 'deliverables/pike/instack-undercloud.yaml', 'deliverables/pike/tripleo-common.yaml', 'deliverables/newton/puppet-tripleo.yaml', 'deliverables/newton/tripleo-puppet-elements.yaml', 'deliverables/ocata/instack.yaml']",40,80b8d4d5dc0235a7a35aba1ffd1e9f4e1c51cc10,queens-indentation, - location: 6.0.0 name: stable/ocata - projects: - hash: 9e1f7099b24bf51344aa1f33e0a1092730e26c11 repo: openstack/instack version: 6.0.0 - projects: - hash: b3450717177c79b92695359c786f8b385a0691de repo: openstack/instack version: 6.1.0,- location: 6.0.0 name: stable/ocata- projects: - hash: 9e1f7099b24bf51344aa1f33e0a1092730e26c11 repo: openstack/instack version: 6.0.0 - projects: - hash: b3450717177c79b92695359c786f8b385a0691de repo: openstack/instack version: 6.1.0,892,892
openstack%2Fosc-lib~feature%2Fosc4~I0ad62803e09126d0896e040087cfcc14138d1be3,openstack/osc-lib,feature/osc4,I0ad62803e09126d0896e040087cfcc14138d1be3,Update UPPER_CONSTRAINTS_FILE for feature/osc4,MERGED,2017-07-31 19:09:33.000000000,2017-08-01 16:49:10.000000000,2017-07-31 22:00:24.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 970}]","[{'number': 1, 'created': '2017-07-31 19:09:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/ef967cbeba4ea452c9a145a6318b4120a48433d7', 'message': 'Update UPPER_CONSTRAINTS_FILE for feature/osc4\n\nChange-Id: I0ad62803e09126d0896e040087cfcc14138d1be3\n'}]",0,489305,ef967cbeba4ea452c9a145a6318b4120a48433d7,8,3,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for feature/osc4

Change-Id: I0ad62803e09126d0896e040087cfcc14138d1be3
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/05/489305/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ef967cbeba4ea452c9a145a6318b4120a48433d7,create-osc4,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=feature/osc4} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftripleo-ui~master~I79e3d8025276974317cf905e6acce10dc23ccb98,openstack/tripleo-ui,master,I79e3d8025276974317cf905e6acce10dc23ccb98,Add plan description to plan cards,MERGED,2017-06-30 19:08:56.000000000,2017-08-01 16:49:08.000000000,2017-08-01 16:49:08.000000000,"[{'_account_id': 3}, {'_account_id': 7509}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 20970}]","[{'number': 1, 'created': '2017-06-30 19:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/0c2516c3cfcca460669dd7135814388b89721342', 'message': 'Add plan description to plan cards\n\nChange-Id: I79e3d8025276974317cf905e6acce10dc23ccb98\nCloses-bug: #1701277\n'}, {'number': 2, 'created': '2017-07-03 16:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/012a5421648cd90b944c7509971051a73fbe44e9', 'message': 'Add plan description to plan cards\n\nChange-Id: I79e3d8025276974317cf905e6acce10dc23ccb98\nCloses-bug: #1701277\n'}, {'number': 3, 'created': '2017-07-03 18:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/de351ac291ae769a67b4154dba849b986be11fb5', 'message': 'Add plan description to plan cards\n\nChange-Id: I79e3d8025276974317cf905e6acce10dc23ccb98\nCloses-bug: #1701277\n'}, {'number': 4, 'created': '2017-07-05 16:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/108e64dcdef6c3db31e41bb877288516ff52b203', 'message': 'Add plan description to plan cards\n\nChange-Id: I79e3d8025276974317cf905e6acce10dc23ccb98\nCloses-bug: #1701277\n'}, {'number': 5, 'created': '2017-07-06 15:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/2a1ae8f4565f48620d8758aacd279d9c4301888a', 'message': 'Add plan description to plan cards\n\nChange-Id: I79e3d8025276974317cf905e6acce10dc23ccb98\nCloses-bug: #1701277\n'}, {'number': 6, 'created': '2017-07-10 16:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/e18b3521d310c2095bffca76658eade65d3f3f4e', 'message': 'Add plan description to plan cards\n\nChange-Id: I79e3d8025276974317cf905e6acce10dc23ccb98\nCloses-bug: #1701277\n'}, {'number': 7, 'created': '2017-07-27 12:11:10.000000000', 'files': ['src/js/actions/PlansActions.js', 'src/__tests__/actions/PlansActions.tests.js', 'src/__tests__/reducers/plansReducer.tests.js', 'src/js/reducers/plansReducer.js', 'releasenotes/notes/plan-card-description-05cfd37900984edf.yaml', 'src/js/constants/PlansConstants.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/8c12f001aa538e228d636229edcc537d1cc3d036', 'message': 'Add plan description to plan cards\n\nChange-Id: I79e3d8025276974317cf905e6acce10dc23ccb98\nCloses-bug: #1701277\n'}]",10,479404,8c12f001aa538e228d636229edcc537d1cc3d036,33,5,7,9317,,,0,"Add plan description to plan cards

Change-Id: I79e3d8025276974317cf905e6acce10dc23ccb98
Closes-bug: #1701277
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/04/479404/6 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/actions/PlansActions.js', 'src/__tests__/actions/PlansActions.tests.js', 'src/__tests__/reducers/plansReducer.tests.js', 'src/js/reducers/plansReducer.js']",4,0c2516c3cfcca460669dd7135814388b89721342,bug/1701277," action.payload.forEach(plan => { planData[plan.name] = new Plan({ name: plan.name, description: plan.description });", action.payload.forEach(name => { planData[name] = new Plan({ name: name });,29,9
openstack%2Ftripleo-common~master~I46fc2a0e454ada01c80d9fc97d65ee1fd2338bec,openstack/tripleo-common,master,I46fc2a0e454ada01c80d9fc97d65ee1fd2338bec,Remove uwsgi-plugin-python from barbican-api image,MERGED,2017-07-31 13:39:30.000000000,2017-08-01 16:49:02.000000000,2017-08-01 16:49:02.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-07-31 13:39:30.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/27fffb1f8fd39d7b8d97228ae188d676543474f7', 'message': ""Remove uwsgi-plugin-python from barbican-api image\n\nThis is provided by EPEL, which we don't use in TripleO, and is used in\nkolla-ansible. This is not available in RDO by itself, so we remove it.\nbarbican-api will furtherly use httpd instead.\n\nChange-Id: I46fc2a0e454ada01c80d9fc97d65ee1fd2338bec\nCloses-Bug: #1707598\n""}]",0,489224,27fffb1f8fd39d7b8d97228ae188d676543474f7,30,3,1,10873,,,0,"Remove uwsgi-plugin-python from barbican-api image

This is provided by EPEL, which we don't use in TripleO, and is used in
kolla-ansible. This is not available in RDO by itself, so we remove it.
barbican-api will furtherly use httpd instead.

Change-Id: I46fc2a0e454ada01c80d9fc97d65ee1fd2338bec
Closes-Bug: #1707598
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/489224/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,27fffb1f8fd39d7b8d97228ae188d676543474f7,bug/1707598,{% set barbican_api_packages_remove = ['uwsgi-plugin-python'] %},,1,0
openstack%2Freleases~master~I660d507bc3976378ef0f325c5335dec38c3d98a7,openstack/releases,master,I660d507bc3976378ef0f325c5335dec38c3d98a7,normalize client deliverable files,MERGED,2017-07-31 20:35:04.000000000,2017-08-01 16:48:19.000000000,2017-08-01 16:48:19.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a5f5a9db543023025a9300be666508563ed58d69', 'message': 'normalize client deliverable files\n\nChange-Id: I660d507bc3976378ef0f325c5335dec38c3d98a7\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/240ad564cca1d79f5a0e90c026d333e0cb045665', 'message': 'normalize client deliverable files\n\nChange-Id: I660d507bc3976378ef0f325c5335dec38c3d98a7\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e52785d5e2ae3d1e172bdb9bd9ae52a84c681f78', 'message': 'normalize client deliverable files\n\nChange-Id: I660d507bc3976378ef0f325c5335dec38c3d98a7\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-07-31 21:27:38.000000000', 'files': ['deliverables/ocata/python-tripleoclient.yaml', 'deliverables/pike/python-karborclient.yaml', 'deliverables/newton/python-keystoneclient.yaml', 'deliverables/ocata/python-keystoneclient.yaml', 'deliverables/newton/python-tripleoclient.yaml', 'deliverables/pike/python-tripleoclient.yaml', 'deliverables/pike/python-keystoneclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4319b31b46fb7605df1c7e995968425f53ec9ff0', 'message': 'normalize client deliverable files\n\nChange-Id: I660d507bc3976378ef0f325c5335dec38c3d98a7\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489386,4319b31b46fb7605df1c7e995968425f53ec9ff0,13,3,4,2472,,,0,"normalize client deliverable files

Change-Id: I660d507bc3976378ef0f325c5335dec38c3d98a7
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/489386/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/python-tripleoclient.yaml', 'deliverables/pike/python-karborclient.yaml', 'deliverables/newton/python-keystoneclient.yaml', 'deliverables/ocata/python-keystoneclient.yaml', 'deliverables/newton/python-tripleoclient.yaml', 'deliverables/pike/python-tripleoclient.yaml', 'deliverables/pike/python-keystoneclient.yaml']",7,a5f5a9db543023025a9300be666508563ed58d69,queens-indentation,include-pypi-link: yes - version: 3.11.0 projects: - repo: openstack/python-keystoneclient hash: daa99ed5fe1df548c26feff68b45bda7ac94ea25 - version: 3.12.0 projects: - repo: openstack/python-keystoneclient hash: 937f4d62be338d0208c698ed85d377dc4ce137be - version: 3.13.0 projects: - repo: openstack/python-keystoneclient hash: a8de72a1a2875e7ccf494b1827747c4bc7008b27 branches: - name: stable/pike location: 3.13.0,include-pypi-link: true- version: 3.11.0 projects: - repo: openstack/python-keystoneclient hash: daa99ed5fe1df548c26feff68b45bda7ac94ea25 - version: 3.12.0 projects: - repo: openstack/python-keystoneclient hash: 937f4d62be338d0208c698ed85d377dc4ce137be - version: 3.13.0 projects: - repo: openstack/python-keystoneclient hash: a8de72a1a2875e7ccf494b1827747c4bc7008b27 branches: - name: stable/pike location: 3.13.0,171,171
openstack%2Freleases~master~Ie766d9aa1b3c095535c3a6947cecf9585344aba5,openstack/releases,master,Ie766d9aa1b3c095535c3a6947cecf9585344aba5,normalize oslo deliverable files,MERGED,2017-07-31 20:35:04.000000000,2017-08-01 16:48:13.000000000,2017-08-01 16:48:13.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/894da5db621ec664ec1fa16dacc25d71e346e294', 'message': 'normalize oslo deliverable files\n\nChange-Id: Ie766d9aa1b3c095535c3a6947cecf9585344aba5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/80a8fb52ef489a6a113b5097f747cc9587579063', 'message': 'normalize oslo deliverable files\n\nChange-Id: Ie766d9aa1b3c095535c3a6947cecf9585344aba5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a2f3d992ee32600e584122afa0bba68af18b0d46', 'message': 'normalize oslo deliverable files\n\nChange-Id: Ie766d9aa1b3c095535c3a6947cecf9585344aba5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-07-31 21:27:38.000000000', 'files': ['deliverables/newton/debtcollector.yaml', 'deliverables/pike/oslo.i18n.yaml', 'deliverables/newton/oslo.service.yaml', 'deliverables/newton/oslo.i18n.yaml', 'deliverables/ocata/oslo.middleware.yaml', 'deliverables/ocata/futurist.yaml', 'deliverables/pike/oslo.vmware.yaml', 'deliverables/pike/oslotest.yaml', 'deliverables/newton/cliff.yaml', 'deliverables/ocata/oslo.privsep.yaml', 'deliverables/pike/taskflow.yaml', 'deliverables/ocata/oslo.db.yaml', 'deliverables/pike/oslo.utils.yaml', 'deliverables/newton/oslo.messaging.yaml', 'deliverables/pike/oslo.log.yaml', 'deliverables/newton/automaton.yaml', 'deliverables/ocata/debtcollector.yaml', 'deliverables/newton/oslo.rootwrap.yaml', 'deliverables/pike/oslo.privsep.yaml', 'deliverables/ocata/oslo.reports.yaml', 'deliverables/ocata/oslo.vmware.yaml', 'deliverables/ocata/oslo.cache.yaml', 'deliverables/pike/automaton.yaml', 'deliverables/ocata/cliff.yaml', 'deliverables/ocata/oslo.i18n.yaml', 'deliverables/ocata/oslo.context.yaml', 'deliverables/ocata/oslo.concurrency.yaml', 'deliverables/pike/oslo.db.yaml', 'deliverables/newton/futurist.yaml', 'deliverables/ocata/oslo.messaging.yaml', 'deliverables/newton/oslo.vmware.yaml', 'deliverables/newton/oslo.utils.yaml', 'deliverables/pike/oslo.versionedobjects.yaml', 'deliverables/ocata/stevedore.yaml', 'deliverables/pike/futurist.yaml', 'deliverables/pike/oslo.concurrency.yaml', 'deliverables/newton/oslo.db.yaml', 'deliverables/pike/tooz.yaml', 'deliverables/newton/stevedore.yaml', 'deliverables/pike/debtcollector.yaml', 'deliverables/ocata/taskflow.yaml', 'deliverables/newton/tooz.yaml', 'deliverables/newton/taskflow.yaml', 'deliverables/ocata/oslo.config.yaml', 'deliverables/ocata/oslotest.yaml', 'deliverables/pike/oslo.cache.yaml', 'deliverables/pike/oslo.messaging.yaml', 'deliverables/ocata/oslo.policy.yaml', 'deliverables/pike/oslo.middleware.yaml', 'deliverables/ocata/mox3.yaml', 'deliverables/newton/oslo.reports.yaml', 'deliverables/ocata/oslo.service.yaml', 'deliverables/pike/oslo.config.yaml', 'deliverables/pike/oslo.context.yaml', 'deliverables/newton/oslo.context.yaml', 'deliverables/ocata/automaton.yaml', 'deliverables/pike/oslo.policy.yaml', 'deliverables/ocata/oslosphinx.yaml', 'deliverables/pike/oslo.serialization.yaml', 'deliverables/newton/oslotest.yaml', 'deliverables/pike/oslo.rootwrap.yaml', 'deliverables/pike/oslo.service.yaml', 'deliverables/ocata/tooz.yaml', 'deliverables/ocata/oslo.serialization.yaml', 'deliverables/pike/oslo.reports.yaml', 'deliverables/ocata/oslo.versionedobjects.yaml', 'deliverables/newton/oslo.middleware.yaml', 'deliverables/pike/cliff.yaml', 'deliverables/newton/oslo.config.yaml', 'deliverables/ocata/oslo.utils.yaml', 'deliverables/newton/oslo.serialization.yaml', 'deliverables/ocata/oslo.log.yaml', 'deliverables/newton/mox3.yaml', 'deliverables/newton/oslo.concurrency.yaml', 'deliverables/pike/oslosphinx.yaml', 'deliverables/newton/oslo.policy.yaml', 'deliverables/newton/oslo.cache.yaml', 'deliverables/pike/stevedore.yaml', 'deliverables/newton/oslosphinx.yaml', 'deliverables/ocata/oslo.rootwrap.yaml', 'deliverables/pike/mox3.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/28cab05fd571c46ec8f3d0598c196d36bdd81f64', 'message': 'normalize oslo deliverable files\n\nChange-Id: Ie766d9aa1b3c095535c3a6947cecf9585344aba5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489385,28cab05fd571c46ec8f3d0598c196d36bdd81f64,13,3,4,2472,,,0,"normalize oslo deliverable files

Change-Id: Ie766d9aa1b3c095535c3a6947cecf9585344aba5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/489385/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/newton/debtcollector.yaml', 'deliverables/pike/oslo.i18n.yaml', 'deliverables/newton/oslo.service.yaml', 'deliverables/newton/oslo.i18n.yaml', 'deliverables/ocata/oslo.middleware.yaml', 'deliverables/ocata/futurist.yaml', 'deliverables/pike/oslo.vmware.yaml', 'deliverables/pike/oslotest.yaml', 'deliverables/newton/cliff.yaml', 'deliverables/ocata/oslo.privsep.yaml', 'deliverables/pike/taskflow.yaml', 'deliverables/ocata/oslo.db.yaml', 'deliverables/pike/oslo.utils.yaml', 'deliverables/newton/oslo.messaging.yaml', 'deliverables/pike/oslo.log.yaml', 'deliverables/newton/automaton.yaml', 'deliverables/ocata/debtcollector.yaml', 'deliverables/newton/oslo.rootwrap.yaml', 'deliverables/pike/oslo.privsep.yaml', 'deliverables/ocata/oslo.reports.yaml', 'deliverables/ocata/oslo.vmware.yaml', 'deliverables/ocata/oslo.cache.yaml', 'deliverables/pike/automaton.yaml', 'deliverables/ocata/cliff.yaml', 'deliverables/ocata/oslo.i18n.yaml', 'deliverables/ocata/oslo.context.yaml', 'deliverables/ocata/oslo.concurrency.yaml', 'deliverables/pike/oslo.db.yaml', 'deliverables/newton/futurist.yaml', 'deliverables/ocata/oslo.messaging.yaml', 'deliverables/newton/oslo.vmware.yaml', 'deliverables/newton/oslo.utils.yaml', 'deliverables/pike/oslo.versionedobjects.yaml', 'deliverables/ocata/stevedore.yaml', 'deliverables/pike/futurist.yaml', 'deliverables/pike/oslo.concurrency.yaml', 'deliverables/newton/oslo.db.yaml', 'deliverables/pike/tooz.yaml', 'deliverables/newton/stevedore.yaml', 'deliverables/pike/debtcollector.yaml', 'deliverables/ocata/taskflow.yaml', 'deliverables/newton/tooz.yaml', 'deliverables/newton/taskflow.yaml', 'deliverables/ocata/oslo.config.yaml', 'deliverables/ocata/oslotest.yaml', 'deliverables/pike/oslo.cache.yaml', 'deliverables/pike/oslo.messaging.yaml', 'deliverables/ocata/oslo.policy.yaml', 'deliverables/pike/oslo.middleware.yaml', 'deliverables/ocata/mox3.yaml', 'deliverables/newton/oslo.reports.yaml', 'deliverables/ocata/oslo.service.yaml', 'deliverables/pike/oslo.config.yaml', 'deliverables/pike/oslo.context.yaml', 'deliverables/newton/oslo.context.yaml', 'deliverables/ocata/automaton.yaml', 'deliverables/pike/oslo.policy.yaml', 'deliverables/ocata/oslosphinx.yaml', 'deliverables/pike/oslo.serialization.yaml', 'deliverables/newton/oslotest.yaml', 'deliverables/pike/oslo.rootwrap.yaml', 'deliverables/pike/oslo.service.yaml', 'deliverables/ocata/tooz.yaml', 'deliverables/ocata/oslo.serialization.yaml', 'deliverables/pike/oslo.reports.yaml', 'deliverables/ocata/oslo.versionedobjects.yaml', 'deliverables/newton/oslo.middleware.yaml', 'deliverables/pike/cliff.yaml', 'deliverables/newton/oslo.config.yaml', 'deliverables/ocata/oslo.utils.yaml', 'deliverables/newton/oslo.serialization.yaml', 'deliverables/ocata/oslo.log.yaml', 'deliverables/newton/mox3.yaml', 'deliverables/newton/oslo.concurrency.yaml', 'deliverables/pike/oslosphinx.yaml', 'deliverables/newton/oslo.policy.yaml', 'deliverables/newton/oslo.cache.yaml', 'deliverables/pike/stevedore.yaml', 'deliverables/newton/oslosphinx.yaml', 'deliverables/ocata/oslo.rootwrap.yaml', 'deliverables/pike/mox3.yaml']",81,894da5db621ec664ec1fa16dacc25d71e346e294,queens-indentation,include-pypi-link: yes - version: 0.21.0 projects: - repo: openstack/mox3 hash: c9f88a280d902a44686412e73a44106cd299f9e5 - version: 0.22.0 projects: - repo: openstack/mox3 hash: 8536be786ca5b1a87e3fafb056d5bb5d4cee4425 - version: 0.23.0 projects: - repo: openstack/mox3 hash: 812983a5fafc8a09e7b9fffbee5336fafab9b231 branches: - name: stable/pike location: 0.23.0,include-pypi-link: true- version: 0.21.0 projects: - repo: openstack/mox3 hash: c9f88a280d902a44686412e73a44106cd299f9e5 - version: 0.22.0 projects: - repo: openstack/mox3 hash: 8536be786ca5b1a87e3fafb056d5bb5d4cee4425 - version: 0.23.0 projects: - repo: openstack/mox3 hash: 812983a5fafc8a09e7b9fffbee5336fafab9b231 branches: - name: stable/pike location: 0.23.0,2478,2479
openstack%2Fneutron~stable%2Focata~I3388bce4d51f18a527de425927b7bfc96992f703,openstack/neutron,stable/ocata,I3388bce4d51f18a527de425927b7bfc96992f703,Don't log about retrying failed devices if empty,MERGED,2017-07-31 12:03:08.000000000,2017-08-01 16:37:14.000000000,2017-08-01 16:37:14.000000000,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 748}, {'_account_id': 979}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6873}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 12898}, {'_account_id': 17491}, {'_account_id': 22816}]","[{'number': 1, 'created': '2017-07-31 12:03:08.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2a99ab02b20a0d70f17ba0ccfbeb434ac34f071', 'message': 'Don\'t log about retrying failed devices if empty\n\nIn a regular gate run we have hundreds of entries of\n""retrying failed devices set([]) _update_port_info_failed_devices_stats"",\nwhich makes it hard to see when things are actually failing and\nretrying.\n\nThis patch just makes it only log if there is a failed device present.\n\nTrivialFix\n\nChange-Id: I3388bce4d51f18a527de425927b7bfc96992f703\n(cherry picked from commit 715e9c81fc205d48421c39a22b75765dcaeb0879)\n'}]",0,489192,f2a99ab02b20a0d70f17ba0ccfbeb434ac34f071,29,18,1,24791,,,0,"Don't log about retrying failed devices if empty

In a regular gate run we have hundreds of entries of
""retrying failed devices set([]) _update_port_info_failed_devices_stats"",
which makes it hard to see when things are actually failing and
retrying.

This patch just makes it only log if there is a failed device present.

TrivialFix

Change-Id: I3388bce4d51f18a527de425927b7bfc96992f703
(cherry picked from commit 715e9c81fc205d48421c39a22b75765dcaeb0879)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/489192/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,f2a99ab02b20a0d70f17ba0ccfbeb434ac34f071,bug/1665215," if failed_devices['added']: LOG.debug(""retrying failed devices %s"", failed_devices['added'])"," LOG.debug(""retrying failed devices %s"", failed_devices['added'])",2,1
openstack%2Fcinder~master~I364e7a03983dbd532b377b737a27b6ffd2d2dda8,openstack/cinder,master,I364e7a03983dbd532b377b737a27b6ffd2d2dda8,Avoid register extensions on the versions router,MERGED,2017-06-29 09:29:30.000000000,2017-08-01 16:37:04.000000000,2017-08-01 16:37:04.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 11904}, {'_account_id': 21990}]","[{'number': 1, 'created': '2017-06-29 09:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a8e736495dd590a5e68d00982332d15ccd470f4', 'message': 'Avoid register extensions on the versions router\n\nWhile starting the cinder api, the extensions available are\nregistered in all routers. As there are no resources offered\nby the versions router, a series of warnings appears at startup\nwhile trying to register extensions.\n\nChange-Id: I364e7a03983dbd532b377b737a27b6ffd2d2dda8\nCloses-Bug: #1701203\n'}, {'number': 2, 'created': '2017-06-29 11:12:28.000000000', 'files': ['cinder/api/versions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cdf9a9c0ffdbbfa5cf4b4637483ce9c299d4fb23', 'message': 'Avoid register extensions on the versions router\n\nWhile starting the cinder api, the extensions available are\nregistered in all routers. As there are no resources offered\nby the versions router, a series of warnings appears at startup\nwhile trying to register extensions.\n\nChange-Id: I364e7a03983dbd532b377b737a27b6ffd2d2dda8\nCloses-Bug: #1701203\n'}]",0,478821,cdf9a9c0ffdbbfa5cf4b4637483ce9c299d4fb23,52,4,2,5575,,,0,"Avoid register extensions on the versions router

While starting the cinder api, the extensions available are
registered in all routers. As there are no resources offered
by the versions router, a series of warnings appears at startup
while trying to register extensions.

Change-Id: I364e7a03983dbd532b377b737a27b6ffd2d2dda8
Closes-Bug: #1701203
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/478821/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/versions.py'],1,2a8e736495dd590a5e68d00982332d15ccd470f4,bug/1701203," #NOTE (jose-castro-leon): Avoid to register extensions # on the versions router, the versions router does not offer # resources to be extended. def _setup_extensions(self, ext_mgr): pass ",,6,0
openstack%2Fopenstack-helm~master~I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8,openstack/openstack-helm,master,I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8,Gate: Loopback device support,MERGED,2017-07-18 23:49:11.000000000,2017-08-01 16:36:08.000000000,2017-08-01 16:36:08.000000000,"[{'_account_id': 3}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20443}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-07-18 23:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/40812827c0ff20dd6077c490f0ad836d782fca59', 'message': 'WIP: Loopback device support\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 2, 'created': '2017-07-18 23:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4eae84937b6d33f8c8bc15f60645109fccc29ddb', 'message': 'WIP: Loopback device support\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 3, 'created': '2017-07-19 00:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/24332588a5af7a659bdb81dba4be7feb10a221d3', 'message': 'WIP: Loopback device support\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 4, 'created': '2017-07-19 15:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c1229d3f9383cdbbac3ad880714ed93c561ead82', 'message': 'WIP: Loopback device support\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 5, 'created': '2017-07-24 21:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/27f9f81a91e524576ff52fcb9f57115f1274026a', 'message': 'WIP: Loopback device support\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 6, 'created': '2017-07-24 21:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6ae8be98e19ee87069218d547605884518d1349f', 'message': 'WIP: Loopback device support\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 7, 'created': '2017-07-26 21:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7967ea9c7e466734763d3ac1b384357bb72def0', 'message': 'WIP: Loopback device support\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 8, 'created': '2017-07-28 22:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cc39ddf4e889c55c60b27abd33eb3cd14459aad8', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 9, 'created': '2017-07-29 14:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ddb6b20397af6a39f3e640d3c0690e287e256f32', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 11, 'created': '2017-07-29 22:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5208cac7e53414a4621700305791fac00a25538b', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 12, 'created': '2017-07-29 22:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab6f889df8ab8f97058f7bd93e1415a8851d4316', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 13, 'created': '2017-07-29 22:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cd9adc1f8600b41a3d8a41fa95cad70a8c4f2398', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 14, 'created': '2017-07-29 22:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8d26a2c4cc66e29d56b4436feb68dfa72a6a5b9f', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 15, 'created': '2017-07-29 22:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/29f7ec64adeac2b7dd765e986ee82a63afdd6c71', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 16, 'created': '2017-07-29 23:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d7150b4c6bbad2bace758429b04de5d9713ca0a', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 17, 'created': '2017-07-30 00:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5e01e79c72feade99d8822d93101fb284eb5fa4f', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 18, 'created': '2017-07-30 00:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dea3d0c1a517a07fd3237b4d8086b76dba9608c4', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 19, 'created': '2017-07-30 00:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/977ea8113b55c9f40dfd683e4c40d39da68aa587', 'message': ""DNM/RFC/WIP: Loopback device support\n\n[cw]\n\n    Review of my 'working' changes for other developers to comment\n    on.  Cleanups needed:\n\n      - [Ubuntu] Add appropriate kernel-headers to the dependencies so\n\tthat dkms build will likely succeed.\n\n      - [All] Disable 'node.startup = automatic' because this causes\n\tthe VM to hang/delay on boot.  Need clarification on the\n\tintent here.\n\n      - [All] Disable authentication on the TPG we create so that\n\tlogin failures should not occur even though we have a valid\n\tlooking ACL.\n\n      - [All] Stop the iscsitarget before we create a portal.  This is\n\t99% probably bogus for anything but Ubuntu and it's not clear\n\twhy it's needed there.\n\n      - [All] Create a portal (using defaults).  Needed because on\n\tUbuntu one isn't created already.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n""}, {'number': 20, 'created': '2017-07-30 01:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e92bf4a88077b6cd9cdc7ca5772942c40bb45d51', 'message': 'WIP: Loopback device support\n\nThis PS adds loopback device support to the gate scripts.\nRather than using simple loopback devices we use iscsi to\nallow is to target the created devices via the bus they are\nconnected to. An arbitary number of devices of a desired size\ncan be created, and controlled via env vars.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 21, 'created': '2017-07-31 03:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c4f7ba33b60dc190a1be21eb46fdeca092c03c53', 'message': 'WIP: Loopback device support\n\nThis PS adds loopback device support to the gate scripts.\nRather than using simple loopback devices we use iscsi to\nallow is to target the created devices via the bus they are\nconnected to. An arbitary number of devices of a desired size\ncan be created, and controlled via env vars.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 22, 'created': '2017-07-31 15:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c25bd928f81a6b8601873ec6cc6d325179cd2baa', 'message': 'Gate: Loopback device support\n\nThis PS adds loopback device support to the gate scripts.\nRather than using simple loopback devices we use iscsi to\nallow is to target the created devices via the bus they are\nconnected to. An arbitary number of devices of a desired size\ncan be created, and controlled via env vars.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 23, 'created': '2017-07-31 15:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/18b03058a145aa52a8d286486e34f3413fa6271e', 'message': 'Gate: Loopback device support\n\nThis PS adds loopback device support to the gate scripts.\nRather than using simple loopback devices we use iscsi to\nallow is to target the created devices via the bus they are\nconnected to. An arbitary number of devices of a desired size\ncan be created, and controlled via env vars.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 24, 'created': '2017-07-31 15:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dca94b6fc1b32ad2d1b063a33e6f1b63c98d8e1e', 'message': 'Gate: Loopback device support\n\nThis PS adds loopback device support to the gate scripts.\nRather than using simple loopback devices we use iscsi to\nallow is to target the created devices via the bus they are\nconnected to. An arbitary number of devices of a desired size\ncan be created, and controlled via env vars.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}, {'number': 25, 'created': '2017-07-31 22:12:28.000000000', 'files': ['tools/gate/setup_gate_worker_nodes.sh', 'tools/gate/setup_gate.sh', 'tools/gate/provision_gate_worker_node.sh', 'tools/gate/funcs/common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fdbe8eb60d185e43a3651beab67149bce82b12c0', 'message': 'Gate: Loopback device support\n\nThis PS adds loopback device support to the gate scripts.\nRather than using simple loopback devices we use iscsi to\nallow is to target the created devices via the bus they are\nconnected to. An arbitary number of devices of a desired size\ncan be created, and controlled via env vars.\n\nChange-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8\n'}]",25,484982,fdbe8eb60d185e43a3651beab67149bce82b12c0,59,5,24,23928,,,0,"Gate: Loopback device support

This PS adds loopback device support to the gate scripts.
Rather than using simple loopback devices we use iscsi to
allow is to target the created devices via the bus they are
connected to. An arbitary number of devices of a desired size
can be created, and controlled via env vars.

Change-Id: I05fb7f3a1564bc36903aed2c46ed996bb8cc57c8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/82/484982/6 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/setup_gate.sh', 'tools/gate/funcs/common.sh']",2,40812827c0ff20dd6077c490f0ad836d782fca59,fake-discs-in-the-gate,"function loopback_support_install { if [ ""x$HOST_OS"" == ""xubuntu"" ]; then sudo apt-get update -y sudo apt-get install -y --no-install-recommends -qq \ targetcli \ open-iscsi elif [ ""x$HOST_OS"" == ""xcentos"" ]; then sudo yum install -y \ targetcli \ iscsi-initiator-utils elif [ ""x$HOST_OS"" == ""xfedora"" ]; then sudo dnf install -y \ targetcli \ iscsi-initiator-utils fi } function loopback_setup { HOST_IFACE=$(sudo ip route | grep ""^default"" | awk '{ print $5 }') HOST_IP=$(sudo ip addr | awk ""/inet/ && /${HOST_IFACE}/{sub(/\/.*$/,\""\"",\$2); print \$2}"") sudo targetcli backstores/fileio create testfile /tmp/fileio 500M write_back=false sudo targetcli iscsi/ create iqn.2016-01.com.example:target sudo targetcli iscsi/iqn.2016-01.com.example:target/tpg1/luns/ create /backstores/fileio/testfile sudo targetcli iscsi/iqn.2016-01.com.example:target/tpg1/acls/ create $(sudo cat /etc/iscsi/initiatorname.iscsi | awk -F '=' '{ print $NF}') sudo iscsiadm --mode discovery --type sendtargets --portal $HOST_IP sudo iscsiadm -m node -T iqn.2016-01.com.example:target -l sudo iscsiadm -m session -P 0 } ",,31,0
openstack%2Freleases~master~I4d1ddabbfad30a33a36a767fffb895a279310719,openstack/releases,master,I4d1ddabbfad30a33a36a767fffb895a279310719,normalize independent deliverable files,MERGED,2017-07-31 20:35:04.000000000,2017-08-01 16:35:18.000000000,2017-08-01 16:35:18.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b474977e43440e55052b3e9045ed2844be403cb5', 'message': 'normalize independent deliverable files\n\nChange-Id: I4d1ddabbfad30a33a36a767fffb895a279310719\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f13f7b6f0699c9b5dd092d45309cc7de3e823c54', 'message': 'normalize independent deliverable files\n\nChange-Id: I4d1ddabbfad30a33a36a767fffb895a279310719\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dc535e302692151b130db192fb2a6da203f0786a', 'message': 'normalize independent deliverable files\n\nChange-Id: I4d1ddabbfad30a33a36a767fffb895a279310719\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-07-31 21:27:38.000000000', 'files': ['deliverables/_independent/doc8.yaml', 'deliverables/_independent/fairy-slipper.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d51fb74c6b93ee7f2d4130f68cfe005b9692c830', 'message': 'normalize independent deliverable files\n\nChange-Id: I4d1ddabbfad30a33a36a767fffb895a279310719\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489384,d51fb74c6b93ee7f2d4130f68cfe005b9692c830,13,3,4,2472,,,0,"normalize independent deliverable files

Change-Id: I4d1ddabbfad30a33a36a767fffb895a279310719
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/489384/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/doc8.yaml', 'deliverables/_independent/fairy-slipper.yaml']",2,b474977e43440e55052b3e9045ed2844be403cb5,queens-indentation, highlights: | More migration completeness for WADL to Swagger., highlights: > More migration completeness for WADL to Swagger.,7,7
openstack%2Freleases~master~I2c5e167b3a0d6cf29fcabdee7619d672e0d24bd3,openstack/releases,master,I2c5e167b3a0d6cf29fcabdee7619d672e0d24bd3,do not add line wraps to text when reformatting,MERGED,2017-07-31 20:35:04.000000000,2017-08-01 16:34:06.000000000,2017-08-01 16:34:06.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7d68da1f79fba9fa2287921cdd89dc020d117a99', 'message': 'do not add line wraps to text when reformatting\n\nChange-Id: I2c5e167b3a0d6cf29fcabdee7619d672e0d24bd3\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a7346762a56622ece0f06d7d56bde73245f6e5d9', 'message': 'do not add line wraps to text when reformatting\n\nChange-Id: I2c5e167b3a0d6cf29fcabdee7619d672e0d24bd3\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': ['openstack_releases/yamlutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/541797fc47fd6aa04e26dd6950acd89c1a5dffd4', 'message': 'do not add line wraps to text when reformatting\n\nChange-Id: I2c5e167b3a0d6cf29fcabdee7619d672e0d24bd3\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489383,541797fc47fd6aa04e26dd6950acd89c1a5dffd4,11,3,3,2472,,,0,"do not add line wraps to text when reformatting

Change-Id: I2c5e167b3a0d6cf29fcabdee7619d672e0d24bd3
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/489383/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/yamlutils.py'],1,7d68da1f79fba9fa2287921cdd89dc020d117a99,queens-indentation,," MAX_LINE_LENGTH = 60 # NOTE(harlowja): Try to nicely format it unless its already been # formatted by someone else, which we check by seeing if newlines # already exist and assume the person knew what they were doing... if len(data) > self.MAX_LINE_LENGTH and not _has_newline(data): data = textwrap.fill(data)",0,6
openstack%2Fpython-novaclient~master~Ide7b2992ac931395b776d39ed4a1a50bded0a881,openstack/python-novaclient,master,Ide7b2992ac931395b776d39ed4a1a50bded0a881,Remove custom autodoc implementation,MERGED,2017-07-04 16:41:28.000000000,2017-08-01 16:33:41.000000000,2017-08-01 16:33:41.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 15334}]","[{'number': 1, 'created': '2017-07-04 16:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a3b98a1293df301a2faae6fa45adecd364f86dad', 'message': 'Remove custom autodoc implementation\n\npbr provides this functionality for us. Make use of it.\n\nChange-Id: Ide7b2992ac931395b776d39ed4a1a50bded0a881\n'}, {'number': 2, 'created': '2017-07-12 14:13:26.000000000', 'files': ['doc/source/reference/api/index.rst', 'doc/source/conf.py', 'novaclient/utils.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/437b08cf38f836798d51b9736c5af9217f925897', 'message': 'Remove custom autodoc implementation\n\npbr provides this functionality for us. Make use of it.\n\nChange-Id: Ide7b2992ac931395b776d39ed4a1a50bded0a881\n'}]",0,480262,437b08cf38f836798d51b9736c5af9217f925897,11,4,2,15334,,,0,"Remove custom autodoc implementation

pbr provides this functionality for us. Make use of it.

Change-Id: Ide7b2992ac931395b776d39ed4a1a50bded0a881
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/62/480262/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/api/index.rst', 'doc/source/conf.py', 'novaclient/utils.py', 'setup.cfg']",4,a3b98a1293df301a2faae6fa45adecd364f86dad,doc-migration,[pbr] autodoc_index_modules = True autodoc_exclude_modules = novaclient.tests.* novaclient.v2.contrib.* api_doc_dir = reference/api ,,13,69
openstack%2Fcinder~stable%2Focata~Ia6d43b35843682bd201e57bb2941ca0243606412,openstack/cinder,stable/ocata,Ia6d43b35843682bd201e57bb2941ca0243606412,Fix image cache db query when limits are enabled,MERGED,2017-07-06 15:09:33.000000000,2017-08-01 16:31:47.000000000,2017-07-25 15:19:24.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12924}, {'_account_id': 13144}, {'_account_id': 19933}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-07-06 15:09:33.000000000', 'files': ['cinder/image/cache.py', 'cinder/tests/unit/image/test_cache.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7246988316a9319926b9e2422d4f348793bbc418', 'message': ""Fix image cache db query when limits are enabled\n\nWe were missing the context parameter... and apparently\nnever tested with cache limits enabled. This fixes\nit and updates the unit tests to check for it too.\n\nI'll follow up with a devstack patch to set some\nlimits by default too so we cover more of this\ncode and have it behave like a production deployment\nin gate jobs.\n\nChange-Id: Ia6d43b35843682bd201e57bb2941ca0243606412\nCloses-Bug: #1701696\n(cherry picked from commit 70719d028a86f79fe5a70a013c5dd6e67b202517)\n""}]",0,481111,7246988316a9319926b9e2422d4f348793bbc418,43,13,1,4523,,,0,"Fix image cache db query when limits are enabled

We were missing the context parameter... and apparently
never tested with cache limits enabled. This fixes
it and updates the unit tests to check for it too.

I'll follow up with a devstack patch to set some
limits by default too so we cover more of this
code and have it behave like a production deployment
in gate jobs.

Change-Id: Ia6d43b35843682bd201e57bb2941ca0243606412
Closes-Bug: #1701696
(cherry picked from commit 70719d028a86f79fe5a70a013c5dd6e67b202517)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/481111/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/cache.py', 'cinder/tests/unit/image/test_cache.py']",2,7246988316a9319926b9e2422d4f348793bbc418,bug/1701696," self.mock_db.image_volume_cache_get_all.assert_called_with( self.context, cluster_name=self.volume_ovo.cluster_name)",,3,0
openstack%2Ftripleo-ui~master~I60acd6a98fe35dad5fbdfc1474ca6f0cb41c614b,openstack/tripleo-ui,master,I60acd6a98fe35dad5fbdfc1474ca6f0cb41c614b,Do not show multiple notifications,MERGED,2017-07-18 10:03:33.000000000,2017-08-01 16:28:29.000000000,2017-08-01 16:28:29.000000000,"[{'_account_id': 3}, {'_account_id': 7509}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 17888}, {'_account_id': 20970}]","[{'number': 1, 'created': '2017-07-18 10:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/652eac49862cd4b0ba819f5bf83da8e141d02499', 'message': 'Do not show multiple notifications\n\n* Do not show multiple notifications when workflow sends a message\nincluding array of messages.\n* Allow notification message to accept array of messages\n* Update actions accordingly\n\nChange-Id: I60acd6a98fe35dad5fbdfc1474ca6f0cb41c614b\n'}, {'number': 2, 'created': '2017-07-25 10:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/7b8bb89d1907ea0033605cb7225999f5444a308e', 'message': 'Do not show multiple notifications\n\n* Do not show multiple notifications when workflow sends a message\nincluding array of messages.\n* Allow notification message to accept array of messages\n* Update actions accordingly\n\nChange-Id: I60acd6a98fe35dad5fbdfc1474ca6f0cb41c614b\n'}, {'number': 3, 'created': '2017-07-25 13:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/5de978c6dbde5cdd418284a6406ff90eef5d6582', 'message': 'Do not show multiple notifications\n\n* Do not show multiple notifications when workflow sends a message\nincluding array of messages.\n* Allow notification message to accept array of messages\n* Update actions accordingly\n\nPartial-Bug: 1663243\nChange-Id: I60acd6a98fe35dad5fbdfc1474ca6f0cb41c614b\n'}, {'number': 4, 'created': '2017-07-27 11:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/2f76aa71ef9d3f9893cb64a27c899e19ee2418ba', 'message': 'Do not show multiple notifications\n\n* Do not show multiple notifications when workflow sends a message\nincluding array of messages.\n* Allow notification message to accept array of messages\n* Update actions accordingly\n\nPartial-Bug: 1663243\nChange-Id: I60acd6a98fe35dad5fbdfc1474ca6f0cb41c614b\n'}, {'number': 5, 'created': '2017-08-01 09:07:30.000000000', 'files': ['src/js/components/notifications/Notification.js', 'src/__tests__/actions/NodesActions.tests.js', 'src/js/actions/NodesActions.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/e2373ed8e9122a2dd76c4cc422bbaafb451e798e', 'message': 'Do not show multiple notifications\n\n* Do not show multiple notifications when workflow sends a message\nincluding array of messages.\n* Allow notification message to accept array of messages\n* Update actions accordingly\n\nPartial-Bug: 1663243\nChange-Id: I60acd6a98fe35dad5fbdfc1474ca6f0cb41c614b\n'}]",0,484706,e2373ed8e9122a2dd76c4cc422bbaafb451e798e,26,6,5,7509,,,0,"Do not show multiple notifications

* Do not show multiple notifications when workflow sends a message
including array of messages.
* Allow notification message to accept array of messages
* Update actions accordingly

Partial-Bug: 1663243
Change-Id: I60acd6a98fe35dad5fbdfc1474ca6f0cb41c614b
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/06/484706/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/components/notifications/Notification.js', 'src/__tests__/actions/NodesActions.tests.js', 'src/js/actions/NodesActions.js']",3,652eac49862cd4b0ba819f5bf83da8e141d02499,bug/1696963," message: messagePayload.message.map(m => m.message) dispatch( NotificationActions.notify({ type: 'error', title: 'Error', message: messagePayload.message.map(message => message.result) }) ); dispatch( NotificationActions.notify({ type: 'error', title: 'Error', message: messagePayload.message.map(message => message.result) }) );"," let message = messagePayload.message .map(msg => msg.message) .join(', '); message messagePayload.message.map(message => { dispatch( NotificationActions.notify({ type: 'error', title: 'Error', message: message.result }) ); }); messagePayload.message.map(message => { dispatch( NotificationActions.notify({ type: 'error', title: 'Error', message: message.result }) ); });",37,26
openstack%2Fnetworking-odl~master~I5e2cc2c84eaf762d7ba6628d1aff793fcb2a0580,openstack/networking-odl,master,I5e2cc2c84eaf762d7ba6628d1aff793fcb2a0580,don't merge: experiment: disable tempest.api.compute.*,ABANDONED,2017-07-29 01:39:00.000000000,2017-08-01 16:28:27.000000000,,"[{'_account_id': 3}, {'_account_id': 6854}]","[{'number': 1, 'created': '2017-07-29 01:39:00.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/875946df5c8e73d586ac1f4d2b68247bd76d9b80', 'message': ""don't merge: experiment: disable tempest.api.compute.*\n\nChange-Id: I5e2cc2c84eaf762d7ba6628d1aff793fcb2a0580\n""}]",1,488899,875946df5c8e73d586ac1f4d2b68247bd76d9b80,4,2,1,333,,,0,"don't merge: experiment: disable tempest.api.compute.*

Change-Id: I5e2cc2c84eaf762d7ba6628d1aff793fcb2a0580
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/99/488899/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,875946df5c8e73d586ac1f4d2b68247bd76d9b80,experiment-disable-compute-api,"# TODO(yamahata): ssh via floating ip # There are so many tests that uses ssh via floating ip # Disable some of them. Don't disable network related one. # e.g. network_basic_ops r=""$r|(?:tempest\.api\.compute\..*)"" ",,6,0
openstack%2Fmistral~master~I15c2ece923a9477882f3859fb5cb67d7af2c7391,openstack/mistral,master,I15c2ece923a9477882f3859fb5cb67d7af2c7391,Add releasenote for public event triggers,MERGED,2017-08-01 07:45:04.000000000,2017-08-01 16:28:26.000000000,2017-08-01 16:28:26.000000000,"[{'_account_id': 3}, {'_account_id': 6732}, {'_account_id': 8731}, {'_account_id': 9408}, {'_account_id': 15895}, {'_account_id': 19206}, {'_account_id': 20863}]","[{'number': 1, 'created': '2017-08-01 07:45:04.000000000', 'files': ['releasenotes/notes/add_public_event_triggers-ab6249ca85fd5497.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/96e2f8eeb851b9b9574113abeab9d0e3450359e6', 'message': 'Add releasenote for public event triggers\n\nChange-Id: I15c2ece923a9477882f3859fb5cb67d7af2c7391\n'}]",0,489515,96e2f8eeb851b9b9574113abeab9d0e3450359e6,9,7,1,7700,,,0,"Add releasenote for public event triggers

Change-Id: I15c2ece923a9477882f3859fb5cb67d7af2c7391
",git fetch https://review.opendev.org/openstack/mistral refs/changes/15/489515/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add_public_event_triggers-ab6249ca85fd5497.yaml'],1,96e2f8eeb851b9b9574113abeab9d0e3450359e6,,"--- features: - | Added ability to create public event triggers. Public event triggers are applied to all projects, i.e. workflows are triggered by event in any project. Currently public event triggers may be created only by admin but it can be changed in policy.json. ",,7,0
openstack%2Fnetworking-odl~master~I544700122f16b7456a8be7836e69f69b406449ee,openstack/networking-odl,master,I544700122f16b7456a8be7836e69f69b406449ee,don't merge: experimental: disable some of tempests test that uses floating ip,ABANDONED,2017-07-21 16:27:24.000000000,2017-08-01 16:28:22.000000000,,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 6854}]","[{'number': 1, 'created': '2017-07-21 16:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4f4fa16e68c1380779448fb9f28fdb5d790a1918', 'message': ""experimental: disable some of tempests test that uses floating ip\n\nthere are so many tempests tests that uses floating ip with ssh.\nit causes timeout without logs. Disable some of them for logs.\nDon't disable network related tests. e.g. network_basic_ops.\n\nChange-Id: I544700122f16b7456a8be7836e69f69b406449ee\n""}, {'number': 2, 'created': '2017-07-21 17:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d6b068305f04a85de6f5a8e58f5f287277366809', 'message': ""experimental: disable some of tempests test that uses floating ip\n\nthere are so many tempests tests that uses floating ip with ssh.\nit causes timeout without logs. Disable some of them for logs.\nDon't disable network related tests. e.g. network_basic_ops.\n\nChange-Id: I544700122f16b7456a8be7836e69f69b406449ee\n""}, {'number': 3, 'created': '2017-07-22 17:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c0f01da3b447cdaa8dfdecec79ca657afdf0b804', 'message': ""experimental: disable some of tempests test that uses floating ip\n\nthere are so many tempests tests that uses floating ip with ssh.\nit causes timeout without logs. Disable some of them for logs.\nDon't disable network related tests. e.g. network_basic_ops.\n\nChange-Id: I544700122f16b7456a8be7836e69f69b406449ee\n""}, {'number': 4, 'created': '2017-07-29 01:44:19.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/eb9a5179152260a241455f1ad1a4ff6614f981a4', 'message': ""don't merge: experimental: disable some of tempests test that uses floating ip\n\nthere are so many tempests tests that uses floating ip with ssh.\nit causes timeout without logs. Disable some of them for logs.\nDon't disable network related tests. e.g. network_basic_ops.\n\nChange-Id: I544700122f16b7456a8be7836e69f69b406449ee\n""}]",9,486177,eb9a5179152260a241455f1ad1a4ff6614f981a4,19,3,4,333,,,0,"don't merge: experimental: disable some of tempests test that uses floating ip

there are so many tempests tests that uses floating ip with ssh.
it causes timeout without logs. Disable some of them for logs.
Don't disable network related tests. e.g. network_basic_ops.

Change-Id: I544700122f16b7456a8be7836e69f69b406449ee
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/77/486177/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,4f4fa16e68c1380779448fb9f28fdb5d790a1918,experiment-disable-some-ssh,"# TODO(yamahata): ssh via floating ip # There are so many tests that uses ssh via floating ip # Disable some of them. Dont' disable network related one. e.g. network_basic_ops r=""$r|(?:tempest\.api\.compute\.admin\.test_create_server\.ServersWithSpecificFlavorTestJSON\.test_verify_created_server_ephemeral_disk"" r=""$r|(?:tempest\.api\.compute\.admin\.test_create_server\.ServersWithSpecificFlavorTestJSON\.test_verify_created_server_ephemeral_disk$)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_create_server\.ServersTestJSON\.test_host_name_is_same_as_server_name$)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_create_server\.ServersTestJSON\.test_verify_created_server_vcpus$)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_create_server\.ServersTestManualDisk\.test_host_name_is_same_as_server_name$)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_create_server\.ServersTestManualDisk\.test_verify_created_server_vcpus$)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_device_tagging\.DeviceTaggingTest\.test_device_tagging$)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_device_tagging\.DeviceTaggingTestV2_42\.test_device_tagging$)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_reboot_server_hard$)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_rebuild_server$)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON\.test_rebuild_server_with_volume_attached$)"" r=""$r|(?:tempest\.api\.compute\.volumes\.test_attach_volume\.AttachVolumeShelveTestJSON\.test_attach_detach_volume$)"" r=""$r|(?:tempest\.api\.compute\.volumes\.test_attach_volume\.AttachVolumeShelveTestJSON\.test_attach_volume_shelved_or_offload_server$)"" r=""$r|(?:tempest\.api\.compute\.volumes\.test_attach_volume\.AttachVolumeShelveTestJSON\.test_detach_volume_shelved_or_offload_server$)"" r=""$r|(?:tempest\.api\.compute\.volumes\.test_attach_volume\.AttachVolumeTestJSON\.test_attach_detach_volume$)"" ",,19,0
openstack%2Ftripleo-quickstart~master~I9a7276f930189ed25f6df7833caf70db1e66b876,openstack/tripleo-quickstart,master,I9a7276f930189ed25f6df7833caf70db1e66b876,Adjust ansible ssh settings for performance,MERGED,2017-06-07 18:48:54.000000000,2017-08-01 16:27:45.000000000,2017-08-01 16:27:45.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-06-07 18:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fef2b6ec9d338f101a337de33a27b87941d1bfbe', 'message': 'WIP, adjust ansible ssh settings for performance\n\nI think there is some debate around what we should or should\nnot include in the ansible configuration by default.  Putting up\na patch to see if there are any negative results and looking for\nfeedback.\n\nChange-Id: I9a7276f930189ed25f6df7833caf70db1e66b876\n'}, {'number': 2, 'created': '2017-06-07 18:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/26193de45d987f0fc9c4b3ca0a892722b25d02e3', 'message': 'WIP, adjust ansible ssh settings for performance\n\nI think there is some debate around what we should or should\nnot include in the ansible configuration by default.  Putting up\na patch to see if there are any negative results and looking for\nfeedback.\n\nReferences:\nhttps://patrickmn.com/aside/how-to-keep-alive-ssh-sessions/\nhttps://developer.rackspace.com/blog/speeding-up-ssh-session-creation/\nhttp://docs.ansible.com/ansible/intro_configuration.html#pipelining\nhttp://docs.ansible.com/ansible/intro_configuration.html#retries\n\nChange-Id: I9a7276f930189ed25f6df7833caf70db1e66b876\n'}, {'number': 3, 'created': '2017-06-14 16:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/79193d2766c72459f8df4da063907f2623e754de', 'message': 'WIP, adjust ansible ssh settings for performance\n\nI think there is some debate around what we should or should\nnot include in the ansible configuration by default.  Putting up\na patch to see if there are any negative results and looking for\nfeedback.\n\nReferences:\nhttps://patrickmn.com/aside/how-to-keep-alive-ssh-sessions/\nhttps://developer.rackspace.com/blog/speeding-up-ssh-session-creation/\nhttp://docs.ansible.com/ansible/intro_configuration.html#pipelining\nhttp://docs.ansible.com/ansible/intro_configuration.html#retries\n\nChange-Id: I9a7276f930189ed25f6df7833caf70db1e66b876\n'}, {'number': 4, 'created': '2017-06-14 17:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0788d389ea8c2658025c96a8f00183aa23559898', 'message': 'Adjust ansible ssh settings for performance\n\nImprove the performance of ansible tasks by updating the ansible.cfg\nconfiguration.\n\nReferences:\nhttps://patrickmn.com/aside/how-to-keep-alive-ssh-sessions/\nhttps://developer.rackspace.com/blog/speeding-up-ssh-session-creation/\nhttp://docs.ansible.com/ansible/intro_configuration.html#pipelining\nhttp://docs.ansible.com/ansible/intro_configuration.html#retries\n\nChange-Id: I9a7276f930189ed25f6df7833caf70db1e66b876\n'}, {'number': 5, 'created': '2017-06-21 22:49:50.000000000', 'files': ['ansible.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ab423865f65a8d435d50706ff926339b1336ffad', 'message': 'Adjust ansible ssh settings for performance\n\nImprove the performance of ansible tasks by updating the ansible.cfg\nconfiguration.\n\nReferences:\nhttps://patrickmn.com/aside/how-to-keep-alive-ssh-sessions/\nhttps://developer.rackspace.com/blog/speeding-up-ssh-session-creation/\nhttp://docs.ansible.com/ansible/intro_configuration.html#pipelining\nhttp://docs.ansible.com/ansible/intro_configuration.html#retries\n\nChange-Id: I9a7276f930189ed25f6df7833caf70db1e66b876\n'}]",2,471886,ab423865f65a8d435d50706ff926339b1336ffad,29,12,5,9592,,,0,"Adjust ansible ssh settings for performance

Improve the performance of ansible tasks by updating the ansible.cfg
configuration.

References:
https://patrickmn.com/aside/how-to-keep-alive-ssh-sessions/
https://developer.rackspace.com/blog/speeding-up-ssh-session-creation/
http://docs.ansible.com/ansible/intro_configuration.html#pipelining
http://docs.ansible.com/ansible/intro_configuration.html#retries

Change-Id: I9a7276f930189ed25f6df7833caf70db1e66b876
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/86/471886/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible.cfg'],1,fef2b6ec9d338f101a337de33a27b87941d1bfbe,I9a7276f930189ed25f6df7833caf70db1e66b876,ssh_args = -o ControlMaster=auto -o ControlPersist=270s retries = 3 pipelining = True ,,4,0
openstack%2Fpuppet-openstack-integration~master~I0e05905f1842921df987f7f65b7863e005a97fb3,openstack/puppet-openstack-integration,master,I0e05905f1842921df987f7f65b7863e005a97fb3,"Revert ""Disable vitrage in scenario001""",MERGED,2017-06-23 09:29:42.000000000,2017-08-01 16:23:32.000000000,2017-06-26 23:45:16.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 15519}, {'_account_id': 16312}]","[{'number': 1, 'created': '2017-06-23 09:29:42.000000000', 'files': ['fixtures/scenario001.pp', 'manifests/vitrage.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/272e1034277c6bf90f4855a78072bd1ed2c6ae28', 'message': 'Revert ""Disable vitrage in scenario001""\n\nThis reverts commit 81642e4f13f05de4f3e99aded3a5e049927f56c8.\n\nChange-Id: I0e05905f1842921df987f7f65b7863e005a97fb3\nDepends-On: I1d18f6c0d38bb66e03ab2977570310cb2357015c\n'}]",0,476853,272e1034277c6bf90f4855a78072bd1ed2c6ae28,13,4,1,16312,,,0,"Revert ""Disable vitrage in scenario001""

This reverts commit 81642e4f13f05de4f3e99aded3a5e049927f56c8.

Change-Id: I0e05905f1842921df987f7f65b7863e005a97fb3
Depends-On: I1d18f6c0d38bb66e03ab2977570310cb2357015c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/53/476853/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'manifests/vitrage.pp']",2,272e1034277c6bf90f4855a78072bd1ed2c6ae28,, class { '::vitrage::collector': },,2,1
openstack%2Fglance_store~master~I7356c814fcefaefb7cac500b920322ad72ee9e09,openstack/glance_store,master,I7356c814fcefaefb7cac500b920322ad72ee9e09,Updated from global requirements,MERGED,2017-08-01 13:27:39.000000000,2017-08-01 16:20:26.000000000,2017-08-01 16:20:26.000000000,"[{'_account_id': 3}, {'_account_id': 5314}]","[{'number': 1, 'created': '2017-08-01 13:27:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/b6c19346d85a6bf43b1202f936549918c69ebe29', 'message': 'Updated from global requirements\n\nChange-Id: I7356c814fcefaefb7cac500b920322ad72ee9e09\n'}]",0,489603,b6c19346d85a6bf43b1202f936549918c69ebe29,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I7356c814fcefaefb7cac500b920322ad72ee9e09
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/03/489603/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b6c19346d85a6bf43b1202f936549918c69ebe29,openstack/requirements, os-brick>=1.15.2 # Apache-2.0, os-brick>=1.15.1 # Apache-2.0,1,1
openstack%2Fi18n~master~I9a6b73032ad1c489e35d85c58422659b4d8e1415,openstack/i18n,master,I9a6b73032ad1c489e35d85c58422659b4d8e1415,Sync Zanata translator list,MERGED,2017-08-01 15:58:52.000000000,2017-08-01 16:13:43.000000000,2017-08-01 16:13:43.000000000,"[{'_account_id': 3}, {'_account_id': 841}]","[{'number': 1, 'created': '2017-08-01 15:58:52.000000000', 'files': ['tools/zanata/translation_team.yaml'], 'web_link': 'https://opendev.org/openstack/i18n/commit/a2762d616c77a1d2355f5621c33f430970eb25f7', 'message': 'Sync Zanata translator list\n\nThe user list is synced by a script. For more detail, see\nhttps://docs.openstack.org/i18n/latest/tools.html#sync-the-translator-list-with-zanata\n\nChange-Id: I9a6b73032ad1c489e35d85c58422659b4d8e1415\n'}]",0,489646,a2762d616c77a1d2355f5621c33f430970eb25f7,6,2,1,841,,,0,"Sync Zanata translator list

The user list is synced by a script. For more detail, see
https://docs.openstack.org/i18n/latest/tools.html#sync-the-translator-list-with-zanata

Change-Id: I9a6b73032ad1c489e35d85c58422659b4d8e1415
",git fetch https://review.opendev.org/openstack/i18n refs/changes/46/489646/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/zanata/translation_team.yaml'],1,a2762d616c77a1d2355f5621c33f430970eb25f7,zanata-users-sync, - betorvalds - ianychoi - jsshin - kiseok7 - nexusz99 - ujuc - wonil22 - koain translators: - bryan_tak - eukim - vi01et - jongwooh - junheon - michaelko - minwookshin - billxiang, - ianychoi - kiseok7 - ujuc translators: - youli - bryan_tak - gemma - dbgong - chuinggun - eukim - ejbaek - jazzsir - gyahoo617 - takowasabi - hyangii - jaygtv - jmlim - whitekjs - jennie - chasetherabbit - joohong - gojun077 - choipro14 - ryan - powhapki - kiras11 - kepark07 - leegy1 - lapalm - macjack - choi - naleejang - nicholas_hpark - ohjoohyun - paganinist - raymon_ha - seyeon - seonhopark - allen1222 - frontjang - intensify - kthguru - thnam - muhanpong - wonki - gigsda - billxiang,17,47
openstack%2Ftripleo-heat-templates~master~Ibc9964902637429209d4e1c1563b462c60090365,openstack/tripleo-heat-templates,master,Ibc9964902637429209d4e1c1563b462c60090365,Provides Ceph config into OpenStack clients,MERGED,2017-07-11 10:21:13.000000000,2017-08-01 16:10:30.000000000,2017-07-26 19:58:54.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 13039}, {'_account_id': 18002}, {'_account_id': 18142}, {'_account_id': 19564}, {'_account_id': 22700}, {'_account_id': 23811}]","[{'number': 1, 'created': '2017-07-11 10:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63b33edb5fd0757593f1bef6028fd2d485de74e7', 'message': 'Provides Ceph config into OpenStack clients\n\nThis assumes ceph-ansible to have configured the Ceph cluster\nand copies into the OpenStack containers the necessary client\nconfigs.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 2, 'created': '2017-07-11 10:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/795c6e4b59314c299a2678e53d610bdd6eba9ccd', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible will have configured the Ceph cluster via\nworkflow (also on the client nodes), this change copies into\nthe OpenStack containers the necessary client configs.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 3, 'created': '2017-07-11 16:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1577362e209040b901478260f6a63682f5543c8', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible will have configured the Ceph cluster via\nworkflow (also on the client nodes), this change copies into\nthe OpenStack containers the necessary client configs.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 4, 'created': '2017-07-13 12:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/407fefed5ebc89be30974372ee644f1774bd09fc', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible will have configured the Ceph cluster via\nworkflow (also on the client nodes), this change copies into\nthe OpenStack containers the necessary client configs.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 5, 'created': '2017-07-17 14:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a55d44406d6266d841511e59efb4f1c46eb59cc', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible will have configured the Ceph cluster via\nworkflow (also on the client nodes), this change copies into\nthe OpenStack containers the necessary client configs.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 6, 'created': '2017-07-17 21:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbe999b50a2fa6aab3ea64c978ca63e457858eab', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible will have configured the Ceph cluster via\nworkflow (also on the client nodes), this change copies into\nthe OpenStack containers the necessary client configs.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 7, 'created': '2017-07-18 11:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a70c83d85e0306d2367ffed48f4b675c1a3c013f', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible will have configured the Ceph cluster via\nworkflow (also on the client nodes), this change copies into\nthe OpenStack containers the necessary client configs.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 8, 'created': '2017-07-18 21:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2a99633183e956fcea17e060b8c712d4d08e983', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible will have configured the Ceph cluster via\nworkflow (also on the client nodes), this change copies into\nthe OpenStack containers the necessary client configs.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 9, 'created': '2017-07-19 02:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b384abb3d934dc6174aa75ce93b5ac526cc2127d', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible and puppet-ceph will have created the Ceph\nconfig files and keys in /etc/ceph already, this change copies\ninto the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 10, 'created': '2017-07-19 02:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62f94507d11d6bc57f11f7dc8a177581be636748', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 11, 'created': '2017-07-19 03:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ef1b193d1d646ca1ca36b5b7d95529415bacdf6', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 12, 'created': '2017-07-19 07:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7b668012e9e29142899a4bd4f052355c26bbf60', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 13, 'created': '2017-07-19 11:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3ddb42c594c57e4603bf6bf184b5245658dac25', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 14, 'created': '2017-07-21 17:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8322a437c927f80fc994f41476eec00cc8fdb0f', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 15, 'created': '2017-07-22 07:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ca42192dfd96a2ac8ba5c629e189cfe9331e6d5', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\nDepends-On: I87d89c2d4f54ceb505fbb9ed6caec99b3a88871f'}, {'number': 16, 'created': '2017-07-24 13:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b20d4af7333796aa598ba49305bdb024c9924bea', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\nDepends-On: I87d89c2d4f54ceb505fbb9ed6caec99b3a88871f\n'}, {'number': 17, 'created': '2017-07-25 13:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9b577a0ad4f16bf5dac9acc8fef862b6cc74acc', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\nDepends-On: I87d89c2d4f54ceb505fbb9ed6caec99b3a88871f\n'}, {'number': 18, 'created': '2017-07-25 13:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b74b002bb888d77aa0563cbf8b168173f5e23de7', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\nDepends-On: I87d89c2d4f54ceb505fbb9ed6caec99b3a88871f\n'}, {'number': 19, 'created': '2017-07-25 13:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da4162993fe651926ead11fac908c24959069444', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 20, 'created': '2017-07-25 21:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/615855669b9dc1db04f8f576ac0062ed5667f995', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}, {'number': 21, 'created': '2017-07-25 22:08:06.000000000', 'files': ['docker/services/cinder-volume.yaml', 'docker/services/gnocchi-metricd.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/manila-share.yaml', 'docker/services/glance-api.yaml', 'docker/services/nova-libvirt.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed0b77ff93a1a1e071d32f6a758e04c6d0b041ef', 'message': 'Provides Ceph config into OpenStack clients\n\nGiven ceph-ansible or puppet-ceph will have created the Ceph\nconfig files and keyrings in /etc/ceph on baremetal, this change\ncopies into the OpenStack containers the necessary files for the\nservices to be able to connect to the Ceph cluster.\n\nChange-Id: Ibc9964902637429209d4e1c1563b462c60090365\n'}]",11,482500,ed0b77ff93a1a1e071d32f6a758e04c6d0b041ef,111,13,21,6796,,,0,"Provides Ceph config into OpenStack clients

Given ceph-ansible or puppet-ceph will have created the Ceph
config files and keyrings in /etc/ceph on baremetal, this change
copies into the OpenStack containers the necessary files for the
services to be able to connect to the Ceph cluster.

Change-Id: Ibc9964902637429209d4e1c1563b462c60090365
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/482500/21 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/cinder-volume.yaml', 'environments/storage-environment.yaml', 'docker/services/gnocchi-metricd.yaml', 'environments/ceph-ansible/ceph-ansible.yaml', 'docker/services/cinder-backup.yaml', 'docker/services/glance-api.yaml', 'docker/services/nova-compute.yaml', 'docker/services/nova-libvirt.yaml', 'extraconfig/services/ceph-ansible/ceph-client.yaml']",9,63b33edb5fd0757593f1bef6028fd2d485de74e7,bp/tripleo-ceph-ansible,"yheat_template_version: pike description: > Ceph Client service. parameters: ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json resources: CephBase: type: ./ceph-base.yaml properties: ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} outputs: role_data: description: Role data for the Ceph Client service. value: service_name: ceph_client service_workflow_tasks: {get_attr: [CephBase, role_data, service_workflow_tasks]} ",,91,21
openstack%2Ftripleo-common~master~Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab,openstack/tripleo-common,master,Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab,Pass all network data to render network/port templates,MERGED,2017-06-22 20:01:15.000000000,2017-08-01 16:08:56.000000000,2017-08-01 16:08:56.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 21909}]","[{'number': 1, 'created': '2017-06-22 20:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c1bbc4bcef85bedd40191366b42ef837f1b389b2', 'message': 'Pass all network data into network/port templates when rendering\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the network\nand port templates in order to create custom networks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.port.j2.yaml and\nport_from_pool.j2.yaml) will produce these two types of\nports for custom networks, and the custom networks will\nbe rendered by the network.network.j2.yaml template.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 2, 'created': '2017-06-22 20:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fc35cd01460db6dbefe2a138b0eb3b0dab9e2872', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the network\nand port templates in order to create custom networks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.port.j2.yaml and\nport_from_pool.j2.yaml) will produce these two types of\nports for custom networks, and the custom networks will\nbe rendered by the network.network.j2.yaml template.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 3, 'created': '2017-06-22 21:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7be03eb5ecffeff0e20eef9697b6bb34d2effc7d', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the network\nand port templates in order to create custom networks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.port.j2.yaml and\nport_from_pool.j2.yaml) will produce these two types of\nports for custom networks, and the custom networks will\nbe rendered by the network.network.j2.yaml template.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 4, 'created': '2017-06-23 20:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c5a5b698fc1f85ffcbb4c06c4608ed22e7c7741c', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the network\nand port templates in order to create custom networks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.port.j2.yaml and\nport_from_pool.j2.yaml) will produce these two types of\nports for custom networks, and the custom networks will\nbe rendered by the network.network.j2.yaml template.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 5, 'created': '2017-06-24 00:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3812d802f51d7f6bab49ea1d0522c1f929640bb0', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the network\nand port templates in order to create custom networks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.port.j2.yaml and\nport_from_pool.j2.yaml) will produce these two types of\nports for custom networks, and the custom networks will\nbe rendered by the network.network.j2.yaml template.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\nPartially-Implements: blueprint composable-networks'}, {'number': 6, 'created': '2017-06-30 22:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6e7b11f727efdafa0adf38a7a68831ca49010e9e', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the network\nand port templates in order to create custom networks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.port.j2.yaml and\nport_from_pool.j2.yaml) will produce these two types of\nports for custom networks, and the custom networks will\nbe rendered by the network.network.j2.yaml template.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 7, 'created': '2017-07-07 15:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d028872820002932a8c6e504c20a8ebc2d31d790', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the network\nand port templates in order to create custom networks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.port.j2.yaml and\nport_from_pool.j2.yaml) will produce these two types of\nports for custom networks, and the custom networks will\nbe rendered by the network.network.j2.yaml template.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 8, 'created': '2017-07-12 22:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b47ef6c7cdcbbeabc30a9b45bcbe145c31993218', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the network\nand port templates in order to create custom networks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.port.j2.yaml and\nport_from_pool.j2.yaml) will produce these two types of\nports for custom networks, and the custom networks will\nbe rendered by the network.network.j2.yaml template.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 9, 'created': '2017-07-13 07:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a99e578eb3865883275f83d617f91e12e108f182', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the network\nand port templates in order to create custom networks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.port.j2.yaml and\nport_from_pool.j2.yaml) will produce these two types of\nports for custom networks, and the custom networks will\nbe rendered by the network.network.j2.yaml template.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 10, 'created': '2017-07-19 01:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab82c6df7c52f147d0926abbf827ec52d404b614', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the\nnetwork and port templates in order to create custom\nnetworks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.network.j2.yaml and\nport_from_pool.network.j2.yaml) will produce these two\ntypes of ports for custom networks, and the custom\nnetworks will be rendered by the network.network.j2.yaml\ntemplate.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 11, 'created': '2017-07-19 18:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9ae04c7dc4b7a8bfe7ca8c1112306511028037d4', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the\nnetwork and port templates in order to create custom\nnetworks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.network.j2.yaml and\nport_from_pool.network.j2.yaml) will produce these two\ntypes of ports for custom networks, and the custom\nnetworks will be rendered by the network.network.j2.yaml\ntemplate.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 12, 'created': '2017-07-19 19:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d082fc59de3a9f359a0c6b5e84abd2d01acfc7cc', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the\nnetwork and port templates in order to create custom\nnetworks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.network.j2.yaml and\nport_from_pool.network.j2.yaml) will produce these two\ntypes of ports for custom networks, and the custom\nnetworks will be rendered by the network.network.j2.yaml\ntemplate.\n\nThis change is required by review 475612\n( If074f87494a46305c990a0ea332c7b576d3c6ed8 )\n\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}, {'number': 13, 'created': '2017-07-20 22:29:26.000000000', 'files': ['tripleo_common/actions/templates.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e48a73cb4ef2d40cfdd322e7cc19f615aa4ad1c7', 'message': 'Pass all network data to render network/port templates\n\nThe current model passes the whole role map to roles, but\nthis change adds passing the whole network map to the\nnetwork and port templates in order to create custom\nnetworks.\n\nTripleO currently uses a fixed set of networks, with two\nport types with automatic and manual IP selection. The\ntwo port type templates (port.network.j2.yaml and\nport_from_pool.network.j2.yaml) will produce these two\ntypes of ports for custom networks, and the custom\nnetworks will be rendered by the network.network.j2.yaml\ntemplate.\n\nChange-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab\n'}]",14,476682,e48a73cb4ef2d40cfdd322e7cc19f615aa4ad1c7,63,10,13,12398,,,0,"Pass all network data to render network/port templates

The current model passes the whole role map to roles, but
this change adds passing the whole network map to the
network and port templates in order to create custom
networks.

TripleO currently uses a fixed set of networks, with two
port types with automatic and manual IP selection. The
two port type templates (port.network.j2.yaml and
port_from_pool.network.j2.yaml) will produce these two
types of ports for custom networks, and the custom
networks will be rendered by the network.network.j2.yaml
template.

Change-Id: Iab8aca2f1fcaba0c8f109717a4b3068f629c9aab
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/476682/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/templates.py'],1,c1bbc4bcef85bedd40191366b42ef837f1b389b2,bp/composable-networks," n_map = {} for n in network_data: if (n.get('enabled') != False): n_map[n.get('name')] = n if not n.get('name_lower'): n_map[n.get('name')]['name_lower'] = n.get('name').lower() else: LOG.info(""skipping %s network: enabled is False"" % n.get('name')) for f in [f.get('name') for f in container_files[1]]: # We do four templating passes here: # 2 *.network.j2.yaml - we template the network name and # data and create multiple files (one per network) # 3 *.port.j2.yaml - we template the network name and data for # each file to create multiple port templates for each network. # 4. *.j2.yaml - we template with all roles_data, elif f.endswith('.network.j2.yaml'): LOG.info(""jinja2 rendering network template %s"" % f) j2_template = swift.get_object(self.container, f)[1] LOG.info(""jinja2 rendering networks %s"" % "","".join(n_map)) for network in n_map: j2_data = {'network': n_map[network]} # Output file names in ""<name>.yaml"" format out_f = ""{}{}"".format(n_map[network] ['name_lower'], "".yaml"") out_f_path = os.path.join(out_dir, out_f) if not (out_f_path in excl_templates): _j2_render_to_file(template_data, j2_data, out_f_path) else: print('skipping rendering of %s' % out_f_path) elif f.endswith('.port.j2.yaml'): LOG.info(""jinja2 rendering network port template %s"" % f) j2_template = swift.get_object(self.container, f)[1] for network in n_map: j2_data = {'network': n_map[network]} # Replace 'port' with network name for each newtork # so.port.j2.yaml and port_from_pool.port.j2.yaml # output <name>.yaml and <name>_from_pool.yaml. out_f = os.path.basename(f).replace('port.j2.yaml', 'yaml') out_f = out_f.replace('port', n_map[network]['name_lower']) self._j2_render_and_put(j2_template, j2_data, out_f, context=context) else: print('skipping rendering of %s' % out_f_path) "," for f in [f.get('name') for f in container_files[1]]: # We do two templating passes here: # 2. *.j2.yaml - we template with all roles_data,",49,2
openstack%2Fceilometer~stable%2Focata~Iab7dade8be7778371f6847b22f5dbec438d7fff7,openstack/ceilometer,stable/ocata,Iab7dade8be7778371f6847b22f5dbec438d7fff7,Fix inspect_vnics error for libvirt,MERGED,2017-07-25 13:54:40.000000000,2017-08-01 16:08:13.000000000,2017-08-01 16:08:13.000000000,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 20100}, {'_account_id': 22752}, {'_account_id': 23314}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-07-25 13:54:40.000000000', 'files': ['ceilometer/compute/virt/libvirt/inspector.py', 'ceilometer/tests/unit/compute/virt/libvirt/test_inspector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9c888800318cf82651fc53868ae86c5761fe46f2', 'message': 'Fix inspect_vnics error for libvirt\n\nIn function inspect_vnics for libvirt, rx_drop and rx_errors have wrong\nposition, and tx_drop and tx_errors are the same.\n\nThis change is to fix this mistake.\n\nChange-Id: Iab7dade8be7778371f6847b22f5dbec438d7fff7\nCloses-Bug: #1706264\n(cherry picked from commit 12d63a4192e8b1f42c4530dfeec9b9587aec91f8)\n'}]",0,487058,9c888800318cf82651fc53868ae86c5761fe46f2,12,6,1,6537,,,0,"Fix inspect_vnics error for libvirt

In function inspect_vnics for libvirt, rx_drop and rx_errors have wrong
position, and tx_drop and tx_errors are the same.

This change is to fix this mistake.

Change-Id: Iab7dade8be7778371f6847b22f5dbec438d7fff7
Closes-Bug: #1706264
(cherry picked from commit 12d63a4192e8b1f42c4530dfeec9b9587aec91f8)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/58/487058/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/compute/virt/libvirt/inspector.py', 'ceilometer/tests/unit/compute/virt/libvirt/test_inspector.py']",2,9c888800318cf82651fc53868ae86c5761fe46f2,bug/1706264," 'vnet0': (1, 2, 21, 22, 3, 4, 23, 24), 'vnet1': (5, 6, 25, 26, 7, 8, 27, 28), 'vnet2': (9, 10, 29, 30, 11, 12, 31, 32), self.assertEqual(21, info0.rx_errors) self.assertEqual(22, info0.rx_drop) self.assertEqual(23, info0.tx_errors) self.assertEqual(24, info0.tx_drop) self.assertEqual(25, info1.rx_errors) self.assertEqual(26, info1.rx_drop) self.assertEqual(27, info1.tx_errors) self.assertEqual(28, info1.tx_drop) self.assertEqual(29, info2.rx_errors) self.assertEqual(30, info2.rx_drop) self.assertEqual(31, info2.tx_errors) self.assertEqual(32, info2.tx_drop)"," 'vnet0': (1, 2, 0, 0, 3, 4, 0, 0), 'vnet1': (5, 6, 0, 0, 7, 8, 0, 0), 'vnet2': (9, 10, 0, 0, 11, 12, 0, 0),",19,7
openstack%2Fceilometer~master~If79f91687c6c1bc27d906045573674b002534ab1,openstack/ceilometer,master,If79f91687c6c1bc27d906045573674b002534ab1,stop converting to old message format,MERGED,2017-06-22 21:39:44.000000000,2017-08-01 16:08:01.000000000,2017-08-01 16:08:01.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 15843}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-06-22 21:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/af4c4f835e5a1a77160216940830265da298e482', 'message': 'stop converting to old message format\n\nprocess notifications as is. this should not impact upgrades as\nthis does not change what is outputed by notification agent in\nany way, just how it does initial processing.\n\nnote, this *will* change what is stored in Events if raw field is\nenabled. that said, the raw field is unqueryable from Panko pov and\nit actually is storing the raw message now.\n\nChange-Id: If79f91687c6c1bc27d906045573674b002534ab1\n'}, {'number': 2, 'created': '2017-07-18 13:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ed648f3269834c809143f8482985a019eea552e6', 'message': 'stop converting to old message format\n\nprocess notifications as is. this should not impact upgrades as\nthis does not change what is outputed by notification agent in\nany way, just how it does initial processing.\n\nnote, this *will* change what is stored in Events if raw field is\nenabled. that said, the raw field is unqueryable from Panko pov and\nit actually is storing the raw message now.\n\nChange-Id: If79f91687c6c1bc27d906045573674b002534ab1\n'}, {'number': 3, 'created': '2017-07-28 13:01:05.000000000', 'files': ['ceilometer/ipmi/notifications/ironic.py', 'ceilometer/agent/plugin_base.py', 'ceilometer/event/trait_plugins.py', 'ceilometer/pipeline/data/event_definitions.yaml', 'ceilometer/sample.py', 'ceilometer/event/endpoint.py', 'ceilometer/tests/unit/agent/test_plugin.py', 'ceilometer/tests/unit/event/test_converter.py', 'ceilometer/messaging.py', 'ceilometer/tests/unit/meter/test_notifications.py', 'ceilometer/tests/unit/ipmi/notifications/ipmi_test_data.py', 'ceilometer/meter/notifications.py', 'ceilometer/event/converter.py', 'ceilometer/tests/unit/test_middleware.py', 'ceilometer/data/meters.d/meters.yaml', 'ceilometer/tests/unit/test_sample.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/130a9ed34374b053ab432ed32ae39a9f944f7ec1', 'message': 'stop converting to old message format\n\nprocess notifications as is. this should not impact upgrades as\nthis does not change what is outputed by notification agent in\nany way, just how it does initial processing.\n\nnote, this *will* change what is stored in Events if raw field is\nenabled. that said, the raw field is unqueryable from Panko pov and\nit actually is storing the raw message now.\n\nChange-Id: If79f91687c6c1bc27d906045573674b002534ab1\n'}]",3,476715,130a9ed34374b053ab432ed32ae39a9f944f7ec1,20,6,3,6537,,,0,"stop converting to old message format

process notifications as is. this should not impact upgrades as
this does not change what is outputed by notification agent in
any way, just how it does initial processing.

note, this *will* change what is stored in Events if raw field is
enabled. that said, the raw field is unqueryable from Panko pov and
it actually is storing the raw message now.

Change-Id: If79f91687c6c1bc27d906045573674b002534ab1
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/15/476715/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/ipmi/notifications/ironic.py', 'ceilometer/agent/plugin_base.py', 'ceilometer/event/trait_plugins.py', 'ceilometer/pipeline/data/event_definitions.yaml', 'ceilometer/sample.py', 'ceilometer/event/endpoint.py', 'ceilometer/tests/unit/agent/test_plugin.py', 'ceilometer/tests/unit/event/test_converter.py', 'ceilometer/messaging.py', 'ceilometer/tests/unit/meter/test_notifications.py', 'ceilometer/tests/unit/ipmi/notifications/ipmi_test_data.py', 'ceilometer/meter/notifications.py', 'ceilometer/event/converter.py', 'ceilometer/tests/unit/test_middleware.py', 'ceilometer/data/meters.d/meters.yaml', 'ceilometer/tests/unit/test_sample.py']",16,af4c4f835e5a1a77160216940830265da298e482,event-time," 'metadata': { 'timestamp': u'2015-06-1909: 19: 35.786893', 'message_id': u'939823de-c242-45a2-a399-083f4d6a8c3e'}, 'metadata': { 'timestamp': u'2015-06-1909: 19: 35.786893', 'message_id': u'939823de-c242-45a2-a399-083f4d6a8c3e'},"," 'timestamp': u'2015-06-1909: 19: 35.786893', 'message_id': u'939823de-c242-45a2-a399-083f4d6a8c3e' 'timestamp': u'2015-06-1909: 19: 35.786893', 'message_id': u'939823de-c242-45a2-a399-083f4d6a8c3e'",154,225
openstack%2Fi18n~master~I85b6ca25a09d4acfe90cc4bacdbd693b85bff038,openstack/i18n,master,I85b6ca25a09d4acfe90cc4bacdbd693b85bff038,Sync zanata IDs to Korean member list,ABANDONED,2017-07-21 05:10:20.000000000,2017-08-01 16:06:15.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 6882}, {'_account_id': 14482}, {'_account_id': 26256}]","[{'number': 1, 'created': '2017-07-21 05:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/7b3e417c1a0bf4ba6a30626d86c1c9016041f30c', 'message': 'Add zanata id to Korean member list\n\nAdd zanata id to Korean member list\n\nChange-Id: I85b6ca25a09d4acfe90cc4bacdbd693b85bff038\nSigned-off-by: JunHeon <jheon.hwang@samsung.com>\n'}, {'number': 2, 'created': '2017-07-31 01:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/0a63173296995a5666e48387c46c1caeaadff286', 'message': 'Add zanata id to Korean member list\n\nAdd zanata id to Korean member list\n\nChange-Id: I85b6ca25a09d4acfe90cc4bacdbd693b85bff038\nSigned-off-by: JunHeon <jheon.hwang@samsung.com>\n'}, {'number': 3, 'created': '2017-07-31 16:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/d97d9b0ba2b59feffff584de7c00f32d20ca2b04', 'message': 'Sync zanata IDs to Korean member list\n\nChange-Id: I85b6ca25a09d4acfe90cc4bacdbd693b85bff038\nSigned-off-by: JunHeon <jheon.hwang@samsung.com>\n'}, {'number': 4, 'created': '2017-08-01 09:23:16.000000000', 'files': ['tools/zanata/translation_team.yaml'], 'web_link': 'https://opendev.org/openstack/i18n/commit/14df70535c54cf04f256bc11c02688e023d822e6', 'message': 'Sync zanata IDs to Korean member list\n\nChange-Id: I85b6ca25a09d4acfe90cc4bacdbd693b85bff038\nSigned-off-by: JunHeon <jheon.hwang@samsung.com>\n'}]",3,485966,14df70535c54cf04f256bc11c02688e023d822e6,23,5,4,26256,,,0,"Sync zanata IDs to Korean member list

Change-Id: I85b6ca25a09d4acfe90cc4bacdbd693b85bff038
Signed-off-by: JunHeon <jheon.hwang@samsung.com>
",git fetch https://review.opendev.org/openstack/i18n refs/changes/66/485966/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/zanata/translation_team.yaml'],1,7b3e417c1a0bf4ba6a30626d86c1c9016041f30c,zanata-users-sync, - jheon,,1,0
openstack%2Fcharm-layer-openstack-api~master~Id4145ffaa622727523003015d7012ece2f0eae4f,openstack/charm-layer-openstack-api,master,Id4145ffaa622727523003015d7012ece2f0eae4f,Add worker-multiplier config option for reactive charms,MERGED,2017-07-25 13:04:39.000000000,2017-08-01 15:56:08.000000000,2017-08-01 15:56:08.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-07-25 13:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/33c6bf4f32908241cab277380e22141cf5448bfb', 'message': ""Add worker-multiplier config option for reactive charms\n\nThis change add a 'worker-multiplier' option to layer-openstack-api\nwhich is used by a concomitant commit in the charms.openstack library.\n\nThe usage is identical to non-reactive charms as described in the\ncharmhelpers library.\n\nChange-Id: Id4145ffaa622727523003015d7012ece2f0eae4f\n""}, {'number': 2, 'created': '2017-08-01 15:11:21.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/83f22ed3e616bf1db1969f3be3d86989820d28ff', 'message': ""Add worker-multiplier config option for reactive charms\n\nThis change add a 'worker-multiplier' option to layer-openstack-api\nwhich is used by a concomitant commit in the charms.openstack library.\n\nThe usage is identical to non-reactive charms as described in the\ncharmhelpers library.\n\nChange-Id: Id4145ffaa622727523003015d7012ece2f0eae4f\n""}]",0,487047,83f22ed3e616bf1db1969f3be3d86989820d28ff,10,3,2,20870,,,0,"Add worker-multiplier config option for reactive charms

This change add a 'worker-multiplier' option to layer-openstack-api
which is used by a concomitant commit in the charms.openstack library.

The usage is identical to non-reactive charms as described in the
charmhelpers library.

Change-Id: Id4145ffaa622727523003015d7012ece2f0eae4f
",git fetch https://review.opendev.org/openstack/charm-layer-openstack-api refs/changes/47/487047/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,33c6bf4f32908241cab277380e22141cf5448bfb,worker-multiplier," worker-multiplier: type: float default: description: | The CPU core multiplier to use when configuring worker processes. By default, the number of workers for each daemon is set to twice the number of CPU cores a service unit has. When deployed in a LXD container, this default value will be capped to 4 workers unless this configuration option is set.",,9,0
openstack%2Freleases~master~I9b6573e8e5a7c4acd0d33a9cf0790b58d4e60662,openstack/releases,master,I9b6573e8e5a7c4acd0d33a9cf0790b58d4e60662,use yes/no for boolean values in reformatter,MERGED,2017-07-31 20:35:04.000000000,2017-08-01 15:41:50.000000000,2017-08-01 15:41:50.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/99729b8209d3ac9141da8f4c929a90faa2438bd5', 'message': 'use yes/no for boolean values in reformatter\n\nThe default is to use true/false but most of our data is already yes/no.\n\nChange-Id: I9b6573e8e5a7c4acd0d33a9cf0790b58d4e60662\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0116fe65982db5bc146e210d2a6c2c40276c0fd6', 'message': 'use yes/no for boolean values in reformatter\n\nThe default is to use true/false but most of our data is already yes/no.\n\nChange-Id: I9b6573e8e5a7c4acd0d33a9cf0790b58d4e60662\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': ['openstack_releases/yamlutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/04f903f7a0402f285c2768767da52ee18a1f6b5b', 'message': 'use yes/no for boolean values in reformatter\n\nThe default is to use true/false but most of our data is already yes/no.\n\nChange-Id: I9b6573e8e5a7c4acd0d33a9cf0790b58d4e60662\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489382,04f903f7a0402f285c2768767da52ee18a1f6b5b,11,3,3,2472,,,0,"use yes/no for boolean values in reformatter

The default is to use true/false but most of our data is already yes/no.

Change-Id: I9b6573e8e5a7c4acd0d33a9cf0790b58d4e60662
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/489382/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/yamlutils.py'],1,99729b8209d3ac9141da8f4c929a90faa2438bd5,queens-indentation," def represent_bool(self, data): if data: value = 'yes' else: value = 'no' return self.represent_scalar('tag:yaml.org,2002:bool', value) # NOTE(dhellmann): The representer functions in the base class are # specified by class.method-name so we have to re-register the # representer for bool if we want to override it. PrettySafeDumper.add_representer(bool, PrettySafeDumper.represent_bool) ",,13,0
openstack%2Freleases~master~I6126f59d09d169a2dde1cdffcecd15f8c65c2e65,openstack/releases,master,I6126f59d09d169a2dde1cdffcecd15f8c65c2e65,ensure version numbers always have quotes,MERGED,2017-07-31 20:35:04.000000000,2017-08-01 15:40:52.000000000,2017-08-01 15:40:52.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e71cf4b915bf5ae88b6ea1e847cbd73f633aa37e', 'message': 'ensure version numbers always have quotes\n\nUpdate the reformatter to always put quotes around strings that look\nlike they are numbers. A value like x.y.z is clearly not a float so\nthe library does the right thing but x.y seems like a float so it\nleaves the quotes off, then later when we parse the file again we get\na number not a string.\n\nChange-Id: I6126f59d09d169a2dde1cdffcecd15f8c65c2e65\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2a5ac2c9b8d4dc1c2c7e564b9a5a85a513f92e0d', 'message': 'ensure version numbers always have quotes\n\nUpdate the reformatter to always put quotes around strings that look\nlike they are numbers. A value like x.y.z is clearly not a float so\nthe library does the right thing but x.y seems like a float so it\nleaves the quotes off, then later when we parse the file again we get\na number not a string.\n\nChange-Id: I6126f59d09d169a2dde1cdffcecd15f8c65c2e65\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': ['openstack_releases/yamlutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/2248abb4e1914237017370b97924d2607ac81727', 'message': 'ensure version numbers always have quotes\n\nUpdate the reformatter to always put quotes around strings that look\nlike they are numbers. A value like x.y.z is clearly not a float so\nthe library does the right thing but x.y seems like a float so it\nleaves the quotes off, then later when we parse the file again we get\na number not a string.\n\nChange-Id: I6126f59d09d169a2dde1cdffcecd15f8c65c2e65\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489381,2248abb4e1914237017370b97924d2607ac81727,11,3,3,2472,,,0,"ensure version numbers always have quotes

Update the reformatter to always put quotes around strings that look
like they are numbers. A value like x.y.z is clearly not a float so
the library does the right thing but x.y seems like a float so it
leaves the quotes off, then later when we parse the file again we get
a number not a string.

Change-Id: I6126f59d09d169a2dde1cdffcecd15f8c65c2e65
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/489381/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/yamlutils.py'],1,e71cf4b915bf5ae88b6ea1e847cbd73f633aa37e,queens-indentation,"import re_LIKE_A_NUMBER = re.compile('^[0-9]+.[0-9]+$') elif _LIKE_A_NUMBER.match(data): style = '""'",,6,0
openstack%2Freleases~master~I5207600838c37b241d0ab178080be75a8f31a725,openstack/releases,master,I5207600838c37b241d0ab178080be75a8f31a725,add wrapper for yamllint,MERGED,2017-07-31 20:35:04.000000000,2017-08-01 15:40:47.000000000,2017-08-01 15:40:46.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0b44dae59a65138673dfdaff1eb664bf2e17830a', 'message': 'add wrapper for yamllint\n\nWe don\'t need to run the linter over every single old deliverable file\nevery time. Just check the ""modern"" series that are most likely to\nbe open, and the _independent projects.\n\nChange-Id: I5207600838c37b241d0ab178080be75a8f31a725\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bc66c741540f06436a5540326bf8b0ca572b995c', 'message': 'add wrapper for yamllint\n\nWe don\'t need to run the linter over every single old deliverable file\nevery time. Just check the ""modern"" series that are most likely to\nbe open, and the _independent projects.\n\nChange-Id: I5207600838c37b241d0ab178080be75a8f31a725\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': ['tools/run_yamllint.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/releases/commit/8477f4fde98099c51e5c7b555eaa05a6c1771344', 'message': 'add wrapper for yamllint\n\nWe don\'t need to run the linter over every single old deliverable file\nevery time. Just check the ""modern"" series that are most likely to\nbe open, and the _independent projects.\n\nChange-Id: I5207600838c37b241d0ab178080be75a8f31a725\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489380,8477f4fde98099c51e5c7b555eaa05a6c1771344,11,3,3,2472,,,0,"add wrapper for yamllint

We don't need to run the linter over every single old deliverable file
every time. Just check the ""modern"" series that are most likely to
be open, and the _independent projects.

Change-Id: I5207600838c37b241d0ab178080be75a8f31a725
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/489380/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/run_yamllint.sh', 'tox.ini']",2,0b44dae59a65138673dfdaff1eb664bf2e17830a,queens-indentation, {toxinidir}/tools/run_yamllint.sh, yamllint -f parsable -c {toxinidir}/yamllint.yml deliverables,14,1
openstack%2Freleases~master~I819fda12e76813cf9861007a0b9bf28744d2153a,openstack/releases,master,I819fda12e76813cf9861007a0b9bf28744d2153a,use yamlutils.dumps() in init-series,MERGED,2017-07-28 21:09:28.000000000,2017-08-01 15:40:41.000000000,2017-08-01 15:40:41.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-28 21:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fdc1148b0d31767e2d2e3cc4b146b220d51a1bf7', 'message': 'use yamlutils.dumps() in init-series\n\nThis will give us standard formatting for new files.\n\nChange-Id: I819fda12e76813cf9861007a0b9bf28744d2153a\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e2cc51418e5af7a2513d79401c5828488a5fb5b0', 'message': 'use yamlutils.dumps() in init-series\n\nThis will give us standard formatting for new files.\n\nChange-Id: I819fda12e76813cf9861007a0b9bf28744d2153a\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 20:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ab714bb6490040884f5c58c514a2e97acef2245a', 'message': 'use yamlutils.dumps() in init-series\n\nThis will give us standard formatting for new files.\n\nChange-Id: I819fda12e76813cf9861007a0b9bf28744d2153a\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2017-07-31 21:13:04.000000000', 'files': ['openstack_releases/cmds/init_series.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/0bb989b98c1c63d739d5f80597cec0ba80d988e1', 'message': 'use yamlutils.dumps() in init-series\n\nThis will give us standard formatting for new files.\n\nChange-Id: I819fda12e76813cf9861007a0b9bf28744d2153a\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,488846,0bb989b98c1c63d739d5f80597cec0ba80d988e1,13,3,4,2472,,,0,"use yamlutils.dumps() in init-series

This will give us standard formatting for new files.

Change-Id: I819fda12e76813cf9861007a0b9bf28744d2153a
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/488846/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/init_series.py'],1,fdc1148b0d31767e2d2e3cc4b146b220d51a1bf7,queens-indentation,"from openstack_releases import yamlutils with open(outfilename, 'w', encoding='utf-8') as f: f.write(yamlutils.dumps(data))"," with open(outfilename, 'w') as f: f.write('---\n') yaml.dump(data, f, default_flow_style=False)",3,3
openstack%2Freleases~master~I86936a9e0cc64dfb84ac5ac011f6f4240069cb5b,openstack/releases,master,I86936a9e0cc64dfb84ac5ac011f6f4240069cb5b,use yamlutils.dumps() in new-release command,MERGED,2017-07-28 21:09:28.000000000,2017-08-01 15:40:37.000000000,2017-08-01 15:40:37.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-28 21:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/95515fa657203891e8538638f15da0125d331b90', 'message': 'use yamlutils.dumps() in new-release command\n\nThis will give us standard formatting for new releases.\n\nChange-Id: I86936a9e0cc64dfb84ac5ac011f6f4240069cb5b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4140998a13b17b96719c5dcef5987ede458386e5', 'message': 'use yamlutils.dumps() in new-release command\n\nThis will give us standard formatting for new releases.\n\nChange-Id: I86936a9e0cc64dfb84ac5ac011f6f4240069cb5b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': ['openstack_releases/cmds/new_release.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/8ca9ccc26ad0e33ba6b30ce446505452c7f38151', 'message': 'use yamlutils.dumps() in new-release command\n\nThis will give us standard formatting for new releases.\n\nChange-Id: I86936a9e0cc64dfb84ac5ac011f6f4240069cb5b\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,488845,8ca9ccc26ad0e33ba6b30ce446505452c7f38151,11,3,3,2472,,,0,"use yamlutils.dumps() in new-release command

This will give us standard formatting for new releases.

Change-Id: I86936a9e0cc64dfb84ac5ac011f6f4240069cb5b
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/488845/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/new_release.py'],1,95515fa657203891e8538638f15da0125d331b90,queens-indentation,"from openstack_releases import yamlutils parser.error( 'The first release for a series must ' 'be at least a feature release to allow ' 'for stable releases from the previous series.') deliverable_info['releases'] = [] deliverable_info['releases'].append({ 'version': new_version, 'projects': projects, }) with open(deliverable_filename, 'w', encoding='utf-8') as f: f.write(yamlutils.dumps(deliverable_info))","RELEASE_TEMPLATE = ''' - version: {version} projects: '''.lstrip('\n') add_releases_key = False parser.error('The first release for a series must be at least a feature release to allow for stable releases from the previous series.') # noqa add_releases_key = True # The YAML dump formatter produces results that aren't very nice # to read, so we format the output ourselves. The file is only # regenerated if there are in fact changes to be made. with open(deliverable_filename, 'a') as f: if add_releases_key: f.write('releases:\n') f.write(RELEASE_TEMPLATE.format(version=new_version)) for p in projects: f.write(PROJECT_TEMPLATE.format(**p))",13,17
openstack%2Freleases~master~I48717815536a4e31fbac799f7fc7743ff8bc3c4d,openstack/releases,master,I48717815536a4e31fbac799f7fc7743ff8bc3c4d,fix format-yaml to work with python 3,MERGED,2017-07-28 20:37:30.000000000,2017-08-01 15:39:04.000000000,2017-08-01 15:39:04.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-28 20:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1ffd2e279e36132d457991cae7f9e047b2335312', 'message': 'fix format-yaml to work with python 3\n\nChange-Id: I48717815536a4e31fbac799f7fc7743ff8bc3c4d\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-07-31 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d64b7e76a905a08d816a531e56e97225de0d0791', 'message': 'fix format-yaml to work with python 3\n\nChange-Id: I48717815536a4e31fbac799f7fc7743ff8bc3c4d\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-07-31 21:13:04.000000000', 'files': ['openstack_releases/yamlutils.py', 'openstack_releases/cmds/reformat_yaml.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/25ea1d8ecd7a82097422bc33803d8f746dadb0be', 'message': 'fix format-yaml to work with python 3\n\nChange-Id: I48717815536a4e31fbac799f7fc7743ff8bc3c4d\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,488606,25ea1d8ecd7a82097422bc33803d8f746dadb0be,12,4,3,2472,,,0,"fix format-yaml to work with python 3

Change-Id: I48717815536a4e31fbac799f7fc7743ff8bc3c4d
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/488606/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/yamlutils.py', 'openstack_releases/cmds/reformat_yaml.py']",2,1ffd2e279e36132d457991cae7f9e047b2335312,queens-indentation," with open(filename, 'r', encoding='utf-8') as fh: with open(filename, 'w', encoding='utf-8') as fh:"," with open(filename, 'rb') as fh: with open(filename, 'wb') as fh:",7,5
openstack%2Fmonasca-ui~master~I4a32d89e410191b7109f04318f35d5363aea7c5c,openstack/monasca-ui,master,I4a32d89e410191b7109f04318f35d5363aea7c5c,Fix tags order in test,MERGED,2017-08-01 12:49:32.000000000,2017-08-01 15:37:13.000000000,2017-08-01 15:37:13.000000000,"[{'_account_id': 3}, {'_account_id': 16168}, {'_account_id': 16222}]","[{'number': 1, 'created': '2017-08-01 12:49:32.000000000', 'files': ['monitoring/alarmdefs/tests.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/04e2089cf58fc6125c454e352dc88ae72307658c', 'message': 'Fix tags order in test\n\nChange-Id: I4a32d89e410191b7109f04318f35d5363aea7c5c\n'}]",0,489588,04e2089cf58fc6125c454e352dc88ae72307658c,8,3,1,20033,,,0,"Fix tags order in test

Change-Id: I4a32d89e410191b7109f04318f35d5363aea7c5c
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/88/489588/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/alarmdefs/tests.py'],1,04e2089cf58fc6125c454e352dc88ae72307658c,test," 'class=""form-control"" id=""id_description"" />')"," 'id=""id_description"" class=""form-control"" />')",1,1
openstack%2Fnetworking-midonet~master~I5721b939a790232a9edcec8c17ba83fa240711eb,openstack/networking-midonet,master,I5721b939a790232a9edcec8c17ba83fa240711eb,v2_migration: Update Neutron alembic versions,MERGED,2017-06-28 05:59:28.000000000,2017-08-01 15:36:44.000000000,2017-08-01 15:27:32.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9925}, {'_account_id': 14824}, {'_account_id': 19307}]","[{'number': 1, 'created': '2017-06-28 05:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7afe4c42546984659ff51be00d95a999bb7799c2', 'message': 'v2_migration: Update Neutron alembic versions\n\nAfter the recent Neutron changes. [1] [2]\n\n[1] Ia13568879c2b6f80fb190ccafe7e19ca05b0c6a8\n[2] I3f91b3927c33021facc9eb9238555c0e06a918c0\n\nRelated-Bug: #1649722\nChange-Id: I5721b939a790232a9edcec8c17ba83fa240711eb\n'}, {'number': 2, 'created': '2017-07-05 15:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7023d26e862a08c65aaaff23acde4078f9a062a1', 'message': 'v2_migration: Update Neutron alembic versions\n\nAfter the recent Neutron changes. [1] [2]\n\n[1] Ia13568879c2b6f80fb190ccafe7e19ca05b0c6a8\n[2] I3f91b3927c33021facc9eb9238555c0e06a918c0\n\nRelated-Bug: #1649722\nChange-Id: I5721b939a790232a9edcec8c17ba83fa240711eb\n'}, {'number': 3, 'created': '2017-07-24 22:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5a9b369beb55520cc6b7ea4d5bfb61ffce701c94', 'message': 'v2_migration: Update Neutron alembic versions\n\nAfter the recent Neutron changes. [1] [2]\n\n[1] Ia13568879c2b6f80fb190ccafe7e19ca05b0c6a8\n[2] I3f91b3927c33021facc9eb9238555c0e06a918c0\n\nRelated-Bug: #1649722\nChange-Id: I5721b939a790232a9edcec8c17ba83fa240711eb\n'}, {'number': 4, 'created': '2017-07-24 22:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/24275a9adda44b05ad69d2ff392ee12120bb076e', 'message': 'v2_migration: Update Neutron alembic versions\n\nAfter the recent Neutron changes. [1] [2]\n\n[1] Ia13568879c2b6f80fb190ccafe7e19ca05b0c6a8\n[2] I3f91b3927c33021facc9eb9238555c0e06a918c0\n\nRelated-Bug: #1649722\nChange-Id: I5721b939a790232a9edcec8c17ba83fa240711eb\n'}, {'number': 5, 'created': '2017-07-25 22:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/385ca2d3fefefb506d1ffdee143b5834f0362963', 'message': 'v2_migration: Update Neutron alembic versions\n\nAfter the recent Neutron changes. [1] [2]\n\n[1] Ia13568879c2b6f80fb190ccafe7e19ca05b0c6a8\n[2] I3f91b3927c33021facc9eb9238555c0e06a918c0\n\nRelated-Bug: #1649722\nChange-Id: I5721b939a790232a9edcec8c17ba83fa240711eb\n'}, {'number': 6, 'created': '2017-07-26 01:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/ce9c2db98449b527c53f467e9760c265697a0e2d', 'message': 'v2_migration: Update Neutron alembic versions\n\nAfter the recent Neutron changes. [1] [2]\n\n[1] Ia13568879c2b6f80fb190ccafe7e19ca05b0c6a8\n[2] I3f91b3927c33021facc9eb9238555c0e06a918c0\n\nRelated-Bug: #1649722\nChange-Id: I5721b939a790232a9edcec8c17ba83fa240711eb\n'}, {'number': 7, 'created': '2017-07-26 01:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c3057e51cd6bea02ed42f6d205d81497f1e1993f', 'message': 'v2_migration: Update Neutron alembic versions\n\nAfter the recent Neutron changes. [1] [2]\n\n[1] Ia13568879c2b6f80fb190ccafe7e19ca05b0c6a8\n[2] I3f91b3927c33021facc9eb9238555c0e06a918c0\n\nRelated-Bug: #1649722\nChange-Id: I5721b939a790232a9edcec8c17ba83fa240711eb\n'}, {'number': 8, 'created': '2017-07-26 05:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8ae2553f19017a12dab74f7c346917b66f5d108e', 'message': 'v2_migration: Update Neutron alembic versions\n\nAfter the recent Neutron changes. [1] [2]\n\n[1] Ia13568879c2b6f80fb190ccafe7e19ca05b0c6a8\n[2] I3f91b3927c33021facc9eb9238555c0e06a918c0\n\nRelated-Bug: #1649722\nChange-Id: I5721b939a790232a9edcec8c17ba83fa240711eb\n'}, {'number': 9, 'created': '2017-07-31 09:18:31.000000000', 'files': ['midonet/neutron/db/v2_migration.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2b7a27ff3527fe405a315319caf3ecd6f272eb1e', 'message': 'v2_migration: Update Neutron alembic versions\n\nAfter the recent Neutron changes. [1][2][3]\n\n[1] Ia13568879c2b6f80fb190ccafe7e19ca05b0c6a8\n[2] I3f91b3927c33021facc9eb9238555c0e06a918c0\n[3] Ib1ea7d0faee4f0544141fdcbb75164aadcfc5056\n\nRelated-Bug: #1649722\nChange-Id: I5721b939a790232a9edcec8c17ba83fa240711eb\n'}]",0,478394,2b7a27ff3527fe405a315319caf3ecd6f272eb1e,32,6,9,6854,,,0,"v2_migration: Update Neutron alembic versions

After the recent Neutron changes. [1][2][3]

[1] Ia13568879c2b6f80fb190ccafe7e19ca05b0c6a8
[2] I3f91b3927c33021facc9eb9238555c0e06a918c0
[3] Ib1ea7d0faee4f0544141fdcbb75164aadcfc5056

Related-Bug: #1649722
Change-Id: I5721b939a790232a9edcec8c17ba83fa240711eb
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/94/478394/9 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/db/v2_migration.py'],1,7afe4c42546984659ff51be00d95a999bb7799c2,bug/1649722," 'c8c222d42aa9',"," '2b42d90729da',",1,1
openstack%2Fironic-ui~master~I42353584aaaa1c62bba6d339ee0af7b50c250881,openstack/ironic-ui,master,I42353584aaaa1c62bba6d339ee0af7b50c250881,Imported Translations from Zanata,MERGED,2017-08-01 12:03:00.000000000,2017-08-01 15:32:51.000000000,2017-08-01 15:32:50.000000000,"[{'_account_id': 3}, {'_account_id': 11655}]","[{'number': 1, 'created': '2017-08-01 12:03:00.000000000', 'files': ['ironic_ui/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/8c5d0031500b70628ba40e9f4c3df81b0d7b4331', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: I42353584aaaa1c62bba6d339ee0af7b50c250881\n'}]",0,489577,8c5d0031500b70628ba40e9f4c3df81b0d7b4331,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: I42353584aaaa1c62bba6d339ee0af7b50c250881
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/77/489577/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_ui/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",3,8c5d0031500b70628ba40e9f4c3df81b0d7b4331,zanata/translations,"""POT-Creation-Date: 2017-07-31 15:33+0000\n""","""POT-Creation-Date: 2017-07-27 21:46+0000\n""msgid ""2.3.0-55"" msgstr ""2.3.0-55版本"" ",23,12
openstack%2Fpython-octaviaclient~master~Id873ab00fcc80507d841bcfade47fa2308100099,openstack/python-octaviaclient,master,Id873ab00fcc80507d841bcfade47fa2308100099,Update python-octaviaclient docs for migration,MERGED,2017-07-25 04:38:51.000000000,2017-08-01 15:31:39.000000000,2017-08-01 15:31:39.000000000,"[{'_account_id': 3}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}]","[{'number': 1, 'created': '2017-07-25 04:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/633036a109f2338f701f7b03d64aac8bf39f05bc', 'message': 'Update python-octaviaclient docs for migration\n\nThis patch updates the python-octaviaclient project for the OpenStack\ndocumentation migration [1].\n\n[1] https://specs.openstack.org/openstack/docs-specs/specs/pike/os-manuals-migration.html\n\nChange-Id: Id873ab00fcc80507d841bcfade47fa2308100099\n'}, {'number': 2, 'created': '2017-07-25 04:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/3139de0752b7d5751b4d07f53799993d3439ed13', 'message': 'Update python-octaviaclient docs for migration\n\nThis patch updates the python-octaviaclient project for the OpenStack\ndocumentation migration [1].\n\n[1] https://specs.openstack.org/openstack/docs-specs/specs/pike/os-manuals-migration.html\n\nChange-Id: Id873ab00fcc80507d841bcfade47fa2308100099\n'}, {'number': 3, 'created': '2017-07-26 14:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/065cf8c5217f0ea0f50bf89511f85a20d249cda0', 'message': 'Update python-octaviaclient docs for migration\n\nThis patch updates the python-octaviaclient project for the OpenStack\ndocumentation migration [1].\n\n[1] https://specs.openstack.org/openstack/docs-specs/specs/pike/os-manuals-migration.html\n\nChange-Id: Id873ab00fcc80507d841bcfade47fa2308100099\n'}, {'number': 4, 'created': '2017-07-28 00:04:02.000000000', 'files': ['doc/source/contributing.rst', 'doc/source/reference/index.rst', 'doc/source/install/index.rst', 'test-requirements.txt', 'README.rst', 'doc/source/conf.py', 'doc/source/installation.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/cli/osc/v2/load-balancer.rst', 'doc/source/reference/data/lbaas.csv', 'doc/source/cli/index.rst', 'setup.cfg', 'doc/source/reference/decoder.rst'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/b1afaa3b54dc9765f89664a1adbbcf2a0d4981f2', 'message': 'Update python-octaviaclient docs for migration\n\nThis patch updates the python-octaviaclient project for the OpenStack\ndocumentation migration [1].\n\n[1] https://specs.openstack.org/openstack/docs-specs/specs/pike/os-manuals-migration.html\n\nChange-Id: Id873ab00fcc80507d841bcfade47fa2308100099\n'}]",1,486859,b1afaa3b54dc9765f89664a1adbbcf2a0d4981f2,19,4,4,11628,,,0,"Update python-octaviaclient docs for migration

This patch updates the python-octaviaclient project for the OpenStack
documentation migration [1].

[1] https://specs.openstack.org/openstack/docs-specs/specs/pike/os-manuals-migration.html

Change-Id: Id873ab00fcc80507d841bcfade47fa2308100099
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/59/486859/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', 'doc/source/install/installation.rst', 'test-requirements.txt', 'README.rst', 'doc/source/conf.py', 'doc/source/installation.rst', 'doc/source/contributor/contributing.rst', 'doc/source/index.rst', 'doc/source/cli/osc/v2/load-balancer.rst', 'doc/source/reference/data/lbaas.csv', 'doc/source/cli/index.rst', 'setup.cfg', 'doc/source/reference/decoder.rst']",13,633036a109f2338f701f7b03d64aac8bf39f05bc,doc-migration,,,46,27
openstack%2Fmonasca-events-api~master~I38d3fa5d1d7a32670dc84e4b10ffe1400e220a69,openstack/monasca-events-api,master,I38d3fa5d1d7a32670dc84e4b10ffe1400e220a69,Add sample configuration files to documentation,MERGED,2017-08-01 13:41:05.000000000,2017-08-01 15:30:49.000000000,2017-08-01 15:30:49.000000000,"[{'_account_id': 3}, {'_account_id': 16168}, {'_account_id': 16222}]","[{'number': 1, 'created': '2017-08-01 13:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/60b4ee990aee701c4f7c1dbf1ceba7ea7ec3d5db', 'message': 'Add sample configuration to documenatation\n\nAdd sample configuration files to documentation.\nAdd files about:\n- configuration\n- paste\n- logging\n- policies\n\nChange-Id: I38d3fa5d1d7a32670dc84e4b10ffe1400e220a69\n'}, {'number': 2, 'created': '2017-08-01 13:41:46.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/configuration/sample.rst'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/ae9f8255db3d42fc13ad31f183b636683b51e93f', 'message': 'Add sample configuration files to documentation\n\nAdd sample configuration files to documentation.\nAdd files about:\n- configuration\n- paste\n- logging\n- policies\n\nChange-Id: I38d3fa5d1d7a32670dc84e4b10ffe1400e220a69\n'}]",0,489608,ae9f8255db3d42fc13ad31f183b636683b51e93f,7,3,2,20033,,,0,"Add sample configuration files to documentation

Add sample configuration files to documentation.
Add files about:
- configuration
- paste
- logging
- policies

Change-Id: I38d3fa5d1d7a32670dc84e4b10ffe1400e220a69
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/08/489608/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/configuration/sample.rst']",2,60b4ee990aee701c4f7c1dbf1ceba7ea7ec3d5db,sample_config,.. _sample_configuration: ------- Samples ------- The following sections show sample configuration files for monasca-events-api and related utilities. These are generated from the code (apart from the samples for logging and paste) and reflect the current state of code in the monasca-events-api repository. .. _sample-configuration-api: Sample Configuration For Application ------------------------------------ This sample configuration can also be viewed in `events-api.conf.sample <../_static/events-api.conf.sample>`_. .. literalinclude:: ../_static/events-api.conf.sample .. _sample-configuration-logging: Sample Configuration for Logging -------------------------------- This sample configuration can also be viewed in `events-api-logging.conf <../../../etc/monasca/events-api-logging.conf>`_. .. literalinclude:: ../../../etc/monasca/events-api-logging.conf Sample Configuration for Paste ------------------------------ This sample configuration can also be viewed in `events-api-paste.ini <../../../etc/monasca/events-api-paste.ini>`_. .. literalinclude:: ../../../etc/monasca/events-api-paste.ini .. _sample-configuration-policies: Sample Configuration for Policies --------------------------------- This sample configuration can also be viewed in `events-api.policy.yaml.sample <../_static/events-api.policy.yaml.sample>`_ . .. literalinclude:: ../_static/events-api.policy.yaml.sample ,,58,0
openstack%2Fironic~master~I61f295e3ca771f38290e5b9814c1cda7659154fc,openstack/ironic,master,I61f295e3ca771f38290e5b9814c1cda7659154fc,Remove install-guide env which is no longer effective,MERGED,2017-08-01 02:29:04.000000000,2017-08-01 15:30:34.000000000,2017-08-01 15:30:34.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-08-01 02:29:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3ac8989615df0b36f06cd9eabacd071d32249b8', 'message': 'Remove install-guide env which is no longer effective\n\nThe install-guide directory was moved to doc/source directory when\nmigrating docs.\n\nChange-Id: I61f295e3ca771f38290e5b9814c1cda7659154fc\n'}]",0,489444,e3ac8989615df0b36f06cd9eabacd071d32249b8,13,4,1,22056,,,0,"Remove install-guide env which is no longer effective

The install-guide directory was moved to doc/source directory when
migrating docs.

Change-Id: I61f295e3ca771f38290e5b9814c1cda7659154fc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/489444/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e3ac8989615df0b36f06cd9eabacd071d32249b8,tox,,[testenv:install-guide] commands = sphinx-build -a -E -W -d install-guide/build/doctrees -b html install-guide/source install-guide/build/html ,0,3
openstack%2Fcinder~stable%2Focata~I9ec9282268adc80c947e18c34f34dc0fdd82b187,openstack/cinder,stable/ocata,I9ec9282268adc80c947e18c34f34dc0fdd82b187,Switch to use stable data_utils,MERGED,2017-07-25 04:12:01.000000000,2017-08-01 15:30:00.000000000,2017-07-25 12:19:55.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6854}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12404}, {'_account_id': 19933}, {'_account_id': 22510}, {'_account_id': 24441}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-25 04:12:01.000000000', 'files': ['cinder/tests/tempest/api/volume/test_volume_unicode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e0c50e3647e9d7fb39b273904d206c6999237e0', 'message': 'Switch to use stable data_utils\n\nTempest provides stable library interfaces under tempest.lib.\nThis patch switches to use it for data_utils.\n\nChange-Id: I9ec9282268adc80c947e18c34f34dc0fdd82b187\n(cherry picked from commit 4a3082709e310f3cea88a2a92185723608f2d935)\n'}]",0,486855,4e0c50e3647e9d7fb39b273904d206c6999237e0,27,10,1,12404,,,0,"Switch to use stable data_utils

Tempest provides stable library interfaces under tempest.lib.
This patch switches to use it for data_utils.

Change-Id: I9ec9282268adc80c947e18c34f34dc0fdd82b187
(cherry picked from commit 4a3082709e310f3cea88a2a92185723608f2d935)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/486855/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/tempest/api/volume/test_volume_unicode.py'],1,4e0c50e3647e9d7fb39b273904d206c6999237e0,tempest-data_utils,from tempest.lib.common.utils import data_utils,from tempest.common.utils import data_utils,1,1
openstack%2Fironic~master~I1d60939768ffa75de050aa309a3203de553ae877,openstack/ironic,master,I1d60939768ffa75de050aa309a3203de553ae877,Change ramdisk log filename template,MERGED,2017-07-06 11:53:02.000000000,2017-08-01 15:27:43.000000000,2017-08-01 15:27:43.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 7711}, {'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 10453}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 24828}]","[{'number': 1, 'created': '2017-07-06 11:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ee11fadec15778d315ef65931048f22f1833762', 'message': ""Change ramdisk log filename template\n\nironic collects ramdisk logs from agent, and save it to\n/var/log/ironic/deploy.\n\nThe time stamp part of log filename is formatted as '%Y-%m-%d-%H:%M:%S',\nas an example:\n\n    7b52d13a-9372-448d-9252-fffbaf2db942_1fb52a75-04b6-4c73-80c4-\\\n    8d49dc30f650_2017-07-06-09:03:18.tar.gz\n\nThe colon is not handled properly by tar, it fails to untar a file\nwith colon in file name.\n\nThis patch provides a workaround by changing colon with dash in time\nstamp.\n\nChange-Id: I1d60939768ffa75de050aa309a3203de553ae877\n""}, {'number': 2, 'created': '2017-07-07 01:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfdfe563ff42843aed60de79c5bf911504378137', 'message': ""Change ramdisk log filename template\n\nironic collects ramdisk logs from agent, and save it to\n/var/log/ironic/deploy.\n\nThe time stamp part of log filename is formatted as '%Y-%m-%d-%H:%M:%S',\nas an example:\n\n    7b52d13a-9372-448d-9252-fffbaf2db942_1fb52a75-04b6-4c73-80c4-\\\n    8d49dc30f650_2017-07-06-09:03:18.tar.gz\n\nThe colon is not handled properly by tar, it fails to untar a file\nwith colon in file name.\n\nThis patch provides a workaround by changing colon with dash in time\nstamp.\n\nCloses-Bug: #1702672\nChange-Id: I1d60939768ffa75de050aa309a3203de553ae877\n""}, {'number': 3, 'created': '2017-07-10 01:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/89516ff39b455994675de7a75676905da1f10f81', 'message': ""Change ramdisk log filename template\n\nironic collects ramdisk logs from agent, and save it to\n/var/log/ironic/deploy.\n\nThe time stamp part of log filename is formatted as '%Y-%m-%d-%H:%M:%S',\nas an example:\n\n    7b52d13a-9372-448d-9252-fffbaf2db942_1fb52a75-04b6-4c73-80c4-\\\n    8d49dc30f650_2017-07-06-09:03:18.tar.gz\n\nThe colon is not handled properly by tar, it fails to untar a file\nwith colon in file name.\n\nThis patch provides a workaround by changing colon with dash in time\nstamp.\n\nCloses-Bug: #1702672\nChange-Id: I1d60939768ffa75de050aa309a3203de553ae877\n""}, {'number': 4, 'created': '2017-07-10 15:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5132b71fd034967f2459f613835c948808361b8', 'message': ""Change ramdisk log filename template\n\nironic collects ramdisk logs from agent, and save it to\n/var/log/ironic/deploy.\n\nThe time stamp part of log filename is formatted as '%Y-%m-%d-%H:%M:%S',\nas an example:\n\n    7b52d13a-9372-448d-9252-fffbaf2db942_1fb52a75-04b6-4c73-80c4-\\\n    8d49dc30f650_2017-07-06-09:03:18.tar.gz\n\nThe colon is not handled properly by tar, it fails to untar a file\nwith colon in file name.\n\nThis patch provides a workaround by changing colon with dash in time\nstamp.\n\nCloses-Bug: #1702672\nChange-Id: I1d60939768ffa75de050aa309a3203de553ae877\n""}, {'number': 5, 'created': '2017-07-22 02:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7f1ef603386f4556f445a49c6af579f4e4d51b1', 'message': ""Change ramdisk log filename template\n\nironic collects ramdisk logs from agent, and save it to\n/var/log/ironic/deploy.\n\nThe time stamp part of log filename is formatted as '%Y-%m-%d-%H:%M:%S',\nas an example:\n\n    7b52d13a-9372-448d-9252-fffbaf2db942_1fb52a75-04b6-4c73-80c4-\\\n    8d49dc30f650_2017-07-06-09:03:18.tar.gz\n\nThe colon is not handled properly by tar, it fails to untar a file\nwith colon in file name.\n\nThis patch provides a workaround by changing colon with dash in time\nstamp.\n\nCloses-Bug: #1702672\nChange-Id: I1d60939768ffa75de050aa309a3203de553ae877\n""}, {'number': 6, 'created': '2017-07-31 11:52:09.000000000', 'files': ['ironic/drivers/utils.py', 'ironic/tests/unit/drivers/test_utils.py', 'releasenotes/notes/change-ramdisk-log-filename-142b10d0b02a5ca6.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b7e6abcbc7d920c906d86727830bb12b4b9bc7b', 'message': ""Change ramdisk log filename template\n\nironic collects ramdisk logs from agent, and save it to\n/var/log/ironic/deploy.\n\nThe time stamp part of log filename is formatted as '%Y-%m-%d-%H:%M:%S',\nas an example:\n\n    7b52d13a-9372-448d-9252-fffbaf2db942_1fb52a75-04b6-4c73-80c4-\\\n    8d49dc30f650_2017-07-06-09:03:18.tar.gz\n\nThe colon is not handled properly by tar, it fails to untar a file\nwith colon in file name.\n\nThis patch provides a workaround by changing colon with dash in time\nstamp.\n\nCloses-Bug: #1702672\nChange-Id: I1d60939768ffa75de050aa309a3203de553ae877\n""}]",9,481001,3b7e6abcbc7d920c906d86727830bb12b4b9bc7b,60,13,6,24828,,,0,"Change ramdisk log filename template

ironic collects ramdisk logs from agent, and save it to
/var/log/ironic/deploy.

The time stamp part of log filename is formatted as '%Y-%m-%d-%H:%M:%S',
as an example:

    7b52d13a-9372-448d-9252-fffbaf2db942_1fb52a75-04b6-4c73-80c4-\
    8d49dc30f650_2017-07-06-09:03:18.tar.gz

The colon is not handled properly by tar, it fails to untar a file
with colon in file name.

This patch provides a workaround by changing colon with dash in time
stamp.

Closes-Bug: #1702672
Change-Id: I1d60939768ffa75de050aa309a3203de553ae877
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/481001/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/utils.py', 'ironic/tests/unit/drivers/test_utils.py']",2,0ee11fadec15778d315ef65931048f22f1833762,bug/1702672, '2000-01-01-00-00-00.tar.gz') instance_uuid + '_2000-01-01-00-00-00.tar.gz'), '2000-01-01-00:00:00.tar.gz') instance_uuid + '_2000-01-01-00:00:00.tar.gz'),3,3
openstack%2Foctavia-dashboard~master~I2ad28138f99eddc1cbd8bcdfe9581cda006ddd1e,openstack/octavia-dashboard,master,I2ad28138f99eddc1cbd8bcdfe9581cda006ddd1e,Updated from global requirements,MERGED,2017-07-28 21:43:30.000000000,2017-08-01 15:23:57.000000000,2017-08-01 15:23:57.000000000,"[{'_account_id': 3}, {'_account_id': 10850}, {'_account_id': 11628}]","[{'number': 1, 'created': '2017-07-28 21:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/dd6f4fe52b85bac9666a9b92b45b577ead70a40a', 'message': 'Updated from global requirements\n\nChange-Id: I2ad28138f99eddc1cbd8bcdfe9581cda006ddd1e\n'}, {'number': 2, 'created': '2017-07-29 02:37:42.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/25182ecd88525b369ffb5463be9f5879a4e51524', 'message': 'Updated from global requirements\n\nChange-Id: I2ad28138f99eddc1cbd8bcdfe9581cda006ddd1e\n'}]",0,488867,25182ecd88525b369ffb5463be9f5879a4e51524,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: I2ad28138f99eddc1cbd8bcdfe9581cda006ddd1e
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/67/488867/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,dd6f4fe52b85bac9666a9b92b45b577ead70a40a,openstack/requirements,"python-barbicanclient!=4.5.0,>=4.0.0 # Apache-2.0",python-barbicanclient>=4.0.0 # Apache-2.0,1,1
openstack%2Fcharms.openstack~master~I1ebdca6606eadc2ff4bceaea43d1886599adfc4d,openstack/charms.openstack,master,I1ebdca6606eadc2ff4bceaea43d1886599adfc4d,fix a typo in the db hostname property comment,MERGED,2017-07-31 14:11:31.000000000,2017-08-01 15:23:28.000000000,2017-08-01 15:23:28.000000000,"[{'_account_id': 3}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-07-31 14:11:31.000000000', 'files': ['charms_openstack/adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/59d4e5edf23569b6fbfafa1611ea98c9c1334731', 'message': 'fix a typo in the db hostname property comment\n\nditto\n\nChange-Id: I1ebdca6606eadc2ff4bceaea43d1886599adfc4d\n'}]",0,489234,59d4e5edf23569b6fbfafa1611ea98c9c1334731,6,2,1,24824,,,0,"fix a typo in the db hostname property comment

ditto

Change-Id: I1ebdca6606eadc2ff4bceaea43d1886599adfc4d
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/34/489234/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,59d4e5edf23569b6fbfafa1611ea98c9c1334731,, Hostname that should be used to access a database., Hostname that should be used to access RabbitMQ.,1,1
openstack%2Fpython-ironicclient~master~I3f90602e5a2acc3f6a75dbe1b3004a6341f14aaf,openstack/python-ironicclient,master,I3f90602e5a2acc3f6a75dbe1b3004a6341f14aaf,Updated from global requirements,MERGED,2017-07-27 19:20:57.000000000,2017-08-01 15:16:06.000000000,2017-08-01 15:16:06.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 14760}]","[{'number': 1, 'created': '2017-07-27 19:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/5e19d16c37d9b709775cfb71406598bbceb1af52', 'message': 'Updated from global requirements\n\nChange-Id: I3f90602e5a2acc3f6a75dbe1b3004a6341f14aaf\n'}, {'number': 2, 'created': '2017-07-27 19:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/375bdcd21ba35fe559a0f15a1f782befc7bae93f', 'message': 'Updated from global requirements\n\nChange-Id: I3f90602e5a2acc3f6a75dbe1b3004a6341f14aaf\n'}, {'number': 3, 'created': '2017-07-27 20:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0d5543f24ba7b9fa3f4f20e8bea8e989d54e27f1', 'message': 'Updated from global requirements\n\nChange-Id: I3f90602e5a2acc3f6a75dbe1b3004a6341f14aaf\n'}, {'number': 4, 'created': '2017-07-27 20:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/47307cc752edd8dfaef17a4efef7c984770e5036', 'message': 'Updated from global requirements\n\nChange-Id: I3f90602e5a2acc3f6a75dbe1b3004a6341f14aaf\n'}, {'number': 5, 'created': '2017-08-01 03:04:12.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/42dc387224c278bc6ca42c1cfb423d67c2b2fd85', 'message': 'Updated from global requirements\n\nChange-Id: I3f90602e5a2acc3f6a75dbe1b3004a6341f14aaf\n'}]",0,488117,42dc387224c278bc6ca42c1cfb423d67c2b2fd85,12,3,5,11131,,,0,"Updated from global requirements

Change-Id: I3f90602e5a2acc3f6a75dbe1b3004a6341f14aaf
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/17/488117/5 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5e19d16c37d9b709775cfb71406598bbceb1af52,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Fdevstack-gate~master~Ib1c54b137ed887c84366b490c5ffc84a9ec7f6e6,openstack/devstack-gate,master,Ib1c54b137ed887c84366b490c5ffc84a9ec7f6e6,be more graceful about lack of systemd-journal-remote,ABANDONED,2017-06-05 15:53:31.000000000,2017-08-01 15:01:52.000000000,,"[{'_account_id': 3}, {'_account_id': 6593}]","[{'number': 1, 'created': '2017-06-05 15:53:31.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/b15cb6e4e64bdd6d3b02b6fc8453a0c268045009', 'message': ""be more graceful about lack of systemd-journal-remote\n\nThis is a late package install, which if a run completely messed up\nit's apt/yum repos might not work. So be graceful about failed package\ninstalls.\n\nChange-Id: Ib1c54b137ed887c84366b490c5ffc84a9ec7f6e6\n""}]",2,471037,b15cb6e4e64bdd6d3b02b6fc8453a0c268045009,5,2,1,2750,,,0,"be more graceful about lack of systemd-journal-remote

This is a late package install, which if a run completely messed up
it's apt/yum repos might not work. So be graceful about failed package
installs.

Change-Id: Ib1c54b137ed887c84366b490c5ffc84a9ec7f6e6
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/37/471037/1 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,b15cb6e4e64bdd6d3b02b6fc8453a0c268045009,opensuse-enablement," apt_get_install systemd-journal-remote || /bin/true sudo yum install -y systemd-journal-gateway || /bin/true if [ -n ""$jremote"" && -f ""$jremote"" ]; then else echo ""WARNING: systemd-journal-remote doesn't exist, skipping export of native journal files"""," apt_get_install systemd-journal-remote sudo yum install -y systemd-journal-gateway if [ -n ""$jremote"" ]; then",5,3
openstack%2Fperformance-docs~master~I74c67dc896725b8d56731a832773bd60f6c87bf4,openstack/performance-docs,master,I74c67dc896725b8d56731a832773bd60f6c87bf4,Adds Test plan for OpenStack under WAN conditions,MERGED,2017-05-30 13:43:54.000000000,2017-08-01 14:59:23.000000000,2017-08-01 14:59:23.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 5950}, {'_account_id': 21470}, {'_account_id': 23936}]","[{'number': 1, 'created': '2017-05-30 13:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/performance-docs/commit/6ea190caf5641c110cfe7d2a93cea8cdd965e03d', 'message': 'Adds Test plan for OpenStack under WAN conditions\n\nThis commit adds test plan for comparing control plane and data plane\nperfomance of different OpenStack configurations under WAN conditions.\n\nChange-Id: I74c67dc896725b8d56731a832773bd60f6c87bf4\nCo-Authored-By: msimonin <matthieu.simonin@inria.fr>\nCo-Authored-By: parnexius <raymond@nexius.com>\n'}, {'number': 2, 'created': '2017-05-30 14:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/performance-docs/commit/9eca27eab3e813a37013bce6353550b237a149e8', 'message': 'Adds Test plan for OpenStack under WAN conditions\n\nThis commit adds test plan for comparing control plane and data plane\nperfomance of different OpenStack configurations under WAN conditions.\n\nChange-Id: I74c67dc896725b8d56731a832773bd60f6c87bf4\nCo-Authored-By: msimonin <matthieu.simonin@inria.fr>\nCo-Authored-By: parnexius <raymond@nexius.com>\n'}, {'number': 3, 'created': '2017-06-02 13:05:42.000000000', 'files': ['doc/source/test_plans/openstack_wan/plan.rst'], 'web_link': 'https://opendev.org/openstack/performance-docs/commit/ef248349b20c02fba43bb24acfe6d42d100539c8', 'message': 'Adds Test plan for OpenStack under WAN conditions\n\nThis commit adds test plan for comparing control plane and data plane\nperfomance of different OpenStack configurations under WAN conditions.\n\nChange-Id: I74c67dc896725b8d56731a832773bd60f6c87bf4\nCo-Authored-By: msimonin <matthieu.simonin@inria.fr>\nCo-Authored-By: parnexius <raymond@nexius.com>\n'}]",8,469112,ef248349b20c02fba43bb24acfe6d42d100539c8,14,5,3,23936,,,0,"Adds Test plan for OpenStack under WAN conditions

This commit adds test plan for comparing control plane and data plane
perfomance of different OpenStack configurations under WAN conditions.

Change-Id: I74c67dc896725b8d56731a832773bd60f6c87bf4
Co-Authored-By: msimonin <matthieu.simonin@inria.fr>
Co-Authored-By: parnexius <raymond@nexius.com>
",git fetch https://review.opendev.org/openstack/performance-docs refs/changes/12/469112/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/test_plans/openstack_wan/plan.rst'],1,6ea190caf5641c110cfe7d2a93cea8cdd965e03d,openstack-wan,".. _openstack_wan: =================================== OpenStack in a WAN Context Testing =================================== :status: **draft** :version: 0.1 :Abstract: This document describes a test plan for analysing how OpenStack behaves under Wide Are Network (WAN) conditions. In particular, measuring the effect of high latency, low bandwidth, packet loss and link failure. :Conventions: - **WAN** A Wide Area Network (WAN) is a computer network that extends over a large geographical distance. - **NB_COMPUTES** The number of Computes considered by the tester. - **NB_CORES/COMPUTE** The number of cores on a Compute node. Test Plan ========= New paradigms like Fog and Edge computing suggest pushing Computes close to the user. This kind of deployment puts Computes far from Control services that have to operate through WAN. The current test plan covers basic cloud operations (VM creations, Security Group management and IP associations) and communication testing (through several VMs) under such WAN conditions. Test Environment ---------------- This section describes the setup for OpenStack testing under WAN conditions. It considers a fresh, bare-metal, simple deployment where Control, Network and Volume services are on the same nodes. Computes are on dedicated nodes. The tester should fix the number of Computes depending on the capacity of her testbed. In the rest of this document, the name *NB_COMPUTES* references the number of Computes. Regarding network, the following section should describe in details network settings. In particular, links parameters (latency, bandwidth and reliability) between OpenStack services. It should also indicate the use of network emulation functionality (e.g.: `netem`_). .. _netem: https://wiki.linuxfoundation.org/networking/netem Environment description ^^^^^^^^^^^^^^^^^^^^^^^ The environment description includes hardware specification of servers, network parameters, operation system and OpenStack deployment characteristics. Hardware ~~~~~~~~ This section contains the list of all types of hardware nodes. +-----------+-------+----------------------------------------------------+ | Parameter | Value | Comments | +-----------+-------+----------------------------------------------------+ | model | | e.g. Supermicro X9SRD-F | +-----------+-------+----------------------------------------------------+ | CPU | | e.g. 6 x Intel(R) Xeon(R) CPU E5-2620 v2 @ 2.10GHz | +-----------+-------+----------------------------------------------------+ Network ~~~~~~~ This section contains the list of interfaces and network parameters. In addition, it should include a topology diagram with latency, bandwidth and reliability of links between OpenStack services. +------------------+-------+-------------------------+ | Parameter | Value | Comments | +------------------+-------+-------------------------+ | card model | | e.g. Intel | +------------------+-------+-------------------------+ | driver | | e.g. ixgbe | +----------------- +-------+-------------------------+ | speed | | e.g. | | | | - *eth0* 10G | | | | - *eth1* 10G | +----------------- +-------+-------------------------+ Software ~~~~~~~~ This section describes installed software. +-------------------+--------+---------------------------+ | Parameter | Value | Comments | +-------------------+--------+---------------------------+ | OS | | e.g. Ubuntu 14.04.3 | +-------------------+--------+---------------------------+ | DB | | e.g. MySQL 5.6 | +-------------------+--------+---------------------------+ | MQ broker | | e.g. RabbitMQ v3.4.25 | +-------------------+--------+---------------------------+ | OpenStack release | | e.g. Ocata | +-------------------+--------+---------------------------+ | Network emulation | | e.g. iproute2 4.9.0 | +-------------------+--------+---------------------------+ Configuration ~~~~~~~~~~~~~ This section describes configuration of OpenStack and core services +-------------------+-------------------------------+ | Parameter | File | +-------------------+-------------------------------+ | Keystone | ./results/keystone.conf | +-------------------+-------------------------------+ | Nova-api | ./results/nova-api.conf | +-------------------+-------------------------------+ | ... | | +-------------------+-------------------------------+ Test Case 1: OpenStack control services behaviour under WAN ----------------------------------------------------------- Description ^^^^^^^^^^^ This test case aims to measure the correct behaviour of OpenStack under WAN at control plane level. It relies on `Rally`_ that runs loads on the current OpenStack. Then Rally reports can be used to get time of operations executions and percent of failure to evaluate OpenStack. Concretely, this test case considers followings `Rally scenarios`_ that are known to be sensitive to network performance: Nova scenarios - ``NovaServers.boot_and_delete_multiple_servers`` - ``NovaServers.boot_and_associate_floating_ip`` - ``NovaServers.pause_and_unpause_server`` - ``NovaSecGroup.boot_server_and_add_secgroups`` Neutron scenarios - ``NeutronNetworks.create_and_delete_networks`` - ``NeutronNetworks.create_and_delete_ports`` - ``NeutronNetworks.create_and_delete_routers`` - ``NeutronNetworks.create_and_delete_subnets`` - ``NeutronSecurityGroup.create_and_delete_security_groups`` Glance scenario - ``GlanceImages.create_and_delete_image`` Other scenarios such as live migration, VM snapshoting and telemetry may also be considered. .. _Rally: https://rally.readthedocs.io/en/latest/ .. _Rally scenarios: https://github.com/openstack/rally/tree/2cb0097bda2b0a04d89834ab2859c83d7013239f/rally/plugins/openstack/scenarios Parameters ^^^^^^^^^^ +-----------------------------------+------------------------------------------------------+ | Parameter name | Value | +===================================+======================================================+ | RTT latency (ms) | LAN, 20, 50, 100, 200 | +-----------------------------------+------------------------------------------------------+ | Traffic shaping (% loss) | 0, 0.1, 1, 10, 25 | +-----------------------------------+------------------------------------------------------+ | Number of VMs (for ``NovaServers. | 1, *NB_COMPUTES*, *NB_COMPUTES* * *NB_CORES/COMPUTE* | | boot_and_delete_multiple | | | _servers``) | | +-----------------------------------+------------------------------------------------------+ | Rally concurrency | 1, *NB_COMPUTES*, *NB_COMPUTES* * *NB_CORES/COMPUTE* | +-----------------------------------+------------------------------------------------------+ | VM image | CirrOS (~15MB), Alpine (~100MB), | | | Ubuntu-16.04-server (~800MB) | +-----------------------------------+------------------------------------------------------+ The `netem`_ application can help to achieve WAN simulation by applying network constraints (RTT latency and packet loss) between the Control node and Computes. To make test reliable, netem constraints have to be set up right after the end of the OpenStack deployment. The tester may refer to the `Test tool`_ section for such purpose scripts. Rally ``times`` parameter should be configured properly to produce accurate results. Furthermore, the tester may choose to execute scenarios in cold- or hot-cache. Further parameters ^^^^^^^^^^^^^^^^^^ WAN conditions often lead to link failures and so should be tested. A link failure should appear at a specific point in the workflow of a Rally scenario. For instance, just after the ``nova.compute.manager.ComputeManager.build_and_run_instance`` `RPC call`_ in the case of ``NovaServers.boot_and_delete_multiple_servers`` Rally scenario. The duration of link failure is another important parameter. However, to the best of our knowledge, there are no tools to automatically inject such failure at a specific point of an OpenStack workflow (something more convenient than modifying the OpenStack source code). .. _RPC call: https://github.com/openstack/nova/blob/bf34d5f25ca6f4650777a5eb4e3316c5af8ba54d/nova/compute/manager.py#L1720 List of performance metrics ^^^^^^^^^^^^^^^^^^^^^^^^^^^ ========= =============== ================= =================================== Priority Value Measurement Units Description ========= =============== ================= =================================== 1 sec Time of operation execution 1 percentage Operation execution failure ========= =============== ================= =================================== Test Case 2: OpenStack data plane behaviour under WAN ----------------------------------------------------- Description ^^^^^^^^^^^ This test case aims to measure the correct behaviour of OpenStack under WAN at data plane level. It relies on `Shaker`_ that starts VMs and runs network test on the current OpenStack. Then Shaker reports can be used to get throughput and round-trip time between VMs in order to evaluate OpenStack. Expectation here is that Neutron configuration has a strong impact on data plane, e.g.: going with `DVR`_ or `Dragonflow`_. This test case considers followings `Shaker scenarios`_: - ``openstack/full_l2`` - ``openstack/dense_l3_east_west`` - ``openstack/full_l3_east_west`` Note that a Shaker test requires Heat service to be running. .. _Shaker: https://pyshaker.readthedocs.io/en/latest/ .. _DVR: https://wiki.openstack.org/wiki/Neutron/DVR .. _Dragonflow: https://wiki.openstack.org/wiki/Dragonflow .. _Shaker scenarios: https://github.com/openstack/shaker/tree/4f5005c7798312072b9b14117f45682ff9301c44/shaker/scenarios/openstack Parameters ^^^^^^^^^^ ============================ ==================================================== Parameter name Value ============================ ==================================================== RTT latency (ms) LAN, 20, 50, 100, 200 Traffic shaping (% loss) 0, 0.1, 1, 10, 25 Shaker concurrency 1, *NB_COMPUTES*, *NB_COMPUTES* * *NB_CORES/COMPUTE* ============================ ==================================================== List of performance metrics ^^^^^^^^^^^^^^^^^^^^^^^^^^^ ========= =============== ================= =================================== Priority Value Measurement Units Description ========= =============== ================= =================================== 1 ms Ping 2 Mbits/s TCP download 2 Mbits/s TCP upload ========= =============== ================= =================================== Test tool --------- The tester can use `EnOS`_ to conduct the current test plan. EnOS is a tool that helps tester to (1) easily get testbed resources, (2) deploys and initialises OpenStack over these resources, (3) set network constraints, (4) invokes benchmarks and provides test reports. EnOS comes with a set of `testing scenarios`_ including `some for the current test plan`_. .. _EnOS: https://enos.readthedocs.io/en/latest/ .. _testing scenarios: https://github.com/BeyondTheClouds/enos-scenarios .. _some for the current test plan: https://github.com/BeyondTheClouds/enos-scenarios/tree/1c2edd70ce02fd8a3062193120032e848dd9561f/wan ",,286,0
openstack%2Fopenstack-manuals~master~Iec19644cdc00b592b324164d25ac3405e392c0fe,openstack/openstack-manuals,master,Iec19644cdc00b592b324164d25ac3405e392c0fe,set has_in_tree_htaccess flag for nova,MERGED,2017-07-31 21:23:19.000000000,2017-08-01 14:58:14.000000000,2017-08-01 14:58:14.000000000,"[{'_account_id': 3}, {'_account_id': 10607}, {'_account_id': 19779}]","[{'number': 1, 'created': '2017-07-31 21:23:19.000000000', 'files': ['www/project-data/latest.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/48ef11b1dc50b5c5fdb742cf2280d4542f0b2efb', 'message': 'set has_in_tree_htaccess flag for nova\n\nChange-Id: Iec19644cdc00b592b324164d25ac3405e392c0fe\nDepends-On: I56b1c077dd604c2947c791c7d5ccdddb9fb815a2\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489407,48ef11b1dc50b5c5fdb742cf2280d4542f0b2efb,7,3,1,2472,,,0,"set has_in_tree_htaccess flag for nova

Change-Id: Iec19644cdc00b592b324164d25ac3405e392c0fe
Depends-On: I56b1c077dd604c2947c791c7d5ccdddb9fb815a2
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/07/489407/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/latest.yaml'],1,48ef11b1dc50b5c5fdb742cf2280d4542f0b2efb,in-tree-redirects, has_in_tree_htaccess: true,,1,0
openstack%2Fcinder~stable%2Focata~I01b8fb2302884c3ed398f9553bb8e6a2aeb307c7,openstack/cinder,stable/ocata,I01b8fb2302884c3ed398f9553bb8e6a2aeb307c7,"Revert ""Correct RBD Provision stats&fix a perf problem""",MERGED,2017-07-13 10:46:07.000000000,2017-08-01 14:57:20.000000000,2017-07-13 15:31:10.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 22126}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 26077}, {'_account_id': 26347}]","[{'number': 1, 'created': '2017-07-13 10:46:07.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e72dead5ce085a6ba66f7aad2ff58061842f43d2', 'message': 'Revert ""Correct RBD Provision stats&fix a perf problem""\n\nThis reverts commit b907450d7d7500fbcb9e4040efc2d0e42f4a78f9.\n\nEven though this approach should perform better, the value it calculates\nis not what the scheduler expects, we should be returning allocated\nsize.\n\nWe\'ll address the performance issue in a follow up patch\n\nCloses-Bug: #1704104\nChange-Id: I01b8fb2302884c3ed398f9553bb8e6a2aeb307c7\n(cherry picked from commit 86e8cf948aaa100c78d2fd9378c5c837b3f7304f)\n'}]",0,483298,e72dead5ce085a6ba66f7aad2ff58061842f43d2,22,10,1,9535,,,0,"Revert ""Correct RBD Provision stats&fix a perf problem""

This reverts commit b907450d7d7500fbcb9e4040efc2d0e42f4a78f9.

Even though this approach should perform better, the value it calculates
is not what the scheduler expects, we should be returning allocated
size.

We'll address the performance issue in a follow up patch

Closes-Bug: #1704104
Change-Id: I01b8fb2302884c3ed398f9553bb8e6a2aeb307c7
(cherry picked from commit 86e8cf948aaa100c78d2fd9378c5c837b3f7304f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/483298/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,e72dead5ce085a6ba66f7aad2ff58061842f43d2,bug/1704104," def _iterate_cb(self, offset, length, exists): if exists: self._total_usage += length v.diff_iterate(0, v.size(), None, self._iterate_cb)", self._total_usage += v.size(),5,1
openstack%2Fironic~master~I227e79902eb39294f2a8f8bc152363a0ea881a2d,openstack/ironic,master,I227e79902eb39294f2a8f8bc152363a0ea881a2d,[api-ref]: Add response codes to chassis api,ABANDONED,2016-08-24 04:19:28.000000000,2017-08-01 14:55:51.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 13719}, {'_account_id': 15471}, {'_account_id': 19339}]","[{'number': 1, 'created': '2016-08-24 04:19:28.000000000', 'files': ['api-ref/source/baremetal-api-v1-chassis.inc'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7df89c180fa59b1ade1d1e3da3358059a4a59622', 'message': '[api-ref]: Add response codes to chassis api\n\nThis patch adds response codes to chassis api.\n\nChange-Id: I227e79902eb39294f2a8f8bc152363a0ea881a2d\n'}]",3,359582,7df89c180fa59b1ade1d1e3da3358059a4a59622,8,5,1,15471,,,0,"[api-ref]: Add response codes to chassis api

This patch adds response codes to chassis api.

Change-Id: I227e79902eb39294f2a8f8bc152363a0ea881a2d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/359582/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/baremetal-api-v1-chassis.inc'],1,7df89c180fa59b1ade1d1e3da3358059a4a59622,api-response-code,"Error response codes: 400, 401, 403, 404, 405, 413, 503Error response codes: 400, 401, 403, 404, 405, 413, 503Error response codes: 400, 401, 403, 404, 405, 409, 413, 415, 503Normal response codes: 204 Error response codes: 400, 401, 403, 404, 405, 409, 413, 415, 503Normal response codes: 201 Error response codes: 413, 415, 405, 404, 403, 401, 400, 503, 409Error response codes: 400, 401, 403, 404, 405, 413, 503",".. TODO: add error codes.. TODO: add error codes.. TODO: add error codes.. TODO: add error codesError response codes:201,413,415,405,404,403,401,400,503,409,.. TODO: add error codes",10,6
openstack%2Fproject-team-guide~master~I84da90a27b216e2330de97162dc6bc56c4eaf4ca,openstack/project-team-guide,master,I84da90a27b216e2330de97162dc6bc56c4eaf4ca,Update feature branch creation details,MERGED,2017-07-31 18:21:36.000000000,2017-08-01 14:42:53.000000000,2017-08-01 14:42:53.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6482}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-07-31 18:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/f2a734b8e899891a5bcdf16724e4699cfc21dd21', 'message': 'Update feature branch creation details\n\nThe team guide contained some outdated details on feature branch\ncreation. Updated to reflect the current self-service process to\nrequest a feature branch.\n\nChange-Id: I84da90a27b216e2330de97162dc6bc56c4eaf4ca\n'}, {'number': 2, 'created': '2017-07-31 19:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/51a93f16d9eb9ee11a95c9532bcccbdc75e15725', 'message': 'Update feature branch creation details\n\nThe team guide contained some outdated details on feature branch\ncreation. Updated to reflect the current self-service process to\nrequest a feature branch.\n\nChange-Id: I84da90a27b216e2330de97162dc6bc56c4eaf4ca\n'}, {'number': 3, 'created': '2017-07-31 19:36:48.000000000', 'files': ['doc/source/other-branches.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/7616af84490b385b0c24ee033f3d2740598a4444', 'message': 'Update feature branch creation details\n\nThe team guide contained some outdated details on feature branch\ncreation. Updated to reflect the current self-service process to\nrequest a feature branch.\n\nChange-Id: I84da90a27b216e2330de97162dc6bc56c4eaf4ca\n'}]",4,489293,7616af84490b385b0c24ee033f3d2740598a4444,14,4,3,11904,,,0,"Update feature branch creation details

The team guide contained some outdated details on feature branch
creation. Updated to reflect the current self-service process to
request a feature branch.

Change-Id: I84da90a27b216e2330de97162dc6bc56c4eaf4ca
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/93/489293/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/other-branches.rst'],1,f2a734b8e899891a5bcdf16724e4699cfc21dd21,,"to be merged back into master. New feature branches can be requested using the same mechanism as stable branch creation. Submit a patch to the releases repository with a new ``feature/feature-name`` branch defined. Set the location value to the repository and commit hash from which to create the feature branch:: --- launchpad: oslo.example branches: - name: feature/example-feature-work location: openstack/oslo.config: 02a86d2eefeda5144ea8c39657aed24b8b0c9a39 For more details, refer to the openstack/releases README.rst file.","to be merged back into master. New feature branches will be created by the release team at the request of the project team, after evaluating the need for the branch. A branch should only be created if the change that would be developed on it is deemed complex enough to justify the extra pain.",15,4
openstack%2Fcinder~master~I0a616ff1f5ce2b26a450f0336be59dacf1f2515f,openstack/cinder,master,I0a616ff1f5ce2b26a450f0336be59dacf1f2515f,[DOC BLD FIX] Fix docstring issues in ibm_storage,MERGED,2017-07-25 03:13:00.000000000,2017-08-01 14:38:17.000000000,2017-07-25 07:57:58.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-07-25 03:13:00.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/65b7ef35fca2c0c0565032dad842f70b754b3c30', 'message': '[DOC BLD FIX] Fix docstring issues in ibm_storage\n\nThere were a number of issues with dosctring issues\nin the ibm_storage driver.  The issues were causing\nSphinx to produce WARNINGs.  This patch correct\nthose issues.\n\nChange-Id: I0a616ff1f5ce2b26a450f0336be59dacf1f2515f\n'}]",0,486838,65b7ef35fca2c0c0565032dad842f70b754b3c30,42,12,1,7198,,,0,"[DOC BLD FIX] Fix docstring issues in ibm_storage

There were a number of issues with dosctring issues
in the ibm_storage driver.  The issues were causing
Sphinx to produce WARNINGs.  This patch correct
those issues.

Change-Id: I0a616ff1f5ce2b26a450f0336be59dacf1f2515f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/486838/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py']",3,65b7ef35fca2c0c0565032dad842f70b754b3c30,doc-bld-fix, .. code:: text 2.0 - First open source driver version 2.1.0 - Support Consistency groups through Generic volume groups - Support XIV/A9000 Volume independent QoS - Support groups replication, 2.0 - First open source driver version 2.1.0 - Support Consistency groups through Generic volume groups - Support XIV/A9000 Volume independent QoS - Support groups replication,56,40
openstack%2Fcinder~driverfixes%2Fmitaka~I397e4edde4d82baceb324c1fe9896b1c0f914194,openstack/cinder,driverfixes/mitaka,I397e4edde4d82baceb324c1fe9896b1c0f914194,Use requests lib for Huawei array connection,MERGED,2017-07-25 02:18:21.000000000,2017-08-01 14:35:29.000000000,2017-07-27 14:44:41.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-25 02:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6cb9b266d275fc16e90d9432e1b9dd65a499815c', 'message': 'Use requests lib for Huawei array connection\n\nUpdates Huawei driver logic to use requests lib for Huawei\narray connection instead.\n\nChange-Id: I397e4edde4d82baceb324c1fe9896b1c0f914194\n(cherry picked from commit 59ddeabacabdbbd9e396d1d62ae65c1fdfa3f455)\n'}, {'number': 2, 'created': '2017-07-25 03:02:29.000000000', 'files': ['cinder/tests/unit/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/rest_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c3ceacb6c700ee3bc7b98d9db029f19259ecea0', 'message': 'Use requests lib for Huawei array connection\n\nUpdates Huawei driver logic to use requests lib for Huawei\narray connection instead.\n\nChange-Id: I397e4edde4d82baceb324c1fe9896b1c0f914194\n(cherry picked from commit 59ddeabacabdbbd9e396d1d62ae65c1fdfa3f455)\n'}]",0,486821,8c3ceacb6c700ee3bc7b98d9db029f19259ecea0,29,9,2,16203,,,0,"Use requests lib for Huawei array connection

Updates Huawei driver logic to use requests lib for Huawei
array connection instead.

Change-Id: I397e4edde4d82baceb324c1fe9896b1c0f914194
(cherry picked from commit 59ddeabacabdbbd9e396d1d62ae65c1fdfa3f455)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/486821/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/rest_client.py']",2,6cb9b266d275fc16e90d9432e1b9dd65a499815c,use-requests-lib,"import requests self.session = None def init_http_head(self): self.url = None self.session = requests.Session() self.session.headers.update({ ""Connection"": ""keep-alive"", ""Content-Type"": ""application/json""}) self.session.verify = False def do_call(self, url, data, method, kwargs = {'timeout': calltimeout} if data: kwargs['data'] = json.dumps(data) if method in ('POST', 'PUT', 'GET', 'DELETE'): func = getattr(self.session, method.lower()) else: msg = _(""Request method %s is invalid."") % method LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) res = func(url, **kwargs) except Exception as err: LOG.exception(_LE('Bad response from server: %(url)s.' ' Error: %(err)s'), {'url': url, 'err': err}) return {""error"": {""code"": constants.ERROR_CONNECT_TO_SERVER, ""description"": ""Connect to server error.""}} res.raise_for_status() except requests.HTTPError as exc: return {""error"": {""code"": exc.response.status_code, ""description"": six.text_type(exc)}} res_json = res.json() LOG.info(_LI('\n\n\n\nRequest URL: %(url)s\n\n' 'Call Method: %(method)s\n\n' 'Request Data: %(data)s\n\n' 'Response Data:%(res)s\n\n'), {'url': url, 'method': method, 'data': data, 'res': res_json}) result = self.do_call(url, data, 'POST', self.session.headers['iBaseToken'] = result['data']['iBaseToken'] result = self.call(url, lun_params, 'POST') result = self.call(url, None, ""GET"") data = ({""SNAPSHOTLIST"": snapshot_id} if type(snapshot_id) in (list, tuple) else {""SNAPSHOTLIST"": [snapshot_id]}) result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, None, 'GET') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') result = self.call(url, data, 'POST') url = ""/ioclass"" result = self.call(url, data, 'POST') url = ""/system"" result = self.call(url, data, 'POST')","import socketfrom six.moves import http_cookiejar from six.moves import urllib self.init_http_head() def init_http_head(self): self.cookie = http_cookiejar.CookieJar() self.headers = { ""Connection"": ""keep-alive"", ""Content-Type"": ""application/json"", } def do_call(self, url=None, data=None, method=None, handler = urllib.request.HTTPCookieProcessor(self.cookie) opener = urllib.request.build_opener(handler) urllib.request.install_opener(opener) res_json = None socket.setdefaulttimeout(calltimeout) if data: data = json.dumps(data) req = urllib.request.Request(url, data, self.headers) if method: req.get_method = lambda: method res = urllib.request.urlopen(req).read().decode(""utf-8"") if ""xx/sessions"" not in url: LOG.info(_LI('\n\n\n\nRequest URL: %(url)s\n\n' 'Call Method: %(method)s\n\n' 'Request Data: %(data)s\n\n' 'Response Data:%(res)s\n\n'), {'url': url, 'method': method, 'data': data, 'res': res}) except Exception as err: LOG.error(_LE('Bad response from server: %(url)s.' ' Error: %(err)s'), {'url': url, 'err': err}) json_msg = ('{""error"":{""code"": %s,""description"": ""Connect to ' 'server error.""}}') % constants.ERROR_CONNECT_TO_SERVER res_json = json.loads(json_msg) return res_json res_json = json.loads(res) except Exception as err: LOG.error(_LE('JSON transfer error: %s.'), err) raise result = self.do_call(url, data, self.headers['iBaseToken'] = result['data']['iBaseToken'] result = self.call(url, lun_params) result = self.call(url, None) data = {""SNAPSHOTLIST"": [snapshot_id]} result = self.call(url, data) result = self.call(url, data) result = self.call(url, data) result = self.call(url, None) result = self.call(url, data) result = self.call(url, data) result = self.call(url, data) result = self.call(url, data) result = self.call(url, data) result = self.call(url, data) url = ""/ioclass/"" result = self.call(url, data) url = ""/system/"" result = self.call(url, data)",137,80
openstack%2Fcinder~master~I5edf62ccfbbb7a5f3e64e0baebe9eb4a955cbdf5,openstack/cinder,master,I5edf62ccfbbb7a5f3e64e0baebe9eb4a955cbdf5,NetApp cDOT: Support generic groups for file,MERGED,2017-07-21 13:00:00.000000000,2017-08-01 14:25:03.000000000,2017-07-27 17:22:37.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16212}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-07-21 13:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5980aec7026a966ebf066bcd768dbf80877d003a', 'message': ""NetApp cDOT: Support generic groups for file\n\nAdding support for generic volume groups to NetApp cDOT's NFS driver.\n\nCG methods are moved to the 7-mode NFS driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGeneric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I5edf62ccfbbb7a5f3e64e0baebe9eb4a955cbdf5\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}, {'number': 2, 'created': '2017-07-25 00:16:59.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_7mode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'releasenotes/notes/netapp-add-generic-group-support-cdot-9bebd13356694e13.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0215fcc022d60608a0d887dd6510496ab2162f5b', 'message': ""NetApp cDOT: Support generic groups for file\n\nAdding support for generic volume groups to NetApp cDOT's NFS driver.\n\nCG methods are moved to the 7-mode NFS driver. Announcement was made\nin a previous release for the removal of the NetApp 7-mode drivers.\nGeneric groups will only be implemented for the NetApp cDOT drivers.\n\nChange-Id: I5edf62ccfbbb7a5f3e64e0baebe9eb4a955cbdf5\nImplements: blueprint netapp-add-generic-group-support-cdot\n""}]",6,486136,0215fcc022d60608a0d887dd6510496ab2162f5b,82,39,2,16212,,,0,"NetApp cDOT: Support generic groups for file

Adding support for generic volume groups to NetApp cDOT's NFS driver.

CG methods are moved to the 7-mode NFS driver. Announcement was made
in a previous release for the removal of the NetApp 7-mode drivers.
Generic groups will only be implemented for the NetApp cDOT drivers.

Change-Id: I5edf62ccfbbb7a5f3e64e0baebe9eb4a955cbdf5
Implements: blueprint netapp-add-generic-group-support-cdot
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/486136/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/volume/drivers/netapp/dataontap/nfs_7mode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'releasenotes/notes/netapp-add-generic-group-support-cdot-9bebd13356694e13.yaml']",8,5980aec7026a966ebf066bcd768dbf80877d003a,bp/netapp-add-generic-group-support-cdot,--- features: - Added generic volume group capability to NetApp cDot drivers with support for write consistent group snapshots. ,,774,341
openstack%2Fsahara~master~I29876b90f0784a36efa4d4e83f3ee23e8235f9fa,openstack/sahara,master,I29876b90f0784a36efa4d4e83f3ee23e8235f9fa,Fix TypeError when get resource list,MERGED,2017-07-26 03:24:49.000000000,2017-08-01 14:11:22.000000000,2017-08-01 14:11:22.000000000,"[{'_account_id': 3}, {'_account_id': 10459}, {'_account_id': 23078}, {'_account_id': 25847}]","[{'number': 1, 'created': '2017-07-26 03:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3a0913841785cc2e3cf4381be1e3ca8e369f5d1a', 'message': ""Fix TypeError when get resource list\n\nFix TypeError when get resource list where marker doesn't in the\ncandidate resources during prev/next marker picking progress.\n\nChange-Id: I29876b90f0784a36efa4d4e83f3ee23e8235f9fa\nCloses-Bug: 1706490\n""}, {'number': 2, 'created': '2017-08-01 11:37:14.000000000', 'files': ['sahara/db/sqlalchemy/api.py', 'sahara/tests/unit/db/test_utils.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/0921792d9377ecc5ef465bb441f870c3adc54d52', 'message': ""Fix TypeError when get resource list\n\nFix TypeError when get resource list where marker doesn't in the\ncandidate resources during prev/next marker picking progress.\n\nChange-Id: I29876b90f0784a36efa4d4e83f3ee23e8235f9fa\nCloses-Bug: #1706490\n""}]",1,487264,0921792d9377ecc5ef465bb441f870c3adc54d52,14,4,2,25847,,,0,"Fix TypeError when get resource list

Fix TypeError when get resource list where marker doesn't in the
candidate resources during prev/next marker picking progress.

Change-Id: I29876b90f0784a36efa4d4e83f3ee23e8235f9fa
Closes-Bug: #1706490
",git fetch https://review.opendev.org/openstack/sahara refs/changes/64/487264/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/db/sqlalchemy/api.py'],1,3a0913841785cc2e3cf4381be1e3ca8e369f5d1a,bug/1706490," else: return None, None",,2,0
openstack%2Fmistral~master~Icd3e9e3a52369fa159898346057c8322c63ef993,openstack/mistral,master,Icd3e9e3a52369fa159898346057c8322c63ef993,Remove deprecation warning from tests,MERGED,2017-07-31 15:55:36.000000000,2017-08-01 13:59:24.000000000,2017-08-01 13:59:24.000000000,"[{'_account_id': 3}, {'_account_id': 6732}, {'_account_id': 9712}, {'_account_id': 15895}]","[{'number': 1, 'created': '2017-07-31 15:55:36.000000000', 'files': ['mistral_tempest_tests/tests/base.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/4e38d9d789f15fa3fd76235b16b8c72d2b2081b8', 'message': 'Remove deprecation warning from tests\n\nmanager and alt_manager are marked for removal in Queens[1]\nThis commit replaces them with os_primary and os_alt.\n\n[1] https://github.com/openstack/tempest/blob/master/tempest/test.py#L369-#L385\n\nChange-Id: Icd3e9e3a52369fa159898346057c8322c63ef993\n'}]",0,489262,4e38d9d789f15fa3fd76235b16b8c72d2b2081b8,8,4,1,9408,,,0,"Remove deprecation warning from tests

manager and alt_manager are marked for removal in Queens[1]
This commit replaces them with os_primary and os_alt.

[1] https://github.com/openstack/tempest/blob/master/tempest/test.py#L369-#L385

Change-Id: Icd3e9e3a52369fa159898346057c8322c63ef993
",git fetch https://review.opendev.org/openstack/mistral refs/changes/62/489262/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral_tempest_tests/tests/base.py'],1,4e38d9d789f15fa3fd76235b16b8c72d2b2081b8,remove-deprecation-warning-from-tests, cls.mgr = cls.os_primary cls.alt_mgr = cls.os_alt, cls.mgr = cls.manager cls.alt_mgr = cls.alt_manager,2,2
openstack%2Fsahara~master~Ice7b791bf308ce9da047e2205a990b8d97924bd9,openstack/sahara,master,Ice7b791bf308ce9da047e2205a990b8d97924bd9,Enable some off-by-default checks,MERGED,2017-07-26 11:45:38.000000000,2017-08-01 13:53:33.000000000,2017-08-01 13:53:33.000000000,"[{'_account_id': 3}, {'_account_id': 10459}, {'_account_id': 23078}, {'_account_id': 25720}, {'_account_id': 25847}]","[{'number': 1, 'created': '2017-07-26 11:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/60168b9845c2adb592a1c6d3a5f07949dccacc6d', 'message': 'Enable some off-by-default checks\n\nSome of the available checks are disabled by default, like:\n[H106] Don’t put vim configuration in source files\n[H203] Use assertIs(Not)None to check for None\n\nChange-Id: Ice7b791bf308ce9da047e2205a990b8d97924bd9\n'}, {'number': 2, 'created': '2017-07-28 02:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d5da5e781817730e62194fcf40ceafbb867579c1', 'message': 'Enable some off-by-default checks\n\nSome of the available checks are disabled by default, like:\n[H106] Don’t put vim configuration in source files\n[H203] Use assertIs(Not)None to check for None\n\nChange-Id: Ice7b791bf308ce9da047e2205a990b8d97924bd9\n'}, {'number': 3, 'created': '2017-07-31 01:59:34.000000000', 'files': ['sahara/tests/unit/plugins/vanilla/hadoop2/test_config_helper.py', 'tox.ini', 'sahara/tests/unit/plugins/vanilla/v2_7_1/test_versionhandler.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/76202bfed847bf0029dcbf5fa965626120042ed1', 'message': 'Enable some off-by-default checks\n\nSome of the available checks are disabled by default, like:\n[H106] Don’t put vim configuration in source files\n[H203] Use assertIs(Not)None to check for None\n\nChange-Id: Ice7b791bf308ce9da047e2205a990b8d97924bd9\n'}]",1,487379,76202bfed847bf0029dcbf5fa965626120042ed1,17,5,3,24903,,,0,"Enable some off-by-default checks

Some of the available checks are disabled by default, like:
[H106] Don’t put vim configuration in source files
[H203] Use assertIs(Not)None to check for None

Change-Id: Ice7b791bf308ce9da047e2205a990b8d97924bd9
",git fetch https://review.opendev.org/openstack/sahara refs/changes/79/487379/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,60168b9845c2adb592a1c6d3a5f07949dccacc6d,enable_checks,"enable-extensions=H904,H106,H203",enable-extensions=H904,1,1
openstack%2Fsecurity-doc~master~I198ab8e201835b28a31db672711046b3f1394dd6,openstack/security-doc,master,I198ab8e201835b28a31db672711046b3f1394dd6,Remove the redundant hyperlink,MERGED,2017-07-31 07:58:51.000000000,2017-08-01 13:50:41.000000000,2017-08-01 13:50:41.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 10607}, {'_account_id': 17893}]","[{'number': 1, 'created': '2017-07-31 07:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e673a489363ae680496ba8a433e7688c8365f448', 'message': 'Add the missing hyperlink markup for the title\n\nChange-Id: I198ab8e201835b28a31db672711046b3f1394dd6\n'}, {'number': 2, 'created': '2017-07-31 08:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/5879de840c2922ef1579b3917d90d0d7ea87a8d7', 'message': 'Add the missing hyperlink markup for the title\n\nChange-Id: I198ab8e201835b28a31db672711046b3f1394dd6\n'}, {'number': 3, 'created': '2017-07-31 08:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/4b4cded80cdf89b9a18d8f89e60af0718c626966', 'message': 'Add the missing hyperlink markup for the title\n\nChange-Id: I198ab8e201835b28a31db672711046b3f1394dd6\n'}, {'number': 4, 'created': '2017-07-31 09:46:41.000000000', 'files': ['security-guide/source/monitoring-logging/forensics-and-incident-response.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/719cf0cc089fc4de69f7edcef467ca4dcba560d2', 'message': 'Remove the redundant hyperlink\n\nChange-Id: I198ab8e201835b28a31db672711046b3f1394dd6\n'}]",3,489121,719cf0cc089fc4de69f7edcef467ca4dcba560d2,17,4,4,14151,,,0,"Remove the redundant hyperlink

Change-Id: I198ab8e201835b28a31db672711046b3f1394dd6
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/21/489121/3 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/monitoring-logging/forensics-and-incident-response.rst'],1,e673a489363ae680496ba8a433e7688c8365f448,,"`Some practical considerations for monitoring in OpenStack cloud <http://www.mirantis.com/blog/openstack-monitoring/>`__`Host sFlow distributed agent <http://blog.sflow.com/2012/01/host-sflow-distributed-agent.html>`__`LAN and WAN <http://blog.sflow.com/2009/09/lan-and-wan.html>`__`Rapidly detecting large flows, sFlow vs. NetFlow/IPFIX <http://blog.sflow.com/2013/01/rapidly-detecting-large-flows-sflow-vs.html>`__",`http://www.mirantis.com/blog/openstack-monitoring <http://www.mirantis.com/blog/openstack-monitoring/>`__http://blog.sflow.com/2012/01/host-sflow-distributed-agent.htmlhttp://blog.sflow.com/2009/09/lan-and-wan.htmlhttp://blog.sflow.com/2013/01/rapidly-detecting-large-flows-sflow-vs.html,8,4
openstack%2Fopenstack-helm~master~I8aa05f3d40e7825410eace3ad7b44d36e3bb6434,openstack/openstack-helm,master,I8aa05f3d40e7825410eace3ad7b44d36e3bb6434,Fix openstack endpoint option at _ks-endpoint.sh,MERGED,2017-08-01 09:59:40.000000000,2017-08-01 13:48:39.000000000,2017-08-01 13:48:39.000000000,"[{'_account_id': 3}, {'_account_id': 17591}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-08-01 09:59:40.000000000', 'files': ['helm-toolkit/templates/scripts/_ks-endpoints.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b5b7bdadb81ec6fbda302c589dc4d388bfaaf3d6', 'message': 'Fix openstack endpoint option at _ks-endpoint.sh\n\nThis PS fix openstack endpoint show option at _ks-endpoint.sh\nas job-ks-endpoint fails when endpoint needs updated.\n\nChange-Id: I8aa05f3d40e7825410eace3ad7b44d36e3bb6434\n'}]",0,489550,b5b7bdadb81ec6fbda302c589dc4d388bfaaf3d6,7,3,1,21892,,,0,"Fix openstack endpoint option at _ks-endpoint.sh

This PS fix openstack endpoint show option at _ks-endpoint.sh
as job-ks-endpoint fails when endpoint needs updated.

Change-Id: I8aa05f3d40e7825410eace3ad7b44d36e3bb6434
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/489550/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/_ks-endpoints.sh.tpl'],1,b5b7bdadb81ec6fbda302c589dc4d388bfaaf3d6,bug/1707870, OS_ENDPOINT_URL_CURRENT=$(openstack endpoint show ${OS_ENDPOINT_ID} -f value -c url), OS_ENDPOINT_URL_CURRENT=$(openstack endpoint show ${OS_ENDPOINT_ID} --f value -c url),1,1
openstack%2Fkarbor~master~Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32,openstack/karbor,master,Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32,Add spec for operation log RESTful API,MERGED,2017-03-16 06:29:36.000000000,2017-08-01 13:43:47.000000000,2017-08-01 13:43:47.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 18266}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 21648}, {'_account_id': 22056}]","[{'number': 1, 'created': '2017-03-16 06:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ca53abdbcb1885df4d145af56b9620a12b38bd99', 'message': '[WIP] Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 2, 'created': '2017-03-23 15:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/6d9c709dd92d5385742d726a167536027a882f2e', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 3, 'created': '2017-03-23 16:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9f9f748e4d73578a83f2520107a71041c167eeb0', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 4, 'created': '2017-03-24 12:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a57a4934be7670d6065534a1754fe469904e0ba6', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 5, 'created': '2017-06-01 09:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/95cce3f7547e42f56fb9d7a387ba9a4257b04ab6', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 6, 'created': '2017-06-01 14:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/650dafadce4f19eddefd6a020bf5ba3a015cb7f7', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 7, 'created': '2017-06-23 06:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d1510a04df81608ee4a0d56c19721e4bf12d65db', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 8, 'created': '2017-06-24 03:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/39589f1776d3bddc254e14f5a8251035663f8af3', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 9, 'created': '2017-06-27 07:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a28f92b4f296db2d6363acc6af6630a8c70c93a8', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 10, 'created': '2017-07-31 13:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d85ee24be172a0cfb7446d3449582018b7a28eae', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 11, 'created': '2017-07-31 14:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/7db4dd69f6dab0c154bcdb201cc49c7e23e9fdad', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 12, 'created': '2017-08-01 02:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4f9213162a65000588b7850448b180aafdfc3b8b', 'message': 'Add spec for operation log RESTfull API\n\nThis spec focuses on the design about adding a new RESTfull\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 13, 'created': '2017-08-01 02:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2bc6def1589106beed923494259210a8729f74c5', 'message': 'Add spec for operation log RESTful API\n\nThis spec focuses on the design about adding a new RESTful\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}, {'number': 14, 'created': '2017-08-01 12:31:04.000000000', 'files': ['doc/source/specs/index.rst', 'doc/source/specs/operation-log-api.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/702fb89321c97a538036696bef1703800b3871a0', 'message': 'Add spec for operation log RESTful API\n\nThis spec focuses on the design about adding a new RESTful\noperation log API.\n\nChange-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32\nblueprint: operation-log-api\n'}]",39,446315,702fb89321c97a538036696bef1703800b3871a0,59,7,14,17151,,,0,"Add spec for operation log RESTful API

This spec focuses on the design about adding a new RESTful
operation log API.

Change-Id: Ie03e7d7fed6e6bd5746b9e1693ec798c25c2ab32
blueprint: operation-log-api
",git fetch https://review.opendev.org/openstack/karbor refs/changes/15/446315/7 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/operation-log-api.rst'],1,ca53abdbcb1885df4d145af56b9620a12b38bd99,bp/operation-log-api,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Refactor the clients used in protect service ============================================ https://blueprints.launchpad.net/karbor/+spec/operation-log-api Problem description =================== The resources in a plan can be protected automatically or manually by the end user via the checkpoint POST API. And then the checkpoints (about the metadata and backup datas) are created. The checkpoints also can be deleted manually by end user via checkpoint DELETE API. In the bp **Checkpoint scheduled clean**, the parameters max_backups and retention_duration will be introduced to karbor. So the checkpoints also can be deleted automatically. But if the end user want to query deleted protection log in history, he can not get these deleted protection log via checkpoint restful API. Use Cases ========= User want to query all the operation logs about checkpoint via a RESTfull API, including the logs with status of **deleted**, **failed**. Proposed change =============== As we know, the Checkpoint is responsible for the model of backup data which records all the metadata of backup data in the whole lifecycle, it is not responsible for the model of protection log. So Karbor need expose one RESTfull api to support that the end-user can query all the protection log about the plan including successful , failed and deleted log records. About this patch: Add operation log endpoints to API document[1]. We have a plan to add operation log API to Karbor. But in this patch, we only consider the situation that the checkpoints are created automatically via scheduled_operation API. We also need consider the situation that the checkpoints are created manually directly via checkpoint API. We may need redesign the operation log API to meet above requirement. Alternatives ------------ None Data model impact ----------------- YES REST API impact --------------- YES Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Work Items ---------- * Add a new RESTfull API about operation log * Add database data module of operation log Dependencies ============ Testing ======= Unit tests in Karbor. Documentation Impact ==================== None References ========== [1] https://review.openstack.org/#/c/298060/ ",,131,0
openstack%2Fpython-ironicclient~stable%2Fnewton~Ic35b2b4d8e26aa3110af57e612bcad4d0f8eb024,openstack/python-ironicclient,stable/newton,Ic35b2b4d8e26aa3110af57e612bcad4d0f8eb024,Set OSC default baremetal api version as in ironicclient,ABANDONED,2017-02-16 15:49:03.000000000,2017-08-01 13:42:32.000000000,,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 14614}, {'_account_id': 15784}, {'_account_id': 22749}]","[{'number': 1, 'created': '2017-02-16 15:49:03.000000000', 'files': ['ironicclient/osc/plugin.py', 'releasenotes/notes/osc-default-microver-172d6e69316e70c1.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f4fd591999b216d1252c66e847ebcd03dcbdf765', 'message': 'Set OSC default baremetal api version as in ironicclient\n\nUpdate OSC plugin DEFAULT_BAREMETAL_API_VERSION to be\nequal with ironicclient DEFAULT_VER.\n\nChange-Id: Ic35b2b4d8e26aa3110af57e612bcad4d0f8eb024\nCloses-Bug: #1632655\n(cherry picked from commit b03a22d059f5993fd2d7f4922258e3d4d4fdce79)\n'}]",0,434980,f4fd591999b216d1252c66e847ebcd03dcbdf765,7,8,1,20936,,,0,"Set OSC default baremetal api version as in ironicclient

Update OSC plugin DEFAULT_BAREMETAL_API_VERSION to be
equal with ironicclient DEFAULT_VER.

Change-Id: Ic35b2b4d8e26aa3110af57e612bcad4d0f8eb024
Closes-Bug: #1632655
(cherry picked from commit b03a22d059f5993fd2d7f4922258e3d4d4fdce79)
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/80/434980/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/osc/plugin.py', 'releasenotes/notes/osc-default-microver-172d6e69316e70c1.yaml']",2,f4fd591999b216d1252c66e847ebcd03dcbdf765,bug/1632655,--- fixes: - Fixes the OpenStackClient plugin so that it uses the same default API version as the Ironic CLI (1.9 instead of 1.6). ,,9,4
openstack%2Ftripleo-quickstart-extras~master~I6f47540308f2e543a1b7ee599e943d684c2d00e7,openstack/tripleo-quickstart-extras,master,I6f47540308f2e543a1b7ee599e943d684c2d00e7,WIP Remove tags and use vars everywhere,ABANDONED,2017-01-31 15:09:49.000000000,2017-08-01 13:41:50.000000000,,"[{'_account_id': 3}, {'_account_id': 10022}, {'_account_id': 18846}, {'_account_id': 20936}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-01-31 15:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/598b57b8d0221d8079f537cfdfbf684319ccbaa8', 'message': 'WIP Remove tags and use vars everywhere\n\nWork in progress, do not yet merge.\n\nThis is a proposal to remove tags inside playbooks, replacing them with\ndefault vars to be declared as ""task_<name>"", as described on launchpad\nbug 1657415.\n\nChange-Id: I6f47540308f2e543a1b7ee599e943d684c2d00e7\n'}, {'number': 2, 'created': '2017-01-31 15:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2e0f283db4873f9ef414e5fa44367f276288f8c', 'message': 'WIP Remove tags and use vars everywhere\n\nWork in progress, do not (yet) merge.\n\nThis is a proposal to remove tags inside playbooks, replacing them with\ndefault vars to be declared as ""task_<name>"", as described on launchpad\nbug 1657415.\n\nDepends-On: https://review.openstack.org/#/c/427244/\nChange-Id: I6f47540308f2e543a1b7ee599e943d684c2d00e7\n'}, {'number': 3, 'created': '2017-01-31 15:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6a8d325efa8cea9b920fbd42ec809b15acb62ec8', 'message': 'WIP Remove tags and use vars everywhere\n\nWork in progress, do not (yet) merge.\n\nThis is a proposal to remove tags inside playbooks, replacing them with\ndefault vars to be declared as ""task_<name>"", as described on launchpad\nbug 1657415.\nWork has been done for now just in the baremetal-undercloud-validate-ha\nplaybook.\n\nDepends-On: https://review.openstack.org/#/c/427244/\nChange-Id: I6f47540308f2e543a1b7ee599e943d684c2d00e7\n'}, {'number': 4, 'created': '2017-02-01 16:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/220a99c63b98c3a9823d98ede8f861bf55aea214', 'message': 'WIP Remove tags and use vars everywhere\n\nWork in progress, do not (yet) merge.\n\nThis is a proposal to remove tags inside playbooks, replacing them with\ndefault vars to be declared as ""task_<name>"", as described on launchpad\nbug 1657415.\nWork has been done for now just in the baremetal-undercloud-validate-ha\nplaybook.\n\nDepends-On: https://review.openstack.org/#/c/427244/\nChange-Id: I6f47540308f2e543a1b7ee599e943d684c2d00e7\n'}, {'number': 5, 'created': '2017-02-03 11:30:23.000000000', 'files': ['roles/baremetal-undercloud/tasks/machine-setup.yml', 'roles/baremetal-prep-overcloud/defaults/main.yml', 'roles/overcloud-prep-flavors/defaults/main.yml', 'roles/overcloud-prep-network/defaults/main.yml', 'roles/repo-setup/defaults/main.yml', 'roles/overcloud-deploy/defaults/main.yml', 'roles/baremetal-undercloud/packages/defaults/main.yml', 'roles/baremetal-undercloud/tasks/main.yml', 'roles/baremetal-undercloud/defaults/main.yml', 'roles/overcloud-prep-images/defaults/main.yml', 'roles/validate-ha/defaults/main.yml', 'roles/overcloud-prep-config/defaults/main.yml', 'roles/undercloud-deploy/defaults/main.yml', 'playbooks/baremetal-undercloud-validate-ha.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/13c11fe4acc83dabc5f4d06ef4e4602fbc7bc055', 'message': 'WIP Remove tags and use vars everywhere\n\nWork in progress, do not (yet) merge.\n\nThis is a proposal to remove tags inside playbooks, replacing them with\ndefault vars to be declared as ""task_<name>"", as described on launchpad\nbug 1657415.\nWork has been done for now just in the baremetal-undercloud-validate-ha\nplaybook.\n\nDepends-On: https://review.openstack.org/#/c/427244/\nChange-Id: I6f47540308f2e543a1b7ee599e943d684c2d00e7\n'}]",2,427243,13c11fe4acc83dabc5f4d06ef4e4602fbc7bc055,21,5,5,20936,,,0,"WIP Remove tags and use vars everywhere

Work in progress, do not (yet) merge.

This is a proposal to remove tags inside playbooks, replacing them with
default vars to be declared as ""task_<name>"", as described on launchpad
bug 1657415.
Work has been done for now just in the baremetal-undercloud-validate-ha
playbook.

Depends-On: https://review.openstack.org/#/c/427244/
Change-Id: I6f47540308f2e543a1b7ee599e943d684c2d00e7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/427243/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/baremetal-prep-overcloud/defaults/main.yml', 'roles/overcloud-prep-flavors/defaults/main.yml', 'roles/overcloud-prep-network/defaults/main.yml', 'roles/repo-setup/defaults/main.yml', 'roles/overcloud-deploy/defaults/main.yml', 'roles/baremetal-undercloud/packages/defaults/main.yml', 'roles/baremetal-undercloud/defaults/main.yml', 'roles/baremetal-undercloud/tasks/tasks.yml', 'roles/overcloud-prep-images/defaults/main.yml', 'roles/validate-ha/defaults/main.yml', 'roles/overcloud-prep-config/defaults/main.yml', 'roles/undercloud-deploy/defaults/main.yml', 'playbooks/baremetal-undercloud-validate-ha.yml']",13,598b57b8d0221d8079f537cfdfbf684319ccbaa8,bug/1657415," - { role: baremetal-undercloud, when: task_baremetal_undercloud|bool } - { role: tripleo-inventory, when: task_tripleo_inventory_undercloud|bool } - { role: repo-setup, when: task_repo_setup|bool } - { role: baremetal-undercloud/packages, when: task_undercloud_pkgs_install|bool } - { role: undercloud-deploy, when: task_undercloud_deploy|bool } - { role: baremetal-prep-overcloud, when: task_overcloud_prep_overcloud|bool } - { role: overcloud-prep-config, when: task_overcloud_prep_config|bool } - { role: fetch-images, when: task_overcloud_fetch_images|bool } - { role: overcloud-prep-images, when: task_overcloud_prep_images|bool } - { role: overcloud-prep-flavors, when: task_overcloud_prep_flavors|bool } - { role: overcloud-prep-network, when: task_overcloud_prep_network|bool } - { role: overcloud-deploy, when: task_overcloud_deploy|bool } #################################################### # This should be part of the overcloud-deploy role?! ######################################################################################################## - name: Add the overcloud nodes to the generated inventory hosts: undercloud gather_facts: yes vars: inventory: all roles: - { role: tripleo-inventory, when: task_tripleo_inventory_overcloud|bool } - { role: validate-ha, when: task_overcloud_validate_ha|bool }", - baremetal-undercloud tags: - baremetal-undercloud - tripleo-inventory tags: - undercloud-inventory - repo-setup tags: - undercloud-repo-setup - baremetal-undercloud/packages tags: - undercloud-pkgs-install - undercloud-deploy tags: - undercloud-deploy - baremetal-prep-overcloud tags: - baremetal-prep-overcloud - overcloud-prep-config tags: - overcloud-prep-config - fetch-images tags: - overcloud-fetch-images - overcloud-prep-images tags: - overcloud-prep-images - overcloud-prep-flavors tags: - overcloud-prep-flavors - overcloud-prep-network tags: - overcloud-prep-network - overcloud-deploy tags: - overcloud-deploy - name: Add the overcloud nodes to the generated inventory hosts: undercloud gather_facts: yes vars: inventory: all roles: - tripleo-inventory tags: - overcloud-inventory tags: - overcloud-deploy-check - validate-ha tags: - overcloud-validate-ha,42,51
openstack%2Ftripleo-quickstart~master~Ia68feb3eb8abec0c0168a57dbfb4c7548db7f5a9,openstack/tripleo-quickstart,master,Ia68feb3eb8abec0c0168a57dbfb4c7548db7f5a9,WIP Remove tags and use vars everywhere,ABANDONED,2017-01-31 15:10:05.000000000,2017-08-01 13:41:34.000000000,,"[{'_account_id': 3}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-01-31 15:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e93c6a8d292960c24e4997401dceb694cb6266a4', 'message': 'Remove tags and use vars everywhere LP1657415\n\nWIP Remove tags and use vars everywhere\n\nWork in progress, do not yet merge.\n\nThis is a proposal to remove tags inside playbooks, replacing them with\ndefault vars to be declared as ""task_<name>"", as described on launchpad\nbug 1657415.\n\nChange-Id: Ia68feb3eb8abec0c0168a57dbfb4c7548db7f5a9\n'}, {'number': 2, 'created': '2017-01-31 15:16:35.000000000', 'files': ['roles/fetch-images/defaults/main.yml', 'roles/tripleo-inventory/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e743ee143098eb8f0d1b9d912daaa8d5aacaea35', 'message': 'WIP Remove tags and use vars everywhere\n\nWork in progress, do not (yet) merge.\n\nThis is a proposal to remove tags inside playbooks, replacing them with\ndefault vars to be declared as ""task_<name>"", as described on launchpad\nbug 1657415.\n\nDepends-On: https://review.openstack.org/#/c/427243/\nChange-Id: Ia68feb3eb8abec0c0168a57dbfb4c7548db7f5a9\n'}]",0,427244,e743ee143098eb8f0d1b9d912daaa8d5aacaea35,7,2,2,20936,,,0,"WIP Remove tags and use vars everywhere

Work in progress, do not (yet) merge.

This is a proposal to remove tags inside playbooks, replacing them with
default vars to be declared as ""task_<name>"", as described on launchpad
bug 1657415.

Depends-On: https://review.openstack.org/#/c/427243/
Change-Id: Ia68feb3eb8abec0c0168a57dbfb4c7548db7f5a9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/44/427244/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/fetch-images/defaults/main.yml', 'roles/tripleo-inventory/defaults/main.yml']",2,e93c6a8d292960c24e4997401dceb694cb6266a4,bug/1657415,task_tripleo_inventory_undercloud: true task_tripleo_inventory_overcloud: true,,3,0
openstack%2Fcinder~master~Ib0e7caca0ab72ff89748eac434396d15c5af47d5,openstack/cinder,master,Ib0e7caca0ab72ff89748eac434396d15c5af47d5,[DOC BLD FIX] Fix docstring issues for Hitachi HNAS driver,MERGED,2017-07-24 20:32:40.000000000,2017-08-01 13:40:37.000000000,2017-07-24 23:50:03.000000000,"[{'_account_id': 3}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-07-24 20:32:40.000000000', 'files': ['cinder/volume/drivers/hitachi/hnas_backend.py', 'cinder/volume/drivers/hitachi/hnas_utils.py', 'cinder/volume/drivers/hitachi/hnas_nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/903d8e653c32cc2790dea9d315178ca4057a217f', 'message': '[DOC BLD FIX] Fix docstring issues for Hitachi HNAS driver\n\nThere were a number of docstring issues in the Hitachi HNAS\ndriver were causing Sphinx WARNINGs to be produced during\na build.  A number of the issues could be resolved by putting\ncode examples into "".. code:: python"" blocks.  This patch\nfixes those issues.\n\nChange-Id: Ib0e7caca0ab72ff89748eac434396d15c5af47d5\n'}]",0,486744,903d8e653c32cc2790dea9d315178ca4057a217f,35,19,1,7198,,,0,"[DOC BLD FIX] Fix docstring issues for Hitachi HNAS driver

There were a number of docstring issues in the Hitachi HNAS
driver were causing Sphinx WARNINGs to be produced during
a build.  A number of the issues could be resolved by putting
code examples into "".. code:: python"" blocks.  This patch
fixes those issues.

Change-Id: Ib0e7caca0ab72ff89748eac434396d15c5af47d5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/486744/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hitachi/hnas_backend.py', 'cinder/volume/drivers/hitachi/hnas_utils.py', 'cinder/volume/drivers/hitachi/hnas_nfs.py']",3,903d8e653c32cc2790dea9d315178ca4057a217f,doc-bld-fix," .. code:: python _stats['pools'] = { 'total_capacity_gb': total size of the pool, 'free_capacity_gb': the available size, 'QoS_support': bool to indicate if QoS is supported, 'reserved_percentage': percentage of size reserved, 'max_over_subscription_ratio': oversubscription rate, 'thin_provisioning_support': thin support (True), } volume"," _stats['pools'] = { 'total_capacity_gb': total size of the pool, 'free_capacity_gb': the available size, 'QoS_support': bool to indicate if QoS is supported, 'reserved_percentage': percentage of size reserved, 'max_over_subscription_ratio': oversubscription rate, 'thin_provisioning_support': thin support (True), } volume",58,32
openstack%2Fservice-types-authority~master~I71ede7e92bebae0f43adf70c0eee92a0e50d6ea4,openstack/service-types-authority,master,I71ede7e92bebae0f43adf70c0eee92a0e50d6ea4,Order block-storage aliases sanely,MERGED,2017-07-26 19:37:28.000000000,2017-08-01 13:38:20.000000000,2017-08-01 13:38:20.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-07-26 19:37:28.000000000', 'files': ['service-types.yaml'], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/e81cd33fe4980d083785fdef2c7a507e6972b9de', 'message': ""Order block-storage aliases sanely\n\nIf a consumer making use of aliases cares about ordering at all, it is\nlikely for the purpose of trying them in some reasonable order to find\ne.g. a service endpoint.\n\nIn the case of cinder, a sane consumer who really doesn't know what\nendpoint they want is more likely to want to try volumev3, then\nvolumev2, then volume rather than the reverse.\n\nThis change set reorders block-storage's aliases accordingly so that\nconsuming code can use them in their natural order.\n\nOther service types already observe sane alias ordering.\n\nFuture additions to service-types data should take this same issue into\naccount.\n\nChange-Id: I71ede7e92bebae0f43adf70c0eee92a0e50d6ea4\n""}]",0,487570,e81cd33fe4980d083785fdef2c7a507e6972b9de,10,4,1,14070,,,0,"Order block-storage aliases sanely

If a consumer making use of aliases cares about ordering at all, it is
likely for the purpose of trying them in some reasonable order to find
e.g. a service endpoint.

In the case of cinder, a sane consumer who really doesn't know what
endpoint they want is more likely to want to try volumev3, then
volumev2, then volume rather than the reverse.

This change set reorders block-storage's aliases accordingly so that
consuming code can use them in their natural order.

Other service types already observe sane alias ordering.

Future additions to service-types data should take this same issue into
account.

Change-Id: I71ede7e92bebae0f43adf70c0eee92a0e50d6ea4
",git fetch https://review.opendev.org/openstack/service-types-authority refs/changes/70/487570/1 && git format-patch -1 --stdout FETCH_HEAD,['service-types.yaml'],1,e81cd33fe4980d083785fdef2c7a507e6972b9de,order_aliases, - volumev2 - volume, - volume - volumev2,2,2
openstack%2Fcinder~master~Ia66bde6542fe8db9e3a1c32a9925cd3d62f19a0d,openstack/cinder,master,Ia66bde6542fe8db9e3a1c32a9925cd3d62f19a0d,Updated from global requirements,MERGED,2017-07-23 13:40:34.000000000,2017-08-01 13:37:51.000000000,2017-07-24 23:45:39.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-07-23 13:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22985ccafa6ac1deb6a313dee6da5b4ff17d90db', 'message': 'Updated from global requirements\n\nChange-Id: Ia66bde6542fe8db9e3a1c32a9925cd3d62f19a0d\n'}, {'number': 2, 'created': '2017-07-24 20:25:39.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c8caab13370cf99a111a45231bb633920a64db2', 'message': 'Updated from global requirements\n\nChange-Id: Ia66bde6542fe8db9e3a1c32a9925cd3d62f19a0d\n'}]",0,486393,8c8caab13370cf99a111a45231bb633920a64db2,63,31,2,11131,,,0,"Updated from global requirements

Change-Id: Ia66bde6542fe8db9e3a1c32a9925cd3d62f19a0d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/486393/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,22985ccafa6ac1deb6a313dee6da5b4ff17d90db,openstack/requirements,keystoneauth1>=3.0.1 # Apache-2.0,"keystoneauth1!=3.0.0,>=2.21.0 # Apache-2.0",1,1
openstack%2Fopenstack-ansible-ops~master~I6c47e02ecfbe8ee7533e77b11041785db485a1a9,openstack/openstack-ansible-ops,master,I6c47e02ecfbe8ee7533e77b11041785db485a1a9,Convert vars in files to host_vars,MERGED,2017-08-01 02:44:44.000000000,2017-08-01 13:36:49.000000000,2017-08-01 13:36:49.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-08-01 02:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6a67997b852a9b29916491064949635a4e4252f1', 'message': 'Convert vars in files to host_vars\n\nThis change allows the MNAIO to really be used as a stand alone kick\nsystem which has the potential to be developed into a stand alone\nproject. At the very least this change improves playbook performance\nby scoping variables.\n\nThe inventory has been converted into a typical Ansible inventory and\nthe ""servers"" used in the MNAIO are now simply host_vars\nwhich will trigger specific VM builds when instructed to do so. This\ngives the MNAIO the ability to serve as a stand alone kick system which\ncould be used for physical hosts as well as MNAIO testing all through\nthe same basic set of playbooks. Should a deployer want to use this with\nphysical servers they\'d need to do nothing more than define their basic\ninventory and where the the required pieces of infrastructure needed to\nPXE boot their machines.\n\nChange-Id: I6c47e02ecfbe8ee7533e77b11041785db485a1a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2017-08-01 03:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ea21b5cda68bb121a54a610fc37d6812bdef69c3', 'message': 'Convert vars in files to host_vars\n\nThis change allows the MNAIO to really be used as a stand alone kick\nsystem which has the potential to be developed into a stand alone\nproject. At the very least this change improves playbook performance\nby scoping variables.\n\nThe inventory has been converted into a typical Ansible inventory and\nthe ""servers"" used in the MNAIO are now simply host_vars\nwhich will trigger specific VM builds when instructed to do so. This\ngives the MNAIO the ability to serve as a stand alone kick system which\ncould be used for physical hosts as well as MNAIO testing all through\nthe same basic set of playbooks. Should a deployer want to use this with\nphysical servers they\'d need to do nothing more than define their basic\ninventory and where the the required pieces of infrastructure needed to\nPXE boot their machines.\n\nChange-Id: I6c47e02ecfbe8ee7533e77b11041785db485a1a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2017-08-01 03:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7a5d85d60338666d323a1a3d7ae3a5f6f9a1fa0c', 'message': 'Convert vars in files to host_vars\n\nThis change allows the MNAIO to really be used as a stand alone kick\nsystem which has the potential to be developed into a stand alone\nproject. At the very least this change improves playbook performance\nby scoping variables.\n\nThe inventory has been converted into a typical Ansible inventory and\nthe ""servers"" used in the MNAIO are now simply host_vars\nwhich will trigger specific VM builds when instructed to do so. This\ngives the MNAIO the ability to serve as a stand alone kick system which\ncould be used for physical hosts as well as MNAIO testing all through\nthe same basic set of playbooks. Should a deployer want to use this with\nphysical servers they\'d need to do nothing more than define their basic\ninventory and where the the required pieces of infrastructure needed to\nPXE boot their machines.\n\nChange-Id: I6c47e02ecfbe8ee7533e77b11041785db485a1a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2017-08-01 04:31:21.000000000', 'files': ['multi-node-aio/playbooks/group_vars/pxe_hosts.yml', 'multi-node-aio/playbooks/host_vars/infra1.yml', 'multi-node-aio/playbooks/pxe/debian/basic-interface.cfg', 'multi-node-aio/playbooks/deploy-dhcp.yml', 'multi-node-aio/playbooks/osa/openstack_user_config.yml', 'multi-node-aio/playbooks/kvm/kvm-vm.xml', 'multi-node-aio/playbooks/host_vars/infra2.yml', 'multi-node-aio/playbooks/host_vars/swift2.yml', 'multi-node-aio/playbooks/host_vars/loadbalancer1.yml', 'multi-node-aio/playbooks/host_vars/compute2.yml', 'multi-node-aio/playbooks/host_vars/cinder1.yml', 'multi-node-aio/playbooks/inventory', 'multi-node-aio/playbooks/pxe/debian/vm-post-install-script.sh.j2', 'multi-node-aio/playbooks/pxe/tftp/pxelinux.cfg.macaddr.j2', 'multi-node-aio/playbooks/pxe/debian/vm-bridges.cfg.j2', 'multi-node-aio/playbooks/deploy-vms.yml', 'multi-node-aio/playbooks/group_vars/all.yml', 'multi-node-aio/playbooks/host_vars/example-host1.yml.example', 'multi-node-aio/playbooks/host_vars/swift3.yml', 'multi-node-aio/playbooks/mnaio/debian/mnaio-bridges.cfg.j2', 'multi-node-aio/playbooks/setup-host.yml', 'multi-node-aio/playbooks/mnaio/debian/mnaio-post-install-script.sh.j2', 'multi-node-aio/playbooks/host_vars/cinder2.yml', 'multi-node-aio/playbooks/vars/main.yml', 'multi-node-aio/playbooks/dhcp/dhcpd.conf.j2', 'multi-node-aio/playbooks/host_vars/logging1.yml', 'multi-node-aio/playbooks/group_vars/dhcp_hosts.yml', 'multi-node-aio/playbooks/deploy-pxe.yml', 'multi-node-aio/playbooks/host_vars/compute1.yml', 'multi-node-aio/playbooks/host_vars/infra3.yml', 'multi-node-aio/README.rst', 'multi-node-aio/playbooks/deploy-osa.yml', 'multi-node-aio/playbooks/group_vars/mnaio_hosts.yml', 'multi-node-aio/playbooks/host_vars/swift1.yml', 'multi-node-aio/playbooks/pxe/debian/vm.preseed.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/cfc76ded4a1ede24158c15b9164273fe239b07f9', 'message': 'Convert vars in files to host_vars\n\nThis change allows the MNAIO to really be used as a stand alone kick\nsystem which has the potential to be developed into a stand alone\nproject. At the very least this change improves playbook performance\nby scoping variables.\n\nThe inventory has been converted into a typical Ansible inventory and\nthe ""servers"" used in the MNAIO are now simply host_vars\nwhich will trigger specific VM builds when instructed to do so. This\ngives the MNAIO the ability to serve as a stand alone kick system which\ncould be used for physical hosts as well as MNAIO testing all through\nthe same basic set of playbooks. Should a deployer want to use this with\nphysical servers they\'d need to do nothing more than define their basic\ninventory and where the the required pieces of infrastructure needed to\nPXE boot their machines.\n\nChange-Id: I6c47e02ecfbe8ee7533e77b11041785db485a1a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,489445,cfc76ded4a1ede24158c15b9164273fe239b07f9,13,3,4,7353,,,0,"Convert vars in files to host_vars

This change allows the MNAIO to really be used as a stand alone kick
system which has the potential to be developed into a stand alone
project. At the very least this change improves playbook performance
by scoping variables.

The inventory has been converted into a typical Ansible inventory and
the ""servers"" used in the MNAIO are now simply host_vars
which will trigger specific VM builds when instructed to do so. This
gives the MNAIO the ability to serve as a stand alone kick system which
could be used for physical hosts as well as MNAIO testing all through
the same basic set of playbooks. Should a deployer want to use this with
physical servers they'd need to do nothing more than define their basic
inventory and where the the required pieces of infrastructure needed to
PXE boot their machines.

Change-Id: I6c47e02ecfbe8ee7533e77b11041785db485a1a9
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/45/489445/4 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/playbooks/group_vars/pxe_hosts.yml', 'multi-node-aio/playbooks/host_vars/infra1.yml', 'multi-node-aio/playbooks/pxe/debian/basic-interface.cfg', 'multi-node-aio/playbooks/deploy-dhcp.yml', 'multi-node-aio/playbooks/kvm/kvm-vm.xml', 'multi-node-aio/playbooks/host_vars/infra2.yml', 'multi-node-aio/playbooks/host_vars/swift2.yml', 'multi-node-aio/playbooks/host_vars/loadbalancer1.yml', 'multi-node-aio/playbooks/host_vars/compute2.yml', 'multi-node-aio/playbooks/host_vars/cinder1.yml', 'multi-node-aio/playbooks/inventory', 'multi-node-aio/playbooks/pxe/tftp/pxelinux.cfg.macaddr.j2', 'multi-node-aio/playbooks/pxe/debian/vm-bridges.cfg.j2', 'multi-node-aio/playbooks/deploy-vms.yml', 'multi-node-aio/playbooks/group_vars/all.yml', 'multi-node-aio/playbooks/host_vars/example-host1.yml.example', 'multi-node-aio/playbooks/host_vars/swift3.yml', 'multi-node-aio/playbooks/mnaio/debian/mnaio-bridges.cfg.j2', 'multi-node-aio/playbooks/setup-host.yml', 'multi-node-aio/playbooks/host_vars/cinder2.yml', 'multi-node-aio/playbooks/vars/main.yml', 'multi-node-aio/playbooks/dhcp/dhcpd.conf.j2', 'multi-node-aio/playbooks/host_vars/logging1.yml', 'multi-node-aio/playbooks/group_vars/dhcp_hosts.yml', 'multi-node-aio/playbooks/deploy-pxe.yml', 'multi-node-aio/playbooks/host_vars/compute1.yml', 'multi-node-aio/playbooks/host_vars/infra3.yml', 'multi-node-aio/playbooks/deploy-osa.yml', 'multi-node-aio/playbooks/group_vars/mnaio_hosts.yml', 'multi-node-aio/playbooks/host_vars/swift1.yml']",30,6a67997b852a9b29916491064949635a4e4252f1,multi-node-aio,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in witing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ansible_os_family: ""{{ images[default_vm_image]['image_type'] }}"" server_hostname: 'swift1' server_vm: true server_vm_ram: 2048 server_vm_vcpus: 2 server_vm_fixed_addr: '10.0.2.140' server_vm_primary_network: 'dhcp' server_image: ""{{ default_vm_image }}"" server_default_interface: 'eth0' server_mac_address: '52:54:00:bd:80:09' server_preseed_ks: 'vm' server_extra_options: '' server_networks: dhcp: iface: 'eth0' inet_type: 'dhcp' vm_int_iface: vm-br-dhcp mgmt: iface: 'eth1' inet_type: 'static' address: '10.0.236.109/22' vm_int_iface: vm-br-eth1 flat: iface: 'eth2' inet_type: 'static' address: '10.0.248.109/22' vm_int_iface: vm-br-eth2 vlan: iface: 'eth3' inet_type: 'manual' vm_int_iface: vm-br-eth3 vxlan: iface: 'eth4' inet_type: 'static' address: '10.0.240.109/22' vm_int_iface: vm-br-eth4 storage: iface: 'eth5' inet_type: 'static' address: '10.0.244.109/22' vm_int_iface: vm-br-eth5 ",,1174,814
openstack%2Fkolla~master~Ifbaff505fe3b415e4598ee1a223fb823d2d71b43,openstack/kolla,master,Ifbaff505fe3b415e4598ee1a223fb823d2d71b43,Add workaround for openstack-sahara-ui plugin,MERGED,2017-06-21 09:57:02.000000000,2017-08-01 13:29:58.000000000,2017-08-01 13:29:58.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-06-21 09:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/46de9b244ed2e1fd2f9a23f557077199f53d1751', 'message': ""Add workaround for openstack-sahara-ui plugin\n\nThe openstack-sahara-ui package in RDO doesn't include the python plugin\nscripts in its enabled directory as they are moved rather than copied\ninto /usr/share/openstack-dashboard/openstack_dashboard/local/enabled/.\n\nThis change copies the plugins into the sahara_dashboard python package\ndirectory before they are removed from /usr/share.\n\nChange-Id: Ifbaff505fe3b415e4598ee1a223fb823d2d71b43\nCloses-Bug: #1699466\n""}, {'number': 2, 'created': '2017-06-21 10:07:30.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/21f042b7f7d8f99d17833ac0f76873a12c3aa2cb', 'message': ""Add workaround for openstack-sahara-ui plugin\n\nThe openstack-sahara-ui package in RDO doesn't include the python plugin\nscripts in its enabled directory as they are moved rather than copied\ninto /usr/share/openstack-dashboard/openstack_dashboard/local/enabled/.\n\nThis change copies the plugins into the sahara_dashboard python package\ndirectory before they are removed from /usr/share.\n\nChange-Id: Ifbaff505fe3b415e4598ee1a223fb823d2d71b43\nCloses-Bug: #1698462\n""}]",0,476073,21f042b7f7d8f99d17833ac0f76873a12c3aa2cb,14,4,2,14826,,,0,"Add workaround for openstack-sahara-ui plugin

The openstack-sahara-ui package in RDO doesn't include the python plugin
scripts in its enabled directory as they are moved rather than copied
into /usr/share/openstack-dashboard/openstack_dashboard/local/enabled/.

This change copies the plugins into the sahara_dashboard python package
directory before they are removed from /usr/share.

Change-Id: Ifbaff505fe3b415e4598ee1a223fb823d2d71b43
Closes-Bug: #1698462
",git fetch https://review.opendev.org/openstack/kolla refs/changes/73/476073/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,46de9b244ed2e1fd2f9a23f557077199f53d1751,bug/1698462, && cp /usr/share/openstack-dashboard/openstack_dashboard/local/enabled/_18*.py* /usr/lib/python2.7/site-packages/sahara_dashboard/enabled/ \,,1,0
openstack%2Fnova~master~I2ef25313db89a2fd58d11dc023d2d9755d0a86ed,openstack/nova,master,I2ef25313db89a2fd58d11dc023d2d9755d0a86ed,[placement] Add api-ref for RP traits,MERGED,2017-06-15 11:28:41.000000000,2017-08-01 13:23:29.000000000,2017-08-01 13:23:28.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11869}, {'_account_id': 12356}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-06-15 11:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/174ef60babb9d82cc586205ab6e3a760d036dc97', 'message': '[placement] Add api-ref for RP traits\n\nThis provides simple documentation of the path, request and response\nbody parameters when managing the association between traits and\nresource_providers.\n\nChange-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed\n'}, {'number': 2, 'created': '2017-06-15 12:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7e3f324e7aa033bee3b933d9c31eacf536800dc', 'message': '[placement] Add api-ref for RP traits\n\nThis provides simple documentation of the path, request and response\nbody parameters when managing the association between traits and\nresource_providers.\n\nChange-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed\n'}, {'number': 3, 'created': '2017-06-20 09:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8115aa608ee6936afdbb57e364c08410c67156d9', 'message': '[placement] Add api-ref for RP traits\n\nThis provides simple documentation of the path, request and response\nbody parameters when managing the association between traits and\nresource_providers.\n\nChange-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed\n'}, {'number': 4, 'created': '2017-06-28 08:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c27231465ceccea5c7ab5e988973bae92489d707', 'message': '[placement] Add api-ref for RP traits\n\nThis provides simple documentation of the path, request and response\nbody parameters when managing the association between traits and\nresource_providers.\n\nChange-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed\n'}, {'number': 5, 'created': '2017-07-06 08:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08027b7e18f9278acc0b3fbe47046d673f896acd', 'message': '[placement] Add api-ref for RP traits\n\nThis provides simple documentation of the path, request and response\nbody parameters when managing the association between traits and\nresource_providers.\n\nChange-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed\n'}, {'number': 6, 'created': '2017-07-06 15:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19f4c9b28a48c22e4334a7d5fa725f4194a5dfa2', 'message': '[placement] Add api-ref for RP traits\n\nThis provides simple documentation of the path, request and response\nbody parameters when managing the association between traits and\nresource_providers.\n\nChange-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed\n'}, {'number': 7, 'created': '2017-07-07 11:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac34cf13bbfedfa86cecb46294f6a95999b4bf23', 'message': '[placement] Add api-ref for RP traits\n\nThis provides simple documentation of the path, request and response\nbody parameters when managing the association between traits and\nresource_providers.\n\nChange-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed\n'}, {'number': 8, 'created': '2017-07-07 11:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e26c205c90e3b368773c09a9da4a6642be9cf24e', 'message': '[placement] Add api-ref for RP traits\n\nThis provides simple documentation of the path, request and response\nbody parameters when managing the association between traits and\nresource_providers.\n\nChange-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed\n'}, {'number': 9, 'created': '2017-07-18 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f9fb6d4f46842509950399aef1b645a252ea99d', 'message': '[placement] Add api-ref for RP traits\n\nThis provides simple documentation of the path, request and response\nbody parameters when managing the association between traits and\nresource_providers.\n\nChange-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed\n'}, {'number': 10, 'created': '2017-07-18 09:46:28.000000000', 'files': ['placement-api-ref/source/update-resource_provider-traits.json', 'placement-api-ref/source/update-resource_provider-traits-request.json', 'placement-api-ref/source/get-resource_provider-traits.json', 'placement-api-ref/source/resource_provider_traits.inc', 'placement-api-ref/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bb4565d2b7d42d2fdcd00da0414e3a55b8e4b34', 'message': '[placement] Add api-ref for RP traits\n\nThis provides simple documentation of the path, request and response\nbody parameters when managing the association between traits and\nresource_providers.\n\nChange-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed\n'}]",7,474550,9bb4565d2b7d42d2fdcd00da0414e3a55b8e4b34,109,24,10,21813,,,0,"[placement] Add api-ref for RP traits

This provides simple documentation of the path, request and response
body parameters when managing the association between traits and
resource_providers.

Change-Id: I2ef25313db89a2fd58d11dc023d2d9755d0a86ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/474550/10 && git format-patch -1 --stdout FETCH_HEAD,"['placement-api-ref/source/update-resource_provider-traits-request.json', 'placement-api-ref/source/update-resource_provider-traits.json', 'placement-api-ref/source/get-resource_provider-traits.json', 'placement-api-ref/source/resource_provider_traits.inc', 'placement-api-ref/source/index.rst']",5,174ef60babb9d82cc586205ab6e3a760d036dc97,cd/placement-api-ref,.. include:: resource_provider_traits.inc,,134,0
openstack%2Fnova~master~I003a25b0d60cb6cd16c3ee1ad1a43910825622be,openstack/nova,master,I003a25b0d60cb6cd16c3ee1ad1a43910825622be,provide interface-scoped nameserver information,MERGED,2017-05-24 18:00:48.000000000,2017-08-01 12:57:42.000000000,2017-08-01 12:57:42.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8745}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10380}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-24 18:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd0c749b3863566ee6d96b603074e27db74a7d29', 'message': 'provide interface-scoped nameserver information\n\nDNS nameserver information is subnet-specific, but nova provides this\ninformation globally, which makes it impossible for system\nconfiguration tools to place the nameserver information in the right\nplace (e.g., in interface configuration files).  This commit modifies\nnova to *also* provide the DNS information per-subnet, where it can be\naccessed by tools that want to configure the system properly.\n\nChange-Id: I003a25b0d60cb6cd16c3ee1ad1a43910825622be\nCloses-bug: #1693265\n'}, {'number': 2, 'created': '2017-05-25 12:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efd698518f11404830f8aa948e81906a99b5d2ee', 'message': 'provide interface-scoped nameserver information\n\nDNS nameserver information is subnet-specific, but nova provides this\ninformation globally, which makes it impossible for system\nconfiguration tools to place the nameserver information in the right\nplace (e.g., in interface configuration files).  This commit modifies\nnova to *also* provide the DNS information per-subnet, where it can be\naccessed by tools that want to configure the system properly.\n\nChange-Id: I003a25b0d60cb6cd16c3ee1ad1a43910825622be\nCloses-bug: #1693265\n'}, {'number': 3, 'created': '2017-07-20 01:20:48.000000000', 'files': ['nova/tests/unit/network/test_network_info.py', 'nova/virt/netutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4b333b989dfc778a8b61db4a1b8552e988a10471', 'message': 'provide interface-scoped nameserver information\n\nDNS nameserver information is subnet-specific, but nova provides this\ninformation globally, which makes it impossible for system\nconfiguration tools to place the nameserver information in the right\nplace (e.g., in interface configuration files).  This commit modifies\nnova to *also* provide the DNS information per-subnet, where it can be\naccessed by tools that want to configure the system properly.\n\nChange-Id: I003a25b0d60cb6cd16c3ee1ad1a43910825622be\nCloses-bug: #1693265\n'}]",5,467699,4b333b989dfc778a8b61db4a1b8552e988a10471,50,18,3,8745,,,0,"provide interface-scoped nameserver information

DNS nameserver information is subnet-specific, but nova provides this
information globally, which makes it impossible for system
configuration tools to place the nameserver information in the right
place (e.g., in interface configuration files).  This commit modifies
nova to *also* provide the DNS information per-subnet, where it can be
accessed by tools that want to configure the system properly.

Change-Id: I003a25b0d60cb6cd16c3ee1ad1a43910825622be
Closes-bug: #1693265
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/467699/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_network_info.py', 'nova/virt/netutils.py']",2,fd0c749b3863566ee6d96b603074e27db74a7d29,bug/1693265, services = _get_dns_services(subnet) if services: net_info['services'] = services ,,24,0
openstack%2Fsahara-dashboard~master~I1972064fa90d99fdc18eaa0f3ff89076fc2324d4,openstack/sahara-dashboard,master,I1972064fa90d99fdc18eaa0f3ff89076fc2324d4,Test commit do not merge,ABANDONED,2017-07-27 18:15:47.000000000,2017-08-01 12:28:41.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-07-27 18:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/3d3e2d65f867329c0ae8bd4ed72a6625423d38b0', 'message': 'Test commit do not merge\n\nChange-Id: I1972064fa90d99fdc18eaa0f3ff89076fc2324d4\n'}, {'number': 2, 'created': '2017-07-27 19:50:37.000000000', 'files': ['requirements.txt', '.requirements.txt.un~'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/5f2c675c041155966b285e4291f5818143227230', 'message': 'Test commit do not merge\n\nChange-Id: I1972064fa90d99fdc18eaa0f3ff89076fc2324d4\n'}]",0,487968,5f2c675c041155966b285e4291f5818143227230,5,1,2,8932,,,0,"Test commit do not merge

Change-Id: I1972064fa90d99fdc18eaa0f3ff89076fc2324d4
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/68/487968/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.requirements.txt.un~']",2,3d3e2d65f867329c0ae8bd4ed72a6625423d38b0,test-commit,,,1,1
openstack%2Fmagnum~stable%2Focata~I76b135ade4c1ed4987f9bcbe1d5ded09ad57deb9,openstack/magnum,stable/ocata,I76b135ade4c1ed4987f9bcbe1d5ded09ad57deb9,Copy cluster nodes logs always whether tests pass or fail,MERGED,2017-07-26 12:58:46.000000000,2017-08-01 12:16:40.000000000,2017-08-01 12:16:40.000000000,"[{'_account_id': 3}, {'_account_id': 13861}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-07-26 12:58:46.000000000', 'files': ['magnum/tests/functional/api/v1/test_cluster.py', 'magnum/tests/functional/python_client_base.py', 'magnum/tests/functional/api/v1/test_bay.py', 'magnum/tests/functional/common/base.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d015b73ec298f817778f31e6a4931358e69e7c57', 'message': 'Copy cluster nodes logs always whether tests pass or fail\n\n- Use addOnCleanup instead of addOnException. This will make copy\n  logs to run  whether tests pass or fail.\n- Also try to copy logs if setupClass Fails.\n\nChange-Id: I76b135ade4c1ed4987f9bcbe1d5ded09ad57deb9\n'}]",0,487404,d015b73ec298f817778f31e6a4931358e69e7c57,19,3,1,20498,,,0,"Copy cluster nodes logs always whether tests pass or fail

- Use addOnCleanup instead of addOnException. This will make copy
  logs to run  whether tests pass or fail.
- Also try to copy logs if setupClass Fails.

Change-Id: I76b135ade4c1ed4987f9bcbe1d5ded09ad57deb9
",git fetch https://review.opendev.org/openstack/magnum refs/changes/04/487404/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/functional/api/v1/test_cluster.py', 'magnum/tests/functional/python_client_base.py', 'magnum/tests/functional/api/v1/test_bay.py', 'magnum/tests/functional/common/base.py']",4,d015b73ec298f817778f31e6a4931358e69e7c57,fix_copy_logs," def int_copy_logs(): func_name = ""test""", def int_copy_logs(exec_info): fn = exec_info[2].tb_frame.f_locals['fn'] func_name = fn.im_self._get_test_method().__name__,24,6
openstack%2Fironic~master~I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355,openstack/ironic,master,I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355,Updated from global requirements,MERGED,2017-07-27 19:10:33.000000000,2017-08-01 12:15:19.000000000,2017-08-01 00:08:02.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-07-27 19:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/502aa08197bf96e2d4ef0c7cfdf50668e0e1eb48', 'message': 'Updated from global requirements\n\nChange-Id: I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355\n'}, {'number': 2, 'created': '2017-07-27 19:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/13bb4a70ca7bfcd7f9f52aaa50bc0dbee7f52bae', 'message': 'Updated from global requirements\n\nChange-Id: I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355\n'}, {'number': 3, 'created': '2017-07-27 20:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/78b8dd0b5205f43e338b2ade03ac4d99742730a1', 'message': 'Updated from global requirements\n\nChange-Id: I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355\n'}, {'number': 4, 'created': '2017-07-27 20:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c677a522eecae7cf3881ca4421cd561bfbcce310', 'message': 'Updated from global requirements\n\nChange-Id: I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355\n'}, {'number': 5, 'created': '2017-07-28 04:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0976e7bd0e2a04d7e70367892eed9b4b404b80fa', 'message': 'Updated from global requirements\n\nChange-Id: I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355\n'}, {'number': 6, 'created': '2017-07-29 02:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/66e1a64e541c6accd598a8f00b3f1954935361cd', 'message': 'Updated from global requirements\n\nChange-Id: I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355\n'}, {'number': 7, 'created': '2017-07-29 12:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/59e55c13b20b1915a6cf341e69b6a38c089ab57a', 'message': 'Updated from global requirements\n\nChange-Id: I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355\n'}, {'number': 8, 'created': '2017-07-29 21:44:34.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ffc9eb548d8974ff523bda3060e96a1ac3be328', 'message': 'Updated from global requirements\n\nChange-Id: I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355\n'}]",0,488002,9ffc9eb548d8974ff523bda3060e96a1ac3be328,46,9,8,11131,,,0,"Updated from global requirements

Change-Id: I54fdba274c2fa5bfa76d87b4a478e8eb40e9d355
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/488002/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,502aa08197bf96e2d4ef0c7cfdf50668e0e1eb48,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Fcinder~master~Ie66da44e7e26a25c500ff752ad9b9a7b7b7eefbf,openstack/cinder,master,Ie66da44e7e26a25c500ff752ad9b9a7b7b7eefbf,[DOC BLD FIX] Correct docstring errors in falconstor driver,MERGED,2017-07-24 18:19:48.000000000,2017-08-01 12:14:53.000000000,2017-07-25 03:12:18.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-07-24 18:19:48.000000000', 'files': ['cinder/volume/drivers/falconstor/iscsi.py', 'cinder/volume/drivers/falconstor/fss_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae262dbed31620950893b6506913ebacea9327a8', 'message': '[DOC BLD FIX] Correct docstring errors in falconstor driver\n\nThere were a couple of formatting issues in dosctrings causing\nthe Sphinx to produce WARNINGs when processesing the falconstor\ndriver.  This patch corrects them.\n\nChange-Id: Ie66da44e7e26a25c500ff752ad9b9a7b7b7eefbf\n'}]",0,486715,ae262dbed31620950893b6506913ebacea9327a8,39,10,1,7198,,,0,"[DOC BLD FIX] Correct docstring errors in falconstor driver

There were a couple of formatting issues in dosctrings causing
the Sphinx to produce WARNINGs when processesing the falconstor
driver.  This patch corrects them.

Change-Id: Ie66da44e7e26a25c500ff752ad9b9a7b7b7eefbf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/486715/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/falconstor/iscsi.py', 'cinder/volume/drivers/falconstor/fss_common.py']",2,ae262dbed31620950893b6506913ebacea9327a8,doc-bld-fix, .. code:: console create --volume-type FSS-THIN --metadata thinsize=<thin-volume-size> volume-size .. code:: console create --volume-type FSS --metadata timeview=<vid> cdptag=<tag> volume-size .. code:: console create --volume-type FSS --metadata timeview=<vid> rawtimestamp=<rawtimestamp> volume-size .. code:: console create --volume-type FSS --metadata mirrored=true, [Usage] create --volume-type FSS-THIN --metadata thinsize=<thin-volume-size> volume-size [Usage] create --volume-type FSS --metadata timeview=<vid> cdptag=<tag> volume-size [Usage] create --volume-type FSS --metadata timeview=<vid> rawtimestamp=<rawtimestamp> volume-size [Usage] create --volume-type FSS --metadata mirrored=true,37,23
openstack%2Fkarbor~master~Ia492a08a4239a6dc4c481bc7e5252d7fab02546f,openstack/karbor,master,Ia492a08a4239a6dc4c481bc7e5252d7fab02546f,Add usage for other providers in devstack dir,MERGED,2017-07-31 15:23:11.000000000,2017-08-01 12:13:14.000000000,2017-08-01 12:13:14.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 20883}, {'_account_id': 21224}, {'_account_id': 22056}]","[{'number': 1, 'created': '2017-07-31 15:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/dc83745d15b2e039aacda0c166a881451e797eaf', 'message': 'Add usage for other providers in devstack dir\n\nChange-Id: Ia492a08a4239a6dc4c481bc7e5252d7fab02546f\n'}, {'number': 2, 'created': '2017-08-01 01:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/06b938374fd88cac6a91f6b43f4883044b194db6', 'message': 'Add usage for other providers in devstack dir\n\nChange-Id: Ia492a08a4239a6dc4c481bc7e5252d7fab02546f\n'}, {'number': 3, 'created': '2017-08-01 07:45:55.000000000', 'files': ['doc/source/install/install-source.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/c739815dfa9ed5f21fe1b44d62ad03c4c7df4c98', 'message': 'Add usage for other providers in devstack dir\n\nChange-Id: Ia492a08a4239a6dc4c481bc7e5252d7fab02546f\n'}]",6,489254,c739815dfa9ed5f21fe1b44d62ad03c4c7df4c98,17,5,3,21224,,,0,"Add usage for other providers in devstack dir

Change-Id: Ia492a08a4239a6dc4c481bc7e5252d7fab02546f
",git fetch https://review.opendev.org/openstack/karbor refs/changes/54/489254/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-source.rst'],1,dc83745d15b2e039aacda0c166a881451e797eaf,install-guide,".. note:: Karbor provides 'EISOO', 'OS Infra Provider with local file system bank', 'OS Infra Provider with volume snapshot plugin' and 'OS Infra Provider with S3 compatible storage bank' as providers. If they were available for your environment, you can choose any of the providers as your provider if you want. What you should do is to copy the configuration file in 'devstack/providers.d' to '/etc/karbor/providers.d' and modify it. By default, karbor use 'OS Infra Provider with swift bank'. ",,10,0
openstack%2Fcinder~master~I387ae425e3a2a1e37264589bb33a0acdcf61ca9a,openstack/cinder,master,I387ae425e3a2a1e37264589bb33a0acdcf61ca9a,[DOC BLD FIX] Fix docstring issues in dothill driver,MERGED,2017-07-24 16:28:57.000000000,2017-08-01 12:12:03.000000000,2017-07-25 03:12:41.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-07-24 16:28:57.000000000', 'files': ['cinder/volume/drivers/dothill/dothill_iscsi.py', 'cinder/volume/drivers/dothill/dothill_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/48ff447f6a36f27077c02647b264fd0746f7e2c7', 'message': '[DOC BLD FIX] Fix docstring issues in dothill driver\n\nAs with other drivers the version history at the top of the\ndothill driver was causing Sphinx build WARNINGs to be issued.\nThis changes puts the version history in a text box for better\nreadability and to avoid the WARNING.\n\nChange-Id: I387ae425e3a2a1e37264589bb33a0acdcf61ca9a\n'}]",0,486688,48ff447f6a36f27077c02647b264fd0746f7e2c7,34,10,1,7198,,,0,"[DOC BLD FIX] Fix docstring issues in dothill driver

As with other drivers the version history at the top of the
dothill driver was causing Sphinx build WARNINGs to be issued.
This changes puts the version history in a text box for better
readability and to avoid the WARNING.

Change-Id: I387ae425e3a2a1e37264589bb33a0acdcf61ca9a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/486688/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dothill/dothill_fc.py', 'cinder/volume/drivers/dothill/dothill_iscsi.py']",2,48ff447f6a36f27077c02647b264fd0746f7e2c7,doc-bld-fix," .. code:: text Version history: 0.1 - Base structure for DotHill iSCSI drivers based on HPMSA FC drivers: ""https://github.com/openstack/cinder/tree/stable/juno/ cinder/volume/drivers/san/hp"" 1.0 - Version developed for DotHill arrays with the following modifications: - added iSCSI support - added CHAP support in iSCSI - added support for v3 API(virtual pool feature) - added support for retype volume - added support for manage/unmanage volume - added https support 1.6 - Add management path redundancy and reduce load placed on management controller. 1.7 - Modified so it can't be invoked except as a superclass "," Version history: 0.1 - Base structure for DotHill iSCSI drivers based on HPMSA FC drivers: ""https://github.com/openstack/cinder/tree/stable/juno/ cinder/volume/drivers/san/hp"" 1.0 - Version developed for DotHill arrays with the following modifications: - added iSCSI support - added CHAP support in iSCSI - added support for v3 API(virtual pool feature) - added support for retype volume - added support for manage/unmanage volume - added https support 1.6 - Add management path redundancy and reduce load placed on management controller. 1.7 - Modified so it can't be invoked except as a superclass",36,30
openstack%2Fpython-novaclient~master~Ida2fd70ad0d7b029fadfe91be14d7180b9b5b8d1,openstack/python-novaclient,master,Ida2fd70ad0d7b029fadfe91be14d7180b9b5b8d1,"Update URLs in docs, comments and setup.cfg",MERGED,2017-07-28 03:17:39.000000000,2017-08-01 11:51:39.000000000,2017-08-01 11:51:39.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 8556}, {'_account_id': 9545}]","[{'number': 1, 'created': '2017-07-28 03:17:39.000000000', 'files': ['doc/source/contributor/testing.rst', 'CONTRIBUTING.rst', 'bindep.txt', 'doc/source/contributor/index.rst', 'novaclient/i18n.py', 'doc/source/reference/api/index.rst', 'novaclient/v2/servers.py', 'README.rst', 'setup.cfg', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/561b35a8a813c6457508c284a98392d56c5ee5e7', 'message': 'Update URLs in docs, comments and setup.cfg\n\nSome URLs are broken, so fix them.\nThe other URLs are redirect to new URLs,\nso replace them with new ones.\n\nChange-Id: Ida2fd70ad0d7b029fadfe91be14d7180b9b5b8d1\nCloses-Bug: #1707104\n'}]",0,488271,561b35a8a813c6457508c284a98392d56c5ee5e7,8,4,1,7634,,,0,"Update URLs in docs, comments and setup.cfg

Some URLs are broken, so fix them.
The other URLs are redirect to new URLs,
so replace them with new ones.

Change-Id: Ida2fd70ad0d7b029fadfe91be14d7180b9b5b8d1
Closes-Bug: #1707104
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/71/488271/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'CONTRIBUTING.rst', 'bindep.txt', 'doc/source/contributor/index.rst', 'novaclient/i18n.py', 'doc/source/reference/api/index.rst', 'novaclient/v2/servers.py', 'README.rst', 'setup.cfg', 'HACKING.rst']",10,561b35a8a813c6457508c284a98392d56c5ee5e7,bug/1707104, https://docs.openstack.org/hacking/latest, http://docs.openstack.org/developer/hacking,14,14
openstack%2Fpython-novaclient~master~Iee216bd7f28d72aacb9aecb0470ab833edbe5e2b,openstack/python-novaclient,master,Iee216bd7f28d72aacb9aecb0470ab833edbe5e2b,Remove run_tests.sh,MERGED,2017-07-28 03:44:09.000000000,2017-08-01 11:46:12.000000000,2017-08-01 11:46:12.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 8556}, {'_account_id': 9545}]","[{'number': 1, 'created': '2017-07-28 03:44:09.000000000', 'files': ['run_tests.sh', 'releasenotes/notes/remove-run_tests.sh-3bdcaee4d388177a.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a7aee6481e93c02cf1c9256d610bfd5bd719d7dc', 'message': 'Remove run_tests.sh\n\nTrivialFix\nChange-Id: Iee216bd7f28d72aacb9aecb0470ab833edbe5e2b\n'}]",0,488276,a7aee6481e93c02cf1c9256d610bfd5bd719d7dc,8,4,1,7634,,,0,"Remove run_tests.sh

TrivialFix
Change-Id: Iee216bd7f28d72aacb9aecb0470ab833edbe5e2b
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/76/488276/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'releasenotes/notes/remove-run_tests.sh-3bdcaee4d388177a.yaml']",2,a7aee6481e93c02cf1c9256d610bfd5bd719d7dc,remove_run_test_sh,--- upgrade: - The ``run_tests.sh`` shell script that was deprecated in Newton has been removed. ,,4,46
openstack%2Fnova~master~Ide57c523193dbbb7bf6b45802c67ee08e0b5aced,openstack/nova,master,Ide57c523193dbbb7bf6b45802c67ee08e0b5aced,POC: Imagebackend - on cold migration,ABANDONED,2017-06-13 13:12:56.000000000,2017-08-01 11:43:27.000000000,,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-06-13 13:12:56.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c665e58a26f8279cc7e858be6665d18499231899', 'message': 'POC: Imagebackend - on cold migration\n\nEncapsulates copy_image only.\n\nChange-Id: Ide57c523193dbbb7bf6b45802c67ee08e0b5aced\n'}]",0,473835,c665e58a26f8279cc7e858be6665d18499231899,11,9,1,10224,,,0,"POC: Imagebackend - on cold migration

Encapsulates copy_image only.

Change-Id: Ide57c523193dbbb7bf6b45802c67ee08e0b5aced
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/473835/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/imagebackend.py']",2,c665e58a26f8279cc7e858be6665d18499231899,," def pre_cold_migration(self, dest, dest_instance_path, on_execute, on_completion): pass def pre_cold_migration(self, dest, dest_instance_path, on_execute, on_completion): disk_name = os.path.basename(self.path) libvirt_utils.copy_image( self.path, os.path.join(dest_instance_path, disk_name), host=dest, on_execute=on_execute, on_completion=on_completion, compression=(self.driver_format != 'qcow2')) def pre_cold_migration(self, dest, dest_instance_path, on_execute, on_completion): disk_name = os.path.basename(self.path) libvirt_utils.copy_image( self.path, os.path.join(dest_instance_path, disk_name), host=dest, on_execute=on_execute, on_completion=on_completion, compression=False) def pre_cold_migration(self, dest, dest_instance_path, on_execute, on_completion): disk_name = os.path.basename(self.path) libvirt_utils.copy_image( self.path, os.path.join(dest_instance_path, disk_name), host=dest, on_execute=on_execute, on_completion=on_completion) ",,39,5
openstack%2Fcharm-layer-openstack-api~master~I38d46eaab3d64dd43166957a4aee01163bc00f5b,openstack/charm-layer-openstack-api,master,I38d46eaab3d64dd43166957a4aee01163bc00f5b,Rework the default handlers into layer-openstack-*,MERGED,2017-08-01 11:10:48.000000000,2017-08-01 11:42:17.000000000,2017-08-01 11:42:17.000000000,"[{'_account_id': 3}, {'_account_id': 935}]","[{'number': 1, 'created': '2017-08-01 11:10:48.000000000', 'files': ['reactive/layer_openstack_api.py'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack-api/commit/0a163030b72305c514e21940ac8a6aea0e96a3ea', 'message': 'Rework the default handlers into layer-openstack-*\n\nDue to commit 95493a4 in charms.reactive, the default handlers in\ncharms.openstack broke.  This is because charms.reactive no longer will\nrun handlers that are not in the hooks/ or reactive/ directory tree; the\ndefault handlers in charms.openstack are in the library code, which is\npip installed into the module packages.\n\nThis patch, and related patches in charms.openstack and layer-openstack\nenable the default handlers to function again.  Note that from a charm\nauthor perspective, the API to default handlers is identical.  This is\nmerely an implementation change.\n\nChange-Id: I38d46eaab3d64dd43166957a4aee01163bc00f5b\nPartial-Bug: #1707685\n'}]",0,489564,0a163030b72305c514e21940ac8a6aea0e96a3ea,6,2,1,20870,,,0,"Rework the default handlers into layer-openstack-*

Due to commit 95493a4 in charms.reactive, the default handlers in
charms.openstack broke.  This is because charms.reactive no longer will
run handlers that are not in the hooks/ or reactive/ directory tree; the
default handlers in charms.openstack are in the library code, which is
pip installed into the module packages.

This patch, and related patches in charms.openstack and layer-openstack
enable the default handlers to function again.  Note that from a charm
author perspective, the API to default handlers is identical.  This is
merely an implementation change.

Change-Id: I38d46eaab3d64dd43166957a4aee01163bc00f5b
Partial-Bug: #1707685
",git fetch https://review.opendev.org/openstack/charm-layer-openstack-api refs/changes/64/489564/1 && git format-patch -1 --stdout FETCH_HEAD,['reactive/layer_openstack_api.py'],1,0a163030b72305c514e21940ac8a6aea0e96a3ea,rework-default-handlers,"# attempt to move the default status handler here: import charmhelpers.core.hookenv as hookenv import charms_openstack.charm as charm import charms.reactive as reactive @reactive.when('amqp.connected', 'charms.openstack.do-default-amqp.connected') def default_amqp_connection(amqp): """"""Handle the default amqp connection. This requires that the charm implements get_amqp_credentials() to provide a tuple of the (user, vhost) for the amqp server """""" with charm.provide_charm_instance() as instance: user, vhost = instance.get_amqp_credentials() amqp.request_access(username=user, vhost=vhost) instance.assess_status() @reactive.when('shared-db.connected', 'charms.openstack.do-default-shared-db.connected') def default_setup_database(database): """"""Handle the default database connection setup This requires that the charm implements get_database_setup() to provide a list of dictionaries; [{'database': ..., 'username': ..., 'hostname': ..., 'prefix': ...}] The prefix can be missing: it defaults to None. """""" with charm.provide_charm_instance() as instance: for db in instance.get_database_setup(): database.configure(**db) instance.assess_status() @reactive.when('identity-service.connected', 'charms.openstack.do-default-identity-service.connected') def default_setup_endpoint_connection(keystone): """"""When the keystone interface connects, register this unit into the catalog. This is the default handler, and calls on the charm class to provide the endpoint information. If multiple endpoints are needed, then a custom endpoint handler will be needed. """""" with charm.provide_charm_instance() as instance: keystone.register_endpoints(instance.service_type, instance.region, instance.public_url, instance.internal_url, instance.admin_url) instance.assess_status() @reactive.when('identity-service.available', 'charms.openstack.do-default-identity-service.available') def default_setup_endpoint_available(keystone): """"""When the identity-service interface is available, this default handler switches on the SSL support. """""" with charm.provide_charm_instance() as instance: instance.configure_ssl(keystone) instance.assess_status() ",,64,0
openstack%2Ffuturist~master~Ibfa3ca3812496ef9210116f117c4428eb22c6078,openstack/futurist,master,Ibfa3ca3812496ef9210116f117c4428eb22c6078,switch from oslosphinx to openstackdocstheme,ABANDONED,2017-07-10 05:45:02.000000000,2017-08-01 11:41:39.000000000,,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 9796}, {'_account_id': 10239}, {'_account_id': 17788}]","[{'number': 1, 'created': '2017-07-10 05:45:02.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/futurist/commit/7ac181564151b727c2153893c3847293145ee1c4', 'message': 'switch from oslosphinx to openstackdocstheme\n\nChange-Id: Ibfa3ca3812496ef9210116f117c4428eb22c6078\nref:https://docs.openstack.org/openstackdocstheme/latest/\n'}]",0,482004,7ac181564151b727c2153893c3847293145ee1c4,5,5,1,17788,,,0,"switch from oslosphinx to openstackdocstheme

Change-Id: Ibfa3ca3812496ef9210116f117c4428eb22c6078
ref:https://docs.openstack.org/openstackdocstheme/latest/
",git fetch https://review.opendev.org/openstack/futurist refs/changes/04/482004/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,7ac181564151b727c2153893c3847293145ee1c4,," 'openstackdocstheme',# openstackdocstheme options repository_name = 'openstack/futurist' bug_project = 'futurist' bug_tag = 'doc' html_theme = 'openstackdocs'# html_last_updated_fmt = '%b %d, %Y html_last_updated_fmt = '%Y-%m-%d %H:%M'"," 'oslosphinx',html_theme = 'default'# html_last_updated_fmt = '%b %d, %Y'",19,5
openstack%2Fcharm-layer-openstack~master~I7feb7aed219728efd57b5878bb6a5ff9e204c52a,openstack/charm-layer-openstack,master,I7feb7aed219728efd57b5878bb6a5ff9e204c52a,Rework the default handlers into layer-openstack-*,MERGED,2017-08-01 11:10:27.000000000,2017-08-01 11:41:24.000000000,2017-08-01 11:41:24.000000000,"[{'_account_id': 3}, {'_account_id': 935}]","[{'number': 1, 'created': '2017-08-01 11:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/94d4fdd3677db42fdd14a21be95416e6bad760e6', 'message': 'Rework the default handlers into layer-openstack-*\n\nDue to commit 95493a4 in charms.reactive, the default handlers in\ncharms.openstack broke.  This is because charms.reactive no longer will\nrun handlers that are not in the hooks/ or reactive/ directory tree; the\ndefault handlers in charms.openstack are in the library code, which is\npip installed into the module packages.\n\nThis patch, and related patches in charms.openstack and\nlayer-openstack-api enable the default handlers to function again.  Note\nthat from a charm author perspective, the API to default handlers is\nidentical.  This is merely an implementation change.\n\nChange-Id: I7feb7aed219728efd57b5878bb6a5ff9e204c52a\nPartial-Bug: #1707685\n'}, {'number': 2, 'created': '2017-08-01 11:25:02.000000000', 'files': ['reactive/layer_openstack.py'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/4f8408e47dfab042b37fde111db77248f4458ccd', 'message': 'Rework the default handlers into layer-openstack-*\n\nDue to commit 95493a4 in charms.reactive, the default handlers in\ncharms.openstack broke.  This is because charms.reactive no longer will\nrun handlers that are not in the hooks/ or reactive/ directory tree; the\ndefault handlers in charms.openstack are in the library code, which is\npip installed into the module packages.\n\nThis patch, and related patches in charms.openstack and\nlayer-openstack-api enable the default handlers to function again.  Note\nthat from a charm author perspective, the API to default handlers is\nidentical.  This is merely an implementation change.\n\nChange-Id: I7feb7aed219728efd57b5878bb6a5ff9e204c52a\nPartial-Bug: #1707685\n'}]",1,489563,4f8408e47dfab042b37fde111db77248f4458ccd,9,2,2,20870,,,0,"Rework the default handlers into layer-openstack-*

Due to commit 95493a4 in charms.reactive, the default handlers in
charms.openstack broke.  This is because charms.reactive no longer will
run handlers that are not in the hooks/ or reactive/ directory tree; the
default handlers in charms.openstack are in the library code, which is
pip installed into the module packages.

This patch, and related patches in charms.openstack and
layer-openstack-api enable the default handlers to function again.  Note
that from a charm author perspective, the API to default handlers is
identical.  This is merely an implementation change.

Change-Id: I7feb7aed219728efd57b5878bb6a5ff9e204c52a
Partial-Bug: #1707685
",git fetch https://review.opendev.org/openstack/charm-layer-openstack refs/changes/63/489563/1 && git format-patch -1 --stdout FETCH_HEAD,['reactive/layer_openstack.py'],1,94d4fdd3677db42fdd14a21be95416e6bad760e6,rework-default-handlers,"# attempt to move the default status handler here: import charmhelpers.core.hookenv as hookenv import charmhelpers.core.unitdata as unitdata import charms_openstack.charm as charm import charms_openstack.charm.defaults as defaults import charms.reactive as reactive @reactive.when_not('charm.installed') @reactive.when('charms.openstack.do-default-charm.installed') def default_install(): """"""Provide a default install handler The instance automagically becomes the derived OpenStackCharm instance. The kv() key charmers.openstack-release-version' is used to cache the release being used for this charm. It is determined by the default_select_release() function below, unless this is overriden by the charm author """""" unitdata.kv().unset(defaults.OPENSTACK_RELEASE_KEY) with charm.provide_charm_instance() as instance: instance.install() reactive.set_state('charm.installed') @reactive.when('config.changed', 'charms.openstack.do-default-config.changed') def default_config_changed(): """"""Default handler for config.changed state from reactive. Just see if our status has changed. This is just to clear any errors that may have got stuck due to missing async handlers, etc. """""" with charm.provide_charm_instance() as instance: instance.config_changed() instance.assess_status() @reactive.hook('upgrade-charm') def default_upgrade_charm(): """"""Default handler for the 'upgrade-charm' hook. This calls the charm.singleton.upgrade_charm() function as a default. """""" reactive.set_state('run-default-upgrade-charm') @reactive.when('charms.openstack.do-default-upgrade-charm', 'run-default-upgrade-charm') def run_default_upgrade_charm(): with charm.provide_charm_instance() as instance: instance.upgrade_charm() reactive.remove_state('run-default-upgrade-charm') @reactive.hook('update-status') def default_update_status(): """"""Default handler for update-status state. Just call update status. """""" reactive.set_state('run-default-update-status') @reactive.when('charms.openstack.do-default-update-status', 'run-default-update-status') def run_default_update_status(): hookenv.log(""IN layer-openstack: default_update_status called."", level=hookenv.DEBUG) with charm.provide_charm_instance() as instance: # instance = OpenStackCharm.singleton hookenv.log(""...: instance={}"".format(instance), level=hookenv.DEBUG) hookenv.application_version_set(instance.application_version) instance.assess_status() reactive.remove_state('run-default-update-status') ",,73,0
openstack%2Fcharms.openstack~master~I7786a39ab29ab71a4cdb8bd652e8927cbd5fcf5c,openstack/charms.openstack,master,I7786a39ab29ab71a4cdb8bd652e8927cbd5fcf5c,Rework the default handlers into layer-openstack-*,MERGED,2017-08-01 11:11:31.000000000,2017-08-01 11:40:23.000000000,2017-08-01 11:40:23.000000000,"[{'_account_id': 3}, {'_account_id': 935}]","[{'number': 1, 'created': '2017-08-01 11:11:31.000000000', 'files': ['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/698337c5eed531d942dc75791248ad8e2ca6bf45', 'message': 'Rework the default handlers into layer-openstack-*\n\nDue to commit 95493a4 in charms.reactive, the default handlers in\ncharms.openstack broke.  This is because charms.reactive no longer will\nrun handlers that are not in the hooks/ or reactive/ directory tree; the\ndefault handlers in charms.openstack are in the library code, which is\npip installed into the module packages.\n\nThis patch, and related patches in layer-openstack and\nlayer-openstack-api enable the default handlers to function again.  Note\nthat from a charm author perspective, the API to default handlers is\nidentical.  This is merely an implementation change.\n\nChange-Id: I7786a39ab29ab71a4cdb8bd652e8927cbd5fcf5c\nPartial-Bug: #1707685\n'}]",0,489565,698337c5eed531d942dc75791248ad8e2ca6bf45,6,2,1,20870,,,0,"Rework the default handlers into layer-openstack-*

Due to commit 95493a4 in charms.reactive, the default handlers in
charms.openstack broke.  This is because charms.reactive no longer will
run handlers that are not in the hooks/ or reactive/ directory tree; the
default handlers in charms.openstack are in the library code, which is
pip installed into the module packages.

This patch, and related patches in layer-openstack and
layer-openstack-api enable the default handlers to function again.  Note
that from a charm author perspective, the API to default handlers is
identical.  This is merely an implementation change.

Change-Id: I7786a39ab29ab71a4cdb8bd652e8927cbd5fcf5c
Partial-Bug: #1707685
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/65/489565/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/defaults.py']",2,698337c5eed531d942dc75791248ad8e2ca6bf45,rework-default-handlers," """"""Set the default charm.installed state so that the default handler in layer-openstack can run. Convoluted, because charms.reactive will only run handlers in the reactive or hooks directory. """""" reactive.set_state('charms.openstack.do-default-charm.installed') """"""Set the default amqp.connected state so that the default handler in layer-openstack can run. Convoluted, because charms.reactive will only run handlers in the reactive or hooks directory. """""" reactive.set_state('charms.openstack.do-default-amqp.connected') """"""Set the default shared-db.connected state so that the default handler in layer-openstack can run. Convoluted, because charms.reactive will only run handlers in the reactive or hooks directory. """""" reactive.set_state('charms.openstack.do-default-shared-db.connected') """"""Set the default identity-service.connected state so that the default handler in layer-openstack can run. Convoluted, because charms.reactive will only run handlers in the reactive or hooks directory. """""" reactive.set_state( 'charms.openstack.do-default-identity-service.connected') """"""Set the default identity-service.available state so that the default handler in layer-openstack can run. Convoluted, because charms.reactive will only run handlers in the reactive or hooks directory. """""" reactive.set_state( 'charms.openstack.do-default-identity-service.available') """"""Set the default config.changed state so that the default handler in layer-openstack can run. Convoluted, because charms.reactive will only run handlers in the reactive or hooks directory. """""" reactive.set_state('charms.openstack.do-default-config.changed') """"""Set the default upgrade-charm state so that the default handler in layer-openstack can run. Convoluted, because charms.reactive will only run handlers in the reactive or hooks directory. """""" reactive.set_state('charms.openstack.do-default-upgrade-charm') """"""Set the default upgrade-status state so that the default handler in layer-openstack can run. Convoluted, because charms.reactive will only run handlers in the reactive or hooks directory. """""" reactive.set_state('charms.openstack.do-default-update-status')","import charmhelpers.core.hookenv as hookenv @reactive.when_not('charm.installed') def default_install(): """"""Provide a default install handler The instance automagically becomes the derived OpenStackCharm instance. The kv() key charmers.openstack-release-version' is used to cache the release being used for this charm. It is determined by the default_select_release() function below, unless this is overriden by the charm author """""" unitdata.kv().unset(OPENSTACK_RELEASE_KEY) OpenStackCharm.singleton.install() reactive.set_state('charm.installed') @reactive.when('amqp.connected') def default_amqp_connection(amqp): """"""Handle the default amqp connection. This requires that the charm implements get_amqp_credentials() to provide a tuple of the (user, vhost) for the amqp server """""" instance = OpenStackCharm.singleton user, vhost = instance.get_amqp_credentials() amqp.request_access(username=user, vhost=vhost) instance.assess_status() @reactive.when('shared-db.connected') def default_setup_database(database): """"""Handle the default database connection setup This requires that the charm implements get_database_setup() to provide a list of dictionaries; [{'database': ..., 'username': ..., 'hostname': ..., 'prefix': ...}] The prefix can be missing: it defaults to None. """""" instance = OpenStackCharm.singleton for db in instance.get_database_setup(): database.configure(**db) instance.assess_status() @reactive.when('identity-service.connected') def default_setup_endpoint_connection(keystone): """"""When the keystone interface connects, register this unit into the catalog. This is the default handler, and calls on the charm class to provide the endpoint information. If multiple endpoints are needed, then a custom endpoint handler will be needed. """""" instance = OpenStackCharm.singleton keystone.register_endpoints(instance.service_type, instance.region, instance.public_url, instance.internal_url, instance.admin_url) instance.assess_status() @reactive.when('identity-service.available') def default_setup_endpoint_available(keystone): """"""When the identity-service interface is available, this default handler switches on the SSL support. """""" instance = OpenStackCharm.singleton instance.configure_ssl(keystone) instance.assess_status() @reactive.when('config.changed') def default_config_changed(): """"""Default handler for config.changed state from reactive. Just see if our status has changed. This is just to clear any errors that may have got stuck due to missing async handlers, etc. """""" instance = OpenStackCharm.singleton instance.config_changed() instance.assess_status() @reactive.hook('upgrade-charm') def default_upgrade_charm(): """"""Default handler for the 'upgrade-charm' hook. This calls the charm.singleton.upgrade_charm() function as a default. """""" OpenStackCharm.singleton.upgrade_charm() @reactive.hook('update-status') def default_update_status(): """"""Default handler for update-status state. Just call update status. """""" instance = OpenStackCharm.singleton hookenv.application_version_set(instance.application_version) instance.assess_status()",79,186
openstack%2Fmonasca-events-api~master~Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2,openstack/monasca-events-api,master,Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2,Provide oslo.policies,MERGED,2017-07-12 08:08:18.000000000,2017-08-01 11:37:54.000000000,2017-08-01 11:37:54.000000000,"[{'_account_id': 3}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 20033}, {'_account_id': 23043}]","[{'number': 1, 'created': '2017-07-12 08:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/83c256410fd4c0aeb99b499c9d0b04a0f2c2b41e', 'message': '[WIP] Provide oslo.policies\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 2, 'created': '2017-07-12 09:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/d8c6529abb239f6954e3b79cad21744b3c4d577a', 'message': '[WIP] Provide oslo.policies\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 3, 'created': '2017-07-12 10:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/dc31b8b5ac79658254bb4b9b8df7e298b412f1db', 'message': '[WIP] Provide oslo.policies\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 4, 'created': '2017-07-12 10:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/6f14ba0d1e344783eec055f4a824c9be43bb5404', 'message': '[WIP] Provide oslo.policies\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 5, 'created': '2017-07-14 04:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/e1ee5999504602fac51ad34b63edb75282eb24ae', 'message': '[WIP] Provide oslo.policies\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 6, 'created': '2017-07-14 10:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/58181b59315c6df09eb0f5c60ddfdc5cfc82d496', 'message': '[WIP] Provide oslo.policies\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 7, 'created': '2017-07-18 09:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/0f3ebe61dfc5a9d2a62be2e343c3a19c02a3553b', 'message': '[WIP] Provide oslo.policies\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 8, 'created': '2017-07-18 11:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/b872e80351e4d9d2fa6b88a3e0aa070925f3f72d', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 9, 'created': '2017-07-19 10:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/338feaddae12bfeb037141e4b5562a99a7025bb5', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 10, 'created': '2017-07-27 11:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/a07ec810d5a93a3d1652b831d557461c4f164480', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 11, 'created': '2017-07-27 11:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/ecbe8d408452525fc078fcfc8b923fb525f5933f', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 12, 'created': '2017-07-27 11:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/901a7def59cbb1fa30a75224a2f1306644503428', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 13, 'created': '2017-07-28 05:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/88bdf6965cfd7a628d2a1acbd83b25f2b17d284c', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 14, 'created': '2017-07-28 05:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/61e810d2278fd7ca2ebb10d334fa8f44ab5fb493', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 15, 'created': '2017-07-28 05:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/10d7cd3f8d635fbcbbeac9a992bdb8964d962fa8', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 16, 'created': '2017-08-01 06:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/ffe71a5f207040108b248ed2617feab979a556e3', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 17, 'created': '2017-08-01 07:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/4e44c281fb62d01cf9aac734d403bcaa99074164', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 18, 'created': '2017-08-01 09:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/a746efde9bd6ec318cafc89e03bc4976494c24a6', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 19, 'created': '2017-08-01 10:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/7ca863ce392beddaa07501acdff52dbe042552a2', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 20, 'created': '2017-08-01 11:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/a6963a59d73fe0a68fdf8fe8ed37b20dc26b0078', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}, {'number': 21, 'created': '2017-08-01 11:23:50.000000000', 'files': ['monasca_events_api/tests/unit/__init__.py', 'test-requirements.txt', 'api-guide/source/conf.py', 'doc/api-samples/.gitkeep', 'monasca_events_api/policy.py', 'monasca_events_api/tests/unit/test_request.py', 'api-ref/source/conf.py', 'doc/source/glossary.rst', 'doc/source/code/modules.rst', 'monasca_events_api/policies/__init__.py', 'doc/source/contributor/history.rst', 'doc/source/user/index.rst', 'monasca_events_api/config.py', 'api-ref/source/index.rst', 'monasca_events_api/conf/__init__.py', 'monasca_events_api/app/core/__init__.py', 'doc/source/configuration/index.rst', 'monasca_events_api/policies/agent.py', 'doc/source/cli/index.rst', 'monasca_events_api/tests/unit/base.py', 'api-ref/locale/.gitkeep', 'setup.cfg', 'tox.ini', 'doc/source/_static/events-api.conf.sample', 'doc/source/admin/index.rst', '.gitignore', 'doc/source/install/index.rst', 'api-guide/source/index.rst', 'config-generator/README.md', 'monasca_events_api/app/core/request.py', 'etc/monasca/events-api-paste.ini', 'monasca_events_api/tests/functional/__init__.py', 'releasenotes/notes/add_policies-24ddd2a505f3de6c.yaml', 'requirements.txt', 'doc/source/.gitkeep', 'doc/source/contributor/index.rst', 'doc/source/contributor/.gitignore', 'monasca_events_api/app/__init__.py', 'monasca_events_api/tests/__init__.py', 'monasca_events_api/tests/unit/test_policy.py', 'monasca_events_api/policies/admin.py', 'doc/source/contributor/code.rst', 'config-generator/README.rst', 'config-generator/policy.conf', 'doc/source/conf.py', 'config-generator/config.conf', 'doc/source/index.rst', 'doc/source/.gitignore', 'doc/source/code/monasca_events_api.conf.rst', '.testr.conf', 'monasca_events_api/version.py', 'doc/source/code/monasca_events_api.rst', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/32c4560c3bee3130be252e8665e681e78d4cb949', 'message': 'Provide oslo.policies\n\nAdd policies to the api based on oslo.policies.\nSmall changes in documentation. Provide generator for\nsample policies file.\nAdd policies for agent and admin.\n\nStory: 200112\nTask: 4807\n\nDepends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b\nChange-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2\n'}]",8,482837,32c4560c3bee3130be252e8665e681e78d4cb949,57,5,21,20033,,,0,"Provide oslo.policies

Add policies to the api based on oslo.policies.
Small changes in documentation. Provide generator for
sample policies file.
Add policies for agent and admin.

Story: 200112
Task: 4807

Depends-On: I76d737bf9d1216b041bc1a518cc2098f28e7da7b
Change-Id: Idf5c4ec1b663ad9ed3ab25744bdf0b7f28cdb1a2
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/37/482837/21 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_events_api/policy.py', 'config-generator/monasca-events-api-policy-generator.conf', 'requirements.txt', 'etc/monasca/policy.yaml.sample', 'setup.cfg', 'config-generator/README-policy.md', 'tox.ini', 'monasca_events_api/policies/__init__.py']",8,83c256410fd4c0aeb99b499c9d0b04a0f2c2b41e,events_api,"# Copyright 2017 FUJITSU LIMITED # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import pkgutil from oslo_log import log from oslo_utils import importutils LOG = log.getLogger(__name__) def load_policy_modules(): """"""Loads all modules that contain policies Method iterates over modules of :py:module:`monasca_events_api.policies` and imports only those that contain following methods: - list_opts (required by oslo_config.genconfig) - register_opts (required by :py:currentmodule:) """""" for modname in _list_module_names(): mod = importutils.import_module('monasca_events_api.policies.' + modname) if not hasattr(mod, 'list_rules'): msg = (""The module 'monasca_events_api.policies.%s' should have a"" "" '%s' function which returns"" "" the policy rules."" % (modname, 'list_rules')) LOG.warning(msg) else: yield mod def _list_module_names(): module_names = [] package_path = os.path.dirname(os.path.abspath(__file__)) for _, modname, ispkg in pkgutil.iter_modules(path=[package_path]): if not (modname == ""opts"" and ispkg): module_names.append(modname) return module_names def list_rules(): """"""Lists all policy modules rules. Goes through all policy modules and yields their rules """""" for mod in load_policy_modules(): print mod.list_rules() ",,81,1
openstack%2Fsushy~master~I06ff402d47fd56799eee54e6ec88de585f35f45a,openstack/sushy,master,I06ff402d47fd56799eee54e6ec88de585f35f45a,Update reno for stable/pike,MERGED,2017-07-28 21:08:51.000000000,2017-08-01 11:36:43.000000000,2017-08-01 11:36:43.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 12356}]","[{'number': 1, 'created': '2017-07-28 21:08:51.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/sushy/commit/7981bd325e545f0b1260490f8897ade53efb1819', 'message': 'Update reno for stable/pike\n\nChange-Id: I06ff402d47fd56799eee54e6ec88de585f35f45a\n'}]",0,488837,7981bd325e545f0b1260490f8897ade53efb1819,9,3,1,22816,,,0,"Update reno for stable/pike

Change-Id: I06ff402d47fd56799eee54e6ec88de585f35f45a
",git fetch https://review.opendev.org/openstack/sushy refs/changes/37/488837/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,7981bd325e545f0b1260490f8897ade53efb1819,reno-pike, pike,,7,0
openstack%2Fcinder~master~Iebdc92fe155d634f61d29d099b3a216f9e173f0f,openstack/cinder,master,Iebdc92fe155d634f61d29d099b3a216f9e173f0f,[DOC BLD FIX] Correct dosctring errors in disco driver,MERGED,2017-07-24 15:54:55.000000000,2017-08-01 11:33:25.000000000,2017-07-25 03:37:26.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-24 15:54:55.000000000', 'files': ['cinder/volume/drivers/disco/disco.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7696b5c0e9613dcc7b9f9086268f155657f0616d', 'message': ""[DOC BLD FIX] Correct dosctring errors in disco driver\n\nThe docstring for version history at the top of the disco\ndriver wasn't properly formatted.  I put it in a text\ncode block to make it look better and to remove the\nSpinx build WARNING.\n\nChange-Id: Iebdc92fe155d634f61d29d099b3a216f9e173f0f\n""}]",0,486675,7696b5c0e9613dcc7b9f9086268f155657f0616d,34,9,1,7198,,,0,"[DOC BLD FIX] Correct dosctring errors in disco driver

The docstring for version history at the top of the disco
driver wasn't properly formatted.  I put it in a text
code block to make it look better and to remove the
Spinx build WARNING.

Change-Id: Iebdc92fe155d634f61d29d099b3a216f9e173f0f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/486675/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/disco/disco.py'],1,7696b5c0e9613dcc7b9f9086268f155657f0616d,doc-bld-fix, .. code:: text Version history: 1.0 - disco volume driver using SOAP 1.1 - disco volume driver using REST and only compatible with version greater than disco-1.6.4, Version history: 1.0 - disco volume driver using SOAP 1.1 - disco volume driver using REST and only compatible with version greater than disco-1.6.4,6,4
openstack%2Fmonasca-ui~master~I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2,openstack/monasca-ui,master,I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2,Fix monasca-ui forms,MERGED,2017-07-25 07:55:30.000000000,2017-08-01 11:27:53.000000000,2017-08-01 11:27:53.000000000,"[{'_account_id': 3}, {'_account_id': 14273}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 18286}, {'_account_id': 20033}, {'_account_id': 26141}]","[{'number': 1, 'created': '2017-07-25 07:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/4e7cd599cacd038e01c368f839f5fae276458f3e', 'message': ""Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in buil_attrs() were removed.\nMoved 'name' to local attrs.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 2, 'created': '2017-07-25 08:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/5642ab1aea6823213d4094244cdbe3bad2f0b31d', 'message': ""Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 3, 'created': '2017-07-25 08:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/5a3c13a152032362ba31a78670f37a6bfbcd464b', 'message': ""Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 4, 'created': '2017-07-25 09:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/3178e1d7846bda68c5c1fa33fcca7c373536453c', 'message': ""Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 5, 'created': '2017-07-25 09:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/86518d3bcfd08ba87382313dd1c4529bf42ff477', 'message': ""Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 6, 'created': '2017-07-25 12:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/cf9fa125f7aac3cc4e60e723894b2e6e7c1775f2', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 7, 'created': '2017-07-25 12:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/5b82089641fcd2b3282275e4a61a6e80ef03445a', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 8, 'created': '2017-07-25 12:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/6ab74491d3e2bba7a06c9ead1718c1a185538048', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 9, 'created': '2017-07-25 12:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/2f1efe005ab6f677927bb2b1b412a3d97c59e0c5', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 10, 'created': '2017-07-25 12:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/a5b197d2fb868a8ff27063526c4287560addaa8c', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 11, 'created': '2017-07-25 12:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/32c6bd7c1e7ccadd8d5bca426e58375f295b7f89', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 12, 'created': '2017-07-26 07:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/c33ef8600f67b07a262f3f22d9ac5e64a9f2d667', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 13, 'created': '2017-07-26 10:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/fb8a63e0b9b4d43b8488463f10c131df848e2bf7', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 14, 'created': '2017-07-27 05:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/32958e5c91385418cf432644949b2ff96e42474e', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 15, 'created': '2017-07-27 06:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/c14e1c704bced4cec3c47d386a7071f314c4a941', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 16, 'created': '2017-07-27 08:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/fde6cc8ca01f97f41643cdf87a2d11019e47a7a8', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 17, 'created': '2017-07-27 09:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/eef8c126889ef3427836fe504cb6e32fcae4f24a', 'message': ""[WIP] Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 18, 'created': '2017-07-28 04:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/ab7694fc096a951978f1332d18d84fc9b1378242', 'message': ""Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 19, 'created': '2017-07-28 05:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/53e469ecee585a0fa4898fb664fc7b8b0aad02fc', 'message': ""Fix monasca-ui forms\n\nFix problem with unexpected keyword argument 'name' for\nbuild_attrs() from Django. 'name' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass 'name' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n""}, {'number': 20, 'created': '2017-07-28 05:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/6bdef64c70647ba3da8ccfc66f5b1f613863ee77', 'message': 'Fix monasca-ui forms\n\nFix problem with unexpected keyword argument \'name\' for\nbuild_attrs() from Django. \'name\' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass \'name\' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\nRemove one assertContains from alarm definition create.\nTags in <input> where generated in random order every time\nthe gates run:\n<input type=""text"" name=""name"" id=""id_name"" required maxlength=""250"" class=""form-control"" />\n<input type=""text"" name=""name"" id=""id_name"" required class=""form-control"" maxlength=""250"" />\n<input type=""text"" name=""name"" class=""form-control"" id=""id_name"" maxlength=""250"" required />\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n'}, {'number': 21, 'created': '2017-07-28 05:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/a5f056665bea021cdadfa4e3ba370db7ef3912c5', 'message': 'Fix monasca-ui forms\n\nFix problem with unexpected keyword argument \'name\' for\nbuild_attrs() from Django. \'name\' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass \'name\' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\nRemove one assertContains from alarm definition create.\nTags in <input> where generated in random order every time\nthe gates run:\n<input type=""text"" name=""name"" id=""id_name"" required maxlength=""250"" class=""form-control"" />\n<input type=""text"" name=""name"" id=""id_name"" required class=""form-control"" maxlength=""250"" />\n<input type=""text"" name=""name"" class=""form-control"" id=""id_name"" maxlength=""250"" required />\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n'}, {'number': 22, 'created': '2017-07-31 09:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/65459269714f5ff82ce2b23c970e1e5c9cfd805a', 'message': 'Fix monasca-ui forms\n\nFix problem with unexpected keyword argument \'name\' for\nbuild_attrs() from Django. \'name\' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass \'name\' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\nRemove one assertContains from alarm definition create.\nTags in <input> where generated in random order every time\nthe gates run:\n<input type=""text"" name=""name"" id=""id_name"" required maxlength=""250"" class=""form-control"" />\n<input type=""text"" name=""name"" id=""id_name"" required class=""form-control"" maxlength=""250"" />\n<input type=""text"" name=""name"" class=""form-control"" id=""id_name"" maxlength=""250"" required />\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n'}, {'number': 23, 'created': '2017-08-01 06:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/d4c489eb7f14bb1a7cc67d611f2728cbf55aa7ed', 'message': 'Fix monasca-ui forms\n\nFix problem with unexpected keyword argument \'name\' for\nbuild_attrs() from Django. \'name\' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass \'name\' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\nRemove one assertContains from alarm definition create.\nTags in <input> where generated in random order every time\nthe gates run:\n<input type=""text"" name=""name"" id=""id_name"" required maxlength=""250"" class=""form-control"" />\n<input type=""text"" name=""name"" id=""id_name"" required class=""form-control"" maxlength=""250"" />\n<input type=""text"" name=""name"" class=""form-control"" id=""id_name"" maxlength=""250"" required />\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n'}, {'number': 24, 'created': '2017-08-01 06:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/fdd846bf65b3b8445f3981275f78377d03a27fb2', 'message': 'Fix monasca-ui forms\n\nFix problem with unexpected keyword argument \'name\' for\nbuild_attrs() from Django. \'name\' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass \'name\' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\nRemove one assertContains from alarm definition create.\nTags in <input> where generated in random order every time\nthe gates run:\n<input type=""text"" name=""name"" id=""id_name"" required maxlength=""250"" class=""form-control"" />\n<input type=""text"" name=""name"" id=""id_name"" required class=""form-control"" maxlength=""250"" />\n<input type=""text"" name=""name"" class=""form-control"" id=""id_name"" maxlength=""250"" required />\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n'}, {'number': 25, 'created': '2017-08-01 06:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/1ef8a46bec7294705452ca18b455aec2def29b8a', 'message': 'Fix monasca-ui forms\n\nFix problem with unexpected keyword argument \'name\' for\nbuild_attrs() from Django. \'name\' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass \'name\' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\nRemove one assertContains from alarm definition create.\nTags in <input> where generated in random order every time\nthe gates run:\n<input type=""text"" name=""name"" id=""id_name"" required maxlength=""250"" class=""form-control"" />\n<input type=""text"" name=""name"" id=""id_name"" required class=""form-control"" maxlength=""250"" />\n<input type=""text"" name=""name"" class=""form-control"" id=""id_name"" maxlength=""250"" required />\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n'}, {'number': 26, 'created': '2017-08-01 11:02:08.000000000', 'files': ['requirements.txt', 'monitoring/alarmdefs/tests.py', 'monitoring/alarms/forms.py', 'monitoring/alarmdefs/forms.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/57ddc80d05924b3c1bade125ff43cba45302f8de', 'message': 'Fix monasca-ui forms\n\nFix problem with unexpected keyword argument \'name\' for\nbuild_attrs() from Django. \'name\' was passed to the method\nas a kwargs. **kwargs in build_attrs() were removed.\nPass \'name\' in a dict.\nIn Django 1.10+ passing Context to render is deprecated and\ngives an error, pass instead a dict.\nRemove one assertContains from alarm definition create.\nTags in <input> where generated in random order every time\nthe gates run:\n<input type=""text"" name=""name"" id=""id_name"" required maxlength=""250"" class=""form-control"" />\n<input type=""text"" name=""name"" id=""id_name"" required class=""form-control"" maxlength=""250"" />\n<input type=""text"" name=""name"" class=""form-control"" id=""id_name"" maxlength=""250"" required />\n\nChange-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2\nStory: 2001133\nTask: 4844\n'}]",0,486926,57ddc80d05924b3c1bade125ff43cba45302f8de,74,7,26,20033,,,0,"Fix monasca-ui forms

Fix problem with unexpected keyword argument 'name' for
build_attrs() from Django. 'name' was passed to the method
as a kwargs. **kwargs in build_attrs() were removed.
Pass 'name' in a dict.
In Django 1.10+ passing Context to render is deprecated and
gives an error, pass instead a dict.
Remove one assertContains from alarm definition create.
Tags in <input> where generated in random order every time
the gates run:
<input type=""text"" name=""name"" id=""id_name"" required maxlength=""250"" class=""form-control"" />
<input type=""text"" name=""name"" id=""id_name"" required class=""form-control"" maxlength=""250"" />
<input type=""text"" name=""name"" class=""form-control"" id=""id_name"" maxlength=""250"" required />

Change-Id: I2d39a10f08ac60c163f80cca3256a2bb24b4e0a2
Story: 2001133
Task: 4844
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/26/486926/9 && git format-patch -1 --stdout FETCH_HEAD,"['monitoring/alarms/forms.py', 'monitoring/alarmdefs/forms.py']",2,4e7cd599cacd038e01c368f839f5fae276458f3e,unexpected_keyword," final_attrs = self.build_attrs(attrs) 'metrics': self.metrics, 'name': name final_attrs = self.build_attrs(attrs) local_attrs = {'service': '', 'name': name} final_attrs = self.build_attrs(attrs) local_attrs = {'data': json.dumps(data), 'name': name}"," final_attrs = self.build_attrs(attrs, name=name) 'metrics': self.metrics final_attrs = self.build_attrs(attrs, name=name) local_attrs = {'service': ''} final_attrs = self.build_attrs(attrs, name=name) local_attrs = {'data': json.dumps(data)}",12,8
openstack%2Fmanila-ui~master~I7237cc2714b02a5ef9fc50adfcf05f79a4d2f42b,openstack/manila-ui,master,I7237cc2714b02a5ef9fc50adfcf05f79a4d2f42b,Imported Translations from Zanata,MERGED,2017-08-01 09:36:29.000000000,2017-08-01 11:23:15.000000000,2017-08-01 11:23:15.000000000,"[{'_account_id': 3}, {'_account_id': 14567}, {'_account_id': 16643}]","[{'number': 1, 'created': '2017-08-01 09:36:29.000000000', 'files': ['manila_ui/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/0a79ce05e1d3fa3e5680d2b60130e9433ccf6062', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: I7237cc2714b02a5ef9fc50adfcf05f79a4d2f42b\n'}]",0,489545,0a79ce05e1d3fa3e5680d2b60130e9433ccf6062,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: I7237cc2714b02a5ef9fc50adfcf05f79a4d2f42b
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/45/489545/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_ui/locale/de/LC_MESSAGES/django.po'],1,0a79ce05e1d3fa3e5680d2b60130e9433ccf6062,zanata/translations,"""Project-Id-Version: manila-ui 2.10.1.dev4\n""""POT-Creation-Date: 2017-07-31 14:46+0000\n""""PO-Revision-Date: 2017-08-01 08:28+0000\n""msgid ""Add Share Snapshot Rule"" msgstr ""Freigabe Schattenkopie Regel hinzufügen"" msgid ""At least one share type must be specified."" msgstr ""Es muss mindestens ein Freigabetyp angegeben werden."" msgid ""Create Share Group"" msgstr ""Freigabegruppe erstellen"" msgid ""Create Share Group Snapshot"" msgstr ""Freigabegruppe Schattenkopie erstellen"" msgid ""Create Share Group Type"" msgstr ""Freigabengruppe Typ erstellen"" msgid ""Created at"" msgstr ""Erstellt am"" msgid ""Creating share group \""%s\"""" msgstr ""Erstelle Freigabegruppe \""%s\"""" #, python-format msgid ""Creating share group snapshot \""%s\""."" msgstr ""Freigabegruppe Schattenkopie \""%s\"" erstellen."" #, python-formatmsgid ""Delete Share Group"" msgid_plural ""Delete Share Groups"" msgstr[0] ""Freigabegruppe löschen"" msgstr[1] ""Freigabegruppen löschen"" msgid ""Delete Share Group Snapshot"" msgid_plural ""Delete Share Group Snapshots"" msgstr[0] ""Freigabengruppe Schattenkopie löschen"" msgstr[1] ""Freigabengruppe Schattenkopien löschen"" msgid ""Delete Share Group Type"" msgid_plural ""Delete Share Group Types"" msgstr[0] ""Freigabengruppe Typ löschen"" msgstr[1] ""Freigabengruppen Typen löschen"" msgid ""Deleted Share Group"" msgid_plural ""Deleted Share Groups"" msgstr[0] ""Gelöschte Freigabegruppe"" msgstr[1] ""Gelöschte Freigabegruppen"" msgid ""Deleted Share Group Snapshot"" msgid_plural ""Deleted Share Group Snapshots"" msgstr[0] ""Gelöschte Freigabengruppe Schattenkopie"" msgstr[1] ""Gelöschte Freigabengruppe Schattenkopien"" msgid ""Deleted Share Group Type"" msgid_plural ""Deleted Share Group Types"" msgstr[0] ""Gelöschter Freigabengruppe Typ"" msgstr[1] ""Gelöschte Freigabengruppen Typen"" msgid ""Deleted Share Snapshot"" msgid_plural ""Deleted Share Snapshots"" msgstr[0] ""Freigabe Schattenkopie löschen"" msgstr[1] ""Freigabe Schattenkopien löschen"" msgid ""Edit Share Snapshot"" msgstr ""Freigabe Schattenkopie bearbeiten"" msgid ""Manage Share Group Type Access"" msgstr ""Freigabengruppe Typzugriff verwalten"" msgid ""Reset Share Group Status"" msgstr ""Freigabegruppen Status zurücksetzen"" msgid ""Share Group"" msgstr ""Freigabegruppe"" #, python-format msgid ""Share Group Details: %s"" msgstr ""Freigabegruppen Details: %s"" msgid ""Share Group Name"" msgstr ""Freigabegruppe Name"" msgid ""Share Group Overview"" msgstr ""Freigabegruppen Übersicht"" msgid ""Share Group Snapshots"" msgstr ""Freigabengruppe Schattenkopien"" msgid ""Share Group Types"" msgstr ""Freigabengruppe Typen"" msgid ""Share Groups"" msgstr ""Freigabegruppen"" msgid ""Share Snapshot Rules"" msgstr ""Schattenkopie-Regeln löschen"" msgid ""Share types"" msgstr ""Freigabetypen"" msgid ""Successfully created share group type: %s"" msgstr ""Freigabegruppen Typ erfolgreich erstellt: %s"" #, python-formatmsgid ""Successfully updated group specs for share group type '%s'."" msgstr ""Spezifikationen für Freigabegruppe Typ '%s' erfolgreich aktualisiert."" #, python-formatmsgid ""Unable to create share group type."" msgstr ""Freigabegruppen Typ kann nicht erstellt werden."" msgid ""Unable to create share. %s"" msgstr ""Freigabe kann nicht erstellt werden. %s"" #, python-formatmsgid ""Unable to reset status of share group '%s'."" msgstr ""Status der Freigabegruppe '%s' kann nicht zurückgesetzt werden."" #, python-format#, python-format msgid ""Unable to retrieve share group '%s'."" msgstr ""Freigabegruppe '%s' kann nicht abgerufen werden."" msgid ""Unable to retrieve share group details."" msgstr ""Freigabegruppen Details können nicht abgerufen werden."" #, python-format msgid ""Unable to retrieve share group snapshot '%s'."" msgstr ""Freigabengruppe Schattenkopie '%s' kann nicht abgerufen werden."" msgid ""Unable to retrieve share group types."" msgstr ""Freigabengruppe Typen können nicht abgerufen werden."" msgid ""Unable to retrieve share groups."" msgstr ""Freigabegruppen können nicht abgerufen werden."" msgid ""Unable to update group_specs for share group type."" msgstr """" ""Spezifikationen für Freigabegruppe Typ können nicht aktualisiert werden."" msgid ""Unable to update share group snapshot."" msgstr ""Freigabegruppe Schattenkopie kann nicht aktualisiert werden."" msgid ""Update Share Group"" msgstr ""Freigabegruppe aktualisieren"" msgid ""Update Share Group Snapshot"" msgstr ""Freigabegruppe Schattenkopie aktualisieren"" msgid ""Update Share group Type"" msgstr ""Freigabengruppe Typ aktualisieren"" msgid ""Updating share group snapshot \""%s\"""" msgstr ""Freigabegruppe Schattenkopie \""%s\"" wird aktualisiert."" #, python-format","""Project-Id-Version: manila-ui 2.10.1.dev1\n""""POT-Creation-Date: 2017-07-29 18:46+0000\n""""PO-Revision-Date: 2017-07-31 10:37+0000\n""",157,3
openstack%2Fmanila-ui~master~I324f8fc163b498af897c58ce3bd935bf889c6404,openstack/manila-ui,master,I324f8fc163b498af897c58ce3bd935bf889c6404,Optimize the link address,MERGED,2017-04-11 06:44:44.000000000,2017-08-01 11:21:29.000000000,2017-08-01 11:21:29.000000000,"[{'_account_id': 3}, {'_account_id': 6914}, {'_account_id': 8851}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15471}, {'_account_id': 23314}]","[{'number': 1, 'created': '2017-04-11 06:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/36ab84e614db65cbc141483d48fec53095de43d4', 'message': 'Optimize the link address\n\nUse https instead of http to ensure the safety\n\nChange-Id: I324f8fc163b498af897c58ce3bd935bf889c6404\n'}, {'number': 2, 'created': '2017-05-01 06:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/996ed4cc2e470bfc07f18ab8c5a49a7baf47829d', 'message': 'Optimize the link address\n\nUse https instead of http to ensure the safety\n\nChange-Id: I324f8fc163b498af897c58ce3bd935bf889c6404\n'}, {'number': 3, 'created': '2017-05-01 11:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/dd0be1d4cab6f52beaa7a595c90ba8e341d16978', 'message': 'Optimize the link address\n\nUse https instead of http to ensure the safety\n\nChange-Id: I324f8fc163b498af897c58ce3bd935bf889c6404\n'}, {'number': 4, 'created': '2017-08-01 06:12:28.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/b0c9dd68db84e8500a5e325c7615cea46b2a1741', 'message': 'Optimize the link address\n\nUse https instead of http to ensure the safety\n\nChange-Id: I324f8fc163b498af897c58ce3bd935bf889c6404\n'}]",7,455545,b0c9dd68db84e8500a5e325c7615cea46b2a1741,22,8,4,20401,,,0,"Optimize the link address

Use https instead of http to ensure the safety

Change-Id: I324f8fc163b498af897c58ce3bd935bf889c6404
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/45/455545/4 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,36ab84e614db65cbc141483d48fec53095de43d4,link_address,.. image:: https://governance.openstack.org/badges/manila-ui.svg :target: https://governance.openstack.org/reference/tags/index.html,.. image:: http://governance.openstack.org/badges/manila-ui.svg :target: http://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fkolla-ansible~master~I403df1d6f70e234a6ac3089187043aaf3ce955d9,openstack/kolla-ansible,master,I403df1d6f70e234a6ac3089187043aaf3ce955d9,test,ABANDONED,2017-08-01 11:16:59.000000000,2017-08-01 11:17:09.000000000,,[],"[{'number': 1, 'created': '2017-08-01 11:16:59.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32d95d4dc73f1ead2097176abefad58bcc61ac8e', 'message': 'test\n\nChange-Id: I403df1d6f70e234a6ac3089187043aaf3ce955d9\n'}]",0,489566,32d95d4dc73f1ead2097176abefad58bcc61ac8e,2,0,1,11869,,,0,"test

Change-Id: I403df1d6f70e234a6ac3089187043aaf3ce955d9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/489566/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,32d95d4dc73f1ead2097176abefad58bcc61ac8e,a1,#rest,,1,0
openstack%2Fkolla-ansible~stable%2Focata~I6e85fda9824b5ddc7a96895425c5932a3566c27e,openstack/kolla-ansible,stable/ocata,I6e85fda9824b5ddc7a96895425c5932a3566c27e,Support multi local chrony servers,MERGED,2017-07-27 08:33:21.000000000,2017-08-01 11:15:37.000000000,2017-08-01 11:15:37.000000000,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-07-27 08:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/43dfdf6a5577de78b11167c0e21b937350688903', 'message': 'Support multi local chrony servers\n\nIn the old implementation, if there is no external ntp server, only one\nlocal chrony server is supported. If multi chrony-server is configured,\nchrony client can not sync with them.\n\nIn the new implementation\n* use VIP to connect chrony-server, which ensure multi local chrony\n  servers are supported.\n* chrony servers depend on VIP. So chrony-server group should be\n  the same with haproxy group.\n* prevent chrony client sync from itself.\n* Change owner to chrony:kolla for chrony log folder\n* fix keysfile path\n* use chrony user for centos and ubuntu image\n* fix permission issue for /var/lib/chrony folder\n\nCloses-Bug: #1705200\nChange-Id: I6e85fda9824b5ddc7a96895425c5932a3566c27e\n(cherry picked from commit 72ee7dac7c2471efec145d04158e801379b5fa3a)\n'}, {'number': 2, 'created': '2017-08-01 00:09:30.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/chrony/templates/chrony.json.j2', 'ansible/roles/chrony/templates/chrony.conf.j2', 'ansible/inventory/all-in-one'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c0963a5f789748ff6cf858c6444d832bc8f497c', 'message': 'Support multi local chrony servers\n\nIn the old implementation, if there is no external ntp server, only one\nlocal chrony server is supported. If multi chrony-server is configured,\nchrony client can not sync with them.\n\nIn the new implementation\n* use VIP to connect chrony-server, which ensure multi local chrony\n  servers are supported.\n* chrony servers depend on VIP. So chrony-server group should be\n  the same with haproxy group.\n* prevent chrony client sync from itself.\n* Change owner to chrony:kolla for chrony log folder\n* fix keysfile path\n* use chrony user for centos and ubuntu image\n* fix permission issue for /var/lib/chrony folder\n\nCloses-Bug: #1705200\nChange-Id: I6e85fda9824b5ddc7a96895425c5932a3566c27e\n(cherry picked from commit 72ee7dac7c2471efec145d04158e801379b5fa3a)\n'}]",3,487754,9c0963a5f789748ff6cf858c6444d832bc8f497c,12,4,2,7488,,,0,"Support multi local chrony servers

In the old implementation, if there is no external ntp server, only one
local chrony server is supported. If multi chrony-server is configured,
chrony client can not sync with them.

In the new implementation
* use VIP to connect chrony-server, which ensure multi local chrony
  servers are supported.
* chrony servers depend on VIP. So chrony-server group should be
  the same with haproxy group.
* prevent chrony client sync from itself.
* Change owner to chrony:kolla for chrony log folder
* fix keysfile path
* use chrony user for centos and ubuntu image
* fix permission issue for /var/lib/chrony folder

Closes-Bug: #1705200
Change-Id: I6e85fda9824b5ddc7a96895425c5932a3566c27e
(cherry picked from commit 72ee7dac7c2471efec145d04158e801379b5fa3a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/487754/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/chrony/templates/chrony.json.j2', 'releasenotes/notes/move-chrony-server-group-depends-on-keepalived-27c60fbd1471cc29.yaml', 'ansible/roles/chrony/templates/chrony.conf.j2', 'ansible/inventory/all-in-one']",5,43dfdf6a5577de78b11167c0e21b937350688903,bug/1705200,haproxy,control,33,9
openstack%2Fswift~master~Ifa696207ffdb3b39650dfeaa3e7c6cfda94050db,openstack/swift,master,Ifa696207ffdb3b39650dfeaa3e7c6cfda94050db,Test reconstruct() with no EC policies,MERGED,2017-07-31 17:25:09.000000000,2017-08-01 11:05:13.000000000,2017-08-01 11:05:13.000000000,"[{'_account_id': 3}, {'_account_id': 7847}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-07-31 17:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2b61b70619696de27d5a486720cc4370bb456c7a', 'message': ""Test reconstruct() with no EC policies\n\nWe have a test for get_local_devices, but let's make some broader\nassertions as well.\n\nChange-Id: Ifa696207ffdb3b39650dfeaa3e7c6cfda94050db\n""}, {'number': 2, 'created': '2017-08-01 08:18:37.000000000', 'files': ['test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8d05325f03a6ca91cf886c0680455c962243ffb9', 'message': ""Test reconstruct() with no EC policies\n\nWe have a test for get_local_devices, but let's make some broader\nassertions as well.\n\nRelated-Bug: #1707595\nChange-Id: Ifa696207ffdb3b39650dfeaa3e7c6cfda94050db\n""}]",1,489281,8d05325f03a6ca91cf886c0680455c962243ffb9,12,3,2,15343,,,0,"Test reconstruct() with no EC policies

We have a test for get_local_devices, but let's make some broader
assertions as well.

Related-Bug: #1707595
Change-Id: Ifa696207ffdb3b39650dfeaa3e7c6cfda94050db
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/489281/2 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/obj/test_reconstructor.py'],1,2b61b70619696de27d5a486720cc4370bb456c7a,bug/1707595," @patch_policies(legacy_only=True) def test_reconstruct_with_no_ec_policy_env(self): self._configure_reconstructor() self.assertEqual([], self.reconstructor.policies) collect_parts_results = [] _orig_collect_parts = self.reconstructor.collect_parts def capture_collect_parts(**kwargs): part_infos = _orig_collect_parts(**kwargs) collect_parts_results.append(part_infos) return part_infos with mock.patch.object(self.reconstructor, 'collect_parts', capture_collect_parts): self.reconstructor.reconstruct() # There is one call, and it returns an empty list self.assertEqual([[]], collect_parts_results) log_lines = self.logger.all_log_lines() self.assertEqual(log_lines, {'info': [mock.ANY]}) line = log_lines['info'][0] self.assertTrue(line.startswith('Nothing reconstructed '), line) ", self.policy = POLICIES.default,23,1
openstack%2Fswift~master~I9590d129e7d5e72d955983f3ce38b4e2d44c95b1,openstack/swift,master,I9590d129e7d5e72d955983f3ce38b4e2d44c95b1,Update URL home-page in documents according to document migration,MERGED,2017-07-14 02:39:14.000000000,2017-08-01 11:02:44.000000000,2017-08-01 11:02:44.000000000,"[{'_account_id': 3}, {'_account_id': 7847}, {'_account_id': 12261}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-07-14 02:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/925e6cac98e90ccb8777bc0cd923d2d101fb0504', 'message': 'Update URL home-page in documents according to document migration\n\nChange-Id: I9590d129e7d5e72d955983f3ce38b4e2d44c95b1\n'}, {'number': 2, 'created': '2017-07-14 03:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/69552ed5ba87cc739719ad5e35102904536b12e3', 'message': 'Update URL home-page in documents according to document migration\n\nChange-Id: I9590d129e7d5e72d955983f3ce38b4e2d44c95b1\n'}, {'number': 3, 'created': '2017-07-18 02:29:40.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/6193ed83123b575729c1b27285cd42e299a73407', 'message': 'Update URL home-page in documents according to document migration\n\nChange-Id: I9590d129e7d5e72d955983f3ce38b4e2d44c95b1\n'}]",0,483755,6193ed83123b575729c1b27285cd42e299a73407,13,4,3,22255,,,0,"Update URL home-page in documents according to document migration

Change-Id: I9590d129e7d5e72d955983f3ce38b4e2d44c95b1
",git fetch https://review.opendev.org/openstack/swift refs/changes/55/483755/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,925e6cac98e90ccb8777bc0cd923d2d101fb0504,doc-migration,home-page = http://docs.openstack.org/swift/latest/,home-page = http://docs.openstack.org/developer/swift/,1,1
openstack%2Foslo.config~master~I2001dc4894ff1e24c0eaed9ba71e3c5fba02ae36,openstack/oslo.config,master,I2001dc4894ff1e24c0eaed9ba71e3c5fba02ae36,Empty groupname will be 'DEFAULT' by default,MERGED,2017-07-25 14:36:24.000000000,2017-08-01 11:01:28.000000000,2017-07-31 19:03:05.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 20883}]","[{'number': 1, 'created': '2017-07-25 14:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/8ac75f36fb6a7cd704649e684d8dc1112959a1fd', 'message': ""Empty groupname will be 'DEFAULT' by default\n\nBy default, if the groupname is None, set it to 'DEFAULT'.\nSeems like several libraries are exporting such groups, and it causes\nsorting the 'by_section.items()' list to fail.\n\nChange-Id: I2001dc4894ff1e24c0eaed9ba71e3c5fba02ae36\n""}, {'number': 2, 'created': '2017-07-25 16:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/c0364aa93e03dcafd1f2093c5bcf409d5aca333f', 'message': ""Empty groupname will be 'DEFAULT' by default\n\nBy default, if the groupname is None, set it to 'DEFAULT'.\nSeems like several libraries are exporting such groups, and it causes\nsorting the 'by_section.items()' list to fail.\n\nChange-Id: I2001dc4894ff1e24c0eaed9ba71e3c5fba02ae36\n""}, {'number': 3, 'created': '2017-07-25 19:35:51.000000000', 'files': ['oslo_config/tests/test_sphinxext.py', 'oslo_config/sphinxext.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d7931f25738a435574cd2d7740c650c78d71fdc2', 'message': ""Empty groupname will be 'DEFAULT' by default\n\nBy default, if the groupname is None, set it to 'DEFAULT'.\nSeems like several libraries are exporting such groups, and it causes\nsorting the 'by_section.items()' list to fail.\n\nChange-Id: I2001dc4894ff1e24c0eaed9ba71e3c5fba02ae36\n""}]",0,487108,d7931f25738a435574cd2d7740c650c78d71fdc2,18,6,3,20883,,,0,"Empty groupname will be 'DEFAULT' by default

By default, if the groupname is None, set it to 'DEFAULT'.
Seems like several libraries are exporting such groups, and it causes
sorting the 'by_section.items()' list to fail.

Change-Id: I2001dc4894ff1e24c0eaed9ba71e3c5fba02ae36
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/08/487108/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/sphinxext.py'],1,8ac75f36fb6a7cd704649e684d8dc1112959a1fd,empty-groupname-default, if group_name is None: group_name = 'DEFAULT' if group_name is None: group_name = 'DEFAULT',,4,0
openstack%2Fproject-config~master~Iaa7bea1a8545ad865b0cbd1cfd8f914687c9743d,openstack/project-config,master,Iaa7bea1a8545ad865b0cbd1cfd8f914687c9743d,Normalize projects.yaml,MERGED,2017-08-01 08:51:48.000000000,2017-08-01 10:57:52.000000000,2017-08-01 10:57:52.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-08-01 08:51:48.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5e1f415bf3229cb76e6e85823b4033c501bf41a5', 'message': 'Normalize projects.yaml\n\nChange-Id: Iaa7bea1a8545ad865b0cbd1cfd8f914687c9743d\n'}]",0,489533,5e1f415bf3229cb76e6e85823b4033c501bf41a5,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Iaa7bea1a8545ad865b0cbd1cfd8f914687c9743d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/33/489533/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,5e1f415bf3229cb76e6e85823b4033c501bf41a5,project-yaml-normalization,, upstream: https://github.com/redhat-openstack/tripleo-upgrade,0,1
openstack%2Fironic~master~I8c417cba085f61c3d2ffe1f7e97c64fa85a014cb,openstack/ironic,master,I8c417cba085f61c3d2ffe1f7e97c64fa85a014cb,Rolling upgrades support for create_port RPCAPI,MERGED,2017-07-20 18:34:53.000000000,2017-08-01 10:57:11.000000000,2017-07-31 18:07:20.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 24828}]","[{'number': 1, 'created': '2017-07-20 18:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e6e6e9c5efad768e1e54420f69f6956d9a6c369f', 'message': ""Rolling upgrades support for create_port RPCAPI\n\nThe new field 'physical_network' was added to Port in version\n1.7, and port creation was moved from the API to the conductor\nservice in commit 9e3f4121865807294dd3768b095b67eb01ef539e.\n\nThis change adds a method can_send_create_port() to the conductor\nRPCAPI that allows the caller to determine whether the conductor is able\nto create ports. During a rolling upgrade this may return False, and the\nAPI will need to determine whether it is able to create the port locally\nas was done previously.\n\nThe create_port RPC method was added to support validation of the\nphysical_network field of ports in portgroups. A port may therefore be\nsafely created in the API service if it is not a member of a portgroup.\nIf the port being created is a member of a portgroup, then it cannot be\nsafely validated by the API service and the request must be rejected.\n\nChange-Id: I8c417cba085f61c3d2ffe1f7e97c64fa85a014cb\nRelated-Bug: #1666009\nRelated-Bug: #1526283\n""}, {'number': 2, 'created': '2017-07-21 13:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b13a7eed0d787c593f6c9182d28753821ec28d85', 'message': ""Rolling upgrades support for create_port RPCAPI\n\nThe new field 'physical_network' was added to Port in version\n1.7, and port creation was moved from the API to the conductor\nservice in commit 9e3f4121865807294dd3768b095b67eb01ef539e.\n\nThis change adds a method can_send_create_port() to the conductor\nRPCAPI that allows the caller to determine whether the conductor is able\nto create ports. During a rolling upgrade this may return False, and the\nAPI will need to determine whether it is able to create the port locally\nas was done previously.\n\nThe create_port RPC method was added to support validation of the\nphysical_network field of ports in portgroups. A port may therefore be\nsafely created in the API service if it is not a member of a portgroup.\nIf the port being created is a member of a portgroup, then it cannot be\nsafely validated by the API service and the request must be rejected.\n\nChange-Id: I8c417cba085f61c3d2ffe1f7e97c64fa85a014cb\nRelated-Bug: #1666009\nRelated-Bug: #1526283\n""}, {'number': 3, 'created': '2017-07-25 14:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8ed906464aa7ed1d214441e9c7a14de6fd4f37a4', 'message': ""Rolling upgrades support for create_port RPCAPI\n\nThe new field 'physical_network' was added to Port in version\n1.7, and port creation was moved from the API to the conductor\nservice in commit 9e3f4121865807294dd3768b095b67eb01ef539e.\n\nThis change adds a method can_send_create_port() to the conductor\nRPCAPI that allows the caller to determine whether the conductor is able\nto create ports. During a rolling upgrade this may return False, and the\nAPI will need to determine whether it is able to create the port locally\nas was done previously.\n\nThe create_port RPC method was added to support validation of the\nphysical_network field of ports in portgroups. A port may therefore be\nsafely created in the API service if it is not a member of a portgroup.\nIf the port being created is a member of a portgroup, then it cannot be\nsafely validated by the API service and the request must be rejected.\n\nChange-Id: I8c417cba085f61c3d2ffe1f7e97c64fa85a014cb\nRelated-Bug: #1666009\nRelated-Bug: #1526283\n""}, {'number': 4, 'created': '2017-07-26 17:23:34.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'ironic/tests/unit/api/v1/test_ports.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'releasenotes/notes/port-physical-network-a7009dc514353796.yaml', 'ironic/conductor/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fc1e18e3e4a28b1163e7a597ee8b07d465d7a174', 'message': ""Rolling upgrades support for create_port RPCAPI\n\nThe new field 'physical_network' was added to Port in version\n1.7, and port creation was moved from the API to the conductor\nservice in commit 9e3f4121865807294dd3768b095b67eb01ef539e.\n\nThis change adds a method can_send_create_port() to the conductor\nRPCAPI that allows the caller to determine whether the conductor is able\nto create ports. During a rolling upgrade this may return False, and the\nAPI will need to determine whether it is able to create the port locally\nas was done previously.\n\nThe create_port RPC method was added to support validation of the\nphysical_network field of ports in portgroups. A port may therefore be\nsafely created in the API service if it is not a member of a portgroup.\nIf the port being created is a member of a portgroup, then it cannot be\nsafely validated by the API service and the request must be rejected.\n\nChange-Id: I8c417cba085f61c3d2ffe1f7e97c64fa85a014cb\nRelated-Bug: #1666009\nRelated-Bug: #1526283\n""}]",16,485773,fc1e18e3e4a28b1163e7a597ee8b07d465d7a174,88,11,4,14826,,,0,"Rolling upgrades support for create_port RPCAPI

The new field 'physical_network' was added to Port in version
1.7, and port creation was moved from the API to the conductor
service in commit 9e3f4121865807294dd3768b095b67eb01ef539e.

This change adds a method can_send_create_port() to the conductor
RPCAPI that allows the caller to determine whether the conductor is able
to create ports. During a rolling upgrade this may return False, and the
API will need to determine whether it is able to create the port locally
as was done previously.

The create_port RPC method was added to support validation of the
physical_network field of ports in portgroups. A port may therefore be
safely created in the API service if it is not a member of a portgroup.
If the port being created is a member of a portgroup, then it cannot be
safely validated by the API service and the request must be rejected.

Change-Id: I8c417cba085f61c3d2ffe1f7e97c64fa85a014cb
Related-Bug: #1666009
Related-Bug: #1526283
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/485773/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'ironic/tests/unit/api/v1/test_ports.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'releasenotes/notes/port-physical-network-a7009dc514353796.yaml', 'ironic/conductor/rpcapi.py']",5,e6e6e9c5efad768e1e54420f69f6956d9a6c369f,bug/1666009," def _can_send_version(self, version): """"""Return whether the RPCAPI supports sending a particular version. :param version: The version to check. :returns: Whether the version can be sent. """""" return self.client.can_send_version(version) def can_send_create_port(self): """"""Return whether the RPCAPI supports the create_port method."""""" return self._can_send_version(""1.41"") ",,100,9
openstack%2Fcinder~master~Iba22549ce2c78b3aa2af5f23f9e93299ee91c770,openstack/cinder,master,Iba22549ce2c78b3aa2af5f23f9e93299ee91c770,Fix test_scheduler_stats error module calls,MERGED,2017-07-19 10:09:24.000000000,2017-08-01 10:55:29.000000000,2017-07-25 01:04:26.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 22752}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-07-19 10:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5192a592654f0ce6c00026643eab961187109f78', 'message': 'test: Remove unused object\n\nChange-Id: Iba22549ce2c78b3aa2af5f23f9e93299ee91c770\n'}, {'number': 2, 'created': '2017-07-19 10:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/552cf35f4a2c31d32733aaad184af71521410aa2', 'message': 'Remove unused object\n\nChange-Id: Iba22549ce2c78b3aa2af5f23f9e93299ee91c770\n'}, {'number': 3, 'created': '2017-07-21 10:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9293238257be8cbd651493ccb9233ef87e3de83', 'message': ""Fix test_scheduler_stats error module calls\n\nIt's great that the commit[1] brought in volume type filter. But the\ncommit made `test_scheduler_stats` didn't test anything for some\nmodule call errors. The patch fixes it and lets all the tests in the module\nwork normally.\n\n[1]https://github.com/openstack/cinder/commit/d5a3fdabca25a63bd3d01c86442ef649e7613aff\n\nChange-Id: Iba22549ce2c78b3aa2af5f23f9e93299ee91c770\n""}, {'number': 4, 'created': '2017-07-24 15:10:00.000000000', 'files': ['cinder/tests/unit/api/contrib/test_scheduler_stats.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/391beb8901066b0d7b295d27503b6e0602d388ed', 'message': ""Fix test_scheduler_stats error module calls\n\nIt's great that the commit[1] brought in volume type filter. But the\ncommit made `test_scheduler_stats` didn't test anything for some\nmodule call errors. The patch fixes it and lets all the tests in the module\nwork normally.\n\n[1]https://github.com/openstack/cinder/commit/d5a3fdabca25a63bd3d01c86442ef649e7613aff\n\nChange-Id: Iba22549ce2c78b3aa2af5f23f9e93299ee91c770\n""}]",2,485141,391beb8901066b0d7b295d27503b6e0602d388ed,114,39,4,22752,,,0,"Fix test_scheduler_stats error module calls

It's great that the commit[1] brought in volume type filter. But the
commit made `test_scheduler_stats` didn't test anything for some
module call errors. The patch fixes it and lets all the tests in the module
work normally.

[1]https://github.com/openstack/cinder/commit/d5a3fdabca25a63bd3d01c86442ef649e7613aff

Change-Id: Iba22549ce2c78b3aa2af5f23f9e93299ee91c770
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/485141/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/api/contrib/test_scheduler_stats.py'],1,5192a592654f0ce6c00026643eab961187109f78,,, @mock.patch('cinder.api.common.update_general_filters'),0,1
openstack%2Fopenstack-ansible-ops~master~Ic28bbd01f0647914223885c89c7843b20073e081,openstack/openstack-ansible-ops,master,Ic28bbd01f0647914223885c89c7843b20073e081,Ensure openstack_deploy directory is create before copy,MERGED,2017-07-28 17:10:15.000000000,2017-08-01 10:55:18.000000000,2017-08-01 10:55:18.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-07-28 17:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/9f7b232f932c4e76f84f216b7e398db11d86f94c', 'message': 'Ensure openstack_deploy directory is create before copy\n\nChange-Id: Ic28bbd01f0647914223885c89c7843b20073e081\n'}, {'number': 2, 'created': '2017-08-01 10:48:51.000000000', 'files': ['multi-node-aio/playbooks/deploy-osa.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/505f5bb19a8c90a1e4c32685e39319dd69d0a0ed', 'message': 'Ensure openstack_deploy directory is create before copy\n\nChange-Id: Ic28bbd01f0647914223885c89c7843b20073e081\n'}]",0,488538,505f5bb19a8c90a1e4c32685e39319dd69d0a0ed,9,4,2,290,,,0,"Ensure openstack_deploy directory is create before copy

Change-Id: Ic28bbd01f0647914223885c89c7843b20073e081
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/38/488538/2 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/playbooks/deploy-osa.yml'],1,9f7b232f932c4e76f84f216b7e398db11d86f94c,, - name: Create Basic configs shell: cp -R etc/openstack_deploy/* /etc/openstack_deploy args: chdir: /opt/openstack-ansible when: - pre_config_osa | default(true) | bool , - name: Create Basic configs shell: cp -R etc/openstack_deploy/* /etc/openstack_deploy args: chdir: /opt/openstack-ansible when: - pre_config_osa | default(true) | bool ,7,7
openstack%2Fcinder~stable%2Focata~If76b7525b011c2576cfb669a4dc29ee1d6b870de,openstack/cinder,stable/ocata,If76b7525b011c2576cfb669a4dc29ee1d6b870de,Huawei driver supports front-end qos,MERGED,2017-07-24 12:43:48.000000000,2017-08-01 10:52:38.000000000,2017-07-25 14:23:01.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-07-24 12:43:48.000000000', 'files': ['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/smartx.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1f8b8ae7938758d5e04664d656950bdc3e13f5d', 'message': 'Huawei driver supports front-end qos\n\nThere\'s a parameter in QoS specs named ""consumer"" and it\'s default\nvalue is \'back-end\'. When ""consumer"" is set to \'front-end\'/\'back-end\',\nit should create a front-end/back-end QoS.\n\nNow Huawei Driver doesn\'t consider the ""consumer"" parameter, fix it.\n\nChange-Id: If76b7525b011c2576cfb669a4dc29ee1d6b870de\nCloses-bug:#1667875\n(cherry picked from commit b268b842bd88b37ae1c0d8f6b29ae0e804776413)\n'}]",0,486597,e1f8b8ae7938758d5e04664d656950bdc3e13f5d,22,6,1,16203,,,0,"Huawei driver supports front-end qos

There's a parameter in QoS specs named ""consumer"" and it's default
value is 'back-end'. When ""consumer"" is set to 'front-end'/'back-end',
it should create a front-end/back-end QoS.

Now Huawei Driver doesn't consider the ""consumer"" parameter, fix it.

Change-Id: If76b7525b011c2576cfb669a4dc29ee1d6b870de
Closes-bug:#1667875
(cherry picked from commit b268b842bd88b37ae1c0d8f6b29ae0e804776413)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/486597/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/smartx.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py']",3,e1f8b8ae7938758d5e04664d656950bdc3e13f5d,bug/1667875," @ddt.data('front-end', 'back-end') mock_consumer, mock_value_type): self.mock_object(qos_specs, 'get_qos_specs', return_value={'specs': {'maxBandWidth': '100', 'IOType': '0'}, 'consumer': mock_consumer})"," @mock.patch.object(qos_specs, 'get_qos_specs', return_value={'specs': {'maxBandWidth': '100', 'IOType': '0'}, 'consumer': 'back-end'}) mock_value_type, mock_volume_params):",16,8
openstack%2Fironic~master~I69446703894b89596183c50482a4286eaac4ed42,openstack/ironic,master,I69446703894b89596183c50482a4286eaac4ed42,Add negative attribute to negative port tests,MERGED,2017-07-26 18:38:30.000000000,2017-08-01 10:49:44.000000000,2017-08-01 04:49:06.000000000,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14525}, {'_account_id': 17998}]","[{'number': 1, 'created': '2017-07-26 18:38:30.000000000', 'files': ['ironic_tempest_plugin/tests/api/admin/test_ports_negative.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/63a852eb8c4e3b885340aec62d19d6d1f15bf995', 'message': 'Add negative attribute to negative port tests\n\nChange I8b30764d797f2f8b45c2ae46ce559e74e0281a49 added tempest tests for\nthe port.physical_network field. In that review, it was noted that the\nnegative tests should have a decorator applied to mark them as negative.\nThis change applies that decorator.\n\nChange-Id: I69446703894b89596183c50482a4286eaac4ed42\nRelated-Bug: #1666009\n'}]",0,487550,63a852eb8c4e3b885340aec62d19d6d1f15bf995,69,5,1,14826,,,0,"Add negative attribute to negative port tests

Change I8b30764d797f2f8b45c2ae46ce559e74e0281a49 added tempest tests for
the port.physical_network field. In that review, it was noted that the
negative tests should have a decorator applied to mark them as negative.
This change applies that decorator.

Change-Id: I69446703894b89596183c50482a4286eaac4ed42
Related-Bug: #1666009
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/487550/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/api/admin/test_ports_negative.py'],1,63a852eb8c4e3b885340aec62d19d6d1f15bf995,bug/1666009, @decorators.attr(type=['negative']) @decorators.attr(type=['negative']) @decorators.attr(type=['negative']) @decorators.attr(type=['negative']) @decorators.attr(type=['negative']),,5,0
openstack%2Ffuel-main~stable%2F7.0~Ic1994fd6164bfea617f59d7048f663271df473ca,openstack/fuel-main,stable/7.0,Ic1994fd6164bfea617f59d7048f663271df473ca,Add package listing into bootstrap,MERGED,2017-07-31 10:51:38.000000000,2017-08-01 10:45:44.000000000,2017-08-01 10:45:44.000000000,"[{'_account_id': 3}, {'_account_id': 14610}]","[{'number': 1, 'created': '2017-07-31 10:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/546c4c572816cf27d432102d781da1cd0aa9fffe', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}, {'number': 2, 'created': '2017-07-31 11:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/df85141b7d49dc86ddb72a1e29a6782441de012d', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}, {'number': 3, 'created': '2017-07-31 13:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/1ebe87ee65cac04b71ba940db94590ac3a33c030', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}, {'number': 4, 'created': '2017-07-31 15:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/0a23baed50b8cbcf60db0709ca416d2450513f79', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}, {'number': 5, 'created': '2017-07-31 16:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/85551b522c9354d4defb07faee677701df9f08b2', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}, {'number': 6, 'created': '2017-07-31 19:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/3305d4a0648999fc38a5620a1fefd0ca0595a624', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}, {'number': 7, 'created': '2017-07-31 19:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/5e97420219055ef02d48dcac594f852528b46c92', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}, {'number': 8, 'created': '2017-07-31 20:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/ad0ff576c61673cbdd4feccc4f7c0ebb6ad1e032', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}, {'number': 9, 'created': '2017-08-01 10:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/3899525d1907c47dc4b8e2a73a43f83d8d2556b4', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}, {'number': 10, 'created': '2017-08-01 10:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/f726f1e6ef8e0cd57112757444d4c6796cd41f8f', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}, {'number': 11, 'created': '2017-08-01 10:19:59.000000000', 'files': ['bootstrap/module.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/40553b46a057d38724fe328df5a492b9b5b38443', 'message': 'Add package listing into bootstrap\n\nChange-Id: Ic1994fd6164bfea617f59d7048f663271df473ca\n'}]",0,489175,40553b46a057d38724fe328df5a492b9b5b38443,26,2,11,10288,,,0,"Add package listing into bootstrap

Change-Id: Ic1994fd6164bfea617f59d7048f663271df473ca
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/75/489175/5 && git format-patch -1 --stdout FETCH_HEAD,['bootstrap/module.mk'],1,546c4c572816cf27d432102d781da1cd0aa9fffe,," # Save list of installed packages -sudo chroot $(INITRAMROOT) sh -c ""rpm --dbpath /root/.rpmdb -qa |sort > /bootstrap_packages"" -sudo sh -c ""find $(LOCAL_MIRROR_CENTOS_OS_BASEURL) -name '$(KERNEL_PATTERN)' | xargs basename -a >> $(INITRAMROOT)/bootstrap_kernel"" -sudo sh -c ""find $(LOCAL_MIRROR_CENTOS_OS_BASEURL) -name '$(KERNEL_FIRMWARE_PATTERN)' | xargs basename -a >> $(INITRAMROOT)/bootstrap_kernel"" # Cleanup -sudo sh -c ""rm -rf $(INITRAMROOT)/root/.rpmdb"" ",,8,0
openstack%2Frpm-packaging~master~I5c87a9372643ae3036d1c644c247706a46b32a8f,openstack/rpm-packaging,master,I5c87a9372643ae3036d1c644c247706a46b32a8f,Update os-brick to 1.15.2,MERGED,2017-07-31 23:14:48.000000000,2017-08-01 10:22:33.000000000,2017-08-01 10:22:32.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-07-31 23:14:48.000000000', 'files': ['openstack/os-brick/os-brick.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bc392e81c90edffb9f0d8694cb4b87f7617ed228', 'message': 'Update os-brick to 1.15.2\n\nChange-Id: I5c87a9372643ae3036d1c644c247706a46b32a8f\nDepends-on: Idb98a46163bdf2c9bde855863ca62eb4f14d5b0d\n'}]",0,489432,bc392e81c90edffb9f0d8694cb4b87f7617ed228,12,5,1,17130,,,0,"Update os-brick to 1.15.2

Change-Id: I5c87a9372643ae3036d1c644c247706a46b32a8f
Depends-on: Idb98a46163bdf2c9bde855863ca62eb4f14d5b0d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/32/489432/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-brick/os-brick.spec.j2'],1,bc392e81c90edffb9f0d8694cb4b87f7617ed228,os-brick,Version: 1.15.2,Version: 1.15.1,1,1
openstack%2Fopenstack-manuals~master~I1bc3b8160dbf8ed8a20d14de907b09a338d6b1ec,openstack/openstack-manuals,master,I1bc3b8160dbf8ed8a20d14de907b09a338d6b1ec,networking-sfc: set config reference flag,MERGED,2017-08-01 09:43:02.000000000,2017-08-01 10:15:36.000000000,2017-08-01 10:15:36.000000000,"[{'_account_id': 3}, {'_account_id': 10607}, {'_account_id': 19779}]","[{'number': 1, 'created': '2017-08-01 09:43:02.000000000', 'files': ['www/project-data/latest.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a444e7e84479ab5bcfd6b059352e6c911ce4b4a0', 'message': 'networking-sfc: set config reference flag\n\nAuto-generated config reference was added in\ne0fc6df2eefb7d3752acb9bb30e89d2e5c13bfc1, enable it in manuals\n\nChange-Id: I1bc3b8160dbf8ed8a20d14de907b09a338d6b1ec\n'}]",0,489547,a444e7e84479ab5bcfd6b059352e6c911ce4b4a0,7,3,1,21798,,,0,"networking-sfc: set config reference flag

Auto-generated config reference was added in
e0fc6df2eefb7d3752acb9bb30e89d2e5c13bfc1, enable it in manuals

Change-Id: I1bc3b8160dbf8ed8a20d14de907b09a338d6b1ec
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/47/489547/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/latest.yaml'],1,a444e7e84479ab5bcfd6b059352e6c911ce4b4a0,, has_config_ref: true,,1,0
openstack%2Fopenstack-manuals~master~Ica64f8f1537dbcfbc943b9f478820ac9785279f0,openstack/openstack-manuals,master,Ica64f8f1537dbcfbc943b9f478820ac9785279f0,address comments in contributor docs,MERGED,2017-07-31 17:30:10.000000000,2017-08-01 10:15:23.000000000,2017-08-01 10:15:23.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 19779}]","[{'number': 1, 'created': '2017-07-31 17:30:10.000000000', 'files': ['doc/contributor-guide/source/doc-tools/template-generator.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1d8e768757be5237b318d72a6d64dbe2692214dc', 'message': 'address comments in contributor docs\n\nThis patch addresses the comments left on\nI9f98c78bc4b13ea64b6cb96537e81b69267905b1 when it was approved.\n\nChange-Id: Ica64f8f1537dbcfbc943b9f478820ac9785279f0\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,489282,1d8e768757be5237b318d72a6d64dbe2692214dc,7,3,1,2472,,,0,"address comments in contributor docs

This patch addresses the comments left on
I9f98c78bc4b13ea64b6cb96537e81b69267905b1 when it was approved.

Change-Id: Ica64f8f1537dbcfbc943b9f478820ac9785279f0
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/82/489282/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/contributor-guide/source/doc-tools/template-generator.rst'],1,1d8e768757be5237b318d72a6d64dbe2692214dc,cleanup-contrib-docs,========================== Template generator details ========================== The portion of the content on docs.openstack.org that is not managed as document sets built by Sphinx is handled via a custom template rendering tool in ``tools/www-generator.py`` within the openstack-manuals git repository.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,============================ Template generator details ============================ The content on docs.openstack.org that is not managed as document sets built by Sphinx is handled via a custom template rendering tool in ``tools/www-generator.py`` within the openstack-manuals git repository.=================================================================,10,10
openstack%2Fkolla~master~Ie60d35d1df6b7acd62cd529b0208d1c18bd7ee5a,openstack/kolla,master,Ie60d35d1df6b7acd62cd529b0208d1c18bd7ee5a,ODL installed for source images,MERGED,2017-05-19 15:55:32.000000000,2017-08-01 10:14:35.000000000,2017-08-01 10:14:35.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1390}, {'_account_id': 11869}, {'_account_id': 18737}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22582}, {'_account_id': 23717}, {'_account_id': 26159}]","[{'number': 1, 'created': '2017-05-19 15:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/90c7199d403b0a4e526d0c6f166dc0da8fee96c5', 'message': 'ODL installed for source images\n\nODL is an infrastructure service, in kolla we do not\nsupport source installs for non OpenStack projects.\nThis change install odl from binaries to all\ninstall_types, installing source code is still supported\nfrom template-overrides\n\nChange-Id: Ie60d35d1df6b7acd62cd529b0208d1c18bd7ee5a\n'}, {'number': 2, 'created': '2017-05-30 14:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/de420a93138ed5ade1a9f0c925efd3d9a42c87df', 'message': 'ODL installed for source images\n\nODL is an infrastructure service, in kolla we do not\nsupport source installs for non OpenStack projects.\nThis change install odl from binaries to all\ninstall_types, installing source code is still supported\nfrom template-overrides\n\nChange-Id: Ie60d35d1df6b7acd62cd529b0208d1c18bd7ee5a\n'}, {'number': 3, 'created': '2017-07-19 15:46:02.000000000', 'files': ['tests/test_build.py', 'contrib/template-override/opendaylight-template-overrides.j2', 'docker/opendaylight/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7129203bdb46b290f92d51a8efb5709eb66ea078', 'message': 'ODL installed for source images\n\nODL is an infrastructure service, in kolla we do not\nsupport source installs for non OpenStack projects.\nThis change install odl from binaries to all\ninstall_types, installing source code is still supported\nfrom template-overrides\n\nChange-Id: Ie60d35d1df6b7acd62cd529b0208d1c18bd7ee5a\n'}]",0,466336,7129203bdb46b290f92d51a8efb5709eb66ea078,45,10,3,19316,,,0,"ODL installed for source images

ODL is an infrastructure service, in kolla we do not
support source installs for non OpenStack projects.
This change install odl from binaries to all
install_types, installing source code is still supported
from template-overrides

Change-Id: Ie60d35d1df6b7acd62cd529b0208d1c18bd7ee5a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/466336/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_build.py', 'contrib/template-override/opendaylight-template-overrides.j2', 'docker/opendaylight/Dockerfile.j2']",3,90c7199d403b0a4e526d0c6f166dc0da8fee96c5,odl-source-build,"{% block opendaylight_install %} {% set opendaylight_packages = ['opendaylight'] %} {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% if opendaylight_repo is not defined %} {% endif %} {% elif base_distro in ['ubuntu', 'debian'] %} {% if base_distro in 'ubuntu' %} {% set odl_release_deb_url = 'http://download.opensuse.org/repositories/home:/akshitajha/xUbuntu_16.04/' %} {% elif base_distro in 'debian' %} {% set odl_release_deb_url = 'http://download.opensuse.org/repositories/home:/akshitajha/Debian_8.0/' %} {% endif %}{% endif %}","{% if install_type == 'binary' %} {% set opendaylight_packages = ['opendaylight'] %} {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% if opendaylight_repo is not defined %} {% endif %} {% elif base_distro in ['ubuntu', 'debian'] %} {% if base_distro in 'ubuntu' %} {% set odl_release_deb_url = 'http://download.opensuse.org/repositories/home:/akshitajha/xUbuntu_16.04/' %} {% elif base_distro in 'debian' %} {% set odl_release_deb_url = 'http://download.opensuse.org/repositories/home:/akshitajha/Debian_8.0/' %} {% endif %} {% endif %}{% elif install_type == 'source' %} {% block opendaylight_source_install %} RUN echo '{{ install_type }} not yet available for {{ base_distro }}' \ && /bin/false{% endif %}",15,22
openstack%2Fpython-saharaclient~master~I08774a4e057f3775b46470ea790bee682e8c8b9e,openstack/python-saharaclient,master,I08774a4e057f3775b46470ea790bee682e8c8b9e,Update reno for stable/pike,MERGED,2017-07-28 21:08:00.000000000,2017-08-01 10:02:35.000000000,2017-08-01 10:02:35.000000000,"[{'_account_id': 3}, {'_account_id': 10459}]","[{'number': 1, 'created': '2017-07-28 21:08:00.000000000', 'files': ['releasenotes/source/pike.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/3e8c24c42487155fca3eccfc0b0af58e1fda27ae', 'message': 'Update reno for stable/pike\n\nChange-Id: I08774a4e057f3775b46470ea790bee682e8c8b9e\n'}]",0,488808,3e8c24c42487155fca3eccfc0b0af58e1fda27ae,6,2,1,22816,,,0,"Update reno for stable/pike

Change-Id: I08774a4e057f3775b46470ea790bee682e8c8b9e
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/08/488808/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/pike.rst', 'releasenotes/source/index.rst']",2,3e8c24c42487155fca3eccfc0b0af58e1fda27ae,reno-pike, pike,,7,0
openstack%2Ftripleo-quickstart-extras~master~I682dc33aea30bbbd2749e13f0be1e84f6a8a2ed6,openstack/tripleo-quickstart-extras,master,I682dc33aea30bbbd2749e13f0be1e84f6a8a2ed6,Add experimental repo type tripleo-repos,ABANDONED,2017-05-16 11:29:57.000000000,2017-08-01 10:02:24.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-05-16 11:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8d6095464a8786130679a266f84a46b3a5a4d18c', 'message': 'Add experimental repo type tripleo-repos\n\nAllow users to install a pre-defined composition (a bundle) of repositories with the tripleo-repos [0] manager.\n\n[0] https://github.com/openstack/tripleo-repos\n\nChange-Id: I682dc33aea30bbbd2749e13f0be1e84f6a8a2ed6\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2017-05-16 11:30:39.000000000', 'files': ['roles/repo-setup/templates/repo_setup.sh.j2', 'roles/repo-setup/README.md', 'releasenotes/notes/tripleo_repos_manager-c519c33b941ca6bf.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8c99fb902d32ee8dc6bb376712c7123aa13961ff', 'message': 'Add experimental repo type tripleo-repos\n\nAllow users to install a pre-defined composition (a bundle)\nof repositories with the tripleo-repos [0] manager.\n\n[0] https://github.com/openstack/tripleo-repos\n\nChange-Id: I682dc33aea30bbbd2749e13f0be1e84f6a8a2ed6\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,465043,8c99fb902d32ee8dc6bb376712c7123aa13961ff,20,14,2,6926,,,0,"Add experimental repo type tripleo-repos

Allow users to install a pre-defined composition (a bundle)
of repositories with the tripleo-repos [0] manager.

[0] https://github.com/openstack/tripleo-repos

Change-Id: I682dc33aea30bbbd2749e13f0be1e84f6a8a2ed6
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/465043/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/repo-setup/templates/repo_setup.sh.j2', 'roles/repo-setup/README.md', 'releasenotes/notes/tripleo_repos_manager-c519c33b941ca6bf.yaml']",3,8d6095464a8786130679a266f84a46b3a5a4d18c,tripleo-repos,"--- features: - | Add an experimental repo type tripleo-repos. Allows users to install a pre-defined composition (a bundle) of repositories with the `<tripleo-repos https://github.com/openstack/tripleo-repos>`_ manager. Note, it as well installs ``pip`` with the ``easy_install`` tool. It's currently experimental and should not be used with other repo types. ",,39,1
openstack%2Ftripleo-quickstart~master~Ic03b20ad0c1cf3ecce4482dcba3287810924f364,openstack/tripleo-quickstart,master,Ic03b20ad0c1cf3ecce4482dcba3287810924f364,Update contributing docs with ansible caveats,ABANDONED,2017-05-22 14:26:28.000000000,2017-08-01 09:59:59.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8652}, {'_account_id': 11491}, {'_account_id': 18846}, {'_account_id': 24752}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-05-22 14:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a4afbbd814276270c81eaf3bb5e0350e21570482', 'message': 'Update contributing docs with ansible caveats\n\nFollow up the change I3daf21e45223c5165abee74e92e1395dee5f6fe9\n\nChange-Id: Ic03b20ad0c1cf3ecce4482dcba3287810924f364\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2017-05-23 14:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b60c157dc2fff749b5cc18aff656d73e3667040d', 'message': 'Update contributing docs with ansible caveats\n\nFollow up the change I3daf21e45223c5165abee74e92e1395dee5f6fe9\n\nChange-Id: Ic03b20ad0c1cf3ecce4482dcba3287810924f364\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2017-06-19 12:21:01.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1f4021153fc9a479685319e189354d638e2f8ebc', 'message': 'Update contributing docs with ansible caveats\n\nFollow up the change I3daf21e45223c5165abee74e92e1395dee5f6fe9\n\nChange-Id: Ic03b20ad0c1cf3ecce4482dcba3287810924f364\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",6,466742,1f4021153fc9a479685319e189354d638e2f8ebc,16,7,3,6926,,,0,"Update contributing docs with ansible caveats

Follow up the change I3daf21e45223c5165abee74e92e1395dee5f6fe9

Change-Id: Ic03b20ad0c1cf3ecce4482dcba3287810924f364
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/42/466742/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,a4afbbd814276270c81eaf3bb5e0350e21570482,dynamic_include," Ansible roles and playbooks --------------------------- If you use a conditional ``include`` directive, please specify the ``static: no`` statement for it. This helps Ansible >= 2.1 with making an automatic detection of `static vs dynamic includes <http://docs.ansible.com/ansible/playbooks_roles.html#dynamic-versus-static-includes>`_ explicit. And shortcuts the total play time, if inclusion of the tasks is not going to happen, like conditions were not met or filtered out by given tags.",,10,0
openstack%2Ftripleo-quickstart-extras~master~I4b649ac4437a2a2e5374bc754a8a3eb7a2bb8d21,openstack/tripleo-quickstart-extras,master,I4b649ac4437a2a2e5374bc754a8a3eb7a2bb8d21,Use dynamic include for conditional/tagged tasks,ABANDONED,2017-05-11 14:16:36.000000000,2017-08-01 09:59:51.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-05-11 14:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/738ac3b7d9ecc92217a388dd90d6b5316f5ea3e6', 'message': ""Use dynamic include for conditional/tagged tasks\n\nAnsible 2.1 tries to predict static/dynamic cases for\ninclude. It sometimes fails to do so for tagged or conditional\ninclude commands. This makes all included tags/tasks to be played,\nbut skipped anyway, even though it was asked to be omitted.\n\nHelp ansible to predict dynamic cases by explicit 'static: no'\ndirectives put for 'when:/tags:' include commands. This speeds up\ndeployment a lot.\n\nChange-Id: I4b649ac4437a2a2e5374bc754a8a3eb7a2bb8d21\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2017-05-31 07:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8502f519f395888f6f4fc2615e52688f0e732db4', 'message': ""Use dynamic include for conditional/tagged tasks\n\nAnsible 2.1 tries to predict static/dynamic cases for\ninclude. It sometimes fails to do so for tagged or conditional\ninclude commands. This makes all included tags/tasks to be played,\nbut skipped anyway, even though it was asked to be omitted.\n\nHelp ansible to predict dynamic cases by explicit 'static: no'\ndirectives put for 'when:/tags:' include commands. This speeds up\ndeployment a lot.\n\nChange-Id: I4b649ac4437a2a2e5374bc754a8a3eb7a2bb8d21\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2017-06-13 11:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e1cb045b7d1af60b677ae0826024fb778a37ce18', 'message': ""Use dynamic include for conditional/tagged tasks\n\nAnsible 2.1 tries to predict static/dynamic cases for\ninclude. It sometimes fails to do so for tagged or conditional\ninclude commands. This makes all included tags/tasks to be played,\nbut skipped anyway, even though it was asked to be omitted.\n\nHelp ansible to predict dynamic cases by explicit 'static: no'\ndirectives put for 'when:/tags:' include commands. This speeds up\ndeployment a lot.\n\nChange-Id: I4b649ac4437a2a2e5374bc754a8a3eb7a2bb8d21\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2017-06-14 15:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1bc38ed62a89a257e08641525f303c369fe9b8c2', 'message': ""Use dynamic include for conditional/tagged tasks\n\nAnsible 2.1 tries to predict static/dynamic cases for\ninclude. It sometimes fails to do so for tagged or conditional\ninclude commands. This makes all included tags/tasks to be played,\nbut skipped anyway, even though it was asked to be omitted.\n\nHelp ansible to predict dynamic cases by explicit 'static: no'\ndirectives put for 'when:/tags:' include commands. This speeds up\ndeployment a lot.\n\nChange-Id: I4b649ac4437a2a2e5374bc754a8a3eb7a2bb8d21\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2017-06-19 12:17:53.000000000', 'files': ['roles/overcloud-prep-flavors/tasks/main.yml', 'roles/overcloud-deploy/tasks/main.yml', 'roles/overcloud-prep-containers/tasks/main.yml', 'roles/overcloud-upgrade/tasks/main.yml', 'roles/collect-logs/tasks/main.yml', 'roles/undercloud-deploy/tasks/post-install.yml', 'roles/baremetal-undercloud/packages/tasks/main.yml', 'roles/undercloud-deploy/tasks/main.yml', 'roles/baremetal-undercloud/README.md', 'roles/baremetal-undercloud/tasks/main.yml', 'roles/overcloud-prep-images/tasks/main.yml', 'roles/install-built-repo/tasks/main.yml', 'roles/validate-tempest/tasks/main.yml', 'roles/overcloud-prep-network/tasks/main.yml', 'roles/gate-quickstart/tasks/main.yml', 'roles/build-test-packages/tasks/main.yml', 'roles/overcloud-scale/tasks/main.yml', 'roles/undercloud-setup/tasks/main.yml', 'roles/validate-sanity-checks/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b3f88009b3cb3c2d7e999e7fbbff501939210c70', 'message': ""Use dynamic include for conditional/tagged tasks\n\nAnsible 2.1 tries to predict static/dynamic cases for\ninclude. It sometimes fails to do so for tagged or conditional\ninclude commands. This makes all included tags/tasks to be played,\nbut skipped anyway, even though it was asked to be omitted.\n\nHelp ansible to predict dynamic cases by explicit 'static: no'\ndirectives put for 'when:/tags:' include commands. This speeds up\ndeployment a lot.\n\nChange-Id: I4b649ac4437a2a2e5374bc754a8a3eb7a2bb8d21\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,464005,b3f88009b3cb3c2d7e999e7fbbff501939210c70,53,11,5,6926,,,0,"Use dynamic include for conditional/tagged tasks

Ansible 2.1 tries to predict static/dynamic cases for
include. It sometimes fails to do so for tagged or conditional
include commands. This makes all included tags/tasks to be played,
but skipped anyway, even though it was asked to be omitted.

Help ansible to predict dynamic cases by explicit 'static: no'
directives put for 'when:/tags:' include commands. This speeds up
deployment a lot.

Change-Id: I4b649ac4437a2a2e5374bc754a8a3eb7a2bb8d21
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/05/464005/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-prep-flavors/tasks/main.yml', 'roles/repo-setup/tasks/main.yml', 'roles/overcloud-deploy/tasks/main.yml', 'roles/overcloud-prep-containers/tasks/main.yml', 'roles/overcloud-upgrade/tasks/main.yml', 'roles/collect-logs/tasks/main.yml', 'roles/undercloud-deploy/tasks/post-install.yml', 'roles/baremetal-undercloud/packages/tasks/main.yml', 'playbooks/baremetal-full-deploy.yml', 'roles/undercloud-deploy/tasks/main.yml', 'roles/baremetal-undercloud/README.md', 'roles/baremetal-undercloud/tasks/main.yml', 'roles/overcloud-prep-images/tasks/main.yml', 'roles/install-built-repo/tasks/main.yml', 'roles/validate-tempest/tasks/main.yml', 'roles/overcloud-prep-network/tasks/main.yml', 'roles/gate-quickstart/tasks/main.yml', 'roles/build-test-packages/tasks/main.yml', 'roles/ovb-manage-stack/tasks/main.yml', 'roles/overcloud-scale/tasks/main.yml', 'roles/undercloud-setup/tasks/main.yml', 'roles/validate-sanity-checks/tasks/main.yml']",22,738ac3b7d9ecc92217a388dd90d6b5316f5ea3e6,dynamic_include, static: no,,63,2
openstack%2Fcinder~master~Iead8d2fd5581a70afb481239199fcbb1246aa27e,openstack/cinder,master,Iead8d2fd5581a70afb481239199fcbb1246aa27e,Add VNX replication group support,MERGED,2017-04-24 09:09:12.000000000,2017-08-01 09:59:18.000000000,2017-07-25 03:07:58.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 10628}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23276}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-04-24 09:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/550c2a654154e7c764e7e89d0ec59ee9898427e9', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 2, 'created': '2017-04-27 02:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6a26e02de01f479805b4622e64cf2a60a6e1973', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 3, 'created': '2017-04-28 01:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a13c572239154c4e39bc73a4b3e5adb8c5b75fd', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 4, 'created': '2017-05-24 02:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ca6c98f86d60adc0073cf9cbcfc2eeece3dd7f1', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 5, 'created': '2017-05-27 02:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4674fb9219bbaaadbc18b9451a98819f0dc279ad', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 6, 'created': '2017-06-02 09:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19ea746dafa845cad251f93e9847f30331c82b4d', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 7, 'created': '2017-06-05 03:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1adb5344aca86a251948e85abd9026663338a6e1', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 8, 'created': '2017-06-07 02:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a27c72d9bf89c5e36c447a6d081d5d74ff0e47a', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 9, 'created': '2017-06-08 05:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bd78eb97e3fdfff8d5683cf79efb24e2566b1a9', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 10, 'created': '2017-06-15 03:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9beb06eea52343ab753f4e82eb9a1ab4bee76e99', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 11, 'created': '2017-06-16 01:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77f0ec11f276be1a9c5ba63ddd4aab877518ba6e', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 12, 'created': '2017-06-26 06:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/408377b0e414781b10983040c79d191e71fd64a4', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 13, 'created': '2017-06-28 02:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3feca611f3b04dc703a9eb396ae958095b6b30a1', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 14, 'created': '2017-06-29 06:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e100a78e35fc6f1bce1cce35fe0d44325f834c3', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 15, 'created': '2017-07-03 02:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9f228a024fdd6dc9505dcae322318ca32912425', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 16, 'created': '2017-07-06 01:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0c5b7dc6399ead08ac95c4aa82654837576835e', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 17, 'created': '2017-07-12 01:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/80ecafa1567c617811e8f75d4feeadccb018780c', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 18, 'created': '2017-07-12 02:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef2719d83799d15cfd923a3bfec75f89471e69f5', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 19, 'created': '2017-07-18 09:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd843c6bd10a02fc9c3ff3c4eb649a8b5913e7e9', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 20, 'created': '2017-07-21 03:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ac15ed304e7bb9519d11f1859218b2f720e3662', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 21, 'created': '2017-07-21 08:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2acd250d17ffc701da710866aecf65f5bdda85e3', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 22, 'created': '2017-07-23 04:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/942f49d0b2edd9c8ea160fba6f364cd8bbe75c40', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 23, 'created': '2017-07-24 03:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e4d12321a04b1752be6d1278debf81f370d1938', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}, {'number': 24, 'created': '2017-07-24 07:01:42.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/res_mock.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/fake_exception.py', 'cinder/volume/drivers/dell_emc/vnx/taskflows.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_replication.py', 'releasenotes/notes/vnx-replication-group-2ebf04c80e2171f7.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/common.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/dell_emc/vnx/replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_utils.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_driver.py', 'cinder/volume/drivers/dell_emc/vnx/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c52323babd11432156eaa7cb44ee16c766b70f6a', 'message': 'Add VNX replication group support\n\nThis patch adds consistent replication group capabilities for VNX\ndriver.\n\nSupported operations:\n* Create volume and add to replication group\n* Add volume to existing replication group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact\nImplements: blueprint replication-cg-vnx\n\nChange-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e\n'}]",71,459205,c52323babd11432156eaa7cb44ee16c766b70f6a,697,58,24,10628,,,0,"Add VNX replication group support

This patch adds consistent replication group capabilities for VNX
driver.

Supported operations:
* Create volume and add to replication group
* Add volume to existing replication group
* Enable replication on group
* Disable replication on group
* Fail over replication group back and forth

DocImpact
Implements: blueprint replication-cg-vnx

Change-Id: Iead8d2fd5581a70afb481239199fcbb1246aa27e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/459205/24 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/res_mock.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/fake_exception.py', 'cinder/volume/drivers/dell_emc/vnx/taskflows.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/utils.py', 'releasenotes/notes/vnx-replication-group-2ebf04c80e2171f7.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/common.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/dell_emc/vnx/replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_utils.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_driver.py', 'cinder/volume/drivers/dell_emc/vnx/client.py']",19,550c2a654154e7c764e7e89d0ec59ee9898427e9,bp/replication-cg-vnx,"storops = importutils.try_import('storops') if storops: from storops import exception as storops_ex from storops.lib import tasks as storops_tasks def create_mirror_group(self, group_name): try: mg = self.vnx.create_mirror_group(group_name) except storops_ex.VNXMirrorGroupNameInUseError: mg = self.vnx.get_mirror_group(group_name) return mg def delete_mirror_group(self, group_name): mg = self.vnx.get_mirror_group(group_name) try: mg.delete() except storops_ex.VNXMirrorGroupNotFoundError: LOG.info('Mirror group %s was already deleted.', group_name) def add_mirror(self, group_name, mirror_name): mg = self.vnx.get_mirror_group(group_name) mv = self.vnx.get_mirror_view(mirror_name) try: mg.add_mirror(mv) except storops_ex.VNXMirrorGroupAlreadyMemberError: LOG.info('Mirror %s is alrady a member of %s', mirror_name, group_name) return mg def remove_mirror(self, group_name, mirror_name): mg = self.vnx.get_mirror_group(group_name) mv = self.vnx.get_mirror_view(mirror_name) try: mg.remove_mirror(mv) except storops_ex.VNXMirrorGroupMirrorNotMemberError: LOG.info('Mirror %s was not a member of %s', mirror_name, group_name) def promote_mirror_group(self, group_name): mg = self.vnx.get_mirror_group(group_name) try: mg.promote_group() except storops_ex.VNXMirrorGroupAlreadyPromotedError: LOG.info('Mirror group %s was already promoted.', group_name) return mg def sync_mirror_group(self, group_name): mg = self.vnx.get_mirror_group(group_name) mg.sync_group() def fracture_mirror_group(self, group_name): mg = self.vnx.get_mirror_group(group_name) mg.fracture_group() ",storops = importutils.try_import('storops') if storops: from storops import exception as storops_ex from storops.lib import tasks as storops_tasks ,1044,181
openstack%2Fmasakari~master~I633fe0d96e928bd86d9eca23bc9e0f8300a0f548,openstack/masakari,master,I633fe0d96e928bd86d9eca23bc9e0f8300a0f548,Masakari developer's documentation,ABANDONED,2017-07-25 10:04:05.000000000,2017-08-01 09:57:22.000000000,,"[{'_account_id': 3}, {'_account_id': 8988}, {'_account_id': 9303}, {'_account_id': 25267}]","[{'number': 1, 'created': '2017-07-25 10:04:05.000000000', 'files': ['doc/source/sample_config.rst', 'doc/source/contributing.rst', 'doc/source/operators_guide.rst', 'doc/source/sample_policy.rst', 'doc/source/architecture.rst', 'doc/source/process.rst', 'doc/source/development.environment.rst', 'doc/source/usage.rst', 'doc/source/install_and_configure_rdo.rst', 'doc/source/installation.rst', 'doc/source/install_and_configure_ubuntu.rst', 'doc/source/index.rst', 'doc/source/images/Masakari_spec_process.svg', 'doc/source/masakari_overview.rst', 'doc/source/_static/masakari.policy.json.sample', 'doc/source/install_and_configure.rst', 'doc/source/_static/masakari.conf.sample', 'doc/source/install_and_configure_debian.rst', 'doc/source/readme.rst', 'doc/source/images/architecture.png', 'tox.ini', 'doc/source/how_to_get_involved.rst'], 'web_link': 'https://opendev.org/openstack/masakari/commit/893e1a364860ba1df26456ffceaa6875f86fc064', 'message': ""Masakari developer's documentation\n\nAdded documentation for how to get involved, development qucikstart,\nmasakari system architecture and operators guide.\n\nChange-Id: I633fe0d96e928bd86d9eca23bc9e0f8300a0f548\n""}]",2,486972,893e1a364860ba1df26456ffceaa6875f86fc064,7,4,1,9303,,,0,"Masakari developer's documentation

Added documentation for how to get involved, development qucikstart,
masakari system architecture and operators guide.

Change-Id: I633fe0d96e928bd86d9eca23bc9e0f8300a0f548
",git fetch https://review.opendev.org/openstack/masakari refs/changes/72/486972/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/sample_config.rst', 'doc/source/contributing.rst', 'doc/source/operators_guide.rst', 'doc/source/sample_policy.rst', 'doc/source/architecture.rst', 'doc/source/process.rst', 'doc/source/development.environment.rst', 'doc/source/usage.rst', 'doc/source/install_and_configure_rdo.rst', 'doc/source/installation.rst', 'doc/source/install_and_configure_ubuntu.rst', 'doc/source/index.rst', 'doc/source/images/Masakari_spec_process.svg', 'doc/source/masakari_overview.rst', 'doc/source/_static/masakari.policy.json.sample', 'doc/source/install_and_configure.rst', 'doc/source/_static/masakari.conf.sample', 'doc/source/install_and_configure_debian.rst', 'doc/source/readme.rst', 'doc/source/images/architecture.png', 'tox.ini', 'doc/source/how_to_get_involved.rst']",22,893e1a364860ba1df26456ffceaa6875f86fc064,development/docs,".. Copyright 2016 NTT DATA Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. .. _getting_involved: ======================================== How to get (more) involved with Masakari ======================================== So you want to get more involved with Masakari? Or you are new to Masakari and wondering where to start? We are working on building easy ways for you to get help and ideas on how to learn more about Masakari and how the Masakari community works. How do I get started? ===================== There are quite a few global docs on this: - http://www.openstack.org/assets/welcome-guide/OpenStackWelcomeGuide.pdf - https://wiki.openstack.org/wiki/How_To_Contribute - http://www.openstack.org/community/ There is more general info, non Masakari specific info here: - https://wiki.openstack.org/wiki/Mentors - https://wiki.openstack.org/wiki/OpenStack_Upstream_Training What should I work on? ~~~~~~~~~~~~~~~~~~~~~~ So you are starting out your Masakari journey, where is a good place to start? If you'd like to learn how Masakari works before changing anything (good idea!), we recommend looking for reviews with -1s and -2s and seeing why they got downvoted. Once you have some understanding, start reviewing patches. It's OK to ask people to explain things you don't understand. It's also OK to see some potential problems but put a +0. Once you're ready to write code, take a look at some of the work already marked as low-hanging fruit: * https://bugs.launchpad.net/masakari/+bugs?field.tag=low-hanging-fruit How do I get my feature in? ~~~~~~~~~~~~~~~~~~~~~~~~~~~ The best way of getting your feature in is... well it depends. First concentrate on solving your problem and/or use case, don't fixate on getting the code you have working merged. It's likely things will need significant re-work after you discuss how your needs match up with all the existing ways Masakari is currently being used. The good news, is this process should leave you with a feature that's more flexible and doesn't lock you into your current way of thinking. A key part of getting code merged, is helping with reviewing other people's code. Great reviews of others code will help free up more core reviewer time to look at your own patches. In addition, you will understand how the review is thinking when they review your code. Also, work out if any on going efforts are blocking your feature and helping out speeding those up. The spec review process should help with this effort. For more details on our process, please see: :ref:`process`. What is expected of a good contributor? ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ TODO - need more info on this Top Tips for working with the Maskari community =============================================== Here are some top tips around engaging with the Maskari community: - IRC - we talk a lot in #openstack-maskari - do ask us questions in there, and we will try to help you - not sure about asking questions? feel free to listen in around other people's questions - we recommend you setup an IRC bouncer: https://wiki.openstack.org/wiki/IRC - Email - Use the [masakari] tag in the mailing lists - Filtering on [masakari] and [all] can help tame the list - Be Open - i.e. don't review your teams code in private, do it publicly in gerrit - i.e. be ready to talk about openly about problems you are having, not ""theoretical"" issues - that way you can start to gain the trust of the wider community - Got a problem? Please ask! - Please raise any problems and ask questions early - we want to help you before you are frustrated or annoyed - unsure who to ask? Just ask in IRC. - Talk about problems first, then solutions - Don't think about ""merging your patch"", instead think about ""solving your problem"" - conversations are more productive that way - It's not the decision that's important, it's the reason behind it that's important - Don't like the way the community is going? - Please ask why we were going that way, and please engage with the debate - If you don't, we are unable to learn from what you have to offer - No one will decide, this is stuck, who can help me? - it's rare, but it happens - ...but if you don't ask, it's hard for them to help you Process ======= It can feel like you are faced with a wall of process. We are a big community, to make sure the right communication happens, we do use a minimal amount of process. If you find something that doesn't make sense, please: - ask questions to find out \*why\* it happens - if you know of a better way to do it, please speak up - one ""better way"" might be to remove the process if it no longer helps To learn more about Masakari's process, please read :ref:`process`. Why bother with any process? ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Why is it worth creating a bug or blueprint to track your code review? This may seem like silly process, but there is usually a good reason behind it. We have lots of code to review, and we have tools to try and get to really important code reviews first. If yours is really important, but not picked up by our tools, it's possible you just get lost in the bottom of a big queue. If you have a bug fix, you have done loads of work to identify the issue, and test out your fix, and submit it. By adding a bug report, you are making it easier for other folks who hit the same problem to find your work, possibly saving them the hours of pain you went through. With any luck that gives all those people the time to fix different bugs, all that might have affected you, if you had not given them the time go fix it. It's similar with blueprints. You have worked out how to scratch your itch, lets tell others about that great new feature you have added, so they can use that. Also, it stops someone with a similar idea going through all the pain of creating a feature only to find you already have that feature ready and up for review, or merged into the latest release. Hopefully this gives you an idea why we have applied a small layer of process to what we are doing. Having said all this, we need to unlearn old habits to move forward, there may be better ways to do things, and we are open to trying them. Please help be part of the solution. .. _why_plus1: Why do code reviews if I am not in masakari-core? ================================================= Code reviews are the life blood of the developer community. There is a good discussion on how you do good reviews, and how anyone can be a reviewer: http://docs.openstack.org/infra/manual/developers.html#peer-review In the draft process guide, I discuss how doing reviews can help get your code merged faster: :ref:`process`. Lets look at some of the top reasons why participating with code reviews really helps you: - Doing more reviews, and seeing what other reviewers notice, will help you better understand what is expected of code that gets merged into master - Having more non-core people do great reviews, leaves less review work for the core reviewers to do, so we are able get more code merged - Empathy is one of the keys to a happy community. If you are used to doing code reviews, you will better understand the comments you get when people review your code. As you do more code reviews, and see what others notice, you will get a better idea of what people are looking for when then apply a +2 to your code. What are the most useful types of code review comments? Well here are a few to the top ones: - Fundamental flaws are the biggest thing to spot. Does the patch break a whole set of existing users, or an existing feature? - Consistency of behaviour is really important. Does this bit of code do things differently to where similar things happen else where in Masakari? - Is the code easy to maintain, well tested and easy to read? Code is read order of magnitude times more than it is written, so optimise for the reader of the code, not the writer. Let's look at some problems people hit when starting out doing code reviews: - My +1 doesn't mean anything, why should I bother? - So your +1 really does help. Some really useful -1 votes that lead to a +1 vote helps get code into a position - When to use -1 vs 0 vs +1 - Please see the guidelines here: http://docs.openstack.org/infra/manual/developers.html#peer-review - I have already reviewed this code internally, no point in adding a +1 externally? - Please talk to your company about doing all code reviews in the public, that is a much better way to get involved. showing how the code has evolved upstream, is much better than trying to 'perfect' code internally, before uploading for public review. You can use Draft mode, and mark things as WIP if you prefer, but please do the reviews upstream. - Where do I start? What should I review? - There are various tools, but a good place to start is: https://etherpad.openstack.org/p/masakari-pike-workitems - Depending on the time in the cycle, it's worth looking at NeedsCodeReview blueprints: https://blueprints.launchpad.net/masakari/ - Maybe take a look at things you want to see merged, bug fixes and features, or little code fixes - Look for things that have been waiting a long time for a review: - If you get through the above lists, try other tools, such as: http://status.openstack.org/reviews How to do great code reviews? ============================= http://docs.openstack.org/infra/manual/developers.html#peer-review For more tips, please see: `Why do code reviews if I am not in masakari-core?`_ How do I become masakari-core? ============================== You don't have to be masakari-core to be a valued member of the Masakari community. There are many, many ways you can help. Every quality review that helps someone get their patch closer to being ready to merge helps everyone get their code merged faster. The first step to becoming masakari-core is learning how to be an active member of the Masakari community, including learning how to do great code reviews. If you feel like you have the time to commit to all the masakari-core membership expectations, reach out to the Masakari PTL who will be able to find you an existing member of masakari-core to help mentor you. If all goes well, and you seem like a good candidate, your mentor will contact the rest of the masakari-core team to ask them to start looking at your reviews, so they are able to vote for you, if you get nominated for join masakari-core. We encourage all mentoring, where possible, to occur on #openstack-masakari so everyone can learn and benefit from your discussions. The above mentoring is available to every one who wants to learn how to better code reviews, even if you don't ever want to commit to becoming masakari-core. If you already have a mentor, that's great, the process is only there for folks who are still trying to find a mentor. Being admitted to the mentoring program no way guarantees you will become a member of masakari-core eventually, it's here to help you improve, and help you have the sort of involvement and conversations that can lead to becoming a member of masakari-core. ",,3623,40
openstack%2Fnova~master~I1b6f4438d0557ee5695349742885748dbb52eec7,openstack/nova,master,I1b6f4438d0557ee5695349742885748dbb52eec7,POC: Resize ephemerals,ABANDONED,2016-09-19 19:29:13.000000000,2017-08-01 09:55:47.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-09-19 19:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42d0aa94bd2d6d3064a9e6356400726902e7cdef', 'message': 'POC: Resize ephemerals\n\nChange-Id: I1b6f4438d0557ee5695349742885748dbb52eec7\n'}, {'number': 2, 'created': '2016-09-20 11:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db8ef8ce4740c383f19fbd1a9e36e2faf3f4293b', 'message': ""POC: Resize ephemerals\n\nEphemeral (and swap) bdms are not resized during resize instance\noperation. This confuses virt drivers and does not let most of them\nresize ephemeral and swap space correctly.\n\nTo fix that this patch does:\n- resize ephemeral bdms before manager's finish_resize calls driver's\nfinish_migration on destination host;\n- resize ephemeral bdms back before manager's finish_revert_resize calls\ndriver's finish_revert_migration;\n- store original ephemeral sizes in instance's system_metadata to resize\nbdms back correctly.\n\nTODOes:\n- investigate resize down case: how should this implementation work;\n- check against lvm and ploop image backends;\n- fix a bug with disk.info inconsistency for raw backend and check\nresize against it;\n- implement rbd snapshot operations (in a separate review);\n- investigate behavior of other (not libvirt) drivers.\n\nRelated-Bug: 1558880\nRelated-Bug: 1605720\nChange-Id: I1b6f4438d0557ee5695349742885748dbb52eec7\n""}, {'number': 3, 'created': '2016-09-20 15:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd290b2c9ba9bd11005acab477024486a0f8cc1e', 'message': ""POC: Resize ephemerals\n\nEphemeral (and swap) bdms are not resized during resize instance\noperation. This confuses virt drivers and does not let most of them\nresize ephemeral and swap space correctly.\n\nTo fix that this patch does:\n- resize ephemeral bdms before manager's finish_resize calls driver's\nfinish_migration on destination host;\n- resize ephemeral bdms back before manager's finish_revert_resize calls\ndriver's finish_revert_migration;\n- store original ephemeral sizes in instance's system_metadata to resize\nbdms back correctly.\n\nTODOes:\n- investigate resize down case: how should this implementation work;\n- check against lvm and ploop image backends;\n- fix a bug with disk.info inconsistency for raw backend and check\nresize against it;\n- implement rbd snapshot operations (in a separate review);\n- investigate behavior of other (not libvirt) drivers.\n\nRelated-Bug: 1558880\nRelated-Bug: 1605720\nChange-Id: I1b6f4438d0557ee5695349742885748dbb52eec7\n""}, {'number': 4, 'created': '2016-09-20 18:16:04.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/compute/manager.py', 'nova/virt/libvirt/imagebackend.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/907490e8de58af1d2c70799ef512c03028021605', 'message': ""POC: Resize ephemerals\n\nEphemeral (and swap) bdms are not resized during resize instance\noperation. This confuses virt drivers and does not let most of them\nresize ephemeral and swap space correctly.\n\nTo fix that this patch does:\n- resize ephemeral bdms before manager's finish_resize calls driver's\nfinish_migration on destination host;\n- resize ephemeral bdms back before manager's finish_revert_resize calls\ndriver's finish_revert_migration;\n- store original ephemeral sizes into instance's system_metadata to\nresize bdms back correctly.\n\nCommon resize features:\n- ephemeral/swap bdm is created if old flavor has no such disk;\n- swap bdm is destroyed if new flavor does not need it;\n- if bdms are created/destroyed, all device names are reassigned to\nconsider virt driver related assignation of device names;\n- resizing up and down of swap just works;\n- resizing up of single ephemeral just works;\n- resizing up of multiple ephemerals increases bdm sizes proportionally;\n- if a user specified a custom swap size which was less than old flavor\nallowed, swap bdm is resized if new flavor swap size is less than user\nspecified one;\n- if a user specified custom ephemeral sizes which sum was less than old\nflavor allowed, ephemeral bdms are not resized;\n- resizing down of ephemerals may lead to zero bdm sizes, but this is\nprobably is not a real case, or is not important (see below).\n\nVirt driver related changes:\n- libvirt: a new imagebackend method _get_original_template_name is\nadded, which aim is to get template name of an existing disk, which\ndiffers from specified one from driver's _create_image method in the\ncase of resizing. Really, if we resize an ephemeral disk from 10 GB to\n20 GB, the bdm object is already has 20 GB size, and _create_image\nspecifies template name for 20 GB disk, but existing disk is created\nfrom 10 GB template and must continue to work with it. There is no\nreason to charge driver with such details, so that the new virtual\nmethod of imagebackend is the best choice.\n\nResize ephemerals down details by drivers:\n- libvirt and xenapi prevent such resizing in migrate_disk_and_power_off\nmethod, i.e. they have no chance to call introduced resize ephemerals\nlogic;\n- hyperv prevents resizing down in finish_migration method (except\nresizing to zero, in which case it removes ephemeral disk). This method\nraises an exception, and the instance is goes to error state.\nUnfortunately the same occures with revert of resize up operation when\nephemeral bdm size is decreasing. I.e. it looks like this patch brings a\nproblem there;\n- vmwareapi does not honor ephemeral bdms at all, but works with flavor\nephemeral size directly. Moreover it recreates ephemeral disks on any\nresize operation. So that it probably does need to do something\nadditionally with this patch;\n- ironic does not seem to has resizing supported at all.\nConclusions: if vmwareapi behavior (recreating of ephemerals) is legal,\nfix hyperv only; if not - an early performed common check preventing\nresizing down whould be suitable.\n\nTODOes:\n- get rid of usage of protected _bdm_obj member of DriverBlockDevice\nclass to destroy bdm (but how to do this?);\n- fix handling of resized bdms in hyperv;\n- check against lvm and ploop image backends;\n- fix a bug with disk.info inconsistency for flat backend after resizing\n(disks becomes qcow2 while disk.info still has 'raw' for them);\n- implement rbd snapshot operations for ephemerals (in a separate\nreview).\n\nRelated-Bug: 1558880\nRelated-Bug: 1605720\nChange-Id: I1b6f4438d0557ee5695349742885748dbb52eec7\n""}]",10,372721,907490e8de58af1d2c70799ef512c03028021605,45,16,4,10224,,,0,"POC: Resize ephemerals

Ephemeral (and swap) bdms are not resized during resize instance
operation. This confuses virt drivers and does not let most of them
resize ephemeral and swap space correctly.

To fix that this patch does:
- resize ephemeral bdms before manager's finish_resize calls driver's
finish_migration on destination host;
- resize ephemeral bdms back before manager's finish_revert_resize calls
driver's finish_revert_migration;
- store original ephemeral sizes into instance's system_metadata to
resize bdms back correctly.

Common resize features:
- ephemeral/swap bdm is created if old flavor has no such disk;
- swap bdm is destroyed if new flavor does not need it;
- if bdms are created/destroyed, all device names are reassigned to
consider virt driver related assignation of device names;
- resizing up and down of swap just works;
- resizing up of single ephemeral just works;
- resizing up of multiple ephemerals increases bdm sizes proportionally;
- if a user specified a custom swap size which was less than old flavor
allowed, swap bdm is resized if new flavor swap size is less than user
specified one;
- if a user specified custom ephemeral sizes which sum was less than old
flavor allowed, ephemeral bdms are not resized;
- resizing down of ephemerals may lead to zero bdm sizes, but this is
probably is not a real case, or is not important (see below).

Virt driver related changes:
- libvirt: a new imagebackend method _get_original_template_name is
added, which aim is to get template name of an existing disk, which
differs from specified one from driver's _create_image method in the
case of resizing. Really, if we resize an ephemeral disk from 10 GB to
20 GB, the bdm object is already has 20 GB size, and _create_image
specifies template name for 20 GB disk, but existing disk is created
from 10 GB template and must continue to work with it. There is no
reason to charge driver with such details, so that the new virtual
method of imagebackend is the best choice.

Resize ephemerals down details by drivers:
- libvirt and xenapi prevent such resizing in migrate_disk_and_power_off
method, i.e. they have no chance to call introduced resize ephemerals
logic;
- hyperv prevents resizing down in finish_migration method (except
resizing to zero, in which case it removes ephemeral disk). This method
raises an exception, and the instance is goes to error state.
Unfortunately the same occures with revert of resize up operation when
ephemeral bdm size is decreasing. I.e. it looks like this patch brings a
problem there;
- vmwareapi does not honor ephemeral bdms at all, but works with flavor
ephemeral size directly. Moreover it recreates ephemeral disks on any
resize operation. So that it probably does need to do something
additionally with this patch;
- ironic does not seem to has resizing supported at all.
Conclusions: if vmwareapi behavior (recreating of ephemerals) is legal,
fix hyperv only; if not - an early performed common check preventing
resizing down whould be suitable.

TODOes:
- get rid of usage of protected _bdm_obj member of DriverBlockDevice
class to destroy bdm (but how to do this?);
- fix handling of resized bdms in hyperv;
- check against lvm and ploop image backends;
- fix a bug with disk.info inconsistency for flat backend after resizing
(disks becomes qcow2 while disk.info still has 'raw' for them);
- implement rbd snapshot operations for ephemerals (in a separate
review).

Related-Bug: 1558880
Related-Bug: 1605720
Change-Id: I1b6f4438d0557ee5695349742885748dbb52eec7
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/372721/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/compute/manager.py', 'nova/virt/libvirt/imagebackend.py', 'nova/virt/block_device.py']",4,42d0aa94bd2d6d3064a9e6356400726902e7cdef,resize-ephemerals, _proxy_as_attr = set(['volume_size']) ,,169,5
openstack%2Fnova~master~I7b84f6178bb3c981cd17ed8fef072ca251040561,openstack/nova,master,I7b84f6178bb3c981cd17ed8fef072ca251040561,This patch allowed admnistrator to specify snapshot image owner when taking snapshot,ABANDONED,2016-09-24 01:23:24.000000000,2017-08-01 09:55:46.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 17920}]","[{'number': 1, 'created': '2016-09-24 01:23:24.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/image/fake.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/image/glance.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/image/api.py', 'nova/api/validation/parameter_types.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8d6cbef8feb2957c689835fb8d5d7aab18065482', 'message': 'This patch allowed admnistrator to specify snapshot image owner when\ntaking snapshot\n\nChange-Id: I7b84f6178bb3c981cd17ed8fef072ca251040561\n'}]",0,375782,8d6cbef8feb2957c689835fb8d5d7aab18065482,14,12,1,19760,,,0,"This patch allowed admnistrator to specify snapshot image owner when
taking snapshot

Change-Id: I7b84f6178bb3c981cd17ed8fef072ca251040561
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/375782/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/image/fake.py', 'nova/api/openstack/compute/schemas/servers.py', 'nova/image/glance.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/image/api.py', 'nova/api/validation/parameter_types.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",10,8d6cbef8feb2957c689835fb8d5d7aab18065482,snapshot-image-owner," owner=entity.get('owner', None) metadata, owner=owner) extra_properties=metadata, owner=owner)", metadata) extra_properties=metadata),30,16
openstack%2Fnova~master~Id51c2a28a7219bd71024830b980c384e906a7fc8,openstack/nova,master,Id51c2a28a7219bd71024830b980c384e906a7fc8,WIP: Abort cold migration,ABANDONED,2016-11-04 02:33:37.000000000,2017-08-01 09:55:45.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-11-04 02:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9110c998d63936f51db6f910ba4f9b812cba8a2b', 'message': 'WIP: Abort cold migration\n\nThis implementation is for libvirt.\n\nChange-Id: Id51c2a28a7219bd71024830b980c384e906a7fc8\nImplements: blueprint abort-cold-migration\n'}, {'number': 2, 'created': '2016-11-04 04:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36298ce99eaa743bdf98cb1adcc620da992e1657', 'message': 'WIP: Abort cold migration\n\nThis implementation is for libvirt.\n\nChange-Id: Id51c2a28a7219bd71024830b980c384e906a7fc8\nImplements: blueprint abort-cold-migration\n'}, {'number': 3, 'created': '2016-11-04 14:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/743e7d023689ef45607a1e55bb62da0427659441', 'message': 'WIP: Abort cold migration\n\nThis implementation is for libvirt.\n\nChange-Id: Id51c2a28a7219bd71024830b980c384e906a7fc8\nImplements: blueprint abort-cold-migration\n'}, {'number': 4, 'created': '2016-11-05 01:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2985bf4c4ff775488cb0b970cf51d9626d6b7c06', 'message': 'WIP: Abort cold migration\n\nThis implementation is for libvirt.\n\nChange-Id: Id51c2a28a7219bd71024830b980c384e906a7fc8\nImplements: blueprint abort-cold-migration\n'}, {'number': 5, 'created': '2016-11-14 13:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24a861b1d3fdf3d0a827c4da6897c1969a12353e', 'message': 'WIP: Abort cold migration\n\nThis implementation is for libvirt.\n\nChange-Id: Id51c2a28a7219bd71024830b980c384e906a7fc8\nImplements: blueprint abort-cold-migration\n'}, {'number': 6, 'created': '2016-11-14 14:32:44.000000000', 'files': ['nova/objects/service.py', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/api/openstack/compute/server_migrations.py', 'nova/virt/driver.py', 'nova/compute/instance_actions.py', 'nova/virt/libvirt/driver.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/api/openstack/rest_api_version_history.rst', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'doc/notification_samples/service-update.json', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4e28d5c0dd5a96634c6139b648623101fb48668c', 'message': 'WIP: Abort cold migration\n\nThis implementation is for libvirt.\n\nChange-Id: Id51c2a28a7219bd71024830b980c384e906a7fc8\nImplements: blueprint abort-cold-migration\n'}]",0,393560,4e28d5c0dd5a96634c6139b648623101fb48668c,66,13,6,7634,,,0,"WIP: Abort cold migration

This implementation is for libvirt.

Change-Id: Id51c2a28a7219bd71024830b980c384e906a7fc8
Implements: blueprint abort-cold-migration
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/393560/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/objects/service.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/api/openstack/compute/server_migrations.py', 'nova/virt/driver.py', 'nova/api/openstack/rest_api_version_history.rst', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/compute/instance_actions.py', 'nova/compute/api.py']",11,9110c998d63936f51db6f910ba4f9b812cba8a2b,bp/abort-cold-migration," @check_instance_lock @check_instance_cell @check_instance_state(task_state=[task_states.RESIZE_MIGRATING]) def migrate_abort(self, context, instance, migration_id): """"""Abort an in-progress live or migration. :param context: Security context :param instance: The instance that is being migrated :param migration_id: ID of in-progress live or cold migration """""" migration = objects.Migration.get_by_id_and_instance(context, migration_id, instance.uuid) if migration.migration_type == 'migration': LOG.debug(""Going to cancel cold migration %s"", migration.id, instance=instance) elif migration.migration_type == 'live-migration': LOG.debug(""Going to cancel live migration %s"", migration.id, instance=instance) if ((migration.migration_type == 'migration' and migration.status != 'migrating') or (migration.migration_type != 'migration' and migration.status != 'running')): raise exception.InvalidMigrationState(migration_id=migration_id, instance_uuid=instance.uuid, state=migration.status, method='abort migration') self._record_action_start(context, instance, instance_actions.MIGRATION_CANCEL) if migration.migration_type == 'migration': self.compute_rpcapi.migration_abort( context, instance, migration.id) elif migration.migration_type == 'live-migration': self.compute_rpcapi.live_migration_abort( context, instance, migration.id) ",,150,10
openstack%2Fnova~master~Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a,openstack/nova,master,Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a,hyperv: autospec all the used os-win utils,ABANDONED,2016-07-07 20:48:43.000000000,2017-08-01 09:55:43.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 9008}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-07-07 20:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70ada6f3f427971a9ba4eadd11926c894908c6d4', 'message': 'hyperv: Autospec all the used os-win utils\n\nAutospecing will ensure that all the utils imported and\nused from os-win are used properly. This means that all\nthe called methods exist and are called with the proper\narguments.\n\n[1] http://www.voidspace.org.uk/python/mock/helpers.html#create-autospec\n\nChange-Id: Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a\n'}, {'number': 2, 'created': '2016-07-07 21:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3aed27ea53c33a9f77790903845a025aa75ef73f', 'message': 'hyperv: Autospec all the used os-win utils\n\nAutospecing will ensure that all the utils imported and\nused from os-win are used properly. This means that all\nthe called methods exist and are called with the proper\narguments.\n\n[1] http://www.voidspace.org.uk/python/mock/helpers.html#create-autospec\n\nChange-Id: Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a\n'}, {'number': 3, 'created': '2016-07-11 17:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e348b83a79e0c1b26a6407154085509b1f024e8', 'message': 'hyperv: spec all the used os-win utils\n\nSpecing will ensure that all the accessed properties and\nmethods from os-win utils actually exist.\n\nChange-Id: Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a\n'}, {'number': 4, 'created': '2016-07-13 19:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6e8df66d340c3224dcb1841154eea2ddba44fb0', 'message': 'hyperv: autospec all the used os-win utils\n\nAutospecing will ensure that all the accessed properties and\nmethods from os-win utils actually exist. Furthermore, the\nmethods called will also have their signatures validated.\n\nNormal autospecing takes a lot of time to do, increasing the\nexecution time of unit tests drastically. In order to address this,\na new class called LazyMock is created, which autospecs public\nmethods from the original spec object only when accessed.\n\nChange-Id: Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a\n'}, {'number': 5, 'created': '2016-07-13 19:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b30004c81273fdcb1c3cdf98ce2d9a71787bcd39', 'message': 'hyperv: autospec all the used os-win utils\n\nAutospecing will ensure that all the accessed properties and\nmethods from os-win utils actually exist. Furthermore, the\nmethods called will also have their signatures validated.\n\nNormal autospecing takes a lot of time to do, increasing the\nexecution time of unit tests drastically. In order to address this,\na new class called LazyMock is created, which autospecs public\nmethods from the original spec object only when accessed.\n\nChange-Id: Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a\n'}, {'number': 6, 'created': '2016-07-13 20:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fe39cc9f1e8e6b9a46a6a4c83ca2386d0237258', 'message': 'hyperv: autospec all the used os-win utils\n\nAutospecing will ensure that all the accessed properties and\nmethods from os-win utils actually exist. Furthermore, the\nmethods called will also have their signatures validated.\n\nNormal autospecing takes a lot of time to do, increasing the\nexecution time of unit tests drastically. In order to address this,\na new class called LazyMock is created, which autospecs public\nmethods from the original spec object only when accessed.\n\nFixes test_start_console_handlers unit test.\n\nChange-Id: Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a\n'}, {'number': 7, 'created': '2016-07-13 22:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4aab73d2027c08589b9f1b34714c034225763acb', 'message': 'hyperv: autospec all the used os-win utils\n\nAutospecing will ensure that all the accessed properties and\nmethods from os-win utils actually exist. Furthermore, the\nmethods called will also have their signatures validated.\n\nNormal autospecing takes a lot of time to do, increasing the\nexecution time of unit tests drastically. In order to address this,\na new class called LazyMock is created, which autospecs public\nmethods from the original spec object only when accessed.\n\nFixes test_start_console_handlers unit test.\n\nChange-Id: Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a\n'}, {'number': 8, 'created': '2016-07-14 14:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2ec25c3e9ec9aac36eb206f9510d2f31fb4215e', 'message': 'hyperv: autospec all the used os-win utils\n\nAutospecing will ensure that all the accessed properties and\nmethods from os-win utils actually exist. Furthermore, the\nmethods called will also have their signatures validated.\n\nNormal autospecing takes a lot of time to do, increasing the\nexecution time of unit tests drastically. In order to address this,\na new class called LazyMock is created, which autospecs public\nmethods from the original spec object only when accessed.\n\nFixes test_start_console_handlers unit test.\n\nChange-Id: Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a\n'}, {'number': 9, 'created': '2016-07-14 16:55:48.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_hostops.py', 'nova/tests/unit/virt/hyperv/test_imagecache.py', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/virt/hyperv/test_serialconsolehandler.py', 'nova/tests/unit/virt/hyperv/test_livemigrationops.py', 'nova/tests/unit/virt/hyperv/test_snapshotops.py', 'nova/tests/unit/virt/hyperv/test_base.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'nova/tests/unit/virt/hyperv/test_migrationops.py', 'nova/tests/unit/virt/hyperv/test_rdpconsoleops.py', 'nova/tests/unit/virt/hyperv/test_serialconsoleops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/361fbbabe87bc64bd03d642dbf0bad4154c4e52d', 'message': 'hyperv: autospec all the used os-win utils\n\nAutospecing will ensure that all the accessed properties and\nmethods from os-win utils actually exist. Furthermore, the\nmethods called will also have their signatures validated.\n\nNormal autospecing takes a lot of time to do, increasing the\nexecution time of unit tests drastically. In order to address this,\na new class called LazyMock is created, which autospecs public\nmethods from the original spec object only when accessed.\n\nFixes test_start_console_handlers unit test.\n\nChange-Id: Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a\n'}]",9,339232,361fbbabe87bc64bd03d642dbf0bad4154c4e52d,51,11,9,8213,,,0,"hyperv: autospec all the used os-win utils

Autospecing will ensure that all the accessed properties and
methods from os-win utils actually exist. Furthermore, the
methods called will also have their signatures validated.

Normal autospecing takes a lot of time to do, increasing the
execution time of unit tests drastically. In order to address this,
a new class called LazyMock is created, which autospecs public
methods from the original spec object only when accessed.

Fixes test_start_console_handlers unit test.

Change-Id: Ibe06654b6e2813ca7e72a329d50b2ec8684eb72a
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/339232/9 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/hyperv/test_base.py'],1,70ada6f3f427971a9ba4eadd11926c894908c6d4,spec-objects,"from oslo_utils import importutils _AUTO_SPEC_CLASSES = {} utilsfactory_patcher = mock.patch.object( utilsfactory, '_get_class', HyperVBaseTestCase._mock_get_class) @staticmethod def _mock_get_class(class_type): if class_type in HyperVBaseTestCase._AUTO_SPEC_CLASSES: # NOTE(claudiub): autospecing takes a lot of time. We can simply # cache them. return HyperVBaseTestCase._AUTO_SPEC_CLASSES[class_type] existing_classes = utilsfactory.utils_map[class_type] class_info = existing_classes.values()[0] imported_class = importutils.import_class(class_info['path']) mock_class = mock.create_autospec(imported_class) HyperVBaseTestCase._AUTO_SPEC_CLASSES[class_type] = mock_class return mock_class"," platform_patcher = mock.patch('sys.platform', 'win32') utilsfactory_patcher = mock.patch.object(utilsfactory, '_get_class') platform_patcher.start() self.addCleanup(platform_patcher.stop)",20,4
openstack%2Fnova~master~I310077a4197579415f54b5bff983d47a40d5ab7b,openstack/nova,master,I310077a4197579415f54b5bff983d47a40d5ab7b,Use utils ANY constant,ABANDONED,2016-10-18 10:16:18.000000000,2017-08-01 09:55:42.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 17973}, {'_account_id': 21683}]","[{'number': 1, 'created': '2016-10-18 10:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62fcca1551a5a1ec765d38421bcf260526222b9f', 'message': 'Use utils ANY constant\n\nThe ANY wildcard constant is defined in the pci.utils module\nand in pci.devspec.\n\nChange-Id: I310077a4197579415f54b5bff983d47a40d5ab7b\n'}, {'number': 2, 'created': '2016-11-07 13:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18a28f8678978bebdee233d8843e3485f14ceb32', 'message': 'Use utils ANY constant\n\nThe ANY wildcard constant is defined in the pci.utils module\nand in pci.devspec.\n\nChange-Id: I310077a4197579415f54b5bff983d47a40d5ab7b\n'}, {'number': 3, 'created': '2016-11-07 13:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e472a2409550fe75614d835bd6c733c06d80c4c9', 'message': 'Use utils ANY constant\n\nThe ANY wildcard constant is defined in the pci.utils module\nand in pci.devspec.\n\nChange-Id: I310077a4197579415f54b5bff983d47a40d5ab7b\n'}, {'number': 4, 'created': '2016-11-08 08:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/129f4732dfca91a6bcda468e7a344ba60ea8614b', 'message': 'Use utils ANY constant\n\nThe ANY wildcard constant is defined in the pci.utils module\nand in pci.devspec.\n\nChange-Id: I310077a4197579415f54b5bff983d47a40d5ab7b\n'}, {'number': 5, 'created': '2016-11-08 15:54:42.000000000', 'files': ['nova/pci/devspec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0fb35033bddf421747b4060845186e6d497b410b', 'message': 'Use utils ANY constant\n\nThe ANY wildcard constant is defined in the pci.utils module\nand in pci.devspec.\n\nChange-Id: I310077a4197579415f54b5bff983d47a40d5ab7b\n'}]",0,387908,0fb35033bddf421747b4060845186e6d497b410b,79,19,5,21683,,,0,"Use utils ANY constant

The ANY wildcard constant is defined in the pci.utils module
and in pci.devspec.

Change-Id: I310077a4197579415f54b5bff983d47a40d5ab7b
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/387908/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/pci/devspec.py'],1,62fcca1551a5a1ec765d38421bcf260526222b9f,bp/user-controlled-sriov-ports-allocation," if a == utils.ANY: self.domain = utils.ANY self.bus = utils.ANY self.slot = utils.ANY self.func = utils.ANY if utils.ANY in (self.domain, self.bus, self.slot, self.func): if fstr != utils.ANY: dbs_all = [utils.ANY for x in range(3 - len(dbs_fields))] dbs_checked = [s.strip() or utils.ANY for s in dbs_all] self.domain in (utils.ANY, domain), self.bus in (utils.ANY, bus), self.slot in (utils.ANY, slot), self.func in (utils.ANY, func) self.vendor_id = self.tags.pop(""vendor_id"", utils.ANY) self.product_id = self.tags.pop(""product_id"", utils.ANY) self.vendor_id in (utils.ANY, dev_dict['vendor_id']), self.product_id in (utils.ANY, dev_dict['product_id']),","ANY = '*' if a == ANY: self.domain = ANY self.bus = ANY self.slot = ANY self.func = ANY if ANY in (self.domain, self.bus, self.slot, self.func): if fstr != ANY: dbs_all = [ANY for x in range(3 - len(dbs_fields))] dbs_checked = [s.strip() or ANY for s in dbs_all] self.domain in (ANY, domain), self.bus in (ANY, bus), self.slot in (ANY, slot), self.func in (ANY, func) self.vendor_id = self.tags.pop(""vendor_id"", ANY) self.product_id = self.tags.pop(""product_id"", ANY) self.vendor_id in (ANY, dev_dict['vendor_id']), self.product_id in (ANY, dev_dict['product_id']),",17,18
openstack%2Fnova~master~Icf7e37fdddbbb5cd58a1be251a7c98dac03f27c5,openstack/nova,master,Icf7e37fdddbbb5cd58a1be251a7c98dac03f27c5,there are some data left over after resize,ABANDONED,2016-11-25 08:56:15.000000000,2017-08-01 09:55:41.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-11-25 08:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c620de9418779d043697a9831239373556220182', 'message': 'there are some data left over after resize\n\nWhen we resize an instance, at confirm migration stage. It will\ncleanup the left data. But when remove the RESIZE_SNAPSHOT.It will\ncreate a directory for migrated instance expect the images type is\nrbd.\n\nChange-Id: Icf7e37fdddbbb5cd58a1be251a7c98dac03f27c5\nCloses-Bug: #1644744\n'}, {'number': 2, 'created': '2016-11-28 01:26:38.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3cc7447bd7eb92cb442291a970ead9960402c197', 'message': 'there are some data left over after resize\n\nWhen we resize an instance, at confirm migration stage. It will\ncleanup the left data. But when remove the RESIZE_SNAPSHOT.It will\ncreate a directory for migrated instance expect the images type is\nrbd.\n\nChange-Id: Icf7e37fdddbbb5cd58a1be251a7c98dac03f27c5\nCloses-Bug: #1644744\n'}]",0,402361,3cc7447bd7eb92cb442291a970ead9960402c197,22,11,2,19858,,,0,"there are some data left over after resize

When we resize an instance, at confirm migration stage. It will
cleanup the left data. But when remove the RESIZE_SNAPSHOT.It will
create a directory for migrated instance expect the images type is
rbd.

Change-Id: Icf7e37fdddbbb5cd58a1be251a7c98dac03f27c5
Closes-Bug: #1644744
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/402361/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,c620de9418779d043697a9831239373556220182,bug/1644744," if CONF.libvirt.images_type == 'rbd': root_disk = self.image_backend.image(instance, 'disk') # TODO(nic): Set ignore_errors=False in a future release. # It is set to True here to avoid any upgrade issues surrounding # instances being in pending resize state when the software is updated; # in that case there will be no snapshot to remove. Once it can be # reasonably assumed that no such instances exist in the wild # anymore, it should be set back to False (the default) so it will # throw errors, like it should. if root_disk.exists(): root_disk.remove_snap(libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True)"," root_disk = self.image_backend.image(instance, 'disk') # TODO(nic): Set ignore_errors=False in a future release. # It is set to True here to avoid any upgrade issues surrounding # instances being in pending resize state when the software is updated; # in that case there will be no snapshot to remove. Once it can be # reasonably assumed that no such instances exist in the wild # anymore, it should be set back to False (the default) so it will # throw errors, like it should. if root_disk.exists(): root_disk.remove_snap(libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True)",12,11
openstack%2Fpython-novaclient~master~I3a661111f485585f770df194023cceb754020588,openstack/python-novaclient,master,I3a661111f485585f770df194023cceb754020588,Fix parameter named error,ABANDONED,2016-10-17 05:35:16.000000000,2017-08-01 09:55:39.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 7634}]","[{'number': 1, 'created': '2016-10-17 05:35:16.000000000', 'files': ['novaclient/v2/volumes.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/af49512f25d563384572a830f0f3b2f1c852a993', 'message': 'Fix parameter named error\n\nWhen we get the volume identified for a server.\nWe should pass the volume id instead attachment\nid, nova api use the server id and volume id to\nget the bdms.\n\nChange-Id: I3a661111f485585f770df194023cceb754020588\n'}]",1,387165,af49512f25d563384572a830f0f3b2f1c852a993,5,4,1,19858,,,0,"Fix parameter named error

When we get the volume identified for a server.
We should pass the volume id instead attachment
id, nova api use the server id and volume id to
get the bdms.

Change-Id: I3a661111f485585f770df194023cceb754020588
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/65/387165/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/v2/volumes.py'],1,af49512f25d563384572a830f0f3b2f1c852a993,fix_params_named," def get_server_volume(self, server_id, volume_id): Get the volume identified by the volume ID, that is attached to :param volume_id: The ID of the volume volume,), ""volumeAttachment"")"," def get_server_volume(self, server_id, attachment_id): Get the volume identified by the attachment ID, that is attached to :param attachment_id: The ID of the attachment attachment_id,), ""volumeAttachment"")",4,4
openstack%2Fnova~master~I8ec07f1ce3e14b8e278b467a64e6e99540489903,openstack/nova,master,I8ec07f1ce3e14b8e278b467a64e6e99540489903,Initiate all network changes from source during live migration,ABANDONED,2016-09-13 12:38:58.000000000,2017-08-01 09:55:39.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1131}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 18339}, {'_account_id': 19590}]","[{'number': 1, 'created': '2016-09-13 12:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58d2d1530f07db350060e2d2dce4cde2f33473e5', 'message': ""Initiate all network changes from the source during migration\n\nThis is preparatory to initiating network switch-over immediately\nafter the switch to post-copy.\n\nNetwork configuration calls are currently split between the source and\ndestination computes during live migration. However, because they are\nall RPC calls, there is no reason they can't all be called from the\nsource. As the source compute has the primary control flow for live\nmigration, keeping all the calls on the source makes them easier to\nupdate without having to consider RPC changes.\n\nTODO: Tests. Probably other stuff.\n\nRelated-bug: #1605016\nChange-Id: I8ec07f1ce3e14b8e278b467a64e6e99540489903\n""}, {'number': 2, 'created': '2016-09-13 13:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6f60d6d6150bb878652322678cf3162c0b5c9da', 'message': ""Initiate all network changes from the source during migration\n\nThis is preparatory to initiating network switch-over immediately\nafter the switch to post-copy.\n\nNetwork configuration calls are currently split between the source and\ndestination computes during live migration. However, because they are\nall RPC calls, there is no reason they can't all be called from the\nsource. As the source compute has the primary control flow for live\nmigration, keeping all the calls on the source makes them easier to\nupdate without having to consider RPC changes.\n\nWith this change, we want to make network configuration changes on the\nsource. However, the source cannot assume that the destination will\nnot also do this configuration, because the destination may not have\nbeen upgraded. Similarly, the destination cannot assume that the\nsource has already done this, because the source may not have been\nupgraded. Consequently, we need a negotiation.\n\nWe add a sentinel to the return of pre_live_migration which indicates\nif the destination supports version 4.14. We don't actually make any\nchange to the rpc for pre_live_migration, and other than the version\nchange there are no changes on the wire. If pre_live_migration\nsupports version 4.14, we know that post_live_migration_at_destination\nand rollback_live_migration_at_destination also support version 4.14,\nwhich means we are able to tell them we already did network\nconfiguration. This is what allows us to safely make the network\nchanges on the source before calling out to the destination.\n\nTODO: Tests. Probably other stuff.\n\nRelated-bug: #1605016\nChange-Id: I8ec07f1ce3e14b8e278b467a64e6e99540489903\n""}, {'number': 3, 'created': '2016-09-14 12:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47be6c085d33d62e3e86bb4b10fc582e677ba1c8', 'message': ""Initiate all network changes from source during live migration\n\nThis is preparatory to initiating network switch-over immediately\nafter the switch to post-copy.\n\nNetwork configuration calls are currently split between the source and\ndestination computes during live migration. However, because they are\nall RPC calls, there is no reason they can't all be called from the\nsource. As the source compute has the primary control flow for live\nmigration, keeping all the calls on the source makes them easier to\nupdate without having to consider RPC changes.\n\nWith this change, we want to make network configuration changes on the\nsource. However, the source cannot assume that the destination will\nnot also do this configuration, because the destination may not have\nbeen upgraded. Similarly, the destination cannot assume that the\nsource has already done this, because the source may not have been\nupgraded. Consequently, we need a negotiation.\n\nWe add a sentinel to the return of pre_live_migration which indicates\nif the destination supports version 4.14. We don't actually make any\nchange to the rpc for pre_live_migration, and other than the version\nchange there are no changes on the wire. If pre_live_migration\nsupports version 4.14, we know that post_live_migration_at_destination\nand rollback_live_migration_at_destination also support version 4.14,\nwhich means we are able to tell them we already did network\nconfiguration. This is what allows us to safely make the network\nchanges on the source before calling out to the destination.\n\nTODO: Tests. Probably other stuff.\n\nRelated-bug: #1605016\nChange-Id: I8ec07f1ce3e14b8e278b467a64e6e99540489903\n""}, {'number': 4, 'created': '2016-11-28 21:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13eec8f49f48a8b1aa89923f4b9d0d82152dc57a', 'message': ""Initiate all network changes from source during live migration\n\nThis is preparatory to initiating network switch-over immediately\nafter the switch to post-copy.\n\nNetwork configuration calls are currently split between the source and\ndestination computes during live migration. However, because they are\nall RPC calls, there is no reason they can't all be called from the\nsource. As the source compute has the primary control flow for live\nmigration, keeping all the calls on the source makes them easier to\nupdate without having to consider RPC changes.\n\nWith this change, we want to make network configuration changes on the\nsource. However, the source cannot assume that the destination will\nnot also do this configuration, because the destination may not have\nbeen upgraded. Similarly, the destination cannot assume that the\nsource has already done this, because the source may not have been\nupgraded. Consequently, we need a negotiation.\n\nWe add a sentinel to the return of pre_live_migration which indicates\nif the destination supports version 4.14. We don't actually make any\nchange to the rpc for pre_live_migration, and other than the version\nchange there are no changes on the wire. If pre_live_migration\nsupports version 4.14, we know that post_live_migration_at_destination\nand rollback_live_migration_at_destination also support version 4.14,\nwhich means we are able to tell them we already did network\nconfiguration. This is what allows us to safely make the network\nchanges on the source before calling out to the destination.\n\nTODO: Tests. Probably other stuff.\n\nRelated-bug: #1605016\nChange-Id: I8ec07f1ce3e14b8e278b467a64e6e99540489903\n""}, {'number': 5, 'created': '2016-11-29 06:59:50.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/77cc6131f268d704784711914c9239f4d8b887ab', 'message': ""Initiate all network changes from source during live migration\n\nThis is preparatory to initiating network switch-over immediately\nafter the switch to post-copy.\n\nNetwork configuration calls are currently split between the source and\ndestination computes during live migration. However, because they are\nall RPC calls, there is no reason they can't all be called from the\nsource. As the source compute has the primary control flow for live\nmigration, keeping all the calls on the source makes them easier to\nupdate without having to consider RPC changes.\n\nWith this change, we want to make network configuration changes on the\nsource. However, the source cannot assume that the destination will\nnot also do this configuration, because the destination may not have\nbeen upgraded. Similarly, the destination cannot assume that the\nsource has already done this, because the source may not have been\nupgraded. Consequently, we need a negotiation.\n\nWe add a sentinel to the return of pre_live_migration which indicates\nif the destination supports version 4.14. We don't actually make any\nchange to the rpc for pre_live_migration, and other than the version\nchange there are no changes on the wire. If pre_live_migration\nsupports version 4.14, we know that post_live_migration_at_destination\nand rollback_live_migration_at_destination also support version 4.14,\nwhich means we are able to tell them we already did network\nconfiguration. This is what allows us to safely make the network\nchanges on the source before calling out to the destination.\n\nTODO: Tests. Probably other stuff.\n\nRelated-bug: #1605016\nChange-Id: I8ec07f1ce3e14b8e278b467a64e6e99540489903\n""}]",2,369423,77cc6131f268d704784711914c9239f4d8b887ab,60,17,5,9555,,,0,"Initiate all network changes from source during live migration

This is preparatory to initiating network switch-over immediately
after the switch to post-copy.

Network configuration calls are currently split between the source and
destination computes during live migration. However, because they are
all RPC calls, there is no reason they can't all be called from the
source. As the source compute has the primary control flow for live
migration, keeping all the calls on the source makes them easier to
update without having to consider RPC changes.

With this change, we want to make network configuration changes on the
source. However, the source cannot assume that the destination will
not also do this configuration, because the destination may not have
been upgraded. Similarly, the destination cannot assume that the
source has already done this, because the source may not have been
upgraded. Consequently, we need a negotiation.

We add a sentinel to the return of pre_live_migration which indicates
if the destination supports version 4.14. We don't actually make any
change to the rpc for pre_live_migration, and other than the version
change there are no changes on the wire. If pre_live_migration
supports version 4.14, we know that post_live_migration_at_destination
and rollback_live_migration_at_destination also support version 4.14,
which means we are able to tell them we already did network
configuration. This is what allows us to safely make the network
changes on the source before calling out to the destination.

TODO: Tests. Probably other stuff.

Related-bug: #1605016
Change-Id: I8ec07f1ce3e14b8e278b467a64e6e99540489903
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/369423/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py']",5,58d2d1530f07db350060e2d2dce4cde2f33473e5,bug/1605016," * 4.14 - Migration apis indicate support for network config on source client = self.router.by_host(ctxt, host) version = '4.14' kwargs = {'network_on_source': True} if not client.can_send_version(version): version = '4.0' kwargs.pop('network_on_source') cctxt = client.prepare(server=host, version=version) instance=instance, block_migration=block_migration, **kwargs) version = '4.14' network_on_source = True if not client.can_send_version(version): version = '4.8' network_on_source = False return (result, network_on_source) return (migrate_data_orig, network_on_source) else: return (result, network_on_source) version = '4.14' kwargs = {'network_on_source': True, 'destroy_disks': destroy_disks} if not client.can_send_version(version): version = '4.8' kwargs.pop('network_on_source') kwargs['migrate_data'] = migrate_data instance=instance, **kwargs)"," version = '4.0' cctxt = self.router.by_host(ctxt, host).prepare( server=host, version=version) instance=instance, block_migration=block_migration) version = '4.8' return result return migrate_data_orig else: return result version = '4.8' extra = {'destroy_disks': destroy_disks, 'migrate_data': migrate_data, } instance=instance, **extra)",132,53
openstack%2Fnova~master~I6b6a0ebb388912fc20a64dc63171784c9d932270,openstack/nova,master,I6b6a0ebb388912fc20a64dc63171784c9d932270,Add test fixture for cell0,ABANDONED,2016-04-05 18:37:08.000000000,2017-08-01 09:55:37.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 18247}, {'_account_id': 21784}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-04-05 18:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6de7d09159dfb60131c6e05f749e959db02b88c9', 'message': 'Add test fixture for cell0.\n\nAdd a cell0 test fixture that creates a cell0 datbase and\nadds a cell0 mapping to the API database.\n\nblueprint cells-cell0\n\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 2, 'created': '2016-05-04 21:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4182bdece717ae7e4a8142ac037260206bddd5b9', 'message': 'Add test fixture for cell0.\n\nAdd a cell0 test fixture that creates a cell0 datbase and\nadds a cell0 mapping to the API database.\n\nblueprint cells-cell0\n\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 3, 'created': '2016-05-12 14:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19f2369852356a6dffa0593de08e4b487d14c5ea', 'message': 'Add test fixture for cell0.\n\nAdd a cell0 test fixture that creates a cell0 datbase and\nadds a cell0 mapping to the API database.\n\nblueprint cells-cell0\n\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 4, 'created': '2016-05-18 17:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1297357e308a21670fba7a67a577b343ada4e11a', 'message': 'Add test fixture for cell0.\n\nAdd a cell0 test fixture that creates a cell0 datbase and\nadds a cell0 mapping to the API database.\n\nblueprint cells-cell0\n\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 5, 'created': '2016-05-18 18:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cabd7375182f2c7c4899906487fa8531ae6dde6b', 'message': 'Add test fixture for cell0.\n\nAdd a cell0 test fixture that creates a cell0 datbase and\nadds a cell0 mapping to the API database.\n\nblueprint cells-cell0\n\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 6, 'created': '2016-06-13 15:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11b1d93ba9e295472749d721c9a763f815071331', 'message': 'Add test fixture for cell0.\n\nAdd a cell0 test fixture that creates a cell0 datbase and\nadds a cell0 mapping to the API database.\n\nblueprint cells-cell0\n\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 7, 'created': '2016-07-19 18:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/232bbd625db04a983d8de70ef176ce0227da5dac', 'message': 'Add test fixture for cell0.\n\nAdd a cell0 test fixture that creates a cell0 datbase and\nadds a cell0 mapping to the API database.\n\nblueprint cells-cell0\n\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 8, 'created': '2016-08-22 15:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/424e3145f1c3c0cc1533da69999a13e61ca93b08', 'message': 'Add test fixture for cell0.\n\nAdd a cell0 test fixture that creates a cell0 datbase and\nadds a cell0 mapping to the API database.\n\nblueprint cells-cell0\n\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 9, 'created': '2016-08-25 16:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a7c38976ae3c448523a56706e3fceb7a8556620', 'message': 'Add test fixture for cell0.\n\nAdd a cell0 test fixture that creates a cell0 datbase and\nadds a cell0 mapping to the API database.\n\nblueprint cells-cell0\n\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 10, 'created': '2016-08-26 15:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b225e47b1bf5798b155a212e722000e3927c464', 'message': 'Add test fixture for cell0.\n\nAdd a cell0 test fixture that creates a cell0 datbase and\nadds a cell0 mapping to the API database.\n\nblueprint cells-cell0\n\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 11, 'created': '2016-08-29 15:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/153c9b0aa01fc861f9e922d0adbe7f99df61c99d', 'message': 'Add test fixture for cell0\n\nAdd a cell0 test fixture that creates a cell0 database and\nadds a cell0 mapping to the API database.\n\nThis change also fixes bug when you could not use\ncustom connection in database fixture because information\nabout connection was not transferred into migration.db_sync.\n\nImplements: blueprint cells-cell0\nCo-Authored-By: Andrey Volkov <avolkov@mirantis.com>\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}, {'number': 12, 'created': '2016-08-30 08:32:00.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9044d6593db9748f0cf79e40da5698d4fd104ec8', 'message': 'Add test fixture for cell0\n\nAdd a cell0 test fixture that creates a cell0 database and\nadds a cell0 mapping to the API database.\n\nThis change also fixes bug when you could not use\ncustom connection in database fixture because information\nabout connection was not transferred into migration.db_sync.\n\nImplements: blueprint cells-cell0\nCo-Authored-By: Andrey Volkov <avolkov@mirantis.com>\nChange-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270\n'}]",6,301864,9044d6593db9748f0cf79e40da5698d4fd104ec8,101,16,12,18247,,,0,"Add test fixture for cell0

Add a cell0 test fixture that creates a cell0 database and
adds a cell0 mapping to the API database.

This change also fixes bug when you could not use
custom connection in database fixture because information
about connection was not transferred into migration.db_sync.

Implements: blueprint cells-cell0
Co-Authored-By: Andrey Volkov <avolkov@mirantis.com>
Change-Id: I6b6a0ebb388912fc20a64dc63171784c9d932270
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/301864/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,6de7d09159dfb60131c6e05f749e959db02b88c9,bp/cells-cell0,"import shutil import tempfilefrom nova import contextfrom nova import objectsclass Cell0Fixture(Database): def __init__(self, database='main', connection=None): # Create a temporary file for this fixtures sqlite database. self._sqlite_tempdir = tempfile.mkdtemp(dir='./') self._cell0_connection = 'sqlite:///' + self._sqlite_tempdir + '/cell0' print self._cell0_connection super(Cell0Fixture, self).__init__(database='main', connection=self._cell0_connection) def cleanup(self): super(Cell0Fixture, self).cleanup() shutil.rmtree(self._sqlite_tempdir) def setUp(self): super(Cell0Fixture, self).setUp() # Create the cell0 mapping in the api database. ctxt = context.RequestContext() cell_mapping = objects.CellMapping( ctxt, uuid=objects.CellMapping.CELL0_UUID, name=""cell0"", transport_url=""none:///"", database_connection=self._cell0_connection) cell_mapping.create() ",,30,0
openstack%2Fnova~master~I25f0551aad959c9d2570434678d16a9118bf2909,openstack/nova,master,I25f0551aad959c9d2570434678d16a9118bf2909,[WIP] scheduler: strictly isolate group of hosts for image/flavor,ABANDONED,2016-09-14 22:22:29.000000000,2017-08-01 09:55:36.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-09-14 22:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dd5c3d967a51bf3c7e11e3b01f7a3b0f613d4c9', 'message': '[WIP] scheduler: strictly isolate group of hosts for image/flavor\n\nChange-Id: I25f0551aad959c9d2570434678d16a9118bf2909\n'}, {'number': 2, 'created': '2016-10-05 12:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c7d4ba59341d1e69673e42f195664eef608df86', 'message': '[WIP] scheduler: strictly isolate group of hosts for image/flavor\n\nImplements: bp strict-isolation-of-group-of-hosts-for-image-and-flavor\n\nChange-Id: I25f0551aad959c9d2570434678d16a9118bf2909\n'}, {'number': 3, 'created': '2016-11-16 13:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18808a340aca032e42c7e98cd38cb4c52bba8960', 'message': '[WIP] scheduler: strictly isolate group of hosts for image/flavor\n\nImplements: bp strict-isolation-of-group-of-hosts-for-image-and-flavor\n\nChange-Id: I25f0551aad959c9d2570434678d16a9118bf2909\n'}, {'number': 4, 'created': '2016-11-16 13:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c57bf8d141c0cbcb0c915adc57939eaa38ddd5d', 'message': '[WIP] scheduler: strictly isolate group of hosts for image/flavor\n\nImplements: bp strict-isolation-of-group-of-hosts-for-image-and-flavor\n\nChange-Id: I25f0551aad959c9d2570434678d16a9118bf2909\n'}, {'number': 5, 'created': '2016-11-16 14:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd3cc0fd46ad957a6b5f3d13441dfb5f9083b012', 'message': '[WIP] scheduler: strictly isolate group of hosts for image/flavor\n\nImplements: bp strict-isolation-of-group-of-hosts-for-image-and-flavor\n\nChange-Id: I25f0551aad959c9d2570434678d16a9118bf2909\n'}, {'number': 6, 'created': '2016-11-16 14:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aec62eeeeeea4a0ca27764fb6ddea58905dc9ad8', 'message': '[WIP] scheduler: strictly isolate group of hosts for image/flavor\n\nImplements: bp strict-isolation-of-group-of-hosts-for-image-and-flavor\n\nChange-Id: I25f0551aad959c9d2570434678d16a9118bf2909\n'}, {'number': 7, 'created': '2016-11-16 15:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f201de2117549915a54586211bad827e4c120bc1', 'message': '[WIP] scheduler: strictly isolate group of hosts for image/flavor\n\nImplements: bp strict-isolation-of-group-of-hosts-for-image-and-flavor\n\nChange-Id: I25f0551aad959c9d2570434678d16a9118bf2909\n'}, {'number': 8, 'created': '2016-11-21 17:06:13.000000000', 'files': ['nova/scheduler/filters/utils.py', 'nova/tests/unit/scheduler/filters/test_aggregate_instance_extra_specs_filters.py', 'nova/scheduler/filters/aggregate_image_properties_isolation.py', 'nova/scheduler/filters/aggregate_instance_extra_specs.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/image_meta.py', 'nova/tests/unit/scheduler/filters/test_aggregate_image_properties_isolation_filters.py', 'nova/compute/api.py', 'nova/tests/unit/scheduler/filters/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4e118473eac5536891cb52c523e0f122e65ffb5', 'message': '[WIP] scheduler: strictly isolate group of hosts for image/flavor\n\nImplements: bp strict-isolation-of-group-of-hosts-for-image-and-flavor\n\nChange-Id: I25f0551aad959c9d2570434678d16a9118bf2909\n'}]",5,370458,b4e118473eac5536891cb52c523e0f122e65ffb5,61,14,8,10618,,,0,"[WIP] scheduler: strictly isolate group of hosts for image/flavor

Implements: bp strict-isolation-of-group-of-hosts-for-image-and-flavor

Change-Id: I25f0551aad959c9d2570434678d16a9118bf2909
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/370458/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/filters/test_aggregate_instance_extra_specs_filters.py', 'nova/scheduler/filters/aggregate_image_properties_isolation.py', 'nova/scheduler/filters/aggregate_instance_extra_specs.py', 'nova/conf/scheduler.py', 'nova/objects/image_meta.py', 'nova/tests/unit/scheduler/filters/test_aggregate_image_properties_isolation_filters.py']",6,2dd5c3d967a51bf3c7e11e3b01f7a3b0f613d4c9,bp/strict-isolation-of-group-of-hosts-for-image-and-flavor, # TODO !!!,,153,9
openstack%2Fnova~master~Ieeec23d72b2d94001c9b3619ae7fe0bedd1affa2,openstack/nova,master,Ieeec23d72b2d94001c9b3619ae7fe0bedd1affa2,"Change type of ""networks"" and ""security_groups"" in compute-v2.1",ABANDONED,2016-09-28 05:03:03.000000000,2017-08-01 09:55:35.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15293}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17491}]","[{'number': 1, 'created': '2016-09-28 05:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a04055ccfa13bd4900e75cbbcf1992968d4e5c02', 'message': 'Change type of ""networks"" and ""security_groups"" in compute-v2.1\n\nThis patch changes the type of ""network"" and ""security_groups"" from\nxsd:string to xsd:list.\n\nIt also adds examples in description fields to help everyone to use\nthese parameters.\n\nChange-Id: Ieeec23d72b2d94001c9b3619ae7fe0bedd1affa2\nCloses-Bug: #1616134\n'}, {'number': 2, 'created': '2016-11-08 01:32:34.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/e961266d73fc7c78dccc8efbb642a614733442de', 'message': 'Change type of ""networks"" and ""security_groups"" in compute-v2.1\n\nThis patch changes the type of ""network"" and ""security_groups"" from\nxsd:string to xsd:list.\n\nIt also adds examples in description fields to help everyone to use\nthese parameters.\n\nChange-Id: Ieeec23d72b2d94001c9b3619ae7fe0bedd1affa2\nCloses-Bug: #1616134\n'}]",6,378240,e961266d73fc7c78dccc8efbb642a614733442de,28,15,2,17491,,,0,"Change type of ""networks"" and ""security_groups"" in compute-v2.1

This patch changes the type of ""network"" and ""security_groups"" from
xsd:string to xsd:list.

It also adds examples in description fields to help everyone to use
these parameters.

Change-Id: Ieeec23d72b2d94001c9b3619ae7fe0bedd1affa2
Closes-Bug: #1616134
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/378240/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,a04055ccfa13bd4900e75cbbcf1992968d4e5c02,bug/1616134," An example format would look as follows: .. code-block:: javascript ""networks"": [{ ""uuid"": ""7d3d8d37-555e-4306-a5c4-454303e64d78"" }] type: list An example format would look as follows: .. code-block:: javascript ""security_groups"": [{ ""name"": ""my_security_group"" }] type: list", type: object type: array,15,2
openstack%2Fnova~master~I67e70ac4c96c8602e70ce056a341c5420ad67b66,openstack/nova,master,I67e70ac4c96c8602e70ce056a341c5420ad67b66,WIP Braindump on cellsv2,ABANDONED,2016-10-25 20:32:18.000000000,2017-08-01 09:55:34.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-10-25 20:32:18.000000000', 'files': ['doc/source/cells.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/12353ceca28fdd3c167a28b098fc29cbc36bc2a4', 'message': 'WIP Braindump on cellsv2\n\nChange-Id: I67e70ac4c96c8602e70ce056a341c5420ad67b66\n'}]",0,390660,12353ceca28fdd3c167a28b098fc29cbc36bc2a4,10,8,1,5441,,,0,"WIP Braindump on cellsv2

Change-Id: I67e70ac4c96c8602e70ce056a341c5420ad67b66
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/390660/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cells.rst'],1,12353ceca28fdd3c167a28b098fc29cbc36bc2a4,cells_braindump," Random thoughts (to be organized and incorporated into the above text later) ---------------------------------------------------------------------------- There are a few high level goals of cells: Do not duplicate data ~~~~~~~~~~~~~~~~~~~~~ The primary failure of the first version of cells was that data was duplicated and, more importantly, that any copy of the data could be updated and that updated needed to be synced. Due to the current architecture of Nova, where instance updates can result from either an API request or a periodic task on a compute, it's important to not duplicate data. If it could be ensured that all updates only occurred to a store designated for ""writing"" it would be conceivable to have read copies in multiple locations. But that's not the direction that has been taken. There is some data that will be duplicated, for example flavors are defined in the nova_api database and then copied into the instance_extra table in the nova database. This is a separate kind of duplication though since changing the definition in one place does not require an update in the other. To be more clear, if global flavor definitions are changed that does not change instances booted from that flavor and does not require any instance_extra entries to be updated. Data that is used for a key or relationship may be duplicated. The instance uuid is used in a number of tables as a key. This is accceptable because as a key it is data that does not change, i.e. it is okay to used the uuid for the instance_mapping table because that uuid will never be changed. Cells as self contained units ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This is forward thinking. As much as possible a cell should be able to stand on its own. What this means is that it should not require interactions outside of itself to remain in a stable state. Periodic tasks should not need to query the nova_api database. Any outside request which causes a change to occur in the cell will of course require interaction from the outside. For example a request to resize an instance will need to provide flavor information which comes from the nova_api database outside of the cell. But this information should be passed in to the cell if possible. Interactions with the outside should be limited to interacting with separate services like Cinder/Neutron. I consider the scheduler as a separate service. Another way I like to think of this is that it should be possible to take a cell and move it from one API deployment to another and have things work. If a cell was dropped behind a new API and hosts and instances were mapped in that API everything should continue to function. A related topic is console proxies. Requests to connect to a console should have the uuid of the instance in the URL and that uuid can be used to direct the request to a service in the proper cell. So all database tables related to console support can be contained within a cell. What belongs in the nova_api database? ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Obviously the mappings to instances and hosts belong, as well as connection info for each cell. But what else? Data that is entirely global belongs here. Flavors are specific to a deployment, not a cell, so they belong here. Even in the event that some flavors are restricted to some cells that is a deployment decision and not a Nova decision to have flavors specific to cells. Quotas and keypairs are two more global concepts that belong in the nova_api database. Ultimately, anything that could apply to any cell and is not related to a specific instance in a cell is a good candidate for the nova_api database. An example to illustrate this is how I think that security groups should work. A security group is a concept that can apply within any cell so it would belong in the nova_api database, as well as the related ingress rules. When that security group is applied to an instance the relationship should be represented within the cell database, because it is now specific to the instance in a cell. That would create a situation where the relationship refers to items in two databases, the instance in the cell and the security group in the api database. To resolve that I would keep a copy of the security group rules with the instance in instance_extra in the same way that flavors are kept. Scalability ~~~~~~~~~~~ It's important to keep in mind that one of the primary goals of cells is scalability. This is mostly in relation to the message queue and database so cells focuses on limiting the amount of data that either has to deal with by limiting the number of instances associated with them. But it's still important to think about scalability when determining what to put in the nova_api database. The rule of thumb is to not store anything in the nova_api database that scales with the number of instances or hosts in a deployment. The instance and host mappings are the exception, and they are extremely lightweight so scale is a low priority concern there. The scheduler ~~~~~~~~~~~~~ I believe that it is optimal to consider the scheduler to be a service outside of Nova. The implication of this is that the scheduler will not be deployed with regards to cells boundaries. And a request to the scheduler from the API is no different than a request from nova-compute though one is ""from the cell"" and one is not. However, just as the scheduler needs information about host aggregates it will need information about how hosts are grouped into cells. This is primarily to handle reschedules or migrations, both of which are currently constrained to hosts within the same cell as the current instance host. This constraint can be relaxed at a later time if it becomes possible to move an instance from one cell to another. Moving instances ~~~~~~~~~~~~~~~~ To start with instances should be constrained to whichever cell the first scheduler decision places them in. There is going to be a lot of complexity around moving instances around in a safe fashion and there is a lot of work to just get multiple cells working. And moving instances should be a low priority initially. I am of the opinion that relying on task_state/vm_state locking is not going to be enough to handle the safe move of an instance between cells. Work should take place on ""tasks"" to address the issues that can occur with multiple actions attempting to update an instance. Once an instance can be effectively ""locked"" from modifications moving the instance is a copy of all related db records to the new cell, an update of the instance_mapping, and then a removal of the old records. Mappings ~~~~~~~~ The mapping records have strong invariants that need to hold true. The instance_mapping, once created, must always point to a valid record and should remain as long as a record exists. What this means is that during boot the instance record must be in a cell before the instance_mapping is updated to that cell, and during delete the instance_mapping is only removed when the cell db is purged of an instance record. A deleted instance record still needs to be mapped if the deletion was simply setting deleted = id. BuildRequest ~~~~~~~~~~~~ A BuildRequest can be thought of as the first step towards tasks. It is the registered intent to boot an instance, it is not an instance. The BuildRequest needs to exist until the instance record exists and is mapped, and after that point is useless. It should be noted that although the BuildRequest object has an embedded Instance object the embedded object is only a convenient container for the necessary fields that the BuildRequest needs. More bluntly, build_request.instance is not an instance. Please do not try to call .create() on it because it is not an instance and is not intended to be an instance. Use the contents of build_request.instance to populate a new instance object and then call .create() on that. Listing instances in the API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The ability to list instances, and especially to filter/sort/paginate these lists, is greatly hindered by spreading them across multiple cells. It could be made easier if the data necessary to support those operations were contained in the central nova_api database but this violates some of the main tenets of cells. It would be a duplication of data, and it scales poorly. Instead the necessary information, basically a copy of all instances, should be sent to a system whose purpose is to answer list queries. The Searchlight project is currently considered to be this system. An important thing to note is that because it is explicitly a read only cache of instance information that the duplication of data is not an issue. Compute host registration ~~~~~~~~~~~~~~~~~~~~~~~~~ It is currently a manual process to associate a compute host to a cell. There is tooling to do it, but it requires running a command to do it. However if a cell database contained a tiny bit of information, just its cell uuid as defined by the cell_mapping in the nova_api database, then when a new host came online it could self register with nova-api. By self register I mean that it could request that a host_mapping entry is created for itself. Because it is desirable to avoid a cell needing to communicate to the API via internal RPC mechanisms there could be an HTTP API in place for this registration to occur. I believe it will be desirable to expose cell and host mapping information in an admin API so this request endpoint could be added there. Conductors ~~~~~~~~~~ There is some complexity around discussing the various functions of the nova-conductor service. It is a db proxy, an object backleveler, and an orchestration service. And now the orchestration service is being conceptually split to service long running tasks that belong the the API and those that belong within a cell. Adding more services to nova increases complexity and should only be done with good reason, but I will put forth that it's worth considering doing that here. Either split the db proxy out, or split between API and cell conductoring.",,195,0
openstack%2Fnova~master~If91efaa38ceecfb0396eaf58dda163b1769baf69,openstack/nova,master,If91efaa38ceecfb0396eaf58dda163b1769baf69,Add Hierarchy info,ABANDONED,2016-10-07 13:09:26.000000000,2017-08-01 09:55:33.000000000,,"[{'_account_id': 3}, {'_account_id': 2033}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12712}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-10-07 13:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/614a2dc5e3dc4ab01aa0fe6f15489d11f260bb13', 'message': 'Add Hierarchy info\n\nMake calls to keystone to get project\nhierachy and check whether project is root.\n\nChange-Id: If91efaa38ceecfb0396eaf58dda163b1769baf69\n'}, {'number': 2, 'created': '2016-10-07 14:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/faf732f1d9ad0c685fef2abd5e515135cec3d784', 'message': 'Add Hierarchy info\n\nMake calls to keystone to get project\nhierachy and check whether project is root.\n\nChange-Id: If91efaa38ceecfb0396eaf58dda163b1769baf69\n'}, {'number': 3, 'created': '2016-10-07 15:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/539348c2cadd51857468f8b8ed47eb64248a7d2c', 'message': 'Add Hierarchy info\n\nMake calls to keystone to get project\nhierachy and check whether project is root.\n\nChange-Id: If91efaa38ceecfb0396eaf58dda163b1769baf69\n'}, {'number': 4, 'created': '2016-10-11 16:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e444915d063b5e8a669ac2d739c9d534005c0ebf', 'message': 'Add Hierarchy info\n\nMake calls to keystone to get project\nhierachy and check whether project is root.\n\nChange-Id: If91efaa38ceecfb0396eaf58dda163b1769baf69\n'}, {'number': 5, 'created': '2016-10-11 16:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f78b20078c999e69e27e04b1119f595cb507d32', 'message': 'Add Hierarchy info\n\nMake calls to keystone to get project\nhierachy and check whether project is root.\n\nChange-Id: If91efaa38ceecfb0396eaf58dda163b1769baf69\n'}, {'number': 6, 'created': '2016-10-12 08:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/646cb3ceb3a14cbd1d0b2edd41f889d3883a0559', 'message': 'Add Hierarchy info\n\nMake calls to keystone to get project\nhierachy and check whether project is root.\n\nChange-Id: If91efaa38ceecfb0396eaf58dda163b1769baf69\n'}, {'number': 7, 'created': '2016-10-12 10:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/798930483d12d931e76fe82ffaff9953175695b7', 'message': 'Add Hierarchy info\n\nMake calls to keystone to get project\nhierachy and check whether project is root.\n\nChange-Id: If91efaa38ceecfb0396eaf58dda163b1769baf69\n'}, {'number': 8, 'created': '2016-10-24 09:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc99ae5d5ddc669f5b4497feae1a32eeb53e1f0f', 'message': 'Add Hierarchy info\n\nMake calls to keystone to get project\nhierachy and check whether project is root.\n\nChange-Id: If91efaa38ceecfb0396eaf58dda163b1769baf69\nImplements blueprint nested-quota-driver-api\n'}, {'number': 9, 'created': '2016-11-02 09:42:10.000000000', 'files': ['nova/context.py', 'nova/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3ddf68757a67559cb16c120db4bac34e7b0773d', 'message': 'Add Hierarchy info\n\nMake calls to keystone to get project\nhierachy and check whether project is root.\n\nChange-Id: If91efaa38ceecfb0396eaf58dda163b1769baf69\n'}]",9,383726,e3ddf68757a67559cb16c120db4bac34e7b0773d,83,20,9,12712,,,0,"Add Hierarchy info

Make calls to keystone to get project
hierachy and check whether project is root.

Change-Id: If91efaa38ceecfb0396eaf58dda163b1769baf69
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/383726/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/context.py', 'nova/tests/unit/test_context.py']",2,614a2dc5e3dc4ab01aa0fe6f15489d11f260bb13,bp/nested-quota-driver-api,"import uuid from keystonemiddleware import auth_token from oslo_config import cfg from oslo_config import fixture as config_fixtureCONF = cfg.CONF class HierarhcyInfoTestCase(test.NoDBTestCase): class FakeProject(object): def __init__(self, project_id='foo', parent_id=None): self.project_id = project_id self.parent_id = parent_id self.subtree = None def setUp(self): super(HierarhcyInfoTestCase, self).setUp() self.keystone = context.KEYSTONE self.req = mock.Mock() self.req.environ = {'nova.context': context.get_admin_context()} self.req.environ['nova.context'].is_admin = True self.req.environ['nova.context'].auth_token = uuid.uuid4().hex self.auth_url = 'http://identity:5000/v3' service = {'id': '123', 'name': 'keystone', 'links': {'self': self.auth_url}, 'type': 'key-manager'} self.req.environ['nova.context'].service_catalog = [service] # NOTE: changed from auth_token.CONF self.fixture = self.useFixture(config_fixture.Config(CONF)) self.fixture.config(auth_uri=self.auth_url, group='keystone_authtoken') self._create_project_hierarchy() def _create_project_hierarchy(self): """"""Sets an environment used for nested quotas tests. Create a project hierarchy such as follows: +-----------+ | | | A | | / \ | | B C | | / | | D | +-----------+ """""" self.A = self.FakeProject(project_id=uuid.uuid4().hex, parent_id=None) self.B = self.FakeProject(project_id=uuid.uuid4().hex, parent_id=self.A.project_id) self.C = self.FakeProject(project_id=uuid.uuid4().hex, parent_id=self.A.project_id) self.D = self.FakeProject(project_id=uuid.uuid4().hex, parent_id=self.B.project_id) # update projects subtrees self.B.subtree = {self.D.project_id: self.D.subtree} self.A.subtree = {self.B.project_id: self.B.subtree, self.C.project_id: self.C.subtree} # project_by_id attribute is used to recover a project based on its id. self.project_by_id = {self.A.project_id: self.A, self.B.project_id: self.B, self.C.project_id: self.C, self.D.project_id: self.D} self.parent_by_id = {self.A.project_id: self.A.parent_id, self.B.project_id: self.B.parent_id, self.C.project_id: self.C.parent_id, self.D.project_id: self.D.parent_id} def _get_project(self, context, project_id, subtree=False): return self.project_by_id.get(project_id, self.FakeProject()) def test_get_parent_project(self): self.keystone.get_project = mock.Mock() self.keystone.get_project.side_effect = self._get_project ctx = self.req.environ['nova.context'] result = self.keystone.get_project(ctx, self.B.project_id) self.assertEqual(result.parent_id, self.A.project_id) def test_get_subtree(self): self.keystone.get_project = mock.Mock() self.keystone.get_project.side_effect = self._get_project ctx = self.req.environ['nova.context'] result = self.keystone.get_project(ctx, self.A.project_id, subtree=True) self.assertEqual(result.subtree, self.A.subtree)",,146,0
openstack%2Fnova~master~I8191c78c6f0fc649254c3f267dd26c56c22c23f8,openstack/nova,master,I8191c78c6f0fc649254c3f267dd26c56c22c23f8,Handle race in allocate_for_instance,ABANDONED,2015-09-09 14:41:19.000000000,2017-08-01 09:55:32.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8688}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10043}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12712}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16034}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17922}, {'_account_id': 17973}, {'_account_id': 20783}]","[{'number': 1, 'created': '2015-09-09 14:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20dc93a7ef1bffdbdff68ae3a6e864eb630f3b71', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance call that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoid with nova modification as\nthe solution would need an atomic port update API with test-and-set semantic\nin neutron.\nSo this patch implements a way to detect that parallel update happened\non the port and abort the build which lost the ownership of a port due to\nthis race condition.\n\nCloses-Bug: #1493714\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 2, 'created': '2015-09-10 14:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0cb84f03fb034096fda2353d2e28ca3236c7ab7', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoid with nova modification as\nthe solution would need an atomic port update API with test-and-set semantic\nin neutron.\nSo this patch implements a way to detect that parallel update happened\non the port and abort the build which lost the ownership of a port due to\nthis race condition.\n\nCloses-Bug: #1493714\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 3, 'created': '2015-10-06 12:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c1f5ac0223b227c4aca500105a2e5b9dc925770', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoid with nova modification as\nthe solution would need an atomic port update API with test-and-set semantic\nin neutron.\nSo this patch implements a way to detect that parallel update happened\non the port and abort the build which lost the ownership of a port due to\nthis race condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 4, 'created': '2015-10-08 07:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6adf92c9e68770f63f5b12997e91c7d654449a2', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoid with nova modification as\nthe solution would need an atomic port update API with test-and-set semantic\nin neutron.\nSo this patch implements a way to detect that parallel update happened\non the port and abort the build which lost the ownership of a port due to\nthis race condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 5, 'created': '2015-11-20 14:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc120bdb90ad0f415564b720b84f1d5d116e7397', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoid with nova modification as\nthe solution would need an atomic port update API with test-and-set semantic\nin neutron.\nSo this patch implements a way to detect that parallel update happened\non the port and abort the build which lost the ownership of a port due to\nthis race condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 6, 'created': '2016-01-06 13:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dc9f389196f118eda00fde42c512448f14b1643', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoid with nova modification as\nthe solution would need an atomic port update API with test-and-set semantic\nin neutron.\nSo this patch implements a way to detect that parallel update happened\non the port and abort the build which lost the ownership of a port due to\nthis race condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 7, 'created': '2016-03-04 13:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e28175729be10c5ce64422e74651f4473ba5a9a1', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoid with nova modification as\nthe solution would need an atomic port update API with test-and-set semantic\nin neutron.\nSo this patch implements a way to detect that parallel update happened\non the port and abort the build which lost the ownership of a port due to\nthis race condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 8, 'created': '2016-03-07 10:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2aa4289e8d46e2454a6d9286f5dd601e267174a4', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoided with nova modification as\nthe solution would need an atomic port update API with test-and-set\nsemantic in neutron.\nSo this patch implements a way to detect parallel update on the port\nand abort the build which lost the ownership of a port due to this\nrace condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 9, 'created': '2016-03-08 16:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3042511c7e34d0c110e13b81f2678a8026f5ef9', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoided with nova modification as\nthe solution would need an atomic port update API with test-and-set\nsemantic in neutron.\nSo this patch implements a way to detect parallel update on the port\nand abort the build which lost the ownership of a port due to this\nrace condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 10, 'created': '2016-03-16 15:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b872d70983caf891e6a8487055ce0e36731ce82d', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoided with nova modification as\nthe solution would need an atomic port update API with test-and-set\nsemantic in neutron.\nSo this patch implements a way to detect parallel update on the port\nand abort the build which lost the ownership of a port due to this\nrace condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 11, 'created': '2016-04-18 10:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/994248bf10b197f5d97ea7363208d4ddc241a575', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoided with nova modification as\nthe solution would need an atomic port update API with test-and-set\nsemantic in neutron.\nSo this patch implements a way to detect parallel update on the port\nand abort the build which lost the ownership of a port due to this\nrace condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 12, 'created': '2016-07-26 16:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/302ad6c5046c245cb1fb2272db1114c1e2e523c7', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoided with nova modification as\nthe solution would need an atomic port update API with test-and-set\nsemantic in neutron.\nSo this patch implements a way to detect parallel update on the port\nand abort the build which lost the ownership of a port due to this\nrace condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 13, 'created': '2016-07-26 16:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/700e5ccc71b9a7e65a97ae1021134bda5a74b043', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoided with nova modification as\nthe solution would need an atomic port update API with test-and-set\nsemantic in neutron.\nSo this patch implements a way to detect parallel update on the port\nand abort the build which lost the ownership of a port due to this\nrace condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 14, 'created': '2016-08-04 13:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a1764ea4a80310be0b26830bc014912f2683de2', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoided with nova modification as\nthe solution would need an atomic port update API with test-and-set\nsemantic in neutron.\nSo this patch implements a way to detect parallel update on the port\nand abort the build which lost the ownership of a port due to this\nrace condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 15, 'created': '2016-08-18 08:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1aee7f06b1716d41408c885e06a7fecc8c26948', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoided with nova modification as\nthe solution would need an atomic port update API with test-and-set\nsemantic in neutron.\nSo this patch implements a way to detect parallel update on the port\nand abort the build which lost the ownership of a port due to this\nrace condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}, {'number': 16, 'created': '2016-08-24 12:57:48.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/exception.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/27bcb643337913d2aab3c58f1f1a9645031bff20', 'message': 'Handle race in allocate_for_instance\n\nIf two instances requested to be booted with the same neutron port id\nnova spawns both instances but only one of them will have the port\nplugged.\nThis is caused by a race condition between two parallel\nneutronv2.API.allocate_for_instance calls that both first queries the\ndevice_id of the port from neutron and both see that it is empty so both\nupdate the device_id with the current instance.uuid.\nThis race condition cannot be totally avoided with nova modification as\nthe solution would need an atomic port update API with test-and-set\nsemantic in neutron.\nSo this patch implements a way to detect parallel update on the port\nand abort the build which lost the ownership of a port due to this\nrace condition.\n\nCloses-Bug: #1493714\nRelated-Bug: #1500365\nChange-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8\n'}]",44,221803,27bcb643337913d2aab3c58f1f1a9645031bff20,237,28,16,9708,,,0,"Handle race in allocate_for_instance

If two instances requested to be booted with the same neutron port id
nova spawns both instances but only one of them will have the port
plugged.
This is caused by a race condition between two parallel
neutronv2.API.allocate_for_instance calls that both first queries the
device_id of the port from neutron and both see that it is empty so both
update the device_id with the current instance.uuid.
This race condition cannot be totally avoided with nova modification as
the solution would need an atomic port update API with test-and-set
semantic in neutron.
So this patch implements a way to detect parallel update on the port
and abort the build which lost the ownership of a port due to this
race condition.

Closes-Bug: #1493714
Related-Bug: #1500365
Change-Id: I8191c78c6f0fc649254c3f267dd26c56c22c23f8
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/221803/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,20dc93a7ef1bffdbdff68ae3a6e864eb630f3b71,bug/1493714," # NOTE(gibi): get_instance_nw_info will re-query the port list from # neutron so if there was a parallel port.update from another # nova-compute then the returned nw_info does not have all the ports # that the original request so we can detect the race here still_owned_ports = [vif['id'] for vif in nw_info] lost_ports = set(ports_in_requested_order) - set(still_owned_ports) if lost_ports: self._unbind_ports(context, set(preexisting_port_ids) - set(lost_ports), neutron, port_client) self._delete_ports(neutron, instance, created_port_ids) # NOTE(gibi): cannot raise PortInUse exception as that will cause # unnecessary reschedule msg = _('Following ports are requested ' 'but already in use. %s') % str(list(lost_ports)) LOG.error(msg) raise exception.BuildAbortException(instance_uuid=instance.uuid, reason=msg) # NOTE(gibi): do not try to unbind ports that are not owned # by the instance ports_to_skip &= set(ports)",,24,0
openstack%2Fnova~master~I4c10fcb43de124259990aa0caec466d62424a0be,openstack/nova,master,I4c10fcb43de124259990aa0caec466d62424a0be,Query availability zone in a single query,ABANDONED,2016-10-21 15:46:26.000000000,2017-08-01 09:55:31.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5003}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6450}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-10-21 15:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f62de9d0b85f9159a69e61b504728abdea37ea60', 'message': 'Query availability zone in a single query\n\nFor better performace, replace to a single query to reterive\ninstance availability zone not multiple query execution.\n\nChange-Id: I4c10fcb43de124259990aa0caec466d62424a0be\n'}, {'number': 2, 'created': '2016-10-24 02:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/071f4bc7badb18272c2445f711e584d857514f69', 'message': 'Query availability zone in a single query\n\nFor better performace, replace to a single query to reterive\ninstance availability zone not multiple query execution.\n\nChange-Id: I4c10fcb43de124259990aa0caec466d62424a0be\n'}, {'number': 3, 'created': '2016-10-24 04:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0707e4779c102324f2831ae9801de30fc68a990', 'message': 'Query availability zone in a single query\n\nFor better performace, replace to a single query to reterive\ninstance availability zone not multiple query execution.\n\nChange-Id: I4c10fcb43de124259990aa0caec466d62424a0be\n'}, {'number': 4, 'created': '2016-10-24 06:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76b04f3dbd904e7a58ab29bae74e42a15467810f', 'message': 'Query availability zone in a single query\n\nFor better performace, replace to a single query to reterive\ninstance availability zone not multiple query execution.\n\nChange-Id: I4c10fcb43de124259990aa0caec466d62424a0be\n'}, {'number': 5, 'created': '2016-10-31 07:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d159fdb5e0f0dd874149ffd02fc0ce204f9425f', 'message': ""Query availability zone in a single query\n\nFor better performance, replace multiple queries with a single DB query\nto retrieve an instance's availability zone.\n\nChange-Id: I4c10fcb43de124259990aa0caec466d62424a0be\n""}, {'number': 6, 'created': '2016-11-07 09:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89c84783decf0c6f7dde76e6d1afff7d516914bb', 'message': ""Query availability zone in a single query\n\nFor better performance, replace multiple queries with a single DB query\nto retrieve an instance's availability zone.\n\nChange-Id: I4c10fcb43de124259990aa0caec466d62424a0be\n""}, {'number': 7, 'created': '2016-11-08 14:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d54eb42eb74869d73db9fbf959c1aa24e3f0f01', 'message': ""Query availability zone in a single query\n\nFor better performance, replace multiple queries with a single DB query\nto retrieve an instance's availability zone.\n\nChange-Id: I4c10fcb43de124259990aa0caec466d62424a0be\n""}, {'number': 8, 'created': '2016-11-09 02:56:36.000000000', 'files': ['nova/api/openstack/compute/extended_availability_zone.py', 'nova/tests/unit/objects/test_objects.py', 'nova/availability_zones.py', 'nova/tests/unit/api/openstack/compute/test_extended_availability_zone.py', 'nova/tests/unit/test_availability_zones.py', 'nova/objects/aggregate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9019c44f8458ffb8337c0bb67b75ad72ef33e02', 'message': ""Query availability zone in a single query\n\nFor better performance, replace multiple queries with a single DB query\nto retrieve an instance's availability zone.\n\nIn our test environment has 89 instances, ExtendedAZController.detail()\ngets below average execution time over 100 times calls.\n\nOriginal code: 0.897194 sec\nPatched code: 0.0817464 sec\n\nChange-Id: I4c10fcb43de124259990aa0caec466d62424a0be\n""}]",8,389759,f9019c44f8458ffb8337c0bb67b75ad72ef33e02,117,26,8,5003,,,0,"Query availability zone in a single query

For better performance, replace multiple queries with a single DB query
to retrieve an instance's availability zone.

In our test environment has 89 instances, ExtendedAZController.detail()
gets below average execution time over 100 times calls.

Original code: 0.897194 sec
Patched code: 0.0817464 sec

Change-Id: I4c10fcb43de124259990aa0caec466d62424a0be
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/389759/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/extended_availability_zone.py', 'nova/tests/unit/objects/test_objects.py', 'nova/cache_utils.py', 'nova/availability_zones.py', 'nova/tests/unit/api/openstack/compute/test_extended_availability_zone.py', 'nova/tests/unit/test_availability_zones.py', 'nova/db/api.py', 'nova/objects/aggregate.py', 'nova/db/sqlalchemy/api.py']",9,f62de9d0b85f9159a69e61b504728abdea37ea60,bug/1483322-get-multi-az," return aggregate_get_by_hosts(context, [host], key) @main_context_manager.reader def aggregate_get_by_hosts(context, hosts, key=None): """"""Return rows that match hosts (mandatory) and metadata key (optional). :param hosts matches hosts, and is required. :param key Matches metadata key, if not None. """""" query = query.filter(models.AggregateHost.host.in_(hosts))", query = query.filter(models.AggregateHost.host == host),159,47
openstack%2Fnova~master~I96ae33f86aea33c0b2b3e1fff0da263d10baebe7,openstack/nova,master,I96ae33f86aea33c0b2b3e1fff0da263d10baebe7,Failed to evacuate instances booted from volume,ABANDONED,2016-09-18 06:49:33.000000000,2017-08-01 09:55:30.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15424}, {'_account_id': 15751}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-09-18 06:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14d8c57cfbfc2ebbb033eb733180cda39594f35a', 'message': 'Failed to evacuate instances booted from volume\n\nIf nova image backend is ceph rbd, when evacuating an instance booted\nfrom volume, it will always fail with error:\nInvalidSharedStorage: Invalid state of instance files on shared storage\n\nSince the incoming parameter ""on_shared_storage"" and compute driver\njudgment are inconsistent, it raises exception.InvalidSharedStorage.\n\nIn the following two situations can cause the above error:\n1.on_shared_storage is true and driver.instance_on_disk() is false\n2.on_shared_storage is false and driver.instance_on_disk() is true\n\ndriver.instance_on_disk() just determines whether it is shared storage\naccording to image backend, rather than volume backend.\n\nTo fix this bug, we first check that an instance is booted from volume,\nif so, we assume its storage is shared.\n\nChange-Id: I96ae33f86aea33c0b2b3e1fff0da263d10baebe7\nCloses-Bug: #1624797\n'}, {'number': 2, 'created': '2016-09-18 10:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1397178d08b79310eb31655fe1a5c5e13018a80', 'message': 'Failed to evacuate instances booted from volume\n\nIf nova image backend is ceph rbd, when evacuating an instance booted\nfrom volume, it will always fail with error:\n""InvalidSharedStorage: Invalid state of instance files on shared storage""\n\nSince the incoming parameter `on_shared_storage` and the compute driver\njudgment are inconsistent, it raises exception.InvalidSharedStorage.\n\nIn the following two situations can cause the above error:\n1.on_shared_storage is true and driver.instance_on_disk() is false\n2.on_shared_storage is false and driver.instance_on_disk() is true\n\ndriver.instance_on_disk() just determines whether it is shared storage\naccording to image backend, rather than volume backend.\n\nTo fix this bug, we first check that an instance is booted from volume,\nif so, we assume its storage is shared.\n\nCloses-Bug: #1624797\nChange-Id: I96ae33f86aea33c0b2b3e1fff0da263d10baebe7\n'}, {'number': 3, 'created': '2016-09-21 09:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a73ecffc083f7db736afe0434040a93f2137abf', 'message': 'Failed to evacuate instances booted from volume\n\nIf nova image backend is ceph rbd, when evacuating an instance booted\nfrom volume, it will always fail with error:\n""InvalidSharedStorage: Invalid state of instance files on shared storage""\n\nSince the incoming parameter `on_shared_storage` and the compute driver\njudgment are inconsistent, it raises exception.InvalidSharedStorage.\n\nIn the following two situations can cause the above error:\n1.on_shared_storage is true and driver.instance_on_disk() is false\n2.on_shared_storage is false and driver.instance_on_disk() is true\n\ndriver.instance_on_disk() just determines whether it is shared storage\naccording to image backend, rather than volume backend.\n\nTo fix this bug, we first check that an instance is booted from volume,\nif so, we assume its storage is shared.\n\nCloses-Bug: #1624797\nChange-Id: I96ae33f86aea33c0b2b3e1fff0da263d10baebe7\n'}, {'number': 4, 'created': '2016-09-21 12:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/610a83700fb418dd87ac3005227b7dcd9958f1dd', 'message': 'Failed to evacuate instances booted from volume\n\nIf nova image backend is ceph rbd, when evacuating an instance booted\nfrom volume, it will always fail with error:\n""InvalidSharedStorage: Invalid state of instance files on shared storage""\n\nSince the incoming parameter `on_shared_storage` and the compute driver\njudgment are inconsistent, it raises exception.InvalidSharedStorage.\n\nIn the following two situations can cause the above error:\n1.on_shared_storage is true and driver.instance_on_disk() is false\n2.on_shared_storage is false and driver.instance_on_disk() is true\n\ndriver.instance_on_disk() just determines whether it is shared storage\naccording to image backend, rather than volume backend.\n\nTo fix this bug, we first check that an instance is booted from volume,\nif so, we assume its storage is shared.\n\nCloses-Bug: #1624797\nChange-Id: I96ae33f86aea33c0b2b3e1fff0da263d10baebe7\n'}, {'number': 5, 'created': '2016-09-22 08:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e69db39beb16ae25cd43ba393c0dc3d734ce344f', 'message': 'Failed to evacuate instances booted from volume\n\nIf nova image backend is ceph rbd, when evacuating an instance booted\nfrom volume, it will always fail with error:\n""InvalidSharedStorage: Invalid state of instance files on shared storage""\n\nSince the incoming parameter `on_shared_storage` and the compute driver\njudgment are inconsistent, it raises exception.InvalidSharedStorage.\n\nIn the following two situations can cause the above error:\n1.on_shared_storage is true and driver.instance_on_disk() is false\n2.on_shared_storage is false and driver.instance_on_disk() is true\n\ndriver.instance_on_disk() just determines whether it is shared storage\naccording to image backend, rather than volume backend.\n\nTo fix this bug, we first check that an instance is booted from volume,\nif so, we assume its storage is shared.\n\nCloses-Bug: #1624797\nChange-Id: I96ae33f86aea33c0b2b3e1fff0da263d10baebe7\n'}, {'number': 6, 'created': '2016-09-22 10:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd3486f7cd22189fdcbc5dfed8911684da950043', 'message': 'Failed to evacuate instances booted from volume\n\nIf nova image backend is ceph rbd, when evacuating an instance booted\nfrom volume, it will always fail with error:\n""InvalidSharedStorage: Invalid state of instance files on shared storage""\n\nSince the incoming parameter `on_shared_storage` and the compute driver\njudgment are inconsistent, it raises exception.InvalidSharedStorage.\n\nIn the following two situations can cause the above error:\n1.on_shared_storage is true and driver.instance_on_disk() is false\n2.on_shared_storage is false and driver.instance_on_disk() is true\n\ndriver.instance_on_disk() just determines whether it is shared storage\naccording to image backend, rather than volume backend.\n\nTo fix this bug, we first check that an instance is booted from volume,\nif so, we assume its storage is shared.\n\nCloses-Bug: #1624797\nChange-Id: I96ae33f86aea33c0b2b3e1fff0da263d10baebe7\n'}, {'number': 7, 'created': '2016-09-22 12:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e09d8def5430f7e76025d8348cef18e66ea8d3a', 'message': 'Failed to evacuate instances booted from volume\n\nIf nova image backend is ceph rbd, when evacuating an instance booted\nfrom volume, it will always fail with error:\n""InvalidSharedStorage: Invalid state of instance files on shared storage""\n\nSince the incoming parameter `on_shared_storage` and the compute driver\njudgment are inconsistent, it raises exception.InvalidSharedStorage.\n\nIn the following two situations can cause the above error:\n1.on_shared_storage is true and driver.instance_on_disk() is false\n2.on_shared_storage is false and driver.instance_on_disk() is true\n\ndriver.instance_on_disk() just determines whether it is shared storage\naccording to image backend, rather than volume backend.\n\nTo fix this bug, we first check that an instance is booted from volume,\nif so, we assume its storage is shared.\n\nCloses-Bug: #1624797\nChange-Id: I96ae33f86aea33c0b2b3e1fff0da263d10baebe7\n'}, {'number': 8, 'created': '2016-09-23 06:29:39.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/343b5376a02a89be6fd19992589aad319002254f', 'message': 'Failed to evacuate instances booted from volume\n\nIf nova image backend is ceph rbd, when evacuating an instance booted\nfrom volume, it will always fail with error:\n""InvalidSharedStorage: Invalid state of instance files on shared storage""\n\nSince the incoming parameter `on_shared_storage` and the compute driver\njudgment are inconsistent, it raises exception.InvalidSharedStorage.\n\nIn the following two situations can cause the above error:\n1.on_shared_storage is true and driver.instance_on_disk() is false\n2.on_shared_storage is false and driver.instance_on_disk() is true\n\ndriver.instance_on_disk() just determines whether it is shared storage\naccording to image backend, rather than volume backend.\n\nTo fix this bug, we first check that an instance is booted from volume,\nif so, we assume its storage is shared.\n\nCloses-Bug: #1624797\nChange-Id: I96ae33f86aea33c0b2b3e1fff0da263d10baebe7\n'}]",0,372045,343b5376a02a89be6fd19992589aad319002254f,77,13,8,15424,,,0,"Failed to evacuate instances booted from volume

If nova image backend is ceph rbd, when evacuating an instance booted
from volume, it will always fail with error:
""InvalidSharedStorage: Invalid state of instance files on shared storage""

Since the incoming parameter `on_shared_storage` and the compute driver
judgment are inconsistent, it raises exception.InvalidSharedStorage.

In the following two situations can cause the above error:
1.on_shared_storage is true and driver.instance_on_disk() is false
2.on_shared_storage is false and driver.instance_on_disk() is true

driver.instance_on_disk() just determines whether it is shared storage
according to image backend, rather than volume backend.

To fix this bug, we first check that an instance is booted from volume,
if so, we assume its storage is shared.

Closes-Bug: #1624797
Change-Id: I96ae33f86aea33c0b2b3e1fff0da263d10baebe7
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/372045/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,14d8c57cfbfc2ebbb033eb733180cda39594f35a,bug/1624797," if not bool(instance.get('image_ref')): # If instance is booted from volume, the storage must be shared on_shared_storage = True elif on_shared_storage is None:", if on_shared_storage is None:,4,1
openstack%2Fnova~master~I4919ea1913e5531875e0780f1e4aadc26fa3a122,openstack/nova,master,I4919ea1913e5531875e0780f1e4aadc26fa3a122,Allow resize on compute host to accept existing migration objects,ABANDONED,2016-12-13 13:25:46.000000000,2017-08-01 09:55:29.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-12-13 13:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5126e9b7c89868866c5799194daa38bd95cbecd', 'message': ""Allow resize on compute host to accept existing migration objects\n\nthis patch extends api for resource tracker and\ncompute manager's prep_resize, which allows to create\nmigration object on conductor's side\n\nChange-Id: I4919ea1913e5531875e0780f1e4aadc26fa3a122\n""}, {'number': 2, 'created': '2016-12-13 13:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/308a25a47ce8407cbbf9662db396604b1531bf0d', 'message': ""Allow resize on compute host to accept existing migration objects\n\nFor now migration objects could be created in 2 places:\n-compute nodes(during move_claim)\n-conductor(live-migration)\n\nThe problem here that record for cold-migration/resize are created way\ntoo late, so some steps aren't tracked by migration-records.\n\nTo improve this nova should create migration objects in conductor, as\nit's done for live-migrations.\n\nThis patch is a preparation for that, because for now, if we introduce\nthat logic in conductor and start passing migration objects to computes\nit's possible to end up with duplicate migration objects during upgrades\nprocedure. One will be created on conductor, will not be passed to compute\nnode, and compute will create anotrher one. So, first we need to teach computes\nto accept migration objects. This patch extends resource_tracker's\nresize_claim and compute's manager prep_resize, arguments list to accept\nexisting migration object.\n\n\nChange-Id: I4919ea1913e5531875e0780f1e4aadc26fa3a122\n""}, {'number': 3, 'created': '2016-12-13 19:40:57.000000000', 'files': ['nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/60fc19053692cc7f839e84d46ccea8f1d91376b4', 'message': ""Allow resize on compute host to accept existing migration objects\n\nFor now migration objects could be created in 2 places:\n-compute nodes(during move_claim)\n-conductor(live-migration)\n\nThe problem here that record for cold-migration/resize are created way\ntoo late, so some steps aren't tracked by migration-records.\n\nTo improve this nova should create migration objects in conductor, as\nit's done for live-migrations.\n\nThis patch is a preparation for that, because for now, if we introduce\nthat logic in conductor and start passing migration objects to computes\nit's possible to end up with duplicate migration objects during upgrades\nprocedure. One will be created on conductor, will not be passed to compute\nnode, and compute will create anotrher one. So, first we need to teach computes\nto accept migration objects. This patch extends resource_tracker's\nresize_claim and compute's manager prep_resize, arguments list to accept\nexisting migration object.\n\n\nChange-Id: I4919ea1913e5531875e0780f1e4aadc26fa3a122\n""}]",0,410216,60fc19053692cc7f839e84d46ccea8f1d91376b4,27,15,3,14819,,,0,"Allow resize on compute host to accept existing migration objects

For now migration objects could be created in 2 places:
-compute nodes(during move_claim)
-conductor(live-migration)

The problem here that record for cold-migration/resize are created way
too late, so some steps aren't tracked by migration-records.

To improve this nova should create migration objects in conductor, as
it's done for live-migrations.

This patch is a preparation for that, because for now, if we introduce
that logic in conductor and start passing migration objects to computes
it's possible to end up with duplicate migration objects during upgrades
procedure. One will be created on conductor, will not be passed to compute
node, and compute will create anotrher one. So, first we need to teach computes
to accept migration objects. This patch extends resource_tracker's
resize_claim and compute's manager prep_resize, arguments list to accept
existing migration object.


Change-Id: I4919ea1913e5531875e0780f1e4aadc26fa3a122
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/410216/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/compute/resource_tracker.py']",2,e5126e9b7c89868866c5799194daa38bd95cbecd,," image_meta=None, limits=None, migration=None): image_meta=image_meta, limits=limits, migration=migration)"," image_meta=None, limits=None): image_meta=image_meta, limits=limits)",9,6
openstack%2Fnova~master~I0b559554ffde3a93c68e0aee9fc6bc73614150b6,openstack/nova,master,I0b559554ffde3a93c68e0aee9fc6bc73614150b6,Fix metadata update in race condition,ABANDONED,2016-12-15 13:45:51.000000000,2017-08-01 09:55:28.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-12-15 13:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c40cf9b1c7db79872e808634ba8b4f316cb3d438', 'message': ""Fix metadata update in race condition\n\nIn the current implementation, when multiple\nupdate server's metadata API take place\nconcurrently, problem will occour, details\ncan be found in bug discription.\n\nChange-Id: I0b559554ffde3a93c68e0aee9fc6bc73614150b6\nCloses-bug: #1650188\n""}, {'number': 2, 'created': '2016-12-21 10:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d44135a127e2861a181c6e83e42b8ea2612629f5', 'message': ""Fix metadata update in race condition\n\nIn the current implementation, when multiple\nupdate server's metadata API take place\nconcurrently, problem will occour, details\ncan be found in bug discription.\n\nChange-Id: I0b559554ffde3a93c68e0aee9fc6bc73614150b6\nCloses-bug: #1650188\n""}, {'number': 3, 'created': '2016-12-22 01:33:17.000000000', 'files': ['nova/api/openstack/compute/server_metadata.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/75d8c4e84f9393f11c672589b72c726506dd93b0', 'message': ""Fix metadata update in race condition\n\nIn the current implementation, when multiple\nupdate server's metadata API take place\nconcurrently, problem will occour, details\ncan be found in bug discription.\n\nChange-Id: I0b559554ffde3a93c68e0aee9fc6bc73614150b6\nCloses-bug: #1650188\n""}]",6,411327,75d8c4e84f9393f11c672589b72c726506dd93b0,49,21,3,15888,,,0,"Fix metadata update in race condition

In the current implementation, when multiple
update server's metadata API take place
concurrently, problem will occour, details
can be found in bug discription.

Change-Id: I0b559554ffde3a93c68e0aee9fc6bc73614150b6
Closes-bug: #1650188
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/411327/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/server_metadata.py'],1,c40cf9b1c7db79872e808634ba8b4f316cb3d438,bug/1650188,"from nova import utils @utils.synchronized(instance.uuid) def do_update(): server = common.get_instance(self.compute_api, context, server_id) try: return self.compute_api.update_instance_metadata(context, server, metadata, delete) except exception.InstanceUnknownCell as e: raise exc.HTTPNotFound(explanation=e.format_message()) except exception.QuotaError as error: raise exc.HTTPForbidden(explanation=error.format_message()) except exception.InstanceIsLocked as e: raise exc.HTTPConflict(explanation=e.format_message()) except exception.InstanceInvalidState as state_error: common.raise_http_conflict_for_instance_invalid_state(state_error, 'update metadata', server_id) return do_update()"," server = common.get_instance(self.compute_api, context, server_id) try: return self.compute_api.update_instance_metadata(context, server, metadata, delete) except exception.InstanceUnknownCell as e: raise exc.HTTPNotFound(explanation=e.format_message()) except exception.QuotaError as error: raise exc.HTTPForbidden(explanation=error.format_message()) except exception.InstanceIsLocked as e: raise exc.HTTPConflict(explanation=e.format_message()) except exception.InstanceInvalidState as state_error: common.raise_http_conflict_for_instance_invalid_state(state_error, 'update metadata', server_id)",20,15
openstack%2Fnova~master~Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b,openstack/nova,master,Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b,Missing to update task state for confirm_resize,ABANDONED,2015-11-12 04:21:37.000000000,2017-08-01 09:55:27.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6062}, {'_account_id': 6450}, {'_account_id': 6735}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12712}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15424}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18723}, {'_account_id': 19156}]","[{'number': 1, 'created': '2015-11-12 04:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ab1d7f5e18c9748be60199836f36170c9098004', 'message': ""update task state for the confirm_resize\n\nAlmost all of the async operations will update the task state, but the\nconfirm_resize does not.\n\nThat would cause some trouble: our timer in the browser updates the\ninstances based on the task state until it becomes none,\nif the task state is none(any task is completed), we believe the status\nof an instance is stable, and there is no need to refresh the instance.\nBut at the beginning of the confirm_resize, we did not update the task\nstatus, and the task state is still none,\nso it cause we cannot know when it's completed unless we poll all of the\ninstances of any state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n""}, {'number': 2, 'created': '2015-11-12 06:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59894c1fe28fc8849935afa5732b0607ad0ff65f', 'message': ""update task state for the confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nThat would cause some trouble: our timer in the browser updates the\ninstances based on the task state until it becomes none,\nif the task state is none(any task is completed), we believe the status\nof an instance is stable, and there is no need to refresh the instance.\nBut at the beginning of the confirm_resize, we did not update the task\nstatus, and the task state is still none,\nso it cause we cannot know when it's completed unless we poll all of the\ninstances of any state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n""}, {'number': 3, 'created': '2015-11-12 09:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42271fba3a5f2a03cca770130f75c7c8179e27c6', 'message': ""update task state for the confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nThat would cause some trouble: our timer in the browser updates the\ninstances based on the task state until it becomes none,\nif the task state is none(any task is completed), we believe the status\nof an instance is stable, and there is no need to refresh the instance.\nBut at the beginning of the confirm_resize, we did not update the task\nstatus, and the task state is still none,\nso it cause we cannot know when it's completed unless we poll all of the\ninstances of any state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n""}, {'number': 4, 'created': '2015-11-12 10:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dda9aa22bc6b9c6716343695c22c558a3bb26a1', 'message': ""update task state for the confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nThat would cause some trouble: our timer in the browser updates the\ninstances based on the task state until it becomes none,\nif the task state is none(any task is completed), we believe the status\nof an instance is stable, and there is no need to refresh the instance.\nBut at the beginning of the confirm_resize, we did not update the task\nstatus, and the task state is still none,\nso it cause we cannot know when it's completed unless we poll all of the\ninstances of any state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n""}, {'number': 5, 'created': '2015-12-08 03:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91bd272e2ba32eec38a47ae35d0ea07ce947d7b1', 'message': ""update task state for the confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nThat would cause some trouble: our timer in the browser updates the\ninstances based on the task state until it becomes none,\nif the task state is none(any task is completed), we believe the status\nof an instance is stable, and there is no need to refresh the instance.\nBut at the beginning of the confirm_resize, we did not update the task\nstatus, and the task state is still none,\nso it cause we cannot know when it's completed unless we poll all of the\ninstances of any state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n""}, {'number': 6, 'created': '2015-12-16 16:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f2f8be9b24edc68202b0206ef750e5bf2b4d6b6', 'message': ""update task state for the confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nThat would cause some trouble: our timer in the browser updates the\ninstances based on the task state until it becomes none,\nif the task state is none(any task is completed), we believe the status\nof an instance is stable, and there is no need to refresh the instance.\nBut at the beginning of the confirm_resize, we did not update the task\nstatus, and the task state is still none,\nso it cause we cannot know when it's completed unless we poll all of the\ninstances of any state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n""}, {'number': 7, 'created': '2015-12-30 06:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c69f286906d545de516725ba4e17cef48cfaa757', 'message': ""Missing to update task state for confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nThat would cause some trouble: our timer in the browser updates the\ninstances based on the task state until it becomes none,\nif the task state is none(any task is completed), we believe the status\nof an instance is stable, and there is no need to refresh the instance.\nBut at the beginning of the confirm_resize, we did not update the task\nstatus, and the task state is still none,\nso it cause we cannot know when it's completed unless we poll all of the\ninstances of any state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n""}, {'number': 8, 'created': '2016-02-08 12:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3b4d2cd89b31879215b43a7704cd428fabb582d', 'message': ""Missing to update task state for confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nThat would cause some trouble: our timer in the browser updates the\ninstances based on the task state until it becomes none,\nif the task state is none(any task is completed), we believe the status\nof an instance is stable, and there is no need to refresh the instance.\nBut at the beginning of the confirm_resize, we did not update the task\nstatus, and the task state is still none,\nso it cause we cannot know when it's completed unless we poll all of the\ninstances of any state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n""}, {'number': 9, 'created': '2016-02-18 05:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea896aa4029d41f8110d6c46cc4eb03bd5e5a7ae', 'message': 'Missing to update task state for confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nNot setting the task state causes problems for any applications that\npoll based on task state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n'}, {'number': 10, 'created': '2016-03-09 06:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/975661836b15aa4f46af9c2e3eff5b65bccd7778', 'message': 'Missing to update task state for confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nNot setting the task state causes problems for any applications that\npoll based on task state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n'}, {'number': 11, 'created': '2016-03-28 12:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc7c73d1f11a7020ff889009f384b47e67ef1a3f', 'message': 'Missing to update task state for confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nNot setting the task state causes problems for any applications that\npoll based on task state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n'}, {'number': 12, 'created': '2016-03-29 03:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d335270027d6c48f062618a03c2194cb9d9a879c', 'message': 'Missing to update task state for confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nNot setting the task state causes problems for any applications that\npoll based on task state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n'}, {'number': 13, 'created': '2016-03-29 05:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3933b8d732cf4404be716f1d0fe4ef15b8e12c01', 'message': 'Missing to update task state for confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nNot setting the task state causes problems for any applications that\npoll based on task state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n'}, {'number': 14, 'created': '2016-05-23 09:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/774a51eeadcd5649c5c16dddd56edf6442c7ceab', 'message': 'Missing to update task state for confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nNot setting the task state causes problems for any applications that\npoll based on task state.\n\nMoreover it should be at least consistent with the revert_resize,and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of the confirm_resize.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n'}, {'number': 15, 'created': '2016-09-14 09:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49b942b87b5c2e3ec63b0114f94a69e694910548', 'message': 'Missing to update task state for confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nNot setting the task state causes problems for any applications that\npoll based on task state.\n\nMoreover it should be at least consistent with the revert_resize, and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of confirm_resize action.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n'}, {'number': 16, 'created': '2016-09-14 10:48:05.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/common.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'doc/notification_samples/service-update.json', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/80c325e16c4f98a0ee5e2d30e30307229677f3e7', 'message': 'Missing to update task state for confirm_resize\n\nAlmost all of the async operations would update the task state, but the\nconfirm_resize does not.\n\nNot setting the task state causes problems for any applications that\npoll based on task state.\n\nMoreover it should be at least consistent with the revert_resize, and the\nstate RESIZE_CONFIRMING has been defined but not used.\n\nThis patch we will update the task state into RESIZE_CONFIRMING at the\nbeginning of confirm_resize action.\n\nChange-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b\nCloses-Bug: #1515476\n'}]",14,244433,80c325e16c4f98a0ee5e2d30e30307229677f3e7,214,25,16,15424,,,0,"Missing to update task state for confirm_resize

Almost all of the async operations would update the task state, but the
confirm_resize does not.

Not setting the task state causes problems for any applications that
poll based on task state.

Moreover it should be at least consistent with the revert_resize, and the
state RESIZE_CONFIRMING has been defined but not used.

This patch we will update the task state into RESIZE_CONFIRMING at the
beginning of confirm_resize action.

Change-Id: Ifde398054c1cfdb0bafa1832f1ea0596faca1a8b
Closes-Bug: #1515476
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/244433/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/compute/api.py']",2,0ab1d7f5e18c9748be60199836f36170c9098004,bug/1515476, instance.task_state = task_states.RESIZE_CONFIRMING instance.save(expected_task_state=[None]) ,,5,1
openstack%2Fnova~master~I832c6922deac3d2b6129ec05703cfd485bed3001,openstack/nova,master,I832c6922deac3d2b6129ec05703cfd485bed3001,Allow force-delete irrespective of VM task_state,ABANDONED,2016-11-15 06:20:59.000000000,2017-08-01 09:55:26.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20733}]","[{'number': 1, 'created': '2016-11-15 06:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dbe2a16540151d2f0de4a003e9b5ccf852aa92b', 'message': ""Allow force-delete irrespective of VM task_state\n\nCannot delete vm instance if duplicate delete requests are sent.\n\nUser tried to create an instance, which got into error status.\nNow user tried to delete that instance but the instance got\nstuck in 'deleting' task_state. Now user won't be able to delete\nthat instance forever.\n\nThe similar issue happen in below case as well.\nWhen user sends request to delete an instance, its task_state gets\nchanged to 'deleting' state. When an instance task_state is already in\n'deleting' state and if at that moment the rabbitmq-server get crashed\nby some reasons, then the instance task_state remains in 'deleting'\nstate and user won't be able to delete the instance forever.\n\nIn both the above cases, there is only one way to delete the instances,\nwhose task_state is 'deleting' state, by restarting the nova-compute\nservices where these instances are running.\n\nTo avoid restarting the nova-compute service manually, modified the\nforce-delete api to allow instance deletion irrespective of\ninstance task_state.\n\nAdded new instance task_state 'force-deleting' (which is set if instance\nis deleted using force_delete api) to ignore duplicate force-delete\nrequests and still allowing retry on regular delete request.\n\nChange-Id: I832c6922deac3d2b6129ec05703cfd485bed3001\nCloses-Bug: 1641523\n""}, {'number': 2, 'created': '2016-11-18 11:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/532757a80e0eea64ad4a2ad70c0ff4c5df36718a', 'message': ""Allow force-delete irrespective of VM task_state\n\nCannot delete vm instance if duplicate delete requests are sent.\n\nUser tried to create an instance, which got into error status.\nNow user tried to delete that instance but the instance got\nstuck in 'deleting' task_state. Now user won't be able to delete\nthat instance forever.\n\nThe similar issue happen in below case as well.\nWhen user sends request to delete an instance, its task_state gets\nchanged to 'deleting' state. When an instance task_state is already in\n'deleting' state and if at that moment the rabbitmq-server get crashed\nby some reasons, then the instance task_state remains in 'deleting'\nstate and user won't be able to delete the instance forever.\n\nIn both the above cases, there is only one way to delete the instances,\nwhose task_state is 'deleting' state, by restarting the nova-compute\nservices where these instances are running.\n\nTo avoid restarting the nova-compute service manually, modified the\nforce-delete api to allow instance deletion irrespective of\ninstance task_state.\n\nAdded new instance task_state 'force-deleting' (which is set if instance\nis deleted using force_delete api) to ignore duplicate force-delete\nrequests and still allowing retry on regular delete request.\n\nChange-Id: I832c6922deac3d2b6129ec05703cfd485bed3001\nCloses-Bug: 1641523\n""}, {'number': 3, 'created': '2016-11-22 07:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f52f8145ac20157644b7113cfd763adbf1a8c926', 'message': ""Allow force-delete irrespective of VM task_state\n\nCannot delete vm instance if duplicate delete requests are sent.\n\nUser tried to create an instance, which got into error status.\nNow user tried to delete that instance but the instance got\nstuck in 'deleting' task_state. Now user won't be able to delete\nthat instance forever.\n\nThe similar issue happen in below case as well.\nWhen user sends request to delete an instance, its task_state gets\nchanged to 'deleting' state. When an instance task_state is already in\n'deleting' state and if at that moment the rabbitmq-server get crashed\nby some reasons, then the instance task_state remains in 'deleting'\nstate and user won't be able to delete the instance forever.\n\nIn both the above cases, there is only one way to delete the instances,\nwhose task_state is 'deleting' state, by restarting the nova-compute\nservices where these instances are running.\n\nTo avoid restarting the nova-compute service manually, modified the\nforce-delete api to allow instance deletion irrespective of\ninstance task_state.\n\nAdded new instance task_state 'force-deleting' (which is set if instance\nis deleted using force_delete api) to ignore duplicate force-delete\nrequests and still allowing retry on regular delete request.\n\nChange-Id: I832c6922deac3d2b6129ec05703cfd485bed3001\nCloses-Bug: 1641523\n""}, {'number': 4, 'created': '2016-11-25 07:41:38.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/deferred_delete.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/compute/task_states.py', 'nova/api/openstack/common.py', 'nova/objects/fields.py', 'nova/compute/manager.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c31e93c7fcd19ac86605e312289bfcf645d91f3f', 'message': ""Allow force-delete irrespective of VM task_state\n\nCannot delete vm instance if duplicate delete requests are sent.\n\nUser tried to create an instance, which got into error status.\nNow user tried to delete that instance but the instance got\nstuck in 'deleting' task_state. Now user won't be able to delete\nthat instance forever.\n\nThe similar issue happen in below case as well.\nWhen user sends request to delete an instance, its task_state gets\nchanged to 'deleting' state. When an instance task_state is already in\n'deleting' state and if at that moment the rabbitmq-server get crashed\nby some reasons, then the instance task_state remains in 'deleting'\nstate and user won't be able to delete the instance forever.\n\nIn both the above cases, there is only one way to delete the instances,\nwhose task_state is 'deleting' state, by restarting the nova-compute\nservices where these instances are running.\n\nTo avoid restarting the nova-compute service manually, modified the\nforce-delete api to allow instance deletion irrespective of\ninstance task_state.\n\nAdded new instance task_state 'force-deleting' (which is set if instance\nis deleted using force_delete api) to ignore duplicate force-delete\nrequests and still allowing retry on regular delete request.\n\nChange-Id: I832c6922deac3d2b6129ec05703cfd485bed3001\nCloses-Bug: 1641523\n""}]",2,397542,c31e93c7fcd19ac86605e312289bfcf645d91f3f,63,16,4,20733,,,0,"Allow force-delete irrespective of VM task_state

Cannot delete vm instance if duplicate delete requests are sent.

User tried to create an instance, which got into error status.
Now user tried to delete that instance but the instance got
stuck in 'deleting' task_state. Now user won't be able to delete
that instance forever.

The similar issue happen in below case as well.
When user sends request to delete an instance, its task_state gets
changed to 'deleting' state. When an instance task_state is already in
'deleting' state and if at that moment the rabbitmq-server get crashed
by some reasons, then the instance task_state remains in 'deleting'
state and user won't be able to delete the instance forever.

In both the above cases, there is only one way to delete the instances,
whose task_state is 'deleting' state, by restarting the nova-compute
services where these instances are running.

To avoid restarting the nova-compute service manually, modified the
force-delete api to allow instance deletion irrespective of
instance task_state.

Added new instance task_state 'force-deleting' (which is set if instance
is deleted using force_delete api) to ignore duplicate force-delete
requests and still allowing retry on regular delete request.

Change-Id: I832c6922deac3d2b6129ec05703cfd485bed3001
Closes-Bug: 1641523
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/397542/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/deferred_delete.py', 'nova/compute/task_states.py', 'nova/api/openstack/common.py', 'nova/compute/manager.py', 'nova/compute/api.py']",6,9dbe2a16540151d2f0de4a003e9b5ccf852aa92b,bug/1641523," if instance.task_state == task_states.FORCE_DELETING: raise exception.InstanceInvalidState( attr='task_state', instance_uuid=instance.uuid, state=instance.task_state, method=delete_type) if (delete_type != 'force_delete' and original_task_state in ( task_states.DELETING, task_states.SOFT_DELETING)): @check_instance_state(task_state=None, must_have_launched=False) task_state=task_states.FORCE_DELETING)"," if original_task_state in (task_states.DELETING, task_states.SOFT_DELETING): @check_instance_state(must_have_launched=False) task_state=task_states.DELETING)",57,14
openstack%2Fpython-novaclient~master~I53bb287d127edbbff89d4928100696efbc7786aa,openstack/python-novaclient,master,I53bb287d127edbbff89d4928100696efbc7786aa,Removing version error from command nova keypair-add help,ABANDONED,2016-11-10 16:34:42.000000000,2017-08-01 09:55:25.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 10608}, {'_account_id': 16907}, {'_account_id': 20477}]","[{'number': 1, 'created': '2016-11-10 16:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/f4dd8ae29ab29f264f7a349be071ffbee9b9e880', 'message': 'Removing version error from command nova keypair-add help\n\nIf someone is using ‘nova keypair-add help’ instead of ‘nova help keypair-add’\nThen it is throwing error api error which is misleading and user is confused.\n\nThis is happening because of the fact help word present in the argv is disabling\nThe authentication and making wrong call flow of the function.\n\nTo improve user experience ‘nova keypair-add help’  will create keypair with\nname help. And nova help keypair-add will display help of this command.\n\nCloses-Bug: #1559198\n\nChange-Id: I53bb287d127edbbff89d4928100696efbc7786aa\n'}, {'number': 2, 'created': '2016-11-10 16:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9602c67a94fa273e98d184e73c513222ca89b502', 'message': 'Removing version error from command nova keypair-add help\n\nIf someone is using ‘nova keypair-add help’ instead of\n‘nova help keypair-add’ Then it is throwing error api\nerror which is misleading and user is confused.\n\nThis is happening because of the fact help word present\nin the argv is disabling The authentication and making\nwrong call flow of the function.\n\nTo improve user experience ‘nova keypair-add help’\nwill create keypair with name help. And nova help\n\nkeypair-add will display help of this command.\n\nCloses-Bug: #1559198\n\nChange-Id: I53bb287d127edbbff89d4928100696efbc7786aa\n'}, {'number': 3, 'created': '2016-11-11 11:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/f8dfaf5e380b3d12b67924ebd7861f0c73bbd4ae', 'message': ""Removing version error from command nova keypair-add help\n\nIf someone is using ‘nova keypair-add help’ then\nit is throwing  api error that is not correct behavior,\nideally it should create Keypair with name 'help'\nTo correct the behavior of command ‘nova keypair-add help’\nchecks are added so that it should create keypair with name\nhelp instead of throwing API error.\n\nCloses-Bug: #1559198\n\nChange-Id: I53bb287d127edbbff89d4928100696efbc7786aa\n""}, {'number': 4, 'created': '2016-11-11 12:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/42cb7cf5bd2a472236f53b9732b91a3791cd31ee', 'message': ""Removing version error from command nova keypair-add help\n\nIf someone is using ‘nova keypair-add help’ then\nit is throwing  api error that is not correct behavior,\nideally it should create Keypair with name 'help'\nTo correct the behavior of command ‘nova keypair-add help’\nchecks are added so that it should create keypair with name\nhelp instead of throwing API error.\nSame handling is also added for the command\nnova keypair-delete\n\nCloses-Bug: #1559198\n\nChange-Id: I53bb287d127edbbff89d4928100696efbc7786aa\n""}, {'number': 5, 'created': '2016-11-15 16:18:24.000000000', 'files': ['novaclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/deb63606d59933b36e46ff9c3001b4b88d99cc0a', 'message': ""Removing version error from command nova keypair-add help\n\nIf someone is using ‘nova keypair-add help’ then it\nis throwing  api error that is not correct behavior,\nideally it should create Keypair with name 'help'\nTo correct the behavior of command ‘nova keypair-add help’\nchecks are added so that it should create keypair with name\nhelp instead of throwing API error. Same handling is also\nadded for the command nova keypair-delete\n\nCloses-Bug: #1559198\n\nChange-Id: I53bb287d127edbbff89d4928100696efbc7786aa\n""}]",23,396312,deb63606d59933b36e46ff9c3001b4b88d99cc0a,18,6,5,20477,,,0,"Removing version error from command nova keypair-add help

If someone is using ‘nova keypair-add help’ then it
is throwing  api error that is not correct behavior,
ideally it should create Keypair with name 'help'
To correct the behavior of command ‘nova keypair-add help’
checks are added so that it should create keypair with name
help instead of throwing API error. Same handling is also
added for the command nova keypair-delete

Closes-Bug: #1559198

Change-Id: I53bb287d127edbbff89d4928100696efbc7786aa
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/12/396312/3 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/shell.py'],1,f4dd8ae29ab29f264f7a349be071ffbee9b9e880,bug/1559198," # ToDo Need to evalute how to handle way of handling # Command nova keypair-add help, Currently is makying keypair # help. and nova help keypair-add will display help # of this command if 'keypair-add' == argv[0]: do_help = (('help' in argv) and ('help' != argv[1])) or ( '--help' in argv) or ('-h' in argv) or not argv else: do_help = ('help' in argv) or ( '--help' in argv) or ('-h' in argv) or not argv", do_help = ('help' in argv) or ( '--help' in argv) or ('-h' in argv) or not argv ,10,3
openstack%2Fnova~master~I7b2012f75cf0af528a256062064e0e2662bf8664,openstack/nova,master,I7b2012f75cf0af528a256062064e0e2662bf8664,Log parsing tool and post_test_hook script,ABANDONED,2016-09-26 14:14:36.000000000,2017-08-01 09:55:24.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 21784}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-09-26 14:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39ce38c7c2c4ec3b57df009ed5b79488fc019738', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 2, 'created': '2016-09-26 16:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fe9f076400683e430f99555aeacceda03cf33b9', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 3, 'created': '2016-09-28 11:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5f66e4c1376dc6764f5ace695740ef236cdd94a', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 4, 'created': '2016-09-28 11:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9aa23e0a17a7e9e107623910747867342f86ac9c', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 5, 'created': '2016-09-28 12:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a132ce6527a0e00c42364d32ac60127df5b1a2a5', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 6, 'created': '2016-09-28 16:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16578c8699af4beae81e9375d40eb7ea3efc81cc', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 7, 'created': '2016-09-28 18:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba2f8b3cdaafd5497d5e4ecc632b91d210636c92', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 8, 'created': '2016-09-29 18:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32aa9e7e7cd6624086e3920141d52d7f86d8b8f3', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 9, 'created': '2016-09-30 20:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1156103f8aa78a9e16a8a4fb56c33815ef643f09', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 10, 'created': '2016-10-03 15:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0589cdd27172b7ea2ae81941b52240ced2f02710', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 11, 'created': '2016-10-03 17:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a2e2f2fbe0134ed460891a33793fe04b572bf26', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}, {'number': 12, 'created': '2016-10-17 20:35:02.000000000', 'files': ['tools/logparse.py', 'gate/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/68c08f5dc0aa6caf99a98ce4a937c7cf04e5231d', 'message': 'Log parsing tool and post_test_hook script\n\nSometimes devs make statements like ""There seem to be more warnings in\nthis CI run"" but there hasn\'t been a good way to quantify that. This\nadds a script which will parse Nova logs after a CI run and output\ncounts of various events in a json file. Then runs can be compared\nagainst each other, or graphed for easy consumption.\n\nTo start the following events are counted:\nNumber of messages at each log level.\nNumber of calls to rootwrap.\nNumber of RPC messages sent/received.\nNumber of notifications sent.\nNumber of periodic jobs run.\nNumber of request-ids seen.\nTotal number of log lines.\n\nChange-Id: I7b2012f75cf0af528a256062064e0e2662bf8664\n'}]",11,376531,68c08f5dc0aa6caf99a98ce4a937c7cf04e5231d,127,18,12,5441,,,0,"Log parsing tool and post_test_hook script

Sometimes devs make statements like ""There seem to be more warnings in
this CI run"" but there hasn't been a good way to quantify that. This
adds a script which will parse Nova logs after a CI run and output
counts of various events in a json file. Then runs can be compared
against each other, or graphed for easy consumption.

To start the following events are counted:
Number of messages at each log level.
Number of calls to rootwrap.
Number of RPC messages sent/received.
Number of notifications sent.
Number of periodic jobs run.
Number of request-ids seen.
Total number of log lines.

Change-Id: I7b2012f75cf0af528a256062064e0e2662bf8664
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/376531/9 && git format-patch -1 --stdout FETCH_HEAD,"['tools/logparse.py', 'nova/tests/live_migration/hooks/run_tests.sh', 'nova/policy.py']",3,39ce38c7c2c4ec3b57df009ed5b79488fc019738,log_analyze_tools, # Random comment to trigger a full test run.,,217,1
openstack%2Fnova~master~I325e93591f401c03868baf5e7961c059661bb00a,openstack/nova,master,I325e93591f401c03868baf5e7961c059661bb00a,Hyper-V: Shielded VMs,ABANDONED,2017-01-03 07:46:09.000000000,2017-08-01 09:55:22.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 8213}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-03 07:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40e39798239322d7a88f8893b1eb0ef927713bb7', 'message': 'Hyper-V: Shielded VMs\n\nShielded VMs in Windows Server 2016 protect virtual\nmachines from Hyper-V administrators with the help\nof encryption technologies. Attaching vTPM devices\nto the Hyper-V VMs offers users the posibility to\nenhance their security and system integrity. This\nblueprint implements this feature.\n\nChange-Id: I325e93591f401c03868baf5e7961c059661bb00a\nImplements: blueprint hyper-v-shielded-vms\n'}, {'number': 2, 'created': '2017-01-03 11:11:06.000000000', 'files': ['nova/virt/hyperv/pdk.py', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/virt/hyperv/vmops.py', 'requirements.txt', 'nova/tests/unit/virt/hyperv/test_migrationops.py', 'nova/virt/hyperv/constants.py', 'nova/virt/hyperv/migrationops.py', 'nova/tests/unit/virt/hyperv/test_pdk.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ec80b5e8b5e047964e09b4b41727f5628c91552', 'message': 'Hyper-V: Shielded VMs\n\nShielded VMs in Windows Server 2016 protect virtual\nmachines from Hyper-V administrators with the help\nof encryption technologies. Attaching vTPM devices\nto the Hyper-V VMs offers users the posibility to\nenhance their security and system integrity. This\nblueprint implements this feature.\n\nChange-Id: I325e93591f401c03868baf5e7961c059661bb00a\nImplements: blueprint hyper-v-shielded-vms\n'}]",4,416166,4ec80b5e8b5e047964e09b4b41727f5628c91552,31,14,2,12582,,,0,"Hyper-V: Shielded VMs

Shielded VMs in Windows Server 2016 protect virtual
machines from Hyper-V administrators with the help
of encryption technologies. Attaching vTPM devices
to the Hyper-V VMs offers users the posibility to
enhance their security and system integrity. This
blueprint implements this feature.

Change-Id: I325e93591f401c03868baf5e7961c059661bb00a
Implements: blueprint hyper-v-shielded-vms
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/416166/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/pdk.py', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/virt/hyperv/vmops.py', 'requirements.txt', 'nova/tests/unit/virt/hyperv/test_migrationops.py', 'nova/virt/hyperv/constants.py', 'nova/virt/hyperv/migrationops.py', 'nova/tests/unit/virt/hyperv/test_pdk.py']",8,40e39798239322d7a88f8893b1eb0ef927713bb7,bp/implements,"# Copyright 2016 Cloudbase Solutions Srl # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import exception from nova.tests.unit.virt.hyperv import test_base from nova.virt.hyperv import pdk from six.moves import builtins class PDKTestCase(test_base.HyperVBaseTestCase): _FAKE_PDK_FILE_PATH = 'C:\\path\\to\\fakepdk.pdk' def setUp(self): super(PDKTestCase, self).setUp() self._pdk = pdk.PDK() @mock.patch.object(builtins, 'open') @mock.patch.object(pdk.PDK, '_get_pdk_data') @mock.patch.object(pdk.PDK, '_get_pdk_container') @mock.patch.object(pdk.PDK, '_get_pdk_reference') def test_create_pdk(self, mock_get_pdk_reference, mock_get_pdk_container, mock_get_pdk_data, mock_open): mock_instance = mock.MagicMock() pdk_file_handle = mock_open.return_value.__enter__.return_value pdk_reference = mock_get_pdk_reference.return_value pdk_container = mock_get_pdk_container.return_value self._pdk.create_pdk(mock.sentinel.context, mock_instance, mock.sentinel.image_meta, self._FAKE_PDK_FILE_PATH) mock_get_pdk_reference.assert_called_once_with( mock_instance, mock.sentinel.image_meta) mock_get_pdk_container.assert_called_once_with(mock.sentinel.context, mock_instance, pdk_reference) mock_get_pdk_data.assert_called_once_with(pdk_container) pdk_file_handle.write.assert_called_once_with( mock_get_pdk_data.return_value) def _test_get_pdk_reference(self, pdk_reference=None, image_meta_pdk_ref=None): mock_instance = mock.MagicMock( metadata={'img_pdk_reference': image_meta_pdk_ref}) image_meta = { 'properties': {'img_pdk_reference': pdk_reference}} expected_result = image_meta_pdk_ref or pdk_reference result = self._pdk._get_pdk_reference(mock_instance, image_meta) self.assertEqual(expected_result, result) def test_get_pdk_boot_reference(self): self._test_get_pdk_reference( image_meta_pdk_ref=mock.sentinel.image_meta_pdk_ref) def test_get_pdk_image_reference(self): self._test_get_pdk_reference(pdk_reference=mock.sentinel.pdk_reference) def test_get_pdk_no_reference(self): image_meta = {'properties': {}} mock_instance = mock.MagicMock(metadata={}) self.assertRaises(exception.MissingParameter, self._pdk._get_pdk_reference, mock_instance, image_meta) @mock.patch('barbicanclient.client.Client') @mock.patch('keystoneclient.session.Session') def test_get_pdk_container(self, mock_session, mock_barbican_client): instance = mock.MagicMock() context = mock.MagicMock() auth = context.get_auth_plugin.return_value sess = mock_session.return_value barbican_client = mock_barbican_client.return_value barbican_client.containers.get.return_value = ( mock.sentinel.pdk_container) result = self._pdk._get_pdk_container(context, instance, mock.sentinel.pdk_reference) self.assertEqual(mock.sentinel.pdk_container, result) mock_session.assert_called_once_with(auth=auth) mock_barbican_client.assert_called_once_with(session=sess) @mock.patch('barbicanclient.client.Client') @mock.patch('keystoneclient.session.Session') def test_get_pdk_container_exception(self, mock_session, mock_barbican_client): instance = mock.MagicMock() context = mock.MagicMock() auth = context.get_auth_plugin.return_value sess = mock_session.return_value barbican_client = mock_barbican_client.return_value barbican_client.containers.get.side_effect = [ exception.InvalidMetadata] self.assertRaises(exception.InvalidMetadata, self._pdk._get_pdk_container, context, instance, mock.sentinel.pdk_reference) mock_session.assert_called_once_with(auth=auth) mock_barbican_client.assert_called_once_with(session=sess) def test_get_pdk_data(self): pdk_container = mock.MagicMock() pdk_container.secrets = {'1': mock.MagicMock(payload=b'fake_secret1'), '2': mock.MagicMock(payload=b'fake_secret2')} response = self._pdk._get_pdk_data(pdk_container) expected_result = b'fake_secret1fake_secret2' self.assertEqual(expected_result, response) ",,501,13
openstack%2Fnova~master~Idb133c63fe06973f61851e39842df412a03678af,openstack/nova,master,Idb133c63fe06973f61851e39842df412a03678af,[H235]fix assert to assertTrue,ABANDONED,2016-12-13 08:40:29.000000000,2017-08-01 09:55:21.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 18602}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-12-13 08:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce1094371dcd1d12a65559b66c14899e898aa18f', 'message': 'fix assert to assertTrue\n\nChange-Id: Idb133c63fe06973f61851e39842df412a03678af\n'}, {'number': 2, 'created': '2016-12-14 07:21:09.000000000', 'files': ['nova/tests/unit/test_hacking.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/772311723993d6d4e2a3a170c20cb61c7881b7d2', 'message': '[H235]fix assert to assertTrue\n\nChange-Id: Idb133c63fe06973f61851e39842df412a03678af\n'}]",0,410093,772311723993d6d4e2a3a170c20cb61c7881b7d2,15,8,2,24061,,,0,"[H235]fix assert to assertTrue

Change-Id: Idb133c63fe06973f61851e39842df412a03678af
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/410093/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_hacking.py'],1,ce1094371dcd1d12a65559b66c14899e898aa18f,bug_assert," ""self.assertTrue( a in b)""))), 1) ""self.assertTrue( 'str' in 'string')""))), 1) ""self.assertTrue( any(a==1 for a in b))""))), 0) self.assertTrue( context_is_admin)"," ""self.assertEqual(True, a in b)""))), 1) ""self.assertEqual(True, 'str' in 'string')""))), 1) ""self.assertEqual(True, any(a==1 for a in b))""))), 0) self.assertEqual(True, context_is_admin)",4,4
openstack%2Fnova~master~I1f067b22df110ee2ddd014d24713c4ef34237dbb,openstack/nova,master,I1f067b22df110ee2ddd014d24713c4ef34237dbb,WIP: [scheduler] fixes aggregate_image_properties_isolation filter,ABANDONED,2016-11-28 11:47:08.000000000,2017-08-01 09:55:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 11564}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-11-28 11:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/969c339a23c7a5ea414af93192d14e88e39fe7d0', 'message': 'WIP: [scheduler] fixes aggregate_image_properties_isolation filter\n\nAggregateImagePropertiesIsolation filter should iterate over image properties\ninstead of aggregate metadata, because aggregate is a provider of options\nand the filter should check that the query matches these requirements.\nThis behaviour is written in the docs related to this filter, also this\nbehaviour differs from similar AggregateInstanceExtraSpecsFilter.\n\nCloses-bug: # (todo: create bug for this)\n\nChange-Id: I1f067b22df110ee2ddd014d24713c4ef34237dbb\n'}, {'number': 2, 'created': '2016-11-28 13:31:38.000000000', 'files': ['nova/scheduler/filters/aggregate_image_properties_isolation.py', 'nova/objects/image_meta.py', 'nova/tests/unit/scheduler/filters/test_aggregate_image_properties_isolation_filters.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a989e7bb1d015297a598bba8f23b2740fdeff71a', 'message': 'WIP: [scheduler] fixes aggregate_image_properties_isolation filter\n\nAggregateImagePropertiesIsolation filter should iterate over image properties\ninstead of aggregate metadata, because aggregate is a provider of options\nand the filter should check that the query matches these requirements.\nThis behaviour is written in the docs related to this filter, also this\nbehaviour differs from similar AggregateInstanceExtraSpecsFilter.\n\nCloses-bug: # (todo: create bug for this)\n\nChange-Id: I1f067b22df110ee2ddd014d24713c4ef34237dbb\n'}]",9,403640,a989e7bb1d015297a598bba8f23b2740fdeff71a,23,15,2,10618,,,0,"WIP: [scheduler] fixes aggregate_image_properties_isolation filter

AggregateImagePropertiesIsolation filter should iterate over image properties
instead of aggregate metadata, because aggregate is a provider of options
and the filter should check that the query matches these requirements.
This behaviour is written in the docs related to this filter, also this
behaviour differs from similar AggregateInstanceExtraSpecsFilter.

Closes-bug: # (todo: create bug for this)

Change-Id: I1f067b22df110ee2ddd014d24713c4ef34237dbb
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/403640/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filters/aggregate_image_properties_isolation.py', 'nova/objects/image_meta.py', 'nova/tests/unit/scheduler/filters/test_aggregate_image_properties_isolation_filters.py']",3,969c339a23c7a5ea414af93192d14e88e39fe7d0,bug_image_filter_new," def test_aggregate_image_properties_isolation_props_imgprops_fails(self, self.assertFalse(self.filt_cls.host_passes(host, spec_obj)) def test_aggregate_image_properties_iso_props_with_custom_meta_fails(self, self.assertFalse(self.filt_cls.host_passes(host, spec_obj)) def test_aggregate_image_properties_isolation_two_on_one_key_fails( self, agg_mock): agg_mock.return_value = {'hw_cpu_cores': set('2')} spec_obj = objects.RequestSpec( context=mock.sentinel.ctx, image=objects.ImageMeta(properties=objects.ImageMetaProps( hw_cpu_cores=2, os_type='linux'))) host = fakes.FakeHostState('host1', 'compute', {}) self.assertFalse(self.filt_cls.host_passes(host, spec_obj))"," def test_aggregate_image_properties_isolation_props_imgprops_passes(self, self.assertTrue(self.filt_cls.host_passes(host, spec_obj)) def test_aggregate_image_properties_iso_props_with_custom_meta(self, self.assertTrue(self.filt_cls.host_passes(host, spec_obj))",39,25
openstack%2Fnova~master~Ib9b4d4aed4f599bb4b7dde5f5c1f74384c6bbcb8,openstack/nova,master,Ib9b4d4aed4f599bb4b7dde5f5c1f74384c6bbcb8,WIP: Remove duplicate BDM validation,ABANDONED,2017-01-24 16:07:31.000000000,2017-08-01 09:55:19.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-24 16:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30f221bcdad794b1425d90c3ef4658e1ccf20d50', 'message': 'WIP: Remove duplicate BDM validation\n\nTesting..\n\nChange-Id: Ib9b4d4aed4f599bb4b7dde5f5c1f74384c6bbcb8\n'}, {'number': 2, 'created': '2017-01-24 16:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d50a5014a3c51b5c36e93eda3647a864b3f2a103', 'message': 'WIP: Remove duplicate BDM validation\n\nTesting..\n\nChange-Id: Ib9b4d4aed4f599bb4b7dde5f5c1f74384c6bbcb8\n'}, {'number': 3, 'created': '2017-01-24 17:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c390e9c8c3bb43f78c569b036d6e52511f209b9', 'message': 'WIP: Remove duplicate BDM validation\n\nTesting..\n\nChange-Id: Ib9b4d4aed4f599bb4b7dde5f5c1f74384c6bbcb8\n'}, {'number': 4, 'created': '2017-01-24 17:52:42.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/21297f3b937bdf66d7add3d4d377d60800b236cd', 'message': 'WIP: Remove duplicate BDM validation\n\nTesting..\n\nChange-Id: Ib9b4d4aed4f599bb4b7dde5f5c1f74384c6bbcb8\n'}]",0,424719,21297f3b937bdf66d7add3d4d377d60800b236cd,20,12,4,4393,,,0,"WIP: Remove duplicate BDM validation

Testing..

Change-Id: Ib9b4d4aed4f599bb4b7dde5f5c1f74384c6bbcb8
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/424719/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,30f221bcdad794b1425d90c3ef4658e1ccf20d50,bp/cells-scheduling-interaction,," self._validate_bdm( context, instance, instance_type, block_device_mapping)",0,2
openstack%2Fnova~master~Ibce2acbf40f9a82fb2b91b55dac42bbd32c82be3,openstack/nova,master,Ibce2acbf40f9a82fb2b91b55dac42bbd32c82be3,"Add ""supports_device_tagging"" in fake driver for tests",ABANDONED,2017-01-25 07:45:00.000000000,2017-08-01 09:55:18.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-25 07:45:00.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/api_sample_tests/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6fd30da30bed6991b724f4554b7d55c48fc505b5', 'message': 'Add ""supports_device_tagging"" in fake driver for tests\n\nWhile booting server if device tag  is being requested,\ncompute manager checks whether driver support device tagging\nor not. If driver does not, then server goes in failed state.\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L1716\n\nFor functional tests, fake driver does not have device tagging\nin enabled capabilities and tests server with device tag\nend up in failed state after boot.\n\nCurrent tests for version 2.32 or higher(when device tag capability\nis being added) pass successfully as tests just boot server and gets\nexpected response from provisioned server but later same server goes\nin failed state.\n\nfailure can be seen here : http://logs.openstack.org/52/423952/5/check/gate-nova-tox-db-functional-py35-ubuntu-xenial/e8b876b/testr_results.html.gz\n\nThis commit adding ""supports_device_tagging"" capabilities in fake\ndriver and inherit 2.32 and higher version functional tests from\nServersSampleJsonTest so that GET also can be tested.\n\nChange-Id: Ibce2acbf40f9a82fb2b91b55dac42bbd32c82be3\n'}]",0,425030,6fd30da30bed6991b724f4554b7d55c48fc505b5,12,11,1,8556,,,0,"Add ""supports_device_tagging"" in fake driver for tests

While booting server if device tag  is being requested,
compute manager checks whether driver support device tagging
or not. If driver does not, then server goes in failed state.
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L1716

For functional tests, fake driver does not have device tagging
in enabled capabilities and tests server with device tag
end up in failed state after boot.

Current tests for version 2.32 or higher(when device tag capability
is being added) pass successfully as tests just boot server and gets
expected response from provisioned server but later same server goes
in failed state.

failure can be seen here : http://logs.openstack.org/52/423952/5/check/gate-nova-tox-db-functional-py35-ubuntu-xenial/e8b876b/testr_results.html.gz

This commit adding ""supports_device_tagging"" capabilities in fake
driver and inherit 2.32 and higher version functional tests from
ServersSampleJsonTest so that GET also can be tested.

Change-Id: Ibce2acbf40f9a82fb2b91b55dac42bbd32c82be3
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/425030/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/functional/api_sample_tests/test_servers.py']",2,6fd30da30bed6991b724f4554b7d55c48fc505b5,,class ServersSampleJson232Test(ServersSampleJsonTest):class ServersSampleJson237Test(ServersSampleJsonTest):,class ServersSampleJson232Test(ServersSampleBase):class ServersSampleJson237Test(ServersSampleBase):,4,3
openstack%2Fnova~master~I1f92ad1d6f66759ebc62dc14eef80ba09bf73b9d,openstack/nova,master,I1f92ad1d6f66759ebc62dc14eef80ba09bf73b9d,WIP: Allow graceful service exits from compute,ABANDONED,2017-01-26 15:29:25.000000000,2017-08-01 09:55:16.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6849}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-26 15:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f9da7b9056a603d7958b29b5adc445709b1cc01', 'message': 'WIP: Allow graceful service exits from compute\n\nChange-Id: I1f92ad1d6f66759ebc62dc14eef80ba09bf73b9d\n'}, {'number': 2, 'created': '2017-01-26 15:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f01247f297ffc312968a37585909fb0f4cadebc', 'message': 'WIP: Allow graceful service exits from compute\n\nChange-Id: I1f92ad1d6f66759ebc62dc14eef80ba09bf73b9d\n'}, {'number': 3, 'created': '2017-01-26 16:55:58.000000000', 'files': ['nova/exception.py', 'nova/compute/manager.py', 'nova/cmd/compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/955cd42ffaaf76d1b9932a1f787710da2707f697', 'message': 'WIP: Allow graceful service exits from compute\n\nChange-Id: I1f92ad1d6f66759ebc62dc14eef80ba09bf73b9d\n'}]",3,425751,955cd42ffaaf76d1b9932a1f787710da2707f697,25,12,3,4393,,,0,"WIP: Allow graceful service exits from compute

Change-Id: I1f92ad1d6f66759ebc62dc14eef80ba09bf73b9d
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/425751/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/compute/manager.py', 'nova/cmd/compute.py']",3,2f9da7b9056a603d7958b29b5adc445709b1cc01,graceful-service-death," try: server = service.Service.create(binary='nova-compute', topic=CONF.compute_topic) except exception.FailedServiceStart as e: LOG.error('%s' % e) return "," server = service.Service.create(binary='nova-compute', topic=CONF.compute_topic)",14,2
openstack%2Fpython-novaclient~master~I205428dc0b4f4f5445e1f98e880a831d04394947,openstack/python-novaclient,master,I205428dc0b4f4f5445e1f98e880a831d04394947,[cli] Use environment variable for token,ABANDONED,2017-01-26 12:00:17.000000000,2017-08-01 09:55:15.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 9545}]","[{'number': 1, 'created': '2017-01-26 12:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/fe7021c851abf6dbd899638c557c4a9e371588f5', 'message': '[cli] Use environment variable for token\n\nLong time ago OS_TOKEN and OS_AUTH_TOKEN environment\nvariables were used in novaclient. Unfortunately, this feauture\nwas broken some time ago by change [*].\n\nThis patch returns usage of that variables.\n\n[*] - https://github.com/openstack/python-novaclient/commit/1f11840dd84f3570330d1fcd53d1e8eea5ff7922\n\nChange-Id: I205428dc0b4f4f5445e1f98e880a831d04394947\n'}, {'number': 2, 'created': '2017-01-26 12:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3f84640f35ed5ce4f1e58fb6ab498a741beeb310', 'message': '[cli] Use environment variable for token\n\nLong time ago OS_TOKEN and OS_AUTH_TOKEN environment\nvariables were used in novaclient. Unfortunately, this feauture\nwas broken some time ago by change [*].\n\nThis patch returns usage of that variables.\n\n[*] - https://github.com/openstack/python-novaclient/commit/1f11840dd84f3570330d1fcd53d1e8eea5ff7922\n\nChange-Id: I205428dc0b4f4f5445e1f98e880a831d04394947\n'}, {'number': 3, 'created': '2017-01-26 13:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a43153042e37fe55d08ce3978922fa3fd727d4a8', 'message': '[cli] Use environment variable for token\n\nLong time ago OS_TOKEN and OS_AUTH_TOKEN environment\nvariables were used in novaclient. Unfortunately, this feauture\nwas broken some time ago by change [*].\n\nThis patch returns usage of that variables.\n\n[*] - https://github.com/openstack/python-novaclient/commit/1f11840dd84f3570330d1fcd53d1e8eea5ff7922\n\nChange-Id: I205428dc0b4f4f5445e1f98e880a831d04394947\n'}, {'number': 4, 'created': '2017-01-26 13:59:27.000000000', 'files': ['novaclient/tests/functional/test_auth.py', 'novaclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/11cbbda9620f60dd61b58fc36a966605f563b574', 'message': '[cli] Use environment variable for token\n\nLong time ago OS_TOKEN and OS_AUTH_TOKEN environment\nvariables were used in novaclient. Unfortunately, this feauture\nwas broken some time ago by change [*].\n\nThis patch returns usage of that variables.\n\n[*] - https://github.com/openstack/python-novaclient/commit/1f11840dd84f3570330d1fcd53d1e8eea5ff7922\n\nChange-Id: I205428dc0b4f4f5445e1f98e880a831d04394947\n'}]",1,425647,11cbbda9620f60dd61b58fc36a966605f563b574,11,5,4,9545,,,0,"[cli] Use environment variable for token

Long time ago OS_TOKEN and OS_AUTH_TOKEN environment
variables were used in novaclient. Unfortunately, this feauture
was broken some time ago by change [*].

This patch returns usage of that variables.

[*] - https://github.com/openstack/python-novaclient/commit/1f11840dd84f3570330d1fcd53d1e8eea5ff7922

Change-Id: I205428dc0b4f4f5445e1f98e880a831d04394947
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/47/425647/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/shell.py'],1,fe7021c851abf6dbd899638c557c4a9e371588f5,ktoken," if ""--os-token"" in argv or utils.env('OS_TOKEN', 'OS_AUTH_TOKEN'): if default_auth_plugin == 'token': parser.set_defaults(os_token=utils.env('OS_TOKEN', 'OS_AUTH_TOKEN')) parser.set_defaults(os_project_name=utils.env( 'OS_PROJECT_NAME', 'OS_TENANT_NAME', 'NOVA_PROJECT_ID'))"," if ""--os-token"" in argv:",7,1
openstack%2Fnova~master~I4aa32cd459a8144d4d0c83f7e9074ed0021ed291,openstack/nova,master,I4aa32cd459a8144d4d0c83f7e9074ed0021ed291,libvirt: Call snapshot operations for not file based backends only,ABANDONED,2016-12-24 17:11:08.000000000,2017-08-01 09:55:14.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-12-24 17:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f89004840feeeb22fa87a9bc45f2f2e6d70cd8b2', 'message': ""libvirt: Call snapshot operations for not file based backends only\n\nCurrently snapshot operations (create_snap, remove_snap,\nrollback_to_snap) are called for any backend, which particularly leads\nto errors with file based backends (bug 1592015), like qcow2. See also\ncomments on I95d9e7de.\n\nDuring migration file based disks are not situated in instance directory\non source host because they are 'backuped' into '_resize' directory. In\nthis case usage of imagebackend object initialized with default path is\nincorrect. Moreover in this circumstances there is nothing to do for\nsnapshot related methods of file based backend, and no reason to invoke\nthem at all.\n\nThis patch gets rid of such invokes using backend's\nis_file_in_instance_path method. This introduces a separation of logic\nrelated to different backend types in migration related code, which may\nbe extended to other such code to make it better.\n\nCloses-Bug: 1592015\nChange-Id: I4aa32cd459a8144d4d0c83f7e9074ed0021ed291\n""}, {'number': 2, 'created': '2017-01-30 09:45:57.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6bfa9a316c71d080a0c924b4200e34405c34f6e6', 'message': ""libvirt: Call snapshot operations for not file based backends only\n\nCurrently snapshot operations (create_snap, remove_snap,\nrollback_to_snap) are called for any backend, which particularly leads\nto errors with file based backends (bug 1592015), like qcow2. See also\ncomments on I95d9e7de.\n\nDuring migration file based disks are not situated in instance directory\non source host because they are 'backuped' into '_resize' directory. In\nthis case usage of imagebackend object initialized with default path is\nincorrect. Moreover in this circumstances there is nothing to do for\nsnapshot related methods of file based backend, and no reason to invoke\nthem at all.\n\nThis patch gets rid of such invokes using backend's\nis_file_in_instance_path method. This introduces a separation of logic\nrelated to different backend types in migration related code, which may\nbe extended to other such code to make it better.\n\nCloses-Bug: 1592015\nChange-Id: I4aa32cd459a8144d4d0c83f7e9074ed0021ed291\n""}]",0,414710,6bfa9a316c71d080a0c924b4200e34405c34f6e6,26,14,2,10224,,,0,"libvirt: Call snapshot operations for not file based backends only

Currently snapshot operations (create_snap, remove_snap,
rollback_to_snap) are called for any backend, which particularly leads
to errors with file based backends (bug 1592015), like qcow2. See also
comments on I95d9e7de.

During migration file based disks are not situated in instance directory
on source host because they are 'backuped' into '_resize' directory. In
this case usage of imagebackend object initialized with default path is
incorrect. Moreover in this circumstances there is nothing to do for
snapshot related methods of file based backend, and no reason to invoke
them at all.

This patch gets rid of such invokes using backend's
is_file_in_instance_path method. This introduces a separation of logic
related to different backend types in migration related code, which may
be extended to other such code to make it better.

Closes-Bug: 1592015
Change-Id: I4aa32cd459a8144d4d0c83f7e9074ed0021ed291
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/414710/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,f89004840feeeb22fa87a9bc45f2f2e6d70cd8b2,disk_snapshots," backend = self.useFixture(fake_imagebackend.ImageBackendFixture()) # Assert we didn't call create_snap on the root disk for file based # backends backend.disks['disk'].is_file_in_instance_path.return_value = True self.assertFalse(backend.disks['disk'].create_snap.called) # Assert we called create_snap on the root disk for other backends backend.disks['disk'].is_file_in_instance_path.return_value = False drvr._create_image(self.context, instance, disk_info['mapping']) backend.disks['disk'].create_snap.assert_called_once_with( backend.disks['disk'].is_file_in_instance_path.return_value = False backend = self.useFixture(fake_imagebackend.ImageBackendFixture()) disk_class = backend.disk_classes[None] disk = backend.disks['disk'] mock.patch.object(os.path, 'exists', return_value=False), mock.patch.object(drvr, '_get_guest_xml')): # file based root disk disk_class.is_file_in_instance_path.return_value = True drvr.finish_revert_migration(mock.sentinel.context, ins_ref, None, power_on=False) self.assertFalse(disk.rollback_to_snap.called) self.assertFalse(disk.remove_snap.called) # root volume and file based backend disk_class.is_file_in_instance_path.return_value = True drvr.finish_revert_migration(mock.sentinel.context, ins_ref, None, self.assertFalse(disk.rollback_to_snap.called) self.assertFalse(disk.remove_snap.called) # root volume and not file based backend disk_class.is_file_in_instance_path.return_value = False drvr.finish_revert_migration(mock.sentinel.context, ins_ref, None, block_device_info=bdi, power_on=False) self.assertFalse(disk.rollback_to_snap.called) self.assertFalse(disk.remove_snap.called) # not file based root disk disk_class.is_file_in_instance_path.return_value = False drvr.finish_revert_migration(mock.sentinel.context, ins_ref, None, power_on=False) disk.rollback_to_snap.assert_called_once_with( libvirt_utils.RESIZE_SNAPSHOT_NAME) disk.remove_snap.assert_called_once_with( libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True) def test_finish_revert_migration_snap_backend_snapshot_not_found(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) backend = self.useFixture(fake_imagebackend.ImageBackendFixture()) disk_class = backend.disk_classes[None] disk = backend.disks['disk'] ins_ref = self._create_instance() with test.nested( mock.patch.object(os.path, 'exists', return_value=False), mock.patch.object(drvr, '_create_domain_and_network'), mock.patch.object(drvr, '_get_guest_xml')): disk_class.is_file_in_instance_path.return_value = False disk.rollback_to_snap.side_effect = exception.SnapshotNotFound( snapshot_id='testing') drvr.finish_revert_migration(mock.sentinel.context, ins_ref, None, power_on=False) disk.rollback_to_snap.assert_called_once_with( libvirt_utils.RESIZE_SNAPSHOT_NAME) disk.remove_snap.assert_called_once_with( libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True) backend = self.useFixture(fake_imagebackend.ImageBackendFixture()) disk_class = backend.disk_classes[None] disk = backend.disks['disk'] with mock.patch.object(os.path, 'exists', return_value=False): # file based root disk disk_class.is_file_in_instance_path.return_value = True drvr._cleanup_resize(ins_ref, None, None) self.assertFalse(disk.remove_snap.called) # root volume and file based backend disk_class.is_file_in_instance_path.return_value = True drvr._cleanup_resize(ins_ref, None, bdi) self.assertFalse(disk.remove_snap.called) # root volume and not file based backend disk_class.is_file_in_instance_path.return_value = False drvr._cleanup_resize(ins_ref, None, bdi) self.assertFalse(disk.remove_snap.called) # not file based root disk disk_class.is_file_in_instance_path.return_value = False drvr._cleanup_resize(ins_ref, None, None) disk.remove_snap.assert_called_once_with( libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True)"," fake_backend = self.useFixture(fake_imagebackend.ImageBackendFixture()) # Assert we called create_snap on the root disk fake_backend.disks['disk'].create_snap.assert_called_once_with( drvr.image_backend = mock.Mock() drvr.image_backend.by_name.return_value = drvr.image_backend ins_ref = self._create_instance() with test.nested( mock.patch.object(utils, 'get_image_from_system_metadata'), mock.patch.object(drvr, '_create_domain_and_network'), mock.patch.object(drvr, '_get_guest_xml')) as ( mock_image, mock_cdn, mock_ggx): mock_image.return_value = {'disk_format': 'raw'} drvr.finish_revert_migration('', ins_ref, None, power_on=False) drvr.image_backend.rollback_to_snap.assert_called_once_with( libvirt_utils.RESIZE_SNAPSHOT_NAME) drvr.image_backend.remove_snap.assert_called_once_with( libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True) def test_finish_revert_migration_snap_backend_snapshot_not_found(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.image_backend = mock.Mock() drvr.image_backend.by_name.return_value = drvr.image_backend ins_ref = self._create_instance() with test.nested( mock.patch.object(rbd_utils, 'RBDDriver'), mock.patch.object(utils, 'get_image_from_system_metadata'), mock.patch.object(drvr, '_create_domain_and_network'), mock.patch.object(drvr, '_get_guest_xml')) as ( mock_rbd, mock_image, mock_cdn, mock_ggx): mock_image.return_value = {'disk_format': 'raw'} mock_rbd.rollback_to_snap.side_effect = exception.SnapshotNotFound( snapshot_id='testing') drvr.finish_revert_migration('', ins_ref, None, power_on=False) drvr.image_backend.remove_snap.assert_called_once_with( libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True) def test_finish_revert_migration_snap_backend_volume_backed(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.image_backend = mock.Mock() drvr.image_backend.by_name.return_value = drvr.image_backend drvr.image_backend.exists.return_value = False mock.patch.object(rbd_utils, 'RBDDriver'), mock.patch.object(utils, 'get_image_from_system_metadata'), mock.patch.object(drvr, '_get_guest_xml')) as ( mock_rbd, mock_image, mock_cdn, mock_ggx): mock_image.return_value = {'disk_format': 'raw'} drvr.finish_revert_migration('', ins_ref, None, self.assertFalse(drvr.image_backend.rollback_to_snap.called) self.assertFalse(drvr.image_backend.remove_snap.called) CONF.set_override('policy_dirs', [], group='oslo_policy') drvr.image_backend = mock.Mock() drvr.image_backend.by_name.return_value = drvr.image_backend with test.nested( mock.patch.object(os.path, 'exists'), mock.patch.object(libvirt_utils, 'get_instance_path'), mock.patch.object(utils, 'execute'), mock.patch.object(drvr.image_backend, 'remove_snap')) as ( mock_exists, mock_get_path, mock_exec, mock_remove): mock_exists.return_value = True mock_get_path.return_value = '/fake/inst' drvr._cleanup_resize(ins_ref, _fake_network_info(self, 1), None) mock_get_path.assert_called_once_with(ins_ref) mock_exec.assert_called_once_with('rm', '-rf', '/fake/inst_resize', delay_on_retry=True, attempts=5) mock_remove.assert_called_once_with( libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True) def test_cleanup_resize_snap_backend_volume_backed(self): CONF.set_override('policy_dirs', [], group='oslo_policy') ins_ref = self._create_instance({'host': CONF.host}) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.image_backend = mock.Mock() drvr.image_backend.by_name.return_value = drvr.image_backend drvr.image_backend.exists.return_value = False with test.nested( mock.patch.object(os.path, 'exists'), mock.patch.object(libvirt_utils, 'get_instance_path'), mock.patch.object(utils, 'execute'), mock.patch.object(drvr.image_backend, 'remove_snap')) as ( mock_exists, mock_get_path, mock_exec, mock_remove): mock_exists.return_value = True mock_get_path.return_value = '/fake/inst' drvr._cleanup_resize(ins_ref, _fake_network_info(self, 1), bdi) mock_get_path.assert_called_once_with(ins_ref) mock_exec.assert_called_once_with('rm', '-rf', '/fake/inst_resize', delay_on_retry=True, attempts=5) self.assertFalse(mock_remove.called)",97,96
openstack%2Fnova~master~Id362f822ddafa29e051a62f943c339a7257de0a4,openstack/nova,master,Id362f822ddafa29e051a62f943c339a7257de0a4,Add Apache 2.0 license to source file,ABANDONED,2016-12-13 01:33:55.000000000,2017-08-01 09:55:12.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18602}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-12-13 01:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5117cfb97878243c737d6bab0804893b8139723f', 'message': 'Add Apache 2.0 license to source file\n\nAs per OpenStack licensing guide lines [1]: [H102 H103] Newly contributed Source Code should be licensed under the Apache 2.0 license.\n\nChange-Id: Id362f822ddafa29e051a62f943c339a7257de0a4\n'}, {'number': 2, 'created': '2016-12-14 02:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81a04ff66802cd99a384e12cc3af2e446b0f2794', 'message': 'Add Apache 2.0 license to source file\n\nSource code should be licensed under the Apache 2.0 license.\nAll source files should have the licensing header..\n\nChange-Id: Id362f822ddafa29e051a62f943c339a7257de0a4\n'}, {'number': 3, 'created': '2016-12-14 07:19:20.000000000', 'files': ['doc/ext/nova_todo.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f233b4fc03fdf4c2701ab08f37ecc30b91bd1159', 'message': 'Add Apache 2.0 license to source file\n\n[H102 H103] Source code should be licensed under the Apache 2.0 license.\nAll source files should have the licensing header..\n\nChange-Id: Id362f822ddafa29e051a62f943c339a7257de0a4\n'}]",0,409996,f233b4fc03fdf4c2701ab08f37ecc30b91bd1159,21,8,3,24061,,,0,"Add Apache 2.0 license to source file

[H102 H103] Source code should be licensed under the Apache 2.0 license.
All source files should have the licensing header..

Change-Id: Id362f822ddafa29e051a62f943c339a7257de0a4
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/409996/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/nova_todo.py'],1,5117cfb97878243c737d6bab0804893b8139723f,l1,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. #",,13,0
openstack%2Fnova~master~I3d0213b2798b9e55e658c357ffbf141736949e3e,openstack/nova,master,I3d0213b2798b9e55e658c357ffbf141736949e3e,Add server admin actions to general purpose feature matrix,ABANDONED,2016-07-22 00:20:26.000000000,2017-08-01 09:55:11.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18335}, {'_account_id': 19590}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-07-22 00:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17aa007ee51613bc2d01c0de370014ba907e2543', 'message': 'Add server admin actions to general purpose feature matrix\n\nAdded details for:\n1. Server create backup\n2. Migrate server\n3. Live migrate server\n\nChange-Id: I3d0213b2798b9e55e658c357ffbf141736949e3e\nImplements: blueprint feature-classification\n'}, {'number': 2, 'created': '2016-07-27 16:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73a84c31d859ce7488490d1cc6d5a4c0da3b338b', 'message': 'Add server admin actions to general purpose feature matrix\n\nAdded details for:\n1. Server create backup\n2. Live migrate server\n\nChange-Id: I3d0213b2798b9e55e658c357ffbf141736949e3e\nImplements: blueprint feature-classification\n'}, {'number': 3, 'created': '2016-08-18 16:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/067e67064f62014cca5a0676b55473a1c0e9502e', 'message': 'Add server admin actions to general purpose feature matrix\n\nAdded details for:\n1. Server create backup\n2. Live migrate server\n\nChange-Id: I3d0213b2798b9e55e658c357ffbf141736949e3e\nImplements: blueprint feature-classification\n'}, {'number': 4, 'created': '2016-09-21 15:48:44.000000000', 'files': ['doc/source/feature_matrix_gp.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/c2334887284311bce64e84c66f92eef6f5b4d7c9', 'message': 'Add server admin actions to general purpose feature matrix\n\nAdded details for:\n1. Server create backup\n2. Live migrate server\n\nChange-Id: I3d0213b2798b9e55e658c357ffbf141736949e3e\nImplements: blueprint feature-classification-ocata\n'}]",7,345708,c2334887284311bce64e84c66f92eef6f5b4d7c9,47,15,4,18335,,,0,"Add server admin actions to general purpose feature matrix

Added details for:
1. Server create backup
2. Live migrate server

Change-Id: I3d0213b2798b9e55e658c357ffbf141736949e3e
Implements: blueprint feature-classification-ocata
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/345708/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/feature_matrix_gp.ini'],1,17aa007ee51613bc2d01c0de370014ba907e2543,bp/feature-classification-ocata, [operation.server-createBackup] title=Server Create Backup notes=Creates a back up of a server. maturity=complete api_doc_link=http://developer.openstack.org/api-ref/compute/?expanded=#create-server-back-up-createbackup-action admin_doc_link=http://docs.openstack.org/cli-reference/openstack.html#openstack-backup-create tempest_test_uuids=b963d4f1-94b3-4c40-9e97-7b583f46e470 cli= libvirt-kvm=complete libvirt-xen=complete xenserver=complete vmware=complete hyperv=complete ironic=unknown [operation.server-migrate] title=Migrate Server notes=Migrates a server to a host. The scheduler chooses the host. maturity=complete api_doc_link=http://developer.openstack.org/api-ref/compute/?expanded=#migrate-server-migrate-action admin_doc_link=http://docs.openstack.org/admin-guide/cli_nova_migrate.html tempest_test_uuids=46a4e1ca-87ae-4d28-987a-1b6b136a0221;b0b17f83-d14e-4fc4-8f31-bcc9f3cfa629 cli= libvirt-kvm=complete libvirt-xen=complete xenserver=complete vmware=complete hyperv=complete ironic=unknown [operation.server-migrateLive] title=Live Migrate Server notes=Live-migrates a server to a new host without rebooting. Destination host specified using the host parameter. maturity=experimental api_doc_link=http://developer.openstack.org/api-ref/compute/?expanded=#live-migrate-server-os-migratelive-action admin_doc_link=http://docs.openstack.org/admin-guide/compute-live-migration-usage.html tempest_test_uuids=1dce86b8-eb04-4c03-a9d8-9c1dc3ee0c7b cli= libvirt-kvm=missing libvirt-xen=unknown xenserver=missing vmware=unknown hyperv=complete ironic=unknown,,46,0
openstack%2Fnova~master~I61f36c93e0e14a2d98feb9d24cc969081c4d8b14,openstack/nova,master,I61f36c93e0e14a2d98feb9d24cc969081c4d8b14,VMware: Prefer ShutdownGuest to PowerOffVM_Task,ABANDONED,2015-05-09 08:38:26.000000000,2017-08-01 09:55:10.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6873}, {'_account_id': 7400}, {'_account_id': 8119}, {'_account_id': 8247}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15424}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17187}, {'_account_id': 20040}]","[{'number': 1, 'created': '2015-05-09 08:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e63c51e70fb9657710accd8ec27d413d13f51c56', 'message': '[VMware] Using ShutdownGuest instead of PowerOffVM_Task, if vmtools was installed.\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest are more secure.\nUsing ShutdownGuest instead of PowerOffVM_Task, if vmtools was installed.\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 2, 'created': '2015-05-09 12:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bead317b9504556eda39f549437a25f22628e77', 'message': '[VMware] Using ShutdownGuest instead of PowerOffVM_Task, if vmtools was installed.\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest are more secure.\nUsing ShutdownGuest instead of PowerOffVM_Task, if vmtools was installed.\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 3, 'created': '2015-05-09 17:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f75ef0363fcefb009461371a014adf62a159c35a', 'message': 'Using ShutdownGuest instead of PowerOffVM_Task.\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest are more secure.\nUsing ShutdownGuest instead of PowerOffVM_Task, if vmtools was installed.\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 4, 'created': '2015-05-10 07:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70b2712ed37a92a8a23d1f3447c82d20ab1af79f', 'message': 'Using ShutdownGuest instead of PowerOffVM_Task.\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest are more secure.\nUsing ShutdownGuest instead of PowerOffVM_Task, if vmtools was installed.\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 5, 'created': '2015-05-10 08:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dae8240df88362e1caddfd570b0955a913d1488', 'message': 'Using ShutdownGuest instead of PowerOffVM_Task.\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest are\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools was installed.\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 6, 'created': '2015-05-11 14:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a84765b66012a8058c8bd037e45d8a2d9c6caf9f', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 7, 'created': '2015-05-12 15:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f899e8d9eebac5a2981f6a7cc6fb54844390e42d', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 8, 'created': '2015-05-13 16:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02548c0b70d3a9d0da2c759f9594e8c33e1db711', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 9, 'created': '2015-05-13 17:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ef3371c295c5553b953e2791486ad1084d369bf', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 10, 'created': '2015-05-14 15:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee4378fe968608037c7fda34d27df0c6971dd474', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 11, 'created': '2015-05-14 18:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/832efecfbd6aa1c1c79fb299e69c471427f531ab', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 12, 'created': '2015-05-16 16:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc180b0b8d7f84c528d7245b734868e73c56c543', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 13, 'created': '2015-05-23 16:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cecc64ea1e62c8eb55ed466b3772ba2a529c28a5', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 14, 'created': '2015-05-23 18:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa66b2c0dde4bffe6baeb7fd1d41eca053c66410', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 15, 'created': '2015-05-23 20:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/edb2453c9130873521768e13de81f08f6d824175', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 16, 'created': '2015-05-31 02:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22788efd0f932f38ce2f9e1de4f9a00e1b29fdf5', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 17, 'created': '2015-06-03 14:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d373d26a3203556a331e9d1143ff5dafc0dc42fa', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 18, 'created': '2015-06-29 14:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/196e0e6020301ad51fdcced3bae7d52f48588569', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 19, 'created': '2015-06-30 04:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fd299b257fe218b6a2a8ae5a7a38c8e63dc5b3a', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\nDepends-On: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}, {'number': 20, 'created': '2015-07-02 03:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/831400b176006a6282930676f7f5e8d218b6a6b1', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 21, 'created': '2015-07-08 08:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/468b4129988df5a75277d21e8cb1d1872cc030a3', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 22, 'created': '2015-07-13 09:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a364391bd47f8f128b765d1f182a9c8575586bb4', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 23, 'created': '2015-07-19 10:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b8384f816e506a9b31cefee13680b3bf37196fa', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 24, 'created': '2016-02-14 06:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/089fab5a0b5e1b342035aa2304795141bd6d770d', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 25, 'created': '2016-02-14 15:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3011897fb0af6c3ff22105301f0311fbb5875ef5', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 26, 'created': '2016-03-03 08:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b7d86c032b812e94c36166374fb63987ebe5d9b', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 27, 'created': '2016-03-09 06:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/445f75a239bce76a29d2886ec08d18baf8272828', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task,\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 28, 'created': '2016-05-23 09:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8044a022f4c18752ad5acfc8c346f3fb2d69a79e', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 29, 'created': '2016-07-13 07:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63684eec47f843de2c06e4d4f397e6fd1c859be1', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 30, 'created': '2016-10-19 20:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/998d587ae93f148d4ef19f4ac495709893110e26', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 31, 'created': '2016-10-19 20:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96567bc2c7dfc80da7540725c302e5613f873d53', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}, {'number': 32, 'created': '2016-10-19 20:50:25.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/virt/vmwareapi/constants.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e11b1e095295ce0ccfd386d8b85cc6e19202425d', 'message': 'VMware: Prefer ShutdownGuest to PowerOffVM_Task\n\nPowerOffVM_Task is a dangerous operation, while ShutdownGuest is\nmore secure. so we use ShutdownGuest instead of PowerOffVM_Task\nif vmtools has been installed.\n\nCloses-Bug: #1445858\nChange-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14\n'}]",109,181634,e11b1e095295ce0ccfd386d8b85cc6e19202425d,334,27,32,15424,,,0,"VMware: Prefer ShutdownGuest to PowerOffVM_Task

PowerOffVM_Task is a dangerous operation, while ShutdownGuest is
more secure. so we use ShutdownGuest instead of PowerOffVM_Task
if vmtools has been installed.

Closes-Bug: #1445858
Change-Id: I61f36c93e0e14a2d98feb9d24cc969081c4d8b14
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/181634/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/virt/vmwareapi/vm_util.py']",2,e63c51e70fb9657710accd8ec27d413d13f51c56,bug/1445858,"# Copyright (c) 2013 Hewlett-Packard Development Company, L.P. # Copyright (c) 2012 VMware, Inc. # Copyright (c) 2011 Citrix Systems, Inc. # Copyright 2011 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" The VMware API VM utility module to build SOAP object specs. """""" import collections import copy import functools from oslo_config import cfg from oslo_log import log as logging from oslo_utils import excutils from oslo_utils import units from oslo_vmware import exceptions as vexc from oslo_vmware.objects import datastore as ds_obj from oslo_vmware import pbm from oslo_vmware import vim_util as vutil from nova import exception from nova.i18n import _, _LE, _LI, _LW from nova.network import model as network_model from nova.virt.vmwareapi import constants from nova.virt.vmwareapi import vim_util CONF = cfg.CONF LOG = logging.getLogger(__name__) vmware_utils_opts = [ cfg.IntOpt('console_delay_seconds', help='Set this value if affected by an increased network ' 'latency causing repeated characters when typing in ' 'a remote console.') ] CONF = cfg.CONF CONF.register_opts(vmware_utils_opts, 'vmware') ALL_SUPPORTED_NETWORK_DEVICES = ['VirtualE1000', 'VirtualE1000e', 'VirtualPCNet32', 'VirtualSriovEthernetCard', 'VirtualVmxnet', 'VirtualVmxnet3'] # A cache for VM references. The key will be the VM name # and the value is the VM reference. The VM name is unique. This # is either the UUID of the instance or UUID-rescue in the case # that this is a rescue VM. This is in order to prevent # unnecessary communication with the backend. _VM_REFS_CACHE = {} class CpuLimits(object): def __init__(self, cpu_limit=None, cpu_reservation=None, cpu_shares_level=None, cpu_shares_share=None): """"""CpuLimits object holds instance cpu limits for convenience."""""" self.cpu_limit = cpu_limit self.cpu_reservation = cpu_reservation self.cpu_shares_level = cpu_shares_level self.cpu_shares_share = cpu_shares_share def validate(self): if self.cpu_shares_level in ('high', 'normal', 'low'): if self.cpu_shares_share: reason = _(""Share level '%s' cannot have share "" ""configured"") % self.cpu_shares_level raise exception.InvalidInput(reason=reason) return if self.cpu_shares_level == 'custom': return if self.cpu_shares_level: reason = _(""Share '%s' is not supported"") % self.cpu_shares_level raise exception.InvalidInput(reason=reason) class ExtraSpecs(object): def __init__(self, cpu_limits=None, hw_version=None, storage_policy=None): """"""ExtraSpecs object holds extra_specs for the instance."""""" if cpu_limits is None: cpu_limits = CpuLimits() self.cpu_limits = cpu_limits self.hw_version = hw_version self.storage_policy = storage_policy def has_cpu_limits(self): return bool(self.cpu_limits.cpu_limit or self.cpu_limits.cpu_reservation or self.cpu_limits.cpu_shares_level) def vm_refs_cache_reset(): global _VM_REFS_CACHE _VM_REFS_CACHE = {} def vm_ref_cache_delete(id): _VM_REFS_CACHE.pop(id, None) def vm_ref_cache_update(id, vm_ref): _VM_REFS_CACHE[id] = vm_ref def vm_ref_cache_get(id): return _VM_REFS_CACHE.get(id) def _vm_ref_cache(id, func, session, data): vm_ref = vm_ref_cache_get(id) if not vm_ref: vm_ref = func(session, data) vm_ref_cache_update(id, vm_ref) return vm_ref def vm_ref_cache_from_instance(func): @functools.wraps(func) def wrapper(session, instance): id = instance.uuid return _vm_ref_cache(id, func, session, instance) return wrapper def vm_ref_cache_from_name(func): @functools.wraps(func) def wrapper(session, name): id = name return _vm_ref_cache(id, func, session, name) return wrapper # the config key which stores the VNC port VNC_CONFIG_KEY = 'config.extraConfig[""RemoteDisplay.vnc.port""]' VmdkInfo = collections.namedtuple('VmdkInfo', ['path', 'adapter_type', 'disk_type', 'capacity_in_bytes', 'device']) def _iface_id_option_value(client_factory, iface_id, port_index): opt = client_factory.create('ns0:OptionValue') opt.key = ""nvp.iface-id.%d"" % port_index opt.value = iface_id return opt def _get_allocation_info(client_factory, extra_specs): allocation = client_factory.create('ns0:ResourceAllocationInfo') if extra_specs.cpu_limits.cpu_limit: allocation.limit = extra_specs.cpu_limits.cpu_limit else: # Set as 'umlimited' allocation.limit = -1 if extra_specs.cpu_limits.cpu_reservation: allocation.reservation = extra_specs.cpu_limits.cpu_reservation else: allocation.reservation = 0 shares = client_factory.create('ns0:SharesInfo') if extra_specs.cpu_limits.cpu_shares_level: shares.level = extra_specs.cpu_limits.cpu_shares_level if (shares.level == 'custom' and extra_specs.cpu_limits.cpu_shares_share): shares.shares = extra_specs.cpu_limits.cpu_shares_share else: shares.shares = 0 else: shares.level = 'normal' shares.shares = 0 allocation.shares = shares return allocation def get_vm_create_spec(client_factory, instance, data_store_name, vif_infos, extra_specs, os_type=constants.DEFAULT_OS_TYPE, profile_spec=None): """"""Builds the VM Create spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') config_spec.name = instance.uuid config_spec.guestId = os_type # The name is the unique identifier for the VM. config_spec.instanceUuid = instance.uuid # set the Hardware version config_spec.version = extra_specs.hw_version # Allow nested ESX instances to host 64 bit VMs. if os_type == ""vmkernel5Guest"": config_spec.nestedHVEnabled = ""True"" # Append the profile spec if profile_spec: config_spec.vmProfile = [profile_spec] vm_file_info = client_factory.create('ns0:VirtualMachineFileInfo') vm_file_info.vmPathName = ""["" + data_store_name + ""]"" config_spec.files = vm_file_info tools_info = client_factory.create('ns0:ToolsConfigInfo') tools_info.afterPowerOn = True tools_info.afterResume = True tools_info.beforeGuestStandby = True tools_info.beforeGuestShutdown = True tools_info.beforeGuestReboot = True config_spec.tools = tools_info config_spec.numCPUs = int(instance.vcpus) config_spec.memoryMB = int(instance.memory_mb) # Configure cpu information if extra_specs.has_cpu_limits(): config_spec.cpuAllocation = _get_allocation_info(client_factory, extra_specs) vif_spec_list = [] for vif_info in vif_infos: vif_spec = _create_vif_spec(client_factory, vif_info) vif_spec_list.append(vif_spec) device_config_spec = vif_spec_list config_spec.deviceChange = device_config_spec # add vm-uuid and iface-id.x values for Neutron extra_config = [] opt = client_factory.create('ns0:OptionValue') opt.key = ""nvp.vm-uuid"" opt.value = instance.uuid extra_config.append(opt) port_index = 0 for vif_info in vif_infos: if vif_info['iface_id']: extra_config.append(_iface_id_option_value(client_factory, vif_info['iface_id'], port_index)) port_index += 1 if (CONF.vmware.console_delay_seconds and CONF.vmware.console_delay_seconds > 0): opt = client_factory.create('ns0:OptionValue') opt.key = 'keyboard.typematicMinDelay' opt.value = CONF.vmware.console_delay_seconds * 1000000 extra_config.append(opt) config_spec.extraConfig = extra_config # Set the VM to be 'managed' by 'OpenStack' managed_by = client_factory.create('ns0:ManagedByInfo') managed_by.extensionKey = constants.EXTENSION_KEY managed_by.type = constants.EXTENSION_TYPE_INSTANCE config_spec.managedBy = managed_by return config_spec def get_vm_boot_spec(client_factory, device): """"""Returns updated boot settings for the instance. The boot order for the instance will be changed to have the input device as the boot disk. """""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') boot_disk = client_factory.create( 'ns0:VirtualMachineBootOptionsBootableDiskDevice') boot_disk.deviceKey = device.key boot_options = client_factory.create('ns0:VirtualMachineBootOptions') boot_options.bootOrder = [boot_disk] config_spec.bootOptions = boot_options return config_spec def get_vm_resize_spec(client_factory, vcpus, memory_mb, extra_specs): """"""Provides updates for a VM spec."""""" resize_spec = client_factory.create('ns0:VirtualMachineConfigSpec') resize_spec.numCPUs = vcpus resize_spec.memoryMB = memory_mb resize_spec.cpuAllocation = _get_allocation_info(client_factory, extra_specs) return resize_spec def create_controller_spec(client_factory, key, adapter_type=constants.DEFAULT_ADAPTER_TYPE): """"""Builds a Config Spec for the LSI or Bus Logic Controller's addition which acts as the controller for the virtual hard disk to be attached to the VM. """""" # Create a controller for the Virtual Hard Disk virtual_device_config = client_factory.create( 'ns0:VirtualDeviceConfigSpec') virtual_device_config.operation = ""add"" if adapter_type == constants.ADAPTER_TYPE_BUSLOGIC: virtual_controller = client_factory.create( 'ns0:VirtualBusLogicController') elif adapter_type == constants.ADAPTER_TYPE_LSILOGICSAS: virtual_controller = client_factory.create( 'ns0:VirtualLsiLogicSASController') elif adapter_type == constants.ADAPTER_TYPE_PARAVIRTUAL: virtual_controller = client_factory.create( 'ns0:ParaVirtualSCSIController') else: virtual_controller = client_factory.create( 'ns0:VirtualLsiLogicController') virtual_controller.key = key virtual_controller.busNumber = 0 virtual_controller.sharedBus = ""noSharing"" virtual_device_config.device = virtual_controller return virtual_device_config def convert_vif_model(name): """"""Converts standard VIF_MODEL types to the internal VMware ones."""""" if name == network_model.VIF_MODEL_E1000: return 'VirtualE1000' if name == network_model.VIF_MODEL_E1000E: return 'VirtualE1000e' if name not in ALL_SUPPORTED_NETWORK_DEVICES: msg = _('%s is not supported.') % name raise exception.Invalid(msg) return name def _create_vif_spec(client_factory, vif_info): """"""Builds a config spec for the addition of a new network adapter to the VM. """""" network_spec = client_factory.create('ns0:VirtualDeviceConfigSpec') network_spec.operation = ""add"" # Keep compatible with other Hyper vif model parameter. vif_info['vif_model'] = convert_vif_model(vif_info['vif_model']) vif = 'ns0:' + vif_info['vif_model'] net_device = client_factory.create(vif) # NOTE(asomya): Only works on ESXi if the portgroup binding is set to # ephemeral. Invalid configuration if set to static and the NIC does # not come up on boot if set to dynamic. network_ref = vif_info['network_ref'] network_name = vif_info['network_name'] mac_address = vif_info['mac_address'] backing = None if network_ref and network_ref['type'] == 'OpaqueNetwork': backing = client_factory.create( 'ns0:VirtualEthernetCardOpaqueNetworkBackingInfo') backing.opaqueNetworkId = network_ref['network-id'] backing.opaqueNetworkType = network_ref['network-type'] elif (network_ref and network_ref['type'] == ""DistributedVirtualPortgroup""): backing = client_factory.create( 'ns0:VirtualEthernetCardDistributedVirtualPortBackingInfo') portgroup = client_factory.create( 'ns0:DistributedVirtualSwitchPortConnection') portgroup.switchUuid = network_ref['dvsw'] portgroup.portgroupKey = network_ref['dvpg'] backing.port = portgroup else: backing = client_factory.create( 'ns0:VirtualEthernetCardNetworkBackingInfo') backing.deviceName = network_name connectable_spec = client_factory.create('ns0:VirtualDeviceConnectInfo') connectable_spec.startConnected = True connectable_spec.allowGuestControl = True connectable_spec.connected = True net_device.connectable = connectable_spec net_device.backing = backing # The Server assigns a Key to the device. Here we pass a -ve temporary key. # -ve because actual keys are +ve numbers and we don't # want a clash with the key that server might associate with the device net_device.key = -47 net_device.addressType = ""manual"" net_device.macAddress = mac_address net_device.wakeOnLanEnabled = True network_spec.device = net_device return network_spec def get_network_attach_config_spec(client_factory, vif_info, index): """"""Builds the vif attach config spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') vif_spec = _create_vif_spec(client_factory, vif_info) config_spec.deviceChange = [vif_spec] if vif_info['iface_id'] is not None: config_spec.extraConfig = [_iface_id_option_value(client_factory, vif_info['iface_id'], index)] return config_spec def get_network_detach_config_spec(client_factory, device, port_index): """"""Builds the vif detach config spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') virtual_device_config = client_factory.create( 'ns0:VirtualDeviceConfigSpec') virtual_device_config.operation = ""remove"" virtual_device_config.device = device config_spec.deviceChange = [virtual_device_config] # If a key is already present then it cannot be deleted, only updated. # This enables us to reuse this key if there is an additional # attachment. The keys need to be preserved. This is due to the fact # that there is logic on the ESX that does the network wiring # according to these values. If they are changed then this will # break networking to and from the interface. config_spec.extraConfig = [_iface_id_option_value(client_factory, 'free', port_index)] return config_spec def get_storage_profile_spec(session, storage_policy): """"""Gets the vm profile spec configured for storage policy."""""" profile_id = pbm.get_profile_id_by_name(session, storage_policy) if profile_id: client_factory = session.vim.client.factory storage_profile_spec = client_factory.create( 'ns0:VirtualMachineDefinedProfileSpec') storage_profile_spec.profileId = profile_id.uniqueId return storage_profile_spec def get_vmdk_attach_config_spec(client_factory, disk_type=constants.DEFAULT_DISK_TYPE, file_path=None, disk_size=None, linked_clone=False, controller_key=None, unit_number=None, device_name=None): """"""Builds the vmdk attach config spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') device_config_spec = [] virtual_device_config_spec = create_virtual_disk_spec(client_factory, controller_key, disk_type, file_path, disk_size, linked_clone, unit_number, device_name) device_config_spec.append(virtual_device_config_spec) config_spec.deviceChange = device_config_spec return config_spec def get_cdrom_attach_config_spec(client_factory, datastore, file_path, controller_key, cdrom_unit_number): """"""Builds and returns the cdrom attach config spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') device_config_spec = [] virtual_device_config_spec = create_virtual_cdrom_spec(client_factory, datastore, controller_key, file_path, cdrom_unit_number) device_config_spec.append(virtual_device_config_spec) config_spec.deviceChange = device_config_spec return config_spec def get_vmdk_detach_config_spec(client_factory, device, destroy_disk=False): """"""Builds the vmdk detach config spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') device_config_spec = [] virtual_device_config_spec = detach_virtual_disk_spec(client_factory, device, destroy_disk) device_config_spec.append(virtual_device_config_spec) config_spec.deviceChange = device_config_spec return config_spec def get_vm_extra_config_spec(client_factory, extra_opts): """"""Builds extra spec fields from a dictionary."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') # add the key value pairs extra_config = [] for key, value in extra_opts.iteritems(): opt = client_factory.create('ns0:OptionValue') opt.key = key opt.value = value extra_config.append(opt) config_spec.extraConfig = extra_config return config_spec def _get_device_capacity(device): # Devices pre-vSphere-5.5 only reports capacityInKB, which has # rounding inaccuracies. Use that only if the more accurate # attribute is absent. if hasattr(device, 'capacityInBytes'): return device.capacityInBytes else: return device.capacityInKB * units.Ki def _get_device_disk_type(device): if getattr(device.backing, 'thinProvisioned', False): return constants.DISK_TYPE_THIN else: if getattr(device.backing, 'eagerlyScrub', False): return constants.DISK_TYPE_EAGER_ZEROED_THICK else: return constants.DEFAULT_DISK_TYPE def get_vmdk_info(session, vm_ref, uuid=None): """"""Returns information for the primary VMDK attached to the given VM."""""" hardware_devices = session._call_method(vim_util, ""get_dynamic_property"", vm_ref, ""VirtualMachine"", ""config.hardware.device"") if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice vmdk_file_path = None vmdk_controller_key = None disk_type = None capacity_in_bytes = 0 # Determine if we need to get the details of the root disk root_disk = None root_device = None if uuid: root_disk = '%s.vmdk' % uuid vmdk_device = None adapter_type_dict = {} for device in hardware_devices: if device.__class__.__name__ == ""VirtualDisk"": if device.backing.__class__.__name__ == \ ""VirtualDiskFlatVer2BackingInfo"": path = ds_obj.DatastorePath.parse(device.backing.fileName) if root_disk and path.basename == root_disk: root_device = device vmdk_device = device elif device.__class__.__name__ == ""VirtualLsiLogicController"": adapter_type_dict[device.key] = constants.DEFAULT_ADAPTER_TYPE elif device.__class__.__name__ == ""VirtualBusLogicController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_BUSLOGIC elif device.__class__.__name__ == ""VirtualIDEController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_IDE elif device.__class__.__name__ == ""VirtualLsiLogicSASController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_LSILOGICSAS elif device.__class__.__name__ == ""ParaVirtualSCSIController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_PARAVIRTUAL if root_disk: vmdk_device = root_device if vmdk_device: vmdk_file_path = vmdk_device.backing.fileName capacity_in_bytes = _get_device_capacity(vmdk_device) vmdk_controller_key = vmdk_device.controllerKey disk_type = _get_device_disk_type(vmdk_device) adapter_type = adapter_type_dict.get(vmdk_controller_key) return VmdkInfo(vmdk_file_path, adapter_type, disk_type, capacity_in_bytes, vmdk_device) scsi_controller_classes = { 'ParaVirtualSCSIController': constants.ADAPTER_TYPE_PARAVIRTUAL, 'VirtualLsiLogicController': constants.DEFAULT_ADAPTER_TYPE, 'VirtualLsiLogicSASController': constants.ADAPTER_TYPE_LSILOGICSAS, 'VirtualBusLogicController': constants.ADAPTER_TYPE_PARAVIRTUAL, } def get_scsi_adapter_type(hardware_devices): """"""Selects a proper iscsi adapter type from the existing hardware devices """""" if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if device.__class__.__name__ in scsi_controller_classes: # find the controllers which still have available slots if len(device.device) < constants.SCSI_MAX_CONNECT_NUMBER: # return the first match one return scsi_controller_classes[device.__class__.__name__] raise exception.StorageError( reason=_(""Unable to find iSCSI Target"")) def _find_controller_slot(controller_keys, taken, max_unit_number): for controller_key in controller_keys: for unit_number in range(max_unit_number): if unit_number not in taken.get(controller_key, []): return controller_key, unit_number def _is_ide_controller(device): return device.__class__.__name__ == 'VirtualIDEController' def _is_scsi_controller(device): return device.__class__.__name__ in ['VirtualLsiLogicController', 'VirtualLsiLogicSASController', 'VirtualBusLogicController', 'ParaVirtualSCSIController'] def _find_allocated_slots(devices): """"""Return dictionary which maps controller_key to list of allocated unit numbers for that controller_key. """""" taken = {} for device in devices: if hasattr(device, 'controllerKey') and hasattr(device, 'unitNumber'): unit_numbers = taken.setdefault(device.controllerKey, []) unit_numbers.append(device.unitNumber) if _is_scsi_controller(device): # the SCSI controller sits on its own bus unit_numbers = taken.setdefault(device.key, []) unit_numbers.append(device.scsiCtlrUnitNumber) return taken def allocate_controller_key_and_unit_number(client_factory, devices, adapter_type): """"""This function inspects the current set of hardware devices and returns controller_key and unit_number that can be used for attaching a new virtual disk to adapter with the given adapter_type. """""" if devices.__class__.__name__ == ""ArrayOfVirtualDevice"": devices = devices.VirtualDevice taken = _find_allocated_slots(devices) ret = None if adapter_type == constants.ADAPTER_TYPE_IDE: ide_keys = [dev.key for dev in devices if _is_ide_controller(dev)] ret = _find_controller_slot(ide_keys, taken, 2) elif adapter_type in [constants.DEFAULT_ADAPTER_TYPE, constants.ADAPTER_TYPE_LSILOGICSAS, constants.ADAPTER_TYPE_BUSLOGIC, constants.ADAPTER_TYPE_PARAVIRTUAL]: scsi_keys = [dev.key for dev in devices if _is_scsi_controller(dev)] ret = _find_controller_slot(scsi_keys, taken, 16) if ret: return ret[0], ret[1], None # create new controller with the specified type and return its spec controller_key = -101 controller_spec = create_controller_spec(client_factory, controller_key, adapter_type) return controller_key, 0, controller_spec def get_rdm_disk(hardware_devices, uuid): """"""Gets the RDM disk key."""""" if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if (device.__class__.__name__ == ""VirtualDisk"" and device.backing.__class__.__name__ == ""VirtualDiskRawDiskMappingVer1BackingInfo"" and device.backing.lunUuid == uuid): return device def get_vmdk_create_spec(client_factory, size_in_kb, adapter_type=constants.DEFAULT_ADAPTER_TYPE, disk_type=constants.DEFAULT_DISK_TYPE): """"""Builds the virtual disk create spec."""""" create_vmdk_spec = client_factory.create('ns0:FileBackedVirtualDiskSpec') create_vmdk_spec.adapterType = get_vmdk_adapter_type(adapter_type) create_vmdk_spec.diskType = disk_type create_vmdk_spec.capacityKb = size_in_kb return create_vmdk_spec def create_virtual_cdrom_spec(client_factory, datastore, controller_key, file_path, cdrom_unit_number): """"""Builds spec for the creation of a new Virtual CDROM to the VM."""""" config_spec = client_factory.create( 'ns0:VirtualDeviceConfigSpec') config_spec.operation = ""add"" cdrom = client_factory.create('ns0:VirtualCdrom') cdrom_device_backing = client_factory.create( 'ns0:VirtualCdromIsoBackingInfo') cdrom_device_backing.datastore = datastore cdrom_device_backing.fileName = file_path cdrom.backing = cdrom_device_backing cdrom.controllerKey = controller_key cdrom.unitNumber = cdrom_unit_number cdrom.key = -1 connectable_spec = client_factory.create('ns0:VirtualDeviceConnectInfo') connectable_spec.startConnected = True connectable_spec.allowGuestControl = False connectable_spec.connected = True cdrom.connectable = connectable_spec config_spec.device = cdrom return config_spec def create_virtual_disk_spec(client_factory, controller_key, disk_type=constants.DEFAULT_DISK_TYPE, file_path=None, disk_size=None, linked_clone=False, unit_number=None, device_name=None): """"""Builds spec for the creation of a new/ attaching of an already existing Virtual Disk to the VM. """""" virtual_device_config = client_factory.create( 'ns0:VirtualDeviceConfigSpec') virtual_device_config.operation = ""add"" if (file_path is None) or linked_clone: virtual_device_config.fileOperation = ""create"" virtual_disk = client_factory.create('ns0:VirtualDisk') if disk_type == ""rdm"" or disk_type == ""rdmp"": disk_file_backing = client_factory.create( 'ns0:VirtualDiskRawDiskMappingVer1BackingInfo') disk_file_backing.compatibilityMode = ""virtualMode"" \ if disk_type == ""rdm"" else ""physicalMode"" disk_file_backing.diskMode = ""independent_persistent"" disk_file_backing.deviceName = device_name or """" else: disk_file_backing = client_factory.create( 'ns0:VirtualDiskFlatVer2BackingInfo') disk_file_backing.diskMode = ""persistent"" if disk_type == ""thin"": disk_file_backing.thinProvisioned = True else: if disk_type == ""eagerZeroedThick"": disk_file_backing.eagerlyScrub = True disk_file_backing.fileName = file_path or """" connectable_spec = client_factory.create('ns0:VirtualDeviceConnectInfo') connectable_spec.startConnected = True connectable_spec.allowGuestControl = False connectable_spec.connected = True if not linked_clone: virtual_disk.backing = disk_file_backing else: virtual_disk.backing = copy.copy(disk_file_backing) virtual_disk.backing.fileName = """" virtual_disk.backing.parent = disk_file_backing virtual_disk.connectable = connectable_spec # The Server assigns a Key to the device. Here we pass a -ve random key. # -ve because actual keys are +ve numbers and we don't # want a clash with the key that server might associate with the device virtual_disk.key = -100 virtual_disk.controllerKey = controller_key virtual_disk.unitNumber = unit_number or 0 virtual_disk.capacityInKB = disk_size or 0 virtual_device_config.device = virtual_disk return virtual_device_config def detach_virtual_disk_spec(client_factory, device, destroy_disk=False): """"""Builds spec for the detach of an already existing Virtual Disk from VM. """""" virtual_device_config = client_factory.create( 'ns0:VirtualDeviceConfigSpec') virtual_device_config.operation = ""remove"" if destroy_disk: virtual_device_config.fileOperation = ""destroy"" virtual_device_config.device = device return virtual_device_config def clone_vm_spec(client_factory, location, power_on=False, snapshot=None, template=False, config=None): """"""Builds the VM clone spec."""""" clone_spec = client_factory.create('ns0:VirtualMachineCloneSpec') clone_spec.location = location clone_spec.powerOn = power_on if snapshot: clone_spec.snapshot = snapshot if config is not None: clone_spec.config = config clone_spec.template = template return clone_spec def relocate_vm_spec(client_factory, datastore=None, host=None, disk_move_type=""moveAllDiskBackingsAndAllowSharing""): """"""Builds the VM relocation spec."""""" rel_spec = client_factory.create('ns0:VirtualMachineRelocateSpec') rel_spec.datastore = datastore rel_spec.diskMoveType = disk_move_type if host: rel_spec.host = host return rel_spec def get_machine_id_change_spec(client_factory, machine_id_str): """"""Builds the machine id change config spec."""""" virtual_machine_config_spec = client_factory.create( 'ns0:VirtualMachineConfigSpec') opt = client_factory.create('ns0:OptionValue') opt.key = ""machine.id"" opt.value = machine_id_str virtual_machine_config_spec.extraConfig = [opt] return virtual_machine_config_spec def get_add_vswitch_port_group_spec(client_factory, vswitch_name, port_group_name, vlan_id): """"""Builds the virtual switch port group add spec."""""" vswitch_port_group_spec = client_factory.create('ns0:HostPortGroupSpec') vswitch_port_group_spec.name = port_group_name vswitch_port_group_spec.vswitchName = vswitch_name # VLAN ID of 0 means that VLAN tagging is not to be done for the network. vswitch_port_group_spec.vlanId = int(vlan_id) policy = client_factory.create('ns0:HostNetworkPolicy') nicteaming = client_factory.create('ns0:HostNicTeamingPolicy') nicteaming.notifySwitches = True policy.nicTeaming = nicteaming vswitch_port_group_spec.policy = policy return vswitch_port_group_spec def get_vnc_config_spec(client_factory, port): """"""Builds the vnc config spec."""""" virtual_machine_config_spec = client_factory.create( 'ns0:VirtualMachineConfigSpec') opt_enabled = client_factory.create('ns0:OptionValue') opt_enabled.key = ""RemoteDisplay.vnc.enabled"" opt_enabled.value = ""true"" opt_port = client_factory.create('ns0:OptionValue') opt_port.key = ""RemoteDisplay.vnc.port"" opt_port.value = port opt_keymap = client_factory.create('ns0:OptionValue') opt_keymap.key = ""RemoteDisplay.vnc.keyMap"" opt_keymap.value = CONF.vnc_keymap extras = [opt_enabled, opt_port, opt_keymap] virtual_machine_config_spec.extraConfig = extras return virtual_machine_config_spec def get_vnc_port(session): """"""Return VNC port for an VM or None if there is no available port."""""" min_port = CONF.vmware.vnc_port port_total = CONF.vmware.vnc_port_total allocated_ports = _get_allocated_vnc_ports(session) max_port = min_port + port_total for port in range(min_port, max_port): if port not in allocated_ports: return port raise exception.ConsolePortRangeExhausted(min_port=min_port, max_port=max_port) def _get_allocated_vnc_ports(session): """"""Return an integer set of all allocated VNC ports."""""" # TODO(rgerganov): bug #1256944 # The VNC port should be unique per host, not per vCenter vnc_ports = set() result = session._call_method(vim_util, ""get_objects"", ""VirtualMachine"", [VNC_CONFIG_KEY]) while result: for obj in result.objects: if not hasattr(obj, 'propSet'): continue dynamic_prop = obj.propSet[0] option_value = dynamic_prop.val vnc_port = option_value.value vnc_ports.add(int(vnc_port)) result = session._call_method(vutil, 'continue_retrieval', result) return vnc_ports def _get_object_for_value(results, value): for object in results.objects: if object.propSet[0].val == value: return object.obj def _get_object_for_optionvalue(results, value): for object in results.objects: if hasattr(object, ""propSet"") and object.propSet: if object.propSet[0].val.value == value: return object.obj def _get_object_from_results(session, results, value, func): while results: object = func(results, value) if object: session._call_method(vutil, 'cancel_retrieval', results) return object results = session._call_method(vutil, 'continue_retrieval', results) def _get_vm_ref_from_name(session, vm_name): """"""Get reference to the VM with the name specified."""""" vms = session._call_method(vim_util, ""get_objects"", ""VirtualMachine"", [""name""]) return _get_object_from_results(session, vms, vm_name, _get_object_for_value) @vm_ref_cache_from_name def get_vm_ref_from_name(session, vm_name): return (_get_vm_ref_from_vm_uuid(session, vm_name) or _get_vm_ref_from_name(session, vm_name)) def _get_vm_ref_from_uuid(session, instance_uuid): """"""Get reference to the VM with the uuid specified. This method reads all of the names of the VM's that are running on the backend, then it filters locally the matching instance_uuid. It is far more optimal to use _get_vm_ref_from_vm_uuid. """""" vms = session._call_method(vim_util, ""get_objects"", ""VirtualMachine"", [""name""]) return _get_object_from_results(session, vms, instance_uuid, _get_object_for_value) def _get_vm_ref_from_vm_uuid(session, instance_uuid): """"""Get reference to the VM. The method will make use of FindAllByUuid to get the VM reference. This method finds all VM's on the backend that match the instance_uuid, more specifically all VM's on the backend that have 'config_spec.instanceUuid' set to 'instance_uuid'. """""" vm_refs = session._call_method( session.vim, ""FindAllByUuid"", session.vim.service_content.searchIndex, uuid=instance_uuid, vmSearch=True, instanceUuid=True) if vm_refs: return vm_refs[0] def _get_vm_ref_from_extraconfig(session, instance_uuid): """"""Get reference to the VM with the uuid specified."""""" vms = session._call_method(vim_util, ""get_objects"", ""VirtualMachine"", ['config.extraConfig[""nvp.vm-uuid""]']) return _get_object_from_results(session, vms, instance_uuid, _get_object_for_optionvalue) @vm_ref_cache_from_instance def get_vm_ref(session, instance): """"""Get reference to the VM through uuid or vm name."""""" uuid = instance.uuid vm_ref = (search_vm_ref_by_identifier(session, uuid) or _get_vm_ref_from_name(session, instance.name)) if vm_ref is None: raise exception.InstanceNotFound(instance_id=uuid) return vm_ref def search_vm_ref_by_identifier(session, identifier): """"""Searches VM reference using the identifier. This method is primarily meant to separate out part of the logic for vm_ref search that could be use directly in the special case of migrating the instance. For querying VM linked to an instance always use get_vm_ref instead. """""" vm_ref = (_get_vm_ref_from_vm_uuid(session, identifier) or _get_vm_ref_from_extraconfig(session, identifier) or _get_vm_ref_from_uuid(session, identifier)) return vm_ref def get_host_ref_for_vm(session, instance): """"""Get a MoRef to the ESXi host currently running an instance."""""" vm_ref = get_vm_ref(session, instance) return session._call_method(vim_util, ""get_dynamic_property"", vm_ref, ""VirtualMachine"", ""runtime.host"") def get_host_name_for_vm(session, instance): """"""Get the hostname of the ESXi host currently running an instance."""""" host_ref = get_host_ref_for_vm(session, instance) return session._call_method(vim_util, ""get_dynamic_property"", host_ref, ""HostSystem"", ""name"") def get_vm_state(session, instance): vm_ref = get_vm_ref(session, instance) vm_state = session._call_method(vim_util, ""get_dynamic_property"", vm_ref, ""VirtualMachine"", ""runtime.powerState"") return vm_state def get_stats_from_cluster(session, cluster): """"""Get the aggregate resource stats of a cluster."""""" vcpus = 0 mem_info = {'total': 0, 'free': 0} # Get the Host and Resource Pool Managed Object Refs prop_dict = session._call_method(vim_util, ""get_dynamic_properties"", cluster, ""ClusterComputeResource"", [""host"", ""resourcePool""]) if prop_dict: host_ret = prop_dict.get('host') if host_ret: host_mors = host_ret.ManagedObjectReference result = session._call_method(vim_util, ""get_properties_for_a_collection_of_objects"", ""HostSystem"", host_mors, [""summary.hardware"", ""summary.runtime""]) for obj in result.objects: hardware_summary = obj.propSet[0].val runtime_summary = obj.propSet[1].val if (runtime_summary.inMaintenanceMode is False and runtime_summary.connectionState == ""connected""): # Total vcpus is the sum of all pCPUs of individual hosts # The overcommitment ratio is factored in by the scheduler vcpus += hardware_summary.numCpuThreads res_mor = prop_dict.get('resourcePool') if res_mor: res_usage = session._call_method(vim_util, ""get_dynamic_property"", res_mor, ""ResourcePool"", ""summary.runtime.memory"") if res_usage: # maxUsage is the memory limit of the cluster available to VM's mem_info['total'] = int(res_usage.maxUsage / units.Mi) # overallUsage is the hypervisor's view of memory usage by VM's consumed = int(res_usage.overallUsage / units.Mi) mem_info['free'] = mem_info['total'] - consumed stats = {'vcpus': vcpus, 'mem': mem_info} return stats def get_host_ref(session, cluster=None): """"""Get reference to a host within the cluster specified."""""" if cluster is None: results = session._call_method(vim_util, ""get_objects"", ""HostSystem"") session._call_method(vutil, 'cancel_retrieval', results) host_mor = results.objects[0].obj else: host_ret = session._call_method(vim_util, ""get_dynamic_property"", cluster, ""ClusterComputeResource"", ""host"") if not host_ret or not host_ret.ManagedObjectReference: msg = _('No host available on cluster') raise exception.NoValidHost(reason=msg) host_mor = host_ret.ManagedObjectReference[0] return host_mor def propset_dict(propset): """"""Turn a propset list into a dictionary PropSet is an optional attribute on ObjectContent objects that are returned by the VMware API. You can read more about these at: | http://pubs.vmware.com/vsphere-51/index.jsp | #com.vmware.wssdk.apiref.doc/ | vmodl.query.PropertyCollector.ObjectContent.html :param propset: a property ""set"" from ObjectContent :return: dictionary representing property set """""" if propset is None: return {} return {prop.name: prop.val for prop in propset} def get_vmdk_backed_disk_device(hardware_devices, uuid): if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if (device.__class__.__name__ == ""VirtualDisk"" and device.backing.__class__.__name__ == ""VirtualDiskFlatVer2BackingInfo"" and device.backing.uuid == uuid): return device def get_vmdk_volume_disk(hardware_devices, path=None): if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if (device.__class__.__name__ == ""VirtualDisk""): if not path or path == device.backing.fileName: return device def get_res_pool_ref(session, cluster): """"""Get the resource pool."""""" # Get the root resource pool of the cluster res_pool_ref = session._call_method(vim_util, ""get_dynamic_property"", cluster, ""ClusterComputeResource"", ""resourcePool"") return res_pool_ref def get_all_cluster_mors(session): """"""Get all the clusters in the vCenter."""""" try: results = session._call_method(vim_util, ""get_objects"", ""ClusterComputeResource"", [""name""]) session._call_method(vutil, 'cancel_retrieval', results) return results.objects except Exception as excep: LOG.warning(_LW(""Failed to get cluster references %s""), excep) def get_all_res_pool_mors(session): """"""Get all the resource pools in the vCenter."""""" try: results = session._call_method(vim_util, ""get_objects"", ""ResourcePool"") session._call_method(vutil, 'cancel_retrieval', results) return results.objects except Exception as excep: LOG.warning(_LW(""Failed to get resource pool references %s""), excep) def get_dynamic_property_mor(session, mor_ref, attribute): """"""Get the value of an attribute for a given managed object."""""" return session._call_method(vim_util, ""get_dynamic_property"", mor_ref, mor_ref._type, attribute) def find_entity_mor(entity_list, entity_name): """"""Returns managed object ref for given cluster or resource pool name."""""" return [mor for mor in entity_list if (hasattr(mor, 'propSet') and mor.propSet[0].val == entity_name)] def get_all_cluster_refs_by_name(session, path_list): """"""Get reference to the Cluster, ResourcePool with the path specified. The path is the display name. This can be the full path as well. The input will have the list of clusters and resource pool names """""" cls = get_all_cluster_mors(session) if not cls: return {} res = get_all_res_pool_mors(session) if not res: return {} path_list = [path.strip() for path in path_list] list_obj = [] for entity_path in path_list: # entity_path could be unique cluster and/or resource-pool name res_mor = find_entity_mor(res, entity_path) cls_mor = find_entity_mor(cls, entity_path) cls_mor.extend(res_mor) for mor in cls_mor: list_obj.append((mor.obj, mor.propSet[0].val)) return get_dict_mor(session, list_obj) def get_dict_mor(session, list_obj): """"""The input is a list of objects in the form (manage_object,display_name) The managed object will be in the form { value = ""domain-1002"", _type = ""ClusterComputeResource"" } Output data format: | dict_mors = { | 'respool-1001': { 'cluster_mor': clusterMor, | 'res_pool_mor': resourcePoolMor, | 'name': display_name }, | 'domain-1002': { 'cluster_mor': clusterMor, | 'res_pool_mor': resourcePoolMor, | 'name': display_name }, | } """""" dict_mors = {} for obj_ref, path in list_obj: if obj_ref._type == ""ResourcePool"": # Get owner cluster-ref mor cluster_ref = get_dynamic_property_mor(session, obj_ref, ""owner"") dict_mors[obj_ref.value] = {'cluster_mor': cluster_ref, 'res_pool_mor': obj_ref, 'name': path, } else: # Get default resource pool of the cluster res_pool_ref = get_dynamic_property_mor(session, obj_ref, ""resourcePool"") dict_mors[obj_ref.value] = {'cluster_mor': obj_ref, 'res_pool_mor': res_pool_ref, 'name': path, } return dict_mors def get_vmdk_adapter_type(adapter_type): """"""Return the adapter type to be used in vmdk descriptor. Adapter type in vmdk descriptor is same for LSI-SAS, LSILogic & ParaVirtual because Virtual Disk Manager API does not recognize the newer controller types. """""" if adapter_type in [constants.ADAPTER_TYPE_LSILOGICSAS, constants.ADAPTER_TYPE_PARAVIRTUAL]: vmdk_adapter_type = constants.DEFAULT_ADAPTER_TYPE else: vmdk_adapter_type = adapter_type return vmdk_adapter_type def create_vm(session, instance, vm_folder, config_spec, res_pool_ref): """"""Create VM on ESX host."""""" LOG.debug(""Creating VM on the ESX host"", instance=instance) vm_create_task = session._call_method( session.vim, ""CreateVM_Task"", vm_folder, config=config_spec, pool=res_pool_ref) try: task_info = session._wait_for_task(vm_create_task) except vexc.VMwareDriverException: # An invalid guestId will result in an error with no specific fault # type and the generic error 'A specified parameter was not correct'. # As guestId is user-editable, we try to help the user out with some # additional information if we notice that guestId isn't in our list of # known-good values. # We don't check this in advance or do anything more than warn because # we can't guarantee that our list of known-good guestIds is complete. # Consequently, a value which we don't recognise may in fact be valid. with excutils.save_and_reraise_exception(): if config_spec.guestId not in constants.VALID_OS_TYPES: LOG.warning(_LW('vmware_ostype from image is not recognised: ' '\'%(ostype)s\'. An invalid os type may be ' 'one cause of this instance creation failure'), {'ostype': config_spec.guestId}) LOG.debug(""Created VM on the ESX host"", instance=instance) return task_info.result def destroy_vm(session, instance, vm_ref=None): """"""Destroy a VM instance. Assumes VM is powered off."""""" try: if not vm_ref: vm_ref = get_vm_ref(session, instance) LOG.debug(""Destroying the VM"", instance=instance) destroy_task = session._call_method(session.vim, ""Destroy_Task"", vm_ref) session._wait_for_task(destroy_task) LOG.info(_LI(""Destroyed the VM""), instance=instance) except Exception: LOG.exception(_LE('Destroy VM failed'), instance=instance) def create_virtual_disk(session, dc_ref, adapter_type, disk_type, virtual_disk_path, size_in_kb): # Create a Virtual Disk of the size of the flat vmdk file. This is # done just to generate the meta-data file whose specifics # depend on the size of the disk, thin/thick provisioning and the # storage adapter type. LOG.debug(""Creating Virtual Disk of size "" ""%(vmdk_file_size_in_kb)s KB and adapter type "" ""%(adapter_type)s on the data store"", {""vmdk_file_size_in_kb"": size_in_kb, ""adapter_type"": adapter_type}) vmdk_create_spec = get_vmdk_create_spec( session.vim.client.factory, size_in_kb, adapter_type, disk_type) vmdk_create_task = session._call_method( session.vim, ""CreateVirtualDisk_Task"", session.vim.service_content.virtualDiskManager, name=virtual_disk_path, datacenter=dc_ref, spec=vmdk_create_spec) session._wait_for_task(vmdk_create_task) LOG.debug(""Created Virtual Disk of size %(vmdk_file_size_in_kb)s"" "" KB and type %(disk_type)s"", {""vmdk_file_size_in_kb"": size_in_kb, ""disk_type"": disk_type}) def copy_virtual_disk(session, dc_ref, source, dest): """"""Copy a sparse virtual disk to a thin virtual disk. This is also done to generate the meta-data file whose specifics depend on the size of the disk, thin/thick provisioning and the storage adapter type. :param session: - session for connection :param dc_ref: - data center reference object :param source: - source datastore path :param dest: - destination datastore path """""" LOG.debug(""Copying Virtual Disk %(source)s to %(dest)s"", {'source': source, 'dest': dest}) vim = session.vim vmdk_copy_task = session._call_method( vim, ""CopyVirtualDisk_Task"", vim.service_content.virtualDiskManager, sourceName=source, sourceDatacenter=dc_ref, destName=dest) session._wait_for_task(vmdk_copy_task) LOG.debug(""Copied Virtual Disk %(source)s to %(dest)s"", {'source': source, 'dest': dest}) def reconfigure_vm(session, vm_ref, config_spec): """"""Reconfigure a VM according to the config spec."""""" reconfig_task = session._call_method(session.vim, ""ReconfigVM_Task"", vm_ref, spec=config_spec) session._wait_for_task(reconfig_task) def power_on_instance(session, instance, vm_ref=None): """"""Power on the specified instance."""""" if vm_ref is None: vm_ref = get_vm_ref(session, instance) LOG.debug(""Powering on the VM"", instance=instance) try: poweron_task = session._call_method( session.vim, ""PowerOnVM_Task"", vm_ref) session._wait_for_task(poweron_task) LOG.debug(""Powered on the VM"", instance=instance) except vexc.InvalidPowerStateException: LOG.debug(""VM already powered on"", instance=instance) def get_values_from_object_properties(session, props): """"""Get the specific values from a object list. The object values will be returned as a dictionary. """""" dictionary = {} while props: for elem in props.objects: propdict = propset_dict(elem.propSet) dictionary.update(propdict) props = session._call_method(vutil, 'continue_retrieval', props) return dictionary def _get_vm_port_indices(session, vm_ref): extra_config = session._call_method(vim_util, 'get_dynamic_property', vm_ref, 'VirtualMachine', 'config.extraConfig') ports = [] if extra_config is not None: options = extra_config.OptionValue for option in options: if (option.key.startswith('nvp.iface-id.') and option.value != 'free'): ports.append(int(option.key.split('.')[2])) return ports def get_attach_port_index(session, vm_ref): """"""Get the first free port index."""""" ports = _get_vm_port_indices(session, vm_ref) # No ports are configured on the VM if not ports: return 0 ports.sort() configured_ports_len = len(ports) # Find the first free port index for port_index in range(configured_ports_len): if port_index != ports[port_index]: return port_index return configured_ports_len def get_vm_detach_port_index(session, vm_ref, iface_id): extra_config = session._call_method(vim_util, 'get_dynamic_property', vm_ref, 'VirtualMachine', 'config.extraConfig') if extra_config is not None: options = extra_config.OptionValue for option in options: if (option.key.startswith('nvp.iface-id.') and option.value == iface_id): return int(option.key.split('.')[2]) def has_installed_vmtools(session, instance, vm_ref=None): if vm_ref is None: vm_ref = get_vm_ref(session, instance) query_properties = [""summary.guest.toolsStatus"", ""summary.guest.toolsRunningStatus""] tools_prop = session._call_method(vim_util, ""get_object_properties"", None, vm_ref, ""VirtualMachine"", query_properties) tools_prop = get_values_from_object_properties(session, tools_prop) tools_status = tools_prop['summary.guest.toolsStatus'] tools_running_status = tools_prop['summary.guest.toolsRunningStatus'] if (tools_status == ""toolsOk"" and tools_running_status == ""guestToolsRunning""): return True return False def power_off_instance(session, instance, vm_ref=None): """"""Power off the specified instance."""""" if vm_ref is None: vm_ref = get_vm_ref(session, instance) LOG.debug(""Powering off the VM"", instance=instance) try: # Using ShutdownGuest, if vmtools was installed. if has_installed_vmtools(session, instance, vm_ref): session._call_method(session.vim, ""ShutdownGuest"", vm_ref) else: poweroff_task = session._call_method(session.vim, ""PowerOffVM_Task"", vm_ref) session._wait_for_task(poweroff_task) LOG.debug(""Powered off the VM"", instance=instance) except vexc.InvalidPowerStateException: LOG.debug(""VM already powered off"", instance=instance) def find_rescue_device(hardware_devices, instance): """"""Returns the rescue device. The method will raise an exception if the rescue device does not exist. The resuce device has suffix '-rescue.vmdk'. :param hardware_devices: the hardware devices for the instance :param instance: nova.objects.instance.Instance object :return: the rescue disk device object """""" for device in hardware_devices.VirtualDevice: if (device.__class__.__name__ == ""VirtualDisk"" and device.backing.__class__.__name__ == 'VirtualDiskFlatVer2BackingInfo' and device.backing.fileName.endswith('-rescue.vmdk')): return device msg = _('Rescue device does not exist for instance %s') % instance.uuid raise exception.NotFound(msg) def get_ephemeral_name(id): return 'ephemeral_%d.vmdk' % id def _detach_and_delete_devices_config_spec(client_factory, devices): config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') device_config_spec = [] for device in devices: virtual_device_config = client_factory.create( 'ns0:VirtualDeviceConfigSpec') virtual_device_config.operation = ""remove"" virtual_device_config.device = device virtual_device_config.fileOperation = ""destroy"" device_config_spec.append(virtual_device_config) config_spec.deviceChange = device_config_spec return config_spec def detach_devices_from_vm(session, vm_ref, devices): """"""Detach specified devices from VM."""""" client_factory = session.vim.client.factory config_spec = _detach_and_delete_devices_config_spec( client_factory, devices) reconfigure_vm(session, vm_ref, config_spec) def get_ephemerals(session, vm_ref): devices = [] hardware_devices = session._call_method(vim_util, ""get_dynamic_property"", vm_ref, ""VirtualMachine"", ""config.hardware.device"") if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if device.__class__.__name__ == ""VirtualDisk"": if (device.backing.__class__.__name__ == ""VirtualDiskFlatVer2BackingInfo""): if 'ephemeral' in device.backing.fileName: devices.append(device) return devices ","# Copyright (c) 2013 Hewlett-Packard Development Company, L.P. # Copyright (c) 2012 VMware, Inc. # Copyright (c) 2011 Citrix Systems, Inc. # Copyright 2011 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" The VMware API VM utility module to build SOAP object specs. """""" import collections import copy import functools from oslo_config import cfg from oslo_log import log as logging from oslo_utils import excutils from oslo_utils import units from oslo_vmware import exceptions as vexc from oslo_vmware.objects import datastore as ds_obj from oslo_vmware import pbm from oslo_vmware import vim_util as vutil from nova import exception from nova.i18n import _, _LE, _LI, _LW from nova.network import model as network_model from nova.virt.vmwareapi import constants from nova.virt.vmwareapi import vim_util CONF = cfg.CONF LOG = logging.getLogger(__name__) vmware_utils_opts = [ cfg.IntOpt('console_delay_seconds', help='Set this value if affected by an increased network ' 'latency causing repeated characters when typing in ' 'a remote console.') ] CONF = cfg.CONF CONF.register_opts(vmware_utils_opts, 'vmware') ALL_SUPPORTED_NETWORK_DEVICES = ['VirtualE1000', 'VirtualE1000e', 'VirtualPCNet32', 'VirtualSriovEthernetCard', 'VirtualVmxnet', 'VirtualVmxnet3'] # A cache for VM references. The key will be the VM name # and the value is the VM reference. The VM name is unique. This # is either the UUID of the instance or UUID-rescue in the case # that this is a rescue VM. This is in order to prevent # unnecessary communication with the backend. _VM_REFS_CACHE = {} class CpuLimits(object): def __init__(self, cpu_limit=None, cpu_reservation=None, cpu_shares_level=None, cpu_shares_share=None): """"""CpuLimits object holds instance cpu limits for convenience."""""" self.cpu_limit = cpu_limit self.cpu_reservation = cpu_reservation self.cpu_shares_level = cpu_shares_level self.cpu_shares_share = cpu_shares_share def validate(self): if self.cpu_shares_level in ('high', 'normal', 'low'): if self.cpu_shares_share: reason = _(""Share level '%s' cannot have share "" ""configured"") % self.cpu_shares_level raise exception.InvalidInput(reason=reason) return if self.cpu_shares_level == 'custom': return if self.cpu_shares_level: reason = _(""Share '%s' is not supported"") % self.cpu_shares_level raise exception.InvalidInput(reason=reason) class ExtraSpecs(object): def __init__(self, cpu_limits=None, hw_version=None, storage_policy=None): """"""ExtraSpecs object holds extra_specs for the instance."""""" if cpu_limits is None: cpu_limits = CpuLimits() self.cpu_limits = cpu_limits self.hw_version = hw_version self.storage_policy = storage_policy def has_cpu_limits(self): return bool(self.cpu_limits.cpu_limit or self.cpu_limits.cpu_reservation or self.cpu_limits.cpu_shares_level) def vm_refs_cache_reset(): global _VM_REFS_CACHE _VM_REFS_CACHE = {} def vm_ref_cache_delete(id): _VM_REFS_CACHE.pop(id, None) def vm_ref_cache_update(id, vm_ref): _VM_REFS_CACHE[id] = vm_ref def vm_ref_cache_get(id): return _VM_REFS_CACHE.get(id) def _vm_ref_cache(id, func, session, data): vm_ref = vm_ref_cache_get(id) if not vm_ref: vm_ref = func(session, data) vm_ref_cache_update(id, vm_ref) return vm_ref def vm_ref_cache_from_instance(func): @functools.wraps(func) def wrapper(session, instance): id = instance.uuid return _vm_ref_cache(id, func, session, instance) return wrapper def vm_ref_cache_from_name(func): @functools.wraps(func) def wrapper(session, name): id = name return _vm_ref_cache(id, func, session, name) return wrapper # the config key which stores the VNC port VNC_CONFIG_KEY = 'config.extraConfig[""RemoteDisplay.vnc.port""]' VmdkInfo = collections.namedtuple('VmdkInfo', ['path', 'adapter_type', 'disk_type', 'capacity_in_bytes', 'device']) def _iface_id_option_value(client_factory, iface_id, port_index): opt = client_factory.create('ns0:OptionValue') opt.key = ""nvp.iface-id.%d"" % port_index opt.value = iface_id return opt def _get_allocation_info(client_factory, extra_specs): allocation = client_factory.create('ns0:ResourceAllocationInfo') if extra_specs.cpu_limits.cpu_limit: allocation.limit = extra_specs.cpu_limits.cpu_limit else: # Set as 'umlimited' allocation.limit = -1 if extra_specs.cpu_limits.cpu_reservation: allocation.reservation = extra_specs.cpu_limits.cpu_reservation else: allocation.reservation = 0 shares = client_factory.create('ns0:SharesInfo') if extra_specs.cpu_limits.cpu_shares_level: shares.level = extra_specs.cpu_limits.cpu_shares_level if (shares.level == 'custom' and extra_specs.cpu_limits.cpu_shares_share): shares.shares = extra_specs.cpu_limits.cpu_shares_share else: shares.shares = 0 else: shares.level = 'normal' shares.shares = 0 allocation.shares = shares return allocation def get_vm_create_spec(client_factory, instance, data_store_name, vif_infos, extra_specs, os_type=constants.DEFAULT_OS_TYPE, profile_spec=None): """"""Builds the VM Create spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') config_spec.name = instance.uuid config_spec.guestId = os_type # The name is the unique identifier for the VM. config_spec.instanceUuid = instance.uuid # set the Hardware version config_spec.version = extra_specs.hw_version # Allow nested ESX instances to host 64 bit VMs. if os_type == ""vmkernel5Guest"": config_spec.nestedHVEnabled = ""True"" # Append the profile spec if profile_spec: config_spec.vmProfile = [profile_spec] vm_file_info = client_factory.create('ns0:VirtualMachineFileInfo') vm_file_info.vmPathName = ""["" + data_store_name + ""]"" config_spec.files = vm_file_info tools_info = client_factory.create('ns0:ToolsConfigInfo') tools_info.afterPowerOn = True tools_info.afterResume = True tools_info.beforeGuestStandby = True tools_info.beforeGuestShutdown = True tools_info.beforeGuestReboot = True config_spec.tools = tools_info config_spec.numCPUs = int(instance.vcpus) config_spec.memoryMB = int(instance.memory_mb) # Configure cpu information if extra_specs.has_cpu_limits(): config_spec.cpuAllocation = _get_allocation_info(client_factory, extra_specs) vif_spec_list = [] for vif_info in vif_infos: vif_spec = _create_vif_spec(client_factory, vif_info) vif_spec_list.append(vif_spec) device_config_spec = vif_spec_list config_spec.deviceChange = device_config_spec # add vm-uuid and iface-id.x values for Neutron extra_config = [] opt = client_factory.create('ns0:OptionValue') opt.key = ""nvp.vm-uuid"" opt.value = instance.uuid extra_config.append(opt) port_index = 0 for vif_info in vif_infos: if vif_info['iface_id']: extra_config.append(_iface_id_option_value(client_factory, vif_info['iface_id'], port_index)) port_index += 1 if (CONF.vmware.console_delay_seconds and CONF.vmware.console_delay_seconds > 0): opt = client_factory.create('ns0:OptionValue') opt.key = 'keyboard.typematicMinDelay' opt.value = CONF.vmware.console_delay_seconds * 1000000 extra_config.append(opt) config_spec.extraConfig = extra_config # Set the VM to be 'managed' by 'OpenStack' managed_by = client_factory.create('ns0:ManagedByInfo') managed_by.extensionKey = constants.EXTENSION_KEY managed_by.type = constants.EXTENSION_TYPE_INSTANCE config_spec.managedBy = managed_by return config_spec def get_vm_boot_spec(client_factory, device): """"""Returns updated boot settings for the instance. The boot order for the instance will be changed to have the input device as the boot disk. """""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') boot_disk = client_factory.create( 'ns0:VirtualMachineBootOptionsBootableDiskDevice') boot_disk.deviceKey = device.key boot_options = client_factory.create('ns0:VirtualMachineBootOptions') boot_options.bootOrder = [boot_disk] config_spec.bootOptions = boot_options return config_spec def get_vm_resize_spec(client_factory, vcpus, memory_mb, extra_specs): """"""Provides updates for a VM spec."""""" resize_spec = client_factory.create('ns0:VirtualMachineConfigSpec') resize_spec.numCPUs = vcpus resize_spec.memoryMB = memory_mb resize_spec.cpuAllocation = _get_allocation_info(client_factory, extra_specs) return resize_spec def create_controller_spec(client_factory, key, adapter_type=constants.DEFAULT_ADAPTER_TYPE): """"""Builds a Config Spec for the LSI or Bus Logic Controller's addition which acts as the controller for the virtual hard disk to be attached to the VM. """""" # Create a controller for the Virtual Hard Disk virtual_device_config = client_factory.create( 'ns0:VirtualDeviceConfigSpec') virtual_device_config.operation = ""add"" if adapter_type == constants.ADAPTER_TYPE_BUSLOGIC: virtual_controller = client_factory.create( 'ns0:VirtualBusLogicController') elif adapter_type == constants.ADAPTER_TYPE_LSILOGICSAS: virtual_controller = client_factory.create( 'ns0:VirtualLsiLogicSASController') elif adapter_type == constants.ADAPTER_TYPE_PARAVIRTUAL: virtual_controller = client_factory.create( 'ns0:ParaVirtualSCSIController') else: virtual_controller = client_factory.create( 'ns0:VirtualLsiLogicController') virtual_controller.key = key virtual_controller.busNumber = 0 virtual_controller.sharedBus = ""noSharing"" virtual_device_config.device = virtual_controller return virtual_device_config def convert_vif_model(name): """"""Converts standard VIF_MODEL types to the internal VMware ones."""""" if name == network_model.VIF_MODEL_E1000: return 'VirtualE1000' if name == network_model.VIF_MODEL_E1000E: return 'VirtualE1000e' if name not in ALL_SUPPORTED_NETWORK_DEVICES: msg = _('%s is not supported.') % name raise exception.Invalid(msg) return name def _create_vif_spec(client_factory, vif_info): """"""Builds a config spec for the addition of a new network adapter to the VM. """""" network_spec = client_factory.create('ns0:VirtualDeviceConfigSpec') network_spec.operation = ""add"" # Keep compatible with other Hyper vif model parameter. vif_info['vif_model'] = convert_vif_model(vif_info['vif_model']) vif = 'ns0:' + vif_info['vif_model'] net_device = client_factory.create(vif) # NOTE(asomya): Only works on ESXi if the portgroup binding is set to # ephemeral. Invalid configuration if set to static and the NIC does # not come up on boot if set to dynamic. network_ref = vif_info['network_ref'] network_name = vif_info['network_name'] mac_address = vif_info['mac_address'] backing = None if network_ref and network_ref['type'] == 'OpaqueNetwork': backing = client_factory.create( 'ns0:VirtualEthernetCardOpaqueNetworkBackingInfo') backing.opaqueNetworkId = network_ref['network-id'] backing.opaqueNetworkType = network_ref['network-type'] elif (network_ref and network_ref['type'] == ""DistributedVirtualPortgroup""): backing = client_factory.create( 'ns0:VirtualEthernetCardDistributedVirtualPortBackingInfo') portgroup = client_factory.create( 'ns0:DistributedVirtualSwitchPortConnection') portgroup.switchUuid = network_ref['dvsw'] portgroup.portgroupKey = network_ref['dvpg'] backing.port = portgroup else: backing = client_factory.create( 'ns0:VirtualEthernetCardNetworkBackingInfo') backing.deviceName = network_name connectable_spec = client_factory.create('ns0:VirtualDeviceConnectInfo') connectable_spec.startConnected = True connectable_spec.allowGuestControl = True connectable_spec.connected = True net_device.connectable = connectable_spec net_device.backing = backing # The Server assigns a Key to the device. Here we pass a -ve temporary key. # -ve because actual keys are +ve numbers and we don't # want a clash with the key that server might associate with the device net_device.key = -47 net_device.addressType = ""manual"" net_device.macAddress = mac_address net_device.wakeOnLanEnabled = True network_spec.device = net_device return network_spec def get_network_attach_config_spec(client_factory, vif_info, index): """"""Builds the vif attach config spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') vif_spec = _create_vif_spec(client_factory, vif_info) config_spec.deviceChange = [vif_spec] if vif_info['iface_id'] is not None: config_spec.extraConfig = [_iface_id_option_value(client_factory, vif_info['iface_id'], index)] return config_spec def get_network_detach_config_spec(client_factory, device, port_index): """"""Builds the vif detach config spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') virtual_device_config = client_factory.create( 'ns0:VirtualDeviceConfigSpec') virtual_device_config.operation = ""remove"" virtual_device_config.device = device config_spec.deviceChange = [virtual_device_config] # If a key is already present then it cannot be deleted, only updated. # This enables us to reuse this key if there is an additional # attachment. The keys need to be preserved. This is due to the fact # that there is logic on the ESX that does the network wiring # according to these values. If they are changed then this will # break networking to and from the interface. config_spec.extraConfig = [_iface_id_option_value(client_factory, 'free', port_index)] return config_spec def get_storage_profile_spec(session, storage_policy): """"""Gets the vm profile spec configured for storage policy."""""" profile_id = pbm.get_profile_id_by_name(session, storage_policy) if profile_id: client_factory = session.vim.client.factory storage_profile_spec = client_factory.create( 'ns0:VirtualMachineDefinedProfileSpec') storage_profile_spec.profileId = profile_id.uniqueId return storage_profile_spec def get_vmdk_attach_config_spec(client_factory, disk_type=constants.DEFAULT_DISK_TYPE, file_path=None, disk_size=None, linked_clone=False, controller_key=None, unit_number=None, device_name=None): """"""Builds the vmdk attach config spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') device_config_spec = [] virtual_device_config_spec = create_virtual_disk_spec(client_factory, controller_key, disk_type, file_path, disk_size, linked_clone, unit_number, device_name) device_config_spec.append(virtual_device_config_spec) config_spec.deviceChange = device_config_spec return config_spec def get_cdrom_attach_config_spec(client_factory, datastore, file_path, controller_key, cdrom_unit_number): """"""Builds and returns the cdrom attach config spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') device_config_spec = [] virtual_device_config_spec = create_virtual_cdrom_spec(client_factory, datastore, controller_key, file_path, cdrom_unit_number) device_config_spec.append(virtual_device_config_spec) config_spec.deviceChange = device_config_spec return config_spec def get_vmdk_detach_config_spec(client_factory, device, destroy_disk=False): """"""Builds the vmdk detach config spec."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') device_config_spec = [] virtual_device_config_spec = detach_virtual_disk_spec(client_factory, device, destroy_disk) device_config_spec.append(virtual_device_config_spec) config_spec.deviceChange = device_config_spec return config_spec def get_vm_extra_config_spec(client_factory, extra_opts): """"""Builds extra spec fields from a dictionary."""""" config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') # add the key value pairs extra_config = [] for key, value in extra_opts.iteritems(): opt = client_factory.create('ns0:OptionValue') opt.key = key opt.value = value extra_config.append(opt) config_spec.extraConfig = extra_config return config_spec def _get_device_capacity(device): # Devices pre-vSphere-5.5 only reports capacityInKB, which has # rounding inaccuracies. Use that only if the more accurate # attribute is absent. if hasattr(device, 'capacityInBytes'): return device.capacityInBytes else: return device.capacityInKB * units.Ki def _get_device_disk_type(device): if getattr(device.backing, 'thinProvisioned', False): return constants.DISK_TYPE_THIN else: if getattr(device.backing, 'eagerlyScrub', False): return constants.DISK_TYPE_EAGER_ZEROED_THICK else: return constants.DEFAULT_DISK_TYPE def get_vmdk_info(session, vm_ref, uuid=None): """"""Returns information for the primary VMDK attached to the given VM."""""" hardware_devices = session._call_method(vim_util, ""get_dynamic_property"", vm_ref, ""VirtualMachine"", ""config.hardware.device"") if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice vmdk_file_path = None vmdk_controller_key = None disk_type = None capacity_in_bytes = 0 # Determine if we need to get the details of the root disk root_disk = None root_device = None if uuid: root_disk = '%s.vmdk' % uuid vmdk_device = None adapter_type_dict = {} for device in hardware_devices: if device.__class__.__name__ == ""VirtualDisk"": if device.backing.__class__.__name__ == \ ""VirtualDiskFlatVer2BackingInfo"": path = ds_obj.DatastorePath.parse(device.backing.fileName) if root_disk and path.basename == root_disk: root_device = device vmdk_device = device elif device.__class__.__name__ == ""VirtualLsiLogicController"": adapter_type_dict[device.key] = constants.DEFAULT_ADAPTER_TYPE elif device.__class__.__name__ == ""VirtualBusLogicController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_BUSLOGIC elif device.__class__.__name__ == ""VirtualIDEController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_IDE elif device.__class__.__name__ == ""VirtualLsiLogicSASController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_LSILOGICSAS elif device.__class__.__name__ == ""ParaVirtualSCSIController"": adapter_type_dict[device.key] = constants.ADAPTER_TYPE_PARAVIRTUAL if root_disk: vmdk_device = root_device if vmdk_device: vmdk_file_path = vmdk_device.backing.fileName capacity_in_bytes = _get_device_capacity(vmdk_device) vmdk_controller_key = vmdk_device.controllerKey disk_type = _get_device_disk_type(vmdk_device) adapter_type = adapter_type_dict.get(vmdk_controller_key) return VmdkInfo(vmdk_file_path, adapter_type, disk_type, capacity_in_bytes, vmdk_device) scsi_controller_classes = { 'ParaVirtualSCSIController': constants.ADAPTER_TYPE_PARAVIRTUAL, 'VirtualLsiLogicController': constants.DEFAULT_ADAPTER_TYPE, 'VirtualLsiLogicSASController': constants.ADAPTER_TYPE_LSILOGICSAS, 'VirtualBusLogicController': constants.ADAPTER_TYPE_PARAVIRTUAL, } def get_scsi_adapter_type(hardware_devices): """"""Selects a proper iscsi adapter type from the existing hardware devices """""" if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if device.__class__.__name__ in scsi_controller_classes: # find the controllers which still have available slots if len(device.device) < constants.SCSI_MAX_CONNECT_NUMBER: # return the first match one return scsi_controller_classes[device.__class__.__name__] raise exception.StorageError( reason=_(""Unable to find iSCSI Target"")) def _find_controller_slot(controller_keys, taken, max_unit_number): for controller_key in controller_keys: for unit_number in range(max_unit_number): if unit_number not in taken.get(controller_key, []): return controller_key, unit_number def _is_ide_controller(device): return device.__class__.__name__ == 'VirtualIDEController' def _is_scsi_controller(device): return device.__class__.__name__ in ['VirtualLsiLogicController', 'VirtualLsiLogicSASController', 'VirtualBusLogicController', 'ParaVirtualSCSIController'] def _find_allocated_slots(devices): """"""Return dictionary which maps controller_key to list of allocated unit numbers for that controller_key. """""" taken = {} for device in devices: if hasattr(device, 'controllerKey') and hasattr(device, 'unitNumber'): unit_numbers = taken.setdefault(device.controllerKey, []) unit_numbers.append(device.unitNumber) if _is_scsi_controller(device): # the SCSI controller sits on its own bus unit_numbers = taken.setdefault(device.key, []) unit_numbers.append(device.scsiCtlrUnitNumber) return taken def allocate_controller_key_and_unit_number(client_factory, devices, adapter_type): """"""This function inspects the current set of hardware devices and returns controller_key and unit_number that can be used for attaching a new virtual disk to adapter with the given adapter_type. """""" if devices.__class__.__name__ == ""ArrayOfVirtualDevice"": devices = devices.VirtualDevice taken = _find_allocated_slots(devices) ret = None if adapter_type == constants.ADAPTER_TYPE_IDE: ide_keys = [dev.key for dev in devices if _is_ide_controller(dev)] ret = _find_controller_slot(ide_keys, taken, 2) elif adapter_type in [constants.DEFAULT_ADAPTER_TYPE, constants.ADAPTER_TYPE_LSILOGICSAS, constants.ADAPTER_TYPE_BUSLOGIC, constants.ADAPTER_TYPE_PARAVIRTUAL]: scsi_keys = [dev.key for dev in devices if _is_scsi_controller(dev)] ret = _find_controller_slot(scsi_keys, taken, 16) if ret: return ret[0], ret[1], None # create new controller with the specified type and return its spec controller_key = -101 controller_spec = create_controller_spec(client_factory, controller_key, adapter_type) return controller_key, 0, controller_spec def get_rdm_disk(hardware_devices, uuid): """"""Gets the RDM disk key."""""" if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if (device.__class__.__name__ == ""VirtualDisk"" and device.backing.__class__.__name__ == ""VirtualDiskRawDiskMappingVer1BackingInfo"" and device.backing.lunUuid == uuid): return device def get_vmdk_create_spec(client_factory, size_in_kb, adapter_type=constants.DEFAULT_ADAPTER_TYPE, disk_type=constants.DEFAULT_DISK_TYPE): """"""Builds the virtual disk create spec."""""" create_vmdk_spec = client_factory.create('ns0:FileBackedVirtualDiskSpec') create_vmdk_spec.adapterType = get_vmdk_adapter_type(adapter_type) create_vmdk_spec.diskType = disk_type create_vmdk_spec.capacityKb = size_in_kb return create_vmdk_spec def create_virtual_cdrom_spec(client_factory, datastore, controller_key, file_path, cdrom_unit_number): """"""Builds spec for the creation of a new Virtual CDROM to the VM."""""" config_spec = client_factory.create( 'ns0:VirtualDeviceConfigSpec') config_spec.operation = ""add"" cdrom = client_factory.create('ns0:VirtualCdrom') cdrom_device_backing = client_factory.create( 'ns0:VirtualCdromIsoBackingInfo') cdrom_device_backing.datastore = datastore cdrom_device_backing.fileName = file_path cdrom.backing = cdrom_device_backing cdrom.controllerKey = controller_key cdrom.unitNumber = cdrom_unit_number cdrom.key = -1 connectable_spec = client_factory.create('ns0:VirtualDeviceConnectInfo') connectable_spec.startConnected = True connectable_spec.allowGuestControl = False connectable_spec.connected = True cdrom.connectable = connectable_spec config_spec.device = cdrom return config_spec def create_virtual_disk_spec(client_factory, controller_key, disk_type=constants.DEFAULT_DISK_TYPE, file_path=None, disk_size=None, linked_clone=False, unit_number=None, device_name=None): """"""Builds spec for the creation of a new/ attaching of an already existing Virtual Disk to the VM. """""" virtual_device_config = client_factory.create( 'ns0:VirtualDeviceConfigSpec') virtual_device_config.operation = ""add"" if (file_path is None) or linked_clone: virtual_device_config.fileOperation = ""create"" virtual_disk = client_factory.create('ns0:VirtualDisk') if disk_type == ""rdm"" or disk_type == ""rdmp"": disk_file_backing = client_factory.create( 'ns0:VirtualDiskRawDiskMappingVer1BackingInfo') disk_file_backing.compatibilityMode = ""virtualMode"" \ if disk_type == ""rdm"" else ""physicalMode"" disk_file_backing.diskMode = ""independent_persistent"" disk_file_backing.deviceName = device_name or """" else: disk_file_backing = client_factory.create( 'ns0:VirtualDiskFlatVer2BackingInfo') disk_file_backing.diskMode = ""persistent"" if disk_type == ""thin"": disk_file_backing.thinProvisioned = True else: if disk_type == ""eagerZeroedThick"": disk_file_backing.eagerlyScrub = True disk_file_backing.fileName = file_path or """" connectable_spec = client_factory.create('ns0:VirtualDeviceConnectInfo') connectable_spec.startConnected = True connectable_spec.allowGuestControl = False connectable_spec.connected = True if not linked_clone: virtual_disk.backing = disk_file_backing else: virtual_disk.backing = copy.copy(disk_file_backing) virtual_disk.backing.fileName = """" virtual_disk.backing.parent = disk_file_backing virtual_disk.connectable = connectable_spec # The Server assigns a Key to the device. Here we pass a -ve random key. # -ve because actual keys are +ve numbers and we don't # want a clash with the key that server might associate with the device virtual_disk.key = -100 virtual_disk.controllerKey = controller_key virtual_disk.unitNumber = unit_number or 0 virtual_disk.capacityInKB = disk_size or 0 virtual_device_config.device = virtual_disk return virtual_device_config def detach_virtual_disk_spec(client_factory, device, destroy_disk=False): """"""Builds spec for the detach of an already existing Virtual Disk from VM. """""" virtual_device_config = client_factory.create( 'ns0:VirtualDeviceConfigSpec') virtual_device_config.operation = ""remove"" if destroy_disk: virtual_device_config.fileOperation = ""destroy"" virtual_device_config.device = device return virtual_device_config def clone_vm_spec(client_factory, location, power_on=False, snapshot=None, template=False, config=None): """"""Builds the VM clone spec."""""" clone_spec = client_factory.create('ns0:VirtualMachineCloneSpec') clone_spec.location = location clone_spec.powerOn = power_on if snapshot: clone_spec.snapshot = snapshot if config is not None: clone_spec.config = config clone_spec.template = template return clone_spec def relocate_vm_spec(client_factory, datastore=None, host=None, disk_move_type=""moveAllDiskBackingsAndAllowSharing""): """"""Builds the VM relocation spec."""""" rel_spec = client_factory.create('ns0:VirtualMachineRelocateSpec') rel_spec.datastore = datastore rel_spec.diskMoveType = disk_move_type if host: rel_spec.host = host return rel_spec def get_machine_id_change_spec(client_factory, machine_id_str): """"""Builds the machine id change config spec."""""" virtual_machine_config_spec = client_factory.create( 'ns0:VirtualMachineConfigSpec') opt = client_factory.create('ns0:OptionValue') opt.key = ""machine.id"" opt.value = machine_id_str virtual_machine_config_spec.extraConfig = [opt] return virtual_machine_config_spec def get_add_vswitch_port_group_spec(client_factory, vswitch_name, port_group_name, vlan_id): """"""Builds the virtual switch port group add spec."""""" vswitch_port_group_spec = client_factory.create('ns0:HostPortGroupSpec') vswitch_port_group_spec.name = port_group_name vswitch_port_group_spec.vswitchName = vswitch_name # VLAN ID of 0 means that VLAN tagging is not to be done for the network. vswitch_port_group_spec.vlanId = int(vlan_id) policy = client_factory.create('ns0:HostNetworkPolicy') nicteaming = client_factory.create('ns0:HostNicTeamingPolicy') nicteaming.notifySwitches = True policy.nicTeaming = nicteaming vswitch_port_group_spec.policy = policy return vswitch_port_group_spec def get_vnc_config_spec(client_factory, port): """"""Builds the vnc config spec."""""" virtual_machine_config_spec = client_factory.create( 'ns0:VirtualMachineConfigSpec') opt_enabled = client_factory.create('ns0:OptionValue') opt_enabled.key = ""RemoteDisplay.vnc.enabled"" opt_enabled.value = ""true"" opt_port = client_factory.create('ns0:OptionValue') opt_port.key = ""RemoteDisplay.vnc.port"" opt_port.value = port opt_keymap = client_factory.create('ns0:OptionValue') opt_keymap.key = ""RemoteDisplay.vnc.keyMap"" opt_keymap.value = CONF.vnc_keymap extras = [opt_enabled, opt_port, opt_keymap] virtual_machine_config_spec.extraConfig = extras return virtual_machine_config_spec def get_vnc_port(session): """"""Return VNC port for an VM or None if there is no available port."""""" min_port = CONF.vmware.vnc_port port_total = CONF.vmware.vnc_port_total allocated_ports = _get_allocated_vnc_ports(session) max_port = min_port + port_total for port in range(min_port, max_port): if port not in allocated_ports: return port raise exception.ConsolePortRangeExhausted(min_port=min_port, max_port=max_port) def _get_allocated_vnc_ports(session): """"""Return an integer set of all allocated VNC ports."""""" # TODO(rgerganov): bug #1256944 # The VNC port should be unique per host, not per vCenter vnc_ports = set() result = session._call_method(vim_util, ""get_objects"", ""VirtualMachine"", [VNC_CONFIG_KEY]) while result: for obj in result.objects: if not hasattr(obj, 'propSet'): continue dynamic_prop = obj.propSet[0] option_value = dynamic_prop.val vnc_port = option_value.value vnc_ports.add(int(vnc_port)) result = session._call_method(vutil, 'continue_retrieval', result) return vnc_ports def _get_object_for_value(results, value): for object in results.objects: if object.propSet[0].val == value: return object.obj def _get_object_for_optionvalue(results, value): for object in results.objects: if hasattr(object, ""propSet"") and object.propSet: if object.propSet[0].val.value == value: return object.obj def _get_object_from_results(session, results, value, func): while results: object = func(results, value) if object: session._call_method(vutil, 'cancel_retrieval', results) return object results = session._call_method(vutil, 'continue_retrieval', results) def _get_vm_ref_from_name(session, vm_name): """"""Get reference to the VM with the name specified."""""" vms = session._call_method(vim_util, ""get_objects"", ""VirtualMachine"", [""name""]) return _get_object_from_results(session, vms, vm_name, _get_object_for_value) @vm_ref_cache_from_name def get_vm_ref_from_name(session, vm_name): return (_get_vm_ref_from_vm_uuid(session, vm_name) or _get_vm_ref_from_name(session, vm_name)) def _get_vm_ref_from_uuid(session, instance_uuid): """"""Get reference to the VM with the uuid specified. This method reads all of the names of the VM's that are running on the backend, then it filters locally the matching instance_uuid. It is far more optimal to use _get_vm_ref_from_vm_uuid. """""" vms = session._call_method(vim_util, ""get_objects"", ""VirtualMachine"", [""name""]) return _get_object_from_results(session, vms, instance_uuid, _get_object_for_value) def _get_vm_ref_from_vm_uuid(session, instance_uuid): """"""Get reference to the VM. The method will make use of FindAllByUuid to get the VM reference. This method finds all VM's on the backend that match the instance_uuid, more specifically all VM's on the backend that have 'config_spec.instanceUuid' set to 'instance_uuid'. """""" vm_refs = session._call_method( session.vim, ""FindAllByUuid"", session.vim.service_content.searchIndex, uuid=instance_uuid, vmSearch=True, instanceUuid=True) if vm_refs: return vm_refs[0] def _get_vm_ref_from_extraconfig(session, instance_uuid): """"""Get reference to the VM with the uuid specified."""""" vms = session._call_method(vim_util, ""get_objects"", ""VirtualMachine"", ['config.extraConfig[""nvp.vm-uuid""]']) return _get_object_from_results(session, vms, instance_uuid, _get_object_for_optionvalue) @vm_ref_cache_from_instance def get_vm_ref(session, instance): """"""Get reference to the VM through uuid or vm name."""""" uuid = instance.uuid vm_ref = (search_vm_ref_by_identifier(session, uuid) or _get_vm_ref_from_name(session, instance.name)) if vm_ref is None: raise exception.InstanceNotFound(instance_id=uuid) return vm_ref def search_vm_ref_by_identifier(session, identifier): """"""Searches VM reference using the identifier. This method is primarily meant to separate out part of the logic for vm_ref search that could be use directly in the special case of migrating the instance. For querying VM linked to an instance always use get_vm_ref instead. """""" vm_ref = (_get_vm_ref_from_vm_uuid(session, identifier) or _get_vm_ref_from_extraconfig(session, identifier) or _get_vm_ref_from_uuid(session, identifier)) return vm_ref def get_host_ref_for_vm(session, instance): """"""Get a MoRef to the ESXi host currently running an instance."""""" vm_ref = get_vm_ref(session, instance) return session._call_method(vim_util, ""get_dynamic_property"", vm_ref, ""VirtualMachine"", ""runtime.host"") def get_host_name_for_vm(session, instance): """"""Get the hostname of the ESXi host currently running an instance."""""" host_ref = get_host_ref_for_vm(session, instance) return session._call_method(vim_util, ""get_dynamic_property"", host_ref, ""HostSystem"", ""name"") def get_vm_state(session, instance): vm_ref = get_vm_ref(session, instance) vm_state = session._call_method(vim_util, ""get_dynamic_property"", vm_ref, ""VirtualMachine"", ""runtime.powerState"") return vm_state def get_stats_from_cluster(session, cluster): """"""Get the aggregate resource stats of a cluster."""""" vcpus = 0 mem_info = {'total': 0, 'free': 0} # Get the Host and Resource Pool Managed Object Refs prop_dict = session._call_method(vim_util, ""get_dynamic_properties"", cluster, ""ClusterComputeResource"", [""host"", ""resourcePool""]) if prop_dict: host_ret = prop_dict.get('host') if host_ret: host_mors = host_ret.ManagedObjectReference result = session._call_method(vim_util, ""get_properties_for_a_collection_of_objects"", ""HostSystem"", host_mors, [""summary.hardware"", ""summary.runtime""]) for obj in result.objects: hardware_summary = obj.propSet[0].val runtime_summary = obj.propSet[1].val if (runtime_summary.inMaintenanceMode is False and runtime_summary.connectionState == ""connected""): # Total vcpus is the sum of all pCPUs of individual hosts # The overcommitment ratio is factored in by the scheduler vcpus += hardware_summary.numCpuThreads res_mor = prop_dict.get('resourcePool') if res_mor: res_usage = session._call_method(vim_util, ""get_dynamic_property"", res_mor, ""ResourcePool"", ""summary.runtime.memory"") if res_usage: # maxUsage is the memory limit of the cluster available to VM's mem_info['total'] = int(res_usage.maxUsage / units.Mi) # overallUsage is the hypervisor's view of memory usage by VM's consumed = int(res_usage.overallUsage / units.Mi) mem_info['free'] = mem_info['total'] - consumed stats = {'vcpus': vcpus, 'mem': mem_info} return stats def get_host_ref(session, cluster=None): """"""Get reference to a host within the cluster specified."""""" if cluster is None: results = session._call_method(vim_util, ""get_objects"", ""HostSystem"") session._call_method(vutil, 'cancel_retrieval', results) host_mor = results.objects[0].obj else: host_ret = session._call_method(vim_util, ""get_dynamic_property"", cluster, ""ClusterComputeResource"", ""host"") if not host_ret or not host_ret.ManagedObjectReference: msg = _('No host available on cluster') raise exception.NoValidHost(reason=msg) host_mor = host_ret.ManagedObjectReference[0] return host_mor def propset_dict(propset): """"""Turn a propset list into a dictionary PropSet is an optional attribute on ObjectContent objects that are returned by the VMware API. You can read more about these at: | http://pubs.vmware.com/vsphere-51/index.jsp | #com.vmware.wssdk.apiref.doc/ | vmodl.query.PropertyCollector.ObjectContent.html :param propset: a property ""set"" from ObjectContent :return: dictionary representing property set """""" if propset is None: return {} return {prop.name: prop.val for prop in propset} def get_vmdk_backed_disk_device(hardware_devices, uuid): if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if (device.__class__.__name__ == ""VirtualDisk"" and device.backing.__class__.__name__ == ""VirtualDiskFlatVer2BackingInfo"" and device.backing.uuid == uuid): return device def get_vmdk_volume_disk(hardware_devices, path=None): if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if (device.__class__.__name__ == ""VirtualDisk""): if not path or path == device.backing.fileName: return device def get_res_pool_ref(session, cluster): """"""Get the resource pool."""""" # Get the root resource pool of the cluster res_pool_ref = session._call_method(vim_util, ""get_dynamic_property"", cluster, ""ClusterComputeResource"", ""resourcePool"") return res_pool_ref def get_all_cluster_mors(session): """"""Get all the clusters in the vCenter."""""" try: results = session._call_method(vim_util, ""get_objects"", ""ClusterComputeResource"", [""name""]) session._call_method(vutil, 'cancel_retrieval', results) return results.objects except Exception as excep: LOG.warning(_LW(""Failed to get cluster references %s""), excep) def get_all_res_pool_mors(session): """"""Get all the resource pools in the vCenter."""""" try: results = session._call_method(vim_util, ""get_objects"", ""ResourcePool"") session._call_method(vutil, 'cancel_retrieval', results) return results.objects except Exception as excep: LOG.warning(_LW(""Failed to get resource pool references %s""), excep) def get_dynamic_property_mor(session, mor_ref, attribute): """"""Get the value of an attribute for a given managed object."""""" return session._call_method(vim_util, ""get_dynamic_property"", mor_ref, mor_ref._type, attribute) def find_entity_mor(entity_list, entity_name): """"""Returns managed object ref for given cluster or resource pool name."""""" return [mor for mor in entity_list if (hasattr(mor, 'propSet') and mor.propSet[0].val == entity_name)] def get_all_cluster_refs_by_name(session, path_list): """"""Get reference to the Cluster, ResourcePool with the path specified. The path is the display name. This can be the full path as well. The input will have the list of clusters and resource pool names """""" cls = get_all_cluster_mors(session) if not cls: return {} res = get_all_res_pool_mors(session) if not res: return {} path_list = [path.strip() for path in path_list] list_obj = [] for entity_path in path_list: # entity_path could be unique cluster and/or resource-pool name res_mor = find_entity_mor(res, entity_path) cls_mor = find_entity_mor(cls, entity_path) cls_mor.extend(res_mor) for mor in cls_mor: list_obj.append((mor.obj, mor.propSet[0].val)) return get_dict_mor(session, list_obj) def get_dict_mor(session, list_obj): """"""The input is a list of objects in the form (manage_object,display_name) The managed object will be in the form { value = ""domain-1002"", _type = ""ClusterComputeResource"" } Output data format: | dict_mors = { | 'respool-1001': { 'cluster_mor': clusterMor, | 'res_pool_mor': resourcePoolMor, | 'name': display_name }, | 'domain-1002': { 'cluster_mor': clusterMor, | 'res_pool_mor': resourcePoolMor, | 'name': display_name }, | } """""" dict_mors = {} for obj_ref, path in list_obj: if obj_ref._type == ""ResourcePool"": # Get owner cluster-ref mor cluster_ref = get_dynamic_property_mor(session, obj_ref, ""owner"") dict_mors[obj_ref.value] = {'cluster_mor': cluster_ref, 'res_pool_mor': obj_ref, 'name': path, } else: # Get default resource pool of the cluster res_pool_ref = get_dynamic_property_mor(session, obj_ref, ""resourcePool"") dict_mors[obj_ref.value] = {'cluster_mor': obj_ref, 'res_pool_mor': res_pool_ref, 'name': path, } return dict_mors def get_vmdk_adapter_type(adapter_type): """"""Return the adapter type to be used in vmdk descriptor. Adapter type in vmdk descriptor is same for LSI-SAS, LSILogic & ParaVirtual because Virtual Disk Manager API does not recognize the newer controller types. """""" if adapter_type in [constants.ADAPTER_TYPE_LSILOGICSAS, constants.ADAPTER_TYPE_PARAVIRTUAL]: vmdk_adapter_type = constants.DEFAULT_ADAPTER_TYPE else: vmdk_adapter_type = adapter_type return vmdk_adapter_type def create_vm(session, instance, vm_folder, config_spec, res_pool_ref): """"""Create VM on ESX host."""""" LOG.debug(""Creating VM on the ESX host"", instance=instance) vm_create_task = session._call_method( session.vim, ""CreateVM_Task"", vm_folder, config=config_spec, pool=res_pool_ref) try: task_info = session._wait_for_task(vm_create_task) except vexc.VMwareDriverException: # An invalid guestId will result in an error with no specific fault # type and the generic error 'A specified parameter was not correct'. # As guestId is user-editable, we try to help the user out with some # additional information if we notice that guestId isn't in our list of # known-good values. # We don't check this in advance or do anything more than warn because # we can't guarantee that our list of known-good guestIds is complete. # Consequently, a value which we don't recognise may in fact be valid. with excutils.save_and_reraise_exception(): if config_spec.guestId not in constants.VALID_OS_TYPES: LOG.warning(_LW('vmware_ostype from image is not recognised: ' '\'%(ostype)s\'. An invalid os type may be ' 'one cause of this instance creation failure'), {'ostype': config_spec.guestId}) LOG.debug(""Created VM on the ESX host"", instance=instance) return task_info.result def destroy_vm(session, instance, vm_ref=None): """"""Destroy a VM instance. Assumes VM is powered off."""""" try: if not vm_ref: vm_ref = get_vm_ref(session, instance) LOG.debug(""Destroying the VM"", instance=instance) destroy_task = session._call_method(session.vim, ""Destroy_Task"", vm_ref) session._wait_for_task(destroy_task) LOG.info(_LI(""Destroyed the VM""), instance=instance) except Exception: LOG.exception(_LE('Destroy VM failed'), instance=instance) def create_virtual_disk(session, dc_ref, adapter_type, disk_type, virtual_disk_path, size_in_kb): # Create a Virtual Disk of the size of the flat vmdk file. This is # done just to generate the meta-data file whose specifics # depend on the size of the disk, thin/thick provisioning and the # storage adapter type. LOG.debug(""Creating Virtual Disk of size "" ""%(vmdk_file_size_in_kb)s KB and adapter type "" ""%(adapter_type)s on the data store"", {""vmdk_file_size_in_kb"": size_in_kb, ""adapter_type"": adapter_type}) vmdk_create_spec = get_vmdk_create_spec( session.vim.client.factory, size_in_kb, adapter_type, disk_type) vmdk_create_task = session._call_method( session.vim, ""CreateVirtualDisk_Task"", session.vim.service_content.virtualDiskManager, name=virtual_disk_path, datacenter=dc_ref, spec=vmdk_create_spec) session._wait_for_task(vmdk_create_task) LOG.debug(""Created Virtual Disk of size %(vmdk_file_size_in_kb)s"" "" KB and type %(disk_type)s"", {""vmdk_file_size_in_kb"": size_in_kb, ""disk_type"": disk_type}) def copy_virtual_disk(session, dc_ref, source, dest): """"""Copy a sparse virtual disk to a thin virtual disk. This is also done to generate the meta-data file whose specifics depend on the size of the disk, thin/thick provisioning and the storage adapter type. :param session: - session for connection :param dc_ref: - data center reference object :param source: - source datastore path :param dest: - destination datastore path """""" LOG.debug(""Copying Virtual Disk %(source)s to %(dest)s"", {'source': source, 'dest': dest}) vim = session.vim vmdk_copy_task = session._call_method( vim, ""CopyVirtualDisk_Task"", vim.service_content.virtualDiskManager, sourceName=source, sourceDatacenter=dc_ref, destName=dest) session._wait_for_task(vmdk_copy_task) LOG.debug(""Copied Virtual Disk %(source)s to %(dest)s"", {'source': source, 'dest': dest}) def reconfigure_vm(session, vm_ref, config_spec): """"""Reconfigure a VM according to the config spec."""""" reconfig_task = session._call_method(session.vim, ""ReconfigVM_Task"", vm_ref, spec=config_spec) session._wait_for_task(reconfig_task) def power_on_instance(session, instance, vm_ref=None): """"""Power on the specified instance."""""" if vm_ref is None: vm_ref = get_vm_ref(session, instance) LOG.debug(""Powering on the VM"", instance=instance) try: poweron_task = session._call_method( session.vim, ""PowerOnVM_Task"", vm_ref) session._wait_for_task(poweron_task) LOG.debug(""Powered on the VM"", instance=instance) except vexc.InvalidPowerStateException: LOG.debug(""VM already powered on"", instance=instance) def get_values_from_object_properties(session, props): """"""Get the specific values from a object list. The object values will be returned as a dictionary. """""" dictionary = {} while props: for elem in props.objects: propdict = propset_dict(elem.propSet) dictionary.update(propdict) props = session._call_method(vutil, 'continue_retrieval', props) return dictionary def _get_vm_port_indices(session, vm_ref): extra_config = session._call_method(vim_util, 'get_dynamic_property', vm_ref, 'VirtualMachine', 'config.extraConfig') ports = [] if extra_config is not None: options = extra_config.OptionValue for option in options: if (option.key.startswith('nvp.iface-id.') and option.value != 'free'): ports.append(int(option.key.split('.')[2])) return ports def get_attach_port_index(session, vm_ref): """"""Get the first free port index."""""" ports = _get_vm_port_indices(session, vm_ref) # No ports are configured on the VM if not ports: return 0 ports.sort() configured_ports_len = len(ports) # Find the first free port index for port_index in range(configured_ports_len): if port_index != ports[port_index]: return port_index return configured_ports_len def get_vm_detach_port_index(session, vm_ref, iface_id): extra_config = session._call_method(vim_util, 'get_dynamic_property', vm_ref, 'VirtualMachine', 'config.extraConfig') if extra_config is not None: options = extra_config.OptionValue for option in options: if (option.key.startswith('nvp.iface-id.') and option.value == iface_id): return int(option.key.split('.')[2]) def power_off_instance(session, instance, vm_ref=None): """"""Power off the specified instance."""""" if vm_ref is None: vm_ref = get_vm_ref(session, instance) LOG.debug(""Powering off the VM"", instance=instance) try: poweroff_task = session._call_method(session.vim, ""PowerOffVM_Task"", vm_ref) session._wait_for_task(poweroff_task) LOG.debug(""Powered off the VM"", instance=instance) except vexc.InvalidPowerStateException: LOG.debug(""VM already powered off"", instance=instance) def find_rescue_device(hardware_devices, instance): """"""Returns the rescue device. The method will raise an exception if the rescue device does not exist. The resuce device has suffix '-rescue.vmdk'. :param hardware_devices: the hardware devices for the instance :param instance: nova.objects.instance.Instance object :return: the rescue disk device object """""" for device in hardware_devices.VirtualDevice: if (device.__class__.__name__ == ""VirtualDisk"" and device.backing.__class__.__name__ == 'VirtualDiskFlatVer2BackingInfo' and device.backing.fileName.endswith('-rescue.vmdk')): return device msg = _('Rescue device does not exist for instance %s') % instance.uuid raise exception.NotFound(msg) def get_ephemeral_name(id): return 'ephemeral_%d.vmdk' % id def _detach_and_delete_devices_config_spec(client_factory, devices): config_spec = client_factory.create('ns0:VirtualMachineConfigSpec') device_config_spec = [] for device in devices: virtual_device_config = client_factory.create( 'ns0:VirtualDeviceConfigSpec') virtual_device_config.operation = ""remove"" virtual_device_config.device = device virtual_device_config.fileOperation = ""destroy"" device_config_spec.append(virtual_device_config) config_spec.deviceChange = device_config_spec return config_spec def detach_devices_from_vm(session, vm_ref, devices): """"""Detach specified devices from VM."""""" client_factory = session.vim.client.factory config_spec = _detach_and_delete_devices_config_spec( client_factory, devices) reconfigure_vm(session, vm_ref, config_spec) def get_ephemerals(session, vm_ref): devices = [] hardware_devices = session._call_method(vim_util, ""get_dynamic_property"", vm_ref, ""VirtualMachine"", ""config.hardware.device"") if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if device.__class__.__name__ == ""VirtualDisk"": if (device.backing.__class__.__name__ == ""VirtualDiskFlatVer2BackingInfo""): if 'ephemeral' in device.backing.fileName: devices.append(device) return devices",2903,2852
openstack%2Fnova~master~I76ab6c11ed55cf5a3f480e319e35b569f0f977a5,openstack/nova,master,I76ab6c11ed55cf5a3f480e319e35b569f0f977a5,Don't ever cache service versions at zero,ABANDONED,2017-02-02 20:14:58.000000000,2017-08-01 09:55:08.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 3153}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-02 20:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/650633bc48ba1aaa0b6984653e93a3c39b6e54e7', 'message': ""Don't ever cache service versions at zero\n\nRight now, we could cache versions for services at zero, which means\nthey have not reported. That means nova-api could be started before\nany computes, and will forever consider the computes to be from like\nkilo timeframe.\n\nThis patch makes sure to filter zeroes out of the versions we cache\nso that we will keep checking for a given binary until we get a\nnonzero version.\n\nChange-Id: I76ab6c11ed55cf5a3f480e319e35b569f0f977a5\nRelated-Bug: #1661360\n""}, {'number': 2, 'created': '2017-02-02 20:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc411cce7f89b8c2ff9ef1d8ccc67329bc833ed4', 'message': ""Don't ever cache service versions at zero\n\nRight now, we could cache versions for services at zero, which means\nthey have not reported. That means nova-api could be started before\nany computes, and will forever consider the computes to be from like\nkilo timeframe.\n\nThis patch makes sure to filter zeroes out of the versions we cache\nso that we will keep checking for a given binary until we get a\nnonzero version.\n\nChange-Id: I76ab6c11ed55cf5a3f480e319e35b569f0f977a5\nRelated-Bug: #1661360\n""}, {'number': 3, 'created': '2017-02-02 20:48:31.000000000', 'files': ['nova/objects/service.py', 'nova/tests/unit/objects/test_service.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dae446a47cabde34acdb9bfb23d442aa0d509ff1', 'message': ""Don't ever cache service versions at zero\n\nRight now, we could cache versions for services at zero, which means\nthey have not reported. That means nova-api could be started before\nany computes, and will forever consider the computes to be from like\nkilo timeframe.\n\nThis patch makes sure to filter zeroes out of the versions we cache\nso that we will keep checking for a given binary until we get a\nnonzero version.\n\nChange-Id: I76ab6c11ed55cf5a3f480e319e35b569f0f977a5\nRelated-Bug: #1661360\n""}]",1,428404,dae446a47cabde34acdb9bfb23d442aa0d509ff1,23,15,3,4393,,,0,"Don't ever cache service versions at zero

Right now, we could cache versions for services at zero, which means
they have not reported. That means nova-api could be started before
any computes, and will forever consider the computes to be from like
kilo timeframe.

This patch makes sure to filter zeroes out of the versions we cache
so that we will keep checking for a given binary until we get a
nonzero version.

Change-Id: I76ab6c11ed55cf5a3f480e319e35b569f0f977a5
Related-Bug: #1661360
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/428404/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/service.py', 'nova/tests/unit/objects/test_service.py']",2,650633bc48ba1aaa0b6984653e93a3c39b6e54e7,bug/1661360," def test_get_minimum_version_does_not_cache_zero(self, mock_get): objects.Service.enable_min_version_cache() mock_get.return_value = {'nova-compute': 123, 'nova-fake1': None, 'nova-fake2': 0} self.assertEqual(0, objects.Service.get_minimum_version_multi( self.context, ['nova-compute', 'nova-fake1', 'nova-fake2'])) self.assertEqual({""nova-compute"": 123}, objects.Service._MIN_VERSION_CACHE) self.assertEqual(0, objects.Service.get_minimum_version_multi( self.context, ['nova-compute', 'nova-fake1', 'nova-fake2'])) mock_get.assert_has_calls([mock.call(self.context, ['nova-compute', 'nova-fake1', 'nova-fake2']), mock.call(self.context, ['nova-compute', 'nova-fake1', 'nova-fake2']), ]) objects.Service._SERVICE_VERSION_CACHING = False objects.Service.clear_min_version_cache() @mock.patch('nova.db.service_get_minimum_version')",,33,1
openstack%2Fnova~master~I15eaba6b28e412fc36a18d7ba7f9b18de3973d12,openstack/nova,master,I15eaba6b28e412fc36a18d7ba7f9b18de3973d12,Live migration of instances with encrypted volumes,ABANDONED,2016-10-21 08:43:52.000000000,2017-08-01 09:55:05.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6608}, {'_account_id': 6802}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12299}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-10-21 08:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07410fbafce027f31ba48d7543619be08eeb3032', 'message': 'Lve migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nbefore trying to connect the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 2, 'created': '2016-10-28 07:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76b6ea5e8b142ca764afdb16d778363c16bc4d29', 'message': 'WIP: Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 3, 'created': '2016-10-28 11:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4a90af3f34f21bdf218ed9b7849995453fe1901', 'message': 'WIP: Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 4, 'created': '2016-11-01 11:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0105ad9bb47a45408498312684ef5106eb2852a3', 'message': 'WIP: Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 5, 'created': '2016-11-01 11:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03244a161e94518d349921c5ed7adb109fc21efc', 'message': 'WIP: Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 6, 'created': '2016-11-03 15:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8732b3d1aa24979e1ecaf2971c01c18eeb569439', 'message': 'WIP: Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 7, 'created': '2016-11-22 14:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8055978c0f7d5a6e9ad5c6ec2bbbe6e6b066b0af', 'message': 'WIP: Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 8, 'created': '2016-11-22 16:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91f6299e804ff0dc2f8afee84152e84f3b590963', 'message': 'WIP: Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 9, 'created': '2016-11-24 09:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c0d3fc0f0e943a883280dd82bbcab3585a4e5ba', 'message': 'Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 10, 'created': '2016-11-24 18:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e89e77bf6386f5ce29853bfa1980a60e58525fcd', 'message': 'Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 11, 'created': '2016-11-29 10:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47545132033055194a269894730805ab81b031e5', 'message': 'Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 12, 'created': '2016-11-30 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0834c33c2e97f39d7836fa5e059272d7c26b34c9', 'message': 'Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 13, 'created': '2016-12-01 10:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f675ce1c7e02cabebabbc6cab5945b2c024b3fef', 'message': 'Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 14, 'created': '2016-12-01 12:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/522cd574e17be3b971b23dd114ebe5b5acd5193d', 'message': 'Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 15, 'created': '2016-12-02 11:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3169cadbb202479444716cd3f04cd80429033912', 'message': 'Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 16, 'created': '2017-01-17 09:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/707b1eb4bd527491b46f27f3c6c0101fd7a6f38a', 'message': 'Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}, {'number': 17, 'created': '2017-01-17 13:20:11.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/objects/migrate_data.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cc70aaa18390ddaeb828dde9ed65121dd4d7c7ea', 'message': 'Live migration of instances with encrypted volumes\n\nWhen live migrating an instance with an encrypted volume it fails\nto detach the encrypted volume from the source and attaches at the\ntarget as an unencrypted volume.\n\nThis patch fixes this by disconnecting the encryptor at the source\nbefore trying to disconnect the volume and connecting the encryptor\nafter connecting the volume at the target\n\nChange-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12\nCloses-Bug: #1633033\n'}]",26,389608,cc70aaa18390ddaeb828dde9ed65121dd4d7c7ea,198,22,17,6608,,,0,"Live migration of instances with encrypted volumes

When live migrating an instance with an encrypted volume it fails
to detach the encrypted volume from the source and attaches at the
target as an unencrypted volume.

This patch fixes this by disconnecting the encryptor at the source
before trying to disconnect the volume and connecting the encryptor
after connecting the volume at the target

Change-Id: I15eaba6b28e412fc36a18d7ba7f9b18de3973d12
Closes-Bug: #1633033
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/389608/16 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,07410fbafce027f31ba48d7543619be08eeb3032,bug/1419577," migration = instance.host != CONF.host if not migration: guest = self._host.get_guest(instance) if not migration: state = guest.get_power_state(self._host) live = state in (power_state.RUNNING, power_state.PAUSED) if not migration: guest.attach_device(conf, persistent=True, live=live) if instance.host == CONF.host: self._connect_volume(connection_info, info) bdm.attach(context, instance, self._volume_api, self, do_check_attach=False, do_driver_attach=True) encryption = encryptors.get_encryption_metadata(context, self._volume_api, volume_id, connection_info) if encryption: # The volume must be detached from the VM before # disconnecting it from its encryptor. Otherwise, the # encryptor may report that the volume is still in use. encryptor = self._get_volume_encryptor(connection_info, encryption) encryptor.detach_volume(**encryption)"," guest = self._host.get_guest(instance) state = guest.get_power_state(self._host) live = state in (power_state.RUNNING, power_state.PAUSED) guest.attach_device(conf, persistent=True, live=live) self._connect_volume(connection_info, info) connection_info = bdm['connection_info'] disk_info = blockinfo.get_info_from_bdm( instance, CONF.libvirt.virt_type, instance.image_meta, bdm) self._connect_volume(connection_info, disk_info)",21,10
openstack%2Fnova~master~I07ab9c08ddf54b533cace55e8cf6be0b89a21759,openstack/nova,master,I07ab9c08ddf54b533cace55e8cf6be0b89a21759,Getting cpu_allocation_ratio from database,ABANDONED,2017-02-10 12:09:01.000000000,2017-08-01 09:55:04.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18277}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-10 12:09:01.000000000', 'files': ['nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed63ffc7f93b24f2324bcf6df36fd5db8ea97e83', 'message': 'Getting cpu_allocation_ratio from database\n\nGetting cpu_allocation_ratio while executing nova hypervisor-list\nApplying commit on master\n\nChange-Id: I07ab9c08ddf54b533cace55e8cf6be0b89a21759\nCloses-bug: #1654487\n'}]",0,432274,ed63ffc7f93b24f2324bcf6df36fd5db8ea97e83,15,13,1,18277,,,0,"Getting cpu_allocation_ratio from database

Getting cpu_allocation_ratio while executing nova hypervisor-list
Applying commit on master

Change-Id: I07ab9c08ddf54b533cace55e8cf6be0b89a21759
Closes-bug: #1654487
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/432274/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py']",2,ed63ffc7f93b24f2324bcf6df36fd5db8ea97e83,bug/1654487," cpu_allocation_ratio=16.0, cpu_allocation_ratio=16.0, cpu_allocation_ratio=16.0,state='up', status='enabled'), cpu_allocation_ratio=16.0,state='up', status='enabled')] 'cpu_allocation_ratio': 16.0, 'cpu_allocation_ratio': 16.0, 'cpu_allocation_ratio': 16.0,"," state='up', status='enabled'), state='up', status='enabled')]",8,3
openstack%2Fnova~master~I86ce51a5ac6d77f2037b62bb5df953542d3e4f6b,openstack/nova,master,I86ce51a5ac6d77f2037b62bb5df953542d3e4f6b,Add UniqueConstraint to instance_actions table,ABANDONED,2016-09-03 01:07:16.000000000,2017-08-01 09:55:03.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18335}]","[{'number': 1, 'created': '2016-09-03 01:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c3e43e8c732d3b5eb21147c4f40662dcb2bb1c4', 'message': 'Add UniqueConstraint to instance_actions table\n\nAn instance action must be unique per instance uuid and\nrequest ID. Hence, adding unique constraint for these columns.\nChanges made in data model. Schema changes will be done in\nlater release.\n\nChange-Id: I86ce51a5ac6d77f2037b62bb5df953542d3e4f6b\nCloses-Bug: #1496146\n'}, {'number': 2, 'created': '2016-10-07 21:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26514282364251864060635c67d79c72d323344d', 'message': 'Add UniqueConstraint to instance_actions table\n\nAn instance action must be unique per instance uuid and\nrequest ID. Hence, adding unique constraint for these columns.\nChanges made in data model. Schema changes will be done in\nlater release.\n\nChange-Id: I86ce51a5ac6d77f2037b62bb5df953542d3e4f6b\nCloses-Bug: #1496146\n'}, {'number': 3, 'created': '2016-10-11 15:23:51.000000000', 'files': ['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migration.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/db/migration.py', 'nova/cmd/manage.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/sqlalchemy/migrate_repo/versions/347_add_unique_constraint_for_instance_actions.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1127f24813854d3c221fa0d940480e7b50b6210a', 'message': 'Add UniqueConstraint to instance_actions table\n\nAn instance action must be unique per instance uuid and\nrequest ID. Hence, adding unique constraint for these columns data model.\n\nAdded a migration script to add constraint in DB schema. If there are\nalready duplicates in records in table, migration script will fail.\n\nWe are introducing option in nova-manage ""instance_actions_duplicates_scan""\nwhich will remove duplicates from instance actions table. The command provide\noption not to delete records but only show how many duplicates exist.\n\nnova-manage instance_actions_duplicates_scan --delete will delete duplicates\nfrom instance_actions, if any.\n\nChange-Id: I86ce51a5ac6d77f2037b62bb5df953542d3e4f6b\nCloses-Bug: #1496146\n'}]",0,365181,1127f24813854d3c221fa0d940480e7b50b6210a,60,18,3,18335,,,0,"Add UniqueConstraint to instance_actions table

An instance action must be unique per instance uuid and
request ID. Hence, adding unique constraint for these columns data model.

Added a migration script to add constraint in DB schema. If there are
already duplicates in records in table, migration script will fail.

We are introducing option in nova-manage ""instance_actions_duplicates_scan""
which will remove duplicates from instance actions table. The command provide
option not to delete records but only show how many duplicates exist.

nova-manage instance_actions_duplicates_scan --delete will delete duplicates
from instance_actions, if any.

Change-Id: I86ce51a5ac6d77f2037b62bb5df953542d3e4f6b
Closes-Bug: #1496146
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/365181/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py']",2,5c3e43e8c732d3b5eb21147c4f40662dcb2bb1c4,bug/1496146," def added_constraint(element): # Define a whitelist of constraints that would be added to the # DB at a later release. constraint_whitelist = [ {'name': 'uniq_instance_actions0instance_uuid0request_id', 'columns': ['instance_uuid', 'request_id'], 'parent': 'instance_actions'} ] constraint_name, constraint_table = \ element[1].name, element[1].parent.name constraint_columns = [] for column in element[1].columns: constraint_columns.append(column.name) for constraint in constraint_whitelist: if (constraint_name == constraint['name'] and set(constraint_columns) == set(constraint['columns']) and constraint_table == constraint['parent']): return True return False new_diff = [] for element in diff: if element[0] == 'remove_column': removed_column(element) continue elif element[0] == 'add_constraint': added_constraint(element) continue new_diff.append(element) return new_diff", if element[0] != 'remove_column': return False return [ element for element in diff if not removed_column(element) ],36,9
openstack%2Fnova~master~I5185156f4ac8fe3bb1600191ec78f911dc4f569a,openstack/nova,master,I5185156f4ac8fe3bb1600191ec78f911dc4f569a,Make policy 'all_tenants_visible' a soft enforcement rule,ABANDONED,2017-01-27 09:28:31.000000000,2017-08-01 09:55:02.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-27 09:28:31.000000000', 'files': ['doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'releasenotes/notes/make_all_tenants_visible_soft_enforcement-ffa3d779efa1a1e1.yaml', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d76280e7c5c7c19b476cee244dfb6c8e208dfe3c', 'message': ""Make policy 'all_tenants_visible' a soft enforcement rule\n\nPolicy rule 'os_compute_api:servers:all_tenants_visible'\nis currently a hard enforcement. Means if user fails to\nauthorized this rule, then API return 403.\n\nThis commit makes this rule a soft enforcement rule means\nno 403 and if the user can't pass the rule, the API still\nreturn successfully and return the user owned instances.\n\nThis behaviour change is done with version bump.\n\npartial implement of bp add-whitelist-for-server-list-filter-sort-parameters\n\nChange-Id: I5185156f4ac8fe3bb1600191ec78f911dc4f569a\n""}]",1,426128,d76280e7c5c7c19b476cee244dfb6c8e208dfe3c,17,14,1,8556,,,0,"Make policy 'all_tenants_visible' a soft enforcement rule

Policy rule 'os_compute_api:servers:all_tenants_visible'
is currently a hard enforcement. Means if user fails to
authorized this rule, then API return 403.

This commit makes this rule a soft enforcement rule means
no 403 and if the user can't pass the rule, the API still
return successfully and return the user owned instances.

This behaviour change is done with version bump.

partial implement of bp add-whitelist-for-server-list-filter-sort-parameters

Change-Id: I5185156f4ac8fe3bb1600191ec78f911dc4f569a
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/426128/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'releasenotes/notes/make_all_tenants_visible_soft_enforcement-ffa3d779efa1a1e1.yaml', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/api/openstack/compute/servers.py']",7,d76280e7c5c7c19b476cee244dfb6c8e208dfe3c,bp/add-whitelist-for-server-list-filter-sort-parameters," fatal = True # From version 2.42, 'all_tenants_visible' policy is soft enforcement. if api_version_request.is_supported(req, min_version='2.42'): fatal = False elevated = context.elevated() else: if context.can(server_policies.SERVERS % 'all_tenants_visible', fatal=fatal): elevated = context.elevated() if not elevated:", else: context.can(server_policies.SERVERS % 'all_tenants_visible') elevated = context.elevated() else:,79,7
openstack%2Fnova~master~I5555641804619e21eaa7d45db8d951884fc17de7,openstack/nova,master,I5555641804619e21eaa7d45db8d951884fc17de7,Attach/detach encryptors during swap_volume,ABANDONED,2015-12-03 08:05:34.000000000,2017-08-01 09:55:01.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1207}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6802}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 8912}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}, {'_account_id': 12382}, {'_account_id': 14131}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 15961}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21531}, {'_account_id': 21784}, {'_account_id': 22257}]","[{'number': 1, 'created': '2015-12-03 08:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c1289772944ef5aeb5be266d89bd36a76950664', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating a in-use encrypted volume, it should\nattach encryptors of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 2, 'created': '2015-12-03 08:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0fde9d32d8720cc8af9768297d8fc70622ddf9e', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating a in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 3, 'created': '2015-12-30 08:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eac2e1ed3895d00114d9f5565aab366d1c71f004', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 4, 'created': '2016-01-19 07:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36b75c370dfbd0c3125e5b9e4056ca2afb7733ce', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 5, 'created': '2016-01-21 05:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feda2c9179ed2dd163fc4f166dea65f412f3815c', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 6, 'created': '2016-03-07 09:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f010c489bd1a300b42755d5d69037c6f66723ab4', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 7, 'created': '2016-03-15 06:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62ed78719b6edbf36e52279f350158034d5318fe', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 8, 'created': '2016-05-04 06:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bec009d6c0dc873707d77b928fc6563d59363d9', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 9, 'created': '2016-06-02 05:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f941dd2ff17e89c4bfd1a9abebe06063193fb1dd', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 10, 'created': '2016-06-17 08:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ebf94986ef5a01cbc6a178affc77ef29f94e45c', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 11, 'created': '2016-07-08 01:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c9895452e1cff84d98a6c2f3a28d3ad68234acc', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 12, 'created': '2016-07-08 01:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70b37304462351deb1b410de8a3dc76af986a412', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 13, 'created': '2016-07-12 06:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e835017d424d60d9a80d09bde50aaeefb10b583', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 14, 'created': '2016-07-13 01:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ec125a6fa7a2a5148d3126b87604eb2a2d57bc6', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 15, 'created': '2016-07-13 01:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae016a9e89650a57d108fdd2b32ba33a258af73e', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 16, 'created': '2016-07-13 05:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/495a45283544d94fa1fc451307be9d5d78e91b81', 'message': ""Attach/detach encrypted volume during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. Or else the\ndata is wrong from instance. Meanwhile, detach\nencryptor of old volume before disconnecting the volume. Or\nelse the volume can't be detached successfully.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n""}, {'number': 17, 'created': '2016-07-21 05:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78f1aefaf10b2ad0304c30cdaaac65c91e0b5b76', 'message': ""Attach/detach encrypted volume during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. Or else the\ndata is wrong from instance. Meanwhile, detach\nencryptor of old volume before disconnecting the volume. Or\nelse the volume can't be detached successfully.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n""}, {'number': 18, 'created': '2016-07-21 06:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7387bed43516b3da9cd9d5acae97d0b5b0c26a8e', 'message': ""Attach/detach encrypted volume during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. Or else the\ndata is wrong from instance. Meanwhile, detach\nencryptor of old volume before disconnecting the volume. Or\nelse the volume can't be detached successfully.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n""}, {'number': 19, 'created': '2016-08-02 06:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/857099d6fc9f538302a48b128eac8dd495ccd641', 'message': ""Attach/detach encrypted volume during swap_volume\n\nWhen migrating an in-use encrypted volume, currently we attach the new\nvolume to the host and then gave it to instance. This skips encryptors\nattach step which leads data corrupt from instance as it reads encrypted\ndata from the volume.\n\nThis patch attaches encryptor of new volume before rebasing. Meanwhile,\ndetach encryptor of old volume before disconnecting the volume. Or\nelse the volume can't be detached successfully.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n""}, {'number': 20, 'created': '2016-08-05 02:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d9d3b085b26d15b0ce6f0a93ba990eb6561641f', 'message': ""Attach/detach encrypted volume during swap_volume\n\nWhen migrating an in-use encrypted volume, currently we attach the new\nvolume to the host and then gave it to instance. This skips encryptors\nattach step which leads data corrupt from instance as it reads encrypted\ndata from the volume.\n\nThis patch attaches encryptor of new volume before rebasing. Meanwhile,\ndetach encryptor of old volume before disconnecting the volume. Or\nelse the volume can't be detached successfully.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n""}, {'number': 21, 'created': '2016-08-15 03:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caca9f9908f23e686d15f71d90598c53291a0f2e', 'message': ""Attach/detach encrypted volume during swap_volume\n\nWhen migrating an in-use encrypted volume, currently we attach the new\nvolume to the host and then gave it to instance. This skips encryptors\nattach step which leads data corrupt from instance as it reads encrypted\ndata from the volume.\n\nThis patch attaches encryptor of new volume before rebasing. Meanwhile,\ndetach encryptor of old volume before disconnecting the volume. Or\nelse the volume can't be detached successfully.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n""}, {'number': 22, 'created': '2016-08-19 04:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ad71886b0bfdbff85579d401fbe2a57ef689cc6', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 23, 'created': '2016-08-19 05:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64cc074e1765a5fef6b585e68fe634d2d82a2995', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nThe corresponding tempest test is\nhttps://review.openstack.org/#/c/356226/\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 24, 'created': '2016-11-03 08:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a4f13ed9fb6fcc822c2a7d35af32ddcf19d3c94', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen migrating an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing. And detach\nencryptor of old volume before disconnecting the volume.\n\nThis patch is to add such operations in swap_volume.\n\nThe corresponding tempest test is\nhttps://review.openstack.org/#/c/356226/\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 25, 'created': '2016-11-04 00:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b9cd39841f927fa05a34fc2cc546f325438571c', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen swapping an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing and detach\nencryptor of old volume before disconnecting the volume.\nCurrently these operations are skipped which leads swapping\nencrypted volumes to fail.\n\nThis patch is to add such operations in swap_volume.\n\nThe corresponding tempest test is\nhttps://review.openstack.org/#/c/356226/\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}, {'number': 26, 'created': '2017-02-14 03:36:48.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5147ebb566fcb176e11a29c255ede8fa5a56172d', 'message': 'Attach/detach encryptors during swap_volume\n\nWhen swapping an in-use encrypted volume, it should\nattach encryptor of new volume before rebasing and detach\nencryptor of old volume before disconnecting the volume.\nCurrently these operations are skipped which leads swapping\nencrypted volumes to fail.\n\nThis patch is to add such operations in swap_volume.\n\nThe corresponding tempest test is\nhttps://review.openstack.org/#/c/356226/\n\nChange-Id: I5555641804619e21eaa7d45db8d951884fc17de7\nCloses-bug: #1522233\n'}]",48,252809,5147ebb566fcb176e11a29c255ede8fa5a56172d,337,32,26,15961,,,0,"Attach/detach encryptors during swap_volume

When swapping an in-use encrypted volume, it should
attach encryptor of new volume before rebasing and detach
encryptor of old volume before disconnecting the volume.
Currently these operations are skipped which leads swapping
encrypted volumes to fail.

This patch is to add such operations in swap_volume.

The corresponding tempest test is
https://review.openstack.org/#/c/356226/

Change-Id: I5555641804619e21eaa7d45db8d951884fc17de7
Closes-bug: #1522233
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/252809/25 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,9c1289772944ef5aeb5be266d89bd36a76950664,bug/1522233,"CONF.import_opt('fixed_key', 'nova.keymgr.conf_key_mgr', group='keymgr') self.flags(fixed_key='00000000000000000000000000000000' '00000000000000000000000000000000', group='keymgr') @mock.patch('nova.volume.encryptors.luks.LuksEncryptor.detach_volume') @mock.patch('nova.volume.encryptors.luks.LuksEncryptor.attach_volume') swap_volume, disconnect_volume, attach_enc, detach_enc): old_enc = {""cipher"": ""aes-xts-plain64"", ""encryption_key_id"": ""00000000-0000-0000-0000-000000000000"", ""provider"": ""nova.volume.encryptors.luks.LuksEncryptor"", ""key_size"": 512, ""control_location"": ""front-end""} new_enc = {""cipher"": ""aes-xts-plain64"", ""encryption_key_id"": ""00000000-0000-0000-0000-000000000000"", ""provider"": ""nova.volume.encryptors.luks.LuksEncryptor"", ""key_size"": 256, ""control_location"": ""front-end""} conn.swap_volume(self.context, old_connection_info, new_connection_info, old_enc, new_enc, instance, '/dev/vdb', 1) attach_enc.assert_called_once_with(self.context, **new_enc) detach_enc.assert_called_once_with(**old_enc)"," swap_volume, disconnect_volume): conn.swap_volume(old_connection_info, new_connection_info, instance, '/dev/vdb', 1) ",61,13
openstack%2Fnova~master~I8be011fa9843bdf9d13319915add8645ef7667b7,openstack/nova,master,I8be011fa9843bdf9d13319915add8645ef7667b7,Initiate network changes from source during live migration,ABANDONED,2016-11-30 07:50:16.000000000,2017-08-01 09:54:59.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18339}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-11-30 07:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9507266bf0b2b866f158020814be742aefaba13a', 'message': '[WIP] Add version field to LibvirtLiveMigrateData\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}, {'number': 2, 'created': '2016-12-19 12:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16f62554b803b239ec8f89511a850e74b948bbe2', 'message': '[WIP] Add version field to LibvirtLiveMigrateData\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}, {'number': 3, 'created': '2016-12-20 10:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/276882f0389dcfac2e2a38733d46ba173461bd62', 'message': '[WIP] Add version field to LibvirtLiveMigrateData\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}, {'number': 4, 'created': '2016-12-21 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0b04af0c02e0b6358dbde55db245253e8befbc2', 'message': '[WIP] Add version field to LibvirtLiveMigrateData\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}, {'number': 5, 'created': '2017-01-04 14:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0291bc53ce9515bcbd96ac5028e8796d22a24c1f', 'message': '[WIP] Add version field to LibvirtLiveMigrateData\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}, {'number': 6, 'created': '2017-01-05 00:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f4dd3b23d15448d47fe62c4915a549ccd16f0be', 'message': '[WIP] Add version field to LibvirtLiveMigrateData\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}, {'number': 7, 'created': '2017-01-05 01:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67ed606c8933008f09732031d90f1da730f0cd41', 'message': 'Initiate network changes from source during live migration\n\nCurrently network configuration calls are split between source and\ndestination computes during live migration. As the source compute has\nthe primary control flow for live migration, keeping all the calls on\nthe source makes them easier to update without having to consider RPC\nchanges.\n\nIn this change ‘compute_min_version’ field is added to LiveMigrateData\nobject to check if compute version is greater than 16 in order to make\nnetwork changes on the source before calling destination.\n\nCloses-bug:1605016\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}, {'number': 8, 'created': '2017-01-17 01:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/234b6b8e37b2a68ed48a21af6cd4c2ed45aed967', 'message': 'Initiate network changes from source during live migration\n\nCurrently network configuration calls are split between source and\ndestination computes during live migration. As the source compute has\nthe primary control flow for live migration, keeping all the calls on\nthe source makes them easier to update without having to consider RPC\nchanges.\n\nIn this change ‘compute_min_version’ field is added to LiveMigrateData\nobject to check if compute version is greater than 16 in order to make\nnetwork changes on the source before calling destination.\n\nCloses-bug:1605016\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}, {'number': 9, 'created': '2017-01-17 02:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b18cc0fce025f31f9051c6ad2ae3e693f590ca1', 'message': 'Initiate network changes from source during live migration\n\nCurrently network configuration calls are split between source and\ndestination computes during live migration. As the source compute has\nthe primary control flow for live migration, keeping all the calls on\nthe source makes them easier to update without having to consider RPC\nchanges.\n\nIn this change ‘compute_min_version’ field is added to LiveMigrateData\nobject to check if compute version is greater than 16 in order to make\nnetwork changes on the source before calling destination.\n\nCloses-bug:1605016\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}, {'number': 10, 'created': '2017-02-07 13:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a076e26d2a2d26ec5c232d94d6ea048cd271e31', 'message': 'Initiate network changes from source during live migration\n\nCurrently network configuration calls are split between source and\ndestination computes during live migration. As the source compute has\nthe primary control flow for live migration, keeping all the calls on\nthe source makes them easier to update without having to consider RPC\nchanges.\n\nIn this change ‘compute_min_version’ field is added to LiveMigrateData\nobject to check if compute version is greater than 16 in order to make\nnetwork changes on the source before calling destination.\n\nCloses-bug:1605016\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}, {'number': 11, 'created': '2017-02-10 14:36:08.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/objects/migrate_data.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'doc/notification_samples/service-update.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ea58376dff87a608d902fe51dd1cf726a2875af', 'message': 'Initiate network changes from source during live migration\n\nCurrently network configuration calls are split between source and\ndestination computes during live migration. As the source compute has\nthe primary control flow for live migration, keeping all the calls on\nthe source makes them easier to update without having to consider RPC\nchanges.\n\nIn this change ‘compute_min_version’ field is added to LiveMigrateData\nobject to check if compute version is greater than 16 in order to make\nnetwork changes on the source before calling destination.\n\nCloses-bug:1605016\n\nChange-Id: I8be011fa9843bdf9d13319915add8645ef7667b7\n'}]",8,404607,1ea58376dff87a608d902fe51dd1cf726a2875af,144,20,11,18339,,,0,"Initiate network changes from source during live migration

Currently network configuration calls are split between source and
destination computes during live migration. As the source compute has
the primary control flow for live migration, keeping all the calls on
the source makes them easier to update without having to consider RPC
changes.

In this change ‘compute_min_version’ field is added to LiveMigrateData
object to check if compute version is greater than 16 in order to make
network changes on the source before calling destination.

Closes-bug:1605016

Change-Id: I8be011fa9843bdf9d13319915add8645ef7667b7
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/404607/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_objects.py', 'nova/compute/manager.py']",3,9507266bf0b2b866f158020814be742aefaba13a,bug/1605016, dest_check_data.version = compute_rpcapi.LAST_VERSION,,8,2
openstack%2Fnova~master~I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1,openstack/nova,master,I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1,Extract _post_live_migratiion_network_setup,ABANDONED,2016-12-20 10:39:16.000000000,2017-08-01 09:54:58.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12299}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 18339}, {'_account_id': 19590}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-12-20 10:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32735c308940469c9e0d364ead49e264bd00412f', 'message': '[WIP] Refactor _post_live_migration\n\nChange-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1\n'}, {'number': 2, 'created': '2016-12-21 13:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86f908741a21a3736bc35bc8fa4039105935c327', 'message': '[WIP] Refactor _post_live_migration\n\nChange-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1\n'}, {'number': 3, 'created': '2017-01-04 14:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46ad18767c2ecda1e569bb003e2ed58e9c0cd960', 'message': '[WIP] Refactor _post_live_migration\n\nChange-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1\n'}, {'number': 4, 'created': '2017-01-05 00:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79a033cb9f3292e4b10c5674c83deadfb243dde4', 'message': 'Refactor _post_live_migratiion\n\nPort rebinding is done in post_live_migration which is called after\nmigration has completed. This may cause network outage during post\ncopy phase. Here port rebinding has been refactored out of\npost_live_migration and been passed as method callback during\nlive migration. This makes sure that port is updated right after\npost copy is completed.\n\nCloses-Bug: #1605016\nChange-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1\n'}, {'number': 5, 'created': '2017-01-09 19:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dd6f99205c6622a30822aa015a88a0b15f78349', 'message': 'Refactor _post_live_migratiion\n\nPort rebinding is done in post_live_migration which is called after\nmigration has completed. This may cause network outage during post\ncopy phase. Here port rebinding has been refactored out of\npost_live_migration and been passed as method callback during\nlive migration. This makes sure that port is updated right after\npost copy is completed.\n\nCloses-Bug: #1605016\nChange-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1\n'}, {'number': 6, 'created': '2017-01-11 15:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b9bfa5a384542b301d2c78de05f1aa3aa2774ca', 'message': 'Refactor _post_live_migratiion\n\nPort rebinding is done in post_live_migration which is called after\nmigration has completed. This may cause network outage during post\ncopy phase. Here port rebinding has been refactored out of\npost_live_migration and been passed as method callback during\nlive migration. This makes sure that port is updated right after\npost copy is completed.\n\nCloses-Bug: #1605016\nChange-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1\n'}, {'number': 7, 'created': '2017-01-12 21:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/252f245cb9e544a5c8b4720dcbe114b7f43f3ef4', 'message': 'Refactor _post_live_migratiion\n\nPort rebinding is done in post_live_migration which is called after\nmigration has completed. This may cause network outage during post\ncopy phase. Here port rebinding has been refactored out of\npost_live_migration and been passed as method callback during\nlive migration. This makes sure that port is updated right after\npost copy is completed.\n\nCloses-Bug: #1605016\nChange-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1\n'}, {'number': 8, 'created': '2017-01-17 02:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bca6455ea806b2e53cc5f6cd351ffcd03a00007', 'message': 'Refactor _post_live_migratiion\n\nPort rebinding is done in post_live_migration which is called after\nmigration has completed. This may cause network outage during post\ncopy phase. Here port rebinding has been refactored out of\npost_live_migration and been passed as method callback during\nlive migration. This makes sure that port is updated right after\npost copy is completed.\n\nCloses-Bug: #1605016\nChange-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1\n'}, {'number': 9, 'created': '2017-01-17 20:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aeef9bdfdc2783c2e3da64c2ddc4f4ba55248750', 'message': 'Extract _post_live_migratiion_network_setup\n\nPort rebinding is done in post_live_migration which is called after\nmigration has completed. This may cause network outage during post\ncopy phase. Here port rebinding has been refactored out of\npost_live_migration and been passed as method callback during\nlive migration. This makes sure that port is updated right after\npost copy is completed.\n\nCloses-Bug: #1605016\nChange-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1\n'}, {'number': 10, 'created': '2017-02-10 16:16:49.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_driver.py', 'nova/virt/fake.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/hyperv/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/test_virt_drivers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89a95c7924709dbc79c3d2cbf2602816aaa22c29', 'message': 'Extract _post_live_migratiion_network_setup\n\nPort rebinding is done in post_live_migration which is called after\nmigration has completed. This may cause network outage during post\ncopy phase. Here port rebinding has been refactored out of\npost_live_migration and been passed as method callback during\nlive migration. This makes sure that port is updated right after\npost copy is completed.\n\nCloses-Bug: #1605016\nChange-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1\n'}]",16,413021,89a95c7924709dbc79c3d2cbf2602816aaa22c29,158,21,10,18339,,,0,"Extract _post_live_migratiion_network_setup

Port rebinding is done in post_live_migration which is called after
migration has completed. This may cause network outage during post
copy phase. Here port rebinding has been refactored out of
post_live_migration and been passed as method callback during
live migration. This makes sure that port is updated right after
post copy is completed.

Closes-Bug: #1605016
Change-Id: I58bfe7df6469f0fa37dad6b4f9faa38e82edaea1
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/413021/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/compute/manager.py']",3,32735c308940469c9e0d364ead49e264bd00412f,lm_bug1/1605016," self._post_live_migration_network_setup, def _post_live_migration_network_setup(self, ctxt, instance, dest): migration = {'source_compute': self.host, 'dest_compute': dest} self.network_api.migrate_instance_finish(ctxt, instance, migration) @wrap_exception()"," if migrate_data.compute_min_version > 15: migration = {'source_compute': self.host, 'dest_compute': dest} self.network_api.migrate_instance_finish(ctxt, instance, migration) ",21,15
openstack%2Fnova~master~I15230f2188d730490ed79767b9c2415f11405481,openstack/nova,master,I15230f2188d730490ed79767b9c2415f11405481,libvirt: Remove backward compatibility checks for disk snapshots,ABANDONED,2016-10-04 18:22:11.000000000,2017-08-01 09:54:57.000000000,,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-10-04 18:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f0aa6ccea1a6806e8c3b8e72feddba874a3f273', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added to provide no fault resize finalization right\nafter upgrading the code to that version, which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}, {'number': 2, 'created': '2016-10-07 16:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4be7d6d6c1fc7d1e8940c6e6f5dd82387c6e7fb2', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added to provide no fault resize finalization right\nafter upgrading the code to that version, which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}, {'number': 3, 'created': '2016-11-17 06:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52b349a26c03bcd48618a342a2144a485a5c4d1f', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added by 29476a67 to provide no fault resize\nfinalization right after upgrading the code to that version (see there\ncomments at L7057 of driver.py on PS39), which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}, {'number': 4, 'created': '2016-11-17 09:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebb8e9de6681f0d224fd2ca6af43f4fb41db0619', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added by 29476a67 to provide no fault resize\nfinalization right after upgrading the code to that version (see there\ncomments at L7057 of driver.py on PS39), which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}, {'number': 5, 'created': '2016-11-29 05:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac71dd67361836769e5135d935f4c3867576d3fc', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added by 29476a67 to provide no fault resize\nfinalization right after upgrading the code to that version (see there\ncomments at L7057 of driver.py on PS39), which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}, {'number': 6, 'created': '2016-11-29 05:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5564fa734389310e5a2ff994f0689360b891cd64', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added by 29476a67 to provide no fault resize\nfinalization right after upgrading the code to that version (see there\ncomments at L7057 of driver.py on PS39), which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}, {'number': 7, 'created': '2016-12-02 07:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33e3a2e555f63a7e093ea551be23d02f620990e0', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added by 29476a67 to provide no fault resize\nfinalization right after upgrading the code to that version (see there\ncomments at L7057 of driver.py on PS39), which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}, {'number': 8, 'created': '2016-12-02 09:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a37051a64b1be2a14636975d7e65d147e662628a', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added by 29476a67 to provide no fault resize\nfinalization right after upgrading the code to that version (see there\ncomments at L7057 of driver.py on PS39), which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}, {'number': 9, 'created': '2016-12-24 17:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/136075b4439b84778170ca2d0834457cc6407525', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added by 29476a67 to provide no fault resize\nfinalization right after upgrading the code to that version (see there\ncomments at L7057 of driver.py on PS39), which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}, {'number': 10, 'created': '2016-12-25 08:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28ab3004238089634ea1d5fa0db3ff687b630a9b', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added by 29476a67 to provide no fault resize\nfinalization right after upgrading the code to that version (see there\ncomments at L7057 of driver.py on PS39), which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}, {'number': 11, 'created': '2017-01-30 09:45:57.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/668bf1a3661fc10c4ebf42ec9ac3fec747455aa1', 'message': 'libvirt: Remove backward compatibility checks for disk snapshots\n\nThese checks were added by 29476a67 to provide no fault resize\nfinalization right after upgrading the code to that version (see there\ncomments at L7057 of driver.py on PS39), which introduced disk\nsnapshots. This patch removes them.\n\nChange-Id: I15230f2188d730490ed79767b9c2415f11405481\n'}]",2,382031,668bf1a3661fc10c4ebf42ec9ac3fec747455aa1,108,18,11,10224,,,0,"libvirt: Remove backward compatibility checks for disk snapshots

These checks were added by 29476a67 to provide no fault resize
finalization right after upgrading the code to that version (see there
comments at L7057 of driver.py on PS39), which introduced disk
snapshots. This patch removes them.

Change-Id: I15230f2188d730490ed79767b9c2415f11405481
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/382031/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,2f0aa6ccea1a6806e8c3b8e72feddba874a3f273,disk_snapshots," libvirt_utils.RESIZE_SNAPSHOT_NAME) mock_image, mock_cdn, mock_ggx): libvirt_utils.RESIZE_SNAPSHOT_NAME)"," libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True) def test_finish_revert_migration_snap_backend_snapshot_not_found(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.image_backend = mock.Mock() drvr.image_backend.image.return_value = drvr.image_backend ins_ref = self._create_instance() with test.nested( mock.patch.object(rbd_utils, 'RBDDriver'), mock.patch.object(utils, 'get_image_from_system_metadata'), mock.patch.object(drvr, '_create_domain_and_network'), mock.patch.object(drvr, '_get_guest_xml')) as ( mock_rbd, mock_image, mock_cdn, mock_ggx): mock_image.return_value = {'disk_format': 'raw'} mock_rbd.rollback_to_snap.side_effect = exception.SnapshotNotFound( snapshot_id='testing') drvr.finish_revert_migration('', ins_ref, None, power_on=False) drvr.image_backend.remove_snap.assert_called_once_with( libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True) mock.patch.object(rbd_utils, 'RBDDriver'), mock_rbd, mock_image, mock_cdn, mock_ggx): libvirt_utils.RESIZE_SNAPSHOT_NAME, ignore_errors=True)",6,49
openstack%2Fnova~master~Ief44d4d0f40a7868a738bb3388434a4aae6c980d,openstack/nova,master,Ief44d4d0f40a7868a738bb3388434a4aae6c980d,libvirt: Change condition of root disk snapshot handling,ABANDONED,2016-10-04 18:22:11.000000000,2017-08-01 09:54:56.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 18339}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-10-04 18:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1faaca4d51584ba6a6fdae49bbe6b655cd5e5504', 'message': 'libvirt: Change condition of root disk snapshot handling\n\nBoth finish_revert_migration and confirm_migration handle root disk\nsnapshot if only the disk exists. This check was introduced with\nI25f65bcc to skip snapshot operation in volume backed case (LP\nchecking if an instance is booted from volume.\n\nThis fix makes the check to be consistent. Now it checks block device\nmapping to figure out whether an instance is booted from volume.\n\nTo do that confirm_migration interface is extended with new\nblock_device_info parameter. Which also looks consistent within other\ndriver methods.\n\nAlso it fixes LP #1592015\n\nRelated-Bug: 1592015\nChange-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d\n'}, {'number': 2, 'created': '2016-10-07 16:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e764bfcb5d618b57959b1197f1f195421cda95ff', 'message': 'libvirt: Change condition of root disk snapshot handling\n\nBoth finish_revert_migration and confirm_migration handle root disk\nsnapshot if only the disk exists. This check was introduced with\nI25f65bcc to skip snapshot operation in volume backed case\n(LP #1580625) checking if an instance is booted from volume.\n\nThis fix makes the check to be consistent. Now it checks block device\nmapping to figure out whether an instance is booted from volume.\n\nTo do that confirm_migration interface is extended with new\nblock_device_info parameter. Which also looks consistent within other\ndriver methods.\n\nAlso it fixes LP #1592015\n\nRelated-Bug: 1592015\nRelated-Bug: 1580625\nChange-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d\n'}, {'number': 3, 'created': '2016-11-17 06:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb8fa8c58956741f98247b88217d45b48b5b986f', 'message': 'libvirt: Change condition of root disk snapshot handling\n\nBoth finish_revert_migration and confirm_migration handle root disk\nsnapshot if only the disk exists. This check was introduced with\nI25f65bcc to skip snapshot operation in volume backed case\n(LP #1580625) checking if an instance is booted from volume.\n\nThis fix makes the check to be consistent. Now it checks block device\nmapping to figure out whether an instance is booted from volume.\n\nTo do that confirm_migration interface is extended with new\nblock_device_info parameter. Which also looks consistent within other\ndriver methods.\n\nCloses-Bug: 1592015\nRelated-Bug: 1580625\nChange-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d\n'}, {'number': 4, 'created': '2016-11-17 09:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fb72888160b96c229c22f6c15718ad82879016d', 'message': 'libvirt: Change condition of root disk snapshot handling\n\nBoth finish_revert_migration and confirm_migration handle root disk\nsnapshot if only the disk exists. This check was introduced with\nI25f65bcc to skip snapshot operation in volume backed case\n(LP #1580625) checking if an instance is booted from volume.\n\nThis fix makes the check to be consistent. Now it checks block device\nmapping to figure out whether an instance is booted from volume.\n\nTo do that confirm_migration interface is extended with new\nblock_device_info parameter. Which also looks consistent within other\ndriver methods.\n\nCloses-Bug: 1592015\nRelated-Bug: 1580625\nChange-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d\n'}, {'number': 5, 'created': '2016-11-29 05:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c2ccc78a5e7948251e7a42701a552bd2c4a2735', 'message': 'libvirt: Change condition of root disk snapshot handling\n\nBoth finish_revert_migration and confirm_migration handle root disk\nsnapshot if only the disk exists. This check was introduced with\nI25f65bcc to skip snapshot operation in volume backed case\n(LP #1580625) checking if an instance is booted from volume.\n\nThis fix makes the check to be consistent. Now it checks block device\nmapping to figure out whether an instance is booted from volume.\n\nTo do that confirm_migration interface is extended with new\nblock_device_info parameter. Which also looks consistent within other\ndriver methods.\n\nCloses-Bug: 1592015\nRelated-Bug: 1580625\nChange-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d\n'}, {'number': 6, 'created': '2016-11-29 05:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a9639b739df321fa26ae01a6406027bcb490143', 'message': 'libvirt: Change condition of root disk snapshot handling\n\nBoth finish_revert_migration and confirm_migration handle root disk\nsnapshot if only the disk exists. This check was introduced with\nI25f65bcc to skip snapshot operation in volume backed case\n(LP #1580625) checking if an instance is booted from volume.\n\nThis fix makes the check to be consistent. Now it checks block device\nmapping to figure out whether an instance is booted from volume.\n\nTo do that confirm_migration interface is extended with new\nblock_device_info parameter. Which also looks consistent within other\ndriver methods.\n\nCloses-Bug: 1592015\nRelated-Bug: 1580625\nChange-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d\n'}, {'number': 7, 'created': '2016-12-02 07:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db0b1d78072af1b4577962ef6dd4210de84c45d1', 'message': 'libvirt: Change condition of root disk snapshot handling\n\nBoth finish_revert_migration and confirm_migration handle root disk\nsnapshot if only the disk exists. This check was introduced with\nI25f65bcc to skip snapshot operation in volume backed case\n(LP #1580625) checking if an instance is booted from volume.\n\nThis fix makes the check to be consistent. Now it checks block device\nmapping to figure out whether an instance is booted from volume.\n\nTo do that confirm_migration interface is extended with new\nblock_device_info parameter. Which also looks consistent within other\ndriver methods.\n\nCloses-Bug: 1592015\nRelated-Bug: 1580625\nChange-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d\n'}, {'number': 8, 'created': '2016-12-02 09:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14b58265da28ffd2ce8e1b8834b772fb356b58b3', 'message': 'libvirt: Change condition of root disk snapshot handling\n\nBoth finish_revert_migration and confirm_migration handle root disk\nsnapshot if only the disk exists. This check was introduced with\nI25f65bcc to skip snapshot operation in volume backed case\n(LP #1580625) checking if an instance is booted from volume.\n\nThis fix makes the check to be consistent. Now it checks block device\nmapping to figure out whether an instance is booted from volume.\n\nTo do that confirm_migration interface is extended with new\nblock_device_info parameter. Which also looks consistent within other\ndriver methods.\n\nCloses-Bug: 1592015\nRelated-Bug: 1580625\nChange-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d\n'}, {'number': 9, 'created': '2016-12-24 17:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cffa2624492b48530cba40d80c26371d0f46576f', 'message': 'libvirt: Change condition of root disk snapshot handling\n\nBoth finish_revert_migration and confirm_migration handle root disk\nsnapshot if only the disk exists. This check was introduced with\nI25f65bcc to skip snapshot operation in volume backed case\n(bug 1580625). But this check does not look consistent (if the disk must\nexists but it does not, the code must raise an exception rather than\ncontinue execution) and leads to errors (bug 1592015).\n\nThis fix makes the check to be consistent with other code. Now it checks\nblock device mapping to figure out whether an instance is booted from\nvolume.\n\nTo do that confirm_migration interface is extended with new\nblock_device_info parameter. Which also looks consistent within other\ndriver methods.\n\nPartial-Bug: 1592015\nRelated-Bug: 1580625\nChange-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d\n'}, {'number': 10, 'created': '2017-01-30 09:45:57.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ccf985a0961adb7188b8ed109a0c05eb201c1ca', 'message': 'libvirt: Change condition of root disk snapshot handling\n\nBoth finish_revert_migration and confirm_migration handle root disk\nsnapshot if only the disk exists. This check was introduced with\nI25f65bcc to skip snapshot operation in volume backed case\n(bug 1580625). But this check does not look consistent (if the disk must\nexists but it does not, the code must raise an exception rather than\ncontinue execution) and leads to errors (bug 1592015).\n\nThis fix makes the check to be consistent with other code. Now it checks\nblock device mapping to figure out whether an instance is booted from\nvolume.\n\nTo do that confirm_migration interface is extended with new\nblock_device_info parameter. Which also looks consistent within other\ndriver methods.\n\nPartial-Bug: 1592015\nRelated-Bug: 1580625\nChange-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d\n'}]",8,382030,6ccf985a0961adb7188b8ed109a0c05eb201c1ca,137,22,10,10224,,,0,"libvirt: Change condition of root disk snapshot handling

Both finish_revert_migration and confirm_migration handle root disk
snapshot if only the disk exists. This check was introduced with
I25f65bcc to skip snapshot operation in volume backed case
(bug 1580625). But this check does not look consistent (if the disk must
exists but it does not, the code must raise an exception rather than
continue execution) and leads to errors (bug 1592015).

This fix makes the check to be consistent with other code. Now it checks
block device mapping to figure out whether an instance is booted from
volume.

To do that confirm_migration interface is extended with new
block_device_info parameter. Which also looks consistent within other
driver methods.

Partial-Bug: 1592015
Related-Bug: 1580625
Change-Id: Ief44d4d0f40a7868a738bb3388434a4aae6c980d
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/382030/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",8,1faaca4d51584ba6a6fdae49bbe6b655cd5e5504,disk_snapshots," def test_finish_revert_migration_snap_backend_volume_backed(self): bdi = {'block_device_mapping': [{'boot_index': 0}]} drvr.finish_revert_migration('', ins_ref, None, block_device_info=bdi, power_on=False) self.drvr._cleanup_resize( ins_ref, _fake_network_info(self, 1), mock.sentinel.bdi) _fake_network_info(self, 1), block_device_info=mock.sentinel.bdi) drvr._cleanup_resize(ins_ref, _fake_network_info(self, 1), None) drvr._cleanup_resize(ins_ref, fake_net, None) drvr._cleanup_resize(ins_ref, _fake_network_info(self, 1), None) def test_cleanup_resize_snap_backend_volume_backed(self): bdi = {'block_device_mapping': [{'boot_index': 0}]} drvr._cleanup_resize(ins_ref, _fake_network_info(self, 1), bdi)"," def test_finish_revert_migration_snap_backend_image_does_not_exist(self): drvr.finish_revert_migration('', ins_ref, None, power_on=False) self.drvr._cleanup_resize(ins_ref, _fake_network_info(self, 1)) _fake_network_info(self, 1)) drvr._cleanup_resize(ins_ref, _fake_network_info(self, 1)) drvr._cleanup_resize(ins_ref, fake_net) drvr._cleanup_resize(ins_ref, _fake_network_info(self, 1)) def test_cleanup_resize_snap_backend_image_does_not_exist(self): drvr._cleanup_resize(ins_ref, _fake_network_info(self, 1))",41,23
openstack%2Fnova~master~Ia1ca90761f59d736f96c02c9d8a2f34a52bc2097,openstack/nova,master,Ia1ca90761f59d736f96c02c9d8a2f34a52bc2097,libvirt: Correct ploop imagebackend attribute,ABANDONED,2016-12-24 17:11:08.000000000,2017-08-01 09:54:55.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12408}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-12-24 17:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d9f5329a1c4e311a48a6b4d7dbc3b98432dee82', 'message': 'libvirt: Correct ploop imagebackend attribute\n\nPloop image backend stores its files in instance path, like flat and\nqcow2 backends. However its method is_file_in_instance_path reports\nstandard False. This does not allow to widely use the method in varous\ncases, like migration.\n\nThis patch fixes that. No tests are changed because there is no similar\ntests for flat and qcow2 backends.\n\nHowever ImageBackendFixture is developed here to let us set this\nattribute in tests to make checks.\n\nRelated-Bug: 1592015\nChange-Id: Ia1ca90761f59d736f96c02c9d8a2f34a52bc2097\n'}, {'number': 2, 'created': '2017-01-30 09:45:57.000000000', 'files': ['nova/tests/unit/virt/libvirt/fake_imagebackend.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/16c5b2f4078f104ccce57424d8e5e15c526b4e73', 'message': 'libvirt: Correct ploop imagebackend attribute\n\nPloop image backend stores its files in instance path, like flat and\nqcow2 backends. However its method is_file_in_instance_path reports\nstandard False. This does not allow to widely use the method in varous\ncases, like migration.\n\nThis patch fixes that. No tests are changed because there is no similar\ntests for flat and qcow2 backends.\n\nHowever ImageBackendFixture is developed here to let us set this\nattribute in tests to make checks.\n\nRelated-Bug: 1592015\nChange-Id: Ia1ca90761f59d736f96c02c9d8a2f34a52bc2097\n'}]",0,414709,16c5b2f4078f104ccce57424d8e5e15c526b4e73,26,15,2,10224,,,0,"libvirt: Correct ploop imagebackend attribute

Ploop image backend stores its files in instance path, like flat and
qcow2 backends. However its method is_file_in_instance_path reports
standard False. This does not allow to widely use the method in varous
cases, like migration.

This patch fixes that. No tests are changed because there is no similar
tests for flat and qcow2 backends.

However ImageBackendFixture is developed here to let us set this
attribute in tests to make checks.

Related-Bug: 1592015
Change-Id: Ia1ca90761f59d736f96c02c9d8a2f34a52bc2097
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/414709/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/fake_imagebackend.py', 'nova/virt/libvirt/imagebackend.py']",2,9d9f5329a1c4e311a48a6b4d7dbc3b98432dee82,disk_snapshots, @staticmethod def is_file_in_instance_path(): return True ,,20,2
openstack%2Fnova~master~I06fca2074c7ec0bffb8b968ff6aed66cb7a5d258,openstack/nova,master,I06fca2074c7ec0bffb8b968ff6aed66cb7a5d258,DNM: testing 1657585,ABANDONED,2017-02-24 13:30:18.000000000,2017-08-01 09:54:54.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-24 13:30:18.000000000', 'files': ['nova/api/openstack/compute/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1afc137e18fbb38a38466388601c4a8a90691830', 'message': 'DNM: testing 1657585\n\nChange-Id: I06fca2074c7ec0bffb8b968ff6aed66cb7a5d258\nDepends-On: I7c0f5d5bddc959afde922d856b344d15e9b5418a\n'}]",0,437898,1afc137e18fbb38a38466388601c4a8a90691830,25,14,1,8556,,,0,"DNM: testing 1657585

Change-Id: I06fca2074c7ec0bffb8b968ff6aed66cb7a5d258
Depends-On: I7c0f5d5bddc959afde922d856b344d15e9b5418a
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/437898/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/__init__.py'],1,1afc137e18fbb38a38466388601c4a8a90691830,,,,1,0
openstack%2Fnova~master~Id8da7063217b55205daf19700beef58c8aacc7ed,openstack/nova,master,Id8da7063217b55205daf19700beef58c8aacc7ed,Wait for volume creation on all volume attachments,ABANDONED,2016-10-28 12:22:45.000000000,2017-08-01 09:54:53.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5280}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-10-28 12:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2f8737fc84d4893bfe430b7315871f4230e175f', 'message': 'Wait for volume creation on all volume attachments\n\nEnsure that the wait_func for volume attachments is used in all cases.\n\nChange-Id: Id8da7063217b55205daf19700beef58c8aacc7ed\n'}, {'number': 2, 'created': '2017-02-22 18:34:35.000000000', 'files': ['nova/volume/cinder.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/727670a5f58e44c4ad1cac70d9fe66a75735e6b6', 'message': 'Wait for volume creation on all volume attachments\n\nEnsure that the wait_func for volume attachments is used in all cases.\n\nChange-Id: Id8da7063217b55205daf19700beef58c8aacc7ed\n'}]",1,391444,727670a5f58e44c4ad1cac70d9fe66a75735e6b6,29,16,2,5280,,,0,"Wait for volume creation on all volume attachments

Ensure that the wait_func for volume attachments is used in all cases.

Change-Id: Id8da7063217b55205daf19700beef58c8aacc7ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/391444/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_block_device.py', 'nova/volume/cinder.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/block_device.py']",4,c2f8737fc84d4893bfe430b7315871f4230e175f,slow-volume-attachment-fix," do_check_attach=True, do_driver_attach=False, wait_func=None, **kwargs): if wait_func: self._call_wait_func(context, wait_func, volume_api, volume['id']) do_check_attach=do_check_attach, wait_func=None) do_check_attach=do_check_attach, wait_func=None) do_check_attach=do_check_attach, wait_func=None)"," do_check_attach=True, do_driver_attach=False, **kwargs): do_check_attach=do_check_attach) do_check_attach=do_check_attach) do_check_attach=do_check_attach)",23,16
openstack%2Fnova~master~I6fb48fc37a9eddd288ef738cd72d7365d7759e7b,openstack/nova,master,I6fb48fc37a9eddd288ef738cd72d7365d7759e7b,don't store VNC/SPICE listen addrs in migration data if disabled,ABANDONED,2016-11-10 14:12:59.000000000,2017-08-01 09:54:52.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12299}, {'_account_id': 12408}, {'_account_id': 13431}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15847}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21284}]","[{'number': 1, 'created': '2016-11-10 14:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45040f5240ef731a8a47a56d961c4610c912cb5c', 'message': ""don't store vnc/spice listen addrs in migration data if disabled\n\nListen addresses of vnc/spice/serial console are stored in\nmigration data even these services are disabled in config.\nThis causes unnecessary domain xml rebuild in [1] as well\nas passing this new xml to libvirt backend.\n\n[1] https://github.com/openstack/nova/blob/72d0c3a484a17fa67ec2827377c15c25e8b8efda/nova/virt/libvirt/driver.py#L5915-L5920\n\nChange-Id: I6fb48fc37a9eddd288ef738cd72d7365d7759e7b\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n""}, {'number': 2, 'created': '2016-11-28 08:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fccb62da1cd6bb05990319305dd3ff437d9ad09', 'message': ""don't store vnc/spice listen addrs in migration data if disabled\n\nListen addresses of vnc/spice/serial console are stored in\nmigration data even these services are disabled in config.\nThis causes unnecessary domain xml rebuild in [1] as well\nas passing this new xml to libvirt backend.\n\n[1] https://github.com/openstack/nova/blob/72d0c3a484a17fa67ec2827377c15c25e8b8efda/nova/virt/libvirt/driver.py#L5915-L5920\n\nChange-Id: I6fb48fc37a9eddd288ef738cd72d7365d7759e7b\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n""}, {'number': 3, 'created': '2016-11-28 16:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27b5f7c0edc2958f38ecfedf793531cadfbf281e', 'message': ""don't store VNC/SPICE listen addrs in migration data if disabled\n\nListen addresses of VNC/SPICE console are stored in migration\ndata even these services are disabled in nova config.\nAs we can't retrieve listen addresses from destination host,\nwe should not permit migration when source has VNC/SPICE console\nenabled similar way like it's done for serial console.\n\nChange-Id: I6fb48fc37a9eddd288ef738cd72d7365d7759e7b\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n""}, {'number': 4, 'created': '2016-12-12 12:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d10dc739f75929e3833634ccf68e20df20d5ec9f', 'message': ""don't store VNC/SPICE listen addrs in migration data if disabled\n\nListen addresses of VNC/SPICE console are stored in migration\ndata even these services are disabled in nova config.\nAs we can't retrieve listen addresses from destination host,\nwe should not permit migration when source has VNC/SPICE console\nenabled similar way like it's done for serial console.\n\nChange-Id: I6fb48fc37a9eddd288ef738cd72d7365d7759e7b\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n""}, {'number': 5, 'created': '2016-12-12 12:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91d742301bc814834bc0c79932c68ea1eee7e771', 'message': ""don't store VNC/SPICE listen addrs in migration data if disabled\n\nListen addresses of VNC/SPICE console are stored in migration\ndata even these services are disabled in nova config.\nAs we can't retrieve listen addresses from destination host,\nwe should not permit migration when source has VNC/SPICE console\nenabled similar way like it's done for serial console.\n\nChange-Id: I6fb48fc37a9eddd288ef738cd72d7365d7759e7b\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n""}, {'number': 6, 'created': '2016-12-29 09:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d8ad621c4f8e8e9cbd5770e489bb2e3d6fee059', 'message': ""don't store VNC/SPICE listen addrs in migration data if disabled\n\nListen addresses of VNC/SPICE console are stored in migration\ndata even these services are disabled in nova config.\nAs we can't retrieve listen addresses from destination host,\nwe should not permit migration when source has VNC/SPICE console\nenabled similar way like it's done for serial console.\n\nChange-Id: I6fb48fc37a9eddd288ef738cd72d7365d7759e7b\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n""}, {'number': 7, 'created': '2017-01-07 11:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdd8f3180f788ba4586327da6c5775baa6774c2e', 'message': ""don't store VNC/SPICE listen addrs in migration data if disabled\n\nListen addresses of VNC/SPICE console are stored in migration\ndata even these services are disabled in nova config.\nAs we can't retrieve listen addresses from destination host,\nwe should not permit migration when source has VNC/SPICE console\nenabled similar way like it's done for serial console.\n\nChange-Id: I6fb48fc37a9eddd288ef738cd72d7365d7759e7b\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n""}, {'number': 8, 'created': '2017-01-17 12:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89d10b35633bdaa63ddd953af8779f99c0e6c28e', 'message': ""don't store VNC/SPICE listen addrs in migration data if disabled\n\nListen addresses of VNC/SPICE console are stored in migration\ndata even these services are disabled in nova config.\nAs we can't retrieve listen addresses from destination host,\nwe should not permit migration when source has VNC/SPICE console\nenabled similar way like it's done for serial console.\n\nChange-Id: I6fb48fc37a9eddd288ef738cd72d7365d7759e7b\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n""}, {'number': 9, 'created': '2017-02-22 21:43:28.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/464094f7638ad39b687b0fca87be23da3cb23e67', 'message': ""don't store VNC/SPICE listen addrs in migration data if disabled\n\nListen addresses of VNC/SPICE console are stored in migration\ndata even these services are disabled in nova config.\nAs we can't retrieve listen addresses from destination host,\nwe should not permit migration when source has VNC/SPICE console\nenabled similar way like it's done for serial console.\n\nChange-Id: I6fb48fc37a9eddd288ef738cd72d7365d7759e7b\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n""}]",20,396218,464094f7638ad39b687b0fca87be23da3cb23e67,129,22,9,21284,,,0,"don't store VNC/SPICE listen addrs in migration data if disabled

Listen addresses of VNC/SPICE console are stored in migration
data even these services are disabled in nova config.
As we can't retrieve listen addresses from destination host,
we should not permit migration when source has VNC/SPICE console
enabled similar way like it's done for serial console.

Change-Id: I6fb48fc37a9eddd288ef738cd72d7365d7759e7b
Signed-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/396218/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,45040f5240ef731a8a47a56d961c4610c912cb5c,vnc-spice-listen," self.flags(enabled=True, group='vnc') self.flags(enabled=True, group='spice') self.flags(enabled=True, group='serial_console')",,9,3
openstack%2Fnova~master~I577acca5d8c15cb427a757471ea3321951c99aac,openstack/nova,master,I577acca5d8c15cb427a757471ea3321951c99aac,Make hypervisor-servers support one host has multi-compute-nodes.,ABANDONED,2016-11-17 00:53:54.000000000,2017-08-01 09:54:51.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12813}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17473}, {'_account_id': 17922}, {'_account_id': 21511}, {'_account_id': 21784}, {'_account_id': 23210}]","[{'number': 1, 'created': '2016-11-17 00:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e52ab0cf5f0f1cf7b61f137e3536e7ee73f833b7', 'message': 'Make hypervisor-servers support one host has multi-compute-nodes.\n\nOne host may be have multi-compute-nodes, so if query which\ninstances one compute-node has, we need use\nobjects.InstanceList.get_by_host_and_node instead.\n\nChange-Id: I577acca5d8c15cb427a757471ea3321951c99aac\n'}, {'number': 2, 'created': '2016-11-17 09:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9472f890c7ca20887699b80e245c35ac744fb096', 'message': 'Make hypervisor-servers support one host has multi-compute-nodes.\n\nOne host may be have multi-compute-nodes, so if query which\ninstances one compute-node has, we need use\nobjects.InstanceList.get_by_host_and_node instead.\n\nChange-Id: I577acca5d8c15cb427a757471ea3321951c99aac\n'}, {'number': 3, 'created': '2016-11-21 01:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ae8560420bf5e36d42328a2293e8a56854b0f86', 'message': 'Make hypervisor-servers support one host has multi-compute-nodes.\n\nOne host may be have multi-compute-nodes, so if we want to query\nwhich instances are running on one compute-node, we need use\nobjects.InstanceList.get_by_host_and_node instead.\n\nClose-Bug: #1643384\n\nChange-Id: I577acca5d8c15cb427a757471ea3321951c99aac\n'}, {'number': 4, 'created': '2016-11-25 03:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/174a9c24f6b2ceabe8d33b2662f4153972dac11c', 'message': 'Make hypervisor-servers support one host has multi-compute-nodes.\n\nOne host may be have multi-compute-nodes, so if query which\ninstances one compute-node has, we need use\nobjects.InstanceList.get_by_host_and_node instead.\n\nChange-Id: I577acca5d8c15cb427a757471ea3321951c99aac\n'}, {'number': 5, 'created': '2016-11-25 08:47:54.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_extended_hypervisors.py', 'nova/compute/cells_api.py', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6bdde7dfe2bfc438580a19a88516327d4a919af4', 'message': 'Make hypervisor-servers support one host has multi-compute-nodes.\n\nOne host may be have multi-compute-nodes, so if we want to query\nwhich instances are running on one compute-node, we need use\nobjects.InstanceList.get_by_host_and_node instead.\n\nCloses-Bug:#1643384\nChange-Id: I577acca5d8c15cb427a757471ea3321951c99aac\n'}]",23,398661,6bdde7dfe2bfc438580a19a88516327d4a919af4,93,24,5,12813,,,0,"Make hypervisor-servers support one host has multi-compute-nodes.

One host may be have multi-compute-nodes, so if we want to query
which instances are running on one compute-node, we need use
objects.InstanceList.get_by_host_and_node instead.

Closes-Bug:#1643384
Change-Id: I577acca5d8c15cb427a757471ea3321951c99aac
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/398661/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/cells_api.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/compute/api.py']",4,e52ab0cf5f0f1cf7b61f137e3536e7ee73f833b7,bug/1643384," def instance_get_all_by_host_and_node(self, context, host_name, node_name): """"""Return all instances on the given host and node."""""" return objects.InstanceList.get_by_host_and_node(context, host_name, node_name) ",,144,17
openstack%2Fnova~master~I01127105393496871fc4abd51ba94fa9b8d3defd,openstack/nova,master,I01127105393496871fc4abd51ba94fa9b8d3defd,api-ref: example verification for os-hypervisors.inc,ABANDONED,2016-07-06 07:18:04.000000000,2017-08-01 09:54:49.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21918}]","[{'number': 1, 'created': '2016-07-06 07:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6fe83777df5ef24fbc98657595c793172606e8a', 'message': 'api-ref: example verification for os-hypervisors.inc\n\nNot done yet.\n\nChange-Id: I01127105393496871fc4abd51ba94fa9b8d3defd\n'}, {'number': 2, 'created': '2016-07-06 07:21:59.000000000', 'files': ['api-ref/source/os-hypervisors.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/616be97ad351a3b584fd58d7eb010af0fcb4f7a7', 'message': 'api-ref: example verification for os-hypervisors.inc\n\nNot done yet.\n\nChange-Id: I01127105393496871fc4abd51ba94fa9b8d3defd\nImplements: blueprint api-ref-in-rst\n'}]",0,338055,616be97ad351a3b584fd58d7eb010af0fcb4f7a7,19,14,2,21918,,,0,"api-ref: example verification for os-hypervisors.inc

Not done yet.

Change-Id: I01127105393496871fc4abd51ba94fa9b8d3defd
Implements: blueprint api-ref-in-rst
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/338055/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/os-hypervisors.inc'],1,c6fe83777df5ef24fbc98657595c793172606e8a,bp/api-ref-in-rst,,.. needs:example_verification,0,1
openstack%2Fnova~master~I49e71c66c6637d13590bf2a30630a4e197b3b8ab,openstack/nova,master,I49e71c66c6637d13590bf2a30630a4e197b3b8ab,[POC][placement] Report cpu features to placement Traits API,ABANDONED,2017-01-06 05:24:41.000000000,2017-08-01 09:54:48.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15648}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-01-06 05:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a8e70fc67f5e1611d57f078446c2361416cdfbf', 'message': '[POC][placement] Report cpu features to placement Traits API\n\nThis patch implement the client to report the cpu features\nfrom the comptue node.\n\nTODO: The cpu mapping needs to update\nTODO: Update os-traits with full cpu features\nTODO: unittest\n\nPart of implementation blueprint resource-provider-tags\n\nChange-Id: I49e71c66c6637d13590bf2a30630a4e197b3b8ab\n'}, {'number': 2, 'created': '2017-01-06 06:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/488eab633e725859f94582010ec988510bdc9b91', 'message': '[POC][placement] Report cpu features to placement Traits API\n\nThis patch implement the client to report the cpu features\nfrom the comptue node.\n\nTODO: The cpu mapping needs to update\nTODO: Update os-traits with full cpu features\nTODO: unittest\n\nPart of implementation blueprint resource-provider-tags\n\nChange-Id: I49e71c66c6637d13590bf2a30630a4e197b3b8ab\n'}, {'number': 3, 'created': '2017-01-20 07:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dc892fc47b0178b8150e2d5204c44675d3a48ad', 'message': '[POC][placement] Report cpu features to placement Traits API\n\nThis patch implement the client to report the cpu features\nfrom the comptue node.\n\nTODO: The cpu mapping needs to update\nTODO: Update os-traits with full cpu features\nTODO: unittest\n\nPart of implementation blueprint resource-provider-tags\n\nChange-Id: I49e71c66c6637d13590bf2a30630a4e197b3b8ab\n'}, {'number': 4, 'created': '2017-02-05 11:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2819eebc827354fda611232e13013fb533649fe3', 'message': '[POC][placement] Report cpu features to placement Traits API\n\nThis patch implement the client to report the cpu features\nfrom the comptue node.\n\nTODO: The cpu mapping needs to update\nTODO: Update os-traits with full cpu features\nTODO: unittest\n\nPart of implementation blueprint resource-provider-tags\n\nChange-Id: I49e71c66c6637d13590bf2a30630a4e197b3b8ab\n'}, {'number': 5, 'created': '2017-02-05 11:40:24.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/objects/compute_node.py', 'nova/scheduler/client/report.py', 'nova/virt/libvirt/cpu_map.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bab336c609dc6e8f7d7bee43b4e3e7460ab4ab0', 'message': '[POC][placement] Report cpu features to placement Traits API\n\nThis patch implement the client to report the cpu features\nfrom the comptue node.\n\nTODO: The cpu mapping needs to update\nTODO: Update os-traits with full cpu features\nTODO: unittest\n\nPart of implementation blueprint resource-provider-tags\n\nChange-Id: I49e71c66c6637d13590bf2a30630a4e197b3b8ab\n'}]",1,417288,9bab336c609dc6e8f7d7bee43b4e3e7460ab4ab0,50,16,5,5754,,,0,"[POC][placement] Report cpu features to placement Traits API

This patch implement the client to report the cpu features
from the comptue node.

TODO: The cpu mapping needs to update
TODO: Update os-traits with full cpu features
TODO: unittest

Part of implementation blueprint resource-provider-tags

Change-Id: I49e71c66c6637d13590bf2a30630a4e197b3b8ab
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/417288/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/objects/compute_node.py', 'nova/scheduler/client/report.py', 'nova/virt/libvirt/cpu_map.py']",4,6a8e70fc67f5e1611d57f078446c2361416cdfbf,bp/resource-provider-tags,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import os_traits as ot mapping = { 'avx': ot.HW_CPU_X86_AVX, 'avx2': ot.HW_CPU_X86_AVX2, 'clmul': ot.HW_CPU_X86_CLMUL, 'fma3': ot.HW_CPU_X86_FMA3, 'fma4': ot.HW_CPU_X86_FMA4, 'f16c': ot.HW_CPU_X86_F16C, 'mmx': ot.HW_CPU_X86_MMX, 'sse': ot.HW_CPU_X86_SSE, 'sse2': ot.HW_CPU_X86_SSE2, 'sse3': ot.HW_CPU_X86_SSE3, 'ssse3': ot.HW_CPU_X86_SSSE3, 'sse4_1': ot.HW_CPU_X86_SSE41, 'sse4_2': ot.HW_CPU_X86_SSE42, 'sse4a': ot.HW_CPU_X86_SSE4A, 'xop': ot.HW_CPU_X86_XOP, '3dnow': ot.HW_CPU_X86_3DNOW, 'avx512f': ot.HW_CPU_X86_AVX512F, 'avx512cd': ot.HW_CPU_X86_AVX512CD, 'avx512pf': ot.HW_CPU_X86_AVX512PF, 'avx512er': ot.HW_CPU_X86_AVX512ER, 'avx512vl': ot.HW_CPU_X86_AVX512VL, 'avx512bw': ot.HW_CPU_X86_AVX512BW, 'avx512dq': ot.HW_CPU_X86_AVX512DQ, 'abm': ot.HW_CPU_X86_ABM, 'bmi': ot.HW_CPU_X86_BMI, 'bmi2': ot.HW_CPU_X86_BMI2, 'tbm': ot.HW_CPU_X86_TBM, 'aesni': ot.HW_CPU_X86_AESNI, 'sha': ot.HW_CPU_X86_SHA, 'mpx': ot.HW_CPU_X86_MPX, 'sgx': ot.HW_CPU_X86_SGX, 'tsx': ot.HW_CPU_X86_TSX, 'asf': ot.HW_CPU_X86_ASF, 'vmx': ot.HW_CPU_X86_VMX, 'svm': ot.HW_CPU_X86_SVM } ",,153,1
openstack%2Fnova~master~Ia29bade2938add0f41de08226193b55d5a36a869,openstack/nova,master,Ia29bade2938add0f41de08226193b55d5a36a869,Add ironic security group support to support matrix doc,ABANDONED,2017-01-12 20:13:28.000000000,2017-08-01 09:54:40.000000000,,"[{'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14525}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-01-12 20:13:28.000000000', 'files': ['doc/source/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/015fdc7330e53ff0c9350151b1e7d4a765863040', 'message': 'Add ironic security group support to support matrix doc\n\nIronic now supports security groups for provisioning and cleaning\nnetworks as well as tenant networks when configured appropriately. [0]\n\n[0] https://bugs.launchpad.net/ironic/+bug/1594242\n\nChange-Id: Ia29bade2938add0f41de08226193b55d5a36a869\n'}]",1,419634,015fdc7330e53ff0c9350151b1e7d4a765863040,11,8,1,13295,,,0,"Add ironic security group support to support matrix doc

Ironic now supports security groups for provisioning and cleaning
networks as well as tenant networks when configured appropriately. [0]

[0] https://bugs.launchpad.net/ironic/+bug/1594242

Change-Id: Ia29bade2938add0f41de08226193b55d5a36a869
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/419634/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/support-matrix.ini'],1,015fdc7330e53ff0c9350151b1e7d4a765863040,sec-group-ironic,driver-impl-ironic=partial driver-notes-ironic=This is supported by the Neutron ML2 plugins,driver-impl-ironic=missing,2,1
openstack%2Fnova~master~I6b8b8143c0fee7d0951703554168d2b5e1e0909f,openstack/nova,master,I6b8b8143c0fee7d0951703554168d2b5e1e0909f,Remove flavor_* functions from db/api,ABANDONED,2017-02-09 21:59:26.000000000,2017-08-01 09:54:39.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 8768}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 20223}]","[{'number': 1, 'created': '2017-02-09 21:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d87977b4424eb1f9460b31d66ff63180ab1609c5', 'message': 'Remove flavor_* functions from db/api\n\nChange-Id: I6b8b8143c0fee7d0951703554168d2b5e1e0909f\n'}, {'number': 2, 'created': '2017-02-09 22:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8032915cc93978413e399712da1b0bb8e7fb3d4a', 'message': 'Remove flavor_* functions from db/api\n\nChange-Id: I6b8b8143c0fee7d0951703554168d2b5e1e0909f\n'}, {'number': 3, 'created': '2017-02-09 23:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79799be93a07b0dabc17002cba3432667b92b3b8', 'message': 'Remove flavor_* functions from db/api\n\nChange-Id: I6b8b8143c0fee7d0951703554168d2b5e1e0909f\n'}, {'number': 4, 'created': '2017-02-10 15:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ce52d7c686ddcd70f573ac809df5a53b6a20222', 'message': 'Remove flavor_* functions from db/api\n\nAs of ocata all flavors must have been migrated to the api database,\nwhich leaves the routines for accessing flavors in the main database\norphaned.\n\nChange-Id: I6b8b8143c0fee7d0951703554168d2b5e1e0909f\n'}, {'number': 5, 'created': '2017-02-10 17:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/294415b369b25b98ff17fdeda03d96f8d79a4eb6', 'message': 'Remove flavor_* functions from db/api\n\nAs of ocata all flavors must have been migrated to the api database,\nwhich leaves the routines for accessing flavors in the main database\norphaned.\n\nChange-Id: I6b8b8143c0fee7d0951703554168d2b5e1e0909f\n'}, {'number': 6, 'created': '2017-02-10 19:59:30.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/utils.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/test_flavors.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/febeba1ee2031766bf17d4c3165cc2168a4fce57', 'message': 'Remove flavor_* functions from db/api\n\nAs of ocata all flavors must have been migrated to the api database,\nwhich leaves the routines for accessing flavors in the main database\norphaned.\n\nChange-Id: I6b8b8143c0fee7d0951703554168d2b5e1e0909f\n'}]",0,431752,febeba1ee2031766bf17d4c3165cc2168a4fce57,53,16,6,4393,,,0,"Remove flavor_* functions from db/api

As of ocata all flavors must have been migrated to the api database,
which leaves the routines for accessing flavors in the main database
orphaned.

Change-Id: I6b8b8143c0fee7d0951703554168d2b5e1e0909f
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/431752/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/utils.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/test_flavors.py']",5,d87977b4424eb1f9460b31d66ff63180ab1609c5,kill-flavor-compat,, _context = context.get_admin_context() db.flavor_get_all(_context),22,608
openstack%2Fnova~master~I878ef6ef2036af57d5b8e95c16ec99299f218caf,openstack/nova,master,I878ef6ef2036af57d5b8e95c16ec99299f218caf,WIP libvirt: refresh connection_info during hard_reboot,ABANDONED,2017-03-03 18:15:23.000000000,2017-08-01 09:54:38.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-03 18:15:23.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/062dbabdf56b15af12384358ad54f92eeadd1a80', 'message': 'WIP libvirt: refresh connection_info during hard_reboot\n\nThis change builds on a previous change that now fully destroy a domain\nduring a hard reboot by also forcing the connection_info of any attached\nvolumes to also be refreshed.\n\nTODO\n  unittests\n  tempest, how could we change connection_info enough to verify?\n\nCloses-bug: #1581367\nChange-Id: I878ef6ef2036af57d5b8e95c16ec99299f218caf\n'}]",0,441269,062dbabdf56b15af12384358ad54f92eeadd1a80,13,11,1,10135,,,0,"WIP libvirt: refresh connection_info during hard_reboot

This change builds on a previous change that now fully destroy a domain
during a hard reboot by also forcing the connection_info of any attached
volumes to also be refreshed.

TODO
  unittests
  tempest, how could we change connection_info enough to verify?

Closes-bug: #1581367
Change-Id: I878ef6ef2036af57d5b8e95c16ec99299f218caf
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/441269/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,062dbabdf56b15af12384358ad54f92eeadd1a80,bug/1581367," for bdm in driver.block_device_info_get_mapping(block_device_info): self._volume_refresh_connection_info(context, instance, bdm['volume_id']) ",,4,0
openstack%2Fnova~master~I20cede799e9a54d4eda264dbce05f3652a2ec0b1,openstack/nova,master,I20cede799e9a54d4eda264dbce05f3652a2ec0b1,Provide a microversion header for the report client,ABANDONED,2017-01-21 06:37:24.000000000,2017-08-01 09:54:37.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-21 06:37:24.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/test_fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2308b016e56f53bc968740bbc09a7cb271389e2c', 'message': ""Provide a microversion header for the report client\n\nThe scheduler report client should support a way to ask for a microversion.\nWe're also adding supported minimum and maximum versions.\n\nChange-Id: I20cede799e9a54d4eda264dbce05f3652a2ec0b1\n""}]",0,423587,2308b016e56f53bc968740bbc09a7cb271389e2c,15,13,1,7166,,,0,"Provide a microversion header for the report client

The scheduler report client should support a way to ask for a microversion.
We're also adding supported minimum and maximum versions.

Change-Id: I20cede799e9a54d4eda264dbce05f3652a2ec0b1
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/423587/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/test_fixtures.py']",4,2308b016e56f53bc968740bbc09a7cb271389e2c,bp/resource-providers-scheduler-db-filters,"from nova.scheduler.client import report @mock.patch('keystoneauth1.session.Session') def test_microversion_default(self, mock_session): self.useFixture(fixtures.PlacementFixture()) expected_headers = { 'OpenStack-API-Version': 'placement ' + report.MIN_API_VERSION } mock_session.assert_called_once_with( auth=None, additional_headers=expected_headers) @mock.patch('keystoneauth1.session.Session') def test_microversion_specific(self, mock_session): self.useFixture(fixtures.PlacementFixture(api_version='1.1')) expected_headers = { 'OpenStack-API-Version': 'placement 1.1' } mock_session.assert_called_once_with( auth=None, additional_headers=expected_headers)",,99,21
openstack%2Fnova~master~I691272958849c3c93942917a8854d8761fabe7de,openstack/nova,master,I691272958849c3c93942917a8854d8761fabe7de,Add nova-status check for minimum service version,ABANDONED,2017-03-07 21:07:12.000000000,2017-08-01 09:54:35.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-07 21:07:12.000000000', 'files': ['nova/tests/unit/cmd/test_status.py', 'nova/cmd/status.py', 'nova/objects/service.py', 'nova/tests/unit/objects/test_service.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc7ac0d7128852ac2498140bb991090c5dfde7d6', 'message': 'Add nova-status check for minimum service version\n\nThis adds a nova-status check to make sure that the deployment has\nall current nova-compute services before starting an upgrade.\n\nChange-Id: I691272958849c3c93942917a8854d8761fabe7de\n'}]",10,442787,bc7ac0d7128852ac2498140bb991090c5dfde7d6,17,13,1,4393,,,0,"Add nova-status check for minimum service version

This adds a nova-status check to make sure that the deployment has
all current nova-compute services before starting an upgrade.

Change-Id: I691272958849c3c93942917a8854d8761fabe7de
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/442787/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cmd/test_status.py', 'nova/cmd/status.py', 'nova/objects/service.py', 'nova/tests/unit/objects/test_service.py']",4,bc7ac0d7128852ac2498140bb991090c5dfde7d6,nova-status-check-service-version,"from nova.tests import fixturesfrom nova.tests import uuidsentinel as uuids class TestServiceVersionCells(test.TestCase): def setUp(self): self.context = context.get_admin_context() super(TestServiceVersionCells, self).setUp() def _setup_cells(self): # NOTE(danms): Override the base class's cell setup so we can have two self.cells = fixtures.CellDatabases() self.cells.add_cell_database(uuids.cell1, default=True) self.cells.add_cell_database(uuids.cell2) self.useFixture(self.cells) cm = objects.CellMapping(context=self.context, uuid=uuids.cell1, name='cell1', transport_url='fake://nowhere/', database_connection=uuids.cell1) cm.create() cm = objects.CellMapping(context=self.context, uuid=uuids.cell2, name='cell2', transport_url='fake://nowhere/', database_connection=uuids.cell2) cm.create() def _create_services(self, *versions): cells = objects.CellMappingList.get_all(self.context) print cells index = 0 for version in versions: service = objects.Service(context=self.context, binary='nova-compute') service.version = version cell = cells[index % len(cells)] with context.target_cell(self.context, cell): service.create() @mock.patch('nova.objects.Service._check_minimum_version') def test_version_all_cells(self, mock_check): self._create_services(16, 16, 13, 16) service.get_minimum_version_all_cells(self.context, ['nova-compute'])",,104,0
openstack%2Fnova~master~Ibdfee86836e1c2ee2621bb5db8d180b84651d3ac,openstack/nova,master,Ibdfee86836e1c2ee2621bb5db8d180b84651d3ac,Unexpected API error during server create,ABANDONED,2016-11-30 06:30:57.000000000,2017-08-01 09:54:33.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15648}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18602}]","[{'number': 1, 'created': '2016-11-30 06:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eea6b235545cb52088021508490a7d4ed6155dc2', 'message': 'Unexpected API error during server create\n\nNova allow users to set free-form flavor extra-specs ""hw:cpu_policy"" and\n""hw:cpu_thread_policy"". However, specifying an invalid value for one of\nthese values, and booting an instance with the invalid flavor will\nresult in an uncaught ValueError in Nova and a HTTP 500 code being\nreturned to the user.\n\nThis fix will handle this error and report friendly message to user\ninstead of HTTP 500.\n\nChange-Id: Ibdfee86836e1c2ee2621bb5db8d180b84651d3ac\nCloses-bug: 1599400\n'}, {'number': 2, 'created': '2016-12-01 03:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cc365546ffa9d4fb8ce75972102ebe2ccf86bc9', 'message': 'Unexpected API error during server create\n\nNova allow users to set free-form flavor extra-specs ""hw:cpu_policy"" and\n""hw:cpu_thread_policy"". However, specifying an invalid value for one of\nthese values, and booting an instance with the invalid flavor will\nresult in an uncaught ValueError in Nova and a HTTP 500 code being\nreturned to the user.\n\nThis fix will handle this error and report friendly message to user\ninstead of HTTP 500.\n\nChange-Id: Ibdfee86836e1c2ee2621bb5db8d180b84651d3ac\nCloses-bug: 1599400\n'}, {'number': 3, 'created': '2016-12-01 06:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bcfbbc7beaeedb35bde2ae3d5e8f6dee5c8a2b8', 'message': 'Unexpected API error during server create\n\nNova allow users to set free-form flavor extra-specs ""hw:cpu_policy"" and\n""hw:cpu_thread_policy"". However, specifying an invalid value for one of\nthese values, and booting an instance with the invalid flavor will\nresult in an uncaught ValueError in Nova and a HTTP 500 code being\nreturned to the user.\n\nThis fix will handle this error and report friendly message to user\ninstead of HTTP 500.\n\nChange-Id: Ibdfee86836e1c2ee2621bb5db8d180b84651d3ac\nCloses-bug: 1599400\n'}, {'number': 4, 'created': '2016-12-01 08:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f69da693c0f4956c6aee4f0591a4fd34294d4e7', 'message': 'Unexpected API error during server create\n\nNova allow users to set free-form flavor extra-specs ""hw:cpu_policy"" and\n""hw:cpu_thread_policy"". However, specifying an invalid value for one of\nthese values, and booting an instance with the invalid flavor will\nresult in an uncaught ValueError in Nova and a HTTP 500 code being\nreturned to the user.\n\nThis fix will handle this error and report friendly message to user\ninstead of HTTP 500.\n\nChange-Id: Ibdfee86836e1c2ee2621bb5db8d180b84651d3ac\nCloses-bug: 1599400\n'}, {'number': 5, 'created': '2016-12-02 01:05:42.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad83c9563084c605e087621cbf6e69f081b448de', 'message': 'Unexpected API error during server create\n\nNova allow users to set free-form flavor extra-specs ""hw:cpu_policy"" and\n""hw:cpu_thread_policy"". However, specifying an invalid value for one of\nthese values, and booting an instance with the invalid flavor will\nresult in an uncaught ValueError in Nova and a HTTP 500 code being\nreturned to the user.\n\nThis fix will handle this error and report friendly message to user\ninstead of HTTP 500.\n\nChange-Id: Ibdfee86836e1c2ee2621bb5db8d180b84651d3ac\nCloses-bug: 1599400\n'}]",3,404565,ad83c9563084c605e087621cbf6e69f081b448de,56,18,5,15648,,,0,"Unexpected API error during server create

Nova allow users to set free-form flavor extra-specs ""hw:cpu_policy"" and
""hw:cpu_thread_policy"". However, specifying an invalid value for one of
these values, and booting an instance with the invalid flavor will
result in an uncaught ValueError in Nova and a HTTP 500 code being
returned to the user.

This fix will handle this error and report friendly message to user
instead of HTTP 500.

Change-Id: Ibdfee86836e1c2ee2621bb5db8d180b84651d3ac
Closes-bug: 1599400
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/404565/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/api/openstack/compute/servers.py']",4,eea6b235545cb52088021508490a7d4ed6155dc2,bug/1599400," exception.NUMAPolicyConfigurationInvalid,",,26,0
openstack%2Fnova~master~Id5841c6f33247042deb88e2519503d65b52dc1dc,openstack/nova,master,Id5841c6f33247042deb88e2519503d65b52dc1dc,Reduce time and memory usage of tenant usage.,ABANDONED,2016-07-18 15:32:06.000000000,2017-08-01 09:54:32.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2376}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6849}, {'_account_id': 7042}, {'_account_id': 7730}, {'_account_id': 8674}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9642}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16907}, {'_account_id': 20040}, {'_account_id': 21813}, {'_account_id': 21967}, {'_account_id': 21987}]","[{'number': 1, 'created': '2016-07-18 15:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e066869d8296d5e42e21c055a897bdad971682bc', 'message': 'Reduce time and memory usage of tenant usage.\n\nChange-Id: Id5841c6f33247042deb88e2519503d65b52dc1dc\nCloses-Bug: #1481262\n'}, {'number': 2, 'created': '2016-07-27 16:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a045ae35ce644b5d83aacb126f923be93d3abf5', 'message': 'Reduce time and memory usage of tenant usage.\n\nChange-Id: Id5841c6f33247042deb88e2519503d65b52dc1dc\nCloses-Bug: #1481262\n'}, {'number': 3, 'created': '2016-08-05 08:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0aa56ef0c339109099224b90f2ce92668c4276dc', 'message': ""Reduce time and memory usage of tenant usage.\n\nOn a devstack with around 4000 instances spawned and terminated during the\nusage command period, this patch drops the response from ~10s to ~2s.\n\nMemory usage is also decreased, although it's difficult to estimate with\nsuch a small sample.\n\nChange-Id: Id5841c6f33247042deb88e2519503d65b52dc1dc\nCloses-Bug: #1481262\n""}, {'number': 4, 'created': '2016-08-05 12:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cf2ee55da67a9ecc9f255c4bfb7775f43ffb540', 'message': ""Reduce time and memory usage of tenant usage.\n\nOn a devstack with around 4000 instances spawned and terminated during the\nusage command period, this patch drops the response from ~10s to ~2s.\n\nMemory usage is also decreased, although it's difficult to estimate with\nsuch a small sample.\n\nChange-Id: Id5841c6f33247042deb88e2519503d65b52dc1dc\nCloses-Bug: #1481262\n""}, {'number': 5, 'created': '2016-08-05 17:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/605ae878bc204edfd6e1fbf8d08af96d92a4de14', 'message': ""Reduce time and memory usage of tenant usage.\n\nOn a devstack with around 4000 instances spawned and terminated during the\nusage command period, this patch drops the response from ~10s to ~2s.\n\nMemory usage is also decreased, although it's difficult to estimate with\nsuch a small sample.\n\nChange-Id: Id5841c6f33247042deb88e2519503d65b52dc1dc\nCloses-Bug: #1481262\n""}, {'number': 6, 'created': '2016-08-15 18:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/479b7bb8b83a93fe3dbb9d7b8228a6e05c5f5b95', 'message': ""Reduce time and memory usage of tenant usage.\n\nOn a devstack with around 4000 instances spawned and terminated during the\nusage command period, this patch drops the response from ~10s to ~2s.\n\nMemory usage is also decreased, although it's difficult to estimate with\nsuch a small sample.\n\nThe improvement comes mostly from removing costly joints in the DB\nlayer.\n\nChange-Id: Id5841c6f33247042deb88e2519503d65b52dc1dc\nCloses-Bug: #1481262\n""}, {'number': 7, 'created': '2016-10-28 13:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbb9271ec5fc9df599e532de9efcd1825e46b35c', 'message': ""Reduce time and memory usage of tenant usage.\n\nOn a devstack with around 4000 instances spawned and terminated during the\nusage command period, this patch drops the response from ~10s to ~2s.\n\nMemory usage is also decreased, although it's difficult to estimate with\nsuch a small sample.\n\nThe improvement comes mostly from removing costly joins in the DB\nlayer.\n\nChange-Id: Id5841c6f33247042deb88e2519503d65b52dc1dc\nCloses-Bug: #1481262\n""}, {'number': 8, 'created': '2016-12-14 17:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a677d5b0bde156fea21761957971a5b9f5e18fe8', 'message': ""Reduce time and memory usage of tenant usage.\n\nOn a devstack with around 4000 instances spawned and terminated during the\nusage command period, this patch drops the response from ~10s to ~2s.\n\nMemory usage is also decreased, although it's difficult to estimate with\nsuch a small sample.\n\nThe improvement comes mostly from removing costly joins in the DB\nlayer.\n\nChange-Id: Id5841c6f33247042deb88e2519503d65b52dc1dc\nCloses-Bug: #1481262\n""}, {'number': 9, 'created': '2017-01-25 09:20:41.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1b87b0ecd7df7d253dfd9325b1cfb2d1de9529dd', 'message': ""Reduce time and memory usage of tenant usage.\n\nOn a devstack with around 4000 instances spawned and terminated during the\nusage command period, this patch drops the response from ~10s to ~2s.\n\nMemory usage is also decreased, although it's difficult to estimate with\nsuch a small sample.\n\nThe improvement comes mostly from removing costly joins in the DB\nlayer.\n\nChange-Id: Id5841c6f33247042deb88e2519503d65b52dc1dc\nCloses-Bug: #1481262\n""}]",35,343734,1b87b0ecd7df7d253dfd9325b1cfb2d1de9529dd,153,30,9,9642,,,0,"Reduce time and memory usage of tenant usage.

On a devstack with around 4000 instances spawned and terminated during the
usage command period, this patch drops the response from ~10s to ~2s.

Memory usage is also decreased, although it's difficult to estimate with
such a small sample.

The improvement comes mostly from removing costly joins in the DB
layer.

Change-Id: Id5841c6f33247042deb88e2519503d65b52dc1dc
Closes-Bug: #1481262
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/343734/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",5,e066869d8296d5e42e21c055a897bdad971682bc,bug/1481262," """"""Get a tuple representing the resource usage of each instance."""""" @require_context @pick_context_manager_reader_allow_async def instance_get_usage_by_window(context, begin, end=None, project_id=None): """"""Return instances and joins that were active during window."""""" query = context.session.query(models.Instance) query = query.filter(or_(models.Instance.terminated_at == null(), models.Instance.terminated_at > begin)) if end: query = query.filter(models.Instance.launched_at < end) if project_id: query = query.filter_by(project_id=project_id) return query.with_entities('project_id', 'uuid', 'memory_mb', 'root_gb', 'ephemeral_gb', 'vcpus', 'launched_at', 'terminated_at', 'vm_state', 'instance_type_id', 'display_name') "," """"""Return instances and joins that were active during window.""""""",152,118
openstack%2Fnova~master~I5162a30d2f4e7d0c39d6fecc108e5db17fd98486,openstack/nova,master,I5162a30d2f4e7d0c39d6fecc108e5db17fd98486,WIP: Replace target_cell and set_target_cell with context.for_cell(),ABANDONED,2017-03-09 13:24:23.000000000,2017-08-01 09:54:30.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-09 13:24:23.000000000', 'files': ['nova/tests/fixtures.py', 'nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/server_external_events.py', 'nova/api/openstack/compute/server_tags.py', 'nova/api/metadata/base.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py', 'nova/context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/907c4e60d7c7a6ca1fe004bb0bd50802827f1bbb', 'message': ""WIP: Replace target_cell and set_target_cell with context.for_cell()\n\nThis change aims to:\n\n* Avoid side_effects by returning a copy of a RequestContext rather\n  than mutating an existing RequestContext.\n* Avoid pushing cell context logic everywhere lists of objects from\n  multiple cells are used by ensuring that the context of a versioned\n  object is the correct context for its cell.\n\nIt's wildly incomplete. For early sharing only.\n\nChange-Id: I5162a30d2f4e7d0c39d6fecc108e5db17fd98486\n""}]",0,443627,907c4e60d7c7a6ca1fe004bb0bd50802827f1bbb,15,13,1,9555,,,0,"WIP: Replace target_cell and set_target_cell with context.for_cell()

This change aims to:

* Avoid side_effects by returning a copy of a RequestContext rather
  than mutating an existing RequestContext.
* Avoid pushing cell context logic everywhere lists of objects from
  multiple cells are used by ensuring that the context of a versioned
  object is the correct context for its cell.

It's wildly incomplete. For early sharing only.

Change-Id: I5162a30d2f4e7d0c39d6fecc108e5db17fd98486
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/443627/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/api/openstack/compute/server_external_events.py', 'nova/api/openstack/compute/server_tags.py', 'nova/api/openstack/compute/views/servers.py', 'nova/api/metadata/base.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py', 'nova/context.py']",8,907c4e60d7c7a6ca1fe004bb0bd50802827f1bbb,target_cell," def for_cell(self, cell_mapping): """"""Returns a new context object with database connection information for communicating with the given target_cell. :param context: The RequestContext to add connection information :param cell_mapping: An objects.CellMapping object """""" context = copy.copy(self) # avoid circular import from nova import db db_connection_string = cell_mapping.database_connection context.db_connection = db.create_context_manager( db_connection_string) return context ",,129,168
openstack%2Fnova~master~Ieabff16c5dcbf0e78fddc8e4cdadc5c7d3324eff,openstack/nova,master,Ieabff16c5dcbf0e78fddc8e4cdadc5c7d3324eff,Remove mox stubs in api/openstack/compute/test_virtual_interfaces.py,ABANDONED,2016-05-24 09:37:45.000000000,2017-08-01 09:54:29.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18602}, {'_account_id': 18603}, {'_account_id': 19590}, {'_account_id': 19935}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-05-24 09:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afb13738f4a20d5951349a910084e8edeee3d3b8', 'message': 'Remove mox stubs in api/openstack/compute/test_virtual_interfaces.py\n\nThis patch replaces mox with mock in\ntests/unit/api/openstack/compute/test_virtual_interfaces.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: Ieabff16c5dcbf0e78fddc8e4cdadc5c7d3324eff\n'}, {'number': 2, 'created': '2016-05-26 03:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7415ea88cf1e244182f2791af0a2168ad4307626', 'message': 'Remove mox stubs in api/openstack/compute/test_virtual_interfaces.py\n\nThis patch replaces mox with mock in\ntests/unit/api/openstack/compute/test_virtual_interfaces.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: Ieabff16c5dcbf0e78fddc8e4cdadc5c7d3324eff\n'}, {'number': 3, 'created': '2016-07-25 07:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ef221aea068fbe28903a1daea9d4ccee0b5bbba', 'message': 'Remove mox stubs in api/openstack/compute/test_virtual_interfaces.py\n\nThis patch replaces mox with mock in\ntests/unit/api/openstack/compute/test_virtual_interfaces.py\n\nPart of blueprint remove-mox-newton\n\nChange-Id: Ieabff16c5dcbf0e78fddc8e4cdadc5c7d3324eff\n'}, {'number': 4, 'created': '2016-10-27 01:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d576988be7f797def8aa02767d80d6f5bb2e17d2', 'message': 'Remove mox stubs in api/openstack/compute/test_virtual_interfaces.py\n\nThis patch replaces mox with mock in\ntests/unit/api/openstack/compute/test_virtual_interfaces.py\n\nPart of blueprint remove-mox-ocata\n\nChange-Id: Ieabff16c5dcbf0e78fddc8e4cdadc5c7d3324eff\n'}, {'number': 5, 'created': '2017-01-17 02:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dfaf21bfaac6d24564b6af34c86c365130afda7', 'message': 'Remove mox stubs in api/openstack/compute/test_virtual_interfaces.py\n\nThis patch replaces mox with mock in\ntests/unit/api/openstack/compute/test_virtual_interfaces.py\n\nPart of blueprint remove-mox-ocata\n\nChange-Id: Ieabff16c5dcbf0e78fddc8e4cdadc5c7d3324eff\n'}, {'number': 6, 'created': '2017-02-15 07:24:29.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_virtual_interfaces.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9226a6eb5d999484f097da9012ab06208da90196', 'message': 'Remove mox stubs in api/openstack/compute/test_virtual_interfaces.py\n\nThis patch replaces mox with mock in\ntests/unit/api/openstack/compute/test_virtual_interfaces.py\n\nPart of blueprint remove-mox-ocata\n\nChange-Id: Ieabff16c5dcbf0e78fddc8e4cdadc5c7d3324eff\n'}]",10,320325,9226a6eb5d999484f097da9012ab06208da90196,66,20,6,19935,,,0,"Remove mox stubs in api/openstack/compute/test_virtual_interfaces.py

This patch replaces mox with mock in
tests/unit/api/openstack/compute/test_virtual_interfaces.py

Part of blueprint remove-mox-ocata

Change-Id: Ieabff16c5dcbf0e78fddc8e4cdadc5c7d3324eff
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/320325/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_virtual_interfaces.py'],1,afb13738f4a20d5951349a910084e8edeee3d3b8,bp/remove-mox-pike,"import mockdef _compute_api_get(context, instance_id, expected_attrs=None, self.fake_context = context.RequestContext('fake', 'fake') @mock.patch('nova.network.api.API.get_vifs_by_instance') @mock.patch('nova.compute.api.API.get') def test_get_virtual_interfaces_list(self, mock_get, mock_get_vifs): mock_get.return_value = _compute_api_get(self.fake_context, FAKE_UUID) mock_get_vifs.return_value = _generate_fake_vifs(self.fake_context) @mock.patch('nova.compute.api.API.get') def test_vif_instance_not_found(self, mock_get): fake_req = FakeRequest(self.fake_context) mock_get.side_effect = exception.InstanceNotFound( instance_id='instance-0000') fake_req, FAKE_UUID) mock_get.assert_called_once_with( self.fake_context, FAKE_UUID, expected_attrs=None, want_objects=True) @mock.patch('nova.compute.api.API.get') def test_list_vifs_neutron_notimplemented(self, mock_get): mock_get.return_value = _compute_api_get(self.fake_context, FAKE_UUID)","from nova import compute from nova.compute import api as compute_apifrom nova import networkdef compute_api_get(self, context, instance_id, expected_attrs=None,def get_vifs_by_instance(self, context, instance_id): return _generate_fake_vifs(context) self.stubs.Set(compute.api.API, ""get"", compute_api_get) self.stubs.Set(network.api.API, ""get_vifs_by_instance"", get_vifs_by_instance) def test_get_virtual_interfaces_list(self): def test_vif_instance_not_found(self): self.mox.StubOutWithMock(compute_api.API, 'get') fake_context = context.RequestContext('fake', 'fake') fake_req = FakeRequest(fake_context) compute_api.API.get(fake_context, 'fake_uuid', expected_attrs=None, want_objects=True).AndRaise( exception.InstanceNotFound(instance_id='instance-0000')) self.mox.ReplayAll() fake_req, 'fake_uuid') def test_list_vifs_neutron_notimplemented(self): # unset the get_vifs_by_instance stub from setUp self.mox.UnsetStubs() self.stub_out('nova.compute.api.API.get', compute_api_get)",24,27
openstack%2Fnova~master~Ib1a284aee78fe2a82c859631fd67f8eb28997bd8,openstack/nova,master,Ib1a284aee78fe2a82c859631fd67f8eb28997bd8,Fix notify instance usage on evacuate,ABANDONED,2016-08-30 11:43:42.000000000,2017-08-01 09:54:28.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10207}, {'_account_id': 10385}, {'_account_id': 13537}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 20733}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-08-30 11:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c915c0b93d937bbb8c604defc2584e24c59431fb', 'message': ""Fix notify instance usage on evacuate\n\nCurrently the _destroy_evacuated_instances method in compute\nmanager doesn't have any notification when all the evacuated\ninstances are destroyed.\n\nAdded notification for evacuated instances after instance\ndestroy call.\n\nChange-Id: Ib1a284aee78fe2a82c859631fd67f8eb28997bd8\nCloses-Bug: #1617362\n""}, {'number': 2, 'created': '2016-08-31 05:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c057eaa67ec74bec86bafaedf638943c930fc819', 'message': ""Fix notify instance usage on evacuate\n\nCurrently the _destroy_evacuated_instances method in compute\nmanager doesn't have any notification when all the evacuated\ninstances are destroyed.\n\nAdded notification for evacuated instances after instance\ndestroy call.\n\nChange-Id: Ib1a284aee78fe2a82c859631fd67f8eb28997bd8\nCloses-Bug: #1617362\n""}, {'number': 3, 'created': '2016-08-31 09:14:38.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/865feb5336d53ab0f3d70065448725a0e15d778b', 'message': ""Fix notify instance usage on evacuate\n\nCurrently the _destroy_evacuated_instances method in compute\nmanager doesn't have any notification when all the evacuated\ninstances are destroyed.\n\nAdded notification for evacuated instances after instance\ndestroy call.\n\nChange-Id: Ib1a284aee78fe2a82c859631fd67f8eb28997bd8\nCloses-Bug: #1617362\n""}]",1,362794,865feb5336d53ab0f3d70065448725a0e15d778b,34,27,3,20733,,,0,"Fix notify instance usage on evacuate

Currently the _destroy_evacuated_instances method in compute
manager doesn't have any notification when all the evacuated
instances are destroyed.

Added notification for evacuated instances after instance
destroy call.

Change-Id: Ib1a284aee78fe2a82c859631fd67f8eb28997bd8
Closes-Bug: #1617362
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/362794/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,c915c0b93d937bbb8c604defc2584e24c59431fb,bug/1617362," self._notify_about_instance_usage(context, instance, ""evacuate"")",,11,3
openstack%2Fnova~master~I39a913edea14b25e3125dfb42569829ad0da27fd,openstack/nova,master,I39a913edea14b25e3125dfb42569829ad0da27fd,Add _rebuild_instance helper method,ABANDONED,2016-09-25 11:17:19.000000000,2017-08-01 09:54:27.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 12712}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 18339}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-09-25 11:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4abe91b5671795b9fac79925b5a4ab72b5a69d28', 'message': 'Add _rebuild_instance helper method\n\nWrap rebuild_instance method of compute\nmanager to avoid verbose arguments list.\n\nChange-Id: I39a913edea14b25e3125dfb42569829ad0da27fd\n'}, {'number': 2, 'created': '2016-09-26 14:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e25d28c7ec2c5281c5929837b64a5544cb6ef90a', 'message': 'Add _rebuild_instance helper method\n\nWrap rebuild_instance method of compute\nmanager to avoid verbose arguments list.\n\nChange-Id: I39a913edea14b25e3125dfb42569829ad0da27fd\n'}, {'number': 3, 'created': '2016-09-28 10:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d458e097e6676fb7ba541506b362e2597072c99a', 'message': 'Add _rebuild_instance helper method\n\nWrap rebuild_instance method of compute\nmanager to avoid verbose arguments list.\n\nChange-Id: I39a913edea14b25e3125dfb42569829ad0da27fd\n'}, {'number': 4, 'created': '2016-09-28 15:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e613fddb2e511da422e93fbc70697c0763890910', 'message': 'Add _rebuild_instance helper method\n\nWrap rebuild_instance method of compute\nmanager to avoid verbose arguments list.\n\nChange-Id: I39a913edea14b25e3125dfb42569829ad0da27fd\n'}, {'number': 5, 'created': '2016-10-07 11:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39adee733e5adebcae47a9b4998b47b480749ca4', 'message': 'Add _rebuild_instance helper method\n\nWrap rebuild_instance method of compute\nmanager to avoid verbose arguments list.\n\nChange-Id: I39a913edea14b25e3125dfb42569829ad0da27fd\n'}, {'number': 6, 'created': '2016-10-12 09:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/772d04cfb9c60a01daee74d857b204d58ce8cebf', 'message': 'Add _rebuild_instance helper method\n\nWrap rebuild_instance method of compute\nmanager to avoid verbose arguments list.\n\nChange-Id: I39a913edea14b25e3125dfb42569829ad0da27fd\n'}, {'number': 7, 'created': '2016-11-02 09:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81925ed47356ba56311eee36e2b49511bf67b9af', 'message': 'Add _rebuild_instance helper method\n\nWrap rebuild_instance method of compute\nmanager to avoid verbose arguments list.\n\nChange-Id: I39a913edea14b25e3125dfb42569829ad0da27fd\n'}, {'number': 8, 'created': '2017-01-05 14:23:39.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d78c3a1d47dd7ac86bc7bb700c92288e1971a34', 'message': 'Add _rebuild_instance helper method\n\nWrap rebuild_instance method of compute\nmanager to avoid verbose arguments list.\n\nChange-Id: I39a913edea14b25e3125dfb42569829ad0da27fd\n'}]",4,376004,5d78c3a1d47dd7ac86bc7bb700c92288e1971a34,79,16,8,12712,,,0,"Add _rebuild_instance helper method

Wrap rebuild_instance method of compute
manager to avoid verbose arguments list.

Change-Id: I39a913edea14b25e3125dfb42569829ad0da27fd
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/376004/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_compute_mgr.py'],1,4abe91b5671795b9fac79925b5a4ab72b5a69d28,nested_quotas," self._rebuild_instance(instance) self._rebuild_instance(instance, False) def _rebuild_instance(self, instance, recreate=None): args = (self.context, instance) kwargs = {""orig_image_ref"": None, ""image_ref"": None, ""injected_files"": None, ""new_pass"": None, ""bdms"": None, """": recreate} return self.compute.rebuild_instance(*args, **kwargs) self._rebuild_instance(instance, True)"," self.compute.rebuild_instance(self.context, instance, None, None, None, None, None, None, None) self.compute.rebuild_instance(self.context, instance, None, None, None, None, None, None, False) self.compute.rebuild_instance(self.context, instance, None, None, None, None, None, None, True)",11,6
openstack%2Fnova~master~Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98,openstack/nova,master,Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98,Live migration: wait for vif-plugged event on pre live migration,ABANDONED,2015-11-18 12:57:20.000000000,2017-08-01 09:54:26.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5754}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 6849}, {'_account_id': 6854}, {'_account_id': 6962}, {'_account_id': 7461}, {'_account_id': 7787}, {'_account_id': 8788}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11307}, {'_account_id': 12299}, {'_account_id': 12356}, {'_account_id': 12712}, {'_account_id': 12860}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16366}, {'_account_id': 16376}, {'_account_id': 16760}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 18695}, {'_account_id': 19912}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2015-11-18 12:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dada5e67245976e6da6d871c03a3b7aea9a7afec', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nimplemented here is to send event further from source to dest node.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 2, 'created': '2015-11-19 16:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd8036b25e4bb3d1289750eeaf136bed0dff9e5f', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nimplemented here is to send event further from source to dest node.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 3, 'created': '2015-11-20 08:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bf6b5c57f2538d58078a44da68f2ecc7acebbce', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nimplemented here is to send event further from source to dest node.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 4, 'created': '2015-11-20 08:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c831f548dbf0d12d84d84613f8f4d953dc6c098b', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nimplemented here is to send event further from source to dest node.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 5, 'created': '2015-11-24 09:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6dca90c39c1014605023c2f8b12e633f2480e8d6', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nimplemented here is to send event further from source to dest node.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 6, 'created': '2015-12-17 08:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/385df9b1f6b9535e5144f712e75326c4b2b16f39', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nimplemented here is to send event further from source to dest node.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 7, 'created': '2016-01-28 15:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f92545e4d1e9b62257546a38bc61c75ed575af18', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nis to check if instance is migrating and send event to destination\ncompute as well.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 8, 'created': '2016-01-28 16:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/221bd3293b8eea021c6689fd162b95505c767e95', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nis to check if instance is migrating and send event to destination\ncompute as well.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 9, 'created': '2016-01-29 16:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9d336d96538c9ecfc394fce167b3ee59676bcec', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nis to check if instance is migrating and send event to destination\ncompute as well.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 10, 'created': '2016-02-17 09:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cf3f2d3c3e9662c1c8949823daafcc2d6e3d1bc', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nis to check if instance is migrating and send event to destination\ncompute as well.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 11, 'created': '2016-02-17 12:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33ea399b05de512dd1ae1540692ea338d3bd0d7d', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nis to check if instance is migrating and send event to destination\ncompute as well.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 12, 'created': '2016-03-04 09:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9736f72ccff796fafed72b72887c1f4e8e5bde7', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nis to check if instance is migrating and send event to destination\ncompute as well.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 13, 'created': '2016-04-11 10:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd6a0c74a46683eba2616f58044d642bf93554f5', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nis to check if instance is migrating and send event to destination\ncompute as well.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 14, 'created': '2016-04-13 16:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fac33cb365748d1a321acab199f5bd684958c918', 'message': ""Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nBy default nova dispatches event to the instance's host while during\nlive migration we're waiting on destination host - the solution\nis to check if instance is migrating and send event to destination\ncompute as well.\n\nDepends-On: Ifa919a9076a3cc2696688af3feadf8d7fa9e6fc2\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n""}, {'number': 15, 'created': '2016-12-06 09:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecfe228fdebdebde8c37473ea6f616fc3c7a18b7', 'message': 'Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nDispatching events to the destination host for instances that are\nmigrating was done by commit a5b920a197c70d2ae08a1e1335d979857f923b4f\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n'}, {'number': 16, 'created': '2016-12-06 13:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/505dd8d5a46878c6f61a01d114110220adf617a8', 'message': 'Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nDispatching events to the destination host for instances that are\nmigrating was done by commit a5b920a197c70d2ae08a1e1335d979857f923b4f\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n'}, {'number': 17, 'created': '2016-12-06 15:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59e75de18dbaadfc0489e4deb4abf332a906b47c', 'message': 'Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nDispatching events to the destination host for instances that are\nmigrating was done by commit a5b920a197c70d2ae08a1e1335d979857f923b4f\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n'}, {'number': 18, 'created': '2016-12-07 08:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a45924bda54603920e8289739b2befc8b7d6279d', 'message': 'Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nDispatching events to the destination host for instances that are\nmigrating was done by commit a5b920a197c70d2ae08a1e1335d979857f923b4f\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n'}, {'number': 19, 'created': '2016-12-12 09:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/583c46802a27898accdc12bcd12c4f308ff81e41', 'message': 'Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nDispatching events to the destination host for instances that are\nmigrating was done by commit a5b920a197c70d2ae08a1e1335d979857f923b4f\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n'}, {'number': 20, 'created': '2016-12-20 11:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e1db6091ce2210db40a246435b7f524cbee394c', 'message': 'Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nDispatching events to the destination host for instances that are\nmigrating was done by commit a5b920a197c70d2ae08a1e1335d979857f923b4f\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n'}, {'number': 21, 'created': '2016-12-21 10:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84dff1b3170a31022492e9169e9df11cd89dbe9c', 'message': 'Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nDispatching events to the destination host for instances that are\nmigrating was done by commit a5b920a197c70d2ae08a1e1335d979857f923b4f\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n'}, {'number': 22, 'created': '2017-01-30 08:33:09.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a324038be6384c65ef0292174fec2da7d167b02', 'message': 'Live migration: wait for vif-plugged event on pre live migration\n\nJust like with spawning new VM, we need to wait for neutron to properly\nhandle new vif device on pre migration step.\n\nDispatching events to the destination host for instances that are\nmigrating was done by commit a5b920a197c70d2ae08a1e1335d979857f923b4f\n\nCloses-Bug: #1414559\nChange-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98\n'}]",42,246910,9a324038be6384c65ef0292174fec2da7d167b02,327,44,22,5948,,,0,"Live migration: wait for vif-plugged event on pre live migration

Just like with spawning new VM, we need to wait for neutron to properly
handle new vif device on pre migration step.

Dispatching events to the destination host for instances that are
migrating was done by commit a5b920a197c70d2ae08a1e1335d979857f923b4f

Closes-Bug: #1414559
Change-Id: Ib1cb9c2f6eb2f5ce6280c685ae44a691665b4e98
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/246910/20 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/db/sqlalchemy/api.py']",4,dada5e67245976e6da6d871c03a3b7aea9a7afec,bug/1414559," if ""instance_uuid"" in filters: uuid = filters[""instance_uuid""] query = query.filter(models.Migration.instance_uuid == uuid) if ""migration_type"" in filters: type = filters[""migration_type""] query = query.filter(models.Migration.migration_type == type)",,69,23
openstack%2Fnova~master~Ica4011920f2bda3484c4b0cef283d1163ab66e3d,openstack/nova,master,Ica4011920f2bda3484c4b0cef283d1163ab66e3d,WIP - Move the test fakes,ABANDONED,2017-03-14 22:27:44.000000000,2017-08-01 09:54:25.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-14 22:27:44.000000000', 'files': ['nova/tests/unit/api/compute/test_user_data.py', 'nova/tests/api/test_pci.py', 'nova/tests/functional/api_sample_tests/test_block_device_mapping_boot.py', 'nova/tests/api/test_security_groups.py', 'nova/tests/api/test_shelve.py', 'nova/tests/unit/api/compute/test_tenant_networks.py', 'nova/tests/api/test_fixed_ips.py', 'nova/tests/unit/api/compute/test_microversions.py', 'nova/tests/api/test_certificates.py', 'nova/tests/api/test_create_backup.py', 'nova/tests/api/test_disk_config.py', 'nova/tests/api/test_migrations.py', 'nova/tests/unit/api/compute/test_pci.py', 'nova/tests/api/test_extension_info.py', 'nova/tests/unit/api/compute/test_fixed_ips.py', 'nova/tests/api/test_agents.py', 'nova/tests/unit/api/compute/test_multiple_create.py', 'nova/tests/api/test_multiple_create.py', 'nova/tests/unit/api/compute/test_extended_ips_mac.py', 'nova/tests/api/test_networks.py', 'nova/tests/api/test_limits.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/api/test_pause_server.py', 'nova/tests/unit/api/compute/test_extended_server_attributes.py', 'nova/tests/api/test_config_drive.py', 'nova/tests/api/test_console_auth_tokens.py', 'nova/tests/api/test_remote_consoles.py', 'nova/tests/api/test_simple_tenant_usage.py', 'nova/tests/unit/api/compute/test_flavors.py', 'nova/tests/unit/api/compute/test_remote_consoles.py', 'nova/tests/api/test_cells.py', 'nova/tests/unit/api/compute/test_serversV21.py', 'nova/tests/api/test_floating_ip_dns.py', 'nova/tests/unit/api/compute/test_disk_config.py', 'nova/tests/unit/api/compute/test_suspend_server.py', 'nova/tests/api/test_evacuate.py', 'nova/tests/unit/api/compute/test_admin_actions.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/unit/api/compute/test_server_group_quotas.py', 'nova/tests/unit/api/compute/test_evacuate.py', 'nova/tests/api/test_multinic.py', 'nova/tests/api/test_user_data.py', 'nova/tests/api/test_access_ips.py', 'nova/tests/unit/api/compute/test_flavor_disabled.py', 'nova/tests/functional/api_sample_tests/test_volumes.py', 'nova/tests/unit/api/compute/test_multinic.py', 'nova/tests/api/test_suspend_server.py', 'nova/tests/api/test_hypervisors.py', 'nova/tests/api/test_volumes.py', 'nova/tests/unit/api/compute/test_aggregates.py', 'nova/tests/unit/api/compute/test_instance_usage_audit_log.py', 'nova/tests/unit/api/compute/test_create_backup.py', 'nova/tests/api/test_availability_zone.py', 'nova/tests/api/test_hide_server_addresses.py', 'nova/tests/unit/api/compute/test_server_diagnostics.py', 'nova/tests/api/test_cloudpipe_update.py', 'nova/tests/unit/api/compute/test_virtual_interfaces.py', 'nova/tests/unit/api/compute/test_image_size.py', 'nova/tests/unit/api/compute/test_image_metadata.py', 'nova/tests/unit/api/compute/test_hypervisors.py', 'nova/tests/api/test_server_group_quotas.py', 'nova/tests/unit/api/compute/test_flavor_swap.py', 'nova/tests/api/test_consoles.py', 'nova/tests/unit/api/compute/test_quotas.py', 'nova/tests/api/test_services.py', 'nova/tests/api/test_flavor_rxtx.py', 'nova/tests/unit/api/compute/test_simple_tenant_usage.py', 'nova/tests/unit/api/compute/test_cloudpipe.py', 'nova/tests/api/test_baremetal_nodes.py', 'nova/tests/api/test_flavor_disabled.py', 'nova/tests/unit/api/compute/test_extended_volumes.py', 'nova/tests/unit/api/compute/test_shelve.py', 'nova/tests/unit/api/compute/test_images.py', 'nova/tests/unit/api/compute/test_versions.py', 'nova/tests/unit/api/compute/test_flavor_rxtx.py', 'nova/tests/unit/api/compute/test_auth.py', 'nova/tests/api/test_hosts.py', 'nova/tests/unit/api/compute/test_limits.py', 'nova/tests/api/test_attach_interfaces.py', 'nova/tests/unit/api/compute/test_admin_password.py', 'nova/tests/unit/api/compute/test_flavors_extra_specs.py', 'nova/tests/api/test_cloudpipe.py', 'nova/tests/unit/api/compute/test_server_password.py', 'nova/tests/unit/api/compute/test_snapshots.py', 'nova/tests/api/test_keypairs.py', 'nova/tests/unit/api/compute/test_floating_ip_pools.py', 'nova/tests/unit/api/compute/test_scheduler_hints.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/api/test_flavors.py', 'nova/tests/unit/api/compute/test_server_reset_state.py', 'nova/tests/api/test_console_output.py', 'nova/tests/unit/api/compute/test_cells.py', 'nova/tests/unit/api/compute/test_security_groups.py', 'nova/tests/api/test_tenant_networks.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/api/test_plugin_framework.py', 'nova/tests/unit/api/compute/test_extended_availability_zone.py', 'nova/tests/unit/api/compute/test_flavorextradata.py', 'nova/tests/unit/api/compute/test_hosts.py', 'nova/tests/unit/api/compute/test_instance_actions.py', 'nova/tests/unit/api/compute/test_migrate_server.py', 'nova/tests/api/test_images.py', 'nova/tests/api/admin_only_action_common.py', 'nova/tests/unit/api/compute/test_console_auth_tokens.py', 'nova/tests/unit/api/compute/test_attach_interfaces.py', 'nova/tests/api/test_extended_ips.py', 'nova/tests/api/test_snapshots.py', 'nova/tests/unit/api/test_api_version_request.py', 'nova/tests/api/test_neutron_security_groups.py', 'nova/tests/api/test_flavor_manage.py', 'nova/tests/unit/api/common.py', 'nova/tests/unit/api/compute/test_extended_status.py', 'nova/tests/unit/api/compute/test_floating_ips.py', 'nova/tests/api/test_server_actions.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/api/compute/test_quota_classes.py', 'nova/tests/unit/network/test_api.py', 'nova/tests/api/test_quotas.py', 'nova/tests/api/test_server_external_events.py', 'nova/tests/unit/api/compute/test_cloudpipe_update.py', 'nova/tests/unit/api/compute/test_rescue.py', 'nova/tests/api/test_auth.py', 'nova/tests/api/test_block_device_mapping.py', 'nova/tests/api/test_versions.py', 'nova/tests/unit/api/compute/test_certificates.py', 'nova/tests/api/test_extended_server_attributes.py', 'nova/tests/unit/api/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/compute/test_extended_hypervisors.py', 'nova/tests/unit/api/compute/test_block_device_mapping_v1.py', 'nova/tests/unit/api/compute/test_migrations.py', 'nova/tests/unit/api/compute/test_fping.py', 'nova/tests/api/test_floating_ips_bulk.py', 'nova/tests/api/test_deferred_delete.py', 'nova/tests/unit/api/compute/test_server_external_events.py', 'nova/tests/unit/api/compute/test_server_actions.py', 'nova/tests/unit/api/compute/test_deferred_delete.py', 'nova/tests/unit/api/compute/test_config_drive.py', 'nova/tests/unit/api/compute/test_consoles.py', 'nova/tests/unit/api/compute/test_pause_server.py', 'nova/tests/unit/objects/test_floating_ip.py', 'nova/tests/api/test_flavor_access.py', 'nova/tests/unit/network/test_manager.py', 'nova/tests/api/test_image_size.py', 'nova/tests/unit/api/compute/test_access_ips.py', 'nova/tests/api/test_hypervisor_status.py', 'nova/tests/api/test_server_metadata.py', 'nova/tests/unit/test_api_validation.py', 'nova/tests/unit/api/compute/admin_only_action_common.py', 'nova/tests/unit/api/compute/test_baremetal_nodes.py', 'nova/tests/api/test_security_group_default_rules.py', 'nova/tests/api/test_server_groups.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/tests/unit/api/compute/test_extended_ips.py', 'nova/tests/unit/api/fakes.py', 'nova/tests/api/test_aggregates.py', 'nova/tests/api/test_quota_classes.py', 'nova/tests/api/test_floating_ips.py', 'nova/tests/api/test_virtual_interfaces.py', 'nova/tests/unit/api/compute/test_api.py', 'nova/tests/api/test_admin_actions.py', 'nova/tests/api/test_server_diagnostics.py', 'nova/tests/api/test_extended_volumes.py', 'nova/tests/api/test_floating_ip_pools.py', 'nova/tests/api/test_serversV21.py', 'nova/tests/api/test_microversions.py', 'nova/tests/api/test_server_tags.py', 'nova/tests/unit/api/compute/test_volumes.py', 'nova/tests/unit/api/compute/test_floating_ip_dns.py', 'nova/tests/api/test_extended_hypervisors.py', 'nova/tests/api/test_server_usage.py', 'nova/tests/api/test_instance_actions.py', 'nova/tests/api/test_admin_password.py', 'nova/tests/unit/api/compute/test_floating_ips_bulk.py', 'nova/tests/unit/api/test_common.py', 'nova/tests/api/test_extended_ips_mac.py', 'nova/tests/api/test_instance_usage_audit_log.py', 'nova/tests/api/test_rescue.py', 'nova/tests/api/test_flavor_swap.py', 'nova/tests/api/test_fping.py', 'nova/tests/api/test_scheduler_hints.py', 'nova/tests/api/test_urlmap.py', 'nova/tests/api/test_flavorextradata.py', 'nova/tests/api/test_lock_server.py', 'nova/tests/api/test_image_metadata.py', 'nova/tests/unit/api/compute/test_security_group_default_rules.py', 'nova/tests/unit/api/compute/test_hide_server_addresses.py', 'nova/tests/unit/api/compute/test_networks.py', 'nova/tests/unit/api/compute/test_server_tags.py', 'nova/tests/api/test_server_start_stop.py', 'nova/tests/api/test_server_migrations.py', 'nova/tests/unit/api/compute/test_console_output.py', 'nova/tests/unit/api/compute/test_server_metadata.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/tests/unit/api/compute/test_lock_server.py', 'nova/tests/unit/api/compute/test_agents.py', 'nova/tests/unit/api/compute/test_availability_zone.py', 'nova/tests/functional/test_servers.py', 'nova/tests/api/test_server_password.py', 'nova/tests/unit/api/compute/test_flavor_manage.py', 'nova/tests/api/test_block_device_mapping_v1.py', 'nova/tests/unit/api/compute/test_flavor_access.py', 'nova/tests/unit/api/compute/test_server_groups.py', 'nova/tests/api/test_flavors_extra_specs.py', 'nova/tests/functional/api_sample_tests/test_assisted_volume_snapshots.py', 'nova/tests/unit/api/compute/test_keypairs.py', 'nova/tests/api/test_migrate_server.py', 'nova/tests/unit/api/compute/test_hypervisor_status.py', 'nova/tests/unit/api/compute/test_extension_info.py', 'nova/tests/api/test_server_reset_state.py', 'nova/tests/unit/api/test_mapper.py', 'nova/tests/api/test_api.py', 'nova/tests/unit/api/compute/test_block_device_mapping.py', 'nova/tests/unit/api/compute/test_urlmap.py', 'nova/tests/unit/api/compute/test_server_migrations.py', 'nova/tests/unit/api/compute/test_plugin_framework.py', 'nova/tests/unit/api/compute/test_server_usage.py', 'nova/tests/unit/api/compute/test_services.py', 'nova/tests/api/test_extended_status.py', 'nova/tests/unit/api/compute/test_server_start_stop.py', 'nova/tests/api/test_extended_availability_zone.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/84a89a7277725ac5b965adbd2bbcea28085291b0', 'message': 'WIP - Move the test fakes\n\nThe directory nova/tests/unit/api/openstack contains some generic test\nfiles that are used in the API unit tests. These have been moved to\nnova/tests/unit/api, and references to these files have been updated.\n\nBlueprint: remove-openstack-api-directory\n\nChange-Id: Ica4011920f2bda3484c4b0cef283d1163ab66e3d\n'}]",0,445671,84a89a7277725ac5b965adbd2bbcea28085291b0,10,8,1,1063,,,0,"WIP - Move the test fakes

The directory nova/tests/unit/api/openstack contains some generic test
files that are used in the API unit tests. These have been moved to
nova/tests/unit/api, and references to these files have been updated.

Blueprint: remove-openstack-api-directory

Change-Id: Ica4011920f2bda3484c4b0cef283d1163ab66e3d
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/445671/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/compute/test_user_data.py', 'nova/tests/api/test_pci.py', 'nova/tests/functional/api_sample_tests/test_block_device_mapping_boot.py', 'nova/tests/api/test_security_groups.py', 'nova/tests/api/test_shelve.py', 'nova/tests/unit/api/compute/test_tenant_networks.py', 'nova/tests/api/test_fixed_ips.py', 'nova/tests/unit/api/compute/test_microversions.py', 'nova/tests/api/test_certificates.py', 'nova/tests/api/test_create_backup.py', 'nova/tests/api/test_disk_config.py', 'nova/tests/api/test_migrations.py', 'nova/tests/unit/api/compute/test_pci.py', 'nova/tests/api/test_extension_info.py', 'nova/tests/unit/api/compute/test_fixed_ips.py', 'nova/tests/api/test_agents.py', 'nova/tests/unit/api/compute/test_multiple_create.py', 'nova/tests/api/test_multiple_create.py', 'nova/tests/unit/api/compute/test_extended_ips_mac.py', 'nova/tests/api/test_networks.py', 'nova/tests/api/test_limits.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/api/test_pause_server.py', 'nova/tests/unit/api/compute/test_extended_server_attributes.py', 'nova/tests/api/test_config_drive.py', 'nova/tests/api/test_console_auth_tokens.py', 'nova/tests/api/test_remote_consoles.py', 'nova/tests/api/test_simple_tenant_usage.py', 'nova/tests/unit/api/compute/test_flavors.py', 'nova/tests/unit/api/compute/test_remote_consoles.py', 'nova/tests/api/test_cells.py', 'nova/tests/unit/api/compute/test_serversV21.py', 'nova/tests/api/test_floating_ip_dns.py', 'nova/tests/unit/api/compute/test_disk_config.py', 'nova/tests/unit/api/compute/test_suspend_server.py', 'nova/tests/api/test_evacuate.py', 'nova/tests/unit/api/compute/test_admin_actions.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/unit/api/compute/test_server_group_quotas.py', 'nova/tests/unit/api/compute/test_evacuate.py', 'nova/tests/api/test_multinic.py', 'nova/tests/api/test_user_data.py', 'nova/tests/api/test_access_ips.py', 'nova/tests/unit/api/compute/test_flavor_disabled.py', 'nova/tests/functional/api_sample_tests/test_volumes.py', 'nova/tests/unit/api/compute/test_multinic.py', 'nova/tests/api/test_suspend_server.py', 'nova/tests/api/test_hypervisors.py', 'nova/tests/api/test_volumes.py', 'nova/tests/unit/api/compute/test_aggregates.py', 'nova/tests/unit/api/compute/test_instance_usage_audit_log.py', 'nova/tests/unit/api/compute/test_create_backup.py', 'nova/tests/api/test_availability_zone.py', 'nova/tests/api/test_hide_server_addresses.py', 'nova/tests/unit/api/compute/test_server_diagnostics.py', 'nova/tests/api/test_cloudpipe_update.py', 'nova/tests/unit/api/compute/test_virtual_interfaces.py', 'nova/tests/unit/api/compute/test_image_size.py', 'nova/tests/unit/api/compute/test_image_metadata.py', 'nova/tests/unit/api/compute/test_hypervisors.py', 'nova/tests/api/test_server_group_quotas.py', 'nova/tests/unit/api/compute/test_flavor_swap.py', 'nova/tests/api/test_consoles.py', 'nova/tests/unit/api/compute/test_quotas.py', 'nova/tests/api/test_services.py', 'nova/tests/api/test_flavor_rxtx.py', 'nova/tests/unit/api/compute/test_simple_tenant_usage.py', 'nova/tests/unit/api/compute/test_cloudpipe.py', 'nova/tests/api/test_baremetal_nodes.py', 'nova/tests/api/test_flavor_disabled.py', 'nova/tests/unit/api/compute/test_extended_volumes.py', 'nova/tests/unit/api/compute/test_shelve.py', 'nova/tests/unit/api/compute/test_images.py', 'nova/tests/unit/api/compute/test_versions.py', 'nova/tests/unit/api/compute/test_flavor_rxtx.py', 'nova/tests/unit/api/compute/test_auth.py', 'nova/tests/api/test_hosts.py', 'nova/tests/unit/api/compute/test_limits.py', 'nova/tests/api/test_attach_interfaces.py', 'nova/tests/unit/api/compute/test_admin_password.py', 'nova/tests/unit/api/compute/test_flavors_extra_specs.py', 'nova/tests/api/test_cloudpipe.py', 'nova/tests/unit/api/compute/test_server_password.py', 'nova/tests/unit/api/compute/test_snapshots.py', 'nova/tests/api/test_keypairs.py', 'nova/tests/unit/api/compute/test_floating_ip_pools.py', 'nova/tests/unit/api/compute/test_scheduler_hints.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/api/test_flavors.py', 'nova/tests/unit/api/compute/test_server_reset_state.py', 'nova/tests/api/test_console_output.py', 'nova/tests/unit/api/compute/test_cells.py', 'nova/tests/unit/api/compute/test_security_groups.py', 'nova/tests/api/test_tenant_networks.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/api/test_plugin_framework.py', 'nova/tests/unit/api/compute/test_extended_availability_zone.py', 'nova/tests/unit/api/compute/test_flavorextradata.py', 'nova/tests/unit/api/compute/test_hosts.py', 'nova/tests/unit/api/compute/test_instance_actions.py', 'nova/tests/unit/api/compute/test_migrate_server.py', 'nova/tests/api/test_images.py', 'nova/tests/api/admin_only_action_common.py', 'nova/tests/unit/api/compute/test_console_auth_tokens.py', 'nova/tests/unit/api/compute/test_attach_interfaces.py', 'nova/tests/api/test_extended_ips.py', 'nova/tests/api/test_snapshots.py', 'nova/tests/unit/api/test_api_version_request.py', 'nova/tests/api/test_neutron_security_groups.py', 'nova/tests/api/test_flavor_manage.py', 'nova/tests/unit/api/common.py', 'nova/tests/unit/api/compute/test_extended_status.py', 'nova/tests/unit/api/compute/test_floating_ips.py', 'nova/tests/api/test_server_actions.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/api/compute/test_quota_classes.py', 'nova/tests/unit/network/test_api.py', 'nova/tests/api/test_quotas.py', 'nova/tests/api/test_server_external_events.py', 'nova/tests/unit/api/compute/test_cloudpipe_update.py', 'nova/tests/unit/api/compute/test_rescue.py', 'nova/tests/api/test_auth.py', 'nova/tests/api/test_block_device_mapping.py', 'nova/tests/api/test_versions.py', 'nova/tests/unit/api/compute/test_certificates.py', 'nova/tests/api/test_extended_server_attributes.py', 'nova/tests/unit/api/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/compute/test_extended_hypervisors.py', 'nova/tests/unit/api/compute/test_block_device_mapping_v1.py', 'nova/tests/unit/api/compute/test_migrations.py', 'nova/tests/unit/api/compute/test_fping.py', 'nova/tests/api/test_floating_ips_bulk.py', 'nova/tests/api/test_deferred_delete.py', 'nova/tests/unit/api/compute/test_server_external_events.py', 'nova/tests/unit/api/compute/test_server_actions.py', 'nova/tests/unit/api/compute/test_deferred_delete.py', 'nova/tests/unit/api/compute/test_config_drive.py', 'nova/tests/unit/api/compute/test_consoles.py', 'nova/tests/unit/api/compute/test_pause_server.py', 'nova/tests/unit/objects/test_floating_ip.py', 'nova/tests/api/test_flavor_access.py', 'nova/tests/unit/network/test_manager.py', 'nova/tests/api/test_image_size.py', 'nova/tests/unit/api/compute/test_access_ips.py', 'nova/tests/api/test_hypervisor_status.py', 'nova/tests/api/test_server_metadata.py', 'nova/tests/unit/test_api_validation.py', 'nova/tests/unit/api/compute/admin_only_action_common.py', 'nova/tests/unit/api/compute/test_baremetal_nodes.py', 'nova/tests/api/test_security_group_default_rules.py', 'nova/tests/api/test_server_groups.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/tests/unit/api/compute/test_extended_ips.py', 'nova/tests/unit/api/fakes.py', 'nova/tests/api/test_aggregates.py', 'nova/tests/api/test_quota_classes.py', 'nova/tests/api/test_floating_ips.py', 'nova/tests/api/test_virtual_interfaces.py', 'nova/tests/unit/api/compute/test_api.py', 'nova/tests/api/test_admin_actions.py', 'nova/tests/api/test_server_diagnostics.py', 'nova/tests/api/test_extended_volumes.py', 'nova/tests/api/test_floating_ip_pools.py', 'nova/tests/api/test_serversV21.py', 'nova/tests/api/test_microversions.py', 'nova/tests/api/test_server_tags.py', 'nova/tests/unit/api/compute/test_volumes.py', 'nova/tests/unit/api/compute/test_floating_ip_dns.py', 'nova/tests/api/test_extended_hypervisors.py', 'nova/tests/api/test_server_usage.py', 'nova/tests/api/test_instance_actions.py', 'nova/tests/api/test_admin_password.py', 'nova/tests/unit/api/compute/test_floating_ips_bulk.py', 'nova/tests/unit/api/test_common.py', 'nova/tests/api/test_extended_ips_mac.py', 'nova/tests/api/test_instance_usage_audit_log.py', 'nova/tests/api/test_rescue.py', 'nova/tests/api/test_flavor_swap.py', 'nova/tests/api/test_fping.py', 'nova/tests/api/test_scheduler_hints.py', 'nova/tests/api/test_urlmap.py', 'nova/tests/api/test_flavorextradata.py', 'nova/tests/api/test_lock_server.py', 'nova/tests/api/test_image_metadata.py', 'nova/tests/unit/api/compute/test_security_group_default_rules.py', 'nova/tests/unit/api/compute/test_hide_server_addresses.py', 'nova/tests/unit/api/compute/test_networks.py', 'nova/tests/unit/api/compute/test_server_tags.py', 'nova/tests/api/test_server_start_stop.py', 'nova/tests/api/test_server_migrations.py', 'nova/tests/unit/api/compute/test_console_output.py', 'nova/tests/unit/api/compute/test_server_metadata.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/tests/unit/api/compute/test_lock_server.py', 'nova/tests/unit/api/compute/test_agents.py', 'nova/tests/unit/api/compute/test_availability_zone.py', 'nova/tests/functional/test_servers.py', 'nova/tests/api/test_server_password.py', 'nova/tests/unit/api/compute/test_flavor_manage.py', 'nova/tests/api/test_block_device_mapping_v1.py', 'nova/tests/unit/api/compute/test_flavor_access.py', 'nova/tests/unit/api/compute/test_server_groups.py', 'nova/tests/api/test_flavors_extra_specs.py', 'nova/tests/functional/api_sample_tests/test_assisted_volume_snapshots.py', 'nova/tests/unit/api/compute/test_keypairs.py', 'nova/tests/api/test_migrate_server.py', 'nova/tests/unit/api/compute/test_hypervisor_status.py', 'nova/tests/unit/api/compute/test_extension_info.py', 'nova/tests/api/test_server_reset_state.py', 'nova/tests/unit/api/test_mapper.py', 'nova/tests/api/test_api.py', 'nova/tests/unit/api/compute/test_block_device_mapping.py', 'nova/tests/unit/api/compute/test_urlmap.py', 'nova/tests/unit/api/compute/test_server_migrations.py', 'nova/tests/unit/api/compute/test_plugin_framework.py', 'nova/tests/unit/api/compute/test_server_usage.py', 'nova/tests/unit/api/compute/test_services.py', 'nova/tests/api/test_extended_status.py', 'nova/tests/unit/api/compute/test_server_start_stop.py', 'nova/tests/api/test_extended_availability_zone.py']",221,84a89a7277725ac5b965adbd2bbcea28085291b0,bp/remove-openstack-api-directory,from nova.tests.unit.api import fakes,from nova.tests.unit.api.openstack import fakes,223,223
openstack%2Fnova~master~I911cc80e732a4881b9266d036bf1859cab23ae6f,openstack/nova,master,I911cc80e732a4881b9266d036bf1859cab23ae6f,WIP - move urlmap.py,ABANDONED,2017-03-10 22:39:34.000000000,2017-08-01 09:54:23.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-10 22:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e6a7ff6709150ec1f2058f03fc5ab1944b58bc9', 'message': 'WIP - move urlmap.py\n\nMove urlmap.py from nova/api/openstack to nova/api, and update any\nreferences to it.\n\nBlueprint: remove-openstack-api-directory\n\nChange-Id: I911cc80e732a4881b9266d036bf1859cab23ae6f\n'}, {'number': 2, 'created': '2017-03-14 22:27:44.000000000', 'files': ['etc/nova/api-paste.ini', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/test_mapper.py', 'nova/tests/unit/api/openstack/compute/test_auth.py', 'nova/api/urlmap.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/caabae173d927861f2c5a3e1a31a9eb39ba88483', 'message': 'WIP - move urlmap.py\n\nMove urlmap.py from nova/api/openstack to nova/api, and update any\nreferences to it.\n\nBlueprint: remove-openstack-api-directory\n\nChange-Id: I911cc80e732a4881b9266d036bf1859cab23ae6f\n'}]",0,444524,caabae173d927861f2c5a3e1a31a9eb39ba88483,26,14,2,1063,,,0,"WIP - move urlmap.py

Move urlmap.py from nova/api/openstack to nova/api, and update any
references to it.

Blueprint: remove-openstack-api-directory

Change-Id: I911cc80e732a4881b9266d036bf1859cab23ae6f
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/444524/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/nova/api-paste.ini', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/compute/test_auth.py', 'nova/api/urlmap.py']",4,0e6a7ff6709150ec1f2058f03fc5ab1944b58bc9,bp/remove-openstack-api-directory,,,3,3
openstack%2Fnova~master~I243f3afa79822a4cfc4d62bbfb3876adae8e0d2f,openstack/nova,master,I243f3afa79822a4cfc4d62bbfb3876adae8e0d2f,WIP - Move __init__.py,ABANDONED,2017-03-10 22:39:34.000000000,2017-08-01 09:54:22.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-10 22:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ea73a94b6ab6fe44231fa9baa47b3b5dc8edbbc', 'message': 'WIP - Move __init__.py\n\nThe nova/api directory contained an empty __init__.py, but the\nnova/api/openstack __init__.py had a lot of code in it. Moving that code\ndown to the nova/api directory required all the references to that path\nto be updated to reflect the new location.\n\nChange-Id: I243f3afa79822a4cfc4d62bbfb3876adae8e0d2f\n'}, {'number': 2, 'created': '2017-03-14 22:27:44.000000000', 'files': ['nova/api/openstack/__init__.py', 'nova/api/__init__.py', 'nova/api/openstack/compute/__init__.py', 'nova/tests/unit/api/test_faults.py', 'nova/tests/unit/api/openstack/compute/test_auth.py', 'nova/api/openstack/placement/deploy.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'etc/nova/api-paste.ini', 'nova/tests/unit/api/openstack/test_mapper.py', 'nova/tests/unit/api/openstack/compute/test_api.py', 'nova/tests/unit/api/openstack/compute/test_extensions.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/test_legacy_v2_compatible_wrapper.py', 'nova/tests/unit/api/openstack/compute/test_plugin_framework.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97ee62a7f4b0cefc21168049d60aecd4f6a401c4', 'message': 'WIP - Move __init__.py\n\nThe nova/api directory contained an empty __init__.py, but the\nnova/api/openstack __init__.py had a lot of code in it. Moving that code\ndown to the nova/api directory required all the references to that path\nto be updated to reflect the new location.\n\nChange-Id: I243f3afa79822a4cfc4d62bbfb3876adae8e0d2f\n'}]",0,444522,97ee62a7f4b0cefc21168049d60aecd4f6a401c4,26,14,2,1063,,,0,"WIP - Move __init__.py

The nova/api directory contained an empty __init__.py, but the
nova/api/openstack __init__.py had a lot of code in it. Moving that code
down to the nova/api directory required all the references to that path
to be updated to reflect the new location.

Change-Id: I243f3afa79822a4cfc4d62bbfb3876adae8e0d2f
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/444522/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/__init__.py', 'nova/api/__init__.py', 'nova/api/openstack/compute/__init__.py', 'nova/tests/unit/api/openstack/compute/test_auth.py', 'nova/api/openstack/placement/deploy.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'etc/nova/api-paste.ini', 'nova/tests/unit/api/openstack/test_mapper.py', 'nova/tests/unit/api/openstack/compute/test_api.py', 'nova/tests/unit/api/openstack/compute/test_extensions.py', 'nova/tests/unit/api/openstack/test_faults.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/test_legacy_v2_compatible_wrapper.py', 'nova/tests/unit/api/openstack/compute/test_plugin_framework.py']",14,2ea73a94b6ab6fe44231fa9baa47b3b5dc8edbbc,bp/remove-openstack-api-directory," @mock.patch(""nova.api.APIRouterV21.api_extension_namespace"")"," @mock.patch(""nova.api.openstack.APIRouterV21.api_extension_namespace"")",388,389
openstack%2Fnova~master~Ic6491614cee09894e10c62b3df688ae400d4fb84,openstack/nova,master,Ic6491614cee09894e10c62b3df688ae400d4fb84,WIP - Move wsgi.py,ABANDONED,2017-03-10 22:39:34.000000000,2017-08-01 09:54:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-10 22:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6320680a72c3f5a9a35ad2a6bf7fd5dfbd5fcc3d', 'message': 'WIP - Move wsgi.py\n\nMove the wsgi.py file from nova/api/openstack to nova/api. Update all\nthe files that referenced the old location.\n\nBlueprint: remove-openstack-api-directory\n\nChange-Id: Ic6491614cee09894e10c62b3df688ae400d4fb84\n'}, {'number': 2, 'created': '2017-03-14 22:27:44.000000000', 'files': ['nova/api/openstack/compute/remote_consoles.py', 'nova/api/openstack/compute/deferred_delete.py', 'nova/api/openstack/compute/flavor_access.py', 'nova/api/openstack/compute/versionsV21.py', 'nova/api/openstack/compute/cells.py', 'nova/api/openstack/compute/server_groups.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/extended_server_attributes.py', 'nova/api/openstack/compute/server_external_events.py', 'nova/api/openstack/compute/server_tags.py', 'nova/api/openstack/compute/image_metadata.py', 'nova/api/openstack/compute/image_size.py', 'nova/api/openstack/compute/versions.py', 'nova/api/openstack/compute/suspend_server.py', 'nova/api/openstack/compute/create_backup.py', 'nova/api/openstack/compute/quota_sets.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/tests/unit/api/test_faults.py', 'nova/api/openstack/compute/security_group_default_rules.py', 'nova/api/openstack/compute/cloudpipe.py', 'nova/api/openstack/compute/server_diagnostics.py', 'nova/api/openstack/compute/used_limits.py', 'nova/api/openstack/compute/limits.py', 'nova/api/openstack/compute/instance_actions.py', 'nova/api/openstack/extensions.py', 'nova/api/auth.py', 'nova/api/openstack/compute/baremetal_nodes.py', 'nova/api/openstack/compute/keypairs.py', 'nova/api/openstack/compute/aggregates.py', 'nova/api/openstack/compute/evacuate.py', 'nova/tests/unit/api/openstack/compute/test_extended_server_attributes.py', 'nova/api/openstack/compute/floating_ip_pools.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/api/openstack/compute/hide_server_addresses.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/compute/test_flavor_disabled.py', 'nova/api/openstack/compute/config_drive.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/api/openstack/compute/multinic.py', 'nova/api/openstack/compute/pci.py', 'nova/api/openstack/compute/images.py', 'nova/tests/functional/test_legacy_v2_compatible_wrapper.py', 'nova/api/openstack/compute/server_migrations.py', 'nova/api/openstack/compute/fping.py', 'nova/api/openstack/compute/volumes.py', 'nova/api/openstack/compute/floating_ip_dns.py', 'nova/api/compute_req_id.py', 'nova/api/openstack/compute/assisted_volume_snapshots.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/api/openstack/compute/networks.py', 'nova/api/openstack/compute/consoles.py', 'nova/tests/unit/api/test_legacy_v2_compatible_wrapper.py', 'nova/api/openstack/compute/fixed_ips.py', 'nova/tests/unit/api/openstack/placement/test_microversion.py', 'nova/api/wsgi.py', 'nova/tests/unit/api/openstack/compute/microversions.py', 'nova/api/openstack/compute/floating_ips_bulk.py', 'nova/api/__init__.py', 'nova/api/openstack/compute/networks_associate.py', 'nova/api/openstack/compute/server_password.py', 'nova/api/openstack/compute/extended_volumes.py', 'nova/api/openstack/compute/console_output.py', 'nova/tests/unit/api/openstack/compute/legacy_v2/extensions/foxinsocks.py', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/api/openstack/compute/extension_info.py', 'nova/api/openstack/compute/admin_actions.py', 'nova/api/openstack/compute/flavor_manage.py', 'nova/api/openstack/compute/hosts.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_fixed_ips.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/virtual_interfaces.py', 'nova/api/openstack/compute/agents.py', 'nova/api/openstack/compute/server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_extended_volumes.py', 'nova/api/openstack/compute/rescue.py', 'nova/api/openstack/compute/extended_availability_zone.py', 'nova/api/openstack/compute/availability_zone.py', 'nova/api/openstack/compute/certificates.py', 'nova/api/openstack/compute/services.py', 'nova/tests/unit/api/openstack/compute/test_pci.py', 'nova/api/openstack/compute/shelve.py', 'nova/api/openstack/compute/migrations.py', 'nova/api/openstack/compute/ips.py', 'nova/api/openstack/compute/admin_password.py', 'nova/api/openstack/compute/server_usage.py', 'nova/api/openstack/compute/extended_status.py', 'nova/api/openstack/compute/flavors.py', 'nova/api/openstack/compute/quota_classes.py', 'nova/tests/unit/api/openstack/compute/basic.py', 'nova/api/openstack/compute/security_groups.py', 'nova/tests/unit/api/openstack/compute/test_api.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/api/openstack/compute/pause_server.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/api/openstack/compute/instance_usage_audit_log.py', 'nova/api/openstack/compute/lock_server.py', 'nova/api/openstack/compute/flavor_rxtx.py', 'nova/tests/unit/api/openstack/compute/test_config_drive.py', 'nova/api/openstack/compute/servers.py', 'nova/api/openstack/compute/flavors_extraspecs.py', 'nova/api/openstack/urlmap.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/api/openstack/compute/console_auth_tokens.py', 'nova/tests/unit/api/openstack/compute/test_used_limits.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/96f8af8d42489b9f2d03d17be7cf80e884ef75d7', 'message': 'WIP - Move wsgi.py\n\nMove the wsgi.py file from nova/api/openstack to nova/api. Update all\nthe files that referenced the old location.\n\nBlueprint: remove-openstack-api-directory\n\nChange-Id: Ic6491614cee09894e10c62b3df688ae400d4fb84\n'}]",0,444523,96f8af8d42489b9f2d03d17be7cf80e884ef75d7,26,14,2,1063,,,0,"WIP - Move wsgi.py

Move the wsgi.py file from nova/api/openstack to nova/api. Update all
the files that referenced the old location.

Blueprint: remove-openstack-api-directory

Change-Id: Ic6491614cee09894e10c62b3df688ae400d4fb84
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/444523/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/remote_consoles.py', 'nova/api/openstack/compute/deferred_delete.py', 'nova/api/openstack/compute/flavor_access.py', 'nova/api/openstack/compute/versionsV21.py', 'nova/api/openstack/compute/cells.py', 'nova/api/openstack/compute/server_groups.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/api/openstack/compute/extended_server_attributes.py', 'nova/api/openstack/compute/server_external_events.py', 'nova/api/openstack/compute/server_tags.py', 'nova/api/openstack/compute/image_metadata.py', 'nova/api/openstack/compute/image_size.py', 'nova/api/openstack/compute/versions.py', 'nova/api/openstack/compute/suspend_server.py', 'nova/api/openstack/compute/create_backup.py', 'nova/api/openstack/compute/quota_sets.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/api/openstack/compute/security_group_default_rules.py', 'nova/api/openstack/compute/cloudpipe.py', 'nova/api/openstack/compute/server_diagnostics.py', 'nova/api/openstack/compute/used_limits.py', 'nova/api/openstack/compute/limits.py', 'nova/api/openstack/compute/instance_actions.py', 'nova/api/openstack/extensions.py', 'nova/api/auth.py', 'nova/api/openstack/compute/baremetal_nodes.py', 'nova/api/openstack/compute/keypairs.py', 'nova/api/openstack/compute/aggregates.py', 'nova/api/openstack/compute/evacuate.py', 'nova/tests/unit/api/openstack/compute/test_extended_server_attributes.py', 'nova/api/openstack/compute/floating_ip_pools.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/api/openstack/compute/hide_server_addresses.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/compute/test_flavor_disabled.py', 'nova/api/openstack/compute/config_drive.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/api/openstack/compute/multinic.py', 'nova/api/openstack/compute/pci.py', 'nova/api/openstack/compute/images.py', 'nova/tests/functional/test_legacy_v2_compatible_wrapper.py', 'nova/api/openstack/compute/server_migrations.py', 'nova/api/openstack/compute/fping.py', 'nova/api/openstack/compute/volumes.py', 'nova/api/openstack/compute/floating_ip_dns.py', 'nova/api/compute_req_id.py', 'nova/api/openstack/compute/assisted_volume_snapshots.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/api/openstack/compute/networks.py', 'nova/api/openstack/compute/consoles.py', 'nova/tests/unit/api/openstack/test_faults.py', 'nova/api/openstack/compute/fixed_ips.py', 'nova/tests/unit/api/openstack/placement/test_microversion.py', 'nova/api/wsgi.py', 'nova/tests/unit/api/openstack/compute/microversions.py', 'nova/api/openstack/compute/floating_ips_bulk.py', 'nova/api/__init__.py', 'nova/api/openstack/compute/networks_associate.py', 'nova/api/openstack/compute/server_password.py', 'nova/api/openstack/compute/extended_volumes.py', 'nova/api/openstack/compute/console_output.py', 'nova/tests/unit/api/openstack/compute/legacy_v2/extensions/foxinsocks.py', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/api/openstack/compute/extension_info.py', 'nova/api/openstack/compute/admin_actions.py', 'nova/api/openstack/compute/flavor_manage.py', 'nova/api/openstack/compute/hosts.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_fixed_ips.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/virtual_interfaces.py', 'nova/api/openstack/compute/agents.py', 'nova/api/openstack/compute/server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_extended_volumes.py', 'nova/api/openstack/compute/rescue.py', 'nova/api/openstack/compute/extended_availability_zone.py', 'nova/api/openstack/compute/availability_zone.py', 'nova/api/openstack/compute/certificates.py', 'nova/api/openstack/compute/services.py', 'nova/tests/unit/api/openstack/test_legacy_v2_compatible_wrapper.py', 'nova/tests/unit/api/openstack/compute/test_pci.py', 'nova/api/openstack/compute/shelve.py', 'nova/api/openstack/compute/migrations.py', 'nova/api/openstack/compute/ips.py', 'nova/api/openstack/compute/admin_password.py', 'nova/api/openstack/compute/server_usage.py', 'nova/api/openstack/compute/extended_status.py', 'nova/api/openstack/compute/flavors.py', 'nova/api/openstack/compute/quota_classes.py', 'nova/tests/unit/api/openstack/compute/basic.py', 'nova/api/openstack/compute/security_groups.py', 'nova/tests/unit/api/openstack/compute/test_api.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/api/openstack/compute/pause_server.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/api/openstack/compute/instance_usage_audit_log.py', 'nova/api/openstack/compute/lock_server.py', 'nova/api/openstack/compute/flavor_rxtx.py', 'nova/tests/unit/api/openstack/compute/test_config_drive.py', 'nova/api/openstack/compute/servers.py', 'nova/api/openstack/compute/flavors_extraspecs.py', 'nova/api/openstack/urlmap.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/api/openstack/compute/console_auth_tokens.py', 'nova/tests/unit/api/openstack/compute/test_used_limits.py']",107,6320680a72c3f5a9a35ad2a6bf7fd5dfbd5fcc3d,bp/remove-openstack-api-directory,from nova.api import wsgi,from nova.api.openstack import wsgi,112,111
openstack%2Fnova~master~Ide701d576ef7208e5dc4ae217e86703525685a38,openstack/nova,master,Ide701d576ef7208e5dc4ae217e86703525685a38,WIP - Move common.py,ABANDONED,2017-03-14 22:27:44.000000000,2017-08-01 09:54:19.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-14 22:27:44.000000000', 'files': ['nova/api/openstack/compute/remote_consoles.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/api/openstack/compute/networks_associate.py', 'nova/api/openstack/compute/views/keypairs.py', 'nova/api/openstack/compute/deferred_delete.py', 'nova/api/openstack/compute/flavor_access.py', 'nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/server_password.py', 'nova/api/openstack/compute/cells.py', 'nova/api/openstack/compute/console_output.py', 'nova/api/openstack/compute/server_groups.py', 'nova/api/openstack/compute/views/usages.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/test_common.py', 'nova/api/common.py', 'nova/api/openstack/compute/server_tags.py', 'nova/api/openstack/compute/views/server_tags.py', 'nova/api/openstack/compute/admin_actions.py', 'nova/api/openstack/compute/image_metadata.py', 'nova/api/openstack/compute/views/hypervisors.py', 'nova/api/openstack/compute/hosts.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_lock_server.py', 'nova/api/openstack/compute/suspend_server.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/api/openstack/compute/virtual_interfaces.py', 'nova/api/openstack/compute/create_backup.py', 'nova/api/openstack/compute/server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/api/openstack/compute/rescue.py', 'nova/tests/unit/api/openstack/compute/test_suspend_server.py', 'nova/api/openstack/compute/server_diagnostics.py', 'nova/tests/unit/api/openstack/compute/test_image_metadata.py', 'nova/api/openstack/compute/views/flavors.py', 'nova/api/openstack/compute/certificates.py', 'nova/api/openstack/compute/instance_actions.py', 'nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/api/openstack/compute/baremetal_nodes.py', 'nova/api/openstack/compute/shelve.py', 'nova/api/openstack/compute/keypairs.py', 'nova/api/openstack/compute/migrations.py', 'nova/api/openstack/compute/ips.py', 'nova/api/openstack/compute/admin_password.py', 'nova/api/openstack/compute/aggregates.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/compute/flavors.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/api/openstack/compute/security_groups.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/pause_server.py', 'nova/api/openstack/compute/views/versions.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/api/openstack/compute/multinic.py', 'nova/tests/unit/api/openstack/compute/test_pause_server.py', 'nova/api/openstack/compute/images.py', 'nova/api/openstack/compute/lock_server.py', 'nova/api/openstack/compute/server_migrations.py', 'nova/api/openstack/compute/fping.py', 'nova/api/openstack/compute/volumes.py', 'nova/api/openstack/compute/floating_ip_dns.py', 'nova/api/openstack/compute/servers.py', 'nova/api/openstack/compute/views/images.py', 'nova/tests/unit/api/openstack/compute/test_server_tags.py', 'nova/tests/unit/api/openstack/compute/test_admin_password.py', 'nova/api/openstack/compute/flavors_extraspecs.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/tests/fixtures.py', 'nova/api/openstack/compute/networks.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py', 'nova/api/openstack/compute/views/addresses.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/131389d20b2cfd52d8a80a93cfd22d217b2d841c', 'message': 'WIP - Move common.py\n\nMove nova/api/openstack/common.py to the nova/api directory, and update\nany references to it.\n\nBlueprint: remove-openstack-api-directory\n\nChange-Id: Ide701d576ef7208e5dc4ae217e86703525685a38\n'}]",0,445668,131389d20b2cfd52d8a80a93cfd22d217b2d841c,15,13,1,1063,,,0,"WIP - Move common.py

Move nova/api/openstack/common.py to the nova/api directory, and update
any references to it.

Blueprint: remove-openstack-api-directory

Change-Id: Ide701d576ef7208e5dc4ae217e86703525685a38
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/445668/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/remote_consoles.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/api/openstack/compute/networks_associate.py', 'nova/api/openstack/compute/views/keypairs.py', 'nova/api/openstack/compute/deferred_delete.py', 'nova/api/openstack/compute/flavor_access.py', 'nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/server_password.py', 'nova/api/openstack/compute/cells.py', 'nova/api/openstack/compute/console_output.py', 'nova/api/openstack/compute/server_groups.py', 'nova/api/openstack/compute/views/usages.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/test_common.py', 'nova/api/common.py', 'nova/api/openstack/compute/server_tags.py', 'nova/api/openstack/compute/views/server_tags.py', 'nova/api/openstack/compute/admin_actions.py', 'nova/api/openstack/compute/image_metadata.py', 'nova/api/openstack/compute/views/hypervisors.py', 'nova/api/openstack/compute/hosts.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_lock_server.py', 'nova/api/openstack/compute/suspend_server.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/api/openstack/compute/virtual_interfaces.py', 'nova/api/openstack/compute/create_backup.py', 'nova/api/openstack/compute/server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/api/openstack/compute/rescue.py', 'nova/tests/unit/api/openstack/compute/test_suspend_server.py', 'nova/api/openstack/compute/server_diagnostics.py', 'nova/tests/unit/api/openstack/compute/test_image_metadata.py', 'nova/api/openstack/compute/views/flavors.py', 'nova/api/openstack/compute/certificates.py', 'nova/api/openstack/compute/instance_actions.py', 'nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/api/openstack/compute/baremetal_nodes.py', 'nova/api/openstack/compute/shelve.py', 'nova/api/openstack/compute/keypairs.py', 'nova/api/openstack/compute/migrations.py', 'nova/api/openstack/compute/ips.py', 'nova/api/openstack/compute/admin_password.py', 'nova/api/openstack/compute/aggregates.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/compute/flavors.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/api/openstack/compute/security_groups.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/pause_server.py', 'nova/api/openstack/compute/views/versions.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/api/openstack/compute/multinic.py', 'nova/tests/unit/api/openstack/compute/test_pause_server.py', 'nova/api/openstack/compute/images.py', 'nova/api/openstack/compute/lock_server.py', 'nova/api/openstack/compute/server_migrations.py', 'nova/api/openstack/compute/fping.py', 'nova/api/openstack/compute/volumes.py', 'nova/api/openstack/compute/floating_ip_dns.py', 'nova/api/openstack/compute/servers.py', 'nova/api/openstack/compute/views/images.py', 'nova/tests/unit/api/openstack/compute/test_server_tags.py', 'nova/tests/unit/api/openstack/compute/test_admin_password.py', 'nova/api/openstack/compute/flavors_extraspecs.py', 'nova/api/openstack/compute/attach_interfaces.py', 'nova/tests/fixtures.py', 'nova/api/openstack/compute/networks.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py', 'nova/api/openstack/compute/views/addresses.py']",74,131389d20b2cfd52d8a80a93cfd22d217b2d841c,bp/remove-openstack-api-directory,from nova.api import common,from nova.api.openstack import common,128,130
openstack%2Fnova~master~I5f584471630ebca91823b9fc23f9e3a9e152150e,openstack/nova,master,I5f584471630ebca91823b9fc23f9e3a9e152150e,WIP - move api_version_request,ABANDONED,2017-03-14 22:27:44.000000000,2017-08-01 09:54:18.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-14 22:27:44.000000000', 'files': ['nova/api/openstack/compute/floating_ips_bulk.py', 'nova/api/openstack/compute/networks_associate.py', 'nova/api/openstack/compute/block_device_mapping.py', 'nova/api/openstack/compute/flavor_access.py', 'nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/extended_volumes.py', 'nova/api/openstack/compute/server_groups.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/extended_server_attributes.py', 'nova/api/openstack/compute/image_metadata.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/api/openstack/compute/versions.py', 'nova/api/api_version_request.py', 'nova/tests/unit/api/openstack/compute/test_fixed_ips.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/virtual_interfaces.py', 'nova/api/openstack/compute/create_backup.py', 'nova/api/openstack/compute/quota_sets.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/api/openstack/compute/security_group_default_rules.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/api/validation/__init__.py', 'nova/api/openstack/compute/used_limits.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/api/openstack/compute/limits.py', 'nova/api/openstack/compute/services.py', 'nova/tests/unit/api/openstack/compute/test_console_auth_tokens.py', 'nova/api/openstack/compute/baremetal_nodes.py', 'nova/api/openstack/compute/keypairs.py', 'nova/api/openstack/compute/migrations.py', 'nova/api/openstack/compute/aggregates.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/compute/floating_ip_pools.py', 'nova/tests/unit/test_api_validation.py', 'nova/tests/unit/api/openstack/compute/test_versions.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'nova/api/openstack/compute/security_groups.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/compute/test_virtual_interfaces.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/api/openstack/compute/images.py', 'nova/api/openstack/compute/fping.py', 'nova/api/openstack/compute/volumes.py', 'nova/api/openstack/compute/floating_ip_dns.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/api/test_api_version_request.py', 'nova/tests/functional/api_sample_tests/test_versions.py', 'nova/api/openstack/compute/networks.py', 'nova/tests/unit/api/openstack/compute/test_used_limits.py', 'nova/api/openstack/compute/fixed_ips.py', 'nova/api/wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ae6c6b5b273ac755ffa5d4e21e2b229c286317a0', 'message': 'WIP - move api_version_request\n\nMove the file nova/api/openstack/api_version_request to the nova/api\ndirectory, and update any references to it.\n\nBlueprint: remove-openstack-api-directory\n\nChange-Id: I5f584471630ebca91823b9fc23f9e3a9e152150e\n'}]",0,445669,ae6c6b5b273ac755ffa5d4e21e2b229c286317a0,15,13,1,1063,,,0,"WIP - move api_version_request

Move the file nova/api/openstack/api_version_request to the nova/api
directory, and update any references to it.

Blueprint: remove-openstack-api-directory

Change-Id: I5f584471630ebca91823b9fc23f9e3a9e152150e
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/445669/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/floating_ips_bulk.py', 'nova/api/openstack/compute/networks_associate.py', 'nova/api/openstack/compute/block_device_mapping.py', 'nova/api/openstack/compute/flavor_access.py', 'nova/api/openstack/compute/views/servers.py', 'nova/api/openstack/compute/extended_volumes.py', 'nova/api/openstack/compute/server_groups.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/api/openstack/compute/extended_server_attributes.py', 'nova/api/openstack/compute/image_metadata.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/api/openstack/compute/versions.py', 'nova/api/api_version_request.py', 'nova/tests/unit/api/openstack/compute/test_fixed_ips.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/virtual_interfaces.py', 'nova/api/openstack/compute/create_backup.py', 'nova/api/openstack/compute/quota_sets.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/api/openstack/compute/security_group_default_rules.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/api/validation/__init__.py', 'nova/api/openstack/compute/used_limits.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/api/openstack/compute/limits.py', 'nova/api/openstack/compute/services.py', 'nova/tests/unit/api/openstack/compute/test_console_auth_tokens.py', 'nova/api/openstack/compute/baremetal_nodes.py', 'nova/api/openstack/compute/keypairs.py', 'nova/api/openstack/compute/migrations.py', 'nova/api/openstack/compute/aggregates.py', 'nova/api/openstack/compute/evacuate.py', 'nova/api/openstack/compute/floating_ip_pools.py', 'nova/tests/unit/test_api_validation.py', 'nova/tests/unit/api/openstack/compute/test_versions.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'nova/api/openstack/compute/security_groups.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/compute/test_virtual_interfaces.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/api/openstack/compute/images.py', 'nova/api/openstack/compute/fping.py', 'nova/api/openstack/compute/volumes.py', 'nova/api/openstack/compute/floating_ip_dns.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/api/test_api_version_request.py', 'nova/tests/functional/api_sample_tests/test_versions.py', 'nova/api/openstack/compute/networks.py', 'nova/tests/unit/api/openstack/compute/test_used_limits.py', 'nova/api/openstack/compute/fixed_ips.py', 'nova/api/wsgi.py']",56,ae6c6b5b273ac755ffa5d4e21e2b229c286317a0,bp/remove-openstack-api-directory,from nova.api import api_version_request as api_version,from nova.api.openstack import api_version_request as api_version,77,98
openstack%2Fnova~master~I5f1e38d0275054c8c80b220a8ec343341fde10d2,openstack/nova,master,I5f1e38d0275054c8c80b220a8ec343341fde10d2,WIP: allow owner to retrieve some data by default,ABANDONED,2017-03-15 09:39:18.000000000,2017-08-01 09:54:16.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6062}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-15 09:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dff350f36d577b7ccd193b5fb54639f6c035ced8', 'message': 'WIP: allow owner to retrieve some data by default\n\nChange-Id: I5f1e38d0275054c8c80b220a8ec343341fde10d2\n'}, {'number': 2, 'created': '2017-03-15 09:41:32.000000000', 'files': ['nova/policies/extended_server_attributes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d9e3152537e38086394a00c195f192309fe580f1', 'message': 'WIP: allow owner to retrieve some data by default\n\nCloses-Bug: 1670978\nChange-Id: I5f1e38d0275054c8c80b220a8ec343341fde10d2\n'}]",0,445844,d9e3152537e38086394a00c195f192309fe580f1,18,14,2,6062,,,0,"WIP: allow owner to retrieve some data by default

Closes-Bug: 1670978
Change-Id: I5f1e38d0275054c8c80b220a8ec343341fde10d2
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/445844/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/extended_server_attributes.py'],1,dff350f36d577b7ccd193b5fb54639f6c035ced8,bug/1670978," check_str=base.RULE_ADMIN_OR_OWNER),"," check_str=base.RULE_ADMIN_API),",1,1
openstack%2Fnova~master~Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363,openstack/nova,master,Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363,libvirt: live-migrate updates NUMA and cpus in the XML,ABANDONED,2016-03-01 17:49:46.000000000,2017-08-01 09:54:15.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7730}, {'_account_id': 8768}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12299}, {'_account_id': 12712}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17973}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-03-01 17:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06c0eca8abf968fce2f43432e7c55040a675f3a7', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA porperties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have porper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instances' XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\n""}, {'number': 2, 'created': '2016-03-03 17:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88ee8fb72978fc789de82930ea685c4f50029225', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\n""}, {'number': 3, 'created': '2016-03-08 15:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f8de11115eeb85796380769ab2b005173db8860', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\n""}, {'number': 4, 'created': '2016-03-09 13:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38121357cb55b2b2a81cfea1c5a0d62e4a6c6d98', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\n""}, {'number': 5, 'created': '2016-03-29 16:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e9e2a5c4c7bde626564e5c5733a2567e6837e6e', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n""}, {'number': 6, 'created': '2016-03-30 12:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab55634c989a47e9affdaa88530ed85d004a5c3b', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n""}, {'number': 7, 'created': '2016-04-12 11:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a5de17a82fa3d377d943af652760e2782f4e945', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n""}, {'number': 8, 'created': '2016-04-13 10:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0110d291cca55bbc84cce8a63613a7b36cd5fdf1', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n""}, {'number': 9, 'created': '2016-06-13 13:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2788d5dffd2e60b0c36960767e75171472f60d5', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n""}, {'number': 10, 'created': '2016-06-15 13:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fe67e110c46f519202e978eceb40973661bf3fd', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n""}, {'number': 11, 'created': '2016-06-15 16:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3525be3e172e06d286eec6a6d9c808ffe5114024', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n""}, {'number': 12, 'created': '2016-06-16 08:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c67231077e5eed72064b67c5b9c16f1767f9cc13', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n""}, {'number': 13, 'created': '2016-06-16 10:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f69b19d121765f444206323815d7eeab97fb3c1e', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n""}, {'number': 14, 'created': '2016-07-06 08:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dff9e70677f9bac7f69a9c3eff5679f009491da5', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\n""}, {'number': 15, 'created': '2016-07-07 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dabe29f8dd2bcd35e5a47bc4e52a46acf83fe5e1', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\n""}, {'number': 16, 'created': '2016-07-12 13:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/085d14453e2d05f8c8d9d87593a3ecd63cf93762', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\n""}, {'number': 17, 'created': '2016-07-19 09:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a01dec0e47937fcab1773963ba9ccd6050b5623', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\n""}, {'number': 18, 'created': '2016-07-21 08:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/769872f504fe6f3c8a0602c54e590b1afb50f4ab', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\n""}, {'number': 19, 'created': '2016-07-21 10:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/132feffd44c026e6b1627dc3a034b0257066313b', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\n""}, {'number': 20, 'created': '2016-07-21 10:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/226f19876a1f199836d675bf12ce375fc61d10ef', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\n""}, {'number': 21, 'created': '2016-08-31 10:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a299097d66a05715929c4be8d0dbbdf25879300b', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\n""}, {'number': 22, 'created': '2016-08-31 12:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/675863b18cef2b2b011a20d190ccd3f059907fdd', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\n""}, {'number': 23, 'created': '2016-09-07 14:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/031afaf80f18c0e2563067b788b11747eab2db33', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCloses-bug: 1417667\nCloses-bug: 1289064\nCloses-bug: 1496135\nCloses-bug: 1607996\n""}, {'number': 24, 'created': '2016-10-06 13:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfc83ab0a5404285ec9b9ac74af923234be85964', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCloses-bug: #1417667\nCloses-bug: #1289064\nCloses-bug: #1496135\nCloses-bug: #1607996\n""}, {'number': 25, 'created': '2016-12-27 15:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/494444c18c8b1a9b1f618b182e1f79899f1d7660', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCo-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>\nRelated-bug: #1417667\nCloses-bug: #1289064\nRelated-bug: #1496135\n""}, {'number': 26, 'created': '2016-12-27 15:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49b0bec2f2122c33f18a8b215da56b84ae1e8b63', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCo-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>\nRelated-bug: #1417667\nCloses-bug: #1289064\nRelated-bug: #1496135\n""}, {'number': 27, 'created': '2017-01-05 09:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8eb3426616d2213c33e4833083918b7d5d092146', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCo-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>\nRelated-bug: #1417667\nCloses-bug: #1289064\nRelated-bug: #1496135\n""}, {'number': 28, 'created': '2017-01-16 15:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5c3cab5daa025645bd873efbfcd0cdd79f58473', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCo-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>\nRelated-bug: #1417667\nCloses-bug: #1289064\nRelated-bug: #1496135\n""}, {'number': 29, 'created': '2017-01-20 10:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99701c9bb85750ec81c786491fe81928be11af7d', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCo-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>\nRelated-bug: #1417667\nCloses-bug: #1289064\nRelated-bug: #1496135\n""}, {'number': 30, 'created': '2017-01-23 08:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3ec05313efd5a4776b29eef5a002fb57e579cc1', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCo-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>\nRelated-bug: #1417667\nCloses-bug: #1289064\nRelated-bug: #1496135\n""}, {'number': 31, 'created': '2017-01-23 14:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8d2bf46a8f0350d3f111e90619cea61bce9bd5e', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCo-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>\nRelated-bug: #1417667\nCloses-bug: #1289064\nRelated-bug: #1496135\n""}, {'number': 32, 'created': '2017-02-09 15:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f1283a1e122d84d3e715444321c186e45db5dbc', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCo-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>\nRelated-bug: #1417667\nCloses-bug: #1289064\nRelated-bug: #1496135\n""}, {'number': 33, 'created': '2017-03-01 07:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ecf6b07d42e1009c30c343c7cae7819013d875d', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCo-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>\nRelated-bug: #1417667\nCloses-bug: #1289064\nRelated-bug: #1496135\n""}, {'number': 34, 'created': '2017-03-14 10:07:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9e45f2f2fe97c7ffd9c07543e1c578f1e24fea80', 'message': ""libvirt: live-migrate updates NUMA and cpus in the XML\n\nThis patch builds upon previous work done around properly setting the\nNUMA topology data when the instance changes host (either via evacuate\nor live-migrate).\n\nIn live migrate case for libvirt, since there is no re-spawn, we need\nto update the instance XML before calling either migrateToURI2 or\nmigrateToURI3. Previously this was not done, and the result was that\nlive-migrating instance that has NUMA properties would either work by\naccident but really break any policy that was set when the instance was\nspawned, or the instance would fail to start on the target host.\n\nSince now we have proper claims for resources as part of the\nlive-migration, it is possible to use the claimed data to update the\nrunning instance's XML and pass it on.\n\nChange-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363\nCo-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>\nCo-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>\nRelated-bug: #1417667\nCloses-bug: #1289064\nRelated-bug: #1496135\n""}]",37,286744,9e45f2f2fe97c7ffd9c07543e1c578f1e24fea80,393,31,34,5511,,,0,"libvirt: live-migrate updates NUMA and cpus in the XML

This patch builds upon previous work done around properly setting the
NUMA topology data when the instance changes host (either via evacuate
or live-migrate).

In live migrate case for libvirt, since there is no re-spawn, we need
to update the instance XML before calling either migrateToURI2 or
migrateToURI3. Previously this was not done, and the result was that
live-migrating instance that has NUMA properties would either work by
accident but really break any policy that was set when the instance was
spawned, or the instance would fail to start on the target host.

Since now we have proper claims for resources as part of the
live-migration, it is possible to use the claimed data to update the
running instance's XML and pass it on.

Change-Id: Ibb2d8caf9898dd776c2b1d3f15a0d81cbf222363
Co-Authored-By: Sahid Ferdjaoui <sahid.ferdjaoui@redhat.com>
Co-Authored-By: Pawel Koniszewski <pawel.koniszewski@intel.com>
Related-bug: #1417667
Closes-bug: #1289064
Related-bug: #1496135
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/286744/27 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,06c0eca8abf968fce2f43432e7c55040a675f3a7,bug/1417667," @mock.patch.object(libvirt_driver.LibvirtDriver, '_get_guest_cpu_config', return_value=None) def test_live_migration_update_graphics_xml(self, mock_cpu_config): ""<vcpu>1</vcpu>"" mupdate.assert_called_once_with(target_xml, migrate_data, instance_ref) @mock.patch.object(libvirt_driver.LibvirtDriver, '_get_guest_cpu_config', return_value=None) @mock.patch.object(objects.ImageMeta, ""from_instance"") mock_migrate, mock_image_meta, mock_cpu_config): inst_dict = self.test_instance instance_ref = fake_instance.fake_instance_obj(self.context, **inst_dict) instance_ref.numa_topology = None image_meta = objects.ImageMeta() image_meta_props = objects.ImageMetaProps() image_meta.properties = image_meta_props ""<vcpu>1</vcpu>"" mock_image_meta.return_value = image_meta @mock.patch.object(objects.ImageMeta, ""from_instance"") @mock.patch.object(fakelibvirt.virDomain, ""migrateToURI2"") @mock.patch.object(fakelibvirt.virDomain, ""XMLDesc"") @mock.patch.object(libvirt_driver.LibvirtDriver, ""_get_host_numa_topology"") @mock.patch.object(libvirt_driver.LibvirtDriver, ""_has_numa_support"", return_value=True) @mock.patch.object(libvirt_driver.LibvirtDriver, ""_has_hugepage_support"", return_value=True) def test_live_migration_update_numa_xml(self, mock_hp_support, mock_numa_support, mock_host_numa, mock_xml, mock_migrate, mock_image_meta): xml_old = ('<domain type=""kvm"">' '<memory unit=""KiB"">4194304</memory>' '<vcpu cpuset=""1-4"">4</vcpu>' '<cputune>' '<vcpupin vcpu=""0"" cpuset=""0""/>' '<vcpupin vcpu=""1"" cpuset=""1""/>' '<vcpupin vcpu=""2"" cpuset=""2""/>' '<vcpupin vcpu=""3"" cpuset=""3""/>' '<emulatorpin cpuset=""1-3""/>' '</cputune>' '<numatune>' '<memory mode=""strict"" nodeset=""0""/>' '<memnode cellid=""0"" mode=""strict"" nodeset=""0""/>' '</numatune>' '<memoryBacking>' '<hugepages>' '<page size=""1"" unit=""G"" nodeset=""0""/>' '</hugepages>' '<nosharepages/>' '</memoryBacking>' '<cpu mode=""host-model"" match=""exact"">' '<topology sockets=""1"" cores=""1"" threads=""1""/>' '<numa>' '<cell id=""0"" cpus=""0-3"" memory=""4194304"" memAccess=""shared""/>' '</numa>' '</cpu>' '</domain>') instance_topology = objects.InstanceNUMATopology( cells=[ objects.InstanceNUMACell( id=1, cpuset=set([0, 1, 2, 3]), memory=4096, cpu_policy=fields.CPUAllocationPolicy.DEDICATED, cpu_pinning={0: 4, 1: 5, 2: 6, 3: 7}, pagesize=2048)]) host_topology = objects.NUMATopology( cells = [objects.NUMACell( id=0, cpuset=set([0, 1, 2, 3]), memory=1024, mempages=[ objects.NUMAPagesTopology(size_kb=4, total=256, used=0), objects.NUMAPagesTopology(size_kb=2048, total=512, used=0) ], siblings=[], pinned_cpus=set([])), objects.NUMACell( id=1, cpuset=set([4, 5, 6, 7]), memory=1024, mempages=[ objects.NUMAPagesTopology(size_kb=4, total=256, used=0), objects.NUMAPagesTopology(size_kb=2048, total=512, used=0) ], siblings=[], pinned_cpus=set([]))]) xml_new = ('<domain type=""kvm"">' '<memory unit=""KiB"">4194304</memory>' '<vcpu>4</vcpu>' '<cputune>' '<emulatorpin cpuset=""4-7""/>' '<vcpupin vcpu=""0"" cpuset=""4""/>' '<vcpupin vcpu=""1"" cpuset=""5""/>' '<vcpupin vcpu=""2"" cpuset=""6""/>' '<vcpupin vcpu=""3"" cpuset=""7""/>' '</cputune>' '<numatune>' '<memory mode=""strict"" nodeset=""1""/>' '<memnode cellid=""0"" mode=""strict"" nodeset=""1""/>' '</numatune>' '<memoryBacking>' '<hugepages>' '<page size=""2048"" nodeset=""0"" unit=""KiB""/>' '</hugepages>' '</memoryBacking>' '<cpu mode=""host-model"" match=""exact"">' '<topology sockets=""4"" cores=""1"" threads=""1""/>' '<numa>' '<cell id=""0"" cpus=""0-3"" memory=""4194304"" memAccess=""shared""/>' '</numa>' '</cpu>' '</domain>') xml_new = etree.tostring(etree.fromstring(xml_new)) migrate_data = objects.LibvirtLiveMigrateData( graphics_listen_addr_vnc=None, graphics_listen_addr_spice=None, serial_listen_addr=None, target_connect_addr=None, bdms=[]) instance = fake_instance.fake_instance_obj(self.context) image_meta = objects.ImageMeta() image_meta_props = objects.ImageMetaProps() image_meta.properties = image_meta_props instance.numa_topology = instance_topology instance.flavor.vcpus = 4 dom = fakelibvirt.virDomain mock_xml.return_value = xml_old mock_host_numa.return_value = host_topology mock_image_meta.return_value = image_meta drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._live_migration_operation(self.context, instance, 'dest', False, migrate_data, dom, []) mock_migrate.assert_called_once_with(mock.ANY, None, xml_new, mock.ANY, None, mock.ANY) self.mox.StubOutWithMock(drvr, '_update_xml')"," def test_live_migration_update_graphics_xml(self): mupdate.assert_called_once_with(target_xml, migrate_data) mock_migrate): instance_ref = self.test_instance",188,9
openstack%2Fnova~master~Ic80b49f04511507f70daec9e52eb147832cf6592,openstack/nova,master,Ic80b49f04511507f70daec9e52eb147832cf6592,libvirt: pass libvirt reference methods to migration,ABANDONED,2016-06-13 13:14:13.000000000,2017-08-01 09:54:14.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12299}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-06-13 13:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de78d3610075726f5dbfcccf36920ad366c7b256', 'message': 'libvirt: pass a reference of libvirt driver to migration\n\nIn future the migration module can need more than the method\nget_volume_config.\nThis commit replaces in the methode update_guest_xml the argument\nget_volume_config by a reference to the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 2, 'created': '2016-06-15 13:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/582084504c5c074b61df940c68da5e11aedd4f85', 'message': 'libvirt: pass a reference of libvirt driver to migration\n\nIn future the migration module can need more than the method\nget_volume_config.\nThis commit replaces in the methode update_guest_xml the argument\nget_volume_config by a reference to the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 3, 'created': '2016-06-15 16:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/938af4a67844681d4b497c6763a482991cfa2d78', 'message': 'libvirt: pass a reference of libvirt driver to migration\n\nIn future the migration module can need more than the method\nget_volume_config.\nThis commit replaces in the methode update_guest_xml the argument\nget_volume_config by a reference to the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 4, 'created': '2016-06-16 08:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c50e24e953d5b31feeaf3ec6fadfa1854114d13d', 'message': 'libvirt: pass a reference of libvirt driver to migration\n\nIn future the migration module can need more than the method\nget_volume_config.\nThis commit replaces in the methode update_guest_xml the argument\nget_volume_config by a reference to the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 5, 'created': '2016-06-16 10:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac6b206749e2ba3b3878d7a3226ed75de3f663f4', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 6, 'created': '2016-07-06 08:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2613ede78c829b7391c7c9890d3f889856424c09', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 7, 'created': '2016-07-07 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aec5842c530e76d3035133481ed2b187294289bb', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 8, 'created': '2016-07-12 13:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72d4acb78241ed5e773c3724650270aeb454659f', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 9, 'created': '2016-07-19 09:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bcd4fb79cb9facc34954d3bb491c13c37108fb1', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 10, 'created': '2016-07-21 08:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7240d24b87f8e27dec4429eae27997d581eb84b3', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 11, 'created': '2016-07-21 10:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2a2da6a29f1e00ebacb78f35710ac8cfb6e9567', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 12, 'created': '2016-07-21 10:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5577095eac6341c4f7b253ec829a5c12db6f3b93', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 13, 'created': '2016-08-31 10:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a93991e19a1778cc80cf20ea2ab70bff64810669', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 14, 'created': '2016-08-31 12:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1d357cd27ad4d8e16014c2fc2b352c7cf4b5a40', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 15, 'created': '2016-09-07 14:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b04c9c8e4d4dcd909a9f9a4e88648cb4af1d4498', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 16, 'created': '2016-10-06 13:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fae64f691da3c743736139c547e9fd2300793a4', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 17, 'created': '2016-12-27 15:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c29d8154fb7e09b1ce866bb96a04550efff668a', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 18, 'created': '2016-12-27 15:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20c958c5930f56ad37f20da1f12a87ea0d4d4ea9', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 19, 'created': '2017-01-05 09:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92570ceeb0725e97aac86a2bd47cfac28e16ada3', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 20, 'created': '2017-01-16 15:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/038930cc31cb8775cb8309a8144514ecdf06dc09', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 21, 'created': '2017-01-20 10:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ffe61e2d2c0f4001f34797240687dadaf51ecac', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 22, 'created': '2017-01-23 08:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f6a41dcf9247e8622692560634ead9cf2643988', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 23, 'created': '2017-01-23 14:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9377d9d8106a181b71f32c80325e39e1f5b856f9', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 24, 'created': '2017-02-09 15:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ac1cda32343a93ec86a0eb557ead330078a28e3', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 25, 'created': '2017-03-01 07:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5416951bbb7d91cc43c0be30d12de4fa90ff7fe', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}, {'number': 26, 'created': '2017-03-14 10:07:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30be2ff41813d4dade92e388d2ca82f452a0f272', 'message': 'libvirt: pass libvirt reference methods to migration\n\nIn future the migration module can need more than the method\nget_volume_config. This commit replaces in the method update_guest_xml\nthe argument get_volume_config by a well defined datastructure of\nreferenced method of the driver.\n\nChange-Id: Ic80b49f04511507f70daec9e52eb147832cf6592\n'}]",9,328997,30be2ff41813d4dade92e388d2ca82f452a0f272,281,26,26,7730,,,0,"libvirt: pass libvirt reference methods to migration

In future the migration module can need more than the method
get_volume_config. This commit replaces in the method update_guest_xml
the argument get_volume_config by a well defined datastructure of
referenced method of the driver.

Change-Id: Ic80b49f04511507f70daec9e52eb147832cf6592
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/328997/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,de78d3610075726f5dbfcccf36920ad366c7b256,bug/1417667, drvr) drvr) drvr), drvr._get_volume_config) drvr._get_volume_config) drvr._get_volume_config),13,15
openstack%2Fnova~master~I8cd93b055dc6e2c48a0dfbc4e4e0f8946cc15c7d,openstack/nova,master,I8cd93b055dc6e2c48a0dfbc4e4e0f8946cc15c7d,WIP - move compute directory,ABANDONED,2017-03-14 22:27:44.000000000,2017-08-01 09:54:13.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-14 22:27:44.000000000', 'files': ['nova/api/compute/schemas/hosts.py', 'nova/tests/unit/api/compute/test_user_data.py', 'nova/api/compute/cells.py', 'nova/api/compute/views/flavors.py', 'nova/tests/unit/api/compute/test_extensions.py', 'nova/api/compute/schemas/flavor_manage.py', 'nova/tests/api/test_pci.py', 'nova/tests/api/test_security_groups.py', 'nova/tests/functional/api_sample_tests/test_networks.py', 'nova/tests/api/test_shelve.py', 'nova/tests/unit/api/compute/test_tenant_networks.py', 'nova/tests/api/test_fixed_ips.py', 'nova/tests/unit/api/compute/test_microversions.py', 'nova/tests/api/test_certificates.py', 'nova/tests/api/test_create_backup.py', 'nova/tests/api/test_disk_config.py', 'nova/tests/api/test_migrations.py', 'nova/tests/unit/api/compute/test_pci.py', 'nova/api/compute/used_limits.py', 'nova/api/compute/__init__.py', 'nova/api/compute/schemas/assisted_volume_snapshots.py', 'nova/api/compute/extended_availability_zone.py', 'nova/tests/api/test_extension_info.py', 'nova/tests/unit/api/compute/test_fixed_ips.py', 'nova/tests/api/test_agents.py', 'nova/tests/unit/api/compute/test_multiple_create.py', 'nova/tests/api/test_multiple_create.py', 'nova/tests/unit/api/compute/test_extended_ips_mac.py', 'nova/tests/api/test_networks.py', 'nova/tests/api/test_limits.py', 'nova/tests/api/test_pause_server.py', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/api/compute/schemas/scheduler_hints.py', 'nova/tests/unit/api/compute/test_extended_server_attributes.py', 'nova/tests/unit/test_hacking.py', 'nova/api/compute/views/versions.py', 'nova/tests/api/test_config_drive.py', 'nova/api/compute/schemas/console_output.py', 'nova/tests/api/test_console_auth_tokens.py', 'nova/tests/api/test_remote_consoles.py', 'nova/tests/api/test_simple_tenant_usage.py', 'nova/tests/unit/api/compute/test_flavors.py', 'nova/tests/unit/api/compute/test_remote_consoles.py', 'nova/api/compute/server_metadata.py', 'nova/tests/api/test_cells.py', 'nova/tests/unit/api/compute/test_serversV21.py', 'nova/api/compute/floating_ips_bulk.py', 'nova/api/compute/networks_associate.py', 'nova/tests/api/test_floating_ip_dns.py', 'nova/tests/api/legacy_v2/extensions/foxinsocks.py', 'nova/tests/unit/api/compute/test_disk_config.py', 'nova/api/compute/views/limits.py', 'nova/tests/unit/api/compute/test_suspend_server.py', 'nova/tests/api/test_evacuate.py', 'nova/tests/unit/api/compute/dummy_schema.py', 'nova/tests/functional/api_sample_tests/test_baremetal_nodes.py', 'nova/tests/unit/api/compute/test_admin_actions.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/unit/api/compute/test_server_group_quotas.py', 'nova/tests/unit/api/compute/test_evacuate.py', 'nova/tests/api/test_multinic.py', 'nova/tests/api/test_user_data.py', 'nova/tests/api/test_access_ips.py', 'nova/tests/unit/api/compute/test_flavor_disabled.py', 'nova/tests/unit/api/compute/test_multinic.py', 'nova/api/compute/views/images.py', 'nova/tests/api/test_suspend_server.py', 'nova/api/compute/flavors_extraspecs.py', 'nova/tests/api/test_hypervisors.py', 'nova/tests/api/test_volumes.py', 'nova/api/compute/versionsV21.py', 'nova/tests/unit/api/compute/test_aggregates.py', 'nova/api/compute/schemas/server_migrations.py', 'nova/tests/unit/api/compute/test_instance_usage_audit_log.py', 'nova/tests/unit/api/compute/test_create_backup.py', 'nova/api/compute/schemas/networks_associate.py', 'nova/tests/api/test_availability_zone.py', 'nova/tests/functional/api_sample_tests/test_fping.py', 'nova/tests/api/__init__.py', 'nova/tests/functional/test_legacy_v2_compatible_wrapper.py', 'nova/tests/api/test_hide_server_addresses.py', 'nova/tests/unit/api/compute/test_server_diagnostics.py', 'nova/tests/api/test_cloudpipe_update.py', 'nova/tests/unit/api/compute/test_virtual_interfaces.py', 'nova/tests/unit/api/compute/test_image_size.py', 'nova/api/compute/extension_info.py', 'nova/tests/unit/api/compute/test_image_metadata.py', 'nova/tests/unit/api/compute/test_hypervisors.py', 'nova/api/compute/schemas/quota_classes.py', 'nova/tests/api/test_server_group_quotas.py', 'nova/tests/unit/api/compute/test_flavor_swap.py', 'nova/api/compute/extended_server_attributes.py', 'nova/api/compute/schemas/cells.py', 'nova/api/compute/schemas/__init__.py', 'nova/api/compute/tenant_networks.py', 'nova/tests/api/legacy_v2/extensions/__init__.py', 'nova/api/compute/schemas/networks.py', 'nova/api/compute/block_device_mapping_v1.py', 'nova/api/compute/views/usages.py', 'nova/tests/api/test_consoles.py', 'nova/api/compute/flavors.py', 'nova/tests/unit/api/compute/basic.py', 'nova/tests/unit/api/compute/test_quotas.py', 'nova/tests/api/test_services.py', 'nova/api/compute/flavor_manage.py', 'nova/tests/api/test_flavor_rxtx.py', 'nova/tests/unit/api/compute/test_simple_tenant_usage.py', 'nova/tests/unit/api/compute/test_cloudpipe.py', 'nova/api/compute/lock_server.py', 'nova/api/compute/schemas/migrate_server.py', 'nova/tests/api/test_baremetal_nodes.py', 'nova/tests/api/test_flavor_disabled.py', 'nova/tests/unit/api/compute/test_extended_volumes.py', 'nova/tests/unit/api/compute/test_shelve.py', 'nova/api/compute/schemas/server_groups.py', 'nova/tests/unit/api/compute/test_images.py', 'nova/api/compute/services.py', 'nova/api/compute/schemas/evacuate.py', 'nova/tests/unit/api/compute/test_versions.py', 'nova/api/compute/multiple_create.py', 'nova/api/compute/server_tags.py', 'nova/tests/unit/api/compute/test_flavor_rxtx.py', 'nova/tests/unit/api/compute/test_auth.py', 'nova/api/compute/schemas/create_backup.py', 'nova/api/compute/baremetal_nodes.py', 'nova/api/compute/remote_consoles.py', 'nova/api/compute/schemas/attach_interfaces.py', 'nova/tests/api/test_hosts.py', 'nova/tests/unit/api/compute/test_limits.py', 'nova/api/compute/migrate_server.py', 'nova/tests/api/test_attach_interfaces.py', 'nova/tests/api/dummy_schema.py', 'nova/api/compute/instance_actions.py', 'nova/tests/unit/api/compute/test_admin_password.py', 'nova/tests/api/legacy_v2/__init__.py', 'nova/api/compute/aggregates.py', 'nova/api/compute/schemas/floating_ip_dns.py', 'nova/tests/unit/api/compute/test_flavors_extra_specs.py', 'nova/tests/api/test_cloudpipe.py', 'nova/tests/unit/api/compute/test_server_password.py', 'nova/api/compute/schemas/flavors_extraspecs.py', 'nova/api/compute/schemas/flavor_access.py', 'nova/api/compute/schemas/remote_consoles.py', 'nova/tests/unit/api/compute/test_snapshots.py', 'nova/api/compute/config_drive.py', 'nova/api/compute/server_usage.py', 'nova/tests/api/test_keypairs.py', 'nova/tests/unit/api/compute/test_floating_ip_pools.py', 'nova/api/compute/schemas/server_tags.py', 'nova/tests/unit/api/compute/test_scheduler_hints.py', 'nova/api/compute/schemas/admin_password.py', 'nova/api/compute/schemas/config_drive.py', 'nova/tests/api/test_flavors.py', 'nova/tests/api/test_used_limits.py', 'nova/api/compute/instance_usage_audit_log.py', 'nova/tests/unit/api/compute/test_server_reset_state.py', 'nova/api/compute/schemas/multiple_create.py', 'nova/tests/api/test_console_output.py', 'nova/api/compute/hypervisors.py', 'nova/tests/unit/api/compute/test_cells.py', 'nova/tests/unit/api/compute/test_security_groups.py', 'nova/tests/api/test_tenant_networks.py', 'nova/api/compute/schemas/aggregates.py', 'nova/tests/api/microversions.py', 'nova/tests/api/test_plugin_framework.py', 'nova/tests/api/basic.py', 'nova/tests/unit/api/compute/test_extended_availability_zone.py', 'nova/tests/unit/api/compute/test_flavorextradata.py', 'nova/tests/unit/api/compute/test_hosts.py', 'nova/api/compute/schemas/block_device_mapping_v1.py', 'nova/api/compute/quota_classes.py', 'nova/tests/unit/api/compute/test_instance_actions.py', 'nova/tests/unit/api/compute/test_migrate_server.py', 'nova/tests/api/test_images.py', 'nova/api/compute/schemas/keypairs.py', 'nova/api/compute/admin_actions.py', 'nova/tests/api/admin_only_action_common.py', 'nova/tests/unit/api/compute/test_console_auth_tokens.py', 'nova/api/compute/helpers.py', 'nova/api/compute/schemas/image_metadata.py', 'nova/tests/unit/api/compute/test_attach_interfaces.py', 'nova/tests/api/test_extended_ips.py', 'nova/tests/api/test_snapshots.py', 'nova/api/compute/server_migrations.py', 'nova/api/compute/image_metadata.py', 'nova/api/compute/create_backup.py', 'nova/api/compute/suspend_server.py', 'nova/tests/api/test_neutron_security_groups.py', 'nova/api/compute/views/hypervisors.py', 'nova/tests/api/test_flavor_manage.py', 'nova/api/compute/extended_volumes.py', 'nova/tests/unit/api/compute/test_extended_status.py', 'nova/api/compute/views/__init__.py', 'nova/tests/unit/api/compute/test_floating_ips.py', 'nova/tests/api/test_server_actions.py', 'nova/tests/unit/api/compute/test_quota_classes.py', 'nova/api/compute/image_size.py', 'nova/tests/api/test_quotas.py', 'nova/tests/api/test_server_external_events.py', 'nova/tests/unit/api/compute/test_cloudpipe_update.py', 'nova/tests/unit/api/compute/test_rescue.py', 'nova/api/compute/floating_ip_dns.py', 'nova/tests/api/test_auth.py', 'nova/api/compute/images.py', 'nova/api/compute/schemas/cloudpipe.py', 'nova/api/compute/admin_password.py', 'nova/tests/api/test_block_device_mapping.py', 'nova/tests/api/test_versions.py', 'nova/tests/unit/api/compute/test_certificates.py', 'nova/tests/api/test_extended_server_attributes.py', 'nova/api/compute/flavor_access.py', 'nova/tests/unit/api/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/compute/test_used_limits.py', 'nova/api/compute/availability_zone.py', 'nova/api/compute/block_device_mapping.py', 'nova/tests/api/test_extensions.py', 'nova/api/compute/schemas/agents.py', 'nova/tests/unit/api/compute/test_extended_hypervisors.py', 'nova/tests/unit/api/compute/test_block_device_mapping_v1.py', 'nova/tests/unit/api/compute/test_migrations.py', 'nova/api/compute/fixed_ips.py', 'nova/tests/unit/api/compute/test_fping.py', 'nova/tests/api/test_floating_ips_bulk.py', 'nova/tests/api/test_deferred_delete.py', 'nova/api/compute/server_password.py', 'nova/tests/unit/api/compute/test_server_external_events.py', 'nova/api/compute/security_group_default_rules.py', 'nova/tests/functional/notification_sample_tests/test_service_update.py', 'nova/tests/unit/api/compute/test_server_actions.py', 'nova/tests/unit/api/compute/test_deferred_delete.py', 'nova/api/compute/schemas/tenant_networks.py', 'nova/api/compute/servers.py', 'nova/api/compute/schemas/services.py', 'nova/api/compute/server_groups.py', 'nova/api/compute/simple_tenant_usage.py', 'nova/api/compute/multinic.py', 'nova/api/compute/views/server_tags.py', 'nova/tests/unit/api/compute/test_config_drive.py', 'nova/tests/unit/api/compute/test_consoles.py', 'nova/tests/unit/api/compute/test_pause_server.py', 'nova/hacking/checks.py', 'nova/api/compute/console_auth_tokens.py', 'nova/tests/api/test_flavor_access.py', 'nova/api/compute/evacuate.py', 'nova/api/compute/server_external_events.py', 'nova/api/compute/schemas/floating_ips_bulk.py', 'nova/api/compute/limits.py', 'nova/tests/api/test_image_size.py', 'nova/api/compute/schemas/fixed_ips.py', 'nova/tests/unit/api/compute/test_access_ips.py', 'nova/tests/api/test_hypervisor_status.py', 'nova/api/compute/keypairs.py', 'nova/api/compute/agents.py', 'nova/api/compute/pause_server.py', 'nova/tests/api/test_server_metadata.py', 'nova/api/compute/certificates.py', 'nova/api/compute/views/keypairs.py', 'nova/tests/unit/api/compute/admin_only_action_common.py', 'nova/api/compute/schemas/rescue.py', 'nova/tests/unit/api/compute/test_baremetal_nodes.py', 'nova/tests/api/test_security_group_default_rules.py', 'nova/tests/api/test_server_groups.py', 'nova/api/compute/networks.py', 'nova/api/compute/schemas/volumes.py', 'nova/api/compute/hide_server_addresses.py', 'nova/api/compute/rest_api_version_history.rst', 'nova/tests/unit/api/compute/legacy_v2/extensions/foxinsocks.py', 'nova/tests/unit/api/compute/test_extended_ips.py', 'nova/api/compute/schemas/server_metadata.py', 'nova/api/compute/virtual_interfaces.py', 'nova/api/compute/server_diagnostics.py', 'nova/api/compute/cloudpipe.py', 'nova/tests/unit/api/compute/legacy_v2/extensions/__init__.py', 'nova/api/compute/volumes.py', 'nova/api/compute/shelve.py', 'nova/tests/api/test_aggregates.py', 'etc/nova/api-paste.ini', 'nova/tests/api/test_quota_classes.py', 'nova/api/compute/views/addresses.py', 'nova/tests/api/test_floating_ips.py', 'nova/tests/api/test_virtual_interfaces.py', 'nova/tests/unit/api/compute/test_api.py', 'nova/api/compute/quota_sets.py', 'nova/tests/api/test_admin_actions.py', 'nova/tests/api/test_server_diagnostics.py', 'nova/api/compute/fping.py', 'nova/tests/api/test_extended_volumes.py', 'nova/tests/api/test_floating_ip_pools.py', 'nova/tests/api/test_serversV21.py', 'nova/tests/api/test_microversions.py', 'nova/api/compute/schemas/server_external_events.py', 'nova/api/compute/pci.py', 'nova/api/compute/hosts.py', 'nova/tests/api/test_server_tags.py', 'nova/tests/unit/api/compute/test_volumes.py', 'nova/api/compute/schemas/reset_server_state.py', 'nova/tests/unit/api/compute/test_floating_ip_dns.py', 'nova/tests/api/test_extended_hypervisors.py', 'nova/api/compute/schemas/multinic.py', 'nova/tests/api/test_server_usage.py', 'nova/api/compute/schemas/block_device_mapping.py', 'nova/tests/api/test_instance_actions.py', 'nova/api/compute/rescue.py', 'nova/tests/api/test_admin_password.py', 'nova/tests/unit/api/compute/test_floating_ips_bulk.py', 'nova/api/compute/schemas/security_groups.py', 'nova/tests/api/test_extended_ips_mac.py', 'nova/tests/api/test_instance_usage_audit_log.py', 'nova/api/compute/floating_ip_pools.py', 'nova/tests/api/test_rescue.py', 'nova/api/compute/schemas/availability_zone.py', 'nova/tests/api/test_flavor_swap.py', 'nova/tests/api/test_fping.py', 'nova/tests/api/test_scheduler_hints.py', 'nova/tests/api/test_urlmap.py', 'nova/tests/api/test_flavorextradata.py', 'nova/tests/api/test_lock_server.py', 'nova/tests/api/test_image_metadata.py', 'nova/tests/unit/api/compute/test_security_group_default_rules.py', 'nova/api/compute/consoles.py', 'nova/api/compute/flavor_rxtx.py', 'nova/tests/unit/api/compute/test_hide_server_addresses.py', 'nova/api/compute/deferred_delete.py', 'nova/api/compute/schemas/user_data.py', 'nova/api/compute/ips.py', 'nova/tests/unit/api/compute/test_networks.py', 'nova/tests/unit/api/compute/test_server_tags.py', 'nova/api/compute/views/servers.py', 'nova/tests/api/test_server_start_stop.py', 'nova/tests/api/test_server_migrations.py', 'nova/tests/functional/api_sample_tests/test_services.py', 'nova/tests/unit/api/compute/test_console_output.py', 'nova/tests/unit/api/compute/test_server_metadata.py', 'nova/tests/unit/api/compute/test_lock_server.py', 'nova/tests/unit/api/compute/test_agents.py', 'nova/api/compute/floating_ips.py', 'nova/tests/unit/api/compute/test_availability_zone.py', 'setup.cfg', 'nova/tests/api/test_server_password.py', 'nova/api/compute/schemas/quota_sets.py', 'nova/tests/unit/api/compute/__init__.py', 'nova/tests/unit/api/compute/test_flavor_manage.py', 'nova/tests/api/test_block_device_mapping_v1.py', 'nova/tests/unit/api/compute/test_flavor_access.py', 'nova/tests/unit/api/compute/test_server_groups.py', 'nova/tests/api/test_flavors_extra_specs.py', 'nova/api/compute/user_data.py', 'nova/tests/unit/api/compute/test_keypairs.py', 'nova/api/compute/scheduler_hints.py', 'nova/tests/unit/api/compute/microversions.py', 'nova/api/compute/console_output.py', 'nova/api/compute/extended_status.py', 'nova/tests/api/test_migrate_server.py', 'nova/tests/unit/api/compute/test_hypervisor_status.py', 'nova/tests/unit/api/compute/test_extension_info.py', 'nova/api/compute/migrations.py', 'nova/api/compute/security_groups.py', 'nova/tests/api/test_server_reset_state.py', 'nova/api/compute/attach_interfaces.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/api/test_api.py', 'nova/tests/unit/api/compute/test_block_device_mapping.py', 'nova/tests/unit/api/compute/test_urlmap.py', 'nova/tests/unit/api/compute/legacy_v2/__init__.py', 'nova/tests/unit/api/compute/test_server_migrations.py', 'nova/tests/unit/api/compute/test_plugin_framework.py', 'nova/api/compute/schemas/floating_ips.py', 'nova/tests/unit/api/compute/test_server_usage.py', 'nova/api/compute/versions.py', 'nova/tests/unit/api/compute/test_services.py', 'nova/api/compute/assisted_volume_snapshots.py', 'nova/tests/api/test_extended_status.py', 'nova/api/compute/schemas/servers.py', 'nova/tests/unit/api/compute/test_server_start_stop.py', 'nova/tests/api/test_extended_availability_zone.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ea0389c28f3f482c159e3032c7de06477ab42e2', 'message': 'WIP - move compute directory\n\nMove the subdirectory nova/api/openstack/compute to the nova/api directory, and\nupdate any references to it. Also move the\nnova/tests/unit/api/openstack/compute directory to nova/tests/unit/api.\n\nChange-Id: I8cd93b055dc6e2c48a0dfbc4e4e0f8946cc15c7d\nBlueprint: remove-openstack-api-directory\n'}]",0,445670,1ea0389c28f3f482c159e3032c7de06477ab42e2,16,14,1,1063,,,0,"WIP - move compute directory

Move the subdirectory nova/api/openstack/compute to the nova/api directory, and
update any references to it. Also move the
nova/tests/unit/api/openstack/compute directory to nova/tests/unit/api.

Change-Id: I8cd93b055dc6e2c48a0dfbc4e4e0f8946cc15c7d
Blueprint: remove-openstack-api-directory
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/445670/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/compute/schemas/hosts.py', 'nova/tests/unit/api/compute/test_user_data.py', 'nova/api/compute/cells.py', 'nova/api/compute/views/flavors.py', 'nova/tests/unit/api/compute/test_extensions.py', 'nova/api/compute/schemas/flavor_manage.py', 'nova/tests/api/test_pci.py', 'nova/tests/api/test_security_groups.py', 'nova/tests/functional/api_sample_tests/test_networks.py', 'nova/tests/api/test_shelve.py', 'nova/tests/unit/api/compute/test_tenant_networks.py', 'nova/tests/api/test_fixed_ips.py', 'nova/tests/unit/api/compute/test_microversions.py', 'nova/tests/api/test_certificates.py', 'nova/tests/api/test_create_backup.py', 'nova/tests/api/test_disk_config.py', 'nova/tests/api/test_migrations.py', 'nova/tests/unit/api/compute/test_pci.py', 'nova/api/compute/used_limits.py', 'nova/api/compute/__init__.py', 'nova/api/compute/schemas/assisted_volume_snapshots.py', 'nova/api/compute/extended_availability_zone.py', 'nova/tests/api/test_extension_info.py', 'nova/tests/unit/api/compute/test_fixed_ips.py', 'nova/tests/api/test_agents.py', 'nova/tests/unit/api/compute/test_multiple_create.py', 'nova/tests/api/test_multiple_create.py', 'nova/tests/unit/api/compute/test_extended_ips_mac.py', 'nova/tests/api/test_networks.py', 'nova/tests/api/test_limits.py', 'nova/tests/api/test_pause_server.py', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/api/compute/schemas/scheduler_hints.py', 'nova/tests/unit/api/compute/test_extended_server_attributes.py', 'nova/tests/unit/test_hacking.py', 'nova/api/compute/views/versions.py', 'nova/tests/api/test_config_drive.py', 'nova/api/compute/schemas/console_output.py', 'nova/tests/api/test_console_auth_tokens.py', 'nova/tests/api/test_remote_consoles.py', 'nova/tests/api/test_simple_tenant_usage.py', 'nova/tests/unit/api/compute/test_flavors.py', 'nova/tests/unit/api/compute/test_remote_consoles.py', 'nova/api/compute/server_metadata.py', 'nova/tests/api/test_cells.py', 'nova/tests/unit/api/compute/test_serversV21.py', 'nova/api/compute/floating_ips_bulk.py', 'nova/api/compute/networks_associate.py', 'nova/tests/api/test_floating_ip_dns.py', 'nova/tests/api/legacy_v2/extensions/foxinsocks.py', 'nova/tests/unit/api/compute/test_disk_config.py', 'nova/api/compute/views/limits.py', 'nova/tests/unit/api/compute/test_suspend_server.py', 'nova/tests/api/test_evacuate.py', 'nova/tests/unit/api/compute/dummy_schema.py', 'nova/tests/functional/api_sample_tests/test_baremetal_nodes.py', 'nova/tests/unit/api/compute/test_admin_actions.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/unit/api/compute/test_server_group_quotas.py', 'nova/tests/unit/api/compute/test_evacuate.py', 'nova/tests/api/test_multinic.py', 'nova/tests/api/test_user_data.py', 'nova/tests/api/test_access_ips.py', 'nova/tests/unit/api/compute/test_flavor_disabled.py', 'nova/tests/unit/api/compute/test_multinic.py', 'nova/api/compute/views/images.py', 'nova/tests/api/test_suspend_server.py', 'nova/api/compute/flavors_extraspecs.py', 'nova/tests/api/test_hypervisors.py', 'nova/tests/api/test_volumes.py', 'nova/api/compute/versionsV21.py', 'nova/tests/unit/api/compute/test_aggregates.py', 'nova/api/compute/schemas/server_migrations.py', 'nova/tests/unit/api/compute/test_instance_usage_audit_log.py', 'nova/tests/unit/api/compute/test_create_backup.py', 'nova/api/compute/schemas/networks_associate.py', 'nova/tests/api/test_availability_zone.py', 'nova/tests/functional/api_sample_tests/test_fping.py', 'nova/tests/api/__init__.py', 'nova/tests/functional/test_legacy_v2_compatible_wrapper.py', 'nova/tests/api/test_hide_server_addresses.py', 'nova/tests/unit/api/compute/test_server_diagnostics.py', 'nova/tests/api/test_cloudpipe_update.py', 'nova/tests/unit/api/compute/test_virtual_interfaces.py', 'nova/tests/unit/api/compute/test_image_size.py', 'nova/api/compute/extension_info.py', 'nova/tests/unit/api/compute/test_image_metadata.py', 'nova/tests/unit/api/compute/test_hypervisors.py', 'nova/api/compute/schemas/quota_classes.py', 'nova/tests/api/test_server_group_quotas.py', 'nova/tests/unit/api/compute/test_flavor_swap.py', 'nova/api/compute/extended_server_attributes.py', 'nova/api/compute/schemas/cells.py', 'nova/api/compute/schemas/__init__.py', 'nova/api/compute/tenant_networks.py', 'nova/tests/api/legacy_v2/extensions/__init__.py', 'nova/api/compute/schemas/networks.py', 'nova/api/compute/block_device_mapping_v1.py', 'nova/api/compute/views/usages.py', 'nova/tests/api/test_consoles.py', 'nova/api/compute/flavors.py', 'nova/tests/unit/api/compute/basic.py', 'nova/tests/unit/api/compute/test_quotas.py', 'nova/tests/api/test_services.py', 'nova/api/compute/flavor_manage.py', 'nova/tests/api/test_flavor_rxtx.py', 'nova/tests/unit/api/compute/test_simple_tenant_usage.py', 'nova/tests/unit/api/compute/test_cloudpipe.py', 'nova/api/compute/lock_server.py', 'nova/api/compute/schemas/migrate_server.py', 'nova/tests/api/test_baremetal_nodes.py', 'nova/tests/api/test_flavor_disabled.py', 'nova/tests/unit/api/compute/test_extended_volumes.py', 'nova/tests/unit/api/compute/test_shelve.py', 'nova/api/compute/schemas/server_groups.py', 'nova/tests/unit/api/compute/test_images.py', 'nova/api/compute/services.py', 'nova/api/compute/schemas/evacuate.py', 'nova/tests/unit/api/compute/test_versions.py', 'nova/api/compute/multiple_create.py', 'nova/api/compute/server_tags.py', 'nova/tests/unit/api/compute/test_flavor_rxtx.py', 'nova/tests/unit/api/compute/test_auth.py', 'nova/api/compute/schemas/create_backup.py', 'nova/api/compute/baremetal_nodes.py', 'nova/api/compute/remote_consoles.py', 'nova/api/compute/schemas/attach_interfaces.py', 'nova/tests/api/test_hosts.py', 'nova/tests/unit/api/compute/test_limits.py', 'nova/api/compute/migrate_server.py', 'nova/tests/api/test_attach_interfaces.py', 'nova/tests/api/dummy_schema.py', 'nova/api/compute/instance_actions.py', 'nova/tests/unit/api/compute/test_admin_password.py', 'nova/tests/api/legacy_v2/__init__.py', 'nova/api/compute/aggregates.py', 'nova/api/compute/schemas/floating_ip_dns.py', 'nova/tests/unit/api/compute/test_flavors_extra_specs.py', 'nova/tests/api/test_cloudpipe.py', 'nova/tests/unit/api/compute/test_server_password.py', 'nova/api/compute/schemas/flavors_extraspecs.py', 'nova/api/compute/schemas/flavor_access.py', 'nova/api/compute/schemas/remote_consoles.py', 'nova/tests/unit/api/compute/test_snapshots.py', 'nova/api/compute/config_drive.py', 'nova/api/compute/server_usage.py', 'nova/tests/api/test_keypairs.py', 'nova/tests/unit/api/compute/test_floating_ip_pools.py', 'nova/api/compute/schemas/server_tags.py', 'nova/tests/unit/api/compute/test_scheduler_hints.py', 'nova/api/compute/schemas/admin_password.py', 'nova/api/compute/schemas/config_drive.py', 'nova/tests/api/test_flavors.py', 'nova/tests/api/test_used_limits.py', 'nova/api/compute/instance_usage_audit_log.py', 'nova/tests/unit/api/compute/test_server_reset_state.py', 'nova/api/compute/schemas/multiple_create.py', 'nova/tests/api/test_console_output.py', 'nova/api/compute/hypervisors.py', 'nova/tests/unit/api/compute/test_cells.py', 'nova/tests/unit/api/compute/test_security_groups.py', 'nova/tests/api/test_tenant_networks.py', 'nova/api/compute/schemas/aggregates.py', 'nova/tests/api/microversions.py', 'nova/tests/api/test_plugin_framework.py', 'nova/tests/api/basic.py', 'nova/tests/unit/api/compute/test_extended_availability_zone.py', 'nova/tests/unit/api/compute/test_flavorextradata.py', 'nova/tests/unit/api/compute/test_hosts.py', 'nova/api/compute/schemas/block_device_mapping_v1.py', 'nova/api/compute/quota_classes.py', 'nova/tests/unit/api/compute/test_instance_actions.py', 'nova/tests/unit/api/compute/test_migrate_server.py', 'nova/tests/api/test_images.py', 'nova/api/compute/schemas/keypairs.py', 'nova/api/compute/admin_actions.py', 'nova/tests/api/admin_only_action_common.py', 'nova/tests/unit/api/compute/test_console_auth_tokens.py', 'nova/api/compute/helpers.py', 'nova/api/compute/schemas/image_metadata.py', 'nova/tests/unit/api/compute/test_attach_interfaces.py', 'nova/tests/api/test_extended_ips.py', 'nova/tests/api/test_snapshots.py', 'nova/api/compute/server_migrations.py', 'nova/api/compute/image_metadata.py', 'nova/api/compute/create_backup.py', 'nova/api/compute/suspend_server.py', 'nova/tests/api/test_neutron_security_groups.py', 'nova/api/compute/views/hypervisors.py', 'nova/tests/api/test_flavor_manage.py', 'nova/api/compute/extended_volumes.py', 'nova/tests/unit/api/compute/test_extended_status.py', 'nova/api/compute/views/__init__.py', 'nova/tests/unit/api/compute/test_floating_ips.py', 'nova/tests/api/test_server_actions.py', 'nova/tests/unit/api/compute/test_quota_classes.py', 'nova/api/compute/image_size.py', 'nova/tests/api/test_quotas.py', 'nova/tests/api/test_server_external_events.py', 'nova/tests/unit/api/compute/test_cloudpipe_update.py', 'nova/tests/unit/api/compute/test_rescue.py', 'nova/api/compute/floating_ip_dns.py', 'nova/tests/api/test_auth.py', 'nova/api/compute/images.py', 'nova/api/compute/schemas/cloudpipe.py', 'nova/api/compute/admin_password.py', 'nova/tests/api/test_block_device_mapping.py', 'nova/tests/api/test_versions.py', 'nova/tests/unit/api/compute/test_certificates.py', 'nova/tests/api/test_extended_server_attributes.py', 'nova/api/compute/flavor_access.py', 'nova/tests/unit/api/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/compute/test_used_limits.py', 'nova/api/compute/availability_zone.py', 'nova/api/compute/block_device_mapping.py', 'nova/tests/api/test_extensions.py', 'nova/api/compute/schemas/agents.py', 'nova/tests/unit/api/compute/test_extended_hypervisors.py', 'nova/tests/unit/api/compute/test_block_device_mapping_v1.py', 'nova/tests/unit/api/compute/test_migrations.py', 'nova/api/compute/fixed_ips.py', 'nova/tests/unit/api/compute/test_fping.py', 'nova/tests/api/test_floating_ips_bulk.py', 'nova/tests/api/test_deferred_delete.py', 'nova/api/compute/server_password.py', 'nova/tests/unit/api/compute/test_server_external_events.py', 'nova/api/compute/security_group_default_rules.py', 'nova/tests/functional/notification_sample_tests/test_service_update.py', 'nova/tests/unit/api/compute/test_server_actions.py', 'nova/tests/unit/api/compute/test_deferred_delete.py', 'nova/api/compute/schemas/tenant_networks.py', 'nova/api/compute/servers.py', 'nova/api/compute/schemas/services.py', 'nova/api/compute/server_groups.py', 'nova/api/compute/simple_tenant_usage.py', 'nova/api/compute/multinic.py', 'nova/api/compute/views/server_tags.py', 'nova/tests/unit/api/compute/test_config_drive.py', 'nova/tests/unit/api/compute/test_consoles.py', 'nova/tests/unit/api/compute/test_pause_server.py', 'nova/hacking/checks.py', 'nova/api/compute/console_auth_tokens.py', 'nova/tests/api/test_flavor_access.py', 'nova/api/compute/evacuate.py', 'nova/api/compute/server_external_events.py', 'nova/api/compute/schemas/floating_ips_bulk.py', 'nova/api/compute/limits.py', 'nova/tests/api/test_image_size.py', 'nova/api/compute/schemas/fixed_ips.py', 'nova/tests/unit/api/compute/test_access_ips.py', 'nova/tests/api/test_hypervisor_status.py', 'nova/api/compute/keypairs.py', 'nova/api/compute/agents.py', 'nova/api/compute/pause_server.py', 'nova/tests/api/test_server_metadata.py', 'nova/api/compute/certificates.py', 'nova/api/compute/views/keypairs.py', 'nova/tests/unit/api/compute/admin_only_action_common.py', 'nova/api/compute/schemas/rescue.py', 'nova/tests/unit/api/compute/test_baremetal_nodes.py', 'nova/tests/api/test_security_group_default_rules.py', 'nova/tests/api/test_server_groups.py', 'nova/api/compute/networks.py', 'nova/api/compute/schemas/volumes.py', 'nova/api/compute/hide_server_addresses.py', 'nova/api/compute/rest_api_version_history.rst', 'nova/tests/unit/api/compute/legacy_v2/extensions/foxinsocks.py', 'nova/tests/unit/api/compute/test_extended_ips.py', 'nova/api/compute/schemas/server_metadata.py', 'nova/api/compute/virtual_interfaces.py', 'nova/api/compute/server_diagnostics.py', 'nova/api/compute/cloudpipe.py', 'nova/tests/unit/api/compute/legacy_v2/extensions/__init__.py', 'nova/api/compute/volumes.py', 'nova/api/compute/shelve.py', 'nova/tests/api/test_aggregates.py', 'etc/nova/api-paste.ini', 'nova/tests/api/test_quota_classes.py', 'nova/api/compute/views/addresses.py', 'nova/tests/api/test_floating_ips.py', 'nova/tests/api/test_virtual_interfaces.py', 'nova/tests/unit/api/compute/test_api.py', 'nova/api/compute/quota_sets.py', 'nova/tests/api/test_admin_actions.py', 'nova/tests/api/test_server_diagnostics.py', 'nova/api/compute/fping.py', 'nova/tests/api/test_extended_volumes.py', 'nova/tests/api/test_floating_ip_pools.py', 'nova/tests/api/test_serversV21.py', 'nova/tests/api/test_microversions.py', 'nova/api/compute/schemas/server_external_events.py', 'nova/api/compute/pci.py', 'nova/api/compute/hosts.py', 'nova/tests/api/test_server_tags.py', 'nova/tests/unit/api/compute/test_volumes.py', 'nova/api/compute/schemas/reset_server_state.py', 'nova/tests/unit/api/compute/test_floating_ip_dns.py', 'nova/tests/api/test_extended_hypervisors.py', 'nova/api/compute/schemas/multinic.py', 'nova/tests/api/test_server_usage.py', 'nova/api/compute/schemas/block_device_mapping.py', 'nova/tests/api/test_instance_actions.py', 'nova/api/compute/rescue.py', 'nova/tests/api/test_admin_password.py', 'nova/tests/unit/api/compute/test_floating_ips_bulk.py', 'nova/api/compute/schemas/security_groups.py', 'nova/tests/api/test_extended_ips_mac.py', 'nova/tests/api/test_instance_usage_audit_log.py', 'nova/api/compute/floating_ip_pools.py', 'nova/tests/api/test_rescue.py', 'nova/api/compute/schemas/availability_zone.py', 'nova/tests/api/test_flavor_swap.py', 'nova/tests/api/test_fping.py', 'nova/tests/api/test_scheduler_hints.py', 'nova/tests/api/test_urlmap.py', 'nova/tests/api/test_flavorextradata.py', 'nova/tests/api/test_lock_server.py', 'nova/tests/api/test_image_metadata.py', 'nova/tests/unit/api/compute/test_security_group_default_rules.py', 'nova/api/compute/consoles.py', 'nova/api/compute/flavor_rxtx.py', 'nova/tests/unit/api/compute/test_hide_server_addresses.py', 'nova/api/compute/deferred_delete.py', 'nova/api/compute/schemas/user_data.py', 'nova/api/compute/ips.py', 'nova/tests/unit/api/compute/test_networks.py', 'nova/tests/unit/api/compute/test_server_tags.py', 'nova/api/compute/views/servers.py', 'nova/tests/api/test_server_start_stop.py', 'nova/tests/api/test_server_migrations.py', 'nova/tests/functional/api_sample_tests/test_services.py', 'nova/tests/unit/api/compute/test_console_output.py', 'nova/tests/unit/api/compute/test_server_metadata.py', 'nova/tests/unit/api/compute/test_lock_server.py', 'nova/tests/unit/api/compute/test_agents.py', 'nova/api/compute/floating_ips.py', 'nova/tests/unit/api/compute/test_availability_zone.py', 'setup.cfg', 'nova/tests/api/test_server_password.py', 'nova/api/compute/schemas/quota_sets.py', 'nova/tests/unit/api/compute/__init__.py', 'nova/tests/unit/api/compute/test_flavor_manage.py', 'nova/tests/api/test_block_device_mapping_v1.py', 'nova/tests/unit/api/compute/test_flavor_access.py', 'nova/tests/unit/api/compute/test_server_groups.py', 'nova/tests/api/test_flavors_extra_specs.py', 'nova/api/compute/user_data.py', 'nova/tests/unit/api/compute/test_keypairs.py', 'nova/api/compute/scheduler_hints.py', 'nova/tests/unit/api/compute/microversions.py', 'nova/api/compute/console_output.py', 'nova/api/compute/extended_status.py', 'nova/tests/api/test_migrate_server.py', 'nova/tests/unit/api/compute/test_hypervisor_status.py', 'nova/tests/unit/api/compute/test_extension_info.py', 'nova/api/compute/migrations.py', 'nova/api/compute/security_groups.py', 'nova/tests/api/test_server_reset_state.py', 'nova/api/compute/attach_interfaces.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/api/test_api.py', 'nova/tests/unit/api/compute/test_block_device_mapping.py', 'nova/tests/unit/api/compute/test_urlmap.py', 'nova/tests/unit/api/compute/legacy_v2/__init__.py', 'nova/tests/unit/api/compute/test_server_migrations.py', 'nova/tests/unit/api/compute/test_plugin_framework.py', 'nova/api/compute/schemas/floating_ips.py', 'nova/tests/unit/api/compute/test_server_usage.py', 'nova/api/compute/versions.py', 'nova/tests/unit/api/compute/test_services.py', 'nova/api/compute/assisted_volume_snapshots.py', 'nova/tests/api/test_extended_status.py', 'nova/api/compute/schemas/servers.py', 'nova/tests/unit/api/compute/test_server_start_stop.py', 'nova/tests/api/test_extended_availability_zone.py']",375,1ea0389c28f3f482c159e3032c7de06477ab42e2,bp/remove-openstack-api-directory,,,454,485
openstack%2Fnova~master~I8eddc4b402b8eb715ff43d83d8e8eb642c831425,openstack/nova,master,I8eddc4b402b8eb715ff43d83d8e8eb642c831425,PowerVM Driver: localdisk,ABANDONED,2016-12-10 04:01:14.000000000,2017-08-01 09:54:11.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8190}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10347}, {'_account_id': 10385}, {'_account_id': 13883}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16710}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 25027}, {'_account_id': 25091}]","[{'number': 1, 'created': '2016-12-10 04:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e796e06755c0526c0bf1c528b0fd9d5eb8574637', 'message': 'WIP(2): Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nTODO: Unit Test\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 2, 'created': '2016-12-28 16:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d2e89ff3f19889f91ae1173d9984016e462cc04', 'message': 'WIP(2): Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nTODO: Unit Test\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 3, 'created': '2016-12-29 16:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94fe9ebb10cb85c52a774bfb99cec6b0eda7ef5e', 'message': 'WIP(2): Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 4, 'created': '2016-12-30 13:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2351d85eb7d9b9f74b827803b29e3b668fbc966c', 'message': 'WIP(2): Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 5, 'created': '2017-01-03 07:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c6ea91cee09d079a4d04c3fcab1a19a889e3019', 'message': 'WIP(2): Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 6, 'created': '2017-01-04 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1985bfe0aad0fa35ac06e19a75629e0178e6727e', 'message': 'WIP(2): Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 7, 'created': '2017-01-10 22:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfba21062de435741c80e81ceb4cf1aed60b40c2', 'message': 'WIP(2): Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 8, 'created': '2017-01-11 05:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/084281e8e2fb1ea93d5d69fe35e9c9924c6a9e72', 'message': 'WIP(2): Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 9, 'created': '2017-01-11 20:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa5d9297e0d7149f09f37131ee6081cd1d6a2ad1', 'message': 'WIP(2): Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 10, 'created': '2017-01-18 16:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85daed49d6ac3a95ce3710f3a59508e1d8e4b87c', 'message': 'WIP(2): Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 11, 'created': '2017-01-18 21:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00803facbdd335cc818dde7f977ff7a5eb912b01', 'message': 'Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 12, 'created': '2017-01-19 14:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a35b0e3085a66c3aa5b238577be7a8e59845166f', 'message': 'Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 13, 'created': '2017-01-20 07:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a6ab7044276a2a10b5d27dfb3f60d7d63a82f84', 'message': 'Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 14, 'created': '2017-01-20 21:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7834e2d37476f20c7aa83126e4646cae6eeedfb4', 'message': 'Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 15, 'created': '2017-01-23 16:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8ccd50107c4b510e29d94a6f423ecf1bf4d499b', 'message': 'Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 16, 'created': '2017-01-26 18:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/405c9a2932378025217c616fb8b3d2a798f45c9b', 'message': 'Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 17, 'created': '2017-01-31 20:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3a6cb214778894c5c32ae2bfc863b97364281e4', 'message': 'Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 18, 'created': '2017-01-31 20:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e3e26551d26091e1ccb68adfe25eaba59397fba', 'message': 'Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 19, 'created': '2017-01-31 21:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6b2d8cc29ed2f81b9513206d04ca715307b0b0a', 'message': 'Introduce base PowerVM driver (disk drv)\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 20, 'created': '2017-01-31 22:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49174b33fcf50376f65730d177194ec9ae32632b', 'message': 'PowerVM Driver: localdisk\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 21, 'created': '2017-01-31 23:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf03952445c5ed165ed02480a8bc3d6c0233e422', 'message': 'PowerVM Driver: localdisk\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 22, 'created': '2017-02-14 03:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/720e0696100f02a14c71f6eae1bc8f16d9317026', 'message': 'PowerVM Driver: localdisk\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 23, 'created': '2017-02-14 06:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78b2bbd82761ecf56ecb5d25cafc571ecb4fc53b', 'message': 'PowerVM Driver: localdisk\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 24, 'created': '2017-02-16 22:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5392dc90bc131e925e4903f1bcd0fe54b37d65b9', 'message': 'PowerVM Driver: localdisk\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 25, 'created': '2017-02-21 20:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74bb5a61eb9a7ad3ad33ff5b5b948cce3c8568c5', 'message': 'PowerVM Driver: localdisk\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}, {'number': 26, 'created': '2017-02-22 13:56:30.000000000', 'files': ['nova/tests/unit/virt/powervm/disk/test_localdisk.py', 'nova/tests/unit/virt/powervm/tasks/test_storage.py', 'nova/tests/unit/virt/powervm/disk/__init__.py', 'nova/virt/powervm/tasks/storage.py', 'nova/conf/powervm.py', 'nova/virt/powervm/driver.py', 'nova/exception.py', 'nova/tests/unit/virt/powervm/disk/test_driver.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'nova/tests/unit/virt/powervm/fixtures.py', 'nova/tests/unit/conf_fixture.py', 'nova/virt/powervm/disk/__init__.py', 'nova/virt/powervm/disk/localdisk.py', 'nova/tests/unit/virt/powervm/__init__.py', 'nova/virt/powervm/disk/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab4dba7c682633232223aa4bb1bfc2c48ad3f303', 'message': 'PowerVM Driver: localdisk\n\nThis change set adds the local disk nova ephemeral support.  This allows\nfor booting of a simple glance image.\n\nA subsequent change will be done to add VIFs, Config Drive and console.\n\nChange-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425\nPartially-Implements: blueprint powervm-nova-compute-driver\n'}]",55,409401,ab4dba7c682633232223aa4bb1bfc2c48ad3f303,322,26,26,8190,,,0,"PowerVM Driver: localdisk

This change set adds the local disk nova ephemeral support.  This allows
for booting of a simple glance image.

A subsequent change will be done to add VIFs, Config Drive and console.

Change-Id: I8eddc4b402b8eb715ff43d83d8e8eb642c831425
Partially-Implements: blueprint powervm-nova-compute-driver
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/409401/13 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/powervm/exception.py', 'nova/virt/powervm/tasks/storage.py', 'nova/virt/powervm/disk/__init__.py', 'nova/virt/powervm/disk/localdisk.py', 'nova/conf/powervm.py', 'nova/virt/powervm/disk/driver.py', 'nova/virt/powervm/driver.py']",7,e796e06755c0526c0bf1c528b0fd9d5eb8574637,bp/powervm-nova-compute-driver,"from pypowervm import const as pvm_constfrom pypowervm.tasks import storage as pvm_storfrom nova.virt.powervm.disk import localdiskfrom nova.virt.powervm.tasks import storage as tf_stg # Do a scrub of the I/O plane to make sure the system is in good shape LOG.info(_LI(""Clearing stale I/O connections on driver init."")) pvm_stor.ComprehensiveScrub(self.adapter).execute() # Initialize the disk adapter. For now, only support localdisk # TODO(thorst,efried) Add support for SSP disk adapter, choice via # conf option. self.disk_dvr = localdisk.LocalStorage() # Create the transaction manager (FeedTask) for Storage I/O. stg_ftsk = pvm_par.build_active_vio_feed_task( self.adapter, xag=[pvm_const.XAG.VIO_SMAP, pvm_const.XAG.VIO_STOR]) self.adapter, self.host_wrapper, instance, flavor, stg_ftsk=stg_ftsk)) # Creates the boot image. flow_spawn.add(tf_stg.CreateDiskForImg( self.disk_dvr, context, instance, image_meta, disk_size=flavor.root_gb)) # Connects up the disk to the LPAR flow_spawn.add(tf_stg.ConnectDisk(self.disk_dvr, context, instance, stg_ftsk=stg_ftsk)) # Add the transaction manager flow to the end of the 'I/O # connection' tasks. This will run all the connections in parallel. flow_spawn.add(stg_ftsk) # Create the transaction manager (FeedTask) for Storage I/O. xag = [pvm_const.XAG.VIO_SMAP, pvm_const.XAG.VIO_STOR] stg_ftsk = pvm_par.build_active_vio_feed_task( self.adapter, xag=xag) # Only detach the disk adapters if this is not a boot from volume # since volumes are handled above. This is only for disks. destroy_disk_task = None if not self._is_booted_from_volume(block_device_info): # Detach the disk storage adapters (when the stg_ftsk runs) flow.add(tf_stg.DetachDisk( self.disk_dvr, context, instance, stg_ftsk)) # Delete the storage disks if destroy_disks: destroy_disk_task = tf_stg.DeleteDisk( self.disk_dvr, context, instance) # Add the transaction manager flow to the end of the 'storage # connection' tasks. This will run all the disconnection ops # in parallel flow.add(stg_ftsk) # The disks shouldn't be destroyed until the unmappings are done. if destroy_disk_task: flow.add(destroy_disk_task) "," self.adapter, self.host_wrapper, instance, flavor)) # TODO(thorst, efried) Create/Connect the disk # TODO(thorst, efried) Add disk disconnect/destroy tasks",672,3
openstack%2Fnova~master~Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f,openstack/nova,master,Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f,libvirt: guest.BlockDevice should only use the target device of a disk,ABANDONED,2016-11-24 17:26:23.000000000,2017-08-01 09:54:10.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 23310}]","[{'number': 1, 'created': '2016-11-24 17:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb77de858c7f238e2d5b57308e08a66aee9766e9', 'message': 'WIP libvirt: Fetch LibvirtConfigGuestDisk by target device or source file\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 2, 'created': '2016-11-25 09:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62b8a9b59a6d29f64aab35790cea5261581591e9', 'message': 'WIP libvirt: Fetch LibvirtConfigGuestDisk by target device or source file\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 3, 'created': '2016-11-25 11:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4d89d1317ddb682c0f51f94d2d259fc6e96b9d9', 'message': 'WIP libvirt: Fetch LibvirtConfigGuestDisk by target device or source file\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 4, 'created': '2016-11-25 14:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3176bbdf2a6b27f43563ab4187886f3f78894fec', 'message': 'libvirt: Make guest.BlockDevice only use the target dev of a disk\n\nPreviously this class would use either the target device or one of a\nnumber of source attributes such as file or dev to identify a disk.\n\nAs I70acdb156a7 now allows us to always determine the target dev when\nusing guest.BlockDevice we can now remove any ambiguity around the value\nof _disk, making it clear that this is always expected to be a target\ndev now.\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 5, 'created': '2016-11-25 15:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8419607cafb7d7f6fcf15f39b27960b67689740', 'message': 'libvirt: Make guest.BlockDevice only use the target dev of a disk\n\nPreviously this class would use either the target device or one of a\nnumber of source attributes such as file or dev to identify a disk.\n\nAs I70acdb156a7 now allows us to always determine the target dev when\nusing guest.BlockDevice we can now remove any ambiguity around the value\nof _disk, making it clear that this is always expected to be a target\ndev now.\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 6, 'created': '2016-11-28 11:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bff7c2606cc3f76c23c4eefdd676ce94440b3a95', 'message': 'libvirt: Make guest.BlockDevice only use the target dev of a disk\n\nPreviously this class would use either the target device or one of a\nnumber of source attributes such as file or dev to identify a disk.\n\nAs I70acdb156a7 now allows us to always determine the target dev when\nusing guest.BlockDevice we can now remove any ambiguity around the value\nof _disk, making it clear that this is always expected to be a target\ndev now.\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 7, 'created': '2016-11-29 12:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ecd20fcd9ddfeaaa4d1b1e268590bbd5ef9bc0b', 'message': 'libvirt: Make guest.BlockDevice only use the target dev of a disk\n\nPreviously this class would use either the target device or one of a\nnumber of source attributes such as file or dev to identify a disk.\n\nAs I70acdb156a7 now allows us to always determine the target dev when\nusing guest.BlockDevice we can now remove any ambiguity around the value\nof _disk, making it clear that this is always expected to be a target\ndev now.\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 8, 'created': '2016-11-30 13:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54db84194882eb11cb50c7399300d6f9812bbe18', 'message': 'libvirt: Make guest.BlockDevice only use the target dev of a disk\n\nPreviously this class would use either the target device or one of a\nnumber of source attributes such as file or dev to identify a disk.\n\nAs I70acdb156a7 now allows us to always determine the target dev when\nusing guest.BlockDevice we can now remove any ambiguity around the value\nof _disk, making it clear that this is always expected to be a target\ndev now.\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 9, 'created': '2017-01-11 19:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d7d0f5f71e92ff49ad877faad1ffae018c56b3c', 'message': 'libvirt: Make guest.BlockDevice only use the target dev of a disk\n\nPreviously this class would use either the target device or one of a\nnumber of source attributes such as file or dev to identify a disk.\n\nAs I70acdb156a7 now allows us to always determine the target dev when\nusing guest.BlockDevice we can now remove any ambiguity around the value\nof _disk, making it clear that this is always expected to be a target\ndev now.\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 10, 'created': '2017-01-11 20:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efa7a5cfd2ad62284d81920f2d3f8977d51ab920', 'message': 'libvirt: Make guest.BlockDevice only use the target dev of a disk\n\nPreviously this class would use either the target device or one of a\nnumber of source attributes such as file or dev to identify a disk.\n\nAs I70acdb156a7 now allows us to always determine the target dev when\nusing guest.BlockDevice we can now remove any ambiguity around the value\nof _disk, making it clear that this is always expected to be a target\ndev now.\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 11, 'created': '2017-02-03 17:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d6a496c4fd56dcffa14390d388e4e4d817a6911', 'message': 'libvirt: Make guest.BlockDevice only use the target dev of a disk\n\nPreviously this class would use either the target device or one of a\nnumber of source attributes such as file or dev to identify a disk.\n\nAs I70acdb156a7 now allows us to always determine the target dev when\nusing guest.BlockDevice we can now remove any ambiguity around the value\nof _disk, making it clear that this is always expected to be a target\ndev now.\n\nRelated-bug: #1643017\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 12, 'created': '2017-02-15 12:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b5041729705114b2894fbcdd07d3214b7892f56', 'message': 'libvirt: Make guest.BlockDevice only use the target dev of a disk\n\nPreviously this class would use the target device or one of a number of\nsource attributes such as file or dev to identify a disk.\n\nAs I70acdb156a7 now allows us to determine the target dev when using\nguest.BlockDevice we can now remove any ambiguity around the value of\n_disk, making it clear that this is always expected to be a target dev.\n\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 13, 'created': '2017-03-15 09:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f2d5520e43c24f2b3b0b7e90b3c9700d2941d18', 'message': 'libvirt: Make guest.BlockDevice only use the target dev of a disk\n\nPreviously this class would use the target device or one of a number of\nsource attributes such as file or dev to identify a disk.\n\nAs I70acdb156a7 now allows us to determine the target dev when using\nguest.BlockDevice we can now remove any ambiguity around the value of\n_disk, making it clear that this is always expected to be a target dev.\n\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}, {'number': 14, 'created': '2017-03-15 15:13:27.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fake_libvirt_utils.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e69d00fd274337172617964f92e71f0172fa7dd3', 'message': 'libvirt: guest.BlockDevice should only use the target device of a disk\n\nPreviously this class would store the target device or one of a number of\nsource attributes such as file or dev as an ambiguous _disk attribute.\n\nThis change ensures that utils.get_disk only returns the target device\nof a given disk. As a result we can now remove any lingering\nambiguity from the BlockDevice class regarding the value of\nguest.BlockDevice._disk.\n\nChange-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f\n'}]",4,402163,e69d00fd274337172617964f92e71f0172fa7dd3,139,18,14,10135,,,0,"libvirt: guest.BlockDevice should only use the target device of a disk

Previously this class would store the target device or one of a number of
source attributes such as file or dev as an ambiguous _disk attribute.

This change ensures that utils.get_disk only returns the target device
of a given disk. As a result we can now remove any lingering
ambiguity from the BlockDevice class regarding the value of
guest.BlockDevice._disk.

Change-Id: Ie0a4d7cadd1144a7f40aeb3035151c54821e3a4f
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/402163/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,eb77de858c7f238e2d5b57308e08a66aee9766e9,bug/1643017,," def test_get_disk_xml(self): dom_xml = """""" <domain type=""kvm""> <devices> <disk type=""file""> <source file=""disk1_file""/> <target dev=""vda"" bus=""virtio""/> <serial>0e38683e-f0af-418f-a3f1-6b67ea0f919d</serial> </disk> <disk type=""block""> <source dev=""/path/to/dev/1""/> <target dev=""vdb"" bus=""virtio"" serial=""1234""/> </disk> </devices> </domain> """""" diska_xml = """"""<disk type=""file"" device=""disk""> <source file=""disk1_file""/> <target bus=""virtio"" dev=""vda""/> <serial>0e38683e-f0af-418f-a3f1-6b67ea0f919d</serial> </disk>"""""" diskb_xml = """"""<disk type=""block"" device=""disk""> <source dev=""/path/to/dev/1""/> <target bus=""virtio"" dev=""vdb""/> </disk>"""""" dom = mock.MagicMock() dom.XMLDesc.return_value = dom_xml guest = libvirt_guest.Guest(dom) # NOTE(gcb): etree.tostring(node) returns an extra line with # some white spaces, need to strip it. actual_diska_xml = guest.get_disk('vda').to_xml() self.assertEqual(diska_xml.strip(), actual_diska_xml.strip()) actual_diskb_xml = guest.get_disk('vdb').to_xml() self.assertEqual(diskb_xml.strip(), actual_diskb_xml.strip()) self.assertIsNone(guest.get_disk('vdc')) ",58,51
openstack%2Fnova~master~I6af7f51aa288f63113b96ec7a075554659ae0b6e,openstack/nova,master,I6af7f51aa288f63113b96ec7a075554659ae0b6e,api sample tests: handle response missing an item,ABANDONED,2017-02-09 20:23:20.000000000,2017-08-01 09:54:09.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-09 20:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d924c0016b0d1ae0bf4303fc0ad25811e928e366', 'message': 'api sample tests: handle response missing an item\n\nThis patch enables API sample tests to handle the case where a\nresponse from the Nova API does NOT contain an expected item. This has\nobviously not occured so far, but is useful when running functional\ntests against 2.latest, which is done in a following patch.\nPreviously, the expected something but got nothing case would throw a\nTypeError when attempting to match to the None response.\n\nChange-Id: I6af7f51aa288f63113b96ec7a075554659ae0b6e\n'}, {'number': 2, 'created': '2017-02-12 22:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddfd64fdb370934be6e284422c06eb155a1c2ffa', 'message': 'api sample tests: handle response missing an item\n\nThis patch enables API sample tests to handle the case where a\nresponse from the Nova API does NOT contain an expected item. This has\nobviously not occured so far, but is useful when running functional\ntests against 2.latest, which is done in a following patch.\nPreviously, the expected something but got nothing case would throw a\nTypeError when attempting to match to the None response.\n\nIt turns out doing this bit of extra checking exposes some templates\nthat were using the empty string where null should have been used to\nindicate None. This patch corrects those.\n\nChange-Id: I6af7f51aa288f63113b96ec7a075554659ae0b6e\n'}, {'number': 3, 'created': '2017-02-12 22:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44f8f0076bfc0f5538c3762c0b5382a87df15acc', 'message': 'api sample tests: handle response missing an item\n\nThis patch enables API sample tests to handle the case where a\nresponse from the Nova API does NOT contain an expected item. This has\nobviously not occured so far, but is useful when running functional\ntests against 2.latest, which is done in a following patch.\nPreviously, the expected something but got nothing case would throw a\nTypeError when attempting to match to the None response.\n\nIt turns out doing this bit of extra checking exposes some templates\nthat were using the empty string where null should have been used to\nindicate None. This patch corrects those.\n\nChange-Id: I6af7f51aa288f63113b96ec7a075554659ae0b6e\n'}, {'number': 4, 'created': '2017-02-13 02:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dde517865fff8b91575bb9f263058cc62118a698', 'message': 'api sample tests: handle response missing an item\n\nThis patch enables API sample tests to handle the case where a\nresponse from the Nova API does NOT contain an expected item. This has\nobviously not occured so far, but is useful when running functional\ntests against 2.latest, which is done in a following patch.\nPreviously, the expected something but got nothing case would throw a\nTypeError when attempting to match to the None response.\n\nIt turns out doing this bit of extra checking exposes some templates\nthat were using the empty string where null should have been used to\nindicate None. This patch corrects those.\n\nChange-Id: I6af7f51aa288f63113b96ec7a075554659ae0b6e\n'}, {'number': 5, 'created': '2017-02-14 10:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4089c382df0c3f6ec4797af891461aebd5fa9173', 'message': 'api sample tests: handle response missing an item\n\nThis patch enables API sample tests to handle the case where a\nresponse from the Nova API does NOT contain an expected item. This has\nobviously not occured so far, but is useful when running functional\ntests against 2.latest, which is done in a following patch.\nPreviously, the expected something but got nothing case would throw a\nTypeError when attempting to match to the None response.\n\nIt turns out doing this bit of extra checking exposes some templates\nthat were using the empty string where null should have been used to\nindicate None. This patch corrects those.\n\nChange-Id: I6af7f51aa288f63113b96ec7a075554659ae0b6e\n'}, {'number': 6, 'created': '2017-02-14 10:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc906c5e02d4abe5bd4220feed1c1a638e82f5ac', 'message': 'api sample tests: handle response missing an item\n\nThis patch enables API sample tests to handle the case where a\nresponse from the Nova API does NOT contain an expected item. This has\nobviously not occured so far, but is useful when running functional\ntests against 2.latest, which is done in a following patch.\nPreviously, the expected something but got nothing case would throw a\nTypeError when attempting to match to the None response.\n\nIt turns out doing this bit of extra checking exposes some templates\nthat were using the empty string where null should have been used to\nindicate None. This patch corrects those.\n\nChange-Id: I6af7f51aa288f63113b96ec7a075554659ae0b6e\n'}, {'number': 7, 'created': '2017-02-14 10:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9b817875a04232391bf969a126ae2271864dea5', 'message': 'api sample tests: handle response missing an item\n\nThis patch enables API sample tests to handle the case where a\nresponse from the Nova API does NOT contain an expected item. This has\nobviously not occured so far, but is useful when running functional\ntests against 2.latest, which is done in a following patch.\nPreviously, the expected something but got nothing case would throw a\nTypeError when attempting to match to the None response.\n\nIt turns out doing this bit of extra checking exposes some templates\nthat were using the empty string where null should have been used to\nindicate None. This patch corrects those.\n\nChange-Id: I6af7f51aa288f63113b96ec7a075554659ae0b6e\n'}, {'number': 8, 'created': '2017-02-14 11:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43520575325b53a31917a94b56e9c4c4f5431a68', 'message': 'api sample tests: handle response missing an item\n\nThis patch enables API sample tests to handle the case where a\nresponse from the Nova API does NOT contain an expected item. This has\nobviously not occured so far, but is useful when running functional\ntests against 2.latest, which is done in a following patch.\nPreviously, the expected something but got nothing case would throw a\nTypeError when attempting to match to the None response.\n\nIt turns out doing this bit of extra checking exposes some templates\nthat were using the empty string where null should have been used to\nindicate None. This patch corrects those.\n\nChange-Id: I6af7f51aa288f63113b96ec7a075554659ae0b6e\n'}, {'number': 9, 'created': '2017-02-14 12:40:34.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_samples/servers/v2.16/servers-details-resp.json.tpl', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.19/servers-details-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/servers/v2.19/server-get-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/741e54affad7c4bd7cef5e2e0fd9a5de00ecd30e', 'message': 'api sample tests: handle response missing an item\n\nThis patch enables API sample tests to handle the case where a\nresponse from the Nova API does NOT contain an expected item. This has\nobviously not occured so far, but is useful when running functional\ntests against 2.latest, which is done in a following patch.\nPreviously, the expected something but got nothing case would throw a\nTypeError when attempting to match to the None response.\n\nIt turns out doing this bit of extra checking exposes some templates\nthat were using the empty string where null should have been used to\nindicate None. This patch corrects those.\n\nChange-Id: I6af7f51aa288f63113b96ec7a075554659ae0b6e\n'}]",0,431738,741e54affad7c4bd7cef5e2e0fd9a5de00ecd30e,43,9,9,8864,,,0,"api sample tests: handle response missing an item

This patch enables API sample tests to handle the case where a
response from the Nova API does NOT contain an expected item. This has
obviously not occured so far, but is useful when running functional
tests against 2.latest, which is done in a following patch.
Previously, the expected something but got nothing case would throw a
TypeError when attempting to match to the None response.

It turns out doing this bit of extra checking exposes some templates
that were using the empty string where null should have been used to
indicate None. This patch corrects those.

Change-Id: I6af7f51aa288f63113b96ec7a075554659ae0b6e
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/431738/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api_samples_test_base.py'],1,d924c0016b0d1ae0bf4303fc0ad25811e928e366,bug/1658571," elif result is None: # Expected not None, result None. In other words, we expected # something and got nothing raise NoMatch('%(result_str)s: Expected %(expected)s, got None.' % {'result_str': result_str, 'expected': expected})",,5,0
openstack%2Fnova~master~Iccfa8ec5c5d5e45b94217bc219d58c225be24d0a,openstack/nova,master,Iccfa8ec5c5d5e45b94217bc219d58c225be24d0a,Remove config_drive attribute from build_requests table,ABANDONED,2017-02-11 01:25:56.000000000,2017-08-01 09:54:07.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18335}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-11 01:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c07cb865bdf6fd537b6cc1d26f5005c2376d50b', 'message': 'Remove config_drive attribute from build_requests table\n\nconfig_drive column from build_requests table is no\nlonger used.\n\nIt has been removed from data model as a part of this commit\nhttps://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b\n\nIn Pike, we can drop this from database schema.\n\nChange-Id: Iccfa8ec5c5d5e45b94217bc219d58c225be24d0a\nRelated-Bug: #1657529\nDepends-On: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e\n'}, {'number': 2, 'created': '2017-03-13 19:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c22fe571450747f8af7284981955270ed408205', 'message': 'Remove config_drive attribute from build_requests table\n\nconfig_drive column from build_requests table is no\nlonger used.\n\nIt has been removed from data model as a part of this commit\nhttps://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b\n\nIn Pike, we can drop this from database schema.\n\nChange-Id: Iccfa8ec5c5d5e45b94217bc219d58c225be24d0a\nRelated-Bug: #1657529\nDepends-On: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e\n'}, {'number': 3, 'created': '2017-03-13 19:36:34.000000000', 'files': ['nova/db/sqlalchemy/api_models.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/043_remove_column_config_drive.py', 'nova/tests/functional/db/api/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aac92036c593f2f92aae15575258e5d08c370f6d', 'message': 'Remove config_drive attribute from build_requests table\n\nconfig_drive column from build_requests table is no\nlonger used.\n\nIt has been removed from data model as a part of this commit\nhttps://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b\n\nIn Pike, we can drop this from database schema.\n\nChange-Id: Iccfa8ec5c5d5e45b94217bc219d58c225be24d0a\nRelated-Bug: #1657529\nDepends-On: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e\n'}]",0,432511,aac92036c593f2f92aae15575258e5d08c370f6d,29,12,3,18335,,,0,"Remove config_drive attribute from build_requests table

config_drive column from build_requests table is no
longer used.

It has been removed from data model as a part of this commit
https://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b

In Pike, we can drop this from database schema.

Change-Id: Iccfa8ec5c5d5e45b94217bc219d58c225be24d0a
Related-Bug: #1657529
Depends-On: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/432511/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/042_remove_column_config_drive.py', 'nova/db/sqlalchemy/api_models.py', 'nova/tests/functional/db/api/test_migrations.py']",3,1c07cb865bdf6fd537b6cc1d26f5005c2376d50b,bugs/1657529," def _check_042(self, engine, data): self.assertColumnNotExists(engine, 'build_requests', 'config_drive') ",,28,2
openstack%2Fnova~master~If264ac285dea18c3a74b3632f73c5fdbd21ff368,openstack/nova,master,If264ac285dea18c3a74b3632f73c5fdbd21ff368,[POC][placement] List resource provider with required and preferred traits,ABANDONED,2017-02-05 11:14:50.000000000,2017-08-01 09:54:06.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-05 11:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f106ffc40ba30ca1d322b8e875919372a87ac7d9', 'message': 'List resource provider with required and preferred traits\n\nPart of implementation blueprint resource-provider-tags\n\nChange-Id: If264ac285dea18c3a74b3632f73c5fdbd21ff368\n'}, {'number': 2, 'created': '2017-02-05 11:40:24.000000000', 'files': ['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/46bc357a643ce202c35b9edf52333992d9a26626', 'message': '[POC][placement] List resource provider with required and preferred traits\n\nPart of implementation blueprint resource-provider-tags\n\nChange-Id: If264ac285dea18c3a74b3632f73c5fdbd21ff368\n'}]",1,429364,46bc357a643ce202c35b9edf52333992d9a26626,18,14,2,5754,,,0,"[POC][placement] List resource provider with required and preferred traits

Part of implementation blueprint resource-provider-tags

Change-Id: If264ac285dea18c3a74b3632f73c5fdbd21ff368
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/429364/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py']",2,f106ffc40ba30ca1d322b8e875919372a87ac7d9,bp/resource-provider-tags," def test_get_rp_with_required_traits(self): rp1 = objects.ResourceProvider( context=self.context, uuid=uuidsentinel.fake_rp1, name=uuidsentinel.fake_rp1_name ) rp2 = objects.ResourceProvider( context=self.context, uuid=uuidsentinel.fake_rp2, name=uuidsentinel.fake_rp2_name ) rp1.create() rp2.create() trait_names = ['CUSTOM:TRAIT:A', 'CUSTOM:TRAIT:B'] objects.TraitList.update_all(self.context, trait_names) traits = objects.TraitList.get_all(self.context, filters={'traits': trait_names}) # rp1 attached with 'CUSTOM:TRAIT:A' and 'CUSTOM:TRAIT:B' rp1.set_traits(traits) traits = objects.TraitList.get_all(self.context, filters={'traits': ['CUSTOM:TRAIT:A']}) # rp2 only attached with 'CUSTOM:TRAIT:A' rp2.set_traits(traits) rps = objects.ResourceProviderList.get_all_by_filters(self.context, filters={'required_traits': ['CUSTOM:TRAIT:A', 'CUSTOM:TRAIT:B']}) self.assertEqual(1, len(rps)) self.assertEqual(uuidsentinel.fake_rp1, rps[0].uuid) def test_get_rp_with_preferred_traits(self): rp1 = objects.ResourceProvider( context=self.context, uuid=uuidsentinel.fake_rp1, name=uuidsentinel.fake_rp1_name ) rp2 = objects.ResourceProvider( context=self.context, uuid=uuidsentinel.fake_rp2, name=uuidsentinel.fake_rp2_name ) rp1.create() rp2.create() trait_names = ['CUSTOM:TRAIT:A', 'CUSTOM:TRAIT:B'] objects.TraitList.update_all(self.context, trait_names) traits = objects.TraitList.get_all(self.context, filters={'traits': trait_names}) # rp1 attached with 'CUSTOM:TRAIT:A' and 'CUSTOM:TRAIT:B' rp1.set_traits(traits) traits = objects.TraitList.get_all(self.context, filters={'traits': ['CUSTOM:TRAIT:A']}) # rp2 only attached with 'CUSTOM:TRAIT:A' rp2.set_traits(traits) rps = objects.ResourceProviderList.get_all_by_filters(self.context, filters={'preferred_traits': ['CUSTOM:TRAIT:A', 'CUSTOM:TRAIT:B']}) self.assertEqual(2, len(rps)) self.assertEqual(rps[0].uuid, uuidsentinel.fake_rp1) self.assertEqual(rps[1].uuid, uuidsentinel.fake_rp2) def test_get_rp_with_required_and_preferred_traits(self): rp1 = objects.ResourceProvider( context=self.context, uuid=uuidsentinel.fake_rp1, name=uuidsentinel.fake_rp1_name ) rp2 = objects.ResourceProvider( context=self.context, uuid=uuidsentinel.fake_rp2, name=uuidsentinel.fake_rp2_name ) rp3 = objects.ResourceProvider( context=self.context, uuid=uuidsentinel.fake_rp3, name=uuidsentinel.fake_rp3_name ) rp4 = objects.ResourceProvider( context=self.context, uuid=uuidsentinel.fake_rp4, name=uuidsentinel.fake_rp4_name ) rp1.create() rp2.create() rp3.create() rp4.create() trait_names = ['CUSTOM:TRAIT:A', 'CUSTOM:TRAIT:B', 'CUSTOM:TRAIT:C', 'CUSTOM:TRAIT:D'] objects.TraitList.update_all(self.context, trait_names) traits = objects.TraitList.get_all(self.context, filters={'traits': trait_names}) # rp1 attached with 'CUSTOM:TRAIT:A', 'CUSTOM:TRAIT:B', # 'CUSTOM:TRAIT:C', 'CUSTOM:TRAIT:D' rp1.set_traits(traits) traits = objects.TraitList.get_all(self.context, filters={'traits': ['CUSTOM:TRAIT:A','CUSTOM:TRAIT:B', 'CUSTOM:TRAIT:C']}) # rp2 only attached with 'CUSTOM:TRAIT:A', 'CUSTOM:TRAIT:B', # 'CUSTOM:TRAIT:C' rp2.set_traits(traits) traits = objects.TraitList.get_all(self.context, filters={'traits': ['CUSTOM:TRAIT:A', 'CUSTOM:TRAIT:B']}) # rp3 only attached with 'CUSTOM:TRAIT:A', 'CUSTOM:TRAIT:B' rp3.set_traits(traits) traits = objects.TraitList.get_all(self.context, filters={'traits': ['CUSTOM:TRAIT:A']}) # rp4 only attached with 'CUSTOM:TRAIT:A' rp4.set_traits(traits) rps = objects.ResourceProviderList.get_all_by_filters(self.context, filters={'required_traits': ['CUSTOM:TRAIT:A', 'CUSTOM:TRAIT:B'], 'preferred_traits': ['CUSTOM:TRAIT:C', 'CUSTOM:TRAIT:D']}) self.assertEqual(3, len(rps)) self.assertEqual(rps[0].uuid, uuidsentinel.fake_rp1) self.assertEqual(rps[1].uuid, uuidsentinel.fake_rp2) self.assertEqual(rps[2].uuid, uuidsentinel.fake_rp3)",,200,1
openstack%2Fnova~master~Ia8b761f3f790392ce44bcec73c05609a6ad5372b,openstack/nova,master,Ia8b761f3f790392ce44bcec73c05609a6ad5372b,Remove the Microversion header when 406 returned,ABANDONED,2016-12-01 06:20:21.000000000,2017-08-01 09:54:05.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20191}]","[{'number': 1, 'created': '2016-12-01 06:20:21.000000000', 'files': ['nova/api/openstack/wsgi.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/66f0ae82591bc482e8bebe2881679f6fcee21529', 'message': ""Remove the Microversion header when 406 returned\n\nCurrently we return HTTP header 'OpenStack-API-Version'/'X-OpenStack-\nNova-API-Version' in the response. Then user can know the version that\nis processed by API server.\n\nBut there also have microversion header with unaccepted version when\n406 returned. This patch removes the microversion header when 406\nreturned.\n\nChange-Id: Ia8b761f3f790392ce44bcec73c05609a6ad5372b\nCloses-Bug: #1646357\n""}]",0,405118,66f0ae82591bc482e8bebe2881679f6fcee21529,20,17,1,5754,,,0,"Remove the Microversion header when 406 returned

Currently we return HTTP header 'OpenStack-API-Version'/'X-OpenStack-
Nova-API-Version' in the response. Then user can know the version that
is processed by API server.

But there also have microversion header with unaccepted version when
406 returned. This patch removes the microversion header when 406
returned.

Change-Id: Ia8b761f3f790392ce44bcec73c05609a6ad5372b
Closes-Bug: #1646357
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/405118/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/wsgi.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py']",2,66f0ae82591bc482e8bebe2881679f6fcee21529,bug/1646357," def test_microversions_return_no_header_when_406(self, mock_namespace, mock_maxver): mock_maxver.return_value = api_version.APIVersionRequest(""3.0"") app = fakes.wsgi_app_v21(init_only='test-microversions') req = fakes.HTTPRequest.blank('/v2/fake/microversions') req.headers = self._make_header('3.5') res = req.get_response(app) self.assertEqual(406, res.status_int) self.assertNotIn(self.header_name, res.headers) @mock.patch(""nova.api.openstack.api_version_request.max_api_version"") @mock.patch(""nova.api.openstack.APIRouterV21.api_extension_namespace"", return_value='nova.api.v21.test_extensions')",,15,1
openstack%2Fnova~master~Ia9e812ad95b806b92b1785683f3176526b09a482,openstack/nova,master,Ia9e812ad95b806b92b1785683f3176526b09a482,Fix import method to follow community guideline,ABANDONED,2016-12-02 01:29:14.000000000,2017-08-01 09:54:04.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20191}, {'_account_id': 22104}]","[{'number': 1, 'created': '2016-12-02 01:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4cb7a08ba21a26209b39f03f7d06e9c7de9f488', 'message': 'Fix import method to follow community guideline\n\nInstead of ""from i18n import _ \n            from i18n import _LE""\nthis style ""from i18n import _, _LE"" is recommended as community guideline [1].\n[1]http://docs.openstack.org/developer/hacking/#real-world-import-order-examples\n\nChange-Id: Ia9e812ad95b806b92b1785683f3176526b09a482\n'}, {'number': 2, 'created': '2016-12-02 01:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e04b15c5fa1abbda2b6eb8c7cbc6bd067ad2f174', 'message': 'Fix import method to follow community guideline\n\nInstead of ""from i18n import _ \n            from i18n import _LE""\nthis style ""from i18n import _, _LE"" is recommended as community guideline [1].\n[1]http://docs.openstack.org/developer/hacking/#real-world-import-order-examples\n\nChange-Id: Ia9e812ad95b806b92b1785683f3176526b09a482\n'}, {'number': 3, 'created': '2016-12-02 01:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ba2c2d728eaf333c6ed635738895fefd9431177', 'message': 'Fix import method to follow community guideline\n\nInstead of ""from i18n import _ \n            from i18n import _LE""\nthis style ""from i18n import _, _LE"" is recommended as community guideline [1].\n[1]http://docs.openstack.org/developer/hacking/#real-world-import-order-examples\n\nChange-Id: Ia9e812ad95b806b92b1785683f3176526b09a482\n'}, {'number': 4, 'created': '2016-12-06 01:26:38.000000000', 'files': ['nova/api/auth.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/api/metadata/handler.py', 'nova/api/openstack/compute/server_groups.py', 'nova/api/ec2/ec2utils.py', 'nova/compute/claims.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/virt/disk/api.py', 'nova/api/openstack/compute/servers.py', 'nova/api/openstack/wsgi.py', 'nova/api/openstack/compute/server_external_events.py', 'nova/console/websocketproxy.py', 'nova/compute/manager.py', 'nova/api/openstack/compute/floating_ips.py', 'nova/compute/api.py', 'nova/api/openstack/extensions.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/87d6a1d75cab631ccca7eb7f3bef59d0ed11ac16', 'message': 'Fix import method to follow community guideline\n\nInstead of ""from i18n import _ \n            from i18n import _LE""\nthis style ""from i18n import _, _LE"" is recommended as community guideline [1].\n[1]http://docs.openstack.org/developer/hacking/#real-world-import-order-examples\n\nChange-Id: Ia9e812ad95b806b92b1785683f3176526b09a482\n'}]",0,405703,87d6a1d75cab631ccca7eb7f3bef59d0ed11ac16,34,14,4,22104,,,0,"Fix import method to follow community guideline

Instead of ""from i18n import _ 
            from i18n import _LE""
this style ""from i18n import _, _LE"" is recommended as community guideline [1].
[1]http://docs.openstack.org/developer/hacking/#real-world-import-order-examples

Change-Id: Ia9e812ad95b806b92b1785683f3176526b09a482
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/405703/4 && git format-patch -1 --stdout FETCH_HEAD,[],0,a4cb7a08ba21a26209b39f03f7d06e9c7de9f488,,,,0,0
openstack%2Fnova~master~I9ae0f867a8efdfa8dd6a1471df97303c98278fd7,openstack/nova,master,I9ae0f867a8efdfa8dd6a1471df97303c98278fd7,WIP(6): Introduce base PowerVM driver (ssp drv),ABANDONED,2017-01-19 12:51:21.000000000,2017-08-01 09:54:03.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 8190}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13883}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16710}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 25027}]","[{'number': 1, 'created': '2017-01-19 12:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62aeebec4b8a95a1da4d33098783afd16ff07f7d', 'message': 'WIP(6): Introduce base PowerVM driver (ssp drv)\n\nThis change set adds the ssp disk support for the PowerVM driver.\n\nChange-Id: I9ae0f867a8efdfa8dd6a1471df97303c98278fd7\n'}, {'number': 2, 'created': '2017-01-24 06:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad287242680c84299bed4a107fb1343123f65b81', 'message': 'WIP(6): Introduce base PowerVM driver (ssp drv)\n\nThis change set adds the ssp disk support for the PowerVM driver.\n\nChange-Id: I9ae0f867a8efdfa8dd6a1471df97303c98278fd7\n'}, {'number': 3, 'created': '2017-01-26 14:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b78f3acb9f6b415e6ede022057a73f2921ef856', 'message': 'WIP(6): Introduce base PowerVM driver (ssp drv)\n\nThis change set adds the ssp disk support for the PowerVM driver.\n\nChange-Id: I9ae0f867a8efdfa8dd6a1471df97303c98278fd7\n'}, {'number': 4, 'created': '2017-02-17 19:03:47.000000000', 'files': ['nova/virt/powervm/disk/ssp.py', 'nova/exception.py', 'nova/tests/unit/virt/powervm/disk/test_ssp.py', 'nova/conf/powervm.py', 'nova/virt/powervm/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/66d34786d72902984f0c57884a06f3ff2ce7bc1f', 'message': 'WIP(6): Introduce base PowerVM driver (ssp drv)\n\nThis change set adds the ssp disk support for the PowerVM driver.\n\nChange-Id: I9ae0f867a8efdfa8dd6a1471df97303c98278fd7\n'}]",0,422594,66d34786d72902984f0c57884a06f3ff2ce7bc1f,51,19,4,10347,,,0,"WIP(6): Introduce base PowerVM driver (ssp drv)

This change set adds the ssp disk support for the PowerVM driver.

Change-Id: I9ae0f867a8efdfa8dd6a1471df97303c98278fd7
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/422594/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/powervm/disk/ssp.py', 'nova/conf/powervm.py', 'nova/virt/powervm/driver.py']",3,62aeebec4b8a95a1da4d33098783afd16ff07f7d,ssp,"from oslo_utils import importutilsDISK_ADPT_NS = 'nova.virt.powervm.disk' DISK_ADPT_MAPPINGS = { 'localdisk': 'localdisk.LocalStorage', 'ssp': 'ssp.SSPDiskAdapter' } # Initialize the disk adapter. Sets self.disk_dvr self._setup_disk_adapter() def _setup_disk_adapter(self): """"""Set up the nova ephemeral disk adapter."""""" self.disk_dvr = importutils.import_object_ns( DISK_ADPT_NS, DISK_ADPT_MAPPINGS[CONF.powervm.disk_driver.lower()], self.adapter, self.host_uuid) ","from nova.virt.powervm.disk import localdisk # Initialize the disk adapter. For now, only support localdisk # TODO(thorst,efried) Add support for SSP disk adapter, choice via # conf option. self.disk_dvr = localdisk.LocalStorage(self.adapter, self.host_uuid)",447,7
openstack%2Fnova~master~I7ac69ad69387b4df9ab57ebaf079f154309c68ba,openstack/nova,master,I7ac69ad69387b4df9ab57ebaf079f154309c68ba,Avoid logging entire CellMapping objects,ABANDONED,2017-03-07 00:13:12.000000000,2017-08-01 09:54:02.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-07 00:13:12.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eb16247bd63239896d6c4e00629c40e3c3fd4cd4', 'message': 'Avoid logging entire CellMapping objects\n\nThis removes code that would log CellMapping objects at debug level,\nwhich could contain database and mq credentials.\n\nCloses-Bug: #1670525\nChange-Id: I7ac69ad69387b4df9ab57ebaf079f154309c68ba\n'}]",6,442211,eb16247bd63239896d6c4e00629c40e3c3fd4cd4,24,17,1,4393,,,0,"Avoid logging entire CellMapping objects

This removes code that would log CellMapping objects at debug level,
which could contain database and mq credentials.

Closes-Bug: #1670525
Change-Id: I7ac69ad69387b4df9ab57ebaf079f154309c68ba
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/442211/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,eb16247bd63239896d6c4e00629c40e3c3fd4cd4,bug/1670525," dict(count=len(CELLS), cells=', '.join([c.name or c.uuid for c in CELLS])))"," dict(count=len(CELLS), cells=CELLS))",13,9
openstack%2Fnova~master~Iee3de85a819a73ca720eee0f489fd7d5ddfad9d1,openstack/nova,master,Iee3de85a819a73ca720eee0f489fd7d5ddfad9d1,Fixtures for 2.latest api sample tests,ABANDONED,2017-02-09 19:35:14.000000000,2017-08-01 09:54:01.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-09 19:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a83889fcd895f36b227bb3499d78709a4dce679', 'message': 'Use unique volume id in fake_volume\n\nPreviously the volume id was a sentinel, and was thus shared among all\nvolumes managed by the fake_volume driver. This could cause problems\n(and has caused problems in the following patch) if multiple tests\nuse fake_volume simultaneously. This patch moves to generating volume\nids dynamically, making sure they are all unique. An extra **kwargs is\nalso added to the create() method to make it more future-proof, since\nits current keyword arguments are not exhaustive.\n\nChange-Id: Iee3de85a819a73ca720eee0f489fd7d5ddfad9d1\n'}, {'number': 2, 'created': '2017-02-12 22:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f0858a8209c58d2b0eb5222cfcb17964608e745', 'message': 'Use unique volume id in fake_volume\n\nPreviously the volume id was a sentinel, and was thus shared among all\nvolumes managed by the fake_volume driver. This could cause problems\n(and has caused problems in the following patch) if multiple tests\nuse fake_volume simultaneously. This patch moves to generating volume\nids dynamically, making sure they are all unique. An extra **kwargs is\nalso added to the create() method to make it more future-proof, since\nits current keyword arguments are not exhaustive.\n\nChange-Id: Iee3de85a819a73ca720eee0f489fd7d5ddfad9d1\n'}, {'number': 3, 'created': '2017-02-14 10:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e82c30230f9f19bc5932a8dabc304b88efe475de', 'message': ""Stub network and volume api in api sample tests\n\nIn preparation for running api sample tests against 2.latest, stub the\nnetwork methods and use the fake_volume API. To support this,\nfake_volume now uses a real volume_id. Previously the volume id was a\nsentinel, and was thus shared among all volumes managed by the\nfake_volume driver. This could cause problems if multiple tests use\nfake_volume simultaneously. This patch moves to generating volume ids\ndynamically, making sure they are all unique. An extra **kwargs is\nalso added to the create() method since some tests will call it with\nkwargs it doesn't explicitly declare.\n\nChange-Id: Iee3de85a819a73ca720eee0f489fd7d5ddfad9d1\n""}, {'number': 4, 'created': '2017-02-14 10:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9f73c4b53fcff4362840ff31f863e1e2fbe5c19', 'message': ""Stub network and volume api in api sample tests\n\nIn preparation for running api sample tests against 2.latest, stub the\nnetwork methods and use the fake_volume API. To support this,\nfake_volume now uses a real volume_id. Previously the volume id was a\nsentinel, and was thus shared among all volumes managed by the\nfake_volume driver. This could cause problems if multiple tests use\nfake_volume simultaneously. This patch moves to generating volume ids\ndynamically, making sure they are all unique. An extra **kwargs is\nalso added to the create() method since some tests will call it with\nkwargs it doesn't explicitly declare.\n\nChange-Id: Iee3de85a819a73ca720eee0f489fd7d5ddfad9d1\n""}, {'number': 5, 'created': '2017-02-14 11:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99323e05bbc36cdaffc3d840e2c7af9f5ce0bfd8', 'message': 'Fakes and stubs for 2.latest api sample tests\n\nIn preparation for running api sample tests against 2.latest:\n\n* fake libvirt now ""supports"" device tagging\n* network methods are stubbed\n* fake_volume API is used.\n\nfake_volume now uses a real volume_id. Previously the volume id was a\nsentinel, and was thus shared among all volumes managed by the\nfake_volume driver. This could cause problems if multiple tests use\nfake_volume simultaneously. This patch moves to generating volume ids\ndynamically, making sure they are all unique. An extra **kwargs is\nalso added to the create() method since some tests will call it with\nkwargs it doesn\'t explicitly declare.\n\nChange-Id: Iee3de85a819a73ca720eee0f489fd7d5ddfad9d1\n'}, {'number': 6, 'created': '2017-02-14 12:40:34.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/virt/fake.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/593d5f72951bf09191438acd364532e03e1e840a', 'message': 'Fixtures for 2.latest api sample tests\n\nIn preparation for running api sample tests against 2.latest, we begin\nusing the Cinder and Neutron fixtures. Also, the fake libvirt driver\nnow ""supports"" device tagging.\n\nChange-Id: Iee3de85a819a73ca720eee0f489fd7d5ddfad9d1\n'}]",4,431723,593d5f72951bf09191438acd364532e03e1e840a,38,17,6,8864,,,0,"Fixtures for 2.latest api sample tests

In preparation for running api sample tests against 2.latest, we begin
using the Cinder and Neutron fixtures. Also, the fake libvirt driver
now ""supports"" device tagging.

Change-Id: Iee3de85a819a73ca720eee0f489fd7d5ddfad9d1
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/431723/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/fake_volume.py'],1,2a83889fcd895f36b227bb3499d78709a4dce679,bug/1658571," volume_id = 1 volume_id = str(fake_volume.volume_id) fake_volume.volume_id = fake_volume.volume_id + 1 volume_type=None, metadata=None, availability_zone=None, **kwargs):"," volume_id = uuids.fake1 volume_type=None, metadata=None, availability_zone=None):",5,2
openstack%2Fnova~master~I364f415ce30b29a20746ef9fe49105cbabfcc00c,openstack/nova,master,I364f415ce30b29a20746ef9fe49105cbabfcc00c,libvirt: Enable custom video vgamem setting,ABANDONED,2016-12-15 09:37:05.000000000,2017-08-01 09:53:59.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4428}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-12-15 09:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3613ac64a6b330b5065e3a09fd1495a2bcbc7d34', 'message': 'libvirt: Enable custom video vgamem setting\n\nhw_video_vgamem can be provided via the image properties in Glance same as\nhw_video_ram. The value should be provided in MB.\n\n    glance image-update \\\n       --property hw_video_model=qxl \\\n       --property hw_video_vgamem=64 \\\n       [image]\n\nDocImpact\n\nChange-Id: I364f415ce30b29a20746ef9fe49105cbabfcc00c\nCloses-bug: #1650160\n'}, {'number': 2, 'created': '2017-01-03 07:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61dcfc49cd026fc54accc7c005edf8aa2c514dbd', 'message': 'libvirt: Enable custom video vgamem setting\n\nhw_video_vgamem can be provided via the image properties in Glance same as\nhw_video_ram. The value should be provided in MB.\n\n    glance image-update \\\n       --property hw_video_model=qxl \\\n       --property hw_video_vgamem=64 \\\n       [image]\n\nDocImpact\n\nChange-Id: I364f415ce30b29a20746ef9fe49105cbabfcc00c\nCloses-bug: #1650160\n'}, {'number': 3, 'created': '2017-02-07 05:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbfc7e328ed5a6f0be71bf51889bdb9050026ff3', 'message': 'libvirt: Enable custom video vgamem setting\n\nhw_video_vgamem can be provided via the image properties in Glance same as\nhw_video_ram. The value should be provided in MB.\n\n    glance image-update \\\n       --property hw_video_model=qxl \\\n       --property hw_video_vgamem=64 \\\n       [image]\n\nDocImpact\n\nChange-Id: I364f415ce30b29a20746ef9fe49105cbabfcc00c\nCloses-bug: #1650160\n'}, {'number': 4, 'created': '2017-02-28 03:51:26.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/objects/test_image_meta.py', 'nova/tests/unit/fake_request_spec.py', 'nova/objects/image_meta.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/92e1cf4a58959dbfb70cbc4572618213a0000d51', 'message': 'libvirt: Enable custom video vgamem setting\n\nhw_video_vgamem can be provided via the image properties in Glance same as\nhw_video_ram. The value should be provided in MB.\n\n    glance image-update \\\n       --property hw_video_model=qxl \\\n       --property hw_video_vgamem=64 \\\n       [image]\n\nDocImpact\n\nChange-Id: I364f415ce30b29a20746ef9fe49105cbabfcc00c\nImplemented blueprint: support-vgamem\n'}]",5,411191,92e1cf4a58959dbfb70cbc4572618213a0000d51,57,17,4,4428,,,0,"libvirt: Enable custom video vgamem setting

hw_video_vgamem can be provided via the image properties in Glance same as
hw_video_ram. The value should be provided in MB.

    glance image-update \
       --property hw_video_model=qxl \
       --property hw_video_vgamem=64 \
       [image]

DocImpact

Change-Id: I364f415ce30b29a20746ef9fe49105cbabfcc00c
Implemented blueprint: support-vgamem
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/411191/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/objects/test_image_meta.py', 'nova/tests/unit/fake_request_spec.py', 'nova/objects/image_meta.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,3613ac64a6b330b5065e3a09fd1495a2bcbc7d34,bp/support-vgamem," def test_get_guest_config_with_video_driver_vgamem(self): self.flags(enabled=False, group='vnc') self.flags(virt_type='kvm', group='libvirt') self.flags(enabled=True, agent_enabled=True, group='spice') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict({ ""disk_format"": ""raw"", ""properties"": {""hw_video_model"": ""qxl"", ""hw_video_vgamem"": ""64""}}) disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref, image_meta) cfg = drvr._get_guest_config(instance_ref, [], image_meta, disk_info) self.assertEqual(len(cfg.devices), 8) self.assertIsInstance(cfg.devices[0], vconfig.LibvirtConfigGuestDisk) self.assertIsInstance(cfg.devices[1], vconfig.LibvirtConfigGuestDisk) self.assertIsInstance(cfg.devices[2], vconfig.LibvirtConfigGuestSerial) self.assertIsInstance(cfg.devices[3], vconfig.LibvirtConfigGuestSerial) self.assertIsInstance(cfg.devices[4], vconfig.LibvirtConfigGuestChannel) self.assertIsInstance(cfg.devices[5], vconfig.LibvirtConfigGuestGraphics) self.assertIsInstance(cfg.devices[6], vconfig.LibvirtConfigGuestVideo) self.assertIsInstance(cfg.devices[7], vconfig.LibvirtConfigMemoryBalloon) self.assertEqual(cfg.devices[5].type, ""spice"") self.assertEqual(cfg.devices[6].type, ""qxl"") self.assertEqual(cfg.devices[6].vgamem, 64 * units.Mi / units.Ki) ",,53,1
openstack%2Fnova~master~I7c31008d338c844448c40c11890ba3b7f0dccc40,openstack/nova,master,I7c31008d338c844448c40c11890ba3b7f0dccc40,Wrap attachment operation with the try-except,ABANDONED,2016-12-07 03:20:38.000000000,2017-08-01 09:53:58.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 23006}]","[{'number': 1, 'created': '2016-12-07 03:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9301e4dcdf83531409cc54521a345d4fa4ac6af2', 'message': 'Move attach operation into the try-except\n\nIf attach operation has exception, I think it either need to stop\nand raise an exception or need to undo the attach operation.\n\nChange-Id: I7c31008d338c844448c40c11890ba3b7f0dccc40\n'}, {'number': 2, 'created': '2016-12-07 06:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d47bb4cd10936b07bc15b5b4cf0d3363e91d8cb', 'message': 'Wrap attach operation into the try-except\n\nIf attach operation has exception, I think it either need to stop\nand raise an exception or need to undo the attach operation.\n\nChange-Id: I7c31008d338c844448c40c11890ba3b7f0dccc40\n'}, {'number': 3, 'created': '2016-12-07 06:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6676990038a4d1d3c8d2399ba67ef5bcfbcabb0', 'message': 'Wrap attachment operation with the try-except\n\nIf attachment operation has exception, I think it either need to\nstop and raise an exception or need to undo the attachment\noperation.\n\nChange-Id: I7c31008d338c844448c40c11890ba3b7f0dccc40\n'}, {'number': 4, 'created': '2016-12-07 06:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb9c05b98945398efa07b52240f47fb33363d89a', 'message': 'Wrap attachment operation with the try-except\n\nIf attachment operation has exception, I think it either need to\nstop and raise an exception or need to undo the attachment\noperation.\n\nChange-Id: I7c31008d338c844448c40c11890ba3b7f0dccc40\n'}, {'number': 5, 'created': '2016-12-07 08:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e24b5b6307d7eb5d816e569640cf54973cde926c', 'message': 'Wrap attachment operation with the try-except\n\nIf attachment operation has exception, I think it either need to\nstop and raise an exception or need to undo the attachment\noperation.\n\nChange-Id: I7c31008d338c844448c40c11890ba3b7f0dccc40\n'}, {'number': 6, 'created': '2016-12-08 02:54:18.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b660dd6be1aae8e7c743035da448e3aa9b2febc', 'message': 'Wrap attachment operation with the try-except\n\nIf attachment operation has exception, I think it either need to\nstop and raise an exception or need to undo the attachment\noperation.\n\nChange-Id: I7c31008d338c844448c40c11890ba3b7f0dccc40\n'}]",3,407828,0b660dd6be1aae8e7c743035da448e3aa9b2febc,41,13,6,23006,,,0,"Wrap attachment operation with the try-except

If attachment operation has exception, I think it either need to
stop and raise an exception or need to undo the attachment
operation.

Change-Id: I7c31008d338c844448c40c11890ba3b7f0dccc40
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/407828/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,9301e4dcdf83531409cc54521a345d4fa4ac6af2,connect-in-try," self._connect_volume(connection_info, disk_info)"," self._connect_volume(connection_info, disk_info)",2,1
openstack%2Fnova~master~I5140c847f8e1a197b6948cb57e2aab35569edf26,openstack/nova,master,I5140c847f8e1a197b6948cb57e2aab35569edf26,WIP Clean up and consolidate client creation,ABANDONED,2017-02-27 14:32:40.000000000,2017-08-01 09:53:56.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-27 14:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc5c68142fe3c2fec074a383159f70ba1821daed', 'message': 'Use adapter instead of ks_filter\n\nThere is no need to pass ks_filter to Session.get every time. Instead,\ncreate an adapter.Adapter that is mounted on the endpoint desired and\nmake calls directly on that. It makes the code at the calling code much\nclearer.\n\nChange-Id: I5140c847f8e1a197b6948cb57e2aab35569edf26\n'}, {'number': 2, 'created': '2017-02-28 19:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db1b3b2a46cbead98bc9c603d0cd24e354df12cd', 'message': ""WIP Clean up and consolidate client creation\n\n***This patch will absolutely not pass tests yet. You probably shouldn't\nlook at it if you don't want your eyes stabbed out by pain. It depends\non a set of patches in os-client-config that we can't even depends-on\nyet. It's only being pushed up in this state so it can be discussed.***\n\nCorrectly creating auth plugins and sessions and using them for REST\ncalls and/or client constructors is clearly hard. Harder than it should\nbe if the wide array of approaches to dealing with the problem just in\nthis one repo are any indication.\n\nHowever, we've solved most of these for our end-users over in\nos-client-config. While many of the approaches taken there are wildly\nunsuitable for intra-service use, adding some helper glue code to OCC to\nprovide an API for service-to-service use wasn't too bad.\n\nThere are still a few more parameters that get passed that need\ncargo-culting between call sites than I'd prefer in a totally happy\nworld, but there are some existing flexibilities in approach that need\nto be accounted for. In the corresponding OCC patch,\nI5ba8c1738aee3adaded404c265a26544493d6a33, docs were added to hopefully\nbe really clear about what each parameter does and more importantly why\na service developer might choose to use one or more of them.\n\nChange-Id: I5140c847f8e1a197b6948cb57e2aab35569edf26\n""}, {'number': 3, 'created': '2017-03-23 18:25:21.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/service_auth.py', 'nova/virt/ironic/client_wrapper.py', 'nova/cmd/status.py', 'nova/volume/cinder.py', 'nova/tests/unit/test_cinder.py', 'nova/image/glance.py', 'nova/scheduler/client/report.py', 'nova/api/openstack/identity.py', 'nova/api/metadata/vendordata_dynamic.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eedeedb38dcfac8e4af4b118d640392f3f6ac577', 'message': ""WIP Clean up and consolidate client creation\n\n***This patch will absolutely not pass tests yet. You probably shouldn't\nlook at it if you don't want your eyes stabbed out by pain. It depends\non a set of patches in os-client-config that we can't even depends-on\nyet. It's only being pushed up in this state so it can be discussed.***\n\nCorrectly creating auth plugins and sessions and using them for REST\ncalls and/or client constructors is clearly hard. Harder than it should\nbe if the wide array of approaches to dealing with the problem just in\nthis one repo are any indication.\n\nHowever, we've solved most of these for our end-users over in\nos-client-config. While many of the approaches taken there are wildly\nunsuitable for intra-service use, adding some helper glue code to OCC to\nprovide an API for service-to-service use wasn't too bad.\n\nThere are still a few more parameters that get passed that need\ncargo-culting between call sites than I'd prefer in a totally happy\nworld, but there are some existing flexibilities in approach that need\nto be accounted for. In the corresponding OCC patch,\nI5ba8c1738aee3adaded404c265a26544493d6a33, docs were added to hopefully\nbe really clear about what each parameter does and more importantly why\na service developer might choose to use one or more of them.\n\nChange-Id: I5140c847f8e1a197b6948cb57e2aab35569edf26\n""}]",2,438512,eedeedb38dcfac8e4af4b118d640392f3f6ac577,33,15,3,2,,,0,"WIP Clean up and consolidate client creation

***This patch will absolutely not pass tests yet. You probably shouldn't
look at it if you don't want your eyes stabbed out by pain. It depends
on a set of patches in os-client-config that we can't even depends-on
yet. It's only being pushed up in this state so it can be discussed.***

Correctly creating auth plugins and sessions and using them for REST
calls and/or client constructors is clearly hard. Harder than it should
be if the wide array of approaches to dealing with the problem just in
this one repo are any indication.

However, we've solved most of these for our end-users over in
os-client-config. While many of the approaches taken there are wildly
unsuitable for intra-service use, adding some helper glue code to OCC to
provide an API for service-to-service use wasn't too bad.

There are still a few more parameters that get passed that need
cargo-culting between call sites than I'd prefer in a totally happy
world, but there are some existing flexibilities in approach that need
to be accounted for. In the corresponding OCC patch,
I5ba8c1738aee3adaded404c265a26544493d6a33, docs were added to hopefully
be really clear about what each parameter does and more importantly why
a service developer might choose to use one or more of them.

Change-Id: I5140c847f8e1a197b6948cb57e2aab35569edf26
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/438512/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,fc5c68142fe3c2fec074a383159f70ba1821daed,occ-service-client,"from keystoneauth1 import adapter self._session = keystone.load_session_from_conf_options( self._client = adapter.Adapter( self._session, service_type='placement', region_name=CONF.placement.os_region_name, interface=CONF.placement.os_interface) raise_exc=False, **kwargs) raise_exc=False) raise_exc=False) raise_exc=False)"," self._client = keystone.load_session_from_conf_options( self.ks_filter = {'service_type': 'placement', 'region_name': CONF.placement.os_region_name, 'interface': CONF.placement.os_interface} endpoint_filter=self.ks_filter, raise_exc=False, **kwargs) endpoint_filter=self.ks_filter, raise_exc=False) endpoint_filter=self.ks_filter, raise_exc=False) endpoint_filter=self.ks_filter, raise_exc=False)",11,8
openstack%2Fnova~master~Ibf04c18a612e4fd59a296319c29008268b24a808,openstack/nova,master,Ibf04c18a612e4fd59a296319c29008268b24a808,Tests: Add cleanup of 'instances' directory,ABANDONED,2017-02-14 22:03:45.000000000,2017-08-01 09:53:54.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 19590}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-14 22:03:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/bd227487411cdb13b756703cd8ed8de976b80832', 'message': ""Tests: Add cleanup of 'instances' directory\n\n'instances' directory was never cleaned up, which might have resulted in\ntest_rescue() test trying to chown this directory while not having\npermissions to do such thing.\nThis change is trivial - it just removes the directory before the tests are\nrun.\n\nChange-Id: Ibf04c18a612e4fd59a296319c29008268b24a808\nCloses-Bug: 1664669\n""}]",1,433948,bd227487411cdb13b756703cd8ed8de976b80832,15,11,1,14511,,,0,"Tests: Add cleanup of 'instances' directory

'instances' directory was never cleaned up, which might have resulted in
test_rescue() test trying to chown this directory while not having
permissions to do such thing.
This change is trivial - it just removes the directory before the tests are
run.

Change-Id: Ibf04c18a612e4fd59a296319c29008268b24a808
Closes-Bug: 1664669
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/433948/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bd227487411cdb13b756703cd8ed8de976b80832,bug/1664669,# TODO(macsz) fix cleanup of instances directory in tests and drop the rm # from the commands here. rm -rf ./instances,,3,0
openstack%2Fnova~master~I882d63030467cb5dd351c251fdf98095865c37f0,openstack/nova,master,I882d63030467cb5dd351c251fdf98095865c37f0,Fix live-migrate usage of RequestSpec,ABANDONED,2017-03-24 15:40:30.000000000,2017-08-01 09:53:53.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-24 15:40:30.000000000', 'files': ['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b1f37e6f36ed8ab893bc211eab03d25c41dcda43', 'message': ""Fix live-migrate usage of RequestSpec\n\nLive-migration task in the conductor was still verifying if an old\ninstance wasn't having a RequestSpec. Since Newton, all the instances\n(even the old ones) have a Spec attached.\nAlso, removed the unnecessary call to setup_instance_group() which was\njust verifying if the filters were present.\nEventually, fixed the fact that we weren't populating the ignore_hosts\nfield if the Spec was existing.\n\nChange-Id: I882d63030467cb5dd351c251fdf98095865c37f0\nRelated-Bug: #1675607\n""}]",0,449690,b1f37e6f36ed8ab893bc211eab03d25c41dcda43,17,15,1,7166,,,0,"Fix live-migrate usage of RequestSpec

Live-migration task in the conductor was still verifying if an old
instance wasn't having a RequestSpec. Since Newton, all the instances
(even the old ones) have a Spec attached.
Also, removed the unnecessary call to setup_instance_group() which was
just verifying if the filters were present.
Eventually, fixed the fact that we weren't populating the ignore_hosts
field if the Spec was existing.

Change-Id: I882d63030467cb5dd351c251fdf98095865c37f0
Related-Bug: #1675607
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/449690/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",2,b1f37e6f36ed8ab893bc211eab03d25c41dcda43,bug/1675607," self.assertEqual([self.instance_host], self.fake_spec.ignore_hosts)"," self.mox.StubOutWithMock(utils, 'get_image_from_system_metadata') self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') utils.get_image_from_system_metadata( self.instance.system_metadata).AndReturn(""image"") fake_props = {'instance_properties': {'uuid': self.instance_uuid}} scheduler_utils.setup_instance_group( self.context, fake_props, {'ignore_hosts': [self.instance_host]}) def test_find_destination_works_with_no_request_spec(self): task = live_migrate.LiveMigrationTask( self.context, self.instance, self.destination, self.block_migration, self.disk_over_commit, self.migration, compute_rpcapi.ComputeAPI(), servicegroup.API(), scheduler_client.SchedulerClient(), request_spec=None) another_spec = objects.RequestSpec() self.instance.flavor = objects.Flavor() self.instance.numa_topology = None self.instance.pci_requests = None @mock.patch.object(task, '_call_livem_checks_on_host') @mock.patch.object(task, '_check_compatible_with_source_hypervisor') @mock.patch.object(task.scheduler_client, 'select_destinations') @mock.patch.object(objects.RequestSpec, 'from_components') @mock.patch.object(scheduler_utils, 'setup_instance_group') @mock.patch.object(utils, 'get_image_from_system_metadata') def do_test(get_image, setup_ig, from_components, select_dest, check_compat, call_livem_checks): get_image.return_value = ""image"" from_components.return_value = another_spec select_dest.return_value = [{'host': 'host1'}] self.assertEqual(""host1"", task._find_destination()) get_image.assert_called_once_with(self.instance.system_metadata) fake_props = {'instance_properties': {'uuid': self.instance_uuid}} setup_ig.assert_called_once_with( self.context, fake_props, {'ignore_hosts': [self.instance_host]} ) select_dest.assert_called_once_with(self.context, another_spec) check_compat.assert_called_once_with(""host1"") call_livem_checks.assert_called_once_with(""host1"") do_test() fake_props = {'instance_properties': {'uuid': self.instance_uuid}} scheduler_utils.setup_instance_group( self.context, fake_props, {'ignore_hosts': [self.instance_host]}) self.mox.StubOutWithMock(utils, 'get_image_from_system_metadata') self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') utils.get_image_from_system_metadata( self.instance.system_metadata).AndReturn(""image"") fake_props = {'instance_properties': {'uuid': self.instance_uuid}} scheduler_utils.setup_instance_group( self.context, fake_props, {'ignore_hosts': [self.instance_host]}) self.mox.StubOutWithMock(utils, 'get_image_from_system_metadata') self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') utils.get_image_from_system_metadata( self.instance.system_metadata).AndReturn(""image"") fake_props = {'instance_properties': {'uuid': self.instance_uuid}} scheduler_utils.setup_instance_group( self.context, fake_props, {'ignore_hosts': [self.instance_host]}) self.mox.StubOutWithMock(utils, 'get_image_from_system_metadata') self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') utils.get_image_from_system_metadata( self.instance.system_metadata).AndReturn(""image"") fake_props = {'instance_properties': {'uuid': self.instance_uuid}} scheduler_utils.setup_instance_group( self.context, fake_props, {'ignore_hosts': [self.instance_host]}) self.mox.StubOutWithMock(utils, 'get_image_from_system_metadata') self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') utils.get_image_from_system_metadata( self.instance.system_metadata).AndReturn(""image"") fake_props = {'instance_properties': {'uuid': self.instance_uuid}} scheduler_utils.setup_instance_group( self.context, fake_props, {'ignore_hosts': [self.instance_host]}) self.mox.StubOutWithMock(utils, 'get_image_from_system_metadata') self.mox.StubOutWithMock(scheduler_utils, 'setup_instance_group') utils.get_image_from_system_metadata( self.instance.system_metadata).AndReturn(""image"") fake_props = {'instance_properties': {'uuid': self.instance_uuid}} scheduler_utils.setup_instance_group( self.context, fake_props, {'ignore_hosts': [self.instance_host]})",8,107
openstack%2Fnova~master~I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f,openstack/nova,master,I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f,libvirt: Introduce ImageCacheLocalDir,ABANDONED,2016-02-12 16:57:36.000000000,2017-08-01 09:53:52.000000000,,"[{'_account_id': 3}, {'_account_id': 91}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7461}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 12712}, {'_account_id': 13915}, {'_account_id': 14103}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 15286}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 19339}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-02-12 16:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/196b91034ad95ac79acb3312648e35a499ec28e5', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 2, 'created': '2016-02-19 17:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2340db2a546b1264d18288a7ac37e00627b7af84', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 3, 'created': '2016-02-20 00:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a90c60a99cb281451bb7ae35a06e510339dbc34', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 4, 'created': '2016-04-12 14:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/795c2d855fb475b80403a1d6f096700341ac3a7a', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 5, 'created': '2016-04-29 12:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02c1e2a66b954553d1ccc272122578acece8daa9', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 6, 'created': '2016-05-03 13:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6cf7ba7d1df6a182ab2927c7a8e91d8d1dfc2cc', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 7, 'created': '2016-05-05 14:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/312452486dcb3d847890fe083768f96d980bae81', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 8, 'created': '2016-05-06 12:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92594cbc16e0943ff272e4b2269f4905bb19e951', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 9, 'created': '2016-05-09 14:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fe26e460c26f95443bccc7f47a8301138498fc7', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 10, 'created': '2016-05-12 07:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27628d167d6366741f8fe7f4b93e50a6822ce475', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 11, 'created': '2016-05-12 14:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e73451f30ff753d0bf50c782e250a27b5f09b359', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 12, 'created': '2016-05-13 14:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8c4e29a1c02704b1e95380d53e7d5a83e59fe81', 'message': 'Introduce ImageCacheLocalPool\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 13, 'created': '2016-05-18 12:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfb929ee9dde14defee76cc9fa1d4d9fa7b82124', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 14, 'created': '2016-05-25 16:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cb61f6d14cf7d7db01f64ec6d6d04f63f38e12b', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 15, 'created': '2016-05-26 14:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76eb40666f924533ad8c4aac45eecc0b921efc5d', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 16, 'created': '2016-05-26 14:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93f09db2a8c3353b1a2cf53760d78e370c2e1667', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 17, 'created': '2016-06-02 13:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04d738f5ce064fac449e62dba67b9ccfdb35a04a', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 18, 'created': '2016-06-03 14:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/621aa6a7076c0ef11f3b8eb12e7ba81f71bbfa3f', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 19, 'created': '2016-06-07 09:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/773feef5e4bc5208b9eb2def54e1c6dd732aca41', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 20, 'created': '2016-06-10 14:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a395dddf30ee8414042f5333a4bf0eeb77f6a8a9', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 21, 'created': '2016-06-16 17:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64a1555fbb73639e527ea5153111f19348e53148', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 22, 'created': '2016-06-20 18:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c60a42f8a38522b49145c34b1ba0a46368f666ab', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 23, 'created': '2016-06-30 16:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48bc10fd5a454f1623618aa651320c1d4de67108', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 24, 'created': '2016-07-01 09:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34160982d256c071bbbba16d94226f90cf0dcf7b', 'message': 'Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 25, 'created': '2016-07-04 11:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7cba56707353077f3a9ea5615e7f28330639307', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 26, 'created': '2016-07-04 14:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f78c0a9000877f61628542e70ed6ad5c414649f', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 27, 'created': '2016-07-08 11:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36d8f886a1ce234cfef348663f40025f0353693a', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 28, 'created': '2016-07-12 14:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c69ad4e340ac6aa7405f3228c02031e7aaed993c', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 29, 'created': '2016-07-14 15:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c83b4924bc05491ec1b0c48ae0bf4ac18622e454', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 30, 'created': '2016-07-19 11:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2895ab2162f90539df78b6da77dfb0b7276b115f', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 31, 'created': '2016-07-21 13:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8657deb48cfb6ceebea19b6be4449658c54c2f32', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 32, 'created': '2016-07-21 17:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da4dc8bd960c7b24979349f10ab293089772f118', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 33, 'created': '2016-07-27 18:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/890c971448c69234da3b873c7ef6b930e1022cd8', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 34, 'created': '2016-08-01 15:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fc7ac993547074c317716cfb3dc8787f350bd6a', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 35, 'created': '2016-08-18 14:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8de6122487aa65a36b154d57c600e4ba16d99e7a', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: blueprint libvirt-instance-storage\n\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 36, 'created': '2016-12-05 10:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f43e70e33b7bf1730ca1381c57f98267ff217a6', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: bp/libvirt-imagebackend-refactor\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 37, 'created': '2016-12-07 15:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/274c00bf9f03b8617781de1bc38f78717aed2e28', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: bp/libvirt-imagebackend-refactor\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 38, 'created': '2016-12-08 09:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4f423bc9c43741320cfa6db02c99d0bcf5d04ac', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: bp/libvirt-imagebackend-refactor\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}, {'number': 39, 'created': '2017-01-10 10:23:38.000000000', 'files': ['nova/virt/libvirt/imagecache.py', 'nova/exception.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b67529760b69a97bd49df65bf5c39f848d037ab', 'message': 'libvirt: Introduce ImageCacheLocalDir\n\nThe code to download an image from glance or another compute host and\nstore it in the local image cache is currently variously distributed\naround libvirt/driver and libvirt/imagebackend. This makes it very\nhard to understand, fix, extend, and test.\n\nThis class implements all current behaviour relating to writing to the\nimage cache. This patch does not introduce a user of this code, but it\nis used extensively in the series which follows.\n\nBecause we need to coordinate locking with ImageCacheManager, we\ncreate 3 new common lock functions for use by both ImageCacheManager\nand ImageCacheLocalDir, and update ImageCacheManager to use them. The\nlocks created are identical to those created previously, so existing\nunit tests continue to validate them.\n\nImplements: bp/libvirt-imagebackend-refactor\nChange-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f\n'}]",102,279669,6b67529760b69a97bd49df65bf5c39f848d037ab,479,32,39,9555,,,0,"libvirt: Introduce ImageCacheLocalDir

The code to download an image from glance or another compute host and
store it in the local image cache is currently variously distributed
around libvirt/driver and libvirt/imagebackend. This makes it very
hard to understand, fix, extend, and test.

This class implements all current behaviour relating to writing to the
image cache. This patch does not introduce a user of this code, but it
is used extensively in the series which follows.

Because we need to coordinate locking with ImageCacheManager, we
create 3 new common lock functions for use by both ImageCacheManager
and ImageCacheLocalDir, and update ImageCacheManager to use them. The
locks created are identical to those created previously, so existing
unit tests continue to validate them.

Implements: bp/libvirt-imagebackend-refactor
Change-Id: I4d6bef95bde872f9f369e1f0c1b6fc0f53242a5f
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/279669/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py']",2,196b91034ad95ac79acb3312648e35a499ec28e5,storage_policy_2,"import collectionsfrom nova.virt.libvirt import imagecacheCachedImageInfo = collections.namedtuple( 'CachedImageInfo', ('path', 'file_format', 'virtual_size', 'disk_size')) class ImageCacheLocalPool(object): _singleton = None @classmethod def get(cls): if cls._singleton is not None: return cls._singleton with lockutils.lock('libvirt.imagebackend.imagecache_local_pool'): if cls._singleton is None: cls._singleton = ImageCacheLocalPool() return cls._singleton def __init__(self): self.lock_path = os.path.join(CONF.instances_path, 'locks') self.base_dir = os.path.join(CONF.instances_path, CONF.image_cache_subdirectory_name) if not os.path.exists(self.base_dir): fileutils.ensure_tree(self.base_dir) def get_cached_image(self, context, image_id, instance, fallback_from_host=None): name = imagecache.get_cache_fname(image_id) path = os.path.join(self.base_dir, name) @utils.synchronized(name, external=True, lock_path=self.lock_path) def _ensure_cached_image_sync(): if os.path.exists(path): # NOTE(mikal): Update the mtime of the base file so the image # cache manager knows it is in use. libvirt_utils.update_mtime(path) return try: libvirt_utils.fetch_image(context, path, image_id, instance.user_id, instance.project_id) except exception.ImageNotFound: if fallback_from_host is None: raise LOG.debug(""Image %(image_id)s doesn't exist anymore "" ""on image service, attempting to copy "" ""image from %(host)s"", {'image_id': image_id, 'host': fallback_from_host}, instance=instance) libvirt_utils.copy_image(src=path, dest=path, host=fallback_from_host, receive=True) _ensure_cached_image_sync() # NOTE: We should persist this information somehow and return it # securely, because image inspection here isn't ideal. The image was # sanity checked in fetch_image when it was downloaded, so this # isn't the worst, but we could do better. Until then, this is # equivalent to what we have done before. info = images.qemu_img_info(path) return CachedImageInfo(path, info.file_format, info.virtual_size, info.disk_size) ",,274,0
openstack%2Fnova~master~I4a9d83904d92d54d040867ce58331f3aae46b03d,openstack/nova,master,I4a9d83904d92d54d040867ce58331f3aae46b03d,Trival fix KeyError exception when start nova-compute,ABANDONED,2017-03-22 02:44:17.000000000,2017-08-01 09:53:51.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15917}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-22 02:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af1a158c5d005c1b7612d72c7680d5aaaafe32c4', 'message': ""Trival fix KeyError exception when start nova-compute\n\nReplace json()['allocations'] to json().get('allocations', {})\nto avoid KeyError exception when no 'allocations' in response\n\nChange-Id: I4a9d83904d92d54d040867ce58331f3aae46b03d\n""}, {'number': 2, 'created': '2017-03-22 04:58:11.000000000', 'files': ['nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1bd40c796030033c5fd16be3ff220a669eff1a80', 'message': ""Trival fix KeyError exception when start nova-compute\n\nReplace json()['allocations'] to json().get('allocations', {})\nto avoid KeyError exception when no 'allocations' in response\n\nChange-Id: I4a9d83904d92d54d040867ce58331f3aae46b03d\n""}]",0,448354,1bd40c796030033c5fd16be3ff220a669eff1a80,28,17,2,15917,,,0,"Trival fix KeyError exception when start nova-compute

Replace json()['allocations'] to json().get('allocations', {})
to avoid KeyError exception when no 'allocations' in response

Change-Id: I4a9d83904d92d54d040867ce58331f3aae46b03d
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/448354/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,af1a158c5d005c1b7612d72c7680d5aaaafe32c4,fix/dict," return resp.json().get('allocations',{}).get( return resp.json().get('allocations', {})", return resp.json()['allocations'].get( return resp.json()['allocations'],2,2
openstack%2Fnova~master~I8f0d56d387a266a5458fbc5845920c69e3b9f469,openstack/nova,master,I8f0d56d387a266a5458fbc5845920c69e3b9f469,WIP - add some functional tests for placement,ABANDONED,2017-03-15 18:49:08.000000000,2017-08-01 09:53:50.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 11564}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-15 18:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0926dd8b7391b41ec2767caf22be6f8e328bcbc8', 'message': ""WIP - add some functional tests for placement\n\nWe lack functional coverage for placement, so we need to develop a good\nframework for adding tests to cover all the different scenarios to\nensure that a) we are accounting for them correctly, and b) when we\nrefactor, we don't break anything.\n\nNOTE: I'm still fumbling with getting these set up properly. Suggestions\nfor improvement are welcome!\n\nBlueprint: custom-resource-classes-pike\n\nChange-Id: I8f0d56d387a266a5458fbc5845920c69e3b9f469\n""}, {'number': 2, 'created': '2017-03-16 14:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c074b324757a7554c9a4147c4c046ab71811de2e', 'message': ""WIP - add some functional tests for placement\n\nWe lack functional coverage for placement, so we need to develop a good\nframework for adding tests to cover all the different scenarios to\nensure that a) we are accounting for them correctly, and b) when we\nrefactor, we don't break anything.\n\nNOTE: I'm still fumbling with getting these set up properly. Suggestions\nfor improvement are welcome!\n\nBlueprint: custom-resource-classes-pike\n\nChange-Id: I8f0d56d387a266a5458fbc5845920c69e3b9f469\n""}, {'number': 3, 'created': '2017-03-17 19:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12ae3ab66446e07db9ec0d89c476e49127862747', 'message': ""WIP - add some functional tests for placement\n\nWe lack functional coverage for placement, so we need to develop a good\nframework for adding tests to cover all the different scenarios to\nensure that a) we are accounting for them correctly, and b) when we\nrefactor, we don't break anything.\n\nNOTE: I'm still fumbling with getting these set up properly. Suggestions\nfor improvement are welcome!\n\nBlueprint: custom-resource-classes-pike\n\nChange-Id: I8f0d56d387a266a5458fbc5845920c69e3b9f469\n""}, {'number': 4, 'created': '2017-03-20 13:42:22.000000000', 'files': ['nova/tests/functional/placement_fixtures.py', 'nova/tests/functional/compute/test_resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/758026f21e586c712c43b223d0fb41b1009b1ed3', 'message': ""WIP - add some functional tests for placement\n\nWe lack functional coverage for placement, so we need to develop a good\nframework for adding tests to cover all the different scenarios to\nensure that a) we are accounting for them correctly, and b) when we\nrefactor, we don't break anything.\n\nNOTE: I'm still fumbling with getting these set up properly. Suggestions\nfor improvement are welcome!\n\nBlueprint: custom-resource-classes-pike\n\nChange-Id: I8f0d56d387a266a5458fbc5845920c69e3b9f469\n""}]",8,446123,758026f21e586c712c43b223d0fb41b1009b1ed3,36,10,4,1063,,,0,"WIP - add some functional tests for placement

We lack functional coverage for placement, so we need to develop a good
framework for adding tests to cover all the different scenarios to
ensure that a) we are accounting for them correctly, and b) when we
refactor, we don't break anything.

NOTE: I'm still fumbling with getting these set up properly. Suggestions
for improvement are welcome!

Blueprint: custom-resource-classes-pike

Change-Id: I8f0d56d387a266a5458fbc5845920c69e3b9f469
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/446123/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/placement_fixtures.py', 'nova/tests/functional/compute/test_resource_tracker.py']",2,0926dd8b7391b41ec2767caf22be6f8e328bcbc8,bp/custom-resource-classes-pike," self.finish_setup() def finish_setup(self): """"""Customize the setup in subclasses. """""" pass def finish_setup(self): self.create_fixtures() class ComputeNodeResourceTrackerTest(AbstractResourceTrackerTest): """"""Test scenarios involving compute nodes."""""" def finish_setup(self): self.host = pl_fixtures.COMPUTE_HOST self.rt = resource_tracker.ResourceTracker(self.host, self.driver_mock) self.rt.scheduler_client.reportclient = self.report_client @mock.patch('nova.objects.compute_node.ComputeNode.save') @mock.patch('keystoneauth1.session.Session.get_endpoint', return_value='http://localhost/placement') def test_compute_node_comes_online_no_instances(self, mock_ep, mock_cn): with interceptor.RequestsInterceptor(app=self.app, url=self.url): # Verify no existing ResourceProviders rps = self.placement_get_rps() self.assertEqual(0, len(rps)) cn = pl_fixtures.VM_COMPUTE_DICT_FIXTURES[0] self.rt._update_available_resource(self.ctx, cn) # Verify that the compute node was added as a ResourceProvider rps = self.placement_get_rps() self.assertEqual(1, len(rps)) rp_uuid = rps[0][""uuid""] self.assertEqual({}, self.placement_get_allocations_by_rp(rp_uuid)) @mock.patch('nova.objects.compute_node.ComputeNode.save') @mock.patch('keystoneauth1.session.Session.get_endpoint', return_value='http://localhost/placement') def test_compute_node_comes_online_with_instances(self, mock_ep, mock_cn): with interceptor.RequestsInterceptor(app=self.app, url=self.url): # No existing ResourceProviders self.assertEqual(0, len(self.placement_get_rps())) instance_key = list(pl_fixtures.VM_INSTANCE_FIXTURES.keys())[0] instance = pl_fixtures.VM_INSTANCE_FIXTURES[instance_key] instance._context = self.ctx instance.obj_set_defaults() instance.create() cn = pl_fixtures.VM_COMPUTE_DICT_FIXTURES[0] self.rt._update_available_resource(self.ctx, cn) # Verify that the compute node was added as a ResourceProvider rps = self.placement_get_rps() self.assertEqual(1, len(rps)) rp_uuid = rps[0][""uuid""] # Verify that there is inventory for this RP # NOTE: still not working, and I'm not sure why inv = self.placement_get_inventory(rp_uuid) self.assertNotEqual([], inv) # This is not working yet, as I do not know how to properly # associate the instance with the compute node, and have its # Allocations accounted for. allocs = self.placement_get_allocations_by_rp(rp_uuid) self.assertNotEqual({}, allocs)", self.create_fixtures() def create_fixtures(self): raise NotImplementedError(),119,3
openstack%2Fnova~master~I8a1202d7a4604673fff2d213b6964c023c65a3e4,openstack/nova,master,I8a1202d7a4604673fff2d213b6964c023c65a3e4,Use mask_dict_password from oslo.utils,ABANDONED,2016-10-19 04:24:46.000000000,2017-08-01 09:53:49.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 18339}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-10-19 04:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fcc4039eb6296efd8e1515f08c3c1a7817999cd', 'message': 'Use mask_dict_password from oslo.utils\n\nThis patch removes _cleanse _dict method  from exception_wrapper.py\nwhich checks for the keys of the form *_pass. This allows keys such\nas admin_token and adminPass to get through. The oslo_utils.strutils\nmodule has extensive list of keys to be sanitized using its mask_dict\n_password method.\n\nChange-Id: I8a1202d7a4604673fff2d213b6964c023c65a3e4\nCloses-bug:#1487038\n'}, {'number': 2, 'created': '2017-01-18 07:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9783dfd0ec1461b864c30874cca3b7c23f34bb2b', 'message': 'Use mask_dict_password from oslo.utils\n\nThis patch removes _cleanse _dict method  from exception_wrapper.py\nwhich checks for the keys of the form *_pass. This allows keys such\nas admin_token and adminPass to get through. The oslo_utils.strutils\nmodule has extensive list of keys to be sanitized using its mask_dict\n_password method.\n\nChange-Id: I8a1202d7a4604673fff2d213b6964c023c65a3e4\nCloses-bug:#1487038\n'}, {'number': 3, 'created': '2017-03-24 07:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a259b03b4df48cb2044c46e5407b22a3ad9a5c0', 'message': 'Use mask_dict_password from oslo.utils\n\nThis patch removes _cleanse _dict method  from exception_wrapper.py\nwhich checks for the keys of the form *_pass. This allows keys such\nas admin_token and adminPass to get through. The oslo_utils.strutils\nmodule has extensive list of keys to be sanitized using its mask_dict\n_password method.\n\nChange-Id: I8a1202d7a4604673fff2d213b6964c023c65a3e4\nCloses-bug:#1487038\n'}, {'number': 4, 'created': '2017-03-24 07:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9d35721ce940791c3703cc5cbc8cf1ebc340bbd', 'message': 'Use mask_dict_password from oslo.utils\n\nThis patch removes _cleanse _dict method  from exception_wrapper.py\nwhich checks for the keys of the form *_pass. This allows keys such\nas admin_token and adminPass to get through. The oslo_utils.strutils\nmodule has extensive list of keys to be sanitized using its mask_dict\n_password method.\n\nChange-Id: I8a1202d7a4604673fff2d213b6964c023c65a3e4\nCloses-bug:#1487038\n'}, {'number': 5, 'created': '2017-03-24 07:49:48.000000000', 'files': ['nova/exception_wrapper.py', 'nova/tests/unit/test_exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2907cfffb264215c080f78caf2411bcfca42a40f', 'message': 'Use mask_dict_password from oslo.utils\n\nThis patch removes _cleanse _dict method  from exception_wrapper.py\nwhich checks for the keys of the form *_pass. This allows keys such\nas admin_token and adminPass to get through. The oslo_utils.strutils\nmodule has extensive list of keys to be sanitized using its mask_dict\n_password method.\n\nChange-Id: I8a1202d7a4604673fff2d213b6964c023c65a3e4\nCloses-bug:#1487038\n'}]",5,388345,2907cfffb264215c080f78caf2411bcfca42a40f,80,22,5,18339,,,0,"Use mask_dict_password from oslo.utils

This patch removes _cleanse _dict method  from exception_wrapper.py
which checks for the keys of the form *_pass. This allows keys such
as admin_token and adminPass to get through. The oslo_utils.strutils
module has extensive list of keys to be sanitized using its mask_dict
_password method.

Change-Id: I8a1202d7a4604673fff2d213b6964c023c65a3e4
Closes-bug:#1487038
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/388345/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception_wrapper.py', 'nova/tests/unit/test_exception.py']",2,4fcc4039eb6296efd8e1515f08c3c1a7817999cd,bug/1487038,," def test_cleanse_dict(self): kwargs = {'foo': 1, 'blah_pass': 2, 'zoo_password': 3, '_pass': 4} self.assertEqual({'foo': 1}, exception_wrapper._cleanse_dict(kwargs)) kwargs = {} self.assertEqual({}, exception_wrapper._cleanse_dict(kwargs)) ",2,14
openstack%2Fnova~master~Ic13c57d037653bef3d0146bcd27edc6afd0a14df,openstack/nova,master,Ic13c57d037653bef3d0146bcd27edc6afd0a14df,Raise general error message when volume attach fails,ABANDONED,2016-05-23 22:34:51.000000000,2017-08-01 09:53:48.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12732}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18335}, {'_account_id': 18339}, {'_account_id': 19590}, {'_account_id': 20040}, {'_account_id': 20146}, {'_account_id': 22257}]","[{'number': 1, 'created': '2016-05-23 22:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83aec6bff53151c6ebe7d63059be0d5b2b7689b4', 'message': 'Raise general error message when volume attach fails\n\nChanged DeviceIsBusy exception to FailedToAttach which is\nmore general exception as libvirt.VIR_ERR_OPERATION_FAILED\nis raised for multiple scenarios like device already exists\nand disk image failure.\n\nChange-Id: Ic13c57d037653bef3d0146bcd27edc6afd0a14df\nCloses-Bug:#1168011\n'}, {'number': 2, 'created': '2016-06-03 18:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9ab52258863f9aab01e3a7b996ce8e2383afef6', 'message': 'Raise general error message when volume attach fails\n\nChanged DeviceIsBusy exception to FailedToAttach which is\nmore general exception as libvirt.VIR_ERR_OPERATION_FAILED\nis raised for multiple scenarios like device already exists\nand disk image failure.\n\nChange-Id: Ic13c57d037653bef3d0146bcd27edc6afd0a14df\nCloses-Bug:#1168011\n'}, {'number': 3, 'created': '2016-08-18 09:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e27d57420233a7c9bb90cf1832c1e093b671e052', 'message': 'Raise general error message when volume attach fails\n\nChanged DeviceIsBusy exception to HypervisorCmdFail which\nis more generic as libvirt.VIR_ERR_OPERATION_FAILED\nis raised for multiple scenarios like device already exists\nand disk image failure.\n\nChange-Id: Ic13c57d037653bef3d0146bcd27edc6afd0a14df\nCloses-Bug:#1168011\n'}, {'number': 4, 'created': '2017-01-18 18:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e2b9422abd7c0bb007a32f0bd33d6dc5a86e4a', 'message': 'Raise general error message when volume attach fails\n\nChanged DeviceIsBusy exception to HypervisorCmdFail which\nis more generic as libvirt.VIR_ERR_OPERATION_FAILED can\nbe raised for multiple scenarios like device already exists\nand disk image failure.\n\nChange-Id: Ic13c57d037653bef3d0146bcd27edc6afd0a14df\nCloses-Bug:#1168011\n'}, {'number': 5, 'created': '2017-03-23 08:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be535a714d1dadf6ff67cfd392f841ef95de2909', 'message': 'Raise general error message when volume attach fails\n\nChanged DeviceIsBusy exception to AttachVolumeFailed which\nis more generic as libvirt.VIR_ERR_OPERATION_FAILED can\nbe raised for multiple scenarios like device already exists\nand disk image failure.\n\nChange-Id: Ic13c57d037653bef3d0146bcd27edc6afd0a14df\nCloses-Bug:#1168011\n'}, {'number': 6, 'created': '2017-03-24 03:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff2a2595916de2f9402531180e5fedb2910ac1a1', 'message': 'Raise general error message when volume attach fails\n\nChanged DeviceIsBusy exception to AttachVolumeFailed which\nis more generic as libvirt.VIR_ERR_OPERATION_FAILED can\nbe raised for multiple scenarios like device already exists\nand disk image failure.\n\nChange-Id: Ic13c57d037653bef3d0146bcd27edc6afd0a14df\nCloses-Bug:#1168011\n'}, {'number': 7, 'created': '2017-03-31 15:55:11.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/85dec26099c7c3f25e16eba2a730051735f81bb0', 'message': 'Raise general error message when volume attach fails\n\nChanged DeviceIsBusy exception to AttachVolumeFailed which\nis more generic as libvirt.VIR_ERR_OPERATION_FAILED can\nbe raised for multiple scenarios like device already exists\nand disk image failure.\n\nChange-Id: Ic13c57d037653bef3d0146bcd27edc6afd0a14df\nCloses-Bug:#1168011\n'}]",15,320163,85dec26099c7c3f25e16eba2a730051735f81bb0,111,29,7,18339,,,0,"Raise general error message when volume attach fails

Changed DeviceIsBusy exception to AttachVolumeFailed which
is more generic as libvirt.VIR_ERR_OPERATION_FAILED can
be raised for multiple scenarios like device already exists
and disk image failure.

Change-Id: Ic13c57d037653bef3d0146bcd27edc6afd0a14df
Closes-Bug:#1168011
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/320163/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/driver.py']",2,83aec6bff53151c6ebe7d63059be0d5b2b7689b4,bug/1168011, raise exception.FailedToAttach(device=disk_dev), raise exception.DeviceIsBusy(device=disk_dev),3,3
openstack%2Fnova~master~Ie96718812632915a8a3fefdabd9282fab065b488,openstack/nova,master,Ie96718812632915a8a3fefdabd9282fab065b488,Make network:attach_external_network policy check outside nova-api,ABANDONED,2017-03-24 12:18:43.000000000,2017-08-01 09:53:47.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17814}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-24 12:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9eb7dcf5d119b0b59a9eb2ccfeabf8bdd664757', 'message': 'Make network:attach_external_network policy check outside nova-api\n\nChange-Id: Ie96718812632915a8a3fefdabd9282fab065b488\nCloses-Bug: #1675486\n'}, {'number': 2, 'created': '2017-04-01 08:15:07.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/681a40308ad28bbe5874e9c16f7228fb75a065c1', 'message': 'Make network:attach_external_network policy check outside nova-api\n\nChange-Id: Ie96718812632915a8a3fefdabd9282fab065b488\nCloses-Bug: #1675486\n'}]",0,449598,681a40308ad28bbe5874e9c16f7228fb75a065c1,34,16,2,17814,,,0,"Make network:attach_external_network policy check outside nova-api

Change-Id: Ie96718812632915a8a3fefdabd9282fab065b488
Closes-Bug: #1675486
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/449598/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/compute/api.py']",2,e9eb7dcf5d119b0b59a9eb2ccfeabf8bdd664757,bug/1675486,"from nova.network.neutronv2 import api as neutronapifrom nova.policies import base as base_policies def _check_external_network_attach(self, context, project_id, requested_networks): """"""Check if attaching to external network is permitted."""""" napi = neutronapi.API() auto_allocate = requested_networks and requested_networks.auto_allocate net_ids = [request.network_id for request in requested_networks] nets = napi._get_available_networks(context, project_id, net_ids, auto_allocate=auto_allocate) if not context.can(base_policies.NETWORK_ATTACH_EXTERNAL, fatal=False): for net in nets: # Perform this check here rather than in validate_networks to # ensure the check is performed every time # allocate_for_instance is invoked if net.get('router:external') and not net.get('shared'): raise exception.ExternalNetworkAttachForbidden( network_uuid=net['id']) self._check_external_network_attach(context, context.project_id, requested_networks) requested_networks = objects.NetworkRequestList( objects=[objects.NetworkRequest(network_id=network_id, address=requested_ip, port_id=port_id, pci_request_id=None)]) self._check_external_network_attach(context, instance.project_id, requested_networks) ",,33,17
openstack%2Fnova~master~I977211a320d27c36ce2dac27605a93a364b63a92,openstack/nova,master,I977211a320d27c36ce2dac27605a93a364b63a92,WIP: Avoid all live-migration timeouts by default,ABANDONED,2017-02-08 12:53:58.000000000,2017-08-01 09:53:46.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18339}, {'_account_id': 19590}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-08 12:53:58.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59d057819f86d7f242f3a413d13b1fa677491a15', 'message': 'WIP: Avoid all live-migration timeouts by default\n\nAn idea to optionally call force_complete live-migration rather than\nabort when we hit the live-migration timeout.\n\nThis change chooses to make the Nova default do its best to ensure\nlive-migrate always works, rather than trying to always avoid guest\ndowntime above what is defined in live_migration_downtime.\n\nChange-Id: I977211a320d27c36ce2dac27605a93a364b63a92\n'}]",4,430890,59d057819f86d7f242f3a413d13b1fa677491a15,16,13,1,782,,,0,"WIP: Avoid all live-migration timeouts by default

An idea to optionally call force_complete live-migration rather than
abort when we hit the live-migration timeout.

This change chooses to make the Nova default do its best to ensure
live-migrate always works, rather than trying to always avoid guest
downtime above what is defined in live_migration_downtime.

Change-Id: I977211a320d27c36ce2dac27605a93a364b63a92
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/430890/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py']",2,59d057819f86d7f242f3a413d13b1fa677491a15,(HEAD," default=30, default=600, cfg.BoolOpt('live_migration_force_on_completion_timeout', default=True, help="""""" This option chooses what action to take when we reach the timeout defined by live_migration_completion_timeout. If ``live_migration_permit_post_copy=True`` and post copy is available, then this option has no effect. Post copy will be triggered when the completion timeout is hit. The following occurs if post copy is not triggered: When False, we perform an abort of the live-migrate. Choose this option when you want to make sure you only complete a live-migrate if you will not have more guest downtime than defined by ``live_migration_downtime``. When True, we perform a force-complete live-migrate API operation when the timeout is reached. That means, we pause the VM on the source node. Choose this option when you want always want live-migrate to complete. By default Nova will do what it can to avoid guest downtime, but will always make sure the live-migration completes, rather than aborts, at the cost of guest liveness. """"""), default=True,"," default=75, default=800, default=False,",36,6
openstack%2Fnova~master~I292c13d603b6ab9f21297fbc067e5656dfde582e,openstack/nova,master,I292c13d603b6ab9f21297fbc067e5656dfde582e,Reduce code complexity - servers.py,ABANDONED,2016-08-24 13:02:14.000000000,2017-08-01 09:53:45.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13692}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 18599}, {'_account_id': 18600}, {'_account_id': 18602}, {'_account_id': 18603}, {'_account_id': 20040}, {'_account_id': 21239}, {'_account_id': 23950}]","[{'number': 1, 'created': '2016-08-24 13:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3699d63038e0f0baaf636f2952f54a83aa7b5552', 'message': '[WIP]Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\nThe 351176 patch depends by this.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 2, 'created': '2016-08-24 18:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c867ef5072324479fe07857fe9b7c07b0b05a2de', 'message': '[WIP]Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\nThe 351176 patch depends by this.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 3, 'created': '2016-08-26 18:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f24d120ba2945e21657480a7ea4373563d050ba9', 'message': 'Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\nThe 351176 patch depends by this.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 4, 'created': '2016-09-11 10:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cba122fa05e576aeec1df8a771bf57e9376782a9', 'message': 'Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\nThe 351176 patch depends by this.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 5, 'created': '2016-09-24 12:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/604b1295058b8634485326a1cc3f3cd2515330ac', 'message': 'Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\nThe 351176 patch depends by this.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 6, 'created': '2016-11-16 13:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b8155d7f9f713ca6cd8418095ca9a9b1bef48fc', 'message': 'Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\nThe 351176 patch depends by this.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 7, 'created': '2016-12-12 11:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c19df26d36bf25d49b5c5c282fae972ab4ab13fc', 'message': 'Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\nThe 351176 patch depends by this.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 8, 'created': '2017-02-07 23:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad953b445ee8f5859a96f33c696bc82441514aca', 'message': 'Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 9, 'created': '2017-02-08 09:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/649a2bcf7e9e761f3223ee07b6b86b15b7e213d7', 'message': 'Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 10, 'created': '2017-02-12 13:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fae73d5dcbfe41d1513547c0972ee84c9052f3d1', 'message': 'Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 11, 'created': '2017-03-08 12:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ba8491eec8eaffbd1c50e528390f6592a77fd11', 'message': 'Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}, {'number': 12, 'created': '2017-04-03 06:19:28.000000000', 'files': ['nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6bb7e43e6481a1deb7ddba95374d2e1885d44b3c', 'message': 'Reduce code complexity - servers.py\n\nReduce the code complexity in\nnova/api/openstack/compute/servers.py file.\n\nChange-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e\n'}]",9,359861,6bb7e43e6481a1deb7ddba95374d2e1885d44b3c,173,28,12,21239,,,0,"Reduce code complexity - servers.py

Reduce the code complexity in
nova/api/openstack/compute/servers.py file.

Change-Id: I292c13d603b6ab9f21297fbc067e5656dfde582e
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/359861/12 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,3699d63038e0f0baaf636f2952f54a83aa7b5552,(detached," def _get_servers_filters(self, context, req, search_opts): return search_opts def _get_servers(self, req, is_detail): """"""Returns a list of servers, based on any search options specified."""""" search_opts = {} search_opts.update(req.GET) context = req.environ['nova.context'] remove_invalid_options(context, search_opts, self._get_server_search_options(req)) # Verify search by 'status' contains a valid status. # Convert it to filter by vm_state or task_state for compute_api. # For non-admin user, vm_state and task_state are filtered through # remove_invalid_options function, based on value of status field. # Set value to vm_state and task_state to make search simple. search_opts.pop('status', None) if 'status' in req.GET.keys(): statuses = req.GET.getall('status') states = common.task_and_vm_state_from_status(statuses) vm_state, task_state = states if not vm_state and not task_state: if api_version_request.is_supported(req, min_version='2.38'): msg = _('Invalid status value') raise exc.HTTPBadRequest(explanation=msg) return {'servers': []} search_opts['vm_state'] = vm_state # When we search by vm state, task state will return 'default'. # So we don't need task_state search_opt. if 'default' not in task_state: search_opts['task_state'] = task_state search_opts = self._get_servers_filters(context, req, search_opts) description = (server_dict['description'] if 'description' in server_dict else None) if ('os-networks' in self.extension_info.get_extensions() or utils.is_neutron()) and ( server_dict.get('networks') is not None): server_dict.get('networks'), supports_device_tagging)"," def _get_servers(self, req, is_detail): """"""Returns a list of servers, based on any search options specified."""""" search_opts = {} search_opts.update(req.GET) context = req.environ['nova.context'] remove_invalid_options(context, search_opts, self._get_server_search_options(req)) # Verify search by 'status' contains a valid status. # Convert it to filter by vm_state or task_state for compute_api. # For non-admin user, vm_state and task_state are filtered through # remove_invalid_options function, based on value of status field. # Set value to vm_state and task_state to make search simple. search_opts.pop('status', None) if 'status' in req.GET.keys(): statuses = req.GET.getall('status') states = common.task_and_vm_state_from_status(statuses) vm_state, task_state = states if not vm_state and not task_state: if api_version_request.is_supported(req, min_version='2.38'): msg = _('Invalid status value') raise exc.HTTPBadRequest(explanation=msg) return {'servers': []} search_opts['vm_state'] = vm_state # When we search by vm state, task state will return 'default'. # So we don't need task_state search_opt. if 'default' not in task_state: search_opts['task_state'] = task_state if 'description' in server_dict: # This is allowed to be None description = server_dict['description'] else: # No default description description = None if ('os-networks' in self.extension_info.get_extensions() or utils.is_neutron()): requested_networks = server_dict.get('networks') if requested_networks is not None: requested_networks, supports_device_tagging)",42,44
openstack%2Fnova~master~I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928,openstack/nova,master,I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928,Check for volume size,ABANDONED,2016-07-28 13:32:53.000000000,2017-08-01 09:53:42.000000000,,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 2750}, {'_account_id': 5044}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12712}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18339}]","[{'number': 1, 'created': '2016-07-28 13:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2567be0bb2e31a428074c6d88aeb46d362450f7', 'message': 'Check for volume size\nAdded check to ensure volume size specified by user is greater\nthan the image size in boot from volume If this is not checked\nupfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint.\nSo this VM goes into error state. This check informs the user\nabout the issue upfront and prevents the VM from going into error\nstate.\n\nAPI Impact: There is no API impact from this change.\nCloses-Bug: 1465947\nCo-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>\n\nChange-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928\n'}, {'number': 2, 'created': '2016-08-05 23:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3afe00ff729454184053cf526acc23f9980d1f0', 'message': 'Check for volume size\n\nAdded check to ensure volume size specified by user is greater\nthan the image size in boot from volume If this is not checked\nupfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint.\nSo this VM goes into error state. This check informs the user\nabout the issue upfront and prevents the VM from going into error\nstate.\n\nAPI Impact: There is no API impact from this change.\nCloses-Bug: 1465947\nCo-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>\n\nChange-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928\n'}, {'number': 3, 'created': '2016-08-15 21:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91e300d0ea90ac040c371fe8317d5e8bc742dc21', 'message': 'Check for volume size\n\nAdded check to ensure volume size specified by user is greater\nthan the image size in boot from volume If this is not checked\nupfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint.\nSo this VM goes into error state. This check informs the user\nabout the issue upfront and prevents the VM from going into error\nstate.\n\nAPI Impact: There is no API impact from this change.\nCloses-Bug: 1465947\nCo-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>\n\nChange-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928\n'}, {'number': 4, 'created': '2016-09-27 20:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08797812ed3e3b267d9c7ddc3758f7ca82d963ee', 'message': 'Check for volume size\n\nAdded check to ensure volume size specified by user is greater\nthan the image size in boot from volume If this is not checked\nupfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint.\nSo this VM goes into error state. This check informs the user\nabout the issue upfront and prevents the VM from going into error\nstate.\n\nAPI Impact: There is no API impact from this change.\nCloses-Bug: 1465947\nCo-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>\n\nChange-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928\n'}, {'number': 5, 'created': '2016-10-07 16:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f593503614968964cde9f98afd89171350ce15f', 'message': 'Check for volume size\n\nAdd check to ensure volume size specified by user is greater\nthan the image size in the boot from volume. If this is not checked\nupfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint.\nSo this VM goes into the error state. This check informs the user\nabout the issue upfront and prevents the VM from going into error\nstate.\n\nCloses-Bug: 1465947\n\nChange-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928\nCo-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>\n'}, {'number': 6, 'created': '2016-10-13 07:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc45bedd922ed8221f2a5471d5b191f3fb351f0c', 'message': 'Check for volume size\n\nAdd check to ensure volume size specified by user is greater\nthan the image size in the boot from volume. If this is not checked\nupfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint.\nSo this VM goes into the error state. This check informs the user\nabout the issue upfront and prevents the VM from going into error\nstate.\n\nCloses-Bug: 1465947\n\nChange-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928\nCo-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>\n'}, {'number': 7, 'created': '2016-10-18 18:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14ce7532242b1647da8c7a3a79c2454c2d767c75', 'message': 'Check for volume size\n\nAdd check to ensure volume size specified by user is greater\nthan the image size in the boot from volume. If this is not checked\nupfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint.\nSo this VM goes into the error state. This check informs the user\nabout the issue upfront and prevents the VM from going into error\nstate.\n\nCloses-Bug: 1465947\n\nChange-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928\nCo-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>\n'}, {'number': 8, 'created': '2016-10-19 19:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e28db67d0201c4463c3ab8793a4420ff35f4333', 'message': 'Check for volume size\n\nAdd check to ensure volume size specified by user is greater\nthan the image size in the boot from volume. If this is not checked\nupfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint.\nSo this VM goes into the error state. This check informs the user\nabout the issue upfront and prevents the VM from going into error\nstate.\n\nCloses-Bug: 1465947\n\nChange-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928\nCo-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>\n'}, {'number': 9, 'created': '2016-10-19 19:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c29a4d3f3ed6915f8cea00076dbdeba6cef45edc', 'message': 'Check for volume size\n\nAdd check to ensure volume size specified by user is greater\nthan the image size in the boot from volume. If this is not checked\nupfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint.\nSo this VM goes into the error state. This check informs the user\nabout the issue upfront and prevents the VM from going into error\nstate.\n\nCloses-Bug: 1465947\n\nChange-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928\nCo-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>\n'}, {'number': 10, 'created': '2016-10-31 22:27:38.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/image/api.py', 'releasenotes/notes/bug-1465947-f6caffa9b974f8cb.yaml', 'nova/tests/unit/api/openstack/compute/test_block_device_mapping.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b90f68b35ce9f01244b6dbae70828139b5a3a367', 'message': 'Check for volume size\n\nAdd check to ensure volume size specified by user is greater\nthan the image size in the boot from volume. If this is not checked\nupfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint.\nSo this VM goes into the error state. This check informs the user\nabout the issue upfront and prevents the VM from going into error\nstate.\n\nCloses-Bug: 1465947\n\nChange-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928\nCo-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>\n'}]",20,348317,b90f68b35ce9f01244b6dbae70828139b5a3a367,176,20,10,18339,,,0,"Check for volume size

Add check to ensure volume size specified by user is greater
than the image size in the boot from volume. If this is not checked
upfront, the VM calls cinder to attach a volume with given OS
installed which is not available because of the size constraint.
So this VM goes into the error state. This check informs the user
about the issue upfront and prevents the VM from going into error
state.

Closes-Bug: 1465947

Change-Id: I95e47ad13b8fcc4ac0aca2ba8c5a0daed7ccc928
Co-Authored-By: PrashantUpadhyay <prashant.upadhyay709070@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/348317/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/api.py', 'nova/tests/unit/api/openstack/compute/test_block_device_mapping.py', 'nova/api/openstack/compute/servers.py']",3,f2567be0bb2e31a428074c6d88aeb46d362450f7,bug/1465947,"import nova.image self.image_api = nova.image.API() self.image_api._validate_volume_size_with_image_size(context, block_device_mapping)",,66,0
openstack%2Fnova~master~Idd5f5f1a90ba6ea19989c04036c922008001aefc,openstack/nova,master,Idd5f5f1a90ba6ea19989c04036c922008001aefc,Add more actions to instance action logs,ABANDONED,2016-11-11 06:56:23.000000000,2017-08-01 09:53:41.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 7730}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20040}, {'_account_id': 21479}, {'_account_id': 24224}]","[{'number': 1, 'created': '2016-11-11 06:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d1987bc00c31127af707367e1fbe5de80ada512', 'message': 'Add lock actions to action-list\n\nSometimes our admin want to know who/why/when lock or unlock the\nserver. We need record lock action for audit. This implementation\nadd lock action to action-list without changing any previours\ninterface.\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\nImplements: bp add-lock-action-record\n'}, {'number': 2, 'created': '2016-11-11 17:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b4d63b2f5430864733baba9367016e7e58659a2', 'message': 'Add lock actions to action-list\n\nSometimes our admin want to know who/why/when lock or unlock the\nserver. We need record lock action for audit. This implementation\nadd lock action to action-list without changing any previours\ninterface.\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\nImplements: bp add-lock-action-record\n'}, {'number': 3, 'created': '2016-11-11 19:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad026a0d4e01cdfe86e9a3c61d5e9f6cc25f80a9', 'message': 'Add lock actions to action-list\n\nSometimes our admin want to know who/why/when lock or unlock the\nserver. We need record lock action for audit. This implementation\nadd lock action to action-list without changing any previours\ninterface.\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\nImplements: bp add-lock-action-record\n'}, {'number': 4, 'created': '2016-11-12 01:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6337d32a73f60615376b1e6b3282e8e0e8b4ddb9', 'message': 'Add lock actions to action-list\n\nSometimes our admin want to know who/why/when lock or unlock the\nserver. We need record lock action for audit. This implementation\nadd lock action to action-list without changing any previours\ninterface.\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\nImplements: bp add-lock-action-record\n'}, {'number': 5, 'created': '2016-11-12 04:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62d9e0d605f90355df6305e5c3a688540e905d2e', 'message': 'Add lock actions to action-list\n\nSometimes our admin want to know who/why/when lock or unlock the\nserver. We need record lock action for audit. This implementation\nadd lock action to action-list without changing any previours\ninterface.\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\nImplements: bp add-lock-action-record\n'}, {'number': 6, 'created': '2016-11-12 06:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40a883c7659ad45cdd79e934d5247549fd818159', 'message': 'Add lock actions to action-list\n\nSometimes our admin want to know who/why/when lock or unlock the\nserver. We need record lock action for audit. This implementation\nadd lock action to action-list without changing any previours\ninterface.\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\nImplements: bp add-lock-action-record\n'}, {'number': 7, 'created': '2016-11-25 17:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1652ba9fa52bb6a0f7687f04c6b9c4294bcb56d5', 'message': 'Add lock record to instance action list\n\nAdd lock/unlock record to instance action list may be useful for\naudit. In addition, the ``locked_by`` field in database only store\n""admin"" or ""owner"" rather than user id, so we can\'t find the real owner\nof server\'s lock via Nova API, this feature can compensate for this\ndeficiency.\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 8, 'created': '2016-12-01 03:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/954e372dd88f267851f67f5def8fbf3a1187a08f', 'message': 'Add lock record to instance action list\n\nAdd lock/unlock record to instance action list may be useful for\naudit. In addition, the ``locked_by`` field in database only store\n""admin"" or ""owner"" rather than user id, so we can\'t find the real owner\nof server\'s lock via Nova API, this feature can compensate for this\ndeficiency.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 9, 'created': '2016-12-19 04:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f24cd9ae1b22f084a8c10964db9552ced3a0e4cb', 'message': 'Add more actions to instance action logs\n\nCurrentlly we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 10, 'created': '2016-12-20 01:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b0fa1347f9aba9cb2f504c1073983aabcd3cfd0', 'message': 'Add more actions to instance action logs\n\nCurrentlly we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 11, 'created': '2016-12-20 06:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71e8af576cf69c1f79cdd6303709ead4e391e1d3', 'message': 'Add more actions to instance action logs\n\nCurrentlly we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 12, 'created': '2016-12-20 16:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca27cb715c9f1da33002e4608bb0cfc9f9f19f23', 'message': 'Add more actions to instance action logs\n\nCurrently we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 13, 'created': '2016-12-21 02:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5d17c74fdbd9bd0de95d8beb184e27d8ca52e27', 'message': 'Add more actions to instance action logs\n\nCurrently we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 14, 'created': '2016-12-22 15:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d17d9388049fc51a7e5722952e723c58220a491c', 'message': 'Add more actions to instance action logs\n\nCurrently we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 15, 'created': '2016-12-23 03:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e93cef73602cbe2e9683455c350e5226976f009a', 'message': 'Add more actions to instance action logs\n\nCurrently we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 16, 'created': '2016-12-23 05:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08e41e2e42588cc91abc7ec5a0c092fba98027de', 'message': 'Add more actions to instance action logs\n\nCurrently we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 17, 'created': '2016-12-23 10:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccfafac521fbbc012f18c641728c9de1dfffc9ca', 'message': 'Add more actions to instance action logs\n\nCurrently we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 18, 'created': '2016-12-26 07:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/549ec59485b7cb6c44b007ec4d41b7fdc2b14bf2', 'message': 'Add more actions to instance action logs\n\nCurrently we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}, {'number': 19, 'created': '2017-01-02 15:43:25.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'releasenotes/notes/add-more-actions-to-instance-action-logs-c6fc3e863e86cc0a.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/instance_actions.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c0928373253621a54ac8545c1ffbbfbb13a8f21e', 'message': 'Add more actions to instance action logs\n\nCurrently we have recorded some actions to instance action list,\nbut there are other actions related to the instance, that are not\nbeing well logged. This patch logs remaining instance related actions\nto make instance action logs more comprehensive.\n\nCloses-Bug: #1646323\n\nChange-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc\n'}]",20,396510,c0928373253621a54ac8545c1ffbbfbb13a8f21e,274,24,19,21479,,,0,"Add more actions to instance action logs

Currently we have recorded some actions to instance action list,
but there are other actions related to the instance, that are not
being well logged. This patch logs remaining instance related actions
to make instance action logs more comprehensive.

Closes-Bug: #1646323

Change-Id: Idd5f5f1a90ba6ea19989c04036c922008001aefc
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/396510/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/instance_actions.py', 'nova/compute/api.py']",2,6d1987bc00c31127af707367e1fbe5de80ada512,bug/1646323," self._record_action_start(context, instance, instance_actions.LOCK) self._record_action_start(context, instance, instance_actions.UNLOCK)",,4,0
openstack%2Fnova~master~Ia3b8e3c787614c27e9356c2eff70e132ecb585bb,openstack/nova,master,Ia3b8e3c787614c27e9356c2eff70e132ecb585bb,WIP: Remove temporary code from _delete_while_booting,ABANDONED,2017-04-08 17:01:04.000000000,2017-08-01 09:53:40.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2017-04-08 17:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7e9bc1f9e03b727b4621fe373eda24543ee1fda', 'message': 'WIP: Remove temporary code from _delete_while_booting\n\nThis removes code that was a temporary measure until we would\nno longer create the instance in conductor if the API had already\ndeleted the build request, via _attempt_delete_of_buildrequest.\n\nThat change happened in Ocata:\n\nI19d6d765894785b214458b32fe612b4ef78a270d\n\nAnd there were some other fixes that went on top of that:\n\nI6c32d5a4086a227d59ad7b1f6f50e7e532c74c84\n\nI399023ea705c514c33d07cc3613d79744cbf7a07\n\nSo at this point if we deleted the build request, all we\nshould have to do is decrement the quota usage and be done\nwith this part of the local delete flow.\n\nChange-Id: Ia3b8e3c787614c27e9356c2eff70e132ecb585bb\n'}, {'number': 2, 'created': '2017-04-09 18:21:37.000000000', 'files': ['nova/compute/cells_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/455fb77e72667d423bf90ff90a946bd20535f3a1', 'message': 'WIP: Remove temporary code from _delete_while_booting\n\nThis removes code that was a temporary measure until we would\nno longer create the instance in conductor if the API had already\ndeleted the build request, via _attempt_delete_of_buildrequest.\n\nThat change happened in Ocata:\n\nI19d6d765894785b214458b32fe612b4ef78a270d\n\nAnd there were some other fixes that went on top of that:\n\nI6c32d5a4086a227d59ad7b1f6f50e7e532c74c84\n\nI399023ea705c514c33d07cc3613d79744cbf7a07\n\nSo at this point if we deleted the build request, all we\nshould have to do is decrement the quota usage and be done\nwith this part of the local delete flow.\n\nChange-Id: Ia3b8e3c787614c27e9356c2eff70e132ecb585bb\n'}]",0,455007,455fb77e72667d423bf90ff90a946bd20535f3a1,32,13,2,6873,,,0,"WIP: Remove temporary code from _delete_while_booting

This removes code that was a temporary measure until we would
no longer create the instance in conductor if the API had already
deleted the build request, via _attempt_delete_of_buildrequest.

That change happened in Ocata:

I19d6d765894785b214458b32fe612b4ef78a270d

And there were some other fixes that went on top of that:

I6c32d5a4086a227d59ad7b1f6f50e7e532c74c84

I399023ea705c514c33d07cc3613d79744cbf7a07

So at this point if we deleted the build request, all we
should have to do is decrement the quota usage and be done
with this part of the local delete flow.

Change-Id: Ia3b8e3c787614c27e9356c2eff70e132ecb585bb
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/455007/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,b7e9bc1f9e03b727b4621fe373eda24543ee1fda,cleanup-local-delete, quotas.commit()," try: # NOTE(alaski): Though the conductor halts the build process it # does not currently delete the instance record. This is # because in the near future the instance record will not be # created if the buildrequest has been deleted here. For now we # ensure the instance has been set to deleted at this point. # Yes this directly contradicts the comment earlier in this # method, but this is a temporary measure. # Look up the instance because the current instance object was # stashed on the buildrequest and therefore not complete enough # to run .destroy(). instance_uuid = instance.uuid cell, instance = self._lookup_instance(context, instance_uuid) if instance is not None: # If instance is None it has already been deleted. if cell: with nova_context.target_cell(context, cell): with compute_utils.notify_about_instance_delete( self.notifier, context, instance): instance.destroy() else: instance.destroy() quotas.commit() else: # The instance is already deleted so rollback the quota # usage decrement reservation in the not found block below. raise exception.InstanceNotFound(instance_id=instance_uuid) except exception.InstanceNotFound: quotas.rollback() ",1,30
openstack%2Fnova~master~Ia7b25092647515ad0f148deaba29818f9eb1f22b,openstack/nova,master,Ia7b25092647515ad0f148deaba29818f9eb1f22b,Code improvement for hypervisors controller,ABANDONED,2016-06-29 02:25:39.000000000,2017-08-01 09:53:39.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4428}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}, {'_account_id': 23871}, {'_account_id': 23975}]","[{'number': 1, 'created': '2016-06-29 02:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e479977278c4371ed99fc9082d28fd57257f7b4', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 2, 'created': '2016-06-29 02:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34253cce9aae80bc04b8fcf7e2e32d4e6753dd14', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 3, 'created': '2016-07-11 03:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c434e9f8cfb9eaa17397e47de9d62e0c58866602', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 4, 'created': '2016-07-11 03:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb142ad073ef727e353348b7cacb7ce9b0d85079', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 5, 'created': '2016-07-11 06:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec61c7b98f6063d4a2af12a44519b6a150ad1012', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 6, 'created': '2016-07-11 09:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17c9a7a1fd366869d6c8a4703eaead19d361d989', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 7, 'created': '2016-08-10 02:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d79d58b0d54191ded7a809ea6c698db275e976b', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 8, 'created': '2016-08-11 00:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b025bd2a45d6e50c2a9ff5c6135d8d8e0b626da', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 9, 'created': '2016-08-15 00:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f08e7e75d9fca27db1b1b1fbf014f3b1eb991d11', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 10, 'created': '2016-08-15 05:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6511e2a6f6ae6ceb6c062a91bccb7c398e2de20e', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 11, 'created': '2016-08-31 09:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4f5cd190eaf62790ff7bcd62e0c83f3a2096700', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 12, 'created': '2016-09-01 01:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25d157355e945d1745925655f9d80e491c964d6f', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 13, 'created': '2016-09-06 02:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c837121f4eb6a0b06a2db74d0ae9236cad9feedd', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 14, 'created': '2016-12-04 14:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad76a2f8518eff4813e267c75916161869e3a98c', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 15, 'created': '2016-12-07 12:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a56f01f6178a0d56708f1e06b27a111a8bb1c616', 'message': 'Adds view builders for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime, search\nand servers.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 16, 'created': '2017-01-20 02:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3988ba148e9a7356688c4539e49944b15beb3023', 'message': 'Code improvement for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime,\nsearch and servers to reduce some duplicated code.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 17, 'created': '2017-01-22 01:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/323a02f0acdef00769e12ab14adbe6ceb5f752e0', 'message': 'Code improvement for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime,\nsearch and servers to reduce some duplicated code.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 18, 'created': '2017-01-22 01:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac97ce57dc1b9b8aeb668dab2b6788f9542c8e14', 'message': 'Code improvement for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime,\nsearch and servers to reduce some duplicated code.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}, {'number': 19, 'created': '2017-01-22 03:32:27.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_extended_hypervisors.py', 'nova/api/openstack/compute/views/hypervisors.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hypervisor_status.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d44a58947e2ed0dbc3590caced75ff1121d8bf53', 'message': 'Code improvement for hypervisors controller\n\nAdds view builders for hypervisor index, detail, show, uptime,\nsearch and servers to reduce some duplicated code.\n\nChange-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b\n'}]",29,335282,d44a58947e2ed0dbc3590caced75ff1121d8bf53,220,29,19,4428,,,0,"Code improvement for hypervisors controller

Adds view builders for hypervisor index, detail, show, uptime,
search and servers to reduce some duplicated code.

Change-Id: Ia7b25092647515ad0f148deaba29818f9eb1f22b
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/335282/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/views/hypervisors.py', 'nova/api/openstack/compute/hypervisors.py']",2,9e479977278c4371ed99fc9082d28fd57257f7b4,hypervisor-view-builder," return self._view_builder.index(req, compute_nodes, links=links) return self._view_builder.detail(req, compute_nodes, links=links) return self._view_builder.show(req, hyp) return self._view_builder.uptime(req, hyp, uptime) return self._view_builder(req, hypervisors) return self._view_builder.servers(req, compute_nodes)","from oslo_serialization import jsonutilsfrom nova.api.openstack import api_version_requestfrom nova import servicegroup self.servicegroup_api = servicegroup.API() def _view_hypervisor(self, hypervisor, service, detail, req, servers=None, **kwargs): alive = self.servicegroup_api.service_is_up(service) hyp_dict = { 'id': hypervisor.id, 'hypervisor_hostname': hypervisor.hypervisor_hostname, 'state': 'up' if alive else 'down', 'status': ('disabled' if service.disabled else 'enabled'), } if detail and not servers: for field in ('vcpus', 'memory_mb', 'local_gb', 'vcpus_used', 'memory_mb_used', 'local_gb_used', 'hypervisor_type', 'hypervisor_version', 'free_ram_mb', 'free_disk_gb', 'current_workload', 'running_vms', 'disk_available_least', 'host_ip'): hyp_dict[field] = getattr(hypervisor, field) hyp_dict['service'] = { 'id': service.id, 'host': hypervisor.host, 'disabled_reason': service.disabled_reason, } if api_version_request.is_supported(req, min_version='2.28'): hyp_dict['cpu_info'] = jsonutils.loads(hypervisor.cpu_info) else: hyp_dict['cpu_info'] = hypervisor.cpu_info if servers: hyp_dict['servers'] = [dict(name=serv['name'], uuid=serv['uuid']) for serv in servers] # Add any additional info if kwargs: hyp_dict.update(kwargs) return hyp_dict hypervisors_list = [self._view_hypervisor( hyp, self.host_api.service_get_by_compute_host( context, hyp.host), False, req) for hyp in compute_nodes] hypervisors_links = self._view_builder.get_links(req, hypervisors_list) hypervisors_dict = dict(hypervisors=hypervisors_list) if links: hypervisors_dict['hypervisors_links'] = hypervisors_links return hypervisors_dict hypervisors_list = [ self._view_hypervisor( hyp, self.host_api.service_get_by_compute_host(context, hyp.host), True, req) for hyp in compute_nodes] hypervisors_links = self._view_builder.get_links( req, hypervisors_list, detail=True) hypervisors_dict = dict(hypervisors=hypervisors_list) if links: hypervisors_dict['hypervisors_links'] = hypervisors_links return hypervisors_dict service = self.host_api.service_get_by_compute_host( context, hyp.host) return dict(hypervisor=self._view_hypervisor( hyp, service, True, req)) service = self.host_api.service_get_by_compute_host(context, host) return dict(hypervisor=self._view_hypervisor(hyp, service, False, req, uptime=uptime)) return dict(hypervisors=[self._view_hypervisor( hyp, self.host_api.service_get_by_compute_host( context, hyp.host), False, req) for hyp in hypervisors]) hypervisors = [] for compute_node in compute_nodes: instances = self.host_api.instance_get_all_by_host(context, compute_node.host) service = self.host_api.service_get_by_compute_host( context, compute_node.host) hyp = self._view_hypervisor(compute_node, service, False, req, instances) hypervisors.append(hyp) return dict(hypervisors=hypervisors)",119,90
openstack%2Fnova~master~Ic5e4ff0c45bbae15aa98ee1768f8b6874e6e73c8,openstack/nova,master,Ic5e4ff0c45bbae15aa98ee1768f8b6874e6e73c8,Add InstanceMappingList.get_by_instance_uuids,ABANDONED,2017-03-13 19:40:55.000000000,2017-08-01 09:53:38.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-13 19:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95c5af0323e0d748668082ab684fdd813c8011cb', 'message': 'Add InstanceMappingList.get_by_instance_uuids\n\nIntroduce an efficient method to fetch all InstanceMapping objects for\na list of instance uuids in a single query.\n\nThe first user of this method is introduced in change If59453f1.\n\nChange-Id: Ic5e4ff0c45bbae15aa98ee1768f8b6874e6e73c8\n'}, {'number': 2, 'created': '2017-03-14 16:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9e68b96aba0a703a586357f5b6a9866b7ec49de', 'message': 'Add InstanceMappingList.get_by_instance_uuids\n\nIntroduce an efficient method to fetch all InstanceMapping objects for\na list of instance uuids in a single query.\n\nThe first user of this method is introduced in change If59453f1.\n\nChange-Id: Ic5e4ff0c45bbae15aa98ee1768f8b6874e6e73c8\n'}, {'number': 3, 'created': '2017-03-15 17:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/043c6a832e0788ef6443f2c392e97f406d349ebf', 'message': 'Add InstanceMappingList.get_by_instance_uuids\n\nIntroduce an efficient method to fetch all InstanceMapping objects for\na list of instance uuids in a single query.\n\nThe first user of this method is introduced in change If59453f1.\n\nChange-Id: Ic5e4ff0c45bbae15aa98ee1768f8b6874e6e73c8\n'}, {'number': 4, 'created': '2017-03-29 14:45:43.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/fixtures.py', 'nova/tests/functional/db/test_instance_mapping.py', 'nova/objects/instance_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97a0b939a049e8a4df5182d7beb5e5bd2ee1e028', 'message': 'Add InstanceMappingList.get_by_instance_uuids\n\nIntroduce an efficient method to fetch all InstanceMapping objects for\na list of instance uuids in a single query.\n\nThe first user of this method is introduced in change If59453f1.\n\nChange-Id: Ic5e4ff0c45bbae15aa98ee1768f8b6874e6e73c8\n'}]",0,445139,97a0b939a049e8a4df5182d7beb5e5bd2ee1e028,66,16,4,9555,,,0,"Add InstanceMappingList.get_by_instance_uuids

Introduce an efficient method to fetch all InstanceMapping objects for
a list of instance uuids in a single query.

The first user of this method is introduced in change If59453f1.

Change-Id: Ic5e4ff0c45bbae15aa98ee1768f8b6874e6e73c8
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/445139/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/db/test_instance_mapping.py', 'nova/objects/instance_mapping.py']",3,95c5af0323e0d748668082ab684fdd813c8011cb,server_external_events," # Version 1.2: Added get_by_instance_uuids method. VERSION = '1.2' @staticmethod @db_api.api_context_manager.reader def _get_by_instance_uuids_from_db(context, uuids): return (context.session.query(api_models.InstanceMapping) .options(joinedload('cell_mapping')) .filter(api_models.InstanceMapping.instance_uuid.in_(uuids)) .all()) @base.remotable_classmethod def get_by_instance_uuids(cls, context, uuids): db_mappings = cls._get_by_instance_uuids_from_db(context, uuids) return base.obj_make_list(context, cls(), objects.InstanceMapping, db_mappings)", VERSION = '1.1',49,2
openstack%2Fnova~master~Idf2ca9c52770497e1ac701773460919a0225e051,openstack/nova,master,Idf2ca9c52770497e1ac701773460919a0225e051,Add RequestContext.for_cell(),ABANDONED,2017-03-13 19:40:55.000000000,2017-08-01 09:53:37.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-13 19:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/059bc0a00470e781aa53290a02045c53aaada70e', 'message': ""Add RequestContext.for_cell()\n\nAdd a method in the spirit of RequestContext.elevated() which returns\na copy of the current RequestContext, but with the db_connection\ntargetted to a specific cell.\n\nThis method allows us to return lists of versioned objects which\naren't necessarily in the same cell. We currently use\ncontext.target_cell() for this purpose, but this is problematic\nbecause:\n\n  * Versioned objects store their context by reference\n  * context.target_cell() modifies a context object rather than\n    returning a new one.\n\nThis means that on exit from context.target_cell() the context stored\nin a versioned object becomes incorrect. Consequently, this cell\ntargetting logic must be duplicated every time we iterate over the\nlist if we want to load new values or persist changes to the object.\n\nThe first user of this method is introduced in change I54d0bc41.\n\nChange-Id: Idf2ca9c52770497e1ac701773460919a0225e051\n""}, {'number': 2, 'created': '2017-03-14 16:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9047e2315e84467317000e593d44fdeadbff4f98', 'message': ""Add RequestContext.for_cell()\n\nAdd a method in the spirit of RequestContext.elevated() which returns\na copy of the current RequestContext, but with the db_connection\ntargetted to a specific cell.\n\nThis method allows us to return lists of versioned objects which\naren't necessarily in the same cell. We currently use\ncontext.target_cell() for this purpose, but this is problematic\nbecause:\n\n  * Versioned objects store their context by reference\n  * context.target_cell() modifies a context object rather than\n    returning a new one.\n\nThis means that on exit from context.target_cell() the context stored\nin a versioned object becomes incorrect. Consequently, this cell\ntargetting logic must be duplicated every time we iterate over the\nlist if we want to load new values or persist changes to the object.\n\nThe first user of this method is introduced in change I54d0bc41.\n\nChange-Id: Idf2ca9c52770497e1ac701773460919a0225e051\n""}, {'number': 3, 'created': '2017-03-15 17:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0c080770b71ab638e6fca59d5524245eeb2d9a3', 'message': ""Add RequestContext.for_cell()\n\nAdd a method in the spirit of RequestContext.elevated() which returns\na copy of the current RequestContext, but with the db_connection\ntargetted to a specific cell.\n\nThis method allows us to return lists of versioned objects which\naren't necessarily in the same cell. We currently use\ncontext.target_cell() for this purpose, but this is problematic\nbecause:\n\n  * Versioned objects store their context by reference\n  * context.target_cell() modifies a context object rather than\n    returning a new one.\n\nThis means that on exit from context.target_cell() the context stored\nin a versioned object becomes incorrect. Consequently, this cell\ntargetting logic must be duplicated every time we iterate over the\nlist if we want to load new values or persist changes to the object.\n\nThe first user of this method is introduced in change I54d0bc41.\n\nChange-Id: Idf2ca9c52770497e1ac701773460919a0225e051\n""}, {'number': 4, 'created': '2017-03-29 14:45:43.000000000', 'files': ['nova/tests/fixtures.py', 'nova/context.py', 'nova/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fdcc9c6dd89c2cb972bdcbaf58448901055ab042', 'message': ""Add RequestContext.for_cell()\n\nAdd a method in the spirit of RequestContext.elevated() which returns\na copy of the current RequestContext, but with the db_connection\ntargetted to a specific cell.\n\nThis method allows us to return lists of versioned objects which\naren't necessarily in the same cell. We currently use\ncontext.target_cell() for this purpose, but this is problematic\nbecause:\n\n  * Versioned objects store their context by reference\n  * context.target_cell() modifies a context object rather than\n    returning a new one.\n\nThis means that on exit from context.target_cell() the context stored\nin a versioned object becomes incorrect. Consequently, this cell\ntargetting logic must be duplicated every time we iterate over the\nlist if we want to load new values or persist changes to the object.\n\nThe first user of this method is introduced in change I54d0bc41.\n\nChange-Id: Idf2ca9c52770497e1ac701773460919a0225e051\n""}]",0,445140,fdcc9c6dd89c2cb972bdcbaf58448901055ab042,56,15,4,9555,,,0,"Add RequestContext.for_cell()

Add a method in the spirit of RequestContext.elevated() which returns
a copy of the current RequestContext, but with the db_connection
targetted to a specific cell.

This method allows us to return lists of versioned objects which
aren't necessarily in the same cell. We currently use
context.target_cell() for this purpose, but this is problematic
because:

  * Versioned objects store their context by reference
  * context.target_cell() modifies a context object rather than
    returning a new one.

This means that on exit from context.target_cell() the context stored
in a versioned object becomes incorrect. Consequently, this cell
targetting logic must be duplicated every time we iterate over the
list if we want to load new values or persist changes to the object.

The first user of this method is introduced in change I54d0bc41.

Change-Id: Idf2ca9c52770497e1ac701773460919a0225e051
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/445140/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/context.py', 'nova/tests/unit/test_context.py']",3,059bc0a00470e781aa53290a02045c53aaada70e,server_external_events," @mock.patch('nova.db.create_context_manager') def test_request_context_for_cell(self, mock_create_context_manager): user_ctxt = context.RequestContext('111', '222') cell_mapping = mock.create_autospec( 'nova.objects.cell_mapping.CellMapping') cell_mapping.database_connection = mock.sentinel.cell_db_connection cell_context = user_ctxt.for_cell(cell_mapping) mock_create_context_manager.assert_called_once_with( mock.sentinel.cell_db_connection) self.assertIsNot(user_ctxt, cell_context) self.assertEqual(user_ctxt.user_id, cell_context.user_id) self.assertEqual(user_ctxt.project_id, cell_context.project_id) self.assertEqual(mock_create_context_manager.return_value, cell_context.db_connection) ",,39,0
openstack%2Fnova~master~I7724d9aaddc7d5d51df87cc7523bdf0f2b4c852d,openstack/nova,master,I7724d9aaddc7d5d51df87cc7523bdf0f2b4c852d,Fix network metadata information - part 1/3,ABANDONED,2017-03-27 13:14:40.000000000,2017-08-01 09:53:33.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19339}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-27 13:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/477918844e7a1f1e1c0b02a3939a5a17c661f80f', 'message': 'WIP: Fix network metadata information - part 1/3\n\nAs noted in [1], there are use cases where an instances will want to use\nstatic interface configuration even for a network where a DHCP server is\nenabled. This is possible since each port has a statically defined IP\naddress for it, even if the usual path is handing it out via an\nOpenStack controlled DHCP server. But since there is no benefit in\nhiding this information in the metadata API, we may as well include it,\nmaking the static configuration via e.g. glean much easier.\n\n[1] https://bugs.launchpad.net/nova/+bug/1676363\n\nChange-Id: I7724d9aaddc7d5d51df87cc7523bdf0f2b4c852d\nPartial-Bug: 1676363\n'}, {'number': 2, 'created': '2017-04-07 11:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0aa50d5954946b8c88d884c104788b3ff7e4f062', 'message': 'Fix network metadata information - part 1/3\n\nAs noted in [1], there are use cases where an instance will want to use\nstatic interface configuration even for a network where a DHCP server is\nenabled. This is possible since each port has a statically defined IP\naddress for it, even if the usual path is handing it out via an\nOpenStack controlled DHCP server. But since there is no benefit in\nhiding this information in the metadata API, we may as well include it,\nmaking the static configuration via e.g. glean much easier.\n\n[1] https://bugs.launchpad.net/nova/+bug/1676363\n\nChange-Id: I7724d9aaddc7d5d51df87cc7523bdf0f2b4c852d\nPartial-Bug: 1676363\n'}, {'number': 3, 'created': '2017-04-12 12:55:51.000000000', 'files': ['nova/tests/unit/network/test_network_info.py', 'nova/virt/netutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d0cfd5c7ce539f97fd5be24dc04d5d96f1465d70', 'message': 'Fix network metadata information - part 1/3\n\nAs noted in [1], there are use cases where an instance will want to use\nstatic interface configuration even for a network where a DHCP server is\nenabled. This is possible since each port has a statically defined IP\naddress for it, even if the usual path is handing it out via an\nOpenStack controlled DHCP server. But since there is no benefit in\nhiding this information in the metadata API, we may as well include it,\nmaking the static configuration via e.g. glean much easier.\n\n[1] https://bugs.launchpad.net/nova/+bug/1676363\n\nChange-Id: I7724d9aaddc7d5d51df87cc7523bdf0f2b4c852d\nPartial-Bug: 1676363\n'}]",4,450211,d0cfd5c7ce539f97fd5be24dc04d5d96f1465d70,74,23,3,13252,,,0,"Fix network metadata information - part 1/3

As noted in [1], there are use cases where an instance will want to use
static interface configuration even for a network where a DHCP server is
enabled. This is possible since each port has a statically defined IP
address for it, even if the usual path is handing it out via an
OpenStack controlled DHCP server. But since there is no benefit in
hiding this information in the metadata API, we may as well include it,
making the static configuration via e.g. glean much easier.

[1] https://bugs.launchpad.net/nova/+bug/1676363

Change-Id: I7724d9aaddc7d5d51df87cc7523bdf0f2b4c852d
Partial-Bug: 1676363
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/450211/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_network_info.py', 'nova/virt/netutils.py']",2,477918844e7a1f1e1c0b02a3939a5a17c661f80f,bug/1676363," net_type = '' if subnet.get_meta('dhcp_server') is not None: net_type = '_dhcp' 'type': 'ipv%d%s' % (version, net_type),"," if subnet.get_meta('dhcp_server') is not None: net_info = { 'id': 'network%d' % net_num, 'type': 'ipv%d_dhcp' % version, 'link': link_id, 'network_id': vif['network']['id'] } return net_info 'type': 'ipv%d' % version,",29,8
openstack%2Fnova~master~I6fd2f1e50191b4fe1ab6c9d41065691f7cba60cb,openstack/nova,master,I6fd2f1e50191b4fe1ab6c9d41065691f7cba60cb,Fix network metadata information - part 2/3,ABANDONED,2017-03-27 13:14:40.000000000,2017-08-01 09:53:32.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19339}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-27 13:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9726da3046a4efa77f5007197fdae0cd91608405', 'message': 'WIP: Fix network metadata information - part 2/3\n\nUsing a bit field for a netmask is an extremely strange option nowadays,\nin particular for IPv6. Most applications and tools can work much better\nwith the ""/prefixlen"" based CIDR notation, so change the output in the\nnetwork metadata information accordingly.\n\nChange-Id: I6fd2f1e50191b4fe1ab6c9d41065691f7cba60cb\nPartial-Bug: 1676363\n'}, {'number': 2, 'created': '2017-04-07 11:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0910fcb21c8ca979bfca2597423864ecccf20ac1', 'message': 'Fix network metadata information - part 2/3\n\nUsing a bit field for a netmask is an extremely strange option nowadays,\nin particular for IPv6. Most applications and tools can work much better\nwith the ""/prefixlen"" based CIDR notation.\n\nHowever, in the interest of backwards compatibility, changing the\nexisting field should be avoided, so instead we add a new field to the\noutput in the network metadata information accordingly.\n\nChange-Id: I6fd2f1e50191b4fe1ab6c9d41065691f7cba60cb\nPartial-Bug: 1676363\n'}, {'number': 3, 'created': '2017-04-12 09:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be6616cbde0370a66d5857515b5e1cc7c28a77ad', 'message': 'Fix network metadata information - part 2/3\n\nUsing a bit field for a netmask is an extremely strange option nowadays,\nin particular for IPv6. Most applications and tools can work much better\nwith the ""/prefixlen"" based CIDR notation.\n\nHowever, in the interest of backwards compatibility, changing the\nexisting field should be avoided, so instead we add a new field to the\noutput in the network metadata information accordingly.\n\nChange-Id: I6fd2f1e50191b4fe1ab6c9d41065691f7cba60cb\nPartial-Bug: 1676363\n'}, {'number': 4, 'created': '2017-04-12 12:56:21.000000000', 'files': ['nova/tests/unit/network/test_network_info.py', 'nova/virt/netutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b2cb79ff6f9aad13579367b135c43a18ff4b916', 'message': 'Fix network metadata information - part 2/3\n\nUsing a bit field for a netmask is an extremely strange option nowadays,\nin particular for IPv6. Most applications and tools can work much better\nwith the ""/prefixlen"" based CIDR notation.\n\nHowever, in the interest of backwards compatibility, changing the\nexisting field should be avoided, so instead we add a new field to the\noutput in the network metadata information accordingly.\n\nChange-Id: I6fd2f1e50191b4fe1ab6c9d41065691f7cba60cb\nPartial-Bug: 1676363\n'}]",9,450212,6b2cb79ff6f9aad13579367b135c43a18ff4b916,80,22,4,13252,,,0,"Fix network metadata information - part 2/3

Using a bit field for a netmask is an extremely strange option nowadays,
in particular for IPv6. Most applications and tools can work much better
with the ""/prefixlen"" based CIDR notation.

However, in the interest of backwards compatibility, changing the
existing field should be avoided, so instead we add a new field to the
output in the network metadata information accordingly.

Change-Id: I6fd2f1e50191b4fe1ab6c9d41065691f7cba60cb
Partial-Bug: 1676363
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/450212/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_network_info.py', 'nova/virt/netutils.py']",2,9726da3046a4efa77f5007197fdae0cd91608405,bug/1676363," netmask = '/' + str(netaddr.IPNetwork(subnet['cidr']).prefixlen) if version == 4: netmask = str(route_addr.netmask) elif version == 6: netmask = '/' + str(route_addr.prefixlen) 'netmask': netmask, 'netmask': '/0',"," netmask = str(subnet.as_netaddr().netmask) 'netmask': str(route_addr.netmask), 'netmask': '::',",20,16
openstack%2Fnova~master~If03e324d2eb3919a5210ce5e6fffd6d08a7baed7,openstack/nova,master,If03e324d2eb3919a5210ce5e6fffd6d08a7baed7,placement: SRIOV PF devices as child providers,ABANDONED,2016-12-25 18:23:52.000000000,2017-08-01 09:53:31.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12171}, {'_account_id': 13692}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-12-25 18:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab24f731dfe7efacf810a757e5bbc4c7aebacd87', 'message': ""DNM:placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nStill need to add some more unit and functional tests. DO NOT MERGE.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 2, 'created': '2016-12-26 18:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/150967218d6db08fbdf5039dba6c7ac5c7ebc2c8', 'message': ""DNM:placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nStill need to add some more unit and functional tests. DO NOT MERGE.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 3, 'created': '2016-12-28 21:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4392159b54096388f29306f755d08fcc081e0894', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 4, 'created': '2016-12-28 21:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a3468b4039689e3f5ada72feff559264ac42573', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 5, 'created': '2016-12-29 14:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b596d1f2519ba80722b53a2252baf42a3496e41a', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 6, 'created': '2016-12-29 14:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47a26fb840f8b981dc9107d8aaf1f64cdcbe85af', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 7, 'created': '2017-01-04 21:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c6176a6c7815526375a82347861a58530c80cb9', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 8, 'created': '2017-01-09 09:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f441e99c433a435d44842489ba06eacdb37dd059', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 9, 'created': '2017-01-11 20:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ce859d9e570069f62b68a22d60de036791897b4', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 10, 'created': '2017-01-11 21:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/814c46769086f2ce99e5a4e2e32acfdc722d8e66', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 11, 'created': '2017-01-11 21:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21d60999fb15a3dbe71639e05a7fe602640f94a4', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 12, 'created': '2017-01-16 02:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4d1752ce3b5d41ae7427ad6975b16eee360037f', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 13, 'created': '2017-01-19 18:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbcb3ea9767de9865894ceddb3afef9ba6c4c7a8', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 14, 'created': '2017-01-23 21:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16ae81871e192d87ccd4464e3970d7fd8e30fb29', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 15, 'created': '2017-02-09 22:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff79826217ce61afd88c23ecde68e4d9f7e654eb', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 16, 'created': '2017-02-10 18:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b645ac0ee59b064052e7e45729eb4acbfce61aba', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}, {'number': 17, 'created': '2017-04-17 16:30:08.000000000', 'files': ['nova/scheduler/client/__init__.py', 'nova/tests/unit/scheduler/test_client.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/functional/api/openstack/placement/test_report_client.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6d4534f7f2d3ee4a62e39715bb56068fc4d36bc7', 'message': ""placement: SRIOV PF devices as child providers\n\nAdds accounting of SR-IOV physical function PCI devices as child resource\nproviders under the parent resource provider of the compute node. Each virtual\nfunction (VF) having the parent_address of the physical function is accounted\nfor as one SRIOV_NET_VF resource in the inventory of the child provider in the\nplacement API.\n\nNote that because we do not yet have traits support in the placement API, we\ncan only make simplistic filtering decisions with this new SRIOV_NET_VF\ninventory data. We cannot yet distinguish between a VF that is tagged with a\ndifferent physical network as another VF. That differentiation will come when\ntraits are introduced in Pike. For now, this inventory and allocation data will\nallow the scheduler to request resource providers that have some required\nnumber of virtual functions available on a compute node. Filters on the Nova\nscheduler side will continue to exist to do a more in-depth analysis of the\nPF's capabilities (device tags) in order to determine if a compute node can\nmeet all required qualitative aspects of the request.\n\nChange-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7\nblueprint: nested-resource-providers\n""}]",1,414769,6d4534f7f2d3ee4a62e39715bb56068fc4d36bc7,213,21,17,7,,,0,"placement: SRIOV PF devices as child providers

Adds accounting of SR-IOV physical function PCI devices as child resource
providers under the parent resource provider of the compute node. Each virtual
function (VF) having the parent_address of the physical function is accounted
for as one SRIOV_NET_VF resource in the inventory of the child provider in the
placement API.

Note that because we do not yet have traits support in the placement API, we
can only make simplistic filtering decisions with this new SRIOV_NET_VF
inventory data. We cannot yet distinguish between a VF that is tagged with a
different physical network as another VF. That differentiation will come when
traits are introduced in Pike. For now, this inventory and allocation data will
allow the scheduler to request resource providers that have some required
number of virtual functions available on a compute node. Filters on the Nova
scheduler side will continue to exist to do a more in-depth analysis of the
PF's capabilities (device tags) in order to determine if a compute node can
meet all required qualitative aspects of the request.

Change-Id: If03e324d2eb3919a5210ce5e6fffd6d08a7baed7
blueprint: nested-resource-providers
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/414769/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/scheduler/client/__init__.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py']",6,ab24f731dfe7efacf810a757e5bbc4c7aebacd87,bp/nested-resource-providers," pci_devs = self._setup_pci_tracker(context, resources) self.scheduler_client.update_resource_stats(self.compute_node, pci_devs) pci_devs = self._setup_pci_tracker(context, resources) self.scheduler_client.update_resource_stats(self.compute_node, pci_devs) pci_devs = self._setup_pci_tracker(context, resources) self.scheduler_client.update_resource_stats(self.compute_node, pci_devs) pci_devices = objects.PciDeviceList() pci_devices = self.pci_tracker.pci_devs return pci_devices pci_devs = objects.PciDeviceList() pci_devs = self.pci_tracker.pci_devs # Persist the stats to the Scheduler self.scheduler_client.update_resource_stats(self.compute_node, pci_devs) pci_devs = objects.PciDeviceList() pci_devs = self.pci_tracker.pci_devs self.compute_node, instance, pci_devs, sign)"," self._setup_pci_tracker(context, resources) self.scheduler_client.update_resource_stats(self.compute_node) self._setup_pci_tracker(context, resources) self.scheduler_client.update_resource_stats(self.compute_node) self._setup_pci_tracker(context, resources) self.scheduler_client.update_resource_stats(self.compute_node) # Persist the stats to the Scheduler self.scheduler_client.update_resource_stats(self.compute_node) self.compute_node, instance, sign)",398,69
openstack%2Fnova~master~I784bdebd9ee55e50cfaebd55dab2e245a54a17bc,openstack/nova,master,I784bdebd9ee55e50cfaebd55dab2e245a54a17bc,Add check to ensure the versioned_methods are sequential,ABANDONED,2017-04-19 10:22:48.000000000,2017-08-01 09:53:29.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-19 10:22:48.000000000', 'files': ['nova/api/openstack/wsgi.py', 'nova/exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b2dab068c9c71f02cf3d58e563e83334e7644082', 'message': ""Add check to ensure the versioned_methods are sequential\n\nIf there is a gap between each versioned method, the API will\ndisapear in some versions. This patch adds some check to ensure\nthat won't happen.\n\nChange-Id: I784bdebd9ee55e50cfaebd55dab2e245a54a17bc\n""}]",0,458004,b2dab068c9c71f02cf3d58e563e83334e7644082,16,14,1,5754,,,0,"Add check to ensure the versioned_methods are sequential

If there is a gap between each versioned method, the API will
disapear in some versions. This patch adds some check to ensure
that won't happen.

Change-Id: I784bdebd9ee55e50cfaebd55dab2e245a54a17bc
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/458004/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/wsgi.py', 'nova/exception.py']",2,b2dab068c9c71f02cf3d58e563e83334e7644082,bp/api-no-more-extensions-pike," class MicroversionNonSequential(NovaException): msg_fmt = _(""The versioned methods aren't sequential in controller "" ""%(controller)s."")",,18,0
openstack%2Fnova~master~If010fcd859a33d4a9b331f09ccbd2c4151476649,openstack/nova,master,If010fcd859a33d4a9b331f09ccbd2c4151476649,Adjust the order of server actions in api-ref,ABANDONED,2017-04-21 06:51:17.000000000,2017-08-01 09:53:27.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-21 06:51:17.000000000', 'files': ['api-ref/source/servers-actions.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/f78b87d883e9f3e6377a8e12e4044ce26a0fc090', 'message': 'Adjust the order of server actions in api-ref\n\nGroup the related API together, like pause should close with unpause.\n\nChange-Id: If010fcd859a33d4a9b331f09ccbd2c4151476649\n'}]",0,458739,f78b87d883e9f3e6377a8e12e4044ce26a0fc090,13,10,1,5754,,,0,"Adjust the order of server actions in api-ref

Group the related API together, like pause should close with unpause.

Change-Id: If010fcd859a33d4a9b331f09ccbd2c4151476649
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/458739/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/servers-actions.inc'],1,f78b87d883e9f3e6377a8e12e4044ce26a0fc090,deprecated,"Resize Server (resize Action) =============================Resizes a server. Specify the ``resize`` action in the request body. A successfully resized server shows a ``VERIFY_RESIZE`` status, ``RESIZED`` VM status, and ``finished`` migration status. If you set the ``resize_confirm_window`` option of the Compute service to an integer value, the Compute service automatically confirms the resize operation after the set interval in seconds. **Preconditions** You can only resize a server when its status is ``ACTIVE`` or ``SHUTOFF``. If the server is locked, you must have administrator privileges to resize the server.<<<<<<< HEAD======= - resize: resize >>>>>>> 915d462... Adjust the order of server actions in api-ref **Example Resize Server (Resize Action)** .. literalinclude:: ../../doc/api_samples/servers/server-action-resize.jsonRevert Resized Server (revertResize Action) ===========================================Cancels and reverts a pending resize action for a server. Specify the ``revertResize`` action in the request body.You can only revert the resized server where the status is ``VERIFY_RESIZE`` and the OS-EXT-STS:vm_state is ``resized``. If the server is locked, you must have administrator privileges to revert the resizing. **Asynchronous Postconditions** After you make this request, you typically must keep polling the server status to determine whether the request succeeded. A reverting resize operation shows a status of ``REVERT_RESIZE`` and a task_state of ``resize_reverting``. If successful, the status will return to ``ACTIVE`` or ``SHUTOFF``. You can also see the reverted server in the compute node that OpenStack Compute manages.If the server status remains ``VERIFY_RESIZE``, the request failed. Ensure you meet the preconditions and run the request again. If the request fails again, investigate the compute back end. The server is not reverted in the compute node that OpenStack Compute manages.<<<<<<< HEAD======= - revertResize: revertResize >>>>>>> 915d462... Adjust the order of server actions in api-ref **Example Revert Resized Server (revertResize Action)** .. literalinclude:: ../../doc/api_samples/servers/server-action-revert-resize.json<<<<<<< HEAD=======>>>>>>> 915d462... Adjust the order of server actions in api-refReboot Server (reboot Action)Reboots a server. Specify the ``reboot`` action in the request body.Error response codes: unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) - reboot: reboot **Example Reboot Server (reboot Action)** .. literalinclude:: ../../doc/api_samples/servers/server-action-reboot.jsonPause Server (pause Action) ===========================Pauses a server. Changes its status to ``PAUSED``. Specify the ``pause`` action in the request body.conflict(409), notImplemented(501) - pause: pause **Example Pause Server (pause Action)** .. literalinclude:: ../../doc/api_samples/os-pause-server/pause-server.jsonSuspend Server (suspend Action) =============================== .. rest_method:: POST /servers/{server_id}/action Suspends a server and changes its status to ``SUSPENDED``. Specify the ``suspend`` action in the request body. Policy defaults enable only users with the administrative role or the owner of the server to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. Normal response codes: 202 Error response codes: unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - suspend: suspend **Example Suspend Server (suspend Action)** .. literalinclude:: ../../doc/api_samples/os-suspend-server/server-suspend.json :language: javascript Response -------- If successful, this method does not return content in the response body. Resume Suspended Server (resume Action) ======================================= .. rest_method:: POST /servers/{server_id}/action Resumes a suspended server and changes its status to ``ACTIVE``. Specify the ``resume`` action in the request body. Policy defaults enable only users with the administrative role or the owner of the server to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. Normal response codes: 202 Error response codes: unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - resume: resume **Example Resume Suspended Server (Resume Action)** .. literalinclude:: ../../doc/api_samples/os-suspend-server/server-resume.json :language: javascript Response -------- If successful, this method does not return content in the response body. Rescue Server (rescue Action) ============================= .. rest_method:: POST /servers/{server_id}/action Puts a server in rescue mode and changes its status to ``RESCUE``. Specify the ``rescue`` action in the request body. If you specify the ``rescue_image_ref`` extended attribute, the image is used to rescue the instance. If you omit an image reference, the base image reference is used by default. **Asynchronous Postconditions** After you successfully rescue a server and make a ``GET /servers/‚Äã{server_id}‚Äã`` request, its status changes to ``RESCUE``. Normal response codes: 200 Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409), notImplemented(501) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - rescue: rescue - adminPass: adminPass_rescue_request - rescue_image_ref: rescue_image_ref **Example Rescue server** .. literalinclude:: ../../doc/api_samples/os-rescue/server-rescue-req.json :language: javascript Response -------- .. rest_parameters:: parameters.yaml - adminPass: adminPass_response **Example Extended rescue server** .. literalinclude:: ../../doc/api_samples/os-rescue/server-rescue.json :language: javascript``GET /servers/‚Äã{server_id}‚Äã`` Lock Server (lock Action) ========================= .. rest_method:: POST /servers/{server_id}/action Locks a server. Specify the ``lock`` action in the request body. Policy defaults enable only users with the administrative role or the owner of the server to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. Normal response codes: 202 Error response codes: unauthorized(401), forbidden(403), itemNotFound(404) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - lock: lock **Example Lock Server (lock Action)** .. literalinclude:: ../../doc/api_samples/os-lock-server/lock-server.json :language: javascript Response -------- If successful, this method does not return content in the response body. Unlock Server (unlock Action) ============================= .. rest_method:: POST /servers/{server_id}/action Unlocks a locked server. Specify the ``unlock`` action in the request body. Policy defaults enable only users with the administrative role or the owner of the server to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. Normal response codes: 202 Error response codes: unauthorized(401), forbidden(403), itemNotFound(404) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - unlock: unlock **Example Unlock Server (unlock Action)** .. literalinclude:: ../../doc/api_samples/os-lock-server/unlock-server.json :language: javascript Response -------- If successful, this method does not return content in the response body. Create Image (createImage Action) ================================= .. rest_method:: POST /servers/{server_id}/action Creates an image from a server. Specify the ``createImage`` action in the request body. After you make this request, you typically must keep polling the status of the created image to determine whether the request succeeded. If the operation succeeds, the created image has a status of ``active`` and the server status returns to the original status. You can also see the new image in the image back end that OpenStack Image service manages. .. note:: Starting from version 2.39 the image quota enforcement with Nova `metadata` is removed and quota checks should be performed using Glance API directly. **Preconditions** The server must exist. You can only create a new image from the server when its status is ``ACTIVE``, ``SHUTOFF``, ``PAUSED``, or ``SUSPENDED``. The connection to the Image service is valid. **Troubleshooting** If the image status remains uploading or shows another error status, the request failed. Ensure you meet the preconditions and run the request again. If the request fails again, investigate the image back end. If the server status does not go back to an original server's status, the request failed. Ensure you meet the preconditions, or check if there is another operation that causes race conditions for the server, then run the request again. If the request fails again, investigate the compute back end or ask your cloud provider. If the request fails due to an error on OpenStack Compute service, the image is purged from the image store that OpenStack Image service manages. Ensure you meet the preconditions and run the request again. If the request fails again, investigate OpenStack Compute service or ask your cloud provider. Normal response codes: 202 Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - createImage: createImage **Example Create Image (createImage Action)** .. literalinclude:: ../../doc/api_samples/servers/server-action-create-image.json :language: javascript Response -------- .. rest_parameters:: parameters.yaml - image_location: image_location Change Administrative Password (changePassword Action) ====================================================== .. rest_method:: POST /servers/{server_id}/action Changes the administrative password for a server. Specify the ``changePassword`` action in the request body. Policy defaults enable only users with the administrative role or the owner of the server to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. Normal response codes: 202 Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409), notImplemented(501) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - changePassword: changePassword **Example Change Administrative Password (changePassword Action)** .. literalinclude:: ../../doc/api_samples/os-admin-password/admin-password-change-password.json :language: javascript Response -------- If successful, this method does not return content in the response body. Add Security Group To A Server (addSecurityGroup Action) ======================================================== .. rest_method:: POST /servers/{server_id}/action Adds a security group to a server. Specify the ``addSecurityGroup`` action in the request body. Normal response codes: 202 Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - addSecurityGroup: addSecurityGroup - name: name **Example Add Security Group To A Server (addSecurityGroup Action)** .. literalinclude:: ../../doc/api_samples/os-security-groups/security-group-add-post-req.json :language: javascript Response -------- If successful, this method does not return content in the response body. Remove Security Group From A Server (removeSecurityGroup Action) ================================================================ .. rest_method:: POST /servers/{server_id}/action Removes a security group from a server. Specify the ``removeSecurityGroup`` action in the request body. Normal response codes: 202 Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - removeSecurityGroup: removeSecurityGroup - name: name **Example Remove Security Group From A Server (removeSecurityGroup Action)** .. literalinclude:: ../../doc/api_samples/os-security-groups/security-group-remove-post-req.json :language: javascript Response -------- If successful, this method does not return content in the response body.","Add Security Group To A Server (addSecurityGroup Action) ========================================================Adds a security group to a server. Specify the ``addSecurityGroup`` action in the request body. - addSecurityGroup: addSecurityGroup - name: name **Example Add Security Group To A Server (addSecurityGroup Action)** .. literalinclude:: ../../doc/api_samples/os-security-groups/security-group-add-post-req.json :language: javascript Response -------- If successful, this method does not return content in the response body. Change Administrative Password (changePassword Action) ====================================================== .. rest_method:: POST /servers/{server_id}/action Changes the administrative password for a server. Specify the ``changePassword`` action in the request body. Policy defaults enable only users with the administrative role or the owner of the server to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. Normal response codes: 202 Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409), notImplemented(501) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path **Example Change Administrative Password (changePassword Action)** .. literalinclude:: ../../doc/api_samples/os-admin-password/admin-password-change-password.json Create Image (createImage Action) =================================Creates an image from a server. Specify the ``createImage`` action in the request body. After you make this request, you typically must keep polling the status of the created image to determine whether the request succeeded. If the operation succeeds, the created image has a status of ``active`` and the server status returns to the original status. You can also see the new image in the image back end that OpenStack Image service manages. .. note:: Starting from version 2.39 the image quota enforcement with Nova `metadata` is removed and quota checks should be performed using Glance API directly.The server must exist. You can only create a new image from the server when its status is ``ACTIVE``, ``SHUTOFF``, ``PAUSED``, or ``SUSPENDED``. The connection to the Image service is valid.If the image status remains uploading or shows another error status, the request failed. Ensure you meet the preconditions and run the request again. If the request fails again, investigate the image back end. If the server status does not go back to an original server's status, the request failed. Ensure you meet the preconditions, or check if there is another operation that causes race conditions for the server, then run the request again. If the request fails again, investigate the compute back end or ask your cloud provider. If the request fails due to an error on OpenStack Compute service, the image is purged from the image store that OpenStack Image service manages. Ensure you meet the preconditions and run the request again. If the request fails again, investigate OpenStack Compute service or ask your cloud provider. **Example Create Image (createImage Action)** .. literalinclude:: ../../doc/api_samples/servers/server-action-create-image.json Lock Server (lock Action) ========================= .. rest_method:: POST /servers/{server_id}/action Locks a server. Specify the ``lock`` action in the request body. Policy defaults enable only users with the administrative role or the owner of the server to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. Normal response codes: 202 Error response codes: unauthorized(401), forbidden(403), itemNotFound(404) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - lock: lock **Example Lock Server (lock Action)** .. literalinclude:: ../../doc/api_samples/os-lock-server/lock-server.json :language: javascript Response -------- Pause Server (pause Action) =========================== .. rest_method:: POST /servers/{server_id}/action Pauses a server. Changes its status to ``PAUSED``. Specify the ``pause`` action in the request body. Policy defaults enable only users with the administrative role or the owner of the server to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. Normal response codes: 202 Error response codes: unauthorized(401), forbidden(403), itemNotFound(404), conflict(409), notImplemented(501) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - pause: pause **Example Pause Server (pause Action)** .. literalinclude:: ../../doc/api_samples/os-pause-server/pause-server.json :language: javascript Response -------- If successful, this method does not return content in the response body. Reboot Server (reboot Action) ============================= .. rest_method:: POST /servers/{server_id}/action Reboots a server. Specify the ``reboot`` action in the request body. Normal response codes: 202 Error response codes: unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - reboot: reboot **Example Reboot Server (reboot Action)** .. literalinclude:: ../../doc/api_samples/servers/server-action-reboot.json :language: javascript Response -------- If successful, this method does not return content in the response body. Remove Security Group From A Server (removeSecurityGroup Action) ================================================================ .. rest_method:: POST /servers/{server_id}/action Removes a security group from a server. Specify the ``removeSecurityGroup`` action in the request body. Normal response codes: 202 Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - removeSecurityGroup: removeSecurityGroup - name: name **Example Remove Security Group From A Server (removeSecurityGroup Action)** .. literalinclude:: ../../doc/api_samples/os-security-groups/security-group-remove-post-req.json :language: javascript Response -------- If successful, this method does not return content in the response body. Rescue Server (rescue Action)Puts a server in rescue mode and changes its status to ``RESCUE``. Specify the ``rescue`` action in the request body. If you specify the ``rescue_image_ref`` extended attribute, the image is used to rescue the instance. If you omit an image reference, the base image reference is used by default. **Asynchronous Postconditions** After you successfully rescue a server and make a ``GET /servers/​{server_id}​`` request, its status changes to ``RESCUE``. Normal response codes: 200 Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409), notImplemented(501) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - rescue: rescue - adminPass: adminPass_rescue_request - rescue_image_ref: rescue_image_ref **Example Rescue server** .. literalinclude:: ../../doc/api_samples/os-rescue/server-rescue-req.json :language: javascript Response -------- .. rest_parameters:: parameters.yaml - adminPass: adminPass_response **Example Extended rescue server** .. literalinclude:: ../../doc/api_samples/os-rescue/server-rescue.json :language: javascript Resize Server (resize Action) ============================= .. rest_method:: POST /servers/{server_id}/action Resizes a server. Specify the ``resize`` action in the request body. A successfully resized server shows a ``VERIFY_RESIZE`` status, ``RESIZED`` VM status, and ``finished`` migration status. If you set the ``resize_confirm_window`` option of the Compute service to an integer value, the Compute service automatically confirms the resize operation after the set interval in seconds. **Preconditions** You can only resize a server when its status is ``ACTIVE`` or ``SHUTOFF``. If the server is locked, you must have administrator privileges to resize the server.Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) - resize: resize **Example Resize Server (Resize Action)** .. literalinclude:: ../../doc/api_samples/servers/server-action-resize.json Resume Suspended Server (resume Action) ======================================= .. rest_method:: POST /servers/{server_id}/action Resumes a suspended server and changes its status to ``ACTIVE``. Specify the ``resume`` action in the request body. Policy defaults enable only users with the administrative role or the owner of the server to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. Normal response codes: 202 Error response codes: unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - resume: resume **Example Resume Suspended Server (Resume Action)** .. literalinclude:: ../../doc/api_samples/os-suspend-server/server-resume.json :language: javascript Response -------- If successful, this method does not return content in the response body. Revert Resized Server (revertResize Action) =========================================== .. rest_method:: POST /servers/{server_id}/action Cancels and reverts a pending resize action for a server. Specify the ``revertResize`` action in the request body. **Preconditions** You can only revert the resized server where the status is ``VERIFY_RESIZE`` and the OS-EXT-STS:vm_state is ``resized``. If the server is locked, you must have administrator privileges to revert the resizing. **Asynchronous Postconditions** After you make this request, you typically must keep polling the server status to determine whether the request succeeded. A reverting resize operation shows a status of ``REVERT_RESIZE`` and a task_state of ``resize_reverting``. If successful, the status will return to ``ACTIVE`` or ``SHUTOFF``. You can also see the reverted server in the compute node that OpenStack Compute manages. **Troubleshooting** If the server status remains ``VERIFY_RESIZE``, the request failed. Ensure you meet the preconditions and run the request again. If the request fails again, investigate the compute back end. The server is not reverted in the compute node that OpenStack Compute manages. Normal response codes: 202 Error response codes: badRequest(400), unauthorized(401), forbidden(403), itemNotFound(404), conflict(409) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - revertResize: revertResize **Example Revert Resized Server (revertResize Action)** .. literalinclude:: ../../doc/api_samples/servers/server-action-revert-resize.json :language: javascript Response -------- If successful, this method does not return content in the response body. Suspend Server (suspend Action) ===============================Suspends a server and changes its status to ``SUSPENDED``. Specify the ``suspend`` action in the request body.conflict(409) - suspend: suspend **Example Suspend Server (suspend Action)** .. literalinclude:: ../../doc/api_samples/os-suspend-server/server-suspend.json Unlock Server (unlock Action) ============================= .. rest_method:: POST /servers/{server_id}/action Unlocks a locked server. Specify the ``unlock`` action in the request body. Policy defaults enable only users with the administrative role or the owner of the server to perform this operation. Cloud providers can change these permissions through the ``policy.json`` file. Normal response codes: 202 Error response codes: unauthorized(401), forbidden(403), itemNotFound(404) Request ------- .. rest_parameters:: parameters.yaml - server_id: server_id_path - unlock: unlock **Example Unlock Server (unlock Action)** .. literalinclude:: ../../doc/api_samples/os-lock-server/unlock-server.json :language: javascript Response -------- If successful, this method does not return content in the response body. ``GET /servers/​{server_id}​``",435,433
openstack%2Fnova~master~Ia54ed2ac2399974f607414edbeb118c8741ceeff,openstack/nova,master,Ia54ed2ac2399974f607414edbeb118c8741ceeff,Replaces uuid.uuid4 with uuidutils.generate_uuid(),ABANDONED,2017-03-24 09:47:09.000000000,2017-08-01 09:53:25.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 23628}]","[{'number': 1, 'created': '2017-03-24 09:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc5c641103e351b360926c58c8988e51e1b075ea', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids.\nWe should only use that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: Ia54ed2ac2399974f607414edbeb118c8741ceeff\n'}, {'number': 2, 'created': '2017-03-25 01:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84f639d0e85fe604d890c0864b7c166a9601a343', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids.\nWe should only use that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: Ia54ed2ac2399974f607414edbeb118c8741ceeff\n'}, {'number': 3, 'created': '2017-03-25 03:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee541cbfd28a09327afc511f683cb5155147259b', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids.\nWe should only use that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: Ia54ed2ac2399974f607414edbeb118c8741ceeff\n'}, {'number': 4, 'created': '2017-04-25 01:30:41.000000000', 'files': ['nova/tests/unit/db/test_migration_utils.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/network/test_api.py', 'nova/tests/functional/api_sample_tests/test_cloudpipe.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_cloudpipe.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/volume/encryptors/test_cryptsetup.py', 'nova/virt/libvirt/firewall.py', 'nova/tests/unit/virt/libvirt/test_firewall.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/volume/encryptors/test_luks.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/compute/test_user_data.py', 'nova/tests/unit/virt/xenapi/test_agent.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cbb7681110f58fe5e0e5c2ae4fd08eb0ec1d46f8', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids.\nWe should only use that function when generating uuids for consistency.\n\nCloses-Bug #1082248\n\nChange-Id: Ia54ed2ac2399974f607414edbeb118c8741ceeff\n'}]",2,449537,cbb7681110f58fe5e0e5c2ae4fd08eb0ec1d46f8,53,17,4,23628,,,0,"Replaces uuid.uuid4 with uuidutils.generate_uuid()

Openstack common has a wrapper for generating uuids.
We should only use that function when generating uuids for consistency.

Closes-Bug #1082248

Change-Id: Ia54ed2ac2399974f607414edbeb118c8741ceeff
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/449537/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_migration_utils.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/virt/libvirt/test_firewall.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/volume/encryptors/test_luks.py', 'nova/tests/unit/network/test_api.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/volume/encryptors/test_cryptsetup.py', 'nova/virt/libvirt/firewall.py']",10,cc5c641103e351b360926c58c8988e51e1b075ea,bug/1082248,from oslo_utils import uuidutils u = uuidutils.generate_uuid(dashed=False),import uuid u = uuid.uuid4().hex,24,25
openstack%2Fnova~master~I54d0bc41a99979e8c292f9d084a6a0b17cc2873e,openstack/nova,master,I54d0bc41a99979e8c292f9d084a6a0b17cc2873e,Add InstanceList.get_by_instance_mapping_list(),ABANDONED,2017-03-13 19:40:55.000000000,2017-08-01 09:53:24.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-13 19:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9065752368190edc3cc95e7b4d7d2fc094ee5128', 'message': 'Add InstanceList.get_by_instance_mapping_list()\n\nImplement an efficient way to fetch a list of instances given an\nInstanceMappingList. This method collates target cells and makes\nexactly 1 db query per relevant cell.\n\nThe first user of this method is introduced in change If59453f1.\n\nChange-Id: I54d0bc41a99979e8c292f9d084a6a0b17cc2873e\n'}, {'number': 2, 'created': '2017-03-14 16:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/977854ec09ece20068dc194fd78b5d340305787b', 'message': 'Add InstanceList.get_by_instance_mapping_list()\n\nImplement an efficient way to fetch a list of instances given an\nInstanceMappingList. This method collates target cells and makes\nexactly 1 db query per relevant cell.\n\nThe first user of this method is introduced in change If59453f1.\n\nChange-Id: I54d0bc41a99979e8c292f9d084a6a0b17cc2873e\n'}, {'number': 3, 'created': '2017-03-15 09:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c035f0619d85ed0081eaaff68a38fdb7259e3bf', 'message': 'Add InstanceList.get_by_instance_mapping_list()\n\nImplement an efficient way to fetch a list of instances given an\nInstanceMappingList. This method collates target cells and makes\nexactly 1 db query per relevant cell.\n\nThe first user of this method is introduced in change If59453f1.\n\nChange-Id: I54d0bc41a99979e8c292f9d084a6a0b17cc2873e\n'}, {'number': 4, 'created': '2017-03-15 17:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a0a780bf3fb5cf6e510af72d8703e9b9a534e5e', 'message': 'Add InstanceList.get_by_instance_mapping_list()\n\nImplement an efficient way to fetch a list of instances given an\nInstanceMappingList. This method collates target cells and makes\nexactly 1 db query per relevant cell.\n\nThe first user of this method is introduced in change If59453f1.\n\nChange-Id: I54d0bc41a99979e8c292f9d084a6a0b17cc2873e\n'}, {'number': 5, 'created': '2017-03-29 14:45:43.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8cc04b5a82dfdb42df4127cb79a02fed65bfb153', 'message': 'Add InstanceList.get_by_instance_mapping_list()\n\nImplement an efficient way to fetch a list of instances given an\nInstanceMappingList. This method collates target cells and makes\nexactly 1 db query per relevant cell.\n\nThe first user of this method is introduced in change If59453f1.\n\nChange-Id: I54d0bc41a99979e8c292f9d084a6a0b17cc2873e\n'}]",2,445141,8cc04b5a82dfdb42df4127cb79a02fed65bfb153,77,18,5,9555,,,0,"Add InstanceList.get_by_instance_mapping_list()

Implement an efficient way to fetch a list of instances given an
InstanceMappingList. This method collates target cells and makes
exactly 1 db query per relevant cell.

The first user of this method is introduced in change If59453f1.

Change-Id: I54d0bc41a99979e8c292f9d084a6a0b17cc2873e
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/445141/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",3,9065752368190edc3cc95e7b4d7d2fc094ee5128,server_external_events," @mock.patch.object(db, 'create_context_manager', autospec=True) @mock.patch.object(objects.InstanceList, '_get_by_filters_impl') def test_get_by_instance_mapping_list(self, mock_get_by_filters, mock_create_context_manager): # RequestContext.for_cell creates a new db context manager from the # target cell's db connection string. We replace this with a pass # through, which makes it simple to test what cell the context was # created for. mock_create_context_manager.side_effect = lambda x: x # Define 2 cells cell1 = objects.CellMapping( id=1, database_connection=""dbconn_cell1"") cell2 = objects.CellMapping( id=2, database_connection=""dbconn_cell2"") # 4 instances, 2 in each cell db_inst1 = fake_instance.fake_db_instance(id=1) db_inst2 = fake_instance.fake_db_instance(id=2) db_inst3 = fake_instance.fake_db_instance(id=3) db_inst4 = fake_instance.fake_db_instance(id=4) db_instances = [db_inst1, db_inst2, db_inst3, db_inst4] db_instances_by_uuid = {db_inst['uuid']: db_inst for db_inst in db_instances} inst_mapping1 = objects.InstanceMapping(cell_mapping=cell1, instance_uuid=db_inst1['uuid']) inst_mapping2 = objects.InstanceMapping(cell_mapping=cell1, instance_uuid=db_inst2['uuid']) inst_mapping3 = objects.InstanceMapping(cell_mapping=cell2, instance_uuid=db_inst3['uuid']) inst_mapping4 = objects.InstanceMapping(cell_mapping=cell2, instance_uuid=db_inst4['uuid']) instance_mapping_list = objects.InstanceMappingList( objects=[inst_mapping1, inst_mapping2, inst_mapping3, inst_mapping4]) def fake_get_by_filters(context, filters, sort_key='created_at', sort_dir='desc', limit=None, marker=None, expected_attrs=None, use_slave=False, sort_keys=None, sort_dirs=None): # No actual filtering is done. We check this at the level up by # asserting calls to _get_by_filters return [db_instances_by_uuid[uuid] for uuid in filters.get('uuid', [])] mock_get_by_filters.side_effect = fake_get_by_filters inst_list = objects.InstanceList.get_by_instance_mapping_list( self.context, instance_mapping_list, expected_attrs=mock.sentinel.expected_attrs) # Assert that we were returned an InstanceList containing all our # instances self.assertEqual(4, len(inst_list)) self.assertEqual(set([db_inst['uuid'] for db_inst in db_instances]), set([instance.uuid for instance in inst_list])) # Assert that _get_by_filters was called once for each cell # For each call, the given context should be correspond to 1 of our 2 # cells, and the uuid list in the filters should be the uuids in that # cell. self.assertEqual(2, mock_get_by_filters.call_count) for call in mock_get_by_filters.call_args_list: args = call[0] kwargs = call[1] self.assertEqual(2, len(args)) context = args[0] filters = args[1] self.assertEqual(1, len(filters)) uuids = filters['uuid'] if context.db_connection == 'dbconn_cell1': self.assertEqual(set([db_inst1['uuid'], db_inst2['uuid']]), set(uuids)) elif context.db_connection == 'dbconn_cell2': self.assertEqual(set([db_inst3['uuid'], db_inst4['uuid']]), set(uuids)) else: self.fail('Unexpected RequestContext') self.assertEqual({'expected_attrs': mock.sentinel.expected_attrs}, kwargs) ",,135,11
openstack%2Fnova~master~I2e12504cc64da3ab51b810a9b57ce956972f8899,openstack/nova,master,I2e12504cc64da3ab51b810a9b57ce956972f8899,Checking the parameters of servers-actions.inc,ABANDONED,2016-06-08 14:06:59.000000000,2017-08-01 09:53:23.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15834}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20040}, {'_account_id': 21420}, {'_account_id': 21723}, {'_account_id': 21784}]","[{'number': 1, 'created': '2016-06-08 14:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5a3700a60bd018868ad950aa5d1cca8d10ac4af', 'message': 'api-ref: adminPass in changePassword\n\nDocumentation change in api-ref\nA new parameter, adminPass added to the Request parameter list of\nChange administrative password (changePassword).\n\nChange-Id: I2e12504cc64da3ab51b810a9b57ce956972f8899\nCloses-Bug: 1587070\n'}, {'number': 2, 'created': '2016-06-24 09:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e1465cb57f7b03adb3d42199d4c79839a362c10', 'message': 'WIP api-ref: Checking the parameters of servers-actions.inc\n\nDocumentation change in api-ref\n\nPart of bp:api-ref-in-rst\nCloses-Bug: 1587070\n\nChange-Id: I2e12504cc64da3ab51b810a9b57ce956972f8899\n'}, {'number': 3, 'created': '2016-08-08 15:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4a9d4414c5b4fca5848f1aa2e18d840730d5208', 'message': 'Checking the parameters of servers-actions.inc\n\nDocumentation change in api-ref\n\nPart of bp:api-ref-in-rst\nCloses-Bug: 1587070\nCloses-Bug: 1587847\n\nChange-Id: I2e12504cc64da3ab51b810a9b57ce956972f8899\n'}, {'number': 4, 'created': '2016-10-06 11:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55985f30d6aa12d956ed181a5ab534eab27b74f9', 'message': 'Checking the parameters of servers-actions.inc\n\nDocumentation change in api-ref\n\nPart of bp:api-ref-in-rst\nCloses-Bug: 1587070\nCloses-Bug: 1587847\n\nChange-Id: I2e12504cc64da3ab51b810a9b57ce956972f8899\n'}, {'number': 5, 'created': '2016-11-17 17:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a3eaae13659d3ad4c8310bef39a3935e6469aed', 'message': 'Checking the parameters of servers-actions.inc\n\nDocumentation change in api-ref\n\nPart of bp:api-ref-in-rst\nCloses-Bug: 1587070\nCloses-Bug: 1587847\n\nChange-Id: I2e12504cc64da3ab51b810a9b57ce956972f8899\n'}, {'number': 6, 'created': '2017-04-18 14:42:08.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/servers-actions.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/24b1fe5bcf13a64f24d09e1b5fc249cb03326a87', 'message': 'Checking the parameters of servers-actions.inc\n\nDocumentation change in api-ref\n\nPart of bp:api-ref-in-rst\nCloses-Bug: 1587070\nCloses-Bug: 1587847\n\nChange-Id: I2e12504cc64da3ab51b810a9b57ce956972f8899\n'}]",0,327112,24b1fe5bcf13a64f24d09e1b5fc249cb03326a87,91,22,6,21723,,,0,"Checking the parameters of servers-actions.inc

Documentation change in api-ref

Part of bp:api-ref-in-rst
Closes-Bug: 1587070
Closes-Bug: 1587847

Change-Id: I2e12504cc64da3ab51b810a9b57ce956972f8899
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/327112/3 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/servers-actions.inc'],1,e5a3700a60bd018868ad950aa5d1cca8d10ac4af,bug/1587070, - adminPass: adminPass,,1,0
openstack%2Fpython-novaclient~master~I63fa7368c99c4a35ad3231e3831ff52b72b68896,openstack/python-novaclient,master,I63fa7368c99c4a35ad3231e3831ff52b72b68896,Add evacuate host method,ABANDONED,2016-07-30 09:26:24.000000000,2017-08-01 09:53:20.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 7634}, {'_account_id': 12712}, {'_account_id': 15334}, {'_account_id': 16907}]","[{'number': 1, 'created': '2016-07-30 09:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ac85d8855ed8458ee362007f925d0b7ec3508067', 'message': '[WIP] Add evacuate host method\n\nAdd evacuate host method to api, that allows\nanother components to evacuate servers from one\nhost to another.\n\nChange-Id: I63fa7368c99c4a35ad3231e3831ff52b72b68896\n'}, {'number': 2, 'created': '2016-08-09 16:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/163601f27375231ff986ecf6bf6dbb4173e8f679', 'message': 'Add evacuate host method\n\nAdd evacuate host method to api, that allows\nanother components to evacuate servers from one\nhost to another.\n\nChange-Id: I63fa7368c99c4a35ad3231e3831ff52b72b68896\n'}, {'number': 3, 'created': '2016-09-06 14:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/73ffdfeb0e812c695299f642bfd642348b7d280c', 'message': 'Add evacuate host method\n\nAdd evacuate host method to api, that allows\nanother components to evacuate servers from one\nhost to another.\n\nChange-Id: I63fa7368c99c4a35ad3231e3831ff52b72b68896\n'}, {'number': 4, 'created': '2017-01-04 16:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/fb2e29a935d54977463d062ac47c537d3b783f5d', 'message': 'Add evacuate host method\n\nAdd evacuate host method to api, that allows\nanother components to evacuate servers from one\nhost to another.\n\nChange-Id: I63fa7368c99c4a35ad3231e3831ff52b72b68896\n'}, {'number': 5, 'created': '2017-01-05 13:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/707bc2a246fd51817ba4b9279fc2193cd814dd9a', 'message': 'Add evacuate host method\n\nAdd evacuate host method to api, that allows\nanother components to evacuate servers from one\nhost to another.\n\nChange-Id: I63fa7368c99c4a35ad3231e3831ff52b72b68896\n'}, {'number': 6, 'created': '2017-01-05 17:37:05.000000000', 'files': ['novaclient/tests/unit/v2/test_hosts.py', 'novaclient/v2/hosts.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6a9d5c3624442862291559516359a7bc07b74936', 'message': 'Add evacuate host method\n\nAdd evacuate host method to api, that allows\nanother components to evacuate servers from one\nhost to another.\n\nChange-Id: I63fa7368c99c4a35ad3231e3831ff52b72b68896\n'}]",2,349179,6a9d5c3624442862291559516359a7bc07b74936,20,7,6,12712,,,0,"Add evacuate host method

Add evacuate host method to api, that allows
another components to evacuate servers from one
host to another.

Change-Id: I63fa7368c99c4a35ad3231e3831ff52b72b68896
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/79/349179/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/v2/hosts.py'],1,ac85d8855ed8458ee362007f925d0b7ec3508067,api_version_wraps,"from novaclient.i18n import _ from novaclient.v2.contrib.host_evacuate import EvacuateHostResponse def evacuate(self, target): return self.manager.evacuate(self.host_name, target=target) def evacuate(self, source, target): hypervisors = self.api.client.hypervisors.search(source, servers=True) response = [] for hyper in hypervisors: if hasattr(hyper, 'servers'): for server in hyper.servers: response.append(_server_evacuate(self.api.client, server, target=target)) return response def _server_evacuate(client, server, target): success = True error_message = """" try: client.servers.evacuate(server=server['uuid'], host=target) except Exception as e: success = False error_message = _(""Error while evacuating instance: %s"") % e return EvacuateHostResponse(base.Manager, {""server_uuid"": server['uuid'], ""evacuate_accepted"": success, ""error_message"": error_message})",,32,0
openstack%2Fnova~master~I63163cac6efb53b620d3bb4b19f1cd527f362376,openstack/nova,master,I63163cac6efb53b620d3bb4b19f1cd527f362376,Remove 'FlavorRxtxController' extension,ABANDONED,2017-04-28 12:13:57.000000000,2017-08-01 09:53:19.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-28 12:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed6b3e5fdc99c5b5f974d5f529a6758b4efcd473', 'message': 'Remove \'FlavorRxtxController\' extension\n\nThis doesn\'t actually do anything. The property that it\'s supposed to\nexpose - \'rxtx_factor\' - is already exposed the \'FlavorsController\'\n(well, the DB calls that controller makes) by default. We can kill it.\n\nNote that there does appear to be precedent for this. As part of the v3\nAPI work, the \'os-flavor-swap\' controller extension was included only in\nthe legacy v2 API [1]. This API was removed completely during Newton [2]\nand now only exists in the extensions list for historical purposes.\n\'os-flavor-rxtx\' was treated differently, as the extension was ported to\nv3 [3] which then became v2.1. However, as stated above, the information\nit purports to ""protect"" is already exposed by default. As such, we\nstill have an extension, even though it does nothing. By making this\nchange, \'os-flavor-rxtx\' becomes a simple stub akin to \'os-flavor-swap\'.\n\n[1] https://github.com/openstack/nova/commit/81dd5b78\n[2] https://github.com/openstack/nova/commit/a31d917a\n[3] https://github.com/openstack/nova/commit/b7e9749f\n\nChange-Id: I63163cac6efb53b620d3bb4b19f1cd527f362376\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2017-04-28 13:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a83fd2f0f1e75b9af8227d39bbcc0f3aabd16b58', 'message': ""Remove 'FlavorRxtxController' extension\n\nThis extension is enabled by default now, which means we can move its\nfunctionality - checking if a user is allowed to see the 'rxtx_factor'\nfield and including it if so - into the main 'FlavorsController'\ncontroller.\n\nChange-Id: I63163cac6efb53b620d3bb4b19f1cd527f362376\n""}, {'number': 3, 'created': '2017-04-28 16:16:54.000000000', 'files': ['nova/api/openstack/compute/routes.py', 'nova/api/openstack/compute/views/flavors.py', 'nova/api/openstack/compute/extension_info.py', 'nova/api/openstack/compute/flavor_rxtx.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/99cff8136f5e75ff8172a871a030e6a4e99583a5', 'message': ""Remove 'FlavorRxtxController' extension\n\nThis extension is enabled by default now, which means we can move its\nfunctionality - checking if a user is allowed to see the 'rxtx_factor'\nfield and including it if so - into the main 'FlavorsController'\ncontroller.\n\nChange-Id: I63163cac6efb53b620d3bb4b19f1cd527f362376\n""}]",0,461010,99cff8136f5e75ff8172a871a030e6a4e99583a5,31,11,3,15334,,,0,"Remove 'FlavorRxtxController' extension

This extension is enabled by default now, which means we can move its
functionality - checking if a user is allowed to see the 'rxtx_factor'
field and including it if so - into the main 'FlavorsController'
controller.

Change-Id: I63163cac6efb53b620d3bb4b19f1cd527f362376
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/461010/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/routes.py', 'nova/api/openstack/compute/extension_info.py', 'nova/api/openstack/compute/flavor_rxtx.py']",3,ed6b3e5fdc99c5b5f974d5f529a6758b4efcd473,remove-FlavorRxtx-controller,,"# Copyright 2012 Nebula, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""The Flavor Rxtx API extension."""""" from nova.api.openstack import wsgi from nova.policies import flavor_rxtx as fr_policies ALIAS = 'os-flavor-rxtx' class FlavorRxtxController(wsgi.Controller): def _extend_flavors(self, req, flavors): for flavor in flavors: db_flavor = req.get_db_flavor(flavor['id']) key = 'rxtx_factor' flavor[key] = db_flavor['rxtx_factor'] or """" def _show(self, req, resp_obj): context = req.environ['nova.context'] if not context.can(fr_policies.BASE_POLICY_NAME, fatal=False): return if 'flavor' in resp_obj.obj: self._extend_flavors(req, [resp_obj.obj['flavor']]) @wsgi.extends def show(self, req, resp_obj, id): return self._show(req, resp_obj) @wsgi.extends(action='create') def create(self, req, resp_obj, body): return self._show(req, resp_obj) @wsgi.extends def detail(self, req, resp_obj): context = req.environ['nova.context'] if not context.can(fr_policies.BASE_POLICY_NAME, fatal=False): return self._extend_flavors(req, list(resp_obj.obj['flavors'])) ",3,55
openstack%2Fnova~master~Ie668993a5f9a3ee15dcd6137861756eebf5bcd5c,openstack/nova,master,Ie668993a5f9a3ee15dcd6137861756eebf5bcd5c,Added live migration test hook for VNC console,ABANDONED,2017-01-17 10:47:47.000000000,2017-08-01 09:53:17.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 12299}, {'_account_id': 12408}, {'_account_id': 13431}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 21284}]","[{'number': 1, 'created': '2017-01-17 10:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53d8de71c8ea6b6c0ee5f40b70ec98b6db731849', 'message': 'Added live migration test hook for VNC console\n\nThis makes sure, that VNC console is enabled on\neach compute node. Otherwise live migration fails\nif we migrate instance from node with VNC enabled\nto node with VNC disabled. See [1].\n\n[1] https://review.openstack.org/#/c/396218/\n\nChange-Id: Ie668993a5f9a3ee15dcd6137861756eebf5bcd5c\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n'}, {'number': 2, 'created': '2017-01-17 12:10:03.000000000', 'files': ['nova/tests/live_migration/hooks/utils.sh', 'nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/af018d32e53bd15e339f547a7bf19d1d3e1b84d7', 'message': 'Added live migration test hook for VNC console\n\nThis makes sure, that VNC console is enabled on\neach compute node. Otherwise live migration fails\nif we migrate instance from node with VNC enabled\nto node with VNC disabled. See [1].\n\n[1] https://review.openstack.org/#/c/396218/\n\nChange-Id: Ie668993a5f9a3ee15dcd6137861756eebf5bcd5c\nSigned-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>\n'}]",0,421207,af018d32e53bd15e339f547a7bf19d1d3e1b84d7,24,13,2,21284,,,0,"Added live migration test hook for VNC console

This makes sure, that VNC console is enabled on
each compute node. Otherwise live migration fails
if we migrate instance from node with VNC enabled
to node with VNC disabled. See [1].

[1] https://review.openstack.org/#/c/396218/

Change-Id: Ie668993a5f9a3ee15dcd6137861756eebf5bcd5c
Signed-off-by: Pavel Gluschak <pglushchak@virtuozzo.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/421207/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/live_migration/hooks/utils.sh', 'nova/tests/live_migration/hooks/run_tests.sh']",2,53d8de71c8ea6b6c0ee5f40b70ec98b6db731849,vnc_hook,# NOTE: Make sure VNC console is enabled on each compute node. # Otherwise live migration will fail. See https://review.openstack.org/#/c/396218/. vnc_console_setup ,,16,0
openstack%2Fnova~master~I2ae262cfcb974bbd3dda0fa428a75821facac45a,openstack/nova,master,I2ae262cfcb974bbd3dda0fa428a75821facac45a,Enable ceph-cinder bits for live-migration job,ABANDONED,2016-10-21 08:03:46.000000000,2017-08-01 09:53:16.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 17292}, {'_account_id': 23310}, {'_account_id': 24095}]","[{'number': 1, 'created': '2016-10-21 08:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40f2a5f38392409a2add90ce8272358ae0eaf0ff', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 2, 'created': '2016-10-21 16:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5557ad6e4d2871f7670a8b411dc86f74dc2c52f', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 3, 'created': '2016-10-21 17:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93365d50b2cf71836c0d61e4b5156fff6fbe1957', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 4, 'created': '2016-10-21 18:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce72c5baf19a430c9fe5ef795ac8f3239afa951f', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 5, 'created': '2016-10-21 20:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/131f3b56c19e5aab9f5ec05e19d0c39965ed7daa', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 6, 'created': '2016-10-21 21:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c31cd5affe93f873b1913fc81853b9b0fcd2531e', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 7, 'created': '2016-10-21 22:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56baa9a48d7063268efbdf905c6b56c90e31b9af', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 8, 'created': '2016-10-22 07:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa9de847693668964443c63de355ed9e11da2b03', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 9, 'created': '2016-10-22 07:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9701b053a75f62c55135215f86ae4c312cb22e0', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 10, 'created': '2016-10-23 05:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aac5ab8759e37979f7c8c29fb0f4e6331c33b9e7', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 11, 'created': '2016-10-24 12:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc0f5bbb829b5f65197c50ceb9634d060727b220', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 12, 'created': '2016-10-25 06:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1be1ab8e538c77cfebc665552e0d0245260d7e3', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 13, 'created': '2016-10-25 07:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae950f80c8595ee915fa12c14bb898becf26cce8', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 14, 'created': '2016-10-25 11:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca42da44da9407ea398a40874d6968a8d8c01e34', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 15, 'created': '2016-10-25 12:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3414db165aa2c4b169bc4447aed6ae56bcb4cd32', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 16, 'created': '2016-10-25 13:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4015f19e20d3002eff633b497a405fcdcd288cd4', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 17, 'created': '2016-10-25 14:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d85905ed4a5d16d0eea46643afd76de0c94ddd05', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 18, 'created': '2016-10-27 13:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac652f0fc71553046e0b81b95fc39f22e8e2225c', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 19, 'created': '2016-10-27 15:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db7c1b296f2ddd27d55cd5552a08a9e46dfee454', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 20, 'created': '2016-10-28 10:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15bc3a98b930bcebc5a8ccd08957a44c9c498677', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 21, 'created': '2016-10-28 11:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/013fa12262f1eeb576115b07790768759f67aa19', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 22, 'created': '2016-10-28 12:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02e55aa7bec079e7ba0ce3ce3b2d79471738b834', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 23, 'created': '2016-11-01 08:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e05c8982a7151afc5fa03c61b6287749b62703c8', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 24, 'created': '2016-11-01 09:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3f6ba47a3c048d0f0978398ba6bd76fff333c97', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 25, 'created': '2016-11-01 10:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb3184925d26c28eb44b95b8edd6e62a99c2c1a8', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 26, 'created': '2016-11-01 10:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e29859c1e88890cd99e348a6e0936bdeac42775', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 27, 'created': '2016-11-10 09:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84509f1aa0478533aea1a20f1c4827bb66464e22', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}, {'number': 28, 'created': '2016-11-14 12:09:56.000000000', 'files': ['nova/tests/live_migration/hooks/ceph.sh', 'nova/tests/live_migration/hooks/utils.sh', 'nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/47478bec3ffb5cfdb157e9970afb49c705ffbb9b', 'message': 'Enable ceph-cinder bits for live-migration job\n\nConfigures cinder to use ceph and executes tempest\ntests against environment\n\nDepends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\nChange-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a\n'}]",29,389582,47478bec3ffb5cfdb157e9970afb49c705ffbb9b,184,13,28,14819,,,0,"Enable ceph-cinder bits for live-migration job

Configures cinder to use ceph and executes tempest
tests against environment

Depends-On: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073
Change-Id: I2ae262cfcb974bbd3dda0fa428a75821facac45a
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/389582/28 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/run_tests.sh'],1,40f2a5f38392409a2add90ce8272358ae0eaf0ff,ceph-bits,"echo '4. test with Ceph for volumes and root + ephemeral disk' configure_and_start_cinder run_tempest ""Ceph nova&glance&cinder test"" ""live_migration""","#echo '4. test with Ceph for volumes and root + ephemeral disk' #configure_and_start_cinder #run_tempest ""Ceph nova&glance&cinder test"" ""live_migration""",3,4
openstack%2Fnova~master~I65cc7d95cee86af7016b79d7dee0f820aff216fb,openstack/nova,master,I65cc7d95cee86af7016b79d7dee0f820aff216fb,Add zero down time upgrade steps,ABANDONED,2016-11-04 21:03:59.000000000,2017-08-01 09:53:15.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6589}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19590}, {'_account_id': 20040}, {'_account_id': 20217}]","[{'number': 1, 'created': '2016-11-04 21:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c60880c92d46a24f0fbc18f4ba8ddce2cea294d2', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}, {'number': 2, 'created': '2016-11-04 21:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fe2c95fb6bc8e9634e360e8bdf1feff7d8194d1', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}, {'number': 3, 'created': '2016-11-04 22:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1eeb7286dc471f736d231c817a6319e63b07b7a', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}, {'number': 4, 'created': '2016-11-09 00:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b59ebc9ac23dc71cb5f87edad7d6ee8308fd590b', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}, {'number': 5, 'created': '2016-11-09 18:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e24b25f004010bd45ada43f8b5051af4f462e030', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}, {'number': 6, 'created': '2016-11-14 18:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/362c1e27d44859df4e98ea5ead6eed76d09ff1bd', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}, {'number': 7, 'created': '2016-11-23 21:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e444b9c18b3e44d09ef67a6b40da530b2746a0a8', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}, {'number': 8, 'created': '2016-12-28 20:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f71576e605f5bf443a8aacde61ad28a952801a5', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}, {'number': 9, 'created': '2017-01-09 19:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffe1b18fc6f4c804d047c51ccc0edbdea6ce44d4', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}, {'number': 10, 'created': '2017-04-10 11:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce35f44b334f183e63872000bf08632bfc547b5c', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}, {'number': 11, 'created': '2017-04-10 11:47:16.000000000', 'files': ['doc/source/upgrade.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5b7fb509c1899b406bfbb88306674cb23ef3a5c', 'message': 'Add zero down time upgrade steps\n\nAdded steps for zero down time upgrade process in nova\nupgrade documentation.\n\nChange-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb\nCo-Authored-by: Sujitha <sujitha.neti@intel.com>\n'}]",37,393931,c5b7fb509c1899b406bfbb88306674cb23ef3a5c,90,19,11,20217,,,0,"Add zero down time upgrade steps

Added steps for zero down time upgrade process in nova
upgrade documentation.

Change-Id: I65cc7d95cee86af7016b79d7dee0f820aff216fb
Co-Authored-by: Sujitha <sujitha.neti@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/393931/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrade.rst'],1,c60880c92d46a24f0fbc18f4ba8ddce2cea294d2,zero-downtime-upgrade,"Testing Zero Downtime Upgrade Process ------------------------------------- For zero downtime upgrade, nova-api service should be upgraded one at a time. This allows one api service to serve the requests while we upgrade the other. This results in a condition where both old (N) and new (N+1) nova-api services co-exist for a certain time period. Testing the upgrade process is done on Mitaka to Newton. Environment: '''''''''''' * Multinode environment with 2 nodes: controller - All services (Mitaka). compute-api - Only n-cpu and n-api services (Mitaka). * Setup Highly available load balancer (HAProxy) on top of the n-api services. See Instructions to setup HAProxy below. * Add a new region to keystone with nova api endpoints pointing to haproxy virtual IP. * Change osapi_compute_listen option in nova.conf to IP address on each node to avoid issues with minimum version during the upgrade process. Currently there is a bug filed on this issue: https://bugs.launchpad.net/nova/+bug/1631430. Before Upgrade: ''''''''''''''' * Change region in tempest, neutron and cinder configuration files. * Run tempest tests. * Check if n-api services on both nodes are serving the requests. After Upgrade: '''''''''''''' * Start the process with controller node. * Install the code for the next version (Newton) of Nova including all the python dependencies. * Using the newly installed nova code, run the DB sync (nova-manage db sync and nova-manage api_db sync). * Set [upgrade_levels]compute = auto in nova.conf. * Now restart all services except n-api. * Before restarting n-api service, drain connections on n-api. Haproxy allows you to drain the connections by setting weight to zero:: echo ""set weight nova-api/<<server>> 0"" | sudo socat /var/run/haproxy.sock stdio or disable the server using:: echo ""disable server nova-api/<<server>>"" | sudo socat /var/run/haproxy.sock stdio * This allows the current node to complete all the pending requests. When this is being upgraded, other api node serves the requests. This way we can achieve zero down time. * Restart n-api service and enable n-api using the command:: echo ""enable server nova-api/<<server>>"" | sudo socat /var/run/haproxy.sock stdio. At this point, both old api and new api serves requests. * Upgrade other nodes in the same way. Instructions to setup HAProxy: ------------------------------ * Install ha proxy and keepalived on both nodes. * Let the kernel know that we intend to bind additional IP addresses that won't be defined in the interfaces file. To do that we edit /etc/sysctl.conf and add the following line: 'net.ipv4.ip_nonlocal_bind=1' * Then run the command 'sysctl -p' to make this take effect without rebooting. * On both nodes add the haproxy config. global chroot /var/lib/haproxy user haproxy group haproxy daemon log 192.168.0.88 local0 pidfile /var/run/haproxy.pid #stats socket /var/lib/haproxy/stats stats socket /var/run/haproxy.sock mode 600 level admin stats timeout 2m maxconn 4000 defaults log global maxconn 8000 mode http option redispatch retries 3 stats enable timeout http-request 10s timeout queue 1m timeout connect 10s timeout client 1m timeout server 1m timeout check 10s frontend nova-api-vip bind 192.168.0.95:8282 <<ha proxy virtual ip>> default_backend nova-api backend nova-api balance roundrobin option tcplog server controller 192.168.0.88:8774 check server apicomp 192.168.0.89:8774 check Note: Just change ip for log in global section on each node. * On both nodes add keepalived.conf: global_defs { router_id controller } vrrp_script haproxy { script ""killall -0 haproxy"" interval 2 weight 2 } vrrp_instance 50 { virtual_router_id 50 advert_int 1 priority 101 state MASTER interface eth0 virtual_ipaddress { 192.168.0.95 dev eth0 } track_script { haproxy } } Note: Change priority on node2 to 100 (or vice-versa). Add haproxy virtual ip. * Restart keepalived service. * Add ENABLED=1 in /etc/default/haproxy and then restart haproxy service. * When both the services are restarted, node with high priority for keepalived claims the virtual ip. You can check it using ip a. ",,146,0
openstack%2Fnova~master~Id6e15c58e754439caec2e1962050c18419a9b293,openstack/nova,master,Id6e15c58e754439caec2e1962050c18419a9b293,Avoid misremove of volume when live migrate fail,ABANDONED,2016-10-17 07:56:50.000000000,2017-08-01 09:53:12.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5044}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12732}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 19153}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-10-17 07:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eed05af906e06857bd0e11134b421385fbeb4648', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not update, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misreove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 2, 'created': '2016-10-17 09:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1cd6a6c6f7de2d547242e8ecbbcb128d10ecd41', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not update, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misreove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 3, 'created': '2016-10-17 11:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e879df5a40a64821b5d9c5c915da9f1d2a408df', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not update, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misreove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 4, 'created': '2016-10-18 02:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3fc2d5044726d675d880cd3bd0e020e02d1f076', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not update, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misreove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 5, 'created': '2016-10-18 04:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cd73d337cc37065715efd3a691300dd7c4feff4', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not update, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misreove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 6, 'created': '2016-10-18 06:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bce9c76d0d7f380b1aef5c3561554bd83399fc5e', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not update, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misreove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 7, 'created': '2016-10-18 09:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b7c65459d68a38815fa44d83976d8478d150a3a', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not update, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misreove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 8, 'created': '2016-10-18 11:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e70bf350f809afc0f9c53c9b5ea5b6d717a38c64', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not update, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misreove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 9, 'created': '2016-10-19 04:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e75877af46827b76467af06579a6509ef0b8817b', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not update, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misreove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 10, 'created': '2016-11-28 07:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9115e619ae090cf056e834edd4f9eaaf3f4ecfc6', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not updated, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misremove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 11, 'created': '2016-11-28 08:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a57cc08850204526b5d779a5e77efd29eee7b40', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not updated, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misremove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 12, 'created': '2016-11-28 08:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/688c08ed6a4e731474b1270b01d67b74332c2f6e', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not updated, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misremove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 13, 'created': '2016-12-14 03:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c01984995f33c9ec9075b04f78e111ea8f34699', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not updated, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misremove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 14, 'created': '2016-12-17 02:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fd9170c684f8309e90ad93095a090ec454887b5', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not updated, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misremove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}, {'number': 15, 'created': '2016-12-26 10:57:10.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9642f3971ab34bc6a12258ae421e9f348b7a2041', 'message': ""Avoid misremove of volume when live migrate fail\n\nWhen live migrate fail, it will rollback and remove volume connection\non destination host, according to block_device_mapping table. But\nif it fail in the stage of volume initialization on destination host,\nthe block_device_mapping table was not updated, and the rollback\nprocess will remove other's disk on destination host by mistake. This\npatch record connector info in block_device_mapping and check the\nhost info before remove volume to avoid misremove.\n\nChange-Id: Id6e15c58e754439caec2e1962050c18419a9b293\nCloses-Bug:#1633955\n""}]",6,387226,9642f3971ab34bc6a12258ae421e9f348b7a2041,170,21,15,12732,,,0,"Avoid misremove of volume when live migrate fail

When live migrate fail, it will rollback and remove volume connection
on destination host, according to block_device_mapping table. But
if it fail in the stage of volume initialization on destination host,
the block_device_mapping table was not updated, and the rollback
process will remove other's disk on destination host by mistake. This
patch record connector info in block_device_mapping and check the
host info before remove volume to avoid misremove.

Change-Id: Id6e15c58e754439caec2e1962050c18419a9b293
Closes-Bug:#1633955
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/387226/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/virt/block_device.py']",2,eed05af906e06857bd0e11134b421385fbeb4648,bug/1633955, self['connection_info']['connector'] = connector self['connection_info']['connector'] = connector,,6,3
openstack%2Fnova~master~Ibd84784e78591a057f8a84ba98fd9c2461d6ed43,openstack/nova,master,Ibd84784e78591a057f8a84ba98fd9c2461d6ed43,Add missing 'algorithm' argument to create_key,ABANDONED,2016-12-22 17:02:18.000000000,2017-08-01 09:53:07.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7012}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-12-22 17:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b211cba531dc73d6f883eeeee1fcf6dde0e8cabe', 'message': ""Add missing 'algorithm' argument to create_key\n\nThe default key manager (Castellan with Barbican)'s create_key()\ninterface required at least 4 arguments. But Nova is only passing in 3,\nand the 'algorithm' argument is missing.\n\nChange-Id: Ibd84784e78591a057f8a84ba98fd9c2461d6ed43\nCloses-Bug: #1651887\n""}, {'number': 2, 'created': '2017-01-02 15:40:57.000000000', 'files': ['nova/conf/ephemeral_storage.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1504fd14a20464b5dcf991f4bc04797fb59eb02a', 'message': ""Add missing 'algorithm' argument to create_key\n\nThe default key manager (Castellan with Barbican)'s create_key()\ninterface required at least 4 arguments. But Nova is only passing in 3,\nand the 'algorithm' argument is missing.\n\nChange-Id: Ibd84784e78591a057f8a84ba98fd9c2461d6ed43\nCloses-Bug: #1651887\n""}]",4,414233,1504fd14a20464b5dcf991f4bc04797fb59eb02a,34,15,2,21479,,,0,"Add missing 'algorithm' argument to create_key

The default key manager (Castellan with Barbican)'s create_key()
interface required at least 4 arguments. But Nova is only passing in 3,
and the 'algorithm' argument is missing.

Change-Id: Ibd84784e78591a057f8a84ba98fd9c2461d6ed43
Closes-Bug: #1651887
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/414233/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/ephemeral_storage.py', 'nova/compute/api.py']",2,b211cba531dc73d6f883eeeee1fcf6dde0e8cabe,bug/1651887," algorithm = CONF.ephemeral_storage_encryption.secret_key_algorithm algorithm=algorithm,",,12,0
openstack%2Fnova~master~I6a56fc019eefceb5d962f5ed3cc95206dd2457c3,openstack/nova,master,I6a56fc019eefceb5d962f5ed3cc95206dd2457c3,WIP Add description of server addresses objects,ABANDONED,2017-05-14 12:59:57.000000000,2017-08-01 09:53:06.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-14 12:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37cc6097d0ab48e7b9b636c30a0b23c9378bbad6', 'message': ""Add description of server addresses objects\n\nThe addresses objects are an important part of the interface but are\nnot documented for the user. They're slightly weird to document because\nthey are a dictionary with arbitrary keys containing a list of\nstructured data. Took a stab at a way to express that - let's see how it\nfeels.\n\nChange-Id: I6a56fc019eefceb5d962f5ed3cc95206dd2457c3\n""}, {'number': 2, 'created': '2017-05-14 14:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41975862733f557d030dc9842a126350711c5e32', 'message': ""WIP Add description of server addresses objects\n\nThe addresses objects are an important part of the interface but are\nnot documented for the user. They're slightly weird to document because\nthey are a dictionary with arbitrary keys containing a list of\nstructured data. Took a stab at a way to express that - let's see how it\nfeels.\n\nThis patch should fail in the gate, since it needs an update to\nos-api-ref.\n\nChange-Id: I6a56fc019eefceb5d962f5ed3cc95206dd2457c3\nNeeded-By: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n""}, {'number': 3, 'created': '2017-05-14 18:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/137868afb630341d29c1af5580f440bf25e76817', 'message': ""WIP Add description of server addresses objects\n\nThe addresses objects are an important part of the interface but are\nnot documented for the user. They're slightly weird to document because\nthey are a dictionary with arbitrary keys containing a list of\nstructured data. Took a stab at a way to express that - let's see how it\nfeels.\n\nThis patch should fail in the gate, since it needs an update to\nos-api-ref.\n\nChange-Id: I6a56fc019eefceb5d962f5ed3cc95206dd2457c3\nNeeded-By: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n""}, {'number': 4, 'created': '2017-05-15 15:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c39d1682978f94c0edb65ac3d3c2b454167102c', 'message': ""WIP Add description of server addresses objects\n\nThe addresses objects are an important part of the interface but are\nnot documented for the user. They're slightly weird to document because\nthey are a dictionary with arbitrary keys containing a list of\nstructured data. Took a stab at a way to express that - let's see how it\nfeels.\n\nThis patch should fail in the gate, since it needs an update to\nos-api-ref.\n\nChange-Id: I6a56fc019eefceb5d962f5ed3cc95206dd2457c3\nNeeded-By: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n""}, {'number': 5, 'created': '2017-05-16 11:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8581935b54988af58e73f2b8f1868c26ecb9ac87', 'message': ""WIP Add description of server addresses objects\n\nThe addresses objects are an important part of the interface but are\nnot documented for the user. They're slightly weird to document because\nthey are a dictionary with arbitrary keys containing a list of\nstructured data. Took a stab at a way to express that - let's see how it\nfeels.\n\nThis patch should fail in the gate, since it needs an update to\nos-api-ref.\n\nChange-Id: I6a56fc019eefceb5d962f5ed3cc95206dd2457c3\nNeeded-By: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n""}, {'number': 6, 'created': '2017-05-18 21:33:09.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/servers.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f21d35ad71d5dc9e44eb126b5b3ceb025a6dc5e', 'message': ""WIP Add description of server addresses objects\n\nThe addresses objects are an important part of the interface but are\nnot documented for the user. They're slightly weird to document because\nthey are a dictionary with arbitrary keys containing a list of\nstructured data. Took a stab at a way to express that - let's see how it\nfeels.\n\nThis patch should fail in the gate, since it needs an update to\nos-api-ref.\n\nChange-Id: I6a56fc019eefceb5d962f5ed3cc95206dd2457c3\nNeeded-By: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n""}]",0,464331,6f21d35ad71d5dc9e44eb126b5b3ceb025a6dc5e,56,11,6,2,,,0,"WIP Add description of server addresses objects

The addresses objects are an important part of the interface but are
not documented for the user. They're slightly weird to document because
they are a dictionary with arbitrary keys containing a list of
structured data. Took a stab at a way to express that - let's see how it
feels.

This patch should fail in the gate, since it needs an update to
os-api-ref.

Change-Id: I6a56fc019eefceb5d962f5ed3cc95206dd2457c3
Needed-By: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/464331/6 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/servers.inc']",2,37cc6097d0ab48e7b9b636c30a0b23c9378bbad6,464036," - addresses: ""{network-name}"": addresses_network_name ""{network-name}[]"": version: ip_version addr: ip_address OS-EXT-IPS-MAC:mac_addr: addresses_mac_addr OS-EXT-IPS-MAC:type: ip_address_type - addresses: ""{network-name}"": addresses_network_name ""{network-name}[]"": version: ip_version addr: ip_address OS-EXT-IPS-MAC:mac_addr: addresses_mac_addr OS-EXT-IPS-MAC:type: ip_address_type - addresses: ""{network-name}"": addresses_network_name ""{network-name}[]"": version: ip_version addr: ip_address OS-EXT-IPS-MAC:mac_addr: addresses_mac_addr OS-EXT-IPS-MAC:type: ip_address_type",,52,1
openstack%2Fnova~master~I030337a1b4ce4b37ac1d98b92f991d1887ea6a6c,openstack/nova,master,I030337a1b4ce4b37ac1d98b92f991d1887ea6a6c,WIP Show results of nested parameters in api-ref,ABANDONED,2017-05-12 22:46:31.000000000,2017-08-01 09:53:04.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-12 22:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb84ef574c6c2623bc3f3eacfb489d6e71d8a828', 'message': ""WIP Show results of nested parameters in api-ref\n\nAs a user I find the tables of parameters confusing when I'm reading\nthem, because they show both top level and lower-level parameters\nidentically.\n\nI took a stab at a patch in api-ref that makes a change in that - this\npatch consumes that change.\n\nChange-Id: I030337a1b4ce4b37ac1d98b92f991d1887ea6a6c\nDepends-On: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n""}, {'number': 2, 'created': '2017-05-12 22:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1922a19147c3fd86024ad97654cb5ff8bbedbad9', 'message': ""DNM Show results of nested parameters in api-ref\n\nAs a user I find the tables of parameters confusing when I'm reading\nthem, because they show both top level and lower-level parameters\nidentically.\n\nI took a stab at a patch in api-ref that makes a change in that - this\npatch consumes that change and is mostly just for illustration purposes.\n\nChange-Id: I030337a1b4ce4b37ac1d98b92f991d1887ea6a6c\nNeeded-By: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n""}, {'number': 3, 'created': '2017-05-13 14:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0cf150f75c007961a2fafa9f350a4a1630d2915', 'message': 'Show results of nested parameters in api-ref\n\nAs a user the tables of parameters can be confusing because they show\nboth top level and lower-level parameters identically.\n\nThere is a patch in os-api-ref that provides a mechanism to clarify\nthat. This patch consumes that change in a couple of places for\nillustration purposes.\n\nChange-Id: I030337a1b4ce4b37ac1d98b92f991d1887ea6a6c\nDepends-On: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n'}, {'number': 4, 'created': '2017-05-14 12:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0dfdfb7619e5fd2f0684efa04051acf00a7205b', 'message': 'Show results of nested parameters in api-ref\n\nAs a user the tables of parameters can be confusing because they show\nboth top level and lower-level parameters identically.\n\nThere is a patch in os-api-ref that provides a mechanism to clarify\nthat. This patch consumes that change in a couple of places for\nillustration purposes.\n\nChange-Id: I030337a1b4ce4b37ac1d98b92f991d1887ea6a6c\nDepends-On: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n'}, {'number': 5, 'created': '2017-05-14 14:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1549fa67c9d7696ed1a3d1aa487df70c5197fdac', 'message': ""WIP Show results of nested parameters in api-ref\n\nAs a user the tables of parameters can be confusing because they show\nboth top level and lower-level parameters identically.\n\nThere is a patch in os-api-ref that provides a mechanism to clarify\nthat. This patch consumes that change in a couple of places for\nillustration purposes. The os-api-ref patch is listed in the needed-by.\n(It's kind of hard to decide on the os-api-ref patch without seeing it\nin action)\n\nThis patch should fail in the gate, since it needs an update to\nos-api-ref.\n\nChange-Id: I030337a1b4ce4b37ac1d98b92f991d1887ea6a6c\nNeeded-By: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n""}, {'number': 6, 'created': '2017-05-18 21:33:09.000000000', 'files': ['api-ref/source/versions.inc', 'api-ref/source/servers.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/4362341cd5afc3722eb7ee54e0d486cd207f9a0e', 'message': ""WIP Show results of nested parameters in api-ref\n\nAs a user the tables of parameters can be confusing because they show\nboth top level and lower-level parameters identically.\n\nThere is a patch in os-api-ref that provides a mechanism to clarify\nthat. This patch consumes that change in a couple of places for\nillustration purposes. The os-api-ref patch is listed in the needed-by.\n(It's kind of hard to decide on the os-api-ref patch without seeing it\nin action)\n\nThis patch should fail in the gate, since it needs an update to\nos-api-ref.\n\nChange-Id: I030337a1b4ce4b37ac1d98b92f991d1887ea6a6c\nNeeded-By: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360\n""}]",0,464277,4362341cd5afc3722eb7ee54e0d486cd207f9a0e,42,11,6,2,,,0,"WIP Show results of nested parameters in api-ref

As a user the tables of parameters can be confusing because they show
both top level and lower-level parameters identically.

There is a patch in os-api-ref that provides a mechanism to clarify
that. This patch consumes that change in a couple of places for
illustration purposes. The os-api-ref patch is listed in the needed-by.
(It's kind of hard to decide on the os-api-ref patch without seeing it
in action)

This patch should fail in the gate, since it needs an update to
os-api-ref.

Change-Id: I030337a1b4ce4b37ac1d98b92f991d1887ea6a6c
Needed-By: Id1133362f7cb2c047dc0fd11d4e9a4f06dfbe360
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/464277/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/versions.inc'],1,eb84ef574c6c2623bc3f3eacfb489d6e71d8a828,464036, - versions[]: - id: version_id - status: version_status - links: links - version: version_max - min_version: version_min, - id: version_id - status: version_status - links: links - version: version_max - min_version: version_min,6,5
openstack%2Fnova~master~I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e,openstack/nova,master,I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e,Remove unused columns from BuildRequest table in nova_api db,ABANDONED,2017-01-18 21:49:54.000000000,2017-08-01 09:53:02.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 7433}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18335}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-01-18 21:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8eb39cf69c44ae5eb18836e8eb361f61e927201', 'message': '[Do not merge] Remove unused columns from BuildRequest table in nova_api db\n\nSome columns from BuildRequest table in nova_api schema are no longer used.\n\nThey have been removed from data model as a part of this commit\nhttps://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b\n\nIn Ocata, we can drop respective columns from database.\n\nChange-Id: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e\nCloses-Bug: #1657529\n'}, {'number': 2, 'created': '2017-01-24 05:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a9f45be4bd83849b0fa0878419f3aaa887099d3', 'message': 'Remove unused columns from BuildRequest table in nova_api db\n\nSome columns from BuildRequest table in nova_api schema are no longer used.\n\nThey have been removed from data model as a part of this commit\nhttps://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b\n\nIn Ocata, we can drop respective columns from database.\n\nThis change does not remove config_drive column as it causes test case\nfaliures. This can be addressed in following patch.\n\nChange-Id: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e\nCloses-Bug: #1657529\n'}, {'number': 3, 'created': '2017-01-24 06:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ea155a958f4c23806b6b24b31fb0127375bfa65', 'message': 'Remove unused columns from BuildRequest table in nova_api db\n\nSome columns from BuildRequest table in nova_api schema are no longer used.\n\nThey have been removed from data model as a part of this commit\nhttps://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b\n\nIn Ocata, we can drop respective columns from database.\n\nThis change does not remove config_drive column as it causes test case\nfaliures. This can be addressed in following patch.\n\nChange-Id: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e\nCloses-Bug: #1657529\n'}, {'number': 4, 'created': '2017-01-24 16:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/484e9b04160dd6407df85ec32af4a2607da4f187', 'message': 'Remove unused columns from BuildRequest table in nova_api db\n\nSome columns from BuildRequest table in nova_api schema are no longer used.\n\nThey have been removed from data model as a part of this commit\nhttps://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b\n\nIn Ocata, we can drop respective columns from database.\n\nThis change does not remove config_drive column as it causes test case\nfaliures. This happens due to hidden check constraint in database on\nboolean/tinyInt type of data. Due to this constraint drop_column on\nconfig_drive fails.\n\nThis can be addressed in following patch.\n\nChange-Id: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e\nCloses-Bug: #1657529\n'}, {'number': 5, 'created': '2017-02-10 12:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6af530c1836804dcba223d9ff9026b180c16fb5a', 'message': 'Remove unused columns from BuildRequest table in nova_api db\n\nSome columns from BuildRequest table in nova_api schema are no longer used.\n\nThey have been removed from data model as a part of this commit\nhttps://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b\n\nIn Ocata, we can drop respective columns from database.\n\nThis change does not remove config_drive column as it causes test case\nfaliures. This happens due to hidden check constraint in database on\nboolean/tinyInt type of data. Due to this constraint drop_column on\nconfig_drive fails.\n\nThis can be addressed in following patch.\n\nChange-Id: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e\nCloses-Bug: #1657529\n'}, {'number': 6, 'created': '2017-02-10 20:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09337375810aeab7b85ff7a985a2489eb7ddcad9', 'message': 'Remove unused columns from BuildRequest table in nova_api db\n\nSome columns from BuildRequest table in nova_api schema are no longer used.\n\nThey have been removed from data model as a part of this commit\nhttps://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b\n\nIn Ocata, we can drop respective columns from database.\n\nThis change does not remove config_drive column as it causes test case\nfaliures. This happens due to hidden check constraint in database on\nboolean/tinyInt type of data. Due to this constraint drop_column on\nconfig_drive fails.\n\nThis can be addressed in following patch.\n\nChange-Id: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e\nCloses-Bug: #1657529\n'}, {'number': 7, 'created': '2017-03-13 19:01:43.000000000', 'files': ['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/042_remove_columns_from_build_requests.py', 'nova/db/sqlalchemy/api_models.py', 'nova/tests/functional/db/api/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f978462722899d0e623153a795e6140807a82d9a', 'message': 'Remove unused columns from BuildRequest table in nova_api db\n\nSome columns from BuildRequest table in nova_api schema are no longer used.\n\nThey have been removed from data model as a part of this commit\nhttps://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b\n\nIn Ocata, we can drop respective columns from database.\n\nThis change does not remove config_drive column as it causes test case\nfaliures. This happens due to hidden check constraint in database on\nboolean/tinyInt type of data. Due to this constraint drop_column on\nconfig_drive fails.\n\nThis can be addressed in following patch.\n\nChange-Id: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e\nCloses-Bug: #1657529\n'}]",1,422259,f978462722899d0e623153a795e6140807a82d9a,88,18,7,18335,,,0,"Remove unused columns from BuildRequest table in nova_api db

Some columns from BuildRequest table in nova_api schema are no longer used.

They have been removed from data model as a part of this commit
https://github.com/openstack/nova/commit/98a05bc637e4c2e485d5aa5b62945102ea71d08b

In Ocata, we can drop respective columns from database.

This change does not remove config_drive column as it causes test case
faliures. This happens due to hidden check constraint in database on
boolean/tinyInt type of data. Due to this constraint drop_column on
config_drive fails.

This can be addressed in following patch.

Change-Id: I6a935e2ff5bfb0453174e1ade161a2a4223b7d1e
Closes-Bug: #1657529
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/422259/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/031_remove_columns_from_build_requests.py', 'nova/db/sqlalchemy/api_models.py', 'nova/tests/functional/db/api/test_migrations.py']",3,c8eb39cf69c44ae5eb18836e8eb361f61e927201,bugs/1657529," # 'build_requests': ['vm_state', 'instance_metadata', # 'display_name', 'access_ip_v6', 'access_ip_v4', 'key_name', # 'locked_by', 'image_ref', 'progress', 'request_spec_id', # 'info_cache', 'user_id', 'task_state', 'security_groups', # 'config_drive'] # NOTE(pumaranikar): Following list of migrations allow dropping # table, columns etc. exceptions = [ # 031 Drops columns from build_requests table since they are no # longer used. Hence, it does not affect anything. #031, ] if version not in exceptions: banned = ['Table', 'Column'] else: banned = None with nova_fixtures.BannedDBSchemaOperations(banned): super(NovaAPIMigrationsWalk, self).migrate_up(version, with_data)"," 'build_requests': ['vm_state', 'instance_metadata', 'display_name', 'access_ip_v6', 'access_ip_v4', 'key_name', 'locked_by', 'image_ref', 'progress', 'request_spec_id', 'info_cache', 'user_id', 'task_state', 'security_groups', 'config_drive'] super(NovaAPIMigrationsWalk, self).migrate_up(version, with_data)",50,13
openstack%2Fnova~master~I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07,openstack/nova,master,I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07,WIP: Allocate instance by the conductor,ABANDONED,2017-04-27 08:55:58.000000000,2017-08-01 09:53:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-27 08:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3635df80c2bbc6944c25e39201b1ce62a959f36', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 2, 'created': '2017-04-28 13:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cf47468d74ab914ad60595d2b401059356a6339', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 3, 'created': '2017-05-04 21:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/193a91cf35e06d26f8d904035e41a7dcf8f08a6d', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 4, 'created': '2017-05-05 09:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4733082ed85dfefaae94fe6c31e3278f126bff6', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 5, 'created': '2017-05-05 10:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29130c827f92e9a4c647d2f5c44548257a44bbb9', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 6, 'created': '2017-05-11 16:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/312dd405193105c63e61bcd8c40ef57fa4673844', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 7, 'created': '2017-05-16 21:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20cd245c68dd063b03893150f50b65d719085a2f', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 8, 'created': '2017-05-16 21:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd018acbafa6461bf2e97e6f69d9795af8c54c09', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 9, 'created': '2017-05-16 21:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/672efc275a162a07ea637ad784a901760712e2f0', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 10, 'created': '2017-05-17 14:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fb4082cbd789ce6f961f6bc688ca629882e5711', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 11, 'created': '2017-05-18 09:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/053be2f98994c2b2d037afea4687dbf3eb8b06e4', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 12, 'created': '2017-05-19 10:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94cc994e987d019b2b3eb6b48406faf061b6ebb4', 'message': ""WIP: Allocate instance by the conductor\n\nWHAT ? We discussed about doing that in the scheduler, but why am I providing\nit in the conductor then ? Because I just remembered that we only provide\none RequestSpec object to the scheduler (the first one in case of a multiple\ninstances request) and then the scheduler only knows the first instance UUID.\nThere was a long consensus between alaski and me about not having the scheduler\nknowing more than it needs given all requests are similar.\n\nWe *could* change that but it would mean to change the RPC scheduler interface.\n\nI'm providing that change for discussing with you folks, and in case we change\nthe consensus, then I'll abandon this one.\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nImplements: blueprint placement-claims\n""}, {'number': 13, 'created': '2017-05-22 08:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9583224f7372d836bb2adced6f5b339b7313f28d', 'message': ""WIP: Allocate instance by the conductor\n\nNow that the scheduler returns alternative hosts for a single target,\nwe can verify if the host can be successfully allocated, and if not,\niterate over the alternatives to find the good target. If none of them\nis acceptable, then hard-stop the boot for that single instance and\nbury it in cell0.\n\nNext changes in the series will consist of passing down the host\nwith the alternatives to the compute service (probably using the RequesSpec\nobject) so that compute service could call back conductor in case of a retry\nwith those alternatives.\n\nAlso, please note we don't allocate yet in the conductor for move operations,\nthat will be done in later changes (but that doesn't break since we allocate\nby default in the compute service).\n\nTODO:\n - Unittests (because I wanted to make sure we agree on the behaviour)\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nPartially-Implements: blueprint placement-claims\n""}, {'number': 14, 'created': '2017-05-22 13:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/228c3bfbd905443a85d411477dc880e2c548603f', 'message': ""WIP: Allocate instance by the conductor\n\nNow that the scheduler returns alternative hosts for a single target,\nwe can verify if the host can be successfully allocated, and if not,\niterate over the alternatives to find the good target. If none of them\nis acceptable, then hard-stop the boot for that single instance and\nbury it in cell0.\n\nNext changes in the series will consist of passing down the host\nwith the alternatives to the compute service (probably using the RequesSpec\nobject) so that compute service could call back conductor in case of a retry\nwith those alternatives.\n\nAlso, please note we don't allocate yet in the conductor for move operations,\nthat will be done in later changes (but that doesn't break since we allocate\nby default in the compute service).\n\nTODO:\n - Unittests (because I wanted to make sure we agree on the behaviour)\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nPartially-Implements: blueprint placement-claims\n""}, {'number': 15, 'created': '2017-05-22 13:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/941336656059ccbac651f94c8b64abe1f32e5df9', 'message': ""WIP: Allocate instance by the conductor\n\nNow that the scheduler returns alternative hosts for a single target,\nwe can verify if the host can be successfully allocated, and if not,\niterate over the alternatives to find the good target. If none of them\nis acceptable, then hard-stop the boot for that single instance and\nbury it in cell0.\n\nNext changes in the series will consist of passing down the host\nwith the alternatives to the compute service (probably using the RequesSpec\nobject) so that compute service could call back conductor in case of a retry\nwith those alternatives.\n\nAlso, please note we don't allocate yet in the conductor for move operations,\nthat will be done in later changes (but that doesn't break since we allocate\nby default in the compute service).\n\nTODO:\n - Unittests (because I wanted to make sure we agree on the behaviour)\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nPartially-Implements: blueprint placement-claims\n""}, {'number': 16, 'created': '2017-05-22 16:46:17.000000000', 'files': ['nova/objects/service.py', 'nova/tests/functional/integrated_helpers.py', 'nova/scheduler/client/report.py', 'nova/conductor/manager.py', 'doc/notification_samples/service-update.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/14f2caa9e4df54eb73aa7ef63f5b179d8d5dec08', 'message': ""WIP: Allocate instance by the conductor\n\nNow that the scheduler returns alternative hosts for a single target,\nwe can verify if the host can be successfully allocated, and if not,\niterate over the alternatives to find the good target. If none of them\nis acceptable, then hard-stop the boot for that single instance and\nbury it in cell0.\n\nNext changes in the series will consist of passing down the host\nwith the alternatives to the compute service (probably using the RequesSpec\nobject) so that compute service could call back conductor in case of a retry\nwith those alternatives.\n\nAlso, please note we don't allocate yet in the conductor for move operations,\nthat will be done in later changes (but that doesn't break since we allocate\nby default in the compute service).\n\nTODO:\n - Unittests (because I wanted to make sure we agree on the behaviour)\n\nChange-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07\nPartially-Implements: blueprint placement-claims\n""}]",8,460455,14f2caa9e4df54eb73aa7ef63f5b179d8d5dec08,139,18,16,7166,,,0,"WIP: Allocate instance by the conductor

Now that the scheduler returns alternative hosts for a single target,
we can verify if the host can be successfully allocated, and if not,
iterate over the alternatives to find the good target. If none of them
is acceptable, then hard-stop the boot for that single instance and
bury it in cell0.

Next changes in the series will consist of passing down the host
with the alternatives to the compute service (probably using the RequesSpec
object) so that compute service could call back conductor in case of a retry
with those alternatives.

Also, please note we don't allocate yet in the conductor for move operations,
that will be done in later changes (but that doesn't break since we allocate
by default in the compute service).

TODO:
 - Unittests (because I wanted to make sure we agree on the behaviour)

Change-Id: I9e23d7ef6c1c762c0cbfd5281b9c2f7af7138c07
Partially-Implements: blueprint placement-claims
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/460455/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/service.py', 'nova/conductor/manager.py', 'doc/notification_samples/service-update.json']",3,b3635df80c2bbc6944c25e39201b1ce62a959f36,bp/placement-claims," ""version"": 18,"," ""version"": 17,",26,2
openstack%2Fnova~master~I4a1d8f5b2f100f86dd1ee7dca3983881fb86e143,openstack/nova,master,I4a1d8f5b2f100f86dd1ee7dca3983881fb86e143,os-vif-util: Support VIF_TYPE_MIDONET,ABANDONED,2017-02-14 04:29:26.000000000,2017-08-01 09:52:59.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6854}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 20223}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-02-14 04:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/510ebfc56078a6a8de620435e58b2c9243ca718c', 'message': 'os-vif-util: Support VIF_TYPE_MIDONET\n\nCloses-Bug: #1544831\nChange-Id: I4a1d8f5b2f100f86dd1ee7dca3983881fb86e143\n'}, {'number': 2, 'created': '2017-02-14 08:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20375e714af68f89e80e6b668901dee8c09da6e2', 'message': 'os-vif-util: Support VIF_TYPE_MIDONET\n\nCloses-Bug: #1544831\nChange-Id: I4a1d8f5b2f100f86dd1ee7dca3983881fb86e143\n'}, {'number': 3, 'created': '2017-02-15 04:21:29.000000000', 'files': ['nova/tests/unit/network/test_os_vif_util.py', 'nova/virt/libvirt/vif.py', 'releasenotes/notes/libvirt-uses-os-vif-midonet-b38cf33b38292f80.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/network/os_vif_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d7e27ae262ce93fefd1a3fb51b46e19c1786b171', 'message': 'os-vif-util: Support VIF_TYPE_MIDONET\n\nCloses-Bug: #1544831\nDepends-On: I6a3d52b606e43a9d00ec1a7c7db86ee32c1511ca\nChange-Id: I4a1d8f5b2f100f86dd1ee7dca3983881fb86e143\n'}]",0,433436,d7e27ae262ce93fefd1a3fb51b46e19c1786b171,58,18,3,6854,,,0,"os-vif-util: Support VIF_TYPE_MIDONET

Closes-Bug: #1544831
Depends-On: I6a3d52b606e43a9d00ec1a7c7db86ee32c1511ca
Change-Id: I4a1d8f5b2f100f86dd1ee7dca3983881fb86e143
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/433436/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/os_vif_util.py'],1,510ebfc56078a6a8de620435e58b2c9243ca718c,bug/1544831," return _get_vif_instance( vif, objects.vif.VIFGeneric, plugin=""midonet"", vif_name=_get_vif_name(vif))", raise NotImplementedError(),5,1
