id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-heat-templates~master~Ife77a7db5531378a7f8c8dcb113ae288ba90fed8,openstack/tripleo-heat-templates,master,Ife77a7db5531378a7f8c8dcb113ae288ba90fed8,Replace deprecated neutron_api_config,ABANDONED,2021-08-11 02:27:15.000000000,2021-08-11 03:26:28.000000000,,[],"[{'number': 1, 'created': '2021-08-11 02:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/485069b746c8e65353adf1c349c68db9ab51a807', 'message': 'Replace deprecated neutron_api_config\n\nThe neutron_api_config type was deprecated in Victoria[1] because it is\na duplicate of neutron_api_paste_ini.\nBecause of that deprecation wow usage of neutron::config::api_config\nrelies on neutron_api_paste_ini instead of neutron_api_config, thus\nthe puppet tags should be updated accordingly.\n\n[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6\n\nChange-Id: Ife77a7db5531378a7f8c8dcb113ae288ba90fed8\n'}, {'number': 2, 'created': '2021-08-11 02:34:47.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8442ba28a8a0e84decd1729bf0c2e33d03dfabee', 'message': 'Replace deprecated neutron_api_config\n\nThe neutron_api_config type was deprecated in Victoria[1] because it is\na duplicate of neutron_api_paste_ini.\nBecause of that deprecation now usage of neutron::config::api_config\nrelies on neutron_api_paste_ini instead of neutron_api_config, thus\nthe puppet tags should be updated accordingly.\n\n[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6\n\nChange-Id: Ife77a7db5531378a7f8c8dcb113ae288ba90fed8\n'}]",0,804185,8442ba28a8a0e84decd1729bf0c2e33d03dfabee,3,0,2,9816,,,0,"Replace deprecated neutron_api_config

The neutron_api_config type was deprecated in Victoria[1] because it is
a duplicate of neutron_api_paste_ini.
Because of that deprecation now usage of neutron::config::api_config
relies on neutron_api_paste_ini instead of neutron_api_config, thus
the puppet tags should be updated accordingly.

[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6

Change-Id: Ife77a7db5531378a7f8c8dcb113ae288ba90fed8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/804185/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,485069b746c8e65353adf1c349c68db9ab51a807,," puppet_tags: neutron_config,neutron_api_paste_ini"," puppet_tags: neutron_config,neutron_api_config",1,1
openstack%2Ftripleo-heat-templates~master~Ib0c90fac3c111383ea48bb3974b32b8f4fd99e7b,openstack/tripleo-heat-templates,master,Ib0c90fac3c111383ea48bb3974b32b8f4fd99e7b,Replace deprecated nova_paste_api_ini,ABANDONED,2021-08-11 02:27:15.000000000,2021-08-11 03:26:25.000000000,,[],"[{'number': 1, 'created': '2021-08-11 02:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a87a40907d8164055a472560408ecbee7661336', 'message': 'Replace deprecated nova_paste_api_ini\n\nThe nova_paste_api_ini type was renamed to nova_paste_api_ini during\nVictoria[1], and now nova::config::nova_paste_api_ini triggeres\nnova_api_paste_ini instead of nova_paste_api_ini. To let the parameter\nwork properly we should update the puppet tag.\n\nAlso, paste.ini file is used in api services so the tag should be\ndefined for nova-api/metadata instead of nova-compute.\n\n[1] b5c5d7acc3cc2cf2836a4f4556543d3fe1737b95\n\nChange-Id: Ib0c90fac3c111383ea48bb3974b32b8f4fd99e7b\n'}, {'number': 2, 'created': '2021-08-11 02:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ab58d53a69ce0e6f4c1270ee1f9d0377d965fd1', 'message': 'Replace deprecated nova_paste_api_ini\n\nThe nova_paste_api_ini type was renamed to nova_paste_api_ini during\nVictoria[1], and now nova::config::nova_paste_api_ini calls\nnova_api_paste_ini instead of nova_paste_api_ini.\nTo let the parameter work properly we should update the puppet tag.\n\nAlso, paste.ini file is used in api services so the tag should be\ndefined for nova-api/metadata instead of nova-compute.\n\n[1] b5c5d7acc3cc2cf2836a4f4556543d3fe1737b95\n\nChange-Id: Ib0c90fac3c111383ea48bb3974b32b8f4fd99e7b\n'}, {'number': 3, 'created': '2021-08-11 02:34:47.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1af56964dc3081ac3fe1229e27bf8ffd00b0519b', 'message': 'Replace deprecated nova_paste_api_ini\n\nThe nova_paste_api_ini type was renamed to nova_paste_api_ini during\nVictoria[1], and now nova::config::nova_paste_api_ini calls\nnova_api_paste_ini instead of nova_paste_api_ini.\nTo let the parameter work properly we should update the puppet tag.\n\nAlso, paste.ini file is used in api services so the tag should be\ndefined for nova-api/metadata instead of nova-compute.\n\n[1] b5c5d7acc3cc2cf2836a4f4556543d3fe1737b95\n\nChange-Id: Ib0c90fac3c111383ea48bb3974b32b8f4fd99e7b\n'}]",0,804186,1af56964dc3081ac3fe1229e27bf8ffd00b0519b,4,0,3,9816,,,0,"Replace deprecated nova_paste_api_ini

The nova_paste_api_ini type was renamed to nova_paste_api_ini during
Victoria[1], and now nova::config::nova_paste_api_ini calls
nova_api_paste_ini instead of nova_paste_api_ini.
To let the parameter work properly we should update the puppet tag.

Also, paste.ini file is used in api services so the tag should be
defined for nova-api/metadata instead of nova-compute.

[1] b5c5d7acc3cc2cf2836a4f4556543d3fe1737b95

Change-Id: Ib0c90fac3c111383ea48bb3974b32b8f4fd99e7b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/804186/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",4,9a87a40907d8164055a472560408ecbee7661336,, puppet_tags: nova_config," puppet_tags: nova_config,nova_paste_api_ini",4,4
openstack%2Fsolum~master~I5d5288aeef95c649755c2a62870c4e5c451d4b76,openstack/solum,master,I5d5288aeef95c649755c2a62870c4e5c451d4b76,setup.cfg: Replace dashes with underscores,NEW,2021-05-04 02:12:57.000000000,2021-08-11 02:51:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-05-04 02:12:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/solum/commit/0752c1865e5e156f3fb3b3feb2420ff6d12da94c', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5d5288aeef95c649755c2a62870c4e5c451d4b76\n""}]",0,789458,0752c1865e5e156f3fb3b3feb2420ff6d12da94c,3,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5d5288aeef95c649755c2a62870c4e5c451d4b76
",git fetch https://review.opendev.org/openstack/solum refs/changes/58/789458/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0752c1865e5e156f3fb3b3feb2420ff6d12da94c,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/solum/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/solum/latest/ python-requires = >=3.6,4,4
openstack%2Fyaql~master~Ie9e0de74532e05cacc3e965c4ddcf572868eef4b,openstack/yaql,master,Ie9e0de74532e05cacc3e965c4ddcf572868eef4b,setup.cfg: Replace dashes with underscores,NEW,2021-04-27 06:04:23.000000000,2021-08-11 02:38:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-04-27 06:04:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/yaql/commit/1bd7f4159dcf59fc9ee5341b5e6816aba1645a3c', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ie9e0de74532e05cacc3e965c4ddcf572868eef4b\n""}]",0,788157,1bd7f4159dcf59fc9ee5341b5e6816aba1645a3c,3,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie9e0de74532e05cacc3e965c4ddcf572868eef4b
",git fetch https://review.opendev.org/openstack/yaql refs/changes/57/788157/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1bd7f4159dcf59fc9ee5341b5e6816aba1645a3c,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://yaql.readthedocs.io python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://yaql.readthedocs.io python-requires = >=3.6,4,4
openstack%2Fkayobe~master~Iecae3bf7d54ba0bfe8fbf68a3deae5f74f0b831b,openstack/kayobe,master,Iecae3bf7d54ba0bfe8fbf68a3deae5f74f0b831b,Add Arista switch support for the Neutron ML2 genericswitch driver,MERGED,2021-07-30 08:18:45.000000000,2021-08-11 02:23:57.000000000,2021-08-11 02:22:32.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-07-30 08:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/de712c6471a85f3d6fc8a72fb1b3ee5822cdb62c', 'message': 'Add arista support for Neutron ML2 genericswitch driver\n\nChange-Id: Iecae3bf7d54ba0bfe8fbf68a3deae5f74f0b831b\n'}, {'number': 2, 'created': '2021-08-10 20:44:52.000000000', 'files': ['releasenotes/notes/arista-ngs-3efc3eecb498071e.yaml', 'ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0a55c83465cd0b3d91bc357bf9eb93bf149f1527', 'message': 'Add Arista switch support for the Neutron ML2 genericswitch driver\n\nChange-Id: Iecae3bf7d54ba0bfe8fbf68a3deae5f74f0b831b\n'}]",0,802995,0a55c83465cd0b3d91bc357bf9eb93bf149f1527,10,5,2,23084,,,0,"Add Arista switch support for the Neutron ML2 genericswitch driver

Change-Id: Iecae3bf7d54ba0bfe8fbf68a3deae5f74f0b831b
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/95/802995/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/arista-ngs-3efc3eecb498071e.yaml', 'ansible/kolla-openstack.yml']",2,de712c6471a85f3d6fc8a72fb1b3ee5822cdb62c,, arista: netmiko_arista_eos,,5,0
openstack%2Ftripleo-common~stable%2Ftrain~Ic23e80465356f0a336621008e0a9d5b0c295d816,openstack/tripleo-common,stable/train,Ic23e80465356f0a336621008e0a9d5b0c295d816,Remove ironic-inspector dnsmasq healthcheck,MERGED,2021-07-08 02:07:04.000000000,2021-08-11 01:58:01.000000000,2021-08-11 01:56:47.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-08 02:07:04.000000000', 'files': ['healthcheck/ironic-inspector'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c4bab4a143812ceea9b24b0bcffe2ed6d69fcb32', 'message': ""Remove ironic-inspector dnsmasq healthcheck\n\nThis check is broken because healthcheck_port uses the user of the\nprocess, but the /proc files accessed are owned by root. This is\nprobably because dnsmasq starts as root to bind to priviliged port 67,\nthen drops to the dnsmasq user.\n\nThis healthcheck likely doesn't add much value since it is a\nself-contained tool which will be bound to the port if it is running.\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1961237\n\nChange-Id: Ic23e80465356f0a336621008e0a9d5b0c295d816\n(cherry picked from commit a3be15743bcb33d6ecd67e24d082aa664d55864b)\n""}]",0,799946,c4bab4a143812ceea9b24b0bcffe2ed6d69fcb32,9,3,1,4571,,,0,"Remove ironic-inspector dnsmasq healthcheck

This check is broken because healthcheck_port uses the user of the
process, but the /proc files accessed are owned by root. This is
probably because dnsmasq starts as root to bind to priviliged port 67,
then drops to the dnsmasq user.

This healthcheck likely doesn't add much value since it is a
self-contained tool which will be bound to the port if it is running.

See https://bugzilla.redhat.com/show_bug.cgi?id=1961237

Change-Id: Ic23e80465356f0a336621008e0a9d5b0c295d816
(cherry picked from commit a3be15743bcb33d6ecd67e24d082aa664d55864b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/46/799946/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ironic-inspector'],1,c4bab4a143812ceea9b24b0bcffe2ed6d69fcb32,train/dnsmasq-health, exit 0," listen_address=$(get_config_val /etc/ironic-inspector/inspector.conf DEFAULT listen_address 127.0.0.1) # Check DHCPv6 port if using IPv6 if [[ $listen_address =~ "":"" ]]; then port=""547"" else port=""67"" fi echo ""Checking $process port(s) $port."" if ! healthcheck_port $process $port; then echo ""There is no $process process listening on port(s) $port in the container."" exit 1 fi",1,12
openstack%2Ftripleo-common~stable%2Fussuri~Ic23e80465356f0a336621008e0a9d5b0c295d816,openstack/tripleo-common,stable/ussuri,Ic23e80465356f0a336621008e0a9d5b0c295d816,Remove ironic-inspector dnsmasq healthcheck,MERGED,2021-07-08 02:05:30.000000000,2021-08-11 01:57:53.000000000,2021-08-11 01:56:45.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-08 02:05:30.000000000', 'files': ['healthcheck/ironic-inspector'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/662e86e1159da4bed773d3fc3564c53107ebf940', 'message': ""Remove ironic-inspector dnsmasq healthcheck\n\nThis check is broken because healthcheck_port uses the user of the\nprocess, but the /proc files accessed are owned by root. This is\nprobably because dnsmasq starts as root to bind to priviliged port 67,\nthen drops to the dnsmasq user.\n\nThis healthcheck likely doesn't add much value since it is a\nself-contained tool which will be bound to the port if it is running.\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1961237\n\nChange-Id: Ic23e80465356f0a336621008e0a9d5b0c295d816\n(cherry picked from commit a3be15743bcb33d6ecd67e24d082aa664d55864b)\n""}]",0,799945,662e86e1159da4bed773d3fc3564c53107ebf940,15,3,1,4571,,,0,"Remove ironic-inspector dnsmasq healthcheck

This check is broken because healthcheck_port uses the user of the
process, but the /proc files accessed are owned by root. This is
probably because dnsmasq starts as root to bind to priviliged port 67,
then drops to the dnsmasq user.

This healthcheck likely doesn't add much value since it is a
self-contained tool which will be bound to the port if it is running.

See https://bugzilla.redhat.com/show_bug.cgi?id=1961237

Change-Id: Ic23e80465356f0a336621008e0a9d5b0c295d816
(cherry picked from commit a3be15743bcb33d6ecd67e24d082aa664d55864b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/799945/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ironic-inspector'],1,662e86e1159da4bed773d3fc3564c53107ebf940,ussuri/dnsmasq-health, exit 0," listen_address=$(get_config_val /etc/ironic-inspector/inspector.conf DEFAULT listen_address 127.0.0.1) # Check DHCPv6 port if using IPv6 if [[ $listen_address =~ "":"" ]]; then port=""547"" else port=""67"" fi echo ""Checking $process port(s) $port."" if ! healthcheck_port $process $port; then echo ""There is no $process process listening on port(s) $port in the container."" exit 1 fi",1,12
openstack%2Fdevstack~master~Ifc6a76d0cc835e6b515527bf6bda541bc152f98b,openstack/devstack,master,Ifc6a76d0cc835e6b515527bf6bda541bc152f98b,Fix installation on fedora 34,ABANDONED,2021-07-26 01:17:51.000000000,2021-08-11 00:59:51.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 01:17:51.000000000', 'files': ['inc/python', 'tools/install_pip.sh', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/dfb58fec950b045d51d35f5f6241e94037497648', 'message': 'Fix installation on fedora 34\n\nThis is a quick fix of devstack for OpenStack installation on\nfedora 34. One is the pip installation, there is no need to\ninstall pip for python3.9 again. Another is that pip does not\nsupport setting URL constraint, so this patch ignore that\nsetting.\n\nChange-Id: Ifc6a76d0cc835e6b515527bf6bda541bc152f98b\n'}]",6,802223,dfb58fec950b045d51d35f5f6241e94037497648,13,2,1,9531,,,0,"Fix installation on fedora 34

This is a quick fix of devstack for OpenStack installation on
fedora 34. One is the pip installation, there is no need to
install pip for python3.9 again. Another is that pip does not
support setting URL constraint, so this patch ignore that
setting.

Change-Id: Ifc6a76d0cc835e6b515527bf6bda541bc152f98b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/23/802223/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'tools/install_pip.sh', 'stack.sh']",3,dfb58fec950b045d51d35f5f6241e94037497648,,"SUPPORTED_DISTROS=""focal|f31|f32|f34|opensuse-15.2|opensuse-tumbleweed|rhel8""","SUPPORTED_DISTROS=""focal|f31|f32|opensuse-15.2|opensuse-tumbleweed|rhel8""",9,5
openstack%2Fironic-inspector~master~I3d26cf46da02b3e8f3f773c0aeaed6843e0f26e5,openstack/ironic-inspector,master,I3d26cf46da02b3e8f3f773c0aeaed6843e0f26e5,Handle NodeLocked failures,MERGED,2021-08-09 15:20:57.000000000,2021-08-11 00:59:50.000000000,2021-08-11 00:58:32.000000000,"[{'_account_id': 4571}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-09 15:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ebd90a55bf92b5e9dd0d2332d3b350135716f7b4', 'message': 'Handle NodeLocked failures\n\nSome actions can fail due to the node being locked as part of\nnormal operations. This was previously handled silently by\npython-ironicclient, but when inspector was changed to use\nopenstacksdk, this was no longer handled.\n\nAdds the retry wrapper around critical path methods involving\npower/reboot ops and node updates which require locks.\n\nChange-Id: I3d26cf46da02b3e8f3f773c0aeaed6843e0f26e5\nStory: 2009107\nTask: 42966\n'}, {'number': 2, 'created': '2021-08-10 13:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d95d7993387607da87283d6772ba6df351bcf5a1', 'message': 'Handle NodeLocked failures\n\nSome actions can fail due to the node being locked as part of\nnormal operations. This was previously handled silently by\npython-ironicclient, but when inspector was changed to use\nopenstacksdk, this was no longer handled.\n\nAdds the retry wrapper around critical path methods involving\npower/reboot ops and node updates which require locks.\n\nChange-Id: I3d26cf46da02b3e8f3f773c0aeaed6843e0f26e5\nStory: 2009107\nTask: 42966\n'}, {'number': 3, 'created': '2021-08-10 21:16:18.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_node_cache.py', 'releasenotes/notes/retry_to_handle_transient_failures-e1da302fd1d06528.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7f6c4c4378eff3d7fb7ae600faf17445dac0111d', 'message': 'Handle NodeLocked failures\n\nSome actions can fail due to the node being locked as part of\nnormal operations. This was previously handled silently by\npython-ironicclient, but when inspector was changed to use\nopenstacksdk, this was no longer handled.\n\nAdds the retry wrapper around critical path methods involving\npower/reboot ops and node updates which require locks.\n\nChange-Id: I3d26cf46da02b3e8f3f773c0aeaed6843e0f26e5\nStory: 2009107\nTask: 42966\n'}]",2,803935,7f6c4c4378eff3d7fb7ae600faf17445dac0111d,16,4,3,11655,,,0,"Handle NodeLocked failures

Some actions can fail due to the node being locked as part of
normal operations. This was previously handled silently by
python-ironicclient, but when inspector was changed to use
openstacksdk, this was no longer handled.

Adds the retry wrapper around critical path methods involving
power/reboot ops and node updates which require locks.

Change-Id: I3d26cf46da02b3e8f3f773c0aeaed6843e0f26e5
Story: 2009107
Task: 42966
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/35/803935/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_node_cache.py', 'releasenotes/notes/retry_to_handle_transient_failures-e1da302fd1d06528.yaml']",5,ebd90a55bf92b5e9dd0d2332d3b350135716f7b4,nodelocked,"--- fixes: - | Fixes issues in Inspector where various tasks would not have retry logic applied to them and may sporatically fail. This is because the OpenStack SDK does not comprehend the NodeLocked error, which previously python-ironicclient silently handled. Basic operations such as ""power reboot"" and ""set boot device"" will now be retried automatically if they fail. For more information, please see `story 2009107<https://storyboard.openstack.org/#!/story/2009107>`_. ",,66,12
openstack%2Fopenstack-ansible-os_murano~master~I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21,openstack/openstack-ansible-os_murano,master,I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21,Remove Debian jobs,MERGED,2021-08-09 22:59:32.000000000,2021-08-10 23:06:39.000000000,2021-08-10 23:02:04.000000000,"[{'_account_id': 22348}, {'_account_id': 32627}]","[{'number': 1, 'created': '2021-08-09 22:59:32.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/36b5ca1b1a9d0fdde1bcc1c2aefe336ee2f56eae', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nCherry-Picked-From: cf9c3c510a0c374eabc80667da3004ddbd955246\nChange-Id: I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21\n'}]",0,803999,36b5ca1b1a9d0fdde1bcc1c2aefe336ee2f56eae,6,2,1,7118,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Cherry-Picked-From: cf9c3c510a0c374eabc80667da3004ddbd955246
Change-Id: I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/99/803999/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,36b5ca1b1a9d0fdde1bcc1c2aefe336ee2f56eae,debian-stretch-rm, # NOTE(ianw) 2021-08-10 The non-voting debian-stable jobs have # been removed as we no longer support Debian Stretch, # TODO(noonedeadpunk) Set voting once debian will have python3.6+ on board check: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false,2,9
openstack%2Fopenstack-ansible-os_murano~stable%2Fvictoria~I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21,openstack/openstack-ansible-os_murano,stable/victoria,I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21,Remove Debian jobs,MERGED,2021-08-09 22:58:08.000000000,2021-08-10 23:06:34.000000000,2021-08-10 23:01:07.000000000,"[{'_account_id': 22348}, {'_account_id': 32627}]","[{'number': 1, 'created': '2021-08-09 22:58:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/2e084ae35b4ac541cab9417623d31599bcaff863', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nCherry-Picked-From: cf9c3c510a0c374eabc80667da3004ddbd955246\nChange-Id: I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21\n'}]",0,803997,2e084ae35b4ac541cab9417623d31599bcaff863,6,2,1,7118,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Cherry-Picked-From: cf9c3c510a0c374eabc80667da3004ddbd955246
Change-Id: I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/97/803997/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2e084ae35b4ac541cab9417623d31599bcaff863,debian-stretch-rm, # NOTE(ianw) 2021-08-10 The non-voting debian-stable jobs have # been removed as we no longer support Debian Stretch, # TODO(noonedeadpunk) Set voting once debian will have python3.6+ on board check: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false,2,9
openstack%2Fopenstack-ansible-os_murano~stable%2Fwallaby~I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21,openstack/openstack-ansible-os_murano,stable/wallaby,I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21,Remove Debian jobs,MERGED,2021-08-09 22:58:48.000000000,2021-08-10 23:06:32.000000000,2021-08-10 23:01:40.000000000,"[{'_account_id': 22348}, {'_account_id': 32627}]","[{'number': 1, 'created': '2021-08-09 22:58:48.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/38a11fdb1b01682d2d3d0bd6dd81bfbba8d6cbad', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nCherry-Picked-From: cf9c3c510a0c374eabc80667da3004ddbd955246\nChange-Id: I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21\n'}]",0,803998,38a11fdb1b01682d2d3d0bd6dd81bfbba8d6cbad,6,2,1,7118,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Cherry-Picked-From: cf9c3c510a0c374eabc80667da3004ddbd955246
Change-Id: I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/98/803998/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,38a11fdb1b01682d2d3d0bd6dd81bfbba8d6cbad,debian-stretch-rm, # NOTE(ianw) 2021-08-10 The non-voting debian-stable jobs have # been removed as we no longer support Debian Stretch, # TODO(noonedeadpunk) Set voting once debian will have python3.6+ on board check: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false,2,9
openstack%2Fopenstack-ansible-os_murano~stable%2Fussuri~I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21,openstack/openstack-ansible-os_murano,stable/ussuri,I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21,Remove Debian jobs,MERGED,2021-08-09 22:57:28.000000000,2021-08-10 23:06:32.000000000,2021-08-10 23:00:54.000000000,"[{'_account_id': 22348}, {'_account_id': 32627}]","[{'number': 1, 'created': '2021-08-09 22:57:28.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/c512282bb4f4c7db625d18256055f2e24de119e7', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nCherry-Picked-From: cf9c3c510a0c374eabc80667da3004ddbd955246\nChange-Id: I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21\n'}]",0,803996,c512282bb4f4c7db625d18256055f2e24de119e7,6,2,1,7118,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Cherry-Picked-From: cf9c3c510a0c374eabc80667da3004ddbd955246
Change-Id: I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/96/803996/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c512282bb4f4c7db625d18256055f2e24de119e7,debian-stretch-rm, # NOTE(ianw) 2021-08-10 The non-voting debian-stable jobs have # been removed as we no longer support Debian Stretch, # TODO(noonedeadpunk) Set voting once debian will have python3.6+ on board check: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false,2,9
openstack%2Fopenstack-ansible-os_murano~stable%2Ftrain~I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21,openstack/openstack-ansible-os_murano,stable/train,I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21,Remove Debian jobs,MERGED,2021-08-09 22:55:36.000000000,2021-08-10 23:06:19.000000000,2021-08-10 23:00:39.000000000,"[{'_account_id': 22348}, {'_account_id': 32627}]","[{'number': 1, 'created': '2021-08-09 22:55:36.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/cf9c3c510a0c374eabc80667da3004ddbd955246', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nChange-Id: I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21\n'}]",0,803995,cf9c3c510a0c374eabc80667da3004ddbd955246,6,2,1,7118,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Change-Id: I35da8bfb3d714d086fdbd376c2f3cf9eba4e6b21
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/95/803995/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,cf9c3c510a0c374eabc80667da3004ddbd955246,debian-stretch-rm, # NOTE(ianw) 2021-08-10 The non-voting debian-stable jobs have # been removed as we no longer support Debian Stretch, # TODO(noonedeadpunk) Set voting once debian will have python3.6+ on board check: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false,2,9
openstack%2Fneutron~master~Ibd7fed33d314e901c69da33f42029f8ea67df98d,openstack/neutron,master,Ibd7fed33d314e901c69da33f42029f8ea67df98d,"Add ""network_id"" to ""_after_router_interface_deleted"" payload",MERGED,2021-07-28 11:29:41.000000000,2021-08-10 21:43:54.000000000,2021-08-10 21:42:17.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-07-28 11:29:41.000000000', 'files': ['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbef6cda98f2100a4080465dc99b1e82530e2f01', 'message': 'Add ""network_id"" to ""_after_router_interface_deleted"" payload\n\nThis parameter, sent by the DHCP agent, is needed to remove the\nworkaround method ""_get_network_lock_id"".\n\nThe removal of this method will be done in [1] in Y release.\n\nRelated-Bug: #1732456\n\n[1]https://review.opendev.org/c/openstack/neutron/+/800967\n\nChange-Id: Ibd7fed33d314e901c69da33f42029f8ea67df98d\n'}]",0,802687,cbef6cda98f2100a4080465dc99b1e82530e2f01,65,6,1,16688,,,0,"Add ""network_id"" to ""_after_router_interface_deleted"" payload

This parameter, sent by the DHCP agent, is needed to remove the
workaround method ""_get_network_lock_id"".

The removal of this method will be done in [1] in Y release.

Related-Bug: #1732456

[1]https://review.opendev.org/c/openstack/neutron/+/800967

Change-Id: Ibd7fed33d314e901c69da33f42029f8ea67df98d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/802687/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py'],1,cbef6cda98f2100a4080465dc99b1e82530e2f01,bug/1732456," {'port_id': port['id'], 'network_id': port['network_id']},"," {'port_id': port['id']},",2,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~If2d9a8a21f19e4fe7699c0ac932c9801fd133474,openstack/tripleo-ansible,stable/wallaby,If2d9a8a21f19e4fe7699c0ac932c9801fd133474,tripleo-kernel: Adding reboot_protection variable,MERGED,2021-08-09 19:03:44.000000000,2021-08-10 21:30:59.000000000,2021-08-10 21:30:59.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-09 19:03:44.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2caac2432c1c63dbe316cb8b35757d026769cf1', 'message': 'tripleo-kernel: Adding reboot_protection variable\n\nWhen the role is included, the params and variables have higher\nprecedence than the set_fact, thus not taking the set_fact defer_reboot\ninto account.\n\nAdding a reboot_protection variable that is not included when calling\nthe role will prevent this behavior.\n\nResolves: rhbz#1975240\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1975240\nChange-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474\n(cherry picked from commit 39a809f9e735f01865b6e134e5cf1f11ba2c34d8)\n'}]",0,803961,f2caac2432c1c63dbe316cb8b35757d026769cf1,15,7,1,27419,,,0,"tripleo-kernel: Adding reboot_protection variable

When the role is included, the params and variables have higher
precedence than the set_fact, thus not taking the set_fact defer_reboot
into account.

Adding a reboot_protection variable that is not included when calling
the role will prevent this behavior.

Resolves: rhbz#1975240
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1975240
Change-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474
(cherry picked from commit 39a809f9e735f01865b6e134e5cf1f11ba2c34d8)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/803961/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml']",2,f2caac2432c1c63dbe316cb8b35757d026769cf1,,tripleo_kernel_reboot_protection: false,,3,0
openstack%2Fopenstack-tempest-skiplist~master~Ie19db6c286c7d4cc407e6067b206b5718218c14b,openstack/openstack-tempest-skiplist,master,Ie19db6c286c7d4cc407e6067b206b5718218c14b,add updated note about ceph version is EOL for patches,NEW,2021-08-04 12:07:43.000000000,2021-08-10 21:27:19.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 12:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/50cf0c24135eae9684a8151475e51efc84be7111', 'message': 'add updated note about ceph version is EOL for patches\n\nChange-Id: Ie19db6c286c7d4cc407e6067b206b5718218c14b\n'}, {'number': 2, 'created': '2021-08-10 21:12:50.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/95b7e54cf8a8996fca4d9951923baa0c002958da', 'message': 'add updated note about ceph version is EOL for patches\n\nChange-Id: Ie19db6c286c7d4cc407e6067b206b5718218c14b\n'}]",0,803468,95b7e54cf8a8996fca4d9951923baa0c002958da,5,2,2,9592,,,0,"add updated note about ceph version is EOL for patches

Change-Id: Ie19db6c286c7d4cc407e6067b206b5718218c14b
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/68/803468/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,50cf0c24135eae9684a8151475e51efc84be7111,, reason: Perm skip: Ceph won't have a new fix and that the test is no longer run reason: Perm skip: Ceph won't have a new fix and that the test is no longer run reason: Perm skip: Ceph won't have a new fix and that the test is no longer run, reason: Request timed out reason: Request timed out reason: Request timed out,3,3
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I51fdd0aa82f38c03f33175f7a238be22edba3040,openstack/puppet-tripleo,stable/wallaby,I51fdd0aa82f38c03f33175f7a238be22edba3040,Bump metadata for wallaby tripleo repos release,MERGED,2021-08-10 15:50:04.000000000,2021-08-10 20:54:39.000000000,2021-08-10 20:54:39.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 15:50:04.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a29fd8ef777489fd1ba58bf7220775940b7a3d9b', 'message': 'Bump metadata for wallaby tripleo repos release\n\nNeeded by [1]\n\n[1] I3a2b5e7296fefa26c100f7726ce364e7179e62e2\n\nChange-Id: I51fdd0aa82f38c03f33175f7a238be22edba3040\n'}]",0,804104,a29fd8ef777489fd1ba58bf7220775940b7a3d9b,7,3,1,8449,,,0,"Bump metadata for wallaby tripleo repos release

Needed by [1]

[1] I3a2b5e7296fefa26c100f7726ce364e7179e62e2

Change-Id: I51fdd0aa82f38c03f33175f7a238be22edba3040
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/04/804104/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,a29fd8ef777489fd1ba58bf7220775940b7a3d9b,," ""version"": ""14.2.2"","," ""version"": ""14.2.1"",",1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52,openstack/tripleo-heat-templates,stable/wallaby,I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52,Replace deprecated glance::api::database_connection,MERGED,2021-08-06 09:24:28.000000000,2021-08-10 20:54:36.000000000,2021-08-10 20:54:36.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-06 09:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/900744a35c2752cf171fb9f413dec8f726ba3781', 'message': 'Replace deprecated glance::api::database_connection\n\nDatabase parameters in glance::api were deprecated in favor of\nduplicated parameters in glance::api::db[1].\n\n[1] 10f14f29b10d3cb427e74ef2ad2c45be1ae97842\n\nChange-Id: I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52\n(cherry picked from commit 169e4e98347c00c30f9827e0e3ac3e1ccaa6d155)\n'}, {'number': 2, 'created': '2021-08-06 09:27:42.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c9f86f6f002091afc7accff889913b873c46603', 'message': 'Replace deprecated glance::api::database_connection\n\nDatabase parameters in glance::api were deprecated in favor of\nduplicated parameters in glance::api::db[1].\n\n[1] 10f14f29b10d3cb427e74ef2ad2c45be1ae97842\n\nRelated-Bug: #1938932\nChange-Id: I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52\n(cherry picked from commit 169e4e98347c00c30f9827e0e3ac3e1ccaa6d155)\n'}]",1,803676,1c9f86f6f002091afc7accff889913b873c46603,18,4,2,9816,,,0,"Replace deprecated glance::api::database_connection

Database parameters in glance::api were deprecated in favor of
duplicated parameters in glance::api::db[1].

[1] 10f14f29b10d3cb427e74ef2ad2c45be1ae97842

Related-Bug: #1938932
Change-Id: I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52
(cherry picked from commit 169e4e98347c00c30f9827e0e3ac3e1ccaa6d155)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/803676/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,900744a35c2752cf171fb9f413dec8f726ba3781,bug/1938932-stable/wallaby, - glance::api::db::database_connection:, - glance::api::database_connection:,1,1
openstack%2Fopenstack-ansible~stable%2Fwallaby~Ida8101b6b40de0fead8bba258c73b82bc023c079,openstack/openstack-ansible,stable/wallaby,Ida8101b6b40de0fead8bba258c73b82bc023c079,Bump OpenStack-Ansible Wallaby,MERGED,2021-07-31 04:42:41.000000000,2021-08-10 20:41:22.000000000,2021-08-10 20:39:43.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-07-31 04:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/12112588870756cc0214a39ae7b5e714dbe5ec7e', 'message': 'Bump OpenStack-Ansible Wallaby\n\nChange-Id: Ida8101b6b40de0fead8bba258c73b82bc023c079\n'}, {'number': 2, 'created': '2021-08-10 15:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b76ff450179eea83d414fc87eaebfeaa71cad44', 'message': 'Bump OpenStack-Ansible Wallaby\n\nChange-Id: Ida8101b6b40de0fead8bba258c73b82bc023c079\n'}, {'number': 3, 'created': '2021-08-10 15:04:44.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/86d480bac6a0e3ba97c0fae9f2835b98182a9915', 'message': 'Bump OpenStack-Ansible Wallaby\n\nChange-Id: Ida8101b6b40de0fead8bba258c73b82bc023c079\n'}]",0,803097,86d480bac6a0e3ba97c0fae9f2835b98182a9915,13,3,3,28619,,,0,"Bump OpenStack-Ansible Wallaby

Change-Id: Ida8101b6b40de0fead8bba258c73b82bc023c079
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/97/803097/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,12112588870756cc0214a39ae7b5e714dbe5ec7e,bump_osa, version: 141b37fdd103bb65710e40e24859bf85d499b5fe version: 9dae89e3c23a2206ff08819592664f5ba17f0cb6 version: be639d940786620a67f3be85d4757c7663e12014 version: 87fdc3a17a211a3f896dc20c6090021bfa5c10ef version: 4e39a1ce5fb91efa2830873f33548963452770e7 version: d7edc71fd557d18531c90b803159b7d526156c1c, version: c567e6fc18cee73b3f69cbfc2d8452d7e5402e85 version: c389c026c2220e8bddeafa6a3d55d23b6bddd04e version: a72fa8bb437af09e8fc5fa48588ec52db8231f35 version: 2a7e249d95863bfcf3bfd9bccd9e2b35d291a1a5 version: 09e142ce94d32f001bdcb6953cb6af80ae3985ae version: c97f90af929be3f465c87447d50ea34c456b9f9a,65,65
openstack%2Ftripleo-validations~master~I6f00239db054a929ca759c03fdc1d126a4aa7da9,openstack/tripleo-validations,master,I6f00239db054a929ca759c03fdc1d126a4aa7da9,setup.cfg: Replace dashes with underscores,MERGED,2021-05-08 00:39:15.000000000,2021-08-10 20:35:39.000000000,2021-08-10 20:35:39.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-08 00:39:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0edcc45f4d7b04d0a6f8156192997d24c602cd73', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I6f00239db054a929ca759c03fdc1d126a4aa7da9\n""}]",0,790312,0edcc45f4d7b04d0a6f8156192997d24c602cd73,8,7,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I6f00239db054a929ca759c03fdc1d126a4aa7da9
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/12/790312/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0edcc45f4d7b04d0a6f8156192997d24c602cd73,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/tripleo-validations/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/tripleo-validations/latest/ python-requires = >=3.6,4,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2,openstack/tripleo-heat-templates,stable/train,I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2,Add OVNCMSOptions to Controller and Networker roles,MERGED,2021-07-29 00:23:00.000000000,2021-08-10 20:35:37.000000000,2021-08-10 20:35:37.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-07-29 00:23:00.000000000', 'files': ['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml', 'roles/Networker.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35cf18c7d940dc3bf599a42577b4a7f07ea9d24f', 'message': 'Add OVNCMSOptions to Controller and Networker roles\n\nOVN is a default networking service for Neutron.\nThe default configurations for OVN were implemented but OVNCMSOptions\nwas missing.\nThis change introduces OVNCMSOptions to Controller and Networker roles.\n\nCloses-Bug: #1928901\nChange-Id: I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2\n(cherry picked from commit 866645db1d558542ddda7c00409d39e9d0a0a1bd)\n(cherry picked from commit e15bfa6d8ddbaa9ad9608c28f8150134fe3f48d2)\n(cherry picked from commit 8c796f4f1c25ae2fd045ba54cc3e92abde6e9b85)\n(cherry picked from commit e084314d50cc278885a19171001f2d199d98cfde)\n'}]",0,802774,35cf18c7d940dc3bf599a42577b4a7f07ea9d24f,14,4,1,25613,,,0,"Add OVNCMSOptions to Controller and Networker roles

OVN is a default networking service for Neutron.
The default configurations for OVN were implemented but OVNCMSOptions
was missing.
This change introduces OVNCMSOptions to Controller and Networker roles.

Closes-Bug: #1928901
Change-Id: I441f16f5e596dcbc6f5e567b07d3cd19a57c21e2
(cherry picked from commit 866645db1d558542ddda7c00409d39e9d0a0a1bd)
(cherry picked from commit e15bfa6d8ddbaa9ad9608c28f8150134fe3f48d2)
(cherry picked from commit 8c796f4f1c25ae2fd045ba54cc3e92abde6e9b85)
(cherry picked from commit e084314d50cc278885a19171001f2d199d98cfde)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/802774/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerAllNovaStandalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Controller.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/NetworkerSriov.yaml', 'roles/ControllerSriov.yaml', 'roles/Networker.yaml', 'roles/ControllerOpenstack.yaml']",11,35cf18c7d940dc3bf599a42577b4a7f07ea9d24f,add_OVNCMSOption_to_roles-stable/wallaby-stable/victoria-stable/ussuri-stable/train," RoleParametersDefault: OVNCMSOptions: ""enable-chassis-as-gw""",,22,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~If13bbe77b8ea1a59cbc1d8c8b8e3fc652a9f0b15,openstack/python-tripleoclient,stable/wallaby,If13bbe77b8ea1a59cbc1d8c8b8e3fc652a9f0b15,Fix 'cell export' no attribute exception,MERGED,2021-08-09 08:27:19.000000000,2021-08-10 20:35:26.000000000,2021-08-10 20:33:56.000000000,"[{'_account_id': 360}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 08:27:19.000000000', 'files': ['tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f6ac6421d39361fb9925c833d4d175c7ec65e99', 'message': ""Fix 'cell export' no attribute exception\n\nThis patch resolves an issue in trying to use the 'overcloud cell\nexport' command where the old tripleoclient.orchestration\nproperty was still in use. This patch updates the code to\naccess the orchestration client directly similar to what we did in\ncdcf16ee457e36d0db1dc1e1b98201ca42ad147d.\n\nChange-Id: If13bbe77b8ea1a59cbc1d8c8b8e3fc652a9f0b15\nCloses-Bug: 1939167\n(cherry picked from commit 12d9efbdaecfeb2623588d0a61798ab0ecbc8206)\n""}]",0,803834,7f6ac6421d39361fb9925c833d4d175c7ec65e99,7,3,1,17216,,,0,"Fix 'cell export' no attribute exception

This patch resolves an issue in trying to use the 'overcloud cell
export' command where the old tripleoclient.orchestration
property was still in use. This patch updates the code to
access the orchestration client directly similar to what we did in
cdcf16ee457e36d0db1dc1e1b98201ca42ad147d.

Change-Id: If13bbe77b8ea1a59cbc1d8c8b8e3fc652a9f0b15
Closes-Bug: 1939167
(cherry picked from commit 12d9efbdaecfeb2623588d0a61798ab0ecbc8206)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/803834/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_cell.py'],1,7f6ac6421d39361fb9925c833d4d175c7ec65e99,cell_export_fix-stable/wallaby, heat = clients.orchestration, heat = clients.tripleoclient.orchestration,1,1
openstack%2Ftripleo-ansible~master~Ic4ab7d83b4646ff2bba729b48f3cdab6c5ffcc1c,openstack/tripleo-ansible,master,Ic4ab7d83b4646ff2bba729b48f3cdab6c5ffcc1c,tripleo-transfer: fix molecule test,MERGED,2021-08-09 13:45:02.000000000,2021-08-10 20:33:57.000000000,2021-08-10 20:33:57.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 13:45:02.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26a3a6805ef48b7e8d91b6cf326eb9ad9f3bfc52', 'message': 'tripleo-transfer: fix molecule test\n\nSince [1] tripleo-transfer allows excluding files from\ndata transfer between hosts. The associated molecule\ntests have a typo which make it fail when the feature\nis not exercised in CI.\n\n[1] I1e88907db0bb26d52c92cb996eb56767e06b3874\n\nChange-Id: Ic4ab7d83b4646ff2bba729b48f3cdab6c5ffcc1c\n'}]",0,803927,26a3a6805ef48b7e8d91b6cf326eb9ad9f3bfc52,11,3,1,20778,,,0,"tripleo-transfer: fix molecule test

Since [1] tripleo-transfer allows excluding files from
data transfer between hosts. The associated molecule
tests have a typo which make it fail when the feature
is not exercised in CI.

[1] I1e88907db0bb26d52c92cb996eb56767e06b3874

Change-Id: Ic4ab7d83b4646ff2bba729b48f3cdab6c5ffcc1c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/803927/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml'],1,26a3a6805ef48b7e8d91b6cf326eb9ad9f3bfc52,transfer-molecule-fix," test2_excluded_files: ""{{ test2_exclude_src_files | map('regex_replace', '(.*)', test2_dst_dir ~ '/\\1') }}"""," test2_excluded_files: ""{{ test2_excluded_files | map('regex_replace', '(.*)', test2_dst_dir ~ '/\\1') }}""",1,1
openstack%2Fpuppet-tripleo~master~I483484c58ab703f3a4dcede636d733e23b051f63,openstack/puppet-tripleo,master,I483484c58ab703f3a4dcede636d733e23b051f63,Allow tuning of Galera gcache size,MERGED,2021-08-10 07:31:54.000000000,2021-08-10 20:33:54.000000000,2021-08-10 20:33:54.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2021-08-10 07:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b65f93d7e3f9873efc066bf6b97108dc9649d58f', 'message': 'Allow tuning of Galera Cluster cache\n\nSizing the gcache size properly allows a cluster node to perform IST\ninstead of SST if the amount of writes occurred during its downtime do\nnot exceed the size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n'}, {'number': 2, 'created': '2021-08-10 07:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9b24b616fb7bba41dc98f0f86d5e780a3ca61a44', 'message': 'Allow tuning of Galera Cluster cache\n\nSizing the gcache size properly allows a cluster node to perform IST\ninstead of SST if the amount of writes occurred during its downtime do\nnot exceed the size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n'}, {'number': 3, 'created': '2021-08-10 07:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e00ff17409ecd9fc626d25c99748f56701fcb91a', 'message': 'Allow tuning of Galera Cluster cache\n\nSizing the gcache size properly allows a cluster node to perform IST\ninstead of SST if the amount of writes occurred during its downtime do\nnot exceed the size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n'}, {'number': 4, 'created': '2021-08-10 09:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/989e039804c327c6c1f20dd232fd480e1b23a6de', 'message': 'Allow tuning of Galera Cluster cache\n\nSizing the gcache size properly allows a cluster node to perform IST\ninstead of SST if the amount of writes occurred during its downtime do\nnot exceed the size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n'}, {'number': 5, 'created': '2021-08-10 09:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f19c5fd94fb5e1e229816096cc631f806babe673', 'message': 'Allow tuning of Galera Cluster cache\n\nAppropriate gcache.size values allows a cluster node to perform IST\ninstead of SST if the writes occurred during its downtime do not exceed\nthe size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n'}, {'number': 6, 'created': '2021-08-10 10:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e3b9eed0dd7d7e37ebd1b903f00955c41de50d80', 'message': 'Allow tuning of Galera Cluster cache\n\nAppropriate gcache.size values allows a cluster node to perform IST\ninstead of SST if the writes occurred during its downtime do not exceed\nthe size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n'}, {'number': 7, 'created': '2021-08-10 10:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3a5f4a11ee10076f38f2fb46a8b4b8c9726d4b36', 'message': 'Allow tuning of Galera gcache size\n\nAppropriate gcache.size values allows a cluster node to perform IST\ninstead of SST if the writes occurred during its downtime do not exceed\nthe size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n'}, {'number': 8, 'created': '2021-08-10 10:38:30.000000000', 'files': ['manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/feed67dcc45eb3da818cc2ceac8cb3682a2b6364', 'message': 'Allow tuning of Galera gcache size\n\nAppropriate gcache.size values allow a cluster node to perform IST\ninstead of SST if the writes occurred during its downtime do not exceed\nthe size of the cache itself.\nThis is especially beneficial during maintenance windows.\n\nChange-Id: I483484c58ab703f3a4dcede636d733e23b051f63\n'}]",1,804045,feed67dcc45eb3da818cc2ceac8cb3682a2b6364,18,6,8,30126,,,0,"Allow tuning of Galera gcache size

Appropriate gcache.size values allow a cluster node to perform IST
instead of SST if the writes occurred during its downtime do not exceed
the size of the cache itself.
This is especially beneficial during maintenance windows.

Change-Id: I483484c58ab703f3a4dcede636d733e23b051f63
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/45/804045/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,b65f93d7e3f9873efc066bf6b97108dc9649d58f,,"# [*gcache_size*] # (optional) Controls the Galera Cache size. # Defaults to 128M # $gcache_size = '128M', $wsrep_provider_options = ""gcache.size=${gcache_size};gmcast.listen_addr=tcp://[::]:4567;${tls_options}"" } else { $wsrep_provider_options = ""gcache.size=${gcache_size};gmcast.listen_addr=tcp://${gmcast_listen_addr}:4567;${tls_options}"""," $wsrep_provider_options = ""gmcast.listen_addr=tcp://[::]:4567;${tls_options}"" } else { $wsrep_provider_options = ""gmcast.listen_addr=tcp://${gmcast_listen_addr}:4567;${tls_options}""",7,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4c4cd976d9a997b39e7e3937e49193a10f872ae3,openstack/tripleo-heat-templates,stable/ussuri,I4c4cd976d9a997b39e7e3937e49193a10f872ae3,Default ganesha-internal service endpoint to external network,MERGED,2021-08-09 20:10:41.000000000,2021-08-10 20:33:52.000000000,2021-08-10 20:33:52.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-09 20:10:41.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b219a42d6fe5a26842dbcad17cc8e5ff57513af', 'message': 'Default ganesha-internal service endpoint to external network\n\nThis is a clean cherry-pick except that the path to the relevant\nfile changed in the master branch.\n\nCloses-Bug: #1938639\n\n(cherry picked from commit e104c6e623c32f7606eaaa40751c61c35c5780bb)\nChange-Id: I4c4cd976d9a997b39e7e3937e49193a10f872ae3\n(cherry picked from commit bde560231296ca313d57728ed54bb1b7a54a2f78)\n(cherry picked from commit 72ff3686e40da9aacb7ef9ed33c8dc49ec5fcb33)\n'}]",0,803966,7b219a42d6fe5a26842dbcad17cc8e5ff57513af,8,7,1,9003,,,0,"Default ganesha-internal service endpoint to external network

This is a clean cherry-pick except that the path to the relevant
file changed in the master branch.

Closes-Bug: #1938639

(cherry picked from commit e104c6e623c32f7606eaaa40751c61c35c5780bb)
Change-Id: I4c4cd976d9a997b39e7e3937e49193a10f872ae3
(cherry picked from commit bde560231296ca313d57728ed54bb1b7a54a2f78)
(cherry picked from commit 72ff3686e40da9aacb7ef9ed33c8dc49ec5fcb33)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/803966/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,7b219a42d6fe5a26842dbcad17cc8e5ff57513af,," # Guest VMs use GaneshaNetwork and cannot reach ctlplane network, # so default to external when storage_nfs is not available. GaneshaNetwork: {{ _service_nets.get('storage_nfs', 'external') }}"," GaneshaNetwork: {{ _service_nets.get('storage_nfs', 'ctlplane') }}",3,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ia97533c0b8b3b8498a173e1d363323dcdc77cce4,openstack/tripleo-ansible,stable/victoria,Ia97533c0b8b3b8498a173e1d363323dcdc77cce4,Set ganesha_vip when no StoragetNFS network,MERGED,2021-08-09 20:08:54.000000000,2021-08-10 20:18:50.000000000,2021-08-10 20:18:50.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-09 20:08:54.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ff85eb7db7636ff395ba6f2da0f6fda7b6f1a24', 'message': 'Set ganesha_vip when no StoragetNFS network\n\nis deployed.\n\nNormally when Ganesha is deployed for CephFS through NFS,\nthe StorageNFS isolated network is deployed and we set\nthe address for ganesha_vip on that network.  But with\nStandalone role the StorageNFS network is not deployed\nso ganesha_vip is not set in the tripleo hieradata unless\nit is provided by extra config.\n\nSet it to net_vip_map.external in the event that it has\nnot been set on the StorageNFS network.  Note that external\nis chosen rather than ctlplane since the VIP must be reachable\nfrom compute instances, guest VMs, that should have no access\nto the ctlplane network.\n\nCloses-Bug: #1911022\nChange-Id: Ia97533c0b8b3b8498a173e1d363323dcdc77cce4\n(cherry picked from commit 0aceca00e76e967ee9b5efc30da0bc3ee23acb2e)\n(cherry picked from commit 520b1e1edb83d9f9e101695900667c80a4cdbc8f)\n'}]",0,803965,3ff85eb7db7636ff395ba6f2da0f6fda7b6f1a24,7,6,1,9003,,,0,"Set ganesha_vip when no StoragetNFS network

is deployed.

Normally when Ganesha is deployed for CephFS through NFS,
the StorageNFS isolated network is deployed and we set
the address for ganesha_vip on that network.  But with
Standalone role the StorageNFS network is not deployed
so ganesha_vip is not set in the tripleo hieradata unless
it is provided by extra config.

Set it to net_vip_map.external in the event that it has
not been set on the StorageNFS network.  Note that external
is chosen rather than ctlplane since the VIP must be reachable
from compute instances, guest VMs, that should have no access
to the ctlplane network.

Closes-Bug: #1911022
Change-Id: Ia97533c0b8b3b8498a173e1d363323dcdc77cce4
(cherry picked from commit 0aceca00e76e967ee9b5efc30da0bc3ee23acb2e)
(cherry picked from commit 520b1e1edb83d9f9e101695900667c80a4cdbc8f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/803965/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'],1,3ff85eb7db7636ff395ba6f2da0f6fda7b6f1a24,,"{% if not vip_data.ganesha_vip is defined %} {% if 'External' in enabled_networks %} {% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[networks['External']['name_lower']])) %} {% endif %} {% endif %}",,5,0
openstack%2Fcinder~stable%2Fwallaby~Ibab932d3536d44dd7414560768ed5bdeaa9e61e1,openstack/cinder,stable/wallaby,Ibab932d3536d44dd7414560768ed5bdeaa9e61e1,[Pure Storage] Fix minimum SDK version required,MERGED,2021-06-30 18:06:11.000000000,2021-08-10 19:53:15.000000000,2021-08-10 19:51:51.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-06-30 18:06:11.000000000', 'files': ['cinder/volume/drivers/pure.py', 'driver-requirements.txt', 'lower-constraints.txt', 'releasenotes/notes/pure_sdk_version_checks-257cb8387ed6f5f8.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/652c3bf31bc3b189fe157cfa37dc1a63dd92f7f7', 'message': '[Pure Storage] Fix minimum SDK version required\n\nChange method to check supported REST version on the backend.\nThis will mkae it easier to specify minimum REST versions for\nspecific feature support.\n\nCloses-Bug: #1929219\nChange-Id: Ibab932d3536d44dd7414560768ed5bdeaa9e61e1\n(cherry picked from commit 49848a7674b3a502e7cf6d610f0dc5d2dddbd642)\n'}]",10,798879,652c3bf31bc3b189fe157cfa37dc1a63dd92f7f7,27,6,1,13425,,,0,"[Pure Storage] Fix minimum SDK version required

Change method to check supported REST version on the backend.
This will mkae it easier to specify minimum REST versions for
specific feature support.

Closes-Bug: #1929219
Change-Id: Ibab932d3536d44dd7414560768ed5bdeaa9e61e1
(cherry picked from commit 49848a7674b3a502e7cf6d610f0dc5d2dddbd642)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/798879/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'driver-requirements.txt', 'lower-constraints.txt', 'releasenotes/notes/pure_sdk_version_checks-257cb8387ed6f5f8.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py', 'setup.cfg']",6,652c3bf31bc3b189fe157cfa37dc1a63dd92f7f7,bug/1929219-stable/wallaby, purestorage>=1.17.0 # BSD purestorage>=1.17.0 # BSD, purestorage>=1.6.0 # BSD purestorage>=1.6.0 # BSD,131,73
openstack%2Fglance~stable%2Fwallaby~If12a013404296486dc387b099477d1608b24ba63,openstack/glance,stable/wallaby,If12a013404296486dc387b099477d1608b24ba63,"Revert ""Remove all usage of keystoneclient""",MERGED,2021-07-08 19:20:14.000000000,2021-08-10 19:46:18.000000000,2021-08-10 19:44:50.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-08 19:20:14.000000000', 'files': ['requirements.txt', 'glance/common/trust_auth.py', 'glance/common/auth.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7ce475ce11ebb5813ce487bfa9cf64458ac08ac5', 'message': 'Revert ""Remove all usage of keystoneclient""\n\nThis reverts commit 810417df865c7b4eb71cee4dfee843d65972852b.\n\nThe Swift driver not being able to use Trusts had nothing to do\nabout the store driver itself nor that keystoneauth1 would have\nbroken the feature, but rather it not having the functionality\nin the first place and us not catching that on reviews.\n\nWe should figure out how to test this before we try to replace\nthis code again.\n\nChange-Id: If12a013404296486dc387b099477d1608b24ba63\nCloses-Bug: #1916052\n(cherry picked from commit 9b683678b2a19bb1069aace58e054150a78b5f6f)\n'}]",0,800101,7ce475ce11ebb5813ce487bfa9cf64458ac08ac5,17,5,1,5202,,,0,"Revert ""Remove all usage of keystoneclient""

This reverts commit 810417df865c7b4eb71cee4dfee843d65972852b.

The Swift driver not being able to use Trusts had nothing to do
about the store driver itself nor that keystoneauth1 would have
broken the feature, but rather it not having the functionality
in the first place and us not catching that on reviews.

We should figure out how to test this before we try to replace
this code again.

Change-Id: If12a013404296486dc387b099477d1608b24ba63
Closes-Bug: #1916052
(cherry picked from commit 9b683678b2a19bb1069aace58e054150a78b5f6f)
",git fetch https://review.opendev.org/openstack/glance refs/changes/01/800101/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'glance/common/trust_auth.py', 'glance/common/auth.py']",3,7ce475ce11ebb5813ce487bfa9cf64458ac08ac5,wallaby-trusts,"from keystoneclient import service_catalog as ks_service_catalog {'serviceCatalog': service_catalog} ).get_urls(service_type=service_type, region_name=endpoint_region, endpoint_type=endpoint_type) if endpoints is None:","from keystoneauth1.access import service_catalog as ks_service_catalog service_catalog).get_urls(interface=endpoint_type, service_type=service_type, region_name=endpoint_region) if len(endpoints) == 0:",18,15
openstack%2Ftripleo-repos~master~I56114ff026218f54b92b17ecef1592df9b8f13af,openstack/tripleo-repos,master,I56114ff026218f54b92b17ecef1592df9b8f13af,tripleo version data,ABANDONED,2020-12-15 20:35:46.000000000,2021-08-10 19:09:35.000000000,,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-15 20:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/b59c681144dc3e7169aff7940fea7c9a8bbcb18d', 'message': 'WIP: tripleo version data\n\nThis change is the start of being able to express requirements around\ndistros, openstack versions and other dependencies in a single place.\nThis file can be used to validate and populate repository and dnf\nconfiguration for various versions.\n\nChange-Id: I56114ff026218f54b92b17ecef1592df9b8f13af\n'}, {'number': 2, 'created': '2020-12-15 22:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/975860ee00abd1c58ee25f680fa378e617512608', 'message': 'WIP: tripleo version data\n\nThis change is the start of being able to express requirements around\ndistros, openstack versions and other dependencies in a single place.\nThis file can be used to validate and populate repository and dnf\nconfiguration for various versions.\n\nChange-Id: I56114ff026218f54b92b17ecef1592df9b8f13af\n'}, {'number': 3, 'created': '2021-01-05 16:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/248102fcd09948692919ecf58eab2facdaaaffc7', 'message': 'tripleo version data\n\nThis change is the start of being able to express requirements around\ndistros, openstack versions and other dependencies in a single place.\nThis file can be used to validate and populate repository and dnf\nconfiguration for various versions.\n\nChange-Id: I56114ff026218f54b92b17ecef1592df9b8f13af\n'}, {'number': 4, 'created': '2021-02-09 15:10:30.000000000', 'files': ['setup.cfg', 'versions/versions.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/9bca5fd693632a40fc4a0d6787e5ce5be8429a1f', 'message': 'tripleo version data\n\nThis change is the start of being able to express requirements around\ndistros, openstack versions and other dependencies in a single place.\nThis file can be used to validate and populate repository and dnf\nconfiguration for various versions.\n\nChange-Id: I56114ff026218f54b92b17ecef1592df9b8f13af\n'}]",10,767214,9bca5fd693632a40fc4a0d6787e5ce5be8429a1f,19,5,4,14985,,,0,"tripleo version data

This change is the start of being able to express requirements around
distros, openstack versions and other dependencies in a single place.
This file can be used to validate and populate repository and dnf
configuration for various versions.

Change-Id: I56114ff026218f54b92b17ecef1592df9b8f13af
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/14/767214/4 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'versions/versions.yaml']",2,b59c681144dc3e7169aff7940fea7c9a8bbcb18d,versions,--- ########### # Distros # ########### distros: centos: mirror: - http://mirror.centos.org versions: - 7 - 8 rhel: versions: - 8 mirror: - https://trunk.rdoproject.org fedora: versions: - '' mirror: - https://mirrors.fedoraproject.org ###################### # OpenStack versions # ###################### versions: master: &master_branch distros: &distros_rhel8 - centos8 - rhel8 repos: centos8: &centos8_repos - highavailability - powertools ceph: - octopus delorean: - component-ci-testing - component - consistent - current-passed-ci - current-tripleo-dev - current-tripleo-rdo - current-tripleo - current - deps - tripleo-ci-testing modules: container-tools: rhel8 virt: rhel python36: 3.6 wallaby: *master_branch ################### # Stable Branches # ################### victoria: distros: *distros_rhel8 repos: centos8: *centos8_repos ceph: &ceph_nautilus - nautilus delorean: &delorean_stable - component-ci-testing - component - consistent - current-passed-ci - current-tripleo-rdo - current-tripleo - current - deps - tripleo-ci-testing modules: &stable_modules ussuri: distros: *distros_rhel8 repos: centos8: *centos8_repos ceph: *ceph_nautilus delorean: *deloran_stable modules: &stable_modules train: distros: - centos7 - centos8 - rhel8 repos: centos7: &centos7_repos - opstools centos8: *centos8_repos ceph: *ceph_nautilus delorean: *deloran_stable modules: &stable_modules stein: distros: - centos7 repos: centos7: *centos7_repos ceph: &ceph_luminous - luminous delorean: *deloran_stable rocky: distros: - centos7 repos: centos7: *centos7_repos ceph: *ceph_luminous delorean: *deloran_stable queens: distros: - centos7 repos: centos7: *centos7_repos ceph: *ceph_luminous delorean: *deloran_stable ,,119,0
openstack%2Ftripleo-repos~master~Icd263187bd786bf91694d45ee04359c60ca95a6c,openstack/tripleo-repos,master,Icd263187bd786bf91694d45ee04359c60ca95a6c,WIP: update repo and module management,ABANDONED,2021-01-07 20:13:59.000000000,2021-08-10 19:09:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 20:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/a8b30a77d888c560d33956958d441ddcd809c64a', 'message': 'WIP: update repo and module management\n\nChange-Id: Icd263187bd786bf91694d45ee04359c60ca95a6c\n'}, {'number': 2, 'created': '2021-01-07 21:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/bc1a0ccf56e528fbd145c21815b1f320affb6dd9', 'message': 'WIP: update repo and module management\n\nChange-Id: Icd263187bd786bf91694d45ee04359c60ca95a6c\n'}, {'number': 3, 'created': '2021-01-08 22:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/527e9fda0cc23b9938488ef47de752f16eb1deb5', 'message': 'WIP: update repo and module management\n\nChange-Id: Icd263187bd786bf91694d45ee04359c60ca95a6c\n'}, {'number': 4, 'created': '2021-02-09 15:10:30.000000000', 'files': ['tripleo_repos/tests/test_modules.py', 'tripleo_repos/tests/test_main.py', 'tripleo_repos/exceptions.py', 'tripleo_repos/tests/test_repos.py', 'tripleo_repos/main.py', 'tripleo_repos/modules.py', 'tripleo_repos/tests/base.py', 'tox.ini', 'tripleo_repos/repos.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/447fabe027884fa29d0ed7598386487afca6d623', 'message': 'WIP: update repo and module management\n\nChange-Id: Icd263187bd786bf91694d45ee04359c60ca95a6c\n'}]",1,769825,447fabe027884fa29d0ed7598386487afca6d623,9,1,4,14985,,,0,"WIP: update repo and module management

Change-Id: Icd263187bd786bf91694d45ee04359c60ca95a6c
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/25/769825/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_repos/main.py', 'tripleo_repos/modules.py', 'tripleo_repos/repos.py']",3,a8b30a77d888c560d33956958d441ddcd809c64a,versions,"#!/usr/bin/env python3 # Copyright 2020 Red Hat, Inc. # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import logging import os import re import requests from tripleo_repos import exceptions as ex LOG = logging.getLogger(__name__) MIRROR_MAP_DEFAULT = { 'fedora': 'https://mirrors.fedoraproject.org', 'centos': 'http://mirror.centos.org', 'rhel': 'https://trunk.rdoproject.org', 'rdo': 'https://trunk.rdoproject.org' } OUTPUT_PATH_DEFAULT = '/etc/yum.repos.d' TITLE_RE = re.compile('\\[(.*)\\]') NAME_RE = re.compile('name=(.+)') PRIORITY_RE = re.compile('priority=\\d+') REPO_TEMPLATE_CEPH = ''' [tripleo-centos-ceph-%(ceph_release)s] name=tripleo-centos-ceph-%(ceph_release)s baseurl=%(mirror)s/centos/%(centos_release)s/storage/$basearch/ceph-%(ceph_release)s/ gpgcheck=0 enabled=1 ''' REPO_TEMPLATE_OPSTOOLS = ''' [tripleo-centos-opstools] name=tripleo-centos-opstools baseurl=%(mirror)s/centos/7/opstools/$basearch/ gpgcheck=0 enabled=1 ''' # centos-8 only REPO_TEMPLATE_HA = ''' [tripleo-centos-highavailability] name=tripleo-centos-highavailability baseurl=%(mirror)s/centos/%(centos_release)s/HighAvailability/$basearch/os/ gpgcheck=0 enabled=1 ''' # centos-8 only REPO_TEMPLATE_POWERTOOLS = ''' [tripleo-centos-powertools] name=tripleo-centos-powertools baseurl=%(mirror)s/centos/%(centos_release)s/PowerTools/$basearch/os/ gpgcheck=0 enabled=1 ''' # mapping for repos to templates REPO_TEMPLATES_DEFAULT = { 'ceph': REPO_TEMPLATE_CEPH, 'opstools': REPO_TEMPLATE_OPSTOOLS, 'highavailability': REPO_TEMPLATE_HA, 'powertools': REPO_TEMPLATE_POWERTOOLS, } class RpmRepos(object): def __init__(self, distro='centos', distro_version='8', openstack_version='master', mirrors=MIRROR_MAP_DEFAULT, output_path=OUTPUT_PATH_DEFAULT): self.distro = distro self.distro_version = distro_version self.openstack_version = openstack_version self.mirrors = mirrors self.output_path = output_path def _write(self, template, data, name=None): content = template % data if not name: m = TITLE_RE.search(content) if not m: raise ex.NoRepoTitle('Could not find repo title: \n%s' % content) name = m.group(1) # centos-8 dlrn repos have changed. repos per component # are folded into a single repo. if 'component' in name: name = 'delorean' filename = name + '.repo' filename = os.path.join(self.output_path, filename) with open(filename, 'w') as f: f.write(content) LOG.info('Installed repo %s to %s' % (name, filename)) def _get_distro_data(self, stream=False): centos_release = self.distro_version if stream: centos_release = centos_release + '-stream' data = { 'mirror': self.mirorrs.get(self.distro), 'centos_release': centos_release } return data @staticmethod def _replace_baseurl(content, old, new): """"""Replace old url baseurl with new one"""""" content = re.sub('baseurl=%s' % old, 'abseurl=%s' % new, content) return content @staticmethod def _fetch_rdo_repo(self, url): r = requests.get(url) if r.status_code == 200: return r.text else: r.raise_for_status() @staticmethod def _change_priority(content, new_priority): new_content = PRIORITY_RE.sub('priority=%d' % new_priority, content) # This shouldn't happen, but let's be safe. if not PRIORITY_RE.search(new_content): new_content = [] for line in content.split(""\n""): new_content.append(line) if line.startswith('['): new_content.append('priority=%d' % new_priority) new_content = ""\n"".join(new_content) return new_content def centos8(self, repos=[], stream=False): for repo in repos: self._write(REPO_TEMPLATES_DEFAULT.get(repo), self._get_distro_data(stream)) def centos8_stream(self, repos=[]): self.centos8(repos=repos, stream=True) def centos7(self, repos=[]): for repo in repos: self._write(REPO_TEMPLATES_DEFAULT.get(repo), self._get_distro_data()) def ceph(self, repos=[]): data = self._get_distro_data() for repo in repos: data['ceph_release'] = repo self._write(REPO_TEMPLATES_DEFAULT.get('ceph'), data) def delorean(self, repos=[]): rdo_branch = '%s/%s%s-%s' % (self.mirrors.get('rdo'), self.distro, self.distro_version, self.openstack_version) for repo in repos: # TODO: handle tripleo-current-dev url = '%s/%s/delorean.repo' % (rdo_branch, repo) repo_content = self.get_rdo_repo(url) repo_content = self._replace_baseurl(repo_content, MIRROR_MAP_DEFAULT.get('rdo'), self.mirrors.get('rdo')) self.write(repo_content, {}) ",,356,25
openstack%2Ftripleo-heat-templates~master~Icaa0109582b0061470949330205b51f4147fea42,openstack/tripleo-heat-templates,master,Icaa0109582b0061470949330205b51f4147fea42,"Add Skiplist parameters, deprecate Blacklist parameters",ABANDONED,2020-07-01 14:30:17.000000000,2021-08-10 19:09:01.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-01 14:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/249f92e7a3b17265d6bd865b431a6268dd1977f6', 'message': 'Add Skiplist parameters, deprecate Blacklist parameters\n\n* `DeploymentServerBlacklist` has been deprecated. Use\n  `DeploymentServerSkiplist` instead.\n* `DeploymentServerBlacklistDict` has been deprecated. Use\n  `DeploymentServerSkiplistDict` instead.\n* `BlacklistedIpAddresses` stack output has been deprecated. Use\n  `SkiplistIpAddresses` instead.\n* `BlacklistedHostnames` stack output has been deprecated. Use\n  `SkiplistHostnames` instead.\n\nChange-Id: Icaa0109582b0061470949330205b51f4147fea42\n'}, {'number': 2, 'created': '2020-07-01 18:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a724e4c2991b71629e77dfd0e6aea0c80640db1', 'message': 'Add Skiplist parameters, deprecate Blacklist parameters\n\n* `DeploymentServerBlacklist` has been deprecated. Use\n  `DeploymentServerSkiplist` instead.\n* `DeploymentServerBlacklistDict` has been deprecated. Use\n  `DeploymentServerSkiplistDict` instead.\n* `BlacklistedIpAddresses` stack output has been deprecated. Use\n  `SkiplistIpAddresses` instead.\n* `BlacklistedHostnames` stack output has been deprecated. Use\n  `SkiplistHostnames` instead.\n\nChange-Id: Icaa0109582b0061470949330205b51f4147fea42\n'}, {'number': 3, 'created': '2020-07-01 18:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab9b85cfbebac0b4ff0c49f5f32d5830565ee9e7', 'message': 'Add Skiplist parameters, deprecate Blacklist parameters\n\n* `DeploymentServerBlacklist` has been deprecated. Use\n  `DeploymentServerSkiplist` instead.\n* `DeploymentServerBlacklistDict` has been deprecated. Use\n  `DeploymentServerSkiplistDict` instead.\n* `BlacklistedIpAddresses` stack output has been deprecated. Use\n  `SkiplistIpAddresses` instead.\n* `BlacklistedHostnames` stack output has been deprecated. Use\n  `SkiplistHostnames` instead.\n\nChange-Id: Icaa0109582b0061470949330205b51f4147fea42\n'}, {'number': 4, 'created': '2020-07-01 20:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d9e6f4fe02567b0a29f0943b6b59299ca67c171', 'message': 'Add Skiplist parameters, deprecate Blacklist parameters\n\n* `DeploymentServerBlacklist` has been deprecated. Use\n  `DeploymentServerSkiplist` instead.\n* `DeploymentServerBlacklistDict` has been deprecated. Use\n  `DeploymentServerSkiplistDict` instead.\n* `BlacklistedIpAddresses` stack output has been deprecated. Use\n  `SkiplistIpAddresses` instead.\n* `BlacklistedHostnames` stack output has been deprecated. Use\n  `SkiplistHostnames` instead.\n\nChange-Id: Icaa0109582b0061470949330205b51f4147fea42\n'}, {'number': 5, 'created': '2020-07-02 15:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe076cf09bec090bdf0e2883d8688a2376ac08f9', 'message': 'Add Skiplist parameters, deprecate Blacklist parameters\n\n* `DeploymentServerBlacklist` has been deprecated. Use\n  `DeploymentServerSkiplist` instead.\n* `DeploymentServerBlacklistDict` has been deprecated. Use\n  `DeploymentServerSkiplistDict` instead.\n* `BlacklistedIpAddresses` stack output has been deprecated. Use\n  `SkiplistIpAddresses` instead.\n* `BlacklistedHostnames` stack output has been deprecated. Use\n  `SkiplistHostnames` instead.\n\nChange-Id: Icaa0109582b0061470949330205b51f4147fea42\n'}, {'number': 6, 'created': '2020-07-03 13:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b080e73bd1ab6e287506ef530b131409b676297e', 'message': 'Add Skiplist parameters, deprecate Blacklist parameters\n\n* `DeploymentServerBlacklist` has been deprecated. Use\n  `DeploymentServerSkiplist` instead.\n* `DeploymentServerBlacklistDict` has been deprecated. Use\n  `DeploymentServerSkiplistDict` instead.\n* `BlacklistedIpAddresses` stack output has been deprecated. Use\n  `SkiplistIpAddresses` instead.\n* `BlacklistedHostnames` stack output has been deprecated. Use\n  `SkiplistHostnames` instead.\n\nChange-Id: Icaa0109582b0061470949330205b51f4147fea42\n'}, {'number': 7, 'created': '2020-07-05 20:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c88a1ac036d8f5c10b8817f10eb207598c9ef4b2', 'message': 'Add Skiplist parameters, deprecate Blacklist parameters\n\n* `DeploymentServerBlacklist` has been deprecated. Use\n  `DeploymentServerSkiplist` instead.\n* `DeploymentServerBlacklistDict` has been deprecated. Use\n  `DeploymentServerSkiplistDict` instead.\n* `BlacklistedIpAddresses` stack output has been deprecated. Use\n  `SkiplistIpAddresses` instead.\n* `BlacklistedHostnames` stack output has been deprecated. Use\n  `SkiplistHostnames` instead.\n\nChange-Id: Icaa0109582b0061470949330205b51f4147fea42\n'}, {'number': 8, 'created': '2020-07-14 15:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09a9e514cd48c9938a9a592c104521d90f491555', 'message': 'Add Skiplist parameters, deprecate Blacklist parameters\n\n* `DeploymentServerBlacklist` has been deprecated. Use\n  `DeploymentServerSkiplist` instead.\n* `DeploymentServerBlacklistDict` has been deprecated. Use\n  `DeploymentServerSkiplistDict` instead.\n* `BlacklistedIpAddresses` stack output has been deprecated. Use\n  `SkiplistIpAddresses` instead.\n* `BlacklistedHostnames` stack output has been deprecated. Use\n  `SkiplistHostnames` instead.\n\nChange-Id: Icaa0109582b0061470949330205b51f4147fea42\n'}, {'number': 9, 'created': '2020-07-14 16:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f4466c0cd117027f7fbaa4615cda3321f2ecde6', 'message': 'Add Skiplist parameters, deprecate Blacklist parameters\n\n* `DeploymentServerBlacklist` has been deprecated. Use\n  `DeploymentServerSkiplist` instead.\n* `DeploymentServerBlacklistDict` has been deprecated. Use\n  `DeploymentServerSkiplistDict` instead.\n* `BlacklistedIpAddresses` stack output has been deprecated. Use\n  `SkiplistIpAddresses` instead.\n* `BlacklistedHostnames` stack output has been deprecated. Use\n  `SkiplistHostnames` instead.\n\nChange-Id: Icaa0109582b0061470949330205b51f4147fea42\n'}, {'number': 10, 'created': '2020-09-09 20:36:03.000000000', 'files': ['releasenotes/notes/blacklist-parameter-deprecated-a4f52334f7b0e3be.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b30ee610b6864274a5850019172a11c84a906e15', 'message': 'Add Skiplist parameters, deprecate Blacklist parameters\n\n* `DeploymentServerBlacklist` has been deprecated. Use\n  `DeploymentServerSkiplist` instead.\n* `DeploymentServerBlacklistDict` has been deprecated. Use\n  `DeploymentServerSkiplistDict` instead.\n* `BlacklistedIpAddresses` stack output has been deprecated. Use\n  `SkiplistIpAddresses` instead.\n* `BlacklistedHostnames` stack output has been deprecated. Use\n  `SkiplistHostnames` instead.\n\nChange-Id: Icaa0109582b0061470949330205b51f4147fea42\n'}]",6,738858,b30ee610b6864274a5850019172a11c84a906e15,40,9,10,14985,,,0,"Add Skiplist parameters, deprecate Blacklist parameters

* `DeploymentServerBlacklist` has been deprecated. Use
  `DeploymentServerSkiplist` instead.
* `DeploymentServerBlacklistDict` has been deprecated. Use
  `DeploymentServerSkiplistDict` instead.
* `BlacklistedIpAddresses` stack output has been deprecated. Use
  `SkiplistIpAddresses` instead.
* `BlacklistedHostnames` stack output has been deprecated. Use
  `SkiplistHostnames` instead.

Change-Id: Icaa0109582b0061470949330205b51f4147fea42
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/738858/10 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'releasenotes/notes/backlist-parameter-deprecated-a4f52334f7b0e3be.yaml', 'deployment/ceph-ansible/ceph-base.yaml']",4,249f92e7a3b17265d6bd865b431a6268dd1977f6,skiplist," DeploymentServerSkiplist: DeploymentServerBlacklist: default: [] type: comma_delimited_list description: > DEPRECATED - List of server hostnames to blacklist from any triggered deployments. Use DeploymentServerSkiplist instead skip_list_is_not_set: {equals: [{get_param: DeploymentServerSkiplist}, []]) blacklisted_hostnames: - if: - skip_list_is_not_set - {get_param: DeploymentServerBlacklist} - {get_param: DeploymentServerSkiplist}", DeploymentServerBlacklist: blacklisted_hostnames: {get_param: DeploymentServerBlacklist},105,8
openstack%2Ftripleo-ci~master~Ia76f8f181c938dd0c8778898e9cdccf712ec91c0,openstack/tripleo-ci,master,Ia76f8f181c938dd0c8778898e9cdccf712ec91c0,Create dummy interface for standalone,ABANDONED,2020-10-13 15:27:48.000000000,2021-08-10 19:08:43.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-13 15:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dc85236c121349d5dcddb88ef04e9b8cf5c7b614', 'message': ""Create dummy interface for standalone\n\nCurrently we're relying on a br-ex bridge created as part of a multinode\nconfiguration for the standalone deployment. This causes issues when we\nconfigure openvswitch later as part of the deployment. Rather than\nhaving CI handle this, we an create a dummy net interface to use\ninstead.\n\nChange-Id: Ia76f8f181c938dd0c8778898e9cdccf712ec91c0\nRelated-Bug: #1895822\n""}, {'number': 2, 'created': '2020-10-13 15:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b54e73dc7e775af4498ceb7e35b580c45999c5da', 'message': ""Create dummy interface for standalone\n\nCurrently we're relying on a br-ex bridge created as part of a multinode\nconfiguration for the standalone deployment. This causes issues when we\nconfigure openvswitch later as part of the deployment. Rather than\nhaving CI handle this, we an create a dummy net interface to use\ninstead.\n\nChange-Id: Ia76f8f181c938dd0c8778898e9cdccf712ec91c0\nRelated-Bug: #1895822\n""}, {'number': 3, 'created': '2020-10-13 15:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/307086ad682531c19529c8b2cbb8b9ff729719bb', 'message': ""Create dummy interface for standalone\n\nCurrently we're relying on a br-ex bridge created as part of a multinode\nconfiguration for the standalone deployment. This causes issues when we\nconfigure openvswitch later as part of the deployment. Rather than\nhaving CI handle this, we an create a dummy net interface to use\ninstead.\n\nChange-Id: Ia76f8f181c938dd0c8778898e9cdccf712ec91c0\nRelated-Bug: #1895822\n""}, {'number': 4, 'created': '2020-10-13 18:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3a4a5f32c83a42fff8e995314ea9ae1e8ac7a3fe', 'message': ""Create dummy interface for standalone\n\nCurrently we're relying on a br-ex bridge created as part of a multinode\nconfiguration for the standalone deployment. This causes issues when we\nconfigure openvswitch later as part of the deployment. Rather than\nhaving CI handle this, we an create a dummy net interface to use\ninstead.\n\nChange-Id: Ia76f8f181c938dd0c8778898e9cdccf712ec91c0\nRelated-Bug: #1895822\n""}, {'number': 5, 'created': '2020-10-14 16:05:20.000000000', 'files': ['roles/dummy-network-interface/README.rst', 'roles/dummy-network-interface/tasks/main.yml', 'roles/dummy-network-interface/defaults/main.yml', 'zuul.d/base.yaml', 'playbooks/standalone/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7a52c6743bbe3a8a63eccdec8e20743d4815e165', 'message': ""Create dummy interface for standalone\n\nCurrently we're relying on a br-ex bridge created as part of a multinode\nconfiguration for the standalone deployment. This causes issues when we\nconfigure openvswitch later as part of the deployment. Rather than\nhaving CI handle this, we an create a dummy net interface to use\ninstead.\n\nChange-Id: Ia76f8f181c938dd0c8778898e9cdccf712ec91c0\nRelated-Bug: #1895822\n""}]",0,757895,7a52c6743bbe3a8a63eccdec8e20743d4815e165,12,3,5,14985,,,0,"Create dummy interface for standalone

Currently we're relying on a br-ex bridge created as part of a multinode
configuration for the standalone deployment. This causes issues when we
configure openvswitch later as part of the deployment. Rather than
having CI handle this, we an create a dummy net interface to use
instead.

Change-Id: Ia76f8f181c938dd0c8778898e9cdccf712ec91c0
Related-Bug: #1895822
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/95/757895/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/dummy-network-interface/README.rst', 'roles/dummy-network-interface/tasks/main.yml', 'roles/dummy-network-interface/defaults/main.yml', 'zuul.d/base.yaml', 'playbooks/standalone/pre.yaml']",5,dc85236c121349d5dcddb88ef04e9b8cf5c7b614,bug/1895822,- name: Configure a dummy network interface hosts: all tasks: - name: Setup dummy network interface include_role: name: dummy-network-interface - name: Copy the build ssh key to authorized_keys on all hosts for root hosts: all roles: - copy-build-sshkey ,,111,1
openstack%2Fcharm-watcher~master~I109cb91f4d05cb4c57653edf294e0c47cfc43a99,openstack/charm-watcher,master,I109cb91f4d05cb4c57653edf294e0c47cfc43a99,Replace reference to 'juju set' with 'juju config'.,MERGED,2021-08-06 17:38:06.000000000,2021-08-10 19:06:41.000000000,2021-08-10 19:06:41.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-08-06 17:38:06.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/130399ec04ce56e42d92a55670342407b3b6848b', 'message': ""Replace reference to 'juju set' with 'juju config'.\n\nChange-Id: I109cb91f4d05cb4c57653edf294e0c47cfc43a99\n""}]",0,803797,130399ec04ce56e42d92a55670342407b3b6848b,6,2,1,30028,,,0,"Replace reference to 'juju set' with 'juju config'.

Change-Id: I109cb91f4d05cb4c57653edf294e0c47cfc43a99
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/97/803797/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,130399ec04ce56e42d92a55670342407b3b6848b,juju-config-not-set, juju config watcher vip=<VIP FOR ACCESS>, juju set watcher vip=<VIP FOR ACCESS>,1,1
openstack%2Fglance~master~I5f2a406e31b706906b71ea5ecb4f1a53674c97fa,openstack/glance,master,I5f2a406e31b706906b71ea5ecb4f1a53674c97fa,Check delete_image policy in the API,MERGED,2021-06-25 10:47:50.000000000,2021-08-10 18:48:06.000000000,2021-08-10 18:46:07.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-25 10:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7f91286e3a1d563c8b4e8f5005201f6b4363ab15', 'message': ""WIP: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 2, 'created': '2021-06-28 17:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/834cd5188e9edb9e91d3c2bc00d8edb68e6d6d8c', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 3, 'created': '2021-07-02 14:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5bb0c1c82f3bd5cc6f39192573ed8f6f59955acf', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 4, 'created': '2021-07-02 15:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/08799645179ef19f118ef7e0b1dc6aff066f04da', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 5, 'created': '2021-07-06 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cb370df23783706ab508f830cc1c52635a293231', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 6, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8f1cbffd8aa021ecb06bfb686cd025ba113e895a', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 7, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b8b0bdf2c01c42c6af8ef09d5536782fdeba6ea9', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 8, 'created': '2021-07-16 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/344d9b748c54bec7f560336c294ae55db723ed9b', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 9, 'created': '2021-07-16 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e92f35aadb7b0e8faefc3c1efbbda65677a5c178', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 10, 'created': '2021-07-16 17:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3c5018069f6bbc2b122d2101f5e21e08efd7d50c', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 11, 'created': '2021-07-16 18:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4e4f30c0fd40e212b4c82cf0819d68ca5972e898', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 12, 'created': '2021-07-19 19:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/acb7a9138b7e8d31f7d77fe7874d21a944164019', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 13, 'created': '2021-07-20 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/89058ef54312757bf20153d86906a957b09c0eb1', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 14, 'created': '2021-07-20 18:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e22625ecad97affc0ee354ec7420866f9ee51960', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 15, 'created': '2021-07-26 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c35ad34842c7c69d618629bbeccf9cfa3b4d7a5d', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 16, 'created': '2021-07-27 18:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/83bc594075d95af4fbae20b241b3a4b52c0ed389', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 17, 'created': '2021-07-28 15:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f3ba73a6f301ffaafd9eedddcdf883dbbd6ba8b6', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 18, 'created': '2021-08-02 17:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/17babe66803efdfbba4bbeb3b56a86904078a3fd', 'message': ""POC: Check delete_image policy in the API\n\nNOTE:Didn't modified any tests yet. Need to decide about\nauthorization=False as we are mocking authorization in remote\n(distirbuted import) releated tests.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 19, 'created': '2021-08-03 18:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/49733dbdf48fdd275ee904f02954fbc6ad01c7a0', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 20, 'created': '2021-08-03 18:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dea97575037e51a59c8ab99a13d890f748ece2ef', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 21, 'created': '2021-08-03 18:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f4a859a5fe5135dab690890315a520c08bc16cac', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 22, 'created': '2021-08-03 18:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/54f2ccf1d69b6f8afcd7065ecd033687cfc06cf9', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 23, 'created': '2021-08-03 18:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/164f9c1051e20e7b5c566493ec70b92f2d4e15c1', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 24, 'created': '2021-08-04 13:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/925cf279e2ab9ef5b5b3f765d9846937803be438', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 25, 'created': '2021-08-04 14:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/71db2841bb31325a6e13129af9f457d301716fd6', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 26, 'created': '2021-08-04 17:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1eedb2bcd53608021721a748ac6b8fb237128ce9', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 27, 'created': '2021-08-06 15:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d3577c79d59fef3234183e06003e38d1f331af88', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 28, 'created': '2021-08-06 16:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c710ee855bc3688fdb2612f72f1c859ebea34bcb', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 29, 'created': '2021-08-10 14:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9d5be517a998bf6491bc8934ef2a45bcba4691b9', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}, {'number': 30, 'created': '2021-08-10 15:11:25.000000000', 'files': ['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c87bfbbcd7d14e8d7aeba9026b7fc62d4e768300', 'message': ""Check delete_image policy in the API\n\nNote that this adds a clause to the delete exception handler which\nreturns 404 if the user can't delete the image via policy, but leaves\nthe existing internal forbidden->403 handler because of how image\nproperty protections work.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa\n""}]",10,798073,c87bfbbcd7d14e8d7aeba9026b7fc62d4e768300,74,4,30,9303,,,0,"Check delete_image policy in the API

Note that this adds a clause to the delete exception handler which
returns 404 if the user can't delete the image via policy, but leaves
the existing internal forbidden->403 handler because of how image
property protections work.

Partially-Implements: blueprint policy-refactor

Change-Id: I5f2a406e31b706906b71ea5ecb4f1a53674c97fa
",git fetch https://review.opendev.org/openstack/glance refs/changes/73/798073/11 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/api/v2/policy.py']",2,7f91286e3a1d563c8b4e8f5005201f6b4363ab15,bp/policy-refactor, def delete_image(self): self._enforce('delete_image'),,13,0
openstack%2Fopenstack-tempest-skiplist~master~Ic927a829809ddec18602f0eca98072c16f75e5bf,openstack/openstack-tempest-skiplist,master,Ic927a829809ddec18602f0eca98072c16f75e5bf,need to skip NFShares for v/u/t,MERGED,2021-08-10 18:05:50.000000000,2021-08-10 18:38:01.000000000,2021-08-10 18:36:34.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 18:05:50.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/4ecbd0b978eb9a68d9ffe12ff7ca3e8fd7c9d7e1', 'message': 'need to skip NFShares for v/u/t\n\nRelated-Bug: #1934879\nChange-Id: Ic927a829809ddec18602f0eca98072c16f75e5bf\n'}]",0,804124,4ecbd0b978eb9a68d9ffe12ff7ca3e8fd7c9d7e1,8,3,1,9592,,,0,"need to skip NFShares for v/u/t

Related-Bug: #1934879
Change-Id: Ic927a829809ddec18602f0eca98072c16f75e5bf
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/24/804124/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,4ecbd0b978eb9a68d9ffe12ff7ca3e8fd7c9d7e1,, - periodic-tripleo-ci-centos-8-scenario004-standalone-glance-victoria - periodic-tripleo-ci-centos-8-scenario004-standalone-glance-ussuri - periodic-tripleo-ci-centos-8-scenario004-standalone-glance-train,,3,0
openstack%2Fglance~master~I89785ae04e7f66651a1b9673f7e5513c2eac10fc,openstack/glance,master,I89785ae04e7f66651a1b9673f7e5513c2eac10fc,Add check_is_image_mutable() legacy helper,MERGED,2021-08-06 15:53:55.000000000,2021-08-10 18:27:30.000000000,2021-08-10 18:25:21.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 15:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bff5d342dc4dbc98b8385dd7ee9abdb9ec0c0ce7', 'message': 'Add check_is_image_mutable() legacy helper\n\nThis adds a method to let API code replicate the legacy admin-or-owner\nbehavior where needed. Since the authorization layer does this in\nsome places (which is being removed) and the DB does it in others,\nwe need a way to replicate that check when secure_rbac is not in use\nfor certain code paths (like image delete) which need it.\n\nChange-Id: I89785ae04e7f66651a1b9673f7e5513c2eac10fc\nPartially-implements: blueprint policy-refactor\n'}, {'number': 2, 'created': '2021-08-10 14:50:11.000000000', 'files': ['glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/39198f93f83d58ec67708e1a5bd35148faf7fe0f', 'message': 'Add check_is_image_mutable() legacy helper\n\nThis adds a method to let API code replicate the legacy admin-or-owner\nbehavior where needed. Since the authorization layer does this in\nsome places (which is being removed) and the DB does it in others,\nwe need a way to replicate that check when secure_rbac is not in use\nfor certain code paths (like image delete) which need it.\n\nChange-Id: I89785ae04e7f66651a1b9673f7e5513c2eac10fc\nPartially-implements: blueprint policy-refactor\n'}]",4,803776,39198f93f83d58ec67708e1a5bd35148faf7fe0f,15,3,2,4393,,,0,"Add check_is_image_mutable() legacy helper

This adds a method to let API code replicate the legacy admin-or-owner
behavior where needed. Since the authorization layer does this in
some places (which is being removed) and the DB does it in others,
we need a way to replicate that check when secure_rbac is not in use
for certain code paths (like image delete) which need it.

Change-Id: I89785ae04e7f66651a1b9673f7e5513c2eac10fc
Partially-implements: blueprint policy-refactor
",git fetch https://review.opendev.org/openstack/glance refs/changes/76/803776/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py']",2,bff5d342dc4dbc98b8385dd7ee9abdb9ec0c0ce7,bp/policy-refactor," def test_check_is_image_mutable(self): context = mock.MagicMock() image = mock.MagicMock() # Admin always wins context.is_admin = True context.owner = 'someuser' policy.check_is_image_mutable(context, image) # Image has no owner is never mutable by non-admins context.is_admin = False image.owner = None self.assertRaises(exception.Forbidden, policy.check_is_image_mutable, context, image) # Not owner is not mutable image.owner = 'someoneelse' self.assertRaises(exception.Forbidden, policy.check_is_image_mutable, context, image) # No project in context means not mutable image.owner = 'someoneelse' context.owner = None self.assertRaises(exception.Forbidden, policy.check_is_image_mutable, context, image) # Context matches image owner is mutable image.owner = 'someuser' context.owner = 'someuser' policy.check_is_image_mutable(context, image) ",,63,0
openstack%2Fopenstack-ansible~stable%2Fvictoria~I143fa2c915763b186daa7d2a43cc023f836351d9,openstack/openstack-ansible,stable/victoria,I143fa2c915763b186daa7d2a43cc023f836351d9,Bump OpenStack-Ansible Victoria,MERGED,2021-07-31 05:07:02.000000000,2021-08-10 18:06:47.000000000,2021-08-10 18:05:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-31 05:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c0fa5c3a0c601b185b05d748127eb2c93a3c7ef3', 'message': 'Bump OpenStack-Ansible Victoria\n\nChange-Id: I143fa2c915763b186daa7d2a43cc023f836351d9\n'}, {'number': 2, 'created': '2021-08-09 12:30:58.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/role-cleanup-e709b66675dcda60.yaml', 'releasenotes/notes/victoria-bionic-focal-upgrade-48484c5904d5bfc4.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/378a4d834d760ad4f3b242e843bf517da0f95fca', 'message': 'Bump OpenStack-Ansible Victoria\n\nChange-Id: I143fa2c915763b186daa7d2a43cc023f836351d9\n'}]",0,803098,378a4d834d760ad4f3b242e843bf517da0f95fca,10,3,2,28619,,,0,"Bump OpenStack-Ansible Victoria

Change-Id: I143fa2c915763b186daa7d2a43cc023f836351d9
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/98/803098/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/role-cleanup-e709b66675dcda60.yaml', 'releasenotes/notes/victoria-bionic-focal-upgrade-48484c5904d5bfc4.yaml', 'ansible-role-requirements.yml']",6,c0fa5c3a0c601b185b05d748127eb2c93a3c7ef3,bump_osa, version: 8a9b9622d5225177891bf0fa14b4b37b8c5fb379 version: 82e43fd53c89303a7477189e6914bbb0c78fbe9c version: fc0eedf9de8a4024b51abbe5771234f89b5bfa32 version: bb03f36108a6b92de9d6eaef27583ebc10457f83 version: 59df1e9b9f63c8dcdafc5a60de3ad960a947d703 version: 1eaa626c62cba3b2414f44a2b161ce33dc16dee7 version: 387a3e243f730bd84156db3d4a55ebcf2f8cdf15 version: 94805d0a6a8c6daacbb08ae5ec970a89f0aeee1c version: dfb635b7f7a82ccbe23c45a281dda12c222ce663 version: bd355fc461b5adc82d2478c93e908b05a5edb847 version: d7edc71fd557d18531c90b803159b7d526156c1c, version: 57efa55efbc1d16ee1538786c93af27d916d4039 version: 5b3c58d188be0cc5b4ae9c52558bd5d388a22138 version: c1cff6dfdcbd21f71679f880cdeafb2bc336f6d9 version: a4bb13e134440b66ad316d41ef345e81939b1d9b version: 68dd71fb1c886024432fdbdabb31b698933a98d6 version: 7d0165d3cf01a3b96f838e54cd882005dc73ea36 version: 11d6eb550e83fcf34306fd19dee2ba6f987dfaec version: 82e24bf17b68d776cb350fce22e86f96e910fbef version: fa3ee657dbbeed46b9fc8f99c9146eeebe7f1f39 version: 1f88fc7b620c377ad1237688204a0d86035389fb version: ac0a5c1e682e0a6e6c67d7c3c630b1da110785bb,89,70
openstack%2Fopenstack-ansible~stable%2Fussuri~Ia50ce873b057b3ddff11bf56d6945be685833184,openstack/openstack-ansible,stable/ussuri,Ia50ce873b057b3ddff11bf56d6945be685833184,Bump OpenStack-Ansible Ussuri,MERGED,2021-07-31 05:24:27.000000000,2021-08-10 18:00:06.000000000,2021-08-10 17:58:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-31 05:24:27.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b903330d484d28f43ab1139889a104daddc3cdea', 'message': 'Bump OpenStack-Ansible Ussuri\n\nChange-Id: Ia50ce873b057b3ddff11bf56d6945be685833184\n'}]",0,803099,b903330d484d28f43ab1139889a104daddc3cdea,8,3,1,28619,,,0,"Bump OpenStack-Ansible Ussuri

Change-Id: Ia50ce873b057b3ddff11bf56d6945be685833184
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/803099/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,b903330d484d28f43ab1139889a104daddc3cdea,bump_osa, version: b8154166bf7c91502b9f088261f0ec409cccc5d1 version: 56d533d7600943af7bd45e90d90830ee9c3eb39f, version: 9b75e5071520533bd0e5083029dd344d16beafcc version: e970ca0038820ab5c6573e45bfcacc834866b21d,53,53
openstack%2Fcinder~master~I81c1e0a9dbc5b9e3d1c4e945756b268cfc562895,openstack/cinder,master,I81c1e0a9dbc5b9e3d1c4e945756b268cfc562895,Add openstacksdk-functional-devstack job in cinder gate,MERGED,2021-07-22 15:47:57.000000000,2021-08-10 17:52:58.000000000,2021-08-10 17:48:43.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-22 15:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/772f39b44f995a19e8d14b90838e0fd082003a87', 'message': 'Add openstacksdk-functional-devstack job in cinder gate\n\nWith cinderv2 API removal, openstacksdk-functional-devstack\nwas broken(depends-on) which was running the v2 test. Having\nthis job running in cinder gate like Nova and other project\nwill help to find such issue in future especially about client side\nimpact on any code change.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/801872\nChange-Id: I81c1e0a9dbc5b9e3d1c4e945756b268cfc562895\n'}, {'number': 2, 'created': '2021-07-22 18:18:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/68542650859593d720d07172123f6fdc43f3119f', 'message': 'Add openstacksdk-functional-devstack job in cinder gate\n\nWith cinderv2 API removal, openstacksdk-functional-devstack\nwas broken(depends-on) which was running the v2 test. Having\nthis job running in cinder gate like Nova and other project\nwill help to find such issue in future especially about client side\nimpact on any code change.\n\nChange-Id: I81c1e0a9dbc5b9e3d1c4e945756b268cfc562895\n'}]",0,801875,68542650859593d720d07172123f6fdc43f3119f,51,7,2,8556,,,0,"Add openstacksdk-functional-devstack job in cinder gate

With cinderv2 API removal, openstacksdk-functional-devstack
was broken(depends-on) which was running the v2 test. Having
this job running in cinder gate like Nova and other project
will help to find such issue in future especially about client side
impact on any code change.

Change-Id: I81c1e0a9dbc5b9e3d1c4e945756b268cfc562895
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/801875/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,772f39b44f995a19e8d14b90838e0fd082003a87,, - openstacksdk-functional-devstack: irrelevant-files: *gate-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *gate-irrelevant-files,,4,0
openstack%2Fglance~master~If9e23cbded044b3600960a847c17737d5d23a451,openstack/glance,master,If9e23cbded044b3600960a847c17737d5d23a451,Refactor gateway auth layer for metadef APIs,MERGED,2021-07-06 10:51:18.000000000,2021-08-10 17:52:57.000000000,2021-08-10 17:48:40.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ae4a06be9e60d22983bdef79762f59b294c80ec5', 'message': 'POC Refactor gateway auth layer for metadef APIs\n\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n'}, {'number': 2, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/88827835ecc3610c6d26683e0e96a64f80610bd4', 'message': 'POC Refactor gateway auth layer for metadef APIs\n\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n'}, {'number': 3, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/37aab818b076cc438136079eb0b307c17d79fd25', 'message': 'POC Refactor gateway auth layer for metadef APIs\n\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n'}, {'number': 4, 'created': '2021-07-16 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f585fef0335c6728b6eee6529c5bc8c2aceb67f6', 'message': 'POC Refactor gateway auth layer for metadef APIs\n\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n'}, {'number': 5, 'created': '2021-07-16 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1fe03887679c8c37479f4bb0d550f01c4007d9cc', 'message': 'POC Refactor gateway auth layer for metadef APIs\n\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n'}, {'number': 6, 'created': '2021-07-22 09:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e8542b36577473fc9115aa65b9c5b5f13a0a5fb4', 'message': ""Refactor gateway auth layer for metadef APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n""}, {'number': 7, 'created': '2021-07-22 18:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a6f3adf910c05262d301e9569e8da989ead704bc', 'message': ""Refactor gateway auth layer for metadef APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n""}, {'number': 8, 'created': '2021-08-02 08:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/00f11f5a7c2584c4c611491c399aface56c37559', 'message': ""Refactor gateway auth layer for metadef APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n""}, {'number': 9, 'created': '2021-08-04 15:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0cc8190d0edef73ffa7ee64c527e2d083cbb8bd1', 'message': ""Refactor gateway auth layer for metadef APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n""}, {'number': 10, 'created': '2021-08-05 11:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1acf6e6faaf95d1359a15bf042d826b3332db710', 'message': ""Refactor gateway auth layer for metadef APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n""}, {'number': 11, 'created': '2021-08-05 19:02:40.000000000', 'files': ['glance/gateway.py', 'glance/tests/unit/test_gateway.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2943741c8600bd1bd1e91c3310fb36630a368d23', 'message': ""Refactor gateway auth layer for metadef APIs\n\nThis makes us able to optionally not get the authorization layer on\ntop of the stack. It also don't insert the policy layer in the\nmiddle of the stack.\n\nRelated blueprint policy-refactor\n\nChange-Id: If9e23cbded044b3600960a847c17737d5d23a451\n""}]",0,799632,2943741c8600bd1bd1e91c3310fb36630a368d23,43,5,11,9303,,,0,"Refactor gateway auth layer for metadef APIs

This makes us able to optionally not get the authorization layer on
top of the stack. It also don't insert the policy layer in the
middle of the stack.

Related blueprint policy-refactor

Change-Id: If9e23cbded044b3600960a847c17737d5d23a451
",git fetch https://review.opendev.org/openstack/glance refs/changes/32/799632/8 && git format-patch -1 --stdout FETCH_HEAD,"['glance/gateway.py', 'glance/tests/unit/test_gateway.py']",2,ae4a06be9e60d22983bdef79762f59b294c80ec5,policy-refactor," @mock.patch('glance.api.policy.MetadefNamespaceRepoProxy') def test_get_namespace_repo(self, mock_proxy): repo = self.gateway.get_metadef_namespace_repo(self.context) self.assertIsInstance(repo, authorization.MetadefNamespaceRepoProxy) mock_proxy.assert_called_once_with(mock.ANY, mock.sentinel.context, mock.ANY) @mock.patch('glance.api.policy.MetadefNamespaceFactoryProxy') def test_get_namespace_repo_without_auth(self, mock_proxy): repo = self.gateway.get_metadef_namespace_repo( self.context, authorization_layer=False) self.assertIsInstance(repo, notifier.MetadefNamespaceRepoProxy) mock_proxy.assert_not_called() @mock.patch('glance.api.policy.MetadefObjectRepoProxy') def test_get_object_repo(self, mock_proxy): repo = self.gateway.get_metadef_object_repo(self.context) self.assertIsInstance(repo, authorization.MetadefObjectRepoProxy) mock_proxy.assert_called_once_with(mock.ANY, mock.sentinel.context, mock.ANY) @mock.patch('glance.api.policy.MetadefObjectRepoProxy') def test_get_object_repo_without_auth(self, mock_proxy): repo = self.gateway.get_metadef_object_repo( self.context, authorization_layer=False) self.assertIsInstance(repo, notifier.MetadefObjectRepoProxy) mock_proxy.assert_not_called() @mock.patch('glance.api.policy.MetadefResourceTypeRepoProxy') def test_get_resourcetype_repo(self, mock_proxy): repo = self.gateway.get_metadef_resource_type_repo(self.context) self.assertIsInstance(repo, authorization.MetadefResourceTypeRepoProxy) mock_proxy.assert_called_once_with(mock.ANY, mock.sentinel.context, mock.ANY) @mock.patch('glance.api.policy.MetadefResourceTypeRepoProxy') def test_get_resourcetype_repo_without_auth(self, mock_proxy): repo = self.gateway.get_metadef_resource_type_repo( self.context, authorization_layer=False) self.assertIsInstance(repo, notifier.MetadefResourceTypeRepoProxy) mock_proxy.assert_not_called() @mock.patch('glance.api.policy.MetadefPropertyRepoProxy') def test_get_property_repo(self, mock_proxy): repo = self.gateway.get_metadef_property_repo(self.context) self.assertIsInstance(repo, authorization.MetadefPropertyRepoProxy) mock_proxy.assert_called_once_with(mock.ANY, mock.sentinel.context, mock.ANY) @mock.patch('glance.api.policy.MetadefPropertyRepoProxy') def test_get_property_repo_without_auth(self, mock_proxy): repo = self.gateway.get_metadef_property_repo( self.context, authorization_layer=False) self.assertIsInstance(repo, notifier.MetadefPropertyRepoProxy) mock_proxy.assert_not_called() @mock.patch('glance.api.policy.MetadefTagRepoProxy') def test_get_tag_repo(self, mock_proxy): repo = self.gateway.get_metadef_tag_repo(self.context) self.assertIsInstance(repo, authorization.MetadefTagRepoProxy) mock_proxy.assert_called_once_with(mock.ANY, mock.sentinel.context, mock.ANY) @mock.patch('glance.api.policy.MetadefTagRepoProxy') def test_get_tag_repo_without_auth(self, mock_proxy): repo = self.gateway.get_metadef_tag_repo( self.context, authorization_layer=False) self.assertIsInstance(repo, notifier.MetadefTagRepoProxy) mock_proxy.assert_not_called()",,186,45
openstack%2Fironic~bugfix%2F18.1~I81907be1ebc293118f5ffde4fd4d0485ade390df,openstack/ironic,bugfix/18.1,I81907be1ebc293118f5ffde4fd4d0485ade390df,Fix subscription vendor passthru,MERGED,2021-08-06 10:04:44.000000000,2021-08-10 17:11:34.000000000,2021-08-10 17:09:34.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-06 10:04:44.000000000', 'files': ['releasenotes/notes/fix-subscription-vendor-passthru-5a9af3613c0cbebc.yaml', 'ironic/drivers/modules/redfish/vendor.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/669f62ddfcf0f94da5f1d254d86a1d34673d64dd', 'message': ""Fix subscription vendor passthru\n\n* Instead of specifying the fields we want to oomit from create/get\nsubscription, now we are specifying the fields we want to be returned\n(This will avoid problems when vendors are using different versions)\n\n* When validating create_subscription are requiring that Context and\nProtocol are present, use the default value from Redfish in case\nthey are not present in the Body request.\n\n* When trying to delete a subscription that doesn't exist Ironic\nreturns 500 (default code from IronicException), this commit updates\nthe code to 404 to show that the subscription doesn't exist.\n\nChange-Id: I81907be1ebc293118f5ffde4fd4d0485ade390df\n(cherry picked from commit a8bbfae5aaf66284bc2a060d7a90ac9384eeb34d)\n""}]",0,803678,669f62ddfcf0f94da5f1d254d86a1d34673d64dd,15,3,1,15519,,,0,"Fix subscription vendor passthru

* Instead of specifying the fields we want to oomit from create/get
subscription, now we are specifying the fields we want to be returned
(This will avoid problems when vendors are using different versions)

* When validating create_subscription are requiring that Context and
Protocol are present, use the default value from Redfish in case
they are not present in the Body request.

* When trying to delete a subscription that doesn't exist Ironic
returns 500 (default code from IronicException), this commit updates
the code to 404 to show that the subscription doesn't exist.

Change-Id: I81907be1ebc293118f5ffde4fd4d0485ade390df
(cherry picked from commit a8bbfae5aaf66284bc2a060d7a90ac9384eeb34d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/803678/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-subscription-vendor-passthru-5a9af3613c0cbebc.yaml', 'ironic/drivers/modules/redfish/vendor.py']",2,669f62ddfcf0f94da5f1d254d86a1d34673d64dd,fix_http_code_delete_subscription-bugfix/18.1,"SUBSCRIPTION_COMMON_FIELDS = { 'Id', 'Context', 'Protocol', 'Destination', 'EventTypes' # NOTE(iurygregory): Use defaults values from Redfish in case they # are not present in the args. context = kwargs.get('Context', """") protocol = kwargs.get('Protocol', ""Redfish"") if k in SUBSCRIPTION_COMMON_FIELDS} """"""Delete a subscription. raise exception.RedfishError(error=error_msg, code=404)","SUBSCRIPTION_FIELDS_REMOVE = { '@odata.context', '@odate.etag', '@odata.id', '@odata.type', 'HttpHeaders', 'Oem', 'Name', 'Description' context = kwargs.get('Context') protocol = kwargs.get('Protocol') if k not in SUBSCRIPTION_FIELDS_REMOVE} """"""Creates a subscription. raise exception.RedfishError(error=error_msg)",18,8
openstack%2Ftempest~master~I9b40642365d6f9f65cac19a2c69ad4ff39246cd7,openstack/tempest,master,I9b40642365d6f9f65cac19a2c69ad4ff39246cd7,Always enable application credentials Identity tests,MERGED,2021-08-06 17:05:44.000000000,2021-08-10 17:10:07.000000000,2021-08-10 17:07:58.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 17:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea132437677deb357d86397294c55103b86e0a80', 'message': 'Always enable application credentails Identity tests\n\nThe feature is enabled since Queens, so turn on the testing by default\nand deprecate the option.\n\nChange-Id: I9b40642365d6f9f65cac19a2c69ad4ff39246cd7\n'}, {'number': 2, 'created': '2021-08-09 11:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/27bcf8c19cca6d06696acc20a610d1e8f6858769', 'message': 'Always enable application credentails Identity tests\n\nThe feature is enabled since Queens, so turn on the testing by default\nand deprecate the option.\n\nChange-Id: I9b40642365d6f9f65cac19a2c69ad4ff39246cd7\n'}, {'number': 3, 'created': '2021-08-09 23:05:12.000000000', 'files': ['releasenotes/notes/deprecate-and-enable-identity-application_credentials-1d4eaef4c3c9dcba.yaml', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/18a10b14a4a608bfc81267dd12a52bc09228cb71', 'message': 'Always enable application credentials Identity tests\n\nThe feature is enabled since Queens, so turn on the testing by default\nand deprecate the option.\n\nChange-Id: I9b40642365d6f9f65cac19a2c69ad4ff39246cd7\n'}]",0,803790,18a10b14a4a608bfc81267dd12a52bc09228cb71,13,2,3,10459,,,0,"Always enable application credentials Identity tests

The feature is enabled since Queens, so turn on the testing by default
and deprecate the option.

Change-Id: I9b40642365d6f9f65cac19a2c69ad4ff39246cd7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/90/803790/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,ea132437677deb357d86397294c55103b86e0a80,always-enable-application-credentials," default=True, 'enabled?', deprecated_for_removal=True, deprecated_reason='Application credentials is a default ' 'feature since Queens'),"," # Application credentials is a default feature in Queens. This config # option can removed once Pike is EOL. default=False, 'enabled?'),",5,4
openstack%2Fpuppet-ironic~stable%2Fwallaby~I703e5a74c66a8b927f7edcdba569a729cfb134f9,openstack/puppet-ironic,stable/wallaby,I703e5a74c66a8b927f7edcdba569a729cfb134f9,Add support for policy settings of ironic-inspector,MERGED,2021-08-09 23:09:14.000000000,2021-08-10 17:08:44.000000000,2021-08-10 17:06:51.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 23:09:14.000000000', 'files': ['releasenotes/notes/ironic-inspector-policy-a2573003212dd2be.yaml', 'manifests/inspector.pp', 'manifests/inspector/policy.pp', 'spec/classes/ironic_inspector_policy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/de72c565f1476901b7a4be9d7c7a662199784e81', 'message': 'Add support for policy settings of ironic-inspector\n\nChange-Id: I703e5a74c66a8b927f7edcdba569a729cfb134f9\n(cherry picked from commit 1e45c9952043e14b19c7a546d62dce95331e6123)\n'}]",0,803968,de72c565f1476901b7a4be9d7c7a662199784e81,9,3,1,9816,,,0,"Add support for policy settings of ironic-inspector

Change-Id: I703e5a74c66a8b927f7edcdba569a729cfb134f9
(cherry picked from commit 1e45c9952043e14b19c7a546d62dce95331e6123)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/68/803968/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ironic-inspector-policy-a2573003212dd2be.yaml', 'manifests/inspector.pp', 'manifests/inspector/policy.pp', 'spec/classes/ironic_inspector_policy_spec.rb']",4,de72c565f1476901b7a4be9d7c7a662199784e81,inspector-policy-stable/wallaby,"require 'spec_helper' describe 'ironic::inspector::policy' do shared_examples 'ironic::inspector::policy' do let :params do { :enforce_scope => false, :enforce_new_defaults => false, :policy_path => '/etc/ironic-inspector/policy.yaml', :policy_dirs => '/etc/ironic-inspector/policy.d', :policies => { 'context_is_admin' => { 'key' => 'context_is_admin', 'value' => 'foo:bar' } } } end it 'set up the policies' do is_expected.to contain_openstacklib__policy__base('context_is_admin').with({ :key => 'context_is_admin', :value => 'foo:bar', :file_user => 'root', :file_group => 'ironic', :file_format => 'yaml', }) is_expected.to contain_oslo__policy('ironic_inspector_config').with( :enforce_scope => false, :enforce_new_defaults => false, :policy_file => '/etc/ironic-inspector/policy.yaml', :policy_dirs => '/etc/ironic-inspector/policy.d', ) end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'ironic::inspector::policy' end end end ",,122,0
openstack%2Ftripleo-quickstart-extras~master~I4f9f3f13346761d3dec35844234cb6ae03ad4107,openstack/tripleo-quickstart-extras,master,I4f9f3f13346761d3dec35844234cb6ae03ad4107,Move build-test-packages as a part of undercloud setup,MERGED,2021-05-12 09:24:24.000000000,2021-08-10 16:33:50.000000000,2021-08-10 16:33:50.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-12 09:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/05d917b65ccfa19474ab249b4b9fab3194c4ee9b', 'message': '[WIP] move build-test-packages as a part of undercloud setup\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 2, 'created': '2021-05-12 09:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3b1cd25f8164df9c78fb486712425069ac1ab921', 'message': '[WIP] move build-test-packages as a part of undercloud setup\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 3, 'created': '2021-05-12 10:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0af3919ae85bb40d224e99e78688f754269892ac', 'message': '[WIP] move build-test-packages as a part of undercloud setup\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 4, 'created': '2021-05-13 07:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bc48720583d61b01465350cd2f2db8b77a7bd874', 'message': '[WIP] move build-test-packages as a part of undercloud setup\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791118\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 5, 'created': '2021-05-13 12:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8efa4bf1ffa95c44f913bd5d7d4ea2b1502c9a61', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791118\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 6, 'created': '2021-06-18 13:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/54565c1db8efaae8285b19d615fab8e4611e7a08', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791118\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 7, 'created': '2021-07-02 06:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/85a70e0928eed8e41023f96e185e1863d04fc0ad', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791118\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 8, 'created': '2021-07-05 11:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7bd816e6e8ea7a8820370df615f3c355e449ebd7', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nDepends-On: https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791118\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 9, 'created': '2021-07-26 10:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2f418a8fde0eeb483cd93d963a84409652832d7', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 10, 'created': '2021-07-27 10:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/06d6c845adbc9fe4e4575463dfea78827a969b21', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 11, 'created': '2021-07-27 11:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0be8fc05727f50b14f8c06119c7443a60459eca1', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 12, 'created': '2021-07-27 12:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6813b147344b959c59182c92f364c4210fea2d3b', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 13, 'created': '2021-07-28 07:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/21e055555252dffc22d18b63f4e28d784c51154c', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 14, 'created': '2021-07-29 05:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9b8667a1f786ba638c59fe4efaddff0ac807b999', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 15, 'created': '2021-07-29 06:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/42c15cb62a1df14a527374432c6f8cf5d2666481', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 16, 'created': '2021-08-03 08:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/742b1b13a83a4d1febf8a4301b8a88ed366109d8', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\nIt also make sure build-test-packages is not triggered in consumer\njobs.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 17, 'created': '2021-08-03 11:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2eb9918035af29103c6f318388d7c34bab3cdfe5', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 18, 'created': '2021-08-03 14:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fc07f22d5d424032d028ae8914b5e75ceebd63a0', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 19, 'created': '2021-08-04 09:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0393344b46f84a91c6585c59d8c38bfb9d08a22f', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 20, 'created': '2021-08-04 09:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3db68d37eb8a106399fb5d6dbf25c5ff3ab3c564', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 21, 'created': '2021-08-04 09:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/21cd262d7e6aa74437c58166fac319e5539ad47b', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 22, 'created': '2021-08-04 11:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7f1163e82e3b64f6b9962ca32d47c97f62d5013d', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 23, 'created': '2021-08-04 13:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6beefc96384900154a4a49b966c5a8b9a92af1f9', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 24, 'created': '2021-08-05 12:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c62faf74b7426a9c5dc67989de4e6afaa14ebd8d', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 25, 'created': '2021-08-06 05:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5866316356cd9409da67bd04bce5ed025e709628', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 26, 'created': '2021-08-09 13:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8a7d22eda4da75f899cc97927a1746eaaafc6c7f', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/803919\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 27, 'created': '2021-08-09 14:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e6fe17caf282889ee19da3103dd9610f28303de4', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/803919\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}, {'number': 28, 'created': '2021-08-10 03:43:20.000000000', 'files': ['playbooks/baremetal-prep-virthost.yml', 'playbooks/multinode-standalone.yml', 'playbooks/ovb-setup.yml', 'playbooks/multinode-standalone-pre.yml', 'roles/nodepool-setup/tasks/clone-ci-repos.yml', 'playbooks/multinode-undercloud.yml', 'roles/nodepool-setup/defaults/main.yml', 'roles/undercloud-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4c225d64654bffc057daf89edaecb866b8890d3b', 'message': 'Move build-test-packages as a part of undercloud setup\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/790701\nremoves tripleo-operator-ansible from TQE requires and will be get\ninstalled from rpm as a part for undercloud deps.\n\nIn current setup, dlrn build the rpm packages just after undercloud\nrpm packages installation but tripleo-operator-ansible is used before\nthat so that dlrn needs to build the changes early before undercloud\ndeps installation so that we can consume the changes in the deployment\nvia updated rpm installed from gating repo.\n\nIn order to do that, it moves build-test-packages roles task after repo\nsetup to install latest packages.\n\nIt also removes tripleo-operator-ansible from cloning on nodepool.\n\nTesting different scenarios:\n1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296\n2. https://review.rdoproject.org/r/c/testproject/+/34676\n\nPatch for moving remove_tags to skip_tag_list:\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/803919\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107\n'}]",16,790926,4c225d64654bffc057daf89edaecb866b8890d3b,118,8,28,12393,,,0,"Move build-test-packages as a part of undercloud setup

https://review.opendev.org/c/openstack/tripleo-quickstart/+/790701
removes tripleo-operator-ansible from TQE requires and will be get
installed from rpm as a part for undercloud deps.

In current setup, dlrn build the rpm packages just after undercloud
rpm packages installation but tripleo-operator-ansible is used before
that so that dlrn needs to build the changes early before undercloud
deps installation so that we can consume the changes in the deployment
via updated rpm installed from gating repo.

In order to do that, it moves build-test-packages roles task after repo
setup to install latest packages.

It also removes tripleo-operator-ansible from cloning on nodepool.

Testing different scenarios:
1. https://review.opendev.org/c/openstack/tripleo-heat-templates/+/801296
2. https://review.rdoproject.org/r/c/testproject/+/34676

Patch for moving remove_tags to skip_tag_list:

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/803919

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I4f9f3f13346761d3dec35844234cb6ae03ad4107
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/790926/11 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-standalone.yml', 'playbooks/multinode-standalone-pre.yml', 'roles/nodepool-setup/tasks/clone-ci-repos.yml', 'playbooks/multinode-undercloud.yml', 'roles/nodepool-setup/defaults/main.yml', 'roles/undercloud-setup/tasks/main.yml']",6,05d917b65ccfa19474ab249b4b9fab3194c4ee9b,remove_uneeded_tq_requirements,"- name: Run DLRN gate role and install repo hosts: undercloud vars: artg_compressed_gating_repo: ""${HOME}/gating_repo.tar.gz"" roles: - build-test-packages - {role: install-built-repo, when: compressed_gating_repo is defined} ",,8,32
openstack%2Fpuppet-oslo~stable%2Fwallaby~Iafb03a6cd57859d11713d12b1c939a9fe782ee65,openstack/puppet-oslo,stable/wallaby,Iafb03a6cd57859d11713d12b1c939a9fe782ee65,Replace deprecated is_string method,MERGED,2021-08-09 23:42:55.000000000,2021-08-10 16:29:20.000000000,2021-08-10 16:29:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 23:42:55.000000000', 'files': ['manifests/messaging/notifications.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/1e9d3f46ba713fec05d806818fe2331c4e405db8', 'message': 'Replace deprecated is_string method\n\n... and simplify how $::os_service_default, which is a String, is\nhandled.\n\nCloses-Bug: #1939088\nChange-Id: Iafb03a6cd57859d11713d12b1c939a9fe782ee65\n(cherry picked from commit 8f6788f10f9c5df893beda7a2cb3ecfd6ee11ac3)\n'}]",0,804011,1e9d3f46ba713fec05d806818fe2331c4e405db8,9,3,1,9816,,,0,"Replace deprecated is_string method

... and simplify how $::os_service_default, which is a String, is
handled.

Closes-Bug: #1939088
Change-Id: Iafb03a6cd57859d11713d12b1c939a9fe782ee65
(cherry picked from commit 8f6788f10f9c5df893beda7a2cb3ecfd6ee11ac3)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/11/804011/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/messaging/notifications.pp'],1,1e9d3f46ba713fec05d806818fe2331c4e405db8,bug/1939088-stable/wallaby," # When we have a string value for driver, we keep passing it as string # to reduce any chance of breaking things in a backwards incompatible way $driver_real = $driver ? { String => $driver, default => any2array($driver) } $topics_real = join(any2array($topics), ',') 'oslo_messaging_notifications/driver' => { value => $driver_real }, 'oslo_messaging_notifications/topics' => { value => $topics_real },"," if is_service_default($driver) or is_string($driver) { # When we have a string value for driver, we keep passing it as string # to reduce any chance of breaking things in a backwards incompatible way $driver_orig = $driver } else { $driver_orig = any2array($driver) } if !is_service_default($topics) { $topics_orig = join(any2array($topics), ',') } else { $topics_orig = $topics } 'oslo_messaging_notifications/driver' => { value => $driver_orig }, 'oslo_messaging_notifications/topics' => { value => $topics_orig },",9,13
openstack%2Fkolla-ansible~master~I45be67df3717f78d78bcdc7df69600ab8681922f,openstack/kolla-ansible,master,I45be67df3717f78d78bcdc7df69600ab8681922f,Add suppress_type_name to stop warnings with ES7,MERGED,2021-06-03 17:13:13.000000000,2021-08-10 16:28:03.000000000,2021-08-10 16:26:11.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-03 17:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6280b94b1059bbfff2363f0d0e1a68191510a853', 'message': 'Add suppress_type_name to stop warnings with ES7\n\nWhen using elasticsearch 7 with fluentd, you seem to get a lot\nof warnings in the docker logs output that look like:\n\n    [types removal] Specifying types in bulk requests is deprecated.\n\nThe docs suggest adding suppress_type_name to stop these warnings,\nand that seems to work without affecting any functionality.\n\nChange-Id: I45be67df3717f78d78bcdc7df69600ab8681922f\n'}, {'number': 2, 'created': '2021-06-04 09:21:28.000000000', 'files': ['ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'releasenotes/notes/fix_supress_type_warning-59f87fe62f83bd12.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dee9d22dcf4910f8b94612872846df695d268165', 'message': 'Add suppress_type_name to stop warnings with ES7\n\nWhen using elasticsearch 7 with fluentd, you seem to get a lot\nof warnings in the docker logs output that look like:\n\n    [types removal] Specifying types in bulk requests is deprecated.\n\nThe docs suggest adding suppress_type_name to stop these warnings,\nand that seems to work without affecting any functionality.\n\nFurther info here:\nhttps://github.com/uken/fluent-plugin-elasticsearch/issues/785\n\nCloses-Bug: #1930856\nChange-Id: I45be67df3717f78d78bcdc7df69600ab8681922f\n'}]",0,794649,dee9d22dcf4910f8b94612872846df695d268165,14,4,2,782,,,0,"Add suppress_type_name to stop warnings with ES7

When using elasticsearch 7 with fluentd, you seem to get a lot
of warnings in the docker logs output that look like:

    [types removal] Specifying types in bulk requests is deprecated.

The docs suggest adding suppress_type_name to stop these warnings,
and that seems to work without affecting any functionality.

Further info here:
https://github.com/uken/fluent-plugin-elasticsearch/issues/785

Closes-Bug: #1930856
Change-Id: I45be67df3717f78d78bcdc7df69600ab8681922f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/794649/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2']",2,6280b94b1059bbfff2363f0d0e1a68191510a853,stop-es7-warnings, suppress_type_name true suppress_type_name true suppress_type_name true suppress_type_name true,,5,0
openstack%2Fpuppet-keystone~stable%2Fwallaby~If8f085b73f21018e05eefc907071a69a665ce879,openstack/puppet-keystone,stable/wallaby,If8f085b73f21018e05eefc907071a69a665ce879,Replace deprecated is_string method,MERGED,2021-08-09 23:42:46.000000000,2021-08-10 16:27:27.000000000,2021-08-10 16:27:27.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 23:42:46.000000000', 'files': ['manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/27eac2577b00f0e1378df08c9b6d2307e52fb346', 'message': 'Replace deprecated is_string method\n\nCloses-Bug: #1939088\nChange-Id: If8f085b73f21018e05eefc907071a69a665ce879\n(cherry picked from commit 312605e6226a3cd5fa94bb4f841fe08a98ac09d4)\n'}]",0,804010,27eac2577b00f0e1378df08c9b6d2307e52fb346,7,3,1,9816,,,0,"Replace deprecated is_string method

Closes-Bug: #1939088
Change-Id: If8f085b73f21018e05eefc907071a69a665ce879
(cherry picked from commit 312605e6226a3cd5fa94bb4f841fe08a98ac09d4)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/10/804010/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cache.pp'],1,27eac2577b00f0e1378df08c9b6d2307e52fb346,bug/1939088-stable/wallaby," $memcache_servers_array = $memcache_servers ? { String => split($memcache_servers, ','), default => $memcache_servers"," if is_string($memcache_servers) { $memcache_servers_array = split($memcache_servers, ',') } else { $memcache_servers_array = $memcache_servers",3,4
openstack%2Fpuppet-nova~stable%2Fwallaby~I6caebefef8da76265dca15c01bcbb27af34b6aea,openstack/puppet-nova,stable/wallaby,I6caebefef8da76265dca15c01bcbb27af34b6aea,Replace deprecated is_string/is_array method,MERGED,2021-08-09 23:43:03.000000000,2021-08-10 16:15:59.000000000,2021-08-10 16:15:59.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 23:43:03.000000000', 'files': ['manifests/scheduler/filter.pp', 'manifests/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9d884228b9dc9cc31d5b4fcf274dbfa506005d72', 'message': 'Replace deprecated is_string/is_array method\n\nCloses-Bug: #1939088\nChange-Id: I6caebefef8da76265dca15c01bcbb27af34b6aea\n(cherry picked from commit 25a50136694bba86de7a33780dfdc97a83ca9093)\n'}]",0,804012,9d884228b9dc9cc31d5b4fcf274dbfa506005d72,9,3,1,9816,,,0,"Replace deprecated is_string/is_array method

Closes-Bug: #1939088
Change-Id: I6caebefef8da76265dca15c01bcbb27af34b6aea
(cherry picked from commit 25a50136694bba86de7a33780dfdc97a83ca9093)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/12/804012/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler/filter.pp', 'manifests/compute.pp']",2,9d884228b9dc9cc31d5b4fcf274dbfa506005d72,bug/1939088-stable/wallaby," $reserved_huge_pages_real = $reserved_huge_pages ? { String => $reserved_huge_pages, Array => $reserved_huge_pages, default => fail(""Invalid reserved_huge_pages parameter value: ${reserved_huge_pages}"")"," if !is_service_default($reserved_huge_pages) and !empty($reserved_huge_pages) { if is_array($reserved_huge_pages) or is_string($reserved_huge_pages) { $reserved_huge_pages_real = $reserved_huge_pages } else { fail(""Invalid reserved_huge_pages parameter value: ${reserved_huge_pages}"") } } else { $reserved_huge_pages_real = $::os_service_default",5,9
openstack%2Fvalidations-libs~master~Ic2ca556441169594792d7d5835ea057e9256a7a9,openstack/validations-libs,master,Ic2ca556441169594792d7d5835ea057e9256a7a9,Validations show group filtering,MERGED,2021-08-09 13:58:19.000000000,2021-08-10 15:55:46.000000000,2021-08-10 15:53:25.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-09 13:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/38eab9040fb18790c76811699e946f4b60b1b0db', 'message': 'Validations show group filtering\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic2ca556441169594792d7d5835ea057e9256a7a9\n'}, {'number': 2, 'created': '2021-08-09 14:08:50.000000000', 'files': ['validations_libs/tests/cli/test_list.py', 'validations_libs/validation_actions.py', 'validations_libs/tests/fakes.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f1cd8eebc1a5de90e7a6956256263b16be5d875a', 'message': ""Validations show group filtering\n\nThe 'ValidationActions.group_information' method was refactored\nto reflect new signature of the 'utils.parse_all_validations_on_disk' function.\n\nTests were adjusted accordingly.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic2ca556441169594792d7d5835ea057e9256a7a9\n""}]",0,803931,f1cd8eebc1a5de90e7a6956256263b16be5d875a,11,6,2,32926,,,0,"Validations show group filtering

The 'ValidationActions.group_information' method was refactored
to reflect new signature of the 'utils.parse_all_validations_on_disk' function.

Tests were adjusted accordingly.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic2ca556441169594792d7d5835ea057e9256a7a9
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/31/803931/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/cli/test_list.py', 'validations_libs/validation_actions.py', 'validations_libs/tests/fakes.py', 'validations_libs/tests/test_validation_actions.py']",4,38eab9040fb18790c76811699e946f4b60b1b0db,groupparse," ['prep', 'pre-deployment', 'no-op', 'post'], ['prep', 'pre-introspection', 'post', 'pre'], self.assertEqual(values, [('no-op', 'noop-foo', 1), ('pre', 'pre-foo', 1)])"," ['prep', 'pre-deployment'], ['prep', 'pre-introspection'], self.assertEqual(values, [('no-op', 'noop-foo', 2), ('pre', 'pre-foo', 2)])",23,14
openstack%2Ftripleo-heat-templates~master~I9250953a179ba9a81b0289bc5e1239c4e0e54784,openstack/tripleo-heat-templates,master,I9250953a179ba9a81b0289bc5e1239c4e0e54784,Compute HA: Remove workaround for Newton and older,MERGED,2021-07-15 11:42:23.000000000,2021-08-10 15:53:22.000000000,2021-08-10 15:53:22.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-15 11:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddcff4c42d0f4c72dd4ddf504c56d4b4ff8d0feb', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I9250953a179ba9a81b0289bc5e1239c4e0e54784\n'}, {'number': 2, 'created': '2021-07-16 02:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dd8065836e73a02404d66b37701d4cb276b7542', 'message': 'Compute HA: Remove workaround for Ocata and older\n\nThis change removes workaround in check-run-nova-compute script which\nwas implemented for ancient version(Ocata and older).\n\nChange-Id: I9250953a179ba9a81b0289bc5e1239c4e0e54784\n'}, {'number': 3, 'created': '2021-07-16 02:35:38.000000000', 'files': ['scripts/check-run-nova-compute'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e04f4a618799b632f131074c67d21cc118f7769e', 'message': 'Compute HA: Remove workaround for Newton and older\n\nThis change removes workaround in check-run-nova-compute script which\nwas implemented for ancient versions.\n\nChange-Id: I9250953a179ba9a81b0289bc5e1239c4e0e54784\n'}]",1,800923,e04f4a618799b632f131074c67d21cc118f7769e,19,10,3,9816,,,0,"Compute HA: Remove workaround for Newton and older

This change removes workaround in check-run-nova-compute script which
was implemented for ancient versions.

Change-Id: I9250953a179ba9a81b0289bc5e1239c4e0e54784
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/800923/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/check-run-nova-compute'],1,ddcff4c42d0f4c72dd4ddf504c56d4b4ff8d0feb,getargspec, clientargs = inspect.getfullargspec(client.Client).varargs, clientargs = inspect.getargspec(client.Client).varargs,1,1
openstack%2Fglance~master~I129181b2338e09d094ee552a62500c6e460ee621,openstack/glance,master,I129181b2338e09d094ee552a62500c6e460ee621,Fix: glance cinder functional test,MERGED,2021-08-10 13:55:38.000000000,2021-08-10 15:33:46.000000000,2021-08-10 15:31:53.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 13:55:38.000000000', 'files': ['glance/tests/functional/v2/test_legacy_update_cinder_store.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/01b5bf5ece9a6904c1c5df4ad557967c927b8683', 'message': 'Fix: glance cinder functional test\n\nWe are adding multiattach volume handling capability to glance cinder\nstore with patch[1] which includes checks for multiattach.\nThis patch adds that attribute to the fake volume object we use in\nthe functional tests.\n\n[1] https://review.opendev.org/c/openstack/glance_store/+/786410\n\nChange-Id: I129181b2338e09d094ee552a62500c6e460ee621\n'}]",2,804090,01b5bf5ece9a6904c1c5df4ad557967c927b8683,10,3,1,27615,,,0,"Fix: glance cinder functional test

We are adding multiattach volume handling capability to glance cinder
store with patch[1] which includes checks for multiattach.
This patch adds that attribute to the fake volume object we use in
the functional tests.

[1] https://review.opendev.org/c/openstack/glance_store/+/786410

Change-Id: I129181b2338e09d094ee552a62500c6e460ee621
",git fetch https://review.opendev.org/openstack/glance refs/changes/90/804090/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_legacy_update_cinder_store.py'],1,01b5bf5ece9a6904c1c5df4ad557967c927b8683,," multiattach=False,",,1,0
openstack%2Fironic-inspector~master~I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df,openstack/ironic-inspector,master,I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df,"[WIP]Support AEP, sst at introspection data",NEW,2020-12-22 02:52:05.000000000,2021-08-10 15:28:00.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-22 02:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3ffc316fdba668da32ee0460eedbba10ee434212', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP was property\nsst was CPU capability, use 'bf' as the cpu flags of this feature\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 2, 'created': '2021-02-22 09:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/fdaf8be832d6fd3612756da170b9b3734ce84766', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP was property\nsst was CPU capability, use 'bf' as the cpu flags of this feature\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 3, 'created': '2021-02-22 09:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/68e9c10bb20c3904dcf0b045836d70b46b4d8357', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP was property\nsst was CPU capability, use 'bf' as the cpu flags of this feature\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 4, 'created': '2021-02-23 07:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/aa48c2ab94fbb08530992cd1281c94ba22fd06d5', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP represents a non-volatile storage technology;\nVNNI means the CPU supports deep learning;\nIntel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 5, 'created': '2021-03-05 10:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ccf15476d6fdbad72226e88daa8c9745ac1d46e7', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP represents a non-volatile storage technology;\nVNNI means the CPU supports deep learning;\nIntel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 6, 'created': '2021-03-05 12:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9ebffdc3c7894880f9ecc19c0a92001420cc770a', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP represents a non-volatile storage technology;\nVNNI means the CPU supports deep learning;\nIntel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 7, 'created': '2021-03-08 02:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/cfaca79e2c1a7177017378ad587b7290dce0939e', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP represents a non-volatile storage technology;\nVNNI means the CPU supports deep learning;\nIntel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 8, 'created': '2021-03-10 10:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/54b24c4c5534398fd2895c0f60ddfb64dd5752ff', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP represents a non-volatile storage technology;\nVNNI means the CPU supports deep learning;\nIntel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 9, 'created': '2021-03-11 01:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/fdda02a313615244a5c0226ede3bbb0cd2ab4a35', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP represents a non-volatile storage technology;\nVNNI means the CPU supports deep learning;\nIntel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 10, 'created': '2021-03-15 06:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c0797236175bea88d873adccf33e0e8b85f6dee2', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP represents a non-volatile storage technology;\nVNNI means the CPU supports deep learning;\nIntel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 11, 'created': '2021-03-17 07:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0d8620007e5adae343e3f4f13853285473cefa8b', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP represents a non-volatile storage technology;\nVNNI means the CPU supports deep learning;\nIntel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}, {'number': 12, 'created': '2021-03-17 09:05:48.000000000', 'files': ['ironic_inspector/test/base.py', 'ironic_inspector/conf/capabilities.py', 'ironic_inspector/plugins/standard.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/79fe002b2eac039c2b40f1f4e5c5416aa76f0b73', 'message': ""[WIP]Support AEP, sst at introspection data\n\nAEP represents a non-volatile storage technology;\nVNNI means the CPU supports deep learning;\nIntel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.\n\nStory: 2008438\nTask: 41400\n\nChange-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df\nCo-authored-by: Jerry Wang <jerry.a.wang@intel.com>\n""}]",14,768138,79fe002b2eac039c2b40f1f4e5c5416aa76f0b73,41,3,12,30458,,,0,"[WIP]Support AEP, sst at introspection data

AEP represents a non-volatile storage technology;
VNNI means the CPU supports deep learning;
Intel sst is a CPU capability; we use 'bf' as the cpu flags of this feature.

Story: 2008438
Task: 41400

Change-Id: I9fe15dac3cc36f8d10e86e7a889ddffe1e9212df
Co-authored-by: Jerry Wang <jerry.a.wang@intel.com>
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/38/768138/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/conf/capabilities.py', 'ironic_inspector/plugins/standard.py', 'ironic_inspector/test/functional.py']",3,3ffc316fdba668da32ee0460eedbba10ee434212,," {'path': '/properties/local_gb', 'value': '999', 'op': 'add'}, {'op': 'add', 'path': '/properties/aep_enable', 'value': 'false'}, {'path': '/properties/local_gb', 'value': '19', 'op': 'add'}, {'op': 'add', 'path': '/properties/aep_enable', 'value': 'false'},"," {'path': '/properties/local_gb', 'value': '999', 'op': 'add'} {'path': '/properties/local_gb', 'value': '19', 'op': 'add'}",7,2
openstack%2Ftripleo-quickstart~master~Ifaca26d805310413cbc20d9f0653bcd79f82566b,openstack/tripleo-quickstart,master,Ifaca26d805310413cbc20d9f0653bcd79f82566b,Install TQE requires also when -u option is passed,MERGED,2021-08-09 13:40:52.000000000,2021-08-10 15:21:54.000000000,2021-08-10 15:14:44.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-09 13:40:52.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/888edfdf61ff573396d03a3d1455a2cc09e2d5a7', 'message': 'Install TQE requires also when -u option is passed\n\nCurrently When we pass -u option with quickstart.sh script\nthen it only install packages from requirements.txt and extra\npackages from -u option and not TQE requires.\n\nIt fixes the same to install TQE requires so that deployment\nfound the required roles and run the deployment.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ifaca26d805310413cbc20d9f0653bcd79f82566b\n'}]",3,803924,888edfdf61ff573396d03a3d1455a2cc09e2d5a7,13,5,1,12393,,,0,"Install TQE requires also when -u option is passed

Currently When we pass -u option with quickstart.sh script
then it only install packages from requirements.txt and extra
packages from -u option and not TQE requires.

It fixes the same to install TQE requires so that deployment
found the required roles and run the deployment.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ifaca26d805310413cbc20d9f0653bcd79f82566b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/24/803924/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,888edfdf61ff573396d03a3d1455a2cc09e2d5a7,remove_uneeded_tq_requirements," OPT_REQARGS+=(""-r"" ""$OOOQ_BASE_REQUIREMENTS"" ""-r"" ""$OOOQ_EXTRA_REQUIREMENTS"")"," OPT_REQARGS+=(""-r"" ""$OOOQ_BASE_REQUIREMENTS"")",1,1
openstack%2Fpuppet-openstack-integration~stable%2Fstein~I42b27b23cb7401d019997a442c47657e732cd472,openstack/puppet-openstack-integration,stable/stein,I42b27b23cb7401d019997a442c47657e732cd472,Remove Debian jobs,MERGED,2021-08-10 00:58:47.000000000,2021-08-10 15:14:41.000000000,2021-08-10 15:14:41.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 00:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b99f6efea1ed2c6ca9875ee08317994223ffd9a6', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nCherry-Picked-From: 2e3d4875b4eca41e88c134ee50c3ec6d9a064826\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n'}, {'number': 2, 'created': '2021-08-10 04:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c096cc024c4fd24e35b372480956c6b8629d0b70', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nConflicts:\n\tzuul.d/integration.yaml\n\n(to victoria)\nConflicts:\n\tzuul.d/layout.yaml\n\nNote: non-voting ubuntu jobs are removed from gate.\n\n(to ussuri)\nConflicts:\n\tzuul.d/integration.yaml\n\tzuul.d/layout.yaml\n\n(to train)\nConflicts:\n\tzuul.d/integration.yaml\n\tzuul.d/layout.yaml\n\n(to stein)\nConflicts:\n\tzuul.d/integration.yaml\n\tzuul.d/layout.yaml\n\nNote: missing gate job for scenario004 template is fixed\n\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)\n(cherry picked from commit a77859346ec4f9c3b3292e6fa162a1bda5738fe8)\n(cherry picked from commit c321eee602174769f3c6b3221da4891468314ba7)\n(cherry picked from commit 5c471f5a1587ffbb061ad6499ae85442b514c70c)\n(cherry picked from commit 61facd90e821128338e0b6ba8eeec7504082e2cc)\n'}, {'number': 3, 'created': '2021-08-10 04:37:23.000000000', 'files': ['zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/beab6f0491ab634d23778b21da874dcd4f4c6408', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nNote: This change also fixes the missing gate job of the scenario004\ntemplate.\n\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)\n'}]",0,804005,beab6f0491ab634d23778b21da874dcd4f4c6408,11,3,3,7118,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Note: This change also fixes the missing gate job of the scenario004
template.

Change-Id: I42b27b23cb7401d019997a442c47657e732cd472
(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/05/804005/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/integration.yaml', 'zuul.d/layout.yaml']",2,b99f6efea1ed2c6ca9875ee08317994223ffd9a6,debian-stretch-rm,, - puppet-openstack-integration-4-scenario001-tempest-debian-stable-luminous: voting: false - puppet-openstack-integration-4-scenario002-tempest-debian-stable: voting: false - puppet-openstack-integration-4-scenario003-tempest-debian-stable: voting: false - puppet-openstack-integration-4-scenario004-tempest-debian-stable-luminous: voting: false - puppet-openstack-integration-5-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-5-scenario002-tempest-debian-stable - puppet-openstack-integration-5-scenario003-tempest-debian-stable - puppet-openstack-integration-5-scenario004-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario002-tempest-debian-stable - puppet-openstack-integration-6-scenario003-tempest-debian-stable - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous - puppet-openstack-integration-4-scenario001-tempest-debian-stable-luminous: voting: false - puppet-openstack-integration-5-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-4-scenario002-tempest-debian-stable: voting: false - puppet-openstack-integration-5-scenario002-tempest-debian-stable - puppet-openstack-integration-6-scenario002-tempest-debian-stable - puppet-openstack-integration-4-scenario003-tempest-debian-stable: voting: false - puppet-openstack-integration-5-scenario003-tempest-debian-stable - puppet-openstack-integration-6-scenario003-tempest-debian-stable - puppet-openstack-integration-4-scenario004-tempest-debian-stable-luminous: voting: false - puppet-openstack-integration-5-scenario004-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous,0,76
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I42b27b23cb7401d019997a442c47657e732cd472,openstack/puppet-openstack-integration,stable/train,I42b27b23cb7401d019997a442c47657e732cd472,Remove Debian jobs,MERGED,2021-08-10 01:02:39.000000000,2021-08-10 15:14:40.000000000,2021-08-10 15:14:40.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 01:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/010f96738a24f6398e33270762ca0265b74ef6cb', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nCherry-Picked-From: 2e3d4875b4eca41e88c134ee50c3ec6d9a064826\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n'}, {'number': 2, 'created': '2021-08-10 04:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/401521967a737480b93d9832ddbb7d812aa520c8', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nConflicts:\n\tzuul.d/integration.yaml\n\n(to victoria)\nConflicts:\n\tzuul.d/layout.yaml\n\nNote: non-voting ubuntu jobs are removed from gate.\n\n(to ussuri)\nConflicts:\n\tzuul.d/integration.yaml\n\tzuul.d/layout.yaml\n\n(to train)\nConflicts:\n\tzuul.d/integration.yaml\n\tzuul.d/layout.yaml\n\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)\n(cherry picked from commit a77859346ec4f9c3b3292e6fa162a1bda5738fe8)\n(cherry picked from commit c321eee602174769f3c6b3221da4891468314ba7)\n(cherry picked from commit 968ae0d6b3d638aac87859bed9e85f229d1ce836)\n'}, {'number': 3, 'created': '2021-08-10 04:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/61facd90e821128338e0b6ba8eeec7504082e2cc', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nConflicts:\n\tzuul.d/integration.yaml\n\n(to victoria)\nConflicts:\n\tzuul.d/layout.yaml\n\nNote: non-voting ubuntu jobs are removed from gate.\n\n(to ussuri)\nConflicts:\n\tzuul.d/integration.yaml\n\tzuul.d/layout.yaml\n\n(to train)\nConflicts:\n\tzuul.d/integration.yaml\n\tzuul.d/layout.yaml\n\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)\n(cherry picked from commit a77859346ec4f9c3b3292e6fa162a1bda5738fe8)\n(cherry picked from commit c321eee602174769f3c6b3221da4891468314ba7)\n(cherry picked from commit 5c471f5a1587ffbb061ad6499ae85442b514c70c)\n'}, {'number': 4, 'created': '2021-08-10 04:35:15.000000000', 'files': ['zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1cb3f88ea174d28a6366c4d6ac9b40fdf2297a0a', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nNOTE: This change also removes non-voting ubuntu jobs from gate.\n\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)\n'}]",0,804006,1cb3f88ea174d28a6366c4d6ac9b40fdf2297a0a,12,3,4,7118,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

NOTE: This change also removes non-voting ubuntu jobs from gate.

Change-Id: I42b27b23cb7401d019997a442c47657e732cd472
(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/06/804006/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/integration.yaml', 'zuul.d/layout.yaml']",2,010f96738a24f6398e33270762ca0265b74ef6cb,debian-stretch-rm,, - puppet-openstack-integration-5-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-5-scenario002-tempest-debian-stable - puppet-openstack-integration-5-scenario003-tempest-debian-stable - puppet-openstack-integration-5-scenario004-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario002-tempest-debian-stable - puppet-openstack-integration-6-scenario003-tempest-debian-stable - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous - puppet-openstack-integration-5-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-5-scenario002-tempest-debian-stable - puppet-openstack-integration-6-scenario002-tempest-debian-stable - puppet-openstack-integration-5-scenario003-tempest-debian-stable - puppet-openstack-integration-6-scenario003-tempest-debian-stable - puppet-openstack-integration-5-scenario004-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous,0,60
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~I42b27b23cb7401d019997a442c47657e732cd472,openstack/puppet-openstack-integration,stable/victoria,I42b27b23cb7401d019997a442c47657e732cd472,Remove Debian jobs,MERGED,2021-08-10 01:09:11.000000000,2021-08-10 15:14:39.000000000,2021-08-10 15:14:39.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 01:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/46bb82a0bb50f683a1498365fb913b169cfdbf37', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nCherry-Picked-From: 2e3d4875b4eca41e88c134ee50c3ec6d9a064826\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n'}, {'number': 2, 'created': '2021-08-10 04:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c321eee602174769f3c6b3221da4891468314ba7', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nConflicts:\n\tzuul.d/integration.yaml\n\n(to victoria)\nConflicts:\n\tzuul.d/layout.yaml\n\nNote: non-voting ubuntu jobs are removed from gate.\n\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)\n(cherry picked from commit a77859346ec4f9c3b3292e6fa162a1bda5738fe8)\n'}, {'number': 3, 'created': '2021-08-10 04:31:34.000000000', 'files': ['zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8c112583c3e88292dbbdf8fa1c17501dd3847c11', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)\n'}]",0,804008,8c112583c3e88292dbbdf8fa1c17501dd3847c11,11,3,3,7118,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Change-Id: I42b27b23cb7401d019997a442c47657e732cd472
(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/08/804008/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/integration.yaml', 'zuul.d/layout.yaml']",2,46bb82a0bb50f683a1498365fb913b169cfdbf37,debian-stretch-rm,, experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario002-tempest-debian-stable - puppet-openstack-integration-6-scenario003-tempest-debian-stable - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario002-tempest-debian-stable experimental: jobs: - puppet-openstack-integration-6-scenario003-tempest-debian-stable experimental: jobs: - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous,0,46
openstack%2Fironic-inspector~master~If913148f733fc82d7c947c82d386ab4f67f4d45f,openstack/ironic-inspector,master,If913148f733fc82d7c947c82d386ab4f67f4d45f,Starting -> Error transaction refactoring,ABANDONED,2017-02-07 16:16:06.000000000,2021-08-10 15:13:05.000000000,,"[{'_account_id': 13636}, {'_account_id': 18653}]","[{'number': 1, 'created': '2017-02-07 16:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/13c0e3da2c9f25fd8d8ea3d2fcb6464e3c6bc5f7', 'message': 'Starting -> Error transaction refactoring\n\nException in inspection code may keep node in `starting` state,\nso Timeout event later on clean up causes `no defined transition`\nerror. This change moves starting -> waiting transition to\nbackground method.\n\nAlso remove waiting for greenthread result, as error will be\nhandled anyway. There is no need to hold API request for few\nseconds.\n\nCloses-Bug: #1662494\nChange-Id: If913148f733fc82d7c947c82d386ab4f67f4d45f\n'}, {'number': 2, 'created': '2017-02-16 15:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8be7f0350513f1242ab4b9582fcb72551b849953', 'message': 'Starting -> Error transaction refactoring\n\nException in inspection code may keep node in `starting` state,\nso Timeout event later on clean up causes `no defined transition`\nerror. This change moves starting -> waiting transition to\nbackground method.\n\nAlso remove waiting for greenthread result, as error will be\nhandled anyway. There is no need to hold API request for few\nseconds.\n\nRemove exception handling for reapply as triggers_fsm_error_transition\nwill take care about errors.\n\nCloses-Bug: #1662494\nChange-Id: If913148f733fc82d7c947c82d386ab4f67f4d45f\n'}, {'number': 3, 'created': '2017-02-23 13:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4af08d2d1952c51ad810674974c3fa6afd436cfd', 'message': 'Starting -> Error transaction refactoring\n\nException in inspection code may keep node in `starting` state,\nso Timeout event later on clean up causes `no defined transition`\nerror. This change moves starting -> waiting transition to\nbackground method.\n\nAlso remove waiting for greenthread result for /introspection/<node>\nAPI endpoint. Errors in greenthread will be handled anyway, there is\nno reason to hold API request for few seconds.\n\nRemove exception handling for reapply as triggers_fsm_error_transition\nwill take care about errors.\n\nRelated-Bug: #1662494\nChange-Id: If913148f733fc82d7c947c82d386ab4f67f4d45f\n'}, {'number': 4, 'created': '2017-03-13 09:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e7fb1d2e5e30cad37c310e9cb838e75d94debe1c', 'message': 'Starting -> Error transaction refactoring\n\nException in inspection code may keep node in `starting` state,\nso Timeout event later on clean up causes `no defined transition`\nerror. This change moves starting -> waiting transition to\nbackground method.\n\nAlso remove waiting for greenthread result for /introspection/<node>\nAPI endpoint. Errors in greenthread will be handled anyway, there is\nno reason to hold API request for few seconds.\n\nRelated-Bug: #1662494\nChange-Id: If913148f733fc82d7c947c82d386ab4f67f4d45f\n'}, {'number': 5, 'created': '2017-03-13 11:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1aa943f09e2b100a2e32a358b6a093af885a5237', 'message': 'Starting -> Error transaction refactoring\n\nException in inspection code may keep node in `starting` state,\nso Timeout event later on clean up causes `no defined transition`\nerror. This change moves starting -> waiting transition to\nbackground method.\n\nAlso remove waiting for greenthread result for /introspection/<node>\nAPI endpoint. Errors in greenthread will be handled anyway, there is\nno reason to hold API request for few seconds.\n\nRelated-Bug: #1662494\nChange-Id: If913148f733fc82d7c947c82d386ab4f67f4d45f\n'}, {'number': 6, 'created': '2017-03-30 12:08:01.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_node_cache.py', 'ironic_inspector/process.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/test/functional.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c522084e0f03b8fca7238477c6c7b065db680a22', 'message': 'Starting -> Error transaction refactoring\n\nException in inspection code may keep node in `starting` state,\nso Timeout event later on clean up causes `no defined transition`\nerror. This change moves starting -> waiting transition to\nbackground method.\n\nAlso remove waiting for greenthread result for /introspection/<node>\nAPI endpoint. Errors in greenthread will be handled anyway, there is\nno reason to hold API request for few seconds.\n\nRelated-Bug: #1662494\nChange-Id: If913148f733fc82d7c947c82d386ab4f67f4d45f\n'}]",17,430341,c522084e0f03b8fca7238477c6c7b065db680a22,27,2,6,13636,,,0,"Starting -> Error transaction refactoring

Exception in inspection code may keep node in `starting` state,
so Timeout event later on clean up causes `no defined transition`
error. This change moves starting -> waiting transition to
background method.

Also remove waiting for greenthread result for /introspection/<node>
API endpoint. Errors in greenthread will be handled anyway, there is
no reason to hold API request for few seconds.

Related-Bug: #1662494
Change-Id: If913148f733fc82d7c947c82d386ab4f67f4d45f
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/41/430341/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_node_cache.py', 'ironic_inspector/process.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/test/functional.py']",7,13c0e3da2c9f25fd8d8ea3d2fcb6464e3c6bc5f7,bug/1662494, node_cache.delete_node(self.uuid), node_cache._delete_node(self.uuid),166,241
openstack%2Ftripleo-ci~master~I072c682ce811871a7c06fb18b31d76f2e9397643,openstack/tripleo-ci,master,I072c682ce811871a7c06fb18b31d76f2e9397643,Move remove_tags value to skip_tag_list,MERGED,2021-08-09 13:06:27.000000000,2021-08-10 15:06:07.000000000,2021-08-10 15:06:07.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-08-09 13:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/38d9b0741e5fcbab03db616aa48a96d50e0136e2', 'message': 'Move remove_tags value to skip_tag_list\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/758373 added\nsupport for removing tags from the job config.\n\nIt is basically removing the tags from the whole tag list.\nInstead of removing the tag, we can put it in the skip list.\n\nIt will help us from running the plays twice irrespective of\ntags defined at role level or play level.\n\nIt also solves the issues of running build-test-packages on\nconsumer jobs where build tags in removed, is coming in\nconsolidation patch of build-test-packages [1].\n\n[1]. https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/790926\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I072c682ce811871a7c06fb18b31d76f2e9397643\n'}, {'number': 2, 'created': '2021-08-09 14:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8fb6cd5d172e86515493a348384c906a1795d5f3', 'message': 'Move remove_tags value to skip_tag_list\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/758373 added\nsupport for removing tags from the job config.\n\nIt is basically removing the tags from the whole tag list.\nInstead of removing the tag, we can put it in the skip list.\n\nIt will help us from running the plays twice irrespective of\ntags defined at role level or play level.\n\nIt also solves the issues of running build-test-packages on\nconsumer jobs where build tags in removed, is coming in\nconsolidation patch of build-test-packages [1].\n\n[1]. https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/790926\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I072c682ce811871a7c06fb18b31d76f2e9397643\n'}, {'number': 3, 'created': '2021-08-09 15:34:19.000000000', 'files': ['roles/run-test/templates/toci_quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6a272768b51946992bdb7077ec7f21268658ac21', 'message': 'Move remove_tags value to skip_tag_list\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/758373 added\nsupport for removing tags from the job config.\n\nIt is basically removing the tags from the whole tag list.\nInstead of removing the tag, we can put it in the skip list.\n\nIt will help us from running the plays twice irrespective of\ntags defined at role level or play level.\n\nIt also solves the issues of running build-test-packages on\nconsumer jobs where build tags in removed, is coming in\nconsolidation patch of build-test-packages [1].\n\n[1]. https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/790926\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I072c682ce811871a7c06fb18b31d76f2e9397643\n'}]",3,803919,6a272768b51946992bdb7077ec7f21268658ac21,17,8,3,12393,,,0,"Move remove_tags value to skip_tag_list

https://review.opendev.org/c/openstack/tripleo-ci/+/758373 added
support for removing tags from the job config.

It is basically removing the tags from the whole tag list.
Instead of removing the tag, we can put it in the skip list.

It will help us from running the plays twice irrespective of
tags defined at role level or play level.

It also solves the issues of running build-test-packages on
consumer jobs where build tags in removed, is coming in
consolidation patch of build-test-packages [1].

[1]. https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/790926

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I072c682ce811871a7c06fb18b31d76f2e9397643
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/19/803919/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/common/vars/main.yaml', 'roles/run-test/templates/toci_quickstart.sh.j2']",2,38d9b0741e5fcbab03db616aa48a96d50e0136e2,remove_uneeded_tq_requirements," --tags {{ ','.join(tags + (extra_tags|default([]))) }}","#REMOVE build from --skip-tags ASAP --tags {{ ','.join((tags + (extra_tags|default([]))) | difference(remove_tags|default([]))) }}",4,3
openstack%2Fkolla-ansible~master~I8f68100870ab90cb2d6b68a66a4c97df9ea4ff52,openstack/kolla-ansible,master,I8f68100870ab90cb2d6b68a66a4c97df9ea4ff52,Refactor and optimise image pulling,MERGED,2021-08-09 17:54:22.000000000,2021-08-10 15:01:32.000000000,2021-08-10 14:59:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-08-09 17:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9e8ae1fd67c4d61e4eb027d0244b848acca4ded', 'message': ""Refactor and optimise image pulling\n\nWe get a nice optimisation by using a filtered loop instead\nof task skipping per service with 'when'.\n\nPartially-Implements: blueprint performance-improvements\nChange-Id: I8f68100870ab90cb2d6b68a66a4c97df9ea4ff52\n""}, {'number': 2, 'created': '2021-08-10 11:58:10.000000000', 'files': ['ansible/roles/placement/tasks/pull.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/haproxy/tasks/pull.yml', 'ansible/roles/service-images-pull/tasks/main.yml', 'ansible/roles/octavia/tasks/pull.yml', 'ansible/roles/aodh/tasks/pull.yml', 'ansible/roles/manila/tasks/pull.yml', 'ansible/roles/kuryr/tasks/pull.yml', 'ansible/roles/monasca/tasks/pull.yml', 'ansible/roles/telegraf/tasks/pull.yml', 'ansible/roles/skydive/tasks/pull.yml', 'releasenotes/notes/refactor-and-optimise-image-pulling-4346d3c0840ee640.yaml', 'ansible/roles/vitrage/tasks/pull.yml', 'ansible/roles/freezer/tasks/pull.yml', 'ansible/roles/qdrouterd/tasks/pull.yml', 'ansible/roles/senlin/tasks/pull.yml', 'ansible/roles/murano/tasks/pull.yml', 'ansible/roles/glance/tasks/pull.yml', 'ansible/roles/collectd/tasks/pull.yml', 'ansible/roles/nova/tasks/pull.yml', 'ansible/roles/openvswitch/tasks/pull.yml', 'ansible/roles/ceilometer/tasks/pull.yml', 'ansible/roles/barbican/tasks/pull.yml', 'ansible/roles/memcached/tasks/pull.yml', 'ansible/roles/influxdb/tasks/pull.yml', 'ansible/roles/zookeeper/tasks/pull.yml', 'ansible/roles/multipathd/tasks/pull.yml', 'ansible/roles/nova-cell/tasks/pull.yml', 'ansible/roles/grafana/tasks/pull.yml', 'ansible/roles/rabbitmq/tasks/pull.yml', 'ansible/roles/common/tasks/pull.yml', 'ansible/roles/kibana/tasks/pull.yml', 'ansible/roles/masakari/tasks/pull.yml', 'ansible/roles/zun/tasks/pull.yml', 'ansible/roles/sahara/tasks/pull.yml', 'ansible/roles/gnocchi/tasks/pull.yml', 'ansible/roles/keystone/tasks/pull.yml', 'ansible/roles/storm/tasks/pull.yml', 'ansible/roles/blazar/tasks/pull.yml', 'ansible/roles/hacluster/tasks/pull.yml', 'ansible/roles/trove/tasks/pull.yml', 'ansible/roles/mariadb/tasks/pull.yml', 'ansible/roles/cinder/tasks/pull.yml', 'ansible/roles/kafka/tasks/pull.yml', 'ansible/roles/watcher/tasks/pull.yml', 'ansible/roles/solum/tasks/pull.yml', 'ansible/roles/designate/tasks/pull.yml', 'ansible/roles/iscsi/tasks/pull.yml', 'ansible/roles/elasticsearch/tasks/pull.yml', 'ansible/roles/ovn/tasks/pull.yml', 'ansible/roles/heat/tasks/pull.yml', 'ansible/roles/neutron/tasks/pull.yml', 'ansible/roles/redis/tasks/pull.yml', 'ansible/roles/chrony/tasks/pull.yml', 'ansible/roles/ironic/tasks/pull.yml', 'ansible/roles/vmtp/tasks/pull.yml', 'ansible/roles/cloudkitty/tasks/pull.yml', 'ansible/roles/mistral/tasks/pull.yml', 'ansible/roles/tacker/tasks/pull.yml', 'ansible/roles/prometheus/tasks/pull.yml', 'ansible/roles/ovs-dpdk/tasks/pull.yml', 'ansible/roles/horizon/tasks/pull.yml', 'ansible/roles/etcd/tasks/pull.yml', 'ansible/roles/magnum/tasks/pull.yml', 'ansible/roles/cyborg/tasks/pull.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ff2ecb03189e9bc3605ffed4485542de0da80af', 'message': ""Refactor and optimise image pulling\n\nWe get a nice optimisation by using a filtered loop instead\nof task skipping per service with 'when'.\n\nPartially-Implements: blueprint performance-improvements\nChange-Id: I8f68100870ab90cb2d6b68a66a4c97df9ea4ff52\n""}]",4,803971,9ff2ecb03189e9bc3605ffed4485542de0da80af,18,3,2,30491,,,0,"Refactor and optimise image pulling

We get a nice optimisation by using a filtered loop instead
of task skipping per service with 'when'.

Partially-Implements: blueprint performance-improvements
Change-Id: I8f68100870ab90cb2d6b68a66a4c97df9ea4ff52
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/803971/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/placement/tasks/pull.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/haproxy/tasks/pull.yml', 'ansible/roles/service-images-pull/tasks/main.yml', 'ansible/roles/octavia/tasks/pull.yml', 'ansible/roles/aodh/tasks/pull.yml', 'ansible/roles/manila/tasks/pull.yml', 'ansible/roles/kuryr/tasks/pull.yml', 'ansible/roles/monasca/tasks/pull.yml', 'ansible/roles/telegraf/tasks/pull.yml', 'ansible/roles/skydive/tasks/pull.yml', 'releasenotes/notes/refactor-and-optimise-image-pulling-4346d3c0840ee640.yaml', 'ansible/roles/vitrage/tasks/pull.yml', 'ansible/roles/freezer/tasks/pull.yml', 'ansible/roles/qdrouterd/tasks/pull.yml', 'ansible/roles/senlin/tasks/pull.yml', 'ansible/roles/murano/tasks/pull.yml', 'ansible/roles/glance/tasks/pull.yml', 'ansible/roles/collectd/tasks/pull.yml', 'ansible/roles/nova/tasks/pull.yml', 'ansible/roles/openvswitch/tasks/pull.yml', 'ansible/roles/ceilometer/tasks/pull.yml', 'ansible/roles/barbican/tasks/pull.yml', 'ansible/roles/memcached/tasks/pull.yml', 'ansible/roles/influxdb/tasks/pull.yml', 'ansible/roles/zookeeper/tasks/pull.yml', 'ansible/roles/multipathd/tasks/pull.yml', 'ansible/roles/nova-cell/tasks/pull.yml', 'ansible/roles/grafana/tasks/pull.yml', 'ansible/roles/rabbitmq/tasks/pull.yml', 'ansible/roles/common/tasks/pull.yml', 'ansible/roles/kibana/tasks/pull.yml', 'ansible/roles/masakari/tasks/pull.yml', 'ansible/roles/zun/tasks/pull.yml', 'ansible/roles/sahara/tasks/pull.yml', 'ansible/roles/gnocchi/tasks/pull.yml', 'ansible/roles/keystone/tasks/pull.yml', 'ansible/roles/storm/tasks/pull.yml', 'ansible/roles/blazar/tasks/pull.yml', 'ansible/roles/hacluster/tasks/pull.yml', 'ansible/roles/trove/tasks/pull.yml', 'ansible/roles/mariadb/tasks/pull.yml', 'ansible/roles/cinder/tasks/pull.yml', 'ansible/roles/kafka/tasks/pull.yml', 'ansible/roles/watcher/tasks/pull.yml', 'ansible/roles/solum/tasks/pull.yml', 'ansible/roles/designate/tasks/pull.yml', 'ansible/roles/iscsi/tasks/pull.yml', 'ansible/roles/elasticsearch/tasks/pull.yml', 'ansible/roles/ovn/tasks/pull.yml', 'ansible/roles/heat/tasks/pull.yml', 'ansible/roles/neutron/tasks/pull.yml', 'ansible/roles/redis/tasks/pull.yml', 'ansible/roles/chrony/tasks/pull.yml', 'ansible/roles/ironic/tasks/pull.yml', 'ansible/roles/vmtp/tasks/pull.yml', 'ansible/roles/cloudkitty/tasks/pull.yml', 'ansible/roles/mistral/tasks/pull.yml', 'ansible/roles/tacker/tasks/pull.yml', 'ansible/roles/prometheus/tasks/pull.yml', 'ansible/roles/ovs-dpdk/tasks/pull.yml', 'ansible/roles/horizon/tasks/pull.yml', 'ansible/roles/etcd/tasks/pull.yml', 'ansible/roles/magnum/tasks/pull.yml', 'ansible/roles/cyborg/tasks/pull.yml']",65,d9e8ae1fd67c4d61e4eb027d0244b848acca4ded,refactor-and-optimise-image-pulling,- import_role: role: service-images-pull,"- name: Pulling cyborg images become: true kolla_docker: action: ""pull_image"" common_options: ""{{ docker_common_options }}"" image: ""{{ item.value.image }}"" when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool with_dict: ""{{ cyborg_services }}""",142,610
openstack%2Foslo.db~stable%2Fwallaby~Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346,openstack/oslo.db,stable/wallaby,Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346,"Followup of ""Added handler for mysql 8.0.19 duplicate key error update""",MERGED,2021-06-30 08:17:05.000000000,2021-08-10 15:00:47.000000000,2021-08-10 14:57:53.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27909}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-30 08:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/82ceb604671cc0f5443044a5a6fa126adb19a38b', 'message': 'Followup of ""Added handler for mysql 8.0.19 duplicate key error update""\n\nFollowup of change: Ic78059b625e73cece355541cb4d89e641abc1103\n\nChange-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346\n(cherry picked from commit be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e)\n'}, {'number': 2, 'created': '2021-07-19 16:58:24.000000000', 'files': ['releasenotes/notes/fix-mysql-duplicate-key-error-information-update-548888bc44b8dbd7.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/698e909bc22e3568e11959ed3cff64aa94a39922', 'message': 'Followup of ""Added handler for mysql 8.0.19 duplicate key error update""\n\nFollowup of change: Ic78059b625e73cece355541cb4d89e641abc1103\n\nChange-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346\n(cherry picked from commit be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e)\n'}]",0,798763,698e909bc22e3568e11959ed3cff64aa94a39922,12,4,2,33244,,,0,"Followup of ""Added handler for mysql 8.0.19 duplicate key error update""

Followup of change: Ic78059b625e73cece355541cb4d89e641abc1103

Change-Id: Idb0410a1946acbd7caf6a0bb1dad229bd5c2c346
(cherry picked from commit be2cc6a2ce40f6666d1e2b0f13054e7be7bc792e)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/63/798763/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-mysql-duplicate-key-error-information-update-548888bc44b8dbd7.yaml'],1,82ceb604671cc0f5443044a5a6fa126adb19a38b,releasenote-mysql-duplicate-key-error-update-handler-stable/wallaby,"--- fixes: - | In mysql 8.0.19, duplicate key error information is extended to include the table name of the key. Previously, duplicate key error information included only the key value and key name. This extends capabilities to handle changes in duplicate key error information with newer mysql version since 8.0.19. ",,8,0
openstack%2Foslo.db~stable%2Fwallaby~Ic78059b625e73cece355541cb4d89e641abc1103,openstack/oslo.db,stable/wallaby,Ic78059b625e73cece355541cb4d89e641abc1103,Added handler for mysql 8.0.19 duplicate key error update,MERGED,2021-06-30 08:13:36.000000000,2021-08-10 14:59:23.000000000,2021-08-10 14:57:51.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27909}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-30 08:13:36.000000000', 'files': ['oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/b32b643acc0528099a88504d4d824cdc002a85df', 'message': 'Added handler for mysql 8.0.19 duplicate key error update\n\nIn mysql 8.0.19 , Duplicate key error information is extended to\ninclude the table name of the key.Previously, duplicate key error\ninformation included only the key value and key name.\n\nUnit tests are provided for updated changes.\n\nChange-Id: Ic78059b625e73cece355541cb4d89e641abc1103\nCloses-Bug: #1896916\n(cherry picked from commit 2c2e6d48ace2d91dce94d2e62fb0bdda904bc2bd)\n'}]",0,798760,b32b643acc0528099a88504d4d824cdc002a85df,10,4,1,33244,,,0,"Added handler for mysql 8.0.19 duplicate key error update

In mysql 8.0.19 , Duplicate key error information is extended to
include the table name of the key.Previously, duplicate key error
information included only the key value and key name.

Unit tests are provided for updated changes.

Change-Id: Ic78059b625e73cece355541cb4d89e641abc1103
Closes-Bug: #1896916
(cherry picked from commit 2c2e6d48ace2d91dce94d2e62fb0bdda904bc2bd)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/60/798760/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/exc_filters.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py']",2,b32b643acc0528099a88504d4d824cdc002a85df,handle_duplicate_mysql_key_error-stable/wallaby," def test_mysql_duplicate_entry_key_start_with_tablename(self): self._run_dupe_constraint_test( ""mysql"", ""1062 (23000): Duplicate entry '2' for key 'tbl.uniq_tbl0b'"", expected_columns=['b'], expected_value='2' ) def test_mysql_duplicate_entry_key_start_with_tablename_binary(self): self._run_dupe_constraint_test( ""mysql"", ""(1062, \'Duplicate entry "" ""\\\'\\\\x8A$\\\\x8D\\\\xA6\""s\\\\x8E\\\' "" ""for key \\\'tbl.uniq_tbl0c1\\\'\')"", expected_columns=['c1'], expected_value=""\\\\x8A$\\\\x8D\\\\xA6\""s\\\\x8E"" ) self._run_dupe_constraint_test( ""mysql"", ""(1062, \'Duplicate entry "" ""''\\\\x8A$\\\\x8D\\\\xA6\""s\\\\x8E!,' "" ""for key 'tbl.uniq_tbl0c1'\')"", expected_columns=['c1'], expected_value=""'\\\\x8A$\\\\x8D\\\\xA6\""s\\\\x8E!,"" ) ",,35,0
openstack%2Fpuppet-nova~stable%2Fussuri~I66f14ec424f9446bf8b5959e25abdbbd3213e51f,openstack/puppet-nova,stable/ussuri,I66f14ec424f9446bf8b5959e25abdbbd3213e51f,Victoria and before: Use libvirt-daemon-system in Ubuntu Focal,MERGED,2021-08-03 07:16:19.000000000,2021-08-10 14:58:07.000000000,2021-08-10 14:58:07.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-03 07:16:19.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f74ae2a514fd0b2f65a3f55789b9617668e4d7ef', 'message': 'Victoria and before: Use libvirt-daemon-system in Ubuntu Focal\n\n... because libvirt-bin is no longer available since Focal(20.04).\nThis was fixed by e32576aebc31311e6dbc76b12e6a782481633fe8 during\nWallaby cycle.\n\nCloses-Bug: #1933978\nChange-Id: I66f14ec424f9446bf8b5959e25abdbbd3213e51f\n(cherry picked from commit ec99b385b924f3af9f469f5b95f07f48715844f1)\n'}]",0,803272,f74ae2a514fd0b2f65a3f55789b9617668e4d7ef,19,5,1,9816,,,0,"Victoria and before: Use libvirt-daemon-system in Ubuntu Focal

... because libvirt-bin is no longer available since Focal(20.04).
This was fixed by e32576aebc31311e6dbc76b12e6a782481633fe8 during
Wallaby cycle.

Closes-Bug: #1933978
Change-Id: I66f14ec424f9446bf8b5959e25abdbbd3213e51f
(cherry picked from commit ec99b385b924f3af9f469f5b95f07f48715844f1)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/72/803272/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,f74ae2a514fd0b2f65a3f55789b9617668e4d7ef,bug/1933978-stable/ussuri," if ($::operatingsystem == 'Debian') { if (versioncmp($::operatingsystemmajrelease, '9') >= 0 ) { $libvirt_package_name = 'libvirt-daemon-system' } else { $libvirt_package_name = 'libvirt-bin' } } else { # $::operatingsystem == 'Ubuntu' if versioncmp($::operatingsystemmajrelease, '20.04') >= 0 { $libvirt_package_name = 'libvirt-daemon-system' } else { $libvirt_package_name = 'libvirt-bin' }"," if ($::operatingsystem == 'Debian') and (versioncmp($::operatingsystemmajrelease, '9') >= 0 ) { $libvirt_package_name = 'libvirt-daemon-system' } else { $libvirt_package_name = 'libvirt-bin'",12,3
openstack%2Fdevstack~master~I30da189474476d3397152a0a15c2e30a62d712ad,openstack/devstack,master,I30da189474476d3397152a0a15c2e30a62d712ad,Add enforce_scope setting support for keystone,MERGED,2021-03-05 15:36:33.000000000,2021-08-10 14:49:54.000000000,2021-07-16 16:17:31.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-05 15:36:33.000000000', 'files': ['lib/keystone', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9dc2b88eb42a5f98f43bc8ad3dfa3962a4d44d74', 'message': 'Add enforce_scope setting support for keystone\n\nKeystone-tempest-plugin has implemented the secure RBAC\ntests and enabling the enforce_scope via keystone devstack\nplugin. Doing those setting in devstack will help to manage\neasily and in central place also avoid restarting the api\nservice.\n\nChange-Id: I30da189474476d3397152a0a15c2e30a62d712ad\n'}]",0,778975,9dc2b88eb42a5f98f43bc8ad3dfa3962a4d44d74,11,3,1,8556,,,0,"Add enforce_scope setting support for keystone

Keystone-tempest-plugin has implemented the secure RBAC
tests and enabling the enforce_scope via keystone devstack
plugin. Doing those setting in devstack will help to manage
easily and in central place also avoid restarting the api
service.

Change-Id: I30da189474476d3397152a0a15c2e30a62d712ad
",git fetch https://review.opendev.org/openstack/devstack refs/changes/75/778975/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/keystone', 'lib/tempest']",2,9dc2b88eb42a5f98f43bc8ad3dfa3962a4d44d74,secure-rbac," # ``enforce_scope`` # If services enable the enforce_scope for their policy # we need to enable the same on Tempest side so that # test can be run with scoped token. if [[ ""$KEYSTONE_ENFORCE_SCOPE"" == True ]] ; then iniset $TEMPEST_CONFIG enforce_scope keystone true iniset $TEMPEST_CONFIG auth admin_system 'all' iniset $TEMPEST_CONFIG auth admin_project_name '' fi ",,21,0
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I42b27b23cb7401d019997a442c47657e732cd472,openstack/puppet-openstack-integration,stable/wallaby,I42b27b23cb7401d019997a442c47657e732cd472,Remove Debian jobs,MERGED,2021-08-10 01:13:04.000000000,2021-08-10 14:49:53.000000000,2021-08-10 14:49:53.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 01:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ae0a32ecb32d7a3aa56632bb226f58a7a9cf83ff', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nCherry-Picked-From: 2e3d4875b4eca41e88c134ee50c3ec6d9a064826\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n'}, {'number': 2, 'created': '2021-08-10 04:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a77859346ec4f9c3b3292e6fa162a1bda5738fe8', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nConflicts:\n\tzuul.d/integration.yaml\n\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)\n'}, {'number': 3, 'created': '2021-08-10 04:30:11.000000000', 'files': ['zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4ff71b0732e736013f2602a1f91b0a940ec53ff4', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)\n'}]",0,804009,4ff71b0732e736013f2602a1f91b0a940ec53ff4,16,3,3,7118,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Change-Id: I42b27b23cb7401d019997a442c47657e732cd472
(cherry picked from commit b97b8d3a61839566623f201b8d7695cc99688e4e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/09/804009/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/integration.yaml', 'zuul.d/layout.yaml']",2,ae0a32ecb32d7a3aa56632bb226f58a7a9cf83ff,debian-stretch-rm,, experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario002-tempest-debian-stable - puppet-openstack-integration-6-scenario003-tempest-debian-stable - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario002-tempest-debian-stable experimental: jobs: - puppet-openstack-integration-6-scenario003-tempest-debian-stable experimental: jobs: - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous,0,46
openstack%2Fpuppet-openstack-integration~master~I42b27b23cb7401d019997a442c47657e732cd472,openstack/puppet-openstack-integration,master,I42b27b23cb7401d019997a442c47657e732cd472,Remove Debian jobs,MERGED,2021-08-10 04:01:11.000000000,2021-08-10 14:45:42.000000000,2021-08-10 14:45:42.000000000,"[{'_account_id': 6476}, {'_account_id': 7118}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 04:01:11.000000000', 'files': ['zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b97b8d3a61839566623f201b8d7695cc99688e4e', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nChange-Id: I42b27b23cb7401d019997a442c47657e732cd472\n'}]",0,804034,b97b8d3a61839566623f201b8d7695cc99688e4e,7,5,1,9816,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Change-Id: I42b27b23cb7401d019997a442c47657e732cd472
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/34/804034/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/integration.yaml', 'zuul.d/layout.yaml']",2,b97b8d3a61839566623f201b8d7695cc99688e4e,debian-stretch-rm,, experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario002-tempest-debian-stable - puppet-openstack-integration-6-scenario003-tempest-debian-stable - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario002-tempest-debian-stable experimental: jobs: - puppet-openstack-integration-6-scenario003-tempest-debian-stable experimental: jobs: - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous,0,46
openstack%2Foslo.db~master~I468048c01455d9dfe12004736c181806dc218e37,openstack/oslo.db,master,I468048c01455d9dfe12004736c181806dc218e37,Remove use of MetaData.bind argument,MERGED,2021-07-27 17:30:19.000000000,2021-08-10 14:44:21.000000000,2021-08-10 14:39:00.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/cd4a951f0b0eec2d8ea2c1dd1ccc702c51ea9705', 'message': 'Remove use of MetaData.bind argument\n\nResolves the following RemovedIn20Warning warning:\n\n  The MetaData.bind argument is deprecated and will be removed in\n  SQLAlchemy 2.0.\n\nChange-Id: I468048c01455d9dfe12004736c181806dc218e37\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/169544e9f073c63266e39b2fa7b9dd1b8e4a8354', 'message': 'Remove use of MetaData.bind argument\n\nResolves the following RemovedIn20Warning warning:\n\n  The MetaData.bind argument is deprecated and will be removed in\n  SQLAlchemy 2.0.\n\nChange-Id: I468048c01455d9dfe12004736c181806dc218e37\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ab614879f9b152b81f72e4fe40e208270facdbd5', 'message': 'Remove use of MetaData.bind argument\n\nResolves the following RemovedIn20Warning warning:\n\n  The MetaData.bind argument is deprecated and will be removed in\n  SQLAlchemy 2.0.\n\nChange-Id: I468048c01455d9dfe12004736c181806dc218e37\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c85142a945b5cc1e61c9c5b08ff537d5048d80ce', 'message': 'Remove use of MetaData.bind argument\n\nResolves the following RemovedIn20Warning warning:\n\n  The MetaData.bind argument is deprecated and will be removed in\n  SQLAlchemy 2.0.\n\nChange-Id: I468048c01455d9dfe12004736c181806dc218e37\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-08-09 13:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/040cc0eaa1f3335ac537d3778f0a2e16f023d3d9', 'message': 'Remove use of MetaData.bind argument\n\nResolves the following RemovedIn20Warning warning:\n\n  The MetaData.bind argument is deprecated and will be removed in\n  SQLAlchemy 2.0.\n\nChange-Id: I468048c01455d9dfe12004736c181806dc218e37\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2021-08-09 16:43:55.000000000', 'files': ['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/22b44ee18b1585bc2943a29ddaa18051cb1344ed', 'message': 'Remove use of MetaData.bind argument\n\nResolves the following RemovedIn20Warning warning:\n\n  The MetaData.bind argument is deprecated and will be removed in\n  SQLAlchemy 2.0.\n\nChange-Id: I468048c01455d9dfe12004736c181806dc218e37\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",25,802570,22b44ee18b1585bc2943a29ddaa18051cb1344ed,22,3,6,15334,,,0,"Remove use of MetaData.bind argument

Resolves the following RemovedIn20Warning warning:

  The MetaData.bind argument is deprecated and will be removed in
  SQLAlchemy 2.0.

Change-Id: I468048c01455d9dfe12004736c181806dc218e37
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/70/802570/5 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py']",4,cd4a951f0b0eec2d8ea2c1dd1ccc702c51ea9705,sqlalchemy-20,," message=r'The MetaData.bind argument is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",12,11
openstack%2Fopenstack-zuul-jobs~master~Ibf0413f556424f2398bb49fd61ecc5f46b7f0b37,openstack/openstack-zuul-jobs,master,Ibf0413f556424f2398bb49fd61ecc5f46b7f0b37,Add Python3 project templates for Yoga release,MERGED,2021-08-03 16:31:39.000000000,2021-08-10 14:41:54.000000000,2021-08-10 14:20:48.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-03 16:31:39.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/834f6e30b8d790acd1e41f4f70c50ece90f1dc16', 'message': 'Add Python3 project templates for Yoga release\n\nAs per TC resolution on updating the python version for testing,\nthis commit defines the job template to be used for testing the\ndefined testing runtime for Yoga release[1].\n\nThis also defines openstack-python3-yoga-jobs-arm64 template\nwhich is needed to continue the arms64 testing as n-v\nfor many projects like Nova, Cinder, Heat etc.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ibf0413f556424f2398bb49fd61ecc5f46b7f0b37\n'}]",2,803376,834f6e30b8d790acd1e41f4f70c50ece90f1dc16,12,4,1,8556,,,0,"Add Python3 project templates for Yoga release

As per TC resolution on updating the python version for testing,
this commit defines the job template to be used for testing the
defined testing runtime for Yoga release[1].

This also defines openstack-python3-yoga-jobs-arm64 template
which is needed to continue the arms64 testing as n-v
for many projects like Nova, Cinder, Heat etc.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ibf0413f556424f2398bb49fd61ecc5f46b7f0b37
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/76/803376/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,834f6e30b8d790acd1e41f4f70c50ece90f1dc16,, name: openstack-python3-yoga-jobs description: | Runs unit tests for an OpenStack Python project under the CPython version 3 releases designated for testing in the Yoga release. check: jobs: - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py38 - openstack-tox-py39: voting: false gate: jobs: - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py38 post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python3-yoga-jobs-horizon description: | The standard :zuul:project_template:`openstack-python3-yoga-jobs` but with horizon added as a required-projects. This checks out the project code and allows tox_install_siblings to use horizon when building the venv. check: jobs: - openstack-tox-pep8: required-projects: - openstack/horizon - openstack-tox-py36: required-projects: - openstack/horizon - openstack-tox-py38: required-projects: - openstack/horizon - openstack-tox-py39: required-projects: - openstack/horizon voting: false gate: jobs: - openstack-tox-pep8: required-projects: - openstack/horizon - openstack-tox-py36: required-projects: - openstack/horizon - openstack-tox-py38: required-projects: - openstack/horizon post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python3-yoga-jobs-neutron description: | The standard :zuul:project_template:`openstack-python3-yoga-jobs` but with neutron added as a required-projects. This checks out the project code and allows tox_install_siblings to use neutron when building the venv. check: jobs: - openstack-tox-pep8: required-projects: - openstack/neutron - openstack-tox-py36: required-projects: - openstack/neutron - openstack-tox-py38: required-projects: - openstack/neutron - openstack-tox-py39: required-projects: - openstack/neutron voting: false gate: jobs: - openstack-tox-pep8: required-projects: - openstack/neutron - openstack-tox-py36: required-projects: - openstack/neutron - openstack-tox-py38: required-projects: - openstack/neutron post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python3-yoga-jobs-ceilometer description: | The standard :zuul:project_template:`openstack-python3-yoga-jobs` but with ceilometer added as a required-projects. This checks out the project code and allows tox_install_siblings to use ceilometer when building the venv. check: jobs: - openstack-tox-pep8: required-projects: - openstack/ceilometer - openstack-tox-py36: required-projects: - openstack/ceilometer - openstack-tox-py38: required-projects: - openstack/ceilometer - openstack-tox-py39: required-projects: - openstack/ceilometer voting: false gate: jobs: - openstack-tox-pep8: required-projects: - openstack/ceilometer - openstack-tox-py36: required-projects: - openstack/ceilometer - openstack-tox-py38: required-projects: - openstack/ceilometer post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python3-yoga-jobs-arm64 description: | Runs unit tests for an OpenStack Python project under the CPython version 3 releases designated for testing in the Yoga release on top of ARM64 architecture. This currently runs only a limited test set and supplements the python3-yoga-jobs. And it should not be run instead of the default! check-arm64: jobs: - openstack-tox-py38-arm64: voting: false - openstack-tox-py39-arm64: voting: false - project-template:,,147,0
openstack%2Foslo.db~master~I6dae26aeb4b2a5cc4f39ed637807a27e44d40025,openstack/oslo.db,master,I6dae26aeb4b2a5cc4f39ed637807a27e44d40025,tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase',MERGED,2021-07-27 17:30:19.000000000,2021-08-10 14:40:20.000000000,2021-08-10 14:38:51.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f3a8cdfe81f3666ac2ed012b276cc2cdb3b47ab2', 'message': ""tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'\n\nWe have quite a few base test classes in use. Start fixing these by\nremoving the logic from one of these. We will remove the class entirely\nin a future change.\n\nChange-Id: I6dae26aeb4b2a5cc4f39ed637807a27e44d40025\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 09:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/729b0f821b547e546c9576486383c192e66196f0', 'message': ""tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'\n\nWe have quite a few base test classes in use. Start fixing these by\nremoving the logic from one of these. We will remove the class entirely\nin a future change.\n\nChange-Id: I6dae26aeb4b2a5cc4f39ed637807a27e44d40025\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8f22c9d564b903696814f092f67be702dc580c02', 'message': ""tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'\n\nWe have quite a few base test classes in use. Start fixing these by\nremoving the logic from one of these. We will remove the class entirely\nin a future change.\n\nChange-Id: I6dae26aeb4b2a5cc4f39ed637807a27e44d40025\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/520661251540589e2ddf0f6bc5652899b985a804', 'message': ""tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'\n\nWe have quite a few base test classes in use. Start fixing these by\nremoving the logic from one of these. We will remove the class entirely\nin a future change.\n\nChange-Id: I6dae26aeb4b2a5cc4f39ed637807a27e44d40025\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-07-29 15:37:53.000000000', 'files': ['oslo_db/tests/test_concurrency.py', 'oslo_db/tests/sqlalchemy/test_options.py', 'oslo_db/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/538e0a23abd8dfb7a2fe4a47655e759a50138b13', 'message': ""tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'\n\nWe have quite a few base test classes in use. Start fixing these by\nremoving the logic from one of these. We will remove the class entirely\nin a future change.\n\nChange-Id: I6dae26aeb4b2a5cc4f39ed637807a27e44d40025\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,802564,538e0a23abd8dfb7a2fe4a47655e759a50138b13,16,3,5,15334,,,0,"tests: Enfeeble 'oslo_db.tests.utils.BaseTestCase'

We have quite a few base test classes in use. Start fixing these by
removing the logic from one of these. We will remove the class entirely
in a future change.

Change-Id: I6dae26aeb4b2a5cc4f39ed637807a27e44d40025
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/64/802564/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/test_concurrency.py', 'oslo_db/tests/sqlalchemy/test_options.py', 'oslo_db/tests/utils.py']",3,f3a8cdfe81f3666ac2ed012b276cc2cdb3b47ab2,sqlalchemy-20,# TODO(stephenfin): Remove as this is no longer necessary class BaseTestCase(test_base.BaseTestCase): pass,"class BaseTestCase(test_base.BaseTestCase): def setUp(self, conf=cfg.CONF): super(BaseTestCase, self).setUp() self.conf = conf self.addCleanup(self.conf.reset)",9,8
openstack%2Foslo.db~master~Ic5f7240e790425d2689c6870483748650a49bc3d,openstack/oslo.db,master,Ic5f7240e790425d2689c6870483748650a49bc3d,Remove legacy calling style of select(),MERGED,2021-07-27 17:30:19.000000000,2021-08-10 14:38:58.000000000,2021-08-10 14:38:58.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/96e11f364b3689f2d713174302578da19bbabf25', 'message': 'Remove legacy calling style of select()\n\nResolve the following SADeprecationWarning warning:\n\n  The legacy calling style of select() is deprecated and will be removed\n  in SQLAlchemy 2.0.  Please use the new calling style described at\n  select().\n\nChange-Id: Ic5f7240e790425d2689c6870483748650a49bc3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f3a4cdfbbb209ba802a9ce252654871f9d486307', 'message': 'Remove legacy calling style of select()\n\nResolve the following SADeprecationWarning warning:\n\n  The legacy calling style of select() is deprecated and will be removed\n  in SQLAlchemy 2.0.  Please use the new calling style described at\n  select().\n\nChange-Id: Ic5f7240e790425d2689c6870483748650a49bc3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/a082268b38a91742a29ea6da246b12a21f03dc31', 'message': 'Remove legacy calling style of select()\n\nResolve the following SADeprecationWarning warning:\n\n  The legacy calling style of select() is deprecated and will be removed\n  in SQLAlchemy 2.0.  Please use the new calling style described at\n  select().\n\nChange-Id: Ic5f7240e790425d2689c6870483748650a49bc3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': ['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_enginefacade.py', 'doc/source/user/usage.rst', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py', 'oslo_db/tests/sqlalchemy/test_update_match.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8d7607266c51d91b289526cd571d70993c278c8f', 'message': 'Remove legacy calling style of select()\n\nResolve the following SADeprecationWarning warning:\n\n  The legacy calling style of select() is deprecated and will be removed\n  in SQLAlchemy 2.0.  Please use the new calling style described at\n  select().\n\nChange-Id: Ic5f7240e790425d2689c6870483748650a49bc3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,802569,8d7607266c51d91b289526cd571d70993c278c8f,13,3,4,15334,,,0,"Remove legacy calling style of select()

Resolve the following SADeprecationWarning warning:

  The legacy calling style of select() is deprecated and will be removed
  in SQLAlchemy 2.0.  Please use the new calling style described at
  select().

Change-Id: Ic5f7240e790425d2689c6870483748650a49bc3d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/69/802569/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_enginefacade.py', 'doc/source/user/usage.rst', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py', 'oslo_db/tests/sqlalchemy/test_update_match.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/fixtures.py']",9,96e11f364b3689f2d713174302578da19bbabf25,sqlalchemy-20,," message=r'The legacy calling style of select\(\) is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once',",27,25
openstack%2Foslo.db~master~I32cad5fd9ddbfd2ff6b62e5e2f87fad6ece7a4c1,openstack/oslo.db,master,I32cad5fd9ddbfd2ff6b62e5e2f87fad6ece7a4c1,tests: Enable SQLAlchemy 2.0 deprecation warnings,MERGED,2021-07-27 17:30:19.000000000,2021-08-10 14:38:57.000000000,2021-08-10 14:38:57.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e3721f373849ca5e0a7b07a0cef4690f9d67a445', 'message': ""tests: Enable SQLAlchemy 2.0 deprecation warnings\n\nWell, sort of. We enable them but immediately filter out the ones we're\nactually seeing, the rationale being that we can address these in a\npiecemeal fashion without the risk of introducing new issues.\n\nChange-Id: I32cad5fd9ddbfd2ff6b62e5e2f87fad6ece7a4c1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4c527f2a83d70ad6e973b70a3488b9f3e8ae7306', 'message': ""tests: Enable SQLAlchemy 2.0 deprecation warnings\n\nWell, sort of. We enable them but immediately filter out the ones we're\nactually seeing, the rationale being that we can address these in a\npiecemeal fashion without the risk of introducing new issues.\n\nChange-Id: I32cad5fd9ddbfd2ff6b62e5e2f87fad6ece7a4c1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6adaeda1ed60b8b676454c5160a245133078a94a', 'message': ""tests: Enable SQLAlchemy 2.0 deprecation warnings\n\nWell, sort of. We enable them but immediately filter out the ones we're\nactually seeing, the rationale being that we can address these in a\npiecemeal fashion without the risk of introducing new issues.\n\nChange-Id: I32cad5fd9ddbfd2ff6b62e5e2f87fad6ece7a4c1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': ['tox.ini', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4c1eb966c08d29214c1905e74965f4109f41b013', 'message': ""tests: Enable SQLAlchemy 2.0 deprecation warnings\n\nWell, sort of. We enable them but immediately filter out the ones we're\nactually seeing, the rationale being that we can address these in a\npiecemeal fashion without the risk of introducing new issues.\n\nChange-Id: I32cad5fd9ddbfd2ff6b62e5e2f87fad6ece7a4c1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,802568,4c1eb966c08d29214c1905e74965f4109f41b013,13,3,4,15334,,,0,"tests: Enable SQLAlchemy 2.0 deprecation warnings

Well, sort of. We enable them but immediately filter out the ones we're
actually seeing, the rationale being that we can address these in a
piecemeal fashion without the risk of introducing new issues.

Change-Id: I32cad5fd9ddbfd2ff6b62e5e2f87fad6ece7a4c1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/68/802568/4 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'oslo_db/tests/fixtures.py']",2,e3721f373849ca5e0a7b07a0cef4690f9d67a445,sqlalchemy-20," # ...but filter everything out until we get around to fixing them # FIXME(stephenfin): Remove all of these warnings.filterwarnings( 'once', message=r'The legacy calling style of select\(\) is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The MetaData.bind argument is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The ``bind`` argument for schema methods .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The Session.autocommit parameter is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The Session.begin.subtransactions flag is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The autoload parameter is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'Using non-integer/slice indices on Row is deprecated .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The insert.values parameter will be removed .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The update.values parameter will be removed .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The Engine.execute\(\) method is considered legacy .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The Executable.execute\(\) method is considered .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The Row.keys\(\) method is considered legacy .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'Retrieving row members using strings or other .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The connection.execute\(\) method in SQLAlchemy 2.0 .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'Calling the mapper\(\) function directly outside .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'Passing a string to Connection.execute\(\) .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'Using plain strings to indicate SQL statements .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The current statement is being autocommitted .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'Calling \.begin\(\) when a transaction is already .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The update.whereclause parameter will be removed .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The Engine.scalar\(\) method is considered legacy .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'once', message=r'The ``declarative_base\(\)`` function is now .*', category=sqla_exc.SADeprecationWarning) ",,116,1
openstack%2Foslo.db~master~I6efb6e1d35542cd8df922c86e134fe1e0b8c2e52,openstack/oslo.db,master,I6efb6e1d35542cd8df922c86e134fe1e0b8c2e52,utils: Deprecate sqlalchemy-migrate-related functions,MERGED,2021-07-27 17:30:19.000000000,2021-08-10 14:38:55.000000000,2021-08-10 14:38:55.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e4cfef8b0ede412f859d2097892f2936bebefd5f', 'message': 'utils: Deprecate sqlalchemy-migrate-related functions\n\nThese are using private APIs of SQLAlchemy but, more importantly, are\nnot necessary in an alembic-only world. Mark them deprecated for\nremoval.\n\nChange-Id: I6efb6e1d35542cd8df922c86e134fe1e0b8c2e52\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d79d376d59f5e31d0b31f0688fd634405190c528', 'message': 'utils: Deprecate sqlalchemy-migrate-related functions\n\nThese are using private APIs of SQLAlchemy but, more importantly, are\nnot necessary in an alembic-only world. Mark them deprecated for\nremoval.\n\nChange-Id: I6efb6e1d35542cd8df922c86e134fe1e0b8c2e52\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7f431c872e993965c125c40dbfff2619ebb8a050', 'message': 'utils: Deprecate sqlalchemy-migrate-related functions\n\nThese are using private APIs of SQLAlchemy but, more importantly, are\nnot necessary in an alembic-only world. Mark them deprecated for\nremoval.\n\nChange-Id: I6efb6e1d35542cd8df922c86e134fe1e0b8c2e52\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': ['oslo_db/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/da002a82f113afc1eb9f0329d567ae9db573091b', 'message': 'utils: Deprecate sqlalchemy-migrate-related functions\n\nThese are using private APIs of SQLAlchemy but, more importantly, are\nnot necessary in an alembic-only world. Mark them deprecated for\nremoval.\n\nChange-Id: I6efb6e1d35542cd8df922c86e134fe1e0b8c2e52\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,802567,da002a82f113afc1eb9f0329d567ae9db573091b,13,3,4,15334,,,0,"utils: Deprecate sqlalchemy-migrate-related functions

These are using private APIs of SQLAlchemy but, more importantly, are
not necessary in an alembic-only world. Mark them deprecated for
removal.

Change-Id: I6efb6e1d35542cd8df922c86e134fe1e0b8c2e52
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/67/802567/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/utils.py'],1,e4cfef8b0ede412f859d2097892f2936bebefd5f,sqlalchemy-20,"import debtcollector.removals@debtcollector.removals.remove( message='This API is intended for use with sqlalchemy-migrate, support ' 'for which is deprecated for removal; it will be removed in a future ' 'release', version='10.1.0', )@debtcollector.removals.remove( message='This API is intended for use with sqlalchemy-migrate, support ' 'for which is deprecated for removal; it will be removed in a future ' 'release', version='10.1.0', )",,13,0
openstack%2Foslo.db~master~I34b395e6d50f4e4151178c327d94308e6f5d5b6e,openstack/oslo.db,master,I34b395e6d50f4e4151178c327d94308e6f5d5b6e,tests: Enable SADeprecationWarning warnings,MERGED,2021-07-27 17:30:19.000000000,2021-08-10 14:38:54.000000000,2021-08-10 14:38:54.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/63537971b75323db85923228615752fe45067efc', 'message': ""tests: Enable SADeprecationWarning warnings\n\nHighlight use of deprecated SQLAlchemy APIs to ensure we keep on top of\nthings. This requires resolving the following SADeprecationWarning\nwarnings:\n\n  The from_engine() method on Inspector is deprecated and will be\n  removed in a future release.  Please use the sqlalchemy.inspect()\n  function on an Engine or Connection in order to acquire an Inspector.\n\n  The Column.copy() method is deprecated and will be removed in a future\n  release.\n\n  The ColumnCollectionConstraint.copy() method is deprecated and will be\n  removed in a future release.\n\nThere are more warnings to be resolved related to SQLAlchemy 2.0, but\nthose require a special environment option (SQLALCHEMY_WARN_20) to\ntrigger and a lot of work to resolve. We'll address those in a series of\nfollow-ups.\n\nChange-Id: I34b395e6d50f4e4151178c327d94308e6f5d5b6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e29d0e28d8a56e2762887da7d80c1caa6278ac28', 'message': ""tests: Enable SADeprecationWarning warnings\n\nHighlight use of deprecated SQLAlchemy APIs to ensure we keep on top of\nthings. This requires resolving the following SADeprecationWarning\nwarnings:\n\n  The from_engine() method on Inspector is deprecated and will be\n  removed in a future release.  Please use the sqlalchemy.inspect()\n  function on an Engine or Connection in order to acquire an Inspector.\n\n  The Column.copy() method is deprecated and will be removed in a future\n  release.\n\n  The ColumnCollectionConstraint.copy() method is deprecated and will be\n  removed in a future release.\n\nThere are more warnings to be resolved related to SQLAlchemy 2.0, but\nthose require a special environment option (SQLALCHEMY_WARN_20) to\ntrigger and a lot of work to resolve. We'll address those in a series of\nfollow-ups.\n\nChange-Id: I34b395e6d50f4e4151178c327d94308e6f5d5b6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6232f120d4ceda7ee7fdb7aee59a5db53c51267b', 'message': ""tests: Enable SADeprecationWarning warnings\n\nHighlight use of deprecated SQLAlchemy APIs to ensure we keep on top of\nthings. This requires resolving the following SADeprecationWarning\nwarnings:\n\n  The from_engine() method on Inspector is deprecated and will be\n  removed in a future release.  Please use the sqlalchemy.inspect()\n  function on an Engine or Connection in order to acquire an Inspector.\n\n  The Column.copy() method is deprecated and will be removed in a future\n  release.\n\n  The ColumnCollectionConstraint.copy() method is deprecated and will be\n  removed in a future release.\n\nThere are more warnings to be resolved related to SQLAlchemy 2.0, but\nthose require a special environment option (SQLALCHEMY_WARN_20) to\ntrigger and a lot of work to resolve. We'll address those in a series of\nfollow-ups.\n\nChange-Id: I34b395e6d50f4e4151178c327d94308e6f5d5b6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': ['oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/base.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/40bce5a2baf75dc87dd591e0f71a00f221a2ba92', 'message': ""tests: Enable SADeprecationWarning warnings\n\nHighlight use of deprecated SQLAlchemy APIs to ensure we keep on top of\nthings. This requires resolving the following SADeprecationWarning\nwarnings:\n\n  The from_engine() method on Inspector is deprecated and will be\n  removed in a future release.  Please use the sqlalchemy.inspect()\n  function on an Engine or Connection in order to acquire an Inspector.\n\n  The Column.copy() method is deprecated and will be removed in a future\n  release.\n\n  The ColumnCollectionConstraint.copy() method is deprecated and will be\n  removed in a future release.\n\nThere are more warnings to be resolved related to SQLAlchemy 2.0, but\nthose require a special environment option (SQLALCHEMY_WARN_20) to\ntrigger and a lot of work to resolve. We'll address those in a series of\nfollow-ups.\n\nChange-Id: I34b395e6d50f4e4151178c327d94308e6f5d5b6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,802566,40bce5a2baf75dc87dd591e0f71a00f221a2ba92,15,3,4,15334,,,0,"tests: Enable SADeprecationWarning warnings

Highlight use of deprecated SQLAlchemy APIs to ensure we keep on top of
things. This requires resolving the following SADeprecationWarning
warnings:

  The from_engine() method on Inspector is deprecated and will be
  removed in a future release.  Please use the sqlalchemy.inspect()
  function on an Engine or Connection in order to acquire an Inspector.

  The Column.copy() method is deprecated and will be removed in a future
  release.

  The ColumnCollectionConstraint.copy() method is deprecated and will be
  removed in a future release.

There are more warnings to be resolved related to SQLAlchemy 2.0, but
those require a special environment option (SQLALCHEMY_WARN_20) to
trigger and a lot of work to resolve. We'll address those in a series of
follow-ups.

Change-Id: I34b395e6d50f4e4151178c327d94308e6f5d5b6e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/66/802566/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/test_migrations.py', 'oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/base.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/fixtures.py']",5,63537971b75323db85923228615752fe45067efc,sqlalchemy-20,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import warnings import fixtures from sqlalchemy import exc as sqla_exc class WarningsFixture(fixtures.Fixture): """"""Filters out warnings during test runs."""""" def setUp(self): super().setUp() # Make deprecation warnings only happen once to avoid spamming warnings.simplefilter('once', DeprecationWarning) warnings.filterwarnings( 'error', message='Evaluating non-mapped column expression', category=sqla_exc.SAWarning) # Enable deprecation warnings to capture upcoming SQLAlchemy changes warnings.filterwarnings( 'error', category=sqla_exc.SADeprecationWarning) self.addCleanup(warnings.resetwarnings) ",,64,18
openstack%2Foslo.db~master~I0bf663fdfd3c8be93e5658493e221d0a7db78832,openstack/oslo.db,master,I0bf663fdfd3c8be93e5658493e221d0a7db78832,tests: Use common base class,MERGED,2021-07-27 17:30:19.000000000,2021-08-10 14:38:52.000000000,2021-08-10 14:38:52.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8566910a70a0761050b34a0b1ecbc1a186874601', 'message': 'tests: Use common base class\n\nThe final step in cleaning up our many base classes. This will allow us\nto do things consistently across the test suite in future changes.\n\nChange-Id: I0bf663fdfd3c8be93e5658493e221d0a7db78832\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/abb249cf7837b1f4b382d7a0a4d6dd96b4979d61', 'message': 'tests: Use common base class\n\nThe final step in cleaning up our many base classes. This will allow us\nto do things consistently across the test suite in future changes.\n\nChange-Id: I0bf663fdfd3c8be93e5658493e221d0a7db78832\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ccbeb04c0a7e86c92b71ea1f71bacbbf9c25294a', 'message': 'tests: Use common base class\n\nThe final step in cleaning up our many base classes. This will allow us\nto do things consistently across the test suite in future changes.\n\nChange-Id: I0bf663fdfd3c8be93e5658493e221d0a7db78832\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-07-29 15:37:53.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_ndb.py', 'oslo_db/tests/sqlalchemy/test_migrations.py', 'oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/tests/test_concurrency.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_fixtures.py', 'oslo_db/tests/test_api.py', 'oslo_db/tests/sqlalchemy/test_update_match.py', 'oslo_db/tests/sqlalchemy/base.py', 'oslo_db/tests/sqlalchemy/test_options.py', 'oslo_db/tests/sqlalchemy/test_migrate_cli.py', 'oslo_db/tests/sqlalchemy/test_provision.py', 'oslo_db/tests/sqlalchemy/test_models.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/a6007a98b1ea111c3d41c8c00578543fa47fcab0', 'message': 'tests: Use common base class\n\nThe final step in cleaning up our many base classes. This will allow us\nto do things consistently across the test suite in future changes.\n\nChange-Id: I0bf663fdfd3c8be93e5658493e221d0a7db78832\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,802565,a6007a98b1ea111c3d41c8c00578543fa47fcab0,13,3,4,15334,,,0,"tests: Use common base class

The final step in cleaning up our many base classes. This will allow us
to do things consistently across the test suite in future changes.

Change-Id: I0bf663fdfd3c8be93e5658493e221d0a7db78832
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/65/802565/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_ndb.py', 'oslo_db/tests/sqlalchemy/test_migrations.py', 'oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/tests/test_concurrency.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_fixtures.py', 'oslo_db/tests/test_api.py', 'oslo_db/tests/sqlalchemy/test_update_match.py', 'oslo_db/tests/sqlalchemy/base.py', 'oslo_db/tests/sqlalchemy/test_options.py', 'oslo_db/tests/sqlalchemy/test_migrate_cli.py', 'oslo_db/tests/sqlalchemy/test_provision.py', 'oslo_db/tests/sqlalchemy/test_models.py', 'oslo_db/tests/sqlalchemy/test_utils.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py', 'oslo_db/tests/utils.py']",16,8566910a70a0761050b34a0b1ecbc1a186874601,sqlalchemy-20,,from oslo_config import cfg from oslotest import base as test_base # TODO(stephenfin): Remove as this is no longer necessary class BaseTestCase(test_base.BaseTestCase): pass,162,137
openstack%2Foslo.versionedobjects~master~I29478df88665ee5311e3ba308ab645c47e5b0fc8,openstack/oslo.versionedobjects,master,I29478df88665ee5311e3ba308ab645c47e5b0fc8,Replace deprecated inspect.getargspec,MERGED,2021-07-15 11:51:00.000000000,2021-08-10 14:37:52.000000000,2021-08-10 14:34:33.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-15 11:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/4c3dbaff044b3673255f9db3d6858312522aa191', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I29478df88665ee5311e3ba308ab645c47e5b0fc8\n'}, {'number': 2, 'created': '2021-07-15 15:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/eee931cd0d46a78f22dcae0a0ee0a55daa2e4eeb', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I29478df88665ee5311e3ba308ab645c47e5b0fc8\n'}, {'number': 3, 'created': '2021-07-16 02:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/ab89da564d3cb2dc50990af3f5a28b1d6c00cedc', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I29478df88665ee5311e3ba308ab645c47e5b0fc8\n'}, {'number': 4, 'created': '2021-07-16 02:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/fedfd97748f5b6aebd1a1bc91c990f7d5ec07deb', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I29478df88665ee5311e3ba308ab645c47e5b0fc8\n'}, {'number': 5, 'created': '2021-07-16 02:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/10e7867da778fc4d1f1c2e01089e673b31cb0ce2', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I29478df88665ee5311e3ba308ab645c47e5b0fc8\n'}, {'number': 6, 'created': '2021-07-16 02:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/0f629967895725238a4471aad603267673ff4ab9', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I29478df88665ee5311e3ba308ab645c47e5b0fc8\n'}, {'number': 7, 'created': '2021-07-19 00:59:01.000000000', 'files': ['oslo_versionedobjects/tests/test_fixture.py', 'oslo_versionedobjects/test.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/07fd2f2c4782636e798f40e47ebfa8ba566b014e', 'message': 'Replace deprecated inspect.getargspec\n\ninspect.getargspec was deprecated since Python 3.0 and\ninspect.getfullargspec is its replacement with correct handling of\nfunction annotations and keyword-only parameters[1].\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I29478df88665ee5311e3ba308ab645c47e5b0fc8\n'}]",3,800926,07fd2f2c4782636e798f40e47ebfa8ba566b014e,20,3,7,9816,,,0,"Replace deprecated inspect.getargspec

inspect.getargspec was deprecated since Python 3.0 and
inspect.getfullargspec is its replacement with correct handling of
function annotations and keyword-only parameters[1].

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: I29478df88665ee5311e3ba308ab645c47e5b0fc8
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/26/800926/7 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_versionedobjects/tests/test_fixture.py', 'oslo_versionedobjects/test.py']",2,4c3dbaff044b3673255f9db3d6858312522aa191,getargspec, baseargs = inspect.getfullargspec(basemethods[name]) implargs = inspect.getfullargspec(implmethods[name]), baseargs = inspect.getargspec(basemethods[name]) implargs = inspect.getargspec(implmethods[name]),5,5
openstack%2Foslo.versionedobjects~master~Id3c18d151a6f239f7ceff4e0b24f4006963827ea,openstack/oslo.versionedobjects,master,Id3c18d151a6f239f7ceff4e0b24f4006963827ea,Do not patch inspect.argspec directly,MERGED,2021-07-16 02:27:46.000000000,2021-08-10 14:36:04.000000000,2021-08-10 14:33:53.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-16 02:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/b2913089241af63d69b5a28d0de2a8ea935b1124', 'message': 'Do not patch inspect.argspec directly\n\nThis fixes the left over of c1933306ddd8df09185c5d32ff2603d826d4ad5a\nand makes the get_method_spec method patched instead of inspect.argspec\nbecause now the method wraps call to inspect.argspec.\n\nChange-Id: Id3c18d151a6f239f7ceff4e0b24f4006963827ea\n'}, {'number': 2, 'created': '2021-07-16 02:30:18.000000000', 'files': ['oslo_versionedobjects/tests/test_fixture.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/63cdc14853d9a0cd7da6416a5ca60121e86fd218', 'message': 'Do not patch inspect.argspec directly\n\nThis fixes the leftover of c1933306ddd8df09185c5d32ff2603d826d4ad5a\nand makes the get_method_spec method patched instead of inspect.argspec\nbecause now the method wraps call to inspect.argspec.\n\nChange-Id: Id3c18d151a6f239f7ceff4e0b24f4006963827ea\n'}]",0,801016,63cdc14853d9a0cd7da6416a5ca60121e86fd218,9,3,2,9816,,,0,"Do not patch inspect.argspec directly

This fixes the leftover of c1933306ddd8df09185c5d32ff2603d826d4ad5a
and makes the get_method_spec method patched instead of inspect.argspec
because now the method wraps call to inspect.argspec.

Change-Id: Id3c18d151a6f239f7ceff4e0b24f4006963827ea
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/16/801016/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_versionedobjects/tests/test_fixture.py'],1,b2913089241af63d69b5a28d0de2a8ea935b1124,getargspec," with mock.patch.object(fixture, 'get_method_spec') as mock_gas:", with mock.patch('inspect.getargspec') as mock_gas:,1,1
openstack%2Fironic-inspector~master~I2e247ff2d68705d04d40c7ea653a8d3e0daf17d8,openstack/ironic-inspector,master,I2e247ff2d68705d04d40c7ea653a8d3e0daf17d8,Add lower-constraints job to current development branch,MERGED,2021-08-05 10:21:18.000000000,2021-08-10 14:34:54.000000000,2021-08-10 14:30:51.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 10:21:18.000000000', 'files': ['lower-constraints.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/424b53e55d71ad1168b69b47ba2352a6c0cb41f7', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nChange-Id: I2e247ff2d68705d04d40c7ea653a8d3e0daf17d8\n'}]",0,803570,424b53e55d71ad1168b69b47ba2352a6c0cb41f7,19,3,1,23851,,,0,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Change-Id: I2e247ff2d68705d04d40c7ea653a8d3e0daf17d8
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/70/803570/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml']",2,424b53e55d71ad1168b69b47ba2352a6c0cb41f7,lower-constraints-revamp, - openstack-lower-constraints-master-branch-jobs,,44,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I59bfe69dbb5f3d525ac6f6d655577d24036328c0,openstack/tripleo-heat-templates,stable/wallaby,I59bfe69dbb5f3d525ac6f6d655577d24036328c0,OVN DBs clustering,MERGED,2021-08-03 07:20:09.000000000,2021-08-10 14:30:55.000000000,2021-08-10 14:29:05.000000000,"[{'_account_id': 6469}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-03 07:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8803e4a26b4a6ac410713983d6824a7ae0794fb', 'message': 'OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nFor backport simplicity we also add I50cf3b7d79d8cd139ae514438e147df73901a366\n(""Fix typo in ovn-dbs-cluster northd kolla config file"") which\nis a cherry-pick + squash of commit 1115698c14788555510edbe1760bbc9cc9110dff,\nso we avoid ovn_northd connecting only to the local db via unix socket.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nRelated-Bug: #1931133\nDepends-On: I5baa697ae351d10e53f7cf70641fe0eecede507f\nDepends-On: I97442478d77d222fdd428eebd270c08df08237f6\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n(cherry picked from commit baf4a16149d2a31ccb331cc96b89871e71c00734)\n'}, {'number': 2, 'created': '2021-08-09 18:07:11.000000000', 'files': ['releasenotes/notes/add-ovn-dbs-cluster-support-6193cba5be432865.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/15433f131ceee8e8df6e8ca60b0703467fbbf310', 'message': 'OVN DBs clustering\n\nWe introduce support for running both the NB and SB OVN databases in\nclustered mode. This OVN DBs clustered mode is based on OVNs own\nclustering protocol and does not rely on pacemaker.\n\nClustering the two OVN databases increases reliability. The cluster\nworks in active-active mode and has the potential to be more\nresilient and performant.\n\nSee\nhttps://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model\nfor more information.\n\nFor backport simplicity we also add I50cf3b7d79d8cd139ae514438e147df73901a366\n(""Fix typo in ovn-dbs-cluster northd kolla config file"") which\nis a cherry-pick + squash of commit 1115698c14788555510edbe1760bbc9cc9110dff,\nso we avoid ovn_northd connecting only to the local db via unix socket.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nRelated-Bug: #1931133\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795478\n\nChange-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0\n(cherry picked from commit baf4a16149d2a31ccb331cc96b89871e71c00734)\n'}]",0,803313,15433f131ceee8e8df6e8ca60b0703467fbbf310,17,5,2,20172,,,0,"OVN DBs clustering

We introduce support for running both the NB and SB OVN databases in
clustered mode. This OVN DBs clustered mode is based on OVNs own
clustering protocol and does not rely on pacemaker.

Clustering the two OVN databases increases reliability. The cluster
works in active-active mode and has the potential to be more
resilient and performant.

See
https://docs.openvswitch.org/en/latest/ref/ovsdb.7/#clustered-database-service-model
for more information.

For backport simplicity we also add I50cf3b7d79d8cd139ae514438e147df73901a366
(""Fix typo in ovn-dbs-cluster northd kolla config file"") which
is a cherry-pick + squash of commit 1115698c14788555510edbe1760bbc9cc9110dff,
so we avoid ovn_northd connecting only to the local db via unix socket.

Co-Authored-By: Michele Baldessari <michele@acksyn.org>

Related-Bug: #1931133
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776969
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795478

Change-Id: I59bfe69dbb5f3d525ac6f6d655577d24036328c0
(cherry picked from commit baf4a16149d2a31ccb331cc96b89871e71c00734)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/803313/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-ovn-dbs-cluster-support-6193cba5be432865.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml']",2,b8803e4a26b4a6ac410713983d6824a7ae0794fb,wallabyovncluster,"heat_template_version: wallaby description: > OpenStack containerized OVN DBs service in cluster mode parameters: ContainerOvnNbDbImage: description: image type: string ContainerOvnSbDbImage: description: image type: string ContainerOvnNorthdImage: description: image type: string EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json OVNNorthboundServerPort: description: Port of the OVN Northbound DB server type: number default: 6641 OVNSouthboundServerPort: description: Port of the OVN Southbound DB server type: number default: 6642 OVNNorthboundClusterPort: description: Cluster port of the OVN Northbound DB server type: number default: 6643 OVNSouthboundClusterPort: description: Cluster port of the OVN Southbound DB server type: number default: 6644 EnableInternalTLS: type: boolean default: false InternalTLSCAFile: default: '/etc/ipa/ca.crt' type: string description: Specifies the default CA cert to use if TLS is used for services in the internal network. CertificateKeySize: type: string default: '2048' description: Specifies the private key size used when creating the certificate. OvnDBSCertificateKeySize: type: string default: '' description: Override the private key size used when creating the certificate for this service conditions: key_size_override_unset: {equals: [{get_param: OvnDBSCertificateKeySize}, '']} resources: ContainersCommon: type: ../containers-common.yaml outputs: role_data: description: Role data for the OVN multi-active cluster role. value: service_name: ovn_dbs firewall_rules: '121 OVN DB server and cluster ports': proto: 'tcp' dport: - {get_param: OVNNorthboundServerPort} - {get_param: OVNSouthboundServerPort} - {get_param: OVNNorthboundClusterPort} - {get_param: OVNSouthboundClusterPort} kolla_config: /var/lib/kolla/config_files/ovn_cluster_north_db_server.json: command: bash -c $* -- eval source /etc/sysconfig/ovn_cluster; exec /usr/local/bin/start-nb-db-server ${OVN_NB_DB_OPTS} config_files: &ovn_dbs_kolla_config_files - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - source: ""/var/lib/kolla/config_files/src-tls/*"" dest: ""/"" merge: true preserve_properties: true optional: true permissions: &ovn_dbs_kolla_permissions - path: /var/log/openvswitch owner: root:root recurse: true - path: /var/log/ovn owner: root:root recurse: true /var/lib/kolla/config_files/ovn_cluster_south_db_server.json: command: bash -c $* -- eval source /etc/sysconfig/ovn_cluster; exec /usr/local/bin/start-sb-db-server ${OVN_SB_DB_OPTS} config_files: *ovn_dbs_kolla_config_files permissions: *ovn_dbs_kolla_permissions /var/lib/kolla/config_files/ovn_cluster_northd.json: command: bash -c $* -- eval source /etc/sysconfig/ovn_cluster; exec /usr/bin/ovn-northd ${OVN_NORTHD_OPTS} config_files: *ovn_dbs_kolla_config_files permissions: *ovn_dbs_kolla_permissions docker_config: step_0: ovn_cluster_north_db_server: start_order: 0 image: {get_param: ContainerOvnNbDbImage} net: host privileged: false restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_cluster_north_db_server.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z - /var/lib/openvswitch/ovn:/var/lib/ovn:shared,z - /var/lib/openvswitch/ovn:/etc/openvswitch:shared,z - /var/lib/openvswitch/ovn:/etc/ovn:shared,z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/log/containers/openvswitch:/var/log/ovn:z - /var/lib/config-data/ansible-generated/ovn:/var/lib/kolla/config_files/src:ro - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/private/ovn_dbs.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/ovn_dbs.key:ro - /etc/pki/tls/certs/ovn_dbs.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/ovn_dbs.crt:ro - null environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS ovn_cluster_south_db_server: start_order: 0 image: {get_param: ContainerOvnSbDbImage} net: host privileged: false restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_cluster_south_db_server.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z - /var/lib/openvswitch/ovn:/var/lib/ovn:shared,z - /var/lib/openvswitch/ovn:/etc/openvswitch:shared,z - /var/lib/openvswitch/ovn:/etc/ovn:shared,z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/log/containers/openvswitch:/var/log/ovn:z - /var/lib/config-data/ansible-generated/ovn:/var/lib/kolla/config_files/src:ro - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/private/ovn_dbs.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/ovn_dbs.key:ro - /etc/pki/tls/certs/ovn_dbs.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/ovn_dbs.crt:ro - null environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS ovn_cluster_northd: start_order: 2 image: {get_param: ContainerOvnNorthdImage} net: host privileged: false restart: always healthcheck: test: /openstack/healthcheck volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_cluster_northd.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z - /var/lib/openvswitch/ovn:/run/ovn:shared,z - /var/log/containers/openvswitch:/var/log/ovn:z - /var/lib/config-data/ansible-generated/ovn:/var/lib/kolla/config_files/src:ro - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/private/ovn_dbs.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/ovn_dbs.key:ro - /etc/pki/tls/certs/ovn_dbs.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/ovn_dbs.crt:ro - null environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS global_config_settings: ovn_db_clustered: true metadata_settings: if: - {get_param: EnableInternalTLS} - - service: ovn_dbs network: {get_param: [ServiceNetMap, OvnDbsNetwork]} type: node - null host_prep_tasks: - name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode|default(omit) }}"" loop: - { 'path': /var/log/containers/openvswitch, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/openvswitch/ovn, 'setype': container_file_t } deploy_steps_tasks: - name: Prepare OVN cluster when: step|int == 1 block: - name: Certificate generation when: enable_internal_tls | bool block: - include_role: name: linux-system-roles.certificate vars: certificate_requests: - name: ovn_dbs dns: str_replace: template: ""{{fqdn_$NETWORK}}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} principal: str_replace: template: ""ovn_dbs/{{fqdn_$NETWORK}}@{{idm_realm}}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} key_size: if: - key_size_override_unset - {get_param: CertificateKeySize} - {get_param: OvnDBSCertificateKeySize} ca: ipa - name: set is_ovn_dbs_bootstrap_node fact set_fact: is_ovn_dbs_bootstrap_node={{ovn_dbs_short_bootstrap_node_name|lower == ansible_facts['hostname']|lower}} - name: Configure OVN DBs and northd include_role: name: tripleo_ovn_cluster vars: tripleo_ovn_cluster_dbs_protocol: ""{{ enable_internal_tls | ternary('ssl', 'tcp', 'tcp') }}"" tripleo_ovn_cluster_network: {get_param: [ServiceNetMap, OvnDbsNetwork]} tripleo_ovn_cluster_nb_db_port: {get_param: OVNNorthboundServerPort} tripleo_ovn_cluster_sb_db_port: {get_param: OVNSouthboundServerPort} tripleo_ovn_cluster_nb_local_port: {get_param: OVNNorthboundClusterPort} tripleo_ovn_cluster_nb_remote_port: {get_param: OVNNorthboundClusterPort} tripleo_ovn_cluster_sb_local_port: {get_param: OVNSouthboundClusterPort} tripleo_ovn_cluster_sb_remote_port: {get_param: OVNSouthboundClusterPort} - name: Start OVN DBs and northd containers (bootstrap node) when: - step|int == 3 - is_ovn_dbs_bootstrap_node | bool block: &ovn_dbs_start_containers - name: Start OVN container include_role: name: tripleo_container_manage vars: tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_0"" tripleo_container_manage_config_id: ""{{ ovn_container }}"" tripleo_container_manage_config_patterns: ""{{ ovn_container }}.json"" tripleo_container_manage_systemd_order: true loop: - ovn_cluster_north_db_server - ovn_cluster_south_db_server - ovn_cluster_northd loop_control: loop_var: ovn_container - name: Set connection # FIXME workaround until RHBZ #1952038 is fixed become: yes shell: | podman exec ovn_cluster_north_db_server bash -c ""ovn-nbctl -p /etc/pki/tls/private/ovn_dbs.key -c /etc/pki/tls/certs/ovn_dbs.crt -C /etc/ipa/ca.crt set-connection pssl:{{ tripleo_ovn_cluster_nb_db_port }}"" podman exec ovn_cluster_south_db_server bash -c ""ovn-sbctl -p /etc/pki/tls/private/ovn_dbs.key -c /etc/pki/tls/certs/ovn_dbs.crt -C /etc/ipa/ca.crt set-connection pssl:{{ tripleo_ovn_cluster_sb_db_port }}"" when: - enable_internal_tls | bool - is_ovn_dbs_bootstrap_node | bool vars: tripleo_ovn_cluster_network: {get_param: [ServiceNetMap, OvnDbsNetwork]} tripleo_ovn_cluster_nb_db_port: {get_param: OVNNorthboundServerPort} tripleo_ovn_cluster_sb_db_port: {get_param: OVNSouthboundServerPort} - name: Start OVN DBs and northd containers (non-bootstrap nodes) when: - step|int == 4 - not is_ovn_dbs_bootstrap_node | bool block: *ovn_dbs_start_containers update_tasks: [] upgrade_tasks: [] ",,322,0
openstack%2Foslo.db~master~I110392586fb032507d122ae9a412a6bba7c5ff2d,openstack/oslo.db,master,I110392586fb032507d122ae9a412a6bba7c5ff2d,tests: Clean up base test,MERGED,2021-07-27 17:30:19.000000000,2021-08-10 14:29:37.000000000,2021-08-10 14:28:12.000000000,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-27 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/16e321d44517443327ab4dd3cf16542c0ed8ecb3', 'message': ""tests: Clean up base test\n\nThis base test isn't actually used by anything but we're going to change\nthat shortly. Before we do, address a longstanding TODO and make it\nsubclass 'oslotest.BaseTestCase'. Because 'oslotest.BaseTestCase'\nalready configures all of the fixtures we're currently using, our own\nbase test class ends up being a simple wrapper. This will also change in\nthe future.\n\nChange-Id: I110392586fb032507d122ae9a412a6bba7c5ff2d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-29 10:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e0042db52be3591c39ac05973e8fb677527018b8', 'message': ""tests: Clean up base test\n\nThis base test isn't actually used by anything but we're going to change\nthat shortly. Before we do, address a longstanding TODO and make it\nsubclass 'oslotest.BaseTestCase'. Because 'oslotest.BaseTestCase'\nalready configures all of the fixtures we're currently using, our own\nbase test class ends up being a simple wrapper. This will also change in\nthe future.\n\nChange-Id: I110392586fb032507d122ae9a412a6bba7c5ff2d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-29 15:37:53.000000000', 'files': ['oslo_db/tests/base.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/73e376d2fd5c96a9a3ddd1aea43197f82dd767c2', 'message': ""tests: Clean up base test\n\nThis base test isn't actually used by anything but we're going to change\nthat shortly. Before we do, address a longstanding TODO and make it\nsubclass 'oslotest.BaseTestCase'. Because 'oslotest.BaseTestCase'\nalready configures all of the fixtures we're currently using, our own\nbase test class ends up being a simple wrapper. This will also change in\nthe future.\n\nChange-Id: I110392586fb032507d122ae9a412a6bba7c5ff2d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,802563,73e376d2fd5c96a9a3ddd1aea43197f82dd767c2,15,3,3,15334,,,0,"tests: Clean up base test

This base test isn't actually used by anything but we're going to change
that shortly. Before we do, address a longstanding TODO and make it
subclass 'oslotest.BaseTestCase'. Because 'oslotest.BaseTestCase'
already configures all of the fixtures we're currently using, our own
base test class ends up being a simple wrapper. This will also change in
the future.

Change-Id: I110392586fb032507d122ae9a412a6bba7c5ff2d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/63/802563/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/tests/base.py'],1,16e321d44517443327ab4dd3cf16542c0ed8ecb3,sqlalchemy-20,"# http://www.apache.org/licenses/LICENSE-2.0from oslotest import base class BaseTestCase(base.BaseTestCase): """"""Test case base class for all oslo.db unit tests."""""" super().setUp()","# Copyright 2010-2011 OpenStack Foundation # Copyright (c) 2013 Hewlett-Packard Development Company, L.P. ## http://www.apache.org/licenses/LICENSE-2.0import os import fixtures import testtools _TRUE_VALUES = ('true', '1', 'yes') # FIXME(dhellmann) Update this to use oslo.test library class TestCase(testtools.TestCase): """"""Test case base class for all unit tests."""""" super(TestCase, self).setUp() test_timeout = os.environ.get('OS_TEST_TIMEOUT', 0) try: test_timeout = int(test_timeout) except ValueError: # If timeout value is invalid do not set a timeout. test_timeout = 0 if test_timeout > 0: self.useFixture(fixtures.Timeout(test_timeout, gentle=True)) self.useFixture(fixtures.NestedTempfile()) self.useFixture(fixtures.TempHomeDir()) if os.environ.get('OS_STDOUT_CAPTURE') in _TRUE_VALUES: stdout = self.useFixture(fixtures.StringStream('stdout')).stream self.useFixture(fixtures.MonkeyPatch('sys.stdout', stdout)) if os.environ.get('OS_STDERR_CAPTURE') in _TRUE_VALUES: stderr = self.useFixture(fixtures.StringStream('stderr')).stream self.useFixture(fixtures.MonkeyPatch('sys.stderr', stderr)) self.log_fixture = self.useFixture(fixtures.FakeLogger())",5,37
openstack%2Foslo.log~master~I815790106e42ca3cb5b8b3cf98b065a27b9a520e,openstack/oslo.log,master,I815790106e42ca3cb5b8b3cf98b065a27b9a520e,Replace deprecated arguments of RequestContext,MERGED,2021-07-22 13:34:39.000000000,2021-08-10 14:28:42.000000000,2021-08-10 14:27:08.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-22 13:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/91e33a2e69a9f5b1dc52bd0c27a8c0503fb586d1', 'message': 'Replace deprecated arguments of oslo_context.RequestContext\n\nThe following two arguments of oslo_context.RequestContext are\ndeprecated since oslo.context 2.18.\n user          : renamed to user_id\n tenant        : renamed to project_id\n user_domain   : renamed to user_domain_id\n project_domain: renamed to project_domain_id\n\nThis change updates arguments used accordingly.\n\n[1] d78cf592e1e3e7aa0fc99bfdd655e82f5c44dfe3\n\nChange-Id: I815790106e42ca3cb5b8b3cf98b065a27b9a520e\n'}, {'number': 2, 'created': '2021-07-22 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/adbb69401d73906d6a74f12be3277dcd4f17cdb8', 'message': 'Replace deprecated arguments of oslo_context.RequestContext\n\nThe following two arguments of oslo_context.RequestContext are\ndeprecated since oslo.context 2.18.\n user          : renamed to user_id\n tenant        : renamed to project_id\n domain        : renamed to domain_id\n user_domain   : renamed to user_domain_id\n project_domain: renamed to project_domain_id\n\nThis change updates arguments used accordingly.\n\n[1] d78cf592e1e3e7aa0fc99bfdd655e82f5c44dfe3\n\nChange-Id: I815790106e42ca3cb5b8b3cf98b065a27b9a520e\n'}, {'number': 3, 'created': '2021-07-22 13:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/fa050afcf844382ba9fe4d4bd7e727664f72343f', 'message': 'Replace deprecated arguments of oslo_context.RequestContext\n\nThe following two arguments of the RequestContext class are deprecated\nsince oslo.context 2.18[1].\n user          : renamed to user_id\n tenant        : renamed to project_id\n domain        : renamed to domain_id\n user_domain   : renamed to user_domain_id\n project_domain: renamed to project_domain_id\n\nThis change updates arguments used accordingly.\n\n[1] d78cf592e1e3e7aa0fc99bfdd655e82f5c44dfe3\n\nChange-Id: I815790106e42ca3cb5b8b3cf98b065a27b9a520e\n'}, {'number': 4, 'created': '2021-07-22 13:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/2d1bad3e13bc46d0fce2fa5d6bd156f36517ffa3', 'message': 'Replace deprecated arguments of RequestContext\n\nThe following two arguments of the RequestContext class are deprecated\nsince oslo.context 2.18[1].\n user          : renamed to user_id\n tenant        : renamed to project_id\n domain        : renamed to domain_id\n user_domain   : renamed to user_domain_id\n project_domain: renamed to project_domain_id\n\nThis change updates arguments used accordingly.\n\n[1] d78cf592e1e3e7aa0fc99bfdd655e82f5c44dfe3\n\nChange-Id: I815790106e42ca3cb5b8b3cf98b065a27b9a520e\n'}, {'number': 5, 'created': '2021-07-22 15:24:55.000000000', 'files': ['oslo_log/tests/unit/test_formatters.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/96a08b8ff9ac5ad9e4c61a09daa9517d4b734e6b', 'message': 'Replace deprecated arguments of RequestContext\n\nThe following arguments of the RequestContext class are deprecated\nsince oslo.context 2.18[1].\n user          : renamed to user_id\n tenant        : renamed to project_id\n domain        : renamed to domain_id\n user_domain   : renamed to user_domain_id\n project_domain: renamed to project_domain_id\n\nThis change updates arguments used accordingly.\n\n[1] d78cf592e1e3e7aa0fc99bfdd655e82f5c44dfe3\n\nChange-Id: I815790106e42ca3cb5b8b3cf98b065a27b9a520e\n'}]",1,801855,96a08b8ff9ac5ad9e4c61a09daa9517d4b734e6b,15,3,5,9816,,,0,"Replace deprecated arguments of RequestContext

The following arguments of the RequestContext class are deprecated
since oslo.context 2.18[1].
 user          : renamed to user_id
 tenant        : renamed to project_id
 domain        : renamed to domain_id
 user_domain   : renamed to user_domain_id
 project_domain: renamed to project_domain_id

This change updates arguments used accordingly.

[1] d78cf592e1e3e7aa0fc99bfdd655e82f5c44dfe3

Change-Id: I815790106e42ca3cb5b8b3cf98b065a27b9a520e
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/55/801855/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/tests/unit/test_formatters.py'],1,91e33a2e69a9f5b1dc52bd0c27a8c0503fb586d1,context-attr," ctxt = context.RequestContext(user_id=""user"", project_id=""tenant"", project_domain_id=""pdomain"", user_domain_id=""udomain"","," ctxt = context.RequestContext(user=""user"", tenant=""tenant"", project_domain=""pdomain"", user_domain=""udomain"",",4,4
openstack%2Fossa~master~Ic9c5d7a45be8a083931b2600adbc76c9e292d0ab,openstack/ossa,master,Ic9c5d7a45be8a083931b2600adbc76c9e292d0ab,Add OSSA-2021-003 (CVE-2021-38155),MERGED,2021-08-05 18:28:21.000000000,2021-08-10 14:26:50.000000000,2021-08-10 14:25:17.000000000,"[{'_account_id': 5263}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 18:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/07d48cf32e8bc6754f13cc52b23eba4dde78803f', 'message': 'Add OSSA-2021-002 (TBD)\n\nChange-Id: Ic9c5d7a45be8a083931b2600adbc76c9e292d0ab\nCloses-Bug: #1688137\n'}, {'number': 2, 'created': '2021-08-05 19:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/f12aaae8829abd3a0ae4c28ecf05849947a50631', 'message': 'Add OSSA-2021-003 (TBD)\n\nChange-Id: Ic9c5d7a45be8a083931b2600adbc76c9e292d0ab\nCloses-Bug: #1688137\n'}, {'number': 3, 'created': '2021-08-06 21:38:23.000000000', 'files': ['ossa/OSSA-2021-003.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/cf49e91bb4a6a663b960d65f87841f9ba589a8e4', 'message': 'Add OSSA-2021-003 (CVE-2021-38155)\n\nChange-Id: Ic9c5d7a45be8a083931b2600adbc76c9e292d0ab\nCloses-Bug: #1688137\n'}]",4,803640,cf49e91bb4a6a663b960d65f87841f9ba589a8e4,14,3,3,5263,,,0,"Add OSSA-2021-003 (CVE-2021-38155)

Change-Id: Ic9c5d7a45be8a083931b2600adbc76c9e292d0ab
Closes-Bug: #1688137
",git fetch https://review.opendev.org/openstack/ossa refs/changes/40/803640/2 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2021-003.yaml'],1,07d48cf32e8bc6754f13cc52b23eba4dde78803f,bug/1688137,"date: 2021-08-10 id: OSSA-2021-003 title: Account name and UUID oracles with locked accounts description: > Samuel de Medeiros Queiroz with Oi Cloud reported a vulnerability affecting Keystone account lock-outs. By guessing the name of a locked account, any malicious actor could both confirm that account exists and obtain the account's UUID, which might potentially be utilized in mounting other unrelated attacks. This risk is further increased if the security_compliance.lockout_failure_attempts setting is used, as an attacker could apply brute-force search methods to identify valid accounts by triggering the lock-out behavor mandated by PCI DSS 8.1.6 and 8.1.7. All Keystone deployments are affected. affected-products: - product: Keystone version: '>=10.0.0 <16.0.2, >=17.0.0 <17.0.1, >=18.0.0 <18.0.1, >=19.0.0 <19.0.1' vulnerabilities: - cve-id: TBD reporters: - name: Samuel de Medeiros Queiroz affiliation: Oi Cloud reported: - TBD issues: links: - https://launchpad.net/bugs/1688137 reviews: xena: - https://review.opendev.org/759940 wallaby: - https://review.opendev.org/790440 victoria: - https://review.opendev.org/790442 ussuri: - https://review.opendev.org/790443 train: - https://review.opendev.org/790444 ",,49,0
openstack%2Frequirements~master~I0420d7689631fdfc5d8cbdb132bf2b3d509c408e,openstack/requirements,master,I0420d7689631fdfc5d8cbdb132bf2b3d509c408e,bumping validations-libs version,ABANDONED,2021-08-10 08:48:57.000000000,2021-08-10 14:25:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-10 08:48:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e1183d253dfcbf63fe67ff75bf82418ac0aa2cc', 'message': 'bumping validations-libs version\n\nValidations libs recently underwent several important changes\nthat are now included in the 1.3.0 release.\n\nThese include:\n* CLI log path handling\n* New metadata definitions\n* Validation filtering\n\nThe upper constraints have to be updated to ensure that proper\nversion of the package is pulled for tests and other purposes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I0420d7689631fdfc5d8cbdb132bf2b3d509c408e\n'}]",0,804051,1e1183d253dfcbf63fe67ff75bf82418ac0aa2cc,8,2,1,32926,,,0,"bumping validations-libs version

Validations libs recently underwent several important changes
that are now included in the 1.3.0 release.

These include:
* CLI log path handling
* New metadata definitions
* Validation filtering

The upper constraints have to be updated to ensure that proper
version of the package is pulled for tests and other purposes.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I0420d7689631fdfc5d8cbdb132bf2b3d509c408e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/804051/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1e1183d253dfcbf63fe67ff75bf82418ac0aa2cc,,validations-libs===1.3.0,validations-libs===1.2.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I17bf19367225a618ce7467aea0f6f475309eae1a,openstack/tripleo-heat-templates,stable/train,I17bf19367225a618ce7467aea0f6f475309eae1a,"Revert ""Do not log amphora ssh keys""",ABANDONED,2021-08-04 11:53:27.000000000,2021-08-10 14:09:13.000000000,,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-04 11:53:27.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/785b8b120cf3b669232b89e235c71ed398c7ecd7', 'message': 'Revert ""Do not log amphora ssh keys""\n\nIt appears that hide_sensitive_logs is not defined for train so this\npatch fails. We will need a new semantic backport or a modified version\nof the original patch.\n\nThis reverts commit 5f91334bd83306260a97353b47b1c57a2c1772f9.\n\nChange-Id: I17bf19367225a618ce7467aea0f6f475309eae1a\n'}]",0,803467,785b8b120cf3b669232b89e235c71ed398c7ecd7,8,5,1,6681,,,0,"Revert ""Do not log amphora ssh keys""

It appears that hide_sensitive_logs is not defined for train so this
patch fails. We will need a new semantic backport or a modified version
of the original patch.

This reverts commit 5f91334bd83306260a97353b47b1c57a2c1772f9.

Change-Id: I17bf19367225a618ce7467aea0f6f475309eae1a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/803467/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,785b8b120cf3b669232b89e235c71ed398c7ecd7,train,," no_log: ""{{ hide_sensitive_logs | bool }}"" no_log: ""{{ hide_sensitive_logs | bool }}""",0,2
openstack%2Fansible-role-tripleo-modify-image~master~Ic2a46c0a55781041016f42bdc1af686055af9fa2,openstack/ansible-role-tripleo-modify-image,master,Ic2a46c0a55781041016f42bdc1af686055af9fa2,Remove docker modules from the role,MERGED,2021-08-06 13:44:37.000000000,2021-08-10 14:05:00.000000000,2021-08-10 14:05:00.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-06 13:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/ab241cd67e50cfd071c7ef5c10628368e619a4cb', 'message': 'Change deprecated docker_image_facts to docker_image_info\n\ndocker_image_facts module name is deprecated, we should use\ndocker_image_info name instead.\nChange-Id: Ic2a46c0a55781041016f42bdc1af686055af9fa2\n'}, {'number': 2, 'created': '2021-08-08 09:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/f38b096cc26341281de79164d5b8150ae4d9b7bb', 'message': 'Remove docker modules from the role\n\nRemove docker modules usage from the role since we\nuse buildah/podman everywhere.\nChange-Id: Ic2a46c0a55781041016f42bdc1af686055af9fa2\n'}, {'number': 3, 'created': '2021-08-08 14:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/b910c2746aceb5e562782ab8bee27ccda3d08d92', 'message': 'Remove docker modules from the role\n\nRemove docker modules usage from the role since we\nuse buildah/podman everywhere.\nChange-Id: Ic2a46c0a55781041016f42bdc1af686055af9fa2\n'}, {'number': 4, 'created': '2021-08-09 09:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/be656efc40403922341e16c0fbefc188b1a48f24', 'message': 'Remove docker modules from the role\n\nRemove docker modules usage from the role since we\nuse buildah/podman everywhere.\nChange-Id: Ic2a46c0a55781041016f42bdc1af686055af9fa2\n'}, {'number': 5, 'created': '2021-08-09 17:55:59.000000000', 'files': ['tasks/yum_install.yml', 'templates/yum_update.sh.j2', 'tasks/get_original_user.yml', 'README.rst', 'tasks/yum_install_docker.yml', 'tasks/precheck.yml', 'tasks/yum_update_docker.yml', 'tasks/yum_update.yml', 'defaults/main.yml', 'vars/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/81ca6b4dc0efed7e7a5d12fc64b41af4720c82b1', 'message': 'Remove docker modules from the role\n\nRemove docker modules usage from the role since we\nuse buildah/podman everywhere.\nChange-Id: Ic2a46c0a55781041016f42bdc1af686055af9fa2\n'}]",7,803750,81ca6b4dc0efed7e7a5d12fc64b41af4720c82b1,39,8,5,10969,,,0,"Remove docker modules from the role

Remove docker modules usage from the role since we
use buildah/podman everywhere.
Change-Id: Ic2a46c0a55781041016f42bdc1af686055af9fa2
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/50/803750/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/get_original_user.yml'],1,ab241cd67e50cfd071c7ef5c10628368e619a4cb,2.11, docker_image_info: docker_image_info:, docker_image_facts: docker_image_facts:,2,2
openstack%2Fpython-tripleoclient~master~I059de98ef3fbb8f39a4119dbf334be4b14d989ad,openstack/python-tripleoclient,master,I059de98ef3fbb8f39a4119dbf334be4b14d989ad,"Make the ""success"" message more ""success""-like",MERGED,2021-08-02 11:49:23.000000000,2021-08-10 13:56:29.000000000,2021-08-10 13:54:57.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-02 11:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e33711f55d399e7736c3b488f0e3770adf142b05', 'message': 'Make the ""success"" message more ""success""-like\n\nWith the current way, the ending message is a bit too similar when we\nget a success or a failure:\n""with error"" compared to ""without error"" is too close, and it\'s easy to\noverlook an potential issue.\n\nThis change changes ""without error"" to ""successfully"", making a clear\ndifference.\n\nThis issue was reported as-is on Red Hat Bugzilla:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1937226\n\nChange-Id: I059de98ef3fbb8f39a4119dbf334be4b14d989ad\n'}, {'number': 2, 'created': '2021-08-03 11:13:46.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6780cd74a0a6c894215f68870a033fc7349167e6', 'message': 'Make the ""success"" message more ""success""-like\n\nWith the current way, the ending message is a bit too similar when we\nget a success or a failure:\n""with error"" compared to ""without error"" is too close, and it\'s easy to\noverlook an potential issue.\n\nThis change changes ""without error"" to ""successfully"", making a clear\ndifference.\n\nThis issue was reported as-is on Red Hat Bugzilla:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1937226\n\nChange-Id: I059de98ef3fbb8f39a4119dbf334be4b14d989ad\n'}]",1,803194,6780cd74a0a6c894215f68870a033fc7349167e6,19,5,2,28223,,,0,"Make the ""success"" message more ""success""-like

With the current way, the ending message is a bit too similar when we
get a success or a failure:
""with error"" compared to ""without error"" is too close, and it's easy to
overlook an potential issue.

This change changes ""without error"" to ""successfully"", making a clear
difference.

This issue was reported as-is on Red Hat Bugzilla:
https://bugzilla.redhat.com/show_bug.cgi?id=1937226

Change-Id: I059de98ef3fbb8f39a4119dbf334be4b14d989ad
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/803194/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,e33711f55d399e7736c3b488f0e3770adf142b05,deploy-msg/success, deploy_message = 'successfuly', deploy_message = 'without error',1,1
openstack%2Fsushy-oem-idrac~master~I492a201e9ae2be6a8b9284ca50f21698d9593526,openstack/sushy-oem-idrac,master,I492a201e9ae2be6a8b9284ca50f21698d9593526,Fix missing Target@Redfish.AllowableValues,MERGED,2021-07-12 15:04:07.000000000,2021-08-10 13:13:54.000000000,2021-08-10 13:13:54.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2021-07-12 15:04:07.000000000', 'files': ['sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/81fcf99ee5c07b0404d3167a8a8ca9b62f87086e', 'message': 'Fix missing Target@Redfish.AllowableValues\n\nChange-Id: I492a201e9ae2be6a8b9284ca50f21698d9593526\n'}]",0,800495,81fcf99ee5c07b0404d3167a8a8ca9b62f87086e,6,2,1,27909,,,0,"Fix missing Target@Redfish.AllowableValues

Change-Id: I492a201e9ae2be6a8b9284ca50f21698d9593526
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/95/800495/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_oem_idrac/tests/unit/test_manager.py', 'sushy_oem_idrac/resources/manager/manager.py']",2,81fcf99ee5c07b0404d3167a8a8ca9b62f87086e,export-read-only," if not allowed_values: LOG.warning('Could not figure out the allowed values for the ' 'target of export system configuration at %s', self.path) return set(mgr_maps.EXPORT_CONFIG_VALUE_MAP_REV) ",,23,0
openstack%2Frequirements~master~Id077cc0a72cfb36a06d4c6fed5c0dd7776ccb0c4,openstack/requirements,master,Id077cc0a72cfb36a06d4c6fed5c0dd7776ccb0c4,update constraint for validations-libs to new release 1.3.0,MERGED,2021-08-10 08:15:56.000000000,2021-08-10 13:08:37.000000000,2021-08-10 13:07:06.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-10 08:15:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/74226ecced6ce32b1cb7f98663981defc097b862', 'message': 'update constraint for validations-libs to new release 1.3.0\n\nmeta: version: 1.3.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: matbu <mat.bultel@gmail.com>\nmeta: release:Commit: matbu <mat.bultel@gmail.com>\nmeta: release:Change-Id: I55c0ab354ad5482ca1c587809ababa7585a8ea0b\nmeta: release:Code-Review+1: Marios Andreou <marios@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: Id077cc0a72cfb36a06d4c6fed5c0dd7776ccb0c4\n'}]",0,804048,74226ecced6ce32b1cb7f98663981defc097b862,9,3,1,11131,,,0,"update constraint for validations-libs to new release 1.3.0

meta: version: 1.3.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: matbu <mat.bultel@gmail.com>
meta: release:Commit: matbu <mat.bultel@gmail.com>
meta: release:Change-Id: I55c0ab354ad5482ca1c587809ababa7585a8ea0b
meta: release:Code-Review+1: Marios Andreou <marios@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: Id077cc0a72cfb36a06d4c6fed5c0dd7776ccb0c4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/804048/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,74226ecced6ce32b1cb7f98663981defc097b862,new-release,validations-libs===1.3.0,validations-libs===1.2.0,1,1
openstack%2Fsushy-oem-idrac~master~I7dd593b05719440f5c47d61fdf76c61a8cc06acc,openstack/sushy-oem-idrac,master,I7dd593b05719440f5c47d61fdf76c61a8cc06acc,Increase version of hacking and pycodestyle,MERGED,2021-08-04 08:41:41.000000000,2021-08-10 13:07:40.000000000,2021-08-10 13:07:40.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-08-04 08:41:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/76b5e65ef6ffaa37a947594b5758e8edb8b29807', 'message': 'Increase version of hacking and pycodestyle\n\nChange-Id: I7dd593b05719440f5c47d61fdf76c61a8cc06acc\n'}]",0,803428,76b5e65ef6ffaa37a947594b5758e8edb8b29807,7,3,1,23851,,,0,"Increase version of hacking and pycodestyle

Change-Id: I7dd593b05719440f5c47d61fdf76c61a8cc06acc
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/28/803428/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,76b5e65ef6ffaa37a947594b5758e8edb8b29807,increase-hacking-pycodestyle," hacking>=4.1.0,<5.0.0 # Apache-2.0 pycodestyle>=2.0.0,<3.0.0 # MIT"," hacking>=3.1.0,<4.0.0 # Apache-2.0 pycodestyle>=2.0.0,<2.7.0 # MIT",2,2
openstack%2Fopenstack-tempest-skiplist~master~I30a992f5564e1952c6b84c5726cd88623bf91cc3,openstack/openstack-tempest-skiplist,master,I30a992f5564e1952c6b84c5726cd88623bf91cc3,Add sc004-standalone-manila jobs for victoria and ussuri to skip list,MERGED,2021-08-10 12:45:16.000000000,2021-08-10 13:06:02.000000000,2021-08-10 13:04:34.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-10 12:45:16.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/049ca8aad5671bf2453b0fff9122a7d4e400c7b0', 'message': 'Add sc004-standalone-manila jobs for victoria and ussuri to skip list\n\nSince, ceph is no longer accepting fixes for nautilus, we need to\nskip for sc004-standalone-manila jobs for victoria and ussuri\n\nRelated-Bug: #1934879\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: I30a992f5564e1952c6b84c5726cd88623bf91cc3\n'}]",1,804078,049ca8aad5671bf2453b0fff9122a7d4e400c7b0,8,3,1,30742,,,0,"Add sc004-standalone-manila jobs for victoria and ussuri to skip list

Since, ceph is no longer accepting fixes for nautilus, we need to
skip for sc004-standalone-manila jobs for victoria and ussuri

Related-Bug: #1934879
Signed-off-by: Soniya Vyas <svyas@redhat.com>
Change-Id: I30a992f5564e1952c6b84c5726cd88623bf91cc3
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/78/804078/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,049ca8aad5671bf2453b0fff9122a7d4e400c7b0,skip-manila, - periodic-tripleo-ci-centos-8-scenario004-standalone-manila-victoria - periodic-tripleo-ci-centos-8-scenario004-standalone-manila-ussuri,,2,0
openstack%2Fkolla~master~If8f0730031435dda4235b7f2d2c23e5f5f767f87,openstack/kolla,master,If8f0730031435dda4235b7f2d2c23e5f5f767f87,monasca-thresh: Allow topology check and removal in storm,MERGED,2021-05-24 03:50:00.000000000,2021-08-10 13:04:50.000000000,2021-08-10 10:48:10.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 33469}]","[{'number': 1, 'created': '2021-05-24 03:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7fd506d5f6151c71b249e74893d160d96ddd8ace', 'message': 'monasca-thresh: Allow topology check and removal in storm\n\nPatch adds a script in the monasca-thresh image that can be used\nto check if a topology exists in Storm, and optionally kill it.\n\nThis is part of a bug in kolla-ansible where topologies were\nnot submitted to Storm, but run locally.  This patch includes\na topology check script enabled by KOLLA_BOOTSTRAP which will exit\nkolla_start if the topology exists, and optionally enables topology\nremoval (to allow replacement) enabled by TOPOLOGY_REPLACE.\n\nTopology names and various timeouts may be customized.  If the\nnew env variables are not set, existing behavior is unchanged.\n\nPartial-Bug: #1808805\nChange-Id: If8f0730031435dda4235b7f2d2c23e5f5f767f87\n'}, {'number': 2, 'created': '2021-05-24 16:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4e9ce230bd6a493d3c69f496aed98cb3999d9738', 'message': 'monasca-thresh: Allow topology check and removal in storm\n\nPatch adds a script in the monasca-thresh image that can be used\nto check if a topology exists in Storm, and optionally kill it.\n\nThis is part of a bug in kolla-ansible where topologies were\nnot submitted to Storm, but run locally.  This patch includes\na topology check script enabled by KOLLA_BOOTSTRAP which will exit\nkolla_start if the topology exists, and optionally enables topology\nremoval (to allow replacement) enabled by TOPOLOGY_REPLACE.\n\nTopology names and various timeouts may be customized.  If the\nnew env variables are not set, existing behavior is unchanged.\n\nPartial-Bug: #1808805\nChange-Id: If8f0730031435dda4235b7f2d2c23e5f5f767f87\n'}, {'number': 3, 'created': '2021-06-05 01:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/21ab72743b402290c162b77abd82bd8ae21e3de5', 'message': 'monasca-thresh: Allow topology check and removal in storm\n\nPatch adds a script in the monasca-thresh image that can be used\nto check if a topology exists in Storm, and optionally kill it.\n\nThis is part of a bug in kolla-ansible where topologies were\nnot submitted to Storm, but run locally.  This patch includes\na topology check script enabled by KOLLA_BOOTSTRAP which will exit\nkolla_start if the topology exists, and optionally enables topology\nremoval (to allow replacement) enabled by TOPOLOGY_REPLACE.\n\nTopology names and various timeouts may be customized.  If the\nnew env variables are not set, existing behavior is unchanged.\n\nPartial-Bug: #1808805\nChange-Id: If8f0730031435dda4235b7f2d2c23e5f5f767f87\n'}, {'number': 4, 'created': '2021-06-11 04:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/077660e812226da46fd95bc3fec9fd0507cfefd9', 'message': 'monasca-thresh: Allow topology check and removal in storm\n\nPatch adds a script in the monasca-thresh image that can be used\nto check if a topology exists in Storm, and optionally kill it.\n\nThis is part of a bug in kolla-ansible where topologies were\nnot submitted to Storm, but run locally.  This patch includes\na topology check script enabled by KOLLA_BOOTSTRAP which will exit\nkolla_start if the topology exists, and optionally enables topology\nremoval (to allow replacement) enabled by TOPOLOGY_REPLACE.\n\nTopology names and various timeouts may be customized.  If the\nnew env variables are not set, existing behavior is unchanged.\n\nPartial-Bug: #1808805\nChange-Id: If8f0730031435dda4235b7f2d2c23e5f5f767f87\n'}, {'number': 5, 'created': '2021-08-05 16:51:42.000000000', 'files': ['docker/monasca/monasca-thresh/Dockerfile.j2', 'releasenotes/notes/bug-1808805-e63af01591f03506.yaml', 'docker/monasca/monasca-thresh/extend_start.sh', 'docker/monasca/monasca-thresh/topology_bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0a410a54609104579dbbeb96c10e60e7d86dc165', 'message': 'monasca-thresh: Allow topology check and removal in storm\n\nPatch adds a script in the monasca-thresh image that can be used\nto check if a topology exists in Storm, and optionally kill it.\n\nThis is part of a bug in kolla-ansible where topologies were\nnot submitted to Storm, but run locally.  This patch includes\na topology check script enabled by KOLLA_BOOTSTRAP which will exit\nkolla_start if the topology exists, and optionally enables topology\nremoval (to allow replacement) enabled by TOPOLOGY_REPLACE.\n\nTopology names and various timeouts may be customized.  If the\nnew env variables are not set, existing behavior is unchanged.\n\nPartial-Bug: #1808805\nChange-Id: If8f0730031435dda4235b7f2d2c23e5f5f767f87\n'}]",26,792751,0a410a54609104579dbbeb96c10e60e7d86dc165,35,6,5,33469,,,0,"monasca-thresh: Allow topology check and removal in storm

Patch adds a script in the monasca-thresh image that can be used
to check if a topology exists in Storm, and optionally kill it.

This is part of a bug in kolla-ansible where topologies were
not submitted to Storm, but run locally.  This patch includes
a topology check script enabled by KOLLA_BOOTSTRAP which will exit
kolla_start if the topology exists, and optionally enables topology
removal (to allow replacement) enabled by TOPOLOGY_REPLACE.

Topology names and various timeouts may be customized.  If the
new env variables are not set, existing behavior is unchanged.

Partial-Bug: #1808805
Change-Id: If8f0730031435dda4235b7f2d2c23e5f5f767f87
",git fetch https://review.opendev.org/openstack/kolla refs/changes/51/792751/5 && git format-patch -1 --stdout FETCH_HEAD,"['docker/monasca/monasca-thresh/Dockerfile.j2', 'docker/monasca/monasca-thresh/extend_start.sh', 'docker/monasca/monasca-thresh/topology_bootstrap.sh']",3,7fd506d5f6151c71b249e74893d160d96ddd8ace,bug/1808805,"#!/bin/sh # This script should be sourced by kolla_extend_start when bootstrapping # # Optional env(<default>): # TOPOLOGY_NAME(""monasca-thresh"") - topology name to check # TOPOLOGY_KILL_TIMEOUT(5) - secs to wait for topology kill # STORM_WAIT_RETRIES(24) - retries to check for storm # STORM_WAIT_TIMEOUT(20) - secs to wait for storm list # STORM_WAIT_DELAY(5) - secs between storm list attempts # - If topology exists, then: # a) if TOPOLOGY_REPLACE is set, the existing topology is killed # and script falls through (topology may be added) # b) otherwise script exits with 0 (topology already exists) # - If topology doesn't exist, script falls through (topology may be added) # - If storm cannot be reached, or kill fails, script exits with 1 TOPOLOGY_NAME=${TOPOLOGY_NAME:-monasca-thresh} TOPOLOGY_KILL_TIMEOUT=${TOPOLOGY_KILL_TIMEOUT:-5} # defaults from monasca-thresh STORM_WAIT_RETRIES=${STORM_WAIT_RETRIES:-24} STORM_WAIT_TIMEOUT=${STORM_WAIT_TIMEOUT:-20} STORM_WAIT_DELAY=${STORM_WAIT_DELAY:-5} STORM=""/opt/storm/bin/storm"" echo ""Waiting for storm to become available..."" success=""false"" for i in $(seq ""$STORM_WAIT_RETRIES""); do if timeout ""$STORM_WAIT_TIMEOUT"" ""$STORM"" list; then echo ""Storm is available, continuing..."" success=""true"" break else echo ""Connection attempt $i of $STORM_WAIT_RETRIES failed"" sleep ""$STORM_WAIT_DELAY"" fi done if [ ""$success"" != ""true"" ]; then echo ""Unable to connect to Storm! Exiting..."" sleep 1 exit 1 fi locate_topology() { # <topology> echo ""Searching for topology $1 in the storm"" topologies=$(""$STORM"" list | awk '/-----/,0{if (!/-----/)print $1}') found=""false"" for topology in $topologies; do if [ ""$topology"" = ""$1"" ]; then echo ""Found storm topology with name: $topology"" found=""true"" break fi done } # search for existing topology locate_topology ""$TOPOLOGY_NAME"" if [ ""$found"" = ""true"" ]; then if [[ ! ""${!TOPOLOGY_REPLACE[@]}"" ]]; then echo ""Topology $TOPOLOGY_NAME found, submission not necessary"" exit 0 fi echo ""Topology replacement requested, killing old one..."" ""$STORM"" kill ""$TOPOLOGY_NAME"" -w ""$TOPOLOGY_KILL_TIMEOUT"" echo ""Wait $TOPOLOGY_KILL_TIMEOUT secs for topology to reap its artifacts..."" sleep ""$TOPOLOGY_KILL_TIMEOUT"" for i in $(seq ""$STORM_WAIT_RETRIES""); do locate_topology ""$TOPOLOGY_NAME"" [ ""$found"" != ""true"" ] && break echo ""... wait some more..."" sleep ""$STORM_WAIT_DELAY"" done if [ ""$found"" = ""true"" ]; then echo ""Unable to kill existing topology, giving up..."" exit 1 fi echo ""Topology successfully killed, continuing..."" else echo ""Topology not found, continuing..."" fi ",,103,1
openstack%2Fnetworking-bagpipe~master~Ic6d37a4e035d55b1444a41793143da68322994a2,openstack/networking-bagpipe,master,Ic6d37a4e035d55b1444a41793143da68322994a2,Follow pyroute2 changes,MERGED,2021-07-08 14:09:55.000000000,2021-08-10 13:04:05.000000000,2021-08-10 13:02:43.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 14:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4a910268ca23b0133fa8b0c33c46d3fe19e63a50', 'message': 'Follow pyroute2 changes\n\npyroute2 recently changed its module structure (see [1]) and deprecated\nIPDB (see [2]), this patch tries to address these.\n\n[1]: https://github.com/svinota/pyroute2/discussions/786\n[2]: https://github.com/svinota/pyroute2/discussions/788\n\nChange-Id: Ic6d37a4e035d55b1444a41793143da68322994a2\n'}, {'number': 2, 'created': '2021-07-09 11:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/e05a04491c44e6a1e744cf5d81c705fb7321157d', 'message': 'Follow pyroute2 changes\n\npyroute2 recently changed its module structure (see [1]) and deprecated\nIPDB (see [2]), this patch tries to address these.\n\n[1]: https://github.com/svinota/pyroute2/discussions/786\n[2]: https://github.com/svinota/pyroute2/discussions/788\n\nChange-Id: Ic6d37a4e035d55b1444a41793143da68322994a2\n'}, {'number': 3, 'created': '2021-07-09 14:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/912ee4d93bdf959b40d7c47e80f632901491526c', 'message': 'Follow pyroute2 changes\n\npyroute2 recently changed its module structure (see [1]) and deprecated\nIPDB (see [2]), this patch tries to address these.\n\n[1]: https://github.com/svinota/pyroute2/discussions/786\n[2]: https://github.com/svinota/pyroute2/discussions/788\n\nChange-Id: Ic6d37a4e035d55b1444a41793143da68322994a2\n'}, {'number': 4, 'created': '2021-07-09 15:24:48.000000000', 'files': ['networking_bagpipe/bagpipe_bgp/vpn/evpn/linux_vxlan.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/mpls_linux_dataplane.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b01bc67ab803d89754f2da016761301dad353501', 'message': 'Follow pyroute2 changes\n\npyroute2 recently changed its module structure (see [1]) and deprecated\nIPDB (see [2]), this patch tries to address these.\n\n[1]: https://github.com/svinota/pyroute2/discussions/786\n[2]: https://github.com/svinota/pyroute2/discussions/788\n\nChange-Id: Ic6d37a4e035d55b1444a41793143da68322994a2\n'}]",9,800062,b01bc67ab803d89754f2da016761301dad353501,20,4,4,8313,,,0,"Follow pyroute2 changes

pyroute2 recently changed its module structure (see [1]) and deprecated
IPDB (see [2]), this patch tries to address these.

[1]: https://github.com/svinota/pyroute2/discussions/786
[2]: https://github.com/svinota/pyroute2/discussions/788

Change-Id: Ic6d37a4e035d55b1444a41793143da68322994a2
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/62/800062/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/bagpipe_bgp/vpn/evpn/linux_vxlan.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/mpls_linux_dataplane.py']",2,4a910268ca23b0133fa8b0c33c46d3fe19e63a50,pr2modules,"from pr2modules import common as pr2_commonfrom pyroute2 import netlink # pylint: disable=no-name-in-module req = {'family': pr2_common.AF_MPLS, ipr.flush_routes(family=pr2_common.AF_MPLS)","from pyroute2 import netlink req = {'family': pyroute2.common.AF_MPLS, ipr.flush_routes(family=pyroute2.common.AF_MPLS)",14,10
openstack%2Fopenstack-ansible~stable%2Fvictoria~I1297965a2031eb49b4f048e09a2a6bb119921e24,openstack/openstack-ansible,stable/victoria,I1297965a2031eb49b4f048e09a2a6bb119921e24,haproxy: decrease check interval for letsencrypt back ends,MERGED,2021-08-09 17:44:23.000000000,2021-08-10 12:56:09.000000000,2021-08-10 12:54:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-09 17:44:23.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/deb1603e90e4c7c6c13cc5f8075fcd34924ee656', 'message': 'haproxy: decrease check interval for letsencrypt back ends\n\nWhen HTTP challenges are used, the HAProxy letsencrypt integration\nallows a short timeout for the back end to be recognised as up\nbefore the challenge is performed. The role default for this is 5\nseconds.\n\nThe default interval to check an HAProxy back end is 12 seconds,\nwhich means that the challenge response can frequently return\nan HTTP 503 error. This change reduces the check interval to be\nbelow 5 seconds to improve this reliability.\n\nChange-Id: I1297965a2031eb49b4f048e09a2a6bb119921e24\n(cherry picked from commit 17f92b0f59c5c890d3b1a2ec2369b6179f0d6967)\n'}]",0,803956,deb1603e90e4c7c6c13cc5f8075fcd34924ee656,8,3,1,25023,,,0,"haproxy: decrease check interval for letsencrypt back ends

When HTTP challenges are used, the HAProxy letsencrypt integration
allows a short timeout for the back end to be recognised as up
before the challenge is performed. The role default for this is 5
seconds.

The default interval to check an HAProxy back end is 12 seconds,
which means that the challenge response can frequently return
an HTTP 503 error. This change reduces the check interval to be
below 5 seconds to improve this reliability.

Change-Id: I1297965a2031eb49b4f048e09a2a6bb119921e24
(cherry picked from commit 17f92b0f59c5c890d3b1a2ec2369b6179f0d6967)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/803956/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,deb1603e90e4c7c6c13cc5f8075fcd34924ee656,, interval: 4000,,1,0
openstack%2Fopenstack-ansible~stable%2Fwallaby~I1297965a2031eb49b4f048e09a2a6bb119921e24,openstack/openstack-ansible,stable/wallaby,I1297965a2031eb49b4f048e09a2a6bb119921e24,haproxy: decrease check interval for letsencrypt back ends,MERGED,2021-08-09 17:44:10.000000000,2021-08-10 12:56:01.000000000,2021-08-10 12:54:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-08-09 17:44:10.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2b876da5d2dd0ad37ee17e68d78b80f2e1f60594', 'message': 'haproxy: decrease check interval for letsencrypt back ends\n\nWhen HTTP challenges are used, the HAProxy letsencrypt integration\nallows a short timeout for the back end to be recognised as up\nbefore the challenge is performed. The role default for this is 5\nseconds.\n\nThe default interval to check an HAProxy back end is 12 seconds,\nwhich means that the challenge response can frequently return\nan HTTP 503 error. This change reduces the check interval to be\nbelow 5 seconds to improve this reliability.\n\nChange-Id: I1297965a2031eb49b4f048e09a2a6bb119921e24\n(cherry picked from commit 17f92b0f59c5c890d3b1a2ec2369b6179f0d6967)\n'}]",0,803955,2b876da5d2dd0ad37ee17e68d78b80f2e1f60594,8,3,1,25023,,,0,"haproxy: decrease check interval for letsencrypt back ends

When HTTP challenges are used, the HAProxy letsencrypt integration
allows a short timeout for the back end to be recognised as up
before the challenge is performed. The role default for this is 5
seconds.

The default interval to check an HAProxy back end is 12 seconds,
which means that the challenge response can frequently return
an HTTP 503 error. This change reduces the check interval to be
below 5 seconds to improve this reliability.

Change-Id: I1297965a2031eb49b4f048e09a2a6bb119921e24
(cherry picked from commit 17f92b0f59c5c890d3b1a2ec2369b6179f0d6967)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/55/803955/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,2b876da5d2dd0ad37ee17e68d78b80f2e1f60594,, interval: 4000,,1,0
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I3fa1aad0c07edb1fa28842c3d80122974a017f43,openstack/puppet-openstack-integration,stable/wallaby,I3fa1aad0c07edb1fa28842c3d80122974a017f43,Remove Debian jobs,ABANDONED,2021-08-10 12:25:37.000000000,2021-08-10 12:37:30.000000000,,[],"[{'number': 1, 'created': '2021-08-10 12:25:37.000000000', 'files': ['zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1d2ddeaad2ea3c873b352408240348a450e76add', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nChange-Id: I3fa1aad0c07edb1fa28842c3d80122974a017f43\n'}]",0,804076,1d2ddeaad2ea3c873b352408240348a450e76add,2,0,1,16137,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Change-Id: I3fa1aad0c07edb1fa28842c3d80122974a017f43
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/76/804076/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/integration.yaml', 'zuul.d/layout.yaml']",2,1d2ddeaad2ea3c873b352408240348a450e76add,debian-stretch-rm,, experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario002-tempest-debian-stable - puppet-openstack-integration-6-scenario003-tempest-debian-stable - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario002-tempest-debian-stable experimental: jobs: - puppet-openstack-integration-6-scenario003-tempest-debian-stable experimental: jobs: - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous,0,46
openstack%2Fcinder~stable%2Fvictoria~I62fcef3169dcb9f4363a5344af4b2711edfef632,openstack/cinder,stable/victoria,I62fcef3169dcb9f4363a5344af4b2711edfef632,NFS: Update connection info on online snap create,MERGED,2021-07-23 15:16:27.000000000,2021-08-10 12:23:39.000000000,2021-08-10 12:21:28.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-23 15:16:27.000000000', 'files': ['releasenotes/notes/nfs-online-snapshot-c05e6c8113bbded6.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7c5e7a7f6f35b2db043cc5ed4a0ef1f77e1f830', 'message': ""NFS: Update connection info on online snap create\n\nThe NFS snapshot creation for an attached volume requires interaction\nbetween Nova and Cinder, and a new qcow2 file is used after the\nattachment completes.\n\nThis means that the connection properties stored in the Attachment is no\nlonger valid, as it is pointing to the old qcow2 file, so if Nova tries\nto use that attachment it will start writing on the old qcow2 file.\n\nA flow showing this issue is:\n\n- Attach NFS volume\n- Create snapshot\n- Hard reboot\n\nAfter that the VM will start using the base image, breaking the qcow2\nchain.\n\nIf we delete the snapshot in the meantime, then the VM will fail to\nreboot.\n\nThis patch fixes this inconsistency by updating the connection info\nfield inside the remotefs driver.\n\nWe usually prefer that drivers don't to touch the DB, directly or\nindirectly (using OVOs), but in this case we are using OVOs methods\ninstead of the usual model update on the volume manager because there\nare cases in the driver where a snapshot is created (cloning via\nsnapshot) and we have to update the attachment without the manager, as\nit is unaware that a temporary snapshot is being created.\n\nBesides that main reason there are other less critical reasons to do the\nattachment update in the driver:\n\n- Smaller code change\n- Easier to backport\n- Limit change impact on other areas (better for backport)\n- The snapshot_create model update code in the manager does not support\n  updating attachments.\n- There are cases in the cinder volume manager where the model update\n  values returned by snapshot_create are not being applied.\n\nSnapshot deletion belonging to in-use volumes are not affected by this\nissue because we only do block commit when the snapshot file we are\ndeleting is not the active file.  In _delete_snapshot_online:\n\n        if utils.paths_normcase_equal(info['active_file'],\n                                      info['snapshot_file']):\n\nCloses-Bug: #1860913\nChange-Id: I62fcef3169dcb9f4363a5344af4b2711edfef632\n(cherry picked from commit 25eb0a7d76922e3a1a289d26c36b96a91c4059db)\n(cherry picked from commit d4960fd597aad8502cad46b38cdb50c6b88f7c63)\n""}]",0,802039,e7c5e7a7f6f35b2db043cc5ed4a0ef1f77e1f830,21,3,1,10459,,,0,"NFS: Update connection info on online snap create

The NFS snapshot creation for an attached volume requires interaction
between Nova and Cinder, and a new qcow2 file is used after the
attachment completes.

This means that the connection properties stored in the Attachment is no
longer valid, as it is pointing to the old qcow2 file, so if Nova tries
to use that attachment it will start writing on the old qcow2 file.

A flow showing this issue is:

- Attach NFS volume
- Create snapshot
- Hard reboot

After that the VM will start using the base image, breaking the qcow2
chain.

If we delete the snapshot in the meantime, then the VM will fail to
reboot.

This patch fixes this inconsistency by updating the connection info
field inside the remotefs driver.

We usually prefer that drivers don't to touch the DB, directly or
indirectly (using OVOs), but in this case we are using OVOs methods
instead of the usual model update on the volume manager because there
are cases in the driver where a snapshot is created (cloning via
snapshot) and we have to update the attachment without the manager, as
it is unaware that a temporary snapshot is being created.

Besides that main reason there are other less critical reasons to do the
attachment update in the driver:

- Smaller code change
- Easier to backport
- Limit change impact on other areas (better for backport)
- The snapshot_create model update code in the manager does not support
  updating attachments.
- There are cases in the cinder volume manager where the model update
  values returned by snapshot_create are not being applied.

Snapshot deletion belonging to in-use volumes are not affected by this
issue because we only do block commit when the snapshot file we are
deleting is not the active file.  In _delete_snapshot_online:

        if utils.paths_normcase_equal(info['active_file'],
                                      info['snapshot_file']):

Closes-Bug: #1860913
Change-Id: I62fcef3169dcb9f4363a5344af4b2711edfef632
(cherry picked from commit 25eb0a7d76922e3a1a289d26c36b96a91c4059db)
(cherry picked from commit d4960fd597aad8502cad46b38cdb50c6b88f7c63)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/802039/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nfs-online-snapshot-c05e6c8113bbded6.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",3,e7c5e7a7f6f35b2db043cc5ed4a0ef1f77e1f830,nfs-fix-online-snapshot, active = os.path.basename(new_snap_path) # Update reference in the only attachment (no multi-attach support) attachment = snapshot.volume.volume_attachment[0] attachment.connection_info['name'] = active # Let OVO know it has been updated attachment.connection_info = attachment.connection_info attachment.save() snap_info['active'] = active snap_info[snapshot.id] = active, snap_info['active'] = os.path.basename(new_snap_path) snap_info[snapshot.id] = os.path.basename(new_snap_path),33,3
openstack%2Fneutron~stable%2Fussuri~I10e0834594f68e06244c393c00d0b3d840c45fc5,openstack/neutron,stable/ussuri,I10e0834594f68e06244c393c00d0b3d840c45fc5,Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr),MERGED,2021-08-06 10:45:06.000000000,2021-08-10 11:55:06.000000000,2021-08-10 11:53:31.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-08-06 10:45:06.000000000', 'files': ['doc/source/ovn/dhcp_opts.rst', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/09e80d4a702b551a8c8b4126b43ab8925f0d7d0e', 'message': 'Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)\n\nCloses-Bug: #1938569\n\nChange-Id: I10e0834594f68e06244c393c00d0b3d840c45fc5\n(cherry picked from commit d4b1b4a0729c187551e1fa2b2855db136456d496)\n'}]",0,803681,09e80d4a702b551a8c8b4126b43ab8925f0d7d0e,24,5,1,31291,,,0,"Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)

Closes-Bug: #1938569

Change-Id: I10e0834594f68e06244c393c00d0b3d840c45fc5
(cherry picked from commit d4b1b4a0729c187551e1fa2b2855db136456d496)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/803681/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/dhcp_opts.rst', 'neutron/common/ovn/constants.py']",2,09e80d4a702b551a8c8b4126b43ab8925f0d7d0e,," 'ia-addr': 'ia_addr',"," 'ia-addr': 'ip_addr',",2,2
openstack%2Fmurano-tempest-plugin~master~I792399651aeeda2e90689d698afdf4b711d7c99c,openstack/murano-tempest-plugin,master,I792399651aeeda2e90689d698afdf4b711d7c99c,Migrate from testr to stestr,NEW,2021-06-10 18:18:02.000000000,2021-08-10 11:41:33.000000000,,"[{'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-10 18:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/e31abbf02c195adf2580af658424ec9419a8c79e', 'message': ""Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n* Setuptools v54.1.0 introduces a warning that the use of dash-separated\n  options in 'setup.cfg' will not be supported in a future version [1].\n  Get ahead of the issue by replacing the dashes with underscores.Without\n  this, we see 'UserWarning' messages.\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I792399651aeeda2e90689d698afdf4b711d7c99c\n""}, {'number': 2, 'created': '2021-06-10 18:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/68a2c85c13218a78e26a33c69a7245ef476ebb4c', 'message': ""Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n* Setuptools v54.1.0 introduces a warning that the use of dash-separated\n  options in 'setup.cfg' will not be supported in a future version [1].\n  Get ahead of the issue by replacing the dashes with underscores.Without\n  this, we see 'UserWarning' messages.\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I792399651aeeda2e90689d698afdf4b711d7c99c\n""}, {'number': 3, 'created': '2021-06-10 18:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/d9ff0c4a3f18d754db79d90c55159bd359207c8d', 'message': ""Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n* Setuptools v54.1.0 introduces a warning that the use of dash-separated\n  options in 'setup.cfg' will not be supported in a future version [1].\n  Get ahead of the issue by replacing the dashes with underscores.Without\n  this, we see 'UserWarning' messages.\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I792399651aeeda2e90689d698afdf4b711d7c99c\n""}, {'number': 4, 'created': '2021-06-16 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/4cfce10b491842fa3ec6badde3a8c39d02ed87bd', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n* Add a new job, openstack-cover-jobs, to run the coverage in Zuul\n\nChange-Id: I792399651aeeda2e90689d698afdf4b711d7c99c\n'}, {'number': 5, 'created': '2021-06-16 14:04:59.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/8bfb7a01b6cfb37fb8cb99aec58711f4c63d91a0', 'message': ""Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore and test-requirements.txt file accordingly\n* Use py3 as the default runtime for tox\n*The patch bumps min version of tox to 3.18.0 python in order to\n replace tox's whitelist_externals by allowlist_externals option\n\nChange-Id: I792399651aeeda2e90689d698afdf4b711d7c99c\n""}]",4,795861,8bfb7a01b6cfb37fb8cb99aec58711f4c63d91a0,11,5,5,33379,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore and test-requirements.txt file accordingly
* Use py3 as the default runtime for tox
*The patch bumps min version of tox to 3.18.0 python in order to
 replace tox's whitelist_externals by allowlist_externals option

Change-Id: I792399651aeeda2e90689d698afdf4b711d7c99c
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/61/795861/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', '.zuul.yaml', 'setup.cfg', 'tox.ini', '.stestr.conf']",7,e31abbf02c195adf2580af658424ec9419a8c79e,,[DEFAULT] test_path=./murano-tempest-plugin/tests/ top_dir=./,,25,17
openstack%2Fmurano-tempest-plugin~master~Ie044a83fe33fe8b7e920eb7f7892bb00acb418a2,openstack/murano-tempest-plugin,master,Ie044a83fe33fe8b7e920eb7f7892bb00acb418a2,setup.cfg: Replace dashes with underscores,NEW,2021-06-24 12:35:48.000000000,2021-08-10 11:39:26.000000000,,"[{'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-24 12:35:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/33d4a478009bbcdc78a1ac7d83d616bfd98ec480', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ie044a83fe33fe8b7e920eb7f7892bb00acb418a2\n""}]",0,797893,33d4a478009bbcdc78a1ac7d83d616bfd98ec480,4,5,1,33379,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie044a83fe33fe8b7e920eb7f7892bb00acb418a2
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/93/797893/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,33d4a478009bbcdc78a1ac7d83d616bfd98ec480,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/murano/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/murano/latest/ python-requires = >=3.6,4,4
openstack%2Fopenstack-ansible-os_keystone~stable%2Fwallaby~I50c649fda50b9e6a984abccdf61717a2294caaee,openstack/openstack-ansible-os_keystone,stable/wallaby,I50c649fda50b9e6a984abccdf61717a2294caaee,Fix shibboleth compatibility for ubuntu 18.04,MERGED,2021-08-05 07:23:52.000000000,2021-08-10 11:25:53.000000000,2021-08-10 11:24:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-05 07:23:52.000000000', 'files': ['vars/ubuntu-18.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/bba8f0bb592174df3ab1c05b333c1c50e2461cd5', 'message': 'Fix shibboleth compatibility for ubuntu 18.04\n\nPackage and module names were accidentally updated to equivalents\nused for Debian and Ubuntu Focal+. This patch adds a temporary\nvars file for Ubuntu 18.04 to maintain compatibility.\n\nChange-Id: I50c649fda50b9e6a984abccdf61717a2294caaee\n(cherry picked from commit 22208370f429ba1cdfe5067b48dc54b76f62aad8)\n'}]",0,803552,bba8f0bb592174df3ab1c05b333c1c50e2461cd5,9,4,1,31542,,,0,"Fix shibboleth compatibility for ubuntu 18.04

Package and module names were accidentally updated to equivalents
used for Debian and Ubuntu Focal+. This patch adds a temporary
vars file for Ubuntu 18.04 to maintain compatibility.

Change-Id: I50c649fda50b9e6a984abccdf61717a2294caaee
(cherry picked from commit 22208370f429ba1cdfe5067b48dc54b76f62aad8)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/52/803552/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04.yml'],1,bba8f0bb592174df3ab1c05b333c1c50e2461cd5,,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. cache_timeout: 600 keystone_distro_packages: - git - openssh-server - rsync - cron - libpython3-dev keystone_devel_distro_packages: - docutils-common - libffi-dev - libjs-sphinxdoc - libjs-underscore - libldap2-dev - libsasl2-dev - libsystemd-dev - libssl-dev - libxslt1.1 - libxslt1-dev - libxml2-dev - pkg-config - python3-dev keystone_service_distro_packages: - python3-keystone - python3-systemd - uwsgi - uwsgi-plugin-python3 keystone_apache_distro_packages: - apache2 - apache2-utils - libapache2-mod-proxy-uwsgi keystone_nginx_distro_packages: - nginx-extras keystone_idp_distro_packages: - ssl-cert - xmlsec1 keystone_sp_apache_mod_packages: - name: libapache2-mod-shib2 state: ""{{ keystone_sp_apache_mod_shib | ternary('present', 'absent') }}"" - name: libapache2-mod-auth-openidc state: ""{{ keystone_sp_apache_mod_auth_openidc | ternary('present', 'absent') }}"" keystone_developer_mode_distro_packages: - build-essential keystone_oslomsg_amqp1_distro_packages: - libsasl2-modules - sasl2-bin keystone_apache_default_sites: - ""/etc/apache2/sites-enabled/000-default.conf"" keystone_apache_site_available: ""/etc/apache2/sites-available/keystone-httpd.conf"" keystone_apache_site_enabled: ""/etc/apache2/sites-enabled/keystone-httpd.conf"" keystone_apache_conf: ""/etc/apache2/apache2.conf"" keystone_apache_default_log_folder: ""/var/log/apache2"" keystone_apache_default_log_owner: ""root"" keystone_apache_default_log_grp: ""adm"" keystone_apache_security_conf: ""/etc/apache2/conf-available/security.conf"" keystone_apache_configs: - { src: ""keystone-ports.conf.j2"", dest: ""/etc/apache2/ports.conf"" } - { src: ""keystone-httpd.conf.j2"", dest: ""/etc/apache2/sites-available/keystone-httpd.conf"" } - { src: ""keystone-httpd-mpm.conf.j2"", dest: ""/etc/apache2/mods-available/mpm_{{ keystone_httpd_mpm_backend }}.conf"" } keystone_apache_modules: - name: ""ssl"" state: ""{{ (keystone_ssl | bool) | ternary('present', 'absent') }}"" - name: ""shib2"" state: ""{{ keystone_sp_apache_mod_shib | ternary('present', 'absent') }}"" - name: ""auth_openidc"" state: ""{{ keystone_sp_apache_mod_auth_openidc | ternary('present', 'absent') }}"" - name: ""proxy_uwsgi"" state: ""present"" - name: ""headers"" state: ""present"" # This can be enabled when Apache2.5+ is available # - name: ""mod_journald"" # state: ""present keystone_nginx_conf_path: ""sites-available"" keystone_system_service_name: apache2 keystone_uwsgi_bin: '/usr/bin' keystone_sshd: ssh ",,108,0
openstack%2Fnetworking-odl~master~I195e4216270df273f1b1cde3f11319044f5820a6,openstack/networking-odl,master,I195e4216270df273f1b1cde3f11319044f5820a6,DNM: test if payload changes have breaken anything,ABANDONED,2021-07-30 13:55:57.000000000,2021-08-10 11:15:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-30 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7834be805995768a65d341b77d8fdc34939943de', 'message': 'DNM: test if payload changes have breaken anything\n\nChange-Id: I195e4216270df273f1b1cde3f11319044f5820a6\n'}, {'number': 2, 'created': '2021-08-02 11:55:31.000000000', 'files': ['networking_odl/trunk/trunk_driver_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e9cd8700097b54d03fcd50715303d3a32de0fd67', 'message': 'DNM: test if payload changes have breaken anything\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/803003\nChange-Id: I195e4216270df273f1b1cde3f11319044f5820a6\n'}]",0,803038,e9cd8700097b54d03fcd50715303d3a32de0fd67,6,1,2,8313,,,0,"DNM: test if payload changes have breaken anything

Depends-On: https://review.opendev.org/c/openstack/neutron/+/803003
Change-Id: I195e4216270df273f1b1cde3f11319044f5820a6
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/38/803038/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/trunk/trunk_driver_v2.py'],1,7834be805995768a65d341b77d8fdc34939943de,port_after_delete, LOG.info('Dummy log for test'),,1,0
openstack%2Fkolla-ansible~master~Ib225d76076782d695c9387e1c2693bae9a4521d7,openstack/kolla-ansible,master,Ib225d76076782d695c9387e1c2693bae9a4521d7,monasca-thresh: Fix topology submission to storm,MERGED,2021-05-14 00:56:46.000000000,2021-08-10 11:00:48.000000000,2021-08-10 10:59:17.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 33469}]","[{'number': 1, 'created': '2021-05-14 00:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/547aecb27a17fa9b5ba94c3a5c3cc5ad431b83a5', 'message': 'monasca-thresh: Fix topology submission to storm\n\nmonasca-thresh currently runs a local copy of the storm\nto handle the threshold topology.  However, it doesn\'t setup\nthe environment correctly, and the executable fails, causing\nthe container to continually restart.\n\nThis patch updates the container command to correctly\nsubmit the topology to the running Apache storm.  The\ncontainer will exit after it finishes the submission,\nso the restart_policy is updated to on-failure, this way\nif the storm is temporarily unavailable, the submission\nwill be retried.\n\nIn addition, a new ""extended start"" script is added that\nchecks if the named topology is already registered, and\nif so kills that topology so that the new topology can\nreplace it.  The extended start script may be overridden\nif the admin prefers to leave existing topologies\nin place.\n\nCloses-Bug: #1808805\nChange-Id: Ib225d76076782d695c9387e1c2693bae9a4521d7\n'}, {'number': 2, 'created': '2021-05-16 00:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0a0f8ce89a68839a3e376f3f52ee6b9db72f7cd', 'message': 'monasca-thresh: Fix topology submission to storm\n\nmonasca-thresh currently runs a local copy of the storm\nto handle the threshold topology.  However, it doesn\'t setup\nthe environment correctly, and the executable fails, causing\nthe container to continually restart.\n\nThis patch updates the container command to correctly\nsubmit the topology to the running Apache storm.  The\ncontainer will exit after it finishes the submission,\nso the restart_policy is updated to on-failure, this way\nif the storm is temporarily unavailable, the submission\nwill be retried.\n\nIn addition, a new ""extended start"" script is added that\nchecks if the named topology is already registered, and\nif so kills that topology so that the new topology can\nreplace it.  The extended start script may be overridden\nif the admin prefers to leave existing topologies\nin place.\n\nThe storm.yml file needs to have storm.* variables removed\nthey make the topology unavailable with the storm\nis restarted (they refer to directories not on nimbus).\n\nCloses-Bug: #1808805\nChange-Id: Ib225d76076782d695c9387e1c2693bae9a4521d7\n'}, {'number': 3, 'created': '2021-05-16 01:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b8254f3886accd94eca5f59730950a13861950f', 'message': 'monasca-thresh: Fix topology submission to storm\n\nmonasca-thresh currently runs a local copy of the storm\nto handle the threshold topology.  However, it doesn\'t setup\nthe environment correctly, and the executable fails, causing\nthe container to continually restart.\n\nThis patch updates the container command to correctly\nsubmit the topology to the running Apache storm.  The\ncontainer will exit after it finishes the submission,\nso the restart_policy is updated to on-failure, this way\nif the storm is temporarily unavailable, the submission\nwill be retried.\n\nIn addition, a new ""extended start"" script is added that\nchecks if the named topology is already registered, and\nif so kills that topology so that the new topology can\nreplace it.  The extended start script may be overridden\nif the admin prefers to leave existing topologies\nin place.\n\nAlso, all the storm.* variables in storm.yml.j2 are\nremoved as they are not required and make the topology\nfail to load when the storm is restarted (they refer to\ndirectories not mounted on nimbus).\n\nCloses-Bug: #1808805\nChange-Id: Ib225d76076782d695c9387e1c2693bae9a4521d7\n'}, {'number': 4, 'created': '2021-05-16 16:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f94f7f0bfd21a3ebe9437ab2ca083768b5829fc6', 'message': 'monasca-thresh: Fix topology submission to storm\n\nmonasca-thresh currently runs a local copy of the storm\nto handle the threshold topology.  However, it doesn\'t setup\nthe environment correctly, and the executable fails, causing\nthe container to continually restart.\n\nThis patch updates the container command to correctly\nsubmit the topology to the running Apache storm.  The\ncontainer will exit after it finishes the submission,\nso the restart_policy is updated to on-failure, this way\nif the storm is temporarily unavailable, the submission\nwill be retried. (NOTE: further deploys will see the\ncontainer as ""changed"" as it won\'t be running)\n\nA new ""extended start"" script is included to check\nif the topology is already submitted, and if so skips\nthe submission command so the container doesn\'t fail.\n\nThe config task now triggers a new reconfigure handler that\nspawns a special container to kill any existing topology\nif the configuration has changed.\n\nAlso, all the storm.* variables in storm.yml.j2 are\nremoved as they were only needed for local mode and\nmake submitted topologies fail to load when the storm\nis restarted (the referenced directories not mounted\non nimbus).\n\nCloses-Bug: #1808805\nChange-Id: Ib225d76076782d695c9387e1c2693bae9a4521d7\n'}, {'number': 5, 'created': '2021-05-16 22:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32dc3d0b85c18433949251f717e172bc479c9a0e', 'message': 'monasca-thresh: Fix topology submission to storm\n\nmonasca-thresh currently runs a local copy of the storm\nto handle the threshold topology.  However, it doesn\'t setup\nthe environment correctly, and the executable fails, causing\nthe container to continually restart.\n\nThis patch updates the container command to correctly\nsubmit the topology to the running Apache storm.  The\ncontainer will exit after it finishes the submission,\nso the restart_policy is updated to on-failure, this way\nif the storm is temporarily unavailable, the submission\nwill be retried. (NOTE: further deploys will see the\ncontainer as ""changed"" as it won\'t be running)\n\nA new ""extended start"" script is included to check\nif the topology is already submitted, and if so skips\nthe submission command so the container doesn\'t fail.\n\nThe config task now triggers a new reconfigure handler that\nspawns a one-shot container to kill any existing topology\nif the configuration has changed.\n\nAlso, all the storm.* variables in storm.yml.j2 are\nremoved as they were only needed for local mode and\nmake submitted topologies fail to load when the storm\nis restarted (the referenced directories not mounted\non nimbus).\n\nCloses-Bug: #1808805\nChange-Id: Ib225d76076782d695c9387e1c2693bae9a4521d7\n'}, {'number': 6, 'created': '2021-05-24 04:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0423a2644e712e4eb946a09a7b0da073ad0745b', 'message': 'monasca-thresh: Fix topology submission to storm\n\nmonasca-thresh currently runs a local copy of the storm\nto handle the threshold topology.  However, it doesn\'t setup\nthe environment correctly, and the executable fails, causing\nthe container to continually restart.\n\nThis patch updates the container command to correctly\nsubmit the topology to the running Apache storm.  The\ncontainer will exit after it finishes the submission,\nso the restart_policy is updated to on-failure, this way\nif the storm is temporarily unavailable, the submission\nwill be retried. (NOTE: further deploys will see the\ncontainer as ""changed"" as it won\'t be running)\n\nPatch uses KOLLA_BOOTSTRAP to trigger the container to\ncheck if the topology is already submitted, and if so skips\nthe submission command so the container doesn\'t fail.\n\nThe config task now triggers a new reconfigure handler that\nspawns a one-shot container to replace any existing topology\nif the configuration has changed.\n\nAlso, all the storm.* variables in storm.yml.j2 are\nremoved as they were only needed for local mode and\nmake submitted topologies fail to load when the storm\nis restarted (the referenced directories not mounted\non nimbus).\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792751\nCloses-Bug: #1808805\nChange-Id: Ib225d76076782d695c9387e1c2693bae9a4521d7\n'}, {'number': 7, 'created': '2021-05-24 06:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8d63b0a4714c2bf49b2419c3d14a882e2b611ef', 'message': 'monasca-thresh: Fix topology submission to storm\n\nmonasca-thresh currently runs a local copy of the storm\nto handle the threshold topology.  However, it doesn\'t setup\nthe environment correctly, and the executable fails, causing\nthe container to continually restart.\n\nThis patch updates the container command to correctly\nsubmit the topology to the running Apache storm.  The\ncontainer will exit after it finishes the submission,\nso the restart_policy is updated to on-failure, this way\nif the storm is temporarily unavailable, the submission\nwill be retried. (NOTE: further deploys will see the\ncontainer as ""changed"" as it won\'t be running)\n\nPatch uses KOLLA_BOOTSTRAP to trigger the container to\ncheck if the topology is already submitted, and if so skips\nthe submission command so the container doesn\'t fail.\n\nThe config task now triggers a new reconfigure handler that\nspawns a one-shot container to replace any existing topology\nif the configuration has changed.\n\nAlso, all the storm.* variables in storm.yml.j2 are\nremoved as they were only needed for local mode and\nmake submitted topologies fail to load when the storm\nis restarted (the referenced directories not mounted\non nimbus).\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792751\nCloses-Bug: #1808805\nChange-Id: Ib225d76076782d695c9387e1c2693bae9a4521d7\n'}, {'number': 8, 'created': '2021-06-05 02:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6afd251b4d691eaf36f9ad364f904b56f85cc317', 'message': 'monasca-thresh: Fix topology submission to storm\n\nmonasca-thresh currently runs a local copy of the storm\nto handle the threshold topology.  However, it doesn\'t setup\nthe environment correctly, and the executable fails, causing\nthe container to continually restart.\n\nThis patch updates the container command to correctly\nsubmit the topology to the running Apache storm.  The\ncontainer will exit after it finishes the submission,\nso the restart_policy is updated to on-failure, this way\nif the storm is temporarily unavailable, the submission\nwill be retried. (NOTE: further deploys will see the\ncontainer as ""changed"" as it won\'t be running)\n\nPatch uses KOLLA_BOOTSTRAP to trigger the container to\ncheck if the topology is already submitted, and if so skips\nthe submission command so the container doesn\'t fail.\n\nThe config task now triggers a new reconfigure handler that\nspawns a one-shot container to replace any existing topology\nif the configuration has changed.\n\nAlso, all the storm.* variables in storm.yml.j2 are\nremoved as they were only needed for local mode and\nmake submitted topologies fail to load when the storm\nis restarted (the referenced directories not mounted\non nimbus).\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792751\nCloses-Bug: #1808805\nChange-Id: Ib225d76076782d695c9387e1c2693bae9a4521d7\n'}, {'number': 9, 'created': '2021-06-06 20:42:47.000000000', 'files': ['ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/tasks/check-containers.yml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/monasca/templates/monasca-thresh/storm.yml.j2', 'ansible/roles/monasca/defaults/main.yml', 'releasenotes/notes/bug-1808805-3ebd9b0edceff170.yaml', 'ansible/roles/monasca/templates/monasca-thresh/monasca-thresh.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aea9bf355058a15e7ce7bb2649de3872e7041c89', 'message': 'monasca-thresh: Fix topology submission to storm\n\nmonasca-thresh currently runs a local copy of the storm\nto handle the threshold topology.  However, it doesn\'t setup\nthe environment correctly, and the executable fails, causing\nthe container to continually restart.\n\nThis patch updates the container command to correctly\nsubmit the topology to the running Apache storm.  The\ncontainer will exit after it finishes the submission,\nso the restart_policy is updated to on-failure, this way\nif the storm is temporarily unavailable, the submission\nwill be retried. (NOTE: further deploys will see the\ncontainer as ""changed"" as it won\'t be running)\n\nPatch uses KOLLA_BOOTSTRAP to trigger the container to\ncheck if the topology is already submitted, and if so skips\nthe submission command so the container doesn\'t fail.\n\nThe config task now triggers a new reconfigure handler that\nspawns a one-shot container to replace any existing topology\nif the configuration has changed.\n\nAlso, all the storm.* variables in storm.yml.j2 are\nremoved as they were only needed for local mode and\nmake submitted topologies fail to load when the storm\nis restarted (the referenced directories not mounted\non nimbus).\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/792751\nCloses-Bug: #1808805\nChange-Id: Ib225d76076782d695c9387e1c2693bae9a4521d7\n'}]",14,791337,aea9bf355058a15e7ce7bb2649de3872e7041c89,50,4,9,33469,,,0,"monasca-thresh: Fix topology submission to storm

monasca-thresh currently runs a local copy of the storm
to handle the threshold topology.  However, it doesn't setup
the environment correctly, and the executable fails, causing
the container to continually restart.

This patch updates the container command to correctly
submit the topology to the running Apache storm.  The
container will exit after it finishes the submission,
so the restart_policy is updated to on-failure, this way
if the storm is temporarily unavailable, the submission
will be retried. (NOTE: further deploys will see the
container as ""changed"" as it won't be running)

Patch uses KOLLA_BOOTSTRAP to trigger the container to
check if the topology is already submitted, and if so skips
the submission command so the container doesn't fail.

The config task now triggers a new reconfigure handler that
spawns a one-shot container to replace any existing topology
if the configuration has changed.

Also, all the storm.* variables in storm.yml.j2 are
removed as they were only needed for local mode and
make submitted topologies fail to load when the storm
is restarted (the referenced directories not mounted
on nimbus).

Depends-On: https://review.opendev.org/c/openstack/kolla/+/792751
Closes-Bug: #1808805
Change-Id: Ib225d76076782d695c9387e1c2693bae9a4521d7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/791337/9 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/monasca/templates/monasca-thresh/kolla_monasca_extend_start', 'ansible/roles/monasca/templates/monasca-thresh/monasca-thresh.json.j2']",4,547aecb27a17fa9b5ba94c3a5c3cc5ad431b83a5,bug/1808805," ""command"": ""/opt/storm/bin/storm jar /monasca-thresh-source/monasca-thresh-*/thresh/target/monasca-thresh-*-SNAPSHOT-shaded.jar -Djava.io.tmpdir=/var/lib/monasca-thresh/data monasca.thresh.ThresholdingEngine /etc/monasca/thresh-config.yml monasca-thresh"", }, { ""source"": ""/var/lib/kolla/config_files/kolla_monasca_extend_start"", ""dest"": ""/usr/local/bin/kolla_monasca_extend_start"", ""owner"": ""root:root"", ""perm"": ""0755"""," ""command"": ""/opt/storm/bin/storm jar /monasca-thresh-source/monasca-thresh-*/thresh/target/monasca-thresh-*-SNAPSHOT-shaded.jar -Djava.io.tmpdir=/var/lib/monasca-thresh/data monasca.thresh.ThresholdingEngine /etc/monasca/thresh-config.yml monasca-thresh local"",",96,1
openstack%2Fironic-lib~master~Ic0174f59b95a878539ab17f659f1663548e94ed7,openstack/ironic-lib,master,Ic0174f59b95a878539ab17f659f1663548e94ed7,Add lower-constraints job to current development branch,MERGED,2021-08-05 15:50:09.000000000,2021-08-10 11:00:35.000000000,2021-08-10 10:57:38.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-05 15:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/a8240fd7ab8af6269702bd3ddb563536ef5b8a2a', 'message': ""Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nFix olso.utils min requirement and remove doc8 from test-requirements\nas it's already included in tox.ini config.\n\nChange-Id: Ic0174f59b95a878539ab17f659f1663548e94ed7\n""}, {'number': 2, 'created': '2021-08-06 08:03:08.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/b750b74c20c71513df089ad6d9ba96f0ec8a7a83', 'message': ""Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nFix olso.utils min requirement and remove doc8 from test-requirements\nas it's already included in tox.ini config.\n\nChange-Id: Ic0174f59b95a878539ab17f659f1663548e94ed7\n""}]",0,803628,b750b74c20c71513df089ad6d9ba96f0ec8a7a83,22,4,2,23851,,,0,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Fix olso.utils min requirement and remove doc8 from test-requirements
as it's already included in tox.ini config.

Change-Id: Ic0174f59b95a878539ab17f659f1663548e94ed7
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/28/803628/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt']",3,a8240fd7ab8af6269702bd3ddb563536ef5b8a2a,lower-constraints-revamp,WebOb==1.7.1 bcrypt==3.1.3 coverage==4.0 fixtures==3.0.0 keystoneauth1==4.2.0 keystonemiddleware==4.17.0 openstacksdk==0.30.0 os-service-types==1.2.0 oslo.concurrency==3.26.0 oslo.config==5.2.0 oslo.i18n==3.15.3 oslo.log==3.36.0 oslo.messaging==5.29.0 oslo.middleware==3.37.1 oslo.service==1.24.0 oslo.utils==3.34.0 oslotest==3.2.0 pbr==2.0.0 stestr==1.0.0 tenacity==6.2.0 zeroconf==0.24.0,,22,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0e1f7eed0ffe751fa54682103051ad29c08c1517,openstack/tripleo-heat-templates,stable/train,I0e1f7eed0ffe751fa54682103051ad29c08c1517,Make default of NeutronDefaultAvailabilityZones empty array,MERGED,2021-07-09 12:56:34.000000000,2021-08-10 10:45:09.000000000,2021-07-13 17:30:24.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-09 12:56:34.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53d053d4eab5f0fb4001a59dbc4f746625ccdd08', 'message': ""Make default of NeutronDefaultAvailabilityZones empty array\n\nNeutronDefaultAvailabilityZones is of type comma_delimited_list\ntherefore the default need to be [] instead of ''. Right now\nthe condition checks for empty string which is not the case\nfor comma_delimited_list and the hieradata covered by the\naz_unset condition get always set.\n\nCloses-Bug: #1934970\n\nConflicts:\n    deployment/neutron/neutron-api-container-puppet.yaml\n\nChange-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517\n(cherry picked from commit f276e7a4ae39c484226c2ebe6053e7a53a6fcaa1)\n(cherry picked from commit be2c8e62cecff253eb86a213c778943ee5b22346)\n""}]",0,800225,53d053d4eab5f0fb4001a59dbc4f746625ccdd08,10,6,1,17216,,,0,"Make default of NeutronDefaultAvailabilityZones empty array

NeutronDefaultAvailabilityZones is of type comma_delimited_list
therefore the default need to be [] instead of ''. Right now
the condition checks for empty string which is not the case
for comma_delimited_list and the hieradata covered by the
az_unset condition get always set.

Closes-Bug: #1934970

Conflicts:
    deployment/neutron/neutron-api-container-puppet.yaml

Change-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517
(cherry picked from commit f276e7a4ae39c484226c2ebe6053e7a53a6fcaa1)
(cherry picked from commit be2c8e62cecff253eb86a213c778943ee5b22346)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/800225/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,53d053d4eab5f0fb4001a59dbc4f746625ccdd08,1934970-t," default: [] az_unset: {equals: [{get_param: NeutronDefaultAvailabilityZones}, []]}"," default: '' az_unset: {equals: [{get_param: NeutronDefaultAvailabilityZones}, '']}",2,2
openstack%2Fkuryr-kubernetes~master~I0cad1c45615309587a2add1921029f5ce08be446,openstack/kuryr-kubernetes,master,I0cad1c45615309587a2add1921029f5ce08be446,Loadbalancers reconciliation,MERGED,2021-06-30 14:32:05.000000000,2021-08-10 10:45:03.000000000,2021-07-27 10:10:53.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-06-30 14:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/350b8fe806453ef85fecf2eb33dd866357d88d91', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 2, 'created': '2021-06-30 16:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/40ff64db5b4806382e0f8909af1ff3ffaa493aa2', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 3, 'created': '2021-07-01 06:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9af626673f5e323309dafdbb481492aa21a49179', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 4, 'created': '2021-07-01 12:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ef6be4576b9f0b78bb905086e06dfdd67e49ec48', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 5, 'created': '2021-07-02 06:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c943b973e562603cb15893f62ffb84bc76a79a61', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 6, 'created': '2021-07-02 11:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2feff31671eb5886a5530c655807814975425fc1', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 7, 'created': '2021-07-02 15:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bec38211099399eb5349fa96f28a23f68ce667ab', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 8, 'created': '2021-07-02 19:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/21cd6f3b4a6b8b2da289022f642d8d7d64bf6d93', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 9, 'created': '2021-07-03 01:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/91f4587bfac2dd5285ab79917c973e4ef6d1e215', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 10, 'created': '2021-07-07 13:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/062ade6efd134efe18f44786c0a78e011b8d19bc', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 11, 'created': '2021-07-09 20:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f9b6752478db9c60e495b4fedfd1c4ad144d9627', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 12, 'created': '2021-07-10 22:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7ecb3e2ba2eabd65bcd564d5a438de97b20c9b3a', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 13, 'created': '2021-07-13 08:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1abd688e49ba079214703485c245e277a0511510', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 14, 'created': '2021-07-13 08:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ec85a19a058c68f099b7ef2ed33d3097381e629f', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 60seconds detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 15, 'created': '2021-07-13 17:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8bc9a0f4692dcc814c0e70c137c2ee09bd0dae9e', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 16, 'created': '2021-07-13 17:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ef1c188f53a66a5060f48fb236c489d7fc062c9b', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 17, 'created': '2021-07-13 17:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/32d1f24921695d0d97f2f7e7c31f10c641efa998', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 18, 'created': '2021-07-13 17:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8ac5b8f2e361f1db95771008311032cb7d64bf14', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 19, 'created': '2021-07-17 19:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ec44f63a5fb9acc0c73fde5405777ac1cdfc9b14', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 20, 'created': '2021-07-19 01:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f8e8aba14e6a4eb3364ea9836b4fb1889c4c20b2', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 21, 'created': '2021-07-20 18:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e302c45beddf91c89fae86df450892d321eb0da3', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 22, 'created': '2021-07-21 18:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ebbfe04e97be86ca49c1f08b6f8de9f3e92702b3', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 23, 'created': '2021-07-22 06:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0aa723df7efb89865c1bd7ce0e271a4b570ad847', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 24, 'created': '2021-07-22 08:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/758925c7816962540da16f64fb58255003ea0aed', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 25, 'created': '2021-07-22 15:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e790508842493d7d32f13c94ddda76d973f2f619', 'message': 'wip: Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint https://blueprints.launchpad.net/kuryr-kubernetes/+spec/reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}, {'number': 26, 'created': '2021-07-26 10:18:13.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7f2c925a51794558c00501bfb8b39a13f158c545', 'message': 'Loadbalancers reconciliation\n\nThe project aims to handle the reconcilation of LoadBalancers on Octavia.\nWhen the loadbalancers are deleted on OpenStack, the reconciliations loop\nwhich runs every 10mins detects the missing loadbalancers andd triggers\ntheir recreation\n\nImplements: blueprint reconcile-openstack-resources-with-k8s\nChange-Id: I0cad1c45615309587a2add1921029f5ce08be446\n'}]",119,798904,7f2c925a51794558c00501bfb8b39a13f158c545,94,5,26,33240,,,0,"Loadbalancers reconciliation

The project aims to handle the reconcilation of LoadBalancers on Octavia.
When the loadbalancers are deleted on OpenStack, the reconciliations loop
which runs every 10mins detects the missing loadbalancers andd triggers
their recreation

Implements: blueprint reconcile-openstack-resources-with-k8s
Change-Id: I0cad1c45615309587a2add1921029f5ce08be446
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/04/798904/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py']",2,350b8fe806453ef85fecf2eb33dd866357d88d91,bp/reconcile-openstack-resources-with-k8s,"import eventletfrom kuryr_kubernetes.controller.drivers import utils as driver_utilsCRD_RECONCILIATION_FREQUENCY = 60 # seconds eventlet.spawn(self._reconcile_loadbalancers) def _reconcile_loadbalancers(self): while True: eventlet.sleep(self.CRD_RECONCILIATION_FREQUENCY) try: self._trigger_loadbalancer_reconciliation() except Exception: LOG.exception('Error while running loadbalancers ' 'reconciliation. It will be tried in 10s') def _trigger_loadbalancer_reconciliation(self): LOG.debug(""Reconciling the loadbalancer CRDs"") klbs = [] try: klbs = driver_utils.get_kuryrloadbalancer_crds() klbs_status = [] for klb in klbs: klbs_status.append(klb['status']) except k_exc.K8sClientException: LOG.debug(""Error retriving KuryrLoadBalanders CRDs"") return lbs_id = [] for klb_status in klbs_status: lbs_id.append(klb_status['loadbalancer']['id']) lbaas = clients.get_loadbalancer_client() loadbalancers = lbaas.load_balancers() for loadbalancer in loadbalancers: if loadbalancer['id'] not in lbs_id: LOG.debug(""Reconciling loadbalancers in OpenStack with CRDs"") self._reconcile_lbaas(lbs_id) else: LOG.debug(""Skipping reconciliations of loadbalancers"" ""in OpenStack as they are in sync with Kubernetes"") return def _reconcile_lbaas(self, lbs_id): if lbs_id: pass ",,62,1
openstack%2Fcharm-ceilometer-agent~master~I016792b5642c5d3e7a08fad4fb8151f44fb67dce,openstack/charm-ceilometer-agent,master,I016792b5642c5d3e7a08fad4fb8151f44fb67dce,Add CeilometerAgentTest to the gate,MERGED,2021-08-03 14:55:08.000000000,2021-08-10 10:44:41.000000000,2021-08-10 10:44:41.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-03 14:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/15de7906fea425822f628715d53b67da67c46664', 'message': 'Add CeilometerAgentTest to the gate\n\nChange-Id: I016792b5642c5d3e7a08fad4fb8151f44fb67dce\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/615\nRelated-Bug: #1927277\n'}, {'number': 2, 'created': '2021-08-04 12:19:41.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/300c8a4657ab22a64cc47303765325faa89eb10d', 'message': 'Add CeilometerAgentTest to the gate\n\nChange-Id: I016792b5642c5d3e7a08fad4fb8151f44fb67dce\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/615\nRelated-Bug: #1927277\nRelated-Bug: #1938884\n'}]",0,803359,300c8a4657ab22a64cc47303765325faa89eb10d,11,4,2,31289,,,0,"Add CeilometerAgentTest to the gate

Change-Id: I016792b5642c5d3e7a08fad4fb8151f44fb67dce
Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/615
Related-Bug: #1927277
Related-Bug: #1938884
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/59/803359/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",15,15de7906fea425822f628715d53b67da67c46664,bug/1927277, # machine for memcached; doesn't have a focal+ version yet. constraints: mem=4096M cores=4 '18': '19': neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router network-manager: Neutron neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true to: - '15' neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex to: - '16' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch debug: true polling-interval: 10 polling-batch-size: 0 to: - '17' - '18' - '19' ceilometer-agent: options: polling-interval: 10 enable-all-pollsters: true - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp', # machine for memcached; doesn't have a focal version yet. to: - '15' - '16' - '17' ceilometer-agent: {},766,71
openstack%2Fpython-zaqarclient~master~I5340387a5a91736d880c1c1bbfb73eb666137b66,openstack/python-zaqarclient,master,I5340387a5a91736d880c1c1bbfb73eb666137b66,Moving IRC network reference to OFTC,NEW,2021-07-08 00:44:18.000000000,2021-08-10 10:34:51.000000000,,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-08 00:44:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/88d8cc9137a49817e0e1971c916f149dff3fa7b6', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I5340387a5a91736d880c1c1bbfb73eb666137b66\n'}]",0,799938,88d8cc9137a49817e0e1971c916f149dff3fa7b6,5,4,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I5340387a5a91736d880c1c1bbfb73eb666137b66
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/38/799938/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,88d8cc9137a49817e0e1971c916f149dff3fa7b6,oftc,:IRC: #openstack-zaqar @ OFTC,:IRC: #openstack-zaqar @ freenode,1,1
openstack%2Foslo.privsep~master~I4ad1fbca83af0f0c89c3f18d38caa66ee735ea3e,openstack/oslo.privsep,master,I4ad1fbca83af0f0c89c3f18d38caa66ee735ea3e,Changed minversion in tox to 3.18.0,MERGED,2021-06-04 07:45:22.000000000,2021-08-10 10:21:26.000000000,2021-08-10 10:19:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31828}]","[{'number': 1, 'created': '2021-06-04 07:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/764e8d5230c5f07d9a67c7c8698a51937293f780', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I4ad1fbca83af0f0c89c3f18d38caa66ee735ea3e\n""}, {'number': 2, 'created': '2021-06-07 08:56:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/fee00ebb1169404a343f4785fc8446eb6e2290c4', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I4ad1fbca83af0f0c89c3f18d38caa66ee735ea3e\n""}]",0,794725,fee00ebb1169404a343f4785fc8446eb6e2290c4,11,3,2,31828,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I4ad1fbca83af0f0c89c3f18d38caa66ee735ea3e
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/25/794725/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,764e8d5230c5f07d9a67c7c8698a51937293f780,,minversion = 3.18.0,minversion = 3.1.1,1,1
openstack%2Foslo.i18n~master~I611811b3393f24934c4f336ed05dd121a760f488,openstack/oslo.i18n,master,I611811b3393f24934c4f336ed05dd121a760f488,Switch testing to Xena testing runtime,MERGED,2021-05-26 19:21:25.000000000,2021-08-10 09:54:37.000000000,2021-08-10 09:51:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31828}]","[{'number': 1, 'created': '2021-05-26 19:21:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/f42d0cebb46239b95dca20a8741170e3f1dabcf7', 'message': 'Switch testing to Xena testing runtime\n\nUpating the tetsing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I611811b3393f24934c4f336ed05dd121a760f488\n'}]",0,793228,f42d0cebb46239b95dca20a8741170e3f1dabcf7,9,3,1,31828,,,0,"Switch testing to Xena testing runtime

Upating the tetsing template to Xena testing runtime:
https://governance.openstack.org/tc/reference/runtimes/xena.html

Change-Id: I611811b3393f24934c4f336ed05dd121a760f488
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/28/793228/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f42d0cebb46239b95dca20a8741170e3f1dabcf7,, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Foslo.versionedobjects~master~Id73cfadea402d211a807b7f8df4dd374a624dece,openstack/oslo.versionedobjects,master,Id73cfadea402d211a807b7f8df4dd374a624dece,Changed minversion in tox to 3.18.0,MERGED,2021-06-04 08:00:54.000000000,2021-08-10 09:53:08.000000000,2021-08-10 09:51:11.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31828}]","[{'number': 1, 'created': '2021-06-04 08:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/bda41115a9bcbfa07df9aac2bf68bbea84d95ed0', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Id73cfadea402d211a807b7f8df4dd374a624dece\n""}, {'number': 2, 'created': '2021-06-07 08:44:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/59c0aadb89efb28040cb86e6e51e2892f31f211f', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Id73cfadea402d211a807b7f8df4dd374a624dece\n""}]",0,794730,59c0aadb89efb28040cb86e6e51e2892f31f211f,12,3,2,31828,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Id73cfadea402d211a807b7f8df4dd374a624dece
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/30/794730/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bda41115a9bcbfa07df9aac2bf68bbea84d95ed0,,minversion = 3.18.0,minversion = 3.1.1,1,1
openstack%2Foslo.i18n~master~I75d9aa9aafc692f7bc67be59ee20523eb07d573d,openstack/oslo.i18n,master,I75d9aa9aafc692f7bc67be59ee20523eb07d573d,Changed minversion in tox to 3.18.0,MERGED,2021-06-04 07:13:02.000000000,2021-08-10 09:50:44.000000000,2021-08-10 09:48:59.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31828}]","[{'number': 1, 'created': '2021-06-04 07:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/325889896558bd4f6d9e07bcf620a6fd82a82fc6', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I75d9aa9aafc692f7bc67be59ee20523eb07d573d\n""}, {'number': 2, 'created': '2021-06-07 08:33:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/c7d9354323003f35bb44aa2626dc580c79ceedd1', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I75d9aa9aafc692f7bc67be59ee20523eb07d573d\n""}]",0,794717,c7d9354323003f35bb44aa2626dc580c79ceedd1,13,3,2,31828,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I75d9aa9aafc692f7bc67be59ee20523eb07d573d
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/17/794717/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,325889896558bd4f6d9e07bcf620a6fd82a82fc6,,minversion = 3.18.0,minversion = 3.1.1,1,1
openstack%2Foslo.messaging~master~If129b56be47952d018b9f6024d2a192950c1a974,openstack/oslo.messaging,master,If129b56be47952d018b9f6024d2a192950c1a974,Changed minversion in tox to 3.18.0,MERGED,2021-06-04 07:12:42.000000000,2021-08-10 09:50:01.000000000,2021-08-10 09:48:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}, {'_account_id': 31828}]","[{'number': 1, 'created': '2021-06-04 07:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e30eb46ee6dc7dd057fea4d638593f4de67cefac', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: If129b56be47952d018b9f6024d2a192950c1a974\n""}, {'number': 2, 'created': '2021-06-07 08:59:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3e589edd902a3bb4a1f313ca877314e52f1b0520', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: If129b56be47952d018b9f6024d2a192950c1a974\n""}]",0,794716,3e589edd902a3bb4a1f313ca877314e52f1b0520,12,4,2,31828,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: If129b56be47952d018b9f6024d2a192950c1a974
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/16/794716/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e30eb46ee6dc7dd057fea4d638593f4de67cefac,,minversion = 3.18.0,minversion = 3.1,1,1
openstack%2Foslo.reports~master~I7482b0cfa02e0ac5dfb9813e1eb7c4e4d032b8ac,openstack/oslo.reports,master,I7482b0cfa02e0ac5dfb9813e1eb7c4e4d032b8ac,Changed minversion in tox to 3.18.0,MERGED,2021-06-04 07:50:20.000000000,2021-08-10 09:46:08.000000000,2021-08-10 09:44:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31828}]","[{'number': 1, 'created': '2021-06-04 07:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/9324111ac1cdfcd83b3d83eeea9d0ae36eba49df', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I7482b0cfa02e0ac5dfb9813e1eb7c4e4d032b8ac\n""}, {'number': 2, 'created': '2021-06-07 08:52:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/6da73410506972830d7d24ab405cb8a1a9740116', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I7482b0cfa02e0ac5dfb9813e1eb7c4e4d032b8ac\n""}]",0,794726,6da73410506972830d7d24ab405cb8a1a9740116,11,3,2,31828,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I7482b0cfa02e0ac5dfb9813e1eb7c4e4d032b8ac
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/26/794726/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9324111ac1cdfcd83b3d83eeea9d0ae36eba49df,,minversion = 3.18.0,minversion = 3.1.1,1,1
openstack%2Fneutron-lib~master~I46381b70f770ccd32943644341388b09f7e14556,openstack/neutron-lib,master,I46381b70f770ccd32943644341388b09f7e14556,multi-ext-gw: api-def and api-ref,MERGED,2021-07-23 14:10:38.000000000,2021-08-10 09:40:14.000000000,2021-08-10 09:37:48.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 33273}]","[{'number': 1, 'created': '2021-07-23 14:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/17737e27882c7f5c5dc50c0bef212be8ac00f1f2', 'message': 'multi-ext-gw: api-def and api-ref\n\nNew router attribute:\n    external_gateways\n\nNew router actions:\n    PUT add_external_gateways\n    PUT update_external_gateways\n    PUT remove_external_gateways\n\nChange-Id: I46381b70f770ccd32943644341388b09f7e14556\nPartial-Bug: #1905295\nRelated-Change (spec): https://review.opendev.org/c/openstack/neutron-specs/+/779511\n'}, {'number': 2, 'created': '2021-08-03 08:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/da81178027cab22b8f36bd12cc50266ec8895bc2', 'message': 'multi-ext-gw: api-def and api-ref\n\nNew router attribute:\n    external_gateways\n\nNew router actions:\n    PUT add_external_gateways\n    PUT update_external_gateways\n    PUT remove_external_gateways\n\nChange-Id: I46381b70f770ccd32943644341388b09f7e14556\nPartial-Bug: #1905295\nRelated-Change (spec): https://review.opendev.org/c/openstack/neutron-specs/+/779511\n'}, {'number': 3, 'created': '2021-08-03 14:41:54.000000000', 'files': ['api-ref/source/v2/samples/routers/router-remove-external-gateways-request.json', 'neutron_lib/api/definitions/l3_ext_gw_mode.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'api-ref/source/v2/samples/routers/router-add-external-gateways-response.json', 'neutron_lib/tests/unit/api/definitions/test_l3_multi_ext_gw.py', 'api-ref/source/v2/samples/routers/router-add-external-gateways-request.json', 'neutron_lib/api/validators/__init__.py', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/l3_multi_ext_gw.py', 'api-ref/source/v2/samples/routers/router-update-external-gateways-request.json', 'api-ref/source/v2/samples/routers/router-remove-external-gateways-response.json', 'releasenotes/notes/l3-multi-ext-gw-5a55c7afb7114db7.yaml', 'api-ref/source/v2/routers.inc', 'api-ref/source/v2/samples/routers/router-update-external-gateways-response.json', 'neutron_lib/api/converters.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/75057767eb98c302524e566c79e251ab334af8a1', 'message': 'multi-ext-gw: api-def and api-ref\n\nNew router attribute:\n    external_gateways\n\nNew router actions:\n    PUT add_external_gateways\n    PUT update_external_gateways\n    PUT remove_external_gateways\n\nChange-Id: I46381b70f770ccd32943644341388b09f7e14556\nPartial-Bug: #1905295\nRelated-Change (spec): https://review.opendev.org/c/openstack/neutron-specs/+/779511\n'}]",5,802029,75057767eb98c302524e566c79e251ab334af8a1,19,4,3,15554,,,0,"multi-ext-gw: api-def and api-ref

New router attribute:
    external_gateways

New router actions:
    PUT add_external_gateways
    PUT update_external_gateways
    PUT remove_external_gateways

Change-Id: I46381b70f770ccd32943644341388b09f7e14556
Partial-Bug: #1905295
Related-Change (spec): https://review.opendev.org/c/openstack/neutron-specs/+/779511
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/29/802029/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/routers/router-remove-external-gateways-request.json', 'neutron_lib/api/definitions/l3_ext_gw_mode.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'api-ref/source/v2/samples/routers/router-add-external-gateways-response.json', 'neutron_lib/tests/unit/api/definitions/test_l3_multi_ext_gw.py', 'api-ref/source/v2/samples/routers/router-add-external-gateways-request.json', 'neutron_lib/api/validators/__init__.py', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/l3_multi_ext_gw.py', 'api-ref/source/v2/samples/routers/router-update-external-gateways-request.json', 'api-ref/source/v2/samples/routers/router-remove-external-gateways-response.json', 'releasenotes/notes/l3-multi-ext-gw-5a55c7afb7114db7.yaml', 'api-ref/source/v2/routers.inc', 'api-ref/source/v2/samples/routers/router-update-external-gateways-response.json', 'neutron_lib/api/converters.py']",16,17737e27882c7f5c5dc50c0bef212be8ac00f1f2,multi-ext-gw, if 0 <= convert_to_int(data) <= 255:,"from neutron_lib.api import validators if validators.validate_range(convert_to_int(data), [0, 255]) is None:",597,16
openstack%2Fneutron~master~I1dc56092d099223accc3aefa8e303310c4f6787e,openstack/neutron,master,I1dc56092d099223accc3aefa8e303310c4f6787e,Wait until workers have been launched,MERGED,2021-07-29 10:34:41.000000000,2021-08-10 09:38:18.000000000,2021-08-10 09:36:36.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 10:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66fe0aa34a1b20f2d00cafa3dc1e2f8c9632f7a3', 'message': 'Wait until workers have been launched\n\nIn ""test_restart_rpc_on_sighup_multiple_workers"", the test needs to\nwait until the RPC workers have been properly launched by\n``oslo_service.service.ProcessLauncher.launch_service``. Once this\nmethod returns, it is guaranteed that the child worker processes\nare running and the signal process handlers are attending the\nSIGHUP signal that will reset them.\n\nCloses-Bug: #1938428\nChange-Id: I1dc56092d099223accc3aefa8e303310c4f6787e\n'}, {'number': 2, 'created': '2021-07-29 14:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e09a1b42698db57e8bbadd1725c404565e2c92b', 'message': 'Wait until workers have been launched\n\nIn ""test_restart_rpc_on_sighup_multiple_workers"", the test needs to\nwait until the RPC workers have been properly launched by\n``oslo_service.service.ProcessLauncher.launch_service``. Once this\nmethod returns, it is guaranteed that the child worker processes\nare running and the signal process handlers are attending the\nSIGHUP signal that will reset them.\n\nCloses-Bug: #1938428\nChange-Id: I1dc56092d099223accc3aefa8e303310c4f6787e\n'}, {'number': 3, 'created': '2021-07-29 15:50:12.000000000', 'files': ['neutron/tests/functional/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fafcabdbe0dccf2747884a35f3a094486c806fa6', 'message': 'Wait until workers have been launched\n\nIn ""test_restart_rpc_on_sighup_multiple_workers"", the test needs to\nwait until the RPC workers have been properly launched by\n``oslo_service.service.ProcessLauncher.launch_service``. Once this\nmethod returns, it is guaranteed that the child worker processes\nare running and the signal process handlers are attending the\nSIGHUP signal that will reset them.\n\nCloses-Bug: #1938428\nChange-Id: I1dc56092d099223accc3aefa8e303310c4f6787e\n'}]",7,802860,fafcabdbe0dccf2747884a35f3a094486c806fa6,26,6,3,16688,,,0,"Wait until workers have been launched

In ""test_restart_rpc_on_sighup_multiple_workers"", the test needs to
wait until the RPC workers have been properly launched by
``oslo_service.service.ProcessLauncher.launch_service``. Once this
method returns, it is guaranteed that the child worker processes
are running and the signal process handlers are attending the
SIGHUP signal that will reset them.

Closes-Bug: #1938428
Change-Id: I1dc56092d099223accc3aefa8e303310c4f6787e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/802860/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/test_server.py'],1,66fe0aa34a1b20f2d00cafa3dc1e2f8c9632f7a3,bug/1938428,"import queue def _start_server(self, callback, workers, processes_queue=None): workers = self._get_workers(10, processes_queue=processes_queue) def _get_workers(self, timeout, processes_queue=None): def get_workers_pid(): if self.workers > 1: return [proc.pid for proc in psutil.process_iter() if safe_ppid(proc) == self.service_pid] else: return [proc.pid for proc in psutil.process_iter() if proc.pid == self.service_pid] exception = RuntimeError('Failed to start %d workers.' % self.workers) if processes_queue: try: processes_queue.get(timeout=timeout) except queue.Empty: raise exception # Wait at most 10 seconds to spawn workers condition = lambda: self.workers == len(get_workers_pid()) utils.wait_until_true(condition, timeout=timeout, sleep=0.1, exception=exception) return get_workers_pid() def _test_restart_service_on_sighup(self, service, workers=1, processes_queue=None): self._start_server(callback=service, workers=workers, processes_queue=processes_queue) self._processes_queue = multiprocessing.Queue() self._processes_queue.put(list(rpc_workers_launcher.children)) self._test_restart_service_on_sighup( service=self._serve_rpc, workers=2, processes_queue=self._processes_queue)"," def _start_server(self, callback, workers): # Wait at most 10 seconds to spawn workers condition = lambda: self.workers == len(self._get_workers()) utils.wait_until_true( condition, timeout=10, sleep=0.1, exception=RuntimeError( ""Failed to start %d workers."" % self.workers)) workers = self._get_workers() def _get_workers(self): if self.workers > 1: return [proc.pid for proc in psutil.process_iter() if safe_ppid(proc) == self.service_pid] else: return [proc.pid for proc in psutil.process_iter() if proc.pid == self.service_pid] def _test_restart_service_on_sighup(self, service, workers=1): self._start_server(callback=service, workers=workers) self._test_restart_service_on_sighup(service=self._serve_rpc, workers=2)",37,22
openstack%2Fos-ken~master~I9ff2cdf3d1e2d262c53933d8151b982f87f1122c,openstack/os-ken,master,I9ff2cdf3d1e2d262c53933d8151b982f87f1122c,setup.cfg: Replace dashes with underscores,MERGED,2021-05-19 01:57:43.000000000,2021-08-10 09:20:34.000000000,2021-08-10 09:19:19.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 01:57:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/66d6204933a9e15c6ae37d94ae16f87f81539344', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I9ff2cdf3d1e2d262c53933d8151b982f87f1122c\n""}]",0,792058,66d6204933a9e15c6ae37d94ae16f87f81539344,7,2,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I9ff2cdf3d1e2d262c53933d8151b982f87f1122c
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/58/792058/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,66d6204933a9e15c6ae37d94ae16f87f81539344,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/ python-requires = >=3.6,4,4
openstack%2Fos-ken~master~I38355c133f41bfad8125f81b2334176cc3972117,openstack/os-ken,master,I38355c133f41bfad8125f81b2334176cc3972117,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2021-05-19 01:54:42.000000000,2021-08-10 09:18:42.000000000,2021-08-10 09:17:22.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 01:54:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/042e32aa9308ca8cf89f3d690800dd1079dc1edb', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I38355c133f41bfad8125f81b2334176cc3972117\n'}]",0,792057,042e32aa9308ca8cf89f3d690800dd1079dc1edb,7,2,1,32029,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I38355c133f41bfad8125f81b2334176cc3972117
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/57/792057/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,042e32aa9308ca8cf89f3d690800dd1079dc1edb,TOX_CONSTRAINTS_FILE, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fpython-senlinclient~master~Ic38aa2b68c5162ebb558d1b853dcb3fbbfc564c6,openstack/python-senlinclient,master,Ic38aa2b68c5162ebb558d1b853dcb3fbbfc564c6,Add Python3 xena unit tests,MERGED,2021-03-18 10:45:19.000000000,2021-08-10 09:02:39.000000000,2021-08-10 08:59:03.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2021-03-18 10:45:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/d0b16e57c3c6bc87d93f3420787d74a9a19cf8d2', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ic38aa2b68c5162ebb558d1b853dcb3fbbfc564c6\n'}]",0,781309,d0b16e57c3c6bc87d93f3420787d74a9a19cf8d2,10,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ic38aa2b68c5162ebb558d1b853dcb3fbbfc564c6
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/09/781309/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d0b16e57c3c6bc87d93f3420787d74a9a19cf8d2,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Foctavia-dashboard~stable%2Fvictoria~I0145a9f65df54b608497307fc686a567bce3dd7c,openstack/octavia-dashboard,stable/victoria,I0145a9f65df54b608497307fc686a567bce3dd7c,Imported Translations from Zanata,MERGED,2021-07-04 07:34:37.000000000,2021-08-10 09:02:35.000000000,2021-08-10 08:57:53.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-04 07:34:37.000000000', 'files': ['octavia_dashboard/locale/ru/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/ru/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/a66eb7e2e43720013cb06db873e5aee2ff35f20d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0145a9f65df54b608497307fc686a567bce3dd7c\n'}]",0,799412,a66eb7e2e43720013cb06db873e5aee2ff35f20d,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0145a9f65df54b608497307fc686a567bce3dd7c
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/12/799412/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/locale/ru/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/ru/LC_MESSAGES/django.po']",2,a66eb7e2e43720013cb06db873e5aee2ff35f20d,zanata/translations,"# Roman Gorshunov <roman.gorshunov@att.com>, 2021. #zanata""Project-Id-Version: octavia-dashboard VERSION\n""""POT-Creation-Date: 2021-06-08 14:43+0000\n""""PO-Revision-Date: 2021-06-30 12:49+0000\n"" ""Last-Translator: Roman Gorshunov <roman.gorshunov@att.com>\n""""X-Generator: Zanata 4.3.3\n""","# Artem <amikhalev90@gmail.com>, 2016. #zanata # Fedor Tarasenko <feodor.tarasenko@gmail.com>, 2017. #zanata""Project-Id-Version: octavia-dashboard 1.0.1.dev55\n""""POT-Creation-Date: 2017-02-03 18:54+0000\n""""PO-Revision-Date: 2017-02-03 08:54+0000\n"" ""Last-Translator: Fedor Tarasenko <feodor.tarasenko@gmail.com>\n""""X-Generator: Zanata 3.7.3\n""#, python-format msgid ""%s loadbalancers"" msgstr ""%s  "" msgid ""Admin Status"" msgstr """" msgid ""All Instances"" msgstr "" "" msgid ""Certificate"" msgstr """" msgid ""Certificate Chain (Optional)"" msgstr ""  ()"" msgid ""Certificate Name"" msgstr "" "" msgid ""Could not create full loadbalancer."" msgstr ""    ."" msgid ""Could not get load balancer list."" msgstr ""    ."" msgid ""Disable"" msgstr """" msgid ""Disabled LB"" msgstr "" "" msgid ""Edit Load Balancer"" msgstr ""  "" msgid ""Enable"" msgstr """" msgid ""Enabled LB"" msgstr "" "" msgid ""HTTP"" msgstr ""HTTP"" msgid ""HTTPS"" msgstr ""HTTPS"" msgid ""Health Check Interval (in seconds)"" msgstr ""   ()"" msgid ""IP"" msgstr ""IP-"" msgid ""Instance Port"" msgstr "" "" msgid ""Instance Port on which service is running."" msgstr ""     "" msgid ""Instances"" msgstr """" msgid ""Intermediate Chain Certificates"" msgstr ""  "" msgid ""LB Details"" msgstr "" "" msgid ""LB Port"" msgstr "" "" msgid ""LB Port on which LB is listening."" msgstr ""     "" msgid ""LB Protocol"" msgstr "" "" msgid ""Launch"" msgstr """" msgid ""Launch Load Balancer"" msgstr ""  "" #, python-format msgid ""Launched %(count)s named \""%(name)s\""."" msgstr "" %(count)s \""%(name)s\""."" msgid ""Least Connection"" msgstr "" "" msgid ""Least Sessions"" msgstr "" "" msgid ""Load Balancer"" msgstr "" "" msgid ""Load Balancer Description"" msgstr ""  "" msgid ""Load Balancers V2"" msgstr ""  V2"" msgid ""Load Balancing Method"" msgstr ""  "" msgid ""Method"" msgstr """" msgid ""Monitor"" msgstr """" msgid ""Name"" msgstr """" msgid ""No instances found."" msgstr ""  ."" msgid ""No members enabled."" msgstr ""  ."" msgid ""Not available"" msgstr """" msgid """" ""Number of times health check should be attempted before marking down a member"" msgstr """" ""    ,    "" msgid ""Operating Status"" msgstr "" "" msgid ""Overview"" msgstr """" msgid ""PING"" msgstr ""PING"" msgid ""Please provide all certificate parameters."" msgstr ""   ."" msgid ""Please provide instance port"" msgstr ""  "" msgid """" ""Please select a list of instances that should handle traffic for this target "" ""load balancer. All instances must reside in the same Project as the target "" ""load balancer."" msgstr """" "" ,     . "" ""       ,   ."" msgid ""Please select an option for the load balancing method."" msgstr ""   ."" msgid ""Please select at least one member"" msgstr ""    "" msgid ""Private Key"" msgstr "" "" msgid ""Protocol"" msgstr """" msgid ""Provide Load Balancer Description."" msgstr ""   ."" msgid ""Provisioning Status"" msgstr "" "" msgid ""Receive String"" msgstr "" "" #, python-format msgid ""Requested IP and port combination already exists %s "" msgstr ""  IP     %s"" msgid ""Retry count before markdown"" msgstr ""   "" msgid ""Round Robin"" msgstr """" msgid ""SSL"" msgstr ""SSL"" msgid ""SSL Certificate"" msgstr "" SSL "" msgid ""Scheduled termination of"" msgstr "" "" msgid ""Select from existing VIP IPs"" msgstr ""   VIP "" msgid ""Selected Instances"" msgstr "" "" msgid ""Send String"" msgstr "" "" msgid ""TCP"" msgstr ""TCP"" msgid ""Terminate"" msgstr """" #, python-format msgid ""Unable to get VIP for pool %(pool)s."" msgstr ""  VIP   %(pool)s."" #, python-format msgid ""Unable to get health monitors for pool %(pool)s."" msgstr ""       %(pool)s."" #, python-format msgid ""Unable to get members for pool %(pool)s."" msgstr ""     %(pool)s."" msgid ""Unable to get pool detail."" msgstr ""   ."" #, python-format msgid ""Unable to get subnet for pool %(pool)s."" msgstr ""     %(pool)s."" #, python-format msgid ""Unable to launch %(count)s named \""%(name)s\""."" msgstr ""   %(count)s \""%(name)s\""."" #, python-format msgid ""Unable to modify load balancer \""%s\""."" msgstr ""     \""%s\""."" #, python-format msgid ""Unable to retrieve details for loadbalancer \""%s\""."" msgstr ""      \""%s\""."" #, python-format msgid ""Unable to retrieve load balancer details. %s"" msgstr ""      . %s"" msgid ""Unable to retrieve members list. Please try again later."" msgstr ""    .   ."" msgid ""Unable to retrieve pools list."" msgstr ""    ."" msgid ""Unable to retrieve vips."" msgstr ""   VIP"" msgid ""Update"" msgstr """" #, python-format msgid ""Updated load balancer \""%s\""."" msgstr ""  \""%s\""."" msgid ""loadbalancer"" msgstr "" """,873,652
openstack%2Foctavia-dashboard~master~I324d36a1e92c66556f73a839acbde425f669d2a3,openstack/octavia-dashboard,master,I324d36a1e92c66556f73a839acbde425f669d2a3,Remove unicode to adapt to python3,MERGED,2021-01-03 09:31:31.000000000,2021-08-10 09:00:52.000000000,2021-08-10 08:57:54.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-01-03 09:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/cf2ac1ca0b2f64ba46d703ba8de8d708cb0ad0e4', 'message': 'Remove unicode to adapt to python3\n\nChange-Id: I324d36a1e92c66556f73a839acbde425f669d2a3\n'}, {'number': 2, 'created': '2021-01-05 02:03:29.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/f469a226d6dcc287a984d5fa7873edc46e806eee', 'message': 'Remove unicode to adapt to python3\n\nChange-Id: I324d36a1e92c66556f73a839acbde425f669d2a3\n'}]",2,769057,f469a226d6dcc287a984d5fa7873edc46e806eee,11,4,2,29870,,,0,"Remove unicode to adapt to python3

Change-Id: I324d36a1e92c66556f73a839acbde425f669d2a3
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/57/769057/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,cf2ac1ca0b2f64ba46d703ba8de8d708cb0ad0e4,remove-unicode,"copyright = '2017, Octavia Developers' author = 'Octavia Developers' (master_doc, 'octavia-dashboard.tex', octavia-dashboard Documentation', 'Octavia Developers', 'manual'), (master_doc, 'octavia-dashboard', 'octavia-dashboard Documentation', (master_doc, 'octavia-dashboard', 'octavia-dashboard Documentation',","copyright = u'2017, Octavia Developers' author = u'Octavia Developers' (master_doc, 'octavia-dashboard.tex', u'octavia-dashboard Documentation', u'Octavia Developers', 'manual'), (master_doc, 'octavia-dashboard', u'octavia-dashboard Documentation', (master_doc, 'octavia-dashboard', u'octavia-dashboard Documentation',",9,9
openstack%2Foctavia-dashboard~stable%2Fwallaby~Idec2c182b2758a148ae9d0efa251510d5e7985a3,openstack/octavia-dashboard,stable/wallaby,Idec2c182b2758a148ae9d0efa251510d5e7985a3,Change the Octavia Barbican namespace,MERGED,2021-07-13 15:44:18.000000000,2021-08-10 09:00:51.000000000,2021-08-10 08:57:45.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-13 15:44:18.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'releasenotes/notes/Fix-namespace-collision-with-barbican-ui-267f4ba074729ea6.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/api/rest/barbican.py', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.spec.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/b4c76b96868dd22d5d1f306ac01129eb882e2d74', 'message': 'Change the Octavia Barbican namespace\n\nThe octavia dashboard has a built-in barbican rest API client used\nto access barbican for certificate selection during load blanancer\ncreation.\nUnfortunately, this client used the ""barbican"" namespace, which is\nnow used by the barbican-ui dashboard.\n\nThis patch renames the octavia client namespace to be octavia-barbican\nto eliminate any namespace collisions with the barbican-ui dashboard.\n\nChange-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3\n(cherry picked from commit 7e390312eaf3cbbf89d46b05dd20b5296d61616d)\n'}]",0,800639,b4c76b96868dd22d5d1f306ac01129eb882e2d74,8,3,1,11628,,,0,"Change the Octavia Barbican namespace

The octavia dashboard has a built-in barbican rest API client used
to access barbican for certificate selection during load blanancer
creation.
Unfortunately, this client used the ""barbican"" namespace, which is
now used by the barbican-ui dashboard.

This patch renames the octavia client namespace to be octavia-barbican
to eliminate any namespace collisions with the barbican-ui dashboard.

Change-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3
(cherry picked from commit 7e390312eaf3cbbf89d46b05dd20b5296d61616d)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/39/800639/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'releasenotes/notes/Fix-namespace-collision-with-barbican-ui-267f4ba074729ea6.yaml', 'octavia_dashboard/api/rest/barbican.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.spec.js']",6,b4c76b96868dd22d5d1f306ac01129eb882e2d74,," beforeEach( inject(['horizon.app.core.openstack-service-api.octavia-barbican', function(octaviaBarbicanAPI) { service = octaviaBarbicanAPI; }])); path: ""/api/octavia-barbican/certificates/"", path: ""/api/octavia-barbican/secrets/"","," beforeEach(inject(['horizon.app.core.openstack-service-api.barbican', function(barbicanAPI) { service = barbicanAPI; }])); path: ""/api/barbican/certificates/"", path: ""/api/barbican/secrets/"",",28,22
openstack%2Foctavia-dashboard~stable%2Ftrain~Idec2c182b2758a148ae9d0efa251510d5e7985a3,openstack/octavia-dashboard,stable/train,Idec2c182b2758a148ae9d0efa251510d5e7985a3,Change the Octavia Barbican namespace,MERGED,2021-07-13 15:45:27.000000000,2021-08-10 09:00:46.000000000,2021-08-10 08:57:46.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-13 15:45:27.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'releasenotes/notes/Fix-namespace-collision-with-barbican-ui-267f4ba074729ea6.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/api/rest/barbican.py', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.spec.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/2358084a5329a4a24e3cc23ab16d6637e7c07769', 'message': 'Change the Octavia Barbican namespace\n\nThe octavia dashboard has a built-in barbican rest API client used\nto access barbican for certificate selection during load blanancer\ncreation.\nUnfortunately, this client used the ""barbican"" namespace, which is\nnow used by the barbican-ui dashboard.\n\nThis patch renames the octavia client namespace to be octavia-barbican\nto eliminate any namespace collisions with the barbican-ui dashboard.\n\nChange-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3\n(cherry picked from commit 7e390312eaf3cbbf89d46b05dd20b5296d61616d)\n'}]",0,800642,2358084a5329a4a24e3cc23ab16d6637e7c07769,8,3,1,11628,,,0,"Change the Octavia Barbican namespace

The octavia dashboard has a built-in barbican rest API client used
to access barbican for certificate selection during load blanancer
creation.
Unfortunately, this client used the ""barbican"" namespace, which is
now used by the barbican-ui dashboard.

This patch renames the octavia client namespace to be octavia-barbican
to eliminate any namespace collisions with the barbican-ui dashboard.

Change-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3
(cherry picked from commit 7e390312eaf3cbbf89d46b05dd20b5296d61616d)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/42/800642/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'releasenotes/notes/Fix-namespace-collision-with-barbican-ui-267f4ba074729ea6.yaml', 'octavia_dashboard/api/rest/barbican.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.spec.js']",6,2358084a5329a4a24e3cc23ab16d6637e7c07769,," beforeEach( inject(['horizon.app.core.openstack-service-api.octavia-barbican', function(octaviaBarbicanAPI) { service = octaviaBarbicanAPI; }])); path: ""/api/octavia-barbican/certificates/"", path: ""/api/octavia-barbican/secrets/"","," beforeEach(inject(['horizon.app.core.openstack-service-api.barbican', function(barbicanAPI) { service = barbicanAPI; }])); path: ""/api/barbican/certificates/"", path: ""/api/barbican/secrets/"",",28,22
openstack%2Foctavia-dashboard~stable%2Fussuri~Idec2c182b2758a148ae9d0efa251510d5e7985a3,openstack/octavia-dashboard,stable/ussuri,Idec2c182b2758a148ae9d0efa251510d5e7985a3,Change the Octavia Barbican namespace,MERGED,2021-07-13 15:45:01.000000000,2021-08-10 09:00:46.000000000,2021-08-10 08:57:44.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-13 15:45:01.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'releasenotes/notes/Fix-namespace-collision-with-barbican-ui-267f4ba074729ea6.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/api/rest/barbican.py', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.spec.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/fd73b213026617a2949cebcc834b84246dd540a3', 'message': 'Change the Octavia Barbican namespace\n\nThe octavia dashboard has a built-in barbican rest API client used\nto access barbican for certificate selection during load blanancer\ncreation.\nUnfortunately, this client used the ""barbican"" namespace, which is\nnow used by the barbican-ui dashboard.\n\nThis patch renames the octavia client namespace to be octavia-barbican\nto eliminate any namespace collisions with the barbican-ui dashboard.\n\nChange-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3\n(cherry picked from commit 7e390312eaf3cbbf89d46b05dd20b5296d61616d)\n'}]",0,800641,fd73b213026617a2949cebcc834b84246dd540a3,8,3,1,11628,,,0,"Change the Octavia Barbican namespace

The octavia dashboard has a built-in barbican rest API client used
to access barbican for certificate selection during load blanancer
creation.
Unfortunately, this client used the ""barbican"" namespace, which is
now used by the barbican-ui dashboard.

This patch renames the octavia client namespace to be octavia-barbican
to eliminate any namespace collisions with the barbican-ui dashboard.

Change-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3
(cherry picked from commit 7e390312eaf3cbbf89d46b05dd20b5296d61616d)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/41/800641/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'releasenotes/notes/Fix-namespace-collision-with-barbican-ui-267f4ba074729ea6.yaml', 'octavia_dashboard/api/rest/barbican.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.spec.js']",6,fd73b213026617a2949cebcc834b84246dd540a3,," beforeEach( inject(['horizon.app.core.openstack-service-api.octavia-barbican', function(octaviaBarbicanAPI) { service = octaviaBarbicanAPI; }])); path: ""/api/octavia-barbican/certificates/"", path: ""/api/octavia-barbican/secrets/"","," beforeEach(inject(['horizon.app.core.openstack-service-api.barbican', function(barbicanAPI) { service = barbicanAPI; }])); path: ""/api/barbican/certificates/"", path: ""/api/barbican/secrets/"",",28,22
openstack%2Foctavia-dashboard~stable%2Fvictoria~Idec2c182b2758a148ae9d0efa251510d5e7985a3,openstack/octavia-dashboard,stable/victoria,Idec2c182b2758a148ae9d0efa251510d5e7985a3,Change the Octavia Barbican namespace,MERGED,2021-07-13 15:44:38.000000000,2021-08-10 08:59:13.000000000,2021-08-10 08:57:43.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-07-13 15:44:38.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'releasenotes/notes/Fix-namespace-collision-with-barbican-ui-267f4ba074729ea6.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/api/rest/barbican.py', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.spec.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/3aef1f7423052a161d9cc500e8fef789fc26bc28', 'message': 'Change the Octavia Barbican namespace\n\nThe octavia dashboard has a built-in barbican rest API client used\nto access barbican for certificate selection during load blanancer\ncreation.\nUnfortunately, this client used the ""barbican"" namespace, which is\nnow used by the barbican-ui dashboard.\n\nThis patch renames the octavia client namespace to be octavia-barbican\nto eliminate any namespace collisions with the barbican-ui dashboard.\n\nChange-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3\n(cherry picked from commit 7e390312eaf3cbbf89d46b05dd20b5296d61616d)\n'}]",0,800640,3aef1f7423052a161d9cc500e8fef789fc26bc28,8,3,1,11628,,,0,"Change the Octavia Barbican namespace

The octavia dashboard has a built-in barbican rest API client used
to access barbican for certificate selection during load blanancer
creation.
Unfortunately, this client used the ""barbican"" namespace, which is
now used by the barbican-ui dashboard.

This patch renames the octavia client namespace to be octavia-barbican
to eliminate any namespace collisions with the barbican-ui dashboard.

Change-Id: Idec2c182b2758a148ae9d0efa251510d5e7985a3
(cherry picked from commit 7e390312eaf3cbbf89d46b05dd20b5296d61616d)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/40/800640/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'releasenotes/notes/Fix-namespace-collision-with-barbican-ui-267f4ba074729ea6.yaml', 'octavia_dashboard/api/rest/barbican.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/octavia-barbican.service.spec.js']",6,3aef1f7423052a161d9cc500e8fef789fc26bc28,," beforeEach( inject(['horizon.app.core.openstack-service-api.octavia-barbican', function(octaviaBarbicanAPI) { service = octaviaBarbicanAPI; }])); path: ""/api/octavia-barbican/certificates/"", path: ""/api/octavia-barbican/secrets/"","," beforeEach(inject(['horizon.app.core.openstack-service-api.barbican', function(barbicanAPI) { service = barbicanAPI; }])); path: ""/api/barbican/certificates/"", path: ""/api/barbican/secrets/"",",28,22
openstack%2Foctavia-dashboard~master~I0ae2472549296c1a299f6f0d73c386dcb65a54f0,openstack/octavia-dashboard,master,I0ae2472549296c1a299f6f0d73c386dcb65a54f0,Fix deleting multiple resources,MERGED,2021-04-06 06:49:24.000000000,2021-08-10 08:59:07.000000000,2021-08-10 08:57:48.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 06:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/65fd937252325057d7b84b48aeeeca023c545896', 'message': 'Fix deleting multiple resources\n\nFix an issue that occured when deleting multiple resources at the same\ntime, the first one was correctly deleted but the other resources failed\nbecause the load balancer was still in a PENDING_UPDATE provisioning\nstatus.\n\nIn case of conflicts/PENDING UPDATE provisioning status, added a thread\nto defer the deletion of the resource when the LB is active.\n\nStory 2008798\nTask 42212\n\nChange-Id: I0ae2472549296c1a299f6f0d73c386dcb65a54f0\n'}, {'number': 2, 'created': '2021-04-06 10:37:58.000000000', 'files': ['octavia_dashboard/api/rest/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/4421ff8b6a023c345d6ab36035f516d9cd1de69a', 'message': 'Fix deleting multiple resources\n\nFix an issue that occured when deleting multiple resources at the same\ntime, the first one was correctly deleted but the other resources failed\nbecause the load balancer was still in a PENDING_UPDATE provisioning\nstatus.\n\nIn case of conflicts/PENDING UPDATE provisioning status, added a thread\nto defer the deletion of the resource when the LB is active.\n\nStory 2008798\nTask 42212\n\nChange-Id: I0ae2472549296c1a299f6f0d73c386dcb65a54f0\n'}]",0,784880,4421ff8b6a023c345d6ab36035f516d9cd1de69a,10,2,2,29244,,,0,"Fix deleting multiple resources

Fix an issue that occured when deleting multiple resources at the same
time, the first one was correctly deleted but the other resources failed
because the load balancer was still in a PENDING_UPDATE provisioning
status.

In case of conflicts/PENDING UPDATE provisioning status, added a thread
to defer the deletion of the resource when the LB is active.

Story 2008798
Task 42212

Change-Id: I0ae2472549296c1a299f6f0d73c386dcb65a54f0
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/80/784880/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/api/rest/lbaasv2.py'],1,65fd937252325057d7b84b48aeeeca023c545896,,"import timefrom openstack import exceptions time.sleep(interval)def _retry_on_conflict(conn, func, *args, retry_timeout=120, **kwargs): load_balancer_getter = kwargs.pop('load_balancer_getter') resource_id = kwargs.pop('resource_id') interval = conf.HORIZON_CONFIG['ajax_poll_interval'] / 1000.0 load_balancer_id = load_balancer_getter(conn, resource_id) start = time.time() while time.time() - start < retry_timeout: lb = conn.load_balancer.get_load_balancer(load_balancer_id) if lb.provisioning_status == 'PENDING_UPDATE': time.sleep(interval) continue try: func(*args, **kwargs) except exceptions.ConflictException: # Still catching 409/Conflict as there might have multiple threads # waiting for a non-PENDING provisioning state continue break def retry_on_conflict(conn, func, *args, retry_timeout=120, **kwargs): load_balancer_getter = kwargs.pop('load_balancer_getter') resource_id = kwargs.pop('resource_id') try: func(*args, **kwargs) except exceptions.ConflictException: thread.start_new_thread( _retry_on_conflict, (conn, func, *args), {'retry_timeout': retry_timeout, 'load_balancer_getter': load_balancer_getter, 'resource_id': resource_id, **kwargs}) def listener_get_load_balancer_id(conn, listener_id): listener = conn.load_balancer.get_listener(listener_id) return listener.load_balancers[0]['id'] def l7_policy_get_load_balancer_id(conn, l7_policy_id): l7_policy = conn.load_balancer.get_l7_policy(l7_policy_id) listener = conn.load_balancer.get_listener(l7_policy.listener_id) return listener.load_balancers[0]['id'] def pool_get_load_balancer_id(conn, pool_id): pool = conn.load_balancer.get_pool(pool_id) return pool.loadbalancers[0]['id'] def health_monitor_get_load_balancer_id(conn, health_monitor_id): pool_id = conn.load_balancer.get_health_monitor(health_monitor_id) return pool_get_load_balancer_id(conn, pool_id) retry_on_conflict( conn, conn.load_balancer.delete_listener, listener_id, ignore_missing=True, load_balancer_getter=listener_get_load_balancer_id, resource_id=listener_id) retry_on_conflict( conn, conn.load_balancer.delete_l7_policy, l7_policy_id, load_balancer_getter=l7_policy_get_load_balancer_id, resource_id=l7_policy_id) retry_on_conflict( conn, conn.load_balancer.delete_l7_rule, l7_rule_id, l7_policy_id, load_balancer_getter=l7_policy_get_load_balancer_id, resource_id=l7_policy_id) retry_on_conflict( conn, conn.load_balancer.delete_pool, pool_id, load_balancer_getter=pool_get_load_balancer_id, resource_id=pool_id) retry_on_conflict( conn, conn.load_balancer.delete_member, member_id, pool_id, load_balancer_getter=pool_get_load_balancer_id, resource_id=pool_id) retry_on_conflict( conn, conn.load_balancer.delete_health_monitor, health_monitor_id, ignore_missing=True, load_balancer_getter=health_monitor_get_load_balancer_id, resource_id=health_monitor_id)","from time import sleep sleep(interval) conn.load_balancer.delete_listener(listener_id, ignore_missing=True) conn.load_balancer.delete_l7_policy(l7_policy_id) conn.load_balancer.delete_l7_rule(l7_rule_id, l7_policy_id) conn.load_balancer.delete_pool(pool_id) conn.load_balancer.delete_member(member_id, pool_id) conn.load_balancer.delete_health_monitor(health_monitor_id, ignore_missing=True)",95,9
openstack%2Fpython-senlinclient~master~I181495896a912cdaa7fb877f950eed381d9dcfcd,openstack/python-senlinclient,master,I181495896a912cdaa7fb877f950eed381d9dcfcd,Update master for stable/wallaby,MERGED,2021-03-18 10:45:04.000000000,2021-08-10 08:58:49.000000000,2021-08-10 08:57:17.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2021-03-18 10:45:04.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/46ffa0636de4345b76a886f92020b5a5325c9a24', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I181495896a912cdaa7fb877f950eed381d9dcfcd\n'}]",0,781307,46ffa0636de4345b76a886f92020b5a5325c9a24,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I181495896a912cdaa7fb877f950eed381d9dcfcd
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/07/781307/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,46ffa0636de4345b76a886f92020b5a5325c9a24,reno-wallaby, wallaby,,7,0
openstack%2Fkayobe-config-dev~master~I9a44578196086ec24de80b992fed385826778feb,openstack/kayobe-config-dev,master,I9a44578196086ec24de80b992fed385826778feb,Stop accessing unbound variables,ABANDONED,2021-08-09 13:00:10.000000000,2021-08-10 08:55:39.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 13:00:10.000000000', 'files': ['kayobe-env'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/a44ed09ae26692d7072aa70305c5ce408c6d2b23', 'message': 'Stop accessing unbound variables\n\nThe kayobe-env script would try accessing $1 which is an unbound\nvariable if no argument is passed. This fails when `set -u` is set.\n\nAlso refactor usage output into a function. As a side effect, a missing\nargument to --environment now causes the script to properly exit with an\nerror.\n\nChange-Id: I9a44578196086ec24de80b992fed385826778feb\n(cherry picked from commit d0514fec02b6088d0fb87c56336febc1ee9e611c)\n'}]",0,803917,a44ed09ae26692d7072aa70305c5ce408c6d2b23,3,2,1,14826,,,0,"Stop accessing unbound variables

The kayobe-env script would try accessing $1 which is an unbound
variable if no argument is passed. This fails when `set -u` is set.

Also refactor usage output into a function. As a side effect, a missing
argument to --environment now causes the script to properly exit with an
error.

Change-Id: I9a44578196086ec24de80b992fed385826778feb
(cherry picked from commit d0514fec02b6088d0fb87c56336febc1ee9e611c)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/17/803917/1 && git format-patch -1 --stdout FETCH_HEAD,['kayobe-env'],1,a44ed09ae26692d7072aa70305c5ce408c6d2b23,,"function usage { echo ""usage: ${BASH_SOURCE[0]:-${(%):-%x}} [--environment <env-name>]"" return 1 } if [ ""$#"" -ge 1 ]; then if [ ""$1"" = ""--environment"" -a ""$#"" -eq 2 ]; then kayobe_env=""$2"" return 0 else usage","if [ ""$1"" = ""--environment"" ]; then if [ ""$#"" -ne 2 ]; then echo ""usage: ${BASH_SOURCE[0]:-${(%):-%x}} [--environment <env-name>]"" else kayobe_env=""$2"" elif [ ""$#"" -ne 0 ]; then echo ""usage: ${BASH_SOURCE[0]:-${(%):-%x}} [--environment <env-name>]"" return 1",10,8
openstack%2Fneutron-lib~master~I8666db65ad337bd7b003453fce9ffbaa76a7d291,openstack/neutron-lib,master,I8666db65ad337bd7b003453fce9ffbaa76a7d291,Add FlowDirectionAndAnyEnumField common type,MERGED,2021-07-27 12:12:21.000000000,2021-08-10 08:53:17.000000000,2021-08-10 08:51:54.000000000,"[{'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 12:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c27d844d02f20c6480412852f122ae8c42b3a7e6', 'message': ""Add FlowDirectionAndAnyEnumField common type\n\nThis common type is going to be used by QoS min PPS, which supports\nnot only '[e|i]gress' direction, but also 'any'.\n\nSee-Also: https://review.opendev.org/785236\nChange-Id: I8666db65ad337bd7b003453fce9ffbaa76a7d291\n""}, {'number': 2, 'created': '2021-07-27 13:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6ff33ede1e28be032b1aa5af8e6132e5e4a5698d', 'message': ""Add FlowDirectionAndAnyEnumField common type\n\nThis common type is going to be used by QoS min PPS, which supports\nnot only '[e|i]gress' direction, but also 'any'.\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I8666db65ad337bd7b003453fce9ffbaa76a7d291\n""}, {'number': 3, 'created': '2021-07-30 11:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a60c569f844e4c0100828cf8649cc350ce7c5328', 'message': ""Add FlowDirectionAndAnyEnumField common type\n\nThis common type is going to be used by QoS min PPS, which supports\nnot only '[e|i]gress' direction, but also 'any'.\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I8666db65ad337bd7b003453fce9ffbaa76a7d291\n""}, {'number': 4, 'created': '2021-08-04 11:14:20.000000000', 'files': ['neutron_lib/tests/unit/objects/test_common_types.py', 'neutron_lib/objects/common_types.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ec29bdf065d9653d791c8dee933fe0f6fd1c43bc', 'message': ""Add FlowDirectionAndAnyEnumField common type\n\nThis common type is going to be used by QoS min PPS, which supports\nnot only '[e|i]gress' direction, but also 'any'.\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: I8666db65ad337bd7b003453fce9ffbaa76a7d291\n""}]",2,802487,ec29bdf065d9653d791c8dee933fe0f6fd1c43bc,27,6,4,33652,,,0,"Add FlowDirectionAndAnyEnumField common type

This common type is going to be used by QoS min PPS, which supports
not only '[e|i]gress' direction, but also 'any'.

Related-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: I8666db65ad337bd7b003453fce9ffbaa76a7d291
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/87/802487/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/objects/test_common_types.py', 'neutron_lib/objects/common_types.py']",2,c27d844d02f20c6480412852f122ae8c42b3a7e6,bp/qos-minimum-guaranteed-packet-rate,class FlowDirectionAndAnyEnumField(obj_fields.AutoTypedField): AUTO_TYPE = obj_fields.Enum( valid_values=lib_constants.VALID_DIRECTIONS_AND_ANY) ,,20,0
openstack%2Fmagnum~master~Ia6a848eae11bc38ff71ef4575247010a8ffaa47b,openstack/magnum,master,Ia6a848eae11bc38ff71ef4575247010a8ffaa47b,[fix] Detect virtio-scsi volumes correctly,MERGED,2020-09-22 13:38:58.000000000,2021-08-10 08:41:04.000000000,2021-08-10 08:39:43.000000000,"[{'_account_id': 6484}, {'_account_id': 16137}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-09-22 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8ad48e35b1c223e2089d7bc7de238ae36b9be6b4', 'message': '[fix] Detect virtio-scsi volumes correctly\n\nChange-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b\n'}, {'number': 2, 'created': '2020-09-22 14:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3d3393bd6d4c8e29075f8af65df3af42d110fc17', 'message': '[fix] Detect virtio-scsi volumes correctly\n\nWhen the Cinder volume is presented as a virtio-scsi volume, the\ndevice_name detection fails. This change allows the device name to be\nretrieved correctly for both virtio-pci and virtio-scsi cases.\n\nChange-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b\n'}, {'number': 3, 'created': '2021-02-11 13:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/67b4b3b7a9746c8140ccaddde7441410cd2fc2b1', 'message': '[fix] Detect virtio-scsi volumes correctly\n\nWhen the Cinder volume is presented as a virtio-scsi volume, the\ndevice_name detection fails. This change allows the device name to be\nretrieved correctly for both virtio-pci and virtio-scsi cases.\n\nStory: 2008618\nTask: 41808\nChange-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b\n'}, {'number': 4, 'created': '2021-02-11 14:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/05664182fe7f446bee5b83f169db07d101b8a0b6', 'message': '[fix] Detect virtio-scsi volumes correctly\n\nWhen the Cinder volume is presented as a virtio-scsi volume, the\ndevice_name detection fails. This change allows the device name to be\nretrieved correctly for both virtio-pci and virtio-scsi cases.\n\nStory: 2008618\nTask: 41808\nChange-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b\n'}, {'number': 5, 'created': '2021-03-09 11:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8c4e0ba4a87b29d35a7941f90f2bf62b97e4d9ab', 'message': '[fix] Detect virtio-scsi volumes correctly\n\nWhen the Cinder volume is presented as a virtio-scsi volume, the\ndevice_name detection fails. This change allows the device name to be\nretrieved correctly for both virtio-pci and virtio-scsi cases.\n\nStory: 2008618\nTask: 41808\nChange-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b\n'}, {'number': 6, 'created': '2021-07-26 09:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/310d3c8ade35af6ce8fecb7f7601c530d6e76a9c', 'message': '[fix] Detect virtio-scsi volumes correctly\n\nWhen the Cinder volume is presented as a virtio-scsi volume, the\ndevice_name detection fails. This change allows the device name to be\nretrieved correctly for both virtio-pci and virtio-scsi cases.\n\nStory: 2008618\nTask: 41808\nChange-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b\n'}, {'number': 7, 'created': '2021-08-10 06:57:30.000000000', 'files': ['magnum/drivers/common/templates/fragments/configure-docker-storage.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/68e6c0e48ddeab37af43b9ef553ddefaf1e54d8c', 'message': '[fix] Detect virtio-scsi volumes correctly\n\nWhen the Cinder volume is presented as a virtio-scsi volume, the\ndevice_name detection fails. This change allows the device name to be\nretrieved correctly for both virtio-pci and virtio-scsi cases.\n\nStory: 2008618\nTask: 41808\nChange-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b\n'}]",0,753312,68e6c0e48ddeab37af43b9ef553ddefaf1e54d8c,28,5,7,28022,,,0,"[fix] Detect virtio-scsi volumes correctly

When the Cinder volume is presented as a virtio-scsi volume, the
device_name detection fails. This change allows the device name to be
retrieved correctly for both virtio-pci and virtio-scsi cases.

Story: 2008618
Task: 41808
Change-Id: Ia6a848eae11bc38ff71ef4575247010a8ffaa47b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/12/753312/7 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/fragments/configure-docker-storage.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh']",2,8ad48e35b1c223e2089d7bc7de238ae36b9be6b4,virtio-scsi, device_name=$($ssh_cmd ls /dev/disk/by-id | grep ${ETCD_VOLUME:0:20} | head -n1), device_name=$($ssh_cmd ls /dev/disk/by-id | grep ${ETCD_VOLUME:0:20}$),2,2
openstack%2Fkolla-ansible~master~I0c7e9a28876a1d4278fb2ed8555c2b08472864b9,openstack/kolla-ansible,master,I0c7e9a28876a1d4278fb2ed8555c2b08472864b9,Extra var ironic_enable_keystone_integration added.,MERGED,2021-05-29 19:47:38.000000000,2021-08-10 08:37:03.000000000,2021-08-09 10:53:20.000000000,"[{'_account_id': 10239}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 29543}, {'_account_id': 30491}, {'_account_id': 30568}, {'_account_id': 33855}]","[{'number': 1, 'created': '2021-05-29 19:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb66a0e455279abbf37f69885b9612fe54bbfa05', 'message': ""Extra var enable_keystone_integration was added.\n\nBasically, there are three main installation scenario:\n\n-Ironic installation together with other openstack services\nincluding keystone. In this case variable enable_keystone\nis set to true and keystone service will be installed\ntogether with ironic installation.\n\n-Ironic installation with connection to already installed\n(so-called detached) keystone. In this case we have to set\nenable_keystone to False to prevent from new keystone\nservice installation during the ironic installation process.\nBut in other hand, we need to have correct sections in\nironic.conf to provide all information needed to connect to\nexisting keystone. But all sections for keystone are added\nto ironic.conf only if enable_keystone var is set to True.\n\n-No keystone integration. Ironic don't connect to Keystone.\n\nProposed solution keep the default behaviour: if no\nenable_keystone_integration is manually defined by default\nit takes value of enable_keystone variable and all behavior\nis the same. But if we don't want to install keystone and\nwant to connect to existing one at the same time, it will be\npossible to set enable_keystone var to False\n(preventing keystone from installation) and at the same\ntime set enable_keystone_integration to True to allow\nneeded section appear in ironic.conf through templating\n\nChange-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9\n""}, {'number': 2, 'created': '2021-05-29 20:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f28bf0b090d925e91789af8aaab8981f19ab7580', 'message': ""Extra var enable_keystone_integration was added.\n\nBasically, there are three main installation scenario:\n\n-Ironic installation together with other openstack services\nincluding keystone. In this case variable enable_keystone\nis set to true and keystone service will be installed\ntogether with ironic installation.\n\n-Ironic installation with connection to already installed\n(so-called detached) keystone. In this case we have to set\nenable_keystone to False to prevent from new keystone\nservice installation during the ironic installation process.\nBut in other hand, we need to have correct sections in\nironic.conf to provide all information needed to connect to\nexisting keystone. But all sections for keystone are added\nto ironic.conf only if enable_keystone var is set to True.\n\n-No keystone integration. Ironic don't connect to Keystone.\n\nProposed solution keep the default behaviour: if no\nenable_keystone_integration is manually defined by default\nit takes value of enable_keystone variable and all behavior\nis the same. But if we don't want to install keystone and\nwant to connect to existing one at the same time, it will be\npossible to set enable_keystone var to False\n(preventing keystone from installation) and at the same\ntime set enable_keystone_integration to True to allow\nneeded section appear in ironic.conf through templating\n\nChange-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9\n""}, {'number': 3, 'created': '2021-06-09 13:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/073c09b39d2e377a3d142a5b6d216f96a04f5dbd', 'message': ""Basically, there are three main installation scenario:\n\nScenario 1:\nIronic installation together with other openstack services\nincluding keystone. In this case variable enable_keystone\nis set to true and keystone service will be installed\ntogether with ironic installation. It is possible realise this\nscenario, no fix needed\n\nScenario 2:\nIronic installation with connection to already installed\nkeystone. In this scenario we have to set enable_keystone\nto No to prevent from new keystone service installation\nduring the ironic installation process. But in other hand,\nwe need to have correct sections in ironic.conf to provide\nall information needed to connect to existing keystone.\nBut all sections for keystone are added to ironic.conf only\nif enable_keystone var is set to Yes. It isnt possible\nto realise this scenario. Proposed fix provide support for\nthis scenario, where multiple regions share the same\nkeystone service.\n\nScenario 3:\nNo keystone integration. Ironic don't connect to Keystone.\nIt is possible realise this scenario, no fix needed\n\nProposed solution also keep the default behaviour: if no\nenable_keystone_integration is manually defined by default\nit takes value of enable_keystone variable and all behaviour\nis the same. But if we don't want to install keystone and\nwant to connect to existing one at the same time, it will be\npossible to set enable_keystone var to No\n(preventing keystone from installation) and at the same\ntime set ironic_enable_keystone_integration to Yes to allow\nneeded section appear in ironic.conf through templating.\n\nChange-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9\n""}, {'number': 4, 'created': '2021-06-09 13:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e87e7779ac8be7f962daa6672f729dcc51bb6041', 'message': ""Extra var ironic_enable_keystone_integration added.\n\nBasically, there are three main installation scenario:\n\nScenario 1:\nIronic installation together with other openstack services\nincluding keystone. In this case variable enable_keystone\nis set to true and keystone service will be installed\ntogether with ironic installation. It is possible realise this\nscenario, no fix needed\n\nScenario 2:\nIronic installation with connection to already installed\nkeystone. In this scenario we have to set enable_keystone\nto No to prevent from new keystone service installation\nduring the ironic installation process. But in other hand,\nwe need to have correct sections in ironic.conf to provide\nall information needed to connect to existing keystone.\nBut all sections for keystone are added to ironic.conf only\nif enable_keystone var is set to Yes. It isnt possible\nto realise this scenario. Proposed fix provide support for\nthis scenario, where multiple regions share the same\nkeystone service.\n\nScenario 3:\nNo keystone integration. Ironic don't connect to Keystone.\nIt is possible realise this scenario, no fix needed\n\nProposed solution also keep the default behaviour: if no\nenable_keystone_integration is manually defined by default\nit takes value of enable_keystone variable and all behaviour\nis the same. But if we don't want to install keystone and\nwant to connect to existing one at the same time, it will be\npossible to set enable_keystone var to No\n(preventing keystone from installation) and at the same\ntime set ironic_enable_keystone_integration to Yes to allow\nneeded section appear in ironic.conf through templating.\n\nChange-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9\n""}, {'number': 5, 'created': '2021-06-09 13:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/113f4f9a2e72deb7d793df584aefea45bcbf6361', 'message': ""Extra var ironic_enable_keystone_integration added.\n\nBasically, there are three main installation scenario:\n\nScenario 1:\nIronic installation together with other openstack services\nincluding keystone. In this case variable enable_keystone\nis set to true and keystone service will be installed\ntogether with ironic installation. It is possible realise this\nscenario, no fix needed\n\nScenario 2:\nIronic installation with connection to already installed\nkeystone. In this scenario we have to set enable_keystone\nto No to prevent from new keystone service installation\nduring the ironic installation process. But in other hand,\nwe need to have correct sections in ironic.conf to provide\nall information needed to connect to existing keystone.\nBut all sections for keystone are added to ironic.conf only\nif enable_keystone var is set to Yes. It isnt possible\nto realise this scenario. Proposed fix provide support for\nthis scenario, where multiple regions share the same\nkeystone service.\n\nScenario 3:\nNo keystone integration. Ironic don't connect to Keystone.\nIt is possible realise this scenario, no fix needed\n\nProposed solution also keep the default behaviour: if no\nenable_keystone_integration is manually defined by default\nit takes value of enable_keystone variable and all behaviour\nis the same. But if we don't want to install keystone and\nwant to connect to existing one at the same time, it will be\npossible to set enable_keystone var to No\n(preventing keystone from installation) and at the same\ntime set ironic_enable_keystone_integration to Yes to allow\nneeded section appear in ironic.conf through templating.\n\nChange-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9\n""}, {'number': 6, 'created': '2021-07-29 11:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ba8f54b73a3cb12c4f26fcd0d0cde49d3d323bd', 'message': ""Extra var ironic_enable_keystone_integration added.\n\nBasically, there are three main installation scenario:\n\nScenario 1:\nIronic installation together with other openstack services\nincluding keystone. In this case variable enable_keystone\nis set to true and keystone service will be installed\ntogether with ironic installation. It is possible realise this\nscenario, no fix needed\n\nScenario 2:\nIronic installation with connection to already installed\nkeystone. In this scenario we have to set enable_keystone\nto No to prevent from new keystone service installation\nduring the ironic installation process. But in other hand,\nwe need to have correct sections in ironic.conf to provide\nall information needed to connect to existing keystone.\nBut all sections for keystone are added to ironic.conf only\nif enable_keystone var is set to Yes. It isnt possible\nto realise this scenario. Proposed fix provide support for\nthis scenario, where multiple regions share the same\nkeystone service.\n\nScenario 3:\nNo keystone integration. Ironic don't connect to Keystone.\nIt is possible realise this scenario, no fix needed\n\nProposed solution also keep the default behaviour: if no\nenable_keystone_integration is manually defined by default\nit takes value of enable_keystone variable and all behaviour\nis the same. But if we don't want to install keystone and\nwant to connect to existing one at the same time, it will be\npossible to set enable_keystone var to No\n(preventing keystone from installation) and at the same\ntime set ironic_enable_keystone_integration to Yes to allow\nneeded section appear in ironic.conf through templating.\n\nChange-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9\n""}, {'number': 7, 'created': '2021-08-03 20:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b2125c2e7d24e10f007a74488471ebc1ef5867c', 'message': ""Extra var ironic_enable_keystone_integration added.\n\nBasically, there are three main installation scenario:\n\nScenario 1:\nIronic installation together with other openstack services\nincluding keystone. In this case variable enable_keystone\nis set to true and keystone service will be installed\ntogether with ironic installation. It is possible realise this\nscenario, no fix needed\n\nScenario 2:\nIronic installation with connection to already installed\nkeystone. In this scenario we have to set enable_keystone\nto No to prevent from new keystone service installation\nduring the ironic installation process. But in other hand,\nwe need to have correct sections in ironic.conf to provide\nall information needed to connect to existing keystone.\nBut all sections for keystone are added to ironic.conf only\nif enable_keystone var is set to Yes. It isnt possible\nto realise this scenario. Proposed fix provide support for\nthis scenario, where multiple regions share the same\nkeystone service.\n\nScenario 3:\nNo keystone integration. Ironic don't connect to Keystone.\nIt is possible realise this scenario, no fix needed\n\nProposed solution also keep the default behaviour: if no\nenable_keystone_integration is manually defined by default\nit takes value of enable_keystone variable and all behaviour\nis the same. But if we don't want to install keystone and\nwant to connect to existing one at the same time, it will be\npossible to set enable_keystone var to No\n(preventing keystone from installation) and at the same\ntime set ironic_enable_keystone_integration to Yes to allow\nneeded section appear in ironic.conf through templating.\n\nChange-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9\n""}, {'number': 8, 'created': '2021-08-04 09:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22ccb2f55a42b66a82c85cb3e6f34dddac5ce736', 'message': ""Extra var ironic_enable_keystone_integration added.\n\nBasically, there are three main installation scenario:\n\nScenario 1:\nIronic installation together with other openstack services\nincluding keystone. In this case variable enable_keystone\nis set to true and keystone service will be installed\ntogether with ironic installation. It is possible realise this\nscenario, no fix needed\n\nScenario 2:\nIronic installation with connection to already installed\nkeystone. In this scenario we have to set enable_keystone\nto No to prevent from new keystone service installation\nduring the ironic installation process. But in other hand,\nwe need to have correct sections in ironic.conf to provide\nall information needed to connect to existing keystone.\nBut all sections for keystone are added to ironic.conf only\nif enable_keystone var is set to Yes. It isnt possible\nto realise this scenario. Proposed fix provide support for\nthis scenario, where multiple regions share the same\nkeystone service.\n\nScenario 3:\nNo keystone integration. Ironic don't connect to Keystone.\nIt is possible realise this scenario, no fix needed\n\nProposed solution also keep the default behaviour: if no\nenable_keystone_integration is manually defined by default\nit takes value of enable_keystone variable and all behaviour\nis the same. But if we don't want to install keystone and\nwant to connect to existing one at the same time, it will be\npossible to set enable_keystone var to No\n(preventing keystone from installation) and at the same\ntime set ironic_enable_keystone_integration to Yes to allow\nneeded section appear in ironic.conf through templating.\n\nChange-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9\n""}, {'number': 9, 'created': '2021-08-06 13:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0ecfa76e44803eed19983bb7e92210e8dee1abc', 'message': ""Extra var ironic_enable_keystone_integration added.\n\nBasically, there are three main installation scenario:\n\nScenario 1:\nIronic installation together with other openstack services\nincluding keystone. In this case variable enable_keystone\nis set to true and keystone service will be installed\ntogether with ironic installation. It is possible realise this\nscenario, no fix needed\n\nScenario 2:\nIronic installation with connection to already installed\nkeystone. In this scenario we have to set enable_keystone\nto No to prevent from new keystone service installation\nduring the ironic installation process. But in other hand,\nwe need to have correct sections in ironic.conf to provide\nall information needed to connect to existing keystone.\nBut all sections for keystone are added to ironic.conf only\nif enable_keystone var is set to Yes. It isnt possible\nto realise this scenario. Proposed fix provide support for\nthis scenario, where multiple regions share the same\nkeystone service.\n\nScenario 3:\nNo keystone integration. Ironic don't connect to Keystone.\nIt is possible realise this scenario, no fix needed\n\nProposed solution also keep the default behaviour: if no\nenable_keystone_integration is manually defined by default\nit takes value of enable_keystone variable and all behaviour\nis the same. But if we don't want to install keystone and\nwant to connect to existing one at the same time, it will be\npossible to set enable_keystone var to No\n(preventing keystone from installation) and at the same\ntime set ironic_enable_keystone_integration to Yes to allow\nneeded section appear in ironic.conf through templating.\n\nChange-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9\n""}, {'number': 10, 'created': '2021-08-06 14:59:13.000000000', 'files': ['ansible/roles/ironic/templates/ironic.conf.j2', 'releasenotes/notes/update-ironic-template-for-keystone-1ee5f80fda7a21a0.yaml', 'ansible/roles/ironic/defaults/main.yml', 'doc/source/reference/bare-metal/ironic-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da4fd2d6a2e3fdca981babf37ab0f3307ee1eb2a', 'message': ""Extra var ironic_enable_keystone_integration added.\n\nBasically, there are three main installation scenario:\n\nScenario 1:\nIronic installation together with other openstack services\nincluding keystone. In this case variable enable_keystone\nis set to true and keystone service will be installed\ntogether with ironic installation. It is possible realise this\nscenario, no fix needed\n\nScenario 2:\nIronic installation with connection to already installed\nkeystone. In this scenario we have to set enable_keystone\nto No to prevent from new keystone service installation\nduring the ironic installation process. But in other hand,\nwe need to have correct sections in ironic.conf to provide\nall information needed to connect to existing keystone.\nBut all sections for keystone are added to ironic.conf only\nif enable_keystone var is set to Yes. It isnt possible\nto realise this scenario. Proposed fix provide support for\nthis scenario, where multiple regions share the same\nkeystone service.\n\nScenario 3:\nNo keystone integration. Ironic don't connect to Keystone.\nIt is possible realise this scenario, no fix needed\n\nProposed solution also keep the default behaviour: if no\nenable_keystone_integration is manually defined by default\nit takes value of enable_keystone variable and all behaviour\nis the same. But if we don't want to install keystone and\nwant to connect to existing one at the same time, it will be\npossible to set enable_keystone var to No\n(preventing keystone from installation) and at the same\ntime set ironic_enable_keystone_integration to Yes to allow\nneeded section appear in ironic.conf through templating.\n\nChange-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9\n""}]",35,793664,da4fd2d6a2e3fdca981babf37ab0f3307ee1eb2a,56,9,10,16198,,,0,"Extra var ironic_enable_keystone_integration added.

Basically, there are three main installation scenario:

Scenario 1:
Ironic installation together with other openstack services
including keystone. In this case variable enable_keystone
is set to true and keystone service will be installed
together with ironic installation. It is possible realise this
scenario, no fix needed

Scenario 2:
Ironic installation with connection to already installed
keystone. In this scenario we have to set enable_keystone
to No to prevent from new keystone service installation
during the ironic installation process. But in other hand,
we need to have correct sections in ironic.conf to provide
all information needed to connect to existing keystone.
But all sections for keystone are added to ironic.conf only
if enable_keystone var is set to Yes. It isnt possible
to realise this scenario. Proposed fix provide support for
this scenario, where multiple regions share the same
keystone service.

Scenario 3:
No keystone integration. Ironic don't connect to Keystone.
It is possible realise this scenario, no fix needed

Proposed solution also keep the default behaviour: if no
enable_keystone_integration is manually defined by default
it takes value of enable_keystone variable and all behaviour
is the same. But if we don't want to install keystone and
want to connect to existing one at the same time, it will be
possible to set enable_keystone var to No
(preventing keystone from installation) and at the same
time set ironic_enable_keystone_integration to Yes to allow
needed section appear in ironic.conf through templating.

Change-Id: I0c7e9a28876a1d4278fb2ed8555c2b08472864b9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/793664/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/ironic/defaults/main.yml']",2,eb66a0e455279abbf37f69885b9612fe54bbfa05,I0c7e9a28876a1d4278fb2ed8555c2b08472864b9,"enable_keystone_integration: ""{{ enable_keystone | bool }}""",,5,4
openstack%2Ftripleo-repos~master~If1ecb05cf5beb765decf6ac7827794c30040fc6b,openstack/tripleo-repos,master,If1ecb05cf5beb765decf6ac7827794c30040fc6b,Improve ansible module for yum-config,MERGED,2021-07-15 11:36:18.000000000,2021-08-10 08:33:42.000000000,2021-08-10 08:33:42.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 11:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/d03ff03606025661d139c537dd36bf6d31c2303f', 'message': 'WIP - Improve ansible module for yum-config\n\nThis patch adds small improvements to the yum-config ansible\nmodule.\n\nChange-Id: If1ecb05cf5beb765decf6ac7827794c30040fc6b\n'}, {'number': 2, 'created': '2021-08-04 16:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/2e79e4f9884a6f01be602f7f71797762b8b41f99', 'message': ""Improve ansible module for yum-config\n\nThis patch adds small improvements to the yum-config ansible\nmodule:\n - use type 'path' instead of 'str' for file/dir paths\n - use ansible 'requires_if' instead of generic sanity check\n - always convert 'set_options' dict values to str\n - other minor changes\n\nChange-Id: If1ecb05cf5beb765decf6ac7827794c30040fc6b\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n""}, {'number': 3, 'created': '2021-08-05 14:14:05.000000000', 'files': ['plugins/modules/yum_config.py', 'playbooks/example_yum_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/222e81c5ff40439d0b737e12dd1fd68142f67328', 'message': ""Improve ansible module for yum-config\n\nThis patch adds small improvements to the yum-config ansible\nmodule:\n - use type 'path' instead of 'str' for file/dir paths\n - use ansible 'requires_if' instead of generic sanity check\n - always convert 'set_options' dict values to str\n - other minor changes\n\nChange-Id: If1ecb05cf5beb765decf6ac7827794c30040fc6b\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n""}]",12,800922,222e81c5ff40439d0b737e12dd1fd68142f67328,20,3,3,30002,,,0,"Improve ansible module for yum-config

This patch adds small improvements to the yum-config ansible
module:
 - use type 'path' instead of 'str' for file/dir paths
 - use ansible 'requires_if' instead of generic sanity check
 - always convert 'set_options' dict values to str
 - other minor changes

Change-Id: If1ecb05cf5beb765decf6ac7827794c30040fc6b
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/22/800922/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo-yum-config/tripleo_yum_config.py', 'tripleo-yum-config/example_playbook.yaml']",2,d03ff03606025661d139c537dd36bf6d31c2303f,tripleo-yum-config, - name: Enable appstream yum repo and set exclude packages, - name: Enable fake yum repo and set exclude dirs,56,88
openstack%2Ftripleo-docs~master~Ie389daf42062ea7e6afc6e9c63ae802d6a7948c2,openstack/tripleo-docs,master,Ie389daf42062ea7e6afc6e9c63ae802d6a7948c2,Update cell v2 multicell doc,MERGED,2021-06-15 07:47:40.000000000,2021-08-10 08:24:23.000000000,2021-08-10 08:22:46.000000000,"[{'_account_id': 7144}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-15 07:47:40.000000000', 'files': ['deploy-guide/source/features/deploy_cellv2_basic.rst', 'deploy-guide/source/features/deploy_cellv2_routed.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/94c8aacf66127733b99bf85507d2001505379cb7', 'message': 'Update cell v2 multicell doc\n\nUpdates basic multi cell deployment step to use ManageNetworks\nand be mode specific on the advanced example where external vip\nreference can be used.\n\nChange-Id: Ie389daf42062ea7e6afc6e9c63ae802d6a7948c2\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1964911\n'}]",0,796388,94c8aacf66127733b99bf85507d2001505379cb7,11,6,1,17216,,,0,"Update cell v2 multicell doc

Updates basic multi cell deployment step to use ManageNetworks
and be mode specific on the advanced example where external vip
reference can be used.

Change-Id: Ie389daf42062ea7e6afc6e9c63ae802d6a7948c2
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1964911
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/88/796388/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/deploy_cellv2_basic.rst', 'deploy-guide/source/features/deploy_cellv2_routed.rst']",2,94c8aacf66127733b99bf85507d2001505379cb7,cell_v2_fixes,".. note: The cell controllers use virtual IPs, therefore the existing VIPs from the central overcloud stack should not be referenced. In case cell controllers and cell computes get split into sepearate stacks, the cell compute stack network_data file need an external_resource_vip_id reference to the cell controllers VIP resource. ",,19,10
openstack%2Freleases~master~I7e2cefa82fadbeb1d5d6507d19870a721565ae48,openstack/releases,master,I7e2cefa82fadbeb1d5d6507d19870a721565ae48,[DNM]Push validations-libs and validations-common 1.2.1 version,ABANDONED,2021-08-10 07:38:07.000000000,2021-08-10 08:15:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-10 07:38:07.000000000', 'files': ['deliverables/_independent/validations-common.yaml', 'deliverables/_independent/validations-libs.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f18aa15d355c383dae59a6e9f9edd0434b3ed650', 'message': '[DNM]Push validations-libs and validations-common 1.2.1 version\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7e2cefa82fadbeb1d5d6507d19870a721565ae48\n'}]",0,804046,f18aa15d355c383dae59a6e9f9edd0434b3ed650,3,1,1,32926,,,0,"[DNM]Push validations-libs and validations-common 1.2.1 version

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7e2cefa82fadbeb1d5d6507d19870a721565ae48
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/804046/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/validations-common.yaml', 'deliverables/_independent/validations-libs.yaml']",2,f18aa15d355c383dae59a6e9f9edd0434b3ed650,validations-release, - projects: - hash: d6ecf241d1042ec54d62075d8060e2ee9e4a0cc1 repo: openstack/validations-libs version: 1.2.1,,8,0
openstack%2Fpuppet-swift~master~I59717abeb5ef120e811511a771f5c3cd491b850f,openstack/puppet-swift,master,I59717abeb5ef120e811511a771f5c3cd491b850f,Replace deprecated is_array method,MERGED,2021-08-06 01:50:41.000000000,2021-08-10 08:14:04.000000000,2021-08-10 08:14:04.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 01:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/be98af16ddf5208bc391a502dcc3a83c2804ecb6', 'message': 'Replace deprecated is_array method\n\nChange-Id: I59717abeb5ef120e811511a771f5c3cd491b850f\n'}, {'number': 2, 'created': '2021-08-06 03:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/643cef4f8ad38f1115c56e4c25e771894b2e3ded', 'message': 'Replace deprecated is_array method\n\nCloses-Bug: #1939088\nChange-Id: I59717abeb5ef120e811511a771f5c3cd491b850f\n'}, {'number': 3, 'created': '2021-08-06 05:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/04ca9b73005bc523a8c9a7adbc8bb32e22d4065f', 'message': 'Replace deprecated is_array method\n\nCloses-Bug: #1939088\nChange-Id: I59717abeb5ef120e811511a771f5c3cd491b850f\n'}, {'number': 4, 'created': '2021-08-09 23:51:53.000000000', 'files': ['manifests/proxy/domain_remap.pp', 'manifests/storage/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7d7d8679d6dc249e85ceb90f82d9017414414c0b', 'message': 'Replace deprecated is_array method\n\nCloses-Bug: #1939088\nChange-Id: I59717abeb5ef120e811511a771f5c3cd491b850f\n'}]",0,803667,7d7d8679d6dc249e85ceb90f82d9017414414c0b,13,3,4,9816,,,0,"Replace deprecated is_array method

Closes-Bug: #1939088
Change-Id: I59717abeb5ef120e811511a771f5c3cd491b850f
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/67/803667/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy/domain_remap.pp', 'manifests/storage/server.pp']",2,be98af16ddf5208bc391a502dcc3a83c2804ecb6,bug/1939088," $pipeline_array = any2array($pipeline) if !member($pipeline_array, ""${type}-server"") {"," if is_array($pipeline) { if !member($pipeline, ""${type}-server"") { warning(""swift storage server ${type} must specify ${type}-server"") } } elsif $pipeline != ""${type}-server"" {",4,11
openstack%2Fironic-python-agent~master~Ic9cef3e56266c6e9de0936b5f113e8b38d705a9b,openstack/ironic-python-agent,master,Ic9cef3e56266c6e9de0936b5f113e8b38d705a9b,Add lower-constraints job to current development branch,MERGED,2021-08-04 09:37:42.000000000,2021-08-10 07:55:11.000000000,2021-08-10 07:51:52.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 09:37:42.000000000', 'files': ['lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/22b538d61c0beec864f23ad926152f44c884fbd4', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nChange-Id: Ic9cef3e56266c6e9de0936b5f113e8b38d705a9b\n'}]",0,803453,22b538d61c0beec864f23ad926152f44c884fbd4,20,3,1,23851,,,0,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Change-Id: Ic9cef3e56266c6e9de0936b5f113e8b38d705a9b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/53/803453/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",3,22b538d61c0beec864f23ad926152f44c884fbd4,lower-constraints-revamp, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,36,3
openstack%2Freleases~master~I55c0ab354ad5482ca1c587809ababa7585a8ea0b,openstack/releases,master,I55c0ab354ad5482ca1c587809ababa7585a8ea0b,Push Validation Framework release to 1.3.0,MERGED,2021-08-05 14:25:13.000000000,2021-08-10 07:53:33.000000000,2021-08-10 07:53:33.000000000,"[{'_account_id': 8449}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-05 14:25:13.000000000', 'files': ['deliverables/_independent/validations-common.yaml', 'deliverables/_independent/validations-libs.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/983ce14cb93f0ec70606815e2f648bbc20f68725', 'message': 'Push Validation Framework release to 1.3.0\n\nChange-Id: I55c0ab354ad5482ca1c587809ababa7585a8ea0b\n'}]",4,803605,983ce14cb93f0ec70606815e2f648bbc20f68725,11,4,1,16515,,,0,"Push Validation Framework release to 1.3.0

Change-Id: I55c0ab354ad5482ca1c587809ababa7585a8ea0b
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/803605/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/validations-common.yaml', 'deliverables/_independent/validations-libs.yaml']",2,983ce14cb93f0ec70606815e2f648bbc20f68725,validations/1.3.0, - projects: - hash: 07e484a8616a4f51e998f0e8ae865e0781d0b20b repo: openstack/validations-libs version: 1.3.0,,8,0
openstack%2Freleases~master~I31f72bbd062594e3f028ab08419f92dfb3c47483,openstack/releases,master,I31f72bbd062594e3f028ab08419f92dfb3c47483,Release watcher for stable/ussuri,MERGED,2021-07-23 21:07:18.000000000,2021-08-10 07:49:42.000000000,2021-08-10 07:49:42.000000000,"[{'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-07-23 21:07:18.000000000', 'files': ['deliverables/ussuri/watcher.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7b8e37bdbd40dcb04e8fe023872ed908752b438a', 'message': 'Release watcher for stable/ussuri\n\nThis release picks up new commits to watcher since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.0.0..2e033d7b\n2e033d7b Native Zuul v3 watcher-grenade job + some cleanup\n0543ccfe Watcher API supports strategy name when creating audit template\ncbb06e67 Check if scope is None\n6e1be3cc Compatible with old scope format\n043ebb71 Monkey patch original current_thread _active\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I31f72bbd062594e3f028ab08419f92dfb3c47483\n'}]",0,802130,7b8e37bdbd40dcb04e8fe023872ed908752b438a,9,5,1,17685,,,0,"Release watcher for stable/ussuri

This release picks up new commits to watcher since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.0.0..2e033d7b
2e033d7b Native Zuul v3 watcher-grenade job + some cleanup
0543ccfe Watcher API supports strategy name when creating audit template
cbb06e67 Check if scope is None
6e1be3cc Compatible with old scope format
043ebb71 Monkey patch original current_thread _active

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I31f72bbd062594e3f028ab08419f92dfb3c47483
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/802130/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/watcher.yaml'],1,7b8e37bdbd40dcb04e8fe023872ed908752b438a,ussuri-stable, - version: 4.0.1 projects: - repo: openstack/watcher hash: 2e033d7b96eb4cb47642909cda5a87a4ec4e0fe9,,4,0
openstack%2Freleases~master~I46e72a13f0113776ade9e615ac78b34d1bc63006,openstack/releases,master,I46e72a13f0113776ade9e615ac78b34d1bc63006,Release watcher-dashboard for stable/ussuri,MERGED,2021-07-23 21:04:38.000000000,2021-08-10 07:45:55.000000000,2021-08-10 07:45:55.000000000,"[{'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-07-23 21:04:38.000000000', 'files': ['deliverables/ussuri/watcher-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8c71c0f8054a2b439a85b6e7ba0f4fb27e40e8c1', 'message': 'Release watcher-dashboard for stable/ussuri\n\nThis release picks up new commits to watcher-dashboard since\nthe last release from stable/ussuri.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 3.0.0..abcd7c0\nabcd7c0 Fix broken devstack install\n73dca39 Fix create audit fail from audit_template\n0f00165 Update TOX_CONSTRAINTS_FILE for stable/ussuri\n099ebde Update .gitreview for stable/ussuri\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I46e72a13f0113776ade9e615ac78b34d1bc63006\n'}]",0,802129,8c71c0f8054a2b439a85b6e7ba0f4fb27e40e8c1,9,5,1,17685,,,0,"Release watcher-dashboard for stable/ussuri

This release picks up new commits to watcher-dashboard since
the last release from stable/ussuri.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 3.0.0..abcd7c0
abcd7c0 Fix broken devstack install
73dca39 Fix create audit fail from audit_template
0f00165 Update TOX_CONSTRAINTS_FILE for stable/ussuri
099ebde Update .gitreview for stable/ussuri

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I46e72a13f0113776ade9e615ac78b34d1bc63006
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/802129/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/watcher-dashboard.yaml'],1,8c71c0f8054a2b439a85b6e7ba0f4fb27e40e8c1,ussuri-stable, - version: 3.0.1 projects: - repo: openstack/watcher-dashboard hash: abcd7c04b27409b08b62c4311944bbe3a24b1ccd,,4,0
openstack%2Fcharm-cinder~master~Ic14468c41ef90a53bb7bf755cadf297705e44ede,openstack/charm-cinder,master,Ic14468c41ef90a53bb7bf755cadf297705e44ede,Change whitelist to allowlist in tox,ABANDONED,2021-06-29 09:44:20.000000000,2021-08-10 07:31:43.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 09:44:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/899fa56ac01b6cb829faf394f175cf01243c9a13', 'message': ""Change whitelist to allowlist in tox\n\nThis patch replace tox's whitelist_externals by allowlist_externals\nand Stop configuring install_command in tox.\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: Ic14468c41ef90a53bb7bf755cadf297705e44ede\n""}]",0,798624,899fa56ac01b6cb829faf394f175cf01243c9a13,5,4,1,30615,,,0,"Change whitelist to allowlist in tox

This patch replace tox's whitelist_externals by allowlist_externals
and Stop configuring install_command in tox.

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: Ic14468c41ef90a53bb7bf755cadf297705e44ede
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/24/798624/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,899fa56ac01b6cb829faf394f175cf01243c9a13,,allowlist_externals = juju,install_command = pip install {opts} {packages}whitelist_externals = juju,1,3
openstack%2Fcharm-cinder-ceph~master~I8ae6cae82e8593c3f9e75cc09ced25fbdefa38a6,openstack/charm-cinder-ceph,master,I8ae6cae82e8593c3f9e75cc09ced25fbdefa38a6,setup.cfg: Replace dashes with underscores,ABANDONED,2021-07-12 06:11:14.000000000,2021-08-10 07:31:39.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-07-12 06:11:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/bd1849a7853b5d38afc416942e930a8bdd124f04', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'with-coverage' will not be\n  supported in future versions. Please use the underscore name\n  'with_coverage' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I8ae6cae82e8593c3f9e75cc09ced25fbdefa38a6\n""}]",0,800414,bd1849a7853b5d38afc416942e930a8bdd124f04,5,3,1,30615,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'with-coverage' will not be
  supported in future versions. Please use the underscore name
  'with_coverage' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8ae6cae82e8593c3f9e75cc09ced25fbdefa38a6
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/14/800414/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bd1849a7853b5d38afc416942e930a8bdd124f04,,with_coverage=1 cover_erase=1 cover_package=hooks,with-coverage=1 cover-erase=1 cover-package=hooks,3,3
openstack%2Fcharm-cinder-backup~master~I08e12cf0569c8841902aa533b55532e6e6efa5e4,openstack/charm-cinder-backup,master,I08e12cf0569c8841902aa533b55532e6e6efa5e4,setup.cfg: Replace dashes with underscores,ABANDONED,2021-07-12 06:13:17.000000000,2021-08-10 07:31:35.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-07-12 06:13:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/d7c567715404bee13d82fdc242bb8d826173067a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'with-coverage' will not be\n  supported in future versions. Please use the underscore name\n  'with_coverage' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I08e12cf0569c8841902aa533b55532e6e6efa5e4\n""}]",0,800416,d7c567715404bee13d82fdc242bb8d826173067a,5,3,1,30615,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'with-coverage' will not be
  supported in future versions. Please use the underscore name
  'with_coverage' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I08e12cf0569c8841902aa533b55532e6e6efa5e4
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/16/800416/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d7c567715404bee13d82fdc242bb8d826173067a,,with_coverage=1 cover_erase=1 cover_package=hooks,with-coverage=1 cover-erase=1 cover-package=hooks,3,3
openstack%2Fopenstack-ansible~stable%2Fussuri~I34fc9a27d4b5432a13291116925e760da62acc69,openstack/openstack-ansible,stable/ussuri,I34fc9a27d4b5432a13291116925e760da62acc69,Backported fixes for healthcheck playbooks,ABANDONED,2021-08-10 07:22:30.000000000,2021-08-10 07:23:53.000000000,,[],"[{'number': 1, 'created': '2021-08-10 07:22:30.000000000', 'files': ['ansible-collection-requirements.yml', 'playbooks/healthcheck-infrastructure.yml', 'playbooks/healthcheck-openstack.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/311f5e23547ed8392dac0e0c5d32774ecfd2b696', 'message': 'Backported fixes for healthcheck playbooks\n\nChange-Id: Ibb59515cc4fb2110c50e97be4b8c40a583fcb9d0\n\nBackports on the infrastructure healthcheck are from change\nI08e4cced3619212236ccc303ee8665c237244359\n\nChange-Id: I34fc9a27d4b5432a13291116925e760da62acc69\n'}]",0,804044,311f5e23547ed8392dac0e0c5d32774ecfd2b696,2,0,1,31792,,,0,"Backported fixes for healthcheck playbooks

Change-Id: Ibb59515cc4fb2110c50e97be4b8c40a583fcb9d0

Backports on the infrastructure healthcheck are from change
I08e4cced3619212236ccc303ee8665c237244359

Change-Id: I34fc9a27d4b5432a13291116925e760da62acc69
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/44/804044/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-collection-requirements.yml', 'playbooks/healthcheck-infrastructure.yml', 'playbooks/healthcheck-openstack.yml']",3,311f5e23547ed8392dac0e0c5d32774ecfd2b696,healthcheck-fixes," openstack.cloud.networks_info: openstack.cloud.server_info: register: openstack_servers_result var: openstack_servers_result.openstack_servers _floating_ip: ""{{ openstack_servers_result.openstack_servers | json_query(_query) }}"""," openstack.cloud.os_networks_facts: openstack.cloud.os_server_facts: var: openstack_servers _floating_ip: ""{{ openstack_servers | json_query(_query) }}""",9,8
openstack%2Fpuppet-openstack-integration~master~I56a99426047c065a7a61ce7e1553782f4a8a5bd7,openstack/puppet-openstack-integration,master,I56a99426047c065a7a61ce7e1553782f4a8a5bd7,Gnocchi: Use rados library in CentOS,MERGED,2021-08-06 12:16:59.000000000,2021-08-10 07:07:01.000000000,2021-08-10 07:07:01.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 12:16:59.000000000', 'files': ['manifests/gnocchi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2c370226927e28de55b60b97ef3cd20221d0d6a3', 'message': 'Gnocchi: Use rados library in CentOS\n\nThe lados library is now preferrred over cradox even in CentOS.\nThe manage_cradox parameter is already deprecated and has no effect[1].\n\n[1] 3591bd8acc1ac49feb2f0fa33a45a09e94e08407\n\nChange-Id: I56a99426047c065a7a61ce7e1553782f4a8a5bd7\n'}]",0,803740,2c370226927e28de55b60b97ef3cd20221d0d6a3,7,3,1,9816,,,0,"Gnocchi: Use rados library in CentOS

The lados library is now preferrred over cradox even in CentOS.
The manage_cradox parameter is already deprecated and has no effect[1].

[1] 3591bd8acc1ac49feb2f0fa33a45a09e94e08407

Change-Id: I56a99426047c065a7a61ce7e1553782f4a8a5bd7
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/40/803740/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/gnocchi.pp'],1,2c370226927e28de55b60b97ef3cd20221d0d6a3,no-cradox," manage_rados => true,"," manage_cradox => ($::osfamily == 'RedHat'), manage_rados => ($::osfamily == 'Debian'),",1,2
openstack%2Fdevstack~master~I972a2a49aa816433152e5cfac4f672c0465d083f,openstack/devstack,master,I972a2a49aa816433152e5cfac4f672c0465d083f,Allow to install os-resource-classes from git repo,MERGED,2021-07-06 13:47:00.000000000,2021-08-10 06:58:43.000000000,2021-08-10 06:57:20.000000000,"[{'_account_id': 7118}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-06 13:47:00.000000000', 'files': ['lib/libraries', 'tests/test_libs_from_pypi.sh', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1ab63132df6831bdf7ce180cf7923540305dcd02', 'message': 'Allow to install os-resource-classes from git repo\n\nExample local.conf config snippet:\n\nLIBS_FROM_GIT=""os-resource-classes""\nOS_RESOURCE_CLASSES_REPO=""${LOCAL_GIT_BASE}/os-resource-classes""\nOS_RESOURCE_CLASSES_BRANCH=""dev_branch""\n\nCloses-Bug: #1934784\nChange-Id: I972a2a49aa816433152e5cfac4f672c0465d083f\n'}]",2,799673,1ab63132df6831bdf7ce180cf7923540305dcd02,12,8,1,33652,,,0,"Allow to install os-resource-classes from git repo

Example local.conf config snippet:

LIBS_FROM_GIT=""os-resource-classes""
OS_RESOURCE_CLASSES_REPO=""${LOCAL_GIT_BASE}/os-resource-classes""
OS_RESOURCE_CLASSES_BRANCH=""dev_branch""

Closes-Bug: #1934784
Change-Id: I972a2a49aa816433152e5cfac4f672c0465d083f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/73/799673/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/libraries', 'tests/test_libs_from_pypi.sh', 'stackrc']",3,1ab63132df6831bdf7ce180cf7923540305dcd02,,"# os-resource-classes library containing a list of standardized resource classes for OpenStack GITREPO[""os-resource-classes""]=${OS_RESOURCE_CLASSES_REPO=:-${GIT_BASE}/openstack/os-resource-classes.git} GITBRANCH[""os-resource-classes""]=${OS_RESOURCE_CLASSES_BRANCH:-$TARGET_BRANCH} ",,7,1
openstack%2Fcinder~master~I2414e521eb0b4ce48b41dfe4d305e002e8de8f40,openstack/cinder,master,I2414e521eb0b4ce48b41dfe4d305e002e8de8f40,Validate fields in encryption spec create/update,NEW,2021-05-04 16:21:36.000000000,2021-08-10 06:25:15.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30092}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-05-04 16:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6113b8da3c119d9310373e264e198d86e37ae716', 'message': 'Validate cipher in encryption spec\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 2, 'created': '2021-05-04 17:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06c591555f4af599e2143211e261bcc096b1884d', 'message': 'Validate cipher in encryption spec\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 3, 'created': '2021-05-11 15:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0334b47c4039692e51af3c3929dd75bc86ee6b53', 'message': 'Validate cipher in encryption spec\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 4, 'created': '2021-05-11 15:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1223e817457a3507e3929c9630627bed1385a63c', 'message': 'Validate cipher in encryption spec\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 5, 'created': '2021-05-11 18:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7506cdf978eb006625a8a97bea3d152c5c18c33', 'message': 'Validate cipher in encryption spec\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 6, 'created': '2021-05-12 14:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2030cbc5bc33714730d3cee3bb795d0b752cc50', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 7, 'created': '2021-06-07 14:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4349506465f379af9e19b09eab7d95187a12540c', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 8, 'created': '2021-06-07 16:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/713bbb5bd0788e9c579a5ce568e4dc2f271cf3ff', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 9, 'created': '2021-06-09 14:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99a493944cc3cbef94c546d61f695c81ad09b5ea', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.  This change introduces a\nminimum key size of 128 bits for encrypted volume types.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 10, 'created': '2021-06-10 16:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/912dc2306f55ccaa88a6b8e643713a342c967d87', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis introduces a new API microversion, validation does not\noccur on previous microversions.  This change introduces a\nminimum key size of 128 bits for encrypted volume types.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 11, 'created': '2021-07-08 12:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/990ab3e3dad8ad82cd4aa113654335a56dc7f62a', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis change introduces a minimum key size of 128 bits for\nencrypted volume types.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}, {'number': 12, 'created': '2021-07-15 15:01:47.000000000', 'files': ['api-ref/source/v2/samples/encryption-type-update-response.json', 'releasenotes/notes/validate-encryption-spec-fields-fe6f61bc74aa8139.yaml', 'cinder/tests/unit/policies/test_volume_type.py', 'cinder/tests/functional/api_sample_tests/samples/volume_type/encryption-type-update-request.json.tpl', 'cinder/tests/unit/api/contrib/test_volume_type_encryption.py', 'cinder/api/contrib/volume_type_encryption.py', 'cinder/tests/functional/api_sample_tests/samples/volume_type/encryption-type-update-response.json.tpl', 'api-ref/source/v2/samples/encryption-type-update-request.json', 'api-ref/source/v3/samples/volume_type/encryption-type-update-response.json', 'api-ref/source/v3/samples/volume_type/encryption-type-update-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d7142711b2301e3aecba3205610062dc124d311', 'message': 'Validate fields in encryption spec create/update\n\nWhen the cipher is None or an empty string (allowed by\nour standard CLI clients), reject the encryption\ntype creation immediately, since the encryption spec is\ninvalid and will not be able to be used to create volumes.\n\nSimilarly, reject encryption cipher fields that don\'t\ntake the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead\nof the correct ""aes-xts-plain64"".\n\nBefore this change, such invalid cipher fields in encryption\nspecs would be accepted by the API, but volume creation would\nfail later with various errors.\n\nThis change introduces a minimum key size of 128 bits for\nencrypted volume types.\n\nCloses-Bug: #1926630 (2/2)\nChange-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40\n'}]",15,789603,5d7142711b2301e3aecba3205610062dc124d311,220,7,12,4523,,,0,"Validate fields in encryption spec create/update

When the cipher is None or an empty string (allowed by
our standard CLI clients), reject the encryption
type creation immediately, since the encryption spec is
invalid and will not be able to be used to create volumes.

Similarly, reject encryption cipher fields that don't
take the form of ""algorithm-mode-ivgen"", i.e. ""aes"" instead
of the correct ""aes-xts-plain64"".

Before this change, such invalid cipher fields in encryption
specs would be accepted by the API, but volume creation would
fail later with various errors.

This change introduces a minimum key size of 128 bits for
encrypted volume types.

Closes-Bug: #1926630 (2/2)
Change-Id: I2414e521eb0b4ce48b41dfe4d305e002e8de8f40
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/789603/12 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_volume_type_encryption.py', 'cinder/api/contrib/volume_type_encryption.py']",2,6113b8da3c119d9310373e264e198d86e37ae716,bug/1926630,"from oslo_log import logLOG = log.getLogger(__name__) cipher = body['encryption'].get('cipher') if cipher in (None, """"): expl = _('Encryption cipher must be specified.') raise webob.exc.HTTPBadRequest(explanation=expl) if len(cipher.split('-')) != 3: LOG.info('Encryption cipher \""%s\"" is invalid, ' 'must contain three dash-separated items.', cipher) expl = _('Encryption cipher is invalid.') raise webob.exc.HTTPBadRequest(explanation=expl) ",,34,6
openstack%2Fneutron-tempest-plugin~master~Id087c2a30a7279f9ef9a2c34ddc68a0b11d20c4b,openstack/neutron-tempest-plugin,master,Id087c2a30a7279f9ef9a2c34ddc68a0b11d20c4b,Switch neutron-tempest-plugin-api job to be ML2/OVN,MERGED,2021-05-13 14:53:00.000000000,2021-08-10 05:58:15.000000000,2021-08-10 05:58:15.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 14:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6401db14012eb12f14a7116fb9e3325908b69088', 'message': 'Use VLAN instead of GRE networks with OVN\n\nUse VLAN type networks instead of GRE with OVN backend because the\nlack of support.\n\nTest ""test_log_lifecycle"" is skipped because ""the current OVN version\ndoes not offer support for neutron network log functionality"".\n\nChange-Id: Id087c2a30a7279f9ef9a2c34ddc68a0b11d20c4b\nPartial-Bug: #1928345\n'}, {'number': 2, 'created': '2021-05-13 15:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/466c788fec5ae6fc05a4f37269fc266a14053aa7', 'message': 'Use VLAN instead of GRE networks with OVN\n\nUse VLAN type networks instead of GRE with OVN backend because the\nlack of support.\n\nTest ""test_log_lifecycle"" is skipped because ""the current OVN version\ndoes not offer support for neutron network log functionality"".\n\nChange-Id: Id087c2a30a7279f9ef9a2c34ddc68a0b11d20c4b\nPartial-Bug: #1928345\n'}, {'number': 3, 'created': '2021-05-13 17:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a8b9c4a39de3bd2cd23d9dc0f621e36389e11423', 'message': 'Use VLAN instead of GRE networks with OVN\n\nUse VLAN type networks instead of GRE with OVN backend because the\nlack of support.\n\nTest ""test_log_lifecycle"" is skipped because ""the current OVN version\ndoes not offer support for neutron network log functionality"".\n\nChange-Id: Id087c2a30a7279f9ef9a2c34ddc68a0b11d20c4b\nPartial-Bug: #1928345\n'}, {'number': 4, 'created': '2021-05-26 07:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/83adbaa8047af67fbc892175c98293347b5cdc95', 'message': 'Use VLAN instead of GRE networks with OVN\n\nUse VLAN type networks instead of GRE with OVN backend because the\nlack of support.\n\nTest ""test_log_lifecycle"" is skipped because ""the current OVN version\ndoes not offer support for neutron network log functionality"".\n\nThis patch also disables temporarily the ""filter-validation"" extension.\n\nPartial-Bug: #1928345\nRelated-Bug: #1929658\n\nChange-Id: Id087c2a30a7279f9ef9a2c34ddc68a0b11d20c4b\n'}, {'number': 5, 'created': '2021-05-26 16:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bddd5a6f704f5dd88d89a74d160e2fcac5a4d95f', 'message': 'Switch neutron-tempest-plugin-api job to be ML2/OVN\n\nThis patch reverts [1] and switches back to the default networking\nbackend installed by devstack.\n\nThis patch also changes the GRE type networks with VLAN type networks\nbecause of the lack of support.\n\nOVN version is set to 20.12.0 [2] that introduced the support for\nACL log meters (Neutron logging service).\n\nPartial-Bug: #1928345\nRelated-Bug: #1929658\nRelated-Bug: #1914757\n\n[1]https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/791417\n[2]https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Id087c2a30a7279f9ef9a2c34ddc68a0b11d20c4b\n'}, {'number': 6, 'created': '2021-06-08 22:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/826a8ca395e1c4027629fdcbd695d105f4d0caa6', 'message': 'Switch neutron-tempest-plugin-api job to be ML2/OVN\n\nThis patch reverts [1] and switches back to the default networking\nbackend installed by devstack.\n\nThis patch also changes the GRE type networks with VLAN type networks\nbecause of the lack of support.\n\nOVN version is set to 20.12.0 [2] that introduced the support for\nACL log meters (Neutron logging service).\n\nPartial-Bug: #1928345\nRelated-Bug: #1929658\nRelated-Bug: #1914757\n\n[1]https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/791417\n[2]https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Id087c2a30a7279f9ef9a2c34ddc68a0b11d20c4b\n'}, {'number': 7, 'created': '2021-06-09 11:33:48.000000000', 'files': ['neutron_tempest_plugin/api/test_trunk.py', 'zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3c0ef4e4f3a35d71a7834a026b910c6eb26b7d92', 'message': 'Switch neutron-tempest-plugin-api job to be ML2/OVN\n\nThis patch reverts [1] and switches back to the default networking\nbackend installed by devstack.\n\nThis patch also changes the GRE type networks with VLAN type networks\nbecause of the lack of support.\n\nOVN version is set to v21.03.0. OVN v20.12.0 [2] introduced the support\nfor ACL log meters (Neutron logging service), but this version is too\nold right now.\n\nPartial-Bug: #1928345\nRelated-Bug: #1929658\nRelated-Bug: #1914757\n\n[1]https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/791417\n[2]https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: Id087c2a30a7279f9ef9a2c34ddc68a0b11d20c4b\n'}]",4,791255,3c0ef4e4f3a35d71a7834a026b910c6eb26b7d92,67,7,7,16688,,,0,"Switch neutron-tempest-plugin-api job to be ML2/OVN

This patch reverts [1] and switches back to the default networking
backend installed by devstack.

This patch also changes the GRE type networks with VLAN type networks
because of the lack of support.

OVN version is set to v21.03.0. OVN v20.12.0 [2] introduced the support
for ACL log meters (Neutron logging service), but this version is too
old right now.

Partial-Bug: #1928345
Related-Bug: #1929658
Related-Bug: #1914757

[1]https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/791417
[2]https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf

Change-Id: Id087c2a30a7279f9ef9a2c34ddc68a0b11d20c4b
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/55/791255/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/api/test_trunk.py', 'neutron_tempest_plugin/api/admin/test_logging.py']",2,6401db14012eb12f14a7116fb9e3325908b69088,bug/1928345,import testtools @testtools.skip('bug/1928345: The current OVN version does not offer ' 'support for neutron network log functionality'),,8,5
openstack%2Ftripleo-heat-templates~master~Ia1df4a6255c17a2da15918c0bcd62f85043a51ea,openstack/tripleo-heat-templates,master,Ia1df4a6255c17a2da15918c0bcd62f85043a51ea,Remove unused BarbicanPkcs11Crypto* parameters,MERGED,2021-07-06 01:24:27.000000000,2021-08-10 05:43:36.000000000,2021-08-10 05:43:36.000000000,"[{'_account_id': 6926}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-06 01:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45be757a6baad5f7afae45540691769041059091', 'message': 'Remove unused BarbicanPkcs11Crypto* parameters\n\nThese parameters removes BarbicanPkcs11Crypto* parameters from\nthe template file for barbican-api, which are not directly used in\nthe same.\n\nChange-Id: Ia1df4a6255c17a2da15918c0bcd62f85043a51ea\n'}, {'number': 2, 'created': '2021-07-25 23:34:12.000000000', 'files': ['deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02b157ab2785e10277842e70316a4a9284099ea1', 'message': 'Remove unused BarbicanPkcs11Crypto* parameters\n\nThese parameters are not used in the base barbican-api template but\nbut in the independent template for PKCS11 backend.\n\nChange-Id: Ia1df4a6255c17a2da15918c0bcd62f85043a51ea\n'}]",0,799547,02b157ab2785e10277842e70316a4a9284099ea1,21,6,2,9816,,,0,"Remove unused BarbicanPkcs11Crypto* parameters

These parameters are not used in the base barbican-api template but
but in the independent template for PKCS11 backend.

Change-Id: Ia1df4a6255c17a2da15918c0bcd62f85043a51ea
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/799547/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/barbican/barbican-api-container-puppet.yaml'],1,45be757a6baad5f7afae45540691769041059091,pkcs11crypto,, BarbicanPkcs11CryptoLibraryPath: description: Path to vendor PKCS11 library type: string default: '' BarbicanPkcs11CryptoSlotId: description: Slot Id for the PKCS#11 token to be used type: string default: '0' BarbicanPkcs11CryptoTokenSerialNumber: description: Serial number for PKCS#11 token to be used type: string default: '' BarbicanPkcs11CryptoHMACKeyType: description: Cryptoki Key Type for Master HMAC key type: string default: 'CKK_AES' BarbicanPkcs11CryptoHMACKeygenMechanism: description: Cryptoki Mechanism used to generate Master HMAC Key type: string default: 'CKM_AES_KEY_GEN',0,20
openstack%2Fnetworking-ovn~stable%2Ftrain~I53344a191bd4e97f7ed07d27888246eb1c505f2e,openstack/networking-ovn,stable/train,I53344a191bd4e97f7ed07d27888246eb1c505f2e,"Revert ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case""",ABANDONED,2021-08-04 07:56:05.000000000,2021-08-10 05:36:16.000000000,,"[{'_account_id': 6773}, {'_account_id': 11082}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 07:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/eaca1d68393eff84406157f1c8e195412ec9b096', 'message': 'Revert ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case""\n\nThis reverts commit 22cf897a8c7a383ec0b5dc50a38123f4f28dde43.\n\nReason for revert: Cause potential issue with tests https://bugs.launchpad.net/tripleo/+bug/1936420\n\nChange-Id: I53344a191bd4e97f7ed07d27888246eb1c505f2e\n'}, {'number': 2, 'created': '2021-08-05 06:51:18.000000000', 'files': ['networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/08b7333d55b08d7c7cc33fb3a50cd9d8b0e66c89', 'message': 'Revert ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case""\n\nThis reverts commit 22cf897a8c7a383ec0b5dc50a38123f4f28dde43.\n\nReason for revert: Cause potential issue with tests https://bugs.launchpad.net/tripleo/+bug/1936420\n\nChange-Id: I53344a191bd4e97f7ed07d27888246eb1c505f2e\n'}]",1,803433,08b7333d55b08d7c7cc33fb3a50cd9d8b0e66c89,11,6,2,11082,,,0,"Revert ""[OVN] Fix ML2/OVN + Neutron DHCP agent use case""

This reverts commit 22cf897a8c7a383ec0b5dc50a38123f4f28dde43.

Reason for revert: Cause potential issue with tests https://bugs.launchpad.net/tripleo/+bug/1936420

Change-Id: I53344a191bd4e97f7ed07d27888246eb1c505f2e
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/33/803433/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/mech_driver.py'],1,eaca1d68393eff84406157f1c8e195412ec9b096,, worker.MaintenanceWorker),"from neutron import service worker.MaintenanceWorker, service.RpcWorker)",1,3
openstack%2Fdevstack~master~I92ebef2634cc1f4ee9f266ba9e34c17a4b8b90af,openstack/devstack,master,I92ebef2634cc1f4ee9f266ba9e34c17a4b8b90af,[OVN] Remove old Q_BUILD_OVS_FROM_GIT flag,NEW,2021-01-28 10:01:48.000000000,2021-08-10 05:29:47.000000000,,"[{'_account_id': 1131}, {'_account_id': 7118}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 10:01:48.000000000', 'files': ['lib/neutron_plugins/ovn_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e914d46bd34d2ec4df40e21bc4441115bf0d0240', 'message': '[OVN] Remove old Q_BUILD_OVS_FROM_GIT flag\n\nThe Q_BUILD_OVS_FROM_GIT flag is a leftover from when OVN in the same\nrepository as OVS (before the split) and does not make sense anymore.\n\nThe flag was being used to skip the install_ovn() function entirely\nbut, now it makes no sense anymore because this method will install OVN\nby either compiling it from source (if OVN_BUILD_FROM_SOURCE is True)\nor packages and skipping it means no OVN will be installed (since it no\nlonger comes packaged together with OVS).\n\nChange-Id: I92ebef2634cc1f4ee9f266ba9e34c17a4b8b90af\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,772846,e914d46bd34d2ec4df40e21bc4441115bf0d0240,7,5,1,6773,,,0,"[OVN] Remove old Q_BUILD_OVS_FROM_GIT flag

The Q_BUILD_OVS_FROM_GIT flag is a leftover from when OVN in the same
repository as OVS (before the split) and does not make sense anymore.

The flag was being used to skip the install_ovn() function entirely
but, now it makes no sense anymore because this method will install OVN
by either compiling it from source (if OVN_BUILD_FROM_SOURCE is True)
or packages and skipping it means no OVN will be installed (since it no
longer comes packaged together with OVS).

Change-Id: I92ebef2634cc1f4ee9f266ba9e34c17a4b8b90af
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/46/772846/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn_agent'],1,e914d46bd34d2ec4df40e21bc4441115bf0d0240,," echo ""Compiling OVN from source"" echo ""Installing OVN from packages""","Q_BUILD_OVS_FROM_GIT=$(trueorfalse True Q_BUILD_OVS_FROM_GIT) if [[ ""$Q_BUILD_OVS_FROM_GIT"" == ""False"" ]]; then echo ""Installation of OVS from source disabled."" return 0 fi ",2,7
openstack%2Ftripleo-ansible~master~If2d9a8a21f19e4fe7699c0ac932c9801fd133474,openstack/tripleo-ansible,master,If2d9a8a21f19e4fe7699c0ac932c9801fd133474,tripleo-kernel: Adding reboot_protection variable,MERGED,2021-08-09 15:46:29.000000000,2021-08-10 05:22:18.000000000,2021-08-09 23:11:04.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-09 15:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b469a96f607e85a1e6b971441c3c398b4e3fc4a9', 'message': 'tripleo-kernel: Adding reboot_protection variable\n\nWhen the role is included, the params and variables have higher\nprecedence than the set_fact, thus not taking the set_fact defer_reboot\ninto account.\n\nAdding a reboot_protection variable that is not included when calling\nthe role will prevent this behavior.\n\nChange-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474\n'}, {'number': 2, 'created': '2021-08-09 15:49:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/39a809f9e735f01865b6e134e5cf1f11ba2c34d8', 'message': 'tripleo-kernel: Adding reboot_protection variable\n\nWhen the role is included, the params and variables have higher\nprecedence than the set_fact, thus not taking the set_fact defer_reboot\ninto account.\n\nAdding a reboot_protection variable that is not included when calling\nthe role will prevent this behavior.\n\nResolves: rhbz#1975240\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1975240\nChange-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474\n'}]",3,803938,39a809f9e735f01865b6e134e5cf1f11ba2c34d8,12,7,2,27419,,,0,"tripleo-kernel: Adding reboot_protection variable

When the role is included, the params and variables have higher
precedence than the set_fact, thus not taking the set_fact defer_reboot
into account.

Adding a reboot_protection variable that is not included when calling
the role will prevent this behavior.

Resolves: rhbz#1975240
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1975240
Change-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/38/803938/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml']",2,b469a96f607e85a1e6b971441c3c398b4e3fc4a9,,tripleo_kernel_reboot_protection: false,,3,0
openstack%2Fpuppet-openstack-integration~master~Ia0284f948cfda1eec3abafb64bc556c65d4f552e,openstack/puppet-openstack-integration,master,Ia0284f948cfda1eec3abafb64bc556c65d4f552e,Remove Debian jobs,ABANDONED,2021-08-10 03:59:52.000000000,2021-08-10 04:01:10.000000000,,[],"[{'number': 1, 'created': '2021-08-10 03:59:52.000000000', 'files': ['zuul.d/integration.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a953ba3ecd1187ab170b9e5734f0572c537588ac', 'message': 'Remove Debian jobs\n\nDebian Stretch (the current target of ""debian-stable"") is no longer\nsupported by infra.  Remove these jobs.\n\nChange-Id: Ia0284f948cfda1eec3abafb64bc556c65d4f552e\n'}]",0,804033,a953ba3ecd1187ab170b9e5734f0572c537588ac,2,0,1,9816,,,0,"Remove Debian jobs

Debian Stretch (the current target of ""debian-stable"") is no longer
supported by infra.  Remove these jobs.

Change-Id: Ia0284f948cfda1eec3abafb64bc556c65d4f552e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/33/804033/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/integration.yaml', 'zuul.d/layout.yaml']",2,a953ba3ecd1187ab170b9e5734f0572c537588ac,debian-stretch-rm,, experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous - puppet-openstack-integration-6-scenario002-tempest-debian-stable - puppet-openstack-integration-6-scenario003-tempest-debian-stable - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario001-tempest-debian-stable-luminous experimental: jobs: - puppet-openstack-integration-6-scenario002-tempest-debian-stable experimental: jobs: - puppet-openstack-integration-6-scenario003-tempest-debian-stable experimental: jobs: - puppet-openstack-integration-6-scenario004-tempest-debian-stable-luminous,0,46
openstack%2Ftripleo-ansible~stable%2Fvictoria~If2d9a8a21f19e4fe7699c0ac932c9801fd133474,openstack/tripleo-ansible,stable/victoria,If2d9a8a21f19e4fe7699c0ac932c9801fd133474,tripleo-kernel: Adding reboot_protection variable,MERGED,2021-08-09 19:03:54.000000000,2021-08-10 03:22:28.000000000,2021-08-10 03:22:28.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-09 19:03:54.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ce09f4b02230417ad05522ba42a29a8bdd5ebce1', 'message': 'tripleo-kernel: Adding reboot_protection variable\n\nWhen the role is included, the params and variables have higher\nprecedence than the set_fact, thus not taking the set_fact defer_reboot\ninto account.\n\nAdding a reboot_protection variable that is not included when calling\nthe role will prevent this behavior.\n\nResolves: rhbz#1975240\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1975240\nChange-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474\n(cherry picked from commit 39a809f9e735f01865b6e134e5cf1f11ba2c34d8)\n(cherry picked from commit f2caac2432c1c63dbe316cb8b35757d026769cf1)\n'}]",0,803962,ce09f4b02230417ad05522ba42a29a8bdd5ebce1,7,7,1,27419,,,0,"tripleo-kernel: Adding reboot_protection variable

When the role is included, the params and variables have higher
precedence than the set_fact, thus not taking the set_fact defer_reboot
into account.

Adding a reboot_protection variable that is not included when calling
the role will prevent this behavior.

Resolves: rhbz#1975240
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1975240
Change-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474
(cherry picked from commit 39a809f9e735f01865b6e134e5cf1f11ba2c34d8)
(cherry picked from commit f2caac2432c1c63dbe316cb8b35757d026769cf1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/803962/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml']",2,ce09f4b02230417ad05522ba42a29a8bdd5ebce1,,tripleo_kernel_reboot_protection: false,,3,0
openstack%2Ftripleo-ansible~stable%2Ftrain~If2d9a8a21f19e4fe7699c0ac932c9801fd133474,openstack/tripleo-ansible,stable/train,If2d9a8a21f19e4fe7699c0ac932c9801fd133474,tripleo-kernel: Adding reboot_protection variable,MERGED,2021-08-09 19:04:19.000000000,2021-08-10 03:22:26.000000000,2021-08-10 03:22:26.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-09 19:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b23d4c0d4e8a615486b6e700cad8d4ea446101bc', 'message': 'tripleo-kernel: Adding reboot_protection variable\n\nWhen the role is included, the params and variables have higher\nprecedence than the set_fact, thus not taking the set_fact defer_reboot\ninto account.\n\nAdding a reboot_protection variable that is not included when calling\nthe role will prevent this behavior.\n\nResolves: rhbz#1975240\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1975240\nChange-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474\n(cherry picked from commit 39a809f9e735f01865b6e134e5cf1f11ba2c34d8)\n(cherry picked from commit f2caac2432c1c63dbe316cb8b35757d026769cf1)\n(cherry picked from commit ce09f4b02230417ad05522ba42a29a8bdd5ebce1)\n(cherry picked from commit b7481fe94e4b00ffdeb644a7edefc1d70fa5ae50)\n'}, {'number': 2, 'created': '2021-08-09 19:09:48.000000000', 'files': ['tripleo_ansible/roles/tripleo-kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo-kernel/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7198788ea8cb7ab83607e65e5d6fffca4bbf83bd', 'message': 'tripleo-kernel: Adding reboot_protection variable\n\nWhen the role is included, the params and variables have higher\nprecedence than the set_fact, thus not taking the set_fact defer_reboot\ninto account.\n\nAdding a reboot_protection variable that is not included when calling\nthe role will prevent this behavior.\n\nResolves: rhbz#1975240\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1975240\nChange-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474\n(cherry picked from commit 39a809f9e735f01865b6e134e5cf1f11ba2c34d8)\n(cherry picked from commit f2caac2432c1c63dbe316cb8b35757d026769cf1)\n(cherry picked from commit ce09f4b02230417ad05522ba42a29a8bdd5ebce1)\n(cherry picked from commit b7481fe94e4b00ffdeb644a7edefc1d70fa5ae50)\n'}]",0,803964,7198788ea8cb7ab83607e65e5d6fffca4bbf83bd,9,7,2,27419,,,0,"tripleo-kernel: Adding reboot_protection variable

When the role is included, the params and variables have higher
precedence than the set_fact, thus not taking the set_fact defer_reboot
into account.

Adding a reboot_protection variable that is not included when calling
the role will prevent this behavior.

Resolves: rhbz#1975240
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1975240
Change-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474
(cherry picked from commit 39a809f9e735f01865b6e134e5cf1f11ba2c34d8)
(cherry picked from commit f2caac2432c1c63dbe316cb8b35757d026769cf1)
(cherry picked from commit ce09f4b02230417ad05522ba42a29a8bdd5ebce1)
(cherry picked from commit b7481fe94e4b00ffdeb644a7edefc1d70fa5ae50)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/803964/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml']",2,b23d4c0d4e8a615486b6e700cad8d4ea446101bc,,"<<<<<<< HEAD (118bf6 Merge ""Copy generated /boot/grub2/grubenv to EFI dirs"" into ) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # All variables intended for modification should be placed in this file. tripleo_kernel_extra_modules: {} tripleo_kernel_extra_packages: {} tripleo_kernel_sysctl_extra_settings: {} tripleo_kernel_args: """" tripleo_kernel_reboot_timeout: 3600 tripleo_kernel_post_reboot_delay: 60 tripleo_kernel_defer_reboot: false tripleo_kernel_reboot_protection: false >>>>>>> CHANGE (b7481f tripleo-kernel: Adding reboot_protection variable) ",,172,0
openstack%2Fproject-config~master~Id71888115597894d4dcb5c12731f819177fd9341,openstack/project-config,master,Id71888115597894d4dcb5c12731f819177fd9341,Add CentOS 8 Stream wheel publish jobs,MERGED,2021-08-04 02:06:21.000000000,2021-08-10 02:55:04.000000000,2021-08-10 02:36:21.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 02:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/58e71adcd2a4dad177d30fa117f5579890148421', 'message': 'Add CentOS 8 Stream wheel publish jobs\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/802988\nChange-Id: Id71888115597894d4dcb5c12731f819177fd9341\n'}, {'number': 2, 'created': '2021-08-04 02:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fa5b94b2cc79eb7499e650a592acb2f158d1c41c', 'message': 'Add CentOS 8 Stream wheel publish jobs\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/802988\nChange-Id: Id71888115597894d4dcb5c12731f819177fd9341\n'}, {'number': 3, 'created': '2021-08-04 03:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/39da2f2996f64bc42cc53b558922ae7c6b25285f', 'message': 'Add CentOS 8 Stream wheel publish jobs\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/802988\nChange-Id: Id71888115597894d4dcb5c12731f819177fd9341\n'}, {'number': 4, 'created': '2021-08-04 22:20:18.000000000', 'files': ['playbooks/publish/wheel-mirror.yaml', 'grafana/afs.yaml', 'playbooks/wheel/release.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3d776f6734ff0c5197471c7a89aa84511a0eff88', 'message': 'Add CentOS 8 Stream wheel publish jobs\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/802988\nChange-Id: Id71888115597894d4dcb5c12731f819177fd9341\n'}]",1,803411,3d776f6734ff0c5197471c7a89aa84511a0eff88,16,4,4,7118,,,0,"Add CentOS 8 Stream wheel publish jobs

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/802988
Change-Id: Id71888115597894d4dcb5c12731f819177fd9341
",git fetch https://review.opendev.org/openstack/project-config refs/changes/11/803411/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/publish/wheel-mirror.yaml', 'grafana/afs.yaml', 'playbooks/wheel/release.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",5,58e71adcd2a4dad177d30fa117f5579890148421,centos-8-stream-wheel, name: publish-wheel-cache-centos-8-stream description: | Publish CentOS Stream 8 wheels for OpenStack CI mirrors. parent: build-wheel-cache-centos-8-stream pre-run: playbooks/openafs-client/setup.yaml post-run: playbooks/publish/wheel-mirror.yaml allowed-projects: - openstack/requirements final: true secrets: - name: afs secret: wheel_keytab - job: name: publish-wheel-cache-centos-8-stream-arm64 description: | Publish CentOS Stream 8 wheels for OpenStack CI mirrors. parent: build-wheel-cache-centos-8-stream-arm64 pre-run: playbooks/openafs-client/setup.yaml post-run: playbooks/publish/wheel-mirror.yaml allowed-projects: - openstack/requirements final: true secrets: - name: afs secret: wheel_keytab - job:,,101,1
openstack%2Ftripleo-ansible~stable%2Fussuri~If2d9a8a21f19e4fe7699c0ac932c9801fd133474,openstack/tripleo-ansible,stable/ussuri,If2d9a8a21f19e4fe7699c0ac932c9801fd133474,tripleo-kernel: Adding reboot_protection variable,MERGED,2021-08-09 19:04:05.000000000,2021-08-10 02:20:49.000000000,2021-08-10 02:20:49.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-09 19:04:05.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7481fe94e4b00ffdeb644a7edefc1d70fa5ae50', 'message': 'tripleo-kernel: Adding reboot_protection variable\n\nWhen the role is included, the params and variables have higher\nprecedence than the set_fact, thus not taking the set_fact defer_reboot\ninto account.\n\nAdding a reboot_protection variable that is not included when calling\nthe role will prevent this behavior.\n\nResolves: rhbz#1975240\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1975240\nChange-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474\n(cherry picked from commit 39a809f9e735f01865b6e134e5cf1f11ba2c34d8)\n(cherry picked from commit f2caac2432c1c63dbe316cb8b35757d026769cf1)\n(cherry picked from commit ce09f4b02230417ad05522ba42a29a8bdd5ebce1)\n'}]",0,803963,b7481fe94e4b00ffdeb644a7edefc1d70fa5ae50,7,7,1,27419,,,0,"tripleo-kernel: Adding reboot_protection variable

When the role is included, the params and variables have higher
precedence than the set_fact, thus not taking the set_fact defer_reboot
into account.

Adding a reboot_protection variable that is not included when calling
the role will prevent this behavior.

Resolves: rhbz#1975240
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1975240
Change-Id: If2d9a8a21f19e4fe7699c0ac932c9801fd133474
(cherry picked from commit 39a809f9e735f01865b6e134e5cf1f11ba2c34d8)
(cherry picked from commit f2caac2432c1c63dbe316cb8b35757d026769cf1)
(cherry picked from commit ce09f4b02230417ad05522ba42a29a8bdd5ebce1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/63/803963/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml']",2,b7481fe94e4b00ffdeb644a7edefc1d70fa5ae50,,tripleo_kernel_reboot_protection: false,,3,0
openstack%2Fcinder~master~I220b5e3b01d115262a8b1dd45758f0531aea0edf,openstack/cinder,master,I220b5e3b01d115262a8b1dd45758f0531aea0edf,[rbd] Fix create encrypted volume from snapshot,MERGED,2021-04-03 04:38:13.000000000,2021-08-10 02:07:02.000000000,2021-07-30 19:05:38.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27615}, {'_account_id': 30092}, {'_account_id': 30407}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-03 04:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf51a664569ca6fb42d2080e9b60aeb166125450', 'message': 'Fixed rbd driver create encryption volume from snapshot causing encryption header loss\n\nIn rbd driver, encryption volume created from snapshot that source\nvolume is also encrypted. if the size of new volume not greater than\nthe size of source volume, will skip resize new volume to prevent\nthe loss of the encryption header.\n\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n'}, {'number': 2, 'created': '2021-04-03 04:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96f89306548d9d5e246d58e20aa6f94c358d6541', 'message': 'Fixed rbd driver create encryption volume from snapshot causing encryption header loss\n\nIn rbd driver, encryption volume created from snapshot that source\nvolume is also encrypted. if the size of new volume not greater than\nthe size of source volume, will skip resize new volume to prevent\nthe loss of the encryption header.\n\nCloses-Bug:#1922408\n\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n'}, {'number': 3, 'created': '2021-04-07 06:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85b50d3bee90797086bb78098bcfe44cbb974e05', 'message': 'Fixed rbd driver create encryption volume from snapshot causing encryption header loss\n\nIn rbd driver, encryption volume created from snapshot that source\nvolume is also encrypted. if the size of new volume not greater than\nthe size of source volume, will skip resize new volume to prevent\nthe loss of the encryption header.\n\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n'}, {'number': 4, 'created': '2021-04-08 19:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f04faf3e06ad700ec6f19e8783e3585fde59b3f8', 'message': ""Fix RBD create encrypted volume from snapshot\n\nWhen creating an encrypted volume from a snapshot of an\nencrypted volume, if the amount of data in the original\nvolume at the time the snapshot was created is very close\nto the gibibyte boundary given by the volume's size, it\nis possible for the data in the new volume to be silently\ntruncated.\n\nIn order to fix this only force resize when the destination\nvolume size is bigger than the source volumes and calculate\nthe new size based on the difference and not in round\nnumbers.\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 5, 'created': '2021-04-09 00:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/316000cfd4fba1da33fb71401aff7b1aad702eea', 'message': ""Fix RBD create encrypted volume from snapshot\n\nWhen creating an encrypted volume from a snapshot of an\nencrypted volume, if the amount of data in the original\nvolume at the time the snapshot was created is very close\nto the gibibyte boundary given by the volume's size, it\nis possible for the data in the new volume to be silently\ntruncated.\n\nIn order to fix this only force resize when the destination\nvolume size is bigger than the source volumes and calculate\nthe new size based on the difference and not in round\nnumbers.\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 6, 'created': '2021-04-09 01:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf75d2523fc1e0b2e8308f7674326fc3501f204e', 'message': ""Fix RBD create encrypted volume from snapshot\n\nWhen creating an encrypted volume from a snapshot of an\nencrypted volume, if the amount of data in the original\nvolume at the time the snapshot was created is very close\nto the gibibyte boundary given by the volume's size, it\nis possible for the data in the new volume to be silently\ntruncated.\n\nIn order to fix this only force resize when the destination\nvolume size is bigger than the source volumes and calculate\nthe new size based on the difference and not in round\nnumbers.\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 7, 'created': '2021-04-19 20:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64b8a083f3e2579a30e2bb08384296449aa4a99e', 'message': ""Fix RBD create encrypted volume from snapshot\n\nWhen creating an encrypted volume from a snapshot of an\nencrypted volume, if the amount of data in the original\nvolume at the time the snapshot was created is very close\nto the gibibyte boundary given by the volume's size, it\nis possible for the data in the new volume to be silently\ntruncated.\n\nIn order to fix this only force resize when the destination\nvolume size is bigger than the source volumes and calculate\nthe new size based on the difference and not in round\nnumbers.\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 8, 'created': '2021-05-05 23:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c2912d79b5fd2f66461e573315dde94bd27dec6', 'message': ""[rbd] Fix create encrypted volume from snapshot\n\nWhen creating an encrypted volume from a snapshot\xa0Cinder\nwill silently truncate the data in the new volume. As a\nresult the volume can't be accessed after attachingto an\ninstance.\n\nIn particular, RBD stores the real size of an encrypted\nvolume and may differ from what openstack assumes (the\nsize may vary depending on the encryption parameters).\n\nIn order to fix this this patch only forces resizing\nwhen the destination volume size is bigger than the\nsourcevolume size. In case the destination volume size is\nbigger than the source volumes we should calculate the\nnew size based on the difference and not in round\nnumbers.\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 9, 'created': '2021-05-18 01:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ec2996a06034eb5ad0d91f082eed97f8434acf4', 'message': ""Fix RBD create encrypted volume from snapshot\n\nWhen creating an encrypted volume from a snapshot of an\nencrypted volume, if the amount of data in the original\nvolume at the time the snapshot was created is very close\nto the gibibyte boundary given by the volume's size, it\nis possible for the data in the new volume to be silently\ntruncated.\n\nIn order to fix this only force resize when the destination\nvolume size is bigger than the source volumes and calculate\nthe new size based on the difference and not in round\nnumbers.\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 10, 'created': '2021-05-18 03:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64d23be67f264d6381bfe1d72a8120e3b5ecea1b', 'message': ""Fix RBD create encrypted volume from snapshot\n\nWhen creating an encrypted volume from a snapshot of an\nencrypted volume, if the amount of data in the original\nvolume at the time the snapshot was created is very close\nto the gibibyte boundary given by the volume's size, it\nis possible for the data in the new volume to be silently\ntruncated.\n\nIn order to fix this only force resize when the destination\nvolume size is bigger than the source volumes and calculate\nthe new size based on the difference and not in round\nnumbers.\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 11, 'created': '2021-05-19 01:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ebe2fd38be9274ea3577b74b0c4ed6c6ae3c58a', 'message': ""Fix RBD create encrypted volume from snapshot\n\nWhen creating an encrypted volume from a snapshot of an\nencrypted volume, if the amount of data in the original\nvolume at the time the snapshot was created is very close\nto the gibibyte boundary given by the volume's size, it\nis possible for the data in the new volume to be silently\ntruncated.\n\nIn order to fix this only force resize when the destination\nvolume size is bigger than the source volumes and calculate\nthe new size based on the difference and not in round\nnumbers.\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 12, 'created': '2021-05-19 20:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dde5a8fa46f97aeba942e3b5cae5232f9799aa24', 'message': ""Fix RBD create encrypted volume from snapshot\n\nWhen creating an encrypted volume from a snapshot of an\nencrypted volume, if the amount of data in the original\nvolume at the time the snapshot was created is very close\nto the gibibyte boundary given by the volume's size, it\nis possible for the data in the new volume to be silently\ntruncated.\n\nIn order to fix this only force resize when the destination\nvolume size is bigger than the source volumes and calculate\nthe new size based on the difference and not in round\nnumbers.\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 13, 'created': '2021-05-20 19:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3364909470577112084df4bab6662d066e24edd', 'message': ""Fix RBD create encrypted volume from snapshot\n\nWhen creating an encrypted volume from a snapshot of an\nencrypted volume, if the amount of data in the original\nvolume at the time the snapshot was created is very close\nto the gibibyte boundary given by the volume's size, it\nis possible for the data in the new volume to be silently\ntruncated.\n\nIn order to fix this only force resize when the destination\nvolume size is bigger than the source volumes and calculate\nthe new size based on the difference and not in round\nnumbers.\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 14, 'created': '2021-07-28 17:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e0f4aacdaa6a91ebece99b1f0328fb3938dbc7d', 'message': ""[rbd] Fix create encrypted volume from snapshot\n\nUsually the source volume would be the same size or smaller\nthan the destination volume and they must share the same\nvolume-type. Currently creating an encrypted volume from a\nsnapshot of an encrypted volume truncates the data in the\nnew volume.\n\nIn order to fix this the RBD workflow would be something\nlike this:\nA source luks volume would be 1026M, we write some data\nand create a snap from it. We like to create a new luks\nvolume from a snapshot so the create_volume_from_snapshot()\nmethod performs a RBD clone first and then a resize if needed.\n\nIn addition the _clone() method creates a clone\n(copy-on-write child) of the parent snapshot. Object size\nwill be identical to that of the parent image unless specified\n(we don't in cinder) so size will be the same as the parent\nsnapshot.\n\nIf the desired size of the destination luks volume is 1G the\ncreate_volume_from_snapshot() won't perform any resize and\nwill be 1026M as the parent. This solves bug #1922408 because\nwe don't force it to resize and because of that we don't\ntruncate the data anymore.\n\nThe second case scenario is when we would like to increase\nthe size of the destination volume. As far as I can tell this\nwon't face the encryption header problem but we still need to\ncalculate the difference size to provide the size that the\nuser is expecting.\n\nThat's why the fix proposed calculate the new_size based on:\nsize difference = desired size - size of source volume\nnew size = current size + size difference\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 15, 'created': '2021-07-28 21:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3bf6961e54469c2233121c3587c66d76c9a47ee3', 'message': ""[rbd] Fix create encrypted volume from snapshot\n\nUsually the source volume would be the same size or smaller\nthan the destination volume and they must share the same\nvolume-type. Currently creating an encrypted volume from a\nsnapshot of an encrypted volume truncates the data in the\nnew volume.\n\nIn order to fix this the RBD workflow would be something\nlike this:\nA source luks volume would be 1026M, we write some data\nand create a snap from it. We like to create a new luks\nvolume from a snapshot so the create_volume_from_snapshot()\nmethod performs a RBD clone first and then a resize if needed.\n\nIn addition the _clone() method creates a clone\n(copy-on-write child) of the parent snapshot. Object size\nwill be identical to that of the parent image unless specified\n(we don't in cinder) so size will be the same as the parent\nsnapshot.\n\nIf the desired size of the destination luks volume is 1G the\ncreate_volume_from_snapshot() won't perform any resize and\nwill be 1026M as the parent. This solves bug #1922408 because\nwe don't force it to resize and because of that we don't\ntruncate the data anymore.\n\nThe second case scenario is when we would like to increase\nthe size of the destination volume. As far as I can tell this\nwon't face the encryption header problem but we still need to\ncalculate the difference size to provide the size that the\nuser is expecting.\n\nThat's why the fix proposed calculate the new_size based on:\nsize difference = desired size - size of source volume\nnew size = current size + size difference\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}, {'number': 16, 'created': '2021-07-29 16:33:53.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/bug-1922408-create-encryption-volume-from-snapshot-skip-resize-bb5d77c5e912b5c1.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf1c5252965e731d77af503529ca42e269c305c6', 'message': ""[rbd] Fix create encrypted volume from snapshot\n\nUsually the source volume would be the same size or smaller\nthan the destination volume and they must share the same\nvolume-type. In particular, when the destination volume is\nsame size as the source volume, creating an encrypted volume\nfrom a snapshot of an encrypted volume truncates the data in\nthe new volume.\n\nIn order to fix this the RBD workflow would be something\nlike this:\nA source luks volume would be 1026M, we write some data\nand create a snap from it. We like to create a new luks\nvolume from a snapshot so the create_volume_from_snapshot()\nmethod performs a RBD clone first and then a resize if needed.\n\nIn addition the _clone() method creates a clone\n(copy-on-write child) of the parent snapshot. Object size\nwill be identical to that of the parent image unless specified\n(we don't in cinder) so size will be the same as the parent\nsnapshot.\n\nIf the desired size of the destination luks volume is 1G the\ncreate_volume_from_snapshot() won't perform any resize and\nwill be 1026M as the parent. This solves bug #1922408 because\nwe don't force it to resize and because of that we don't\ntruncate the data anymore.\n\nThe second case scenario is when we would like to increase\nthe size of the destination volume. As far as I can tell this\nwon't face the encryption header problem but we still need to\ncalculate the difference size to provide the size that the\nuser is expecting.\n\nThat's why the fix proposed calculate the new_size based on:\nsize difference = desired size - size of source volume\nnew size = current size + size difference\n\nCloses-Bug: #1922408\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\nChange-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf\n""}]",39,784623,cf1c5252965e731d77af503529ca42e269c305c6,402,12,16,30407,,,0,"[rbd] Fix create encrypted volume from snapshot

Usually the source volume would be the same size or smaller
than the destination volume and they must share the same
volume-type. In particular, when the destination volume is
same size as the source volume, creating an encrypted volume
from a snapshot of an encrypted volume truncates the data in
the new volume.

In order to fix this the RBD workflow would be something
like this:
A source luks volume would be 1026M, we write some data
and create a snap from it. We like to create a new luks
volume from a snapshot so the create_volume_from_snapshot()
method performs a RBD clone first and then a resize if needed.

In addition the _clone() method creates a clone
(copy-on-write child) of the parent snapshot. Object size
will be identical to that of the parent image unless specified
(we don't in cinder) so size will be the same as the parent
snapshot.

If the desired size of the destination luks volume is 1G the
create_volume_from_snapshot() won't perform any resize and
will be 1026M as the parent. This solves bug #1922408 because
we don't force it to resize and because of that we don't
truncate the data anymore.

The second case scenario is when we would like to increase
the size of the destination volume. As far as I can tell this
won't face the encryption header problem but we still need to
calculate the difference size to provide the size that the
user is expecting.

That's why the fix proposed calculate the new_size based on:
size difference = desired size - size of source volume
new size = current size + size difference

Closes-Bug: #1922408
Co-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>
Change-Id: I220b5e3b01d115262a8b1dd45758f0531aea0edf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/784623/16 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1922408-create-encryption-volume-from-snapshot-skip-resize-bb5d77c5e912b5c1.yaml']",2,bf51a664569ca6fb42d2080e9b60aeb166125450,rbd-encrypt-issues,"--- fixes: - In rbd driver, encryption volume created from snapshot that source volume is also encrypted. if the size of new volume not greater than the size of source volume, will skip resize new volume to prevent the loss of the encryption header. ",,16,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I52e43f264a03775b6d609444f8da1a36d9565281,openstack/tripleo-heat-templates,stable/ussuri,I52e43f264a03775b6d609444f8da1a36d9565281,Role parameter for tripleo_kernel_defer_reboot,MERGED,2021-07-24 14:16:49.000000000,2021-08-10 01:45:54.000000000,2021-08-10 01:44:30.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-24 14:16:49.000000000', 'files': ['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/add-parameter-kernelargsdeferreboot-5b8e8b2f64c64a91.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d1634d066b2ddefa86472d5d316d63ac12b80a1', 'message': 'Role parameter for tripleo_kernel_defer_reboot\n\nTo help operators protect their workload, they can now enable the\nKernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel\nansible module from automatically rebooting nodes even if KernelArgs\nwere changed unexpectedly.\n\nChange-Id: I52e43f264a03775b6d609444f8da1a36d9565281\n(cherry picked from commit d2298873f931383fb57909347e70f3702731589e)\n(cherry picked from commit e9c84bda866d204ad79e447a3061373787f7f8c6)\n(cherry picked from commit 914d89fc10b8ea2e9ae60452987f3bded313e7d3)\n'}]",0,801896,4d1634d066b2ddefa86472d5d316d63ac12b80a1,15,7,1,27419,,,0,"Role parameter for tripleo_kernel_defer_reboot

To help operators protect their workload, they can now enable the
KernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel
ansible module from automatically rebooting nodes even if KernelArgs
were changed unexpectedly.

Change-Id: I52e43f264a03775b6d609444f8da1a36d9565281
(cherry picked from commit d2298873f931383fb57909347e70f3702731589e)
(cherry picked from commit e9c84bda866d204ad79e447a3061373787f7f8c6)
(cherry picked from commit 914d89fc10b8ea2e9ae60452987f3bded313e7d3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/801896/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/add-parameter-kernelargsdeferreboot-5b8e8b2f64c64a91.yaml']",2,4d1634d066b2ddefa86472d5d316d63ac12b80a1,,"--- features: - | To help operators protect their workload, they can now enable the KernelArgsDeferReboot role parameter. This will prevent the tripleo-kernel ansible module from automatically rebooting nodes even if KernelArgs were changed unexpectedly. ",,23,0
openstack%2Fironic-python-agent-builder~master~Ib7a16ffcf3aaa6a1ffac9ad73e5cff00c7daadb1,openstack/ironic-python-agent-builder,master,Ib7a16ffcf3aaa6a1ffac9ad73e5cff00c7daadb1,"Revert ""Allow configuration of paths to prune""",MERGED,2021-08-09 21:24:28.000000000,2021-08-10 01:33:55.000000000,2021-08-10 01:32:31.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-09 21:24:28.000000000', 'files': ['dib/ironic-ramdisk-base/cleanup.d/99-ramdisk-create'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/8ba630fb22607a4680800bc00e18810020a086cd', 'message': 'Revert ""Allow configuration of paths to prune""\n\nThis reverts commit 68989576e3663cdc5a7182eea14d2ed6206d61e0.\n\nReason for revert: Breaks pruning in all cases.\n\nChange-Id: Ib7a16ffcf3aaa6a1ffac9ad73e5cff00c7daadb1\n'}]",0,803967,8ba630fb22607a4680800bc00e18810020a086cd,7,5,1,10342,,,0,"Revert ""Allow configuration of paths to prune""

This reverts commit 68989576e3663cdc5a7182eea14d2ed6206d61e0.

Reason for revert: Breaks pruning in all cases.

Change-Id: Ib7a16ffcf3aaa6a1ffac9ad73e5cff00c7daadb1
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/67/803967/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-ramdisk-base/cleanup.d/99-ramdisk-create'],1,8ba630fb22607a4680800bc00e18810020a086cd,,"# Note: The pci.ids, which is used by lshw, locate on Ubuntu # in /usr/share/misc. Therefore we are removing only the # ./usr/share/misc/m* (will remove the magic and magic.mgc files). # on RHEL pci.ids is locate on /usr/share/hwdata/pci.ids. sudo find . -xdev \ -path './sys/*' -prune -o \ -path './tmp/*' -prune -o \ -path './boot/*' -prune -o \ -path './root/.cache' -prune -o \ -path ""*site-packages/babel/locale-data/*"" -prune -o \ -path './usr/include/*' -prune -o \ -path './usr/lib/locale/*' -prune -o \ -path './usr/share/doc/*' -prune -o \ -path './usr/share/man/*' -prune -o \ -path './usr/share/GeoIP/*' -prune -o \ -path './usr/share/info/*' -prune -o \ -path './usr/share/licenses/*' -prune -o \ -path './usr/share/locale/*' -prune -o \ -path './usr/share/misc/m*' -prune -o \ -path './usr/src/kernels/*' -prune -o \ -path './var/cache/*' -prune -o \ -path './var/log/*' -prune -o \ -name '*.pyc' -prune -o \ -name '*.pyo' -prune -o \ -print | sudo cpio -o -H newc | ${DIB_IPA_COMPRESS_CMD} > ${IMAGE_PATH}.initramfs","DIB_IPA_PATHS_TO_PRUNE=""${DIB_IPA_PATHS_TO_PRUNE:-'./sys/*' './tmp/*' \ './boot/*' './root/.cache' '*site-packages/babel/locale-data/*' \ './usr/include/*' './usr/lib/locale/*' './usr/share/doc/*' \ './usr/share/man/*' './usr/share/GeoIP/*' './usr/share/info/*' \ './usr/share/licenses/*' './usr/share/locale/*' './usr/share/misc/m*' \ './usr/src/kernels/*' './var/cache/*' './var/log/*'}""# Build up the command to find files to add to initramfs # using configurable list of paths to prune FIND_COMMAND=""find . -xdev "" for path in $DIB_IPA_PATHS_TO_PRUNE; do FIND_COMMAND=""$FIND_COMMAND -path $path -prune -o "" done FIND_COMMAND=""$FIND_COMMAND -name '*.pyc' -prune -o "" FIND_COMMAND=""$FIND_COMMAND -name '*.pyo' -prune -o -print "" sudo $FIND_COMMAND | sudo cpio -o -H newc | ${DIB_IPA_COMPRESS_CMD} > ${IMAGE_PATH}.initramfs",25,16
openstack%2Ftripleo-heat-templates~master~If7fdacf9161fdbfc9f6c72853e83bf16d2dabfdf,openstack/tripleo-heat-templates,master,If7fdacf9161fdbfc9f6c72853e83bf16d2dabfdf,ironic-inspector: Remove duplicate tasks,ABANDONED,2021-08-09 23:56:53.000000000,2021-08-09 23:57:32.000000000,,[],"[{'number': 1, 'created': '2021-08-09 23:56:53.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7894aa333e05decf7f0d793f92f42de536309e39', 'message': 'ironic-inspector: Remove duplicate tasks\n\nChange-Id: If7fdacf9161fdbfc9f6c72853e83bf16d2dabfdf\n'}]",0,804001,7894aa333e05decf7f0d793f92f42de536309e39,2,0,1,9816,,,0,"ironic-inspector: Remove duplicate tasks

Change-Id: If7fdacf9161fdbfc9f6c72853e83bf16d2dabfdf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/804001/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,7894aa333e05decf7f0d793f92f42de536309e39,duplicate,, - name: stat /tftpboot stat: path=/tftpboot register: stat_tftpboot - name: stat /var/lib/ironic/tftpboot stat: path=/var/lib/ironic/tftpboot register: stat_ironic_tftpboot - name: migrate /tftpboot to containerized (if applicable) command: /bin/cp -R /tftpboot /var/lib/ironic/tftpboot when: stat_tftpboot.stat.exists and not stat_ironic_tftpboot.stat.exists,0,9
openstack%2Ftripleo-heat-templates~master~Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f,openstack/tripleo-heat-templates,master,Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f,Add param to configure neutron agent_down_time and report_interval,MERGED,2021-07-23 15:08:59.000000000,2021-08-09 23:13:22.000000000,2021-08-09 23:11:02.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-23 15:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b221c82b9e6ed1b0657f130333acd69c2d1360e', 'message': 'Add param to configure neutron agent_down_time\n\nSeconds to regard the agent as down; should be at least twice\nreport_interval, to be sure the agent is down for good.\n\nCloses-Bug: #1937843\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f\n'}, {'number': 2, 'created': '2021-07-30 13:51:30.000000000', 'files': ['deployment/neutron/neutron-base.yaml', 'releasenotes/notes/agent_down_time-d6aebe530ca31b9e.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ab70af5a681c2281d0a8883b6aaf41f94f0855f', 'message': 'Add param to configure neutron agent_down_time and report_interval\n\nSeconds to regard the agent as down; should be at least twice\nNeutronGlobalReportInterval, to be sure the agent is down for good.\n\nCloses-Bug: #1937843\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\nChange-Id: Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f\n'}]",1,802035,5ab70af5a681c2281d0a8883b6aaf41f94f0855f,18,5,2,11082,,,0,"Add param to configure neutron agent_down_time and report_interval

Seconds to regard the agent as down; should be at least twice
NeutronGlobalReportInterval, to be sure the agent is down for good.

Closes-Bug: #1937843
Signed-off-by: Kamil Sambor <ksambor@redhat.com>
Change-Id: Ib3f7cd9d6c050140a5e8b59adf7fd8f65b12df2f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/802035/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/agent_down_time-d6aebe530ca31b9e.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",2,7b221c82b9e6ed1b0657f130333acd69c2d1360e,agent_down_time," NeutronAgentDownTime: default: 75 type: number description: | Seconds to regard the agent as down; should be at least twice report_interval, to be sure the agent is down for good. agent_down_time is a config for neutron-server, set by class neutron::server report_interval is a config for neutron agents, set by class neutron neutron::server::agent_down_time: {get_param: NeutronAgentDownTime}",,18,0
openstack%2Ftripleo-heat-templates~master~I9ef9ad19d1dbcb860c9d56f0397b49f01855be57,openstack/tripleo-heat-templates,master,I9ef9ad19d1dbcb860c9d56f0397b49f01855be57,Remove iscsi_tcp module load,MERGED,2021-07-27 21:08:25.000000000,2021-08-09 23:12:16.000000000,2021-08-09 23:10:59.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-27 21:08:25.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/remove-ironic-conductor-iscsi-module-load-1e7d3c72a222196a.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68d7d51e4cccdb00a742323aa1d2e1ee21f8a931', 'message': 'Remove iscsi_tcp module load\n\nIronic no longer ships an iscsi deployment interface and as\nsuch the module no longer needs to be loaded.\n\nChange-Id: I9ef9ad19d1dbcb860c9d56f0397b49f01855be57\n'}]",0,802620,68d7d51e4cccdb00a742323aa1d2e1ee21f8a931,9,4,1,11655,,,0,"Remove iscsi_tcp module load

Ironic no longer ships an iscsi deployment interface and as
such the module no longer needs to be loaded.

Change-Id: I9ef9ad19d1dbcb860c9d56f0397b49f01855be57
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/802620/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/remove-ironic-conductor-iscsi-module-load-1e7d3c72a222196a.yaml']",2,68d7d51e4cccdb00a742323aa1d2e1ee21f8a931,,--- other: - | The ``iscsi_tcp`` module is no longer loaded to support the operation of the ``ironic-conductor`` container as the ``iscsi`` Deployment interface has been removed from Ironic. ,,6,6
openstack%2Fswift~master~I94f2a95e2fa694a550238c0a43b34ff5e85bf83e,openstack/swift,master,I94f2a95e2fa694a550238c0a43b34ff5e85bf83e,DNM: preferably one obvious way to do it,NEW,2021-08-09 20:23:10.000000000,2021-08-09 22:31:13.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 20:23:10.000000000', 'files': ['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5e8762e5e885b5b53c36bdc4490068a07377dc08', 'message': 'DNM: preferably one obvious way to do it\n\nChange-Id: I94f2a95e2fa694a550238c0a43b34ff5e85bf83e\n'}]",3,803985,5e8762e5e885b5b53c36bdc4490068a07377dc08,4,2,1,1179,,,0,"DNM: preferably one obvious way to do it

Change-Id: I94f2a95e2fa694a550238c0a43b34ff5e85bf83e
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/803985/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",2,5e8762e5e885b5b53c36bdc4490068a07377dc08,," def blow_up(app, pipe): if app.allow_modify_pipeline: raise self.fail(""all your pipelinz are belong to us"") self.assertRaises(AssertionError, wsgi.loadapp, conf_file, global_conf={}, allow_modify_pipeline=True)"," def blow_up(*_, **__): raise self.fail(""needs more struts"")",12,6
openstack%2Fcharm-magpie~master~Ic48c6a0d403c65eae08afef6d6d2fb671ea93df4,openstack/charm-magpie,master,Ic48c6a0d403c65eae08afef6d6d2fb671ea93df4,Docfix typos,MERGED,2021-08-09 19:03:49.000000000,2021-08-09 22:20:39.000000000,2021-08-09 21:58:43.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-08-09 19:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/949a294abd2adc9e564056eaa53c9e3eb91a7c40', 'message': 'Docfix typos\n\nChange-Id: Ic48c6a0d403c65eae08afef6d6d2fb671ea93df4\n'}, {'number': 2, 'created': '2021-08-09 21:39:56.000000000', 'files': ['src/README.md', 'src/config.yaml', 'src/actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/d79b3bceea6c48b6b62d5fa91a4afb8e76fc89f9', 'message': 'Docfix typos\n\nChange-Id: Ic48c6a0d403c65eae08afef6d6d2fb671ea93df4\n'}]",2,803981,d79b3bceea6c48b6b62d5fa91a4afb8e76fc89f9,12,3,2,33741,,,0,"Docfix typos

Change-Id: Ic48c6a0d403c65eae08afef6d6d2fb671ea93df4
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/81/803981/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/config.yaml', 'src/actions.yaml']",3,949a294abd2adc9e564056eaa53c9e3eb91a7c40,docfix, description: Space separated list of units Space separated list of concurrency value for each batch, description: Space seperated list of units Space seperated list of concurrencty value for each batch,11,11
openstack%2Ftripleo-common~master~I28a3e1200567236d4f78bfddb7899490bbea267f,openstack/tripleo-common,master,I28a3e1200567236d4f78bfddb7899490bbea267f,Add dnsmasq to ironic-pxe container,MERGED,2021-07-28 14:54:21.000000000,2021-08-09 22:07:16.000000000,2021-08-09 22:04:54.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-28 14:54:21.000000000', 'files': ['container-images/tcib/base/os/ironic-base/ironic-pxe/ironic-pxe.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d3a5fdb6d0334eb74965c529c8d9c02a76ed8de1', 'message': ""Add dnsmasq to ironic-pxe container\n\nIn order for us to handle RHEL9's removal of tftp-server, we need\nto migrate to another TFTP server to support PXE operations, and\nluckily enough, dnsmasq has this capability.\n\nWith the package in place, we should be able to invoke it\nfor the container to run and then eventually remove tftp-server.\n\nChange-Id: I28a3e1200567236d4f78bfddb7899490bbea267f\n""}]",0,802736,d3a5fdb6d0334eb74965c529c8d9c02a76ed8de1,14,4,1,11655,,,0,"Add dnsmasq to ironic-pxe container

In order for us to handle RHEL9's removal of tftp-server, we need
to migrate to another TFTP server to support PXE operations, and
luckily enough, dnsmasq has this capability.

With the package in place, we should be able to invoke it
for the container to run and then eventually remove tftp-server.

Change-Id: I28a3e1200567236d4f78bfddb7899490bbea267f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/802736/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/ironic-base/ironic-pxe/ironic-pxe.yaml'],1,d3a5fdb6d0334eb74965c529c8d9c02a76ed8de1,, - dnsmasq,,1,0
openstack%2Ftripleo-common~master~I5afb567f0cf578562b1f1a596ed9b5648eaad144,openstack/tripleo-common,master,I5afb567f0cf578562b1f1a596ed9b5648eaad144,inventory.py: all_get_neutron_data to handle 404,MERGED,2021-08-05 13:08:01.000000000,2021-08-09 22:06:03.000000000,2021-08-09 22:04:52.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-05 13:08:01.000000000', 'files': ['tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ce71a5a144a89cf2bc96f3d68a0a05dc5e8ec70d', 'message': 'inventory.py: all_get_neutron_data to handle 404\n\nThis allows the _get_neutron_data function to work in the ephemeral\nheat case where only Heat exists in the keystone catalog. This\nfunction will try to access the /ports API and will recieve\nan HTTP 404 (not found) from the ephemeral Heat API.\n\nChange-Id: I5afb567f0cf578562b1f1a596ed9b5648eaad144\n'}]",1,803599,ce71a5a144a89cf2bc96f3d68a0a05dc5e8ec70d,14,6,1,360,,,0,"inventory.py: all_get_neutron_data to handle 404

This allows the _get_neutron_data function to work in the ephemeral
heat case where only Heat exists in the keystone catalog. This
function will try to access the /ports API and will recieve
an HTTP 404 (not found) from the ephemeral Heat API.

Change-Id: I5afb567f0cf578562b1f1a596ed9b5648eaad144
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/803599/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,ce71a5a144a89cf2bc96f3d68a0a05dc5e8ec70d,get_neutron_data-to-handle-404," openstack.exceptions.ResourceNotFound,",,1,0
openstack%2Ftripleo-ansible~master~I616d8b8a87c3a51aa17230a718d206d2326fe50d,openstack/tripleo-ansible,master,I616d8b8a87c3a51aa17230a718d206d2326fe50d,Update stack delete to support local stacks,MERGED,2021-07-09 19:17:20.000000000,2021-08-09 21:59:37.000000000,2021-08-09 21:59:37.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-09 19:17:20.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f8f12c4f335679dbf266e7a8f93f161201261e13', 'message': 'Update stack delete to support local stacks\n\nThis change will ensure that the stack delete playbook can support and\ncleanup stacks that are not specifically running within a legacy Heat\nenvironment.\n\nTasks were added to cleanup the config-download path and the\ntripleo-deploy path within the users home folder (default locations).\n\nChange-Id: I616d8b8a87c3a51aa17230a718d206d2326fe50d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",10,800304,f8f12c4f335679dbf266e7a8f93f161201261e13,28,4,1,7353,,,0,"Update stack delete to support local stacks

This change will ensure that the stack delete playbook can support and
cleanup stacks that are not specifically running within a legacy Heat
environment.

Tasks were added to cleanup the config-download path and the
tripleo-deploy path within the users home folder (default locations).

Change-Id: I616d8b8a87c3a51aa17230a718d206d2326fe50d
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/800304/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-delete.yaml'],1,f8f12c4f335679dbf266e7a8f93f161201261e13,tinkering-netv2," - name: Set overcloud_deploy_path set_fact: overcloud_deploy_path: ""{{ lookup('env', 'HOME') ~ '/overcloud-deploy' }}"" when: overcloud_deploy_path is not defined - name: Set config_download_path set_fact: config_download_path: ""{{ lookup('env', 'HOME') ~ '/config-download' }}"" when: config_download_path is not defined - name: Heat block block: - name: Delete heat stack openstack.cloud.stack: name: ""{{ stack_name }}"" state: absent register: stack_delete until: stack_delete is success delay: 5 retries: 3 rescue: - name: Notice debug: msg: >- The Heat stack for ""{{ stack_name }}"" was not deleted, depending on the deployment type this may be normal. - name: Remove the config download stack file: path: ""{{ config_download_path }}/{{ stack_name }}"" - name: Remove the deploy stack file: path: ""{{ overcloud_deploy_path }}/{{ stack_name }}"" state: absent"," - name: Delete heat stack openstack.cloud.stack: name: ""{{ stack_name }}"" register: stack_delete until: stack_delete is success delay: 4 retries: 16",31,7
openstack%2Fironic-python-agent-builder~master~Ie6d6efa7cf7de1dc9cd63031de05f95b2d050935,openstack/ironic-python-agent-builder,master,Ie6d6efa7cf7de1dc9cd63031de05f95b2d050935,Allow configuration of paths to prune,MERGED,2021-07-29 21:52:11.000000000,2021-08-09 21:24:28.000000000,2021-07-30 17:51:20.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-29 21:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/6c390d8dea3b1738d8e465fbcb3cf6bd91d57491', 'message': 'Allow configuration of paths to prune\n\nWithout this, it makes it impossible to install/use software that\ndepends on this path being available, such as any application which\nwants to log to its own dir in /var/log.\n\nChange-Id: Ie6d6efa7cf7de1dc9cd63031de05f95b2d050935\n'}, {'number': 2, 'created': '2021-07-29 22:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/79b327ee74cca0991ebbfe1e3119d74c58a53362', 'message': 'Allow configuration of paths to prune\n\nWithout this, it makes it impossible to install/use software that\ndepends on this path being available, such as any application which\nwants to log to its own dir in /var/log.\n\nChange-Id: Ie6d6efa7cf7de1dc9cd63031de05f95b2d050935\n'}, {'number': 3, 'created': '2021-07-30 00:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/dd034815971206f503e0795d0da5ef4db644ddb9', 'message': 'Allow configuration of paths to prune\n\nWithout this, it makes it impossible to install/use software that\ndepends on this path being available, such as any application which\nwants to log to its own dir in /var/log.\n\nChange-Id: Ie6d6efa7cf7de1dc9cd63031de05f95b2d050935\n'}, {'number': 4, 'created': '2021-07-30 13:46:40.000000000', 'files': ['dib/ironic-ramdisk-base/cleanup.d/99-ramdisk-create'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/68989576e3663cdc5a7182eea14d2ed6206d61e0', 'message': 'Allow configuration of paths to prune\n\nWithout this, it makes it impossible to install/use software that\ndepends on this path being available, such as any application which\nwants to log to its own dir in /var/log.\n\nChange-Id: Ie6d6efa7cf7de1dc9cd63031de05f95b2d050935\n'}]",6,802965,68989576e3663cdc5a7182eea14d2ed6206d61e0,20,6,4,10342,,,0,"Allow configuration of paths to prune

Without this, it makes it impossible to install/use software that
depends on this path being available, such as any application which
wants to log to its own dir in /var/log.

Change-Id: Ie6d6efa7cf7de1dc9cd63031de05f95b2d050935
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/65/802965/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-ramdisk-base/cleanup.d/99-ramdisk-create'],1,6c390d8dea3b1738d8e465fbcb3cf6bd91d57491,,"DIB_IPA_PATHS_TO_PRUNE=""${DIB_IPA_PATHS_TO_PRUNE:-'./sys/*' './tmp/*' \ './boot/*' './root/.cache' '*site-packages/babel/locale-data/*' \ './usr/include/*' './usr/lib/locale/*' './usr/share/doc/*' \ './usr/share/man/*' './usr/share/GeoIP/*' './usr/share/info/*' \ './usr/share/licenses/*' './usr/share/locale/*' './usr/share/misc/m*' \ './usr/src/kernels/*' './var/cache/*' './var/log/*'}""# Build up the command to find files to add to initramfs # using configurable list of paths to prune FIND_COMMAND=""find . -xdev "" for path in $DIB_IPA_PATHS_TO_PRUNE; do FIND_COMMAND=""$FIND_COMMAND -path $i -prune -o "" done FIND_COMMAND=""$FIND_COMMAND -name '*.pyc' -prune -o"" FIND_COMMAND=""$FIND_COMMAND -name '*.pyo' -prune -o -print"" $FIND_COMMAND | sudo cpio -o -H newc | ${DIB_IPA_COMPRESS_CMD} > ${IMAGE_PATH}.initramfs","# Note: The pci.ids, which is used by lshw, locate on Ubuntu # in /usr/share/misc. Therefore we are removing only the # ./usr/share/misc/m* (will remove the magic and magic.mgc files). # on RHEL pci.ids is locate on /usr/share/hwdata/pci.ids. sudo find . -xdev \ -path './sys/*' -prune -o \ -path './tmp/*' -prune -o \ -path './boot/*' -prune -o \ -path './root/.cache' -prune -o \ -path ""*site-packages/babel/locale-data/*"" -prune -o \ -path './usr/include/*' -prune -o \ -path './usr/lib/locale/*' -prune -o \ -path './usr/share/doc/*' -prune -o \ -path './usr/share/man/*' -prune -o \ -path './usr/share/GeoIP/*' -prune -o \ -path './usr/share/info/*' -prune -o \ -path './usr/share/licenses/*' -prune -o \ -path './usr/share/locale/*' -prune -o \ -path './usr/share/misc/m*' -prune -o \ -path './usr/src/kernels/*' -prune -o \ -path './var/cache/*' -prune -o \ -path './var/log/*' -prune -o \ -name '*.pyc' -prune -o \ -name '*.pyo' -prune -o \ -print | sudo cpio -o -H newc | ${DIB_IPA_COMPRESS_CMD} > ${IMAGE_PATH}.initramfs",16,25
openstack%2Fnetworking-ovn~stable%2Ftrain~I4336e94642d39b87131f71fe0bc7ecfc9614993a,openstack/networking-ovn,stable/train,I4336e94642d39b87131f71fe0bc7ecfc9614993a,Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr),MERGED,2021-08-06 10:55:21.000000000,2021-08-09 21:05:12.000000000,2021-08-09 21:03:51.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-08-06 10:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/175b6c788c8150227a3d2d6c6c7f460098cabd3e', 'message': 'Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)\n\nCloses-Bug: #1938569\n\nChange-Id: I10e0834594f68e06244c393c00d0b3d840c45fc5\n(cherry picked from neutron commit d4b1b4a0729c187551e1fa2b2855db136456d496)\n\nChange-Id: I4336e94642d39b87131f71fe0bc7ecfc9614993a\n'}, {'number': 2, 'created': '2021-08-06 11:00:59.000000000', 'files': ['doc/source/contributor/design/dhcp_opts.rst', 'networking_ovn/common/constants.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9d3b1f82cd4ca25a9d4e097a1ddba2915d2e791e', 'message': 'Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)\n\nCloses-Bug: #1938569\n\nChange-Id: I4336e94642d39b87131f71fe0bc7ecfc9614993a\n(cherry picked from neutron commit d4b1b4a0729c187551e1fa2b2855db136456d496)\n'}]",0,803730,9d3b1f82cd4ca25a9d4e097a1ddba2915d2e791e,17,5,2,31291,,,0,"Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)

Closes-Bug: #1938569

Change-Id: I4336e94642d39b87131f71fe0bc7ecfc9614993a
(cherry picked from neutron commit d4b1b4a0729c187551e1fa2b2855db136456d496)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/30/803730/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/design/dhcp_opts.rst', 'networking_ovn/common/constants.py']",2,175b6c788c8150227a3d2d6c6c7f460098cabd3e,," 'ia-addr': 'ia_addr',"," 'ia-addr': 'ip_addr',",2,2
openstack%2Fopenstack-ansible-os_neutron~master~I6e04c1d0d0fda904e905038d37c7ffbaa7f55e96,openstack/openstack-ansible-os_neutron,master,I6e04c1d0d0fda904e905038d37c7ffbaa7f55e96,Use list of cluster member ipaddr for ovn ml2 agent to connect,ABANDONED,2021-07-30 17:34:32.000000000,2021-08-09 20:51:33.000000000,,"[{'_account_id': 13095}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-30 17:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f8b71dba05c2e21b2684e0986345ddec5a18f3dd', 'message': 'Use list of cluster member ipaddr for ovn ml2 agent to connect\n\nInstead of using haproxy lb, use list of cluster member ips for ovn/ml2\nagent to talk to directly talk to northd/southd services.\n\nChange-Id: I6e04c1d0d0fda904e905038d37c7ffbaa7f55e96\n'}, {'number': 2, 'created': '2021-08-01 16:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6a8f2665d2396d249a177b0311dc99d6df3531f2', 'message': 'Use list of cluster member ipaddr for ovn ml2 agent to connect\n\nInstead of using haproxy lb, use list of cluster member ips for ovn/ml2\nagent to talk to directly talk to northd/southd services.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802134\nChange-Id: I6e04c1d0d0fda904e905038d37c7ffbaa7f55e96\n'}, {'number': 3, 'created': '2021-08-02 13:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6107648c0f1888e32e74ac3e0231eaafb21a58b5', 'message': 'Use list of cluster member ipaddr for ovn ml2 agent to connect\n\nInstead of using haproxy lb, use list of cluster member ips for ovn/ml2\nagent to talk to directly talk to northd/southd services.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802134\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041\nChange-Id: I6e04c1d0d0fda904e905038d37c7ffbaa7f55e96\n'}, {'number': 4, 'created': '2021-08-03 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a203dc072f1c1db44a00103ab83682e943288571', 'message': 'Use list of cluster member ipaddr for ovn ml2 agent to connect\n\nInstead of using haproxy lb, use list of cluster member ips for ovn/ml2\nagent to talk to directly talk to northd/southd services.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802134\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041\nChange-Id: I6e04c1d0d0fda904e905038d37c7ffbaa7f55e96\n'}, {'number': 5, 'created': '2021-08-03 14:25:39.000000000', 'files': ['tasks/providers/setup_ovs_ovn.yml', 'templates/plugins/ml2/ml2_conf.ini.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a4a91f044b0c6cdd4088102c3551745f86411e41', 'message': 'Use list of cluster member ipaddr for ovn ml2 agent to connect\n\nInstead of using haproxy lb, use list of cluster member ips for ovn/ml2\nagent to talk to directly talk to northd/southd services.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802134\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041\nChange-Id: I6e04c1d0d0fda904e905038d37c7ffbaa7f55e96\n'}]",2,803060,a4a91f044b0c6cdd4088102c3551745f86411e41,17,2,5,28752,,,0,"Use list of cluster member ipaddr for ovn ml2 agent to connect

Instead of using haproxy lb, use list of cluster member ips for ovn/ml2
agent to talk to directly talk to northd/southd services.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802134
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041
Change-Id: I6e04c1d0d0fda904e905038d37c7ffbaa7f55e96
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/60/803060/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/plugins/ml2/ml2_conf.ini.j2', 'defaults/main.yml']",2,f8b71dba05c2e21b2684e0986345ddec5a18f3dd,osa/ovn-ml2,"neutron_ovn_nb_connection: ""tcp:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6641,tcp:') }}:6641"" neutron_ovn_sb_connection: ""tcp:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6642,tcp:') }}:6642""",,4,2
openstack%2Fopenstack-ansible-os_neutron~master~I3f022175f45a1d5cee3980933ad3a7f25dde9027,openstack/openstack-ansible-os_neutron,master,I3f022175f45a1d5cee3980933ad3a7f25dde9027,Add CentOS-8-Stream OVN support,ABANDONED,2021-08-06 18:04:45.000000000,2021-08-09 20:49:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-06 18:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d84e4c91cc86a2daf9e7eb9824940af35bf1c5ea', 'message': 'Add CentOS-8-Stream OVN support\n\nThis patch will adjust some file name/path for c8-stream. Changed\nnova metadata api endpoint to https.\n\nChange-Id: I3f022175f45a1d5cee3980933ad3a7f25dde9027\n'}, {'number': 2, 'created': '2021-08-06 18:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/831d6c356b91b2e4dffec059f668f2ae5dc28509', 'message': 'Add CentOS-8-Stream OVN support\n\nThis patch will adjust some file name/path for c8-stream. Changed\nnova metadata api endpoint to https.\n\nChange-Id: I3f022175f45a1d5cee3980933ad3a7f25dde9027\n'}, {'number': 3, 'created': '2021-08-06 20:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d45ceded05ff57a12a51b41e9f5781d38049366d', 'message': 'Add CentOS-8-Stream OVN support\n\nThis patch will adjust some file name/path for c8-stream. Changed\nnova metadata api endpoint to https.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135\nChange-Id: I3f022175f45a1d5cee3980933ad3a7f25dde9027\n'}, {'number': 4, 'created': '2021-08-06 21:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/61e430140b8e1ff1a18b33ae4ce79e8f40625f4b', 'message': 'Add CentOS-8-Stream OVN support\n\nThis patch will adjust some file name/path for c8-stream. Changed\nnova metadata api endpoint to https.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135\nChange-Id: I3f022175f45a1d5cee3980933ad3a7f25dde9027\n'}, {'number': 5, 'created': '2021-08-07 03:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b9a550785e956061840ab301256ae7b929d0c7bf', 'message': 'Add CentOS-8-Stream OVN support\n\nThis patch will adjust some file name/path for c8-stream. Changed\nnova metadata api endpoint to https.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135\nChange-Id: I3f022175f45a1d5cee3980933ad3a7f25dde9027\n'}, {'number': 6, 'created': '2021-08-07 03:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/94fdbbd777841c1627f166e0c736baa220658b47', 'message': 'Add CentOS-8-Stream OVN support\n\nThis patch will adjust some file name/path for c8-stream. Changed\nnova metadata api endpoint to https.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135\nChange-Id: I3f022175f45a1d5cee3980933ad3a7f25dde9027\n'}, {'number': 7, 'created': '2021-08-07 05:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/202b968930ee6e827e7c7f8c67a9bdbe7e16fd14', 'message': 'Add CentOS-8-Stream OVN support\n\nThis patch will adjust some file name/path for c8-stream. Changed\nnova metadata api endpoint to https.\n\nChange-Id: I3f022175f45a1d5cee3980933ad3a7f25dde9027\n'}, {'number': 8, 'created': '2021-08-08 02:07:30.000000000', 'files': ['templates/ovn-northd-opts.j2', 'templates/neutron_ovn_metadata_agent.ini.j2', 'vars/redhat.yml', 'vars/debian.yml', 'zuul.d/project.yaml', 'handlers/main.yml', 'zuul.d/jobs.yaml', 'tasks/providers/ovn_cluster_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a567aebd5291b72b697929a4ccfa5189cc517131', 'message': 'Add CentOS-8-Stream OVN support\n\nThis patch will adjust some file name/path for c8-stream. Changed\nnova metadata api endpoint to https.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041\nChange-Id: I3f022175f45a1d5cee3980933ad3a7f25dde9027\n'}]",0,803798,a567aebd5291b72b697929a4ccfa5189cc517131,14,1,8,28752,,,0,"Add CentOS-8-Stream OVN support

This patch will adjust some file name/path for c8-stream. Changed
nova metadata api endpoint to https.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041
Change-Id: I3f022175f45a1d5cee3980933ad3a7f25dde9027
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/98/803798/8 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ovn-central.j2', 'templates/neutron_ovn_metadata_agent.ini.j2', 'vars/redhat.yml', 'vars/debian.yml', 'tasks/providers/ovn_cluster_setup.yml']",5,d84e4c91cc86a2daf9e7eb9824940af35bf1c5ea,osa/c8-stream-ovn-cluster," - ""{{ neutron_ovn_northd_service_name }}"" src: ovn-northd-opts.j2 dest: ""{{ neutron_ovn_northd_opts_file }}"" - start ovn service - restart ovn service src: ovn-northd-opts.j2 dest: ""{{ neutron_ovn_northd_opts_file }}"" - start ovn service - restart ovn service"," - ovn-northd - ovn-central src: ovn-central.j2 dest: ""/etc/default/ovn-central"" - start ovn-central service - restart ovn-central service src: ovn-central.j2 dest: ""/etc/default/ovn-central"" - start ovn-central service - restart ovn-central service",20,27
openstack%2Fopenstack-ansible-os_neutron~master~Ic482cda1616dd37f533e40513cb439ddf223cfb8,openstack/openstack-ansible-os_neutron,master,Ic482cda1616dd37f533e40513cb439ddf223cfb8,Set ovn hostname using nodename facts,ABANDONED,2021-07-23 22:41:35.000000000,2021-08-09 20:46:24.000000000,,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-07-23 22:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/17a94c3b666a85ec66e73ffe4232bb56e20722bf', 'message': 'Set ovn hostname using nodename facts\n\nansible hostname facts using short hostname which may not work for\nother senario where hostname is FQDN. This may help in that senario\n\nChange-Id: Ic482cda1616dd37f533e40513cb439ddf223cfb8\n'}, {'number': 2, 'created': '2021-07-23 22:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e11ef8ba24a5310b9c425d8e02af0d7be43fa2cc', 'message': 'Set ovn hostname using nodename facts\n\nansible hostname facts using short hostname which may not work for\nother senario where hostname is FQDN. This may help in that senario\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135\nChange-Id: Ic482cda1616dd37f533e40513cb439ddf223cfb8\n'}, {'number': 3, 'created': '2021-07-27 12:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a31384cdafe8aa9d78f5c52f2e5cde2524734b45', 'message': 'Set ovn hostname using nodename facts\n\nansible hostname facts using short hostname which may not work for\nother senario where hostname is FQDN. This may help in that senario\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135\nDeoends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802402\nChange-Id: Ic482cda1616dd37f533e40513cb439ddf223cfb8\n'}, {'number': 4, 'created': '2021-07-27 16:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a830396262fe979cd37cfb1071b10a7f5e717e67', 'message': 'Set ovn hostname using nodename facts\n\nansible hostname facts using short hostname which may not work for\nother senario where hostname is FQDN. This may help in that senario\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802402\nChange-Id: Ic482cda1616dd37f533e40513cb439ddf223cfb8\n'}, {'number': 5, 'created': '2021-07-30 19:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f46997c04525fdc262048b7a9f6e40dde76a6146', 'message': 'Set ovn hostname using nodename facts\n\nansible hostname facts using short hostname which may not work for\nother senario where hostname is FQDN. This may help in that senario\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802402\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041\nChange-Id: Ic482cda1616dd37f533e40513cb439ddf223cfb8\n'}, {'number': 6, 'created': '2021-08-09 14:15:40.000000000', 'files': ['tasks/providers/setup_ovs_ovn.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/29b9d54834462c8fb301c9c3bd5348a9b6607716', 'message': 'Set ovn hostname using nodename facts\n\nansible hostname facts using short hostname which may not work for\nother senario where hostname is FQDN. This may help in that senario\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041\nChange-Id: Ic482cda1616dd37f533e40513cb439ddf223cfb8\n'}]",0,802134,29b9d54834462c8fb301c9c3bd5348a9b6607716,19,3,6,28752,,,0,"Set ovn hostname using nodename facts

ansible hostname facts using short hostname which may not work for
other senario where hostname is FQDN. This may help in that senario

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041
Change-Id: Ic482cda1616dd37f533e40513cb439ddf223cfb8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/34/802134/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/providers/setup_ovs_ovn.yml'],1,17a94c3b666a85ec66e73ffe4232bb56e20722bf,osa/ovn-hostname," command: ""ovs-vsctl set open_vswitch . external-ids:hostname='{{ ansible_facts['nodename'] }}'"""," command: ""ovs-vsctl set open_vswitch . external-ids:hostname='{{ ansible_facts['hostname'] }}'""",1,1
openstack%2Fwhitebox-tempest-plugin~master~I29adec51ed510c32b0d00b4f0353f0a9527482b7,openstack/whitebox-tempest-plugin,master,I29adec51ed510c32b0d00b4f0353f0a9527482b7,Allow for ethernet type in rx queue test,MERGED,2021-08-04 19:47:41.000000000,2021-08-09 20:19:43.000000000,2021-08-09 20:19:43.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 19:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0c9b37945db87c4a34de3d3b72aec7a545f9dccf', 'message': ""Allow for ethernet type in rx queue test\n\nUpdate [1] and subsequent patches [2,3] changed the interface type of\ninstances from bridge to ethernet, e.g.\n\n    <interface type='ethernet'>\n      <mac address='fa:16:3e:3d:50:96'/>\n      <target dev='tapa832f5ec-36'/>\n      <model type='virtio'/>\n      <driver name='vhost' rx_queue_size='1024'/>\n      <mtu size='1372'/>\n      <alias name='net0'/>\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/>\n    </interface>\n\nThis commit changes the test_rx_queue_size logic when searching a guest\nfor its interface type to account for either 'ethernet' or 'bridge'.\n\n[1] https://review.opendev.org/c/openstack/nova/+/602432\n[2] https://review.opendev.org/c/openstack/nova/+/797142\n[3] https://review.opendev.org/c/openstack/nova/+/797428\n\nChange-Id: I29adec51ed510c32b0d00b4f0353f0a9527482b7\n""}, {'number': 2, 'created': '2021-08-04 19:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/55ec41ac494263b0ead0a94dfa887b371f3facb1', 'message': ""Allow for ethernet type in rx queue test\n\nUpdate [1] and subsequent patches [2,3] changed the interface type of\ninstances from bridge to ethernet, e.g.\n\n    <interface type='ethernet'>\n      <mac address='fa:16:3e:3d:50:96'/>\n      <target dev='tapa832f5ec-36'/>\n      <model type='virtio'/>\n      <driver name='vhost' rx_queue_size='1024'/>\n      <mtu size='1372'/>\n      <alias name='net0'/>\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/>\n    </interface>\n\nThis commit changes the test_rx_queue_size logic when searching a guest\nfor its interface type to account for either 'ethernet' or 'bridge'.\n\n[1] https://review.opendev.org/c/openstack/nova/+/602432\n[2] https://review.opendev.org/c/openstack/nova/+/797142\n[3] https://review.opendev.org/c/openstack/nova/+/797428\n\nChange-Id: I29adec51ed510c32b0d00b4f0353f0a9527482b7\n""}, {'number': 3, 'created': '2021-08-09 13:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4367387119f245cd0626795c3c3887973c40e331', 'message': ""Allow for ethernet type in rx queue test\n\nUpdate [1] and subsequent patches [2,3] changed the interface type of\ninstances from bridge to ethernet, e.g.\n\n    <interface type='ethernet'>\n      <mac address='fa:16:3e:3d:50:96'/>\n      <target dev='tapa832f5ec-36'/>\n      <model type='virtio'/>\n      <driver name='vhost' rx_queue_size='1024'/>\n      <mtu size='1372'/>\n      <alias name='net0'/>\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/>\n    </interface>\n\nThis commit changes the test_rx_queue_size logic when searching a guest\nfor its interface type to check for 'ethernet' first and then fall back\nto 'bridge' if it is not found. Also should be noted a conditional set\nof the driver was attempted but due how ElementTree evaluates its\nboolean [4], opted to check ethernet type first and then fall back to\nbridge.\n\n[1] https://review.opendev.org/c/openstack/nova/+/602432\n[2] https://review.opendev.org/c/openstack/nova/+/797142\n[3] https://review.opendev.org/c/openstack/nova/+/797428\n[4] https://github.com/python/cpython/blob/3.9/Lib/xml/etree/ElementTree.py#L214\n\nChange-Id: I29adec51ed510c32b0d00b4f0353f0a9527482b7\n""}, {'number': 4, 'created': '2021-08-09 13:21:52.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_rx_tx_queue_size.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a3ff33907aa3c28a811dd8fbd81c3f646909a388', 'message': ""Allow for ethernet type in rx queue test\n\nUpdate [1] and subsequent patches [2,3] changed the interface type of\ninstances from bridge to ethernet, e.g.\n\n    <interface type='ethernet'>\n      <mac address='fa:16:3e:3d:50:96'/>\n      <target dev='tapa832f5ec-36'/>\n      <model type='virtio'/>\n      <driver name='vhost' rx_queue_size='1024'/>\n      <mtu size='1372'/>\n      <alias name='net0'/>\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/>\n    </interface>\n\nThis commit changes the test_rx_queue_size logic when searching a guest\nfor its interface type to check for 'ethernet' first and then fall back\nto 'bridge' if it is not found. Also should be noted a conditional set\nof the driver was attempted but due how ElementTree evaluates its\nboolean [4], opted to check ethernet type first and then fall back to\nbridge.\n\n[1] https://review.opendev.org/c/openstack/nova/+/602432\n[2] https://review.opendev.org/c/openstack/nova/+/797142\n[3] https://review.opendev.org/c/openstack/nova/+/797428\n[4] https://github.com/python/cpython/blob/3.9/Lib/xml/etree/ElementTree.py#L214\n\nChange-Id: I29adec51ed510c32b0d00b4f0353f0a9527482b7\n""}]",3,803511,a3ff33907aa3c28a811dd8fbd81c3f646909a388,18,3,4,31033,,,0,"Allow for ethernet type in rx queue test

Update [1] and subsequent patches [2,3] changed the interface type of
instances from bridge to ethernet, e.g.

    <interface type='ethernet'>
      <mac address='fa:16:3e:3d:50:96'/>
      <target dev='tapa832f5ec-36'/>
      <model type='virtio'/>
      <driver name='vhost' rx_queue_size='1024'/>
      <mtu size='1372'/>
      <alias name='net0'/>
      <address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/>
    </interface>

This commit changes the test_rx_queue_size logic when searching a guest
for its interface type to check for 'ethernet' first and then fall back
to 'bridge' if it is not found. Also should be noted a conditional set
of the driver was attempted but due how ElementTree evaluates its
boolean [4], opted to check ethernet type first and then fall back to
bridge.

[1] https://review.opendev.org/c/openstack/nova/+/602432
[2] https://review.opendev.org/c/openstack/nova/+/797142
[3] https://review.opendev.org/c/openstack/nova/+/797428
[4] https://github.com/python/cpython/blob/3.9/Lib/xml/etree/ElementTree.py#L214

Change-Id: I29adec51ed510c32b0d00b4f0353f0a9527482b7
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/11/803511/4 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_rx_tx_queue_size.py'],1,0c9b37945db87c4a34de3d3b72aec7a545f9dccf,interface_change_rx_queue," all_interfaces = domain.findall(""devices/interface"") interface_candiate = \ [interface for interface in all_interfaces if interface.attrib.get('type') in ['ethernet', 'bridge'] and interface.find(""driver[@name='vhost']"") is not None] self.assertEqual( 0, len(interface_candiate), ""Only one interface should be "" ""present in the domain's XML, found %d"" % len(interface_candiate) ) driver = interface_candiate[0].find(""driver[@name='vhost']"")"," driver = domain.find( ""devices/interface[@type='bridge']/driver[@name='vhost']"")",11,2
openstack%2Fvalidations-common~master~I21de23aab15d742c0e46b6b37d8ad85c18b3b08c,openstack/validations-common,master,I21de23aab15d742c0e46b6b37d8ad85c18b3b08c,ConfigParser exeption message should be returned,ABANDONED,2021-04-27 01:46:31.000000000,2021-08-09 20:02:22.000000000,,[],"[{'number': 1, 'created': '2021-04-27 01:46:31.000000000', 'files': ['validations_common/library/validations_read_ini.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/42e9db7a066b213370694e4d49a6b70993980519', 'message': 'ConfigParser exeption message should be returned\n\nWhen we fail to parse config file it would be good to know why instead\nof having a generic message. When we print the exception, the message is\npretty clear.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I21de23aab15d742c0e46b6b37d8ad85c18b3b08c\n'}]",0,788104,42e9db7a066b213370694e4d49a6b70993980519,2,0,1,27419,,,0,"ConfigParser exeption message should be returned

When we fail to parse config file it would be good to know why instead
of having a generic message. When we print the exception, the message is
pretty clear.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1950544
Change-Id: I21de23aab15d742c0e46b6b37d8ad85c18b3b08c
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/04/788104/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/library/validations_read_ini.py'],1,42e9db7a066b213370694e4d49a6b70993980519,," except Exception as exception_msg: msg = f""The file '{path}' is not in a valid INI format: {exception_msg}"""," except Exception: msg = ""The file '{}' is not in a valid INI format."".format(path)",2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I912d4ae58c627fdea1a70e4f509eb1efb235dd0f,openstack/tripleo-heat-templates,stable/wallaby,I912d4ae58c627fdea1a70e4f509eb1efb235dd0f,Change default for NovaNfsVersion to NFSv4.2,MERGED,2021-08-03 14:24:33.000000000,2021-08-09 19:55:52.000000000,2021-08-09 19:52:52.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-08-03 14:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abab4df344e7af07b2f272c24d83fa7fae9daa10', 'message': 'Change default for NovaNfsVersion to NFSv4.2\n\nNFSv4.2 is now there for long time and default in RHEL/CentOS 8. This\nchanges the default for NovaNfsVersion to be v4.2 instead of v4 to\nhave this the new default.\n\nChange-Id: I912d4ae58c627fdea1a70e4f509eb1efb235dd0f\n(cherry picked from commit 8d568bdb6bba23255bd2ca791b269b3916434861)\n'}, {'number': 2, 'created': '2021-08-06 08:37:00.000000000', 'files': ['releasenotes/notes/nova_compute_nfs_default_vers-e61d0bf78794be28.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0425fda9fd240f40fbc62017d70fc79bb4383580', 'message': 'Change default for NovaNfsVersion to NFSv4.2\n\nNFSv4.2 is now there for long time and default in RHEL/CentOS 8. This\nchanges the default for NovaNfsVersion to be v4.2 instead of v4 to\nhave this the new default.\n\nChange-Id: I912d4ae58c627fdea1a70e4f509eb1efb235dd0f\n(cherry picked from commit 8d568bdb6bba23255bd2ca791b269b3916434861)\n'}]",4,803285,0425fda9fd240f40fbc62017d70fc79bb4383580,17,8,2,17216,,,0,"Change default for NovaNfsVersion to NFSv4.2

NFSv4.2 is now there for long time and default in RHEL/CentOS 8. This
changes the default for NovaNfsVersion to be v4.2 instead of v4 to
have this the new default.

Change-Id: I912d4ae58c627fdea1a70e4f509eb1efb235dd0f
(cherry picked from commit 8d568bdb6bba23255bd2ca791b269b3916434861)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/803285/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova_compute_nfs_default_vers-e61d0bf78794be28.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",2,abab4df344e7af07b2f272c24d83fa7fae9daa10,nfs_default-stable/wallaby, default: '4.2', default: '4',7,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~Idaee3c5fcc90f8107eac7c2ada94c1e5180abce5,openstack/puppet-tripleo,stable/train,Idaee3c5fcc90f8107eac7c2ada94c1e5180abce5,Create SSL certificates from sslProfiles,MERGED,2021-06-29 11:52:17.000000000,2021-08-09 19:53:05.000000000,2021-08-09 19:53:05.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-29 11:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/139a64452c531c03179cdf9a2e4ca898b11a66a7', 'message': 'Create SSL certificates from sslProfiles\n\nAdds function for transforming SSL certificate/key content values\ninto path values with creating the appropriate files.\n\nChange-Id: Idaee3c5fcc90f8107eac7c2ada94c1e5180abce5\n(cherry picked from commit 6fd83b96311513f9602117000c4960c03c66409c)\n'}, {'number': 2, 'created': '2021-06-29 11:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6e75d14bf42c89e4fd8d06d64a32afa9d81178cf', 'message': 'Create SSL certificates from sslProfiles\n\nAdds function for transforming SSL certificate/key content values\ninto path values with creating the appropriate files.\n\nChange-Id: Idaee3c5fcc90f8107eac7c2ada94c1e5180abce5\n(cherry picked from commit 6fd83b96311513f9602117000c4960c03c66409c)\n'}, {'number': 3, 'created': '2021-07-26 11:09:04.000000000', 'files': ['spec/classes/tripleo_profile_base_metrics_qdr_spec.rb', 'lib/puppet/functions/qdr_ssl_certificate.rb', 'manifests/profile/base/metrics/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/716a7874bf5b7321d710044be32086f4346affa8', 'message': 'Create SSL certificates from sslProfiles\n\nAdds function for transforming SSL certificate/key content values\ninto path values with creating the appropriate files.\n\nChange-Id: Idaee3c5fcc90f8107eac7c2ada94c1e5180abce5\n(cherry picked from commit 6fd83b96311513f9602117000c4960c03c66409c)\n'}]",0,798662,716a7874bf5b7321d710044be32086f4346affa8,40,3,3,5241,,,0,"Create SSL certificates from sslProfiles

Adds function for transforming SSL certificate/key content values
into path values with creating the appropriate files.

Change-Id: Idaee3c5fcc90f8107eac7c2ada94c1e5180abce5
(cherry picked from commit 6fd83b96311513f9602117000c4960c03c66409c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/798662/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_metrics_qdr_spec.rb', 'lib/puppet/functions/qdr_ssl_certificate.rb', 'manifests/profile/base/metrics/qdr.pp']",3,139a64452c531c03179cdf9a2e4ca898b11a66a7,metrics-qdr-ssl-train,"# [*ssl_cert_dir*] # (Optional) Path to directory where SSL certificate files should be created. # Defaults to '/etc/pki/tls/certs/' # $ssl_cert_dir = '/etc/pki/tls/certs/',<<<<<<< HEAD (b88561 Add pcmk_host_list stonith-fence_compute-fence-nova) class { '::qdr': ======= file { $ssl_cert_dir: ensure => directory, mode => '0700' } $prep_ssl_profiles = qdr_ssl_certificate($ssl_profiles, $ssl_cert_dir) $final_ssl_profiles = $prep_ssl_profiles.reduce( [] ) |$memo, $prf| { if has_key($prf, 'caCertFileContent') { file { $prf['caCertFile']: ensure => exists, content => $prf['caCertFileContent'], mode => '0600', require => File[$ssl_cert_dir] } $memo << delete($prf, 'caCertFileContent') } else { $memo << $prf } } class { 'qdr': >>>>>>> CHANGE (900a3e Create SSL certificates from sslProfiles) ssl_profiles => $final_ssl_profiles,"," class { '::qdr': ssl_profiles => $ssl_profiles,",101,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I4c4cd976d9a997b39e7e3937e49193a10f872ae3,openstack/tripleo-heat-templates,stable/victoria,I4c4cd976d9a997b39e7e3937e49193a10f872ae3,Default ganesha-internal service endpoint to external network,MERGED,2021-08-06 23:15:28.000000000,2021-08-09 19:53:02.000000000,2021-08-09 19:53:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-06 23:15:28.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72ff3686e40da9aacb7ef9ed33c8dc49ec5fcb33', 'message': 'Default ganesha-internal service endpoint to external network\n\nThis is a clean cherry-pick except that the path to the relevant\nfile changed in the master branch.\n\nCloses-Bug: #1938639\n\n(cherry picked from commit e104c6e623c32f7606eaaa40751c61c35c5780bb)\nChange-Id: I4c4cd976d9a997b39e7e3937e49193a10f872ae3\n(cherry picked from commit bde560231296ca313d57728ed54bb1b7a54a2f78)\n'}]",0,803687,72ff3686e40da9aacb7ef9ed33c8dc49ec5fcb33,7,6,1,9003,,,0,"Default ganesha-internal service endpoint to external network

This is a clean cherry-pick except that the path to the relevant
file changed in the master branch.

Closes-Bug: #1938639

(cherry picked from commit e104c6e623c32f7606eaaa40751c61c35c5780bb)
Change-Id: I4c4cd976d9a997b39e7e3937e49193a10f872ae3
(cherry picked from commit bde560231296ca313d57728ed54bb1b7a54a2f78)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/803687/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,72ff3686e40da9aacb7ef9ed33c8dc49ec5fcb33,," # Guest VMs use GaneshaNetwork and cannot reach ctlplane network, # so default to external when storage_nfs is not available. GaneshaNetwork: {{ _service_nets.get('storage_nfs', 'external') }}"," GaneshaNetwork: {{ _service_nets.get('storage_nfs', 'ctlplane') }}",3,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ia97533c0b8b3b8498a173e1d363323dcdc77cce4,openstack/tripleo-ansible,stable/wallaby,Ia97533c0b8b3b8498a173e1d363323dcdc77cce4,Set ganesha_vip when no StoragetNFS network,MERGED,2021-08-06 09:34:02.000000000,2021-08-09 19:52:59.000000000,2021-08-09 19:52:59.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-06 09:34:02.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/520b1e1edb83d9f9e101695900667c80a4cdbc8f', 'message': 'Set ganesha_vip when no StoragetNFS network\n\nis deployed.\n\nNormally when Ganesha is deployed for CephFS through NFS,\nthe StorageNFS isolated network is deployed and we set\nthe address for ganesha_vip on that network.  But with\nStandalone role the StorageNFS network is not deployed\nso ganesha_vip is not set in the tripleo hieradata unless\nit is provided by extra config.\n\nSet it to net_vip_map.external in the event that it has\nnot been set on the StorageNFS network.  Note that external\nis chosen rather than ctlplane since the VIP must be reachable\nfrom compute instances, guest VMs, that should have no access\nto the ctlplane network.\n\nCloses-Bug: #1911022\nChange-Id: Ia97533c0b8b3b8498a173e1d363323dcdc77cce4\n(cherry picked from commit 0aceca00e76e967ee9b5efc30da0bc3ee23acb2e)\n'}]",0,803677,520b1e1edb83d9f9e101695900667c80a4cdbc8f,7,6,1,9003,,,0,"Set ganesha_vip when no StoragetNFS network

is deployed.

Normally when Ganesha is deployed for CephFS through NFS,
the StorageNFS isolated network is deployed and we set
the address for ganesha_vip on that network.  But with
Standalone role the StorageNFS network is not deployed
so ganesha_vip is not set in the tripleo hieradata unless
it is provided by extra config.

Set it to net_vip_map.external in the event that it has
not been set on the StorageNFS network.  Note that external
is chosen rather than ctlplane since the VIP must be reachable
from compute instances, guest VMs, that should have no access
to the ctlplane network.

Closes-Bug: #1911022
Change-Id: Ia97533c0b8b3b8498a173e1d363323dcdc77cce4
(cherry picked from commit 0aceca00e76e967ee9b5efc30da0bc3ee23acb2e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/803677/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'],1,520b1e1edb83d9f9e101695900667c80a4cdbc8f,,"{% if not vip_data.ganesha_vip is defined %} {% if 'External' in enabled_networks %} {% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[networks['External']['name_lower']])) %} {% endif %} {% endif %}",,5,0
openstack%2Ftripleo-operator-ansible~master~Ib560421dee52afe4a70a0289da2ae58d0788cb8d,openstack/tripleo-operator-ansible,master,Ib560421dee52afe4a70a0289da2ae58d0788cb8d,Add auto releasing job for tripleo-operators collection,MERGED,2021-08-05 11:17:22.000000000,2021-08-09 19:52:58.000000000,2021-08-09 19:52:58.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-08-05 11:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/9a5d029603ebbff343f130deb3862dfe60532f15', 'message': 'Add auto releasing job for tripleo-operators collection\n\nChange-Id: Ib560421dee52afe4a70a0289da2ae58d0788cb8d\n'}, {'number': 2, 'created': '2021-08-05 11:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/9eb4e9a0934daab2d87a06111e92723f6da5dff2', 'message': 'Add auto releasing job for tripleo-operators collection\n\nChange-Id: Ib560421dee52afe4a70a0289da2ae58d0788cb8d\n'}, {'number': 3, 'created': '2021-08-05 11:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2221d1e066a42ff47b7c1e38af74165a8b6cbcc6', 'message': 'Add auto releasing job for tripleo-operators collection\n\nChange-Id: Ib560421dee52afe4a70a0289da2ae58d0788cb8d\n'}, {'number': 4, 'created': '2021-08-05 11:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2db17296bf3bff6c1c8cf823ff27a33b52331bcf', 'message': 'Add auto releasing job for tripleo-operators collection\n\nChange-Id: Ib560421dee52afe4a70a0289da2ae58d0788cb8d\n'}, {'number': 5, 'created': '2021-08-05 13:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/86682fa9c35fe855a0720e9c83e9453bc4ed4454', 'message': 'Add auto releasing job for tripleo-operators collection\n\nChange-Id: Ib560421dee52afe4a70a0289da2ae58d0788cb8d\n'}, {'number': 6, 'created': '2021-08-05 14:40:26.000000000', 'files': ['zuul.d/layout.yaml', 'ci/playbooks/publish_collection.yml', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/95c0c40cac1f7aa0ea3cb1a70baec09fab9aa83d', 'message': 'Add auto releasing job for tripleo-operators collection\n\nChange-Id: Ib560421dee52afe4a70a0289da2ae58d0788cb8d\n'}]",12,803588,95c0c40cac1f7aa0ea3cb1a70baec09fab9aa83d,22,6,6,10969,,,0,"Add auto releasing job for tripleo-operators collection

Change-Id: Ib560421dee52afe4a70a0289da2ae58d0788cb8d
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/88/803588/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'playbooks/publish_collection.yml']",2,9a5d029603ebbff343f130deb3862dfe60532f15,release,"--- - hosts: all vars: collection_path: ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/tripleo-operator-ansible'].src_dir }}"" build_collection_path: /tmp/collection_built/ ansible_galaxy_path: ""~/.local/bin/ansible-galaxy"" tasks: - name: Include role for pip include_role: name: ensure-pip - name: Install ansible pip: name: ansible-core<2.12 - name: Discover tag version set_fact: version_tag: ""{{ zuul.tag|default('no_version', true) }}"" - name: Fail if no tag version found fail: msg: ""No tag was found in Zuul vars!"" when: version_tag == 'no_version' - name: Create a directory for collection file: state: ""{{ item }}"" path: ""{{ build_collection_path }}"" loop: - absent - directory - name: Set galaxy.yml for right version from tag lineinfile: path: '{{ collection_path }}/galaxy.yml' regexp: '^version:.*' line: 'version: {{ version_tag }}' - name: Build collection command: ""{{ ansible_galaxy_path }} collection build --output-path {{ build_collection_path }} --force"" args: chdir: ""{{ collection_path }}"" - name: Publish content to Ansible Galaxy block: - name: Create ansible.cfg configuration file tempfile tempfile: state: file suffix: .cfg register: _ansiblecfg_tmp - name: Create ansible.cfg configuration file copy: dest: ""{{ _ansiblecfg_tmp.path }}"" mode: 0600 content: | [galaxy] server_list = release_galaxy [galaxy_server.release_galaxy] url = {{ ansible_galaxy_info.url }} token = {{ ansible_galaxy_info.token }} - name: Publish collection to Ansible Galaxy / Automation Hub environment: ANSIBLE_CONFIG: ""{{ _ansiblecfg_tmp.path }}"" shell: >- {{ ansible_galaxy_path }} collection publish -vvv {{ build_collection_path }}/tripleo-operator-{{ version_tag }}.tar.gz always: - name: Shred ansible-galaxy credentials command: ""shred {{ _ansiblecfg_tmp.path }}"" ",,101,0
openstack%2Fpuppet-pacemaker~master~Ia6d0c888ae41ea649d17cfa9f6492f5fcf07490c,openstack/puppet-pacemaker,master,Ia6d0c888ae41ea649d17cfa9f6492f5fcf07490c,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 11:44:54.000000000,2021-08-09 19:52:56.000000000,2021-08-09 19:52:56.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 11:44:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/8edbd644f039b55971c5bc6ac907cef19ef068f2', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia6d0c888ae41ea649d17cfa9f6492f5fcf07490c\n""}]",0,790668,8edbd644f039b55971c5bc6ac907cef19ef068f2,7,4,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia6d0c888ae41ea649d17cfa9f6492f5fcf07490c
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/68/790668/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8edbd644f039b55971c5bc6ac907cef19ef068f2,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-pacemaker~master~I5b60f0144cdcbe39ba7a620c1f5a4d72987b59e5,openstack/puppet-pacemaker,master,I5b60f0144cdcbe39ba7a620c1f5a4d72987b59e5,Fix where long_description_content_type is placed,MERGED,2021-05-11 11:44:54.000000000,2021-08-09 19:52:55.000000000,2021-08-09 19:52:55.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 11:44:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/dc2ae869dc2aca53f3441e7c2b0d42155e06f59f', 'message': 'Fix where long_description_content_type is placed\n\n... so that desciption-file is not interrupted.\n\nChange-Id: I5b60f0144cdcbe39ba7a620c1f5a4d72987b59e5\n'}]",0,790667,dc2ae869dc2aca53f3441e7c2b0d42155e06f59f,7,5,1,9816,,,0,"Fix where long_description_content_type is placed

... so that desciption-file is not interrupted.

Change-Id: I5b60f0144cdcbe39ba7a620c1f5a4d72987b59e5
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/67/790667/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,dc2ae869dc2aca53f3441e7c2b0d42155e06f59f,setup-cfg,long_description_content_type = text/markdown,long_description_content_type = text/markdown,1,1
openstack%2Ftripleo-heat-templates~master~If73722cbcf93ad65f9a61f7713428975532198de,openstack/tripleo-heat-templates,master,If73722cbcf93ad65f9a61f7713428975532198de,nova: replace deprecated nova::cinder_catalog_info,MERGED,2021-04-21 13:40:41.000000000,2021-08-09 19:52:48.000000000,2021-08-09 19:52:48.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-21 13:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9cd67ab36071f9fc0c181c15aa51d5d91f11f25', 'message': 'nova: replace the deprecated nova::cinder_catalog_info\n\n... with the new nova::cinder::catalog_info[1].\n\n[1] 72103db985d00b3289b8b936956166f20ef8f3d0\n\nDepenes-on: https://review.opendev.org/787365\nChange-Id: If73722cbcf93ad65f9a61f7713428975532198de\n'}, {'number': 2, 'created': '2021-04-21 13:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8c4068a06fcb84f1d991c41f34fc33df76a682f', 'message': 'nova: replace deprecated nova::cinder_catalog_info\n\n... with the new nova::cinder::catalog_info[1].\n\n[1] 72103db985d00b3289b8b936956166f20ef8f3d0\n\nDepenes-on: https://review.opendev.org/787365\nChange-Id: If73722cbcf93ad65f9a61f7713428975532198de\n'}, {'number': 3, 'created': '2021-04-22 16:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4071208d3a04f44e2f2e5c4dfc7f29514f9c0003', 'message': 'nova: replace deprecated nova::cinder_catalog_info\n\n... with the new nova::cinder::catalog_info[1].\n\n[1] 72103db985d00b3289b8b936956166f20ef8f3d0\n\nDepends-on: https://review.opendev.org/787365\nChange-Id: If73722cbcf93ad65f9a61f7713428975532198de\n'}, {'number': 4, 'created': '2021-07-24 10:37:46.000000000', 'files': ['deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce660af8b3593376b53a31c705d59e8c1d8ba09c', 'message': 'nova: replace deprecated nova::cinder_catalog_info\n\n... with the new nova::cinder::catalog_info[1].\n\n[1] 72103db985d00b3289b8b936956166f20ef8f3d0\n\nDepends-on: https://review.opendev.org/787365\nChange-Id: If73722cbcf93ad65f9a61f7713428975532198de\n'}]",1,787366,ce660af8b3593376b53a31c705d59e8c1d8ba09c,23,4,4,9816,,,0,"nova: replace deprecated nova::cinder_catalog_info

... with the new nova::cinder::catalog_info[1].

[1] 72103db985d00b3289b8b936956166f20ef8f3d0

Depends-on: https://review.opendev.org/787365
Change-Id: If73722cbcf93ad65f9a61f7713428975532198de
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/787366/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-base-puppet.yaml'],1,e9cd67ab36071f9fc0c181c15aa51d5d91f11f25,nova-cinder, nova::cinder::catalog_info: 'volumev3:cinderv3:internalURL', nova::cinder_catalog_info: 'volumev3:cinderv3:internalURL',1,1
openstack%2Fpuppet-ironic~stable%2Ftrain~Ia30aff290ec24972f387612851f8f630ddc9403b,openstack/puppet-ironic,stable/train,Ia30aff290ec24972f387612851f8f630ddc9403b,Clean up ipxe support,MERGED,2021-07-29 01:14:30.000000000,2021-08-09 19:39:12.000000000,2021-08-09 19:37:46.000000000,"[{'_account_id': 4571}, {'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 01:14:30.000000000', 'files': ['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/pxe-cleanup-692c78cad322893d.yaml', 'manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/d060ed8fac4649234fcbda37c03d49a199c9a08b', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit d99a51d17b7ae254d03225dd763f56cd90465bcb\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nConflicts:\n\tspec/classes/ironic_drivers_pxe_spec.rb\n\nBackport notes for Ussuri:\n- ipxe_enabled parameter is not deprecated in this backport because\n  the parameter is still supported by ironic in Ussuri and older.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n(cherry picked from commit d7d0f7042e5828c2da2ae7b91444feebcd0835d8)\n(cherry picked from commit cc46b445a8773d80be42d8598c1f27c8ea193f92)\n(cherry picked from commit 9847b3b90b74604d1531d1b4484cac1bd4be53cb)\n""}]",0,802775,d060ed8fac4649234fcbda37c03d49a199c9a08b,16,6,1,9816,,,0,"Clean up ipxe support

The puppet-ironic module's ipxe support does not align with current
versions of ironic which delineated ipxe and pxe support quite some
time ago.

This is an attempt to reconcile this.

Conflicts:
	manifests/pxe.pp

Backport notes:
- This change includes the following follow-up commits.

    Make ipxe bootfile name configurable
    commit d99a51d17b7ae254d03225dd763f56cd90465bcb

    Fix incorrect handling/update about deprecated parameters
    commit b307c40f353d6f8e965e9c9d52382fe7b0145043

    Fix usage of ironic::pxe::common
    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c

- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to
  be aligned with the default in ironic stable/wallaby (and older).

- The ip_version parameter is not depecated by this backport because
  the parameter is still valid.

- The change in default values were reverted as much as possible.

Conflicts:
	spec/classes/ironic_drivers_pxe_spec.rb

Backport notes for Ussuri:
- ipxe_enabled parameter is not deprecated in this backport because
  the parameter is still supported by ironic in Ussuri and older.

Change-Id: Ia30aff290ec24972f387612851f8f630ddc9403b
(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)
(cherry picked from commit d7d0f7042e5828c2da2ae7b91444feebcd0835d8)
(cherry picked from commit cc46b445a8773d80be42d8598c1f27c8ea193f92)
(cherry picked from commit 9847b3b90b74604d1531d1b4484cac1bd4be53cb)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/75/802775/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/pxe-cleanup-692c78cad322893d.yaml', 'manifests/pxe.pp']",4,d060ed8fac4649234fcbda37c03d49a199c9a08b,ipxe-fix-t,"# [*uefi_ipxe_bootfile_name*] # (optional) Name of efi file used to boot servers with iPXE + UEFI. This # should be consistent with the uefi_ipxe_bootfile_name parameter in pxe # driver. # Defaults to 'ipxe.efi' # $package_ensure = 'present', $tftp_root = '/tftpboot', $http_root = '/httpboot', $http_port = '8088', $syslinux_path = $::ironic::params::syslinux_path, $syslinux_files = $::ironic::params::syslinux_files, $tftp_bind_host = undef, $enable_ppc64le = false, $ipxe_name_base = 'ipxe', $uefi_ipxe_bootfile_name = 'ipxe.efi' file { ""${tftp_root_real}/${uefi_ipxe_bootfile_name}"":"," $package_ensure = 'present', $tftp_root = '/tftpboot', $http_root = '/httpboot', $http_port = '8088', $syslinux_path = $::ironic::params::syslinux_path, $syslinux_files = $::ironic::params::syslinux_files, $tftp_bind_host = undef, $enable_ppc64le = false, $ipxe_name_base = 'ipxe', file { ""${tftp_root_real}/ipxe.efi"":",99,36
openstack%2Fpuppet-ironic~stable%2Fussuri~Ia30aff290ec24972f387612851f8f630ddc9403b,openstack/puppet-ironic,stable/ussuri,Ia30aff290ec24972f387612851f8f630ddc9403b,Clean up ipxe support,MERGED,2021-07-27 03:02:21.000000000,2021-08-09 19:39:07.000000000,2021-08-09 19:37:45.000000000,"[{'_account_id': 4571}, {'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 03:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/18c94ee64329a780ef204685515d4a848b832d03', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit 918b3116634d1be812aa5e0359eff9119ffe87a6\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nBackport notes for Ussuri:\n- ipxe_enabled parameter is not deprecated in this backport because\n  the parameter is still supported by ironic in Ussuri and older.\n\nConflicts:\n\tspec/classes/ironic_drivers_pxe_spec.rb\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n(cherry picked from commit d7d0f7042e5828c2da2ae7b91444feebcd0835d8)\n(cherry picked from commit d3b6f0055eb69beb099509a835cea01c746d85c9)\n""}, {'number': 2, 'created': '2021-07-27 03:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/79210f2930d58380ac694a939475eda9434c1931', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit 918b3116634d1be812aa5e0359eff9119ffe87a6\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nConflicts:\n\tspec/classes/ironic_drivers_pxe_spec.rb\n\nBackport notes for Ussuri:\n- ipxe_enabled parameter is not deprecated in this backport because\n  the parameter is still supported by ironic in Ussuri and older.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n(cherry picked from commit d7d0f7042e5828c2da2ae7b91444feebcd0835d8)\n(cherry picked from commit d3b6f0055eb69beb099509a835cea01c746d85c9)\n""}, {'number': 3, 'created': '2021-07-27 14:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/2575974995d8f0158ca7f065863d584988c8c559', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit 918b3116634d1be812aa5e0359eff9119ffe87a6\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nConflicts:\n\tspec/classes/ironic_drivers_pxe_spec.rb\n\nBackport notes for Ussuri:\n- ipxe_enabled parameter is not deprecated in this backport because\n  the parameter is still supported by ironic in Ussuri and older.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n(cherry picked from commit d7d0f7042e5828c2da2ae7b91444feebcd0835d8)\n(cherry picked from commit d3b6f0055eb69beb099509a835cea01c746d85c9)\n""}, {'number': 4, 'created': '2021-07-27 14:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/6aad78f02c196846de73e38e9fc7459df9404594', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit 918b3116634d1be812aa5e0359eff9119ffe87a6\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nConflicts:\n\tspec/classes/ironic_drivers_pxe_spec.rb\n\nBackport notes for Ussuri:\n- ipxe_enabled parameter is not deprecated in this backport because\n  the parameter is still supported by ironic in Ussuri and older.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n(cherry picked from commit d7d0f7042e5828c2da2ae7b91444feebcd0835d8)\n(cherry picked from commit d3b6f0055eb69beb099509a835cea01c746d85c9)\n""}, {'number': 5, 'created': '2021-07-27 14:16:22.000000000', 'files': ['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/pxe-cleanup-692c78cad322893d.yaml', 'manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9847b3b90b74604d1531d1b4484cac1bd4be53cb', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit d99a51d17b7ae254d03225dd763f56cd90465bcb\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nConflicts:\n\tspec/classes/ironic_drivers_pxe_spec.rb\n\nBackport notes for Ussuri:\n- ipxe_enabled parameter is not deprecated in this backport because\n  the parameter is still supported by ironic in Ussuri and older.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n(cherry picked from commit d7d0f7042e5828c2da2ae7b91444feebcd0835d8)\n(cherry picked from commit cc46b445a8773d80be42d8598c1f27c8ea193f92)\n""}]",0,802422,9847b3b90b74604d1531d1b4484cac1bd4be53cb,19,7,5,9816,,,0,"Clean up ipxe support

The puppet-ironic module's ipxe support does not align with current
versions of ironic which delineated ipxe and pxe support quite some
time ago.

This is an attempt to reconcile this.

Conflicts:
	manifests/pxe.pp

Backport notes:
- This change includes the following follow-up commits.

    Make ipxe bootfile name configurable
    commit d99a51d17b7ae254d03225dd763f56cd90465bcb

    Fix incorrect handling/update about deprecated parameters
    commit b307c40f353d6f8e965e9c9d52382fe7b0145043

    Fix usage of ironic::pxe::common
    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c

- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to
  be aligned with the default in ironic stable/wallaby (and older).

- The ip_version parameter is not depecated by this backport because
  the parameter is still valid.

- The change in default values were reverted as much as possible.

Conflicts:
	spec/classes/ironic_drivers_pxe_spec.rb

Backport notes for Ussuri:
- ipxe_enabled parameter is not deprecated in this backport because
  the parameter is still supported by ironic in Ussuri and older.

Change-Id: Ia30aff290ec24972f387612851f8f630ddc9403b
(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)
(cherry picked from commit d7d0f7042e5828c2da2ae7b91444feebcd0835d8)
(cherry picked from commit cc46b445a8773d80be42d8598c1f27c8ea193f92)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/22/802422/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ipxe_bootfile_name-4f4dbc874f1c2e63.yaml', 'manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/pxe-cleanup-692c78cad322893d.yaml', 'manifests/pxe.pp']",5,18c94ee64329a780ef204685515d4a848b832d03,ipxe-fix-u,"# [*ipxe_bootfile_name*] # (optional) Name of efi file used to boot servers with iPXE + UEFI. This # should be consistent with the uefi_ipxe_bootfile_name parameter in pxe # driver. # Defaults to 'ipxe.efi' # $package_ensure = 'present', $tftp_root = '/tftpboot', $http_root = '/httpboot', $http_port = '8088', $syslinux_path = $::ironic::params::syslinux_path, $syslinux_files = $::ironic::params::syslinux_files, $tftp_bind_host = undef, $enable_ppc64le = false, $ipxe_name_base = 'ipxe', $ipxe_bootfile_name = 'ipxe.efi' file { ""${tftp_root_real}/${ipxe_bootfile_name}"":"," $package_ensure = 'present', $tftp_root = '/tftpboot', $http_root = '/httpboot', $http_port = '8088', $syslinux_path = $::ironic::params::syslinux_path, $syslinux_files = $::ironic::params::syslinux_files, $tftp_bind_host = undef, $enable_ppc64le = false, $ipxe_name_base = 'ipxe', file { ""${tftp_root_real}/ipxe.efi"":",101,35
openstack%2Frequirements~master~I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0,openstack/requirements,master,I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0,Updated from generate-constraints,MERGED,2021-08-07 06:30:58.000000000,2021-08-09 19:37:06.000000000,2021-08-09 19:35:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-07 06:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0c67932781a6d7de31ac0e69f15dc9d64164fd78', 'message': 'Updated from generate-constraints\n\nChange-Id: I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0\n'}, {'number': 2, 'created': '2021-08-08 02:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/05aef2d78c7b4ef9549ba49bfa3037881343d2fb', 'message': 'Updated from generate-constraints\n\nChange-Id: I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2021-08-08 04:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/aef28a8010d07e0f103ce075f159fd8e78ec87bd', 'message': 'Updated from generate-constraints\n\nChange-Id: I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2021-08-08 18:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/97d9ac7cc87f6eac8bb3d5b6d5ce9aacaf890ae7', 'message': 'Updated from generate-constraints\n\nChange-Id: I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 5, 'created': '2021-08-08 22:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/093f386631c6eb5dc19c6462cb8a53a25770cff1', 'message': 'Updated from generate-constraints\n\nChange-Id: I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 6, 'created': '2021-08-09 00:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4b2ab50dd86b8f02c791dbf0901374c5d5902be8', 'message': 'Updated from generate-constraints\n\nChange-Id: I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 7, 'created': '2021-08-09 02:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/061f08303a551836963b33cba4f7e46ec98704a7', 'message': 'Updated from generate-constraints\n\nChange-Id: I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 8, 'created': '2021-08-09 14:29:38.000000000', 'files': ['openstack_requirements/cmds/generate.py', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/06b9b7ef8c060af473ad4e7ae5c7d2275f5df314', 'message': 'Updated from generate-constraints\n\nChange-Id: I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,803813,06b9b7ef8c060af473ad4e7ae5c7d2275f5df314,30,2,8,11131,,,0,"Updated from generate-constraints

Change-Id: I0b1a2ad5e372bb9759c6bd9f81341047e0be1ac0
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/803813/8 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0c67932781a6d7de31ac0e69f15dc9d64164fd78,openstack/requirements/constraints/noclob,# generated using: tox -e generatewebsocket-client===1.1.1XStatic-Angular===1.8.2.1zeroconf===0.33.4pkg_resources===0.0.0boto3===1.18.16botocore===1.21.16pyzmq===22.2.1greenlet===1.1.1fasteners===0.16.3,websocket-client===1.1.0XStatic-Angular===1.5.8.0zeroconf===0.33.2boto3===1.18.14botocore===1.21.14pyzmq===22.2.0greenlet===1.1.0fasteners===0.14.1setuptools===57.4.0,10,9
openstack%2Ftripleo-common~master~Iaee1b95f1537b937591e269f9bdb22a955a854be,openstack/tripleo-common,master,Iaee1b95f1537b937591e269f9bdb22a955a854be,Remove paramiko for FIPS,MERGED,2020-11-06 20:54:25.000000000,2021-08-09 19:18:09.000000000,2021-08-09 19:16:49.000000000,"[{'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31661}]","[{'number': 1, 'created': '2020-11-06 20:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59d137db11a013272ae7e4a3a709e124e20d9f6d', 'message': 'WIP: Remove paramiko for FIPS\n\nparamiko is not approved for FIPS, but we only use it here to\ngenerate ssh keys.  We can do the same with OpenSSL and cryptography.\nDoing this allows a FIPS enrollment on the undercloud to continue.\n\nStill in testing ..\n\nChange-Id: Iaee1b95f1537b937591e269f9bdb22a955a854be\n'}, {'number': 2, 'created': '2021-08-03 20:22:58.000000000', 'files': ['requirements.txt', 'tox.ini', 'tripleo_common/utils/passwords.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6d6a2fd612def87ebf8ed608cacc6122568e564a', 'message': 'Remove paramiko for FIPS\n\nparamiko is not approved for FIPS, but we only use it here to\ngenerate ssh keys.  We can do the same with OpenSSL and cryptography.\nDoing this allows a FIPS enrollment on the undercloud to continue.\n\nChange-Id: Iaee1b95f1537b937591e269f9bdb22a955a854be\n'}]",1,761790,6d6a2fd612def87ebf8ed608cacc6122568e564a,20,9,2,9914,,,0,"Remove paramiko for FIPS

paramiko is not approved for FIPS, but we only use it here to
generate ssh keys.  We can do the same with OpenSSL and cryptography.
Doing this allows a FIPS enrollment on the undercloud to continue.

Change-Id: Iaee1b95f1537b937591e269f9bdb22a955a854be
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/761790/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tripleo_common/utils/passwords.py']",3,59d137db11a013272ae7e4a3a709e124e20d9f6d,add_fips_job,"from cryptography.hazmat.primitives import serialization from cryptography.hazmat.primitives.asymmetric import rsa from cryptography.hazmat.backends import default_backend key = rsa.generate_private_key(public_exponent=65537, key_size=bits, backend=default_backend()) # can/should we use OpenSSH instead of PKCS8 format below? # Only from cryptography 3.0+ private_key = key.private_bytes( serialization.Encoding.PEM, serialization.PrivateFormat.PKCS8, serialization.NoEncryption()).decode('utf-8') public_key = key.public_key().public_bytes( serialization.Encoding.OpenSSH, serialization.PublicFormat.OpenSSH).decode('utf-8') public_key = '{} {}'.format(public_key, comment)","import paramiko key = paramiko.RSAKey.generate(bits) keyout = six.StringIO() key.write_private_key(keyout) private_key = keyout.getvalue() public_key = '{} {} {}'.format(key.get_name(), key.get_base64(), comment)",16,8
openstack%2Fpuppet-nova~master~I422499f80963f74284809a3a63d51f8ab06c5817,openstack/puppet-nova,master,I422499f80963f74284809a3a63d51f8ab06c5817,Add support for initial_*_allocation_ratio,MERGED,2021-08-02 14:28:45.000000000,2021-08-09 19:14:25.000000000,2021-08-09 19:13:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-02 14:28:45.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/initial_allocation_ratio-27a45a6616382559.yaml', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e2da44df56c5005bb74b2f5745866fcac0ce42d8', 'message': 'Add support for initial_*_allocation_ratio\n\nThis change introduces support for the initial_*_allocation_ratio\nparameters which were implemented in nova during the Stein cycle[1].\n\n[1] 08f3ae960623c94bdd997cacb3e81f04b4bbba69\n\nChange-Id: I422499f80963f74284809a3a63d51f8ab06c5817\n'}]",0,803214,e2da44df56c5005bb74b2f5745866fcac0ce42d8,10,5,1,9816,,,0,"Add support for initial_*_allocation_ratio

This change introduces support for the initial_*_allocation_ratio
parameters which were implemented in nova during the Stein cycle[1].

[1] 08f3ae960623c94bdd997cacb3e81f04b4bbba69

Change-Id: I422499f80963f74284809a3a63d51f8ab06c5817
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/14/803214/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/initial_allocation_ratio-27a45a6616382559.yaml', 'spec/classes/nova_init_spec.rb']",3,e2da44df56c5005bb74b2f5745866fcac0ce42d8,initial-allocation-ratio," is_expected.to contain_nova_config('DEFAULT/initial_cpu_allocation_ratio').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/initial_ram_allocation_ratio').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/initial_disk_allocation_ratio').with_value('<SERVICE DEFAULT>') :cpu_allocation_ratio => 32.0, :ram_allocation_ratio => 2.0, :disk_allocation_ratio => 1.5, :initial_cpu_allocation_ratio => 64.0, :initial_ram_allocation_ratio => 4.0, :initial_disk_allocation_ratio => 3.0, it { is_expected.to contain_nova_config('DEFAULT/cpu_allocation_ratio').with_value(32.0) } it { is_expected.to contain_nova_config('DEFAULT/ram_allocation_ratio').with_value(2.0) } it { is_expected.to contain_nova_config('DEFAULT/disk_allocation_ratio').with_value(1.5) } it { is_expected.to contain_nova_config('DEFAULT/initial_cpu_allocation_ratio').with_value(64.0) } it { is_expected.to contain_nova_config('DEFAULT/initial_ram_allocation_ratio').with_value(4.0) } it { is_expected.to contain_nova_config('DEFAULT/initial_disk_allocation_ratio').with_value(3.0) }"," :cpu_allocation_ratio => 32.0, :ram_allocation_ratio => 2.0, :disk_allocation_ratio => 1.5, it { is_expected.to contain_nova_config('DEFAULT/cpu_allocation_ratio').with_value('32.0') } it { is_expected.to contain_nova_config('DEFAULT/ram_allocation_ratio').with_value('2.0') } it { is_expected.to contain_nova_config('DEFAULT/disk_allocation_ratio').with_value('1.5') }",54,17
openstack%2Ftripleo-heat-templates~master~Ifcd90cb931800a4f6003014023d0a41048f7ef2a,openstack/tripleo-heat-templates,master,Ifcd90cb931800a4f6003014023d0a41048f7ef2a,Enable swift-recon-cron job,MERGED,2021-07-25 08:21:54.000000000,2021-08-09 19:09:03.000000000,2021-08-09 19:07:27.000000000,"[{'_account_id': 6926}, {'_account_id': 6968}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-25 08:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3034b755a4ca3f9b0647ce733411ab3b97a46f7', 'message': 'Enable swift-recon-cron job\n\nThis change introduces the new swift_recon_cron container to run\nswift-recon-cron job which reflects statistics related to async\npendings of object-server/updater to recon middleware.\n\nCloses-Bug: #1937929\nDepends-on: https://review.opendev.org/802184\nChange-Id: Ifcd90cb931800a4f6003014023d0a41048f7ef2a\n'}, {'number': 2, 'created': '2021-07-25 08:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2d2dc88c235d9c7f11ed8721e7ae4c3993228cd', 'message': 'Enable swift-recon-cron job\n\nThis change introduces the new swift_recon_cron container to run\nswift-recon-cron job which reflects statistics related to async\npendings of object-server/updater to recon middleware.\n\nCloses-Bug: #1937929\nDepends-on: https://review.opendev.org/802184\nChange-Id: Ifcd90cb931800a4f6003014023d0a41048f7ef2a\n'}, {'number': 3, 'created': '2021-07-25 15:03:23.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'releasenotes/notes/swift-recon-cron-8a3023ab693486bd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35e701c61e2b97974d1aa834e04a1fc6ddbba3a0', 'message': 'Enable swift-recon-cron job\n\nThis change introduces the new swift_recon_cron container to run\nswift-recon-cron job which reflects statistics related to async\npendings of object-server/updater to recon middleware.\n\nCloses-Bug: #1937929\nDepends-on: https://review.opendev.org/802184\nChange-Id: Ifcd90cb931800a4f6003014023d0a41048f7ef2a\n'}]",0,802185,35e701c61e2b97974d1aa834e04a1fc6ddbba3a0,13,5,3,9816,,,0,"Enable swift-recon-cron job

This change introduces the new swift_recon_cron container to run
swift-recon-cron job which reflects statistics related to async
pendings of object-server/updater to recon middleware.

Closes-Bug: #1937929
Depends-on: https://review.opendev.org/802184
Change-Id: Ifcd90cb931800a4f6003014023d0a41048f7ef2a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/802185/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,a3034b755a4ca3f9b0647ce733411ab3b97a46f7,bug/1937929," SwiftReconCronMinute: type: string description: > Cron to reflect statistics related to async pendings - Minute default: '*/5' SwiftReconCronHour: type: string description: > Cron to reflect statistics related to async pendings - Hour default: '*' SwiftReconCronMonthday: type: string description: > Cron to reflect statistics related to async pendings - Month Day default: '*' SwiftReconCronMonth: type: string description: > Cron to reflect statistics related to async pendings - Month default: '*' SwiftReconCronWeekday: type: string description: > Cron to reflect statistics related to async pendings - Week Day default: '*' swift::storage::cron::recon::minute: {get_param: SwiftReconCronMinute} swift::storage::cron::recon::hour: {get_param: SwiftReconCronHour} swift::storage::cron::recon::monthday: {get_param: SwiftReconCronMonthday} swift::storage::cron::recon::month: {get_param: SwiftReconCronMonth} swift::storage::cron::recon::weekday: {get_param: SwiftReconCronWeekday} /var/lib/kolla/config_files/swift_recon_cron.json: command: /usr/sbin/crond -n config_files: - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true permissions: - path: /var/cache/swift owner: swift:swift recurse: true swift_recon_cron: image: *swift_object_image net: host user: swift restart: always healthcheck: test: '/usr/share/openstack-tripleo-common/healthcheck/cron swift' volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/swift_recon_cron.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/swift:/var/lib/kolla/config_files/src:ro - /srv/node:/srv/node - /dev:/dev - /var/cache/swift:/var/cache/swift - /var/log/containers/swift:/var/log/swift:z environment: *kolla_env - swift_recon_cron",,60,0
openstack%2Fpuppet-tripleo~master~I09d3b93b0f01fb1a790324ee23ce16d4301c6d6c,openstack/puppet-tripleo,master,I09d3b93b0f01fb1a790324ee23ce16d4301c6d6c,Enable configuration of swift-recon-cron job,MERGED,2021-07-25 07:58:27.000000000,2021-08-09 18:55:20.000000000,2021-08-09 18:55:20.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-25 07:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d22344dccc046aa69b1d1e1ac26bf3734e2b2ed1', 'message': 'Enable configuration of swift-recon-cron job\n\nDepends-on: https://review.opendev.org/694451\nChange-Id: I09d3b93b0f01fb1a790324ee23ce16d4301c6d6c\n'}, {'number': 2, 'created': '2021-07-25 08:07:41.000000000', 'files': ['manifests/profile/base/swift/storage.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/03edf2ab71040b84296f566a41004f3823df7136', 'message': 'Enable configuration of swift-recon-cron job\n\nRelated-Bug: #1937929\nDepends-on: https://review.opendev.org/694451\nChange-Id: I09d3b93b0f01fb1a790324ee23ce16d4301c6d6c\n'}]",0,802184,03edf2ab71040b84296f566a41004f3823df7136,16,5,2,9816,,,0,"Enable configuration of swift-recon-cron job

Related-Bug: #1937929
Depends-on: https://review.opendev.org/694451
Change-Id: I09d3b93b0f01fb1a790324ee23ce16d4301c6d6c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/802184/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/swift/storage.pp'],1,d22344dccc046aa69b1d1e1ac26bf3734e2b2ed1,bug/1937929, include swift::storage::cron::recon,,1,0
openstack%2Ftripleo-heat-templates~master~Ic0159e4efc862583baa646009aebe5b8168fcc36,openstack/tripleo-heat-templates,master,Ic0159e4efc862583baa646009aebe5b8168fcc36,Add a role to run independent designate bind backends,MERGED,2021-07-21 13:11:12.000000000,2021-08-09 18:55:18.000000000,2021-08-09 18:55:18.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-21 13:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d70d2e203022aed04d00bbbb1f7d84da337d0ff8', 'message': 'Add a role to run independed designate bind backends\n\nDesignate can manage multiple instances of bind backend instances and\nthere are advantages to running bind on dedicated hosts in some cases.\n\nChange-Id: Ic0159e4efc862583baa646009aebe5b8168fcc36\n'}, {'number': 2, 'created': '2021-07-26 19:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b08249ea726d33577c7503c0154a508b1ac0d05b', 'message': 'Add a role to run independent designate bind backends\n\nDesignate can manage multiple instances of bind backend instances and\nthere are advantages to running bind on dedicated hosts in some cases.\n\nChange-Id: Ic0159e4efc862583baa646009aebe5b8168fcc36\n'}, {'number': 3, 'created': '2021-07-28 18:42:02.000000000', 'files': ['roles/DesignateBind.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30ddf42420398eea899b1d9ee3b9ec1f61a415da', 'message': 'Add a role to run independent designate bind backends\n\nDesignate can manage multiple instances of bind backend instances and\nthere are advantages to running bind on dedicated hosts in some cases.\n\nChange-Id: Ic0159e4efc862583baa646009aebe5b8168fcc36\n'}]",1,801620,30ddf42420398eea899b1d9ee3b9ec1f61a415da,16,5,3,6681,,,0,"Add a role to run independent designate bind backends

Designate can manage multiple instances of bind backend instances and
there are advantages to running bind on dedicated hosts in some cases.

Change-Id: Ic0159e4efc862583baa646009aebe5b8168fcc36
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/801620/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/DesignateBind.yaml'],1,d70d2e203022aed04d00bbbb1f7d84da337d0ff8,designate-bind-role,############################################################################### # Role: DesignateBind # ############################################################################### - name: DesignateBind description: | Standalone role for bind instances being used as backends for Designate CountDefault: 1 tags: - external_bridge networks: External: subnet: external_subnet InternalApi: subnet: internal_api_subnet default_route_networks: ['External'] HostnameFormatDefault: '%stackname%-designate-bind-%index%' ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::AuditD - OS::TripleO::Services::BootParams - OS::TripleO::Services::CACerts - OS::TripleO::Services::IpaClient - OS::TripleO::Services::Ipsec - OS::TripleO::Services::Kernel - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::Podman - OS::TripleO::Services::Rhsm - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::Snmp - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::Tuned - OS::TripleO::Services::DesignateBind ,,37,0
openstack%2Fpuppet-nova~master~I4d96eaf73bdfbed5aab9c6f5c60da3d6005d8cf9,openstack/puppet-nova,master,I4d96eaf73bdfbed5aab9c6f5c60da3d6005d8cf9,Drop Fedora support,MERGED,2021-08-05 14:28:30.000000000,2021-08-09 18:43:22.000000000,2021-08-09 18:41:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 14:28:30.000000000', 'files': ['metadata.json', 'spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt/version.pp', 'manifests/compute/libvirt/services.pp', 'manifests/params.pp', 'releasenotes/notes/drop-fedora-6722ae14b04142a4.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/38cf3a57ad6f8d2dd87c438a57bf537d9a8ccaaa', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I4d96eaf73bdfbed5aab9c6f5c60da3d6005d8cf9\n""}]",0,803606,38cf3a57ad6f8d2dd87c438a57bf537d9a8ccaaa,8,3,1,9816,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I4d96eaf73bdfbed5aab9c6f5c60da3d6005d8cf9
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/06/803606/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt/version.pp', 'manifests/compute/libvirt/services.pp', 'manifests/params.pp', 'releasenotes/notes/drop-fedora-6722ae14b04142a4.yaml']",6,38cf3a57ad6f8d2dd87c438a57bf537d9a8ccaaa,drop-fedora,--- upgrade: - | Fedora is no longer supported. ,,14,68
openstack%2Fpuppet-nova~master~I6caebefef8da76265dca15c01bcbb27af34b6aea,openstack/puppet-nova,master,I6caebefef8da76265dca15c01bcbb27af34b6aea,Replace deprecated is_string/is_array method,MERGED,2021-08-06 01:47:00.000000000,2021-08-09 18:41:50.000000000,2021-08-09 18:41:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 01:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/95b30a52f02bbf543ebe95eeb83355b24c48c02b', 'message': 'Replace deprecated is_string/is_array method\n\nChange-Id: I6caebefef8da76265dca15c01bcbb27af34b6aea\n'}, {'number': 2, 'created': '2021-08-06 03:37:51.000000000', 'files': ['manifests/scheduler/filter.pp', 'manifests/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/25a50136694bba86de7a33780dfdc97a83ca9093', 'message': 'Replace deprecated is_string/is_array method\n\nCloses-Bug: #1939088\nChange-Id: I6caebefef8da76265dca15c01bcbb27af34b6aea\n'}]",0,803666,25a50136694bba86de7a33780dfdc97a83ca9093,8,3,2,9816,,,0,"Replace deprecated is_string/is_array method

Closes-Bug: #1939088
Change-Id: I6caebefef8da76265dca15c01bcbb27af34b6aea
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/66/803666/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler/filter.pp', 'manifests/compute.pp']",2,95b30a52f02bbf543ebe95eeb83355b24c48c02b,bug/1939088," $reserved_huge_pages_real = $reserved_huge_pages ? { String => $reserved_huge_pages, Array => $reserved_huge_pages, default => fail(""Invalid reserved_huge_pages parameter value: ${reserved_huge_pages}"")"," if !is_service_default($reserved_huge_pages) and !empty($reserved_huge_pages) { if is_array($reserved_huge_pages) or is_string($reserved_huge_pages) { $reserved_huge_pages_real = $reserved_huge_pages } else { fail(""Invalid reserved_huge_pages parameter value: ${reserved_huge_pages}"") } } else { $reserved_huge_pages_real = $::os_service_default",5,9
openstack%2Fpuppet-openstack-integration~master~Icf66763d7e0c1996426e48087e5848bbb0f1be8f,openstack/puppet-openstack-integration,master,Icf66763d7e0c1996426e48087e5848bbb0f1be8f,Replace deprecated notification_workers,MERGED,2021-08-06 01:15:37.000000000,2021-08-09 18:40:52.000000000,2021-08-09 18:40:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 01:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/00a37ceee07e2bb0bec1de6ede2e5249c251c39d', 'message': 'Replace deprecated notification_worker\n\nThe ceilometer::agent::notification::notification_worker parameter was\ndeprecated in favor of the new ``worker`` parameter[1].\n\n[1] 15921006c595ff705be40c02d324a387c92a4339\n\nChange-Id: Icf66763d7e0c1996426e48087e5848bbb0f1be8f\n'}, {'number': 2, 'created': '2021-08-06 01:17:35.000000000', 'files': ['manifests/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/098179b858d65744c489bbe315572d6431d36bb7', 'message': 'Replace deprecated notification_workers\n\nThe ceilometer::agent::notification::notification_workers parameter was\ndeprecated in favor of the new ``workers`` parameter[1].\n\n[1] 15921006c595ff705be40c02d324a387c92a4339\n\nChange-Id: Icf66763d7e0c1996426e48087e5848bbb0f1be8f\n'}]",0,803661,098179b858d65744c489bbe315572d6431d36bb7,8,3,2,9816,,,0,"Replace deprecated notification_workers

The ceilometer::agent::notification::notification_workers parameter was
deprecated in favor of the new ``workers`` parameter[1].

[1] 15921006c595ff705be40c02d324a387c92a4339

Change-Id: Icf66763d7e0c1996426e48087e5848bbb0f1be8f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/61/803661/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ceilometer.pp'],1,00a37ceee07e2bb0bec1de6ede2e5249c251c39d,," workers => '2',"," notification_workers => '2',",1,1
openstack%2Fpuppet-openstack-integration~master~Ib31e0c85fc031327db76f3255aef123f73c66096,openstack/puppet-openstack-integration,master,Ib31e0c85fc031327db76f3255aef123f73c66096,Replace deprecated aodh::auth,MERGED,2021-08-06 01:11:08.000000000,2021-08-09 18:40:50.000000000,2021-08-09 18:40:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 01:11:08.000000000', 'files': ['manifests/aodh.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b0642aacfcb3ab27235c5614dc8815f4599f098e', 'message': 'Replace deprecated aodh::auth\n\n... by the new aodh::service_credentials class[1].\n\n[1] e05af2b3f1dbb5ba74e5428ef3e74e4bfc096531\n\nChange-Id: Ib31e0c85fc031327db76f3255aef123f73c66096\n'}]",0,803659,b0642aacfcb3ab27235c5614dc8815f4599f098e,9,3,1,9816,,,0,"Replace deprecated aodh::auth

... by the new aodh::service_credentials class[1].

[1] e05af2b3f1dbb5ba74e5428ef3e74e4bfc096531

Change-Id: Ib31e0c85fc031327db76f3255aef123f73c66096
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/59/803659/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/aodh.pp'],1,b0642aacfcb3ab27235c5614dc8815f4599f098e,," class { 'aodh::service_credentials': auth_url => $::openstack_integration::config::keystone_auth_uri, password => 'a_big_secret',"," class { 'aodh::auth': auth_url => $::openstack_integration::config::keystone_auth_uri, auth_password => 'a_big_secret',",3,3
openstack%2Fpuppet-openstack-integration~master~Ia8940ef802160d07ca5a4483ae72ef43560a2ee9,openstack/puppet-openstack-integration,master,Ia8940ef802160d07ca5a4483ae72ef43560a2ee9,Replace deprecated ceilometer::agent::auth,MERGED,2021-08-06 01:09:47.000000000,2021-08-09 18:40:49.000000000,2021-08-09 18:40:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 01:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5e986bbf2f2f520e1d1f2658b4adb15fa4d5111e', 'message': 'Replace deprecated ceilometer::agent::auth\n\nby the new ceilometer::agent::service_credentials class[1].\n\n[1] 9a5323ad18b9bc0e15b514ea98449a3ea5d58b68\n\nChange-Id: Ia8940ef802160d07ca5a4483ae72ef43560a2ee9\n'}, {'number': 2, 'created': '2021-08-06 05:17:07.000000000', 'files': ['manifests/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/15993a76a152504d4da23389985a31bf42494d86', 'message': 'Replace deprecated ceilometer::agent::auth\n\nby the new ceilometer::agent::service_credentials class[1].\n\n[1] 9a5323ad18b9bc0e15b514ea98449a3ea5d58b68\n\nChange-Id: Ia8940ef802160d07ca5a4483ae72ef43560a2ee9\n'}]",0,803658,15993a76a152504d4da23389985a31bf42494d86,9,3,2,9816,,,0,"Replace deprecated ceilometer::agent::auth

by the new ceilometer::agent::service_credentials class[1].

[1] 9a5323ad18b9bc0e15b514ea98449a3ea5d58b68

Change-Id: Ia8940ef802160d07ca5a4483ae72ef43560a2ee9
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/58/803658/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ceilometer.pp'],1,5e986bbf2f2f520e1d1f2658b4adb15fa4d5111e,," class { 'ceilometer::agent::service_credentials': password => 'a_big_secret', auth_url => $::openstack_integration::config::keystone_auth_uri,"," class { 'ceilometer::agent::auth': auth_password => 'a_big_secret', auth_url => $::openstack_integration::config::keystone_auth_uri,",3,3
openstack%2Frpm-packaging~master~I15993b5027c5f9ad0ad53c992a9f06d8dc87ddc3,openstack/rpm-packaging,master,I15993b5027c5f9ad0ad53c992a9f06d8dc87ddc3,os-api-ref update to 2.2.0,MERGED,2021-07-19 10:18:09.000000000,2021-08-09 18:40:22.000000000,2021-08-09 18:40:22.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-19 10:18:09.000000000', 'files': ['openstack/os-api-ref/os-api-ref.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/00742f2263d1d7239f8b4c0f4801798f986fb11c', 'message': 'os-api-ref update to 2.2.0\n\nprovides some compatibility with sphinx 4.x\n\nChange-Id: I15993b5027c5f9ad0ad53c992a9f06d8dc87ddc3\n'}]",0,801278,00742f2263d1d7239f8b4c0f4801798f986fb11c,9,5,1,6593,,,0,"os-api-ref update to 2.2.0

provides some compatibility with sphinx 4.x

Change-Id: I15993b5027c5f9ad0ad53c992a9f06d8dc87ddc3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/78/801278/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-api-ref/os-api-ref.spec.j2'],1,00742f2263d1d7239f8b4c0f4801798f986fb11c,,{% set upstream_version = upstream_version('2.2.0') %},{% set upstream_version = upstream_version('2.1.0') %},1,1
openstack%2Frpm-packaging~master~I3720a630440627ff11414842bb7ece250e2fcf31,openstack/rpm-packaging,master,I3720a630440627ff11414842bb7ece250e2fcf31,macros: move rpm macros to %%_rpmmacrodir,MERGED,2021-07-05 10:58:51.000000000,2021-08-09 18:40:20.000000000,2021-08-09 18:40:20.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-05 10:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/689ec8f5766e48ec75af543db2a403f03ef0647d', 'message': 'macros: move rpm macros to %%_rpmmacrodir\n\nChange-Id: I3720a630440627ff11414842bb7ece250e2fcf31\n'}, {'number': 2, 'created': '2021-07-18 15:49:51.000000000', 'files': ['openstack/openstack-macros/openstack-macros.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1f456aa93aaf0e7423e0a21896424b50fecd9044', 'message': 'macros: move rpm macros to %%_rpmmacrodir\n\nChange-Id: I3720a630440627ff11414842bb7ece250e2fcf31\n'}]",2,799455,1f456aa93aaf0e7423e0a21896424b50fecd9044,16,5,2,6593,,,0,"macros: move rpm macros to %%_rpmmacrodir

Change-Id: I3720a630440627ff11414842bb7ece250e2fcf31
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/55/799455/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-macros/openstack-macros.spec.j2'],1,689ec8f5766e48ec75af543db2a403f03ef0647d,,Version: 2021.1.0install -D -m644 %{SOURCE1} %{buildroot}%{_rpmmacrodir}/macros.openstack-common install -D -m644 %{SOURCE5} %{buildroot}%{_rpmmacrodir}/macros.openstack-singlespecinstall -D -m644 %{SOURCE2} %{buildroot}%{_rpmmacrodir}/macros.openstack-suse%{_rpmmacrodir}/macros.openstack-common %{_rpmmacrodir}/macros.openstack-singlespec%{_rpmmacrodir}/macros.openstack-suse,Version: 2020.1.3install -D -m644 %{SOURCE1} %{buildroot}%{_sysconfdir}/rpm/macros.openstack-common install -D -m644 %{SOURCE5} %{buildroot}%{_sysconfdir}/rpm/macros.openstack-singlespecinstall -D -m644 %{SOURCE2} %{buildroot}%{_sysconfdir}/rpm/macros.openstack-suse%{_sysconfdir}/rpm/macros.openstack-common %{_sysconfdir}/rpm/macros.openstack-singlespec%{_sysconfdir}/rpm/macros.openstack-suse,7,7
openstack%2Frpm-packaging~master~I46137b4cae49f176d0c3f8f06514c5274a5457bd,openstack/rpm-packaging,master,I46137b4cae49f176d0c3f8f06514c5274a5457bd,Add oslo.limit for glance (and probably others going forward),MERGED,2021-07-18 15:47:31.000000000,2021-08-09 18:39:28.000000000,2021-08-09 18:39:28.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-18 15:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0d6861fe62873a2b35469eb3142de135eb21988f', 'message': 'Add oslo.limit for glance (and probably others going forward)\n\nChange-Id: I46137b4cae49f176d0c3f8f06514c5274a5457bd\n'}, {'number': 2, 'created': '2021-07-18 16:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cb378e6014e0f91069c6132aa2ac2872c0daa1d8', 'message': 'Add oslo.limit for glance (and probably others going forward)\n\nChange-Id: I46137b4cae49f176d0c3f8f06514c5274a5457bd\n'}, {'number': 3, 'created': '2021-07-18 16:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4b73186154e75a9319551e4a427f6288b034f35b', 'message': 'Add oslo.limit for glance (and probably others going forward)\n\nChange-Id: I46137b4cae49f176d0c3f8f06514c5274a5457bd\n'}, {'number': 4, 'created': '2021-08-02 10:31:14.000000000', 'files': ['openstack/glance/glance.spec.j2', 'openstack/oslo.limit/oslo.limit.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1bcf3a0b9f47f827f4cfb334abaf951590f66c8a', 'message': 'Add oslo.limit for glance (and probably others going forward)\n\nChange-Id: I46137b4cae49f176d0c3f8f06514c5274a5457bd\n'}]",0,801190,1bcf3a0b9f47f827f4cfb334abaf951590f66c8a,23,5,4,6593,,,0,"Add oslo.limit for glance (and probably others going forward)

Change-Id: I46137b4cae49f176d0c3f8f06514c5274a5457bd
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/90/801190/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.upgradecheck/oslo.upgradecheck.spec.j2', 'openstack/glance/glance.spec.j2', 'openstack/oslo.limit/oslo.limit.spec.j2']",3,0d6861fe62873a2b35469eb3142de135eb21988f,,"{% set pypi_name = 'oslo.limit' %} {% set upstream_version = upstream_version('1.4.0') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: OpenStack Limit library License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://docs.openstack.org/{{ pypi_name }} Source0: {{ source }} BuildRequires: openstack-macros BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('stestr') }} BuildArch: noarch %description Oslo.limit is the limit enforcement library to assist with quota calculation. It aims to provide support for quota enforcement across all OpenStack services. %package -n {{ py2name(py_versions='py3') }} Summary: OpenStack limit library Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('openstacksdk') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.log') }} %description -n {{ py2name(py_versions='py3') }} Oslo.limit is the limit enforcement library to assist with quota calculation. It aims to provide support for quota enforcement across all OpenStack services. This package contains the Python 3.x module. %package -n {{ py2name() }}-doc Summary: Documentation for OpenStack limit library BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }} %description -n {{ py2name() }}-doc Documentation for the oslo.limit library. %prep %autosetup -p1 -n {{ pypi_name }}-{{ upstream_version }} %py_req_cleanup %build %{py3_build} # generate html docs PYTHONPATH=. PBR_VERSION={{ upstream_version }} %sphinx_build -b html doc/source doc/build/html rm -rf doc/build/html/.{doctrees,buildinfo} %install %{py3_install} %check python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }} %license LICENSE %doc ChangeLog README.rst %{python3_sitelib}/oslo_limit %{python3_sitelib}/*.egg-info %{_bindir}/convert-json %files -n {{ py2name() }}-doc %license LICENSE %doc doc/build/html %changelog ",,77,87
openstack%2Frpm-packaging~stable%2Fwallaby~I2930e9ed0b56378b99ed616a55f81888325ba27f,openstack/rpm-packaging,stable/wallaby,I2930e9ed0b56378b99ed616a55f81888325ba27f,os-api-ref: add backport for sphinx 4.x support,MERGED,2021-07-19 10:31:47.000000000,2021-08-09 18:38:45.000000000,2021-08-09 18:38:45.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-19 10:31:47.000000000', 'files': ['openstack/os-api-ref/0001-Replace-add_stylesheet-add_javascript.patch', 'openstack/os-api-ref/os-api-ref.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bc408804e74e41dc266f9ff428580531e1cb2c16', 'message': 'os-api-ref: add backport for sphinx 4.x support\n\nChange-Id: I2930e9ed0b56378b99ed616a55f81888325ba27f\n'}]",0,801281,bc408804e74e41dc266f9ff428580531e1cb2c16,8,4,1,6593,,,0,"os-api-ref: add backport for sphinx 4.x support

Change-Id: I2930e9ed0b56378b99ed616a55f81888325ba27f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/81/801281/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/os-api-ref/0001-Replace-add_stylesheet-add_javascript.patch', 'openstack/os-api-ref/os-api-ref.spec.j2']",2,bc408804e74e41dc266f9ff428580531e1cb2c16,,Patch1: 0001-Replace-add_stylesheet-add_javascript.patch,,49,0
openstack%2Fpuppet-oslo~master~Iafb03a6cd57859d11713d12b1c939a9fe782ee65,openstack/puppet-oslo,master,Iafb03a6cd57859d11713d12b1c939a9fe782ee65,Replace deprecated is_string method,MERGED,2021-08-06 01:39:16.000000000,2021-08-09 18:36:04.000000000,2021-08-09 18:36:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 01:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/644b1c9d15163eb2fa64656093b23479fd04b2c7', 'message': 'Replace deprecated is_string method\n\nChange-Id: Iafb03a6cd57859d11713d12b1c939a9fe782ee65\n'}, {'number': 2, 'created': '2021-08-06 03:36:31.000000000', 'files': ['manifests/messaging/notifications.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/8f6788f10f9c5df893beda7a2cb3ecfd6ee11ac3', 'message': 'Replace deprecated is_string method\n\n... and simplify how $::os_service_default, which is a String, is\nhandled.\n\nCloses-Bug: #1939088\nChange-Id: Iafb03a6cd57859d11713d12b1c939a9fe782ee65\n'}]",0,803664,8f6788f10f9c5df893beda7a2cb3ecfd6ee11ac3,8,3,2,9816,,,0,"Replace deprecated is_string method

... and simplify how $::os_service_default, which is a String, is
handled.

Closes-Bug: #1939088
Change-Id: Iafb03a6cd57859d11713d12b1c939a9fe782ee65
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/64/803664/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/messaging/notifications.pp'],1,644b1c9d15163eb2fa64656093b23479fd04b2c7,bug/1939088," # When we have a string value for driver, we keep passing it as string # to reduce any chance of breaking things in a backwards incompatible way $driver_real = $driver ? { String => $driver, default => any2array($driver)"," if is_service_default($driver) or is_string($driver) { # When we have a string value for driver, we keep passing it as string # to reduce any chance of breaking things in a backwards incompatible way $driver_orig = $driver } else { $driver_orig = any2array($driver)",6,6
openstack%2Fpuppet-keystone~master~Ib3615761b366ed849177ae79d7d105ef8b839da4,openstack/puppet-keystone,master,Ib3615761b366ed849177ae79d7d105ef8b839da4,Remove a file which causes cloning on Windows platform to fail,MERGED,2021-06-15 07:21:38.000000000,2021-08-09 18:34:14.000000000,2021-08-09 18:32:51.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 07:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f673e79c91ddc54debab9ea5c2f809ba50c2c78f', 'message': 'Change release note file name\n\nThis file name is not valid to checkout on Windows platform, so change\nit to adopt.\n\nChange-Id: Ib3615761b366ed849177ae79d7d105ef8b839da4\n'}, {'number': 2, 'created': '2021-07-30 07:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4c990bc9dcb20c72f2796281c1399588866cbcc1', 'message': 'Remove the file that causes fail when pull on Windows platform\n\nThis file name is not valid to checkout on Windows platform, the most ideal\nsolution is to fix git client to make it properly handle paths with any\ncharacters prohibited in Windows. As a short term we can remove that\nfile to avoid incorrect release note content.\n\nChange-Id: Ib3615761b366ed849177ae79d7d105ef8b839da4\n'}, {'number': 3, 'created': '2021-07-30 07:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e7b1c606c621bc41fec7e8accd889c3471af9770', 'message': 'Remove a file which causes cloning on Windows platform to fail\n\nThere is a known issue with git-for-windows and currently clone and\npull fail with invalid path errors if the target repository has any\nfilename containing a character prohibited in Windows. We can find\nbelow examples reporting that issue.\n https://github.com/git-for-windows/git/issues/2777\n https://github.com/git-for-windows/git/issues/2803\n https://github.com/git-for-windows/git/issues/2849\n\nBecause it is unlikely that the issue is solved in git-for-windows\nshortly, this change drops one release note file which includes "":"" in\nits name to solve that problem. Note that we can\'t rename existing\nrelease note files because that would make notes appear in a wrong\nrelease, and this is why this change should remove that file.\n\nChange-Id: Ib3615761b366ed849177ae79d7d105ef8b839da4\n'}, {'number': 4, 'created': '2021-07-30 07:57:58.000000000', 'files': ['releasenotes/notes/optional-email-parameter-for-roles::admin-2a17a5d13fa172da.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/df3ece5739afbf9a53f4d27bdf7b77649d1e1da2', 'message': ""Remove a file which causes cloning on Windows platform to fail\n\nThere is a known issue with git-for-windows and currently clone and\npull fail with invalid path errors if the target repository has any\nfilename containing a character prohibited in Windows. We can find\nbelow examples reporting that issue.\n https://github.com/git-for-windows/git/issues/2777\n https://github.com/git-for-windows/git/issues/2803\n https://github.com/git-for-windows/git/issues/2849\n\nBecause it is unlikely that the issue is solved in git-for-windows\nshortly, this change drops one release note file currently causing\nthe failure, as a quick workaround. Note that we can't rename existing\nrelease note files because that would make notes appear in a wrong\nrelease, and this is why this change should remove that file.\n\nChange-Id: Ib3615761b366ed849177ae79d7d105ef8b839da4\n""}]",0,796385,df3ece5739afbf9a53f4d27bdf7b77649d1e1da2,21,3,4,31412,,,0,"Remove a file which causes cloning on Windows platform to fail

There is a known issue with git-for-windows and currently clone and
pull fail with invalid path errors if the target repository has any
filename containing a character prohibited in Windows. We can find
below examples reporting that issue.
 https://github.com/git-for-windows/git/issues/2777
 https://github.com/git-for-windows/git/issues/2803
 https://github.com/git-for-windows/git/issues/2849

Because it is unlikely that the issue is solved in git-for-windows
shortly, this change drops one release note file currently causing
the failure, as a quick workaround. Note that we can't rename existing
release note files because that would make notes appear in a wrong
release, and this is why this change should remove that file.

Change-Id: Ib3615761b366ed849177ae79d7d105ef8b839da4
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/85/796385/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/optional-email-parameter-for-roles-admin-2a17a5d13fa172da.yaml'],1,f673e79c91ddc54debab9ea5c2f809ba50c2c78f,,,,0,0
openstack%2Fos-brick~master~Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32,openstack/os-brick,master,Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32,linuxscsi: Only raise and log multipathd errors when required,MERGED,2021-07-01 11:01:16.000000000,2021-08-09 18:32:58.000000000,2021-08-09 18:31:26.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 15334}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 11:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/17734f8e92748d8bfc1c3391b6f2e21e5430d882', 'message': ""linuxscsi: Only raise and log multipathd errors when required\n\nLogging and then ignoring multipathd errors when it isn't enforced is\nconfusing to operators investigating attach or detach issues.\n\nChange-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32\n""}, {'number': 2, 'created': '2021-07-01 17:14:29.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bdfe6b43cb5efb43f7832eb16fad9aecc016ff23', 'message': ""linuxscsi: Only raise and log multipathd errors when required\n\nLogging and then ignoring multipathd errors when it isn't enforced is\nconfusing to operators investigating attach or detach issues.\n\nChange-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32\n""}]",2,799035,bdfe6b43cb5efb43f7832eb16fad9aecc016ff23,34,5,2,10135,,,0,"linuxscsi: Only raise and log multipathd errors when required

Logging and then ignoring multipathd errors when it isn't enforced is
confusing to operators investigating attach or detach issues.

Change-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/35/799035/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py']",2,17734f8e92748d8bfc1c3391b6f2e21e5430d882,," except putils.ProcessExecutionError as err: if enforce_multipath: LOG.error('multipathd is not running: exit code %(err)s', {'err': err.exit_code})"," except putils.ProcessExecutionError as err: LOG.error('multipathd is not running: exit code %(err)s', {'err': err.exit_code}) if enforce_multipath:",46,5
openstack%2Fpuppet-keystone~master~If8f085b73f21018e05eefc907071a69a665ce879,openstack/puppet-keystone,master,If8f085b73f21018e05eefc907071a69a665ce879,Replace deprecated is_string method,MERGED,2021-08-06 01:36:24.000000000,2021-08-09 18:32:50.000000000,2021-08-09 18:32:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 01:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d7fa30ecbd3682eafe66beef2605e3c8d25bbf98', 'message': 'Replace deprecated is_string method\n\nChange-Id: If8f085b73f21018e05eefc907071a69a665ce879\n'}, {'number': 2, 'created': '2021-08-06 03:32:00.000000000', 'files': ['manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/312605e6226a3cd5fa94bb4f841fe08a98ac09d4', 'message': 'Replace deprecated is_string method\n\nCloses-Bug: #1939088\nChange-Id: If8f085b73f21018e05eefc907071a69a665ce879\n'}]",0,803663,312605e6226a3cd5fa94bb4f841fe08a98ac09d4,9,3,2,9816,,,0,"Replace deprecated is_string method

Closes-Bug: #1939088
Change-Id: If8f085b73f21018e05eefc907071a69a665ce879
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/63/803663/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cache.pp'],1,d7fa30ecbd3682eafe66beef2605e3c8d25bbf98,bug/1939088," $memcache_servers_array = $memcache_servers { String => split($memcache_servers, ','), default => $memcache_servers"," if is_string($memcache_servers) { $memcache_servers_array = split($memcache_servers, ',') } else { $memcache_servers_array = $memcache_servers",3,4
openstack%2Fos-brick~master~I62fadd401591025ecf9f83fa095249008f75bbaa,openstack/os-brick,master,I62fadd401591025ecf9f83fa095249008f75bbaa,LVM: Retry lv calls on segfault due to lvs failure,MERGED,2021-06-29 20:06:07.000000000,2021-08-09 18:30:12.000000000,2021-08-09 18:28:48.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 20:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1c9940758e015724aa681c3af0497de0486db685', 'message': ""LVM: Retry lv calls on segfault due to lvs failure\n\nFollow-up to 0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247 and I6824ba4f.\n\nSometimes we get an unexpected failure on the lvs command where it exits\nwith code 139, which is not one of the 5 predefined ones in the code\nECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or\nECMD_FAILED.\n\nSince the LVM code indicates that a retry can help, we'll retry on error\n139 when calling ``get_lv_info``. Retry lvdisplay, lvs and lvcreate calls\non segfault.\n\nIn addition, we only need readonly mode for lvdisplay.\n\nCo-Authored-By: Gorka Eguileor <geguileo@redhat.com>\nCo-Authored-By: Eric Harney <eharney@redhat.com>\nCloses-Bug: #1901783\nChange-Id: I62fadd401591025ecf9f83fa095249008f75bbaa\n""}, {'number': 2, 'created': '2021-06-30 17:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cf7e43808d9fa985ec4e50f404de64a18f73b7ff', 'message': ""LVM: Retry lv calls on segfault due to lvs failure\n\nFollow-up to 0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247 and I6824ba4f.\n\nSometimes we get an unexpected failure on the lvs command where it exits\nwith code 139, which is not one of the 5 predefined ones in the code\nECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or\nECMD_FAILED.\n\nSince the LVM code indicates that a retry can help, we'll retry on error\n139 when calling ``get_lv_info``. Retry lvdisplay, lvs and lvcreate calls\non segfault.\n\nIn addition, we only need readonly mode for lvdisplay.\n\nCo-Authored-By: Gorka Eguileor <geguileo@redhat.com>\nCo-Authored-By: Eric Harney <eharney@redhat.com>\nCloses-Bug: #1901783\nChange-Id: I62fadd401591025ecf9f83fa095249008f75bbaa\n""}, {'number': 3, 'created': '2021-07-23 16:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/acba029822fe9089ea9392b225a1fe929748c93d', 'message': ""LVM: Retry lv calls on segfault due to lvs failure\n\nFollow-up to 0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247 and I6824ba4f.\n\nSometimes we get an unexpected failure on the lvs command where it exits\nwith code 139, which is not one of the 5 predefined ones in the code\nECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or\nECMD_FAILED.\n\nSince the LVM code indicates that a retry can help, we'll retry on error\n139 when calling ``get_lv_info``. Retry lvdisplay, lvs and lvcreate calls\non segfault.\n\nIn addition, we only need readonly mode for lvdisplay.\n\nCo-Authored-By: Gorka Eguileor <geguileo@redhat.com>\nCo-Authored-By: Eric Harney <eharney@redhat.com>\nCloses-Bug: #1901783\nChange-Id: I62fadd401591025ecf9f83fa095249008f75bbaa\n""}, {'number': 4, 'created': '2021-07-26 15:19:40.000000000', 'files': ['os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'releasenotes/notes/lvm-delete-error-76f2cc9d8dc91f01.yaml', 'os_brick/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/local_dev/lvm.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/test_utils.py', 'os_brick/tests/local_dev/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/80f0bc4f5d0a1be0871331b9fbaf6657403a5e05', 'message': ""LVM: Retry lv calls on segfault due to lvs failure\n\nFollow-up to 0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247 and I6824ba4f.\n\nSometimes we get an unexpected failure on the lvs command where it exits\nwith code 139, which is not one of the 5 predefined ones in the code\nECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or\nECMD_FAILED.\n\nSince the LVM code indicates that a retry can help, we'll retry on error\n139 when calling ``get_lv_info``. Retry lvdisplay, lvs and lvcreate calls\non segfault.\n\nIn addition, we only need readonly mode for lvdisplay.\n\nCo-Authored-By: Gorka Eguileor <geguileo@redhat.com>\nCo-Authored-By: Eric Harney <eharney@redhat.com>\nCloses-Bug: #1901783\nChange-Id: I62fadd401591025ecf9f83fa095249008f75bbaa\n""}]",2,798743,80f0bc4f5d0a1be0871331b9fbaf6657403a5e05,45,5,4,20813,,,0,"LVM: Retry lv calls on segfault due to lvs failure

Follow-up to 0b2c0d9238b6f84a02fcd82f97bc5a2d9f681247 and I6824ba4f.

Sometimes we get an unexpected failure on the lvs command where it exits
with code 139, which is not one of the 5 predefined ones in the code
ECMD_PROCESSED, ENO_SUCH_CMD, EINVALID_CMD_LINE, EINIT_FAILED, or
ECMD_FAILED.

Since the LVM code indicates that a retry can help, we'll retry on error
139 when calling ``get_lv_info``. Retry lvdisplay, lvs and lvcreate calls
on segfault.

In addition, we only need readonly mode for lvdisplay.

Co-Authored-By: Gorka Eguileor <geguileo@redhat.com>
Co-Authored-By: Eric Harney <eharney@redhat.com>
Closes-Bug: #1901783
Change-Id: I62fadd401591025ecf9f83fa095249008f75bbaa
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/43/798743/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/utils.py', 'releasenotes/notes/lvm-delete-error-76f2cc9d8dc91f01.yaml', 'os_brick/local_dev/lvm.py', 'os_brick/tests/test_utils.py', 'os_brick/tests/local_dev/test_brick_lvm.py']",5,1c9940758e015724aa681c3af0497de0486db685,change-798743-2,"from os_brick import executor as os_brick_executor @mock.patch('tenacity.nap.sleep', mock.Mock()) @mock.patch.object(brick.putils, 'execute') def test_get_lv_info_retry(self, exec_mock): exec_mock.side_effect = ( processutils.ProcessExecutionError('', '', exit_code=139), ('vg name size', ''), ) self.assertEqual( [{'name': 'name', 'vg': 'vg', 'size': 'size'}], self.vg.get_lv_info('sudo', vg_name='vg', lv_name='name') ) self.assertEqual(2, exec_mock.call_count) args = ['env', 'LC_ALL=C', 'lvs', '--noheadings', '--unit=g', '-o', 'vg_name,name,size', '--nosuffix', '--readonly', 'vg/name'] if self.configuration.lvm_suppress_fd_warnings: args.insert(2, 'LVM_SUPPRESS_FD_WARNINGS=1') lvs_call = mock.call(*args, root_helper='sudo', run_as_root=True) exec_mock.assert_has_calls([lvs_call, lvs_call]) @mock.patch('tenacity.nap.sleep', mock.Mock()) @mock.patch.object(os_brick_executor.Executor, '_execute') def test_get_thin_pool_free_space_retry(self, exec_mock): exec_mock.side_effect = ( processutils.ProcessExecutionError('', '', exit_code=139), ('15.84:50', ''), ) self.assertEqual( 7.92, self.vg._get_thin_pool_free_space('vg', 'thinpool') ) self.assertEqual(2, exec_mock.call_count) args = ['env', 'LC_ALL=C', 'lvs', '--noheadings', '--unit=g', '-o', 'size,data_percent', '--separator', ':', '--nosuffix', '/dev/vg/thinpool'] if self.configuration.lvm_suppress_fd_warnings: args.insert(2, 'LVM_SUPPRESS_FD_WARNINGS=1') lvs_call = mock.call(*args, root_helper='sudo', run_as_root=True) exec_mock.assert_has_calls([lvs_call, lvs_call]) with mock.patch.object(self.vg, '_execute', return_value=(0, 0)): with mock.patch.object(self.vg, '_execute', return_value=(0, 0)):"," with mock.patch.object(self.vg, '_execute'): with mock.patch.object(self.vg, '_execute'):",120,27
openstack%2Fpuppet-tempest~master~Ib7268c7b4c91ff45a0042207056b1895d4f0c085,openstack/puppet-tempest,master,Ib7268c7b4c91ff45a0042207056b1895d4f0c085,Fix the wrong default of tempest::panko_available,MERGED,2021-08-06 01:13:10.000000000,2021-08-09 18:29:17.000000000,2021-08-09 18:29:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 01:13:10.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/e95ab78c017ee61c009b040a3b0811cb977e7d47', 'message': 'Fix the wrong default of tempest::panko_available\n\nCurrently the following warning message is always shown when using\nthe tempest class.\n\nScope(Class[Tempest]) (warning): The panko_available parameter has been\ndeprecated and has no effect\n\nThis change fixes the wrong default value of the panko_available\nparameter which is causing that warning even if the parameter is not\nused.\n\nChange-Id: Ib7268c7b4c91ff45a0042207056b1895d4f0c085\n'}]",0,803660,e95ab78c017ee61c009b040a3b0811cb977e7d47,7,3,1,9816,,,0,"Fix the wrong default of tempest::panko_available

Currently the following warning message is always shown when using
the tempest class.

Scope(Class[Tempest]) (warning): The panko_available parameter has been
deprecated and has no effect

This change fixes the wrong default value of the panko_available
parameter which is causing that warning even if the parameter is not
used.

Change-Id: Ib7268c7b4c91ff45a0042207056b1895d4f0c085
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/60/803660/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,e95ab78c017ee61c009b040a3b0811cb977e7d47,," $panko_available = undef,"," $panko_available = false,",1,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I554d8677156934c4d49acb1346afea16339ad5c2,openstack/tripleo-heat-templates,stable/victoria,I554d8677156934c4d49acb1346afea16339ad5c2,Drop CollectdAmqpInstances from collectd-write-qdr.yaml,ABANDONED,2021-08-09 18:21:01.000000000,2021-08-09 18:22:48.000000000,,[],"[{'number': 1, 'created': '2021-08-09 18:21:01.000000000', 'files': ['releasenotes/notes/collectd-write-qdr-f790703e3f0c3245.yaml', 'environments/metrics/collectd-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27ec38eb959f91d8c4ef5fe471b2ed4c4061c2ff', 'message': 'Drop CollectdAmqpInstances from collectd-write-qdr.yaml\n\nDrop the CollectdAmqpInstances parameter from collectd-write-qdr.yaml in\norder to allow an administrator to override the default specified\ntopics. If the administrator of the cloud used collectd-write-qdr.yaml\nand then needed to override the topics, a merge of the defaults and\ncustom topics would be added to the 10-amqp.conf for collectd, resulting\nin data being published to unused topics.\n\nChange-Id: I554d8677156934c4d49acb1346afea16339ad5c2\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,803960,27ec38eb959f91d8c4ef5fe471b2ed4c4061c2ff,2,0,1,7294,,,0,"Drop CollectdAmqpInstances from collectd-write-qdr.yaml

Drop the CollectdAmqpInstances parameter from collectd-write-qdr.yaml in
order to allow an administrator to override the default specified
topics. If the administrator of the cloud used collectd-write-qdr.yaml
and then needed to override the topics, a merge of the defaults and
custom topics would be added to the 10-amqp.conf for collectd, resulting
in data being published to unused topics.

Change-Id: I554d8677156934c4d49acb1346afea16339ad5c2
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/803960/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/collectd-write-qdr-f790703e3f0c3245.yaml', 'environments/metrics/collectd-write-qdr.yaml']",2,27ec38eb959f91d8c4ef5fe471b2ed4c4061c2ff,,"<<<<<<< HEAD (5d89cd Merge ""Enabling vhost-postcopy-support when live_migration_p)======= CollectdAmqpSendQueueLimit: 40 >>>>>>> CHANGE (591f2a Drop CollectdAmqpInstances from collectd-write-qdr.yaml)",,20,0
openstack%2Fcinder~master~I277120267c84097282fac291ec7214464a9062d2,openstack/cinder,master,I277120267c84097282fac291ec7214464a9062d2,Tests: Fix InvalidUUID warnings,MERGED,2021-07-12 14:53:32.000000000,2021-08-09 18:21:49.000000000,2021-08-09 18:19:48.000000000,"[{'_account_id': 5997}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-12 14:53:32.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/tests/unit/test_volume_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f55f05a96181d2cc65b3a95bf4436186fe1e25f', 'message': 'Tests: Fix InvalidUUID warnings\n\nCause fewer warning messages to be printed when running\nunit tests.\n\nChange-Id: I277120267c84097282fac291ec7214464a9062d2\n'}]",1,800490,4f55f05a96181d2cc65b3a95bf4436186fe1e25f,27,4,1,4523,,,0,"Tests: Fix InvalidUUID warnings

Cause fewer warning messages to be printed when running
unit tests.

Change-Id: I277120267c84097282fac291ec7214464a9062d2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/800490/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/tests/unit/test_volume_utils.py']",2,4f55f05a96181d2cc65b3a95bf4436186fe1e25f,," 'volume_type_id': fake.VOLUME_TYPE_ID, 'id': fake.VOLUME_ID, 'volume_type': fake.VOLUME_TYPE_ID, 'volume_id': fake.VOLUME_ID,"," 'volume_type_id': 'fake_volume_type_id', 'id': 'fake_volume_id', 'volume_type': 'fake_volume_type_id', 'volume_id': 'fake_volume_id',",6,6
openstack%2Fnova~master~I714dce969088e17caaa1daddc881ebca6834e0f1,openstack/nova,master,I714dce969088e17caaa1daddc881ebca6834e0f1,db: Register database config options ourselves,MERGED,2021-07-05 16:25:44.000000000,2021-08-09 18:21:20.000000000,2021-08-09 18:19:42.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d21d4974bbf206e69db8d81ee6f435a5859795d', 'message': 'db: Register database config options ourselves\n\nDeep copy the database options, allowing us to reuse them exactly. This\nwas actually suggested in I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39,\nwhich added the current code but was rejected at the time because it\n""would make our lives harder when we need to deprecate those cloned API\nDB opts."" I don\'t know why we\'d ever want to deprecate the cloned\noptions so I see no reason not to take this approach now. Doing so\nresults in less complicated/weird code and also sets us up nicely for\nfuture changes that\'ll remove some of the now unnecessary abstraction\nlayers provided by oslo.db.\n\nChange-Id: I714dce969088e17caaa1daddc881ebca6834e0f1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-08-09 14:37:59.000000000', 'files': ['nova/conf/database.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/84b61790763f91e12eebb96d955e2f83abc00d56', 'message': 'db: Register database config options ourselves\n\nDeep copy the database options, allowing us to reuse them exactly. This\nwas actually suggested in I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39,\nwhich added the current code but was rejected at the time because it\n""would make our lives harder when we need to deprecate those cloned API\nDB opts."" I don\'t know why we\'d ever want to deprecate the cloned\noptions so I see no reason not to take this approach now. Doing so\nresults in less complicated/weird code and also sets us up nicely for\nfuture changes that\'ll remove some of the now unnecessary abstraction\nlayers provided by oslo.db.\n\nChange-Id: I714dce969088e17caaa1daddc881ebca6834e0f1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,799523,84b61790763f91e12eebb96d955e2f83abc00d56,79,5,2,15334,,,0,"db: Register database config options ourselves

Deep copy the database options, allowing us to reuse them exactly. This
was actually suggested in I7b74c4bb4a3edc335523c62ec63e57fdd5c51f39,
which added the current code but was rejected at the time because it
""would make our lives harder when we need to deprecate those cloned API
DB opts."" I don't know why we'd ever want to deprecate the cloned
options so I see no reason not to take this approach now. Doing so
results in less complicated/weird code and also sets us up nicely for
future changes that'll remove some of the now unnecessary abstraction
layers provided by oslo.db.

Change-Id: I714dce969088e17caaa1daddc881ebca6834e0f1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/799523/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/nova/nova-config-generator.conf', 'nova/conf/database.py']",2,8d21d4974bbf206e69db8d81ee6f435a5859795d,bp/remove-sqlalchemy-migrate,"import copy from oslo_db import options as oslo_db_opts main_db_group = cfg.OptGroup( name='database', title='Main Database Options', help="""""" The *Nova Database* is the primary database which is used for information local to a *cell*. This group should **not** be configured for the ``nova-compute`` service. """""") api_db_group = cfg.OptGroup( name='api_database',# NOTE(stephenfin): We cannot simply use 'oslo_db_options.database_opts' # directly. If we reuse a db config option for two different groups # (""api_database"" and ""database"") and deprecate or rename a config option in # one of these groups, ""oslo.config"" cannot correctly determine which one to # update. That's why we copy these. main_db_opts = copy.deepcopy(oslo_db_opts.database_opts) api_db_opts = copy.deepcopy(oslo_db_opts.database_opts) # TODO(stephenfin): Enable this once we drop use of # 'oslo_db.api.DBAPI.from_config' # conf.register_opts(copy.deepcopy(main_db_opts), group=main_db_group) conf.register_opts(copy.deepcopy(api_db_opts), group=api_db_group) return { # TODO(stephenfin): Enable this once we drop use of # 'oslo_db.api.DBAPI.from_config' # main_db_group: main_db_opts,","from oslo_db import options as oslo_db_options _ENRICHED = False # NOTE(markus_z): We cannot simply do: # conf.register_opts(oslo_db_options.database_opts, 'api_database') # If we reuse a db config option for two different groups (""api_database"" # and ""database"") and deprecate or rename a config option in one of these # groups, ""oslo.config"" cannot correctly determine which one to update. # That's why we copied & pasted these config options for the ""api_database"" # group here. See commit ba407e3 (""Add support for multiple database engines"") # for more details. api_db_group = cfg.OptGroup('api_database',api_db_opts = [ # TODO(markus_z): This should probably have a required=True attribute cfg.StrOpt('connection', secret=True, # This help gets appended to the oslo.db help so prefix with a space. help=' Do not set this for the ``nova-compute`` service.'), cfg.StrOpt('connection_parameters', default='', help=''), cfg.BoolOpt('sqlite_synchronous', default=True, help=''), cfg.StrOpt('slave_connection', secret=True, help=''), cfg.StrOpt('mysql_sql_mode', default='TRADITIONAL', help=''), cfg.IntOpt('connection_recycle_time', default=3600, deprecated_name='idle_timeout', help=''), # TODO(markus_z): We should probably default this to 5 to not rely on the # SQLAlchemy default. Otherwise we wouldn't provide a stable default. cfg.IntOpt('max_pool_size', help=''), cfg.IntOpt('max_retries', default=10, help=''), # TODO(markus_z): This should have a minimum attribute of 0 cfg.IntOpt('retry_interval', default=10, help=''), # TODO(markus_z): We should probably default this to 10 to not rely on the # SQLAlchemy default. Otherwise we wouldn't provide a stable default. cfg.IntOpt('max_overflow', help=''), # TODO(markus_z): This should probably make use of the ""choices"" attribute. # ""oslo.db"" uses only the values [<0, 0, 50, 100] see module # /oslo_db/sqlalchemy/engines.py method ""_setup_logging"" cfg.IntOpt('connection_debug', default=0, help=''), cfg.BoolOpt('connection_trace', default=False, help=''), # TODO(markus_z): We should probably default this to 30 to not rely on the # SQLAlchemy default. Otherwise we wouldn't provide a stable default. cfg.IntOpt('pool_timeout', help='') ] # noqa def enrich_help_text(alt_db_opts): def get_db_opts(): for group_name, db_opts in oslo_db_options.list_opts(): if group_name == 'database': return db_opts return [] for db_opt in get_db_opts(): for alt_db_opt in alt_db_opts: if alt_db_opt.name == db_opt.name: # NOTE(markus_z): We can append alternative DB specific help # texts here if needed. alt_db_opt.help = db_opt.help + alt_db_opt.help conf.register_opts(api_db_opts, group=api_db_group) # NOTE(markus_z): 2016-04-04: If we list the oslo_db_options here, they # get emitted twice(!) in the ""sample.conf"" file. First under the # namespace ""nova.conf"" and second under the namespace ""oslo.db"". This # is due to the setting in file ""etc/nova/nova-config-generator.conf"". # As I think it is useful to have the ""oslo.db"" namespace information # in the ""sample.conf"" file, I omit the listing of the ""oslo_db_options"" # here. global _ENRICHED if not _ENRICHED: enrich_help_text(api_db_opts) _ENRICHED = True return {",27,91
openstack%2Fpuppet-openstack-integration~master~Ib7c72a5b1f1ee25079dca7f2998b8716a1ed3932,openstack/puppet-openstack-integration,master,Ib7c72a5b1f1ee25079dca7f2998b8716a1ed3932,qdr: replace yes/no by true/false,MERGED,2021-08-06 12:12:35.000000000,2021-08-09 18:18:22.000000000,2021-08-09 18:18:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 12:12:35.000000000', 'files': ['manifests/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/72bf40fd58b788bf467f53a9c62320517e14412a', 'message': 'qdr: replace yes/no by true/false\n\n... because usage of yes/no was deprecated in puppet-qdr.\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-qdr/+/777404\nChange-Id: Ib7c72a5b1f1ee25079dca7f2998b8716a1ed3932\n'}]",0,803739,72bf40fd58b788bf467f53a9c62320517e14412a,9,3,1,9816,,,0,"qdr: replace yes/no by true/false

... because usage of yes/no was deprecated in puppet-qdr.

Depends-on: https://review.opendev.org/c/openstack/puppet-qdr/+/777404
Change-Id: Ib7c72a5b1f1ee25079dca7f2998b8716a1ed3932
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/39/803739/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/qdr.pp'],1,72bf40fd58b788bf467f53a9c62320517e14412a,qdr-boolean," listener_require_ssl => true, listener_auth_peer => true, listener_auth_peer => true,"," listener_require_ssl => 'yes', listener_auth_peer => 'yes', listener_auth_peer => 'yes',",3,3
openstack%2Frally-openstack~master~I9b9f339e758547e059080b247c8bd8bcf1b749ee,openstack/rally-openstack,master,I9b9f339e758547e059080b247c8bd8bcf1b749ee,Stop using removed option [scenario]/img_dir,MERGED,2021-05-18 14:58:37.000000000,2021-08-09 17:59:32.000000000,2021-08-09 17:59:32.000000000,"[{'_account_id': 1736}, {'_account_id': 4428}, {'_account_id': 5948}, {'_account_id': 6172}, {'_account_id': 6835}, {'_account_id': 7369}, {'_account_id': 7428}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 11748}, {'_account_id': 12395}, {'_account_id': 20498}, {'_account_id': 21528}, {'_account_id': 22348}, {'_account_id': 22960}]","[{'number': 1, 'created': '2021-05-18 14:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7db5d4ffe6231d2d8a2e8b313ce05174f3c51018', 'message': 'Remove use of [scenario]/img_dir option\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse img_file with a full path to the image instead.\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\n'}, {'number': 2, 'created': '2021-05-19 06:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1e26100468b4cd5a3cc9bfa87210d5c0ca7708a3', 'message': 'Remove use of [scenario]/img_dir option\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse img_file with a full path to the image instead.\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\nDepends-On: https://review.opendev.org/c/openstack/rally/+/792073\n'}, {'number': 3, 'created': '2021-05-19 07:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ceef86e3007f58c38dbc7ce82c70f6d36ff27ade', 'message': 'Remove use of [scenario]/img_dir option\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse img_file with a full path to the image instead.\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\nDepends-On: https://review.opendev.org/c/openstack/rally/+/792073\n'}, {'number': 4, 'created': '2021-05-19 10:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/25279a5d1faa279d045f56a69acf40a6f9528965', 'message': 'Stop using removed option [scenario]/img_dir\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse [scenario]/img_file with a full path to the image instead.\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\n'}, {'number': 5, 'created': '2021-07-13 11:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/efeba4ba8b95128d026c8025cb236d49dcaff2c4', 'message': 'Stop using removed option [scenario]/img_dir\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse [scenario]/img_file with a full path to the image instead.\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\n'}, {'number': 6, 'created': '2021-07-13 12:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0f1dc4aceb9a8c3b59cb7ce6e2d9a117ecd1e7ef', 'message': 'Stop using removed option [scenario]/img_dir\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse [scenario]/img_file with a full path to the image instead.\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\n'}, {'number': 7, 'created': '2021-07-13 12:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ed18bcc721d09ae7ebd7f4827622c45a21242cab', 'message': 'Stop using removed option [scenario]/img_dir\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse [scenario]/img_file with a full path to the image instead.\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\n'}, {'number': 8, 'created': '2021-07-13 12:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/841b5d9159239c2548797002ff5b3048e3629e5c', 'message': 'Stop using removed option [scenario]/img_dir\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse [scenario]/img_file with a full path to the image instead.\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\n'}, {'number': 9, 'created': '2021-07-13 13:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d7c3ca0e426f2757f34d5e9a46a1ef475c941eb3', 'message': 'Stop using removed option [scenario]/img_dir\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse [scenario]/img_file with a full path to the image instead.\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\n'}, {'number': 10, 'created': '2021-07-13 13:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/64d7f596d331cf35254892101efa1e35c236fa8b', 'message': 'Stop using removed option [scenario]/img_dir\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse [scenario]/img_file with a full path to the image instead.\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\n'}, {'number': 11, 'created': '2021-08-09 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/48f47ca0ab83e2d6ff39aeae710f9bedfb75b487', 'message': 'Stop using removed option [scenario]/img_dir\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse [scenario]/img_file with a full path to the image instead.\n\n+ skip several tests at CI\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\n'}, {'number': 12, 'created': '2021-08-09 14:33:04.000000000', 'files': ['tests/ci/rally_verify.py', 'tests/unit/verification/tempest/test_context.py', '.zuul.d/zuul.yaml', 'rally_openstack/verification/tempest/config.ini', 'rally_openstack/verification/tempest/context.py', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/eba9341bf980992f1659fe1aa89063cf604c3470', 'message': 'Stop using removed option [scenario]/img_dir\n\nThe [scenario]/img_dir configuration option was removed from tempest in\nversion 27.0.0. This makes test_minimum_basic_scenario fail with:\n\nTraceback (most recent call last):\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper\n    return f(*func_args, **func_kwargs)\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario\n    image = self.image_create()\n  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create\n    with open(img_path, \'rb\') as image_file:\nFileNotFoundError: [Errno 2] No such file or directory: \'tempest-image\'\n\nUse [scenario]/img_file with a full path to the image instead.\n\n+ skip several tests at CI\n\nCo-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>\n\nChange-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee\nCloses-Bug: #1928807\n'}]",1,791998,eba9341bf980992f1659fe1aa89063cf604c3470,30,15,12,15197,,,0,"Stop using removed option [scenario]/img_dir

The [scenario]/img_dir configuration option was removed from tempest in
version 27.0.0. This makes test_minimum_basic_scenario fail with:

Traceback (most recent call last):
  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/common/utils/__init__.py"", line 70, in wrapper
    return f(*func_args, **func_kwargs)
  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/test_minimum_basic.py"", line 109, in test_minimum_basic_scenario
    image = self.image_create()
  File ""/home/ubuntu/.rally/verification/verifier-434bee71-a8c0-480d-a511-11a2bc1bda97/repo/tempest/scenario/manager.py"", line 769, in image_create
    with open(img_path, 'rb') as image_file:
FileNotFoundError: [Errno 2] No such file or directory: 'tempest-image'

Use [scenario]/img_file with a full path to the image instead.

+ skip several tests at CI

Co-Authored-By: Andrey Kurilin <andr.kurilin@gmail.com>

Change-Id: I9b9f339e758547e059080b247c8bd8bcf1b749ee
Closes-Bug: #1928807
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/98/791998/12 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/verification/tempest/test_context.py', 'rally_openstack/verification/tempest/config.ini', 'rally_openstack/verification/tempest/context.py']",3,7db5d4ffe6231d2d8a2e8b313ce05174f3c51018,verify_fix," self._configure_option(""scenario"", ""img_file"", self.data_dir + '/' + self.image_name,"," self._configure_option(""scenario"", ""img_dir"", self.data_dir) self._configure_option(""scenario"", ""img_file"", self.image_name,",4,7
openstack%2Fkolla-ansible~stable%2Fussuri~I0103d7ef55e6aebe043a582d36f1a2efa137f447,openstack/kolla-ansible,stable/ussuri,I0103d7ef55e6aebe043a582d36f1a2efa137f447,Fix release note for ansible_facts,MERGED,2021-08-09 17:14:37.000000000,2021-08-09 17:47:10.000000000,2021-08-09 17:45:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-09 17:14:37.000000000', 'files': ['releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/998186750b8dcec797e30fee19ead83ff540e3a3', 'message': 'Fix release note for ansible_facts\n\nChange-Id: I0103d7ef55e6aebe043a582d36f1a2efa137f447\n(cherry picked from commit a08aaf7d8ec4f3f2f9434162f826b8d8f76fca6c)\n'}]",0,803954,998186750b8dcec797e30fee19ead83ff540e3a3,7,3,1,30491,,,0,"Fix release note for ansible_facts

Change-Id: I0103d7ef55e6aebe043a582d36f1a2efa137f447
(cherry picked from commit a08aaf7d8ec4f3f2f9434162f826b8d8f76fca6c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/803954/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml'],1,998186750b8dcec797e30fee19ead83ff540e3a3,," <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars>`__ in their Ansible configuration, which may provide some performance"," <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars> __ in their Ansible configuration, which may provide some performance",2,2
openstack%2Fopenstack-ansible-tests~stable%2Ftrain~I18de6fb455c7e91e22f5cbf703e640cf8dacbce1,openstack/openstack-ansible-tests,stable/train,I18de6fb455c7e91e22f5cbf703e640cf8dacbce1,Pin virtualenv version to before 16.7.11,MERGED,2021-08-09 13:52:05.000000000,2021-08-09 17:45:35.000000000,2021-08-09 17:44:22.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-08-09 13:52:05.000000000', 'files': ['run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5c993538fef20d7a3d7e58a2b140f727a49fa8d5', 'message': 'Pin virtualenv version to before 16.7.11\n\nRelease 16.7.11 of virtualenv [0] bumps the embedded version of\npip/setuptools/wheel to one which uses the new resolver (21.1.3)\nand this breaks code which works with the old resolver but is\nnot compatible with the new resolver.\n\n[0] https://virtualenv.pypa.io/en/legacy/changes.html#v16-7-11-2020-07-20\n\nChange-Id: I18de6fb455c7e91e22f5cbf703e640cf8dacbce1\n'}]",0,803930,5c993538fef20d7a3d7e58a2b140f727a49fa8d5,8,3,1,25023,,,0,"Pin virtualenv version to before 16.7.11

Release 16.7.11 of virtualenv [0] bumps the embedded version of
pip/setuptools/wheel to one which uses the new resolver (21.1.3)
and this breaks code which works with the old resolver but is
not compatible with the new resolver.

[0] https://virtualenv.pypa.io/en/legacy/changes.html#v16-7-11-2020-07-20

Change-Id: I18de6fb455c7e91e22f5cbf703e640cf8dacbce1
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/30/803930/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,5c993538fef20d7a3d7e58a2b140f727a49fa8d5,,sudo pip install 'bindep>=2.4.0' tox 'virtualenv<16.7.11',sudo pip install 'bindep>=2.4.0' tox 'virtualenv<20',1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I0103d7ef55e6aebe043a582d36f1a2efa137f447,openstack/kolla-ansible,stable/wallaby,I0103d7ef55e6aebe043a582d36f1a2efa137f447,Fix release note for ansible_facts,MERGED,2021-08-09 17:14:19.000000000,2021-08-09 17:43:19.000000000,2021-08-09 17:41:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-09 17:14:19.000000000', 'files': ['releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cbda3c3b20bef4add3656417c18c5f2ccd9ac406', 'message': 'Fix release note for ansible_facts\n\nChange-Id: I0103d7ef55e6aebe043a582d36f1a2efa137f447\n(cherry picked from commit a08aaf7d8ec4f3f2f9434162f826b8d8f76fca6c)\n'}]",0,803952,cbda3c3b20bef4add3656417c18c5f2ccd9ac406,7,3,1,30491,,,0,"Fix release note for ansible_facts

Change-Id: I0103d7ef55e6aebe043a582d36f1a2efa137f447
(cherry picked from commit a08aaf7d8ec4f3f2f9434162f826b8d8f76fca6c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/803952/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml'],1,cbda3c3b20bef4add3656417c18c5f2ccd9ac406,," <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars>`__ in their Ansible configuration, which may provide some performance"," <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars> __ in their Ansible configuration, which may provide some performance",2,2
openstack%2Fkolla-ansible~stable%2Fvictoria~I0103d7ef55e6aebe043a582d36f1a2efa137f447,openstack/kolla-ansible,stable/victoria,I0103d7ef55e6aebe043a582d36f1a2efa137f447,Fix release note for ansible_facts,MERGED,2021-08-09 17:14:29.000000000,2021-08-09 17:43:17.000000000,2021-08-09 17:41:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-09 17:14:29.000000000', 'files': ['releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f95f846d5215d5abae6a83ec9969804e4b14368b', 'message': 'Fix release note for ansible_facts\n\nChange-Id: I0103d7ef55e6aebe043a582d36f1a2efa137f447\n(cherry picked from commit a08aaf7d8ec4f3f2f9434162f826b8d8f76fca6c)\n'}]",0,803953,f95f846d5215d5abae6a83ec9969804e4b14368b,7,3,1,30491,,,0,"Fix release note for ansible_facts

Change-Id: I0103d7ef55e6aebe043a582d36f1a2efa137f447
(cherry picked from commit a08aaf7d8ec4f3f2f9434162f826b8d8f76fca6c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/803953/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml'],1,f95f846d5215d5abae6a83ec9969804e4b14368b,," <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars>`__ in their Ansible configuration, which may provide some performance"," <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars> __ in their Ansible configuration, which may provide some performance",2,2
openstack%2Ftempest~master~I6957c3ee1f3d60e7b8cd34d3db89bb27347d08b7,openstack/tempest,master,I6957c3ee1f3d60e7b8cd34d3db89bb27347d08b7,Adds exception.Conflict handler to is_resource_delete function,MERGED,2021-07-30 16:08:55.000000000,2021-08-09 17:38:02.000000000,2021-08-09 17:36:20.000000000,"[{'_account_id': 8556}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-07-30 16:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9d5a091a5737573e9c69cdaa3057b85af97b7338', 'message': ""Swift API get_objects returns 409 when object delete in progress.\nHTTP 409 is converted to exception.Conflict and raised\nUpdated is_resource_deleted check to handle exception.Conflict\n  and return False (Object is not deleted)\nIf the exception is not handled the test cases fails with the error\nb'BucketAlreadyExists which is not correct status for a bucket\nwhich is being deleted by the tempest tearDown call.\n\nCloses-Bug: #1938583\nChange-Id: I6957c3ee1f3d60e7b8cd34d3db89bb27347d08b7\n""}, {'number': 2, 'created': '2021-07-30 16:11:06.000000000', 'files': ['tempest/lib/services/object_storage/object_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/717cc793dba2aa8f5da5d212f6e0118b92dcd1d3', 'message': ""Adds exception.Conflict handler to is_resource_delete function\n\nSwift API get_objects returns 409 when object delete in progress.\nHTTP 409 is converted to exception.Conflict and raised\nUpdated is_resource_deleted check to handle exception.Conflict\n  and return False (Object is not deleted)\nIf the exception is not handled the test cases fails with the error\nb'BucketAlreadyExists which is not correct status for a bucket\nwhich is being deleted by the tempest tearDown call.\n\nCloses-Bug: #1938583\nChange-Id: I6957c3ee1f3d60e7b8cd34d3db89bb27347d08b7\n""}]",0,803058,717cc793dba2aa8f5da5d212f6e0118b92dcd1d3,9,5,2,30515,,,0,"Adds exception.Conflict handler to is_resource_delete function

Swift API get_objects returns 409 when object delete in progress.
HTTP 409 is converted to exception.Conflict and raised
Updated is_resource_deleted check to handle exception.Conflict
  and return False (Object is not deleted)
If the exception is not handled the test cases fails with the error
b'BucketAlreadyExists which is not correct status for a bucket
which is being deleted by the tempest tearDown call.

Closes-Bug: #1938583
Change-Id: I6957c3ee1f3d60e7b8cd34d3db89bb27347d08b7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/803058/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/object_storage/object_client.py'],1,9d5a091a5737573e9c69cdaa3057b85af97b7338,defect-1938583-01, except exceptions.Conflict: return False,,2,0
openstack%2Fsushy~master~I935b5265831cea007a7252961a7571b34b06d418,openstack/sushy,master,I935b5265831cea007a7252961a7571b34b06d418,Add lower-constraints job to current development branch,MERGED,2021-08-05 13:25:23.000000000,2021-08-09 17:24:26.000000000,2021-08-09 11:22:10.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 13:25:23.000000000', 'files': ['lower-constraints.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/6669a29b9d195205eb1e7d8d717e007a73931e8f', 'message': 'Add lower-constraints job to current development branch\n\nThe lower-constraints test was removed because of an issue where pip\ncould not correctly determine the required packages versions to install,\nending in an almost infinite loop that would end up in timeout, failure,\nand general mayhem.\nRecently the issue has been fixed and, if properly configured, the\nlower-constraints test can provide good indication of which minimum\nversions are required to support the current code.\nThis patch adds the test back to the current development branch, and it\nruns only on master.\nThe lower-constraints file will stay in the future stable branches.\n\nChange-Id: I935b5265831cea007a7252961a7571b34b06d418\n'}]",0,803601,6669a29b9d195205eb1e7d8d717e007a73931e8f,15,3,1,23851,,,0,"Add lower-constraints job to current development branch

The lower-constraints test was removed because of an issue where pip
could not correctly determine the required packages versions to install,
ending in an almost infinite loop that would end up in timeout, failure,
and general mayhem.
Recently the issue has been fixed and, if properly configured, the
lower-constraints test can provide good indication of which minimum
versions are required to support the current code.
This patch adds the test back to the current development branch, and it
runs only on master.
The lower-constraints file will stay in the future stable branches.

Change-Id: I935b5265831cea007a7252961a7571b34b06d418
",git fetch https://review.opendev.org/openstack/sushy refs/changes/01/803601/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml']",2,6669a29b9d195205eb1e7d8d717e007a73931e8f,lower-constraints-revamp, - openstack-lower-constraints-master-branch-jobs,,10,0
openstack%2Fpuppet-ironic~stable%2Fwallaby~I24e2bbb915b6932dcb5b1f535b1771eb4fc8af90,openstack/puppet-ironic,stable/wallaby,I24e2bbb915b6932dcb5b1f535b1771eb4fc8af90,Prepare a new Wallaby release,MERGED,2021-07-21 01:28:39.000000000,2021-08-09 17:00:23.000000000,2021-08-09 17:00:23.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-21 01:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e2b132134b82ea6e5fc197987f4ba2cedfd80ab6', 'message': ""Prepare a new Wallaby release\n\nWe have merged several fixes about ipxe support mainly to align\nconfiguration with some changes made in Ironic during recent cycles.\nLet's create a new release at this moment to provide a transition path\nbefore we create the initial release for Xena.\n\nChange-Id: I24e2bbb915b6932dcb5b1f535b1771eb4fc8af90\n""}, {'number': 2, 'created': '2021-07-22 15:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/913b1c3119ef55b586343551a17350823383f27f', 'message': ""Prepare a new Wallaby release\n\nWe have merged several fixes about ipxe support mainly to align\nconfiguration with some changes made in Ironic during recent cycles.\nLet's create a new release at this moment to provide a transition path\nbefore we create the initial release for Xena.\n\nChange-Id: I24e2bbb915b6932dcb5b1f535b1771eb4fc8af90\n""}, {'number': 3, 'created': '2021-07-22 16:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/eda70713e6717c157c3895145d87c7290183bb9b', 'message': ""Prepare a new Wallaby release\n\nWe have merged several fixes about ipxe support mainly to align\nconfiguration with some changes made in Ironic during recent cycles.\nLet's create a new release at this moment to provide a transition path\nbefore we create the initial release for Xena.\n\nChange-Id: I24e2bbb915b6932dcb5b1f535b1771eb4fc8af90\n""}, {'number': 4, 'created': '2021-07-22 17:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/8d0669c7eeb7099dd0ac7707ffdb24a945f062b4', 'message': ""Prepare a new Wallaby release\n\nWe have merged several fixes about ipxe support mainly to align\nconfiguration with some changes made in Ironic during recent cycles.\nLet's create a new release at this moment to provide a transition path\nbefore we create the initial release for Xena.\n\nChange-Id: I24e2bbb915b6932dcb5b1f535b1771eb4fc8af90\n""}, {'number': 5, 'created': '2021-07-27 14:18:07.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a7f1c26d984717042bed04276dc479424884d486', 'message': ""Prepare a new Wallaby release\n\nWe have merged several fixes about ipxe support mainly to align\nconfiguration with some changes made in Ironic during recent cycles.\nLet's create a new release at this moment to provide a transition path\nbefore we create the initial release for Xena.\n\nChange-Id: I24e2bbb915b6932dcb5b1f535b1771eb4fc8af90\n""}]",0,801552,a7f1c26d984717042bed04276dc479424884d486,16,5,5,9816,,,0,"Prepare a new Wallaby release

We have merged several fixes about ipxe support mainly to align
configuration with some changes made in Ironic during recent cycles.
Let's create a new release at this moment to provide a transition path
before we create the initial release for Xena.

Change-Id: I24e2bbb915b6932dcb5b1f535b1771eb4fc8af90
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/52/801552/5 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,e2b132134b82ea6e5fc197987f4ba2cedfd80ab6,ipxe-fix-w," ""version"": ""18.5.0"""," ""version"": ""18.4.0""",1,1
openstack%2Fpuppet-horizon~master~I152d42fdfd0f1a1f4987feee7a9b64ab239438f4,openstack/puppet-horizon,master,I152d42fdfd0f1a1f4987feee7a9b64ab239438f4,Remove Fedora from the supported operating systems,MERGED,2021-08-07 02:41:50.000000000,2021-08-09 16:59:21.000000000,2021-08-09 16:59:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-07 02:41:50.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/20c1bc47a27f3fb9950f7ee94e32816215267958', 'message': 'Remove Fedora from the supported operating systems\n\nFedora support was dropped by 6a606c65e4db6c1ab7f22a144efb7f2995f06722\nbut it was still left in metadata.json. This change removes that\nleftover.\n\nChange-Id: I152d42fdfd0f1a1f4987feee7a9b64ab239438f4\n'}]",0,803812,20c1bc47a27f3fb9950f7ee94e32816215267958,7,3,1,9816,,,0,"Remove Fedora from the supported operating systems

Fedora support was dropped by 6a606c65e4db6c1ab7f22a144efb7f2995f06722
but it was still left in metadata.json. This change removes that
leftover.

Change-Id: I152d42fdfd0f1a1f4987feee7a9b64ab239438f4
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/12/803812/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,20c1bc47a27f3fb9950f7ee94e32816215267958,drop-fedora,," ""operatingsystem"": ""Fedora"", ""operatingsystemrelease"": [ ""24"" ] }, {",0,6
openstack%2Fpuppet-cinder~master~Ibd8bc6ccbb2eeb5c99170de201db0d2a269c79f6,openstack/puppet-cinder,master,Ibd8bc6ccbb2eeb5c99170de201db0d2a269c79f6,PowerStore: Remove the deprecated powerstore_appliances parameter,MERGED,2021-07-11 04:46:26.000000000,2021-08-09 16:57:26.000000000,2021-08-09 16:56:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-11 04:46:26.000000000', 'files': ['releasenotes/notes/remove-powerstore_appliances-36212e32db70ca44.yaml', 'manifests/backend/dellemc_powerstore.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/248ab7ed4e492495e039ff75907da51144c1fdcd', 'message': 'PowerStore: Remove the deprecated powerstore_appliances parameter\n\nChange-Id: Ibd8bc6ccbb2eeb5c99170de201db0d2a269c79f6\n'}]",0,800336,248ab7ed4e492495e039ff75907da51144c1fdcd,10,4,1,9816,,,0,"PowerStore: Remove the deprecated powerstore_appliances parameter

Change-Id: Ibd8bc6ccbb2eeb5c99170de201db0d2a269c79f6
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/36/800336/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-powerstore_appliances-36212e32db70ca44.yaml', 'manifests/backend/dellemc_powerstore.pp']",2,248ab7ed4e492495e039ff75907da51144c1fdcd,powerstore_appliances,,"# DEPRECATED PARAMETERS # # [*powerstore_appliances*] # (optional) PowerStore appliances # Defaults to undef # $powerstore_appliances = undef, if $powerstore_appliances != undef { warning('The powerstore_appliances parameter has been deprecated and has no effect') } ",5,11
openstack%2Fkolla-ansible~stable%2Fvictoria~I3d0c6421e3da7e1e753b99cf87c32fc238a21523,openstack/kolla-ansible,stable/victoria,I3d0c6421e3da7e1e753b99cf87c32fc238a21523,neutron: fix neutron-server config.json with VMware,MERGED,2021-08-09 11:26:36.000000000,2021-08-09 16:46:18.000000000,2021-08-09 16:44:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-09 11:26:36.000000000', 'files': ['ansible/roles/neutron/templates/neutron-server.json.j2', 'releasenotes/notes/fix-neutron-vmware-4a8804399d47d8d7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75c8f4383e86d6aceb82950685dfd135e240f96c', 'message': 'neutron: fix neutron-server config.json with VMware\n\nMissing comma in config.json template rendered invalid JSON with VMware\nplugin agent.\n\nCloses-Bug: #1939080\n\nChange-Id: I3d0c6421e3da7e1e753b99cf87c32fc238a21523\n(cherry picked from commit 2c786a0faf3895e917305cdfc3885134b220daed)\n'}]",0,803846,75c8f4383e86d6aceb82950685dfd135e240f96c,14,4,1,30491,,,0,"neutron: fix neutron-server config.json with VMware

Missing comma in config.json template rendered invalid JSON with VMware
plugin agent.

Closes-Bug: #1939080

Change-Id: I3d0c6421e3da7e1e753b99cf87c32fc238a21523
(cherry picked from commit 2c786a0faf3895e917305cdfc3885134b220daed)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/803846/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron-server.json.j2', 'releasenotes/notes/fix-neutron-vmware-4a8804399d47d8d7.yaml']",2,75c8f4383e86d6aceb82950685dfd135e240f96c,,--- fixes: - | Fixes an issue with ``config.json`` for ``neutron-server`` when a VMware plugin agent is used. ,,6,1
openstack%2Fopenstack-ansible-os_neutron~master~I5db794db3026c829d3044ea0b1dbc9c44b80f620,openstack/openstack-ansible-os_neutron,master,I5db794db3026c829d3044ea0b1dbc9c44b80f620,Set openvswitch version for centos 8.4,ABANDONED,2021-07-26 21:59:02.000000000,2021-08-09 16:46:16.000000000,,"[{'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-26 21:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7e8d43af91a40a07850132716983346d5ce15631', 'message': 'Set openvswitch version for centos 8.4\n\ncentos 8.x is end of life so community pushed all latest packages\nto centos-8-stream repository, so only interim solution is to set\nversion number to fix.\n\nChange-Id: I5db794db3026c829d3044ea0b1dbc9c44b80f620\n'}, {'number': 2, 'created': '2021-08-06 15:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0ed033e9d8d7bcf9c99221aa9bd0fb2f83c0f521', 'message': 'Set openvswitch version for centos 8.4\n\ncentos 8.x is end of life so community pushed all latest packages\nto centos-8-stream repository, so only interim solution is to set\nversion number to fix.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802135\nChange-Id: I5db794db3026c829d3044ea0b1dbc9c44b80f620\n'}, {'number': 3, 'created': '2021-08-06 15:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7aaa3fbb5e50604ce52b31eb26be082d186b7748', 'message': 'Set openvswitch version for centos 8.4\n\ncentos 8.x is end of life so community pushed all latest packages\nto centos-8-stream repository, so only interim solution is to set\nversion number to fix.\n\nChange-Id: I5db794db3026c829d3044ea0b1dbc9c44b80f620\n'}, {'number': 4, 'created': '2021-08-06 20:13:58.000000000', 'files': ['vars/redhat.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/cc61275fc6efc8d4acf87b6e1a7820e6b85bf706', 'message': 'Set openvswitch version for centos 8.4\n\ncentos 8.x is end of life so community pushed all latest packages\nto centos-8-stream repository, so only interim solution is to set\nversion number to fix.\n\nChange-Id: I5db794db3026c829d3044ea0b1dbc9c44b80f620\n'}]",0,802402,cc61275fc6efc8d4acf87b6e1a7820e6b85bf706,10,2,4,28752,,,0,"Set openvswitch version for centos 8.4

centos 8.x is end of life so community pushed all latest packages
to centos-8-stream repository, so only interim solution is to set
version number to fix.

Change-Id: I5db794db3026c829d3044ea0b1dbc9c44b80f620
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/02/802402/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,7e8d43af91a40a07850132716983346d5ce15631,osa/osa-ovn," - ""{{ ansible_distribution_version is version('8.4', '<') | ternary('openvswitch', 'openvswitch2.13.x86_64') }}""", - openvswitch,1,1
openstack%2Fcinder-tempest-plugin~master~I6214b0e6f94abbfae795d8bd5ecb8adcdaa79c08,openstack/cinder-tempest-plugin,master,I6214b0e6f94abbfae795d8bd5ecb8adcdaa79c08,Update example local.conf within README.rst,MERGED,2021-03-25 18:08:49.000000000,2021-08-09 16:40:42.000000000,2021-04-16 20:13:05.000000000,"[{'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-25 18:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/954ffeee6b1dfe5deae51fc558da84f6cfd6beb7', 'message': ""Update example local.conf within README.rst\n\nRemoved duplicated 'VIRT_DRIVER=libvirt' entry, removed deprecated service 'n-net' and added 'c-bak' service\n\nCloses-Bug: #1824918\nChange-Id: I6214b0e6f94abbfae795d8bd5ecb8adcdaa79c08\n""}, {'number': 2, 'created': '2021-03-25 18:28:56.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/76448ff91137018ddc93853dc52b5ab9b131dab1', 'message': ""Update example local.conf within README.rst\n\nRemoved duplicated 'VIRT_DRIVER=libvirt' entry, removed deprecated service 'n-net' and added 'c-bak' service\n\nCloses-Bug: #1824918\nChange-Id: I6214b0e6f94abbfae795d8bd5ecb8adcdaa79c08\nSigned-off-by: Rafael Fayan <rfayan@daitan.com>\n""}]",6,783079,76448ff91137018ddc93853dc52b5ab9b131dab1,13,5,2,33272,,,0,"Update example local.conf within README.rst

Removed duplicated 'VIRT_DRIVER=libvirt' entry, removed deprecated service 'n-net' and added 'c-bak' service

Closes-Bug: #1824918
Change-Id: I6214b0e6f94abbfae795d8bd5ecb8adcdaa79c08
Signed-off-by: Rafael Fayan <rfayan@daitan.com>
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/79/783079/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,954ffeee6b1dfe5deae51fc558da84f6cfd6beb7,bug/1824918," ENABLED_SERVICES=c-api,c-bak,c-sch,c-vol,cinder,dstat,g-api,g-reg,key ENABLED_SERVICES+=,mysql,n-api,n-cond,n-cpu,n-crt,n-sch,rabbit,tempest"," VIRT_DRIVER=libvirt ENABLED_SERVICES=c-api,c-sch,c-vol,cinder,dstat,g-api,g-reg,key,mysql, n-api,n-cond,n-cpu,n-crt,n-net,n-sch,rabbit,tempest",2,3
openstack%2Fnetworking-bgpvpn~master~I2e2574ab495a4e8dd10f81315996844f93645895,openstack/networking-bgpvpn,master,I2e2574ab495a4e8dd10f81315996844f93645895,Changed minversion in tox to 3.18.0,MERGED,2021-06-04 08:33:28.000000000,2021-08-09 16:34:02.000000000,2021-08-09 16:32:36.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-06-04 08:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/356f8f252deebb72bf0deaf6b7df403a14c83d05', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I2e2574ab495a4e8dd10f81315996844f93645895\n""}, {'number': 2, 'created': '2021-07-07 07:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f383269e5c5bf89b7a13b78e5bf6fdee819bf7c3', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I2e2574ab495a4e8dd10f81315996844f93645895\n""}, {'number': 3, 'created': '2021-08-06 10:30:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/998ba3820c27e328b2f7282a13b05624df03d174', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I2e2574ab495a4e8dd10f81315996844f93645895\n""}]",1,794741,998ba3820c27e328b2f7282a13b05624df03d174,30,6,3,32326,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I2e2574ab495a4e8dd10f81315996844f93645895
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/41/794741/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,356f8f252deebb72bf0deaf6b7df403a14c83d05,,minversion = 3.18.0,minversion = 3.1.1,1,1
openstack%2Fswift~master~I2761b37cdb57d4a0884c37ee749c688277ff4b37,openstack/swift,master,I2761b37cdb57d4a0884c37ee749c688277ff4b37,Kill coros when shutting down ECAppIters,NEW,2021-08-05 17:55:46.000000000,2021-08-09 16:28:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-05 17:55:46.000000000', 'files': ['swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/cbc54331845f8eb7b4db058ad2949638411e50fb', 'message': 'Kill coros when shutting down ECAppIters\n\nOtherwise you can find yourself in a situation where you try to close\nthe stashed iter, which eventually closes the part_iter in ECFragGetter,\nbut one of the coros is still consuming the part_iter and you get a\n""generator already executing"" error.\n\nChange-Id: I2761b37cdb57d4a0884c37ee749c688277ff4b37\n'}]",0,803638,cbc54331845f8eb7b4db058ad2949638411e50fb,4,1,1,15343,,,0,"Kill coros when shutting down ECAppIters

Otherwise you can find yourself in a situation where you try to close
the stashed iter, which eventually closes the part_iter in ECFragGetter,
but one of the coros is still consuming the part_iter and you get a
""generator already executing"" error.

Change-Id: I2761b37cdb57d4a0884c37ee749c688277ff4b37
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/803638/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/obj.py'],1,cbc54331845f8eb7b4db058ad2949638411e50fb,," self.pool = None # kill off everything in the ContextPool first, to make sure we don't # try to re-enter any generators if self.pool: for cr in list(self.pool.coroutines_running): cr.kill() sleep() # Give the per-frag threads a chance to clean up # Not sure if this next part is still needed or not, # but may as well be thorough sleep() with ContextPool(len(fragment_iters)) as self.pool: for frag_iter, queue in zip(fragment_iters, queues): self.pool.spawn(put_fragments_in_queue, frag_iter, queue, self.logger.thread_locals) self.pool = None"," # close down the stashed iter first so the ContextPool can # cleanup the frag queue feeding coros that may be currently # executing the internal_parts_iters. sleep() # Give the per-frag threads a chance to clean up with ContextPool(len(fragment_iters)) as pool: for frag_iter, queue in zip(fragment_iters, queues): pool.spawn(put_fragments_in_queue, frag_iter, queue, self.logger.thread_locals)",16,7
openstack%2Fcinder~master~Iec111ab83e9ed8182c9679c911e3d90927d5a7c3,openstack/cinder,master,Iec111ab83e9ed8182c9679c911e3d90927d5a7c3,RBD: use correct stripe unit in clone operation,MERGED,2021-04-14 15:15:55.000000000,2021-08-09 16:23:21.000000000,2021-08-09 16:21:42.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32523}]","[{'number': 1, 'created': '2021-04-14 15:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c300709aed69dcd0531bef9289ad76dd930e7e4', 'message': 'RBD: use correct stripe size in clone operation\n\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n'}, {'number': 2, 'created': '2021-04-14 15:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/587e18ab97034ace16b52c7975e1459da0ca8b9c', 'message': 'RBD: use correct stripe size in clone operation\n\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n'}, {'number': 3, 'created': '2021-06-06 11:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a15e4d67b3f27dd2c5a8cffe37cab8e118957837', 'message': 'RBD: use correct stripe size in clone operation\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n'}, {'number': 4, 'created': '2021-06-10 18:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ccfb22dbce6369810fd360b461dcbe1a0c515aa', 'message': 'RBD: use correct stripe size in clone operation\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n'}, {'number': 5, 'created': '2021-06-10 23:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da19a11478e17605d2a12cdfe736b6da0fd10805', 'message': 'RBD: use correct stripe size in clone operation\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n'}, {'number': 6, 'created': '2021-06-11 18:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4eecf6e7b6d01a48d1525e01f403d3e7558fff9', 'message': ""RBD: use correct stripe size in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of the 'order' parameter would cause an error to be\nreturned where previous versions would correct the value at runtime.\nThis becomes a problem when creating a volume from an image, where the\nsource RBD image may have a larger stripe unit than cinder's RBD driver\nis configured for.  When this happens, clone() is called with an order\nthat is too small given that of the source image and the clone fails.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two strip unit values (used to compute order) so that the\ndesired stripe unit is respected.\n\nAdditionally, we are also seeing this bug because Glance's default\nstripe width is different (larger) from Cinder's.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n""}, {'number': 7, 'created': '2021-06-21 03:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b887cce3b028c57536d3c14066335029f4a4f9ca', 'message': ""RBD: use correct stripe size in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of the 'order' parameter would cause an error to be\nreturned where previous versions would correct the value at runtime.\nThis becomes a problem when creating a volume from an image, where the\nsource RBD image may have a larger stripe unit than cinder's RBD driver\nis configured for.  When this happens, clone() is called with an order\nthat is too small given that of the source image and the clone fails.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two strip unit values (used to compute order) so that the\ndesired stripe unit is respected.\n\nAdditionally, we are also seeing this bug because Glance's default\nstripe width is different (larger) from Cinder's.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n""}, {'number': 8, 'created': '2021-07-25 21:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07f6172697c8e92d29f2bab53a2e83661d316232', 'message': ""RBD: use correct stripe unit in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of stripe unit would cause an error to be returned\nwhere previous versions would correct the value at runtime.  This\nbecomes a problem when creating a volume from an image, where the source\nRBD image may have a larger stripe unit than cinder's RBD driver is\nconfigured for.  When this happens, clone() is called with a stripe unit\nthat is too small given that of the source image and the clone fails.\n\nThe RBD driver in Cinder has a configuration parameter\n'rbd_store_chunk_size' that stores the preferred object size for cloned\nimages.  If clone() is called without a stripe_unit passed in, the\nstripe unit defaults to the object size, which is 4MB by default.  The\nissue arises when creating a volume from a Glance image, where Glance is\ncreating images with a default strip unit of 8MB (distinctly larger than\nthat of Cinder).  If we do not consider the incoming strip unit and\nselect the larger of the two, Ceph cannot clone an RBD image with a\nsmaller stripe unit and raises an error.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two strip unit values so that the appropriate stripe unit\nis chosen.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n""}, {'number': 9, 'created': '2021-07-25 21:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99043b883b601e6922850660c9afccb55cbe336b', 'message': ""RBD: use correct stripe unit in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of stripe unit would cause an error to be returned\nwhere previous versions would correct the value at runtime.  This\nbecomes a problem when creating a volume from an image, where the source\nRBD image may have a larger stripe unit than cinder's RBD driver is\nconfigured for.  When this happens, clone() is called with a stripe unit\nthat is too small given that of the source image and the clone fails.\n\nThe RBD driver in Cinder has a configuration parameter\n'rbd_store_chunk_size' that stores the preferred object size for cloned\nimages.  If clone() is called without a stripe_unit passed in, the\nstripe unit defaults to the object size, which is 4MB by default.  The\nissue arises when creating a volume from a Glance image, where Glance is\ncreating images with a default strip unit of 8MB (distinctly larger than\nthat of Cinder).  If we do not consider the incoming strip unit and\nselect the larger of the two, Ceph cannot clone an RBD image with a\nsmaller stripe unit and raises an error.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two strip unit values so that the appropriate stripe unit\nis chosen.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n""}, {'number': 10, 'created': '2021-07-25 22:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ff113d79b749c7256abf6493e510815c6a6f193', 'message': ""RBD: use correct stripe unit in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of stripe unit would cause an error to be returned\nwhere previous versions would correct the value at runtime.  This\nbecomes a problem when creating a volume from an image, where the source\nRBD image may have a larger stripe unit than cinder's RBD driver is\nconfigured for.  When this happens, clone() is called with a stripe unit\nthat is too small given that of the source image and the clone fails.\n\nThe RBD driver in Cinder has a configuration parameter\n'rbd_store_chunk_size' that stores the preferred object size for cloned\nimages.  If clone() is called without a stripe_unit passed in, the\nstripe unit defaults to the object size, which is 4MB by default.  The\nissue arises when creating a volume from a Glance image, where Glance is\ncreating images with a default strip unit of 8MB (distinctly larger than\nthat of Cinder).  If we do not consider the incoming strip unit and\nselect the larger of the two, Ceph cannot clone an RBD image with a\nsmaller stripe unit and raises an error.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two strip unit values so that the appropriate stripe unit\nis chosen.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n""}, {'number': 11, 'created': '2021-07-26 15:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dcd67ce7a658bde78dadfeb792df3dc169b52a9d', 'message': ""RBD: use correct stripe unit in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of stripe unit would cause an error to be returned\nwhere previous versions would correct the value at runtime.  This\nbecomes a problem when creating a volume from an image, where the source\nRBD image may have a larger stripe unit than cinder's RBD driver is\nconfigured for.  When this happens, clone() is called with a stripe unit\nthat is too small given that of the source image and the clone fails.\n\nThe RBD driver in Cinder has a configuration parameter\n'rbd_store_chunk_size' that stores the preferred object size for cloned\nimages.  If clone() is called without a stripe_unit passed in, the\nstripe unit defaults to the object size, which is 4MB by default.  The\nissue arises when creating a volume from a Glance image, where Glance is\ncreating images with a default strip unit of 8MB (distinctly larger than\nthat of Cinder).  If we do not consider the incoming strip unit and\nselect the larger of the two, Ceph cannot clone an RBD image with a\nsmaller stripe unit and raises an error.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two strip unit values so that the appropriate stripe unit\nis chosen.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n""}, {'number': 12, 'created': '2021-07-26 18:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9657f31326133a93278ba74a05b5113e3e8145b6', 'message': ""RBD: use correct stripe unit in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of stripe unit would cause an error to be returned\nwhere previous versions would correct the value at runtime.  This\nbecomes a problem when creating a volume from an image, where the source\nRBD image may have a larger stripe unit than cinder's RBD driver is\nconfigured for.  When this happens, clone() is called with a stripe unit\nthat is too small given that of the source image and the clone fails.\n\nThe RBD driver in Cinder has a configuration parameter\n'rbd_store_chunk_size' that stores the preferred object size for cloned\nimages.  If clone() is called without a stripe_unit passed in, the\nstripe unit defaults to the object size, which is 4MB by default.  The\nissue arises when creating a volume from a Glance image, where Glance is\ncreating images with a default strip unit of 8MB (distinctly larger than\nthat of Cinder).  If we do not consider the incoming strip unit and\nselect the larger of the two, Ceph cannot clone an RBD image with a\nsmaller stripe unit and raises an error.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two strip unit values so that the appropriate stripe unit\nis chosen.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n""}, {'number': 13, 'created': '2021-07-27 17:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f58262290538e99743bb5a98e77e5e588270108d', 'message': ""RBD: use correct stripe unit in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of stripe unit would cause an error to be returned\nwhere previous versions would correct the value at runtime.  This\nbecomes a problem when creating a volume from an image, where the source\nRBD image may have a larger stripe unit than cinder's RBD driver is\nconfigured for.  When this happens, clone() is called with a stripe unit\nthat is too small given that of the source image and the clone fails.\n\nThe RBD driver in Cinder has a configuration parameter\n'rbd_store_chunk_size' that stores the preferred object size for cloned\nimages.  If clone() is called without a stripe_unit passed in, the\nstripe unit defaults to the object size, which is 4MB by default.  The\nissue arises when creating a volume from a Glance image, where Glance is\ncreating images with a default strip unit of 8MB (distinctly larger than\nthat of Cinder).  If we do not consider the incoming strip unit and\nselect the larger of the two, Ceph cannot clone an RBD image with a\nsmaller stripe unit and raises an error.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two strip unit values so that the appropriate stripe unit\nis chosen.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n""}, {'number': 14, 'created': '2021-07-28 02:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a022348fd519987337df16767eace970a794e5ea', 'message': ""RBD: use correct stripe unit in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of stripe unit would cause an error to be returned\nwhere previous versions would correct the value at runtime.  This\nbecomes a problem when creating a volume from an image, where the source\nRBD image may have a larger stripe unit than cinder's RBD driver is\nconfigured for.  When this happens, clone() is called with a stripe unit\nthat is too small given that of the source image and the clone fails.\n\nThe RBD driver in Cinder has a configuration parameter\n'rbd_store_chunk_size' that stores the preferred object size for cloned\nimages.  If clone() is called without a stripe_unit passed in, the\nstripe unit defaults to the object size, which is 4MB by default.  The\nissue arises when creating a volume from a Glance image, where Glance is\ncreating images with a default stripe unit of 8MB (distinctly larger\nthan that of Cinder).  If we do not consider the incoming stripe unit\nand select the larger of the two, Ceph cannot clone an RBD image with a\nsmaller stripe unit and raises an error.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two stripe unit values so that the appropriate stripe unit\nis chosen.\n\nIt should also be noted that we're determining the correct stripe unit,\nbut using the 'order' argument to clone().  Ceph will set the stripe\nunit equal to the object size (order) by default and we rely on this\nbehaviour for the following reason: passing stripe-unit alone or with\nan order argument causes an invalid argument exception to be raised in\npre-pacific releases of Ceph, as it's argument parsing appears to have\nlimitations.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n""}, {'number': 15, 'created': '2021-08-02 15:13:45.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-choose-correct-stripe-unit-9d317f4717533fb4.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/49a2c85eda9fd3cddc75fd904fe62c87a6b50735', 'message': ""RBD: use correct stripe unit in clone operation\n\nThe recent release of Ceph Pacific saw a change to the clone() logic\nwhere invalid values of stripe unit would cause an error to be returned\nwhere previous versions would correct the value at runtime.  This\nbecomes a problem when creating a volume from an image, where the source\nRBD image may have a larger stripe unit than cinder's RBD driver is\nconfigured for.  When this happens, clone() is called with a stripe unit\nthat is too small given that of the source image and the clone fails.\n\nThe RBD driver in Cinder has a configuration parameter\n'rbd_store_chunk_size' that stores the preferred object size for cloned\nimages.  If clone() is called without a stripe_unit passed in, the\nstripe unit defaults to the object size, which is 4MB by default.  The\nissue arises when creating a volume from a Glance image, where Glance is\ncreating images with a default stripe unit of 8MB (distinctly larger\nthan that of Cinder).  If we do not consider the incoming stripe unit\nand select the larger of the two, Ceph cannot clone an RBD image with a\nsmaller stripe unit and raises an error.\n\nThis patch adds a function in our driver's clone logic to select the\nlarger of the two stripe unit values so that the appropriate stripe unit\nis chosen.\n\nIt should also be noted that we're determining the correct stripe unit,\nbut using the 'order' argument to clone().  Ceph will set the stripe\nunit equal to the object size (order) by default and we rely on this\nbehaviour for the following reason: passing stripe-unit alone or with\nan order argument causes an invalid argument exception to be raised in\npre-pacific releases of Ceph, as it's argument parsing appears to have\nlimitations.\n\nCloses-Bug: #1931004\nChange-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3\n""}]",19,786260,49a2c85eda9fd3cddc75fd904fe62c87a6b50735,275,6,15,9236,,,0,"RBD: use correct stripe unit in clone operation

The recent release of Ceph Pacific saw a change to the clone() logic
where invalid values of stripe unit would cause an error to be returned
where previous versions would correct the value at runtime.  This
becomes a problem when creating a volume from an image, where the source
RBD image may have a larger stripe unit than cinder's RBD driver is
configured for.  When this happens, clone() is called with a stripe unit
that is too small given that of the source image and the clone fails.

The RBD driver in Cinder has a configuration parameter
'rbd_store_chunk_size' that stores the preferred object size for cloned
images.  If clone() is called without a stripe_unit passed in, the
stripe unit defaults to the object size, which is 4MB by default.  The
issue arises when creating a volume from a Glance image, where Glance is
creating images with a default stripe unit of 8MB (distinctly larger
than that of Cinder).  If we do not consider the incoming stripe unit
and select the larger of the two, Ceph cannot clone an RBD image with a
smaller stripe unit and raises an error.

This patch adds a function in our driver's clone logic to select the
larger of the two stripe unit values so that the appropriate stripe unit
is chosen.

It should also be noted that we're determining the correct stripe unit,
but using the 'order' argument to clone().  Ceph will set the stripe
unit equal to the object size (order) by default and we rely on this
behaviour for the following reason: passing stripe-unit alone or with
an order argument causes an invalid argument exception to be raised in
pre-pacific releases of Ceph, as it's argument parsing appears to have
limitations.

Closes-Bug: #1931004
Change-Id: Iec111ab83e9ed8182c9679c911e3d90927d5a7c3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/786260/15 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,3c300709aed69dcd0531bef9289ad76dd930e7e4,," def _preferred_order(self, ioctx, volume_name): """"""TODO"""""" image = self.rbd.Image(ioctx, volume_name) try: image_stripes = image.stripe_unit() finally: image.close() local_stripes = self.configuration.rbd_store_chunk_size * units.Mi LOG.error(image_stripes) LOG.error(local_stripes) preferred_stripes = max(local_stripes, image_stripes) LOG.error(preferred_stripes) LOG.error(int(math.log(preferred_stripes, 2))) return int(math.log(preferred_stripes, 2)) order = self._preferred_order(src_client.ioctx, src_image)"," chunk_size = self.configuration.rbd_store_chunk_size * units.Mi order = int(math.log(chunk_size, 2))",17,2
openstack%2Fpuppet-designate~master~Ibe58d1395ee0b79af7535714ef5c9d2b26b52780,openstack/puppet-designate,master,Ibe58d1395ee0b79af7535714ef5c9d2b26b52780,Standardize the manage service parameter,MERGED,2021-07-29 08:37:33.000000000,2021-08-09 16:23:11.000000000,2021-08-09 16:21:46.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 08:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/51d520dfd47056ad49b6de01752bb533736fc72f', 'message': 'Rename confusing service_ensure parameter\n\nStandardize the manage service parameter.\nBased on:\nhttps://review.opendev.org/c/openstack/puppet-designate/+/773372\n\nChange-Id: Ibe58d1395ee0b79af7535714ef5c9d2b26b52780\n'}, {'number': 2, 'created': '2021-07-29 10:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/dba3672e12722e340a795d7db5d9dcf969ceaf85', 'message': ""Rename confusing service_ensure parameter\n\nStandardize the manage service parameter.\nBased on:\nhttps://review.opendev.org/c/openstack/puppet-designate/+/773372\n\nChanged the relevant tests to check for:\n:ensure    => 'true'\ninstead of:\n:ensure    => 'running'\nAs a manage_service parameter makes more sense as boolean than\nrunning/stopped\n\nChange-Id: Ibe58d1395ee0b79af7535714ef5c9d2b26b52780\n""}, {'number': 3, 'created': '2021-07-29 10:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/e8f66e694ac59ca4e9562d105ad872ffb8ab579f', 'message': ""Rename confusing service_ensure parameter\n\nStandardize the manage service parameter.\nBased on:\nhttps://review.opendev.org/c/openstack/puppet-designate/+/773372\n\nChanged the relevant tests to check for:\n:ensure    => 'true'\ninstead of:\n:ensure    => 'running'\nAs a manage_service parameter makes more sense as boolean than\nrunning/stopped\n\nChange-Id: Ibe58d1395ee0b79af7535714ef5c9d2b26b52780\n""}, {'number': 4, 'created': '2021-07-29 11:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/b30099001d189fc75051dca671ca5b4009078ecd', 'message': ""Rename confusing service_ensure parameter\n\nStandardize the manage service parameter.\nBased on:\nhttps://review.opendev.org/c/openstack/puppet-designate/+/773372\n\nChanged designate_worker_spec.rb test to check for:\n:ensure    => 'true'\ninstead of:\n:ensure    => 'running'\nAs a manage_service parameter makes more sense as boolean than\nrunning/stopped\n\nChange-Id: Ibe58d1395ee0b79af7535714ef5c9d2b26b52780\n""}, {'number': 5, 'created': '2021-07-29 13:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/34ba46a31e86a973749ebd60a596b361a56b7379', 'message': ""Rename confusing service_ensure parameter\n\nStandardize the manage service parameter.\nBased on:\nhttps://review.opendev.org/c/openstack/puppet-designate/+/773372\n\nRefactored worker.pp to have the standardize manage service capability.\n\nChanged designate_worker_spec.rb test to check for:\n:ensure    => 'true'\ninstead of:\n:ensure    => 'running'\nAs a manage_service parameter makes more sense as boolean than\nrunning/stopped\n\nChange-Id: Ibe58d1395ee0b79af7535714ef5c9d2b26b52780\n""}, {'number': 6, 'created': '2021-07-29 14:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/fcc5648665ecc4fd7883f60dbc0825e5eca51b59', 'message': 'Standardize the manage service parameter.\n\nRename confusing service_ensure parameter\nBased on:\nhttps://review.opendev.org/c/openstack/puppet-designate/+/773372\n\nAdded manage service parameter to worker.pp, so it will have the same\nservice management functionality as the rest of the services.\n\nChange-Id: Ibe58d1395ee0b79af7535714ef5c9d2b26b52780\n'}, {'number': 7, 'created': '2021-07-29 14:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/c19424f4e3aa6c49a9c39fd7c4d99edee4e94725', 'message': 'Standardize the manage service parameter\n\nRename confusing service_ensure parameter.\nBased on:\nhttps://review.opendev.org/c/openstack/puppet-designate/+/773372\n\nAdded manage service parameter to worker.pp, so it will have the same\nservice management functionality as the rest of the services.\n\nChange-Id: Ibe58d1395ee0b79af7535714ef5c9d2b26b52780\n'}, {'number': 8, 'created': '2021-07-30 13:48:51.000000000', 'files': ['manifests/producer.pp', 'manifests/zone_manager.pp', 'manifests/worker.pp', 'manifests/sink.pp', 'manifests/api.pp', 'manifests/agent.pp', 'spec/classes/designate_worker_spec.rb', 'manifests/central.pp', 'manifests/mdns.pp', 'releasenotes/notes/standardize_manage_service-81089303d990df37.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/b7cfb61a6db97cb8e0dbd26d3724693764aeef23', 'message': 'Standardize the manage service parameter\n\nRename confusing service_ensure parameter.\nBased on:\nhttps://review.opendev.org/c/openstack/puppet-designate/+/773372\n\nAdded manage service parameter to worker.pp, so it will have the same\nservice management functionality as the rest of the services.\n\nChange-Id: Ibe58d1395ee0b79af7535714ef5c9d2b26b52780\n'}]",1,802838,b7cfb61a6db97cb8e0dbd26d3724693764aeef23,23,3,8,33816,,,0,"Standardize the manage service parameter

Rename confusing service_ensure parameter.
Based on:
https://review.opendev.org/c/openstack/puppet-designate/+/773372

Added manage service parameter to worker.pp, so it will have the same
service management functionality as the rest of the services.

Change-Id: Ibe58d1395ee0b79af7535714ef5c9d2b26b52780
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/38/802838/6 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/producer.pp', 'manifests/zone_manager.pp', 'manifests/worker.pp', 'manifests/sink.pp', 'manifests/agent.pp', 'manifests/api.pp', 'manifests/central.pp', 'manifests/mdns.pp', 'releasenotes/notes/standardize_manage_service-81089303d990df37.yaml']",9,51d520dfd47056ad49b6de01752bb533736fc72f,standardize_manage_service,"--- deprecations: - | The ``designate::worker::service_ensure`` parameter has been deprecated. Use the ``designate::worker::manage_service`` parameter instead, which accepts True or False instead. - | The ``designate::producer::service_ensure`` parameter has been deprecated. Use the ``designate::producer::manage_service`` parameter instead, which accepts True or False instead. - | The ``designate::central::service_ensure`` parameter has been deprecated. Use the ``designate::central::manage_service`` parameter instead, which accepts True or False instead. - | The ``designate::agent::service_ensure`` parameter has been deprecated. Use the ``designate::agent::manage_service`` parameter instead, which accepts True or False instead. - | The ``designate::zone_manager::service_ensure`` parameter has been deprecated. Use the ``designate::zone_manager::manage_service`` parameter instead, which accepts True or False instead. - | The ``designate::sink::service_ensure`` parameter has been deprecated. Use the ``designate::sink::manage_service`` parameter instead, which accepts True or False instead.",,147,37
openstack%2Fopenstack-ansible~stable%2Fstein~I7f79c13dcc4827617bf51f8f7632242f118ca170,openstack/openstack-ansible,stable/stein,I7f79c13dcc4827617bf51f8f7632242f118ca170,Remove Debian Stable testing,MERGED,2021-08-03 23:04:24.000000000,2021-08-09 16:18:56.000000000,2021-08-09 16:15:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-08-03 23:04:24.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f970434bdfa59eab2ef7b7b5454e640cf9f6480a', 'message': 'Remove Debian Stable testing\n\nSimilar to Ic868bf75e64bc27cbc912c6c0415439a8c9a1057 remove\ndebian-stable as infra is removing the debian Stretch node type.\n\nChange-Id: I7f79c13dcc4827617bf51f8f7632242f118ca170\n'}]",0,803404,f970434bdfa59eab2ef7b7b5454e640cf9f6480a,8,3,1,7118,,,0,"Remove Debian Stable testing

Similar to Ic868bf75e64bc27cbc912c6c0415439a8c9a1057 remove
debian-stable as infra is removing the debian Stretch node type.

Change-Id: I7f79c13dcc4827617bf51f8f7632242f118ca170
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/803404/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,f970434bdfa59eab2ef7b7b5454e640cf9f6480a,,,# debian - job: name: openstack-ansible-deploy-aio_metal-debian-stable parent: openstack-ansible-deploy-aio nodeset: debian-stable # debian - job: name: openstack-ansible-deploy-aio_telemetry_metal-debian-stable parent: openstack-ansible-deploy-aio nodeset: debian-stable - job: name: openstack-ansible-deploy-aio_lxc-debian-stable parent: openstack-ansible-deploy-aio nodeset: debian-stable ,0,23
openstack%2Fglance~master~I75dda9f8997ac4d234532d30db482fc49042cb98,openstack/glance,master,I75dda9f8997ac4d234532d30db482fc49042cb98,DNM: Fix role check in image membership policy,ABANDONED,2021-08-06 21:55:17.000000000,2021-08-09 16:07:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-06 21:55:17.000000000', 'files': ['glance/policies/base.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/da7ba44cfefc6ffd5483790a113fcb6346b7ab76', 'message': 'DNM: Fix role check in image membership policy\n\nChange-Id: I75dda9f8997ac4d234532d30db482fc49042cb98\n'}]",0,803808,da7ba44cfefc6ffd5483790a113fcb6346b7ab76,4,1,1,5046,,,0,"DNM: Fix role check in image membership policy

Change-Id: I75dda9f8997ac4d234532d30db482fc49042cb98
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/803808/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/policies/base.py'],1,da7ba44cfefc6ffd5483790a113fcb6346b7ab76,policy-refactor,ADMIN_OR_SHARED_MEMBER = ( f'role:admin or (role:member and {IMAGE_MEMBER_CHECK})' ),ADMIN_OR_SHARED_MEMBER = f'role:admin or {IMAGE_MEMBER_CHECK}',3,1
openstack%2Fneutron~master~Ia0d882220cd281e3c91648e3f32a842d61a5f57d,openstack/neutron,master,Ia0d882220cd281e3c91648e3f32a842d61a5f57d,Config option to enable OVN IDL on other workers,MERGED,2021-06-10 13:55:34.000000000,2021-08-09 16:04:04.000000000,2021-06-23 20:22:50.000000000,"[{'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-10 13:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32bb8717668779e78c7e7b7e8ecc9beea2ab5822', 'message': ""Config option to enable OVN IDL on other workers\n\nAdd 2 configuration options to ovn group:\nenable_ovn_idl_for_allservices_worker, enable_ovn_idl_for_rpc_workers\nto optionally enable OVN IDL connections on AllServicesNeutronWorker\nand RPC workers respectively.\nBy default the IDL connections are only initialized on API and\nmaintenance workers as other worker types normally don't need them.\nBut some plugins or extensions might still require IDL connections on\nother workers and now may enable them via configuration.\n\nCloses-Bug: #1927977\nChange-Id: Ia0d882220cd281e3c91648e3f32a842d61a5f57d\n""}, {'number': 2, 'created': '2021-06-10 16:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9266299c0965f5e730df96328a3293edae60727a', 'message': ""Config option to enable OVN IDL on other workers\n\nAdd a configuration option to ovn group:\nadditional_worker_classes_with_ovn_idl\nto optionally enable OVN IDL connections on additional workers.\nBy default the IDL connections are only initialized on API and\nmaintenance workers as other worker types normally don't need them.\nBut some plugins or extensions might still require IDL connections on\nother workers and now may enable them via configuration, by adding the\nworker class (or its alias from neutron.worker_classes) to\nadditional_worker_classes_with_ovn_idl.\n\nCloses-Bug: #1927977\nChange-Id: Ia0d882220cd281e3c91648e3f32a842d61a5f57d\n""}, {'number': 3, 'created': '2021-06-15 08:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c82ec8f27a0862defbe9d2c92297d9b656ccf70', 'message': ""Config option to enable OVN IDL on other workers\n\nAdd a configuration option to ovn group:\nadditional_worker_classes_with_ovn_idl\nto optionally enable OVN IDL connections on additional workers.\nBy default the IDL connections are only initialized on API and\nmaintenance workers as other worker types normally don't need them.\nBut some plugins or extensions might still require IDL connections on\nother workers and now may enable them via configuration, by adding the\nworker class (or its alias from neutron.worker_classes) to\nadditional_worker_classes_with_ovn_idl.\n\nCloses-Bug: #1927977\nChange-Id: Ia0d882220cd281e3c91648e3f32a842d61a5f57d\n""}, {'number': 4, 'created': '2021-06-22 08:33:33.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'releasenotes/notes/config-additional-workers-with-ovn-idl-022a2fb4bcf724ec.yaml', 'setup.cfg', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/66ac943b6435901c163c3050ad41dfcaf36ac11d', 'message': ""Config option to enable OVN IDL on other workers\n\nAdd a configuration option to ovn group:\nadditional_worker_classes_with_ovn_idl\nto optionally enable OVN IDL connections on additional workers.\nBy default the IDL connections are only initialized on API and\nmaintenance workers as other worker types normally don't need them.\nBut some plugins or extensions might still require IDL connections on\nother workers and now may enable them via configuration, by adding the\nworker class (or its alias from neutron.worker_classes) to\nadditional_worker_classes_with_ovn_idl.\n\nCloses-Bug: #1927977\nChange-Id: Ia0d882220cd281e3c91648e3f32a842d61a5f57d\n""}]",5,795781,66ac943b6435901c163c3050ad41dfcaf36ac11d,59,5,4,31976,,,0,"Config option to enable OVN IDL on other workers

Add a configuration option to ovn group:
additional_worker_classes_with_ovn_idl
to optionally enable OVN IDL connections on additional workers.
By default the IDL connections are only initialized on API and
maintenance workers as other worker types normally don't need them.
But some plugins or extensions might still require IDL connections on
other workers and now may enable them via configuration, by adding the
worker class (or its alias from neutron.worker_classes) to
additional_worker_classes_with_ovn_idl.

Closes-Bug: #1927977
Change-Id: Ia0d882220cd281e3c91648e3f32a842d61a5f57d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/795781/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,32bb8717668779e78c7e7b7e8ecc9beea2ab5822,bug/1927977,"import neutron.service # By default only API and maintenace workers need to initialize # the OVN IDL connections desired_classes = ( neutron.wsgi.WorkerService, worker.MaintenanceWorker, ) # Ideally other workers should not initialize the IDL connections as # it is too expensive. If some plugin or extension still needs the # IDL connections in other workers the initialization can be enabled # via configuration. if ovn_conf.is_ovn_idl_enabled_for_allservices_worker(): desired_classes += (neutron.service.AllServicesNeutronWorker,) if ovn_conf.is_ovn_idl_enabled_for_rpc_workers(): desired_classes += (neutron.service.RpcWorker,) return worker_class in desired_classes"," return worker_class in (neutron.wsgi.WorkerService, worker.MaintenanceWorker)",71,2
openstack%2Fpuppet-openstack-integration~master~Ifa73e0df926f5ee9daab7c305ed8520de1b14316,openstack/puppet-openstack-integration,master,Ifa73e0df926f5ee9daab7c305ed8520de1b14316,"Revert ""Disable selinux defaults enforcement in File/Concat resources""",MERGED,2021-06-29 12:02:38.000000000,2021-08-09 15:54:17.000000000,2021-08-09 15:54:17.000000000,"[{'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 12:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/59d0fb3a171e3f29d8ad6a9de1517737bafbce3b', 'message': 'Revert ""Disable selinux defaults enforcement in File/Concat resources""\n\nThis reverts commit 0f00dde75739314270c493528b2160bb80e60ca2.\n\nReason for revert: Puppet 6.23.0 released\n\nChange-Id: Ifa73e0df926f5ee9daab7c305ed8520de1b14316\n'}, {'number': 2, 'created': '2021-08-04 12:52:23.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ace6a7f7ea02ade368522e8fc93502f82d1c4514', 'message': 'Revert ""Disable selinux defaults enforcement in File/Concat resources""\n\nThis reverts commit 0f00dde75739314270c493528b2160bb80e60ca2.\n\nReason for revert: Puppet 6.23.0 released\n\nChange-Id: Ifa73e0df926f5ee9daab7c305ed8520de1b14316\n'}]",0,798663,ace6a7f7ea02ade368522e8fc93502f82d1c4514,11,5,2,16137,,,0,"Revert ""Disable selinux defaults enforcement in File/Concat resources""

This reverts commit 0f00dde75739314270c493528b2160bb80e60ca2.

Reason for revert: Puppet 6.23.0 released

Change-Id: Ifa73e0df926f5ee9daab7c305ed8520de1b14316
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/63/798663/2 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp']",4,59d0fb3a171e3f29d8ad6a9de1517737bafbce3b,,,if $::osfamily == 'RedHat' { # (amoralej) - disable selinux defaults until # https://tickets.puppetlabs.com/browse/PUP-7559 is fixed Concat { selinux_ignore_defaults => true } File { selinux_ignore_defaults => true } } ,0,28
openstack%2Fansible-collections-openstack~master~Ia8700e03773398bc9347259bc504ae56c0978882,openstack/ansible-collections-openstack,master,Ia8700e03773398bc9347259bc504ae56c0978882,Changed minversion in tox to 3.18.0,MERGED,2021-08-09 12:08:31.000000000,2021-08-09 15:52:36.000000000,2021-08-09 15:52:36.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 12:08:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/292aabb4771ab32ef586b811a3c05e4b39d92fe7', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia8700e03773398bc9347259bc504ae56c0978882\n""}]",0,803906,292aabb4771ab32ef586b811a3c05e4b39d92fe7,6,2,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ia8700e03773398bc9347259bc504ae56c0978882
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/06/803906/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,292aabb4771ab32ef586b811a3c05e4b39d92fe7,update-min-tox,minversion = 3.18.0,minversion = 3.1,1,1
openstack%2Fpuppet-tripleo~master~Ia273d0dbc668bbae4c6e9cb535bd68783faf0148,openstack/puppet-tripleo,master,Ia273d0dbc668bbae4c6e9cb535bd68783faf0148,Allow to use the upstream rabbitmq-server-ha OCF resource agent,MERGED,2019-09-26 13:15:35.000000000,2021-08-09 15:51:55.000000000,2021-08-09 15:50:30.000000000,"[{'_account_id': 6926}, {'_account_id': 9257}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-26 13:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7c393e6b70665a7c132aa1d13f5bfc0d2e445708', 'message': 'WIP rabbitmq ra\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 2, 'created': '2019-09-30 06:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/de61d648966e235cced24306ecde3d0b93ba9a15', 'message': 'WIP rabbitmq ra\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 3, 'created': '2019-11-13 08:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f14a5589426225618e6115bd0e71b12f9b181158', 'message': 'WIP rabbitmq ra\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 4, 'created': '2020-01-30 10:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fcdce0aa6eb8e5930eef8dec3da50de0347310a2', 'message': 'WIP rabbitmq ra\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 5, 'created': '2020-01-31 15:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/18e66cd489e32e53d8d6c5f7b717e7529354959f', 'message': 'WIP rabbitmq ra\n\nNeeds a fix in https://bugzilla.redhat.com/show_bug.cgi?id=1796824\nbefore this can work\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 6, 'created': '2020-05-01 14:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a4ffeb9a01fd2fe76ed9723f1e3f608a22532320', 'message': 'WIP rabbitmq ra\n\nNeeds a fix in https://bugzilla.redhat.com/show_bug.cgi?id=1796824\nbefore this can work\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 7, 'created': '2020-05-18 14:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8ce76e4888614433582132469fe1353efa21d3a8', 'message': 'WIP rabbitmq ra\n\nNeeds a fix in https://bugzilla.redhat.com/show_bug.cgi?id=1796824\nbefore this can work\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 8, 'created': '2020-07-03 15:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/680d45049c06cec4e9da33f0ef84534b1e4bf59e', 'message': 'WIP rabbitmq ra\n\nNeeds a fix in https://bugzilla.redhat.com/show_bug.cgi?id=1796824\nbefore this can work\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 9, 'created': '2021-02-27 11:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/80fdccfb0c8e3c8660a5e092095821b34cb298e0', 'message': 'WIP rabbitmq ra\n\nNeeds a fix in https://bugzilla.redhat.com/show_bug.cgi?id=1796824\nbefore this can work\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 10, 'created': '2021-02-28 10:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/03b8572bb241b7f1a9bd205121a7a0d5239226ae', 'message': 'WIP rabbitmq ra\n\nNeeds a fix in https://bugzilla.redhat.com/show_bug.cgi?id=1796824\nbefore this can work plus a number of patches for the rabbitmq\nRA\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 11, 'created': '2021-02-28 15:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f587b4136209bccacd49f7b384f1a3e736bb8e5f', 'message': 'WIP rabbitmq ra\n\nNeeds a fix in https://bugzilla.redhat.com/show_bug.cgi?id=1796824\nbefore this can work plus a number of patches for the rabbitmq\nRA\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 12, 'created': '2021-02-28 19:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/227ffcab7be49342cfd348752c673919ec55e4b3', 'message': 'Allow to use the upstream rabbitmq-server-ha OCF resource agent\n\nWe introduce a new hiera key in order to be able to use the upstream\nrabbitmq-server-ha OCF resource [1].\nFor it to work inside bundles we need to have a rabbitmq-server\npackage inside the bundle which includes at least\nhttps://github.com/rabbitmq/rabbitmq-server/pull/2853\nand also we need to be using at least pacemaker-2.0.4-4.el8.\n\nThe rationale for this work is that the current rabbitmq-cluster\nresource agent maintained under the ClusterLabs umbrella is\na cloned resource, which is limited in the number of actions\nit can do in a number of situations (partition, failover, etc).\n\nThe upstream resource agent is a master/slave resource and\nallows for more expressive semantics in general and is preferrable [2].\n\n[1] https://github.com/rabbitmq/rabbitmq-server/blob/master/scripts/rabbitmq-server-ha.ocf\n[2] https://github.com/lemenkov/pmk-rmq.md/blob/master/pmk-rmq.md\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 13, 'created': '2021-02-28 19:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e4f1d45534d02071f97061f9071f6dafc4f2c6a0', 'message': 'Allow to use the upstream rabbitmq-server-ha OCF resource agent\n\nWe introduce a new hiera key in order to be able to use the upstream\nrabbitmq-server-ha OCF resource [1].\nFor it to work inside bundles we need to have a rabbitmq-server\npackage inside the bundle which includes at least\nhttps://github.com/rabbitmq/rabbitmq-server/pull/2853\nand also we need to be using at least pacemaker-2.0.4-4.el8.\n\nThe rationale for this work is that the current rabbitmq-cluster\nresource agent maintained under the ClusterLabs umbrella is\na cloned resource, which is limited in the number of actions\nit can do in a number of situations (partition, failover, etc).\n\nThe upstream resource agent is a master/slave resource and\nallows for more expressive semantics in general and is preferrable [2].\n\n[1] https://github.com/rabbitmq/rabbitmq-server/blob/master/scripts/rabbitmq-server-ha.ocf\n[2] https://github.com/lemenkov/pmk-rmq.md/blob/master/pmk-rmq.md\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 14, 'created': '2021-03-01 21:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/16629008e52a6001cb02ede0812b3e552feaa5bf', 'message': 'Allow to use the upstream rabbitmq-server-ha OCF resource agent\n\nWe introduce a new hiera key in order to be able to use the upstream\nrabbitmq-server-ha OCF resource [1].\nFor it to work inside bundles we need to have a rabbitmq-server\npackage inside the bundle which includes at least\nhttps://github.com/rabbitmq/rabbitmq-server/pull/2853\nand also we need to be using at least pacemaker-2.0.4-4.el8.\n\nThe rationale for this work is that the current rabbitmq-cluster\nresource agent maintained under the ClusterLabs umbrella is\na cloned resource, which is limited in the number of actions\nit can do in a number of situations (partition, failover, etc).\n\nThe upstream resource agent is a master/slave resource and\nallows for more expressive semantics in general and is preferrable [2].\n\n[1] https://github.com/rabbitmq/rabbitmq-server/blob/master/scripts/rabbitmq-server-ha.ocf\n[2] https://github.com/lemenkov/pmk-rmq.md/blob/master/pmk-rmq.md\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 15, 'created': '2021-06-29 07:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/50e8150b41a277330e10a3ace52820af38917e7c', 'message': 'Allow to use the upstream rabbitmq-server-ha OCF resource agent\n\nWe introduce a new hiera key in order to be able to use the upstream\nrabbitmq-server-ha OCF resource [1].\nFor it to work inside bundles we need to have a rabbitmq-server\npackage inside the bundle which includes at least\nhttps://github.com/rabbitmq/rabbitmq-server/pull/2853\nand also we need to be using at least pacemaker-2.0.4-4.el8.\n\nThe rationale for this work is that the current rabbitmq-cluster\nresource agent maintained under the ClusterLabs umbrella is\na cloned resource, which is limited in the number of actions\nit can do in a number of situations (partition, failover, etc).\n\nThe upstream resource agent is a master/slave resource and\nallows for more expressive semantics in general and is preferrable [2].\n\n[1] https://github.com/rabbitmq/rabbitmq-server/blob/master/scripts/rabbitmq-server-ha.ocf\n[2] https://github.com/lemenkov/pmk-rmq.md/blob/master/pmk-rmq.md\n\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 16, 'created': '2021-06-29 15:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/418ba4c33de9f346a9df1d2457d9a2f6c4924f75', 'message': 'Allow to use the upstream rabbitmq-server-ha OCF resource agent\n\nWe introduce a new hiera key in order to be able to use the upstream\nrabbitmq-server-ha OCF resource [1].\nFor it to work inside bundles we need to have a rabbitmq-server\npackage inside the bundle which includes at least\nhttps://github.com/rabbitmq/rabbitmq-server/pull/2853\nand also we need to be using at least pacemaker-2.0.4-4.el8.\n\nThe rationale for this work is that the current rabbitmq-cluster\nresource agent maintained under the ClusterLabs umbrella is\na cloned resource, which is limited in the number of actions\nit can do in a number of situations (partition, failover, etc).\n\nThe upstream resource agent is a master/slave resource and\nallows for more expressive semantics in general and is preferrable [2].\n\n[1] https://github.com/rabbitmq/rabbitmq-server/blob/master/scripts/rabbitmq-server-ha.ocf\n[2] https://github.com/lemenkov/pmk-rmq.md/blob/master/pmk-rmq.md\n\nCo-authored-by: Bogdan Dobrelya <bdobrelia@redhat.com>\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 17, 'created': '2021-07-31 17:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6e6384a888d765cbb3ff0e0f8fa471be30ee34df', 'message': 'Allow to use the upstream rabbitmq-server-ha OCF resource agent\n\nWe introduce a new hiera key in order to be able to use the upstream\nrabbitmq-server-ha OCF resource [1].\nFor it to work inside bundles we need to have a rabbitmq-server\npackage inside the bundle which includes at least\nhttps://github.com/rabbitmq/rabbitmq-server/pull/2853\nand also we need to be using at least pacemaker-2.0.4-4.el8.\n\nThe rationale for this work is that the current rabbitmq-cluster\nresource agent maintained under the ClusterLabs umbrella is\na cloned resource, which is limited in the number of actions\nit can do in a number of situations (partition, failover, etc).\n\nThe upstream resource agent is a master/slave resource and\nallows for more expressive semantics in general and is preferrable [2].\n\n[1] https://github.com/rabbitmq/rabbitmq-server/blob/master/scripts/rabbitmq-server-ha.ocf\n[2] https://github.com/lemenkov/pmk-rmq.md/blob/master/pmk-rmq.md\n\nCo-authored-by: Bogdan Dobrelya <bdobrelia@redhat.com>\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}, {'number': 18, 'created': '2021-07-31 18:56:57.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'releasenotes/notes/upstream-rabbitmq-server-ha-ocf-resource-agent-0db89eb7c55e64ca.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ae8e9c49125752c4ffb02505a37db1783a8e1d3d', 'message': 'Allow to use the upstream rabbitmq-server-ha OCF resource agent\n\nWe introduce a new hiera key in order to be able to use the upstream\nrabbitmq-server-ha OCF resource [1].\nFor it to work inside bundles we need to have a rabbitmq-server\npackage inside the bundle which includes at least\nhttps://github.com/rabbitmq/rabbitmq-server/pull/2853\nand also we need to be using at least pacemaker-2.0.4-4.el8.\n\nThe rationale for this work is that the current rabbitmq-cluster\nresource agent maintained under the ClusterLabs umbrella is\na cloned resource, which is limited in the number of actions\nit can do in a number of situations (partition, failover, etc).\n\nThe upstream resource agent is a master/slave resource and\nallows for more expressive semantics in general and is preferrable [2].\n\n[1] https://github.com/rabbitmq/rabbitmq-server/blob/master/scripts/rabbitmq-server-ha.ocf\n[2] https://github.com/lemenkov/pmk-rmq.md/blob/master/pmk-rmq.md\n\nCo-authored-by: Bogdan Dobrelya <bdobrelia@redhat.com>\nChange-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148\n'}]",14,685068,ae8e9c49125752c4ffb02505a37db1783a8e1d3d,82,9,18,20172,,,0,"Allow to use the upstream rabbitmq-server-ha OCF resource agent

We introduce a new hiera key in order to be able to use the upstream
rabbitmq-server-ha OCF resource [1].
For it to work inside bundles we need to have a rabbitmq-server
package inside the bundle which includes at least
https://github.com/rabbitmq/rabbitmq-server/pull/2853
and also we need to be using at least pacemaker-2.0.4-4.el8.

The rationale for this work is that the current rabbitmq-cluster
resource agent maintained under the ClusterLabs umbrella is
a cloned resource, which is limited in the number of actions
it can do in a number of situations (partition, failover, etc).

The upstream resource agent is a master/slave resource and
allows for more expressive semantics in general and is preferrable [2].

[1] https://github.com/rabbitmq/rabbitmq-server/blob/master/scripts/rabbitmq-server-ha.ocf
[2] https://github.com/lemenkov/pmk-rmq.md/blob/master/pmk-rmq.md

Co-authored-by: Bogdan Dobrelya <bdobrelia@redhat.com>
Change-Id: Ia273d0dbc668bbae4c6e9cb535bd68783faf0148
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/685068/18 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/rabbitmq_bundle.pp'],1,7c393e6b70665a7c132aa1d13f5bfc0d2e445708,force," $use_masterslave_rabbitmqra = false, # The default nr of ha queues is ceiling(N/2) if $user_ha_queues == 0 { $nr_rabbit_nodes = size($rabbit_nodes) $nr_ha_queues = $nr_rabbit_nodes / 2 + ($nr_rabbit_nodes % 2) $ha_queues_policy = { 'ha-mode' => 'exactly', 'ha-params' => $nr_ha_queues } } elsif $user_ha_queues == -1 { $ha_queues_policy = { 'ha-mode' => 'all' } } else { $nr_ha_queues = $user_ha_queues $ha_queues_policy = { 'ha-mode' => 'exactly', 'ha-params' => $nr_ha_queues } } $ha_policy = merge($ha_queues_policy, $rabbitmq_extra_policies) $ocf_params = ""set_policy='ha-all ^(?!amq\\.).* ${to_json($ha_policy)}'"" if $use_masterslave_rabbitmqra { pacemaker::resource::bundle { 'rabbitmq-bundle': image => $rabbitmq_docker_image, replicas => $rabbitmq_nodes_count, masters => $rabbitmq_nodes_count, location_rule => { resource_discovery => 'exclusive', score => 0, expression => ['rabbitmq-role eq true'], }, container_options => 'network=host', # lint:ignore:140chars options => ""--privileged --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS -e LANG=en_US.UTF-8 -e LC_ALL=en_US.UTF-8${tls_priorities_real}"", # lint:endignore run_command => '/bin/bash /usr/local/bin/kolla_start', network => ""control-port=${rabbitmq_docker_control_port}"", storage_maps => merge($storage_maps, $storage_maps_tls), container_backend => $container_backend, tries => $pcs_tries, } pacemaker::resource::ocf { 'rabbitmq': ocf_agent_name => 'rabbitmq:rabbitmq-server-ha', # no need to set policy as we do so below anyway #resource_params => $ocf_params, meta_params => 'notify=true container-attribute-target=host master-max=${rabbitmq_nodes_count} ordered=true', op_params => 'start timeout=200s stop timeout=200s promote timeout=60s', tries => $pcs_tries, location_rule => { resource_discovery => 'exclusive', score => 0, expression => ['rabbitmq-role eq true'], }, bundle => 'rabbitmq-bundle', require => [Class['::rabbitmq'], Pacemaker::Resource::Bundle['rabbitmq-bundle']], before => Exec['rabbitmq-ready'], } } else { pacemaker::resource::ocf { 'rabbitmq': ocf_agent_name => 'heartbeat:rabbitmq-cluster', resource_params => $ocf_params, meta_params => 'notify=true container-attribute-target=host', op_params => 'start timeout=200s stop timeout=200s', tries => $pcs_tries, location_rule => { resource_discovery => 'exclusive', score => 0, expression => ['rabbitmq-role eq true'], }, bundle => 'rabbitmq-bundle', require => [Class['::rabbitmq'], Pacemaker::Resource::Bundle['rabbitmq-bundle']], before => Exec['rabbitmq-ready'], }"," # The default nr of ha queues is ceiling(N/2) if $user_ha_queues == 0 { $nr_rabbit_nodes = size($rabbit_nodes) $nr_ha_queues = $nr_rabbit_nodes / 2 + ($nr_rabbit_nodes % 2) $ha_queues_policy = { 'ha-mode' => 'exactly', 'ha-params' => $nr_ha_queues } } elsif $user_ha_queues == -1 { $ha_queues_policy = { 'ha-mode' => 'all' } } else { $nr_ha_queues = $user_ha_queues $ha_queues_policy = { 'ha-mode' => 'exactly', 'ha-params' => $nr_ha_queues } } $ha_policy = merge($ha_queues_policy, $rabbitmq_extra_policies) $ocf_params = ""set_policy='ha-all ^(?!amq\\.).* ${to_json($ha_policy)}'"" pacemaker::resource::ocf { 'rabbitmq': ocf_agent_name => 'heartbeat:rabbitmq-cluster', resource_params => $ocf_params, meta_params => 'notify=true container-attribute-target=host', op_params => 'start timeout=200s stop timeout=200s', tries => $pcs_tries, location_rule => { resource_discovery => 'exclusive', score => 0, expression => ['rabbitmq-role eq true'], }, bundle => 'rabbitmq-bundle', require => [Class['::rabbitmq'], Pacemaker::Resource::Bundle['rabbitmq-bundle']], before => Exec['rabbitmq-ready'],",69,29
openstack%2Fkolla-ansible~master~If8e6a02ce0760123f7b076c711727ef575965192,openstack/kolla-ansible,master,If8e6a02ce0760123f7b076c711727ef575965192,baremetal: use docker_yum_gpgkey to fetch docker GPG key,MERGED,2021-07-07 16:23:13.000000000,2021-08-09 15:38:23.000000000,2021-08-09 15:36:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-07 16:23:13.000000000', 'files': ['releasenotes/notes/bug-1934913-a8d436e3d0b950b4.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54737cd13f90a695d126d39a779199dd51dc8653', 'message': 'baremetal: use docker_yum_gpgkey to fetch docker GPG key\n\nCurrently, if you override docker_yum_url, the repo must contain a GPG\nkey at {{ docker_yum_url }}/gpg, despite the fact that the GPG key URL\ncan be overridden separately via docker_yum_gpgkey. This change uses\ndocker_yum_gpgkey consistently, avoiding the need to keep the key in the\nrepo.\n\nCloses-Bug: #1934913\nChange-Id: If8e6a02ce0760123f7b076c711727ef575965192\n'}]",0,799863,54737cd13f90a695d126d39a779199dd51dc8653,9,3,1,14826,,,0,"baremetal: use docker_yum_gpgkey to fetch docker GPG key

Currently, if you override docker_yum_url, the repo must contain a GPG
key at {{ docker_yum_url }}/gpg, despite the fact that the GPG key URL
can be overridden separately via docker_yum_gpgkey. This change uses
docker_yum_gpgkey consistently, avoiding the need to keep the key in the
repo.

Closes-Bug: #1934913
Change-Id: If8e6a02ce0760123f7b076c711727ef575965192
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/799863/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1934913-a8d436e3d0b950b4.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml']",2,54737cd13f90a695d126d39a779199dd51dc8653,," key: ""{{ docker_yum_gpgkey }}"""," key: ""{{ docker_yum_url }}/gpg""",7,1
openstack%2Fpython-tripleoclient~master~I0ba0a78bf8014a329d8eed3b47a8d78769ea1611,openstack/python-tripleoclient,master,I0ba0a78bf8014a329d8eed3b47a8d78769ea1611,Don't initialize created_env_files variable,ABANDONED,2021-06-24 14:28:22.000000000,2021-08-09 15:29:16.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-24 14:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8aa50e655ed0f837139b406b538185a79a60e994', 'message': ""Don't initialize created_env_files variable\n\nThe list can be initialized with the resource registry\nentry in one go. No need to create the empty list, and\nthen extend it.\n\nChange-Id: I0ba0a78bf8014a329d8eed3b47a8d78769ea1611\n""}, {'number': 2, 'created': '2021-06-29 07:13:27.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82e7fdb8c5b0962a527047c2da38b945b1c7028b', 'message': ""Don't initialize created_env_files variable\n\nThe list can be initialized with the resource registry\nentry in one go. No need to create the empty list, and\nthen extend it.\n\nChange-Id: I0ba0a78bf8014a329d8eed3b47a8d78769ea1611\n""}]",0,797906,82e7fdb8c5b0962a527047c2da38b945b1c7028b,12,4,2,24245,,,0,"Don't initialize created_env_files variable

The list can be initialized with the resource registry
entry in one go. No need to create the empty list, and
then extend it.

Change-Id: I0ba0a78bf8014a329d8eed3b47a8d78769ea1611
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/06/797906/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,8aa50e655ed0f837139b406b538185a79a60e994,overcloud_deploy_clean," created_env_files = [ os.path.join(new_tht_root, constants.DEFAULT_RESOURCE_REGISTRY)]"," created_env_files = [] created_env_files.append( os.path.join(new_tht_root, constants.DEFAULT_RESOURCE_REGISTRY))",2,4
openstack%2Fneutron~master~I4de4b089e615353b7fde82bd54e0abefa244c8ab,openstack/neutron,master,I4de4b089e615353b7fde82bd54e0abefa244c8ab,Reduce the fullstack concurrency to 2,MERGED,2021-07-29 15:47:29.000000000,2021-08-09 15:28:16.000000000,2021-08-09 15:26:35.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32291}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-07-29 15:47:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a27bb19e74d0508520d8e827788c2710e97880a6', 'message': 'Reduce the fullstack concurrency to 2\n\nIn order to mitigate the OOM problems in the CI, this patch reduces\nthe fullstack concurrency to 2. That should reduce the memory\nconsumption and will avoid those nasty OOM exceptions.\n\nCloses-Bug: #1938455\nChange-Id: I4de4b089e615353b7fde82bd54e0abefa244c8ab\n'}]",0,802907,a27bb19e74d0508520d8e827788c2710e97880a6,23,7,1,16688,,,0,"Reduce the fullstack concurrency to 2

In order to mitigate the OOM problems in the CI, this patch reduces
the fullstack concurrency to 2. That should reduce the memory
consumption and will avoid those nasty OOM exceptions.

Closes-Bug: #1938455
Change-Id: I4de4b089e615353b7fde82bd54e0abefa244c8ab
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/802907/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a27bb19e74d0508520d8e827788c2710e97880a6,bug/1938455, stestr run --concurrency 2 {posargs} stestr run --concurrency 2 --black-regex neutron.tests.fullstack.test_securitygroup.TestSecurityGroupsSameNetwork.test_securitygroup {posargs}, stestr run --concurrency 3 {posargs} stestr run --concurrency 3 --black-regex neutron.tests.fullstack.test_securitygroup.TestSecurityGroupsSameNetwork.test_securitygroup {posargs},2,2
openstack%2Fnova~stable%2Frocky~I15c3119857970c38541f4de270bd561166334548,openstack/nova,stable/rocky,I15c3119857970c38541f4de270bd561166334548,[neutron] Get only ID and name of the SGs from Neutron,MERGED,2021-05-14 08:59:18.000000000,2021-08-09 15:04:48.000000000,2021-08-09 15:04:48.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-05-14 08:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02189291478b3f293eff9999721c9828a2d3f34a', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)\n(cherry picked from commit 7a80a410a498469d2bbb5f13f3cf06a422dd9055)\n(cherry picked from commit 704b7fd5fcaeaef8521c1eb3bfc947f787b529b9)\n(cherry picked from commit 84480eb7fcdd3fd571012e628f57cfbbed24adc9)\n(cherry picked from commit 5c26ee7b03db9936a50b058b38996ae3be3f9c79)\n'}, {'number': 2, 'created': '2021-07-19 09:37:04.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d27a662be6cee6c11f643f53ca2ce73bdcefa4ac', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)\n(cherry picked from commit f7d84db5876b30d6849877799c08ebc65ac077ca)\n(cherry picked from commit be4a514c8aea073a9188cfc878c9afcc9b03cb28)\n(cherry picked from commit 1aa571103f90228ddf3dc27386486196ad58ba0e)\n(cherry picked from commit 9b24ff384e336d3369b796427d34787872d9a08e)\n'}]",0,791420,d27a662be6cee6c11f643f53ca2ce73bdcefa4ac,25,6,2,11975,,,0,"[neutron] Get only ID and name of the SGs from Neutron

During the VM booting process Nova asks Neutron for the security groups
of the project. If there are no any fields specified, Neutron will
prepare list of security groups with all fields, including rules.
In case if project got many SGs, it may take long time as rules needs to
be loaded separately for each SG on Neutron's side.

During booting of the VM, Nova really needs only ""id"" and ""name"" of the
security groups so this patch limits request to only those 2 fields.

This lazy loading of the SG rules was introduced in Neutron in [1] and
[2].

[1] https://review.opendev.org/#/c/630401/
[2] https://review.opendev.org/#/c/637407/

Related-Bug: #1865223
Change-Id: I15c3119857970c38541f4de270bd561166334548
(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)
(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)
(cherry picked from commit f7d84db5876b30d6849877799c08ebc65ac077ca)
(cherry picked from commit be4a514c8aea073a9188cfc878c9afcc9b03cb28)
(cherry picked from commit 1aa571103f90228ddf3dc27386486196ad58ba0e)
(cherry picked from commit 9b24ff384e336d3369b796427d34787872d9a08e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/791420/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,02189291478b3f293eff9999721c9828a2d3f34a,bug/1865223," # NOTE(slaweq): fields other than name and id aren't really needed # so asking only about those fields will allow Neutron to not # prepare list of rules for each found security group. That may # speed processing of this request a lot in case when tenant has # got many security groups sg_fields = ['id', 'name'] fields=sg_fields, **search_opts).get('security_groups')", **search_opts).get('security_groups'),7,1
openstack%2Fcloudkitty~master~I6864c6d84407ed9512917266ccb06a51bab5714a,openstack/cloudkitty,master,I6864c6d84407ed9512917266ccb06a51bab5714a,Replace deprecated import of ABCs from collections,MERGED,2021-07-22 10:39:38.000000000,2021-08-09 14:59:55.000000000,2021-08-09 14:58:04.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28223}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-22 10:39:38.000000000', 'files': ['cloudkitty/storage/v2/elasticsearch/client.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/10c230618f27f9b835428e531acd23c6b901876b', 'message': 'Replace deprecated import of ABCs from collections\n\nABCs in collections should be imported from collections.abc and direct\nimport from collections is deprecated since Python 3.3.\nThis replaces that deprecated usage mentioned in method descriptions.\n\nChange-Id: I6864c6d84407ed9512917266ccb06a51bab5714a\n'}]",0,801765,10c230618f27f9b835428e531acd23c6b901876b,11,5,1,9816,,,0,"Replace deprecated import of ABCs from collections

ABCs in collections should be imported from collections.abc and direct
import from collections is deprecated since Python 3.3.
This replaces that deprecated usage mentioned in method descriptions.

Change-Id: I6864c6d84407ed9512917266ccb06a51bab5714a
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/65/801765/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/storage/v2/elasticsearch/client.py'],1,10c230618f27f9b835428e531acd23c6b901876b,collections-abc, :type terms: collections.abc.Iterable :type terms: collections.abc.Iterable, :type terms: collections.Iterable :type terms: collections.Iterable,2,2
openstack%2Fpython-cloudkittyclient~master~I5f86540221b80667fc63b8b54659092c637b7353,openstack/python-cloudkittyclient,master,I5f86540221b80667fc63b8b54659092c637b7353,Fix creation of hashmap mapping with a zero cost,MERGED,2021-07-12 17:31:16.000000000,2021-08-09 14:54:15.000000000,2021-08-09 14:52:32.000000000,"[{'_account_id': 7042}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-07-12 17:31:16.000000000', 'files': ['releasenotes/notes/fix-zero-cost-mapping-7a4247cf1c6815f8.yaml', 'cloudkittyclient/v1/rating/hashmap.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/61ef2c337e3c7980b4460383b0b3b6d287faee95', 'message': 'Fix creation of hashmap mapping with a zero cost\n\nA cost of 0.0 was interpreted as a False value, making the check think\nthe cost argument was missing.\n\nChange-Id: I5f86540221b80667fc63b8b54659092c637b7353\nStory: 2009047\nTask: 42814\n'}]",0,800524,61ef2c337e3c7980b4460383b0b3b6d287faee95,8,9,1,15197,,,0,"Fix creation of hashmap mapping with a zero cost

A cost of 0.0 was interpreted as a False value, making the check think
the cost argument was missing.

Change-Id: I5f86540221b80667fc63b8b54659092c637b7353
Story: 2009047
Task: 42814
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/24/800524/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-zero-cost-mapping-7a4247cf1c6815f8.yaml', 'cloudkittyclient/v1/rating/hashmap.py']",2,61ef2c337e3c7980b4460383b0b3b6d287faee95,zero-cost, if kwargs.get('cost') is None:, if not kwargs.get('cost'):,5,1
openstack%2Fansible-collections-openstack~master~I1ada1be0994f526f72f81f7458782afbcca3c92c,openstack/ansible-collections-openstack,master,I1ada1be0994f526f72f81f7458782afbcca3c92c,Allow to attach multiple floating ips to a server,MERGED,2021-01-11 13:05:05.000000000,2021-08-09 14:46:49.000000000,2021-08-09 14:46:49.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 13:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c906465863bee36a9eed3f3819eb59a91448ba00', 'message': 'Allow to attach multiple floating ips to a server\n\nOpenStack allows to attach multiple floating ips to a single server.\nPreviously, only one floating ip was supported by this module. It\nwould call openstacksdk\'s get_server_public_ip(), which in turn\nwould return just one of the attached floating ips. If this floating\nip would not point to the right nat_destination or fixed_address,\nthen the module would fail.\n\nIf no floating ip had been attached to a server, then this module\nwould call openstacksdk\'s add_ips_to_server() with both parameters\n""floating_ip_address"" and ""network"" to attach a floating ip to the\nserver. But both parameters are mutually exclusive [1], i.e.\nadd_ips_to_server() will ignore ""floating_ip_address"" if ""network""\nis set and then choose any non-attached floating ip from ""network"".\nIf ""floating_ip_address"" has not been created in OpenStack and\n""network"" is not given, then this module would not create this\nfloating ip [2].\n\nThe new module code allows to create and add more than one floating\nip to a server. It priorizes more specific parameters over generic\nones, i.e. if both ""floating_ip_address"" and ""network"" are given,\nthen ""floating_ip_address"" precedes ""network"".\n\nParameter ""network"" is now required if ""floating_ip_address"" is\nspecified, because both are necessary when creating floating ips.\n\nModule documentation and args have been updated accordingly.\n\nRef.:\n[1] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987\n[2] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L907\n\nTask: 40939\nStory: 2008181\nChange-Id: I1ada1be0994f526f72f81f7458782afbcca3c92c\n'}, {'number': 2, 'created': '2021-07-29 07:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8c92d51d8a7734ebeacce981e873a9983ec083d0', 'message': 'Allow to attach multiple floating ips to a server\n\nOpenStack allows to attach multiple floating ips to a single server.\nPreviously, only one floating ip was supported by this module. It\nwould call openstacksdk\'s get_server_public_ip(), which in turn\nwould return just one of the attached floating ips. If this floating\nip would not point to the right nat_destination or fixed_address,\nthen the module would fail.\n\nIf no floating ip had been attached to a server, then this module\nwould call openstacksdk\'s add_ips_to_server() with both parameters\n""floating_ip_address"" and ""network"" to attach a floating ip to the\nserver. But both parameters are mutually exclusive [1], i.e.\nadd_ips_to_server() will ignore ""floating_ip_address"" if ""network""\nis set and then choose any non-attached floating ip from ""network"".\nIf ""floating_ip_address"" has not been created in OpenStack and\n""network"" is not given, then this module would not create this\nfloating ip [2].\n\nThe new module code allows to create and add more than one floating\nip to a server. It priorizes more specific parameters over generic\nones, i.e. if both ""floating_ip_address"" and ""network"" are given,\nthen ""floating_ip_address"" precedes ""network"".\n\nParameter ""network"" is now required if ""floating_ip_address"" is\nspecified, because both are necessary when creating floating ips.\n\nModule documentation and args have been updated accordingly.\n\nRef.:\n[1] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987\n[2] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L907\n\nTask: 40939\nStory: 2008181\nChange-Id: I1ada1be0994f526f72f81f7458782afbcca3c92c\n'}, {'number': 3, 'created': '2021-07-30 14:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2ff36ecd7d874d27bcee3be4e0b160283d141ad0', 'message': 'Allow to attach multiple floating ips to a server\n\nOpenStack allows to attach multiple floating ips to a single server.\nPreviously, only one floating ip was supported by this module. It\nwould call openstacksdk\'s get_server_public_ip(), which in turn\nwould return just one of the attached floating ips. If this floating\nip would not point to the right nat_destination or fixed_address,\nthen the module would fail.\n\nIf no floating ip had been attached to a server, then this module\nwould call openstacksdk\'s add_ips_to_server() with both parameters\n""floating_ip_address"" and ""network"" to attach a floating ip to the\nserver. But both parameters are mutually exclusive [1], i.e.\nadd_ips_to_server() will ignore ""floating_ip_address"" if ""network""\nis set and then choose any non-attached floating ip from ""network"".\nIf ""floating_ip_address"" has not been created in OpenStack and\n""network"" is not given, then this module would not create this\nfloating ip [2].\n\nThe new module code allows to create and add more than one floating\nip to a server. It priorizes more specific parameters over generic\nones, i.e. if both ""floating_ip_address"" and ""network"" are given,\nthen ""floating_ip_address"" precedes ""network"".\n\nParameter ""network"" is now required if ""floating_ip_address"" is\nspecified, because both are necessary when creating floating ips.\n\nModule documentation and args have been updated accordingly.\n\nRef.:\n[1] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987\n[2] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L907\n\nTask: 40939\nStory: 2008181\nChange-Id: I1ada1be0994f526f72f81f7458782afbcca3c92c\n'}, {'number': 4, 'created': '2021-07-30 14:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/985f4745d05b4cf1957d18005be79dd7c795ecd0', 'message': 'Allow to attach multiple floating ips to a server\n\nOpenStack allows to attach multiple floating ips to a single server.\nPreviously, only one floating ip was supported by this module. It\nwould call openstacksdk\'s get_server_public_ip(), which in turn\nwould return just one of the attached floating ips. If this floating\nip would not point to the right nat_destination or fixed_address,\nthen the module would fail.\n\nIf no floating ip had been attached to a server, then this module\nwould call openstacksdk\'s add_ips_to_server() with both parameters\n""floating_ip_address"" and ""network"" to attach a floating ip to the\nserver. But both parameters are mutually exclusive [1], i.e.\nadd_ips_to_server() will ignore ""floating_ip_address"" if ""network""\nis set and then choose any non-attached floating ip from ""network"".\nIf ""floating_ip_address"" has not been created in OpenStack and\n""network"" is not given, then this module would not create this\nfloating ip [2].\n\nThe new module code allows to create and add more than one floating\nip to a server. It priorizes more specific parameters over generic\nones, i.e. if both ""floating_ip_address"" and ""network"" are given,\nthen ""floating_ip_address"" precedes ""network"".\n\nParameter ""network"" is now required if ""floating_ip_address"" is\nspecified, because both are necessary when creating floating ips.\n\nModule documentation and args have been updated accordingly.\n\nRef.:\n[1] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987\n[2] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L907\n\nTask: 40939\nStory: 2008181\nChange-Id: I1ada1be0994f526f72f81f7458782afbcca3c92c\n'}, {'number': 5, 'created': '2021-07-30 19:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/94475526f49f1b38530e2cf7a842d0fbee502f64', 'message': 'Allow to attach multiple floating ips to a server\n\nOpenStack allows to attach multiple floating ips to a single server.\nPreviously, only one floating ip was supported by this module. It\nwould call openstacksdk\'s get_server_public_ip(), which in turn\nwould return just one of the attached floating ips. If this floating\nip would not point to the right nat_destination or fixed_address,\nthen the module would fail.\n\nIf no floating ip had been attached to a server, then this module\nwould call openstacksdk\'s add_ips_to_server() with both parameters\n""floating_ip_address"" and ""network"" to attach a floating ip to the\nserver. But both parameters are mutually exclusive [1], i.e.\nadd_ips_to_server() will ignore ""floating_ip_address"" if ""network""\nis set and then choose any non-attached floating ip from ""network"".\nIf ""floating_ip_address"" has not been created in OpenStack and\n""network"" is not given, then this module would not create this\nfloating ip [2].\n\nThe new module code allows to create and add more than one floating\nip to a server. It priorizes more specific parameters over generic\nones, i.e. if both ""floating_ip_address"" and ""network"" are given,\nthen ""floating_ip_address"" precedes ""network"".\n\nParameter ""network"" is now required if ""floating_ip_address"" is\nspecified, because both are necessary when creating floating ips.\n\nModule documentation and args have been updated accordingly.\n\nRef.:\n[1] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987\n[2] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L907\n\nTask: 40939\nStory: 2008181\nChange-Id: I1ada1be0994f526f72f81f7458782afbcca3c92c\n'}, {'number': 6, 'created': '2021-08-03 13:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6ddeaf6cc4d31ec76b7b46388d4b50b225bd23c1', 'message': 'Allow to attach multiple floating ips to a server\n\nOpenStack allows to attach multiple floating ips to a single server.\nPreviously, only one floating ip was supported by this module. It\nwould call openstacksdk\'s get_server_public_ip(), which in turn\nwould return just one of the attached floating ips. If this floating\nip would not point to the right nat_destination or fixed_address,\nthen the module would fail.\n\nIf no floating ip had been attached to a server, then this module\nwould call openstacksdk\'s add_ips_to_server() with both parameters\n""floating_ip_address"" and ""network"" to attach a floating ip to the\nserver. But both parameters are mutually exclusive [1], i.e.\nadd_ips_to_server() will ignore ""floating_ip_address"" if ""network""\nis set and then choose any non-attached floating ip from ""network"".\nIf ""floating_ip_address"" has not been created in OpenStack and\n""network"" is not given, then this module would not create this\nfloating ip [2].\n\nThe new module code allows to create and add more than one floating\nip to a server. It priorizes more specific parameters over generic\nones, i.e. if both ""floating_ip_address"" and ""network"" are given,\nthen ""floating_ip_address"" precedes ""network"".\n\nParameter ""network"" is now required if ""floating_ip_address"" is\nspecified, because both are necessary when creating floating ips.\n\nModule documentation and args have been updated accordingly.\n\nRef.:\n[1] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987\n[2] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L907\n\nTask: 40939\nStory: 2008181\nChange-Id: I1ada1be0994f526f72f81f7458782afbcca3c92c\n'}, {'number': 7, 'created': '2021-08-06 09:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5b09343dc4b3001aa804b1a99d440600942f4755', 'message': 'Allow to attach multiple floating ips to a server\n\nOpenStack allows to attach multiple floating ips to a single server.\nPreviously, only one floating ip was supported by this module. It\nwould call openstacksdk\'s get_server_public_ip(), which in turn\nwould return just one of the attached floating ips. If this floating\nip would not point to the right nat_destination or fixed_address,\nthen the module would fail.\n\nIf no floating ip had been attached to a server, then this module\nwould call openstacksdk\'s add_ips_to_server() with both parameters\n""floating_ip_address"" and ""network"" to attach a floating ip to the\nserver. But both parameters are mutually exclusive [1], i.e.\nadd_ips_to_server() will ignore ""floating_ip_address"" if ""network""\nis set and then choose any non-attached floating ip from ""network"".\nIf ""floating_ip_address"" has not been created in OpenStack and\n""network"" is not given, then this module would not create this\nfloating ip [2].\n\nThe new module code allows to create and add more than one floating\nip to a server. It priorizes more specific parameters over generic\nones, i.e. if both ""floating_ip_address"" and ""network"" are given,\nthen ""floating_ip_address"" precedes ""network"".\n\nParameter ""network"" is now required if ""floating_ip_address"" is\nspecified, because both are necessary when creating floating ips.\n\nModule documentation and args have been updated accordingly.\n\nRef.:\n[1] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987\n[2] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L907\n\nTask: 40939\nStory: 2008181\nChange-Id: I1ada1be0994f526f72f81f7458782afbcca3c92c\n'}, {'number': 8, 'created': '2021-08-06 11:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1cc94816e1f801e19e6fe9ed135b79a659dd43ed', 'message': 'Allow to attach multiple floating ips to a server\n\nOpenStack allows to attach multiple floating ips to a single server.\nPreviously, only one floating ip was supported by this module. It\nwould call openstacksdk\'s get_server_public_ip(), which in turn\nwould return just one of the attached floating ips. If this floating\nip would not point to the right nat_destination or fixed_address,\nthen the module would fail.\n\nIf no floating ip had been attached to a server, then this module\nwould call openstacksdk\'s add_ips_to_server() with both parameters\n""floating_ip_address"" and ""network"" to attach a floating ip to the\nserver. But both parameters are mutually exclusive [1], i.e.\nadd_ips_to_server() will ignore ""floating_ip_address"" if ""network""\nis set and then choose any non-attached floating ip from ""network"".\nIf ""floating_ip_address"" has not been created in OpenStack and\n""network"" is not given, then this module would not create this\nfloating ip [2].\n\nThe new module code allows to create and add more than one floating\nip to a server. It priorizes more specific parameters over generic\nones, i.e. if both ""floating_ip_address"" and ""network"" are given,\nthen ""floating_ip_address"" precedes ""network"".\n\nParameter ""network"" is now required if ""floating_ip_address"" is\nspecified, because both are necessary when creating floating ips.\n\nModule documentation and args have been updated accordingly.\n\nRef.:\n[1] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987\n[2] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L907\n\nTask: 40939\nStory: 2008181\nChange-Id: I1ada1be0994f526f72f81f7458782afbcca3c92c\n'}, {'number': 9, 'created': '2021-08-06 13:02:45.000000000', 'files': ['plugins/modules/floating_ip.py', 'ci/run-collection.yml', 'ci/roles/floating_ip/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3a08a9c07c4abcb1c772b97ae047bec6f18cff47', 'message': 'Allow to attach multiple floating ips to a server\n\nOpenStack allows to attach multiple floating ips to a single server.\nPreviously, only one floating ip was supported by this module. It\nwould call openstacksdk\'s get_server_public_ip(), which in turn\nwould return just one of the attached floating ips. If this floating\nip would not point to the right nat_destination or fixed_address,\nthen the module would fail.\n\nIf no floating ip had been attached to a server, then this module\nwould call openstacksdk\'s add_ips_to_server() with both parameters\n""floating_ip_address"" and ""network"" to attach a floating ip to the\nserver. But both parameters are mutually exclusive [1], i.e.\nadd_ips_to_server() will ignore ""floating_ip_address"" if ""network""\nis set and then choose any non-attached floating ip from ""network"".\nIf ""floating_ip_address"" has not been created in OpenStack and\n""network"" is not given, then this module would not create this\nfloating ip [2].\n\nThe new module code allows to create and add more than one floating\nip to a server. It priorizes more specific parameters over generic\nones, i.e. if both ""floating_ip_address"" and ""network"" are given,\nthen ""floating_ip_address"" precedes ""network"".\n\nParameter ""network"" is now required if ""floating_ip_address"" is\nspecified, because both are necessary when creating floating ips.\n\nModule documentation and args have been updated accordingly.\n\nRef.:\n[1] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987\n[2] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L907\n\nTask: 40939\nStory: 2008181\nChange-Id: I1ada1be0994f526f72f81f7458782afbcca3c92c\n'}]",4,770120,3a08a9c07c4abcb1c772b97ae047bec6f18cff47,41,2,9,32962,,,0,"Allow to attach multiple floating ips to a server

OpenStack allows to attach multiple floating ips to a single server.
Previously, only one floating ip was supported by this module. It
would call openstacksdk's get_server_public_ip(), which in turn
would return just one of the attached floating ips. If this floating
ip would not point to the right nat_destination or fixed_address,
then the module would fail.

If no floating ip had been attached to a server, then this module
would call openstacksdk's add_ips_to_server() with both parameters
""floating_ip_address"" and ""network"" to attach a floating ip to the
server. But both parameters are mutually exclusive [1], i.e.
add_ips_to_server() will ignore ""floating_ip_address"" if ""network""
is set and then choose any non-attached floating ip from ""network"".
If ""floating_ip_address"" has not been created in OpenStack and
""network"" is not given, then this module would not create this
floating ip [2].

The new module code allows to create and add more than one floating
ip to a server. It priorizes more specific parameters over generic
ones, i.e. if both ""floating_ip_address"" and ""network"" are given,
then ""floating_ip_address"" precedes ""network"".

Parameter ""network"" is now required if ""floating_ip_address"" is
specified, because both are necessary when creating floating ips.

Module documentation and args have been updated accordingly.

Ref.:
[1] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987
[2] https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L907

Task: 40939
Story: 2008181
Change-Id: I1ada1be0994f526f72f81f7458782afbcca3c92c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/20/770120/5 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/floating_ip.py'],1,c906465863bee36a9eed3f3819eb59a91448ba00,story_2008181_multiple_floating_ips," - A floating IP address to attach or to detach. When I(state) is present can be used to specify a IP address to attach. I(floating_ip_address) requires I(network) to be set.from ansible.module_utils.basic import AnsibleModuleimport itertoolsdef _list_floating_ips(server): return itertools.chain.from_iterable([ (addr['addr'] for addr in server.addresses[net] if addr['OS-EXT-IPS:type'] == 'floating') for net in server.addresses ]) def _match_floating_ip(cloud, server, floating_ip_address, network_id, fixed_address, nat_destination): if floating_ip_address: return _get_floating_ip(cloud, floating_ip_address) elif not fixed_address and nat_destination: nat_destination_name = cloud.get_network(nat_destination)['name'] return next( (_get_floating_ip(cloud, addr['addr']) for addr in server.addresses.get(nat_destination_name, []) if addr['OS-EXT-IPS:type'] == 'floating'), None) else: # not floating_ip_address and (fixed_address or not nat_destination) # get any of the floating ips that matches fixed_address and/or network f_ip_addrs = _list_floating_ips(server) f_ips = [f_ip for f_ip in cloud.list_floating_ips() if f_ip['floating_ip_address'] in f_ip_addrs] return next( (f_ip for f_ip in f_ips if ((fixed_address and f_ip.fixed_ip_address == fixed_address) or not fixed_address) and ((network_id and f_ip.network == network_id) or not network_id)), None) module = AnsibleModule( argument_spec, required_if=[ ['state', 'absent', ['floating_ip_address']] ], required_by=dict( floating_ip_address=('network',) ), **module_kwargs) try: if not server: # Extract floating ips from server f_ip_addrs = _list_floating_ips(server) # Get details about requested floating ip f_ip = _get_floating_ip(cloud, floating_ip_address) if floating_ip_address else None if network: network_id = cloud.get_network(name_or_id=network)[""id""] else: network_id = None if state == 'present': if floating_ip_address and f_ip and floating_ip_address in f_ip_addrs: # Floating ip address has been assigned to server module.exit_json(changed=False, floating_ip=f_ip) if f_ip and f_ip['attached'] and floating_ip_address not in f_ip_addrs: # Requested floating ip has been attached to different server module.fail_json(msg=""floating-ip {floating_ip_address} already has been attached to different server"" .format(floating_ip_address=floating_ip_address)) if not floating_ip_address: # No specific floating ip requested, i.e. if any floating ip is already assigned to server, # check that it matches requirements. if not fixed_address and nat_destination: # Check if we have any floating ip on the given nat_destination network nat_destination_name = cloud.get_network(nat_destination)['name'] for addr in server.addresses.get(nat_destination_name, []): if addr['OS-EXT-IPS:type'] == 'floating': # A floating ip address has been assigned to the requested nat_destination f_ip = _get_floating_ip(cloud, addr['addr']) module.exit_json(changed=False, floating_ip=f_ip) # else fixed_address or not nat_destination, hence an # analysis of all floating ips of server is required f_ips = [f_ip for f_ip in cloud.list_floating_ips() if f_ip['floating_ip_address'] in f_ip_addrs] for f_ip in f_ips: if network_id and f_ip.network != network_id: # requested network does not match network of floating ip continue if not fixed_address and not nat_destination: # any floating ip will fullfil these requirements module.exit_json(changed=False, floating_ip=f_ip) if fixed_address and f_ip.fixed_ip_address == fixed_address: # a floating ip address has been assigned that points to the requested fixed_address module.exit_json(changed=False, floating_ip=f_ip) if floating_ip_address and not f_ip: # openstacksdk's create_ip requires floating_ip_address and floating_network_id to be set cloud.network.create_ip(floating_ip_address=floating_ip_address, floating_network_id=network_id) # Else floating ip either does not exist or has not been attached yet # Both floating_ip_address and network are mutually exclusive in add_ips_to_server, i.e. # add_ips_to_server will ignore floating_ip_address if network is set # Ref.: https://github.com/openstack/openstacksdk/blob/a6b0ece2821ea79330c4067100295f6bdcbe456e/openstack/cloud/_floating_ip.py#L987 server=server, ips=floating_ip_address, ip_pool=network if not floating_ip_address else None, reuse=reuse, fixed_address=fixed_address, wait=wait, # Update the floating ip status f_ip = _match_floating_ip(cloud, server, floating_ip_address, network_id, fixed_address, nat_destination) f_ip = _match_floating_ip(cloud, server, floating_ip_address, network_id, fixed_address, nat_destination) if f_ip[""fixed_ip_address""]: cloud.detach_ip_from_server(server_id=server['id'], floating_ip_id=f_ip['id'])"," - A floating IP address to attach or to detach. Required only if I(state) is absent. When I(state) is present can be used to specify a IP address to attach.from ansible.module_utils.basic import AnsibleModule, remove_values module = AnsibleModule(argument_spec, **module_kwargs) try: if server is None: if state == 'present': # If f_ip already assigned to server, check that it matches # requirements. public_ip = cloud.get_server_public_ip(server) f_ip = _get_floating_ip(cloud, public_ip) if public_ip else public_ip if f_ip: if network: network_id = cloud.get_network(name_or_id=network)[""id""] else: network_id = None # check if we have floating ip on given nat_destination network if nat_destination: nat_floating_addrs = [ addr for addr in server.addresses.get( cloud.get_network(nat_destination)['name'], []) if addr['addr'] == public_ip and addr['OS-EXT-IPS:type'] == 'floating' ] if len(nat_floating_addrs) == 0: module.fail_json(msg=""server {server} already has a "" ""floating-ip on a different "" ""nat-destination than '{nat_destination}'"" .format(server=server_name_or_id, nat_destination=nat_destination)) if all([fixed_address, f_ip.fixed_ip_address == fixed_address, network, f_ip.network != network_id]): # Current state definitely conflicts with requirements module.fail_json(msg=""server {server} already has a "" ""floating-ip on requested "" ""interface but it doesn't match "" ""requested network {network}: {fip}"" .format(server=server_name_or_id, network=network, fip=remove_values(f_ip, module.no_log_values))) if not network or f_ip.network == network_id: # Requirements are met module.exit_json(changed=False, floating_ip=f_ip) # Requirements are vague enough to ignore existing f_ip and try # to create a new f_ip to the server. server=server, ips=floating_ip_address, ip_pool=network, reuse=reuse, fixed_address=fixed_address, wait=wait, fip_address = cloud.get_server_public_ip(server) # Update the floating IP status f_ip = _get_floating_ip(cloud, fip_address) if floating_ip_address is None: if not server_name_or_id: module.fail_json(msg=""either server or floating_ip_address are required"") server = cloud.get_server(server_name_or_id) floating_ip_address = cloud.get_server_public_ip(server) f_ip = _get_floating_ip(cloud, floating_ip_address) if f_ip[""fixed_ip_address""]: cloud.detach_ip_from_server( server_id=server['id'], floating_ip_id=f_ip['id'])",118,61
openstack%2Fcloudkitty~master~I3419075d6df165409cb1375ad11a5b3f7faa7471,openstack/cloudkitty,master,I3419075d6df165409cb1375ad11a5b3f7faa7471,Custom query Gnocchi collector,MERGED,2021-04-16 13:21:13.000000000,2021-08-09 14:41:20.000000000,2021-08-09 14:39:26.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-04-16 13:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/56d43200d719383cba6b6919dae468556c5d3287', 'message': ""Custom query Gnocchi collector\n\nThis patch proposes a method for operators to customize the\naggregation query executed against Gnocchi. By default, we\nuse the following query:\n```\n'(aggregate RE_AGGREGATION_METHOD (metric METRIC_NAME AGGREGATION_METHOD))'\n```\n\nThis option enables operators to take full advantage of methods/functions\nthat are available on Gnocchi such as any arithmetic operation, logical\noperation, and many others. When using a custom aggregation query, one\ncan use the place-holders `RE_AGGREGATION_METHOD`, `AGGREGATION_METHOD`,\nand `METRIC_NAME`; these placeholders will be replaced in runtime with\nthe configurations of the metric.\n\nDifferent use cases can be addressed with the use of custom queries such\nas handling RadosGW usage data trimming, which causes a decrease in the\nusage data values; Libvirt attach/detach of disks, migration of VMs,\nstart/stop of VMs, which will zero the usage data that are gathered by\nCeilometer compute; and, many other use cases where one might desire a\nmore complex operation to be executed with the data before CloudKitty\nrates it.\n\nChange-Id: I3419075d6df165409cb1375ad11a5b3f7faa7471\n""}, {'number': 2, 'created': '2021-05-04 13:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5bbfad6550c9efe2cb9abe394025ac4ab166dd12', 'message': ""Custom query Gnocchi collector\n\nThis patch proposes a method for operators to customize the\naggregation query executed against Gnocchi. By default, we\nuse the following query:\n```\n'(aggregate RE_AGGREGATION_METHOD (metric METRIC_NAME AGGREGATION_METHOD))'\n```\n\nThis option enables operators to take full advantage of methods/functions\nthat are available on Gnocchi such as any arithmetic operation, logical\noperation, and many others. When using a custom aggregation query, one\ncan use the place-holders `RE_AGGREGATION_METHOD`, `AGGREGATION_METHOD`,\nand `METRIC_NAME`; these placeholders will be replaced in runtime with\nthe configurations of the metric.\n\nDifferent use cases can be addressed with the use of custom queries such\nas handling RadosGW usage data trimming, which causes a decrease in the\nusage data values; Libvirt attach/detach of disks, migration of VMs,\nstart/stop of VMs, which will zero the usage data that are gathered by\nCeilometer compute; and, many other use cases where one might desire a\nmore complex operation to be executed with the data before CloudKitty\nrates it.\n\nChange-Id: I3419075d6df165409cb1375ad11a5b3f7faa7471\n""}, {'number': 3, 'created': '2021-05-04 14:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/77c7363e1ac1105ffc616bce59c1ddf72fcfa41f', 'message': ""Custom query Gnocchi collector\n\nThis patch proposes a method for operators to customize the\naggregation query executed against Gnocchi. By default, we\nuse the following query:\n```\n'(aggregate RE_AGGREGATION_METHOD (metric METRIC_NAME AGGREGATION_METHOD))'\n```\n\nThis option enables operators to take full advantage of methods/functions\nthat are available on Gnocchi such as any arithmetic operation, logical\noperation, and many others. When using a custom aggregation query, one\ncan use the place-holders `RE_AGGREGATION_METHOD`, `AGGREGATION_METHOD`,\nand `METRIC_NAME`; these placeholders will be replaced in runtime with\nthe configurations of the metric.\n\nDifferent use cases can be addressed with the use of custom queries such\nas handling RadosGW usage data trimming, which causes a decrease in the\nusage data values; Libvirt attach/detach of disks, migration of VMs,\nstart/stop of VMs, which will zero the usage data that are gathered by\nCeilometer compute; and, many other use cases where one might desire a\nmore complex operation to be executed with the data before CloudKitty\nrates it.\n\nChange-Id: I3419075d6df165409cb1375ad11a5b3f7faa7471\n""}, {'number': 4, 'created': '2021-07-26 13:14:14.000000000', 'files': ['cloudkitty/tests/collectors/test_gnocchi.py', 'releasenotes/notes/custom-gnocchi-query-a391f5e83d55d771.yaml', 'doc/source/admin/configuration/collector.rst', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/tests/collectors/test_validation.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/bac1960330fd1f5532e07ec788267accf4719565', 'message': 'Custom query Gnocchi collector\n\nThis patch proposes a method for operators to customize the aggregation\nquery executed against Gnocchi. By default, we use the following query:\n\n(aggregate RE_AGGREGATION_METHOD (metric METRIC_NAME AGGREGATION_METHOD))\n\nTherefore, this option enables operators to take full advantage of\noperations available in Gnocchi, such as any arithmetic operations,\nlogical operations and many others. When using a custom aggregation\nquery, one can use the placeholders `RE_AGGREGATION_METHOD`,\n`AGGREGATION_METHOD`, and `METRIC_NAME`: they will be replaced at\nruntime by values from the metric configuration.\n\nDifferent use cases can be addressed with the use of custom queries such\nas handling RadosGW usage data trimming, which causes a decrease in the\nusage data values; Libvirt attach/detach of disks, migration of VMs,\nstart/stop of VMs, which will zero the usage data that are gathered by\nCeilometer compute, and many other use cases where one might desire a\nmore complex operation to be executed on the data before CloudKitty\nrates it.\n\nChange-Id: I3419075d6df165409cb1375ad11a5b3f7faa7471\n'}]",0,786651,bac1960330fd1f5532e07ec788267accf4719565,26,4,4,28356,,,0,"Custom query Gnocchi collector

This patch proposes a method for operators to customize the aggregation
query executed against Gnocchi. By default, we use the following query:

(aggregate RE_AGGREGATION_METHOD (metric METRIC_NAME AGGREGATION_METHOD))

Therefore, this option enables operators to take full advantage of
operations available in Gnocchi, such as any arithmetic operations,
logical operations and many others. When using a custom aggregation
query, one can use the placeholders `RE_AGGREGATION_METHOD`,
`AGGREGATION_METHOD`, and `METRIC_NAME`: they will be replaced at
runtime by values from the metric configuration.

Different use cases can be addressed with the use of custom queries such
as handling RadosGW usage data trimming, which causes a decrease in the
usage data values; Libvirt attach/detach of disks, migration of VMs,
start/stop of VMs, which will zero the usage data that are gathered by
Ceilometer compute, and many other use cases where one might desire a
more complex operation to be executed on the data before CloudKitty
rates it.

Change-Id: I3419075d6df165409cb1375ad11a5b3f7faa7471
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/51/786651/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/tests/collectors/test_gnocchi.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/tests/collectors/test_validation.py']",3,56d43200d719383cba6b6919dae468556c5d3287,custom_query_gnocchi_collector-upstream," 'aggregation_method': 'max', 're_aggregation_method': 'max', 'force_granularity': 3600, 'resource_type': 'res', 'resource_key': 'id', 'use_all_resource_revisions': True, 'custom_query': ''}"," 'aggregation_method': 'max', 're_aggregation_method': 'max', 'force_granularity': 3600, 'resource_type': 'res', 'resource_key': 'id', 'use_all_resource_revisions': True}",85,5
openstack%2Fpuppet-zaqar~master~Ib5912886276155e6a2272d25d76b8d49a6b50ccb,openstack/puppet-zaqar,master,Ib5912886276155e6a2272d25d76b8d49a6b50ccb,Remove Fedora from the supported operating systems,MERGED,2021-08-05 14:30:36.000000000,2021-08-09 14:40:32.000000000,2021-08-09 14:40:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 14:30:36.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/bc1a1022e1debf819864976f46664b83c9f7dc18', 'message': 'Remove Fedora from the supported operating systems\n\nFedora support was dropped by e1b0c4eaa1206621d53097623683d8fac10364e1\nbut it was still left in metadata.json. This change removes that\nleftover.\n\nChange-Id: Ib5912886276155e6a2272d25d76b8d49a6b50ccb\n'}]",0,803607,bc1a1022e1debf819864976f46664b83c9f7dc18,7,3,1,9816,,,0,"Remove Fedora from the supported operating systems

Fedora support was dropped by e1b0c4eaa1206621d53097623683d8fac10364e1
but it was still left in metadata.json. This change removes that
leftover.

Change-Id: Ib5912886276155e6a2272d25d76b8d49a6b50ccb
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/07/803607/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,bc1a1022e1debf819864976f46664b83c9f7dc18,drop-fedora,," ""operatingsystem"": ""Fedora"", ""operatingsystemrelease"": [ ""24"" ] }, {",0,6
openstack%2Fopenstack-ansible~stable%2Fvictoria~I3bf9f5c77f2881d875d982b3ea0e8b9fbc0c0c23,openstack/openstack-ansible,stable/victoria,I3bf9f5c77f2881d875d982b3ea0e8b9fbc0c0c23,Fast fix ceph-ansible bootstrap issue,MERGED,2021-08-09 09:47:39.000000000,2021-08-09 14:38:15.000000000,2021-08-09 14:36:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-09 09:47:39.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11dda725a51d05f5920164c340cfb5341ce864b1', 'message': 'Fast fix ceph-ansible bootstrap issue\n\nceph-ansible used to merge a lot of PR in small periods of time\nwhich results in OSA bootstrap breakage.\nUntil more proper solution lands, we fast-fix that with increase of role\nclone depth.\n\nChange-Id: I3bf9f5c77f2881d875d982b3ea0e8b9fbc0c0c23\n(cherry picked from commit 82592edf6ff3b8c7e2825aa2e5977791f4cb2832)\n'}]",0,803844,11dda725a51d05f5920164c340cfb5341ce864b1,8,4,1,25023,,,0,"Fast fix ceph-ansible bootstrap issue

ceph-ansible used to merge a lot of PR in small periods of time
which results in OSA bootstrap breakage.
Until more proper solution lands, we fast-fix that with increase of role
clone depth.

Change-Id: I3bf9f5c77f2881d875d982b3ea0e8b9fbc0c0c23
(cherry picked from commit 82592edf6ff3b8c7e2825aa2e5977791f4cb2832)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/44/803844/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,11dda725a51d05f5920164c340cfb5341ce864b1,, depth: 50,,1,0
openstack%2Fopenstack-ansible-os_neutron~master~I6a17f919876ec286cc5d1e52060eb7227297786c,openstack/openstack-ansible-os_neutron,master,I6a17f919876ec286cc5d1e52060eb7227297786c,Change OVN metadata protocol to https,ABANDONED,2021-07-23 22:54:38.000000000,2021-08-09 14:33:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-23 22:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/439bc084ef5da857cd89305bb19aeeb38ae910ea', 'message': 'Change OVN metadata protocol to https\n\novn metadata service is broken because haproxy used ssl protocol\nto serve nova_metadata so lets tell ovn_metadata to use https.\n\nChange-Id: I6a17f919876ec286cc5d1e52060eb7227297786c\n'}, {'number': 2, 'created': '2021-07-28 12:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d317f0975200081a490b3899ab644aa052045779', 'message': 'Change OVN metadata protocol to https\n\novn metadata service is broken because haproxy used ssl protocol\nto serve nova_metadata so lets tell ovn_metadata to use https.\n\nChange-Id: I6a17f919876ec286cc5d1e52060eb7227297786c\n'}, {'number': 3, 'created': '2021-08-02 15:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/0e6124723a0f1e69d5c98323489a6dacff61c1b7', 'message': 'Change OVN metadata protocol to https\n\novn metadata service is broken because haproxy used ssl protocol\nto serve nova_metadata so lets tell ovn_metadata to use https.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041\nChange-Id: I6a17f919876ec286cc5d1e52060eb7227297786c\n'}, {'number': 4, 'created': '2021-08-06 15:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b68fef3dcaf6a2edb75e4d7ed7b8aeb874dd9a88', 'message': 'Change OVN metadata protocol to https\n\novn metadata service is broken because haproxy used ssl protocol\nto serve nova_metadata so lets tell ovn_metadata to use https.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/802402\nChange-Id: I6a17f919876ec286cc5d1e52060eb7227297786c\n'}, {'number': 5, 'created': '2021-08-06 20:09:53.000000000', 'files': ['templates/neutron_ovn_metadata_agent.ini.j2', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8d2e7f3199900672cdf1aa152aeae7f1cc060071', 'message': 'Change OVN metadata protocol to https\n\novn metadata service is broken because haproxy used ssl protocol\nto serve nova_metadata so lets tell ovn_metadata to use https.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041\nChange-Id: I6a17f919876ec286cc5d1e52060eb7227297786c\n'}]",2,802135,8d2e7f3199900672cdf1aa152aeae7f1cc060071,17,1,5,28752,,,0,"Change OVN metadata protocol to https

ovn metadata service is broken because haproxy used ssl protocol
to serve nova_metadata so lets tell ovn_metadata to use https.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/803041
Change-Id: I6a17f919876ec286cc5d1e52060eb7227297786c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/35/802135/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron_ovn_metadata_agent.ini.j2'],1,439bc084ef5da857cd89305bb19aeeb38ae910ea,osa/ovn-metadata,"# Protocol to access nova metadata, http or https nova_metadata_protocol = https ",,3,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I3d0c6421e3da7e1e753b99cf87c32fc238a21523,openstack/kolla-ansible,stable/wallaby,I3d0c6421e3da7e1e753b99cf87c32fc238a21523,neutron: fix neutron-server config.json with VMware,MERGED,2021-08-09 11:26:26.000000000,2021-08-09 14:25:01.000000000,2021-08-09 14:23:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-09 11:26:26.000000000', 'files': ['ansible/roles/neutron/templates/neutron-server.json.j2', 'releasenotes/notes/fix-neutron-vmware-4a8804399d47d8d7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e5f0b004a0c8e8c675cc996085a870b518f6c1c', 'message': 'neutron: fix neutron-server config.json with VMware\n\nMissing comma in config.json template rendered invalid JSON with VMware\nplugin agent.\n\nCloses-Bug: #1939080\n\nChange-Id: I3d0c6421e3da7e1e753b99cf87c32fc238a21523\n(cherry picked from commit 2c786a0faf3895e917305cdfc3885134b220daed)\n'}]",0,803845,0e5f0b004a0c8e8c675cc996085a870b518f6c1c,9,4,1,30491,,,0,"neutron: fix neutron-server config.json with VMware

Missing comma in config.json template rendered invalid JSON with VMware
plugin agent.

Closes-Bug: #1939080

Change-Id: I3d0c6421e3da7e1e753b99cf87c32fc238a21523
(cherry picked from commit 2c786a0faf3895e917305cdfc3885134b220daed)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/803845/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron-server.json.j2', 'releasenotes/notes/fix-neutron-vmware-4a8804399d47d8d7.yaml']",2,0e5f0b004a0c8e8c675cc996085a870b518f6c1c,,--- fixes: - | Fixes an issue with ``config.json`` for ``neutron-server`` when a VMware plugin agent is used. ,,6,1
openstack%2Fkolla-ansible~stable%2Fussuri~I3d0c6421e3da7e1e753b99cf87c32fc238a21523,openstack/kolla-ansible,stable/ussuri,I3d0c6421e3da7e1e753b99cf87c32fc238a21523,neutron: fix neutron-server config.json with VMware,MERGED,2021-08-09 11:26:45.000000000,2021-08-09 14:24:55.000000000,2021-08-09 14:23:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-09 11:26:45.000000000', 'files': ['ansible/roles/neutron/templates/neutron-server.json.j2', 'releasenotes/notes/fix-neutron-vmware-4a8804399d47d8d7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/90c3cdc0ab58313d2f21bf768e9dcb32a1af0362', 'message': 'neutron: fix neutron-server config.json with VMware\n\nMissing comma in config.json template rendered invalid JSON with VMware\nplugin agent.\n\nCloses-Bug: #1939080\n\nChange-Id: I3d0c6421e3da7e1e753b99cf87c32fc238a21523\n(cherry picked from commit 2c786a0faf3895e917305cdfc3885134b220daed)\n'}]",0,803847,90c3cdc0ab58313d2f21bf768e9dcb32a1af0362,9,4,1,30491,,,0,"neutron: fix neutron-server config.json with VMware

Missing comma in config.json template rendered invalid JSON with VMware
plugin agent.

Closes-Bug: #1939080

Change-Id: I3d0c6421e3da7e1e753b99cf87c32fc238a21523
(cherry picked from commit 2c786a0faf3895e917305cdfc3885134b220daed)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/803847/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron-server.json.j2', 'releasenotes/notes/fix-neutron-vmware-4a8804399d47d8d7.yaml']",2,90c3cdc0ab58313d2f21bf768e9dcb32a1af0362,,--- fixes: - | Fixes an issue with ``config.json`` for ``neutron-server`` when a VMware plugin agent is used. ,,6,1
openstack%2Frally-openstack~master~I1b4082e121c57585408d23ecc528674ca5924b7e,openstack/rally-openstack,master,I1b4082e121c57585408d23ecc528674ca5924b7e,setup.cfg: Replace dashes with underscores,MERGED,2021-05-01 08:16:36.000000000,2021-08-09 14:12:36.000000000,2021-08-09 14:12:36.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-01 08:16:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0667c24e8ff1d0eb4a734cf516809d63d793b3b1', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I1b4082e121c57585408d23ecc528674ca5924b7e\n""}]",0,789048,0667c24e8ff1d0eb4a734cf516809d63d793b3b1,6,2,1,30092,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I1b4082e121c57585408d23ecc528674ca5924b7e
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/48/789048/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0667c24e8ff1d0eb4a734cf516809d63d793b3b1,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/rally/latest/python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/rally/latest/python-requires = >=3.6,4,4
openstack%2Fkolla~master~Id1aad2c8894331b9540bfc66177368536667f003,openstack/kolla,master,Id1aad2c8894331b9540bfc66177368536667f003,[horizon] Copy Masakari policy in YAML format,MERGED,2021-08-07 09:32:28.000000000,2021-08-09 14:07:36.000000000,2021-08-09 14:06:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-07 09:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6975364883a7442c7556c6cb3bfa56b8bc938ebb', 'message': '[horizon] Copy Masakari policy in YAML format\n\nSince commit 89a90ff9773b93062760df5e3deefb9750112633 in\nmasakari-dashboard (also in Depends-On), Masakari dashboard uses\nand distributes only the policy in YAML format.\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-dashboard/+/798842\nChange-Id: Id1aad2c8894331b9540bfc66177368536667f003\n'}, {'number': 2, 'created': '2021-08-07 09:33:03.000000000', 'files': ['docker/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/eedcfb515021e6082a0626e911f386f00f0f88c6', 'message': '[horizon] Copy Masakari policy in YAML format\n\nSince commit 39f03063c0b0b22e608bbc606423e51be632be2a in\nmasakari-dashboard (also in Depends-On), Masakari dashboard uses\nand distributes only the policy in YAML format.\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-dashboard/+/798842\nChange-Id: Id1aad2c8894331b9540bfc66177368536667f003\n'}]",0,803819,eedcfb515021e6082a0626e911f386f00f0f88c6,18,5,2,30491,,,0,"[horizon] Copy Masakari policy in YAML format

Since commit 39f03063c0b0b22e608bbc606423e51be632be2a in
masakari-dashboard (also in Depends-On), Masakari dashboard uses
and distributes only the policy in YAML format.

Depends-On: https://review.opendev.org/c/openstack/masakari-dashboard/+/798842
Change-Id: Id1aad2c8894331b9540bfc66177368536667f003
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/803819/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/extend_start.sh'],1,6975364883a7442c7556c6cb3bfa56b8bc938ebb,masakari-policy-yaml," ""${SITE_PACKAGES}/masakaridashboard/conf/masakari_policy.yaml"" \ ""/etc/openstack-dashboard/masakari_policy.yaml"""," ""${SITE_PACKAGES}/masakaridashboard/conf/masakari_policy.json"" \ ""/etc/openstack-dashboard/masakari_policy.json""",2,2
openstack%2Fneutron~master~I8dc5336c6e2acd0b0a2cad0e80eee91280b9f945,openstack/neutron,master,I8dc5336c6e2acd0b0a2cad0e80eee91280b9f945,[OVN] Fix Router Availability Zones for segmented networks,MERGED,2021-08-06 14:24:51.000000000,2021-08-09 14:00:21.000000000,2021-08-09 13:58:31.000000000,"[{'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-06 14:24:51.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ac9e2fe6d37ba4608cf141c78017524a5cae1de', 'message': '[OVN] Fix Router Availability Zones for segmented networks\n\nThis patch changes the get_candidates_for_scheduling() method to also\nconsider all gateway chassis as potential candidates (limited by\nAvailability Zones) in case physnet parameter is empty (as for the\nsegmented networks case).\n\nThis patch is a simpler/backportable fix for the segmented networks +\nRouter AZs use case. In the future we should consider refactoring the\ncode responsible for scheduling the gateway router ports, a more detailed\nexplanation of what is happening/needed can be found at LP #1939144.\n\nChange-Id: I8dc5336c6e2acd0b0a2cad0e80eee91280b9f945\nCloses-Bug: #1939144\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,803759,8ac9e2fe6d37ba4608cf141c78017524a5cae1de,13,6,1,6773,,,0,"[OVN] Fix Router Availability Zones for segmented networks

This patch changes the get_candidates_for_scheduling() method to also
consider all gateway chassis as potential candidates (limited by
Availability Zones) in case physnet parameter is empty (as for the
segmented networks case).

This patch is a simpler/backportable fix for the segmented networks +
Router AZs use case. In the future we should consider refactoring the
code responsible for scheduling the gateway router ports, a more detailed
explanation of what is happening/needed can be found at LP #1939144.

Change-Id: I8dc5336c6e2acd0b0a2cad0e80eee91280b9f945
Closes-Bug: #1939144
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/803759/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,8ac9e2fe6d37ba4608cf141c78017524a5cae1de,bug/1939144-router-az-edge," candidates = cms_bmaps or bmaps or cms LOG.debug(""Chassis candidates for scheduling gateway router ports: %s"","," candidates = cms_bmaps or bmaps LOG.debug(""Chassis candidates with external connectivity: %s"",",2,2
openstack%2Foctavia-tempest-plugin~master~Idb5d7fc23ccc72ba91548428e4befb726e46e05c,openstack/octavia-tempest-plugin,master,Idb5d7fc23ccc72ba91548428e4befb726e46e05c,Fix request_interval uses,NEW,2020-10-23 07:18:59.000000000,2021-08-09 13:37:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-10-23 07:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0e3aa53d4de6e1d76a2fac3489e93df99750d376', 'message': ""Fix request_interval uses\n\nThere's a mix between delay and request_interval parameters, sometimes\nboth are passed to a function, but only one is used, some other times,\nonly request_interval is passed but is also unused.\n\n- replace delay with request_interval\n- use request_interval parameter instead of hardcoded values\n- fix time.sleep placement, it should be called after a failing request\n- update some default parameters to sane values\n\nChange-Id: Idb5d7fc23ccc72ba91548428e4befb726e46e05c\n""}, {'number': 2, 'created': '2020-10-23 12:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/eed5ffb1ad369f4cf0fe61ca909dea7f5a26007f', 'message': ""Fix request_interval uses\n\nThere's a mix between delay and request_interval parameters, sometimes\nboth are passed to a function, but only one is used, some other times,\nonly request_interval is passed but is also unused.\n\n- replace delay with request_interval\n- use request_interval parameter instead of hardcoded values\n- fix time.sleep placement, it should be called after a failing request\n- update some default parameters to sane values\n\nChange-Id: Idb5d7fc23ccc72ba91548428e4befb726e46e05c\n""}, {'number': 3, 'created': '2021-08-09 07:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/fe2cd2b5d3adb6c4df59148f2471e110a0b14f55', 'message': ""Fix request_interval uses\n\nThere's a mix between delay and request_interval parameters, sometimes\nboth are passed to a function, but only one is used, some other times,\nonly request_interval is passed but is also unused.\n\n- replace delay with request_interval\n- use request_interval parameter instead of hardcoded values\n- fix time.sleep placement, it should be called after a failing request\n- update some default parameters to sane values\n\nChange-Id: Idb5d7fc23ccc72ba91548428e4befb726e46e05c\n""}, {'number': 4, 'created': '2021-08-09 11:36:00.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_ipv6_traffic_ops.py', 'octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/validators.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d61da47571e99198293088d0b34f80bc6cc8cf68', 'message': ""Fix request_interval uses\n\nThere's a mix between delay and request_interval parameters, sometimes\nboth are passed to a function, but only one is used, some other times,\nonly request_interval is passed but is also unused.\n\n- replace delay with request_interval\n- use request_interval parameter instead of hardcoded values\n- fix time.sleep placement, it should be called after a failing request\n- update some default parameters to sane values\n\nChange-Id: Idb5d7fc23ccc72ba91548428e4befb726e46e05c\n""}]",2,759357,d61da47571e99198293088d0b34f80bc6cc8cf68,11,2,4,29244,,,0,"Fix request_interval uses

There's a mix between delay and request_interval parameters, sometimes
both are passed to a function, but only one is used, some other times,
only request_interval is passed but is also unused.

- replace delay with request_interval
- use request_interval parameter instead of hardcoded values
- fix time.sleep placement, it should be called after a failing request
- update some default parameters to sane values

Change-Id: Idb5d7fc23ccc72ba91548428e4befb726e46e05c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/57/759357/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/validators.py']",2,0e3aa53d4de6e1d76a2fac3489e93df99750d376,," request_interval=1, request_timeout=60): client_cert_path=None, CA_certs_path=None, request_interval=0, request_timeout=10, source_port=None): :param request_interval: The time to pause between requests in seconds, can be fractional. if request_interval is not None: time.sleep(request_interval) time.sleep(request_interval) time.sleep(request_interval)"," request_interval=CONF.load_balancer.build_interval, request_timeout=CONF.load_balancer.build_timeout): client_cert_path=None, CA_certs_path=None, request_interval=2, request_timeout=10, source_port=None, delay=None): :param delay: The time to pause between requests in seconds, can be fractional. if delay is not None: time.sleep(delay) time.sleep(1) time.sleep(1)",20,18
openstack%2Frally-openstack~master~Id6c054b58379bd9bca20d08f130c2ac50bdc8d8f,openstack/rally-openstack,master,Id6c054b58379bd9bca20d08f130c2ac50bdc8d8f,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:40:41.000000000,2021-08-09 13:28:23.000000000,2021-08-09 13:28:23.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-07-08 00:40:41.000000000', 'files': ['etc/motd'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/df83efbf3e1555c39501ecc52ba32e00321ce9c5', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Id6c054b58379bd9bca20d08f130c2ac50bdc8d8f\n'}]",0,799935,df83efbf3e1555c39501ecc52ba32e00321ce9c5,7,3,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Id6c054b58379bd9bca20d08f130c2ac50bdc8d8f
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/35/799935/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/motd'],1,df83efbf3e1555c39501ecc52ba32e00321ce9c5,oftc,"# * irc - ""#openstack-rally"" channel at oftc.net #","# * irc - ""#openstack-rally"" channel at freenode.net #",1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I4f8664c9033502b25b40646cfd8976cc5638e643,openstack/tripleo-ansible,stable/train,I4f8664c9033502b25b40646cfd8976cc5638e643,Copy generated /boot/grub2/grubenv to EFI dirs,MERGED,2021-07-28 20:55:03.000000000,2021-08-09 13:24:13.000000000,2021-08-09 13:24:13.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-28 20:55:03.000000000', 'files': ['tripleo_ansible/roles/tripleo-kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7787e5517e0fe1746fdc1fdfe16b06b931c05837', 'message': 'Copy generated /boot/grub2/grubenv to EFI dirs\n\nThere is an issue with grub2 in rhel-8.2 where generating grub.cfg in\nan EFI directory will regenerate grubenv in /boot/grub2. Then when the\nhost is rebooted, the stale grubenv file in the EFI directory is used,\nand any new kernal args are not used.\n\nThis change works around this by copying /boot/grub2/grubenv to the\nEFI directories. Newer versions of grub2 many not show this behaviour\nbut the workaround can remain in place.\n\nThis change also adds /boot/efi/EFI/BOOT to the list of EFI\ndirectories checked for, as it should have been in the original list.\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1974507\n\nChange-Id: I4f8664c9033502b25b40646cfd8976cc5638e643\n(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)\n'}]",0,802808,7787e5517e0fe1746fdc1fdfe16b06b931c05837,12,3,1,4571,,,0,"Copy generated /boot/grub2/grubenv to EFI dirs

There is an issue with grub2 in rhel-8.2 where generating grub.cfg in
an EFI directory will regenerate grubenv in /boot/grub2. Then when the
host is rebooted, the stale grubenv file in the EFI directory is used,
and any new kernal args are not used.

This change works around this by copying /boot/grub2/grubenv to the
EFI directories. Newer versions of grub2 many not show this behaviour
but the workaround can remain in place.

This change also adds /boot/efi/EFI/BOOT to the list of EFI
directories checked for, as it should have been in the original list.

See https://bugzilla.redhat.com/show_bug.cgi?id=1974507

Change-Id: I4f8664c9033502b25b40646cfd8976cc5638e643
(cherry picked from commit c1d4d602f8d2a3a1010735de10883c5047ad83ca)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/802808/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-kernel/tasks/kernelargs.yml'],1,7787e5517e0fe1746fdc1fdfe16b06b931c05837,train/grubenv," - /boot/efi/EFI/BOOT - /boot/efi/EFI/redhat - /boot/efi/EFI/centos - /boot/efi/EFI/fedora command: ""grub2-mkconfig -o /boot/grub2/grub.cfg"" - name: Generate EFI grub config command: ""grub2-mkconfig -o {{ item.stat.path }}/grub.cfg"" when: item.stat.exists|bool loop: ""{{ grub_stat.results }}"" - name: Copy grubenv to EFI directory copy: remote_src: true src: /boot/grub2/grubenv dest: ""{{ item.stat.path }}/grubenv"""," - /boot/grub2/grub.cfg - /boot/efi/EFI/redhat/grub.cfg - /boot/efi/EFI/centos/grub.cfg - /boot/efi/EFI/fedora/grub.cfg command: ""grub2-mkconfig -o {{ item.stat.path }}""",16,5
openstack%2Fopenstack-ansible-os_keystone~stable%2Fvictoria~I9e27c9a5a73d57256bb05fe1a257d2dd486dd44b,openstack/openstack-ansible-os_keystone,stable/victoria,I9e27c9a5a73d57256bb05fe1a257d2dd486dd44b,DNM: test functional jobs,ABANDONED,2021-04-10 11:27:32.000000000,2021-08-09 13:00:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-10 11:27:32.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/0fcf03ff6ea3382d458b1884178366f423977859', 'message': 'DNM: test functional jobs\n\nChange-Id: I9e27c9a5a73d57256bb05fe1a257d2dd486dd44b\n'}]",0,785752,0fcf03ff6ea3382d458b1884178366f423977859,3,1,1,25023,,,0,"DNM: test functional jobs

Change-Id: I9e27c9a5a73d57256bb05fe1a257d2dd486dd44b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/52/785752/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,0fcf03ff6ea3382d458b1884178366f423977859,,,,0,0
openstack%2Frally~master~I55a90f2ad28887f8623c2baf07d670798aa837e2,openstack/rally,master,I55a90f2ad28887f8623c2baf07d670798aa837e2,Moving IRC network reference to OFTC,MERGED,2021-07-06 22:49:52.000000000,2021-08-09 12:38:26.000000000,2021-08-09 12:38:26.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-07-06 22:49:52.000000000', 'files': ['etc/motd_for_docker', 'doc/source/overview/glossary.rst', 'doc/source/_templates/openstackrally/layout.html', 'doc/source/project_info/index.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/3c43987344836f8668bbbeea9e9f71df79b96ca9', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I55a90f2ad28887f8623c2baf07d670798aa837e2\n'}]",0,799723,3c43987344836f8668bbbeea9e9f71df79b96ca9,7,3,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I55a90f2ad28887f8623c2baf07d670798aa837e2
",git fetch https://review.opendev.org/openstack/rally refs/changes/23/799723/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/motd_for_docker', 'doc/source/overview/glossary.rst', 'doc/source/_templates/openstackrally/layout.html', 'doc/source/project_info/index.rst']",4,3c43987344836f8668bbbeea9e9f71df79b96ca9,oftc,"- `Meeting logs`_ (server: **irc.oftc.net**, channel:- `IRC logs`_ (server: **irc.oftc.net**, channel: **#openstack-rally**)- Our IRC channel: **#openstack-rally** on **irc.oftc.net**; **irc.oftc.net**, held on Mondays at 14:00 UTC;","- `Meeting logs`_ (server: **irc.freenode.net**, channel:- `IRC logs`_ (server: **irc.freenode.net**, channel: **#openstack-rally**)- Our IRC channel: **#openstack-rally** on **irc.freenode.net**; **irc.freenode.net**, held on Mondays at 14:00 UTC;",7,7
openstack%2Fneutron~stable%2Fvictoria~I10e0834594f68e06244c393c00d0b3d840c45fc5,openstack/neutron,stable/victoria,I10e0834594f68e06244c393c00d0b3d840c45fc5,Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr),MERGED,2021-08-06 10:44:22.000000000,2021-08-09 12:20:26.000000000,2021-08-09 12:18:50.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-08-06 10:44:22.000000000', 'files': ['doc/source/ovn/dhcp_opts.rst', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e28f395220ac7f8f060b7771b1c7f0299f16969', 'message': 'Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)\n\nCloses-Bug: #1938569\n\nChange-Id: I10e0834594f68e06244c393c00d0b3d840c45fc5\n(cherry picked from commit d4b1b4a0729c187551e1fa2b2855db136456d496)\n'}]",0,803680,7e28f395220ac7f8f060b7771b1c7f0299f16969,11,5,1,31291,,,0,"Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)

Closes-Bug: #1938569

Change-Id: I10e0834594f68e06244c393c00d0b3d840c45fc5
(cherry picked from commit d4b1b4a0729c187551e1fa2b2855db136456d496)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/803680/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/dhcp_opts.rst', 'neutron/common/ovn/constants.py']",2,7e28f395220ac7f8f060b7771b1c7f0299f16969,," 'ia-addr': 'ia_addr',"," 'ia-addr': 'ip_addr',",2,2
openstack%2Fneutron~stable%2Fwallaby~I10e0834594f68e06244c393c00d0b3d840c45fc5,openstack/neutron,stable/wallaby,I10e0834594f68e06244c393c00d0b3d840c45fc5,Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr),MERGED,2021-08-06 10:43:03.000000000,2021-08-09 12:20:22.000000000,2021-08-09 12:18:46.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-08-06 10:43:03.000000000', 'files': ['doc/source/ovn/dhcp_opts.rst', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ab4b5f246d239e74ba3f1f8bc6577ed8ee5174a', 'message': 'Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)\n\nCloses-Bug: #1938569\n\nChange-Id: I10e0834594f68e06244c393c00d0b3d840c45fc5\n(cherry picked from commit d4b1b4a0729c187551e1fa2b2855db136456d496)\n'}]",0,803679,7ab4b5f246d239e74ba3f1f8bc6577ed8ee5174a,16,5,1,31291,,,0,"Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)

Closes-Bug: #1938569

Change-Id: I10e0834594f68e06244c393c00d0b3d840c45fc5
(cherry picked from commit d4b1b4a0729c187551e1fa2b2855db136456d496)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/803679/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/dhcp_opts.rst', 'neutron/common/ovn/constants.py']",2,7ab4b5f246d239e74ba3f1f8bc6577ed8ee5174a,," 'ia-addr': 'ia_addr',"," 'ia-addr': 'ip_addr',",2,2
openstack%2Fbarbican-specs~master~I4738c5b0a0c3090dc1b223032628327779172cb2,openstack/barbican-specs,master,I4738c5b0a0c3090dc1b223032628327779172cb2,Changed minversion in tox to 3.18.0,NEW,2021-06-17 07:05:37.000000000,2021-08-09 12:11:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-17 07:05:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/b391ae2e2b6a6ffef3dee432e1e0381f17753d4a', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I4738c5b0a0c3090dc1b223032628327779172cb2\n""}]",0,796769,b391ae2e2b6a6ffef3dee432e1e0381f17753d4a,3,2,1,32238,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I4738c5b0a0c3090dc1b223032628327779172cb2
",git fetch https://review.opendev.org/openstack/barbican-specs refs/changes/69/796769/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b391ae2e2b6a6ffef3dee432e1e0381f17753d4a,,minversion = 3.18.0,minversion = 2.0,1,1
openstack%2Fopenstack-ansible~master~I9597f28020da7f42c3c942be9dd6c48f243d150a,openstack/openstack-ansible,master,I9597f28020da7f42c3c942be9dd6c48f243d150a,Do not use https for metadata service with calico networking,MERGED,2021-07-30 14:19:00.000000000,2021-08-09 11:56:03.000000000,2021-08-09 11:54:34.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-07-30 14:19:00.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cea883dfc422cef1476df3573731fe2957d81d35', 'message': 'Do not use https for metadata service with calico networking\n\nChange-Id: I9597f28020da7f42c3c942be9dd6c48f243d150a\n'}]",0,803041,cea883dfc422cef1476df3573731fe2957d81d35,17,4,1,25023,,,0,"Do not use https for metadata service with calico networking

Change-Id: I9597f28020da7f42c3c942be9dd6c48f243d150a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/41/803041/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,cea883dfc422cef1476df3573731fe2957d81d35,," haproxy_ssl: ""{{ (neutron_plugin_type == 'ml2.calico') | ternary(False, haproxy_ssl_all_vips) }}"" haproxy_ssl_all_vips: ""{{ (neutron_plugin_type == 'm2.calico') | ternary(False, haproxy_ssl_all_vips) }}"""," haproxy_ssl: ""{{ haproxy_ssl_all_vips }}"" haproxy_ssl_all_vips: ""{{ haproxy_ssl_all_vips }}""",2,2
openstack%2Fopenstack-ansible~master~I1297965a2031eb49b4f048e09a2a6bb119921e24,openstack/openstack-ansible,master,I1297965a2031eb49b4f048e09a2a6bb119921e24,haproxy: decrease check interval for letsencrypt back ends,MERGED,2021-07-28 14:22:23.000000000,2021-08-09 11:52:42.000000000,2021-08-09 11:51:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-07-28 14:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/63b6ff6176248d80dc16dcef49beae8e8f94632e', 'message': 'haproxy: decrease check frequency for letsencrypt back ends\n\nWhen HTTP challenges are used, the HAProxy letsencrypt integration\nallows a short timeout for the back end to be recognised as up\nbefore the challenge is performed. The role default for this is 5\nseconds.\n\nThe default interval to check an HAProxy back end is 12 seconds,\nwhich means that the challenge response can frequently return\nan HTTP 503 error. This change reduces the check interval to be\nbelow 5 seconds to improve this reliability.\n\nChange-Id: I1297965a2031eb49b4f048e09a2a6bb119921e24\n'}, {'number': 2, 'created': '2021-07-28 14:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b4999db72df05820eed563c9e603c7b28525c535', 'message': 'haproxy: decrease check interval for letsencrypt back ends\n\nWhen HTTP challenges are used, the HAProxy letsencrypt integration\nallows a short timeout for the back end to be recognised as up\nbefore the challenge is performed. The role default for this is 5\nseconds.\n\nThe default interval to check an HAProxy back end is 12 seconds,\nwhich means that the challenge response can frequently return\nan HTTP 503 error. This change reduces the check interval to be\nbelow 5 seconds to improve this reliability.\n\nChange-Id: I1297965a2031eb49b4f048e09a2a6bb119921e24\n'}, {'number': 3, 'created': '2021-08-06 09:13:59.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/17f92b0f59c5c890d3b1a2ec2369b6179f0d6967', 'message': 'haproxy: decrease check interval for letsencrypt back ends\n\nWhen HTTP challenges are used, the HAProxy letsencrypt integration\nallows a short timeout for the back end to be recognised as up\nbefore the challenge is performed. The role default for this is 5\nseconds.\n\nThe default interval to check an HAProxy back end is 12 seconds,\nwhich means that the challenge response can frequently return\nan HTTP 503 error. This change reduces the check interval to be\nbelow 5 seconds to improve this reliability.\n\nChange-Id: I1297965a2031eb49b4f048e09a2a6bb119921e24\n'}]",0,802716,17f92b0f59c5c890d3b1a2ec2369b6179f0d6967,15,3,3,31542,,,0,"haproxy: decrease check interval for letsencrypt back ends

When HTTP challenges are used, the HAProxy letsencrypt integration
allows a short timeout for the back end to be recognised as up
before the challenge is performed. The role default for this is 5
seconds.

The default interval to check an HAProxy back end is 12 seconds,
which means that the challenge response can frequently return
an HTTP 503 error. This change reduces the check interval to be
below 5 seconds to improve this reliability.

Change-Id: I1297965a2031eb49b4f048e09a2a6bb119921e24
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/802716/2 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,63b6ff6176248d80dc16dcef49beae8e8f94632e,, interval: 4000,,1,0
openstack%2Fneutron~master~Ib884be6aa12bd0d3faf83f3e753f8e7aad503b68,openstack/neutron,master,Ib884be6aa12bd0d3faf83f3e753f8e7aad503b68,Use elevated context when getting default SG for tenant,MERGED,2021-08-04 15:04:19.000000000,2021-08-09 11:50:55.000000000,2021-08-09 11:49:14.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 15:04:19.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6c3686cd8f863c49b363504dacdb7641604a102', 'message': 'Use elevated context when getting default SG for tenant\n\nWith new scopes, when e.g. project admin context is used to ensure\ndefault SG for different tenant, elevated context needs to be used\nto make db query. Otherwise default SG will not be found and attempt to\ncreate it in DB may fail with DuplicateDbEntry error.\n\nCloses-Bug: #1938910\nChange-Id: Ib884be6aa12bd0d3faf83f3e753f8e7aad503b68\n'}]",0,803489,e6c3686cd8f863c49b363504dacdb7641604a102,31,4,1,11975,,,0,"Use elevated context when getting default SG for tenant

With new scopes, when e.g. project admin context is used to ensure
default SG for different tenant, elevated context needs to be used
to make db query. Otherwise default SG will not be found and attempt to
create it in DB may fail with DuplicateDbEntry error.

Closes-Bug: #1938910
Change-Id: Ib884be6aa12bd0d3faf83f3e753f8e7aad503b68
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/803489/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,e6c3686cd8f863c49b363504dacdb7641604a102,bug/1938910," # NOTE(slaweq): With new system/project scopes it may happen that # project admin will try to find default SG for different # project. In such case elevated context needs to be used. context.elevated(),"," context,",4,1
openstack%2Fneutron-tempest-plugin~master~I43c0b7781ca2ed98156e125566115196aab530cf,openstack/neutron-tempest-plugin,master,I43c0b7781ca2ed98156e125566115196aab530cf,Fix StatefulConnection to not to fail on exit,MERGED,2021-08-03 07:25:52.000000000,2021-08-09 11:49:11.000000000,2021-08-09 11:49:11.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29088}]","[{'number': 1, 'created': '2021-08-03 07:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9ab16804b5d6ed07dd49bd3db1ac06549adfe6d5', 'message': 'Fix StatefulConnection to not to fail on exit\n\nSome of the images require `tail` process to be explicitly stopped\nafter the `tail -f ... | nc ...` command has been executed and `nc`\nprocess is finished. But most of the time `tail` process is ended\nautomatically that leads to fail of `killall tail` command.\n\nChange-Id: I43c0b7781ca2ed98156e125566115196aab530cf\n'}, {'number': 2, 'created': '2021-08-05 08:12:40.000000000', 'files': ['neutron_tempest_plugin/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5d1043b27afb7b9f9828e98ba426c1e4d075d9e9', 'message': 'Fix StatefulConnection to not to fail on exit\n\nSome of the images require `tail` process to be explicitly stopped\nafter the `tail -f ... | nc ...` command has been executed and `nc`\nprocess is finished. But most of the time `tail` process is ended\nautomatically that leads to fail of `killall tail` command.\n\nChange-Id: I43c0b7781ca2ed98156e125566115196aab530cf\n'}]",5,803315,5d1043b27afb7b9f9828e98ba426c1e4d075d9e9,15,7,2,31450,,,0,"Fix StatefulConnection to not to fail on exit

Some of the images require `tail` process to be explicitly stopped
after the `tail -f ... | nc ...` command has been executed and `nc`
process is finished. But most of the time `tail` process is ended
automatically that leads to fail of `killall tail` command.

Change-Id: I43c0b7781ca2ed98156e125566115196aab530cf
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/15/803315/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/common/utils.py'],1,9ab16804b5d6ed07dd49bd3db1ac06549adfe6d5,, try: self.server_ssh.exec_command('sudo killall tail || killall tail') except exceptions.SSHExecCommandFailed: pass try: self.client_ssh.exec_command('sudo killall tail || killall tail') except exceptions.SSHExecCommandFailed: pass, self.server_ssh.exec_command('sudo killall tail || killall tail') self.client_ssh.exec_command('sudo killall tail || killall tail'),8,2
openstack%2Fopenstack-ansible-os_zun~master~I1aa109e2c258115ad0d1ec61dc1714c73b987583,openstack/openstack-ansible-os_zun,master,I1aa109e2c258115ad0d1ec61dc1714c73b987583,setup.cfg: Replace dashes with underscores,ABANDONED,2021-08-09 11:46:28.000000000,2021-08-09 11:47:02.000000000,,[],"[{'number': 1, 'created': '2021-08-09 11:46:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/30778dd9a155da5791c013fa3cbfb8a1b7a2b561', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1aa109e2c258115ad0d1ec61dc1714c73b987583\n""}]",0,803903,30778dd9a155da5791c013fa3cbfb8a1b7a2b561,2,0,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I1aa109e2c258115ad0d1ec61dc1714c73b987583
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/03/803903/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,30778dd9a155da5791c013fa3cbfb8a1b7a2b561,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_zun/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_zun/latest/,3,3
openstack%2Fswift~master~Ib4cd0bcb23072f9fcd8f69d71cb30b813e996739,openstack/swift,master,Ib4cd0bcb23072f9fcd8f69d71cb30b813e996739,Fixups for container-server: return objects of a given policy,ABANDONED,2021-08-05 11:55:26.000000000,2021-08-09 11:41:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-05 11:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f77429dac018c4768ece7722f11f771e93dd5464', 'message': 'Fixups for container-server: return objects of a given policy\n\nChange-Id: Ib4cd0bcb23072f9fcd8f69d71cb30b813e996739\n'}, {'number': 2, 'created': '2021-08-05 14:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cc72a0ae8372a476aac3f822b425cc372c04d34c', 'message': 'Fixups for container-server: return objects of a given policy\n\nChange-Id: Ib4cd0bcb23072f9fcd8f69d71cb30b813e996739\n'}, {'number': 3, 'created': '2021-08-05 15:53:10.000000000', 'files': ['swift/container/server.py', 'test/unit/proxy/controllers/test_container.py', 'test/probe/test_sharder.py', 'test/unit/container/test_server.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b30c1856911b9fed34f2c21d4b73d550506750fe', 'message': 'Fixups for container-server: return objects of a given policy\n\nChange-Id: Ib4cd0bcb23072f9fcd8f69d71cb30b813e996739\n'}]",2,803589,b30c1856911b9fed34f2c21d4b73d550506750fe,10,1,3,7847,,,0,"Fixups for container-server: return objects of a given policy

Change-Id: Ib4cd0bcb23072f9fcd8f69d71cb30b813e996739
",git fetch https://review.opendev.org/openstack/swift refs/changes/89/803589/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'test/unit/proxy/controllers/test_container.py', 'test/probe/test_sharder.py', 'test/unit/container/test_server.py', 'swift/proxy/controllers/container.py']",5,f77429dac018c4768ece7722f11f771e93dd5464,container-server-return-specified-api-objs, if 'X-Backend-Storage-Policy-Index' in resp.headers:, if resp.headers.get('X-Backend-Storage-Policy-Index'):,51,12
openstack%2Fswift~master~I1b745e2ef8d8f295b2a8a083b3f6717286039f57,openstack/swift,master,I1b745e2ef8d8f295b2a8a083b3f6717286039f57,Preserve X-Backend-Storage-Policy-Index when recursively listing shards,ABANDONED,2021-08-06 10:48:04.000000000,2021-08-09 11:41:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-06 10:48:04.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/76d7a8be59926ecbd301b602356cc87c53d246e6', 'message': 'Preserve X-Backend-Storage-Policy-Index when recursively listing shards\n\nChange-Id: I1b745e2ef8d8f295b2a8a083b3f6717286039f57\n'}]",2,803729,76d7a8be59926ecbd301b602356cc87c53d246e6,5,1,1,7847,,,0,"Preserve X-Backend-Storage-Policy-Index when recursively listing shards

Change-Id: I1b745e2ef8d8f295b2a8a083b3f6717286039f57
",git fetch https://review.opendev.org/openstack/swift refs/changes/29/803729/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py']",2,76d7a8be59926ecbd301b602356cc87c53d246e6,container-server-return-specified-api-objs, policy_key = 'X-Backend-Storage-Policy-Index' if policy_key in resp.headers and policy_key not in req.headers: headers[policy_key] = resp.headers[policy_key], if 'X-Backend-Storage-Policy-Index' in resp.headers: headers['X-Backend-Storage-Policy-Index'] = \ resp.headers['X-Backend-Storage-Policy-Index'],226,39
openstack%2Fkolla-ansible~master~I3d0c6421e3da7e1e753b99cf87c32fc238a21523,openstack/kolla-ansible,master,I3d0c6421e3da7e1e753b99cf87c32fc238a21523,neutron: fix neutron-server config.json with VMware,MERGED,2021-08-09 08:29:59.000000000,2021-08-09 11:10:47.000000000,2021-08-09 11:09:23.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-09 08:29:59.000000000', 'files': ['ansible/roles/neutron/templates/neutron-server.json.j2', 'releasenotes/notes/fix-neutron-vmware-4a8804399d47d8d7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c786a0faf3895e917305cdfc3885134b220daed', 'message': 'neutron: fix neutron-server config.json with VMware\n\nMissing comma in config.json template rendered invalid JSON with VMware\nplugin agent.\n\nCloses-Bug: #1939080\n\nChange-Id: I3d0c6421e3da7e1e753b99cf87c32fc238a21523\n'}]",0,803883,2c786a0faf3895e917305cdfc3885134b220daed,8,2,1,14826,,,0,"neutron: fix neutron-server config.json with VMware

Missing comma in config.json template rendered invalid JSON with VMware
plugin agent.

Closes-Bug: #1939080

Change-Id: I3d0c6421e3da7e1e753b99cf87c32fc238a21523
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/803883/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron-server.json.j2', 'releasenotes/notes/fix-neutron-vmware-4a8804399d47d8d7.yaml']",2,2c786a0faf3895e917305cdfc3885134b220daed,,--- fixes: - | Fixes an issue with ``config.json`` for ``neutron-server`` when a VMware plugin agent is used. ,,6,1
openstack%2Fkolla-ansible~master~I87ef305903ab02226fcaa725ece622647d17811c,openstack/kolla-ansible,master,I87ef305903ab02226fcaa725ece622647d17811c,Remove unused imports in merge_yaml,MERGED,2021-08-06 21:50:43.000000000,2021-08-09 10:53:59.000000000,2021-08-09 10:52:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-06 21:50:43.000000000', 'files': ['ansible/action_plugins/merge_yaml.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d15d94300f257606c7b75dd9949d47288cb68b8d', 'message': 'Remove unused imports in merge_yaml\n\nDumper and Loader are classes seem to be loaded but not used in the merge_yaml\nfile. This change removes them for reducing the number of lines.\n\nChange-Id: I87ef305903ab02226fcaa725ece622647d17811c\n'}]",0,803806,d15d94300f257606c7b75dd9949d47288cb68b8d,9,3,1,8726,,,0,"Remove unused imports in merge_yaml

Dumper and Loader are classes seem to be loaded but not used in the merge_yaml
file. This change removes them for reducing the number of lines.

Change-Id: I87ef305903ab02226fcaa725ece622647d17811c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/803806/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/action_plugins/merge_yaml.py'],1,d15d94300f257606c7b75dd9949d47288cb68b8d,,,try: from yaml import CDumper as Dumper # noqa: F401 from yaml import CLoader as Loader # noqa: F401 except ImportError: from yaml import Dumper # noqa: F401 from yaml import Loader # noqa: F401 ,0,7
openstack%2Fnetworking-generic-switch~master~Id6a4ac7293a6108a353d6ec639fc070e4e6562a8,openstack/networking-generic-switch,master,Id6a4ac7293a6108a353d6ec639fc070e4e6562a8,Increase version of hacking and pycodestyle,MERGED,2021-08-02 14:15:11.000000000,2021-08-09 10:45:24.000000000,2021-08-09 10:44:04.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-02 14:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/8a82215ad475b86e53a22e6f6b334ab2aa4ed0c2', 'message': 'Increase version of hacking and pycodestyle\n\nFix code and tests\n\nChange-Id: Id6a4ac7293a6108a353d6ec639fc070e4e6562a8\n'}, {'number': 2, 'created': '2021-08-04 16:00:41.000000000', 'files': ['networking_generic_switch/tests/unit/test_generic_switch_mech.py', 'networking_generic_switch/tests/unit/netmiko/test_dell.py', 'networking_generic_switch/tests/unit/netmiko/test_netmiko_base.py', 'networking_generic_switch/tests/unit/test_devices.py', 'tox.ini', 'networking_generic_switch/generic_switch_mech.py', 'networking_generic_switch/tests/unit/netmiko/test_juniper.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/1ab2f8d7422cfcc78d152273984dd7ff3e1f17d2', 'message': 'Increase version of hacking and pycodestyle\n\nFix code and tests\n\nChange-Id: Id6a4ac7293a6108a353d6ec639fc070e4e6562a8\n'}]",0,803213,1ab2f8d7422cfcc78d152273984dd7ff3e1f17d2,12,3,2,23851,,,0,"Increase version of hacking and pycodestyle

Fix code and tests

Change-Id: Id6a4ac7293a6108a353d6ec639fc070e4e6562a8
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/13/803213/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/tests/unit/test_generic_switch_mech.py', 'networking_generic_switch/tests/unit/netmiko/test_dell.py', 'networking_generic_switch/tests/unit/netmiko/test_netmiko_base.py', 'networking_generic_switch/tests/unit/test_devices.py', 'tox.ini', 'networking_generic_switch/generic_switch_mech.py', 'networking_generic_switch/tests/unit/netmiko/test_juniper.py']",7,8a82215ad475b86e53a22e6f6b334ab2aa4ed0c2,increase-hacking-pycodestyle," self.assertRaisesRegex(exc.GenericSwitchNetmikoConfigError, ""Reached timeout waiting for"", self.switch.save_configuration, mock_connection) self.assertRaisesRegex(exc.GenericSwitchNetmikoConfigError, ""Reached timeout while attempting"", self.switch.save_configuration, mock_connection) self.assertRaisesRegex(exc.GenericSwitchNetmikoConfigError, ""Reached timeout while attempting"", self.switch.save_configuration, mock_connection) self.assertRaisesRegex(exc.GenericSwitchNetmikoConfigError, ""Failed to commit configuration"", self.switch.save_configuration, mock_connection)"," self.assertRaisesRegexp(exc.GenericSwitchNetmikoConfigError, ""Reached timeout waiting for"", self.switch.save_configuration, mock_connection) self.assertRaisesRegexp(exc.GenericSwitchNetmikoConfigError, ""Reached timeout while attempting"", self.switch.save_configuration, mock_connection) self.assertRaisesRegexp(exc.GenericSwitchNetmikoConfigError, ""Reached timeout while attempting"", self.switch.save_configuration, mock_connection) self.assertRaisesRegexp(exc.GenericSwitchNetmikoConfigError, ""Failed to commit configuration"", self.switch.save_configuration, mock_connection)",39,41
openstack%2Fkolla-ansible~stable%2Fwallaby~Ia85ef26015ff341bff1414da039bed52f34e7cc0,openstack/kolla-ansible,stable/wallaby,Ia85ef26015ff341bff1414da039bed52f34e7cc0,Fix config action when OVN is enabled,MERGED,2021-08-06 15:26:18.000000000,2021-08-09 10:27:29.000000000,2021-08-09 10:25:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-06 15:26:18.000000000', 'files': ['ansible/roles/ovn/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c73be00672b19368e06fe03d01e03236f26d3359', 'message': 'Fix config action when OVN is enabled\n\nPrior to this change, if you generated the config before deploying any\nof the OVN services, it would fail on these tasks as the services will\nnot have been started.\n\nTrivialFix\n\nChange-Id: Ia85ef26015ff341bff1414da039bed52f34e7cc0\n(cherry picked from commit f6c0474afe97b21a1a721d3bd000706f7c0919db)\n'}]",0,803684,c73be00672b19368e06fe03d01e03236f26d3359,9,4,1,30491,,,0,"Fix config action when OVN is enabled

Prior to this change, if you generated the config before deploying any
of the OVN services, it would fail on these tasks as the services will
not have been started.

TrivialFix

Change-Id: Ia85ef26015ff341bff1414da039bed52f34e7cc0
(cherry picked from commit f6c0474afe97b21a1a721d3bd000706f7c0919db)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/803684/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovn/handlers/main.yml'],1,c73be00672b19368e06fe03d01e03236f26d3359,," when: - kolla_action != ""config"" when: - kolla_action != ""config""",,4,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Ia85ef26015ff341bff1414da039bed52f34e7cc0,openstack/kolla-ansible,stable/victoria,Ia85ef26015ff341bff1414da039bed52f34e7cc0,Fix config action when OVN is enabled,MERGED,2021-08-06 16:01:38.000000000,2021-08-09 10:27:25.000000000,2021-08-09 10:25:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-06 16:01:38.000000000', 'files': ['ansible/roles/ovn/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b020dd1e26426d35512888a35072f5fb36fd912', 'message': 'Fix config action when OVN is enabled\n\nPrior to this change, if you generated the config before deploying any\nof the OVN services, it would fail on these tasks as the services will\nnot have been started.\n\nTrivialFix\n\nChange-Id: Ia85ef26015ff341bff1414da039bed52f34e7cc0\n(cherry picked from commit f6c0474afe97b21a1a721d3bd000706f7c0919db)\n'}]",0,803685,1b020dd1e26426d35512888a35072f5fb36fd912,9,4,1,30491,,,0,"Fix config action when OVN is enabled

Prior to this change, if you generated the config before deploying any
of the OVN services, it would fail on these tasks as the services will
not have been started.

TrivialFix

Change-Id: Ia85ef26015ff341bff1414da039bed52f34e7cc0
(cherry picked from commit f6c0474afe97b21a1a721d3bd000706f7c0919db)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/803685/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovn/handlers/main.yml'],1,1b020dd1e26426d35512888a35072f5fb36fd912,," when: - kolla_action != ""config"" when: - kolla_action != ""config""",,4,0
openstack%2Fkolla-ansible~master~I0103d7ef55e6aebe043a582d36f1a2efa137f447,openstack/kolla-ansible,master,I0103d7ef55e6aebe043a582d36f1a2efa137f447,Fix release note for ansible_facts,MERGED,2021-08-09 08:30:44.000000000,2021-08-09 10:27:24.000000000,2021-08-09 10:26:01.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-09 08:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e4822ead4d31f5beffd00d9064a9991db4e94b0', 'message': 'Fix release note for ansible_facts\n\nChange-Id: I0103d7ef55e6aebe043a582d36f1a2efa137f447\n'}, {'number': 2, 'created': '2021-08-09 08:48:25.000000000', 'files': ['releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a08aaf7d8ec4f3f2f9434162f826b8d8f76fca6c', 'message': 'Fix release note for ansible_facts\n\nChange-Id: I0103d7ef55e6aebe043a582d36f1a2efa137f447\n'}]",0,803884,a08aaf7d8ec4f3f2f9434162f826b8d8f76fca6c,16,2,2,14826,,,0,"Fix release note for ansible_facts

Change-Id: I0103d7ef55e6aebe043a582d36f1a2efa137f447
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/803884/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ansible-facts-4279741e84c03ce0.yaml'],1,1e4822ead4d31f5beffd00d9064a9991db4e94b0,," <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars>__ in their Ansible configuration, which may provide some performance"," <https://docs.ansible.com/ansible/latest/reference_appendices/config.html#inject-facts-as-vars> __ in their Ansible configuration, which may provide some performance",2,2
openstack%2Fkolla-ansible~stable%2Fussuri~Ia85ef26015ff341bff1414da039bed52f34e7cc0,openstack/kolla-ansible,stable/ussuri,Ia85ef26015ff341bff1414da039bed52f34e7cc0,Fix config action when OVN is enabled,MERGED,2021-08-06 16:09:58.000000000,2021-08-09 10:27:23.000000000,2021-08-09 10:25:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-06 16:09:58.000000000', 'files': ['ansible/roles/ovn/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70ad1ea10bb6368f60934e817cbc6dbcef40c1f3', 'message': 'Fix config action when OVN is enabled\n\nPrior to this change, if you generated the config before deploying any\nof the OVN services, it would fail on these tasks as the services will\nnot have been started.\n\nTrivialFix\n\nChange-Id: Ia85ef26015ff341bff1414da039bed52f34e7cc0\n(cherry picked from commit f6c0474afe97b21a1a721d3bd000706f7c0919db)\n'}]",0,803686,70ad1ea10bb6368f60934e817cbc6dbcef40c1f3,9,4,1,30491,,,0,"Fix config action when OVN is enabled

Prior to this change, if you generated the config before deploying any
of the OVN services, it would fail on these tasks as the services will
not have been started.

TrivialFix

Change-Id: Ia85ef26015ff341bff1414da039bed52f34e7cc0
(cherry picked from commit f6c0474afe97b21a1a721d3bd000706f7c0919db)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/803686/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovn/handlers/main.yml'],1,70ad1ea10bb6368f60934e817cbc6dbcef40c1f3,," when: - kolla_action != ""config"" when: - kolla_action != ""config""",,4,0
openstack%2Fnetworking-bgpvpn~master~I5f4b6d319316eb1082ebc1d3121dba5d19de58b7,openstack/networking-bgpvpn,master,I5f4b6d319316eb1082ebc1d3121dba5d19de58b7,Remove unecessary READER and WRITER context from bgpvpn_db,MERGED,2021-07-03 06:24:37.000000000,2021-08-09 10:24:38.000000000,2021-08-09 10:23:11.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-03 06:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c9b9a191408fa6f9b2c36631e17e2a65b4136084', 'message': 'Remove unecessary READER and WRITER context from bgpvpn_db\n\nAfter transition to the new enginefacade db calls should be done inside\nthe context of the READER or WRITER transaction. In bgpvpn_db module\nsome methods where decorated to be run inside such transaction but also\n""with"" statement was used inside. This patch gets rid of such\nredundant calls.\n\nChange-Id: I5f4b6d319316eb1082ebc1d3121dba5d19de58b7\n'}, {'number': 2, 'created': '2021-07-08 12:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/b27104c5b92422689552d6354f375f0a9dfe4ae1', 'message': 'Remove unecessary READER and WRITER context from bgpvpn_db\n\nAfter transition to the new enginefacade db calls should be done inside\nthe context of the READER or WRITER transaction. In bgpvpn_db module\nsome methods where decorated to be run inside such transaction but also\n""with"" statement was used inside. This patch gets rid of such\nredundant calls.\n\nChange-Id: I5f4b6d319316eb1082ebc1d3121dba5d19de58b7\n'}, {'number': 3, 'created': '2021-07-08 13:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/fcc0f2ccb396541f54752bf509ab835fb9ef0cd6', 'message': 'Remove unecessary READER and WRITER context from bgpvpn_db\n\nAfter transition to the new enginefacade db calls should be done inside\nthe context of the READER or WRITER transaction. In bgpvpn_db module\nsome methods where decorated to be run inside such transaction but also\n""with"" statement was used inside. This patch gets rid of such\nredundant calls.\n\nChange-Id: I5f4b6d319316eb1082ebc1d3121dba5d19de58b7\n'}, {'number': 4, 'created': '2021-08-06 10:29:26.000000000', 'files': ['networking_bgpvpn/neutron/db/bgpvpn_db.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ce8102612714974510b66b05d8d79d7a79c007cc', 'message': 'Remove unecessary READER and WRITER context from bgpvpn_db\n\nAfter transition to the new enginefacade db calls should be done inside\nthe context of the READER or WRITER transaction. In bgpvpn_db module\nsome methods where decorated to be run inside such transaction but also\n""with"" statement was used inside. This patch gets rid of such\nredundant calls.\n\nChange-Id: I5f4b6d319316eb1082ebc1d3121dba5d19de58b7\n'}]",17,799346,ce8102612714974510b66b05d8d79d7a79c007cc,39,4,4,11975,,,0,"Remove unecessary READER and WRITER context from bgpvpn_db

After transition to the new enginefacade db calls should be done inside
the context of the READER or WRITER transaction. In bgpvpn_db module
some methods where decorated to be run inside such transaction but also
""with"" statement was used inside. This patch gets rid of such
redundant calls.

Change-Id: I5f4b6d319316eb1082ebc1d3121dba5d19de58b7
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/46/799346/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/neutron/db/bgpvpn_db.py'],1,c9b9a191408fa6f9b2c36631e17e2a65b4136084,new-engine-facade," with db_api.CONTEXT_READER.using(context): context.session.add(bgpvpn_db) return self._make_bgpvpn_dict(bgpvpn_db) with db_api.CONTEXT_READER.using(context): context.session.add(router_assoc_db) return self._make_router_assoc_dict(router_assoc_db) for route in port_association['routes']: _add_port_assoc_route_db_from_dict( context, route, port_assoc_db.id)"," @db_api.CONTEXT_WRITER return self._make_bgpvpn_dict(bgpvpn_db) @db_api.CONTEXT_WRITER @db_api.CONTEXT_READER @db_api.CONTEXT_WRITER return self._make_router_assoc_dict(router_assoc_db) @db_api.CONTEXT_READER with db_api.CONTEXT_WRITER.using(context): for route in port_association['routes']: _add_port_assoc_route_db_from_dict( context, route, port_assoc_db.id) @db_api.CONTEXT_READER",9,12
openstack%2Fopenstack-ansible-os_neutron~master~Ie2e7e50a43f52d90aecb634ed0982d380cc2e85f,openstack/openstack-ansible-os_neutron,master,Ie2e7e50a43f52d90aecb634ed0982d380cc2e85f,"Revert ""Mark calico jobs as non voting due to python3 bug""",ABANDONED,2019-09-18 08:19:40.000000000,2021-08-09 10:01:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-09-18 08:19:40.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7e2281953be0f4c6f21288992c8800abde997488', 'message': 'Revert ""Mark calico jobs as non voting due to python3 bug""\n\nThis reverts commit 47827304835054bb17bfde0ad0fa2678ffa517e5.\n\nChange-Id: Ie2e7e50a43f52d90aecb634ed0982d380cc2e85f\n'}]",0,682831,7e2281953be0f4c6f21288992c8800abde997488,4,2,1,25023,,,0,"Revert ""Mark calico jobs as non voting due to python3 bug""

This reverts commit 47827304835054bb17bfde0ad0fa2678ffa517e5.

Change-Id: Ie2e7e50a43f52d90aecb634ed0982d380cc2e85f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/31/682831/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7e2281953be0f4c6f21288992c8800abde997488,, - openstack-ansible-deploy-aio_metal_calico-ubuntu-bionic - openstack-ansible-deploy-aio_metal_calico-ubuntu-bionic, - openstack-ansible-deploy-aio_metal_calico-ubuntu-bionic: voting: false - openstack-ansible-deploy-aio_metal_calico-ubuntu-bionic: voting: false,2,4
openstack%2Ftripleo-heat-templates~master~If7b91fc45aa304ef4bf6c1016aca3a0ed8c06e65,openstack/tripleo-heat-templates,master,If7b91fc45aa304ef4bf6c1016aca3a0ed8c06e65,Fix NovaNfsVersion parameter comment,MERGED,2021-08-06 08:04:39.000000000,2021-08-09 09:56:41.000000000,2021-08-09 09:56:41.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-06 08:04:39.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2b1915a3c3d77474dfee4baa78bbe08c19a819e', 'message': 'Fix NovaNfsVersion parameter comment\n\nChange-Id: If7b91fc45aa304ef4bf6c1016aca3a0ed8c06e65\n'}]",0,803709,b2b1915a3c3d77474dfee4baa78bbe08c19a819e,8,3,1,17216,,,0,"Fix NovaNfsVersion parameter comment

Change-Id: If7b91fc45aa304ef4bf6c1016aca3a0ed8c06e65
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/803709/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,b2b1915a3c3d77474dfee4baa78bbe08c19a819e,fix_nfs_comment,, To not break current installations the default is the previous hard coded version 4.,0,2
openstack%2Fstorlets~master~I4c20390dc3c95a4a5314b5cc5083d39706707439,openstack/storlets,master,I4c20390dc3c95a4a5314b5cc5083d39706707439,added StarterKit This kit contains a storlet example. It is supposed to teach you how to write and deploy your first storlet.,ABANDONED,2015-09-06 19:28:00.000000000,2021-08-09 09:42:01.000000000,,"[{'_account_id': 3}, {'_account_id': 8330}, {'_account_id': 17156}]","[{'number': 1, 'created': '2015-09-06 19:28:00.000000000', 'files': ['StarterKit/build.xml', 'StarterKit/storlets_test_utils.py', 'StarterKit/CsvExample/input/input.txt', 'StarterKit/CsvExample/compile_and_run_CsvExample_TesterDriver.sh', 'StarterKit/CsvExample/src/com/ibm/storlet/CsvExample/CsvExampleStorlet.java', 'StarterKit/README', 'StarterKit/CsvExample_test.py', 'StarterKit/CsvExample/CsvExample_test.py', 'StarterKit/json_simple-1.1.jar', 'StarterKit/CsvExample/build.xml', 'StarterKit/sys_test_params.py', 'StarterKit/CsvExample/src/com/ibm/storlet/CsvExample/TesterDriver.java'], 'web_link': 'https://opendev.org/openstack/storlets/commit/d54993ba04d92b3a4d61c6decab97c70059f9cf6', 'message': 'added StarterKit\nThis kit contains a storlet example. It is supposed to teach you how to write\nand deploy your first storlet.\n\nChange-Id: I4c20390dc3c95a4a5314b5cc5083d39706707439\n'}]",0,220842,d54993ba04d92b3a4d61c6decab97c70059f9cf6,7,3,1,8330,,,0,"added StarterKit
This kit contains a storlet example. It is supposed to teach you how to write
and deploy your first storlet.

Change-Id: I4c20390dc3c95a4a5314b5cc5083d39706707439
",git fetch https://review.opendev.org/openstack/storlets refs/changes/42/220842/1 && git format-patch -1 --stdout FETCH_HEAD,"['StarterKit/build.xml', 'StarterKit/storlets_test_utils.py', 'StarterKit/CsvExample/input/input.txt', 'StarterKit/CsvExample/compile_and_run_CsvExample_TesterDriver.sh', 'StarterKit/CsvExample/src/com/ibm/storlet/CsvExample/CsvExampleStorlet.java', 'StarterKit/README', 'StarterKit/CsvExample_test.py', 'StarterKit/CsvExample/CsvExample_test.py', 'StarterKit/json_simple-1.1.jar', 'StarterKit/CsvExample/build.xml', 'StarterKit/sys_test_params.py', 'StarterKit/CsvExample/src/com/ibm/storlet/CsvExample/TesterDriver.java']",12,d54993ba04d92b3a4d61c6decab97c70059f9cf6,,"/* Licensed Materials - Property of IBM Copyright IBM Corp. 2014, 2014 All Rights Reserved US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp. */ package com.ibm.storlet.CsvExample; import java.io.*; import com.ibm.storlet.common.*; import com.ibm.storlet.CsvExample.*; import java.util.ArrayList; import java.util.HashMap; import java.util.Map; public class TesterDriver { public static final String LOGGER_FILE_NAME = ""log.txt""; public static final String INPUT_FILE_NAME = ""../input/input.txt""; public static final String OUTPUT_FILE_NAME = ""output.txt""; public static final String OUTPUT_MD_FILE_NAME = ""output_md.txt""; public static void main(String[] args) { System.out.println(""entering main""); try { // prepare an input stream and output stream FileInputStream infile = new FileInputStream(INPUT_FILE_NAME); FileOutputStream outfile = new FileOutputStream(OUTPUT_FILE_NAME); FileOutputStream outfile_md = new FileOutputStream(OUTPUT_MD_FILE_NAME); HashMap<String, String> md = new HashMap<String, String>(); StorletInputStream inputStream1 = new StorletInputStream(infile.getFD(), md); StorletObjectOutputStream outStream = new StorletObjectOutputStream(outfile.getFD(), md, outfile_md.getFD()); ArrayList<StorletInputStream> inputStreams = new ArrayList<StorletInputStream>(); inputStreams.add(inputStream1); ArrayList<StorletOutputStream> outStreams = new ArrayList<StorletOutputStream>(); outStreams.add(outStream); FileOutputStream loggerFile = new FileOutputStream(LOGGER_FILE_NAME); CsvExampleStorlet storlet = new CsvExampleStorlet(); StorletLogger logger = new StorletLogger(loggerFile.getFD()); Map<String, String> parameters = new HashMap<String, String>(); System.out.println(""before storlet""); storlet.invoke(inputStreams, outStreams, parameters, logger); System.out.println(""after storlet""); } catch (Exception e) { System.out.println(""had an exception""); System.out.println(e.getMessage()); } System.out.println(""exiting main""); } } ",,693,0
openstack%2Fneutron-lib~master~Ia03cebdd030dbfa489bccb3b104e5db71dac0aef,openstack/neutron-lib,master,Ia03cebdd030dbfa489bccb3b104e5db71dac0aef,Add API extension definition for QoS minimum pps rule,MERGED,2021-07-27 12:12:21.000000000,2021-08-09 09:20:51.000000000,2021-08-06 16:54:02.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 12:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3d3fc683caf503f701e70caf1c06182adc12e240', 'message': 'Add API extension definition for QoS minimum pps rule\n\nThis patch adds a new API extension definition for QoS minimum\npacket rate (pps) rule.\n\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ia03cebdd030dbfa489bccb3b104e5db71dac0aef\n'}, {'number': 2, 'created': '2021-07-27 13:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/69384a13a0ed9a750fde2daf4dc61ae2497610c0', 'message': 'Add API extension definition for QoS minimum pps rule\n\nThis patch adds a new API extension definition for QoS minimum\npacket rate (pps) rule.\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ia03cebdd030dbfa489bccb3b104e5db71dac0aef\n'}, {'number': 3, 'created': '2021-07-30 11:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/27e3bddd6c1853c312dc1e1ba9d034b1eabb4ae4', 'message': 'Add API extension definition for QoS minimum pps rule\n\nThis patch adds a new API extension definition for QoS minimum\npacket rate (pps) rule.\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ia03cebdd030dbfa489bccb3b104e5db71dac0aef\n'}, {'number': 4, 'created': '2021-08-04 11:14:15.000000000', 'files': ['api-ref/source/v2/qos.inc', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rules-list-response.json', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rule-create-response.json', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/qos_pps_minimum_rule.py', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rule-create-request.json', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rule-update-request.json', 'neutron_lib/services/qos/constants.py', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rule-show-response.json', 'neutron_lib/constants.py', 'neutron_lib/tests/unit/api/definitions/test_qos_pps_minimum_rule.py', 'releasenotes/notes/qos-pps-minimum-1f9a5433d7d4fecd.yaml', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rule-update-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/83b6727dad09f69ce05574babbb288204907e858', 'message': 'Add API extension definition for QoS minimum pps rule\n\nThis patch adds a new API extension definition for QoS minimum\npacket rate (pps) rule.\n\nRelated-Bug: #1922237\nSee-Also: https://review.opendev.org/785236\nChange-Id: Ia03cebdd030dbfa489bccb3b104e5db71dac0aef\n'}]",34,802486,83b6727dad09f69ce05574babbb288204907e858,42,7,4,33652,,,0,"Add API extension definition for QoS minimum pps rule

This patch adds a new API extension definition for QoS minimum
packet rate (pps) rule.

Related-Bug: #1922237
See-Also: https://review.opendev.org/785236
Change-Id: Ia03cebdd030dbfa489bccb3b104e5db71dac0aef
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/86/802486/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/qos.inc', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rules-list-response.json', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rule-create-response.json', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/qos_pps_minimum_rule.py', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rule-create-request.json', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rule-update-request.json', 'neutron_lib/services/qos/constants.py', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rule-show-response.json', 'neutron_lib/constants.py', 'neutron_lib/tests/unit/api/definitions/test_qos_pps_minimum_rule.py', 'releasenotes/notes/qos-pps-minimum-1f9a5433d7d4fecd.yaml', 'api-ref/source/v2/samples/qos/minimum_packet_rate_rule-update-response.json']",14,3d3fc683caf503f701e70caf1c06182adc12e240,bp/qos-minimum-guaranteed-packet-rate,"{ ""minimum_packet_rate_rule"": { ""id"": ""5f126d84-551a-4dcf-bb01-0e9c0df0c794"", ""min_kpps"": 2000, ""direction"": ""any"" } } ",,445,0
openstack%2Fneutron~master~I8f17a2339320cd3a9ec6d4f900b8ecfea1cc8deb,openstack/neutron,master,I8f17a2339320cd3a9ec6d4f900b8ecfea1cc8deb,[IPAM] Forbid creation of the ports with gateway IP address,ABANDONED,2021-08-03 12:45:49.000000000,2021-08-09 09:11:21.000000000,,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-03 12:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9daefe8cea196d514e26de6e00f9dddcec21424b', 'message': ""[IPAM] Forbid creation of the ports with gateway IP address\n\nCreation of the port with given fixed_ip address which is the same as\nsubnet's gateway IP address is now forbidden for ports which aren't\nrouter's ports.\n\nCloses-Bug: #1938788\nChange-Id: I8f17a2339320cd3a9ec6d4f900b8ecfea1cc8deb\n""}, {'number': 2, 'created': '2021-08-04 10:32:40.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/db/test_dvr_mac_db.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5a18d2bb852768c2776df1cb5401a667e65f70f', 'message': ""[IPAM] Forbid creation of the ports with gateway IP address\n\nCreation of the port with given fixed_ip address which is the same as\nsubnet's gateway IP address is now forbidden for ports which aren't\nrouter's ports.\n\nCloses-Bug: #1938788\nChange-Id: I8f17a2339320cd3a9ec6d4f900b8ecfea1cc8deb\n""}]",0,803334,a5a18d2bb852768c2776df1cb5401a667e65f70f,14,3,2,11975,,,0,"[IPAM] Forbid creation of the ports with gateway IP address

Creation of the port with given fixed_ip address which is the same as
subnet's gateway IP address is now forbidden for ports which aren't
router's ports.

Closes-Bug: #1938788
Change-Id: I8f17a2339320cd3a9ec6d4f900b8ecfea1cc8deb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/803334/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/db/test_dvr_mac_db.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py']",4,9daefe8cea196d514e26de6e00f9dddcec21424b,bug/1938788," def test_test_fixed_ips_for_port_fixed_ip_is_gateway_ip(self): context = mock.Mock() pluggable_backend = ipam_pluggable_backend.IpamPluggableBackend() with self.subnet() as subnet: subnet = subnet['subnet'] fixed_ips = [{'subnet_id': subnet['id'], 'ip_address': subnet['gateway_ip']}] self.assertRaises( n_exc.IpAddressInUse, pluggable_backend._test_fixed_ips_for_port, context, subnet['network_id'], fixed_ips, constants.DEVICE_OWNER_COMPUTE_PREFIX + 'None', [subnet]) def test_test_fixed_ips_for_port_fixed_ip_is_gateway_ip_router(self): context = mock.Mock() pluggable_backend = ipam_pluggable_backend.IpamPluggableBackend() with self.subnet() as subnet: subnet = subnet['subnet'] fixed_ips = [{'subnet_id': subnet['id'], 'ip_address': subnet['gateway_ip']}] filtered_ips = (pluggable_backend. _test_fixed_ips_for_port(context, subnet['network_id'], fixed_ips, constants.DEVICE_OWNER_ROUTER_INTF, [subnet])) # Assert that ports created on prefix delegation subnets # will be returned without an ip address. This prevents router # interfaces being given the ::1 gateway address. self.assertEqual(1, len(filtered_ips)) self.assertEqual(subnet['id'], filtered_ips[0]['subnet_id']) self.assertEqual(subnet['gateway_ip'], filtered_ips[0]['ip_address']) ",,52,4
openstack%2Fkolla-ansible~master~I98f2b46b62c578cdae243d917ae69d2fb44af2dd,openstack/kolla-ansible,master,I98f2b46b62c578cdae243d917ae69d2fb44af2dd,tools/kolla-ansible: make configdir as an optional argument,NEW,2021-08-05 20:02:42.000000000,2021-08-09 09:08:06.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 20:02:42.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6599deb52b9d21b9e37dc56136793acfe5ebde76', 'message': 'tools/kolla-ansible: make configdir as an optional argument\n\nBased on node_config var in ansible vars and pass needed variables as a group_vars we can skip extra vars and just simply run the playbook\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: I98f2b46b62c578cdae243d917ae69d2fb44af2dd\n'}]",3,803648,6599deb52b9d21b9e37dc56136793acfe5ebde76,6,2,1,33826,,,0,"tools/kolla-ansible: make configdir as an optional argument

Based on node_config var in ansible vars and pass needed variables as a group_vars we can skip extra vars and just simply run the playbook

Signed-off-by: Seena Fallah <seenafallah@gmail.com>
Change-Id: I98f2b46b62c578cdae243d917ae69d2fb44af2dd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/803648/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,6599deb52b9d21b9e37dc56136793acfe5ebde76,kolla-ansible-optional-configdir,"if [ -d ${CONFIG_DIR} ]; then GLOBALS_DIR=""${CONFIG_DIR}/globals.d"" EXTRA_GLOBALS=$(find ${GLOBALS_DIR} -maxdepth 1 -type f -name '*.yml' -printf ' -e @%p' 2>/dev/null) PASSWORDS_FILE=""${PASSWORDS_FILE:-${CONFIG_DIR}/passwords.yml}"" CONFIG_OPTS=""-e @${CONFIG_DIR}/globals.yml ${EXTRA_GLOBALS} -e @${PASSWORDS_FILE} -e CONFIG_DIR=${CONFIG_DIR}"" CMD=""ansible-playbook -i $INVENTORY $CONFIG_OPTS $EXTRA_OPTS $PLAYBOOK $VERBOSITY"" else CMD=""ansible-playbook -i $INVENTORY $EXTRA_OPTS $PLAYBOOK $VERBOSITY"" fi","GLOBALS_DIR=""${CONFIG_DIR}/globals.d"" EXTRA_GLOBALS=$(find ${GLOBALS_DIR} -maxdepth 1 -type f -name '*.yml' -printf ' -e @%p' 2>/dev/null) PASSWORDS_FILE=""${PASSWORDS_FILE:-${CONFIG_DIR}/passwords.yml}"" CONFIG_OPTS=""-e @${CONFIG_DIR}/globals.yml ${EXTRA_GLOBALS} -e @${PASSWORDS_FILE} -e CONFIG_DIR=${CONFIG_DIR}"" CMD=""ansible-playbook -i $INVENTORY $CONFIG_OPTS $EXTRA_OPTS $PLAYBOOK $VERBOSITY""",9,5
openstack%2Fbifrost~master~I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89,openstack/bifrost,master,I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89,Improve main function,MERGED,2021-08-06 18:20:17.000000000,2021-08-09 08:57:02.000000000,2021-08-09 08:55:20.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-06 18:20:17.000000000', 'files': ['bifrost/cli.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6027b173b91629ed60067908f595004328f633eb', 'message': ""Improve main function\n\nThe main function is wrapped with a sys.exit function[1] which has an optional\nargument but the current implementation doesn't return a value in case of a\nsuccessful execution. This change ensures that main function returns a value\nconsumed by sys.exit function.\n\n[1] https://docs.python.org/3/library/sys.html#sys.exit\n\nChange-Id: I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89\n""}]",0,803799,6027b173b91629ed60067908f595004328f633eb,8,4,1,8726,,,0,"Improve main function

The main function is wrapped with a sys.exit function[1] which has an optional
argument but the current implementation doesn't return a value in case of a
successful execution. This change ensures that main function returns a value
consumed by sys.exit function.

[1] https://docs.python.org/3/library/sys.html#sys.exit

Change-Id: I3b65db9ce57e53b8696e417bcfbd52c67ddb0b89
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/99/803799/1 && git format-patch -1 --stdout FETCH_HEAD,['bifrost/cli.py'],1,6027b173b91629ed60067908f595004328f633eb,, return str(exc) except KeyboardInterrupt: return 'Aborting by user request' return 0, sys.exit(str(exc)) except KeyboardInterrupt: sys.exit('Aborting by user request'),3,2
openstack%2Fpython-tripleoclient~master~If13bbe77b8ea1a59cbc1d8c8b8e3fc652a9f0b15,openstack/python-tripleoclient,master,If13bbe77b8ea1a59cbc1d8c8b8e3fc652a9f0b15,Fix 'cell export' no attribute exception,MERGED,2021-08-06 16:48:19.000000000,2021-08-09 08:21:32.000000000,2021-08-09 08:20:08.000000000,"[{'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 16:48:19.000000000', 'files': ['tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/12d9efbdaecfeb2623588d0a61798ab0ecbc8206', 'message': ""Fix 'cell export' no attribute exception\n\nThis patch resolves an issue in trying to use the 'overcloud cell\nexport' command where the old tripleoclient.orchestration\nproperty was still in use. This patch updates the code to\naccess the orchestration client directly similar to what we did in\ncdcf16ee457e36d0db1dc1e1b98201ca42ad147d.\n\nChange-Id: If13bbe77b8ea1a59cbc1d8c8b8e3fc652a9f0b15\nCloses-Bug: 1939167\n""}]",0,803788,12d9efbdaecfeb2623588d0a61798ab0ecbc8206,8,3,1,360,,,0,"Fix 'cell export' no attribute exception

This patch resolves an issue in trying to use the 'overcloud cell
export' command where the old tripleoclient.orchestration
property was still in use. This patch updates the code to
access the orchestration client directly similar to what we did in
cdcf16ee457e36d0db1dc1e1b98201ca42ad147d.

Change-Id: If13bbe77b8ea1a59cbc1d8c8b8e3fc652a9f0b15
Closes-Bug: 1939167
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/88/803788/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_cell.py'],1,12d9efbdaecfeb2623588d0a61798ab0ecbc8206,cell_export_fix, heat = clients.orchestration, heat = clients.tripleoclient.orchestration,1,1
openstack%2Fopenstack-ansible~master~I2db22f3106c37b690955d7e7a893815e5991e8ce,openstack/openstack-ansible,master,I2db22f3106c37b690955d7e7a893815e5991e8ce,set non-voting for broken tox-doc test,MERGED,2021-08-03 15:59:37.000000000,2021-08-09 07:51:36.000000000,2021-08-06 01:18:27.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-08-03 15:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1bff75825fa5179822d4d9921cf0a1617077f846', 'message': 'set non-voting for broken tox-doc test\n\nChange-Id: I2db22f3106c37b690955d7e7a893815e5991e8ce\n'}, {'number': 2, 'created': '2021-08-03 16:06:06.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/de64a324e35058a2a8fff7de7e8041ac8cd2f2f3', 'message': 'set non-voting for broken tox-doc test\n\nChange-Id: I2db22f3106c37b690955d7e7a893815e5991e8ce\n'}]",1,803371,de64a324e35058a2a8fff7de7e8041ac8cd2f2f3,16,3,2,28752,,,0,"set non-voting for broken tox-doc test

Change-Id: I2db22f3106c37b690955d7e7a893815e5991e8ce
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/71/803371/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,1bff75825fa5179822d4d9921cf0a1617077f846,osa/tox-doc, voting: false voting: false,,2,0
openstack%2Freleases~master~Id4e72231b72abd109a04c48af8a3cd9d4b20c446,openstack/releases,master,Id4e72231b72abd109a04c48af8a3cd9d4b20c446,[designate-tempest-plugin] Tag train-last,MERGED,2021-07-17 00:24:27.000000000,2021-08-09 06:47:09.000000000,2021-08-09 06:47:09.000000000,"[{'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-17 00:24:27.000000000', 'files': ['deliverables/train/designate-tempest-plugin.yaml', 'deliverables/xena/designate-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/897b45890d4f7c005dff110165a76caf09964bd8', 'message': ""[designate-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: Id4e72231b72abd109a04c48af8a3cd9d4b20c446\n""}]",0,801172,897b45890d4f7c005dff110165a76caf09964bd8,9,5,1,8556,,,0,"[designate-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: Id4e72231b72abd109a04c48af8a3cd9d4b20c446
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/801172/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/designate-tempest-plugin.yaml', 'deliverables/xena/designate-tempest-plugin.yaml']",2,897b45890d4f7c005dff110165a76caf09964bd8,train-last,releases: - version: 0.12.0 projects: - repo: openstack/designate-tempest-plugin hash: da27a70ae2b39695ef6f03bbefb55afeacf1cdf3,,9,0
openstack%2Freleases~master~I4face10976f5d5e6885cad8b4cd7e86066c32067,openstack/releases,master,I4face10976f5d5e6885cad8b4cd7e86066c32067,[cinder-tempest-plugin] Tag train-last,MERGED,2021-07-17 00:27:56.000000000,2021-08-09 06:47:07.000000000,2021-08-09 06:47:07.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-17 00:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/027b17249c4557a86d382a7fc747974c87b725ee', 'message': ""[cinder-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I4face10976f5d5e6885cad8b4cd7e86066c32067\n""}, {'number': 2, 'created': '2021-08-04 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/49ef08a89b92cbbadd55560453fcfb1b0d07fa8e', 'message': ""[cinder-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I4face10976f5d5e6885cad8b4cd7e86066c32067\n""}, {'number': 3, 'created': '2021-08-06 15:49:41.000000000', 'files': ['deliverables/train/cinder-tempest-plugin.yaml', 'deliverables/xena/cinder-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/595ec6d479bb46dc407fc7348cdf27f6f4b19e53', 'message': ""[cinder-tempest-plugin] Tag train-last\n\nTrain branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'train-last'[4] as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/train/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance\n\nChange-Id: I4face10976f5d5e6885cad8b4cd7e86066c32067\n""}]",0,801173,595ec6d479bb46dc407fc7348cdf27f6f4b19e53,22,5,3,8556,,,0,"[cinder-tempest-plugin] Tag train-last

Train branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'train-last'[4] as well as a new version also with same hash.

[1] https://releases.openstack.org/train/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[4] https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance

Change-Id: I4face10976f5d5e6885cad8b4cd7e86066c32067
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/801173/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/cinder-tempest-plugin.yaml', 'deliverables/xena/cinder-tempest-plugin.yaml']",2,027b17249c4557a86d382a7fc747974c87b725ee,train-last,releases: - version: 1.4.0 projects: - repo: openstack/cinder-tempest-plugin hash: eba85546f15c564f5762f0dfd4a754eec6b78b0a,,9,0
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I45e1ac9afa2de82d0ad025e7195297240ae45e72,openstack/puppet-openstack-integration,stable/train,I45e1ac9afa2de82d0ad025e7195297240ae45e72,Train and before: Update TripleO job defenitions,MERGED,2021-06-27 14:42:07.000000000,2021-08-09 06:20:47.000000000,2021-08-09 06:20:47.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-27 14:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2a3abf42e8cadd1d11904a128df14034fad158b8', 'message': 'Train and before: Update TripleO job defenitions\n\nThis is manual backport of 12d24fb978070e540d0dcf9e3ea2dac2e6aa079d and\nupdates tripleo job definitions so that it becomes consistent with ones\nin stable/wallaby and later.\nNote in stable/train and older we use CentOS7 instead of CentOS8 for\ntripleo jobs so host OS version is kept to CentOS7.\n\nChange-Id: I45e1ac9afa2de82d0ad025e7195297240ae45e72\n'}, {'number': 2, 'created': '2021-06-27 14:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/334768c9ac0c136037ea14df3634d678d3d10fb8', 'message': 'Train and before: Update TripleO job defenitions\n\nThis is manual backport of 12d24fb978070e540d0dcf9e3ea2dac2e6aa079d and\nupdates tripleo job definitions so that it becomes consistent with ones\nin stable/wallaby and later.\nNote in stable/train and older we use CentOS7 instead of CentOS8 for\ntripleo jobs so host OS version is kept to CentOS7.\n\nChange-Id: I45e1ac9afa2de82d0ad025e7195297240ae45e72\n'}, {'number': 3, 'created': '2021-06-30 06:17:03.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0038aab7128b6fa937ec4373ccd889f19d13badf', 'message': 'Train and before: Update TripleO job defenitions\n\nThis is manual backport of 12d24fb978070e540d0dcf9e3ea2dac2e6aa079d and\nupdates tripleo job definitions so that it becomes consistent with ones\nin stable/wallaby and later.\nNote in stable/train and older we use CentOS7 instead of CentOS8 for\ntripleo jobs so host OS version is kept to CentOS7.\n\nChange-Id: I45e1ac9afa2de82d0ad025e7195297240ae45e72\n'}]",2,798214,0038aab7128b6fa937ec4373ccd889f19d13badf,15,6,3,9816,,,0,"Train and before: Update TripleO job defenitions

This is manual backport of 12d24fb978070e540d0dcf9e3ea2dac2e6aa079d and
updates tripleo job definitions so that it becomes consistent with ones
in stable/wallaby and later.
Note in stable/train and older we use CentOS7 instead of CentOS8 for
tripleo jobs so host OS version is kept to CentOS7.

Change-Id: I45e1ac9afa2de82d0ad025e7195297240ae45e72
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/14/798214/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,2a3abf42e8cadd1d11904a128df14034fad158b8,, irrelevant-files: &irrelevant_files - ^spec/.*$ - ^requirements.txt$ - ^.gitreview$ - ^tox.ini$ - job: name: tripleo-puppet-ci-centos-7-content-provider parent: tripleo-ci-centos-7-content-provider irrelevant-files: *irrelevant_files - tripleo-puppet-ci-centos-7-content-provider - tripleo-puppet-ci-centos-7-content-provider irrelevant-files: *irrelevant_files vars: featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml' - tripleo-puppet-ci-centos-7-content-provider - tripleo-puppet-ci-centos-7-standalone: vars: &standalone_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-puppet-ci-centos-7-content-provider - tripleo-puppet-ci-centos-7-content-provider - tripleo-puppet-ci-centos-7-standalone: vars: *standalone_consumer_vars dependencies: - tripleo-puppet-ci-centos-7-content-provider, irrelevant-files: - tripleo-ci-centos-7-content-provider - tripleo-ci-centos-7-content-provider irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^LICENSE$ - ^.gitignore$ - ^setup.cfg$ - ^setup.py$ - tripleo-ci-centos-7-content-provider - tripleo-puppet-ci-centos-7-standalone: *consumer_job - tripleo-ci-centos-7-content-provider - tripleo-puppet-ci-centos-7-standalone: *consumer_job,31,19
openstack%2Fskyline-console~master~Ib9e8c68e05057b2175391605a656b2015417c280,openstack/skyline-console,master,Ib9e8c68e05057b2175391605a656b2015417c280,[WIP]feat: Add make build command,ABANDONED,2021-06-29 13:35:17.000000000,2021-08-09 06:18:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-29 13:35:17.000000000', 'files': ['container/nginx.conf', '.dockerignore', 'Makefile', 'package.json', 'poetry.toml', 'container/Dockerfile', 'container/start_service.sh'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/db7f237b66f77edfe9db6ad136d719c896c20a2a', 'message': '[WIP]feat: Add make build command\n\n1. Rename old make build to make package.\n2. Add make build command to build container image.\n\nChange-Id: Ib9e8c68e05057b2175391605a656b2015417c280\n'}]",0,798682,db7f237b66f77edfe9db6ad136d719c896c20a2a,3,1,1,27809,,,0,"[WIP]feat: Add make build command

1. Rename old make build to make package.
2. Add make build command to build container image.

Change-Id: Ib9e8c68e05057b2175391605a656b2015417c280
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/82/798682/1 && git format-patch -1 --stdout FETCH_HEAD,"['container/nginx.conf', '.dockerignore', 'Makefile', 'package.json', 'poetry.toml', 'container/Dockerfile', 'container/start_service.sh']",7,db7f237b66f77edfe9db6ad136d719c896c20a2a,,"#!/usr/bin/env bash set -ex # kolla_set_configs echo ""nginx -g 'daemon off;'"" >/run_command mapfile -t CMD < <(tail /run_command | xargs -n 1) # kolla_extend_start echo ""location /api { proxy_pass $SKYLINE_BACKEND_URL; } "" >/etc/nginx/skyline/proxy.conf echo ""Running command: ${CMD[*]}"" exec ""${CMD[@]}"" ",,207,14
openstack%2Fopenstack-helm-images~master~Iabbffc8dcf307f7b305ee1f685725e521ee5842b,openstack/openstack-helm-images,master,Iabbffc8dcf307f7b305ee1f685725e521ee5842b,Update helm version to 2.17.0,MERGED,2021-08-08 16:35:10.000000000,2021-08-09 06:16:52.000000000,2021-08-09 06:14:17.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 20469}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 23950}, {'_account_id': 28372}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-08 16:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/175ba5ca494461c2068a52207bb835490c26c4ff', 'message': 'Update helm version to 2.17.0\n\nChange-Id: Iabbffc8dcf307f7b305ee1f685725e521ee5842b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2021-08-09 01:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4ad50f8ce95992fa5d7c2a9b3534382b10b539c0', 'message': 'Update helm version to 2.17.0\n\nChange-Id: Iabbffc8dcf307f7b305ee1f685725e521ee5842b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2021-08-09 03:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/895af25449ab80a893b853ae4090b11af91d5f39', 'message': 'Update helm version to 2.17.0\n\nChange-Id: Iabbffc8dcf307f7b305ee1f685725e521ee5842b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2021-08-09 03:44:11.000000000', 'files': ['minikube-aio/Dockerfile'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8c272abb66cb3e2b01cd78cc6cdc316ff9c188c4', 'message': 'Update helm version to 2.17.0\n\nChange-Id: Iabbffc8dcf307f7b305ee1f685725e521ee5842b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,803863,8c272abb66cb3e2b01cd78cc6cdc316ff9c188c4,20,10,4,8863,,,0,"Update helm version to 2.17.0

Change-Id: Iabbffc8dcf307f7b305ee1f685725e521ee5842b
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/63/803863/1 && git format-patch -1 --stdout FETCH_HEAD,['minikube-aio/Dockerfile'],1,175ba5ca494461c2068a52207bb835490c26c4ff,,"ARG HELM_VERSION=""v2.17.0""","ARG HELM_VERSION=""v2.16.9""",1,1
openstack%2Fpuppet-openstack-integration~master~Ia5e782cb3327863c3f8f6522df616b2f6f6f9b81,openstack/puppet-openstack-integration,master,Ia5e782cb3327863c3f8f6522df616b2f6f6f9b81,Set placement api path explicitly,ABANDONED,2020-08-31 13:45:40.000000000,2021-08-09 05:12:52.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-31 13:45:40.000000000', 'files': ['manifests/placement.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9d495de4e78263f15216c172ea9e8645aed0c69e', 'message': 'Set placement api path explicitly\n\nWe are changing the default of the root request path for placement api,\nthus the new default should be hardcoded to avoid test failures during\nmigration.\n\nChange-Id: Ia5e782cb3327863c3f8f6522df616b2f6f6f9b81\n'}]",0,749058,9d495de4e78263f15216c172ea9e8645aed0c69e,4,2,1,9816,,,0,"Set placement api path explicitly

We are changing the default of the root request path for placement api,
thus the new default should be hardcoded to avoid test failures during
migration.

Change-Id: Ia5e782cb3327863c3f8f6522df616b2f6f6f9b81
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/58/749058/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/placement.pp'],1,9d495de4e78263f15216c172ea9e8645aed0c69e,placement-port," class { 'placement::keystone::auth': public_url => ""${::openstack_integration::config::base_url}:8778"", internal_url => ""${::openstack_integration::config::base_url}:8778"", admin_url => ""${::openstack_integration::config::base_url}:8778"", password => 'a_big_secret', path => '/',"," if ($::os_package_type == 'debian') { class { 'placement::keystone::auth': public_url => ""${::openstack_integration::config::base_url}:8778"", internal_url => ""${::openstack_integration::config::base_url}:8778"", admin_url => ""${::openstack_integration::config::base_url}:8778"", password => 'a_big_secret', } } else { class { 'placement::keystone::auth': public_url => ""${::openstack_integration::config::base_url}:8778/placement"", internal_url => ""${::openstack_integration::config::base_url}:8778/placement"", admin_url => ""${::openstack_integration::config::base_url}:8778/placement"", password => 'a_big_secret', }",6,14
openstack%2Fdevstack~stable%2Fussuri~I508eceb00d7501ffcfac73d7bc2272badb241494,openstack/devstack,stable/ussuri,I508eceb00d7501ffcfac73d7bc2272badb241494,Fix Usage of rdo-release rpm,MERGED,2021-08-04 15:13:58.000000000,2021-08-09 05:11:32.000000000,2021-08-09 05:10:21.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-04 15:13:58.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/18ca90b3ed3695030a7d5f42f1fc7bc236f5fbdc', 'message': 'Fix Usage of rdo-release rpm\n\nrdo-release.el8.rpm rpm points to latest RDO release,\nso use it for master, for stable releases use corresponding\nrelease rpm.\n\nChange-Id: I508eceb00d7501ffcfac73d7bc2272badb241494\n(cherry picked from commit 0456baaee5309431cd1f88ba4a0ceaa7f050b743)\n(cherry picked from commit 3e54b3c0e7c6401fe92ea690bb0e66388833ec14)\n'}]",0,803441,18ca90b3ed3695030a7d5f42f1fc7bc236f5fbdc,8,4,1,13861,,,0,"Fix Usage of rdo-release rpm

rdo-release.el8.rpm rpm points to latest RDO release,
so use it for master, for stable releases use corresponding
release rpm.

Change-Id: I508eceb00d7501ffcfac73d7bc2272badb241494
(cherry picked from commit 0456baaee5309431cd1f88ba4a0ceaa7f050b743)
(cherry picked from commit 3e54b3c0e7c6401fe92ea690bb0e66388833ec14)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/41/803441/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,18ca90b3ed3695030a7d5f42f1fc7bc236f5fbdc,," if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then # rdo-release.el8.rpm points to latest RDO release, use that for master sudo dnf -y install https://rdoproject.org/repos/rdo-release.el8.rpm else # For stable branches use corresponding release rpm rdo_release=$(echo $TARGET_BRANCH | sed ""s|stable/||g"") sudo dnf -y install https://rdoproject.org/repos/openstack-${rdo_release}/rdo-release-${rdo_release}.el8.rpm fi"," # NOTE(ianw) 2020-04-30 : when we have future branches, we # probably want to install the relevant branch RDO release as # well. But for now it's all master. sudo dnf -y install https://rdoproject.org/repos/rdo-release.el8.rpm",8,4
openstack%2Fcharm-ceph-mon~master~Ie285bbc34692964acb35315f866fe617b0ef1305,openstack/charm-ceph-mon,master,Ie285bbc34692964acb35315f866fe617b0ef1305,Only check for expected-osd-count until it has been met,MERGED,2021-08-05 18:54:02.000000000,2021-08-09 04:19:38.000000000,2021-08-09 04:19:38.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-08-05 18:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/12ced75b081e89fd549daa9b38fa59e22f6e8d58', 'message': 'Only check for expected-osd-count until it has been met\n\nChecking for enough OSDs to be presented by OSD units is\nnecessary during deploy time to ensure that clients can\ncorrectly connect and perform their operations; however,\nchecking is useless post-deploy and can be harmful during\nreplacement operations.\n\nThis change introduces a restriction that this check should\nonly be done on the leader, as well as ensuring that it\nshort-circuits the check after the check passes.\n\nCloses-Bug: #1938970\nChange-Id: Ie285bbc34692964acb35315f866fe617b0ef1305\n'}, {'number': 2, 'created': '2021-08-05 20:52:36.000000000', 'files': ['hooks/ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/abb687122681fbf36441f3d917f31c5b028a7617', 'message': 'Only check for expected-osd-count until it has been met\n\nChecking for enough OSDs to be presented by OSD units is\nnecessary during deploy time to ensure that clients can\ncorrectly connect and perform their operations; however,\nchecking is useless post-deploy and can be harmful during\nreplacement operations.\n\nThis change introduces a restriction that this check should\nonly be done on the leader, as well as ensuring that it\nshort-circuits the check after the check passes.\n\nCloses-Bug: #1938970\nChange-Id: Ie285bbc34692964acb35315f866fe617b0ef1305\n'}]",2,803642,abb687122681fbf36441f3d917f31c5b028a7617,13,4,2,20634,,,0,"Only check for expected-osd-count until it has been met

Checking for enough OSDs to be presented by OSD units is
necessary during deploy time to ensure that clients can
correctly connect and perform their operations; however,
checking is useless post-deploy and can be harmful during
replacement operations.

This change introduces a restriction that this check should
only be done on the leader, as well as ensuring that it
short-circuits the check after the check passes.

Closes-Bug: #1938970
Change-Id: Ie285bbc34692964acb35315f866fe617b0ef1305
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/42/803642/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_hooks.py'],1,12ced75b081e89fd549daa9b38fa59e22f6e8d58,bug/1938970," if is_leader(): if leader_get('bootstrapped-osds') is None and \ not sufficient_osds(config('expected-osd-count') or 3): log('insufficient osds bootstrapped', level=DEBUG) return False leader_set('bootstrapped-osds', True) else: if leader_get('bootstrapped-osds') is None: return False"," if not sufficient_osds(config('expected-osd-count') or 3): log('insufficient osds bootstrapped', level=DEBUG) return False",9,3
openstack%2Ftripleo-ansible~master~Icc93a5f2d05ef79ff81748435d385cb83b469d4b,openstack/tripleo-ansible,master,Icc93a5f2d05ef79ff81748435d385cb83b469d4b,Drop tripleo_container_manage_systemd_order variable,MERGED,2021-07-22 09:28:19.000000000,2021-08-08 20:10:52.000000000,2021-08-08 20:09:26.000000000,"[{'_account_id': 6469}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-22 09:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a826c072820034a466989adcf7918e94216501e', 'message': 'WIP Drop tripleo_container_manage_systemd_order variable\n\nVia Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3 ""Adjust shutdown service\nmanagement"" we dropped support for tripleo_container_manage_systemd_order\nlet\'s just remove its use.\n\nDepends-On: I6fb00e27f8d18ff42f214e5045301c3334d14277\n\nChange-Id: Icc93a5f2d05ef79ff81748435d385cb83b469d4b\n'}, {'number': 2, 'created': '2021-07-27 07:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/52d56031f3144084147912719996a9c1550f7029', 'message': 'WIP Drop tripleo_container_manage_systemd_order variable\n\nVia Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3 ""Adjust shutdown service\nmanagement"" we dropped support for tripleo_container_manage_systemd_order\nlet\'s just remove its use.\n\nDepends-On: I6fb00e27f8d18ff42f214e5045301c3334d14277\n\nChange-Id: Icc93a5f2d05ef79ff81748435d385cb83b469d4b\n'}, {'number': 3, 'created': '2021-08-02 16:02:07.000000000', 'files': ['doc/source/roles/role-tripleo_container_manage.rst', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c0ebe8c605908a9b91c3f58560b2bbb97f5975b', 'message': 'Drop tripleo_container_manage_systemd_order variable\n\nVia Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3 ""Adjust shutdown service\nmanagement"" we dropped support for tripleo_container_manage_systemd_order\nlet\'s just remove its use entirely.\n\nDepends-On: I6fb00e27f8d18ff42f214e5045301c3334d14277\n\nChange-Id: Icc93a5f2d05ef79ff81748435d385cb83b469d4b\n'}]",0,801746,2c0ebe8c605908a9b91c3f58560b2bbb97f5975b,17,6,3,20172,,,0,"Drop tripleo_container_manage_systemd_order variable

Via Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3 ""Adjust shutdown service
management"" we dropped support for tripleo_container_manage_systemd_order
let's just remove its use entirely.

Depends-On: I6fb00e27f8d18ff42f214e5045301c3334d14277

Change-Id: Icc93a5f2d05ef79ff81748435d385cb83b469d4b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/801746/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo_container_manage.rst', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml']",3,7a826c072820034a466989adcf7918e94216501e,order-cleanup,,tripleo_container_manage_systemd_order: false,0,13
openstack%2Fansible-role-collect-logs~master~Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5,openstack/ansible-role-collect-logs,master,Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5,Upgrade ansible-lint/molecule runs,MERGED,2021-05-21 16:26:02.000000000,2021-08-08 20:09:27.000000000,2021-08-08 20:09:27.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-21 16:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b5c161ce61adfb37b6ac2d0d17c036ab950a4e25', 'message': 'Upgrade ansible-lint\n\n* bump ansible-lint\n* sort newly introduce violations\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 2, 'created': '2021-05-22 05:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/4f7217a5a7356c903f0029934c8766acdb7e7ca2', 'message': 'Upgrade ansible-lint\n\n* bump ansible-lint\n* sort newly introduce violations\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 3, 'created': '2021-05-24 10:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/1db22f45f71903e082603b9aebf9fdc4bd682900', 'message': 'Upgrade ansible-lint and fix collection building\n\n* bump ansible-lint\n* sort newly introduce violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* address several deprecation warnings from ansible.cfg\n* fix incorrect pinning of python version in tox.ini\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 4, 'created': '2021-05-24 15:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/6b7f9b524c18132302a1e6963f66b75fd367a7d9', 'message': 'Upgrade ansible-lint/molecule runs\n\n* bump ansible-lint\n* sort newly introduce violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* address several deprecation warnings from ansible.cfg\n* fix incorrect pinning of python version in tox.ini\n* fixed molecule job which was failing due to click depedencies\n  (upgrading molecule was enough as this was fixed in newer releasE)\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 5, 'created': '2021-05-26 07:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3d4e7355003c515e6cde9c3eb5471a8109440dad', 'message': 'Upgrade ansible-lint/molecule runs\n\n* bump ansible-lint\n* sort newly introduce violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* address several deprecation warnings from ansible.cfg\n* fix incorrect pinning of python version in tox.ini\n* fixed molecule job which was failing due to click depedencies\n  (upgrading molecule was enough as this was fixed in newer releasE)\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 6, 'created': '2021-06-09 07:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/93e471c67f353c5b1ba60fb00ac5ef3341b381d5', 'message': 'Upgrade ansible-lint/molecule runs\n\n* bump ansible-lint\n* sort newly introduce violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* address several deprecation warnings from ansible.cfg\n* fix incorrect pinning of python version in tox.ini\n* fixed molecule job which was failing due to click depedencies\n  (upgrading molecule was enough as this was fixed in newer releasE)\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 7, 'created': '2021-06-09 12:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/6f93e465b95dd8be069cea6c670580212476c9c2', 'message': 'Upgrade ansible-lint/molecule runs\n\n* bump ansible-lint\n* sort newly introduce violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* address several deprecation warnings from ansible.cfg\n* fix incorrect pinning of python version in tox.ini\n* fixed molecule job which was failing due to click depedencies\n  (upgrading molecule was enough as this was fixed in newer releasE)\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 8, 'created': '2021-07-22 10:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f458d6fc4ccf103cc58adbc8fff690deea53fa42', 'message': 'Upgrade ansible-lint/molecule runs\n\n* bump linters\n* sort newly identified rule violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* fix incorrect pinning of python version in tox.ini\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 9, 'created': '2021-07-26 14:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/de7e64d2ace9f39198832ac9efc400d7949f63a7', 'message': 'Upgrade ansible-lint/molecule runs\n\n* bump linters\n* sort newly identified rule violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* fix incorrect pinning of python version in tox.ini\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 10, 'created': '2021-07-27 13:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/96db28b3e89a87fadf0ec8a0d58e72716cf042e3', 'message': 'Upgrade ansible-lint/molecule runs\n\n* bump linters\n* sort newly identified rule violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* fix incorrect pinning of python version in tox.ini\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 11, 'created': '2021-07-28 11:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3ec7641d70058e005e7811f197fad89329ea6227', 'message': 'Upgrade ansible-lint/molecule runs\n\n* bump linters\n* sort newly identified rule violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* fix incorrect pinning of python version in tox.ini\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 12, 'created': '2021-07-30 07:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3d8256274e457afc709b0e113ed715bb0771011a', 'message': 'Upgrade ansible-lint/molecule runs\n\n* bump linters\n* sort newly identified rule violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* fix incorrect pinning of python version in tox.ini\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}, {'number': 13, 'created': '2021-07-30 10:12:27.000000000', 'files': ['galaxy.yml', 'roles/collect_logs/molecule/infrared/molecule.yml', 'roles/collect_logs/molecule/default/prepare.yml', '.gitignore', '.yamllint', 'roles/collect_logs/molecule/infrared/converge.yml', 'roles/collect_logs/tasks/publish_ara_influxdb.yml', 'roles/collect_logs/molecule/sova/prepare.yml', 'roles/collect_logs/molecule/infrared/verify.yml', 'roles/collect_logs/tasks/publish.yml', 'roles/collect_logs/tasks/publish_ara.yml', 'roles/collect_logs/molecule/default/converge.yml', 'roles/collect_logs/tasks/collect.yml', 'roles/collect_logs/tasks/collect/container.yml', 'tests/sanity/ignore-2.11.txt', 'MANIFEST.in', '.pre-commit-config.yaml', 'roles/collect_logs/tasks/create-docs.yml', 'roles/collect_logs/molecule/default/verify.yml', 'roles/collect_logs/files/collect-container-logs.sh', 'tests/sanity/ignore-2.10.txt', 'requirements.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/bfef65d57a7f21463b341b3800d102a60c38b764', 'message': 'Upgrade ansible-lint/molecule runs\n\n* bump linters\n* sort newly identified rule violations\n* fixes sanity by correcting missing excludes from galaxy.yml file\n* fix incorrect pinning of python version in tox.ini\n\nChange-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5\n'}]",5,792652,bfef65d57a7f21463b341b3800d102a60c38b764,59,6,13,24162,,,0,"Upgrade ansible-lint/molecule runs

* bump linters
* sort newly identified rule violations
* fixes sanity by correcting missing excludes from galaxy.yml file
* fix incorrect pinning of python version in tox.ini

Change-Id: Iba0cecfc46a97d0ee56e30e48638f3a1b37bdec5
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/52/792652/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/collect_logs/molecule/default/prepare.yml', '.yamllint', 'roles/collect_logs/molecule/infrared/converge.yml', 'roles/collect_logs/tasks/publish_ara_influxdb.yml', 'roles/collect_logs/molecule/sova/prepare.yml', 'roles/collect_logs/molecule/infrared/verify.yml', 'roles/collect_logs/tasks/publish.yml', 'roles/collect_logs/tasks/publish_ara.yml', 'roles/collect_logs/molecule/default/converge.yml', 'roles/collect_logs/tasks/collect.yml', 'roles/collect_logs/tasks/collect/container.yml', '.pre-commit-config.yaml', 'roles/collect_logs/tasks/create-docs.yml', 'roles/collect_logs/molecule/default/verify.yml']",14,b5c161ce61adfb37b6ac2d0d17c036ab950a4e25,fix/bits," command: grep -q ""this is sparta"" /var/log/extra/logstash.txt"," shell: grep -q ""this is sparta"" /var/log/extra/logstash.txt",42,20
openstack%2Fopenstack-helm-images~master~If6e1f92a4cb095d047d73bd599c46ca2681c8e86,openstack/openstack-helm-images,master,If6e1f92a4cb095d047d73bd599c46ca2681c8e86,Install openssh-client in libvirt,MERGED,2021-08-06 20:41:38.000000000,2021-08-08 18:53:38.000000000,2021-08-08 18:52:05.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2021-08-06 20:41:38.000000000', 'files': ['libvirt/ubuntu-install-libvirt.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b8463198a1484aa98343199084c1c43992568972', 'message': 'Install openssh-client in libvirt\n\nIn order to do tunnelled live migrations over SSH, libvirt needs\nthe SSH client to be installed or otherwise it will fail to connect\nover SSH.\n\nChange-Id: If6e1f92a4cb095d047d73bd599c46ca2681c8e86\n'}]",0,803805,b8463198a1484aa98343199084c1c43992568972,8,3,1,1004,,,0,"Install openssh-client in libvirt

In order to do tunnelled live migrations over SSH, libvirt needs
the SSH client to be installed or otherwise it will fail to connect
over SSH.

Change-Id: If6e1f92a4cb095d047d73bd599c46ca2681c8e86
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/05/803805/1 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/ubuntu-install-libvirt.sh'],1,b8463198a1484aa98343199084c1c43992568972,, openssh-client \,,1,0
openstack%2Fironic-python-agent~master~I8a4bee0c25743befd7f2033e4e0cba26895c8926,openstack/ironic-python-agent,master,I8a4bee0c25743befd7f2033e4e0cba26895c8926,Expose BMC MAC address in inventory data,MERGED,2021-07-19 07:31:29.000000000,2021-08-08 17:22:38.000000000,2021-08-08 17:21:25.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-19 07:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d2952f64a597919b4318988b6b8d4f11142b6e76', 'message': 'Expose BMC MAC address in inventory data\n\nThis exposes the MAC address of the first LAN channel with an assigned\nIP address in the inventory data. This is useful for inventory\nprocesses where the asset number is not discoverable from the software\nside: the BMC MAC is going to be unique (at least within an\norganization).\n\nChange-Id: I8a4bee0c25743befd7f2033e4e0cba26895c8926\n'}, {'number': 2, 'created': '2021-07-20 05:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/52587ae35afb013af0e53c7b73df833443e008ef', 'message': 'Expose BMC MAC address in inventory data\n\nThis exposes the MAC address of the first LAN channel with an assigned\nIP address in the inventory data. This is useful for inventory\nprocesses where the asset number is not discoverable from the software\nside: the BMC MAC is going to be unique (at least within an\norganization).\n\nChange-Id: I8a4bee0c25743befd7f2033e4e0cba26895c8926\n'}, {'number': 3, 'created': '2021-07-20 05:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6e0d48356cc56beddea5cda648dc63741548faba', 'message': 'Expose BMC MAC address in inventory data\n\nThis exposes the MAC address of the first LAN channel with an assigned\nIP address in the inventory data. This is useful for inventory\nprocesses where the asset number is not discoverable from the software\nside: the BMC MAC is going to be unique (at least within an\norganization).\n\nChange-Id: I8a4bee0c25743befd7f2033e4e0cba26895c8926\n'}, {'number': 4, 'created': '2021-07-21 07:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d348f4a17ce5b969e3e6af92b33db53324b3fc1d', 'message': 'Expose BMC MAC address in inventory data\n\nThis exposes the MAC address of the first LAN channel with an assigned\nIP address in the inventory data. This is useful for inventory\nprocesses where the asset number is not discoverable from the software\nside: the BMC MAC is going to be unique (at least within an\norganization).\n\nChange-Id: I8a4bee0c25743befd7f2033e4e0cba26895c8926\n'}, {'number': 5, 'created': '2021-08-06 08:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e24a8380d4649a823fac3d9f2c0eae7eadd68b13', 'message': 'Expose BMC MAC address in inventory data\n\nThis exposes the MAC address of the first LAN channel with an assigned\nIP address in the inventory data. This is useful for inventory\nprocesses where the asset number is not discoverable from the software\nside: the BMC MAC is going to be unique (at least within an\norganization).\n\nChange-Id: I8a4bee0c25743befd7f2033e4e0cba26895c8926\n'}, {'number': 6, 'created': '2021-08-06 09:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f0917955aeea6b4a064823dd314d14a6996d3bfc', 'message': 'Expose BMC MAC address in inventory data\n\nThis exposes the MAC address of the first LAN channel with an assigned\nIP address in the inventory data. This is useful for inventory\nprocesses where the asset number is not discoverable from the software\nside: the BMC MAC is going to be unique (at least within an\norganization).\n\nChange-Id: I8a4bee0c25743befd7f2033e4e0cba26895c8926\n'}, {'number': 7, 'created': '2021-08-06 11:15:01.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/bmc-mac-introspection-e4c2e203d8529710.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/61af712fe52d474d688d677e7e678a45ca0336ab', 'message': 'Expose BMC MAC address in inventory data\n\nThis exposes the MAC address of the first LAN channel with an assigned\nIP address in the inventory data. This is useful for inventory\nprocesses where the asset number is not discoverable from the software\nside: the BMC MAC is going to be unique (at least within an\norganization).\n\nChange-Id: I8a4bee0c25743befd7f2033e4e0cba26895c8926\n'}]",15,801260,61af712fe52d474d688d677e7e678a45ca0336ab,35,3,7,33742,,,0,"Expose BMC MAC address in inventory data

This exposes the MAC address of the first LAN channel with an assigned
IP address in the inventory data. This is useful for inventory
processes where the asset number is not discoverable from the software
side: the BMC MAC is going to be unique (at least within an
organization).

Change-Id: I8a4bee0c25743befd7f2033e4e0cba26895c8926
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/60/801260/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,d2952f64a597919b4318988b6b8d4f11142b6e76,bmc-mac-address-introspection," self.hardware.get_bmc_mac = mock.Mock() def test_get_bmc_mac_not_available(self, mocked_execute, mte): mocked_execute.return_value = '', '' self.assertEqual('00:00:00:00:00:00', self.hardware.get_bmc_mac()) @mock.patch.object(il_utils, 'try_execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) def test_get_bmc_mac(self, mocked_execute, mte): mocked_execute.return_value = '192.1.2.3\n01:02:03:04:05:06', '' self.assertEqual('01:02:03:04:05:06', self.hardware.get_bmc_mac()) @mock.patch.object(il_utils, 'try_execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) def test_get_bmc_mac_virt(self, mocked_execute, mte): mocked_execute.side_effect = processutils.ProcessExecutionError() self.assertIsNone(self.hardware.get_bmc_mac()) @mock.patch.object(il_utils, 'try_execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) def test_get_bmc_mac_zeroed(self, mocked_execute, mte): mocked_execute.return_value = '0.0.0.0\n00:00:00:00:00:00', '' self.assertEqual('00:00:00:00:00:00', self.hardware.get_bmc_mac()) @mock.patch.object(il_utils, 'try_execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) def test_get_bmc_mac_invalid(self, mocked_execute, mte): # In case of invalid lan channel, stdout is empty and the error # on stderr is ""Invalid channel"" mocked_execute.return_value = '\n', 'Invalid channel: 55' self.assertEqual('00:00:00:00:00:00', self.hardware.get_bmc_mac()) @mock.patch.object(il_utils, 'try_execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) def test_get_bmc_mac_random_error(self, mocked_execute, mte): mocked_execute.return_value = ('192.1.2.3\n00:00:00:00:00:02', 'Random error message') self.assertEqual('00:00:00:00:00:02', self.hardware.get_bmc_mac()) @mock.patch.object(il_utils, 'try_execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True) def test_get_bmc_mac_iterate_channels(self, mocked_execute, mte): # For channel 1 we simulate unconfigured IP # and for any other we return a correct IP address def side_effect(*args, **kwargs): if args[0].startswith(""ipmitool lan print 1""): return '', 'Invalid channel 1\n' elif args[0].startswith(""ipmitool lan print 2""): return '0.0.0.0\n00:00:00:00:23:42', '' elif args[0].startswith(""ipmitool lan print 3""): return 'meow', '' elif args[0].startswith(""ipmitool lan print 4""): return '192.1.2.3\n01:02:03:04:05:06', '' else: # this should never happen because the previous one was good raise AssertionError mocked_execute.side_effect = side_effect self.assertEqual('01:02:03:04:05:06', self.hardware.get_bmc_mac()) @mock.patch.object(il_utils, 'try_execute', autospec=True) @mock.patch.object(utils, 'execute', autospec=True)",,121,0
openstack%2Ftripleo-ci~master~I06d1b0c39ce4902acdbd5b3d584d03d84740e04e,openstack/tripleo-ci,master,I06d1b0c39ce4902acdbd5b3d584d03d84740e04e,Use nested KVM for Octavia+Amphora,ABANDONED,2021-08-06 07:54:39.000000000,2021-08-08 16:57:47.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-06 07:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7598f81b122cd0f15e8978667a712db999c2eb4f', 'message': 'Use nested KVM for Octavia+Amphora\n\nAmphora driver in Octavia basically requires virtual machines can be\nlaunched and respond relatively quickly, otherwise CRUD operations\nfails very frequently.\nThis change enables nested virt in scenario010 job which runs Octavia\nand Amphora driver expecting accelaration by kvm can improve\nperformance of vms spawned on a standalone node.\n\nChange-Id: I06d1b0c39ce4902acdbd5b3d584d03d84740e04e\n'}, {'number': 2, 'created': '2021-08-06 14:34:44.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9012c95603b52a4962a7a9a77accee76a144471a', 'message': 'Use nested KVM for Octavia+Amphora\n\nAmphora driver in Octavia basically requires virtual machines can be\nlaunched and respond relatively quickly, otherwise CRUD operations\nfails very frequently.\nThis change enables nested virt in scenario010 job which runs Octavia\nand Amphora driver expecting accelaration by kvm can improve\nperformance of vms spawned on a standalone node.\n\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nChange-Id: I06d1b0c39ce4902acdbd5b3d584d03d84740e04e\n'}]",2,803708,9012c95603b52a4962a7a9a77accee76a144471a,10,3,2,9816,,,0,"Use nested KVM for Octavia+Amphora

Amphora driver in Octavia basically requires virtual machines can be
launched and respond relatively quickly, otherwise CRUD operations
fails very frequently.
This change enables nested virt in scenario010 job which runs Octavia
and Amphora driver expecting accelaration by kvm can improve
performance of vms spawned on a standalone node.

Co-Authored-By: Michael Johnson <johnsomor@gmail.com>
Change-Id: I06d1b0c39ce4902acdbd5b3d584d03d84740e04e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/08/803708/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/nodesets.yaml']",3,7598f81b122cd0f15e8978667a712db999c2eb4f,octavia-nested-kvm, name: single-centos-8-node-nested-virt nodes: - name: primary label: nested-virt-centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: [] - nodeset: name: single-centos-7-node-nested-virt nodes: - name: primary label: nested-virt-centos-7 groups: - name: switch nodes: - primary - name: peers nodes: [] - nodeset:,,30,1
openstack%2Fglance-tempest-plugin~master~I280d12a36d274fbb914302c6648a2d41337d9677,openstack/glance-tempest-plugin,master,I280d12a36d274fbb914302c6648a2d41337d9677,Fix modify_member policy functional test case,ABANDONED,2021-08-06 18:49:10.000000000,2021-08-08 16:11:20.000000000,,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 18:49:10.000000000', 'files': ['glance_tempest_plugin/tests/rbac/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/6cfc097023478bbe1a4a57d810b683d5945d997a', 'message': ""Fix modify_member policy functional test case\n\nEarlier our default RBAC policy for modify_member was\n'ADMIN_OR_PROJECT_MEMBER' which means either admin or any of the project\nmember can accept the image shared with another project. Actually the\nright user to accept the image membership should be any member from the\nproject to which image is shared.\n\nTo correct this behavior we have changed the default policy for\nmodify_member to 'ADMIN_OR_SHARED_MEMBER' which means either admin\nor any member from the project to which image is shared can accept/reject\nthe image membership. This patch modifies the test case to test the later\nscenario.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/802996\nChange-Id: I280d12a36d274fbb914302c6648a2d41337d9677\n""}]",2,803801,6cfc097023478bbe1a4a57d810b683d5945d997a,10,4,1,9303,,,0,"Fix modify_member policy functional test case

Earlier our default RBAC policy for modify_member was
'ADMIN_OR_PROJECT_MEMBER' which means either admin or any of the project
member can accept the image shared with another project. Actually the
right user to accept the image membership should be any member from the
project to which image is shared.

To correct this behavior we have changed the default policy for
modify_member to 'ADMIN_OR_SHARED_MEMBER' which means either admin
or any member from the project to which image is shared can accept/reject
the image membership. This patch modifies the test case to test the later
scenario.

Depends-On: https://review.opendev.org/c/openstack/glance/+/802996
Change-Id: I280d12a36d274fbb914302c6648a2d41337d9677
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/01/803801/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_tempest_plugin/tests/rbac/v2/test_images.py'],1,6cfc097023478bbe1a4a57d810b683d5945d997a,policy-refactor," # Make sure that the image owner can't accept the image. client=project_client.image_member_client_v2, # Make sure that the image owner can't reject the change. client=project_client.image_member_client_v2,"," # Make sure the user can't accept the image. client=self.persona.image_member_client_v2, # Make sure the user can't reject the change. client=self.persona.image_member_client_v2,",4,4
openstack%2Fnova~master~I1ce8f180d6bef465f9faa0a10c837841ed7ab528,openstack/nova,master,I1ce8f180d6bef465f9faa0a10c837841ed7ab528,db: Drop support for experimental concurrency,MERGED,2021-07-05 16:25:44.000000000,2021-08-08 13:59:16.000000000,2021-08-08 13:56:39.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': ['etc/nova/nova-config-generator.conf', 'nova/db/api.py', 'releasenotes/notes/drop-oslo_db-use_tpool-48542a28d10e1bae.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9799468d6f31ba8d915c851aae1a66340b5d1d7f', 'message': ""db: Drop support for experimental concurrency\n\nThe 'oslo_db.concurrency.TpoolDbapiWrapper' wrapper provides a way to\nenable the experimental use of thread pooling for all DB API calls. This\nhas been part of 'oslo.db' since that project was first split out on\nnova back in change I0649539e071b2318ec85ed5d70259c949408e64b and has\nbeen part of nova for even longer, having been first introduced in\nchange Id7de85dce11f5ea61dfccddf80de7800a2bc4e37. However, this has not\ngraduated to non-experimental status in the 7 years since and is\nunlikely to so now. It also isn't used for any of the API DB calls.\nHasta la vista, 'TpoolDbapiWrapper'. You've had a good ride.\n\nChange-Id: I1ce8f180d6bef465f9faa0a10c837841ed7ab528\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,799522,9799468d6f31ba8d915c851aae1a66340b5d1d7f,16,3,1,15334,,,0,"db: Drop support for experimental concurrency

The 'oslo_db.concurrency.TpoolDbapiWrapper' wrapper provides a way to
enable the experimental use of thread pooling for all DB API calls. This
has been part of 'oslo.db' since that project was first split out on
nova back in change I0649539e071b2318ec85ed5d70259c949408e64b and has
been part of nova for even longer, having been first introduced in
change Id7de85dce11f5ea61dfccddf80de7800a2bc4e37. However, this has not
graduated to non-experimental status in the 7 years since and is
unlikely to so now. It also isn't used for any of the API DB calls.
Hasta la vista, 'TpoolDbapiWrapper'. You've had a good ride.

Change-Id: I1ce8f180d6bef465f9faa0a10c837841ed7ab528
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/799522/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/nova/nova-config-generator.conf', 'nova/db/api.py', 'releasenotes/notes/drop-oslo_db-use_tpool-48542a28d10e1bae.yaml']",3,9799468d6f31ba8d915c851aae1a66340b5d1d7f,bp/remove-sqlalchemy-migrate,--- upgrade: - | Experimental support for thread pooling of DB API calls has been removed. This feature was first introduced in the 2014.2 (Juno) release but has not graduated to fully-supported status since nor was it being used for any API DB calls. The ``[oslo_db] use_tpool`` config option used to enable this feature will now be ignored by nova. ,,12,5
openstack%2Fnova~master~Ided8e57ddd0cf12fd7d37d4fe029fb1807f8d719,openstack/nova,master,Ided8e57ddd0cf12fd7d37d4fe029fb1807f8d719,db: Remove constant aliases from 'nova.db.api',MERGED,2021-07-05 16:25:44.000000000,2021-08-08 13:58:08.000000000,2021-08-08 13:55:33.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/compute/flavors.py', 'nova/tests/unit/compute/test_flavors.py', 'nova/cmd/manage.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/db/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/014480d52fce238b36ab5750f36c9ab4ece4a6d2', 'message': ""db: Remove constant aliases from 'nova.db.api'\n\nNo need for these things to live in two places.\n\nChange-Id: Ided8e57ddd0cf12fd7d37d4fe029fb1807f8d719\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,799521,014480d52fce238b36ab5750f36c9ab4ece4a6d2,31,3,1,15334,,,0,"db: Remove constant aliases from 'nova.db.api'

No need for these things to live in two places.

Change-Id: Ided8e57ddd0cf12fd7d37d4fe029fb1807f8d719
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/799521/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/compute/flavors.py', 'nova/tests/unit/compute/test_flavors.py', 'nova/cmd/manage.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/db/api.py']",7,014480d52fce238b36ab5750f36c9ab4ece4a6d2,bp/remove-sqlalchemy-migrate,LOG = logging.getLogger(__name__),from nova.db import constants# NOTE(cdent): These constants are re-defined in this module to preserve # existing references to them. MAX_INT = constants.MAX_INT SQL_SP_FLOAT_MAX = constants.SQL_SP_FLOAT_MAX LOG = logging.getLogger(__name__) ,37,41
openstack%2Fnova~master~Ic494e748363ff2e412a77b555ea07f06a4f3d8f5,openstack/nova,master,Ic494e748363ff2e412a77b555ea07f06a4f3d8f5,db: Move 'sqlalchemy.types' up a directory,MERGED,2021-07-05 16:25:44.000000000,2021-08-08 13:56:52.000000000,2021-08-08 13:55:25.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': ['nova/db/sqlalchemy/models.py', 'nova/db/main/legacy_migrations/versions/402_train.py', 'nova/db/types.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/089ae234a7ce4edaa63e135fc2de6a0c4efcb0c2', 'message': ""db: Move 'sqlalchemy.types' up a directory\n\nNo need for this to be nested.\n\nChange-Id: Ic494e748363ff2e412a77b555ea07f06a4f3d8f5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,799520,089ae234a7ce4edaa63e135fc2de6a0c4efcb0c2,65,4,1,15334,,,0,"db: Move 'sqlalchemy.types' up a directory

No need for this to be nested.

Change-Id: Ic494e748363ff2e412a77b555ea07f06a4f3d8f5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/799520/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/models.py', 'nova/db/main/legacy_migrations/versions/402_train.py', 'nova/db/types.py', 'nova/tests/unit/db/test_db_api.py']",4,089ae234a7ce4edaa63e135fc2de6a0c4efcb0c2,bp/remove-sqlalchemy-migrate,from nova.db import types as col_types,from nova.db.sqlalchemy import types as col_types,3,3
openstack%2Fnova~master~I72a867fe0287e1a3f75d717107011fbf447731d4,openstack/nova,master,I72a867fe0287e1a3f75d717107011fbf447731d4,I2f9ad3df25306e070c8c3538bfed1212d6d8682f fup: add log,MERGED,2021-07-30 10:39:48.000000000,2021-08-07 20:11:33.000000000,2021-08-07 19:39:06.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-30 10:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8826114d42886f5287a93dcbea9cbe58e4fac6d', 'message': ""I2f9ad3df25306e070c8c3538bfed1212d6d8682f fup: add log\n\nLog that we're deleting a compute service with no associated compute\nnodes.\n\n                    records.\n\nChange-Id: I72a867fe0287e1a3f75d717107011fbf447731d4\n""}, {'number': 2, 'created': '2021-07-30 13:10:59.000000000', 'files': ['nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a3d0aa477288cf5b0991690baadb4e2d1db00d82', 'message': ""I2f9ad3df25306e070c8c3538bfed1212d6d8682f fup: add log\n\nLog that we're deleting a compute service with no associated compute\nnode records.\n\nChange-Id: I72a867fe0287e1a3f75d717107011fbf447731d4\n""}]",0,803001,a3d0aa477288cf5b0991690baadb4e2d1db00d82,48,5,2,8864,,,0,"I2f9ad3df25306e070c8c3538bfed1212d6d8682f fup: add log

Log that we're deleting a compute service with no associated compute
node records.

Change-Id: I72a867fe0287e1a3f75d717107011fbf447731d4
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/803001/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/services.py'],1,f8826114d42886f5287a93dcbea9cbe58e4fac6d,bug/1860312, LOG.info('Deleting compute service with no associated ' 'compute nodes.'), pass,2,1
openstack%2Fnova~master~I2f9ad3df25306e070c8c3538bfed1212d6d8682f,openstack/nova,master,I2f9ad3df25306e070c8c3538bfed1212d6d8682f,Allow deletion of compute service with no compute nodes,MERGED,2021-07-19 11:08:21.000000000,2021-08-07 19:40:19.000000000,2021-08-07 19:38:59.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-19 11:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bd5771af00ab0fc79ac696b14da3f1c6c55b5d1', 'message': 'WIP: allow service delete even if compute node record is missing\n\nChange-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f\n'}, {'number': 2, 'created': '2021-07-28 12:57:52.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/880611df0b6b967adabd3f08886e385d0a100c5c', 'message': ""Allow deletion of compute service with no compute nodes\n\nConsider the following situation:\n\n- Using the Ironic virt driver\n- Replacing (so removing and re-adding) all baremetal nodes\n  associated with a single nova-compute service\n\nThe update resources periodic will have destroyed the compute node\nrecords because they're no longer being reported by the virt driver.\nIf we then attempt to manually delete the compute service record, the\ndatbase layer will raise an exception, as there are no longer any\ncompute node records for the host. Previously, this exception would\nget bubbled up as an error 500 in the API. This patch catches it and\nallows service deletion to complete succefully.\n\nCloses bug: 1860312\nChange-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f\n""}]",6,801285,880611df0b6b967adabd3f08886e385d0a100c5c,60,5,2,8864,,,0,"Allow deletion of compute service with no compute nodes

Consider the following situation:

- Using the Ironic virt driver
- Replacing (so removing and re-adding) all baremetal nodes
  associated with a single nova-compute service

The update resources periodic will have destroyed the compute node
records because they're no longer being reported by the virt driver.
If we then attempt to manually delete the compute service record, the
datbase layer will raise an exception, as there are no longer any
compute node records for the host. Previously, this exception would
get bubbled up as an error 500 in the API. This patch catches it and
allows service deletion to complete succefully.

Closes bug: 1860312
Change-Id: I2f9ad3df25306e070c8c3538bfed1212d6d8682f
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/801285/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/services.py'],1,8bd5771af00ab0fc79ac696b14da3f1c6c55b5d1,bug/1860312," compute_nodes = [] try: compute_nodes = objects.ComputeNodeList.get_all_by_host( context, service.host) self._assert_no_in_progress_migrations( context, id, compute_nodes) except exception.ComputeHostNotFound: # NOTE(artom) If we're running with the Ironic virt driver # and are remvoving a compute node, we will have destroyed # the compute node record in the update resources periodic # task, as it's no longer being reposted by the virt # driver. In that case, when we attempt to delete the # corresponding service record, get_all_by_host() will # raise. Catch it here and continue. pass"," compute_nodes = objects.ComputeNodeList.get_all_by_host( context, service.host) self._assert_no_in_progress_migrations( context, id, compute_nodes)",15,4
openstack%2Fstorlets~master~I920beba832555945a59792bfeb9f4a12bb66f6f1,openstack/storlets,master,I920beba832555945a59792bfeb9f4a12bb66f6f1,Switch from oslosphinx to openstackdocstheme,ABANDONED,2017-07-13 06:18:15.000000000,2021-08-07 15:08:10.000000000,,[],"[{'number': 1, 'created': '2017-07-13 06:18:15.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/1a38f0aa99214396e04cab1d9b8a1e7e9a417261', 'message': 'Switch from oslosphinx to openstackdocstheme\n\nAs part of the docs migration work[0] for Pike we need to switch to use\nthe openstackdocstheme.\n\n[0]https://review.openstack.org/#/c/472275/\n\nChange-Id: I920beba832555945a59792bfeb9f4a12bb66f6f1\n'}]",0,483212,1a38f0aa99214396e04cab1d9b8a1e7e9a417261,4,0,1,25571,,,0,"Switch from oslosphinx to openstackdocstheme

As part of the docs migration work[0] for Pike we need to switch to use
the openstackdocstheme.

[0]https://review.openstack.org/#/c/472275/

Change-Id: I920beba832555945a59792bfeb9f4a12bb66f6f1
",git fetch https://review.opendev.org/openstack/storlets refs/changes/12/483212/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py']",2,1a38f0aa99214396e04cab1d9b8a1e7e9a417261,, 'opnestackdocstheme'# openstackdocstheme options repository_name = 'openstack/storlets' bug_project = 'storlets' bug_tag = '' html_theme = 'openstackdocs'html_last_updated_fmt = '%Y-%m-%d %H:%M', 'oslosphinx'# html_theme = '_theme',9,2
openstack%2Fnova~master~I0051c0f8694699865bc16636953908d60ba456d2,openstack/nova,master,I0051c0f8694699865bc16636953908d60ba456d2,Bump oslo.db to 10.0.0,MERGED,2021-07-21 10:24:00.000000000,2021-08-07 15:07:09.000000000,2021-08-07 15:05:21.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-21 10:24:00.000000000', 'files': ['requirements.txt', 'nova/tests/fixtures/nova.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/a65ea33824edc570e04acf994cea26edf874bf48', 'message': 'Bump oslo.db to 10.0.0\n\nThis makes it possible to partially revert\nIf48dd949ec4d69a09c87178f16d56a2517e21fd8 as one of the warning silenced\nthere now fixed in oslo.db.\n\nChange-Id: I0051c0f8694699865bc16636953908d60ba456d2\n'}]",0,801610,a65ea33824edc570e04acf994cea26edf874bf48,61,4,1,9708,,,0,"Bump oslo.db to 10.0.0

This makes it possible to partially revert
If48dd949ec4d69a09c87178f16d56a2517e21fd8 as one of the warning silenced
there now fixed in oslo.db.

Change-Id: I0051c0f8694699865bc16636953908d60ba456d2
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/801610/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/tests/fixtures/nova.py', 'lower-constraints.txt']",3,a65ea33824edc570e04acf994cea26edf874bf48,,oslo.db==10.0.0,oslo.db==4.44.0,2,12
openstack%2Fstorlets~master~I7dfc088b2b66fc260a46d69e918988e4563d88a6,openstack/storlets,master,I7dfc088b2b66fc260a46d69e918988e4563d88a6,Replaces uuid.uuid4 with uuidutils.generate_uuid(),ABANDONED,2017-03-24 07:21:55.000000000,2021-08-07 15:05:23.000000000,,[{'_account_id': 25225}],"[{'number': 1, 'created': '2017-03-24 07:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/564f80fa8781cef07bcf6343114b63f34ec0d0f5', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids. We should only\nuse that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: I7dfc088b2b66fc260a46d69e918988e4563d88a6\n'}, {'number': 2, 'created': '2017-03-24 08:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/09c4effa89415b25a4d600c54e16b4f6b06df520', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids. We should only\nuse that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: I7dfc088b2b66fc260a46d69e918988e4563d88a6\n'}, {'number': 3, 'created': '2017-03-24 08:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/bef33b80bab5b7a6c35187463c2e33213efa7466', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids. We should only\nuse that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: I7dfc088b2b66fc260a46d69e918988e4563d88a6\n'}, {'number': 4, 'created': '2017-03-24 08:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/19e312882cf99e44f37af1af40c3caaeb2b73cf7', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids. We should only\nuse that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: I7dfc088b2b66fc260a46d69e918988e4563d88a6\n'}, {'number': 5, 'created': '2017-03-24 08:55:04.000000000', 'files': ['storlets/agent/daemon/manager.py', 'tests/functional/common/test_set_acl.py', 'tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/d3944c0f902d6d19eccc88001df57db4b6f61290', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids. We should only\nuse that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: I7dfc088b2b66fc260a46d69e918988e4563d88a6\n'}]",2,449452,d3944c0f902d6d19eccc88001df57db4b6f61290,17,1,5,25225,,,0,"Replaces uuid.uuid4 with uuidutils.generate_uuid()

Openstack common has a wrapper for generating uuids. We should only
use that function when generating uuids for consistency.

Fixes bug #1082248

Change-Id: I7dfc088b2b66fc260a46d69e918988e4563d88a6
",git fetch https://review.opendev.org/openstack/storlets refs/changes/52/449452/5 && git format-patch -1 --stdout FETCH_HEAD,"['storlets/agent/daemon/manager.py', 'tests/functional/common/test_set_acl.py', 'tests/functional/__init__.py']",3,564f80fa8781cef07bcf6343114b63f34ec0d0f5,bug/1082248,from oslo_utils import uuidutils self.container = 'container-%s' % uuidutils.generate_uuid() ,import uuid self.container = 'container-%s' % uuid.uuid4(),6,6
openstack%2Fstorlets~master~I5a19c4930063f72a50d0d6260133e03249469707,openstack/storlets,master,I5a19c4930063f72a50d0d6260133e03249469707,"Using assertIsNone(xxx) instead of assertEqual(None, xxx)",ABANDONED,2017-06-06 02:28:05.000000000,2021-08-07 15:04:14.000000000,,"[{'_account_id': 4608}, {'_account_id': 11317}, {'_account_id': 25225}, {'_account_id': 25720}]","[{'number': 1, 'created': '2017-06-06 02:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d2e4b7b7b24555455a59cac6bffd6c8155dd73c7', 'message': 'Using assertIsNone(xxx) instead of assertEqual(None, xxx)\n\nTrivilalFix\n\nFollowing OpenStack Style Guidelines:\n[1] http://docs.openstack.org/developer/hacking/#unit-tests-and-assertraises\n[H203] Unit test assertions tend to give better messages for more\nspecific assertions. As a result, assertIsNone(xxx) is preferred\nover assertEqual(None, xxx) and assertIs(xxx, None)\n\nChange-Id: I5a19c4930063f72a50d0d6260133e03249469707\n'}, {'number': 2, 'created': '2017-06-07 06:31:40.000000000', 'files': ['tests/unit/sbus/test_datagram.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/80cdea40fd4d3e6c93696c78c82c4ac642603f9b', 'message': 'Using assertIsNone(xxx) instead of assertEqual(None, xxx)\n\nFollowing OpenStack Style Guidelines:\n[1] https://docs.openstack.org/developer/hacking/#unit-tests-and-assertraises\n[H203] Unit test assertions tend to give better messages for more\nspecific assertions. As a result, assertIsNone(xxx) is preferred\nover assertEqual(None, xxx) and assertIs(xxx, None)\n\nChange-Id: I5a19c4930063f72a50d0d6260133e03249469707\n'}]",0,471184,80cdea40fd4d3e6c93696c78c82c4ac642603f9b,18,4,2,25225,,,0,"Using assertIsNone(xxx) instead of assertEqual(None, xxx)

Following OpenStack Style Guidelines:
[1] https://docs.openstack.org/developer/hacking/#unit-tests-and-assertraises
[H203] Unit test assertions tend to give better messages for more
specific assertions. As a result, assertIsNone(xxx) is preferred
over assertEqual(None, xxx) and assertIs(xxx, None)

Change-Id: I5a19c4930063f72a50d0d6260133e03249469707
",git fetch https://review.opendev.org/openstack/storlets refs/changes/84/471184/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/sbus/test_datagram.py'],1,d2e4b7b7b24555455a59cac6bffd6c8155dd73c7,, self.assertIsNone(self.dtg._find_fd('DUMMY_TYPE')) self.assertIsNone(self.dtg._find_fd(fd_type))," self.assertIs(None, self.dtg._find_fd('DUMMY_TYPE')) self.assertIs(None, self.dtg._find_fd(fd_type))",2,2
openstack%2Fstorlets~master~Icf902dead8c10892aeaeffad7322d7d6e3dc0b65,openstack/storlets,master,Icf902dead8c10892aeaeffad7322d7d6e3dc0b65,Replaces uuid.uuid4 with uuidutils.generate_uuid(),ABANDONED,2017-07-05 12:36:43.000000000,2021-08-07 15:02:51.000000000,,"[{'_account_id': 21204}, {'_account_id': 25903}]","[{'number': 1, 'created': '2017-07-05 12:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4a9c3bbb03487ad3d5f5b6c08fb424f9a8ee8d78', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nChange-Id: Icf902dead8c10892aeaeffad7322d7d6e3dc0b65\n'}, {'number': 2, 'created': '2017-07-20 06:51:18.000000000', 'files': ['storlets/agent/daemon/manager.py', 'tests/functional/common/test_set_acl.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/167a598af327b068e8c47d18825b354c14499c29', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nChange-Id: Icf902dead8c10892aeaeffad7322d7d6e3dc0b65\n'}]",2,480556,167a598af327b068e8c47d18825b354c14499c29,10,2,2,21204,,,0,"Replaces uuid.uuid4 with uuidutils.generate_uuid()

Change-Id: Icf902dead8c10892aeaeffad7322d7d6e3dc0b65
",git fetch https://review.opendev.org/openstack/storlets refs/changes/56/480556/1 && git format-patch -1 --stdout FETCH_HEAD,"['storlets/agent/daemon/manager.py', 'tests/functional/common/test_set_acl.py']",2,4a9c3bbb03487ad3d5f5b6c08fb424f9a8ee8d78,,from oslo_utils import uuidutils self.container = uuidutils.generate_uuid(),import uuid self.container = str(uuid.uuid4()),4,4
openstack%2Fstorlets~master~If2638886ed05bddda061915cba704e9577161396,openstack/storlets,master,If2638886ed05bddda061915cba704e9577161396,Simplify docker installation,ABANDONED,2019-12-08 12:44:39.000000000,2021-08-07 15:00:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-08 12:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e283db76ce29a1d74b1df92bff956a23c6d522a0', 'message': 'WIP: Simplify docker installation\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}, {'number': 2, 'created': '2019-12-09 12:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2f0b85d1282b824963a166275f859f74cc749fb9', 'message': 'WIP: Simplify docker installation\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}, {'number': 3, 'created': '2019-12-09 13:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d9ce7c1c1c8dfb761bc5f36c1d9c2fdf57b40114', 'message': 'Simplify docker installation\n\nRemove some existing configuration to set environment parameters\nfor docker services and simplify installation of docker.\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}, {'number': 4, 'created': '2019-12-09 13:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/6f527534a0cc377b36e6917535f65e395bd3cedd', 'message': 'Simplify docker installation\n\nThis patch cleans up an existing configuration done in devstack plugin\nto set environment parameters for docker services so that we can simplify\ndocker installation.\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}, {'number': 5, 'created': '2019-12-10 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a41433a9e9bfa86d0594583506f75926150c58d4', 'message': 'Simplify docker installation\n\nThis patch cleans up an existing configuration done in devstack plugin\nto set environment parameters for docker services so that we can simplify\ndocker installation.\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}, {'number': 6, 'created': '2019-12-10 12:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/84acb9cebcd7781776069a49dd6ccfdbbcb601bc', 'message': 'Simplify docker installation\n\nThis patch cleans up an existing configuration done in devstack plugin\nto set environment parameters for docker services so that we can simplify\ndocker installation.\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}, {'number': 7, 'created': '2019-12-10 13:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/cbfd8eaccf670c82bf65d2fcff86f4b6ce904405', 'message': 'Simplify docker installation\n\nThis patch cleans up an existing configuration done in devstack plugin\nto set environment parameters for docker services so that we can simplify\ndocker installation.\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}, {'number': 8, 'created': '2019-12-23 11:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/b4e017116bef105e14e396143f245c386ffbc5a2', 'message': 'Simplify docker installation\n\nThis patch cleans up an existing configuration done in devstack plugin\nto set environment parameters for docker services so that we can simplify\ndocker installation.\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}, {'number': 9, 'created': '2019-12-23 12:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d92d0f70ba2251a2094f06f47df711da51b09d4e', 'message': 'Simplify docker installation\n\nThis patch cleans up an existing configuration done in devstack plugin\nto set environment parameters for docker services so that we can simplify\ndocker installation.\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}, {'number': 10, 'created': '2019-12-23 13:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2d78861cb72473ac064b5d17c2532f295b9f5258', 'message': 'Simplify docker installation\n\nThis patch cleans up an existing configuration done in devstack plugin\nto set environment parameters for docker services so that we can simplify\ndocker installation.\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}, {'number': 11, 'created': '2019-12-23 13:05:14.000000000', 'files': ['doc/source/engine_dev_installation.rst', 'devstack/plugin.sh', 'storlets/gateway/gateways/docker/runtime.py', 'scripts/restart_docker_container.c'], 'web_link': 'https://opendev.org/openstack/storlets/commit/87598f439fc389e12e90130cde81e43bcacf7d7f', 'message': 'Simplify docker installation\n\nThis patch cleans up an existing configuration done in devstack plugin\nto set environment parameters for docker services so that we can simplify\ndocker installation.\n\nChange-Id: If2638886ed05bddda061915cba704e9577161396\n'}]",0,697881,87598f439fc389e12e90130cde81e43bcacf7d7f,21,1,11,9816,,,0,"Simplify docker installation

This patch cleans up an existing configuration done in devstack plugin
to set environment parameters for docker services so that we can simplify
docker installation.

Change-Id: If2638886ed05bddda061915cba704e9577161396
",git fetch https://review.opendev.org/openstack/storlets refs/changes/81/697881/9 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e283db76ce29a1d74b1df92bff956a23c6d522a0,docker, # Make sure that docker is started," sudo killall docker || true # systemd env doesn't require /etc/default/docker options if [[ ! -e /etc/default/docker ]]; then sudo touch /etc/default/docker sudo ls /lib/systemd/system sudo sed -i '0,/[service]/a EnvironmentFile=-/etc/default/docker' /lib/systemd/system/docker.service sudo cat /lib/systemd/system/docker.service fi sudo cat /etc/default/docker sudo sed -r 's#^.*DOCKER_OPTS=.*$#DOCKER_OPTS=""--debug -g /home/docker_device/docker --storage-opt dm.override_udev_sync_check=true""#' /etc/default/docker # Start the daemon - restart just in case the package ever auto-starts... echo ""Waiting for docker daemon to start..."" DOCKER_GROUP=$(groups | cut -d' ' -f1) CONFIGURE_CMD=""while ! /bin/echo -e 'GET /version HTTP/1.0\n\n' | socat - unix-connect:$DOCKER_UNIX_SOCKET 2>/dev/null | grep -q '200 OK'; do # Set the right group on docker unix socket before retrying sudo chgrp $DOCKER_GROUP $DOCKER_UNIX_SOCKET sudo chmod g+rw $DOCKER_UNIX_SOCKET sleep 1 done"" if ! timeout $DOCKER_SERVICE_TIMEOUT sh -c ""$CONFIGURE_CMD""; then die $LINENO ""docker did not start"" fi sudo mkdir -p ""$STORLETS_DOCKER_DEVICE""/docker sudo chmod 777 $STORLETS_DOCKER_DEVICE",1,27
openstack%2Fkolla-ansible~master~I1d26e48e1958f13b854d8afded4bfba5021a2dec,openstack/kolla-ansible,master,I1d26e48e1958f13b854d8afded4bfba5021a2dec,Check config when checking the containers,MERGED,2021-01-30 16:58:15.000000000,2021-08-07 14:38:21.000000000,2021-08-05 21:00:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-30 16:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/796652d6e5dcdcd9e39ff01ed6d86c250f84db60', 'message': ""Check config when checking the containers\n\nThe proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would do what we expected rather than being a noop\nin the second part.\n\nWe also lose the need to have notifies\nand whens in config and handler sections respectively.\nThis is optimised in a separate patch.\n\nFuture work:\n- optimize for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n\nChange-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec\nCloses-Bug: #1848775\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n""}, {'number': 2, 'created': '2021-01-31 16:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c07e5d053fc9a16c62eafdcb912528f740a2130c', 'message': ""Check config when checking the containers\n\nThe proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would do what we expected rather than being a noop\nin the second part.\n\nWe also lose the need to have notifies\nand whens in config and handler sections respectively.\nThis is optimised in a separate patch.\n\nFuture work:\n- optimize for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n\nChange-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec\nCloses-Bug: #1848775\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/773257\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n""}, {'number': 3, 'created': '2021-02-21 20:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74d7eebddc9f7ae8c7eae3a1be2f7214efb38b50', 'message': ""Check config when checking the containers\n\nThe proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would do what we expected rather than being a noop\nin the second part.\n\nWe also lose the need to have notifies\nand whens in config and handler sections respectively.\nThis is optimised in a separate patch.\n\nFuture work:\n- optimize for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n\nChange-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec\nCloses-Bug: #1848775\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/773257\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n""}, {'number': 4, 'created': '2021-04-27 17:54:25.000000000', 'files': ['releasenotes/notes/bug-1848775-b0625b7586adac96.yaml', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3afbd3c5efb84a1df272bd44a46d4db60c69f0b', 'message': ""Check config when checking the containers\n\nThe proposed approach allows for checking whether config\nfiles are current, e.g. cases when the deployment was aborted after\nconfig files were generated but before they were injected into the\ncontainers which lead to old config staying in containers.\n\nAfter this patch we can do:\n  kolla-ansible genconfig\n  kolla-ansible deploy-containers\nand it would do what we expected rather than being a noop\nin the second part.\n\nWe also lose the need to have notifies\nand whens in config and handler sections respectively.\nThis is optimised in a separate patch.\n\nFuture work:\n- optimise for large files\n  - could we get away with comparing timestamps and sizes?\n    container's should have a newer timestamp due to copy,\n    could also preserve it\n\nChange-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec\nCloses-Bug: #1848775\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/773257\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n""}]",12,773246,c3afbd3c5efb84a1df272bd44a46d4db60c69f0b,45,4,4,30491,,,0,"Check config when checking the containers

The proposed approach allows for checking whether config
files are current, e.g. cases when the deployment was aborted after
config files were generated but before they were injected into the
containers which lead to old config staying in containers.

After this patch we can do:
  kolla-ansible genconfig
  kolla-ansible deploy-containers
and it would do what we expected rather than being a noop
in the second part.

We also lose the need to have notifies
and whens in config and handler sections respectively.
This is optimised in a separate patch.

Future work:
- optimise for large files
  - could we get away with comparing timestamps and sizes?
    container's should have a newer timestamp due to copy,
    could also preserve it

Change-Id: I1d26e48e1958f13b854d8afded4bfba5021a2dec
Closes-Bug: #1848775
Depends-On: https://review.opendev.org/c/openstack/kolla/+/773257
Co-Authored-By: Mark Goddard <mark@stackhpc.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/773246/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/library/kolla_docker.py'],1,796652d6e5dcdcd9e39ff01ed6d86c250f84db60,bug/1848775," if (not container or self.check_container_differs() or self.compare_config()): def compare_config(self): command = ['/usr/local/bin/kolla_set_configs', '--check'] job = self.dc.exec_create(self.params['name'], command, user='root') output = self.dc.exec_start(job) exec_inspect = self.dc.exec_inspect(job) # Exit codes: # 0: not changed # 1: changed # else: error if exec_inspect['ExitCode'] == 0: return False elif exec_inspect['ExitCode'] == 1: return True else: raise Exception('Failed to compare container configuration: ' '%s' % output) ", if not container or self.check_container_differs():,20,1
openstack%2Fnova~master~Ie0f870ab01b23e36c8587bbce2daab20334ca221,openstack/nova,master,Ie0f870ab01b23e36c8587bbce2daab20334ca221,zuul: Skip volume backed LM tests until bug #1912310 is resolved,ABANDONED,2021-06-17 10:04:19.000000000,2021-08-07 11:49:08.000000000,,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-17 10:04:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/7fc1dc168227da9518bcb22a655c5d8ad95c93af', 'message': ""zuul: Skip volume backed LM tests until bug #1912310 is resolved\n\nBug #1912310 is being hit in Nova's gate at the moment and it appears to\nbe caused by bug #1929446 that is being addressed in ovsdbapp and\nos-vif. Skip any volume backed LM tests until these fixes land and both\nbugs can be closed out.\n\nChange-Id: Ie0f870ab01b23e36c8587bbce2daab20334ca221\nRelated-Bug: #1912310\nRelated-Bug: #1929446\n""}]",0,796813,7fc1dc168227da9518bcb22a655c5d8ad95c93af,13,6,1,10135,,,0,"zuul: Skip volume backed LM tests until bug #1912310 is resolved

Bug #1912310 is being hit in Nova's gate at the moment and it appears to
be caused by bug #1929446 that is being addressed in ovsdbapp and
os-vif. Skip any volume backed LM tests until these fixes land and both
bugs can be closed out.

Change-Id: Ie0f870ab01b23e36c8587bbce2daab20334ca221
Related-Bug: #1912310
Related-Bug: #1929446
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/796813/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7fc1dc168227da9518bcb22a655c5d8ad95c93af,, # NOTE(lyarwood): Skip until bug #1912310 is resolved. volume_backed_live_migration: false block_migration_for_live_migration: true # NOTE(lyarwood): Skip until bug #1912310 is resolved. volume_backed_live_migration: false , volume_backed_live_migration: true block_migration_for_live_migration: true volume_backed_live_migration: true,5,3
openstack%2Fneutron-vpnaas~master~I6e57d97335cdfd9242707524193aa6d8d5f93f88,openstack/neutron-vpnaas,master,I6e57d97335cdfd9242707524193aa6d8d5f93f88,Use payload for ROUTER BEFORE_UPDATE event,MERGED,2021-08-03 11:43:40.000000000,2021-08-07 10:02:50.000000000,2021-08-07 10:01:32.000000000,"[{'_account_id': 5948}, {'_account_id': 12860}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-03 11:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8d737473ef264ad2541fbe49aee554ee42fd7cbc', 'message': 'Use payload for ROUTER BEFORE_UPDATE event\n\nChange-Id: I6e57d97335cdfd9242707524193aa6d8d5f93f88\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/803009\n'}, {'number': 2, 'created': '2021-08-06 14:54:20.000000000', 'files': ['neutron_vpnaas/tests/unit/db/vpn/test_vpn_db.py', 'neutron_vpnaas/db/vpn/vpn_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8de26cbfcd9563c5ff0637ac9cfd7d98f7a37e00', 'message': 'Use payload for ROUTER BEFORE_UPDATE event\n\nChange-Id: I6e57d97335cdfd9242707524193aa6d8d5f93f88\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/803009\n'}]",1,803329,8de26cbfcd9563c5ff0637ac9cfd7d98f7a37e00,10,3,2,8313,,,0,"Use payload for ROUTER BEFORE_UPDATE event

Change-Id: I6e57d97335cdfd9242707524193aa6d8d5f93f88
Depends-On: https://review.opendev.org/c/openstack/neutron/+/803009
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/29/803329/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/tests/unit/db/vpn/test_vpn_db.py', 'neutron_vpnaas/db/vpn/vpn_db.py']",2,8d737473ef264ad2541fbe49aee554ee42fd7cbc,router_payload,"def migration_callback(resource, event, trigger, payload): context = payload.context router = payload.latest_state","def migration_callback(resource, event, trigger, **kwargs): context = kwargs['context'] router = kwargs['router']",8,5
openstack%2Fmasakari-dashboard~master~I39834214740b2a494105a1130964fba3134d420c,openstack/masakari-dashboard,master,I39834214740b2a494105a1130964fba3134d420c,Update policy file to yaml,MERGED,2021-06-30 12:08:15.000000000,2021-08-07 09:42:09.000000000,2021-08-07 09:40:51.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-30 12:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/be5a03ae58f556e0a2400a68f9cf4be66f033e63', 'message': 'Update policy file to yaml\n\nSince Victoria release json policy files are obsolete and will be\ndeprecated in some future release. Proposed patch migrates masakari\npolicy to yaml\n\nChange-Id: I39834214740b2a494105a1130964fba3134d420c\n'}, {'number': 2, 'created': '2021-07-28 14:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/b102aa9e50a807d2b556aa99d2670784cd485cad', 'message': 'Update policy file to yaml\n\nSince Victoria release json policy files are obsolete and will be\ndeprecated in some future release. Proposed patch migrates masakari\npolicy to yaml\n\nChange-Id: I39834214740b2a494105a1130964fba3134d420c\n'}, {'number': 3, 'created': '2021-08-07 09:27:16.000000000', 'files': ['doc/source/index.rst', 'masakaridashboard/conf/masakari_policy.yaml', 'README.rst', 'masakaridashboard/local/local_settings.d/_50_masakari.py', 'masakaridashboard/conf/masakari_policy.json', 'releasenotes/notes/yamlify-policy-169e72bc8abd93a1.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/39f03063c0b0b22e608bbc606423e51be632be2a', 'message': 'Update policy file to yaml\n\nSee the included reno file for details.\n\nChange-Id: I39834214740b2a494105a1130964fba3134d420c\n'}]",0,798842,39f03063c0b0b22e608bbc606423e51be632be2a,16,2,3,27838,,,0,"Update policy file to yaml

See the included reno file for details.

Change-Id: I39834214740b2a494105a1130964fba3134d420c
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/42/798842/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakaridashboard/conf/masakari_policy.yaml', 'masakaridashboard/local/local_settings.d/_50_masakari.py']",2,be5a03ae58f556e0a2400a68f9cf4be66f033e63,policy_yaml_master,POLICY_FILES.update({'instance-ha': 'masakari_policy.yaml'}),POLICY_FILES.update({'instance-ha': 'masakari_policy.json'}),1,1
openstack%2Fgrenade~stable%2Fwallaby~I1eb352deca11916f4db1010a50d15a83e33a61bb,openstack/grenade,stable/wallaby,I1eb352deca11916f4db1010a50d15a83e33a61bb,Unblock Gate: create encryption type with right params,ABANDONED,2021-08-04 05:43:47.000000000,2021-08-07 08:39:22.000000000,,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27615}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-04 05:43:47.000000000', 'files': ['projects/70_cinder/resources.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/f38368d58b110fe80b6213dbeed102db9a9f3d78', 'message': 'Unblock Gate: create encryption type with right params\n\nRecently we added a check in cinder for cipher algorithm[1]\nCurrently grenade is not passing cipher when creating an\nencrypted type, hence grenade job is failing in glance and cinder gate.\nThis patch addresses the same by passing the cipher and other\nproperties.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/800268\n\nCloses-Bug: #1938763\n\nChange-Id: I1eb352deca11916f4db1010a50d15a83e33a61bb\n(cherry picked from commit d61a95325b3d052216aa13931c7a6d4a132a5843)\n'}]",0,803431,f38368d58b110fe80b6213dbeed102db9a9f3d78,7,7,1,13861,,,0,"Unblock Gate: create encryption type with right params

Recently we added a check in cinder for cipher algorithm[1]
Currently grenade is not passing cipher when creating an
encrypted type, hence grenade job is failing in glance and cinder gate.
This patch addresses the same by passing the cipher and other
properties.

[1] https://review.opendev.org/c/openstack/cinder/+/800268

Closes-Bug: #1938763

Change-Id: I1eb352deca11916f4db1010a50d15a83e33a61bb
(cherry picked from commit d61a95325b3d052216aa13931c7a6d4a132a5843)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/31/803431/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/70_cinder/resources.sh'],1,f38368d58b110fe80b6213dbeed102db9a9f3d78,, eval $(openstack volume type create \ --encryption-provider nova.volume.encryptors.luks.LuksEncryptor \ --encryption-cipher aes-xts-plain64 --encryption-key-size 256 \ $CINDER_VOL_ENCRYPTED_TYPE -f shell), eval $(openstack volume type create --encryption-provider luks $CINDER_VOL_ENCRYPTED_TYPE -f shell),4,1
openstack%2Fpython-mistralclient~stable%2Fvictoria~I47931bdf8bbccb940d4c98c47f16a6eef27c026a,openstack/python-mistralclient,stable/victoria,I47931bdf8bbccb940d4c98c47f16a6eef27c026a,"Allow enforcing usage of ""raw"" definitions",NEW,2021-08-07 06:46:03.000000000,2021-08-07 07:42:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-07 06:46:03.000000000', 'files': ['mistralclient/api/v2/actions.py', 'mistralclient/api/v2/workbooks.py', 'mistralclient/api/base.py', 'mistralclient/api/v2/workflows.py', 'mistralclient/api/v2/client.py', 'releasenotes/notes/enforce_raw_definitions-94433339a63d15f8.yaml', 'mistralclient/api/v2/environments.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/fa26d54a60fcaa30e2dffaded5e3c25802aa27f7', 'message': 'Allow enforcing usage of ""raw"" definitions\n\nSince the chage 72a6bc1ad1461e20b8ccc7ef41898dd13067c6dc was merged,\nmistralclient tries to determine if the value passed in is a definition\nfile path name or file URI, or the actual definition.\nHowever this behavior causes problem when the client is used in server\nside and results in allowing access to server files or any contents\nin internal servers.\n\nThis change introduces the new enforce_raw_definitions variable to\ndisable that fallback behavior and ensure that client treats input\nas raw contents.\n\nConflicts:\n\tmistralclient/api/v2/actions.py\n\tmistralclient/api/v2/client.py\n\tmistralclient/api/v2/code_sources.py\n\nRelated-Bug: #1931558\nChange-Id: I47931bdf8bbccb940d4c98c47f16a6eef27c026a\n(cherry picked from commit ab54cb9ae576c2b29c7cd9a9628f3908aaa3e0ee)\n(cherry picked from commit e35c9d905d8d23b5a8c19de91f7c825176bb5f71)\n'}]",0,803814,fa26d54a60fcaa30e2dffaded5e3c25802aa27f7,2,1,1,9816,,,0,"Allow enforcing usage of ""raw"" definitions

Since the chage 72a6bc1ad1461e20b8ccc7ef41898dd13067c6dc was merged,
mistralclient tries to determine if the value passed in is a definition
file path name or file URI, or the actual definition.
However this behavior causes problem when the client is used in server
side and results in allowing access to server files or any contents
in internal servers.

This change introduces the new enforce_raw_definitions variable to
disable that fallback behavior and ensure that client treats input
as raw contents.

Conflicts:
	mistralclient/api/v2/actions.py
	mistralclient/api/v2/client.py
	mistralclient/api/v2/code_sources.py

Related-Bug: #1931558
Change-Id: I47931bdf8bbccb940d4c98c47f16a6eef27c026a
(cherry picked from commit ab54cb9ae576c2b29c7cd9a9628f3908aaa3e0ee)
(cherry picked from commit e35c9d905d8d23b5a8c19de91f7c825176bb5f71)
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/14/803814/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/api/v2/actions.py', 'mistralclient/api/v2/workbooks.py', 'mistralclient/api/base.py', 'mistralclient/api/v2/workflows.py', 'mistralclient/api/v2/client.py', 'releasenotes/notes/enforce_raw_definitions-94433339a63d15f8.yaml', 'mistralclient/api/v2/environments.py']",7,fa26d54a60fcaa30e2dffaded5e3c25802aa27f7,bug/1931558, kwargs = utils.load_content(self.get_contents_if_file(file)) kwargs = utils.load_content(self.get_contents_if_file(file)), kwargs = utils.load_content(utils.get_contents_if_file(file)) kwargs = utils.load_content(utils.get_contents_if_file(file)),46,28
openstack%2Fpython-mistralclient~stable%2Fwallaby~I47931bdf8bbccb940d4c98c47f16a6eef27c026a,openstack/python-mistralclient,stable/wallaby,I47931bdf8bbccb940d4c98c47f16a6eef27c026a,"Allow enforcing usage of ""raw"" definitions",NEW,2021-08-07 06:39:26.000000000,2021-08-07 07:24:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-07 06:39:26.000000000', 'files': ['mistralclient/api/v2/actions.py', 'mistralclient/api/v2/workbooks.py', 'mistralclient/api/base.py', 'mistralclient/api/v2/workflows.py', 'mistralclient/api/v2/client.py', 'mistralclient/api/v2/code_sources.py', 'releasenotes/notes/enforce_raw_definitions-94433339a63d15f8.yaml', 'mistralclient/api/v2/environments.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/e35c9d905d8d23b5a8c19de91f7c825176bb5f71', 'message': 'Allow enforcing usage of ""raw"" definitions\n\nSince the chage 72a6bc1ad1461e20b8ccc7ef41898dd13067c6dc was merged,\nmistralclient tries to determine if the value passed in is a definition\nfile path name or file URI, or the actual definition.\nHowever this behavior causes problem when the client is used in server\nside and results in allowing access to server files or any contents\nin internal servers.\n\nThis change introduces the new enforce_raw_definitions variable to\ndisable that fallback behavior and ensure that client treats input\nas raw contents.\n\nRelated-Bug: #1931558\nChange-Id: I47931bdf8bbccb940d4c98c47f16a6eef27c026a\n(cherry picked from commit ab54cb9ae576c2b29c7cd9a9628f3908aaa3e0ee)\n'}]",0,803688,e35c9d905d8d23b5a8c19de91f7c825176bb5f71,4,1,1,9816,,,0,"Allow enforcing usage of ""raw"" definitions

Since the chage 72a6bc1ad1461e20b8ccc7ef41898dd13067c6dc was merged,
mistralclient tries to determine if the value passed in is a definition
file path name or file URI, or the actual definition.
However this behavior causes problem when the client is used in server
side and results in allowing access to server files or any contents
in internal servers.

This change introduces the new enforce_raw_definitions variable to
disable that fallback behavior and ensure that client treats input
as raw contents.

Related-Bug: #1931558
Change-Id: I47931bdf8bbccb940d4c98c47f16a6eef27c026a
(cherry picked from commit ab54cb9ae576c2b29c7cd9a9628f3908aaa3e0ee)
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/88/803688/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/api/v2/actions.py', 'mistralclient/api/v2/workbooks.py', 'mistralclient/api/base.py', 'mistralclient/api/v2/workflows.py', 'mistralclient/api/v2/client.py', 'mistralclient/api/v2/code_sources.py', 'releasenotes/notes/enforce_raw_definitions-94433339a63d15f8.yaml', 'mistralclient/api/v2/environments.py']",8,e35c9d905d8d23b5a8c19de91f7c825176bb5f71,bug/1931558, kwargs = utils.load_content(self.get_contents_if_file(file)) kwargs = utils.load_content(self.get_contents_if_file(file)), kwargs = utils.load_content(utils.get_contents_if_file(file)) kwargs = utils.load_content(utils.get_contents_if_file(file)),49,36
openstack%2Ftripleo-quickstart-extras~master~I90530cca3b7195241646972d98a180a025dbd7e2,openstack/tripleo-quickstart-extras,master,I90530cca3b7195241646972d98a180a025dbd7e2,Update list_allowed variables,MERGED,2021-07-27 12:06:41.000000000,2021-08-07 05:13:15.000000000,2021-08-07 05:13:15.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-27 12:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e701ba16aa32d65f8c6434aa19d412efecc1a257', 'message': 'Update when for tempest-skip load tests\n\nBecause some jobs inherit the tempest_test_whitelist from featuresets,\nit is hard to undefine it. For those cases, we need to set the\ntempest_test_whitelist to null in featureset_override in order to\nsimulate an empty variable, otherwise, we might end breaking jobs when\nstart to migrate the tests to be executed to the skiplist tool\n\nChange-Id: I90530cca3b7195241646972d98a180a025dbd7e2\n'}, {'number': 2, 'created': '2021-08-02 09:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4de3b984194742737c27efa4437862c3209412a6', 'message': 'Update when for tempest-skip load tests\n\nUpdate the load tests to be executed task to always shows the\nlist_Allowed_job as well as list_allowed_group. In case of a group\nexist, and a job is also listed, the precedence will be the list of\ntests for that particular job, instead of the group.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/792575\nChange-Id: I90530cca3b7195241646972d98a180a025dbd7e2\n'}, {'number': 3, 'created': '2021-08-03 09:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/75d1e3800dcf52bc2e2ed60cb09c2f5de0d27baf', 'message': 'Update when for tempest-skip load tests\n\nUpdate the load tests to be executed task to always shows the\nlist_Allowed_job as well as list_allowed_group. In case of a group\nexist, and a job is also listed, the precedence will be the list of\ntests for that particular job, instead of the group.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/792575\nChange-Id: I90530cca3b7195241646972d98a180a025dbd7e2\n'}, {'number': 4, 'created': '2021-08-04 08:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4ae93779ed96d5b1874ab31b79ae092e00184fa7', 'message': 'Update list_allowed variables\n\nBefore, the list_allowed_job and list_allowed_group were mutually\nexclusive, however, due the nature of featuresets, in order to remove\nthe tempest_test_whitelist from featureset files, we need to replace it\nfor tempest_allowed_group and allow it to pass both to list_allowed\nrole, that right now already update the logic to in case both group and\njob are passed, job have precedence over group. So, if a featureset have\na group set, and there is no specific job with specific tests, it will\nuse the list tempest tests, otherwise, it will use the job name.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/792575\nChange-Id: I90530cca3b7195241646972d98a180a025dbd7e2\n'}, {'number': 5, 'created': '2021-08-04 15:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a45799869f6d8522160453a39bd076b39da9c774', 'message': 'Update list_allowed variables\n\nBefore, the list_allowed_job and list_allowed_group were mutually\nexclusive, however, due the nature of featuresets, in order to remove\nthe tempest_test_whitelist from featureset files, we need to replace it\nfor tempest_allowed_group and allow it to pass both to list_allowed\nrole, that right now already update the logic to in case both group and\njob are passed, job have precedence over group. So, if a featureset have\na group set, and there is no specific job with specific tests, it will\nuse the list tempest tests, otherwise, it will use the job name.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/792575\nChange-Id: I90530cca3b7195241646972d98a180a025dbd7e2\n'}, {'number': 6, 'created': '2021-08-05 08:45:11.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5773b0cb67099fa7debc77eb9cd9b2c8b97cd64d', 'message': 'Update list_allowed variables\n\nBefore, the list_allowed_job and list_allowed_group were mutually\nexclusive, however, due the nature of featuresets, in order to remove\nthe tempest_test_whitelist from featureset files, we need to replace it\nfor tempest_allowed_group and allow it to pass both to list_allowed\nrole, that right now already update the logic to in case both group and\njob are passed, job have precedence over group. So, if a featureset have\na group set, and there is no specific job with specific tests, it will\nuse the list tempest tests, otherwise, it will use the job name.\n\nChange-Id: I90530cca3b7195241646972d98a180a025dbd7e2\n'}]",2,802484,5773b0cb67099fa7debc77eb9cd9b2c8b97cd64d,30,5,6,8367,,,0,"Update list_allowed variables

Before, the list_allowed_job and list_allowed_group were mutually
exclusive, however, due the nature of featuresets, in order to remove
the tempest_test_whitelist from featureset files, we need to replace it
for tempest_allowed_group and allow it to pass both to list_allowed
role, that right now already update the logic to in case both group and
job are passed, job have precedence over group. So, if a featureset have
a group set, and there is no specific job with specific tests, it will
use the list tempest tests, otherwise, it will use the job name.

Change-Id: I90530cca3b7195241646972d98a180a025dbd7e2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/84/802484/6 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,e701ba16aa32d65f8c6434aa19d412efecc1a257,tempest-allow, when: - tempest_test_whitelist is not defined - tempest_test_whitelist | bool, when: tempest_test_whitelist is not defined,3,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~If8958c414c400026c66187261d8fff439aad6388,openstack/tripleo-heat-templates,stable/victoria,If8958c414c400026c66187261d8fff439aad6388,Enabling vhost-postcopy-support when live_migration_permit_post_copy,MERGED,2021-07-30 12:45:16.000000000,2021-08-07 04:44:24.000000000,2021-08-07 04:44:24.000000000,"[{'_account_id': 8833}, {'_account_id': 11604}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-30 12:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf4c638ca4eae721191c82d471d610709ade97ad', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/802742\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit eb3a6b0d43952e34b150af8b67a515b603f9f2ca)\n(cherry picked from commit f0cd2c559f681ec8de4974e63f01609f4b598408)\n""}, {'number': 2, 'created': '2021-07-30 12:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b120429425eb0443fb49ee318a5cc8216102d76f', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit eb3a6b0d43952e34b150af8b67a515b603f9f2ca)\n(cherry picked from commit f0cd2c559f681ec8de4974e63f01609f4b598408)\n""}, {'number': 3, 'created': '2021-07-30 13:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13c3bc6ce1a513f27b35b504bd9028415792ae60', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803011\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n""}, {'number': 4, 'created': '2021-07-30 13:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05f6272c79f43cf749449d86a4d25b893a6749b8', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n""}, {'number': 5, 'created': '2021-07-30 14:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d215a9956d5772b8531c31320ae3e15cd2d777d3', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n""}, {'number': 6, 'created': '2021-07-30 14:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6178d69df0da7360c15e8cc2102e3053b9e4ba79', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n""}, {'number': 7, 'created': '2021-08-02 08:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/630217a7584aba536cbe618fbc41f3071beed347', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n""}, {'number': 8, 'created': '2021-08-02 08:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/912702d6d400a5dbef948574f8f8fd2ccd7ea8a2', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n""}, {'number': 9, 'created': '2021-08-02 09:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4aff3f7907e2ed63a140b98db83cb7823f57d382', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n""}, {'number': 10, 'created': '2021-08-03 09:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b653144be9a7ad8133051f956eeb7cb14cbb1e4', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n""}, {'number': 11, 'created': '2021-08-03 13:27:22.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc9a1cb248432693de4dadf42f809594c6f4924f', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n""}]",4,803013,fc9a1cb248432693de4dadf42f809594c6f4924f,47,9,11,27419,,,0,"Enabling vhost-postcopy-support when live_migration_permit_post_copy

When we enable live_migration_permit_post_copy in nova-libvirt, we also need
to enable the vhost-postcopy-support config in OVS.

Also, the only reason to not automatically enable
live_migration_permit_post_copy is on realtime hypervisors, so we're removing
the hugepages condition.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014

Change-Id: If8958c414c400026c66187261d8fff439aad6388
(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)
(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/803013/9 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml']",2,cf4c638ca4eae721191c82d471d610709ade97ad,vhost-postcopy," NovaLiveMigrationPermitPostCopy: description: > Set to ""True"" to activate the instance on the destination node before migration is complete, and to set an upper bound on the memory that needs to be transferred. default: false type: boolean tags: - role_specific is_realtime: equals: [{get_param: [RoleParameters, TunedProfileName]}, 'realtime-virtual-host'] nova_postcopy: NovaLiveMigrationPermitPostCopy NovaLiveMigrationPermitPostCopy: {get_param: NovaLiveMigrationPermitPostCopy} tripleo_ovs_dpdk_vhost_postcopy_support: if: - is_realtime - false - {get_attr: [RoleParametersDpdk, value, nova_postcopy]}",,83,1
openstack%2Fneutron~stable%2Fussuri~I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30,openstack/neutron,stable/ussuri,I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30,Keepalived version check,ABANDONED,2021-06-29 11:05:45.000000000,2021-08-07 01:52:28.000000000,,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 11:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95488591cd0ff6c39c8928ee9af1861989757901', 'message': 'Keepalived version check\n\n[0] introduced keepalived_use_no_track config option which defaults to\nTrue.\nHere I add and extra runtime check to check keepalived version, and\nonly if that version is bigger than 2.0.0 add the no_track option to\nthe keepalived config file.\n\n[0] https://review.opendev.org/745641\n\nChange-Id: I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30\nCloses-Bug: #1896506\n(cherry picked from commit 4dca7fae87d9bea01e01f786465fdb4d8231dc69)\n'}, {'number': 2, 'created': '2021-07-02 07:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e863f66934f2724d9c8dd05bad6e695c79cbcaa9', 'message': ""Keepalived version check\n\n[0] introduced keepalived_use_no_track config option which defaults to\nTrue.\nHere I add and extra runtime check to check keepalived version, and\nonly if that version is bigger than 2.0.0 add the no_track option to\nthe keepalived config file.\n\nAdditionally, the patch [1] solve the missing 'packaging' issue. But,\nthe patch [1] is newer and depend on this patch (So, this patch and\npatch [1] is interdependence). So, I manual copy the patch [1]'s code\nto this patch.\n\n[0] https://review.opendev.org/745641\n[1] https://review.opendev.org/763334\n\nChange-Id: I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30\nCloses-Bug: #1896506\n(cherry picked from commit 4dca7fae87d9bea01e01f786465fdb4d8231dc69)\n(cherry picked from commit 64eae8f2575930e27b5abd8083d107c67d47ad42)\n""}, {'number': 3, 'created': '2021-07-05 10:45:49.000000000', 'files': ['neutron/tests/unit/agent/linux/test_keepalived.py', 'requirements.txt', 'neutron/agent/linux/keepalived.py', 'neutron/cmd/runtime_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd501284e3d9e85e43890c9299fb3aca46fdd1a6', 'message': ""Keepalived version check\n\n[0] introduced keepalived_use_no_track config option which defaults to\nTrue.\nHere I add and extra runtime check to check keepalived version, and\nonly if that version is bigger than 2.0.0 add the no_track option to\nthe keepalived config file.\n\nAdditionally, the patch [1] solve the missing 'packaging' issue. But,\nthe patch [1] is newer and depend on this patch (So, this patch and\npatch [1] is interdependence). So, I manual copy the patch [1]'s code\nto this patch.\n\nConflicts with:\n    requirements.txt\n    neutron/cmd/runtime_checks.py\n\n[0] https://review.opendev.org/745641\n[1] https://review.opendev.org/763334\n\nChange-Id: I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30\nCloses-Bug: #1896506\n(cherry picked from commit 4dca7fae87d9bea01e01f786465fdb4d8231dc69)\n(cherry picked from commit 64eae8f2575930e27b5abd8083d107c67d47ad42)\n""}]",0,798335,fd501284e3d9e85e43890c9299fb3aca46fdd1a6,13,4,3,28329,,,0,"Keepalived version check

[0] introduced keepalived_use_no_track config option which defaults to
True.
Here I add and extra runtime check to check keepalived version, and
only if that version is bigger than 2.0.0 add the no_track option to
the keepalived config file.

Additionally, the patch [1] solve the missing 'packaging' issue. But,
the patch [1] is newer and depend on this patch (So, this patch and
patch [1] is interdependence). So, I manual copy the patch [1]'s code
to this patch.

Conflicts with:
    requirements.txt
    neutron/cmd/runtime_checks.py

[0] https://review.opendev.org/745641
[1] https://review.opendev.org/763334

Change-Id: I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30
Closes-Bug: #1896506
(cherry picked from commit 4dca7fae87d9bea01e01f786465fdb4d8231dc69)
(cherry picked from commit 64eae8f2575930e27b5abd8083d107c67d47ad42)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/798335/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'neutron/cmd/runtime_checks.py']",3,95488591cd0ff6c39c8928ee9af1861989757901,bug/1896506-stable/ussuri,"import packaging def keepalived_use_no_track_support(): cmd = ['keepalived', '--version'] env = {'LC_ALL': 'C', 'PATH': '/sbin:/usr/sbin'} keepalived_with_track = packaging.version.parse(""2.0.0"") try: # keepalived --version returns with stderr only res = agent_utils.execute(cmd, addl_env=env, log_fail_as_error=False, return_stderr=True) # First line is the interesting one here from stderr version_line = res[1].split('\n')[0] keepalived_version = packaging.version.parse(version_line.split()[1]) return keepalived_version >= keepalived_with_track except exceptions.ProcessExecutionError: return False",,99,14
openstack%2Fneutron~stable%2Fvictoria~I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30,openstack/neutron,stable/victoria,I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30,Keepalived version check,ABANDONED,2021-07-02 07:35:27.000000000,2021-08-07 01:52:25.000000000,,"[{'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-02 07:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64eae8f2575930e27b5abd8083d107c67d47ad42', 'message': ""Keepalived version check\n\n[0] introduced keepalived_use_no_track config option which defaults to\nTrue.\nHere I add and extra runtime check to check keepalived version, and\nonly if that version is bigger than 2.0.0 add the no_track option to\nthe keepalived config file.\n\nAdditionally, the patch [1] solve the missing 'packaging' issue. But,\nthe patch [1] is newer and depend on this patch (So, this patch and\npatch [1] is interdependence). So, I manual copy the patch [1]'s code\nto this patch.\n\n[0] https://review.opendev.org/745641\n[1] https://review.opendev.org/763334\n\nChange-Id: I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30\nCloses-Bug: #1896506\n(cherry picked from commit 4dca7fae87d9bea01e01f786465fdb4d8231dc69)\n""}, {'number': 2, 'created': '2021-07-05 10:22:59.000000000', 'files': ['neutron/tests/unit/agent/linux/test_keepalived.py', 'requirements.txt', 'neutron/agent/linux/keepalived.py', 'neutron/cmd/runtime_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac086cdbfa93caa11b659bf91d6e2f3fde509487', 'message': ""Keepalived version check\n\n[0] introduced keepalived_use_no_track config option which defaults to\nTrue.\nHere I add and extra runtime check to check keepalived version, and\nonly if that version is bigger than 2.0.0 add the no_track option to\nthe keepalived config file.\n\nAdditionally, the patch [1] solve the missing 'packaging' issue. But,\nthe patch [1] is newer and depend on this patch (So, this patch and\npatch [1] is interdependence). So, I manual copy the patch [1]'s code\nto this patch.\n\nConflicts with:\n    requirements.txt\n    neutron/cmd/runtime_checks.py\n\n[0] https://review.opendev.org/745641\n[1] https://review.opendev.org/763334\n\nChange-Id: I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30\nCloses-Bug: #1896506\n(cherry picked from commit 4dca7fae87d9bea01e01f786465fdb4d8231dc69)\n""}]",12,799164,ac086cdbfa93caa11b659bf91d6e2f3fde509487,20,8,2,28329,,,0,"Keepalived version check

[0] introduced keepalived_use_no_track config option which defaults to
True.
Here I add and extra runtime check to check keepalived version, and
only if that version is bigger than 2.0.0 add the no_track option to
the keepalived config file.

Additionally, the patch [1] solve the missing 'packaging' issue. But,
the patch [1] is newer and depend on this patch (So, this patch and
patch [1] is interdependence). So, I manual copy the patch [1]'s code
to this patch.

Conflicts with:
    requirements.txt
    neutron/cmd/runtime_checks.py

[0] https://review.opendev.org/745641
[1] https://review.opendev.org/763334

Change-Id: I16dce5b3faf62ce02535170a1b0e1ad22ee8ac30
Closes-Bug: #1896506
(cherry picked from commit 4dca7fae87d9bea01e01f786465fdb4d8231dc69)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/799164/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_keepalived.py', 'requirements.txt', 'neutron/agent/linux/keepalived.py', 'neutron/cmd/runtime_checks.py']",4,64eae8f2575930e27b5abd8083d107c67d47ad42,bug/1896506-stable/victoria,"from packaging import version def keepalived_use_no_track_support(): cmd = ['keepalived', '--version'] env = {'LC_ALL': 'C', 'PATH': '/sbin:/usr/sbin'} keepalived_with_track = version.parse(""2.0.0"") try: # keepalived --version returns with stderr only res = agent_utils.execute(cmd, addl_env=env, log_fail_as_error=False, return_stderr=True) # First line is the interesting one here from stderr version_line = res[1].split('\n')[0] keepalived_version = version.parse(version_line.split()[1]) return keepalived_version >= keepalived_with_track except exceptions.ProcessExecutionError: return False",,100,14
openstack%2Fopenstack-helm-infra~master~Ic457a9a51702f437dd2b823be0da47f704324847,openstack/openstack-helm-infra,master,Ic457a9a51702f437dd2b823be0da47f704324847,Gate: Remove (helm) version check,ABANDONED,2021-08-06 23:12:04.000000000,2021-08-07 00:39:21.000000000,,"[{'_account_id': 8863}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-08-06 23:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e81051d2acdcf2587a9536a1c9fdecfcd5541322', 'message': 'Gate: Remove (helm) version check\n\nChange-Id: Ic457a9a51702f437dd2b823be0da47f704324847\n'}, {'number': 2, 'created': '2021-08-06 23:30:47.000000000', 'files': ['roles/build-helm-packages/tasks/setup-helm-serve.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47e9d921b58199263861c2cc83cc38e14d5625e0', 'message': 'Gate: Remove (helm) version check\n\nChange-Id: Ic457a9a51702f437dd2b823be0da47f704324847\n'}]",0,803810,47e9d921b58199263861c2cc83cc38e14d5625e0,6,3,2,8898,,,0,"Gate: Remove (helm) version check

Change-Id: Ic457a9a51702f437dd2b823be0da47f704324847
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/803810/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-helm-packages/tasks/setup-helm-serve.yaml'],1,e81051d2acdcf2587a9536a1c9fdecfcd5541322,,," - name: check if correct version of helm client already installed shell: ""set -e; [ \""x$($(type -p helm) version --client --short | awk '{ print $NF }' | awk -F '+' '{ print $1 }')\"" == \""x${HELM_VERSION}\"" ] || exit 1"" environment: HELM_VERSION: ""{{ version.helm }}"" args: executable: /bin/bash register: need_helm ignore_errors: True",0,8
openstack%2Ftempest~master~I8f7986dc6d8689d569b7fba74cca38de4236c6d6,openstack/tempest,master,I8f7986dc6d8689d569b7fba74cca38de4236c6d6,compute: Rework attach_volume waiters and cleanup,MERGED,2021-06-04 09:21:15.000000000,2021-08-07 00:24:08.000000000,2021-08-07 00:22:39.000000000,"[{'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-04 09:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc8c55efcb978e92deedfbdfbb9aff7c393ac9ad', 'message': 'WIP compute: Rework attach_volume waiters and cleanup\n\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}, {'number': 2, 'created': '2021-06-04 13:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4e3e13cb8c49bce3f7f82a5d601c751939c1e1d8', 'message': 'WIP compute: Rework attach_volume waiters and cleanup\n\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}, {'number': 3, 'created': '2021-06-10 16:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b13c20b7caff2db594306d7802ff094d53c93e21', 'message': 'WIP compute: Rework attach_volume waiters and cleanup\n\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}, {'number': 4, 'created': '2021-06-10 21:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ea8ffae28efa1b10f70ffad8a3ef1b7712695dd', 'message': 'WIP compute: Rework attach_volume waiters and cleanup\n\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}, {'number': 5, 'created': '2021-06-10 22:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d23506a892de43f8de4836979a4ab544cf623ac7', 'message': 'WIP compute: Rework attach_volume waiters and cleanup\n\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}, {'number': 6, 'created': '2021-06-11 01:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e599a91865a6e4652ec3458483ccbf71f2587ad9', 'message': 'WIP compute: Rework attach_volume waiters and cleanup\n\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}, {'number': 7, 'created': '2021-06-11 12:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a771ed523f1e2c4191266ac356b28135ab17dae4', 'message': 'compute: Rework attach_volume waiters and cleanup\n\nThis change reworks both the waiters while attaching a volume *and* the\nordering of the waiters when detaching.\n\nThis is done to ensure the wait_for_volume_attachment_remove_from_server\nwaiter is called first as this  uses the servers client and is able to\ndump the contents of the instance console when we hit a timeout.  The\ncontents of the instance console being incredibly useful to debug issues\nwithin the guestOS when detaching devices as seen in bug #.\n\nThe wait_for_volume_attachment_remove_from_server waiter is also\nextended to ignore missing Nova volume attachments as this can easily\nhappen if tests have manually detached volumes ahead of the cleanups\nbeing called.\n\nTODOs are also left to move away from using the volume status to\ndetermine when a given volume has been attached and instead use the\nstate of volume attachments both in Nova and Cinder.\n\nRelated-Bug: #\n\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}, {'number': 8, 'created': '2021-06-11 12:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/121fba7147b22eb0ea1384a17f86a61536777a8d', 'message': 'compute: Rework attach_volume waiters and cleanup\n\nThis change reworks both the waiters while attaching a volume *and* the\nordering of the waiters when detaching.\n\nThis is done to ensure the wait_for_volume_attachment_remove_from_server\nwaiter is called first as this  uses the servers client and is able to\ndump the contents of the instance console when we hit a timeout.  The\ncontents of the instance console being incredibly useful to debug issues\nwithin the guestOS when detaching devices as seen in bug #.\n\nThe wait_for_volume_attachment_remove_from_server waiter is also\nextended to ignore missing Nova volume attachments as this can easily\nhappen if tests have manually detached volumes ahead of the cleanups\nbeing called.\n\nTODOs are also left to move away from using the volume status to\ndetermine when a given volume has been attached and instead use the\nstate of volume attachments both in Nova and Cinder.\n\nRelated-Bug: #1931702\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}, {'number': 9, 'created': '2021-06-28 09:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a3806e3f5c12245ebb9e3979053c6dcd9ded799e', 'message': 'compute: Rework attach_volume waiters and cleanup\n\nThis change reworks both the waiters while attaching a volume *and* the\nordering of the waiters when detaching.\n\nThis is done to ensure the wait_for_volume_attachment_remove_from_server\nwaiter is called first as this  uses the servers client and is able to\ndump the contents of the instance console when we hit a timeout.  The\ncontents of the instance console being incredibly useful to debug issues\nwithin the guestOS when detaching devices as seen in bug #.\n\nThe wait_for_volume_attachment_remove_from_server waiter is also\nextended to ignore missing Nova volume attachments as this can easily\nhappen if tests have manually detached volumes ahead of the cleanups\nbeing called.\n\nTODOs are also left to move away from using the volume status to\ndetermine when a given volume has been attached and instead use the\nstate of volume attachments both in Nova and Cinder.\n\nRelated-Bug: #1931702\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}, {'number': 10, 'created': '2021-07-26 09:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8e0035738526af759ed4e95681ecf6eaf80ee66', 'message': 'compute: Rework attach_volume waiters and cleanup\n\nThis change reworks both the waiters while attaching a volume *and* the\nordering of the waiters when detaching.\n\nThis is done to ensure the wait_for_volume_attachment_remove_from_server\nwaiter is called first as this  uses the servers client and is able to\ndump the contents of the instance console when we hit a timeout.  The\ncontents of the instance console being incredibly useful to debug issues\nwithin the guestOS when detaching devices as seen in bug #.\n\nThe wait_for_volume_attachment_remove_from_server waiter is also\nextended to ignore missing Nova volume attachments as this can easily\nhappen if tests have manually detached volumes ahead of the cleanups\nbeing called.\n\nTODOs are also left to move away from using the volume status to\ndetermine when a given volume has been attached and instead use the\nstate of volume attachments both in Nova and Cinder.\n\nRelated-Bug: #1931702\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}, {'number': 11, 'created': '2021-08-06 08:16:02.000000000', 'files': ['tempest/tests/common/test_waiters.py', 'tempest/api/compute/base.py', 'tempest/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1bd6059454e024b558f0e0d54a98563a6349b29f', 'message': 'compute: Rework attach_volume waiters and cleanup\n\nThis change reworks both the waiters while attaching a volume *and* the\nordering of the waiters when detaching.\n\nThis is done to ensure the wait_for_volume_attachment_remove_from_server\nwaiter is called first as this  uses the servers client and is able to\ndump the contents of the instance console when we hit a timeout.  The\ncontents of the instance console being incredibly useful to debug issues\nwithin the guestOS when detaching devices as seen in bug #.\n\nThe wait_for_volume_attachment_remove_from_server waiter is also\nextended to ignore missing Nova volume attachments as this can easily\nhappen if tests have manually detached volumes ahead of the cleanups\nbeing called.\n\nTODOs are also left to move away from using the volume status to\ndetermine when a given volume has been attached and instead use the\nstate of volume attachments both in Nova and Cinder.\n\nRelated-Bug: #1931702\nChange-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6\n'}]",11,794757,1bd6059454e024b558f0e0d54a98563a6349b29f,60,5,11,10135,,,0,"compute: Rework attach_volume waiters and cleanup

This change reworks both the waiters while attaching a volume *and* the
ordering of the waiters when detaching.

This is done to ensure the wait_for_volume_attachment_remove_from_server
waiter is called first as this  uses the servers client and is able to
dump the contents of the instance console when we hit a timeout.  The
contents of the instance console being incredibly useful to debug issues
within the guestOS when detaching devices as seen in bug #.

The wait_for_volume_attachment_remove_from_server waiter is also
extended to ignore missing Nova volume attachments as this can easily
happen if tests have manually detached volumes ahead of the cleanups
being called.

TODOs are also left to move away from using the volume status to
determine when a given volume has been attached and instead use the
state of volume attachments both in Nova and Cinder.

Related-Bug: #1931702
Change-Id: I8f7986dc6d8689d569b7fba74cca38de4236c6d6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/794757/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/common/waiters.py']",2,fc8c55efcb978e92deedfbdfbb9aff7c393ac9ad,794757," if CONF.compute_feature_enabled.console_output: console_output = client.get_console_output( server_id, **kwargs)['output'] LOG.debug('Console output for %s\nbody=\n%s', server_id, console_output)",,28,17
openstack%2Fcliff~master~I86267c0a95e3e7ae6ea5da66a3f9a2aa9017ba44,openstack/cliff,master,I86267c0a95e3e7ae6ea5da66a3f9a2aa9017ba44,Fix tests for Python 3.10,ABANDONED,2021-08-06 15:08:04.000000000,2021-08-07 00:20:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-06 15:08:04.000000000', 'files': ['cliff/tests/test_help.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/9ce0dc65a57eb887112e7375b48d24dff611aa7c', 'message': 'Fix tests for Python 3.10\n\nCloses-Bug: #1939159\nChange-Id: I86267c0a95e3e7ae6ea5da66a3f9a2aa9017ba44\n'}]",0,803771,9ce0dc65a57eb887112e7375b48d24dff611aa7c,6,1,1,8122,,,0,"Fix tests for Python 3.10

Closes-Bug: #1939159
Change-Id: I86267c0a95e3e7ae6ea5da66a3f9a2aa9017ba44
",git fetch https://review.opendev.org/openstack/cliff refs/changes/71/803771/1 && git format-patch -1 --stdout FETCH_HEAD,['cliff/tests/test_help.py'],1,9ce0dc65a57eb887112e7375b48d24dff611aa7c,bug/1939159," # argparse may generate two different help messages: # - In Python >=3.10: ""options:\n --version"" # - In Python <3.10: ""optional arguments:\n --version"" self.assertRegex(help_text, 'option(s|al arguments):\n --version')"," self.assertIn('optional arguments:\n --version', help_text)",4,1
openstack%2Fopenstack-helm-infra~master~I4a87226fed541777df78733f3650363859ff01b8,openstack/openstack-helm-infra,master,I4a87226fed541777df78733f3650363859ff01b8,Enable TLS path between Prometheus-elasticsearch-exporter and Elasticsearch,MERGED,2021-08-05 21:44:28.000000000,2021-08-06 23:51:28.000000000,2021-08-06 23:50:15.000000000,"[{'_account_id': 18250}, {'_account_id': 18306}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 27499}, {'_account_id': 30495}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-08-05 21:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20b04035c8c50e766fdaa263ccbbd8286769edba', 'message': 'Enable TLS for Prometheus-elasticsearch-exporter\n\nElasticsearch is TLS enabled.  Prometheus-elasticsearch-exporter\nneeds to be configured to use cacert when communicating with Elasticsearch.\n\nChange-Id: I4a87226fed541777df78733f3650363859ff01b8\n'}, {'number': 2, 'created': '2021-08-05 22:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/241993991546e40ab9f3268343aadbf268d5fb92', 'message': 'Enable TLS for Prometheus-elasticsearch-exporter\n\nElasticsearch is TLS enabled.  Prometheus-elasticsearch-exporter\nneeds to be configured to use cacert when communicating with Elasticsearch.\n\nChange-Id: I4a87226fed541777df78733f3650363859ff01b8\n'}, {'number': 3, 'created': '2021-08-05 22:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/86b6f7b0f3a2913833cd830e273bc46a54836364', 'message': 'Enable TLS path between Prometheus-elasticsearch-exporter and Elasticsearch\n\nElasticsearch is TLS enabled.  Prometheus-elasticsearch-exporter\nneeds to be configured to use cacert when communicating with Elasticsearch.\n\nChange-Id: I4a87226fed541777df78733f3650363859ff01b8\n'}, {'number': 4, 'created': '2021-08-05 23:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a0f194d1f4e937d95b76cce3e6d89bc9820c122', 'message': 'Enable TLS path between Prometheus-elasticsearch-exporter and Elasticsearch\n\nElasticsearch is TLS enabled.  Prometheus-elasticsearch-exporter\nneeds to be configured to use cacert when communicating with Elasticsearch.\n\nChange-Id: I4a87226fed541777df78733f3650363859ff01b8\n'}, {'number': 5, 'created': '2021-08-06 01:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a4d8a6b1afb2a4482209da1bbee55e9a2b361199', 'message': 'Enable TLS path between Prometheus-elasticsearch-exporter and Elasticsearch\n\nElasticsearch is TLS enabled.  Prometheus-elasticsearch-exporter\nneeds to be configured to use cacert when communicating with Elasticsearch.\n\nChange-Id: I4a87226fed541777df78733f3650363859ff01b8\n'}, {'number': 6, 'created': '2021-08-06 14:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a133655bd5511bb8ebdfb232b698b380998d5eb1', 'message': 'Enable TLS path between Prometheus-elasticsearch-exporter and Elasticsearch\n\nElasticsearch is TLS enabled.  Prometheus-elasticsearch-exporter\nneeds to be configured to use cacert when communicating with Elasticsearch.\n\nChange-Id: I4a87226fed541777df78733f3650363859ff01b8\n'}, {'number': 7, 'created': '2021-08-06 17:02:37.000000000', 'files': ['elasticsearch/values.yaml', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/templates/monitoring/prometheus/exporter-deployment.yaml', 'elasticsearch/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/830df06628e4257ddc656a8869f3705e7b148f49', 'message': 'Enable TLS path between Prometheus-elasticsearch-exporter and Elasticsearch\n\nElasticsearch is TLS enabled.  Prometheus-elasticsearch-exporter\nneeds to be configured to use cacert when communicating with Elasticsearch.\n\nChange-Id: I4a87226fed541777df78733f3650363859ff01b8\n'}]",0,803654,830df06628e4257ddc656a8869f3705e7b148f49,39,8,7,19391,,,0,"Enable TLS path between Prometheus-elasticsearch-exporter and Elasticsearch

Elasticsearch is TLS enabled.  Prometheus-elasticsearch-exporter
needs to be configured to use cacert when communicating with Elasticsearch.

Change-Id: I4a87226fed541777df78733f3650363859ff01b8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/54/803654/5 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/templates/monitoring/prometheus/exporter-deployment.yaml'],1,20b04035c8c50e766fdaa263ccbbd8286769edba,," {{- if and .Values.manifests.certificates .Values.conf.prometheus_elasticsearch_exporter.es.ca }} {{- if and .Values.manifests.certificates .Values.conf.prometheus_elasticsearch_exporter.es.client_private_key }} {{- if and .Values.manifests.certificates .Values.conf.prometheus_elasticsearch_exporter.es.client_cert }}{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.endpoints.elasticsearch.auth.admin.secret.tls.internal ""path"" ""/tmp/elasticsearch/certs"" ""certs"" tuple ""ca.crt"" | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}{{- dict ""enabled"" Values.manifests.certificates ""name"" .Values.endpoints.elasticsearch.auth.admin.secret.tls.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }}", {{- if .Values.conf.prometheus_elasticsearch_exporter.es.ca }} {{- if .Values.conf.prometheus_elasticsearch_exporter.es.client_private_key }} {{- if .Values.conf.prometheus_elasticsearch_exporter.es.client_cert }},5,3
openstack%2Fopenstack-helm-infra~master~If7a27304507a9d1bcb9efcef4fc1146f77080a4f,openstack/openstack-helm-infra,master,If7a27304507a9d1bcb9efcef4fc1146f77080a4f,[ceph-osd] Change var crash mount propagation to HostToContainer,MERGED,2021-08-04 18:54:53.000000000,2021-08-06 22:32:01.000000000,2021-08-06 22:30:44.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28719}, {'_account_id': 29974}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-08-04 18:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e64e61ab688ddad1256d11c20b2bce7870ad9fb', 'message': '[ceph-osd] change var crash mount propagation to HostToContainer\n\n- As it will be a security violation to mount anything under /var\npartition to pods , changing the mount propagation to HostToContainer\n\nChange-Id: If7a27304507a9d1bcb9efcef4fc1146f77080a4f\n'}, {'number': 2, 'created': '2021-08-05 11:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2ded686c5a27962c987785e8262e796a8e3141a2', 'message': '[ceph-osd] change var crash mount propagation to HostToContainer\n\n- As it will be a security violation to mount anything under /var\npartition to pods , changing the mount propagation to HostToContainer\n\nChange-Id: If7a27304507a9d1bcb9efcef4fc1146f77080a4f\n'}, {'number': 3, 'created': '2021-08-05 13:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/587d2666756bb6713e9cce2a9e48cd49ea31c792', 'message': '[ceph-osd] Change var crash mount propagation to HostToContainer\n\n- As it will be a security violation to mount anything under /var\npartition to pods , changing the mount propagation to HostToContainer\n\nChange-Id: If7a27304507a9d1bcb9efcef4fc1146f77080a4f\n'}, {'number': 4, 'created': '2021-08-05 14:33:15.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/Chart.yaml', 'releasenotes/notes/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7117c93772fdf9084a606e6b9263bbe0be053dbf', 'message': '[ceph-osd] Change var crash mount propagation to HostToContainer\n\n- As it will be a security violation to mount anything under /var\npartition to pods , changing the mount propagation to HostToContainer\n\nChange-Id: If7a27304507a9d1bcb9efcef4fc1146f77080a4f\n'}]",8,803505,7117c93772fdf9084a606e6b9263bbe0be053dbf,20,9,4,28372,,,0,"[ceph-osd] Change var crash mount propagation to HostToContainer

- As it will be a security violation to mount anything under /var
partition to pods , changing the mount propagation to HostToContainer

Change-Id: If7a27304507a9d1bcb9efcef4fc1146f77080a4f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/05/803505/4 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/daemonset-osd.yaml'],1,3e64e61ab688ddad1256d11c20b2bce7870ad9fb,, type: HostToContainer, type: DirectoryOrCreate,1,1
openstack%2Fcharm-deployment-guide~master~I601f187688fb9a085fec927a16ab72282c526193,openstack/charm-deployment-guide,master,I601f187688fb9a085fec927a16ab72282c526193,Add upgrade note for manila-ganesha charm,MERGED,2021-08-06 21:52:25.000000000,2021-08-06 22:25:17.000000000,2021-08-06 22:24:04.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 21:52:25.000000000', 'files': ['deploy-guide/source/upgrade-issues.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1b32cdc1ae85631bd4bb682b1ecd259b43d11e0e', 'message': 'Add upgrade note for manila-ganesha charm\n\nThis was taken/moved from the 21.10 Release Notes.\n\nChange-Id: I601f187688fb9a085fec927a16ab72282c526193\n'}]",0,803807,1b32cdc1ae85631bd4bb682b1ecd259b43d11e0e,7,2,1,30561,,,0,"Add upgrade note for manila-ganesha charm

This was taken/moved from the 21.10 Release Notes.

Change-Id: I601f187688fb9a085fec927a16ab72282c526193
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/07/803807/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-issues.rst'],1,1b32cdc1ae85631bd4bb682b1ecd259b43d11e0e,add-upgrade-note-manila,"manila-ganesha charm: package updates ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ To fix long-standing issues in the manila-ganesha charm related to `Manila exporting shares after restart`_, the nfs-ganesha Ubuntu package must be updated on all affected units prior to the upgrading of the manila-ganesha charm in OpenStack Charms 21.10. .. _manila exporting shares after restart: https://bugs.launchpad.net/charm-manila-ganesha/+bug/1889287",,9,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I28219759922b7407121a3fa4d2f49ee1f4b8a3cd,openstack/python-tripleoclient,stable/victoria,I28219759922b7407121a3fa4d2f49ee1f4b8a3cd,Allow for cron programming of backups,MERGED,2021-08-03 09:47:40.000000000,2021-08-06 22:19:50.000000000,2021-08-06 22:18:32.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-08-03 09:47:40.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4512b0fa67096395b608b6c490671ea2cd7cc450', 'message': 'Allow for cron programming of backups\n\nNormally, backups are not done interactively, but during nights or\nweekends. This patch introduces the capacity of introducing in an easy\nway cron programming that will execute backups in predictable intervals.\n\nCloses-Bug: #1935675\n\nDepends-on: I86b3fb2c3d846bcd56859e0d572f1fe4d5e148fa\nChange-Id: I28219759922b7407121a3fa4d2f49ee1f4b8a3cd\n(cherry picked from commit c5347fbac354099852ba9d2f7291485704f7922d)\n'}]",0,803279,4512b0fa67096395b608b6c490671ea2cd7cc450,8,6,1,32968,,,0,"Allow for cron programming of backups

Normally, backups are not done interactively, but during nights or
weekends. This patch introduces the capacity of introducing in an easy
way cron programming that will execute backups in predictable intervals.

Closes-Bug: #1935675

Depends-on: I86b3fb2c3d846bcd56859e0d572f1fe4d5e148fa
Change-Id: I28219759922b7407121a3fa4d2f49ee1f4b8a3cd
(cherry picked from commit c5347fbac354099852ba9d2f7291485704f7922d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/79/803279/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py']",2,4512b0fa67096395b608b6c490671ea2cd7cc450,cron-stable/wallaby-stable/victoria," '--cron', default=False, action='store_true', help=_(""Sets up a new cron job that by default will "" ""execute a weekly backup at Sundays midnight, "" ""but that can be customized by using the "" ""tripleo_backup_and_restore_cron extra-var."") ) parser.add_argument( if parsed_args.cron is True: LOG.debug(_('Programming cron backup')) self._run_ansible_playbook( playbook='cli-overcloud-backup-cron.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, extra_vars=extra_vars ) parsed_args.cron is False and",,43,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I28219759922b7407121a3fa4d2f49ee1f4b8a3cd,openstack/python-tripleoclient,stable/train,I28219759922b7407121a3fa4d2f49ee1f4b8a3cd,Allow for cron programming of backups,MERGED,2021-08-03 09:49:19.000000000,2021-08-06 22:19:48.000000000,2021-08-06 22:18:33.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-08-03 09:49:19.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4203d1792e66ba5a8c04491154d585d3b496dbfa', 'message': 'Allow for cron programming of backups\n\nNormally, backups are not done interactively, but during nights or\nweekends. This patch introduces the capacity of introducing in an easy\nway cron programming that will execute backups in predictable intervals.\n\nCloses-Bug: #1935675\n\nDepends-on: I86b3fb2c3d846bcd56859e0d572f1fe4d5e148fa\nChange-Id: I28219759922b7407121a3fa4d2f49ee1f4b8a3cd\n(cherry picked from commit c5347fbac354099852ba9d2f7291485704f7922d)\n'}]",0,803281,4203d1792e66ba5a8c04491154d585d3b496dbfa,8,6,1,32968,,,0,"Allow for cron programming of backups

Normally, backups are not done interactively, but during nights or
weekends. This patch introduces the capacity of introducing in an easy
way cron programming that will execute backups in predictable intervals.

Closes-Bug: #1935675

Depends-on: I86b3fb2c3d846bcd56859e0d572f1fe4d5e148fa
Change-Id: I28219759922b7407121a3fa4d2f49ee1f4b8a3cd
(cherry picked from commit c5347fbac354099852ba9d2f7291485704f7922d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/81/803281/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py']",2,4203d1792e66ba5a8c04491154d585d3b496dbfa,cron-stable/wallaby-stable/victoria-stable/ussuri-stable/train," '--cron', default=False, action='store_true', help=_(""Sets up a new cron job that by default will "" ""execute a weekly backup at Sundays midnight, "" ""but that can be customized by using the "" ""tripleo_backup_and_restore_cron extra-var."") ) parser.add_argument( if parsed_args.cron is True: LOG.debug(_('Programming cron backup')) self._run_ansible_playbook( playbook='cli-overcloud-backup-cron.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, extra_vars=extra_vars ) parsed_args.cron is False and",,43,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic76953f1a671ea0416da829acb37bd1d787a55dc,openstack/tripleo-ansible,stable/wallaby,Ic76953f1a671ea0416da829acb37bd1d787a55dc,Enforce minimum Ceph client version to Mimic,MERGED,2021-08-06 13:51:33.000000000,2021-08-06 22:18:37.000000000,2021-08-06 22:18:37.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-06 13:51:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d397c9bbc22c901332723240d0cf634ce04bc92', 'message': 'Enforce minimum Ceph client version to Mimic\n\nThis is so that we can take advantage of the deferred deletion\nfeature in Cinder. This change is done in Ansible instead of\nTripleO Heat Templates so that it is deployed_ceph compatible\nwhile still having an effect when deployed_ceph is not used.\n\nCloses-Bug: #1938833\nChange-Id: Ic76953f1a671ea0416da829acb37bd1d787a55dc\n(cherry picked from commit bb5e1cfaab7f579037af9517d4be37e1beea5094)\n'}]",0,803683,1d397c9bbc22c901332723240d0cf634ce04bc92,7,7,1,25402,,,0,"Enforce minimum Ceph client version to Mimic

This is so that we can take advantage of the deferred deletion
feature in Cinder. This change is done in Ansible instead of
TripleO Heat Templates so that it is deployed_ceph compatible
while still having an effect when deployed_ceph is not used.

Closes-Bug: #1938833
Change-Id: Ic76953f1a671ea0416da829acb37bd1d787a55dc
(cherry picked from commit bb5e1cfaab7f579037af9517d4be37e1beea5094)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/83/803683/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml']",2,1d397c9bbc22c901332723240d0cf634ce04bc92,bug/1938833-stable/wallaby,tripleo_cephadm_min_compat_client: mimic,,8,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4c4cd976d9a997b39e7e3937e49193a10f872ae3,openstack/tripleo-heat-templates,stable/wallaby,I4c4cd976d9a997b39e7e3937e49193a10f872ae3,Default ganesha-internal service endpoint to external network,MERGED,2021-08-03 16:55:29.000000000,2021-08-06 22:18:35.000000000,2021-08-06 22:18:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-03 16:55:29.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bde560231296ca313d57728ed54bb1b7a54a2f78', 'message': 'Default ganesha-internal service endpoint to external network\n\nThis is a clean cherry-pick except that the path to the relevant\nfile changed in the master branch.\n\nCloses-Bug: #1938639\n\n(cherry picked from commit e104c6e623c32f7606eaaa40751c61c35c5780bb)\nChange-Id: I4c4cd976d9a997b39e7e3937e49193a10f872ae3\n'}]",0,803383,bde560231296ca313d57728ed54bb1b7a54a2f78,8,6,1,9003,,,0,"Default ganesha-internal service endpoint to external network

This is a clean cherry-pick except that the path to the relevant
file changed in the master branch.

Closes-Bug: #1938639

(cherry picked from commit e104c6e623c32f7606eaaa40751c61c35c5780bb)
Change-Id: I4c4cd976d9a997b39e7e3937e49193a10f872ae3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/803383/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,bde560231296ca313d57728ed54bb1b7a54a2f78,," # Guest VMs use GaneshaNetwork and cannot reach ctlplane network, # so default to external when storage_nfs is not available. GaneshaNetwork: {{ _service_nets.get('storage_nfs', 'external') }}"," GaneshaNetwork: {{ _service_nets.get('storage_nfs', 'ctlplane') }}",3,1
openstack%2Fnova~master~Ib2f6d59445fbc9014e828e307d9cde304c9e7821,openstack/nova,master,Ib2f6d59445fbc9014e828e307d9cde304c9e7821,WIP: Expand type hints for nova.block_device,NEW,2020-07-21 12:35:05.000000000,2021-08-06 21:37:56.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-21 12:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87d0a24e644bc3008e102f418dd1a22f9dc3f528', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-08-10 13:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8be25ae334d23136924606124264e81168da35a6', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-09-25 16:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b6ac6878929ce0766add4e5e810ac5202ac55f4', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-11-30 17:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c78035c4e8525a481c5f7bc74302f4b5f091c626', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-01-27 15:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea7bf5023648ae3d16d9276fa1e0844f57566c7e', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-01-28 17:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e91f42be4d6935f9510ef8fe2fb2a2a63387930c', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-01-29 12:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9407aedd44bc5c622a4ec21dcba1eb74a4754319', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-05-17 12:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/000f39a4b84aab18634c6b234cb1efa8693aed99', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2021-07-27 16:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96003a8de758c4d2dafc16f1473a7bee336a60bb', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2021-07-28 13:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbaaa728f5bf6ea8b0e43de5873da962fd31a18d', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 11, 'created': '2021-08-06 16:39:23.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/72cb4622afdfad598271379e6d8b122e7def2c78', 'message': ""WIP: Expand type hints for nova.block_device\n\nThis is proving quite challenging since we're switching between dict and\no.vo representations everywhere...\n\nChange-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,742170,72cb4622afdfad598271379e6d8b122e7def2c78,71,9,11,15334,,,0,"WIP: Expand type hints for nova.block_device

This is proving quite challenging since we're switching between dict and
o.vo representations everywhere...

Change-Id: Ib2f6d59445fbc9014e828e307d9cde304c9e7821
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/742170/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/block_device.py']",2,87d0a24e644bc3008e102f418dd1a22f9dc3f528,mypy-integration,"import typing as ty def __init__( self, bdm_dict: ty.Optional[ty.Dict[str, ty.Any]] = None, do_not_default: ty.Optional[ty.Set[str]] = None, **kwargs, ): self.update({field: None for field in self._fields}) def _validate(self, bdm_dict: ty.Dict[str, ty.Any]): if ( self._required_fields and (dict_fields & self._required_fields) != self._required_fields ): def from_legacy( cls, legacy_bdm: ty.Dict[str, ty.Any], ) -> 'BlockDeviceDict': def from_api( cls, api_dict: ty.Dict[str, ty.Any], image_uuid_specified: bool, ) -> 'BlockDeviceDict': if not source_type: raise exception.InvalidBDMFormat( details=_('Missing source type')) def legacy(self) -> ty.Dict[str, ty.Any]:def is_safe_for_update(block_device_dict: ty.Dict[str, ty.Any]) -> bool:def create_image_bdm( image_ref: str, boot_index: int = 0, ) -> BlockDeviceDict:def create_blank_bdm( size: int, guest_format: ty.Optional[str] = None, ) -> BlockDeviceDict:def snapshot_from_bdm( snapshot_id: str, template: ty.Dict[str, ty.Any], ) -> BlockDeviceDict: snapshot_dict: ty.Dict[str, ty.Any] = { 'source_type': 'snapshot', 'destination_type': 'volume', 'snapshot_id': snapshot_id, }def legacy_mapping( block_device_mapping: ty.List[ty.Dict[str, ty.Any]], ) -> ty.List[ty.Dict[str, ty.Any]]:def from_legacy_mapping( legacy_block_device_mapping: ty.List[ty.Dict[str, ty.Any]], image_uuid: str = '', root_device_name: ty.Optional[str] = None, no_root: bool = False, ) -> ty.List[BlockDeviceDict]:def properties_root_device_name( properties: ty.Dict[str, ty.Any], ) -> ty.Optional[str]:def validate_device_name(value: str):def validate_and_default_volume_size(bdm: ty.Dict[str, ty.Any]):def is_ephemeral(device_name: str) -> bool:def ephemeral_num(ephemeral_name: str) -> int:def is_swap_or_ephemeral(device_name: ty.Optional[str]) -> bool: return bool( device_name and (device_name == 'swap' or is_ephemeral(device_name)) ) def new_format_is_swap(bdm: BlockDeviceDict) -> bool:def new_format_is_ephemeral(bdm: BlockDeviceDict) -> bool:def get_root_bdm( bdms: ty.List[BlockDeviceDict], ) -> ty.Optional[BlockDeviceDict]:"," def __init__(self, bdm_dict=None, do_not_default=None, **kwargs): do_not_default = do_not_default or set() self.update({field: None for field in self._fields - do_not_default}) def _validate(self, bdm_dict): if (self._required_fields and not ((dict_fields & self._required_fields) == self._required_fields)): def from_legacy(cls, legacy_bdm): def from_api(cls, api_dict, image_uuid_specified): def legacy(self):def is_safe_for_update(block_device_dict):def create_image_bdm(image_ref, boot_index=0):def create_blank_bdm(size, guest_format=None):def snapshot_from_bdm(snapshot_id, template): snapshot_dict = {'source_type': 'snapshot', 'destination_type': 'volume', 'snapshot_id': snapshot_id}def legacy_mapping(block_device_mapping):def from_legacy_mapping(legacy_block_device_mapping, image_uuid='', root_device_name=None, no_root=False):def properties_root_device_name(properties):def validate_device_name(value):def validate_and_default_volume_size(bdm):def is_ephemeral(device_name):def ephemeral_num(ephemeral_name):def is_swap_or_ephemeral(device_name): return (device_name and (device_name == 'swap' or is_ephemeral(device_name))) def new_format_is_swap(bdm):def new_format_is_ephemeral(bdm):def get_root_bdm(bdms):",71,34
openstack%2Fpython-tripleoclient~stable%2Fussuri~I28219759922b7407121a3fa4d2f49ee1f4b8a3cd,openstack/python-tripleoclient,stable/ussuri,I28219759922b7407121a3fa4d2f49ee1f4b8a3cd,Allow for cron programming of backups,MERGED,2021-08-03 09:48:22.000000000,2021-08-06 21:18:30.000000000,2021-08-06 21:17:18.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-08-03 09:48:22.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a4534128f87e1083ac6ef0280a66706a2cb9d6d0', 'message': 'Allow for cron programming of backups\n\nNormally, backups are not done interactively, but during nights or\nweekends. This patch introduces the capacity of introducing in an easy\nway cron programming that will execute backups in predictable intervals.\n\nCloses-Bug: #1935675\n\nDepends-on: I86b3fb2c3d846bcd56859e0d572f1fe4d5e148fa\nChange-Id: I28219759922b7407121a3fa4d2f49ee1f4b8a3cd\n(cherry picked from commit c5347fbac354099852ba9d2f7291485704f7922d)\n'}]",0,803280,a4534128f87e1083ac6ef0280a66706a2cb9d6d0,8,6,1,32968,,,0,"Allow for cron programming of backups

Normally, backups are not done interactively, but during nights or
weekends. This patch introduces the capacity of introducing in an easy
way cron programming that will execute backups in predictable intervals.

Closes-Bug: #1935675

Depends-on: I86b3fb2c3d846bcd56859e0d572f1fe4d5e148fa
Change-Id: I28219759922b7407121a3fa4d2f49ee1f4b8a3cd
(cherry picked from commit c5347fbac354099852ba9d2f7291485704f7922d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/80/803280/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py']",2,a4534128f87e1083ac6ef0280a66706a2cb9d6d0,cron-stable/wallaby-stable/victoria-stable/ussuri," '--cron', default=False, action='store_true', help=_(""Sets up a new cron job that by default will "" ""execute a weekly backup at Sundays midnight, "" ""but that can be customized by using the "" ""tripleo_backup_and_restore_cron extra-var."") ) parser.add_argument( if parsed_args.cron is True: LOG.debug(_('Programming cron backup')) self._run_ansible_playbook( playbook='cli-overcloud-backup-cron.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, extra_vars=extra_vars ) parsed_args.cron is False and",,43,0
openstack%2Fcharm-magpie~master~I39839a0a8dbf4d3343a02f80b7589dbc9d2063e3,openstack/charm-magpie,master,I39839a0a8dbf4d3343a02f80b7589dbc9d2063e3,Replace reference to 'juju set' with 'juju config'.,MERGED,2021-08-06 17:34:45.000000000,2021-08-06 21:13:45.000000000,2021-08-06 21:13:45.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-08-06 17:34:45.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/6c24579726a21a2aca7c32843efa138818b00aa0', 'message': ""Replace reference to 'juju set' with 'juju config'.\n\nChange-Id: I39839a0a8dbf4d3343a02f80b7589dbc9d2063e3\n""}]",0,803796,6c24579726a21a2aca7c32843efa138818b00aa0,7,3,1,30028,,,0,"Replace reference to 'juju set' with 'juju config'.

Change-Id: I39839a0a8dbf4d3343a02f80b7589dbc9d2063e3
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/96/803796/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,6c24579726a21a2aca7c32843efa138818b00aa0,juju-config-not-set,juju config magpie dns_server=8.8.8.8 required_mtu=9000 min_speed=1000,juju set magpie dns_server=8.8.8.8 required_mtu=9000 min_speed=1000,1,1
openstack%2Fnova~master~I12e943a9037d6e7d6c0d5e28426f3f76ee7e6322,openstack/nova,master,I12e943a9037d6e7d6c0d5e28426f3f76ee7e6322,WIP: Cleanup GPU vs. mdev wording,NEW,2021-08-03 16:50:33.000000000,2021-08-06 20:51:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-03 16:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da881bb1c25f339bcb34ec3c71b661369614cc4a', 'message': 'WIP: Cleanup GPU vs. mdev wording\n\nNow that we support generic mdevs and not only GPUs, we should cleanup\nour code and make it more generic.\n\nChange-Id: I12e943a9037d6e7d6c0d5e28426f3f76ee7e6322\n'}, {'number': 2, 'created': '2021-08-04 09:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fcc4ed3bc5099acb89548a8f90fb64a18f0e68a', 'message': 'WIP: Cleanup GPU vs. mdev wording\n\nNow that we support generic mdevs and not only GPUs, we should cleanup\nour code and make it more generic.\n\nChange-Id: I12e943a9037d6e7d6c0d5e28426f3f76ee7e6322\n'}, {'number': 3, 'created': '2021-08-04 13:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f7d0b92de1fea65ae18a38b09c7ce66238def96', 'message': 'WIP: Cleanup GPU vs. mdev wording\n\nNow that we support generic mdevs and not only GPUs, we should cleanup\nour code and make it more generic.\n\nChange-Id: I12e943a9037d6e7d6c0d5e28426f3f76ee7e6322\n'}, {'number': 4, 'created': '2021-08-05 09:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5daf4dde1c719ea09452fe7ee0f2a9bc74350720', 'message': 'WIP: Cleanup GPU vs. mdev wording\n\nNow that we support generic mdevs and not only GPUs, we should cleanup\nour code and make it more generic.\n\nChange-Id: I12e943a9037d6e7d6c0d5e28426f3f76ee7e6322\n'}, {'number': 5, 'created': '2021-08-06 15:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90b1f7af069d902bd9d32888d712349d7b9adfe1', 'message': 'WIP: Cleanup GPU vs. mdev wording\n\nNow that we support generic mdevs and not only GPUs, we should cleanup\nour code and make it more generic.\n\nChange-Id: I12e943a9037d6e7d6c0d5e28426f3f76ee7e6322\n'}, {'number': 6, 'created': '2021-08-06 15:54:09.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5113ffc94c3e0b8bcf3adaeb3f338a0078071d15', 'message': 'WIP: Cleanup GPU vs. mdev wording\n\nNow that we support generic mdevs and not only GPUs, we should cleanup\nour code and make it more generic.\n\nChange-Id: I12e943a9037d6e7d6c0d5e28426f3f76ee7e6322\n'}]",2,803379,5113ffc94c3e0b8bcf3adaeb3f338a0078071d15,28,1,6,7166,,,0,"WIP: Cleanup GPU vs. mdev wording

Now that we support generic mdevs and not only GPUs, we should cleanup
our code and make it more generic.

Change-Id: I12e943a9037d6e7d6c0d5e28426f3f76ee7e6322
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/803379/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,da881bb1c25f339bcb34ec3c71b661369614cc4a,bp/generic-mdevs," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_mdev_inventories') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_mdev_inventories') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_mdev_inventories') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_mdev_inventories') '_update_provider_tree_for_mdev', def _test_get_mdev_inventories(self, drvr, expected, expected_types, self.assertEqual(expected, drvr._get_mdev_inventories()) def test_get_mdev_inventories_with_a_single_type(self): self.assertEqual({}, drvr._get_mdev_inventories()) self._test_get_mdev_inventories(drvr, expected, ['nvidia-11']) def test_get_mdev_inventories_with_two_types(self, get_mdev_capable_devs): self._test_get_mdev_inventories(drvr, expected, ['nvidia-11', def test_allocate_mdevs_with_no_mdev_allocations(self):"," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_gpu_inventories') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_gpu_inventories') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_gpu_inventories') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_gpu_inventories') '_update_provider_tree_for_vgpu', def _test_get_gpu_inventories(self, drvr, expected, expected_types, self.assertEqual(expected, drvr._get_gpu_inventories()) def test_get_gpu_inventories_with_a_single_type(self): self.assertEqual({}, drvr._get_gpu_inventories()) self._test_get_gpu_inventories(drvr, expected, ['nvidia-11']) def test_get_gpu_inventories_with_two_types(self, get_mdev_capable_devs): self._test_get_gpu_inventories(drvr, expected, ['nvidia-11', def test_allocate_mdevs_with_no_vgpu_allocations(self):",51,43
openstack%2Frequirements~master~I0fa41f4d26b0ad64aecd5f13501ac744f0b1f02f,openstack/requirements,master,I0fa41f4d26b0ad64aecd5f13501ac744f0b1f02f,Updated from generate-constraints,MERGED,2021-08-03 06:31:29.000000000,2021-08-06 20:48:56.000000000,2021-08-06 20:47:36.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-03 06:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/34c7be5e6d97ca8198e1b3fe87c43e419a544d00', 'message': 'Updated from generate-constraints\n\nChange-Id: I0fa41f4d26b0ad64aecd5f13501ac744f0b1f02f\n'}, {'number': 2, 'created': '2021-08-04 06:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ce82f0bc8d162f6cdcc18516def3fb30d41a63b7', 'message': 'Updated from generate-constraints\n\nChange-Id: I0fa41f4d26b0ad64aecd5f13501ac744f0b1f02f\n'}, {'number': 3, 'created': '2021-08-05 06:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b8d73ebd2f6469e67cc8a26682aa9ec17e744912', 'message': 'Updated from generate-constraints\n\nChange-Id: I0fa41f4d26b0ad64aecd5f13501ac744f0b1f02f\n'}, {'number': 4, 'created': '2021-08-06 15:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fafc36866f4083f399c38418c71e8c7836ec51a7', 'message': 'Updated from generate-constraints\n\nheld back:\n  - XStatic-Angular===1.8.2.1\n  - fasteners===0.16.3\n\nChange-Id: I0fa41f4d26b0ad64aecd5f13501ac744f0b1f02f\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 5, 'created': '2021-08-06 16:28:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c94f73fd4463a246ac5a78693836ebe3358e3241', 'message': 'Updated from generate-constraints\n\nheld back:\n  - XStatic-Angular===1.8.2.1\n  - fasteners===0.16.3\n\nChange-Id: I0fa41f4d26b0ad64aecd5f13501ac744f0b1f02f\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,803311,c94f73fd4463a246ac5a78693836ebe3358e3241,21,2,5,11131,,,0,"Updated from generate-constraints

held back:
  - XStatic-Angular===1.8.2.1
  - fasteners===0.16.3

Change-Id: I0fa41f4d26b0ad64aecd5f13501ac744f0b1f02f
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/803311/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,34c7be5e6d97ca8198e1b3fe87c43e419a544d00,openstack/requirements/constraints/noclob,# generated using: tox -e generatentc-templates===2.2.0networkx===2.5.1;python_version=='3.6' networkx===2.6.2;python_version=='3.8'XStatic-Angular===1.8.2.1reno===3.4.0pkg_resources===0.0.0libvirt-python===7.6.0boto3===1.18.12WSME===0.11.0botocore===1.21.12xmlschema===1.7.0decorator===4.4.2;python_version=='3.6' decorator===5.0.9;python_version=='3.8'fasteners===0.16.3,ntc-templates===2.1.0networkx===2.5.1XStatic-Angular===1.5.8.0reno===3.3.0libvirt-python===7.5.0boto3===1.18.11WSME===0.10.1botocore===1.21.11xmlschema===1.6.4decorator===4.4.2fasteners===0.14.1setuptools===57.4.0,15,12
openstack%2Frequirements~master~Idbcba5b11928ef404db2021fd60d43998c3d1b81,openstack/requirements,master,Idbcba5b11928ef404db2021fd60d43998c3d1b81,add pkg_resources to blacklist,MERGED,2021-08-06 15:42:36.000000000,2021-08-06 20:44:09.000000000,2021-08-06 20:39:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 15:42:36.000000000', 'files': ['blacklist.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/07817aec22d7db876775f41800144bf5fea8848f', 'message': 'add pkg_resources to blacklist\n\nChange-Id: Idbcba5b11928ef404db2021fd60d43998c3d1b81\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,803775,07817aec22d7db876775f41800144bf5fea8848f,7,2,1,14288,,,0,"add pkg_resources to blacklist

Change-Id: Idbcba5b11928ef404db2021fd60d43998c3d1b81
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/75/803775/1 && git format-patch -1 --stdout FETCH_HEAD,['blacklist.txt'],1,07817aec22d7db876775f41800144bf5fea8848f,blacklist-pkg_resources, # annoying from setuptools pkg_resources,,3,0
openstack%2Fnova~master~Ic8091537274a5ad27fb5af8939f81ed154b7ad7c,openstack/nova,master,Ic8091537274a5ad27fb5af8939f81ed154b7ad7c,libvirt: Handle silent failures to extend volume within os-brick,MERGED,2021-07-22 08:10:56.000000000,2021-08-06 20:43:30.000000000,2021-08-06 20:39:27.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 08:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff0695e64176b2d98c770f68feba45ac5647e1be', 'message': 'libvirt: Handle silent failures to extend volume within os-brick\n\nAs seen in bug #1849425 os-brick can fail to extend an underlying volume\ndevice on the compute silently, returning a new_size of None to n-cpu.\n\nWhile this should ultimatley be addressed in os-brick n-cpu can also\nhandle this before we eventually run into a type error when attemting\nfloor division later in the volume extend flow.\n\nChange-Id: Ic8091537274a5ad27fb5af8939f81ed154b7ad7c\nCloses-Bug: #1849425\n'}, {'number': 2, 'created': '2021-07-26 09:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b984322ab738419a32036a5e2c1b607449e7f61', 'message': 'libvirt: Handle silent failures to extend volume within os-brick\n\nAs seen in bug #1849425 os-brick can fail to extend an underlying volume\ndevice on the compute silently, returning a new_size of None to n-cpu.\n\nWhile this should ultimatley be addressed in os-brick n-cpu can also\nhandle this before we eventually run into a type error when attemting\nfloor division later in the volume extend flow.\n\nChange-Id: Ic8091537274a5ad27fb5af8939f81ed154b7ad7c\nCloses-Bug: #1849425\n'}, {'number': 3, 'created': '2021-07-28 19:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/343617e79efbd483458390aeac81d55e32074972', 'message': 'libvirt: Handle silent failures to extend volume within os-brick\n\nAs seen in bug #1849425 os-brick can fail to extend an underlying volume\ndevice on the compute silently, returning a new_size of None to n-cpu.\n\nWhile this should ultimatley be addressed in os-brick n-cpu can also\nhandle this before we eventually run into a type error when attemting\nfloor division later in the volume extend flow.\n\nChange-Id: Ic8091537274a5ad27fb5af8939f81ed154b7ad7c\nCloses-Bug: #1849425\n'}, {'number': 4, 'created': '2021-08-04 11:37:26.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/49ba5a763f9d2c7c496f391ca8149a18541bfec7', 'message': 'libvirt: Handle silent failures to extend volume within os-brick\n\nAs seen in bug #1849425 os-brick can fail to extend an underlying volume\ndevice on the compute silently, returning a new_size of None to n-cpu.\n\nWhile this should ultimatley be addressed in os-brick n-cpu can also\nhandle this before we eventually run into a type error when attemting\nfloor division later in the volume extend flow.\n\nChange-Id: Ic8091537274a5ad27fb5af8939f81ed154b7ad7c\nCloses-Bug: #1849425\n'}]",3,801714,49ba5a763f9d2c7c496f391ca8149a18541bfec7,65,3,4,10135,,,0,"libvirt: Handle silent failures to extend volume within os-brick

As seen in bug #1849425 os-brick can fail to extend an underlying volume
device on the compute silently, returning a new_size of None to n-cpu.

While this should ultimatley be addressed in os-brick n-cpu can also
handle this before we eventually run into a type error when attemting
floor division later in the volume extend flow.

Change-Id: Ic8091537274a5ad27fb5af8939f81ed154b7ad7c
Closes-Bug: #1849425
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/801714/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,ff0695e64176b2d98c770f68feba45ac5647e1be,," 'data': { 'volume_id': uuids.volume_id, 'device_path': '/fake', 'access_mode': 'rw' } connection_info = { 'driver_volume_type': 'fake', 'serial': uuids.volume_id, 'data': { 'volume_id': uuids.volume_id, 'device_path': '/fake', 'access_mode': 'rw' } } def test_extend_volume_with_new_size_none(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = { 'driver_volume_type': 'fake', 'serial': uuids.volume_id, 'data': { 'volume_id': uuids.volume_id, 'device_path': '/fake', 'access_mode': 'rw' } } with mock.patch.object(drvr, '_extend_volume', return_value=None): self.assertRaises( exception.VolumeExtendFailed, drvr.extend_volume, self.context, connection_info, instance, 0 ) 'serial': uuids.volume_id, 'data': { 'volume_id': uuids.volume_id, 'device_path': '/fake', 'access_mode': 'rw' } connection_info = { 'driver_volume_type': 'fake', 'serial': uuids.volume_id, 'data': { 'volume_id': uuids.volume_id, 'device_path': '/fake', 'access_mode': 'rw' } } 'serial': uuids.volume_id, 'data': { 'volume_id': uuids.volume_id, 'device_path': '/fake', 'access_mode': 'rw' } } 'serial': uuids.volume_id, 'data': { 'cluster_name': 'fake', 'auth_enabled': False, 'volume_id': uuids.volume_id, 'access_mode': 'rw' } serial=uuids.volume_id, 'serial': uuids.volume_id, 'data': { 'cluster_name': 'fake', 'auth_enabled': False, 'volume_id': uuids.volume_id, 'access_mode': 'rw' } serial=uuids.different_volume_id, 'data': { 'access_mode': 'rw' } 'data': { 'device_path': mock.sentinel.device_path, 'access_mode': 'rw' } 'data': { 'device_path': mock.sentinel.device_path, 'access_mode': 'rw' } 'data': { 'name': 'pool/volume', 'auth_enabled': 'true', 'auth_username': 'username', 'access_mode': 'rw' }"," 'data': {'device_path': '/fake', 'access_mode': 'rw'} connection_info = {'driver_volume_type': 'fake'} 'data': {'device_path': '/fake', 'access_mode': 'rw'} connection_info = {'driver_volume_type': 'fake'} 'data': {'device_path': '/fake', 'access_mode': 'rw'} } 'serial': '58a84f6d-3f0c-4e19-a0af-eb657b790657', 'data': {'cluster_name': 'fake', 'auth_enabled': False, 'volume_id': '58a84f6d-3f0c-4e19-a0af-eb657b790657', 'access_mode': 'rw'} serial='58a84f6d-3f0c-4e19-a0af-eb657b790657', 'serial': '58a84f6d-3f0c-4e19-a0af-eb657b790657', 'data': {'cluster_name': 'fake', 'auth_enabled': False, 'volume_id': '58a84f6d-3f0c-4e19-a0af-eb657b790657', 'access_mode': 'rw'} serial='12345678-abcd-abcd-abcd-0123456789012', 'data': {'access_mode': 'rw'} 'data': {'device_path': mock.sentinel.device_path, 'access_mode': 'rw'} 'data': {'device_path': mock.sentinel.device_path, 'access_mode': 'rw'} 'data': {'name': 'pool/volume', 'auth_enabled': 'true', 'auth_username': 'username', 'access_mode': 'rw'}",108,32
openstack%2Frequirements~master~Id32adfcf27cd48a179dbacced47b2990fcf628e6,openstack/requirements,master,Id32adfcf27cd48a179dbacced47b2990fcf628e6,"Revert ""Downgrade validation lib to 1.1.0""",MERGED,2021-08-06 14:26:11.000000000,2021-08-06 20:43:02.000000000,2021-08-06 20:39:23.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14288}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27329}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-06 14:26:11.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/552c96db9676b04f64d92f5acc4cd7384aed90cd', 'message': 'Revert ""Downgrade validation lib to 1.1.0""\n\nThe fix was merged some time ago and appears to be stable.\nFurthermore, versions 1.2.0 and higher introduce number of\nimportant fixes and changes that are now being left out.\n\nThis reverts commit 960c75301338423c2b78c06742dca09ed30b07bd.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id32adfcf27cd48a179dbacced47b2990fcf628e6\n'}]",0,803761,552c96db9676b04f64d92f5acc4cd7384aed90cd,8,8,1,32926,,,0,"Revert ""Downgrade validation lib to 1.1.0""

The fix was merged some time ago and appears to be stable.
Furthermore, versions 1.2.0 and higher introduce number of
important fixes and changes that are now being left out.

This reverts commit 960c75301338423c2b78c06742dca09ed30b07bd.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id32adfcf27cd48a179dbacced47b2990fcf628e6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/803761/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,552c96db9676b04f64d92f5acc4cd7384aed90cd,,validations-libs===1.2.0,validations-libs===1.1.0,2,2
openstack%2Frequirements~stable%2Fpike~I077e6276618a257b2c948e58d4de993998844827,openstack/requirements,stable/pike,I077e6276618a257b2c948e58d4de993998844827,[stable-only] Use bionic for requirements-check job,MERGED,2021-08-06 10:36:55.000000000,2021-08-06 20:39:21.000000000,2021-08-06 20:39:21.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 10:36:55.000000000', 'files': ['.zuul.d/project-template.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e0cb0c20b07a14a6ef1fd60f36c4e95f2964dc21', 'message': ""[stable-only] Use bionic for requirements-check job\n\nrequirements-check jobs started to fail in stable/stein with\n\n  ModuleNotFoundError: No module named 'openstack_requirements'\n\nThis is due to that job runs in ubuntu-focal instead of ubuntu-bionic,\nand openstack_requirements is not installed for python 3.8. By pinning\nthe nodeset to bionic we can eliminate this issue as in bionic the\npython version is 3.6.\n\nNOTE(elod.illes): older stable branches fail, too. In rocky and older\nbranches Xenial was the supported nodeset, however the check job will\npass with Bionic, no need to use the older distro.\n\nChange-Id: I077e6276618a257b2c948e58d4de993998844827\n(cherry picked from commit 3a3ed8a7d36c2321a519fd6b54b7b328274e4d07)\n(cherry picked from commit 725f494f307bd986cb68835dcfa7a4eedf1a8043)\n(cherry picked from commit d6b99013d345e0d231971a6376a2f89b7ded4890)\n""}]",0,803726,e0cb0c20b07a14a6ef1fd60f36c4e95f2964dc21,7,3,1,17685,,,0,"[stable-only] Use bionic for requirements-check job

requirements-check jobs started to fail in stable/stein with

  ModuleNotFoundError: No module named 'openstack_requirements'

This is due to that job runs in ubuntu-focal instead of ubuntu-bionic,
and openstack_requirements is not installed for python 3.8. By pinning
the nodeset to bionic we can eliminate this issue as in bionic the
python version is 3.6.

NOTE(elod.illes): older stable branches fail, too. In rocky and older
branches Xenial was the supported nodeset, however the check job will
pass with Bionic, no need to use the older distro.

Change-Id: I077e6276618a257b2c948e58d4de993998844827
(cherry picked from commit 3a3ed8a7d36c2321a519fd6b54b7b328274e4d07)
(cherry picked from commit 725f494f307bd986cb68835dcfa7a4eedf1a8043)
(cherry picked from commit d6b99013d345e0d231971a6376a2f89b7ded4890)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/803726/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project-template.yaml'],1,e0cb0c20b07a14a6ef1fd60f36c4e95f2964dc21,, nodeset: ubuntu-bionic,,1,0
openstack%2Frequirements~stable%2Fqueens~I077e6276618a257b2c948e58d4de993998844827,openstack/requirements,stable/queens,I077e6276618a257b2c948e58d4de993998844827,[stable-only] Use bionic for requirements-check job,MERGED,2021-08-06 10:35:15.000000000,2021-08-06 20:39:19.000000000,2021-08-06 20:39:19.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 10:35:15.000000000', 'files': ['.zuul.d/project-template.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d6b99013d345e0d231971a6376a2f89b7ded4890', 'message': ""[stable-only] Use bionic for requirements-check job\n\nrequirements-check jobs started to fail in stable/stein with\n\n  ModuleNotFoundError: No module named 'openstack_requirements'\n\nThis is due to that job runs in ubuntu-focal instead of ubuntu-bionic,\nand openstack_requirements is not installed for python 3.8. By pinning\nthe nodeset to bionic we can eliminate this issue as in bionic the\npython version is 3.6.\n\nNOTE(elod.illes): older stable branches fail, too. In rocky and older\nbranches Xenial was the supported nodeset, however the check job will\npass with Bionic, no need to use the older distro.\n\nChange-Id: I077e6276618a257b2c948e58d4de993998844827\n(cherry picked from commit 3a3ed8a7d36c2321a519fd6b54b7b328274e4d07)\n(cherry picked from commit 725f494f307bd986cb68835dcfa7a4eedf1a8043)\n""}]",0,803725,d6b99013d345e0d231971a6376a2f89b7ded4890,7,3,1,17685,,,0,"[stable-only] Use bionic for requirements-check job

requirements-check jobs started to fail in stable/stein with

  ModuleNotFoundError: No module named 'openstack_requirements'

This is due to that job runs in ubuntu-focal instead of ubuntu-bionic,
and openstack_requirements is not installed for python 3.8. By pinning
the nodeset to bionic we can eliminate this issue as in bionic the
python version is 3.6.

NOTE(elod.illes): older stable branches fail, too. In rocky and older
branches Xenial was the supported nodeset, however the check job will
pass with Bionic, no need to use the older distro.

Change-Id: I077e6276618a257b2c948e58d4de993998844827
(cherry picked from commit 3a3ed8a7d36c2321a519fd6b54b7b328274e4d07)
(cherry picked from commit 725f494f307bd986cb68835dcfa7a4eedf1a8043)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/803725/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project-template.yaml'],1,d6b99013d345e0d231971a6376a2f89b7ded4890,, nodeset: ubuntu-bionic,,1,0
openstack%2Frequirements~stable%2Frocky~I077e6276618a257b2c948e58d4de993998844827,openstack/requirements,stable/rocky,I077e6276618a257b2c948e58d4de993998844827,[stable-only] Use bionic for requirements-check job,MERGED,2021-08-06 10:30:44.000000000,2021-08-06 20:39:17.000000000,2021-08-06 20:39:17.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 10:30:44.000000000', 'files': ['.zuul.d/project-template.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/725f494f307bd986cb68835dcfa7a4eedf1a8043', 'message': ""[stable-only] Use bionic for requirements-check job\n\nrequirements-check jobs started to fail in stable/stein with\n\n  ModuleNotFoundError: No module named 'openstack_requirements'\n\nThis is due to that job runs in ubuntu-focal instead of ubuntu-bionic,\nand openstack_requirements is not installed for python 3.8. By pinning\nthe nodeset to bionic we can eliminate this issue as in bionic the\npython version is 3.6.\n\nNOTE(elod.illes): older stable branches fail, too. In rocky and older\nbranches Xenial was the supported nodeset, however the check job will\npass with Bionic, no need to use the older distro.\n\nChange-Id: I077e6276618a257b2c948e58d4de993998844827\n(cherry picked from commit 3a3ed8a7d36c2321a519fd6b54b7b328274e4d07)\n""}]",0,803724,725f494f307bd986cb68835dcfa7a4eedf1a8043,8,3,1,17685,,,0,"[stable-only] Use bionic for requirements-check job

requirements-check jobs started to fail in stable/stein with

  ModuleNotFoundError: No module named 'openstack_requirements'

This is due to that job runs in ubuntu-focal instead of ubuntu-bionic,
and openstack_requirements is not installed for python 3.8. By pinning
the nodeset to bionic we can eliminate this issue as in bionic the
python version is 3.6.

NOTE(elod.illes): older stable branches fail, too. In rocky and older
branches Xenial was the supported nodeset, however the check job will
pass with Bionic, no need to use the older distro.

Change-Id: I077e6276618a257b2c948e58d4de993998844827
(cherry picked from commit 3a3ed8a7d36c2321a519fd6b54b7b328274e4d07)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/803724/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project-template.yaml'],1,725f494f307bd986cb68835dcfa7a4eedf1a8043,, nodeset: ubuntu-bionic,,1,0
openstack%2Fopenstack-helm-infra~master~Ica456ef6c5bec2bd29f51aaeef7b5ce5e8681beb,openstack/openstack-helm-infra,master,Ica456ef6c5bec2bd29f51aaeef7b5ce5e8681beb,cert-rotation: Return true if grep finds no match,MERGED,2021-08-06 12:33:40.000000000,2021-08-06 20:33:23.000000000,2021-08-06 20:31:57.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-08-06 12:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3fb43674002a3b795ee44967d3f2b83ff25a0b92', 'message': 'cert-rotation: Return true if grep finds no match\n\nIf grep does not find a match, it return 1 which fails the shell\nscript. Hence made it return true if no match is found.\nAlso, removed returning of error from the script becasue any failure\nwill cause the job to re-run which may re-renew certificates and\nrestart the pods again. And this can continue if the error persists.\n\nChaange-Id: I2a38b59789fd522e8163ff9b12ff847eb1fe2f3a\nChange-Id: Ica456ef6c5bec2bd29f51aaeef7b5ce5e8681beb\n'}, {'number': 2, 'created': '2021-08-06 17:58:28.000000000', 'files': ['releasenotes/notes/cert-rotation.yaml', 'cert-rotation/Chart.yaml', 'cert-rotation/templates/bin/_rotate-certs.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba998fc142a8e8d9ebe91845e0666beb3bc85066', 'message': 'cert-rotation: Return true if grep finds no match\n\nIf grep does not find a match, it return 1 which fails the shell\nscript. Hence made it return true if no match is found.\nAlso, removed returning of error from the script becasue any failure\nwill cause the job to re-run which may re-renew certificates and\nrestart the pods again. And this can continue if the error persists.\n\nChaange-Id: I2a38b59789fd522e8163ff9b12ff847eb1fe2f3a\nChange-Id: Ica456ef6c5bec2bd29f51aaeef7b5ce5e8681beb\n'}]",0,803744,ba998fc142a8e8d9ebe91845e0666beb3bc85066,14,4,2,24780,,,0,"cert-rotation: Return true if grep finds no match

If grep does not find a match, it return 1 which fails the shell
script. Hence made it return true if no match is found.
Also, removed returning of error from the script becasue any failure
will cause the job to re-run which may re-renew certificates and
restart the pods again. And this can continue if the error persists.

Chaange-Id: I2a38b59789fd522e8163ff9b12ff847eb1fe2f3a
Change-Id: Ica456ef6c5bec2bd29f51aaeef7b5ce5e8681beb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/44/803744/1 && git format-patch -1 --stdout FETCH_HEAD,"['cert-rotation/Chart.yaml', 'releasenotes/notes/cert-rotation.yaml', 'cert-rotation/templates/bin/_rotate-certs.sh.tpl']",3,3fb43674002a3b795ee44967d3f2b83ff25a0b92,,"set -x # Continue so that the certificates that are rotated successfully are deployed. resource=($(kubectl get ${kind} -n ${namespace} -o custom-columns='NAME:.metadata.name,SECRETS:.spec.template.spec.volumes[*].secret.secretName,TLS:.spec.template.spec.containers[*].volumeMounts[*].subPath' --no-headers | grep tls.crt || true))exit 0","set -e# Return Code, initialized to success rc=0 # Set return code to error and continue so that the certificates that are # rotated successfully are deployed. rc=1 resource=($(kubectl get ${kind} -n ${namespace} -o custom-columns='NAME:.metadata.name,SECRETS:.spec.template.spec.volumes[*].secret.secretName,TLS:.spec.template.spec.containers[*].volumeMounts[*].subPath' --no-headers | grep tls.crt))exit ${rc}",6,10
openstack%2Fopenstack-helm~master~Ia6c9b50ae81bec238c4cabc422fe7140347a50a6,openstack/openstack-helm,master,Ia6c9b50ae81bec238c4cabc422fe7140347a50a6,[nova] add missing 'runlock' hostMount when enable_scsi,MERGED,2021-08-06 17:06:46.000000000,2021-08-06 20:06:22.000000000,2021-08-06 20:04:31.000000000,"[{'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 28372}]","[{'number': 1, 'created': '2021-08-06 17:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/59979b93736308a805476b1009f9f1bd2f4e6adf', 'message': ""[nova] add missing 'runlock' hostMount when enable_scsi\n\nChange-Id: Ia6c9b50ae81bec238c4cabc422fe7140347a50a6\n""}, {'number': 2, 'created': '2021-08-06 17:51:55.000000000', 'files': ['releasenotes/notes/nova.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a5c7afba134edd270bfe2f38adfb93fea14b05f', 'message': ""[nova] add missing 'runlock' hostMount when enable_scsi\n\nChange-Id: Ia6c9b50ae81bec238c4cabc422fe7140347a50a6\n""}]",0,803791,3a5c7afba134edd270bfe2f38adfb93fea14b05f,13,6,2,8898,,,0,"[nova] add missing 'runlock' hostMount when enable_scsi

Change-Id: Ia6c9b50ae81bec238c4cabc422fe7140347a50a6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/803791/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/daemonset-compute.yaml'],1,59979b93736308a805476b1009f9f1bd2f4e6adf,, - name: runlock hostPath: path: /run/lock,,3,0
openstack%2Fcharm-nova-compute~master~I4cb54c26f285e0ea283193416f58bda3080bb38d,openstack/charm-nova-compute,master,I4cb54c26f285e0ea283193416f58bda3080bb38d,Allow nova-compute to read /sys/module/kvm_amd/parameters/sev,MERGED,2021-07-09 17:28:54.000000000,2021-08-06 19:47:03.000000000,2021-08-06 19:47:03.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-09 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/523d40ae8724c62c06f4168766adf757910aff78', 'message': 'Allow nova-compute to read /sys/module/kvm_amd/parameters/sev\n\nCloses: #1935694\nChange-Id: I4cb54c26f285e0ea283193416f58bda3080bb38d\n'}, {'number': 2, 'created': '2021-07-20 11:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/787a157f5e41bd471c298ffb622a079f2a6652d7', 'message': 'Allow nova-compute to read /sys/module/kvm_amd/parameters/sev\n\nCloses-Bug: #1935694\nChange-Id: I4cb54c26f285e0ea283193416f58bda3080bb38d\n'}, {'number': 3, 'created': '2021-08-04 10:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/5cef22c7901fd5a2f63463ccb2221d06c6512228', 'message': 'Allow nova-compute to read /sys/module/kvm_amd/parameters/sev\n\nCloses-Bug: #1935694\nChange-Id: I4cb54c26f285e0ea283193416f58bda3080bb38d\n'}, {'number': 4, 'created': '2021-08-06 15:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/6e12684e597deb498bdafcd63e70e2d5a1daea15', 'message': 'Allow nova-compute to read /sys/module/kvm_amd/parameters/sev\n\nCloses-Bug: #1935697\nChange-Id: I4cb54c26f285e0ea283193416f58bda3080bb38d\n'}, {'number': 5, 'created': '2021-08-06 15:14:12.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/f526b1f4a9d75570b5c77e2846761870626a13da', 'message': 'Allow nova-compute to read /sys/module/kvm_amd/parameters/sev\n\nCloses-Bug: #1935697\nChange-Id: I4cb54c26f285e0ea283193416f58bda3080bb38d\n'}]",1,800285,f526b1f4a9d75570b5c77e2846761870626a13da,33,4,5,30028,,,0,"Allow nova-compute to read /sys/module/kvm_amd/parameters/sev

Closes-Bug: #1935697
Change-Id: I4cb54c26f285e0ea283193416f58bda3080bb38d
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/85/800285/5 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,523d40ae8724c62c06f4168766adf757910aff78,bug/1935697," /sys/module/kvm_amd/parameters/sev r,",,1,0
openstack%2Fnova~master~Ie7fa120cb7d1739c5de7cd8dbcfaeb3a37fa729b,openstack/nova,master,Ie7fa120cb7d1739c5de7cd8dbcfaeb3a37fa729b,Add regression test for bug 1938326,MERGED,2021-07-28 19:42:10.000000000,2021-08-06 18:37:24.000000000,2021-08-06 14:34:32.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 19:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7a8818bd01dbd66ee8a7374b4e712581f513faa', 'message': 'Add regression test for bug 1938326\n\nRelated-Bug: #1938326\nChange-Id: Ie7fa120cb7d1739c5de7cd8dbcfaeb3a37fa729b\n'}, {'number': 2, 'created': '2021-08-04 11:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afcd4fda23248fbeb815f6e196a85288672a7831', 'message': 'Add regression test for bug 1938326\n\nRelated-Bug: #1938326\nChange-Id: Ie7fa120cb7d1739c5de7cd8dbcfaeb3a37fa729b\n'}, {'number': 3, 'created': '2021-08-05 09:38:07.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1938326.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ede7866de4865cfd23a996a83084cc75567094c9', 'message': 'Add regression test for bug 1938326\n\nRelated-Bug: #1938326\nChange-Id: Ie7fa120cb7d1739c5de7cd8dbcfaeb3a37fa729b\n'}]",3,802801,ede7866de4865cfd23a996a83084cc75567094c9,39,4,3,10135,,,0,"Add regression test for bug 1938326

Related-Bug: #1938326
Change-Id: Ie7fa120cb7d1739c5de7cd8dbcfaeb3a37fa729b
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/802801/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1938326.py']",2,b7a8818bd01dbd66ee8a7374b4e712581f513faa,,"# Copyright 2021, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova.tests.functional.api import client from nova.tests.functional import integrated_helpers class TestMigrateFromDownHost(integrated_helpers._IntegratedTestBase): """"""Regression test for bug #1938326 Assert the behaviour of n-api when requests are made to migrate an instance from a disabled, forced down, down and disabled and down compute host. Bug #1938326 specifically covering the case where a request is made and accepted to migrate an instance from a disabled and down compute host. """""" microversion = 'latest' ADMIN_API = True def _setup_compute_service(self): # We want the service to be marked down in a reasonable time while # ensuring we don't accidentally mark services as down prematurely self.flags(report_interval=1) self.flags(service_down_time=5) # Use two compute services to make it easier to assert the call from # the dest to the src, we could also test this for same host resize. self._start_compute('src') self._start_compute('dest') def test_migrate_from_disabled_host(self): """"""Assert that migration requests for disabled hosts are allowed """""" # Launch an instance on src server = self._create_server(host='src', networks='none') # Mark the compute service as disabled source_compute_id = self.api.get_services( host='src', binary='nova-compute')[0]['id'] self.api.put_service(source_compute_id, {""status"": ""disabled""}) self._wait_for_service_parameter( 'src', 'nova-compute', { 'status': 'disabled', 'state': 'up' } ) # Assert that we can migrate and confirm from a disabled but up compute self._migrate_server(server) self._confirm_resize(server) def test_migrate_from_forced_down_host(self): """"""Assert that migration requests for forced down hosts are rejected """""" # Launch an instance on src server = self._create_server(host='src', networks='none') # Force down the compute source_compute_id = self.api.get_services( host='src', binary='nova-compute')[0]['id'] self.api.put_service(source_compute_id, {'forced_down': 'true'}) self._wait_for_service_parameter( 'src', 'nova-compute', { 'forced_down': True, 'state': 'down', 'status': 'enabled' } ) # Assert that we cannot migrate from a forced down compute ex = self.assertRaises( client.OpenStackApiException, self._migrate_server, server) self.assertEqual(409, ex.response.status_code) def test_migrate_from_down_host(self): """"""Assert that migration requests from down hosts are rejected """""" # Launch an instance on src server = self._create_server(host='src', networks='none') # Stop the compute service and wait until it's down self.computes['src'].stop() self._wait_for_service_parameter( 'src', 'nova-compute', { 'state': 'down', 'status': 'enabled' } ) # Assert that requests to migrate from down computes are rejected ex = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], {'migrate': None}) self.assertEqual(409, ex.response.status_code) def test_migrate_from_disabled_down_host(self): """"""Assert that migration requests for disabled down hosts are rejected """""" # Launch an instance on src server = self._create_server(host='src', networks='none') # Mark the compute service as disabled source_compute_id = self.api.get_services( host='src', binary='nova-compute')[0]['id'] self.api.put_service(source_compute_id, {""status"": ""disabled""}) self._wait_for_service_parameter( 'src', 'nova-compute', {'status': 'disabled'}) # Stop the compute service and wait until it's down self.computes['src'].stop() self._wait_for_service_parameter( 'src', 'nova-compute', {'state': 'down'}) # FIXME(lyarwood): This is bug #1938326, any request to cold migrate # from this compute should be rejected earlier in the flow as it is # currently not running and isn't able to service the eventual request # from the destination host. with mock.patch.object( self.computes['dest'].compute_rpcapi, 'resize_instance' ) as ( mock_dest_rpcapi_resize ): # We don't want to wait here so just make the raw api call self.api.post_server_action(server['id'], {'migrate': None}) # Assert that the dest compute attemptes to call resize_instance mock_dest_rpcapi_resize.assert_called_once() ",,164,0
openstack%2Fnova~master~Ib927e4c48f59a467a913875111ffbf64ffe0de90,openstack/nova,master,Ib927e4c48f59a467a913875111ffbf64ffe0de90,db: Move main DB migrations,MERGED,2021-07-05 16:25:44.000000000,2021-08-06 18:37:17.000000000,2021-08-06 16:57:04.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 16:25:44.000000000', 'files': ['nova/db/main/legacy_migrations/versions/416_placeholder.py', 'nova/db/main/legacy_migrations/versions/408_placeholder.py', 'nova/db/main/legacy_migrations/versions/402_train.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/main/legacy_migrations/__init__.py', 'nova/db/main/legacy_migrations/versions/403_placeholder.py', 'nova/db/main/legacy_migrations/versions/420_placeholder.py', 'tools/db/schema_diff.py', 'nova/db/main/legacy_migrations/versions/407_placeholder.py', 'nova/db/main/legacy_migrations/versions/411_placeholder.py', 'nova/db/main/legacy_migrations/versions/409_placeholder.py', 'nova/db/main/legacy_migrations/versions/410_placeholder.py', 'nova/db/main/legacy_migrations/versions/415_placeholder.py', 'nova/db/main/legacy_migrations/versions/406_placeholder.py', 'nova/db/main/legacy_migrations/versions/414_placeholder.py', 'nova/db/main/legacy_migrations/versions/__init__.py', 'nova/db/main/legacy_migrations/versions/422_placeholder.py', 'nova/db/main/legacy_migrations/versions/405_placeholder.py', 'nova/db/main/legacy_migrations/versions/418_placeholder.py', 'nova/db/main/legacy_migrations/versions/419_placeholder.py', 'nova/db/main/legacy_migrations/versions/413_placeholder.py', 'doc/source/user/upgrade.rst', 'nova/db/main/legacy_migrations/README', 'nova/db/main/legacy_migrations/versions/417_placeholder.py', 'nova/db/main/legacy_migrations/versions/404_placeholder.py', 'nova/db/migration.py', 'nova/db/main/legacy_migrations/manage.py', 'nova/db/main/legacy_migrations/versions/421_placeholder.py', 'nova/db/main/legacy_migrations/migrate.cfg', 'nova/db/main/legacy_migrations/versions/412_placeholder.py', 'tools/reserve-migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bcf225daf4f265a052d71955abff19317ab3cc98', 'message': ""db: Move main DB migrations\n\nWe place these in a 'legacy_migrations' directory, as we will soon be\nadding alembic-based migrations in a 'migration' directory.\n\nChange-Id: Ib927e4c48f59a467a913875111ffbf64ffe0de90\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,799519,bcf225daf4f265a052d71955abff19317ab3cc98,62,4,1,15334,,,0,"db: Move main DB migrations

We place these in a 'legacy_migrations' directory, as we will soon be
adding alembic-based migrations in a 'migration' directory.

Change-Id: Ib927e4c48f59a467a913875111ffbf64ffe0de90
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/799519/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/legacy_migrations/versions/416_placeholder.py', 'nova/db/main/legacy_migrations/versions/408_placeholder.py', 'nova/db/main/legacy_migrations/versions/402_train.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/main/legacy_migrations/__init__.py', 'nova/db/main/legacy_migrations/versions/403_placeholder.py', 'nova/db/main/legacy_migrations/versions/420_placeholder.py', 'tools/db/schema_diff.py', 'nova/db/main/legacy_migrations/versions/407_placeholder.py', 'nova/db/main/legacy_migrations/versions/411_placeholder.py', 'nova/db/main/legacy_migrations/versions/409_placeholder.py', 'nova/db/main/legacy_migrations/versions/410_placeholder.py', 'nova/db/main/legacy_migrations/versions/415_placeholder.py', 'nova/db/main/legacy_migrations/versions/406_placeholder.py', 'nova/db/main/legacy_migrations/versions/414_placeholder.py', 'nova/db/main/legacy_migrations/versions/__init__.py', 'nova/db/main/legacy_migrations/versions/422_placeholder.py', 'nova/db/main/legacy_migrations/versions/405_placeholder.py', 'nova/db/main/legacy_migrations/versions/418_placeholder.py', 'nova/db/main/legacy_migrations/versions/419_placeholder.py', 'nova/db/main/legacy_migrations/versions/413_placeholder.py', 'doc/source/user/upgrade.rst', 'nova/db/main/legacy_migrations/README', 'nova/db/main/legacy_migrations/versions/417_placeholder.py', 'nova/db/main/legacy_migrations/versions/404_placeholder.py', 'nova/db/migration.py', 'nova/db/main/legacy_migrations/manage.py', 'nova/db/main/legacy_migrations/versions/421_placeholder.py', 'nova/db/main/legacy_migrations/migrate.cfg', 'nova/db/main/legacy_migrations/versions/412_placeholder.py', 'tools/reserve-migrations.py']",31,bcf225daf4f265a052d71955abff19317ab3cc98,bp/remove-sqlalchemy-migrate,BASE = 'nova/db/main/legacy_migrations/versions'.split('/'),BASE = 'nova/db/sqlalchemy/migrate_repo/versions'.split('/'),14,9
openstack%2Fnova~master~Ibba2d1506a0b026d35d7bf35384ec6439f438b01,openstack/nova,master,Ibba2d1506a0b026d35d7bf35384ec6439f438b01,func: Increase rpc_response_timeout in TestMultiCellMigrate tests,MERGED,2021-08-06 09:08:58.000000000,2021-08-06 18:37:09.000000000,2021-08-06 10:25:03.000000000,"[{'_account_id': 7166}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 09:08:58.000000000', 'files': ['nova/tests/functional/test_cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4dbcd5fa05ac2f988b65d611f71805f90411581', 'message': 'func: Increase rpc_response_timeout in TestMultiCellMigrate tests\n\nThis was previously set really low to 1 second that was leading to more\ninvolved flows such as test_delete_while_in_verify_resize_status timing\nout when the target calls the conductor to confirm the resize on the\nsource.\n\nThis change simply increases the timeout in the test but we might want\nto think about moving this call over to rpc_long_timeout this could be\nan issue in real world deployments.\n\nCloses-Bug: #1938021\nChange-Id: Ibba2d1506a0b026d35d7bf35384ec6439f438b01\n'}]",1,803714,d4dbcd5fa05ac2f988b65d611f71805f90411581,13,3,1,10135,,,0,"func: Increase rpc_response_timeout in TestMultiCellMigrate tests

This was previously set really low to 1 second that was leading to more
involved flows such as test_delete_while_in_verify_resize_status timing
out when the target calls the conductor to confirm the resize on the
source.

This change simply increases the timeout in the test but we might want
to think about moving this call over to rpc_long_timeout this could be
an issue in real world deployments.

Closes-Bug: #1938021
Change-Id: Ibba2d1506a0b026d35d7bf35384ec6439f438b01
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/803714/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_cross_cell_migrate.py'],1,d4dbcd5fa05ac2f988b65d611f71805f90411581,, self.flags(rpc_response_timeout=10), self.flags(rpc_response_timeout=1),1,1
openstack%2Fcliff~master~If9e1aa5166da32c58cc0fa617f4f81eaa9b2c470,openstack/cliff,master,If9e1aa5166da32c58cc0fa617f4f81eaa9b2c470,Colourise and automatically page help output,MERGED,2021-07-03 04:39:07.000000000,2021-08-06 18:31:11.000000000,2021-08-06 18:29:46.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-03 04:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/4085c328d5a94fa371d6130e4977c42faa5297ed', 'message': ""Colourise and automatically page help output\n\nUsing the autopage library we can automatically send the help output to\na pager (less, by default), git-style. The pager is configured to not\nreset the terminal on exit, avoiding the problem when piping to less\nmanually that the help text you want to refer to disappears off the\nscreen when you go to use it. The pager is only invoked when the output\nis to the terminal.\n\nSince we invoke the pager, we can ensure that it is correctly set up to\ninterpret ANSI escape codes, so it is safe to use colour to make the\noutput easier to read. The autopage library provides light styling of\nthe default argparse help output, and some additional colour\nhighlighting is added here for the command list (which is generated by\ncliff, not using argparse's formatting code).\n\nChange-Id: If9e1aa5166da32c58cc0fa617f4f81eaa9b2c470\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/799343\n""}, {'number': 2, 'created': '2021-07-13 02:23:13.000000000', 'files': ['requirements.txt', 'cliff/_argparse.py', 'cliff/help.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/8fa916e9169f507ce7b861f3d9df9a14734672d2', 'message': ""Colourise and automatically page help output\n\nUsing the autopage library we can automatically send the help output to\na pager (less, by default), git-style. The pager is configured to not\nreset the terminal on exit, avoiding the problem when piping to less\nmanually that the help text you want to refer to disappears off the\nscreen when you go to use it. The pager is only invoked when the output\nis to the terminal.\n\nSince we invoke the pager, we can ensure that it is correctly set up to\ninterpret ANSI escape codes, so it is safe to use colour to make the\noutput easier to read. The autopage library provides light styling of\nthe default argparse help output, and some additional colour\nhighlighting is added here for the command list (which is generated by\ncliff, not using argparse's formatting code).\n\nChange-Id: If9e1aa5166da32c58cc0fa617f4f81eaa9b2c470\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/799343\n""}]",9,799344,8fa916e9169f507ce7b861f3d9df9a14734672d2,22,3,2,4257,,,0,"Colourise and automatically page help output

Using the autopage library we can automatically send the help output to
a pager (less, by default), git-style. The pager is configured to not
reset the terminal on exit, avoiding the problem when piping to less
manually that the help text you want to refer to disappears off the
screen when you go to use it. The pager is only invoked when the output
is to the terminal.

Since we invoke the pager, we can ensure that it is correctly set up to
interpret ANSI escape codes, so it is safe to use colour to make the
output easier to read. The autopage library provides light styling of
the default argparse help output, and some additional colour
highlighting is added here for the command list (which is generated by
cliff, not using argparse's formatting code).

Change-Id: If9e1aa5166da32c58cc0fa617f4f81eaa9b2c470
Depends-On: https://review.opendev.org/c/openstack/requirements/+/799343
",git fetch https://review.opendev.org/openstack/cliff refs/changes/44/799344/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cliff/_argparse.py', 'cliff/help.py']",3,4085c328d5a94fa371d6130e4977c42faa5297ed,autopage,"import autopage.argparse pager = autopage.argparse.help_pager(app.stdout) color = pager.to_terminal() setattr(parser, '_color', color) with pager as out: parser.print_help(out) title_hl = ('\033[4m', '\033[0m') if color else ('', '') out.write('\n%sCommands%s:\n' % title_hl) dists_by_module = command._get_distributions_by_modules() def dist_for_obj(obj): name = inspect.getmodule(obj).__name__.partition('.')[0] return dists_by_module.get(name) app_dist = dist_for_obj(app) command_manager = app.command_manager for name, ep in sorted(command_manager): try: factory = ep.load() except Exception: out.write('Could not load %r\n' % ep) if namespace.debug: traceback.print_exc(file=out) try: kwargs = {} fact_args = inspect.getfullargspec(factory.__init__).args if 'cmd_name' in fact_args: kwargs['cmd_name'] = name cmd = factory(app, None, **kwargs) if cmd.deprecated: continue except Exception as err: out.write('Could not instantiate %r: %s\n' % (ep, err)) if namespace.debug: traceback.print_exc(file=out) continue one_liner = cmd.get_description().split('\n')[0] dist_name = dist_for_obj(factory) if dist_name and dist_name != app_dist: dist_info = ' (' + dist_name + ')' if color: dist_info = '\033[90m%s\033[39m' % dist_info else: dist_info = '' if color: name = '\033[36m%s\033[39m' % name out.write(' %-13s %s%s\n' % (name, one_liner, dist_info)) pager = autopage.argparse.help_pager(self.app.stdout) with pager as out: setattr(cmd_parser, '_color', pager.to_terminal()) cmd_parser.print_help(out)"," parser.print_help(app.stdout) app.stdout.write('\nCommands:\n') dists_by_module = command._get_distributions_by_modules() def dist_for_obj(obj): name = inspect.getmodule(obj).__name__.partition('.')[0] return dists_by_module.get(name) app_dist = dist_for_obj(app) command_manager = app.command_manager for name, ep in sorted(command_manager): try: factory = ep.load() except Exception: app.stdout.write('Could not load %r\n' % ep) if namespace.debug: traceback.print_exc(file=app.stdout) continue try: kwargs = {} if 'cmd_name' in inspect.getfullargspec(factory.__init__).args: kwargs['cmd_name'] = name cmd = factory(app, None, **kwargs) if cmd.deprecated: except Exception as err: app.stdout.write('Could not instantiate %r: %s\n' % (ep, err)) if namespace.debug: traceback.print_exc(file=app.stdout) continue one_liner = cmd.get_description().split('\n')[0] dist_name = dist_for_obj(factory) if dist_name and dist_name != app_dist: dist_info = ' (' + dist_name + ')' else: dist_info = '' app.stdout.write(' %-13s %s%s\n' % (name, one_liner, dist_info)) cmd_parser.print_help(self.app.stdout)",56,38
openstack%2Fcliff~master~I18d9f1bea7bb5a7afb273550314c36da7b466a69,openstack/cliff,master,I18d9f1bea7bb5a7afb273550314c36da7b466a69,Update unit test to satisfy python3.10+,MERGED,2021-02-11 10:04:59.000000000,2021-08-06 18:04:55.000000000,2021-08-06 18:03:40.000000000,"[{'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 10:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/f85bf8d60d569c6bb95340ca608954a81a3e7088', 'message': 'Update unit test to satisfy python3.10+\n\nFedora is already testing Python 3.10 [1] and an issue\nhas been raised [2].\nAll the details are in the BZ ticket but TLDR is that\n""optional arguments"" was replaced with ""options [3].\nSo, I used assertRegexp to accept both of them (i.e\n""optional arguments"" and ""options"").\n\n[1] https://fedoraproject.org/wiki/Changes/Python3.10\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1914138\n[3] https://github.com/python/cpython/commit/fb35fa49d192368e94ffec09c092260ed0fea2e1\n\nChange-Id: I18d9f1bea7bb5a7afb273550314c36da7b466a69\n'}, {'number': 2, 'created': '2021-06-15 12:53:57.000000000', 'files': ['cliff/tests/test_help.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/9b66f4066cfb78e3a2e40824b4f9d532f494b9a4', 'message': 'Update unit test to satisfy python3.10+\n\nFedora is already testing Python 3.10 [1] and an issue\nhas been raised [2].\nAll the details are in the BZ ticket but TLDR is that\n""optional arguments"" was replaced with ""options [3].\nSo, I used assertRegexp to accept both of them (i.e\n""optional arguments"" and ""options"").\n\n[1] https://fedoraproject.org/wiki/Changes/Python3.10\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1914138\n[3] https://github.com/python/cpython/commit/fb35fa49d192368e94ffec09c092260ed0fea2e1\n\nChange-Id: I18d9f1bea7bb5a7afb273550314c36da7b466a69\n'}]",5,775091,9b66f4066cfb78e3a2e40824b4f9d532f494b9a4,22,3,2,31068,,,0,"Update unit test to satisfy python3.10+

Fedora is already testing Python 3.10 [1] and an issue
has been raised [2].
All the details are in the BZ ticket but TLDR is that
""optional arguments"" was replaced with ""options [3].
So, I used assertRegexp to accept both of them (i.e
""optional arguments"" and ""options"").

[1] https://fedoraproject.org/wiki/Changes/Python3.10
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1914138
[3] https://github.com/python/cpython/commit/fb35fa49d192368e94ffec09c092260ed0fea2e1

Change-Id: I18d9f1bea7bb5a7afb273550314c36da7b466a69
",git fetch https://review.opendev.org/openstack/cliff refs/changes/91/775091/1 && git format-patch -1 --stdout FETCH_HEAD,['cliff/tests/test_help.py'],1,f85bf8d60d569c6bb95340ca608954a81a3e7088,," self.assertRegex(help_text, 'option.*:\n --version')"," self.assertIn('optional arguments:\n --version', help_text)",1,1
openstack%2Fopenstack-helm-infra~master~I675f539b24ea9c2355ac9eacc7dd8122c5236e5f,openstack/openstack-helm-infra,master,I675f539b24ea9c2355ac9eacc7dd8122c5236e5f,Update helm 2 version to latest,MERGED,2021-08-06 15:26:32.000000000,2021-08-06 17:50:41.000000000,2021-08-06 17:49:13.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-08-06 15:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1fade5056d226d305f5de996cd33fbb1db70ca35', 'message': 'Testing lint gate\n\nChange-Id: I675f539b24ea9c2355ac9eacc7dd8122c5236e5f\n'}, {'number': 2, 'created': '2021-08-06 15:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/531985fbb3142a79ff78c515f3448da7e7f793c6', 'message': 'Testing lint gate\n\nChange-Id: I675f539b24ea9c2355ac9eacc7dd8122c5236e5f\n'}, {'number': 3, 'created': '2021-08-06 15:58:35.000000000', 'files': ['tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml', 'roles/build-helm-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a4f300e3da7805cac37e945047e1a8b45c7347ab', 'message': 'Update helm 2 version to latest\n\nThe version of helm 2 that OSH has been using was older and seems\nto have been removed from the googleapi repo that the jobs are\nsetup to use, this was causing job failures.\n\nThis change updates the version to the latest v2 release.\n\nChange-Id: I675f539b24ea9c2355ac9eacc7dd8122c5236e5f\n'}]",0,803772,a4f300e3da7805cac37e945047e1a8b45c7347ab,15,5,3,21420,,,0,"Update helm 2 version to latest

The version of helm 2 that OSH has been using was older and seems
to have been removed from the googleapi repo that the jobs are
setup to use, this was causing job failures.

This change updates the version to the latest v2 release.

Change-Id: I675f539b24ea9c2355ac9eacc7dd8122c5236e5f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/72/803772/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'roles/build-helm-packages/tasks/setup-helm-serve.yaml']",2,1fade5056d226d305f5de996cd33fbb1db70ca35,fix-gate, curl -sSL ${GOOGLE_HELM_REPO_URL}/helm-v2.16.10-linux-amd64.tar.gz | tar -zxv --strip-components=1 -C ${TMP_DIR}, curl -sSL ${GOOGLE_HELM_REPO_URL}/helm-${HELM_VERSION}-linux-amd64.tar.gz | tar -zxv --strip-components=1 -C ${TMP_DIR},1,17
openstack%2Fpython-blazarclient~master~I97a7b91f0d05efc887307ac167e5c368276d4f81,openstack/python-blazarclient,master,I97a7b91f0d05efc887307ac167e5c368276d4f81,Add openstackclient support,MERGED,2021-06-09 16:28:12.000000000,2021-08-06 16:38:31.000000000,2021-08-06 16:37:05.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2021-06-09 16:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/1845265b6dbac3944f0644621f289b021ae39f21', 'message': ""Add openstackclient support\n\nThis adds support for the recommended CLI using the OpenStackClient.\n\nThe existing shell command classes are used, with an overriden\n'get_client' method, which gets the correct client through the\nclient manager.\n\nImplements: blueprint openstackclient-support\nChange-Id: I97a7b91f0d05efc887307ac167e5c368276d4f81\n""}, {'number': 2, 'created': '2021-06-09 19:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/e5bae8149861c33374f2f1733e19e8105fb34c32', 'message': ""Add openstackclient support\n\nThis adds support for the recommended CLI using the OpenStackClient.\n\nThe existing shell command classes are used, with an overriden\n'get_client' method, which gets the correct client through the\nclient manager.\n\nImplements: blueprint openstackclient-support\nChange-Id: I97a7b91f0d05efc887307ac167e5c368276d4f81\n""}, {'number': 3, 'created': '2021-06-09 20:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/2430aa22fd7004d52724c295807c927082f87948', 'message': ""Add openstackclient support\n\nThis adds support for the recommended CLI using the OpenStackClient.\n\nThe existing shell command classes are used, with an overriden\n'get_client' method, which gets the correct client through the\nclient manager.\n\nImplements: blueprint openstackclient-support\nChange-Id: I97a7b91f0d05efc887307ac167e5c368276d4f81\n""}, {'number': 4, 'created': '2021-06-10 15:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/981f720865e8ac0be5cdc22555f4f060163416a8', 'message': 'Add openstackclient support\n\nThis adds support for the recommended CLI using the OpenStackClient,\nwithout modifying the existing Blazar shell CLI.\n\nThe existing shell command classes are used, by introducing a check in\nthe base comand class to use either the client passed by Blazar shell,\nor the client using the osc_lib client_manager.\n\nImplements: blueprint openstackclient-support\nChange-Id: I97a7b91f0d05efc887307ac167e5c368276d4f81\n'}, {'number': 5, 'created': '2021-06-10 17:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/4948343a1f136e4ceef0b492dfb8f10f2a64b9ac', 'message': 'Add openstackclient support\n\nThis adds support for the recommended CLI using the OpenStackClient,\nwithout modifying the existing Blazar shell CLI.\n\nThe existing shell command classes are used, by introducing a check in\nthe base comand class to use either the client passed by Blazar shell,\nor the client using the osc_lib client_manager.\n\nImplements: blueprint openstackclient-support\nChange-Id: I97a7b91f0d05efc887307ac167e5c368276d4f81\n'}, {'number': 6, 'created': '2021-06-16 22:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/74739ccc63627cadff2a2df0d912d180cbdb83df', 'message': 'Add openstackclient support\n\nThis adds support for the recommended CLI using the OpenStackClient,\nwithout modifying the existing Blazar shell CLI.\n\nThe existing shell command classes are used, by introducing a check in\nthe base comand class to use either the client passed by Blazar shell,\nor the client using the osc_lib client_manager.\n\nImplements: blueprint openstackclient-support\nChange-Id: I97a7b91f0d05efc887307ac167e5c368276d4f81\n'}, {'number': 7, 'created': '2021-06-17 21:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/b7e1a64a69b18cf90a030190111e5afa80118055', 'message': 'Add openstackclient support\n\nThis adds support for the recommended CLI using the OpenStackClient,\nwithout modifying the existing Blazar shell CLI.\n\nThe existing shell command classes are used, by introducing a check in\nthe base comand class to use either the client passed by Blazar shell,\nor the client using the osc_lib client_manager.\n\nImplements: blueprint openstackclient-support\nChange-Id: I97a7b91f0d05efc887307ac167e5c368276d4f81\n'}, {'number': 8, 'created': '2021-07-02 19:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/6826bafbf0a344d5dfc4b38a653759fa113cc02e', 'message': 'Add openstackclient support\n\nThis adds support for the recommended CLI using the OpenStackClient,\nwithout modifying the existing Blazar shell CLI.\n\nThe existing shell command classes are used, by introducing a check in\nthe base comand class to use either the client passed by Blazar shell,\nor the client using the osc_lib client_manager.\n\nThe argument --physical-reservation is also removed for the create lease\ncommand when using the OpenStack client.\n\nImplements: blueprint openstackclient-support\nChange-Id: I97a7b91f0d05efc887307ac167e5c368276d4f81\n'}, {'number': 9, 'created': '2021-08-05 15:24:30.000000000', 'files': ['requirements.txt', 'blazarclient/tests/test_plugin.py', 'blazarclient/v1/shell_commands/leases.py', 'blazarclient/osc/__init__.py', 'lower-constraints.txt', 'blazarclient/osc/plugin.py', 'blazarclient/tests/test_command.py', 'setup.cfg', 'releasenotes/notes/openstackclient-support-f591eef2dc3c1a8b.yaml', 'blazarclient/command.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/f2277b5f7a3a87c02d2938b0e729599646c78a66', 'message': 'Add openstackclient support\n\nThis adds support for the recommended CLI using the OpenStackClient,\nwithout modifying the existing Blazar shell CLI.\n\nThe existing shell command classes are used, by introducing a check in\nthe base comand class to use either the client passed by Blazar shell,\nor the client using the osc_lib client_manager.\n\nThe argument --physical-reservation is also removed for the create lease\ncommand when using the OpenStack client.\n\nImplements: blueprint openstackclient-support\nChange-Id: I97a7b91f0d05efc887307ac167e5c368276d4f81\n'}]",51,795591,f2277b5f7a3a87c02d2938b0e729599646c78a66,29,3,9,33582,,,0,"Add openstackclient support

This adds support for the recommended CLI using the OpenStackClient,
without modifying the existing Blazar shell CLI.

The existing shell command classes are used, by introducing a check in
the base comand class to use either the client passed by Blazar shell,
or the client using the osc_lib client_manager.

The argument --physical-reservation is also removed for the create lease
command when using the OpenStack client.

Implements: blueprint openstackclient-support
Change-Id: I97a7b91f0d05efc887307ac167e5c368276d4f81
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/91/795591/8 && git format-patch -1 --stdout FETCH_HEAD,"['blazarclient/osc/cli.py', 'blazarclient/osc/__init__.py', 'blazarclient/osc/plugin.py', 'setup.cfg']",4,1845265b6dbac3944f0644621f289b021ae39f21,, openstack.cli.extension = reservation = blazarclient.osc.plugin openstack.reservation.v1 = reservation_allocatable_host_list = blazarclient.osc.cli:ListHosts reservation_allocatable_host_show = blazarclient.osc.cli:ShowHost reservation_allocatable_lease_list = blazarclient.osc.cli:ListLeases reservation_allocatable_lease_show = blazarclient.osc.cli:ShowLease reservation_allocatable_floatingip_list = blazarclient.osc.cli:ListFloatingIPs reservation_allocatable_floatingip_show = blazarclient.osc.cli:ShowFloatingIP ,,100,0
openstack%2Fblazar~master~I211de88f5d0f8f6fe54660c904692db975d663bd,openstack/blazar,master,I211de88f5d0f8f6fe54660c904692db975d663bd,Add openstackclient command examples in CLI pages,MERGED,2021-06-17 21:59:01.000000000,2021-08-06 16:27:12.000000000,2021-08-06 16:25:42.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2021-06-17 21:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/85f208d4a9081714988e7cfb06ffe9ec06712e1b', 'message': 'Add openstackclient command examples in CLI pages\n\nThis adds examples next to the existing blazar command examples, for the\ncommands added implementing blueprint openstackclient-support.\n\nChange-Id: I211de88f5d0f8f6fe54660c904692db975d663bd\n'}, {'number': 2, 'created': '2021-07-15 17:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/fe4fadfe9524fe1dded4e65492aefd0acca38f49', 'message': 'Add openstackclient command examples in CLI pages\n\nThis adds examples next to the existing blazar command examples, for the\ncommands added implementing blueprint openstackclient-support.\n\nChange-Id: I211de88f5d0f8f6fe54660c904692db975d663bd\n'}, {'number': 3, 'created': '2021-07-29 15:38:07.000000000', 'files': ['doc/source/cli/instance-reservation.rst', 'doc/source/cli/floatingip-reservation.rst', 'doc/source/cli/host-reservation.rst', 'doc/source/cli/index.rst'], 'web_link': 'https://opendev.org/openstack/blazar/commit/21c015264c899d886d43a3e4e1dfa0b7e3194c29', 'message': 'Add openstackclient command examples in CLI pages\n\nThis adds examples next to the existing blazar command examples, for the\ncommands added implementing blueprint openstackclient-support.\n\nChange-Id: I211de88f5d0f8f6fe54660c904692db975d663bd\n'}]",0,796955,21c015264c899d886d43a3e4e1dfa0b7e3194c29,13,3,3,33582,,,0,"Add openstackclient command examples in CLI pages

This adds examples next to the existing blazar command examples, for the
commands added implementing blueprint openstackclient-support.

Change-Id: I211de88f5d0f8f6fe54660c904692db975d663bd
",git fetch https://review.opendev.org/openstack/blazar refs/changes/55/796955/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/instance-reservation.rst', 'doc/source/cli/floatingip-reservation.rst', 'doc/source/cli/host-reservation.rst', 'doc/source/cli/index.rst']",4,85f208d4a9081714988e7cfb06ffe9ec06712e1b,," CLIs exist for both the openstack client and a standalone blazar client. Examples are given for both were applicable, as shown below: .. sourcecode:: console # Using the blazar CLI blazar lease-list # Using the openstack CLI openstack reservation lease list .. ",,76,8
openstack%2Fkolla-ansible~stable%2Fussuri~Iac1e82710df3ea82c17a6dcbf5d1821362aaa4a5,openstack/kolla-ansible,stable/ussuri,Iac1e82710df3ea82c17a6dcbf5d1821362aaa4a5,watcher: add missing become for copying configs,MERGED,2021-08-03 15:58:19.000000000,2021-08-06 15:54:20.000000000,2021-08-06 15:52:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26264}, {'_account_id': 30491}, {'_account_id': 33826}]","[{'number': 1, 'created': '2021-08-03 15:58:19.000000000', 'files': ['ansible/roles/watcher/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e7ac8702d5bd1deabe469c09dae474d63b33102', 'message': 'watcher: add missing become for copying configs\n\nSigned-off-by: Seena Fallah <seenafallah@gmail.com>\nChange-Id: Iac1e82710df3ea82c17a6dcbf5d1821362aaa4a5\n(cherry picked from commit 948e9ae707862c8d50c22c6c5cf69423c613a2b7)\n'}]",0,803289,5e7ac8702d5bd1deabe469c09dae474d63b33102,15,5,1,14826,,,0,"watcher: add missing become for copying configs

Signed-off-by: Seena Fallah <seenafallah@gmail.com>
Change-Id: Iac1e82710df3ea82c17a6dcbf5d1821362aaa4a5
(cherry picked from commit 948e9ae707862c8d50c22c6c5cf69423c613a2b7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/803289/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/watcher/tasks/config.yml'],1,5e7ac8702d5bd1deabe469c09dae474d63b33102,watcher-config-stable/ussuri, become: true become: true become: true,,3,0
openstack%2Frequirements~master~I22014ce24e1480cabe6b02c78a3bf5a23b066973,openstack/requirements,master,I22014ce24e1480cabe6b02c78a3bf5a23b066973,"uncap toml, nested dict bug has been fixed",ABANDONED,2021-03-25 20:51:05.000000000,2021-08-06 15:43:58.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 20:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2e2d692b34b4f5cedb9626c572cb5885235aa2ed', 'message': 'uncap toml, nested dict bug has been fixed\n\nversion 0.10.2 includes a fix for the nested dict bug:\nhttps://github.com/uiri/toml/issues/295  And also happens to be the\nlatest version currently.\n\nChange-Id: I22014ce24e1480cabe6b02c78a3bf5a23b066973\n'}, {'number': 2, 'created': '2021-04-15 21:33:42.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ff8d22474b1461ff497dcdb21f59d20f2921ba8c', 'message': 'uncap toml, nested dict bug has been fixed\n\nversion 0.10.2 includes a fix for the nested dict bug:\nhttps://github.com/uiri/toml/issues/295  And also happens to be the\nlatest version currently.\n\nChange-Id: I22014ce24e1480cabe6b02c78a3bf5a23b066973\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,783109,ff8d22474b1461ff497dcdb21f59d20f2921ba8c,19,2,2,9236,,,0,"uncap toml, nested dict bug has been fixed

version 0.10.2 includes a fix for the nested dict bug:
https://github.com/uiri/toml/issues/295  And also happens to be the
latest version currently.

Change-Id: I22014ce24e1480cabe6b02c78a3bf5a23b066973
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/783109/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,2e2d692b34b4f5cedb9626c572cb5885235aa2ed,,toml===0.10.2,toml===0.10.0,1,2
openstack%2Frequirements~master~Iee819f254bed3747f120010c27957d3a14c2b0e8,openstack/requirements,master,Iee819f254bed3747f120010c27957d3a14c2b0e8,update docutils and sphinx,ABANDONED,2021-05-25 17:58:20.000000000,2021-08-06 15:43:12.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 17:58:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0719ef6bd5178dc6a0e5e7347466587f71e970f4', 'message': 'update docutils and sphinx\n\nChange-Id: Iee819f254bed3747f120010c27957d3a14c2b0e8\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,793022,0719ef6bd5178dc6a0e5e7347466587f71e970f4,6,2,1,14288,,,0,"update docutils and sphinx

Change-Id: Iee819f254bed3747f120010c27957d3a14c2b0e8
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/793022/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0719ef6bd5178dc6a0e5e7347466587f71e970f4,docutils-sphinx,docutils===0.17.1Sphinx===4.0.2,docutils===0.16Sphinx===3.5.4,2,2
openstack%2Fkolla-ansible~master~Ie7455a5f1ed709dfb9c9d7c653c6f808c00af4c2,openstack/kolla-ansible,master,Ie7455a5f1ed709dfb9c9d7c653c6f808c00af4c2,Elevated privileges required to set owner/group/mode by ansible,MERGED,2021-02-16 07:40:36.000000000,2021-08-06 15:14:22.000000000,2021-08-06 15:12:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-16 07:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db8b0b07e9ece247ad70d076512a6a200e0ae899', 'message': ""Elevated privileges required to set owner/group/mode by ansible\n\nElevated (root) privileges are required to set owner/group/mode when\ntarget owner does not math the user running Ansible. Without it the\nplaybook fails with 'Permission denied' error.\n\nChange-Id: Ie7455a5f1ed709dfb9c9d7c653c6f808c00af4c2\n""}, {'number': 2, 'created': '2021-08-06 12:39:32.000000000', 'files': ['ansible/roles/ovs-dpdk/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f98238b6405bc589e954478ca0125728269a5c7', 'message': ""Elevated privileges required to set owner/group/mode by ansible\n\nElevated (root) privileges are required to set owner/group/mode when\ntarget owner does not math the user running Ansible. Without it the\nplaybook fails with 'Permission denied' error.\n\nChange-Id: Ie7455a5f1ed709dfb9c9d7c653c6f808c00af4c2\n""}]",0,775752,7f98238b6405bc589e954478ca0125728269a5c7,12,3,2,30211,,,0,"Elevated privileges required to set owner/group/mode by ansible

Elevated (root) privileges are required to set owner/group/mode when
target owner does not math the user running Ansible. Without it the
playbook fails with 'Permission denied' error.

Change-Id: Ie7455a5f1ed709dfb9c9d7c653c6f808c00af4c2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/775752/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovs-dpdk/tasks/config.yml'],1,db8b0b07e9ece247ad70d076512a6a200e0ae899,ovs_dpdk_config_dirs, become: True,,1,0
openstack%2Fdevstack-gate~master~I9cf87f0d842a333b6632f13ca6991c02fc834dfd,openstack/devstack-gate,master,I9cf87f0d842a333b6632f13ca6991c02fc834dfd,Set up stable/xena,ABANDONED,2021-08-06 14:31:33.000000000,2021-08-06 15:09:49.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}]","[{'number': 1, 'created': '2021-08-06 14:31:33.000000000', 'files': ['roles/test-matrix/files/features.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/79ef4d5d684bc520044a7895214e0ca577ff6f46', 'message': 'Set up stable/xena\n\n* update the feature list\n* add xena to allowed stable branch names list\n\nChange-Id: I9cf87f0d842a333b6632f13ca6991c02fc834dfd\n'}]",0,803768,79ef4d5d684bc520044a7895214e0ca577ff6f46,5,2,1,17685,,,0,"Set up stable/xena

* update the feature list
* add xena to allowed stable branch names list

Change-Id: I9cf87f0d842a333b6632f13ca6991c02fc834dfd
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/68/803768/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/test-matrix/files/features.yaml'],1,79ef4d5d684bc520044a7895214e0ca577ff6f46,," xena: [default, glance, nova, placement, swift, cinder, keystone] allowed: [master, xena, wallaby, victoria, ussuri, train, stein, rocky, queens, pike, ocata, newton, mitaka, liberty, kilo]"," allowed: [master, wallaby, victoria, ussuri, train, stein, rocky, queens, pike, ocata, newton, mitaka, liberty, kilo]",2,1
openstack%2Fkolla-ansible~stable%2Fvictoria~Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa,openstack/kolla-ansible,stable/victoria,Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa,Do not run timesync checks on deployment host,MERGED,2021-08-05 08:24:55.000000000,2021-08-06 14:37:36.000000000,2021-08-06 14:35:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-05 08:24:55.000000000', 'files': ['ansible/roles/prechecks/tasks/main.yml', 'releasenotes/notes/bug-1933347-4031d94ef7decb3c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a11cb0b8bc945d1d041fd7e158bf0a2345aa846', 'message': 'Do not run timesync checks on deployment host\n\nKolla-ansible install python docker library in role/baremetal\nto group/baremetal, because of this get container facts\nfor timesync checks is failing on deployment host.\n\nThis patch adding when conditional, so deployment host\nwill be skipped as there is no need to run timesync\nchecks.\n\nCloses-Bug: #1933347\nChange-Id: Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa\n(cherry picked from commit 281c9935da076eb7a744136e3738084468692278)\n'}]",0,803555,0a11cb0b8bc945d1d041fd7e158bf0a2345aa846,10,4,1,14826,,,0,"Do not run timesync checks on deployment host

Kolla-ansible install python docker library in role/baremetal
to group/baremetal, because of this get container facts
for timesync checks is failing on deployment host.

This patch adding when conditional, so deployment host
will be skipped as there is no need to run timesync
checks.

Closes-Bug: #1933347
Change-Id: Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa
(cherry picked from commit 281c9935da076eb7a744136e3738084468692278)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/803555/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/main.yml', 'releasenotes/notes/bug-1933347-4031d94ef7decb3c.yaml']",2,0a11cb0b8bc945d1d041fd7e158bf0a2345aa846,bug/1933347-stable/victoria,--- fixes: - | Fixes an issue with timesync checks on deployment host. See `bug 1933347 <https://launchpad.net/bugs/1933347>`__ for details. ,,6,0
openstack%2Fglance~stable%2Fwallaby~I37d67457efdd8572d41cd839fb00c84f1f197892,openstack/glance,stable/wallaby,I37d67457efdd8572d41cd839fb00c84f1f197892,Fix the policy deprecation message,MERGED,2021-07-08 19:17:19.000000000,2021-08-06 14:32:16.000000000,2021-08-06 14:30:15.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 19:17:19.000000000', 'files': ['glance/policies/image.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/297258379d84f6b2b25f2c51f9ef71d0c92f8894', 'message': 'Fix the policy deprecation message\n\nRemoved the defaulting to roles part of the deprecation message.\n\nChange-Id: I37d67457efdd8572d41cd839fb00c84f1f197892\nCloses-Bug: #1934673\n(cherry picked from commit 2d2817375296c7eff5594a092a8463dd31dbf4e4)\n'}]",0,800100,297258379d84f6b2b25f2c51f9ef71d0c92f8894,8,3,1,5202,,,0,"Fix the policy deprecation message

Removed the defaulting to roles part of the deprecation message.

Change-Id: I37d67457efdd8572d41cd839fb00c84f1f197892
Closes-Bug: #1934673
(cherry picked from commit 2d2817375296c7eff5594a092a8463dd31dbf4e4)
",git fetch https://review.opendev.org/openstack/glance refs/changes/00/800100/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/policies/image.py'],1,297258379d84f6b2b25f2c51f9ef71d0c92f8894,,The image API now supports roles.,The image API now supports and default roles.,1,1
openstack%2Fkolla-ansible~master~Ia85ef26015ff341bff1414da039bed52f34e7cc0,openstack/kolla-ansible,master,Ia85ef26015ff341bff1414da039bed52f34e7cc0,Fix config action when OVN is enabled,MERGED,2021-07-07 14:02:27.000000000,2021-08-06 14:27:28.000000000,2021-08-06 14:25:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-07 14:02:27.000000000', 'files': ['ansible/roles/ovn/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6c0474afe97b21a1a721d3bd000706f7c0919db', 'message': 'Fix config action when OVN is enabled\n\nPrior to this change, if you generated the config before deploying any\nof the OVN services, it would fail on these tasks as the services will\nnot have been started.\n\nTrivialFix\n\nChange-Id: Ia85ef26015ff341bff1414da039bed52f34e7cc0\n'}]",0,799839,f6c0474afe97b21a1a721d3bd000706f7c0919db,11,4,1,28048,,,0,"Fix config action when OVN is enabled

Prior to this change, if you generated the config before deploying any
of the OVN services, it would fail on these tasks as the services will
not have been started.

TrivialFix

Change-Id: Ia85ef26015ff341bff1414da039bed52f34e7cc0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/799839/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovn/handlers/main.yml'],1,f6c0474afe97b21a1a721d3bd000706f7c0919db,," when: - kolla_action != ""config"" when: - kolla_action != ""config""",,4,0
openstack%2Frequirements~master~Ie3f0be9c39e030c2600f0723467d244699fbf173,openstack/requirements,master,Ie3f0be9c39e030c2600f0723467d244699fbf173,bumping validations-libs version,ABANDONED,2021-08-06 12:04:28.000000000,2021-08-06 14:26:56.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-06 12:04:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fcfb03f51322bb48cc1cad02a6f5b0f37926ec7a', 'message': 'bumping validations-libs version\n\nValidations libs recently underwent several important changes\nthat are now included in the 1.2.0 release.\n\nThe upper constraints have to be updated to ensure that proper\nversion of the package is pulled for tests and other purposes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie3f0be9c39e030c2600f0723467d244699fbf173\n'}]",0,803736,fcfb03f51322bb48cc1cad02a6f5b0f37926ec7a,4,6,1,32926,,,0,"bumping validations-libs version

Validations libs recently underwent several important changes
that are now included in the 1.2.0 release.

The upper constraints have to be updated to ensure that proper
version of the package is pulled for tests and other purposes.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie3f0be9c39e030c2600f0723467d244699fbf173
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/803736/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fcfb03f51322bb48cc1cad02a6f5b0f37926ec7a,bump-validations-libs,validations-libs===1.2.0,validations-libs===1.1.0,1,1
openstack%2Freleases~master~I37dd7657632e12eaf0f0aadf5881b5dcbb154e22,openstack/releases,master,I37dd7657632e12eaf0f0aadf5881b5dcbb154e22,[heat] Propose to switch the release model,MERGED,2021-08-02 14:35:45.000000000,2021-08-06 14:18:55.000000000,2021-08-06 14:18:55.000000000,"[{'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-02 14:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a964fe144554d9857ece489e0db00421d1837f29', 'message': '[heat] Propose to switch the release model\n\nIntermediary-released deliverables that did release only once during\nthe last cycle, and have not done a release yet are good candidates\nto switch to the cycle-with-rc model, which is much more suitable for\ndeliverables that are only released once per cycle.\n\nThese changes are not mandatory and this patch is a conveniences to\nhighlight this point and open the discussion.\n\nPTLs and release liaisons please decide to:\n- immediately release an intermediary release (and -1 the proposed change)\n- confirm the release model change (+1 the proposed change)\n- stay uncertain for this cycle of how many releases will be made, but\n  acknowledge that they need to do a release before RC1 (-1 the proposed\n  change)\n\nChange-Id: I37dd7657632e12eaf0f0aadf5881b5dcbb154e22\n'}, {'number': 2, 'created': '2021-08-03 15:49:41.000000000', 'files': ['deliverables/xena/heat-agents.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3f0ca2e3372bf72fd0431b34f4c4ffe20ce5177c', 'message': '[heat] Propose to switch the release model\n\nIntermediary-released deliverables that did release only once during\nthe last cycle, and have not done a release yet are good candidates\nto switch to the cycle-with-rc model, which is much more suitable for\ndeliverables that are only released once per cycle.\n\nThese changes are not mandatory and this patch is a conveniences to\nhighlight this point and open the discussion.\n\nPTLs and release liaisons please decide to:\n- immediately release an intermediary release (and -1 the proposed change)\n- confirm the release model change (+1 the proposed change)\n- stay uncertain for this cycle of how many releases will be made, but\n  acknowledge that they need to do a release before RC1 (-1 the proposed\n  change)\n\nChange-Id: I37dd7657632e12eaf0f0aadf5881b5dcbb154e22\n'}]",0,803218,3f0ca2e3372bf72fd0431b34f4c4ffe20ce5177c,11,4,2,28522,,,0,"[heat] Propose to switch the release model

Intermediary-released deliverables that did release only once during
the last cycle, and have not done a release yet are good candidates
to switch to the cycle-with-rc model, which is much more suitable for
deliverables that are only released once per cycle.

These changes are not mandatory and this patch is a conveniences to
highlight this point and open the discussion.

PTLs and release liaisons please decide to:
- immediately release an intermediary release (and -1 the proposed change)
- confirm the release model change (+1 the proposed change)
- stay uncertain for this cycle of how many releases will be made, but
  acknowledge that they need to do a release before RC1 (-1 the proposed
  change)

Change-Id: I37dd7657632e12eaf0f0aadf5881b5dcbb154e22
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/803218/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/heat-agents.yaml'],1,a964fe144554d9857ece489e0db00421d1837f29,not-yet-released,release-model: cycle-with-rc,release-model: cycle-with-intermediary,1,1
openstack%2Fironic~master~I9aa67d9fbc6269be55dbb4fa14b59537d68925ff,openstack/ironic,master,I9aa67d9fbc6269be55dbb4fa14b59537d68925ff,"when the port_date is dict,port date from neutron doesnot have is_smartnic property",NEW,2021-03-23 01:53:07.000000000,2021-08-06 14:16:18.000000000,,"[{'_account_id': 20189}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-23 01:53:07.000000000', 'files': ['ironic/common/neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d7c47942a8f7f96cedc2cb993b6b542da82679f', 'message': 'when the port_date is dict,port date from neutron doesnot have is_smartnic property\n\nChange-Id: I9aa67d9fbc6269be55dbb4fa14b59537d68925ff\n'}]",1,782344,2d7c47942a8f7f96cedc2cb993b6b542da82679f,11,3,1,32148,,,0,"when the port_date is dict,port date from neutron doesnot have is_smartnic property

Change-Id: I9aa67d9fbc6269be55dbb4fa14b59537d68925ff
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/782344/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/neutron.py'],1,2d7c47942a8f7f96cedc2cb993b6b542da82679f,bluefield," return port_data.get('binding:vnic_type', False) == VNIC_SMARTNIC"," return port_data.get('is_smartnic', False)",1,1
openstack%2Fkolla-ansible~master~Ib40aafaa9ca360d57e87ffdd81dbc15e603fef99,openstack/kolla-ansible,master,Ib40aafaa9ca360d57e87ffdd81dbc15e603fef99,Blazar: Fix support for external keystone in multiregion deploy,MERGED,2021-06-21 22:59:21.000000000,2021-08-06 14:16:01.000000000,2021-08-06 14:12:21.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30491}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-06-21 22:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/abff687b3b097fd804fce8f77134fa54801af8e5', 'message': 'Add support for external keystone in multiregion deploy\n\nWe need to correctly set keystone auth api for all cases.\nBy default [1] the keystone_internal_fqdn is equal to the\nkolla_internal_fqdn, but in multiregion deploy it can be overriden.\n\n1. https://github.com/openstack/kolla-ansible/blob/3a7440b370f5c2bf6f255a6530349a3e680007b9/ansible/group_vars/all.yml#L834\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: Ib40aafaa9ca360d57e87ffdd81dbc15e603fef99\n'}, {'number': 2, 'created': '2021-07-05 15:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fba3808bd46d3c02e7fbdfa3439c4c5abea7e485', 'message': 'Blazar: Fix support for external keystone in multiregion deploy\n\nWe need to correctly set keystone auth api for all cases.\nBy default [1] the keystone_internal_fqdn is equal to the\nkolla_internal_fqdn, but in multiregion deploy it can be overriden.\n\n1. https://github.com/openstack/kolla-ansible/blob/3a7440b370f5c2bf6f255a6530349a3e680007b9/ansible/group_vars/all.yml#L834\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: Ib40aafaa9ca360d57e87ffdd81dbc15e603fef99\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2021-07-05 15:09:00.000000000', 'files': ['ansible/roles/blazar/templates/blazar.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c454761a4b1ebc8b32423891c4a22aff41d35d6a', 'message': 'Blazar: Fix support for external keystone in multiregion deploy\n\nWe need to correctly set keystone auth api for all cases.\nBy default [1] the keystone_internal_fqdn is equal to the\nkolla_internal_fqdn, but in multiregion deploy it can be overriden.\n\n1. https://github.com/openstack/kolla-ansible/blob/3a7440b370f5c2bf6f255a6530349a3e680007b9/ansible/group_vars/all.yml#L834\n\nChange-Id: Ib40aafaa9ca360d57e87ffdd81dbc15e603fef99\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,797359,c454761a4b1ebc8b32423891c4a22aff41d35d6a,19,6,3,14200,,,0,"Blazar: Fix support for external keystone in multiregion deploy

We need to correctly set keystone auth api for all cases.
By default [1] the keystone_internal_fqdn is equal to the
kolla_internal_fqdn, but in multiregion deploy it can be overriden.

1. https://github.com/openstack/kolla-ansible/blob/3a7440b370f5c2bf6f255a6530349a3e680007b9/ansible/group_vars/all.yml#L834

Change-Id: Ib40aafaa9ca360d57e87ffdd81dbc15e603fef99
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/797359/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/blazar/templates/blazar.conf.j2'],1,abff687b3b097fd804fce8f77134fa54801af8e5,blazar-multiregion-support,os_auth_host = {{ keystone_internal_fqdn }},os_auth_host = {{ kolla_internal_fqdn }},1,1
openstack%2Fkolla-ansible~master~Ice359bc31429a5da403598b9b4a0e1a95d71b83f,openstack/kolla-ansible,master,Ice359bc31429a5da403598b9b4a0e1a95d71b83f,[manila] Drop tenant_id templating from v2 endpoint,MERGED,2021-07-28 06:03:08.000000000,2021-08-06 14:14:29.000000000,2021-08-06 14:12:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-28 06:03:08.000000000', 'files': ['ansible/roles/manila/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/004cb754074fc4b41c6e27b5ae07e328a7b28a3c', 'message': '[manila] Drop tenant_id templating from v2 endpoint\n\nManila\'s wallaby release [1] made it possible for\nthe v2 endpoint to not include a tenant_id\n(project_id). This change was made to\naccommodate interactions by system scoped users.\n\nSystem scoped users cannot interact with an\nendpoint that needs the ""tenant_id"" templating,\nbecause system scoped tokens cannot be resolved\nto a particular tenant_id by definition. More\ninformation regarding this change is captured\nin the release notes for the project [2] and\nthe API reference [3].\n\n[1] https://review.opendev.org/c/openstack/manila/+/773709\n[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude\n[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api\n\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: Ice359bc31429a5da403598b9b4a0e1a95d71b83f\n'}]",0,802657,004cb754074fc4b41c6e27b5ae07e328a7b28a3c,11,3,1,16643,,,0,"[manila] Drop tenant_id templating from v2 endpoint

Manila's wallaby release [1] made it possible for
the v2 endpoint to not include a tenant_id
(project_id). This change was made to
accommodate interactions by system scoped users.

System scoped users cannot interact with an
endpoint that needs the ""tenant_id"" templating,
because system scoped tokens cannot be resolved
to a particular tenant_id by definition. More
information regarding this change is captured
in the release notes for the project [2] and
the API reference [3].

[1] https://review.opendev.org/c/openstack/manila/+/773709
[2] https://docs.openstack.org/releasenotes/manila/wallaby.html#prelude
[3] https://docs.openstack.org/api-ref/shared-file-system/#shared-file-systems-api

Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
Change-Id: Ice359bc31429a5da403598b9b4a0e1a95d71b83f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/802657/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/manila/defaults/main.yml'],1,004cb754074fc4b41c6e27b5ae07e328a7b28a3c,secure-rbac,"manila_v2_admin_endpoint: ""{{ manila_admin_base_endpoint }}/v2"" manila_v2_internal_endpoint: ""{{ manila_internal_base_endpoint }}/v2"" manila_v2_public_endpoint: ""{{ manila_public_base_endpoint }}/v2""","manila_v2_admin_endpoint: ""{{ manila_admin_base_endpoint }}/v2/%(tenant_id)s"" manila_v2_internal_endpoint: ""{{ manila_internal_base_endpoint }}/v2/%(tenant_id)s"" manila_v2_public_endpoint: ""{{ manila_public_base_endpoint }}/v2/%(tenant_id)s""",3,3
openstack%2Fkolla-ansible~master~I0d7c7f47e6653cf2903589a9c86798a8c6404af5,openstack/kolla-ansible,master,I0d7c7f47e6653cf2903589a9c86798a8c6404af5,Remove support for Prometheus v1,MERGED,2021-08-05 19:04:51.000000000,2021-08-06 14:12:18.000000000,2021-08-06 14:12:18.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-08-05 19:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20795f484912d057a91ff308e0ffb5960070ff74', 'message': 'Remove support for Prometheus v1\n\nChange-Id: I0d7c7f47e6653cf2903589a9c86798a8c6404af5\n'}, {'number': 2, 'created': '2021-08-05 19:07:35.000000000', 'files': ['releasenotes/notes/remove-prometheus-v1-8fa9c74c3dda568e.yaml', 'ansible/roles/prometheus/templates/prometheus-server.json.j2', 'doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d79d25fe9a93ad4996e3833d317b5d9f995007f', 'message': 'Remove support for Prometheus v1\n\nChange-Id: I0d7c7f47e6653cf2903589a9c86798a8c6404af5\n'}]",4,803644,0d79d25fe9a93ad4996e3833d317b5d9f995007f,12,3,2,32657,,,0,"Remove support for Prometheus v1

Change-Id: I0d7c7f47e6653cf2903589a9c86798a8c6404af5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/803644/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-prometheus-v1-8fa9c74c3dda568e.yaml', 'ansible/roles/prometheus/templates/prometheus-server.json.j2', 'doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml']",5,20795f484912d057a91ff308e0ffb5960070ff74,,,# Whether to keep using Prometheus server v1 (due to no data-preserving migration path to v2) #prometheus_use_v1: no ,14,36
openstack%2Fkolla-ansible~master~If3cf073e88c83f670c867a49afe48845f9e81008,openstack/kolla-ansible,master,If3cf073e88c83f670c867a49afe48845f9e81008,Remove tempest role,MERGED,2021-06-24 00:59:53.000000000,2021-08-06 14:07:41.000000000,2021-08-06 14:04:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-24 00:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c7baaab44124d4c3dd5ffe07319673aed01782e', 'message': 'Remove tempest role\n\nRemove tempest role as planned\n\nChange-Id: If3cf073e88c83f670c867a49afe48845f9e81008\n'}, {'number': 2, 'created': '2021-07-07 14:01:07.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/tempest/tasks/check.yml', 'ansible/roles/tempest/tasks/check-containers.yml', 'ansible/roles/tempest/tasks/reconfigure.yml', 'ansible/roles/tempest/tasks/config.yml', 'README.rst', 'ansible/site.yml', 'ansible/inventory/all-in-one', 'ansible/roles/tempest/tasks/upgrade.yml', 'releasenotes/notes/remove-tempest-role-75faf53de1f1f56d.yaml', 'ansible/roles/tempest/handlers/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/tempest/tasks/stop.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/tempest/tasks/deploy.yml', 'ansible/roles/tempest/tasks/precheck.yml', 'ansible/roles/common/templates/cron-logrotate-tempest.conf.j2', 'ansible/roles/tempest/tasks/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/tempest/tasks/pull.yml', 'ansible/roles/tempest/tasks/deploy-containers.yml', 'tests/templates/inventory.j2', 'ansible/roles/tempest/tasks/copy-certs.yml', 'ansible/roles/tempest/templates/tempest.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5261998467b39625de84ef791aeb70a041b2311f', 'message': 'Remove tempest role\n\nRemove tempest role as planned\n\nChange-Id: If3cf073e88c83f670c867a49afe48845f9e81008\n'}]",0,797792,5261998467b39625de84ef791aeb70a041b2311f,12,3,2,26285,,,0,"Remove tempest role

Remove tempest role as planned

Change-Id: If3cf073e88c83f670c867a49afe48845f9e81008
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/797792/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/tempest/tasks/check.yml', 'ansible/roles/tempest/tasks/check-containers.yml', 'ansible/roles/tempest/tasks/reconfigure.yml', 'ansible/roles/tempest/tasks/config.yml', 'README.rst', 'ansible/site.yml', 'ansible/inventory/all-in-one', 'ansible/roles/tempest/tasks/upgrade.yml', 'releasenotes/notes/remove-tempest-role-75faf53de1f1f56d.yaml', 'ansible/roles/tempest/handlers/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/tempest/tasks/stop.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/tempest/tasks/deploy.yml', 'ansible/roles/tempest/tasks/precheck.yml', 'ansible/roles/common/templates/cron-logrotate-tempest.conf.j2', 'ansible/roles/tempest/tasks/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/tempest/tasks/pull.yml', 'ansible/roles/tempest/tasks/deploy-containers.yml', 'tests/templates/inventory.j2', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/tempest/tasks/copy-certs.yml', 'ansible/roles/tempest/templates/tempest.json.j2']",26,7c7baaab44124d4c3dd5ffe07319673aed01782e,remove-tempest,,"{ ""command"": ""sleep infinity"", ""config_files"":[ { ""source"": ""{{ container_config_directory }}/tempest.conf"", ""dest"": ""/etc/tempest/tempest.conf"", ""owner"": ""tempest"", ""perm"": ""0600"" } ] } ",5,300
openstack%2Fkolla-ansible~master~I32ffa9754820098bb4d3325b25fc7a1a624507d5,openstack/kolla-ansible,master,I32ffa9754820098bb4d3325b25fc7a1a624507d5,Use Docker healthchecks for zun services,MERGED,2021-03-10 16:12:03.000000000,2021-08-06 14:06:15.000000000,2021-08-06 14:04:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-10 16:12:03.000000000', 'files': ['ansible/roles/zun/tasks/check-containers.yml', 'releasenotes/notes/implement-docker-healthchecks-for-zun-b898231c54f487d5.yaml', 'ansible/roles/zun/handlers/main.yml', 'ansible/roles/zun/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/04b970ca08fde40c1d2a50ec01e14c26b1e32f3b', 'message': 'Use Docker healthchecks for zun services\n\nThis change enables the use of Docker healthchecks for zun\nservices.\nImplements: blueprint container-health-check\n\nChange-Id: I32ffa9754820098bb4d3325b25fc7a1a624507d5\n'}]",0,779826,04b970ca08fde40c1d2a50ec01e14c26b1e32f3b,9,3,1,26285,,,0,"Use Docker healthchecks for zun services

This change enables the use of Docker healthchecks for zun
services.
Implements: blueprint container-health-check

Change-Id: I32ffa9754820098bb4d3325b25fc7a1a624507d5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/779826/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/zun/tasks/check-containers.yml', 'ansible/roles/zun/handlers/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-zun-b898231c54f487d5.yaml', 'ansible/roles/zun/defaults/main.yml']",4,04b970ca08fde40c1d2a50ec01e14c26b1e32f3b,container-health-check," healthcheck: ""{{ zun_api_healthcheck }}"" healthcheck: ""{{ zun_wsproxy_healthcheck }}"" healthcheck: ""{{ zun_compute_healthcheck }}"" healthcheck: ""{{ zun_cni_daemon_healthcheck }}""zun_api_enable_healthchecks: ""{{ enable_container_healthchecks }}"" zun_api_healthcheck_interval: ""{{ default_container_healthcheck_interval }}"" zun_api_healthcheck_retries: ""{{ default_container_healthcheck_retries }}"" zun_api_healthcheck_start_period: ""{{ default_container_healthcheck_start_period }}"" zun_api_healthcheck_test: [""CMD-SHELL"", ""healthcheck_curl http://{{ api_interface_address | put_address_in_context('url') }}:{{ zun_api_port }}""] zun_api_healthcheck_timeout: ""{{ default_container_healthcheck_timeout }}"" zun_api_healthcheck: interval: ""{{ zun_api_healthcheck_interval }}"" retries: ""{{ zun_api_healthcheck_retries }}"" start_period: ""{{ zun_api_healthcheck_start_period }}"" test: ""{% if zun_api_enable_healthchecks | bool %}{{ zun_api_healthcheck_test }}{% else %}NONE{% endif %}"" timeout: ""{{ zun_api_healthcheck_timeout }}"" zun_wsproxy_enable_healthchecks: ""{{ enable_container_healthchecks }}"" zun_wsproxy_healthcheck_interval: ""{{ default_container_healthcheck_interval }}"" zun_wsproxy_healthcheck_retries: ""{{ default_container_healthcheck_retries }}"" zun_wsproxy_healthcheck_start_period: ""{{ default_container_healthcheck_start_period }}"" zun_wsproxy_healthcheck_test: [""CMD-SHELL"", ""healthcheck_listen zun-wsproxy {{ zun_wsproxy_port }}""] zun_wsproxy_healthcheck_timeout: ""{{ default_container_healthcheck_timeout }}"" zun_wsproxy_healthcheck: interval: ""{{ zun_wsproxy_healthcheck_interval }}"" retries: ""{{ zun_wsproxy_healthcheck_retries }}"" start_period: ""{{ zun_wsproxy_healthcheck_start_period }}"" test: ""{% if zun_wsproxy_enable_healthchecks | bool %}{{ zun_wsproxy_healthcheck_test }}{% else %}NONE{% endif %}"" timeout: ""{{ zun_wsproxy_healthcheck_timeout }}"" zun_compute_enable_healthchecks: ""{{ enable_container_healthchecks }}"" zun_compute_healthcheck_interval: ""{{ default_container_healthcheck_interval }}"" zun_compute_healthcheck_retries: ""{{ default_container_healthcheck_retries }}"" zun_compute_healthcheck_start_period: ""{{ default_container_healthcheck_start_period }}"" zun_compute_healthcheck_test: [""CMD-SHELL"", ""healthcheck_port zun-compute {{ om_rpc_port }}""] zun_compute_healthcheck_timeout: ""{{ default_container_healthcheck_timeout }}"" zun_compute_healthcheck: interval: ""{{ zun_compute_healthcheck_interval }}"" retries: ""{{ zun_compute_healthcheck_retries }}"" start_period: ""{{ zun_compute_healthcheck_start_period }}"" test: ""{% if zun_compute_enable_healthchecks | bool %}{{ zun_compute_healthcheck_test }}{% else %}NONE{% endif %}"" timeout: ""{{ zun_compute_healthcheck_timeout }}"" zun_cni_daemon_enable_healthchecks: ""{{ enable_container_healthchecks }}"" zun_cni_daemon_healthcheck_interval: ""{{ default_container_healthcheck_interval }}"" zun_cni_daemon_healthcheck_retries: ""{{ default_container_healthcheck_retries }}"" zun_cni_daemon_healthcheck_start_period: ""{{ default_container_healthcheck_start_period }}"" zun_cni_daemon_healthcheck_test: [""CMD-SHELL"", ""healthcheck_listen zun-cni-daemon {{ zun_cni_daemon_port }}""] zun_cni_daemon_healthcheck_timeout: ""{{ default_container_healthcheck_timeout }}"" zun_cni_daemon_healthcheck: interval: ""{{ zun_cni_daemon_healthcheck_interval }}"" retries: ""{{ zun_cni_daemon_healthcheck_retries }}"" start_period: ""{{ zun_cni_daemon_healthcheck_start_period }}"" test: ""{% if zun_cni_daemon_enable_healthchecks | bool %}{{ zun_cni_daemon_healthcheck_test }}{% else %}NONE{% endif %}"" timeout: ""{{ zun_cni_daemon_healthcheck_timeout }}"" ",,67,0
openstack%2Fkolla-ansible~master~Ia4401f97140e2c2acc37d5ee3aaf90544747c547,openstack/kolla-ansible,master,Ia4401f97140e2c2acc37d5ee3aaf90544747c547,Use Docker healthchecks for kuryr services,MERGED,2021-03-11 13:05:20.000000000,2021-08-06 14:04:53.000000000,2021-08-06 14:04:53.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-11 13:05:20.000000000', 'files': ['ansible/roles/kuryr/handlers/main.yml', 'ansible/roles/kuryr/tasks/check-containers.yml', 'ansible/roles/kuryr/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-kuryr-9cc3d0480e9fe505.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2db0a2a62d441f67650973e7d896bd6db31f3e87', 'message': 'Use Docker healthchecks for kuryr services\n\nThis change enables the use of Docker healthchecks for kuryr\nservices.\nImplements: blueprint container-health-check\n\nChange-Id: Ia4401f97140e2c2acc37d5ee3aaf90544747c547\n'}]",0,779998,2db0a2a62d441f67650973e7d896bd6db31f3e87,8,3,1,26285,,,0,"Use Docker healthchecks for kuryr services

This change enables the use of Docker healthchecks for kuryr
services.
Implements: blueprint container-health-check

Change-Id: Ia4401f97140e2c2acc37d5ee3aaf90544747c547
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/779998/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kuryr/handlers/main.yml', 'ansible/roles/kuryr/tasks/check-containers.yml', 'ansible/roles/kuryr/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-kuryr-9cc3d0480e9fe505.yaml']",4,2db0a2a62d441f67650973e7d896bd6db31f3e87,container-health-check,--- features: - | Implements container healthchecks for zun services. See `blueprint <https://blueprints.launchpad.net/kolla-ansible/+spec/container-health-check>`__ ,,22,0
openstack%2Fkolla-ansible~master~Ieed654e694e9a0a63fd3f0906395bc7bf7c07552,openstack/kolla-ansible,master,Ieed654e694e9a0a63fd3f0906395bc7bf7c07552,Use Docker healthchecks for ceilometer services,MERGED,2021-03-15 14:25:41.000000000,2021-08-06 14:01:39.000000000,2021-08-06 13:58:58.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-15 14:25:41.000000000', 'files': ['ansible/roles/ceilometer/handlers/main.yml', 'ansible/roles/ceilometer/tasks/check-containers.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-ceilometer-e68dfc1dc1ce347e.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/48cd90a8d597021d61c75db872cdde24a10e569c', 'message': 'Use Docker healthchecks for ceilometer services\n\nThis change enables the use of Docker healthchecks for ceilometer\nservices.\nImplements: blueprint container-health-check\n\nChange-Id: Ieed654e694e9a0a63fd3f0906395bc7bf7c07552\n'}]",0,780597,48cd90a8d597021d61c75db872cdde24a10e569c,9,3,1,26285,,,0,"Use Docker healthchecks for ceilometer services

This change enables the use of Docker healthchecks for ceilometer
services.
Implements: blueprint container-health-check

Change-Id: Ieed654e694e9a0a63fd3f0906395bc7bf7c07552
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/780597/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceilometer/handlers/main.yml', 'ansible/roles/ceilometer/tasks/check-containers.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-ceilometer-e68dfc1dc1ce347e.yaml']",4,48cd90a8d597021d61c75db872cdde24a10e569c,container-health-check,--- features: - | Implements container healthchecks for ceilometer services. See `blueprint <https://blueprints.launchpad.net/kolla-ansible/+spec/container-health-check>`__ ,,67,0
openstack%2Fkolla-ansible~master~I6aa8db2214e07906f1f3e035411fc80ba911a274,openstack/kolla-ansible,master,I6aa8db2214e07906f1f3e035411fc80ba911a274,nova: Use cinder user for Ceph,MERGED,2021-06-30 13:29:19.000000000,2021-08-06 14:00:29.000000000,2021-08-06 13:58:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-30 13:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/669c71aec16f9911c863c88d55a615352e667221', 'message': 'nova: Use cinder user for Ceph\n\nIn Ussuri, nova stopped using separate Ceph keys for the volumes and vms\npools by default. Instead, we set ceph_nova_keyring to the value of\nceph_cinder_keyring by default, which is ceph.client.cinder.keyring.\nThis is in line with the Ceph OpenStack integration guide [1]. However,\nthe user used by nova to access the vms pool (ceph_nova_user) defaults\nto nova, meaning that nova will still try to use a\nceph.client.nova.keyring, which probably does not exist. We did not see\nthis issue in CI, because we set ceph_nova_user to cinder.\n\nThis change fixes the issue by setting ceph_nova_user to the value of\nceph_cinder_user by default, which is cinder.\n\nCloses-Bug: #1934145\nRelated-Bug: #1928690\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/\n\nChange-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274\n'}, {'number': 2, 'created': '2021-06-30 14:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a3963241a1faf627eb2b7dec1969a07f1e995874', 'message': 'nova: Use cinder user for Ceph\n\nIn Ussuri, nova stopped using separate Ceph keys for the volumes and vms\npools by default. Instead, we set ceph_nova_keyring to the value of\nceph_cinder_keyring by default, which is ceph.client.cinder.keyring.\nThis is in line with the Ceph OpenStack integration guide [1]. However,\nthe user used by nova to access the vms pool (ceph_nova_user) defaults\nto nova, meaning that nova will still try to use a\nceph.client.nova.keyring, which probably does not exist. We did not see\nthis issue in CI, because we set ceph_nova_user to cinder.\n\nThis change fixes the issue by setting ceph_nova_user to the value of\nceph_cinder_user by default, which is cinder.\n\nCloses-Bug: #1934145\nRelated-Bug: #1928690\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/\n\nChange-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274\n'}, {'number': 3, 'created': '2021-07-01 09:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5dc7a0c4312832ec9446f1d929c18dd9f7697222', 'message': 'nova: Use cinder user for Ceph\n\nIn Ussuri, nova stopped using separate Ceph keys for the volumes and vms\npools by default. Instead, we set ceph_nova_keyring to the value of\nceph_cinder_keyring by default, which is ceph.client.cinder.keyring.\nThis is in line with the Ceph OpenStack integration guide [1]. However,\nthe user used by nova to access the vms pool (ceph_nova_user) defaults\nto nova, meaning that nova will still try to use a\nceph.client.nova.keyring, which probably does not exist. We did not see\nthis issue in CI, because we set ceph_nova_user to cinder.\n\nThis change fixes the issue by setting ceph_nova_user to the value of\nceph_cinder_user by default, which is cinder.\n\nCloses-Bug: #1934145\nRelated-Bug: #1928690\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/\n\nChange-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274\n'}, {'number': 4, 'created': '2021-07-28 10:08:30.000000000', 'files': ['doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/nova-ceph-user-53670f9ccc546225.yaml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3f9ba835b1da740c9f3056dbda20a7072467757', 'message': 'nova: Use cinder user for Ceph\n\nIn Ussuri, nova stopped using separate Ceph keys for the volumes and vms\npools by default. Instead, we set ceph_nova_keyring to the value of\nceph_cinder_keyring by default, which is ceph.client.cinder.keyring.\nThis is in line with the Ceph OpenStack integration guide [1]. However,\nthe user used by nova to access the vms pool (ceph_nova_user) defaults\nto nova, meaning that nova will still try to use a\nceph.client.nova.keyring, which probably does not exist. We did not see\nthis issue in CI, because we set ceph_nova_user to cinder.\n\nThis change fixes the issue by setting ceph_nova_user to the value of\nceph_cinder_user by default, which is cinder.\n\nCloses-Bug: #1934145\nRelated-Bug: #1928690\n\n[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/\n\nChange-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274\n'}]",1,798851,c3f9ba835b1da740c9f3056dbda20a7072467757,25,4,4,14826,,,0,"nova: Use cinder user for Ceph

In Ussuri, nova stopped using separate Ceph keys for the volumes and vms
pools by default. Instead, we set ceph_nova_keyring to the value of
ceph_cinder_keyring by default, which is ceph.client.cinder.keyring.
This is in line with the Ceph OpenStack integration guide [1]. However,
the user used by nova to access the vms pool (ceph_nova_user) defaults
to nova, meaning that nova will still try to use a
ceph.client.nova.keyring, which probably does not exist. We did not see
this issue in CI, because we set ceph_nova_user to cinder.

This change fixes the issue by setting ceph_nova_user to the value of
ceph_cinder_user by default, which is cinder.

Closes-Bug: #1934145
Related-Bug: #1928690

[1] https://docs.ceph.com/en/latest/rbd/rbd-openstack/

Change-Id: I6aa8db2214e07906f1f3e035411fc80ba911a274
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/798851/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova-ceph-user-53670f9ccc546225.yaml', 'ansible/group_vars/all.yml', 'tests/templates/globals-default.j2']",3,669c71aec16f9911c863c88d55a615352e667221,,,"ceph_nova_user: ""cinder""",9,2
openstack%2Freleases~master~Ie19308012ff5f02aa14912bc1803a2a686849c7f,openstack/releases,master,Ie19308012ff5f02aa14912bc1803a2a686849c7f,[ironic] Propose to switch the release model,MERGED,2021-08-02 14:35:45.000000000,2021-08-06 13:58:52.000000000,2021-08-06 13:58:52.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-02 14:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/044e968302e3f7dcfd86b1da9e4a78c51cfaeade', 'message': '[ironic] Propose to switch the release model\n\nIntermediary-released deliverables that did release only once during\nthe last cycle, and have not done a release yet are good candidates\nto switch to the cycle-with-rc model, which is much more suitable for\ndeliverables that are only released once per cycle.\n\nThese changes are not mandatory and this patch is a conveniences to\nhighlight this point and open the discussion.\n\nPTLs and release liaisons please decide to:\n- immediately release an intermediary release (and -1 the proposed change)\n- confirm the release model change (+1 the proposed change)\n- stay uncertain for this cycle of how many releases will be made, but\n  acknowledge that they need to do a release before RC1 (-1 the proposed\n  change)\n\nChange-Id: Ie19308012ff5f02aa14912bc1803a2a686849c7f\n'}, {'number': 2, 'created': '2021-08-03 15:47:48.000000000', 'files': ['deliverables/xena/ironic-ui.yaml', 'deliverables/xena/ironic-prometheus-exporter.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7ac3b50659a225846831fec978ecc89041ee459e', 'message': '[ironic] Propose to switch the release model\n\nIntermediary-released deliverables that did release only once during\nthe last cycle, and have not done a release yet are good candidates\nto switch to the cycle-with-rc model, which is much more suitable for\ndeliverables that are only released once per cycle.\n\nThese changes are not mandatory and this patch is a conveniences to\nhighlight this point and open the discussion.\n\nPTLs and release liaisons please decide to:\n- immediately release an intermediary release (and -1 the proposed change)\n- confirm the release model change (+1 the proposed change)\n- stay uncertain for this cycle of how many releases will be made, but\n  acknowledge that they need to do a release before RC1 (-1 the proposed\n  change)\n\nChange-Id: Ie19308012ff5f02aa14912bc1803a2a686849c7f\n'}]",0,803217,7ac3b50659a225846831fec978ecc89041ee459e,15,7,2,28522,,,0,"[ironic] Propose to switch the release model

Intermediary-released deliverables that did release only once during
the last cycle, and have not done a release yet are good candidates
to switch to the cycle-with-rc model, which is much more suitable for
deliverables that are only released once per cycle.

These changes are not mandatory and this patch is a conveniences to
highlight this point and open the discussion.

PTLs and release liaisons please decide to:
- immediately release an intermediary release (and -1 the proposed change)
- confirm the release model change (+1 the proposed change)
- stay uncertain for this cycle of how many releases will be made, but
  acknowledge that they need to do a release before RC1 (-1 the proposed
  change)

Change-Id: Ie19308012ff5f02aa14912bc1803a2a686849c7f
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/803217/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/ironic-ui.yaml', 'deliverables/xena/ironic-prometheus-exporter.yaml', 'deliverables/xena/ironic-python-agent-builder.yaml']",3,044e968302e3f7dcfd86b1da9e4a78c51cfaeade,not-yet-released,release-model: cycle-with-rc,release-model: cycle-with-intermediary,3,3
openstack%2Ftripleo-ansible~master~Ic76953f1a671ea0416da829acb37bd1d787a55dc,openstack/tripleo-ansible,master,Ic76953f1a671ea0416da829acb37bd1d787a55dc,Enforce minimum Ceph client version to Mimic,MERGED,2021-08-04 15:32:15.000000000,2021-08-06 13:29:39.000000000,2021-08-06 13:29:39.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-08-04 15:32:15.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb5e1cfaab7f579037af9517d4be37e1beea5094', 'message': 'Enforce minimum Ceph client version to Mimic\n\nThis is so that we can take advantage of the deferred deletion\nfeature in Cinder. This change is done in Ansible instead of\nTripleO Heat Templates so that it is deployed_ceph compatible\nwhile still having an effect when deployed_ceph is not used.\n\nCloses-Bug: #1938833\nChange-Id: Ic76953f1a671ea0416da829acb37bd1d787a55dc\n'}]",0,803496,bb5e1cfaab7f579037af9517d4be37e1beea5094,21,5,1,18002,,,0,"Enforce minimum Ceph client version to Mimic

This is so that we can take advantage of the deferred deletion
feature in Cinder. This change is done in Ansible instead of
TripleO Heat Templates so that it is deployed_ceph compatible
while still having an effect when deployed_ceph is not used.

Closes-Bug: #1938833
Change-Id: Ic76953f1a671ea0416da829acb37bd1d787a55dc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/803496/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/cephadm_config_set.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml']",2,bb5e1cfaab7f579037af9517d4be37e1beea5094,bug/1938833,tripleo_cephadm_min_compat_client: mimic,,8,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If8958c414c400026c66187261d8fff439aad6388,openstack/tripleo-heat-templates,stable/train,If8958c414c400026c66187261d8fff439aad6388,Enabling vhost-postcopy-support when live_migration_permit_post_copy,MERGED,2021-07-30 13:31:09.000000000,2021-08-06 13:29:37.000000000,2021-08-06 13:29:37.000000000,"[{'_account_id': 8833}, {'_account_id': 11604}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-30 13:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72c0cd1e4cd3a5091d3fe8c6cf68ff895e455384', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803016\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 05f6272c79f43cf749449d86a4d25b893a6749b8)\n(cherry picked from commit 40c5ea91fb3922ab71e7b1fe891ed6169838a9b3)\n""}, {'number': 2, 'created': '2021-07-30 13:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22330d515f0ba6c8f27687373bc816e9996d97b4', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803018\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 05f6272c79f43cf749449d86a4d25b893a6749b8)\n(cherry picked from commit 40c5ea91fb3922ab71e7b1fe891ed6169838a9b3)\n""}, {'number': 3, 'created': '2021-07-30 14:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e60ea71e3ecfce23ffb4f154498379e03a3abab6', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n(cherry picked from commit 8f792882ece76923ad3f0e38d41a1416b079048c)\n""}, {'number': 4, 'created': '2021-08-02 08:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebc7c6a13456c0dba0a9c0757cbf74d4845b031d', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n(cherry picked from commit 8f792882ece76923ad3f0e38d41a1416b079048c)\n""}, {'number': 5, 'created': '2021-08-02 09:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4df455239d1253050ddd32c917588e2a40ad35bf', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n(cherry picked from commit 8f792882ece76923ad3f0e38d41a1416b079048c)\n""}, {'number': 6, 'created': '2021-08-02 10:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7df9e92381fc022ec66511492f0c760817428f7c', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n(cherry picked from commit 8f792882ece76923ad3f0e38d41a1416b079048c)\n""}, {'number': 7, 'created': '2021-08-03 09:22:22.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/733df7d5e9406e44def4118d35eefc71a097e23a', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n(cherry picked from commit 8f792882ece76923ad3f0e38d41a1416b079048c)\n""}]",0,803017,733df7d5e9406e44def4118d35eefc71a097e23a,20,8,7,27419,,,0,"Enabling vhost-postcopy-support when live_migration_permit_post_copy

When we enable live_migration_permit_post_copy in nova-libvirt, we also need
to enable the vhost-postcopy-support config in OVS.

Also, the only reason to not automatically enable
live_migration_permit_post_copy is on realtime hypervisors, so we're removing
the hugepages condition.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014

Change-Id: If8958c414c400026c66187261d8fff439aad6388
(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)
(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)
(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)
(cherry picked from commit 8f792882ece76923ad3f0e38d41a1416b079048c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/803017/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml']",2,72c0cd1e4cd3a5091d3fe8c6cf68ff895e455384,vhost-postcopy," NovaLiveMigrationPermitPostCopy: description: > Set to ""True"" to activate the instance on the destination node before migration is complete, and to set an upper bound on the memory that needs to be transferred. default: false type: boolean tags: - role_specific nova_postcopy_set: or: - not: {equals: [{get_param: [RoleParameters, NovaLiveMigrationPermitPostCopy]}, '']} - {get_param: NovaLiveMigrationPermitPostCopy} is_realtime: equals: [{get_param: [RoleParameters, TunedProfileName]}, 'realtime-virtual-host'] nova_postcopy: NovaLiveMigrationPermitPostCopy NovaLiveMigrationPermitPostCopy: {get_param: NovaLiveMigrationPermitPostCopy} tripleo_ovs_dpdk_vhost_postcopy_support: if: - is_realtime - false - if: - nova_postcopy_set - {get_attr: [RoleParametersDpdk, value, nova_postcopy]} - true",,25,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~If8958c414c400026c66187261d8fff439aad6388,openstack/tripleo-heat-templates,stable/ussuri,If8958c414c400026c66187261d8fff439aad6388,Enabling vhost-postcopy-support when live_migration_permit_post_copy,MERGED,2021-07-30 12:50:00.000000000,2021-08-06 13:29:34.000000000,2021-08-06 13:29:34.000000000,"[{'_account_id': 8833}, {'_account_id': 11604}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-30 12:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16a37d007cd5ffe1349de28742c7b7c249504885', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit eb3a6b0d43952e34b150af8b67a515b603f9f2ca)\n(cherry picked from commit f0cd2c559f681ec8de4974e63f01609f4b598408)\n(cherry picked from commit b120429425eb0443fb49ee318a5cc8216102d76f)\n""}, {'number': 2, 'created': '2021-07-30 12:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e4ad5ba701c451f4fe1fb20fab283f35275bc29', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803016/\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit eb3a6b0d43952e34b150af8b67a515b603f9f2ca)\n(cherry picked from commit f0cd2c559f681ec8de4974e63f01609f4b598408)\n(cherry picked from commit b120429425eb0443fb49ee318a5cc8216102d76f)\n""}, {'number': 3, 'created': '2021-07-30 13:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdffa249fc459aa90569601da413d101fe0d867f', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 05f6272c79f43cf749449d86a4d25b893a6749b8)\n""}, {'number': 4, 'created': '2021-07-30 13:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40c5ea91fb3922ab71e7b1fe891ed6169838a9b3', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803016\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 05f6272c79f43cf749449d86a4d25b893a6749b8)\n""}, {'number': 5, 'created': '2021-07-30 14:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d09c72f4f54e94cb94c6cb863326c552f1e2a54d', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit d215a9956d5772b8531c31320ae3e15cd2d777d3)\n""}, {'number': 6, 'created': '2021-07-30 14:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc1db1ad0fabcf5c36cae8709997c06fa73b7501', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit d215a9956d5772b8531c31320ae3e15cd2d777d3)\n""}, {'number': 7, 'created': '2021-07-30 14:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c10ff61f3a293244f233bd55489a80533cf5df4', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n""}, {'number': 8, 'created': '2021-07-30 14:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f792882ece76923ad3f0e38d41a1416b079048c', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n""}, {'number': 9, 'created': '2021-08-02 08:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/637233a1f571d89b08926c438e644f6b244bc0fa', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n""}, {'number': 10, 'created': '2021-08-02 08:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3673d5356908be498f138f2411be1085a15f706', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n""}, {'number': 11, 'created': '2021-08-02 08:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d3a2fb663e41c9b2c269c5934018307b56cb235', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n""}, {'number': 12, 'created': '2021-08-02 09:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d24b11d81d9cecb271207610dfa42763c3996671', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n""}, {'number': 13, 'created': '2021-08-03 09:21:25.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5e73079fc3bd689362721fbede8f9fe52680f1b', 'message': ""Enabling vhost-postcopy-support when live_migration_permit_post_copy\n\nWhen we enable live_migration_permit_post_copy in nova-libvirt, we also need\nto enable the vhost-postcopy-support config in OVS.\n\nAlso, the only reason to not automatically enable\nlive_migration_permit_post_copy is on realtime hypervisors, so we're removing\nthe hugepages condition.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1986567\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014\n\nChange-Id: If8958c414c400026c66187261d8fff439aad6388\n(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)\n(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)\n(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)\n""}]",0,803015,d5e73079fc3bd689362721fbede8f9fe52680f1b,31,9,13,27419,,,0,"Enabling vhost-postcopy-support when live_migration_permit_post_copy

When we enable live_migration_permit_post_copy in nova-libvirt, we also need
to enable the vhost-postcopy-support config in OVS.

Also, the only reason to not automatically enable
live_migration_permit_post_copy is on realtime hypervisors, so we're removing
the hugepages condition.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1986567
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/803014

Change-Id: If8958c414c400026c66187261d8fff439aad6388
(cherry picked from commit 135360cc818261a8edd01384019f57281f244a4f)
(cherry picked from commit 53d5288de41fa67739c16a1ebb72fb1254890d05)
(cherry picked from commit 6178d69df0da7360c15e8cc2102e3053b9e4ba79)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/803015/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml']",2,16a37d007cd5ffe1349de28742c7b7c249504885,vhost-postcopy," NovaLiveMigrationPermitPostCopy: description: > Set to ""True"" to activate the instance on the destination node before migration is complete, and to set an upper bound on the memory that needs to be transferred. default: false type: boolean tags: - role_specific<<<<<<< HEAD (df4d5d Merge ""Remove all docker related tasks from upgrades"" into s) ======= OvsDpdkEnableTSO: description: | Enable TSO in OVS DPDK datapath. type: boolean default: false tags: - role_specific >>>>>>> CHANGE (b12042 Enabling vhost-postcopy-support when live_migration_permit_p) is_realtime: equals: [{get_param: [RoleParameters, TunedProfileName]}, 'realtime-virtual-host'] nova_postcopy: NovaLiveMigrationPermitPostCopy NovaLiveMigrationPermitPostCopy: {get_param: NovaLiveMigrationPermitPostCopy}<<<<<<< HEAD (df4d5d Merge ""Remove all docker related tasks from upgrades"" into s) ======= tripleo_ovs_dpdk_enable_tso: {get_attr: [RoleParametersDpdk, value, enable_tso]} tripleo_ovs_dpdk_vhost_postcopy_support: if: - is_realtime - false - {get_attr: [RoleParametersDpdk, value, nova_postcopy]} >>>>>>> CHANGE (b12042 Enabling vhost-postcopy-support when live_migration_permit_p)",,32,4
openstack%2Fopenstack-helm-infra~master~I43e87ad1fd7be9003a0e66942002233b14bb8aa2,openstack/openstack-helm-infra,master,I43e87ad1fd7be9003a0e66942002233b14bb8aa2,DNM - TESTING - Change amqp port to 15680 with TLS,ABANDONED,2021-08-04 13:26:33.000000000,2021-08-06 13:09:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-04 13:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73290adc392e2e9916125a6f59c37786c2b788fb', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nChange-Id: I43e87ad1fd7be9003a0e66942002233b14bb8aa2\n'}, {'number': 2, 'created': '2021-08-04 16:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/42d784bb2857820617e91c1f6d1e3086b13787da', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nChange-Id: I43e87ad1fd7be9003a0e66942002233b14bb8aa2\n'}, {'number': 3, 'created': '2021-08-05 12:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f747a854582169d46b022c51349eb901b4ce6215', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nChange-Id: I43e87ad1fd7be9003a0e66942002233b14bb8aa2\n'}, {'number': 4, 'created': '2021-08-05 12:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53b72992037e411538f3c5027d1cba94d8650364', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nChange-Id: I43e87ad1fd7be9003a0e66942002233b14bb8aa2\n'}, {'number': 5, 'created': '2021-08-05 21:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/77930d55f98b894725aa4848194a17a6095f3bf9', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nChange-Id: I43e87ad1fd7be9003a0e66942002233b14bb8aa2\n'}, {'number': 6, 'created': '2021-08-05 22:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d4c09fa1dd3520fe6bb8eb21ab80e2b94e0c2c8c', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nChange-Id: I43e87ad1fd7be9003a0e66942002233b14bb8aa2\n'}, {'number': 7, 'created': '2021-08-05 22:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/375e38acd40b187e406435f96d335b007b26aa68', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nChange-Id: I43e87ad1fd7be9003a0e66942002233b14bb8aa2\n'}, {'number': 8, 'created': '2021-08-05 22:53:13.000000000', 'files': ['rabbitmq/values_overrides/tls.yaml', 'rabbitmq/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d46a85dc9529025c410295189a9048f2ba1f6c33', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nChange-Id: I43e87ad1fd7be9003a0e66942002233b14bb8aa2\n'}]",0,803476,d46a85dc9529025c410295189a9048f2ba1f6c33,14,1,8,24780,,,0,"DNM - TESTING - Change amqp port to 15680 with TLS

Change-Id: I43e87ad1fd7be9003a0e66942002233b14bb8aa2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/76/803476/7 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/values_overrides/tls.yaml'],1,73290adc392e2e9916125a6f59c37786c2b788fb,, amqp: default: 15680,,2,0
openstack%2Fopenstack-helm~master~Ie5d1f2ac0f72df2ceefb2ebdc000c926c67426a3,openstack/openstack-helm,master,Ie5d1f2ac0f72df2ceefb2ebdc000c926c67426a3,DNM - TESTING - Change amqp port to 15680 with TLS,ABANDONED,2021-08-04 13:28:44.000000000,2021-08-06 13:09:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-04 13:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab408e179636da3c30778e085dc594204c04f969', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/803476\nChange-Id: Ie5d1f2ac0f72df2ceefb2ebdc000c926c67426a3\n'}, {'number': 2, 'created': '2021-08-04 16:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/60029ccf6b74ec021f6cbf20b2144ae900659340', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/803476\nChange-Id: Ie5d1f2ac0f72df2ceefb2ebdc000c926c67426a3\n'}, {'number': 3, 'created': '2021-08-04 16:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eea650c469abc0cbb41f9f5a306d58c70f07fc14', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/803476\nChange-Id: Ie5d1f2ac0f72df2ceefb2ebdc000c926c67426a3\n'}, {'number': 4, 'created': '2021-08-05 11:28:55.000000000', 'files': ['heat/values_overrides/tls.yaml', 'nova/values_overrides/tls.yaml', 'zuul.d/project.yaml', 'cinder/values_overrides/tls.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'keystone/values_overrides/tls.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1250b92e359158976f35f396c502fd1f3eb79037', 'message': 'DNM - TESTING - Change amqp port to 15680 with TLS\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/803476\nChange-Id: Ie5d1f2ac0f72df2ceefb2ebdc000c926c67426a3\n'}]",0,803478,1250b92e359158976f35f396c502fd1f3eb79037,31,1,4,24780,,,0,"DNM - TESTING - Change amqp port to 15680 with TLS

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/803476
Change-Id: Ie5d1f2ac0f72df2ceefb2ebdc000c926c67426a3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/78/803478/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/values_overrides/tls.yaml', 'nova/values_overrides/tls.yaml', 'cinder/values_overrides/tls.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'keystone/values_overrides/tls.yaml']",6,ab408e179636da3c30778e085dc594204c04f969,, amqp: default: 15680,,12,0
openstack%2Fnova~master~I345dce93c6e2593c1ff1b863425f9a854c49ab9d,openstack/nova,master,I345dce93c6e2593c1ff1b863425f9a854c49ab9d,fup: Move _wait_for_volume_attach into InstanceHelperMixin,MERGED,2021-07-27 21:21:34.000000000,2021-08-06 12:41:31.000000000,2021-08-06 10:50:06.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29074}]","[{'number': 1, 'created': '2021-07-27 21:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a3f60bf065c0e54fda2ca057dd77eaa38946ec8', 'message': 'fup: Move _wait_for_volume_attach into InstanceHelperMixin\n\nAs discussed in I332d4f33ea6b9506cc24ac12e5c0994f208a3107 this is useful\nenough to be copied into InstanceHelperMixin.\n\nMost of this change is migrating the original functional test that\nintroduced _wait_for_volume_attach over to use _IntegratedTestBase.\n\nChange-Id: I345dce93c6e2593c1ff1b863425f9a854c49ab9d\n'}, {'number': 2, 'created': '2021-08-04 11:37:53.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1937375.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_conf_max_attach_disk_devices.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/753a2ae5d4159db3ee3ca06388193fe2c436fc66', 'message': 'fup: Move _wait_for_volume_attach into InstanceHelperMixin\n\nAs discussed in I332d4f33ea6b9506cc24ac12e5c0994f208a3107 this is useful\nenough to be copied into InstanceHelperMixin.\n\nMost of this change is migrating the original functional test that\nintroduced _wait_for_volume_attach over to use _IntegratedTestBase.\n\nChange-Id: I345dce93c6e2593c1ff1b863425f9a854c49ab9d\n'}]",0,802623,753a2ae5d4159db3ee3ca06388193fe2c436fc66,26,5,2,10135,,,0,"fup: Move _wait_for_volume_attach into InstanceHelperMixin

As discussed in I332d4f33ea6b9506cc24ac12e5c0994f208a3107 this is useful
enough to be copied into InstanceHelperMixin.

Most of this change is migrating the original functional test that
introduced _wait_for_volume_attach over to use _IntegratedTestBase.

Change-Id: I345dce93c6e2593c1ff1b863425f9a854c49ab9d
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/802623/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1937375.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_conf_max_attach_disk_devices.py']",4,2a3f60bf065c0e54fda2ca057dd77eaa38946ec8,,,"import time def _wait_for_volume_attach(self, server_id, volume_id): for i in range(0, 100): server = self.api.get_server(server_id) attached_vols = [vol['id'] for vol in server['os-extended-volumes:volumes_attached']] if volume_id in attached_vols: return time.sleep(.1) self.fail('Timed out waiting for volume %s to be attached to ' 'server %s. Currently attached volumes: %s' % (volume_id, server_id, attached_vols)) ",26,118
openstack%2Fopenstack-helm-infra~master~I2a38b59789fd522e8163ff9b12ff847eb1fe2f3a,openstack/openstack-helm-infra,master,I2a38b59789fd522e8163ff9b12ff847eb1fe2f3a,cert-rotation: Return true if grep finds no match,ABANDONED,2021-08-06 02:54:45.000000000,2021-08-06 12:35:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 30495}]","[{'number': 1, 'created': '2021-08-06 02:54:45.000000000', 'files': ['releasenotes/notes/cert-rotation.yaml', 'cert-rotation/Chart.yaml', 'cert-rotation/templates/bin/_rotate-certs.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2d534eb82eec194f74725e2070822c132345fa12', 'message': 'cert-rotation: Return true if grep finds no match\n\nIf grep does not find a match, it return 1 which fails the shell\nscript. Hence made it return true if no match is found.\n\nChange-Id: I2a38b59789fd522e8163ff9b12ff847eb1fe2f3a\n'}]",0,803690,2d534eb82eec194f74725e2070822c132345fa12,7,2,1,24780,,,0,"cert-rotation: Return true if grep finds no match

If grep does not find a match, it return 1 which fails the shell
script. Hence made it return true if no match is found.

Change-Id: I2a38b59789fd522e8163ff9b12ff847eb1fe2f3a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/803690/1 && git format-patch -1 --stdout FETCH_HEAD,"['cert-rotation/Chart.yaml', 'releasenotes/notes/cert-rotation.yaml', 'cert-rotation/templates/bin/_rotate-certs.sh.tpl']",3,2d534eb82eec194f74725e2070822c132345fa12,," resource=($(kubectl get ${kind} -n ${namespace} -o custom-columns='NAME:.metadata.name,SECRETS:.spec.template.spec.volumes[*].secret.secretName,TLS:.spec.template.spec.containers[*].volumeMounts[*].subPath' --no-headers | grep tls.crt || true))"," resource=($(kubectl get ${kind} -n ${namespace} -o custom-columns='NAME:.metadata.name,SECRETS:.spec.template.spec.volumes[*].secret.secretName,TLS:.spec.template.spec.containers[*].volumeMounts[*].subPath' --no-headers | grep tls.crt))",3,2
openstack%2Fcharm-trilio-wlm~master~Ia2c88560b45bdb20742e254464730b5708f8b79f,openstack/charm-trilio-wlm,master,Ia2c88560b45bdb20742e254464730b5708f8b79f,Replace post-upgrade-configuration with update-trilio,MERGED,2021-08-05 07:44:20.000000000,2021-08-06 12:11:13.000000000,2021-08-06 12:11:13.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 07:44:20.000000000', 'files': ['src/actions.yaml', 'src/actions/actions.py', 'src/actions/update-trilio'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/6b9b1480065d26f01a5bff79d22cbf18db7f26b7', 'message': 'Replace post-upgrade-configuration with update-trilio\n\nAfter rereading the request from Trilio I realised that the action\nshould be performing the package update too. So this PR removes the\npost-upgrade-configuration action and replaces it with update-trilio\nwhich performs the package upgrades too.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/616\nChange-Id: Ia2c88560b45bdb20742e254464730b5708f8b79f\n'}]",0,803541,6b9b1480065d26f01a5bff79d22cbf18db7f26b7,13,3,1,12549,,,0,"Replace post-upgrade-configuration with update-trilio

After rereading the request from Trilio I realised that the action
should be performing the package update too. So this PR removes the
post-upgrade-configuration action and replaces it with update-trilio
which performs the package upgrades too.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/616
Change-Id: Ia2c88560b45bdb20742e254464730b5708f8b79f
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/41/803541/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'src/actions/actions.py', 'src/actions/update-trilio']",3,6b9b1480065d26f01a5bff79d22cbf18db7f26b7,update-trilio,actions.py,,11,9
openstack%2Fneutron~stable%2Fstein~Ie4c0f4a63a87c32026c49b03068e5f461deb38b6,openstack/neutron,stable/stein,Ie4c0f4a63a87c32026c49b03068e5f461deb38b6,Fix notify listener syntax for SEGMENT_HOST_MAPPING,ABANDONED,2021-08-06 11:19:58.000000000,2021-08-06 12:09:10.000000000,,[],"[{'number': 1, 'created': '2021-08-06 11:19:58.000000000', 'files': ['neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81139174cf22bbb07f916e51e3d871c1c680deca', 'message': 'Fix notify listener syntax for SEGMENT_HOST_MAPPING\n\nChange auto_schedule_new_network_segments call to use old notification listener syntax in old stable branches of Neutron that still use notify instead of publish.\n\nCloses-Bug: #1939125\nChange-Id: Ie4c0f4a63a87c32026c49b03068e5f461deb38b6\n'}]",0,803733,81139174cf22bbb07f916e51e3d871c1c680deca,2,0,1,12825,,,0,"Fix notify listener syntax for SEGMENT_HOST_MAPPING

Change auto_schedule_new_network_segments call to use old notification listener syntax in old stable branches of Neutron that still use notify instead of publish.

Closes-Bug: #1939125
Change-Id: Ie4c0f4a63a87c32026c49b03068e5f461deb38b6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/803733/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py']",2,81139174cf22bbb07f916e51e3d871c1c680deca,bug/1939125," notify_kwargs = { 'context': ctx, 'host': 'HOST A', 'current_segment_ids': set(['segment-1'])} resources.SEGMENT_HOST_MAPPING, events.AFTER_CREATE, None, **notify_kwargs)"," payload = events.DBEventPayload( ctx, metadata={'host': 'HOST A', 'current_segment_ids': set(['segment-1'])}) resources.SEGMENT_HOST_MAPPING, events.AFTER_CREATE, ctx, payload)",11,11
openstack%2Fneutron~master~I842c1408ee0235bc54441e9ed69c8b87ea30651b,openstack/neutron,master,I842c1408ee0235bc54441e9ed69c8b87ea30651b,L3 router support ECMP,MERGED,2020-07-29 02:00:32.000000000,2021-08-06 11:57:30.000000000,2021-07-19 14:00:03.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29963}, {'_account_id': 31814}]","[{'number': 1, 'created': '2020-07-29 02:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0fd70db8d596342a87cae3bec42cab8a815337e', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 2, 'created': '2020-08-07 02:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/864103f7bced380f284cb5b8c84e59884ddf6737', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 3, 'created': '2020-08-07 10:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc0190075b7ff2dc5a79b1c236f66ccfc85a5518', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 4, 'created': '2020-08-11 10:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77676b826280f7019b2d3491c0759426589b011c', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 5, 'created': '2020-08-12 04:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0ac69600faf65609fd7c2bf2c433542b72d072d', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 6, 'created': '2020-08-20 09:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21154db12afe20ea4ac4d1c96b21ff28fd5e66d2', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 7, 'created': '2020-08-21 08:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/826f4ec98bce0b27934c2a29af2bb599917676c4', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 8, 'created': '2020-08-24 02:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26dffb7d0d03cd3ed318e42a07185fba19855fb2', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 9, 'created': '2020-09-09 09:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f15cb637c5cd57d1a1187aa96bab5acd743903ba', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 10, 'created': '2020-09-10 06:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9a42a7b46ff9ec80fabeb87b9119a94551e3dc2', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 11, 'created': '2021-03-15 02:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63e20c75ebfe74e3ec9bf1f865462f9af8c40f34', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 12, 'created': '2021-03-15 08:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80f726424372dc10a0f2b5bcc776d7af1b02f01c', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 13, 'created': '2021-03-19 11:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f23afa42406184b53454979dff565910871b4664', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 14, 'created': '2021-05-26 10:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ceb7a0a8e5b0b9b43e6aea2334d215fd7ba7f0a', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 15, 'created': '2021-05-27 07:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/328a68dbbda17b698a19d8ab610b9b2bcda76379', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 16, 'created': '2021-05-28 02:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a3d50b53b53cd7142dabdfaf8f22f4f954dc32e', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 17, 'created': '2021-05-28 02:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73b4686cd62762e82fa698330cdc90b0817d042b', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 18, 'created': '2021-06-03 16:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/425daf116a5941c58e45adf83ef067422a6fd168', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 19, 'created': '2021-06-07 02:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e6fd5d122981e2a6cf6ce7638d7067afe33c168', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 20, 'created': '2021-06-07 02:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b721851b2225ee1b37d1c12839fe02a888e47483', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 21, 'created': '2021-07-02 09:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3899db0452c0f6976e8a70d2364d7cc871ffbfa5', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 22, 'created': '2021-07-06 02:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcd33a4949814f66fe09eacc508942e0b2a29b3d', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 23, 'created': '2021-07-12 07:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e588ef8d07807d92c2fbba2e5e9e86ba06fa4a2', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}, {'number': 24, 'created': '2021-07-13 07:41:27.000000000', 'files': ['releasenotes/notes/ecmp-routes-771ff34beafee370.yaml', 'neutron/tests/unit/agent/l3/test_router_info.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/router_info.py', 'neutron/extensions/ecmp_routes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b2983743bacf6feb95a60d1b6fbc46e2427df88', 'message': 'L3 router support ECMP\n\nThis patch changes the policy for updating routes to support ECMP,\nand will now add ECMP routes to the Neutron router namespace when\nthere are multiple routes pointing to the same destination address.\n\nChange-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b\nRelated-Bug: #1880532\n'}]",48,743661,9b2983743bacf6feb95a60d1b6fbc46e2427df88,177,13,24,31814,,,0,"L3 router support ECMP

This patch changes the policy for updating routes to support ECMP,
and will now add ECMP routes to the Neutron router namespace when
there are multiple routes pointing to the same destination address.

Change-Id: I842c1408ee0235bc54441e9ed69c8b87ea30651b
Related-Bug: #1880532
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/743661/15 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,f0fd70db8d596342a87cae3bec42cab8a815337e,bug/1880532," def update_routing_table_ecmp(self, operation, route_list): cmd = ['ip', 'route', operation, 'to', route_list[0]['destination']] for route in route_list: cmd.append('nexthop') cmd.append('via') cmd.append(route['nexthop']) LOG.debug('ECMP cmd: %s', cmd) ip_wrapper = ip_lib.IPWrapper(namespace=self.ns_name) ip_wrapper.netns.execute(cmd, check_exit_code=False) def _set_arp_proxy(self, port, operation): if 'id' in port: id = port['id'] qr_name = 'qr-' + id[:11] ip_wrapper = ip_lib.IPWrapper(namespace=self.ns_name) cmd = ['sysctl', '-w', 'net.ipv4.conf.%s.proxy_arp=%d' % (qr_name, operation)] ip_wrapper.netns.execute(cmd, check_exit_code=False) cmd = ['sysctl', '-w', 'net.ipv4.conf.%s.proxy_arp_pvlan=%d' % (qr_name, operation)] ip_wrapper.netns.execute(cmd, check_exit_code=False) LOG.debug('setting arp proxy, cmd:%s', cmd) def set_arp_proxy_for_ecmp(self, destination, operation): # operation = 1 : open arp proxy # operation = 0 : close arp proxy ports = self.internal_ports dst_ip = netaddr.IPNetwork(destination) for port in ports: if 'subnets' in port: for subnet in port['subnets']: port_subnet = [subnet['cidr']] ip_set = netaddr.IPSet(port_subnet) if dst_ip in ip_set: self._set_arp_proxy(port, operation) def is_remove_route_ecmp(self, old_routes, remove_route): route_list = [] LOG.debug('old_routes: %s',old_routes) for route in old_routes: if route['destination'] == remove_route['destination']: route_list.append(route) LOG.debug('route_list: %s', route_list) if len(route_list) == 0: return False if len(route_list) == 1: return False if len(route_list) == 2: for r in route_list: if r['nexthop'] != remove_route['nexthop']: self.update_routing_table('replace', r) self.set_arp_proxy_for_ecmp(remove_route['destination'], 0) return True if len(route_list) > 2: route_list.remove(remove_route) self.update_routing_table_ecmp('replace', route_list) return True def is_add_route_ecmp(self, old_routes, new_route): route_list = [] LOG.debug('old_routes: %s', old_routes) for route in old_routes: if route['destination'] == new_route['destination']: route_list.append(route) LOG.debug('route_list: %s', route_list) if len(route_list) == 0: return False if len(route_list) >= 1: route_list.append(new_route) self.update_routing_table_ecmp('replace', route_list) self.set_arp_proxy_for_ecmp(new_route['destination'], 1) return True LOG.debug(""ALL OLD ROUTES:%s"", old_routes) for route in removes: # judge is modifying an ECMP route or not # if not, just delete it # if it is, replace it # update old_routes after modify if self.is_remove_route_ecmp(old_routes, route): LOG.debug(""Removed an ECMP route"") old_routes.remove(route) continue old_routes.remove(route) for route in adds: if self.is_add_route_ecmp(old_routes, route): LOG.debug('Added an ECMP route') old_routes.append(route) continue LOG.debug(""Added route entry is '%s'"", route) # replace success even if there is no existing route self.update_routing_table('replace', route) old_routes.append(route)"," for route in adds: LOG.debug(""Added route entry is '%s'"", route) # remove replaced route from deleted route for del_route in removes: if route['destination'] == del_route['destination']: removes.remove(del_route) # replace success even if there is no existing route self.update_routing_table('replace', route) for route in removes:",92,8
openstack%2Fnetworking-bgpvpn~master~Iaaa3f5b582c603c50f406d7edace88ed15701e0b,openstack/networking-bgpvpn,master,Iaaa3f5b582c603c50f406d7edace88ed15701e0b,DOC: remove duplicate mitaka entry,MERGED,2021-08-05 07:52:09.000000000,2021-08-06 11:52:27.000000000,2021-08-06 11:51:06.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 33436}]","[{'number': 1, 'created': '2021-08-05 07:52:09.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/270c19b62acedf6e547b0d8048f91901cfb1bbec', 'message': 'DOC: remove duplicate mitaka entry\n\nChange-Id: Iaaa3f5b582c603c50f406d7edace88ed15701e0b\n'}]",0,803542,270c19b62acedf6e547b0d8048f91901cfb1bbec,8,5,1,8313,,,0,"DOC: remove duplicate mitaka entry

Change-Id: Iaaa3f5b582c603c50f406d7edace88ed15701e0b
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/42/803542/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,270c19b62acedf6e547b0d8048f91901cfb1bbec,,, mitaka,0,1
openstack%2Fnetworking-bgpvpn~master~I76c0523234568be7c9efa20ad3f050fdfe1b2e08,openstack/networking-bgpvpn,master,I76c0523234568be7c9efa20ad3f050fdfe1b2e08,use payloads for PORT AFTER_DELETE and AFTER_UPDATE events,ABANDONED,2021-07-12 15:18:20.000000000,2021-08-06 11:52:24.000000000,,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-07-12 15:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/b2116f0cac2463fc32abeadbc3678d6f61edab7c', 'message': 'use payloads for PORT AFTER_DELETE event\n\nneutron side: https://review.opendev.org/c/openstack/neutron/+/797004\n\nChange-Id: I76c0523234568be7c9efa20ad3f050fdfe1b2e08\n'}, {'number': 2, 'created': '2021-07-12 15:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ed7c124772dafc9c243601353c8b463245403bd5', 'message': 'use payloads for PORT AFTER_DELETE event\n\nneutron side: https://review.opendev.org/c/openstack/neutron/+/797004\n\nChange-Id: I76c0523234568be7c9efa20ad3f050fdfe1b2e08\n'}, {'number': 3, 'created': '2021-07-13 06:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/6c7d88a6fafbe8e8da0ce26391b7d2e8886315c5', 'message': 'use payloads for PORT AFTER_DELETE and AFTER_UPDATE events\n\nneutron side: https://review.opendev.org/c/openstack/neutron/+/797004\n\nChange-Id: I76c0523234568be7c9efa20ad3f050fdfe1b2e08\n'}, {'number': 4, 'created': '2021-07-26 12:31:22.000000000', 'files': ['networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py', 'networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7177e29e00e6deb4142c5a7acff51017ae7556b7', 'message': 'use payloads for PORT AFTER_DELETE and AFTER_UPDATE events\n\nneutron side: https://review.opendev.org/c/openstack/neutron/+/797004\n\nChange-Id: I76c0523234568be7c9efa20ad3f050fdfe1b2e08\n'}]",2,800500,7177e29e00e6deb4142c5a7acff51017ae7556b7,21,5,4,8313,,,0,"use payloads for PORT AFTER_DELETE and AFTER_UPDATE events

neutron side: https://review.opendev.org/c/openstack/neutron/+/797004

Change-Id: I76c0523234568be7c9efa20ad3f050fdfe1b2e08
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/00/800500/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe.py'],1,b2116f0cac2463fc32abeadbc3678d6f61edab7c,port_after_delete," def registry_port_deleted(self, resource, event, trigger, payload): try: context = payload.context port = payload.latest_state payload, e)"," def registry_port_deleted(self, resource, event, trigger, **kwargs): try: context = kwargs['context'] port = kwargs['port'] kwargs, e)",4,4
openstack%2Foslo.db~stable%2Fussuri~I07b577f4e948c03d1751145e5f898b90ac1c197a,openstack/oslo.db,stable/ussuri,I07b577f4e948c03d1751145e5f898b90ac1c197a,Remove lower-constraints remnants,MERGED,2021-07-07 12:48:34.000000000,2021-08-06 11:32:56.000000000,2021-08-06 11:31:27.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-07 12:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/de60b17e9b4a4c4633beb6e8354f8fbc714b9673', 'message': 'Remove lower-constraints remnants\n\nThese were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n\nChange-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a\n(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)\n'}, {'number': 2, 'created': '2021-07-28 14:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/14709ec56353f829dc1c21ef13d92f02e4c8e447', 'message': 'Remove lower-constraints remnants\n\nThese were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n\nConflicts:\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are because the constraints are different.\n\nChange-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a\n(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)\n(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)\n(cherry picked from commit 1e40b7c4f3accd15dc48130b148141ae2740474c)\n'}, {'number': 3, 'created': '2021-08-06 07:42:30.000000000', 'files': ['lower-constraints.txt', 'tox.ini', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/d15545a7b3b745d8c23bcb5842b28ee0fecc6f66', 'message': 'Remove lower-constraints remnants\n\nThese were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n\nConflicts:\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are because the constraints are different.\n\n(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)\n(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)\n(cherry picked from commit 1e40b7c4f3accd15dc48130b148141ae2740474c)\n\nNOTE(ajya): Added to fix mysql8 support for requirements-check job\n(cherry picked from commit 7af699e72802817d5a19fc0c4e016f6aeb9dce1c)\n\nChange-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a\n'}]",1,799813,d15545a7b3b745d8c23bcb5842b28ee0fecc6f66,15,3,3,27909,,,0,"Remove lower-constraints remnants

These were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65

Conflicts:
  lower-constraints.txt

NOTE(stephenfin): Conflicts are because the constraints are different.

(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)
(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)
(cherry picked from commit 1e40b7c4f3accd15dc48130b148141ae2740474c)

NOTE(ajya): Added to fix mysql8 support for requirements-check job
(cherry picked from commit 7af699e72802817d5a19fc0c4e016f6aeb9dce1c)

Change-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/13/799813/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,de60b17e9b4a4c4633beb6e8354f8fbc714b9673,oslo_lc_drop,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,72
openstack%2Foslo.db~stable%2Ftrain~I07b577f4e948c03d1751145e5f898b90ac1c197a,openstack/oslo.db,stable/train,I07b577f4e948c03d1751145e5f898b90ac1c197a,Remove lower-constraints remnants,MERGED,2021-07-28 14:47:50.000000000,2021-08-06 11:15:25.000000000,2021-08-06 11:13:52.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27909}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-28 14:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c32a07bd44307192dbc7c3965d4d773817854d5b', 'message': 'Remove lower-constraints remnants\n\nThese were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n\nConflicts:\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are because the constraints and tox.ini are\nslightly different\n\nChange-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a\n(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)\n(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)\n(cherry picked from commit 1e40b7c4f3accd15dc48130b148141ae2740474c)\n(cherry picked from commit 14709ec56353f829dc1c21ef13d92f02e4c8e447)\n'}, {'number': 2, 'created': '2021-08-06 07:47:13.000000000', 'files': ['lower-constraints.txt', 'tox.ini', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4e16d837629c935e1a12f3bb55c77e1f64289ce0', 'message': 'Remove lower-constraints remnants\n\nThese were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n\nConflicts:\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are because the constraints and tox.ini are\nslightly different\n\n(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)\n(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)\n(cherry picked from commit 1e40b7c4f3accd15dc48130b148141ae2740474c)\n(cherry picked from commit d15545a7b3b745d8c23bcb5842b28ee0fecc6f66)\n\nNOTE(ajya): Added to fix mysql8 support for requirements-check job\n(cherry picked from commit 7af699e72802817d5a19fc0c4e016f6aeb9dce1c)\nChange-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a\n'}]",0,802731,4e16d837629c935e1a12f3bb55c77e1f64289ce0,10,4,2,15334,,,0,"Remove lower-constraints remnants

These were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65

Conflicts:
  lower-constraints.txt

NOTE(stephenfin): Conflicts are because the constraints and tox.ini are
slightly different

(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)
(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)
(cherry picked from commit 1e40b7c4f3accd15dc48130b148141ae2740474c)
(cherry picked from commit d15545a7b3b745d8c23bcb5842b28ee0fecc6f66)

NOTE(ajya): Added to fix mysql8 support for requirements-check job
(cherry picked from commit 7af699e72802817d5a19fc0c4e016f6aeb9dce1c)
Change-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/31/802731/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,c32a07bd44307192dbc7c3965d4d773817854d5b,oslo_lc_drop,, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,78
openstack%2Fpuppet-ironic~stable%2Fvictoria~Ia30aff290ec24972f387612851f8f630ddc9403b,openstack/puppet-ironic,stable/victoria,Ia30aff290ec24972f387612851f8f630ddc9403b,Clean up ipxe support,MERGED,2021-07-27 02:52:59.000000000,2021-08-06 11:12:45.000000000,2021-08-06 11:11:25.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 02:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/d3b6f0055eb69beb099509a835cea01c746d85c9', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit 918b3116634d1be812aa5e0359eff9119ffe87a6\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n(cherry picked from commit d7d0f7042e5828c2da2ae7b91444feebcd0835d8)\n""}, {'number': 2, 'created': '2021-07-27 14:11:40.000000000', 'files': ['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/pxe-cleanup-692c78cad322893d.yaml', 'manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/cc46b445a8773d80be42d8598c1f27c8ea193f92', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit d99a51d17b7ae254d03225dd763f56cd90465bcb\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n(cherry picked from commit 7cc374a063c84d56a5d971776e46a6157636f552)\n""}]",0,802347,cc46b445a8773d80be42d8598c1f27c8ea193f92,22,6,2,9816,,,0,"Clean up ipxe support

The puppet-ironic module's ipxe support does not align with current
versions of ironic which delineated ipxe and pxe support quite some
time ago.

This is an attempt to reconcile this.

Conflicts:
	manifests/pxe.pp

Backport notes:
- This change includes the following follow-up commits.

    Make ipxe bootfile name configurable
    commit d99a51d17b7ae254d03225dd763f56cd90465bcb

    Fix incorrect handling/update about deprecated parameters
    commit b307c40f353d6f8e965e9c9d52382fe7b0145043

    Fix usage of ironic::pxe::common
    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c

- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to
  be aligned with the default in ironic stable/wallaby (and older).

- The ip_version parameter is not depecated by this backport because
  the parameter is still valid.

- The change in default values were reverted as much as possible.

Change-Id: Ia30aff290ec24972f387612851f8f630ddc9403b
(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)
(cherry picked from commit 7cc374a063c84d56a5d971776e46a6157636f552)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/47/802347/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ipxe_bootfile_name-4f4dbc874f1c2e63.yaml', 'manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/pxe-cleanup-692c78cad322893d.yaml', 'manifests/pxe.pp']",5,d3b6f0055eb69beb099509a835cea01c746d85c9,ipxe-fix-v,"# [*ipxe_bootfile_name*] # (optional) Name of efi file used to boot servers with iPXE + UEFI. This # should be consistent with the uefi_ipxe_bootfile_name parameter in pxe # driver. # Defaults to 'ipxe.efi' # $package_ensure = 'present', $tftp_root = '/tftpboot', $http_root = '/httpboot', $http_port = '8088', $syslinux_path = $::ironic::params::syslinux_path, $syslinux_files = $::ironic::params::syslinux_files, $tftp_bind_host = undef, $enable_ppc64le = false, $ipxe_name_base = 'ipxe', $ipxe_bootfile_name = 'ipxe.efi' file { ""${tftp_root_real}/${ipxe_bootfile_name}"":"," $package_ensure = 'present', $tftp_root = '/tftpboot', $http_root = '/httpboot', $http_port = '8088', $syslinux_path = $::ironic::params::syslinux_path, $syslinux_files = $::ironic::params::syslinux_files, $tftp_bind_host = undef, $enable_ppc64le = false, $ipxe_name_base = 'ipxe', file { ""${tftp_root_real}/ipxe.efi"":",120,59
openstack%2Ftripleo-heat-templates~master~I08fedd65bb4c97bbd73bf966ae763e4cdedebab2,openstack/tripleo-heat-templates,master,I08fedd65bb4c97bbd73bf966ae763e4cdedebab2,[ovn]: Enable network logging in neutron service plugins,MERGED,2021-02-25 10:53:29.000000000,2021-08-06 10:57:30.000000000,2021-03-08 15:08:23.000000000,"[{'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-02-25 10:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28eb7fe70b86d620658370104b8f41bf2b638162', 'message': ""[ovn]: Enable network logging in neutron service plugins\n\nNeutronServicePlugins needs to include 'log' in order to support\nthe security-group logging functionality.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/768129\nChange-Id: I08fedd65bb4c97bbd73bf966ae763e4cdedebab2\nRelated-Bug: #1914757\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n""}, {'number': 2, 'created': '2021-03-04 15:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f487ed130a2fb6188259a7ec207bbdbb9fb8c31', 'message': ""[ovn]: Enable network logging in neutron service plugins\n\nNeutronServicePlugins needs to include 'log' in order to support\nthe security-group logging functionality.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/768129\nChange-Id: I08fedd65bb4c97bbd73bf966ae763e4cdedebab2\nRelated-Bug: #1914757\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n""}, {'number': 3, 'created': '2021-03-04 15:07:09.000000000', 'files': ['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'releasenotes/notes/ovn-security-group-logging-0542b777ea58b5f6.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'deployment/neutron/neutron-base.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db270e91f4ebe91fc6d0be5482f47f82ad766b5e', 'message': ""[ovn]: Enable network logging in neutron service plugins\n\nNeutronServicePlugins needs to include 'log' in order to support\nthe security-group logging functionality.\n\nAlso added log to deployment/neutron/neutron-base.yaml as part of\nthe default NeutronServicePlugins.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/768129\nChange-Id: I08fedd65bb4c97bbd73bf966ae763e4cdedebab2\nRelated-Bug: #1914757\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n""}]",0,777567,db270e91f4ebe91fc6d0be5482f47f82ad766b5e,25,8,3,11952,,,0,"[ovn]: Enable network logging in neutron service plugins

NeutronServicePlugins needs to include 'log' in order to support
the security-group logging functionality.

Also added log to deployment/neutron/neutron-base.yaml as part of
the default NeutronServicePlugins.

Depends-On: https://review.opendev.org/c/openstack/neutron/+/768129
Change-Id: I08fedd65bb4c97bbd73bf966ae763e4cdedebab2
Related-Bug: #1914757
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/777567/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'releasenotes/notes/ovn-security-group-logging-0542b777ea58b5f6.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml']",6,28eb7fe70b86d620658370104b8f41bf2b638162,sglog/ovn," NeutronServicePlugins: 'qos,ovn-router,trunk,segments,port_forwarding,log'"," NeutronServicePlugins: 'qos,ovn-router,trunk,segments,port_forwarding'",11,5
openstack%2Fironic~bugfix%2F18.1~I4805d410b4bc98196e77d8c44a217e363dc88f0a,openstack/ironic,bugfix/18.1,I4805d410b4bc98196e77d8c44a217e363dc88f0a,Retry stdlib ssl.SSLError,MERGED,2021-08-06 07:48:27.000000000,2021-08-06 10:56:07.000000000,2021-08-06 10:54:30.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-06 07:48:27.000000000', 'files': ['releasenotes/notes/sslerror-287edf7f8b3c5f1c.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8bb6943e9659be85edf6410f7c60c357386b6337', 'message': ""Retry stdlib ssl.SSLError\n\nApparently, connection to the agent can fail with\n\n    Unexpected error when processing next clean step.\n    SSLError: ('timed out',): ssl.SSLError: ('timed out',)\n\nThis change adds SSLError to retriable errors since most of them are\nrelated to temporary conditions, and the certificate validation failure\nis handled by requests separately.\n\nChange-Id: I4805d410b4bc98196e77d8c44a217e363dc88f0a\n(cherry picked from commit 528eb9e4a99762dea5ef5e08f3dd42d459ce2d1c)\n""}]",0,803674,8bb6943e9659be85edf6410f7c60c357386b6337,9,2,1,10239,,,0,"Retry stdlib ssl.SSLError

Apparently, connection to the agent can fail with

    Unexpected error when processing next clean step.
    SSLError: ('timed out',): ssl.SSLError: ('timed out',)

This change adds SSLError to retriable errors since most of them are
related to temporary conditions, and the certificate validation failure
is handled by requests separately.

Change-Id: I4805d410b4bc98196e77d8c44a217e363dc88f0a
(cherry picked from commit 528eb9e4a99762dea5ef5e08f3dd42d459ce2d1c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/803674/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/sslerror-287edf7f8b3c5f1c.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,8bb6943e9659be85edf6410f7c60c357386b6337,sslerror-bugfix/18.1,"import ssl self.client.session.post.side_effect = [ requests.Timeout(error), ssl.SSLError('timed out'), requests.ConnectionError(error), requests.Timeout(error)] ssl.SSLError('timed out'),"," self.client.session.post.side_effect = [requests.Timeout(error), requests.Timeout(error), requests.Timeout(error), requests.Timeout(error)] requests.Timeout(error),",13,6
openstack%2Fpuppet-ironic~stable%2Fvictoria~I81e64148b3ad276633b84e436682fc1b78bfdd7f,openstack/puppet-ironic,stable/victoria,I81e64148b3ad276633b84e436682fc1b78bfdd7f,We shouldn't set pxe/ipxe_enabled in ironic config,MERGED,2021-07-27 02:52:04.000000000,2021-08-06 10:39:38.000000000,2021-08-06 10:39:38.000000000,"[{'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-27 02:52:04.000000000', 'files': ['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4ed1bec5f7b3fbaf612b2fa79234efe58d971624', 'message': ""We shouldn't set pxe/ipxe_enabled in ironic config\n\nThis parameter was removed a while ago [1]\n\n[1] https://review.opendev.org/c/openstack/ironic/+/696810\n\nChange-Id: I81e64148b3ad276633b84e436682fc1b78bfdd7f\n(cherry picked from commit 5daa9edd96eebde8b6866f362006fae46df27f6a)\n(cherry picked from commit fc299c77c9035f38168f587173b2d663097b4e2f)\n""}]",0,802346,4ed1bec5f7b3fbaf612b2fa79234efe58d971624,13,5,1,9816,,,0,"We shouldn't set pxe/ipxe_enabled in ironic config

This parameter was removed a while ago [1]

[1] https://review.opendev.org/c/openstack/ironic/+/696810

Change-Id: I81e64148b3ad276633b84e436682fc1b78bfdd7f
(cherry picked from commit 5daa9edd96eebde8b6866f362006fae46df27f6a)
(cherry picked from commit fc299c77c9035f38168f587173b2d663097b4e2f)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/46/802346/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb']",2,4ed1bec5f7b3fbaf612b2fa79234efe58d971624,ipxe-fix-v, is_expected.to contain_ironic_config('pxe/ipxe_enabled').with_ensure('absent'), is_expected.to contain_ironic_config('pxe/ipxe_enabled').with_value(false) is_expected.to contain_ironic_config('pxe/ipxe_enabled').with_value(true) is_expected.to contain_ironic_config('pxe/ipxe_enabled').with_value(p[:ipxe_enabled]),2,4
openstack%2Fpuppet-ironic~stable%2Fwallaby~Ia30aff290ec24972f387612851f8f630ddc9403b,openstack/puppet-ironic,stable/wallaby,Ia30aff290ec24972f387612851f8f630ddc9403b,Clean up ipxe support,MERGED,2021-07-21 01:21:02.000000000,2021-08-06 10:18:25.000000000,2021-08-06 10:16:54.000000000,"[{'_account_id': 4571}, {'_account_id': 9414}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-21 01:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/1d1f19c27b2f1e97c774b148d59325432b058dd5', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n""}, {'number': 2, 'created': '2021-07-22 15:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e7afd30d31947d320b13ba231f11f2cefcf7d397', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nConflicts:\n\tmanifests/pxe.pp\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n""}, {'number': 3, 'created': '2021-07-22 16:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/028a34ab78820d64d9c40fe6ae01afd88c21fccc', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport note 1:\nThis change includes the follow-up commit[1], which made name of ipxe\nboot filename configurable.\n\n[1] 918b3116634d1be812aa5e0359eff9119ffe87a6\n\nBackport note 2:\nThis change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to be\naligned with the default in ironic stable/wallaby (and older).\n\nBackport note 3:\nThe ip_version parameter is not depecated by this backport because\nthe parameter is still valid.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n""}, {'number': 4, 'created': '2021-07-22 17:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/58989c7ec0ea8860b2d6efdda942b35d5d4f2789', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit 918b3116634d1be812aa5e0359eff9119ffe87a6\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n""}, {'number': 5, 'created': '2021-07-22 17:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/cd610e52e11b35a4f891e1b583e75f71aea0205e', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- The following commits are squashed into this backport.\n\n    We shouldn't set pxe/ipxe_enabled in ironic config\n    commit 5daa9edd96eebde8b6866f362006fae46df27f6a\n\n    Make ipxe bootfile name configurable\n    commit 918b3116634d1be812aa5e0359eff9119ffe87a6\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n""}, {'number': 6, 'created': '2021-07-22 17:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9c4d043b1474feb80d93c4ecd3066264c22604ac', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit 918b3116634d1be812aa5e0359eff9119ffe87a6\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n""}, {'number': 7, 'created': '2021-07-22 17:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/d7d0f7042e5828c2da2ae7b91444feebcd0835d8', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit 918b3116634d1be812aa5e0359eff9119ffe87a6\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n""}, {'number': 8, 'created': '2021-07-27 14:10:40.000000000', 'files': ['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/pxe-cleanup-692c78cad322893d.yaml', 'manifests/pxe.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7cc374a063c84d56a5d971776e46a6157636f552', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this.\n\nConflicts:\n\tmanifests/pxe.pp\n\nBackport notes:\n- This change includes the following follow-up commits.\n\n    Make ipxe bootfile name configurable\n    commit d99a51d17b7ae254d03225dd763f56cd90465bcb\n\n    Fix incorrect handling/update about deprecated parameters\n    commit b307c40f353d6f8e965e9c9d52382fe7b0145043\n\n    Fix usage of ironic::pxe::common\n    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c\n\n- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to\n  be aligned with the default in ironic stable/wallaby (and older).\n\n- The ip_version parameter is not depecated by this backport because\n  the parameter is still valid.\n\n- The change in default values were reverted as much as possible.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)\n""}]",4,801484,7cc374a063c84d56a5d971776e46a6157636f552,26,8,8,9816,,,0,"Clean up ipxe support

The puppet-ironic module's ipxe support does not align with current
versions of ironic which delineated ipxe and pxe support quite some
time ago.

This is an attempt to reconcile this.

Conflicts:
	manifests/pxe.pp

Backport notes:
- This change includes the following follow-up commits.

    Make ipxe bootfile name configurable
    commit d99a51d17b7ae254d03225dd763f56cd90465bcb

    Fix incorrect handling/update about deprecated parameters
    commit b307c40f353d6f8e965e9c9d52382fe7b0145043

    Fix usage of ironic::pxe::common
    commit c21b1e8db6ece50f19c09b38ead3f7d5ec84249c

- This change keeps default of uefi_ipxe_bootfile_name to ipxe.efi to
  be aligned with the default in ironic stable/wallaby (and older).

- The ip_version parameter is not depecated by this backport because
  the parameter is still valid.

- The change in default values were reverted as much as possible.

Change-Id: Ia30aff290ec24972f387612851f8f630ddc9403b
(cherry picked from commit 3864e15998b5b1eec7d2b1b4911add9bb899fdb8)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/84/801484/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/pxe-cleanup-692c78cad322893d.yaml', 'manifests/pxe.pp', 'spec/classes/ironic_pxe_spec.rb']",5,1d1f19c27b2f1e97c774b148d59325432b058dd5,ipxe-fix-w, is_expected.to contain_file('/var/lib/tftpboot/snponly.efi').with(, is_expected.to contain_file('/var/lib/tftpboot/ipxe.efi').with(,122,67
openstack%2Fpuppet-ironic~master~I703e5a74c66a8b927f7edcdba569a729cfb134f9,openstack/puppet-ironic,master,I703e5a74c66a8b927f7edcdba569a729cfb134f9,Add support for policy settings of ironic-inspector,MERGED,2021-08-05 01:48:27.000000000,2021-08-06 10:01:16.000000000,2021-08-06 09:59:03.000000000,"[{'_account_id': 10239}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 01:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3bb7489d2f7f93f1ac9f12e77145dd7801f90118', 'message': 'Add support for policy settings of ironic-inspector\n\nChange-Id: I703e5a74c66a8b927f7edcdba569a729cfb134f9\n'}, {'number': 2, 'created': '2021-08-05 01:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e857166e23ef616d28a2835b398eaae80c333bac', 'message': 'Add support for policy settings of ironic-inspector\n\nChange-Id: I703e5a74c66a8b927f7edcdba569a729cfb134f9\n'}, {'number': 3, 'created': '2021-08-05 01:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b84c73d8b7205c9e1b05698bdb317d88a4d99425', 'message': 'Add support for policy settings of ironic-inspector\n\nChange-Id: I703e5a74c66a8b927f7edcdba569a729cfb134f9\n'}, {'number': 4, 'created': '2021-08-05 01:53:29.000000000', 'files': ['releasenotes/notes/ironic-inspector-policy-a2573003212dd2be.yaml', 'manifests/inspector.pp', 'manifests/inspector/policy.pp', 'spec/classes/ironic_inspector_policy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/1e45c9952043e14b19c7a546d62dce95331e6123', 'message': 'Add support for policy settings of ironic-inspector\n\nChange-Id: I703e5a74c66a8b927f7edcdba569a729cfb134f9\n'}]",0,803535,1e45c9952043e14b19c7a546d62dce95331e6123,13,3,4,9816,,,0,"Add support for policy settings of ironic-inspector

Change-Id: I703e5a74c66a8b927f7edcdba569a729cfb134f9
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/35/803535/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ironic-inspector-policy-a2573003212dd2be.yaml', 'manifests/inspector/policy.pp', 'spec/classes/ironic_inspector_policy_spec.rb']",3,3bb7489d2f7f93f1ac9f12e77145dd7801f90118,inspector-policy,"require 'spec_helper' describe 'ironic::inspector::policy' do shared_examples 'ironic::inspector::policy' do let :params do { :enforce_scope => false, :enforce_new_defaults => false, :policy_path => '/etc/ironic-inspector/policy.yaml', :policy_dirs => '/etc/ironic-inspector/policy.d', :policies => { 'context_is_admin' => { 'key' => 'context_is_admin', 'value' => 'foo:bar' } } } end it 'set up the policies' do is_expected.to contain_openstacklib__policy__base('context_is_admin').with({ :key => 'context_is_admin', :value => 'foo:bar', :file_user => 'root', :file_group => 'ironic', :file_format => 'yaml', }) is_expected.to contain_oslo__policy('ironic_inspector_config').with( :enforce_scope => false, :enforce_new_defaults => false, :policy_file => '/etc/ironic-inspector/policy.yaml', :policy_dirs => '/etc/ironic-inspector/policy.d', ) end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'ironic::inspector::policy' end end end ",,121,0
openstack%2Fpuppet-ironic~master~I27fa53700c1b44f14725bc66b929732553da58f8,openstack/puppet-ironic,master,I27fa53700c1b44f14725bc66b929732553da58f8,Fix ppc64le support to coexist with PXE preference,MERGED,2021-08-05 02:39:39.000000000,2021-08-06 10:00:16.000000000,2021-08-06 09:59:02.000000000,"[{'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 02:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/555dc695a1ac143bae5649c49364ca71f40897f0', 'message': ""Fix ppc64le support to coexist with PXE preference\n\nIn essence, the pxe preference doesn't apply to ppc64le.\n\nThis is because PXE data loading is part of the firmware and\ndoes not use an intermediate boot loader like ipxe, syslinux,\nor even grub.\n\nChanges the logic to always set the stage for PXE based\ndeployments and enables boot setting awareness for ppc64le\nbased on the TFTP defaults. This allows ppc64le to coexist\nwith an environment preferring HTTP transport like those\nused with iPXE.\n\nChange-Id: I27fa53700c1b44f14725bc66b929732553da58f8\n""}, {'number': 2, 'created': '2021-08-05 13:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e6c45dabe963f56e0dcdc919e13626c5871fc90f', 'message': ""Fix ppc64le support to coexist with PXE preference\n\nIn essence, the pxe preference doesn't apply to ppc64le.\n\nThis is because PXE data loading is part of the firmware and\ndoes not use an intermediate boot loader like ipxe, syslinux,\nor even grub.\n\nChanges the logic to always set the stage for PXE based\ndeployments and enables boot setting awareness for ppc64le\nbased on the TFTP defaults. This allows ppc64le to coexist\nwith an environment preferring HTTP transport like those\nused with iPXE.\n\nChange-Id: I27fa53700c1b44f14725bc66b929732553da58f8\n""}, {'number': 3, 'created': '2021-08-05 13:59:34.000000000', 'files': ['spec/classes/ironic_inspector_spec.rb', 'manifests/inspector.pp', 'releasenotes/notes/support-ppc64le-with-http-default-transport-a7b179f6526b8047.yaml', 'templates/inspector_dnsmasq_http.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/da503fd5ceabb5bd466e45f1da51442ef66d8ce7', 'message': ""Fix ppc64le support to coexist with PXE preference\n\nIn essence, the pxe preference doesn't apply to ppc64le.\n\nThis is because PXE data loading is part of the firmware and\ndoes not use an intermediate boot loader like ipxe, syslinux,\nor even grub.\n\nChanges the logic to always set the stage for PXE based\ndeployments and enables boot setting awareness for ppc64le\nbased on the TFTP defaults. This allows ppc64le to coexist\nwith an environment preferring HTTP transport like those\nused with iPXE.\n\nChange-Id: I27fa53700c1b44f14725bc66b929732553da58f8\n""}]",4,803537,da503fd5ceabb5bd466e45f1da51442ef66d8ce7,15,4,3,11655,,,0,"Fix ppc64le support to coexist with PXE preference

In essence, the pxe preference doesn't apply to ppc64le.

This is because PXE data loading is part of the firmware and
does not use an intermediate boot loader like ipxe, syslinux,
or even grub.

Changes the logic to always set the stage for PXE based
deployments and enables boot setting awareness for ppc64le
based on the TFTP defaults. This allows ppc64le to coexist
with an environment preferring HTTP transport like those
used with iPXE.

Change-Id: I27fa53700c1b44f14725bc66b929732553da58f8
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/37/803537/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_spec.rb', 'manifests/inspector.pp', 'releasenotes/notes/support-ppc64le-with-http-default-transport-a7b179f6526b8047.yaml', 'templates/inspector_dnsmasq_http.erb']",4,555dc695a1ac143bae5649c49364ca71f40897f0,,"<% if @enable_ppc64le -%> # Client is ppc64le (OPAL) box and doesn't need a chain loader, but does need a custom config dhcp-match=set:ppc64le,option:client-arch,14 dhcp-boot=tag:ppc64le, dhcp-option=tag:ppc64le, 210,<%= @tftp_root_real %>/ppc64le/ dhcp-option=tag:ppc64le, 209,default <% end -%>",,89,19
openstack%2Fironic~master~I81907be1ebc293118f5ffde4fd4d0485ade390df,openstack/ironic,master,I81907be1ebc293118f5ffde4fd4d0485ade390df,Fix subscription vendor passthru,MERGED,2021-08-05 11:06:53.000000000,2021-08-06 10:00:09.000000000,2021-08-06 09:58:26.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-05 11:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec25170464f3fbc9ce44907a92738061c040a8af', 'message': ""Fix delete subscription\n\nWhen trying to delete a subscription that doesn't exist Ironic\nreturns 500 (default code from IronicException), this commit updates\nthe code to 404 to show that the subscription doesn't exist.\n\nChange-Id: I81907be1ebc293118f5ffde4fd4d0485ade390df\n""}, {'number': 2, 'created': '2021-08-05 13:16:53.000000000', 'files': ['releasenotes/notes/fix-subscription-vendor-passthru-5a9af3613c0cbebc.yaml', 'ironic/drivers/modules/redfish/vendor.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a8bbfae5aaf66284bc2a060d7a90ac9384eeb34d', 'message': ""Fix subscription vendor passthru\n\n* Instead of specifying the fields we want to oomit from create/get\nsubscription, now we are specifying the fields we want to be returned\n(This will avoid problems when vendors are using different versions)\n\n* When validating create_subscription are requiring that Context and\nProtocol are present, use the default value from Redfish in case\nthey are not present in the Body request.\n\n* When trying to delete a subscription that doesn't exist Ironic\nreturns 500 (default code from IronicException), this commit updates\nthe code to 404 to show that the subscription doesn't exist.\n\nChange-Id: I81907be1ebc293118f5ffde4fd4d0485ade390df\n""}]",0,803586,a8bbfae5aaf66284bc2a060d7a90ac9384eeb34d,17,3,2,15519,,,0,"Fix subscription vendor passthru

* Instead of specifying the fields we want to oomit from create/get
subscription, now we are specifying the fields we want to be returned
(This will avoid problems when vendors are using different versions)

* When validating create_subscription are requiring that Context and
Protocol are present, use the default value from Redfish in case
they are not present in the Body request.

* When trying to delete a subscription that doesn't exist Ironic
returns 500 (default code from IronicException), this commit updates
the code to 404 to show that the subscription doesn't exist.

Change-Id: I81907be1ebc293118f5ffde4fd4d0485ade390df
",git fetch https://review.opendev.org/openstack/ironic refs/changes/86/803586/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/vendor.py', 'releasenotes/notes/fix-delete-subscription-c2d32b72088cab48.yaml']",2,ec25170464f3fbc9ce44907a92738061c040a8af,fix_http_code_delete_subscription,--- fixes: - | Fix the error code returned by ``delete_subscription`` vendor passthru method when the subscription does not exist. ,,7,2
openstack%2Fnova~master~I92f35514efddcb071c7094370b79d91d34c5bc72,openstack/nova,master,I92f35514efddcb071c7094370b79d91d34c5bc72,compute: Avoid duplicate BDMs during reserve_block_device_name,MERGED,2021-07-23 08:48:30.000000000,2021-08-06 09:59:33.000000000,2021-08-06 09:57:34.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29074}]","[{'number': 1, 'created': '2021-07-23 08:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f8b249ece2755e3fe9147fcef41139fc5601961', 'message': 'Fix duplicate BDMs in compute manager\n\nWhen attaching a volume to a running instance the nova-api validates that\nthe volume is not already attached to the instance. However nova-compute\nis responsible for actually creating the BDM entry in the database.\nIf sending attach requests fast enough it can be possible that the same\n""attach_volume"" request can be sent to nova-compute for the same\nvolume/instance combination.\n\nTo work around this we add a check in nova-compute to validate that\nthe volume has not been attached in the mean time.\n\nChange-Id: I92f35514efddcb071c7094370b79d91d34c5bc72\n'}, {'number': 2, 'created': '2021-07-23 12:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32c7e5f7b12a0821ca5f52f1cb9fa48289d94aab', 'message': 'Fix duplicate BDMs in compute manager\n\nWhen attaching a volume to a running instance the nova-api validates that\nthe volume is not already attached to the instance. However nova-compute\nis responsible for actually creating the BDM entry in the database.\nIf sending attach requests fast enough it can be possible that the same\n""attach_volume"" request can be sent to nova-compute for the same\nvolume/instance combination.\n\nTo work around this we add a check in nova-compute to validate that\nthe volume has not been attached in the mean time.\n\nCloses-Bug: #1937375\nChange-Id: I92f35514efddcb071c7094370b79d91d34c5bc72\n'}, {'number': 3, 'created': '2021-07-23 13:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c66063d7ed5b1c46632f008a3a65c7685d0b983', 'message': 'compute: Avoid duplicate BDMs during reserve_block_device_name\n\nWhen attaching a volume to a running instance the nova-api validates that\nthe volume is not already attached to the instance. However nova-compute\nis responsible for actually creating the BDM entry in the database.\nIf sending attach requests fast enough it can be possible that the same\n""attach_volume"" request can be sent to nova-compute for the same\nvolume/instance combination.\n\nTo work around this we add a check in nova-compute to validate that\nthe volume has not been attached in the mean time.\n\nCloses-Bug: #1937375\nChange-Id: I92f35514efddcb071c7094370b79d91d34c5bc72\n'}, {'number': 4, 'created': '2021-07-26 06:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d6e5517f69a9fc01922a5616070a4d629638118', 'message': 'compute: Avoid duplicate BDMs during reserve_block_device_name\n\nWhen attaching a volume to a running instance the nova-api validates\nthat the volume is not already attached to the instance. However\nnova-compute is responsible for actually creating the BDM entry in the\ndatabase. If sending attach requests fast enough it can be possible\nthat the same ""attach_volume"" request can be sent to nova-compute for\nthe same volume/instance combination.\n\nTo work around this we add a check in nova-compute to validate that\nthe volume has not been attached in the mean time.\n\nCloses-Bug: #1937375\nChange-Id: I92f35514efddcb071c7094370b79d91d34c5bc72\n'}, {'number': 5, 'created': '2021-07-27 20:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39ff1d16dc0045f1b8709e1af9fd5d7e2feef45e', 'message': 'compute: Avoid duplicate BDMs during reserve_block_device_name\n\nWhen attaching a volume to a running instance the nova-api validates\nthat the volume is not already attached to the instance. However\nnova-compute is responsible for actually creating the BDM entry in the\ndatabase. If sending attach requests fast enough it can be possible\nthat the same ""attach_volume"" request can be sent to nova-compute for\nthe same volume/instance combination.\n\nTo work around this we add a check in nova-compute to validate that\nthe volume has not been attached in the mean time.\n\nCloses-Bug: #1937375\nChange-Id: I92f35514efddcb071c7094370b79d91d34c5bc72\n'}, {'number': 6, 'created': '2021-08-04 11:37:53.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1937375.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2209b0007fe85d7c5439e0bfdfe2120c63898fa2', 'message': 'compute: Avoid duplicate BDMs during reserve_block_device_name\n\nWhen attaching a volume to a running instance the nova-api validates\nthat the volume is not already attached to the instance. However\nnova-compute is responsible for actually creating the BDM entry in the\ndatabase. If sending attach requests fast enough it can be possible\nthat the same ""attach_volume"" request can be sent to nova-compute for\nthe same volume/instance combination.\n\nTo work around this we add a check in nova-compute to validate that\nthe volume has not been attached in the mean time.\n\nCloses-Bug: #1937375\nChange-Id: I92f35514efddcb071c7094370b79d91d34c5bc72\n'}]",13,801990,2209b0007fe85d7c5439e0bfdfe2120c63898fa2,75,5,6,29074,,,0,"compute: Avoid duplicate BDMs during reserve_block_device_name

When attaching a volume to a running instance the nova-api validates
that the volume is not already attached to the instance. However
nova-compute is responsible for actually creating the BDM entry in the
database. If sending attach requests fast enough it can be possible
that the same ""attach_volume"" request can be sent to nova-compute for
the same volume/instance combination.

To work around this we add a check in nova-compute to validate that
the volume has not been attached in the mean time.

Closes-Bug: #1937375
Change-Id: I92f35514efddcb071c7094370b79d91d34c5bc72
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/801990/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,8f8b249ece2755e3fe9147fcef41139fc5601961,bug/1937375," if any(b for b in bdms if b.volume_id == volume_id): msg = _(""volume %s already attached"") % volume_id raise exception.InvalidVolume(reason=msg) ",,27,0
openstack%2Fproject-config~master~I4ffa8eaf6c6037ca4bae6fecfb76b4067f52749c,openstack/project-config,master,I4ffa8eaf6c6037ca4bae6fecfb76b4067f52749c,Allow elastic-recheck cores to create branches,MERGED,2021-08-04 13:15:08.000000000,2021-08-06 09:51:25.000000000,2021-08-06 09:22:19.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-08-04 13:15:08.000000000', 'files': ['gerrit/acls/opendev/elastic-recheck.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bc73dc887c6631aaf260be8bdd07bb662fb90738', 'message': 'Allow elastic-recheck cores to create branches\n\nChange-Id: I4ffa8eaf6c6037ca4bae6fecfb76b4067f52749c\n'}]",0,803473,bc73dc887c6631aaf260be8bdd07bb662fb90738,12,4,1,24162,,,0,"Allow elastic-recheck cores to create branches

Change-Id: I4ffa8eaf6c6037ca4bae6fecfb76b4067f52749c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/803473/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/opendev/elastic-recheck.config'],1,bc73dc887c6631aaf260be8bdd07bb662fb90738,,create = group elastic-recheck-core,,1,0
openstack%2Fskyline-console~master~I633fbc90ae42234e50d4176224866fb1d5e4e7af,openstack/skyline-console,master,I633fbc90ae42234e50d4176224866fb1d5e4e7af,docs: Add en readme,MERGED,2021-08-06 09:10:29.000000000,2021-08-06 09:23:54.000000000,2021-08-06 09:23:54.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 09:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/fc071198587151022bf32bd95412fa621e90cef6', 'message': 'docs: Add en readme\n\nAdd en readme\n\nChange-Id: I633fbc90ae42234e50d4176224866fb1d5e4e7af\n'}, {'number': 2, 'created': '2021-08-06 09:15:29.000000000', 'files': ['README-zh_CN.md', 'Makefile', 'README.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/605f31a61b4f1e21cf239d0d086501ffe83b941f', 'message': 'docs: Add en readme\n\nAdd en readme\n\nChange-Id: I633fbc90ae42234e50d4176224866fb1d5e4e7af\n'}]",0,803715,605f31a61b4f1e21cf239d0d086501ffe83b941f,8,2,2,30434,,,0,"docs: Add en readme

Add en readme

Change-Id: I633fbc90ae42234e50d4176224866fb1d5e4e7af
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/15/803715/2 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'Makefile', 'README.md']",3,fc071198587151022bf32bd95412fa621e90cef6,,"# Instructions [](./README-zh_CN.md)| English ## Prerequisites## Local Environment Take CentOS as an example - Install nvm ( version control system for nodejs )- Install nodejs- Verify nodejs and npm versions- Install yarn- Install the project dependency under the root directory, with `package.json`in the same place. After those steps, please just wait until the installation is complete. ## Usage Under the root directory, with `package.json` in the same place. - `yarn run mock`: Use the mock interface of [rap2](http://rap2.taobao.org/) - `yarn run dev`: To use the actual interfaceplease change the ""http://pre.xxx.com"" in line 47 into the real address in file `webpack.dev.js`. - `yarn run build`: Build packages and then you can hand over the contents of the generated _dist_ directory to the back end.","#   | [English](./en.md) ## ##   CentOS  -  nvm (nodejs )-  nodejs-  nodejs  npm -  yarn-  `package.json`  ##  `package.json` - `yarn run mock`: [rap2](http://rap2.taobao.org/) mock  - `yarn run dev`: `webpack.dev.js` 47  ""http://pre.xxx.com""  - `yarn run build`:  dist ",84,19
openstack%2Ftripleo-ansible~master~Ia97533c0b8b3b8498a173e1d363323dcdc77cce4,openstack/tripleo-ansible,master,Ia97533c0b8b3b8498a173e1d363323dcdc77cce4,Set ganesha_vip when no StoragetNFS network,MERGED,2021-08-01 15:28:37.000000000,2021-08-06 09:10:51.000000000,2021-08-06 00:00:55.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-01 15:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cf1cd433010cfb3f140dd69cfad1932078a0f47b', 'message': 'Set ganesha_vip when no StoragetNFS network\n\nis deployed.\n\nNormally when Ganesha is deployed for CephFS through NFS,\nthe StorageNFS isolated network is deployed and we set\nthe address for ganesha_vip on that network.  But with\nStandalone role the StorageNFS network is not deployed\nso ganesha_vip is not set in the tripleo hieradata unless\nit is provided by extra config.\n\nSet it to net_vip_map.external in the event that it has\nnot been set on the StorageNFS network.  Note that external\nis chosen rather than ctlplane since the VIP must be reachable\nfrom compute instances, guest VMs, that should have no access\nto the ctlplane network.\n\nCloses-Bug: #1911022\nChange-Id: Ia97533c0b8b3b8498a173e1d363323dcdc77cce4\n'}, {'number': 2, 'created': '2021-08-02 11:19:07.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0aceca00e76e967ee9b5efc30da0bc3ee23acb2e', 'message': 'Set ganesha_vip when no StoragetNFS network\n\nis deployed.\n\nNormally when Ganesha is deployed for CephFS through NFS,\nthe StorageNFS isolated network is deployed and we set\nthe address for ganesha_vip on that network.  But with\nStandalone role the StorageNFS network is not deployed\nso ganesha_vip is not set in the tripleo hieradata unless\nit is provided by extra config.\n\nSet it to net_vip_map.external in the event that it has\nnot been set on the StorageNFS network.  Note that external\nis chosen rather than ctlplane since the VIP must be reachable\nfrom compute instances, guest VMs, that should have no access\nto the ctlplane network.\n\nCloses-Bug: #1911022\nChange-Id: Ia97533c0b8b3b8498a173e1d363323dcdc77cce4\n'}]",5,803119,0aceca00e76e967ee9b5efc30da0bc3ee23acb2e,19,8,2,9003,,,0,"Set ganesha_vip when no StoragetNFS network

is deployed.

Normally when Ganesha is deployed for CephFS through NFS,
the StorageNFS isolated network is deployed and we set
the address for ganesha_vip on that network.  But with
Standalone role the StorageNFS network is not deployed
so ganesha_vip is not set in the tripleo hieradata unless
it is provided by extra config.

Set it to net_vip_map.external in the event that it has
not been set on the StorageNFS network.  Note that external
is chosen rather than ctlplane since the VIP must be reachable
from compute instances, guest VMs, that should have no access
to the ctlplane network.

Closes-Bug: #1911022
Change-Id: Ia97533c0b8b3b8498a173e1d363323dcdc77cce4
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/803119/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2'],1,cf1cd433010cfb3f140dd69cfad1932078a0f47b,,"{% if not vip_data.ganesha_vip is defined %} {% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map.external)) %} {% endif %}",,3,0
openstack%2Fnova~master~Ifc211fadb3ca9c7c0a74d7dcd225bdb3f3008d26,openstack/nova,master,Ifc211fadb3ca9c7c0a74d7dcd225bdb3f3008d26,zuul: Mark live migration jobs as non-voting due to bug #1912310,MERGED,2021-08-05 10:59:27.000000000,2021-08-06 09:06:26.000000000,2021-08-05 18:11:53.000000000,"[{'_account_id': 7166}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 10:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc36b311846706f0ffcb0d66a7f00495b933c8a6', 'message': 'zuul: Skip volume and block live migrations due to bug #1912310\n\nBug #1912310 details an underlying QEMU live migration failure seen\nduring both volume backend and block migration based live migration\ntests in the nova-live-migration job. The failure rate is getting high\nenough now that we should skip these tests until this is resolved.\n\nChange-Id: Ifc211fadb3ca9c7c0a74d7dcd225bdb3f3008d26\nRelated-Bug: #1912310\n'}, {'number': 2, 'created': '2021-08-05 12:02:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/4e18f07670714af605c24448636e994f022c6589', 'message': 'zuul: Mark live migration jobs as non-voting due to bug #1912310\n\nBug #1912310 details an underlying QEMU live migration failure seen\nduring both volume backend and block migration based live migration\ntests in the nova-live-migration job. The failure rate is getting high\nenough now that we should mark these jobs as non-voting until it is\nresolved.\n\nChange-Id: Ifc211fadb3ca9c7c0a74d7dcd225bdb3f3008d26\nRelated-Bug: #1912310\n'}]",0,803585,4e18f07670714af605c24448636e994f022c6589,16,3,2,10135,,,0,"zuul: Mark live migration jobs as non-voting due to bug #1912310

Bug #1912310 details an underlying QEMU live migration failure seen
during both volume backend and block migration based live migration
tests in the nova-live-migration job. The failure rate is getting high
enough now that we should mark these jobs as non-voting until it is
resolved.

Change-Id: Ifc211fadb3ca9c7c0a74d7dcd225bdb3f3008d26
Related-Bug: #1912310
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/803585/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fc36b311846706f0ffcb0d66a7f00495b933c8a6,, # NOTE(lyarwood): Skip until bug #1912310 is resolved. volume_backed_live_migration: false block_migration_for_live_migration: false, volume_backed_live_migration: true block_migration_for_live_migration: true,3,2
openstack%2Frequirements~master~Id74408afda36f96209ad4804b9e40d94982aa984,openstack/requirements,master,Id74408afda36f96209ad4804b9e40d94982aa984,Update constraint for decorator to 5.0.9,ABANDONED,2021-07-01 14:22:49.000000000,2021-08-06 08:50:41.000000000,,"[{'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-01 14:22:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/77ae7135b7fd82e9c8b9a6544e16f424cda3ef15', 'message': 'Update constraint for decorator to 5.0.9\n\nThis was released in May, but we never saw a bump proposal.\n\nChange-Id: Id74408afda36f96209ad4804b9e40d94982aa984\n'}]",0,799088,77ae7135b7fd82e9c8b9a6544e16f424cda3ef15,18,3,1,13294,,,0,"Update constraint for decorator to 5.0.9

This was released in May, but we never saw a bump proposal.

Change-Id: Id74408afda36f96209ad4804b9e40d94982aa984
",git fetch https://review.opendev.org/openstack/requirements refs/changes/88/799088/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,77ae7135b7fd82e9c8b9a6544e16f424cda3ef15,,decorator===5.0.9,decorator===4.4.2,1,1
openstack%2Fironic-specs~master~I4cd6a4bac0a0b31d7db19dc8ca8eca580e997f58,openstack/ironic-specs,master,I4cd6a4bac0a0b31d7db19dc8ca8eca580e997f58,"Repropose ""Add nodes tagging support"" spec",NEW,2021-05-27 07:51:03.000000000,2021-08-06 08:15:20.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 07:51:03.000000000', 'files': ['specs/approved/nodes-tagging.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1f45ef7235a602473b86c7c2bbfbcc61f8811ee9', 'message': 'Repropose ""Add nodes tagging support"" spec\n\nSigned-off-by: Armstrong Liu <vpbvmw651078@gmail.com>\nChange-Id: I4cd6a4bac0a0b31d7db19dc8ca8eca580e997f58\n'}]",0,793282,1f45ef7235a602473b86c7c2bbfbcc61f8811ee9,5,2,1,26580,,,0,"Repropose ""Add nodes tagging support"" spec

Signed-off-by: Armstrong Liu <vpbvmw651078@gmail.com>
Change-Id: I4cd6a4bac0a0b31d7db19dc8ca8eca580e997f58
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/82/793282/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/nodes-tagging.rst'],1,1f45ef7235a602473b86c7c2bbfbcc61f8811ee9,node_tags,"""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ OSC will be enhanced to support following operations: * ``openstack baremetal node tag list <node>``: Get list of tags from a node. * ``openstack baremetal node tag set <node> <tag> [<tag> ...]``: Set list of tags to a node. * ``openstack baremetal node tag add <node> <tag> [<tag> ...]``: Add one or more tags to a node. * ``openstack baremetal node tag delete <node> <tag> [<tag> ...]``: Delete one or more tags from a node. * ``openstack baremetal node tag delete all <node>``: Delete all tags from a node. Add tag filtering support to node list command: * ``openstack baremetal node list --tags <tags>`` * ``openstack baremetal node list --tags-any <tags-any>`` * ``openstack baremetal node list --not-tags <not-tags>`` * ``openstack baremetal node list --not-tags-any --not-tags-any`` Armstrong Liu <liuzhuangzhuang> vpbvmw651078@gmail.com Other contributors: None","Add tags CRUD operations commands: * ironic node-tag-list <node uuid> * ironic node-tag-update <node uuid> <op> <tags> <op> Operation: 'add' or 'remove' For individual tag: * ironic node-tag-add <node uuid> <tag> * ironic node-tag-remove <node uuid> <tag> Add tag-list filtering support to node-list command: * ironic node-list --tag tag1 --tag tag2 * ironic node-list --tag-any tag1 --tag-any tag2 * ironic node-list --not-tag tag3 Multiple --tag will be used to filter results in an AND expression, and --tag-any for OR expression, allowing for exclusionary tags via the --not-tag option.",17,16
openstack%2Fopenstack-tempest-skiplist~master~Ia9165e7107fb9fe0f80cf8a65f32ff9f68a725f5,openstack/openstack-tempest-skiplist,master,Ia9165e7107fb9fe0f80cf8a65f32ff9f68a725f5,"Revert ""Add TestNetworkBasicOps.test_subnet_details to skip list""",MERGED,2021-08-04 07:12:07.000000000,2021-08-06 07:57:59.000000000,2021-08-06 07:56:39.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 07:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/7b06f363e2757e852fa1fa954794525ff07e53f7', 'message': 'Revert ""Add TestNetworkBasicOps.test_subnet_details to skip list""\n\nThis reverts commit 70dfe3c0b1237fb659c8f53d802ab9bfe6ad39d4.\n\nReason for revert: This issue should be fixed with tempest patch [1]\n\n[1] https://review.opendev.org/c/openstack/tempest/+/802005\n\nChange-Id: Ia9165e7107fb9fe0f80cf8a65f32ff9f68a725f5\n'}, {'number': 2, 'created': '2021-08-04 07:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/db9690ac647b63c5e65dfad55e724182a546ac5a', 'message': 'Revert ""Add TestNetworkBasicOps.test_subnet_details to skip list""\n\nThis reverts commit 70dfe3c0b1237fb659c8f53d802ab9bfe6ad39d4.\n\nReason for revert: This issue should be fixed with tempest patch [1]\n\n[1] https://review.opendev.org/c/openstack/tempest/+/802005\n\nChange-Id: Ia9165e7107fb9fe0f80cf8a65f32ff9f68a725f5\n'}, {'number': 3, 'created': '2021-08-05 08:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/1542429e66683cd67f84788fb7fa0af2e1d7246f', 'message': 'Revert ""Add TestNetworkBasicOps.test_subnet_details to skip list""\n\nThis reverts commit 70dfe3c0b1237fb659c8f53d802ab9bfe6ad39d4.\n\nReason for revert: This issue should be fixed with tempest patch [1]\n\n[1] https://review.opendev.org/c/openstack/tempest/+/802005\nRelated-Bug: 1914229\nChange-Id: Ia9165e7107fb9fe0f80cf8a65f32ff9f68a725f5\n'}, {'number': 4, 'created': '2021-08-05 08:18:52.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/41bab564e221078ccf7f94f23aebd116dd59a4b0', 'message': 'Revert ""Add TestNetworkBasicOps.test_subnet_details to skip list""\n\nThis reverts commit 70dfe3c0b1237fb659c8f53d802ab9bfe6ad39d4.\n\nReason for revert: This issue should be fixed with tempest patch [1]\n\n[1] https://review.opendev.org/c/openstack/tempest/+/802005\nRelated-Bug: 1914229\nChange-Id: Ia9165e7107fb9fe0f80cf8a65f32ff9f68a725f5\n'}]",3,803432,41bab564e221078ccf7f94f23aebd116dd59a4b0,20,7,4,11975,,,0,"Revert ""Add TestNetworkBasicOps.test_subnet_details to skip list""

This reverts commit 70dfe3c0b1237fb659c8f53d802ab9bfe6ad39d4.

Reason for revert: This issue should be fixed with tempest patch [1]

[1] https://review.opendev.org/c/openstack/tempest/+/802005
Related-Bug: 1914229
Change-Id: Ia9165e7107fb9fe0f80cf8a65f32ff9f68a725f5
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/32/803432/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,7b06f363e2757e852fa1fa954794525ff07e53f7,lb#1914229,, - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_subnet_details' deployment: - 'overcloud' releases: - name: master reason: DNS servers retrieval change with systemd-resolved installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1914229 jobs: - tripleo-ci-centos-8-containers-multinode,0,11
openstack%2Foslo.db~stable%2Fussuri~Ie1e89d7c93f1b4462387e1ce6b2046e7fc33a744,openstack/oslo.db,stable/ussuri,Ie1e89d7c93f1b4462387e1ce6b2046e7fc33a744,Remove lower-constraints remnants,ABANDONED,2021-08-06 07:38:32.000000000,2021-08-06 07:39:23.000000000,,[{'_account_id': 32291}],"[{'number': 1, 'created': '2021-08-06 07:38:32.000000000', 'files': ['lower-constraints.txt', 'tox.ini', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/b93b75174e8b30f6480b3429f42ca808f100157e', 'message': 'Remove lower-constraints remnants\n\nThese were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65\n\nConflicts:\n  lower-constraints.txt\n\nNOTE(stephenfin): Conflicts are because the constraints are different.\nNOTE(ajya): Added to fix mysql8 support for requirements-check job\n\nChange-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a\n(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)\n(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)\n(cherry picked from commit 1e40b7c4f3accd15dc48130b148141ae2740474c)\n\n(cherry picked from commit 7af699e72802817d5a19fc0c4e016f6aeb9dce1c)\nChange-Id: Ie1e89d7c93f1b4462387e1ce6b2046e7fc33a744\n'}]",0,803707,b93b75174e8b30f6480b3429f42ca808f100157e,2,1,1,27909,,,0,"Remove lower-constraints remnants

These were missed in change : Icd090cf8a36fa560bf7b0c67d0e1c4923c221c65

Conflicts:
  lower-constraints.txt

NOTE(stephenfin): Conflicts are because the constraints are different.
NOTE(ajya): Added to fix mysql8 support for requirements-check job

Change-Id: I07b577f4e948c03d1751145e5f898b90ac1c197a
(cherry picked from commit ad720c3371ff26d484b5264f1332d92524719023)
(cherry picked from commit 0646eb6595a79edb62801232ee2f6af0886d3013)
(cherry picked from commit 1e40b7c4f3accd15dc48130b148141ae2740474c)

(cherry picked from commit 7af699e72802817d5a19fc0c4e016f6aeb9dce1c)
Change-Id: Ie1e89d7c93f1b4462387e1ce6b2046e7fc33a744
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/07/803707/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini', 'tools/test-setup.sh']",3,b93b75174e8b30f6480b3429f42ca808f100157e,oslo_lc_drop," CREATE USER '$DB_USER'@'%' IDENTIFIED BY '$DB_PW'; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' WITH GRANT OPTION;"""," GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;""",2,74
openstack%2Fvitrage~master~I16ed3672ac85a9f4df4553dfe01783f111d1dbc3,openstack/vitrage,master,I16ed3672ac85a9f4df4553dfe01783f111d1dbc3,update install doc,MERGED,2021-08-06 06:46:59.000000000,2021-08-06 07:22:16.000000000,2021-08-06 07:20:32.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 32577}]","[{'number': 1, 'created': '2021-08-06 06:46:59.000000000', 'files': ['doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/7630444db20cbff00dcaafad1c3a021201ebfec7', 'message': 'update install doc\n\nChange-Id: I16ed3672ac85a9f4df4553dfe01783f111d1dbc3\n'}]",0,803699,7630444db20cbff00dcaafad1c3a021201ebfec7,8,3,1,32577,,,0,"update install doc

Change-Id: I16ed3672ac85a9f4df4553dfe01783f111d1dbc3
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/99/803699/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-rdo.rst'],1,7630444db20cbff00dcaafad1c3a021201ebfec7,dev, vitrage-ml,,1,0
openstack%2Fvalidations-common~master~Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d,openstack/validations-common,master,Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d,DNM,ABANDONED,2021-08-03 07:38:39.000000000,2021-08-06 06:42:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-08-03 07:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/151097e4fa6a160ae2a2862e5f837ce420e4b357', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 2, 'created': '2021-08-03 08:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/af2363fb631f6c66da99af35f5afe38159f2cfe0', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 3, 'created': '2021-08-03 08:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/634464193269d8f3dfbe6ed6e5b061507fe8deba', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 4, 'created': '2021-08-03 08:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bd93e5033284b1b5d376d945ea2e84842cbcdf08', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 5, 'created': '2021-08-03 09:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1a10bb40163a48d2c658d7ac1201b36831b62f59', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 6, 'created': '2021-08-03 09:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/518f84f5cd4f5726b68acc28e5437e6e138fe6f4', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 7, 'created': '2021-08-03 09:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/57bc88c679f68e2ba3635273a78449829957f3a9', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 8, 'created': '2021-08-03 10:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/19b9511da9b0d32b84e05f4b57b0ef36d02b0217', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 9, 'created': '2021-08-03 11:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9dbae0ada8bb74cd46962a91a7f866c8958edbb7', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 10, 'created': '2021-08-03 12:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ffd7af984df0e4e282ce041a2510c3bf7aa5e626', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 11, 'created': '2021-08-03 12:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b632eb3d8858e4cda6d6c39a9b39c88d25feb7d9', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 12, 'created': '2021-08-03 13:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d4d125501e0b7be21518e3eb844bc97390a67a93', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 13, 'created': '2021-08-03 14:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/945bed28afbccb6eaf68961606fb33d459b7fef6', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 14, 'created': '2021-08-03 14:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8dbd5f00e38d3c87fdc2cfadff10b13c64a093f5', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 15, 'created': '2021-08-04 05:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8440c29652e8360c762fa1a90a28794cf9c85054', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 16, 'created': '2021-08-04 06:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b842dbf82ccf11f208c9bec91bf51b795a7547a4', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 17, 'created': '2021-08-04 06:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/130d9b8d9273ea054224f99f894d1347b1a224c3', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 18, 'created': '2021-08-04 08:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6944ec151f009f81982d12862d6a24a10ecb548c', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 19, 'created': '2021-08-04 08:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/dd4411cfa588abb242961b82b7196d843a401514', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 20, 'created': '2021-08-04 08:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4993b2ac420619e77e6a7347e3ec83d45f09d1e5', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 21, 'created': '2021-08-04 09:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/698ca5588ab137fc675285d9e16969ff8e452753', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 22, 'created': '2021-08-04 09:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bd1538e9ab698235b7b4700bc95693f7b07edfa9', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 23, 'created': '2021-08-04 10:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4aec637ed8343f05e5eb3427ecd408b9483e2237', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 24, 'created': '2021-08-04 11:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0e693dcee538152e0322976ce609b80697f38a20', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 25, 'created': '2021-08-04 11:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/010fb4bdd29fb62b45aa22fc2d68f53a14acc8a0', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 26, 'created': '2021-08-04 12:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/193793933a27221e12b344c281a2e0eb7b5ce1cb', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 27, 'created': '2021-08-04 12:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/df6c6092caf7c132c496769a209a3ea9843edc3c', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 28, 'created': '2021-08-04 12:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/70fe8713c6211f38c1e3ead09c520ba4b4928506', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 29, 'created': '2021-08-04 13:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/80d43f2bd4e46d50a32f14b7152b519662e9d695', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 30, 'created': '2021-08-04 13:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5ae2244b856065a04f1bbe0c72688252ed3876cf', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 31, 'created': '2021-08-04 13:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7510a587faf47352eb25b8299279a33c69a2d6ae', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 32, 'created': '2021-08-04 13:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e5c48dac8ede0725cf392b742502dee89c74d483', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 33, 'created': '2021-08-04 14:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ae3feebab8fc632ad93fbe3d50c7ea549be803d7', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 34, 'created': '2021-08-04 14:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/df8c71939618d723f62fde1df6118d6105f2d2b3', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 35, 'created': '2021-08-04 14:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/64307103b94f5ac06d60af196a6fa4009efa09a5', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 36, 'created': '2021-08-04 15:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/05473827fe6c3c9d42fadad7f7af1c9169d27b77', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 37, 'created': '2021-08-05 06:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2b359f33914c0945aec7ab22efb4feb7dec5db23', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 38, 'created': '2021-08-05 07:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d16c116ca52d62831f8591e30f9040c71ad6c65e', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 39, 'created': '2021-08-05 08:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d6574f9cb96dc722f78190f08fb6c07ec3af2092', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 40, 'created': '2021-08-05 08:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9c5e397eea4fcce3fe78f5f644b67b8234e4fe9c', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 41, 'created': '2021-08-05 09:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e881f0128339005722093dd56302aa850c8f5303', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 42, 'created': '2021-08-05 09:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/79704a711b9b124f0393dbbef01f7ce9bc8c4d7b', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 43, 'created': '2021-08-05 09:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8b3e1f4c761b4273dcb726ad84b94520666ab0f9', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 44, 'created': '2021-08-05 10:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c3a485a6d65f32317f6dd79c22c88581f4e54ea8', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 45, 'created': '2021-08-05 10:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/efa84601c1e84fa22fb321c56f4de57d3ed0fd6c', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 46, 'created': '2021-08-05 11:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c6939ec38002bc2744918db96c64b9a4c9714e1b', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 47, 'created': '2021-08-05 11:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4de73b20e44b5c8a9b2e5f4a9d9c18eb22f05919', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 48, 'created': '2021-08-05 12:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2a7b57f38b835e23d5726db5dd42d7cd1d13cd31', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 49, 'created': '2021-08-05 12:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4be95e93d82fa9d8b096ecc101be443479863a6c', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 50, 'created': '2021-08-05 13:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9d3fa7db6c2a571c841f31f185181fb5130adf36', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 51, 'created': '2021-08-05 14:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3fe488398a6e786806a56ef955f2e6081ec913c3', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}, {'number': 52, 'created': '2021-08-05 15:19:44.000000000', 'files': ['roles/validations/tasks/main.yaml', 'roles/validations/tasks/show_validation_info.yaml', 'roles/validations/tasks/list_validation_history.yaml', 'roles/validations/tasks/show.yaml', 'roles/validations/tasks/list.yaml', 'roles/validations/tasks/run_extra_vars_file.yaml', 'roles/validations/tasks/show_results.yaml', 'roles/validations/vars/main.yaml', 'roles/validations/tasks/run.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3d8113b1c202fe697f755e5f0dc5c05c9d18dc06', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d\n'}]",20,803316,3d8113b1c202fe697f755e5f0dc5c05c9d18dc06,93,2,52,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ibd7be5b8bdd2a3df03ec19a41a74ebaa64273b7d
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/16/803316/30 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'roles/validations/tasks/list.yaml', 'roles/validations/vars/main.yaml']",3,151097e4fa6a160ae2a2862e5f837ce420e4b357,howitzer, validation_metadata: group: - no-op - prep category: - storage - container product: - tripleo,,42,1
openstack%2Fmasakari-specs~master~I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee,openstack/masakari-specs,master,I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee,Add spec for vm evacuations for host recovery,MERGED,2021-05-04 02:02:44.000000000,2021-08-06 06:05:27.000000000,2021-08-06 06:01:22.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}, {'_account_id': 30623}, {'_account_id': 31828}]","[{'number': 1, 'created': '2021-05-04 02:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/e9d12c41873f167ac0156376cc626b2fa159c66e', 'message': 'spec for vm evacuations for host recovery\n\nWhen large scale hosts failed in the same time, there would be\nnot enough resources to recovery all the instances. So it needs\na priority to determine which one to evacuate firstly. Moreover,\nthe user even wants to recall the instances to the original host\nafter host recovery. So it needs to keep some necessary information\naboud evacuations for new extend features.\n\nChange-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee\n'}, {'number': 2, 'created': '2021-05-04 02:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/7799bda702d83f28406249e2c8babc3f4cae0bfe', 'message': 'spec for vm evacuations for host recovery\n\nWhen large scale hosts failed in the same time, there would be\nnot enough resources to recovery all the instances. So it needs\na priority to determine which one to evacuate firstly. Moreover,\nthe user even wants to recall the instances to the original host\nafter host recovery. So it needs to keep some necessary information\naboud evacuations for new extend features.\n\nChange-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee\n'}, {'number': 3, 'created': '2021-07-29 01:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/56bc6c139d786f9b2eb7ba50eee6a2525d343cfe', 'message': 'spec for vm evacuations for host recovery\n\nWhen large scale hosts failed in the same time, there would be\nnot enough resources to recovery all the instances. So it needs\na priority to determine which one to evacuate firstly. Moreover,\nthe user even wants to recall the instances to the original host\nafter host recovery. So it needs to keep some necessary information\naboud evacuations for new extend features.\n\nChange-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee\n'}, {'number': 4, 'created': '2021-07-30 09:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/0951ef48327906fb78530d3eb1ba677b7d21260e', 'message': 'spec for vm evacuations for host recovery\n\nWhen large scale hosts failed in the same time, there would be\nnot enough resources to recovery all the instances. So it needs\na priority to determine which one to evacuate firstly. Moreover,\nthe user even wants to recall the instances to the original host\nafter host recovery. So it needs to keep some necessary information\naboud evacuations for new extend features.\n\nChange-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee\n'}, {'number': 5, 'created': '2021-08-03 07:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/de982609f12022eaee0e13797349750d4c92d508', 'message': 'spec for vm evacuations for host recovery\n\nWhen large scale hosts failed in the same time, there would be\nnot enough resources to recovery all the instances. So it needs\na priority to determine which one to evacuate firstly. Moreover,\nthe user even wants to recall the instances to the original host\nafter host recovery. So it needs to keep some necessary information\naboud evacuations for new extend features.\n\nChange-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee\n'}, {'number': 6, 'created': '2021-08-03 07:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/3ea4ca3a3162b680d186efba21a3934675abb07f', 'message': 'spec for vm evacuations for host recovery\n\nWhen large scale hosts failed in the same time, there would be\nnot enough resources to recovery all the instances. So it needs\na priority to determine which one to evacuate firstly. Moreover,\nthe user even wants to recall the instances to the original host\nafter host recovery. So it needs to keep some necessary information\naboud evacuations for new extend features.\n\nChange-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee\n'}, {'number': 7, 'created': '2021-08-03 07:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/8ad1fa7e646be963f6828b47d64f2d51a1b625a0', 'message': 'spec for vm evacuations for host recovery\n\nWhen large scale hosts failed in the same time, there would be\nnot enough resources to recovery all the instances. So it needs\na priority to determine which one to evacuate firstly. Moreover,\nthe user even wants to recall the instances to the original host\nafter host recovery. So it needs to keep some necessary information\naboud evacuations for new extend features.\n\nChange-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee\n'}, {'number': 8, 'created': '2021-08-04 17:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/2fa55cbc19ddd59b740181e62741b7186aa97543', 'message': 'Add spec for vm evacuations for host recovery\n\nWhen large scale hosts failed in the same time, there would be\nnot enough resources to recovery all the instances. So it needs\na priority to determine which one to evacuate firstly. Moreover,\nthe user even wants to recall the instances to the original host\nafter host recovery. So it needs to keep some necessary information\naboud evacuations for new features.\n\nChange-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee\nBlueprint: vm-evacuations-for-host-recovery\n'}, {'number': 9, 'created': '2021-08-04 17:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/505e82b543f91c1dfc2773cd195bd8940403075c', 'message': 'Add spec for vm evacuations for host recovery\n\nWhen large scale hosts failed in the same time, there would be\nnot enough resources to recovery all the instances. So it needs\na priority to determine which one to evacuate firstly. Moreover,\nthe user even wants to recall the instances to the original host\nafter host recovery. So it needs to keep some necessary information\naboud evacuations for new features.\n\nChange-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee\nBlueprint: vm-evacuations-for-host-recovery\n'}, {'number': 10, 'created': '2021-08-04 17:31:56.000000000', 'files': ['specs/xena/approved/vm-evacuations-for-host-recovery.rst'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/4d9050943be4464d6c8ccce279db73ee529dd128', 'message': 'Add spec for vm evacuations for host recovery\n\nWhen large scale hosts failed in the same time, there would be\nnot enough resources to recovery all the instances. So it needs\na priority to determine which one to evacuate firstly. Moreover,\nthe user even wants to recall the instances to the original host\nafter host recovery. So it needs to keep some necessary information\naboud evacuations for new features.\n\nChange-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee\nBlueprint: vm-evacuations-for-host-recovery\n'}]",81,789432,4d9050943be4464d6c8ccce279db73ee529dd128,31,5,10,31825,,,0,"Add spec for vm evacuations for host recovery

When large scale hosts failed in the same time, there would be
not enough resources to recovery all the instances. So it needs
a priority to determine which one to evacuate firstly. Moreover,
the user even wants to recall the instances to the original host
after host recovery. So it needs to keep some necessary information
aboud evacuations for new features.

Change-Id: I7c87c8d4a2ab5898d1b0d046a1377fe1ed7c79ee
Blueprint: vm-evacuations-for-host-recovery
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/32/789432/8 && git format-patch -1 --stdout FETCH_HEAD,"['.idea/inspectionProfiles/Project_Default.xml', '.idea/vcs.xml', '.idea/modules.xml', '.idea/inspectionProfiles/profiles_settings.xml', 'specs/xena/implemented/vm-evacuations-for-host-recovery.rst', '.idea/masakari-specs.iml']",6,e9d12c41873f167ac0156376cc626b2fa159c66e,bp/vm-evacuations-for-host-recovery,"<?xml version=""1.0"" encoding=""UTF-8""?> <module type=""PYTHON_MODULE"" version=""4""> <component name=""NewModuleRootManager""> <content url=""file://$MODULE_DIR$"" /> <orderEntry type=""inheritedJdk"" /> <orderEntry type=""sourceFolder"" forTests=""false"" /> </component> </module>",,325,0
openstack%2Fnova~master~I9ad5c2c74ecfa7a2a07e2888b628d2ecd4534523,openstack/nova,master,I9ad5c2c74ecfa7a2a07e2888b628d2ecd4534523,trivial: Cleanup a comment about a now removed libvirt version check,MERGED,2021-07-27 20:51:48.000000000,2021-08-06 06:03:40.000000000,2021-08-05 13:37:52.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 20:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a70895ef6529b824b3f6ae2646c1f6244cbfb3a', 'message': 'trivial: Cleanup a comment about a now removed libvirt version check\n\nSome associated logic checking the underlying libvirt hypervisor being\nused is also reworked to read more easily.\n\nChange-Id: I9ad5c2c74ecfa7a2a07e2888b628d2ecd4534523\n'}, {'number': 2, 'created': '2021-07-28 19:54:29.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f916266d4f5949d1501319a916d6e005d47efd58', 'message': 'trivial: Cleanup a comment about a now removed libvirt version check\n\nSome associated logic checking the underlying libvirt hypervisor being\nused is also reworked to read more easily.\n\nChange-Id: I9ad5c2c74ecfa7a2a07e2888b628d2ecd4534523\n'}]",0,802617,f916266d4f5949d1501319a916d6e005d47efd58,62,4,2,10135,,,0,"trivial: Cleanup a comment about a now removed libvirt version check

Some associated logic checking the underlying libvirt hypervisor being
used is also reworked to read more easily.

Change-Id: I9ad5c2c74ecfa7a2a07e2888b628d2ecd4534523
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/802617/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,3a70895ef6529b824b3f6ae2646c1f6244cbfb3a,," # Note(cfb): If the volume has a custom block size, check that that we # are using QEMU/KVM. The presence of a block size is considered # mandatory by cinder so we fail if we can't honor the request. if CONF.libvirt.virt_type not in [""kvm"", ""qemu""]:"," # Note(cfb): If the volume has a custom block size, check that # that we are using QEMU/KVM and libvirt >= 0.10.2. The # presence of a block size is considered mandatory by # cinder so we fail if we can't honor the request. if ((CONF.libvirt.virt_type != ""kvm"" and CONF.libvirt.virt_type != ""qemu"")):",4,6
openstack%2Ftacker~master~Id115a63cc72677d36180fc8872b73b9ac15488dd,openstack/tacker,master,Id115a63cc72677d36180fc8872b73b9ac15488dd,[WIP] Multi version API support,ABANDONED,2021-08-03 00:05:47.000000000,2021-08-06 05:46:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 32581}]","[{'number': 1, 'created': '2021-08-03 00:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b3774219bb651e00ef2c0b0bb7123b63883edd1d', 'message': 'Multi version API support\n\nTODO:\n* rewrite commit message\n* UT/FT\n* devide patch\n\nImplements: multi-version-api\nImplements: support-nfv-solv3-start-and-terminate-vnf\nImplements: support-nfv-solv3-query-vnf-instances\nImplements: support-nfv-solv3-query-operation-occurrences\nImplemetes: support-nfv-solv3-subscriptions\nChange-Id: Id115a63cc72677d36180fc8872b73b9ac15488dd\n'}, {'number': 2, 'created': '2021-08-03 02:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1495d927471135d44b447c1616245803e9998298', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n* may devide patch\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: Id115a63cc72677d36180fc8872b73b9ac15488dd\n'}, {'number': 3, 'created': '2021-08-03 23:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7f7359375a6369e78920d4788c56a72299d591d5', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n* may devide patch\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: Id115a63cc72677d36180fc8872b73b9ac15488dd\n'}, {'number': 4, 'created': '2021-08-04 23:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2f44e2ae55b11d354461d32eeba63c40662da118', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n* may devide patch\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: Id115a63cc72677d36180fc8872b73b9ac15488dd\n'}, {'number': 5, 'created': '2021-08-05 00:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3ea530d3a625df8e12db922a2504196c92d0152b', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n* may devide patch\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: Id115a63cc72677d36180fc8872b73b9ac15488dd\n'}, {'number': 6, 'created': '2021-08-05 06:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ee8929b3ccbd13af212d7719e29de8e578440fdb', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n* may devide patch\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: Id115a63cc72677d36180fc8872b73b9ac15488dd\n'}, {'number': 7, 'created': '2021-08-05 23:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/58c5ce59af2ac9c962b9d9932758ac0361c6ad51', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n* may devide patch\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: Id115a63cc72677d36180fc8872b73b9ac15488dd\n'}, {'number': 8, 'created': '2021-08-06 01:54:15.000000000', 'files': ['tacker/api/vnflcm/v1/controller.py', 'tacker/sol_refactored/common/vnf_instance_utils.py', 'tacker/sol_refactored/objects/common/ip_over_ethernet_address_data.py', 'tacker/sol_refactored/objects/v2/pkgm_notification_filter.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/policies/__init__.py', 'tacker/sol_refactored/objects/common/notification_link.py', 'tacker/sol_refactored/objects/v2/vnf_lcm_operation_occurrence_notification.py', 'tacker/sol_refactored/api/schemas/__init__.py', 'tacker/sol_refactored/db/sqlalchemy/api.py', 'tacker/sol_refactored/objects/v2/modifications_triggered_by_vnf_pkg_change.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_df_simple.yaml', 'tacker/sol_refactored/controller/vnflcm_versions.py', 'tacker/sol_refactored/objects/base.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info_modifications.py', 'tacker/tests/functional/sol_v2/base_v2.py', 'tacker/sol_refactored/objects/v2/vnf_package_software_image_info.py', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/tests/functional/sol_v2/utils.py', 'tacker/sol_refactored/objects/v2/vnfc_snapshot_info.py', 'tacker/tests/functional/sol_v2/__init__.py', 'tacker/sol_refactored/objects/common/ext_virtual_link_data.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/etsi_nfv_sol001_common_types.yaml', 'tacker/sol_refactored/infra_drivers/openstack/openstack.py', 'tacker/sol_refactored/conductor/conductor_v2.py', 'tacker/context.py', 'tacker/sol_refactored/objects/v2/vnf_virtual_link_resource_info.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/sol_refactored/objects/v2/ext_virtual_link_info.py', 'tacker/sol_refactored/objects/v1/fields.py', 'tacker/sol_refactored/objects/v2/scale_vnf_to_level_request.py', 'tacker/sol_refactored/objects/v2/vnf_identifier_deletion_notification.py', 'tacker/sol_refactored/objects/v1/vim_software_image.py', 'tacker/common/rpc.py', 'tacker/sol_refactored/objects/common/vnf_ext_cp_data.py', 'tacker/sol_refactored/db/__init__.py', 'tacker/sol_refactored/infra_drivers/openstack/heat_utils.py', 'tacker/sol_refactored/objects/v1/snapshot_resource_definition.py', 'tacker/sol_refactored/objects/v2/virtual_storage_resource_info.py', 'tacker/tests/functional/sol_v2/test_vnflcm_basic.py', 'tacker/sol_refactored/objects/common/subscription_authentication.py', 'tacker/sol_refactored/objects/v2/vnf_link_port_info.py', 'tacker/sol_refactored/objects/v2/operate_vnf_request.py', 'tacker/sol_refactored/common/vim_utils.py', 'tacker/sol_refactored/test-tools/fake_nfvo.py', 'tacker/sol_refactored/objects/v2/affected_ext_link_port.py', 'tacker/sol_refactored/objects/v2/vnf_instance.py', 'tacker/sol_refactored/objects/v2/revert_to_vnf_snapshot_request.py', 'tacker/sol_refactored/objects/common/problem_details.py', 'tacker/sol_refactored/common/coordinate.py', 'tacker/sol_refactored/objects/v2/vnf_lcm_op_occ.py', 'tacker/sol_refactored/objects/v1/grant_info.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_default.py', 'tacker/db/migration/models/head.py', 'tacker/sol_refactored/nfvo/glance_utils.py', 'tacker/sol_refactored/objects/common/link.py', 'tacker/sol_refactored/objects/v2/lccn_subscription.py', 'tacker/sol_refactored/objects/v1/zone_info.py', 'tacker/sol_refactored/objects/v2/terminate_vnf_request.py', 'tacker/sol_refactored/objects/v2/vnf_info_modification_request.py', 'tacker/sol_refactored/objects/v1/vim_snapshot_resource.py', 'tacker/sol_refactored/objects/v2/cp_protocol_info.py', 'tacker/sol_refactored/api/validator.py', 'tacker/sol_refactored/objects/v2/heal_vnf_request.py', 'tacker/sol_refactored/api/router.py', 'tacker/sol_refactored/db/sqlalchemy/models.py', 'tacker/sol_refactored/objects/v2/vnf_info_modifications.py', '.zuul.yaml', 'tacker/sol_refactored/objects/v2/scale_vnf_request.py', 'tacker/sol_refactored/objects/common/ext_managed_virtual_link_data.py', 'tacker/sol_refactored/objects/v2/monitoring_parameter.py', 'tacker/sol_refactored/nfvo/local_nfvo.py', 'tacker/sol_refactored/api/wsgi.py', 'tacker/sol_refactored/objects/v2/create_vnf_pkg_info_request.py', 'tacker/sol_refactored/objects/v1/resource_definition.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/etsi_nfv_sol001_vnfd_types.yaml', 'tacker/sol_refactored/objects/v2/create_vnf_request.py', 'tacker/sol_refactored/objects/v2/change_current_vnf_pkg_request.py', 'tacker/sol_refactored/objects/v2/vnf_package_artifact_info.py', 'tacker/sol_refactored/api/schemas/vnf_instances.py', 'tacker/sol_refactored/objects/__init__.py', 'tacker/sol_refactored/objects/v2/vnf_pkg_info.py', 'tacker/sol_refactored/objects/common/vnf_ext_cp_config.py', 'tacker/sol_refactored/objects/v2/affected_virtual_storage.py', 'tacker/sol_refactored/nfvo/nfvo_client.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/sample1.yaml', 'tacker/sol_refactored/common/lcm_op_occ_utils.py', 'tacker/sol_refactored/objects/common/fields.py', 'tacker/sol_refactored/objects/common/resource_handle.py', 'tacker/sol_refactored/common/exceptions.py', 'tacker/sol_refactored/objects/v2/vnf_ext_cp_info.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_types.yaml', 'tacker/sol_refactored/objects/common/vim_connection_info.py', 'tacker/sol_refactored/objects/v2/lccn_subscription_request.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info.py', 'tacker/sol_refactored/objects/v2/pkgm_subscription_request.py', 'tacker/sol_refactored/objects/v2/change_vnf_flavour_request.py', 'tacker/sol_refactored/objects/v2/ext_link_port_info.py', 'tacker/sol_refactored/objects/v2/vnfc_info.py', 'tacker/sol_refactored/objects/v2/vnf_package_onboarding_notification.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/sol_refactored/objects/v2/external_artifacts_access_config.py', 'tacker/sol_refactored/controller/__init__.py', 'tacker/sol_refactored/objects/v2/lifecycle_change_notifications_filter.py', 'tacker/sol_refactored/common/http_client.py', 'tacker/sol_refactored/objects/common/vnf_instance_subscription_filter.py', 'tacker/sol_refactored/objects/v2/lccn_links.py', 'tacker/sol_refactored/objects/v2/ip_over_ethernet_address_info.py', 'tacker/sol_refactored/conductor/v2_hook.py', 'tacker/sol_refactored/controller/vnflcm_view.py', 'tacker/sol_refactored/conductor/conductor_rpc_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_utils.py', 'tacker/sol_refactored/objects/v2/affected_virtual_link.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_top.vnfd.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/pkggen.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info_modification_request.py', 'tacker/sol_refactored/objects/v2/vnfc_resource_info.py', 'tox.ini', 'tacker/sol_refactored/objects/v2/cancel_mode.py', 'tacker/sol_refactored/api/schemas/common_types.py', 'tacker/sol_refactored/objects/v2/change_ext_vnf_connectivity_request.py', 'tacker/sol_refactored/objects/v2/instantiate_vnf_request.py', 'tacker/sol_refactored/objects/v2/scale_info.py', 'tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/sol_refactored/objects/v1/vim_constraint.py', 'tacker/sol_refactored/objects/v2/ext_managed_virtual_link_info.py', 'tacker/sol_refactored/objects/v2/vnf_pkg_info_modifications.py', 'tacker/policies/vnf_lcm.py', 'tacker/sol_refactored/objects/v1/grant_request.py', 'tacker/sol_refactored/objects/v2/vnf_identifier_creation_notification.py', 'tacker/sol_refactored/conductor/vnflcm_driver_v2.py', 'tacker/sol_refactored/common/vnfd_utils.py', 'tacker/sol_refactored/objects/v2/create_vnf_snapshot_info_request.py', 'tacker/sol_refactored/mgmt_drivers/sample_script.py', 'tacker/sol_refactored/objects/v1/constraint_resource_ref.py', 'tacker/sol_refactored/common/config.py', 'tacker/sol_refactored/api/api_version.py', 'tacker/sol_refactored/db/api.py', 'tacker/sol_refactored/db/sqlalchemy/__init__.py', 'tacker/sol_refactored/conductor/__init__.py', 'tacker/sol_refactored/objects/common/ext_link_port_data.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_main.py', 'tacker/sol_refactored/objects/v1/placement_constraint.py', 'tacker/sol_refactored/objects/v2/fields.py', 'tacker/sol_refactored/objects/v2/vnf_package_change_notification.py', 'tacker/sol_refactored/objects/common/cp_protocol_data.py', 'etc/tacker/api-paste.ini', 'tacker/sol_refactored/objects/v2/pkgm_links.py', 'tacker/cmd/eventlet/tacker_server.py', 'tacker/sol_refactored/objects/v2/vnf_state_snapshot_info.py', 'tacker/sol_refactored/common/subscription_utils.py', 'tacker/db/migration/alembic_migrations/versions/a23ebee909a8_introduce_sol_refactored_models.py', 'tacker/sol_refactored/objects/v1/zone_group_info.py', 'tacker/sol_refactored/objects/v2/affected_vnfc.py', 'tacker/sol_refactored/objects/v2/create_vnf_snapshot_request.py', 'tacker/sol_refactored/objects/v2/vnf_link_port_data.py', 'tacker/sol_refactored/objects/v2/upload_vnf_package_from_uri_request.py', 'tacker/sol_refactored/api/policies/vnflcm_v2.py', 'tacker/conductor/conductor_server.py', 'tacker/sol_refactored/objects/v1/grant.py', 'tacker/sol_refactored/objects/v1/vim_compute_resource_flavour.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/a8d41124e8084b34f9558d8e61bb2c9d9b2256c8', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n* may devide patch\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: Id115a63cc72677d36180fc8872b73b9ac15488dd\n'}]",9,803295,a8d41124e8084b34f9558d8e61bb2c9d9b2256c8,16,3,8,4149,,,0,"[WIP] Multi version API support

TODO:
* enhance this commit message
* some cleanups
* add UT/FT
* may devide patch

Implements: blueprint multi-version-api
Implements: blueprint support-nfv-solv3-start-and-terminate-vnf
Implements: blueprint support-nfv-solv3-query-vnf-instances
Implements: blueprint support-nfv-solv3-query-operation-occurrences
Implemetes: blueprint support-nfv-solv3-subscriptions
Change-Id: Id115a63cc72677d36180fc8872b73b9ac15488dd
",git fetch https://review.opendev.org/openstack/tacker refs/changes/95/803295/8 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/api/vnflcm/v1/controller.py', 'tacker/sol_refactored/common/vnf_instance_utils.py', 'tacker/sol_refactored/objects/common/ip_over_ethernet_address_data.py', 'tacker/sol_refactored/objects/v2/pkgm_notification_filter.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/policies/__init__.py', 'tacker/sol_refactored/objects/common/notification_link.py', 'tacker/sol_refactored/objects/v2/vnf_lcm_operation_occurrence_notification.py', 'tacker/sol_refactored/api/schemas/__init__.py', 'tacker/sol_refactored/db/sqlalchemy/api.py', 'tacker/sol_refactored/objects/v2/modifications_triggered_by_vnf_pkg_change.py', 'tacker/sol_refactored/controller/vnflcm_versions.py', 'tacker/sol_refactored/objects/base.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info_modifications.py', 'tacker/sol_refactored/objects/v2/vnf_package_software_image_info.py', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/sol_refactored/objects/v2/vnfc_snapshot_info.py', 'tacker/sol_refactored/objects/common/ext_virtual_link_data.py', 'tacker/sol_refactored/infra_drivers/openstack/openstack.py', 'tacker/sol_refactored/conductor/conductor_v2.py', 'tacker/context.py', 'tacker/sol_refactored/objects/v2/vnf_virtual_link_resource_info.py', 'tacker/sol_refactored/objects/v2/ext_virtual_link_info.py', 'tacker/sol_refactored/objects/v1/fields.py', 'tacker/sol_refactored/objects/v2/scale_vnf_to_level_request.py', 'tacker/sol_refactored/objects/v2/vnf_identifier_deletion_notification.py', 'tacker/sol_refactored/objects/v1/vim_software_image.py', 'tacker/common/rpc.py', 'tacker/sol_refactored/objects/common/vnf_ext_cp_data.py', 'tacker/sol_refactored/db/__init__.py', 'tacker/sol_refactored/infra_drivers/openstack/heat_utils.py', 'tacker/sol_refactored/objects/v1/snapshot_resource_definition.py', 'tacker/sol_refactored/objects/v2/virtual_storage_resource_info.py', 'tacker/sol_refactored/objects/common/subscription_authentication.py', 'tacker/sol_refactored/objects/v2/vnf_link_port_info.py', 'tacker/sol_refactored/objects/v2/operate_vnf_request.py', 'tacker/sol_refactored/common/vim_utils.py', 'tacker/sol_refactored/test-tools/fake_nfvo.py', 'tacker/sol_refactored/objects/v2/affected_ext_link_port.py', 'tacker/sol_refactored/objects/v2/vnf_instance.py', 'tacker/sol_refactored/objects/v2/revert_to_vnf_snapshot_request.py', 'tacker/sol_refactored/objects/common/problem_details.py', 'tacker/sol_refactored/common/coordinate.py', 'tacker/sol_refactored/objects/v2/vnf_lcm_op_occ.py', 'tacker/sol_refactored/objects/v1/grant_info.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_default.py', 'tacker/db/migration/models/head.py', 'tacker/sol_refactored/nfvo/glance_utils.py', 'tacker/sol_refactored/objects/common/link.py', 'tacker/sol_refactored/objects/v2/lccn_subscription.py', 'tacker/sol_refactored/objects/v1/zone_info.py', 'tacker/sol_refactored/objects/v2/terminate_vnf_request.py', 'tacker/sol_refactored/objects/v2/vnf_info_modification_request.py', 'tacker/sol_refactored/objects/v1/vim_snapshot_resource.py', 'tacker/sol_refactored/objects/v2/cp_protocol_info.py', 'tacker/sol_refactored/api/validator.py', 'tacker/sol_refactored/objects/v2/heal_vnf_request.py', 'tacker/sol_refactored/api/router.py', 'tacker/sol_refactored/db/sqlalchemy/models.py', 'tacker/sol_refactored/objects/v2/vnf_info_modifications.py', 'tacker/sol_refactored/objects/v2/scale_vnf_request.py', 'tacker/sol_refactored/objects/common/ext_managed_virtual_link_data.py', 'tacker/sol_refactored/objects/v2/monitoring_parameter.py', 'tacker/sol_refactored/nfvo/local_nfvo.py', 'tacker/sol_refactored/api/wsgi.py', 'tacker/sol_refactored/objects/v2/create_vnf_pkg_info_request.py', 'tacker/sol_refactored/objects/v1/resource_definition.py', 'tacker/sol_refactored/objects/v2/create_vnf_request.py', 'tacker/sol_refactored/objects/v2/change_current_vnf_pkg_request.py', 'tacker/sol_refactored/objects/v2/vnf_package_artifact_info.py', 'tacker/sol_refactored/api/schemas/vnf_instances.py', 'tacker/sol_refactored/objects/__init__.py', 'tacker/sol_refactored/objects/v2/vnf_pkg_info.py', 'tacker/sol_refactored/objects/common/vnf_ext_cp_config.py', 'tacker/sol_refactored/objects/v2/affected_virtual_storage.py', 'tacker/sol_refactored/nfvo/nfvo_client.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/sol_refactored/common/lcm_op_occ_utils.py', 'tacker/sol_refactored/objects/common/fields.py', 'tacker/sol_refactored/objects/common/resource_handle.py', 'tacker/sol_refactored/common/exceptions.py', 'tacker/sol_refactored/objects/v2/vnf_ext_cp_info.py', 'tacker/sol_refactored/objects/common/vim_connection_info.py', 'tacker/sol_refactored/objects/v2/lccn_subscription_request.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info.py', 'tacker/sol_refactored/objects/v2/pkgm_subscription_request.py', 'tacker/sol_refactored/objects/v2/change_vnf_flavour_request.py', 'tacker/sol_refactored/objects/v2/ext_link_port_info.py', 'tacker/sol_refactored/objects/v2/vnfc_info.py', 'tacker/sol_refactored/objects/v2/vnf_package_onboarding_notification.py', 'tacker/sol_refactored/objects/v2/external_artifacts_access_config.py', 'tacker/sol_refactored/controller/__init__.py', 'tacker/sol_refactored/objects/v2/lifecycle_change_notifications_filter.py', 'tacker/sol_refactored/common/http_client.py', 'tacker/sol_refactored/objects/common/vnf_instance_subscription_filter.py', 'tacker/sol_refactored/objects/v2/lccn_links.py', 'tacker/sol_refactored/objects/v2/ip_over_ethernet_address_info.py', 'tacker/sol_refactored/conductor/v2_hook.py', 'tacker/sol_refactored/controller/vnflcm_view.py', 'tacker/sol_refactored/conductor/conductor_rpc_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_utils.py', 'tacker/sol_refactored/objects/v2/affected_virtual_link.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info_modification_request.py', 'tacker/sol_refactored/objects/v2/vnfc_resource_info.py', 'tacker/sol_refactored/objects/v2/cancel_mode.py', 'tacker/sol_refactored/api/schemas/common_types.py', 'tacker/sol_refactored/objects/v2/change_ext_vnf_connectivity_request.py', 'tacker/sol_refactored/objects/v2/instantiate_vnf_request.py', 'tacker/sol_refactored/objects/v2/scale_info.py', 'tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/sol_refactored/objects/v1/vim_constraint.py', 'tacker/sol_refactored/objects/v2/ext_managed_virtual_link_info.py', 'tacker/sol_refactored/objects/v2/vnf_pkg_info_modifications.py', 'tacker/policies/vnf_lcm.py', 'tacker/sol_refactored/objects/v1/grant_request.py', 'tacker/sol_refactored/objects/v2/vnf_identifier_creation_notification.py', 'tacker/sol_refactored/conductor/vnflcm_driver_v2.py', 'tacker/sol_refactored/common/vnfd_utils.py', 'tacker/sol_refactored/objects/v2/create_vnf_snapshot_info_request.py', 'tacker/sol_refactored/mgmt_drivers/sample_script.py', 'tacker/sol_refactored/objects/v1/constraint_resource_ref.py', 'tacker/sol_refactored/common/config.py', 'tacker/sol_refactored/api/api_version.py', 'tacker/sol_refactored/db/api.py', 'tacker/sol_refactored/db/sqlalchemy/__init__.py', 'tacker/sol_refactored/conductor/__init__.py', 'tacker/sol_refactored/objects/common/ext_link_port_data.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_main.py', 'tacker/sol_refactored/objects/v1/placement_constraint.py', 'tacker/sol_refactored/objects/v2/fields.py', 'tacker/sol_refactored/objects/v2/vnf_package_change_notification.py', 'tacker/sol_refactored/objects/common/cp_protocol_data.py', 'etc/tacker/api-paste.ini', 'tacker/sol_refactored/objects/v2/pkgm_links.py', 'tacker/sol_refactored/test-tools/inst_create_req1', 'tacker/sol_refactored/objects/v2/vnf_state_snapshot_info.py', 'tacker/sol_refactored/common/subscription_utils.py', 'tacker/sol_refactored/objects/v1/zone_group_info.py', 'tacker/sol_refactored/objects/v2/affected_vnfc.py', 'tacker/sol_refactored/objects/v2/create_vnf_snapshot_request.py', 'tacker/sol_refactored/test-tools/subsc_create_req1', 'tacker/sol_refactored/objects/v2/vnf_link_port_data.py', 'tacker/sol_refactored/objects/v2/upload_vnf_package_from_uri_request.py', 'tacker/sol_refactored/api/policies/vnflcm_v2.py', 'tacker/conductor/conductor_server.py', 'tacker/sol_refactored/objects/v1/grant.py', 'tacker/sol_refactored/objects/v1/vim_compute_resource_flavour.py']",148,b3774219bb651e00ef2c0b0bb7123b63883edd1d,bp/multi-version-api,"# Copyright (C) 2021 Nippon Telegraph and Telephone Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tacker.sol_refactored.objects import base from tacker.sol_refactored.objects import fields # NFV-SOL 003 # - v2.6.1 9.5.3.9 (API version: 1.3.0) # - v2.7.1 9.5.3.9 (API version: 1.3.0) # - v2.8.1 9.5.3.9 (API version: 1.3.0) # - v3.3.1 9.5.3.9 (API version: 1.4.0) @base.TackerObjectRegistry.register class VimComputeResourceFlavourV1(base.TackerObject, base.TackerObjectDictCompat): # Version 1.0: Initial version VERSION = '1.0' fields = { 'vimConnectionId': fields.StringField(nullable=True), 'resourceProviderId': fields.StringField(nullable=True), 'vnfdVirtualComputeDescId': fields.StringField(nullable=False), 'vimFlavourId': fields.StringField(nullable=False), } ",,10629,9
openstack%2Fironic~master~I4805d410b4bc98196e77d8c44a217e363dc88f0a,openstack/ironic,master,I4805d410b4bc98196e77d8c44a217e363dc88f0a,Retry stdlib ssl.SSLError,MERGED,2021-08-05 14:18:42.000000000,2021-08-06 04:48:17.000000000,2021-08-06 04:46:34.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-08-05 14:18:42.000000000', 'files': ['releasenotes/notes/sslerror-287edf7f8b3c5f1c.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/528eb9e4a99762dea5ef5e08f3dd42d459ce2d1c', 'message': ""Retry stdlib ssl.SSLError\n\nApparently, connection to the agent can fail with\n\n    Unexpected error when processing next clean step.\n    SSLError: ('timed out',): ssl.SSLError: ('timed out',)\n\nThis change adds SSLError to retriable errors since most of them are\nrelated to temporary conditions, and the certificate validation failure\nis handled by requests separately.\n\nChange-Id: I4805d410b4bc98196e77d8c44a217e363dc88f0a\n""}]",0,803604,528eb9e4a99762dea5ef5e08f3dd42d459ce2d1c,11,3,1,10239,,,0,"Retry stdlib ssl.SSLError

Apparently, connection to the agent can fail with

    Unexpected error when processing next clean step.
    SSLError: ('timed out',): ssl.SSLError: ('timed out',)

This change adds SSLError to retriable errors since most of them are
related to temporary conditions, and the certificate validation failure
is handled by requests separately.

Change-Id: I4805d410b4bc98196e77d8c44a217e363dc88f0a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/803604/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/sslerror-287edf7f8b3c5f1c.yaml', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,528eb9e4a99762dea5ef5e08f3dd42d459ce2d1c,sslerror,"import ssl self.client.session.post.side_effect = [ requests.Timeout(error), ssl.SSLError('timed out'), requests.ConnectionError(error), requests.Timeout(error)] ssl.SSLError('timed out'),"," self.client.session.post.side_effect = [requests.Timeout(error), requests.Timeout(error), requests.Timeout(error), requests.Timeout(error)] requests.Timeout(error),",13,6
openstack%2Fironic~stable%2Fwallaby~I5da43dc244c1a4fa828a00c02e3aa5b5f1b71e14,openstack/ironic,stable/wallaby,I5da43dc244c1a4fa828a00c02e3aa5b5f1b71e14,Defer checking image size until instance info is built,MERGED,2021-07-30 00:27:52.000000000,2021-08-06 04:48:12.000000000,2021-08-06 04:46:37.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-30 00:27:52.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/449018366ab211a928d28b61cbdf4ee0b6e6f948', 'message': ""Defer checking image size until instance info is built\n\nThe image size check is skipped if the image is raw and will be\nstreamed directly to disk. However metalsmith does not expose\ninstance_info so it is not possible to set image_disk_format=raw.\n\nimage_disk_format is detected and set during\nbuild_instance_info_for_deploy but this is run *after* the call to\ncheck_image_size. This results in large raw whole-disk images always\nfailing check_image_size when deployed by metalsmith (or any time\nimage_disk_format isn't explicitly set).\n\nThis change avoids that by moving the check_image_size call out of\nvalidate to after the call to build_instance_info_for_deploy.\n\nBlueprint: whole-disk-default\nChange-Id: I5da43dc244c1a4fa828a00c02e3aa5b5f1b71e14\n(cherry picked from commit ad3ce797cfbd0093fcb1bafb8aaa38c39f08926a)\n""}]",0,802978,449018366ab211a928d28b61cbdf4ee0b6e6f948,11,3,1,4571,,,0,"Defer checking image size until instance info is built

The image size check is skipped if the image is raw and will be
streamed directly to disk. However metalsmith does not expose
instance_info so it is not possible to set image_disk_format=raw.

image_disk_format is detected and set during
build_instance_info_for_deploy but this is run *after* the call to
check_image_size. This results in large raw whole-disk images always
failing check_image_size when deployed by metalsmith (or any time
image_disk_format isn't explicitly set).

This change avoids that by moving the check_image_size call out of
validate to after the call to build_instance_info_for_deploy.

Blueprint: whole-disk-default
Change-Id: I5da43dc244c1a4fa828a00c02e3aa5b5f1b71e14
(cherry picked from commit ad3ce797cfbd0093fcb1bafb8aaa38c39f08926a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/802978/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/tests/unit/drivers/modules/test_agent.py']",2,449018366ab211a928d28b61cbdf4ee0b6e6f948,wallaby/image_info_validate," task.node.instance_info['image_source'] = 'fake-image' agent.check_image_size(task) task.node.instance_info['image_source'] = 'fake-image' agent.check_image_size(task) task.node.instance_info['image_source'] = 'fake-image' task) task.node.instance_info['image_source'] = 'fake-image' task) task.node.instance_info['image_source'] = 'fake-image' agent.check_image_size(task) task.node.instance_info['image_source'] = 'fake-image' task.node.instance_info['image_disk_format'] = 'raw' agent.check_image_size(task) task.node.instance_info['image_source'] = 'fake-image' task.node.instance_info['image_disk_format'] = 'qcow2' task) task.node.instance_info['image_source'] = 'fake-image' task) def test_validate(self, pxe_boot_validate_mock, self, pxe_boot_validate_mock, validate_capability_mock, validate_http_mock): self, pxe_boot_validate_mock): self, pxe_boot_validate_mock): self, pxe_boot_validate_mock, validate_http_mock): show_mock.assert_not_called() def test_validate_invalid_proxies(self, pxe_boot_validate_mock, @mock.patch('ironic.drivers.modules.agent.check_image_size', autospec=True) storage_attach_volumes_mock, check_image_size_mock): check_image_size_mock.assert_called_once_with(task) @mock.patch('ironic.drivers.modules.agent.check_image_size', autospec=True) storage_attach_volumes_mock, check_image_size_mock): check_image_size_mock.assert_called_once_with(task) @mock.patch('ironic.drivers.modules.agent.check_image_size', autospec=True) storage_attach_volumes_mock, check_image_size_mock): check_image_size_mock.assert_called_once_with(task) @mock.patch('ironic.drivers.modules.agent.check_image_size', autospec=True) storage_attach_volumes_mock, check_image_size_mock): check_image_size_mock.assert_called_once_with(task) @mock.patch('ironic.drivers.modules.agent.check_image_size', autospec=True) storage_attach_volumes_mock, check_image_size_mock): check_image_size_mock.assert_called_once_with(task) @mock.patch('ironic.drivers.modules.agent.check_image_size', autospec=True) validate_net_mock, add_provisioning_net_mock, check_image_size_mock): check_image_size_mock.assert_called_once_with(task) @mock.patch('ironic.drivers.modules.agent.check_image_size', autospec=True) storage_attach_volumes_mock, is_fast_track_mock, check_image_size_mock): check_image_size_mock.assert_called_once_with(task) @mock.patch('ironic.drivers.modules.agent.check_image_size', autospec=True) restore_power_state_mock, check_image_size_mock): check_image_size_mock.assert_called_once_with(task)"," agent.check_image_size(task, 'fake-image') agent.check_image_size(task, 'fake-image') task, 'fake-image') task, 'fake-image') agent.check_image_size(task, 'fake-image') agent.check_image_size(task, 'fake-image', 'raw') task, 'fake-image', 'qcow2') task, 'fake-image') @mock.patch.object(images, 'image_show', autospec=True) def test_validate(self, pxe_boot_validate_mock, show_mock, show_mock.assert_called_once_with(self.context, 'fake-image') @mock.patch.object(images, 'image_show', autospec=True) self, pxe_boot_validate_mock, show_mock, validate_capability_mock, validate_http_mock): show_mock.assert_called_once_with(self.context, 'fake-image') @mock.patch.object(images, 'image_show', autospec=True) self, pxe_boot_validate_mock, show_mock): show_mock.assert_called_once_with(self.context, 'http://image-ref') @mock.patch.object(image_service.FileImageService, 'validate_href', autospec=True) self, pxe_boot_validate_mock, validate_mock): validate_mock.assert_called_once_with(mock.ANY, 'file://image-ref') @mock.patch.object(images, 'image_show', autospec=True) self, pxe_boot_validate_mock, show_mock, validate_http_mock): show_mock.assert_called_once_with(self.context, 'fake-image') show_mock.assert_called_once_with(self.context, 'fake-image') @mock.patch.object(images, 'image_show', autospec=True) def test_validate_invalid_proxies(self, pxe_boot_validate_mock, show_mock, show_mock.assert_called_once_with(self.context, 'fake-image') storage_attach_volumes_mock): storage_attach_volumes_mock): storage_attach_volumes_mock): storage_attach_volumes_mock): storage_attach_volumes_mock): validate_net_mock, add_provisioning_net_mock): storage_attach_volumes_mock, is_fast_track_mock): restore_power_state_mock):",64,43
openstack%2Ftempest~master~I9e7e27a5238a7e05d9f5efa423adc5703a529d7c,openstack/tempest,master,I9e7e27a5238a7e05d9f5efa423adc5703a529d7c,API test update volume group status,ABANDONED,2021-08-02 02:52:34.000000000,2021-08-06 03:12:28.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-02 02:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/33b330a41b9c59a5fb8eff1f3bead9c6f2ba03aa', 'message': 'API test update volume group status\n\nChange-Id: I9e7e27a5238a7e05d9f5efa423adc5703a529d7c\n'}, {'number': 2, 'created': '2021-08-05 09:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2ed1d59de39e095f466ab79fbc41c28123908f7b', 'message': 'API test update volume group status\n\nAPI test update volume group status to creating/available/error\n\nChange-Id: I9e7e27a5238a7e05d9f5efa423adc5703a529d7c\n'}, {'number': 3, 'created': '2021-08-06 00:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc2796663eb4947cd672fceb82d3548b0ac8158e', 'message': 'API test update volume group status\n\nAPI test update volume group status to creating/available/error\n\nChange-Id: I9e7e27a5238a7e05d9f5efa423adc5703a529d7c\n'}, {'number': 4, 'created': '2021-08-06 00:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/165fc492b3e52e54c64fabe6a3e575c1d946515e', 'message': 'API test update volume group status\n\nAPI test update volume group status to creating/available/error\n\nChange-Id: I9e7e27a5238a7e05d9f5efa423adc5703a529d7c\n'}, {'number': 5, 'created': '2021-08-06 00:42:08.000000000', 'files': ['tempest/api/volume/admin/test_groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9f7d8c7912d9c8b885359433fdd4aaf2b6b12d3f', 'message': 'API test update volume group status\n\nAPI test update volume group status to creating/available/error\n\nChange-Id: I9e7e27a5238a7e05d9f5efa423adc5703a529d7c\n'}]",2,803135,9f7d8c7912d9c8b885359433fdd4aaf2b6b12d3f,10,2,5,31280,,,0,"API test update volume group status

API test update volume group status to creating/available/error

Change-Id: I9e7e27a5238a7e05d9f5efa423adc5703a529d7c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/35/803135/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_groups.py'],1,33b330a41b9c59a5fb8eff1f3bead9c6f2ba03aa,tempest_04," @decorators.idempotent_id('fec12886-9ac9-4fae-9baa-cc3712ca4a86') def test_reset_group_status(self): """"""Test reset volume group status"""""" # Create volume type volume_type = self.create_volume_type() # Create group type group_type = self.create_group_type() # Create Group grp = self.create_group(group_type=group_type['id'], volume_types=[volume_type['id']]) # Create volumes self.create_volume(volume_type=volume_type['id'], group_id=grp['id']) # Wait for group status to become available waiters.wait_for_volume_resource_status( self.groups_client, grp['id'], 'available') self.addCleanup( self.groups_client.reset_group_status, group_snapshot['id'], 'available') for status in ['creating', 'available', 'error']: self.groups_client.reset_group_status( grp['id'], status) waiters.wait_for_volume_resource_status( self.groups_client, grp['id'], status) ",,29,0
openstack%2Ftrove-tempest-plugin~master~I4ab1b6ed0d9a6e940ad9a4e14b58f7188b5b556f,openstack/trove-tempest-plugin,master,I4ab1b6ed0d9a6e940ad9a4e14b58f7188b5b556f,update instance name,ABANDONED,2020-03-20 06:46:04.000000000,2021-08-06 01:49:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 31280}]","[{'number': 1, 'created': '2020-03-20 06:46:04.000000000', 'files': ['trove_tempest_plugin/tests/api/base.py'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/81019225e6ed5a2eb2a5a061c7f731a877792053', 'message': 'update instance name\n\nChange-Id: I4ab1b6ed0d9a6e940ad9a4e14b58f7188b5b556f\n'}]",0,714037,81019225e6ed5a2eb2a5a061c7f731a877792053,8,2,1,31280,,,0,"update instance name

Change-Id: I4ab1b6ed0d9a6e940ad9a4e14b58f7188b5b556f
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/37/714037/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_tempest_plugin/tests/api/base.py'],1,81019225e6ed5a2eb2a5a061c7f731a877792053,trove1," @decorators.idempotent_id(""fe6dd514-27d6-11ea-a56a-98f2b3cc23a0"") def test_instance_upgrade_name(self): new_name = self.get_resource_name('instance_new') LOG.info('Using newname %s for instance upgrading', new_name) body = { ""instance"": { ""name"": new_name } } self.client.patch_resource('instances', self.instance_id, body) time.sleep(3) self.wait_for_instance_status(self.instance_id, expected_status=""ACTIVE"") res = self.client.get_resource(""instances"", self.instance_id) instance_name = res['instance']['name'] self.assertEqual(new_name, instance_name)",,19,0
openstack%2Fpuppet-openstack-integration~stable%2Fstein~I57f84757a229feb4e7d94ec912d723bf02392c88,openstack/puppet-openstack-integration,stable/stein,I57f84757a229feb4e7d94ec912d723bf02392c88,Ubuntu: Install neutron-tempest-plugin from source,ABANDONED,2021-03-28 12:21:30.000000000,2021-08-06 01:16:59.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-28 12:21:30.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/694a8561c84ade77f41f4af272398437603a20fe', 'message': ""Ubuntu: Install neutron-tempest-plugin from source\n\nIt seems the current latest version of neutron-tempest-plugin available\nin pip is not compatible with the latest tempest. Let's install it\nfrom source so that we can always install the version compatible with\ntempest.\n\nNote:\nAdded version pin for stable backports.\n\nConflicts:\n\trun_tests.sh\n\nResolved conflict caused by version pin for python 2.\n\nChange-Id: I57f84757a229feb4e7d94ec912d723bf02392c88\n(cherry picked from commit 7b8b11a8cfe98e6b2f08c3edc6b9b9222edeb937)\n(cherry picked from commit 2e4793c0707274e90d7d8ebf7c2b4a01d432f2b7)\n(cherry picked from commit c325bcf568d6f0dfeaa9dfca92782e88ec4eed5a)\n""}]",0,783570,694a8561c84ade77f41f4af272398437603a20fe,4,2,1,9816,,,0,"Ubuntu: Install neutron-tempest-plugin from source

It seems the current latest version of neutron-tempest-plugin available
in pip is not compatible with the latest tempest. Let's install it
from source so that we can always install the version compatible with
tempest.

Note:
Added version pin for stable backports.

Conflicts:
	run_tests.sh

Resolved conflict caused by version pin for python 2.

Change-Id: I57f84757a229feb4e7d94ec912d723bf02392c88
(cherry picked from commit 7b8b11a8cfe98e6b2f08c3edc6b9b9222edeb937)
(cherry picked from commit 2e4793c0707274e90d7d8ebf7c2b4a01d432f2b7)
(cherry picked from commit c325bcf568d6f0dfeaa9dfca92782e88ec4eed5a)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/70/783570/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,694a8561c84ade77f41f4af272398437603a20fe,, $SUDO apt install -y python3-pip git clone https://opendev.org/openstack/neutron-tempest-plugin /tmp/openstack/neutron-tempest-plugin pushd /tmp/openstack/neutron-tempest-plugin git reset --hard 0.9.0 $SUDO pip3 install . popd, $SUDO pip install neutron-tempest-plugin==0.9.0,6,1
openstack%2Fpuppet-openstack-integration~master~Ibd58431008619a804fecb77f16b251b6b0213165,openstack/puppet-openstack-integration,master,Ibd58431008619a804fecb77f16b251b6b0213165,Fix the module path in litmus job,ABANDONED,2021-05-23 13:17:30.000000000,2021-08-06 01:16:12.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-23 13:17:30.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/84873d20eca24e4910f073d4c545191106afbd17', 'message': 'Fix the module path in litmus job\n\nThis change fixes the path used to obtain a list of installed modules,\nso that config files and log files for the enabled services are\nproperly captured during litmus jobs.\n\nChange-Id: Ibd58431008619a804fecb77f16b251b6b0213165\n'}]",0,792738,84873d20eca24e4910f073d4c545191106afbd17,4,2,1,9816,,,0,"Fix the module path in litmus job

This change fixes the path used to obtain a list of installed modules,
so that config files and log files for the enabled services are
properly captured during litmus jobs.

Change-Id: Ibd58431008619a804fecb77f16b251b6b0213165
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/38/792738/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,84873d20eca24e4910f073d4c545191106afbd17,litmus-logs," # integration job # litmus/beaker job PUPPET_MODULES_PATH=""${WORKSPACE}/spec/fixtures/modules""", # puppet4 # puppet3 PUPPET_MODULES_PATH='/etc/puppet/modules',3,3
openstack%2Ftrove~stable%2Fvictoria~Iae4d8fc52a50da4fd347270271f6761ce766d5c3,openstack/trove,stable/victoria,Iae4d8fc52a50da4fd347270271f6761ce766d5c3,Add float types to load_items to support configuration parameters of float type,MERGED,2021-08-05 02:35:35.000000000,2021-08-06 00:58:19.000000000,2021-08-06 00:56:58.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 02:35:35.000000000', 'files': ['trove/configuration/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/1c38b4c9bc1d2b8dfa4e1100f79da7354e344d26', 'message': 'Add float types to load_items to support configuration parameters of float type\n\nComplement missing float types when loading configuration group parameters\nso that parameters of type float can be attached into the trove instance successfully\n\nStory: 2008917\nTask: 42508\nChange-Id: Iae4d8fc52a50da4fd347270271f6761ce766d5c3\n(cherry picked from commit 189d3493a844231dfa10062b5e632a3e931e50f2)\n'}]",0,803551,1c38b4c9bc1d2b8dfa4e1100f79da7354e344d26,7,2,1,31525,,,0,"Add float types to load_items to support configuration parameters of float type

Complement missing float types when loading configuration group parameters
so that parameters of type float can be attached into the trove instance successfully

Story: 2008917
Task: 42508
Change-Id: Iae4d8fc52a50da4fd347270271f6761ce766d5c3
(cherry picked from commit 189d3493a844231dfa10062b5e632a3e931e50f2)
",git fetch https://review.opendev.org/openstack/trove refs/changes/51/803551/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/configuration/models.py'],1,1c38b4c9bc1d2b8dfa4e1100f79da7354e344d26,story/2008917-stable/victoria, elif rule.data_type == 'float': item.configuration_value = float(item.configuration_value),,2,0
openstack%2Ftripleo-ansible~master~I1abb75eb1bd62df2cf57b7376da9c50bb922db12,openstack/tripleo-ansible,master,I1abb75eb1bd62df2cf57b7376da9c50bb922db12,Cleanup tripleo_container_manage,MERGED,2021-08-02 15:40:48.000000000,2021-08-06 00:20:40.000000000,2021-08-06 00:20:40.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-02 15:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/991ea1c9026e25be3209986addadcadd36e9a1ca', 'message': 'WIP Cleanup container_manage\n\nVia I214127ebeddbef2b85cc8deb3c108c8de907ee0a (""Container manage module"") we stopped\ncalling tasks/podman/start_order.yml:\n-  include_tasks: podman/start_order.yml\n\nSince start_order is not being used any longer we can remove it (and its\ninclusions that are not used anywhere else):\n1) start_order.yml\n$ grep -ir start_order\ntasks/podman/start_order.yml:- name: ""Batching items for start_order {{ order }}""\n\n2) The manage.yml\n$ grep -ir -e yml -e yaml tasks/podman/start_order.yml\n  include_tasks: podman/manage.yml\n$ grep -ir manage.yml\ntasks/podman/start_order.yml:  include_tasks: podman/manage.yml\n$\n\n3) The exec and create yml files in manage.yml:\n$ grep -ir -e yml -e yaml tasks/podman/manage.yml\n  include_tasks: podman/exec.yml\n  include_tasks: podman/create.yml\n$ grep -ir exec.yml\ntasks/podman/manage.yml:  include_tasks: podman/exec.yml\n$ grep -ir create.yml\ntasks/main.yml:      include_tasks: create.yml #\ntasks/podman/manage.yml:  include_tasks: podman/create.yml\n\nChange-Id: I1abb75eb1bd62df2cf57b7376da9c50bb922db12\n'}, {'number': 2, 'created': '2021-08-03 10:40:38.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/manage.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/start_order.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e2ad759cd302bf62871c47f85f46b598db16180', 'message': 'Cleanup tripleo_container_manage\n\nVia I214127ebeddbef2b85cc8deb3c108c8de907ee0a (""Container manage module"") we stopped\ncalling tasks/podman/start_order.yml.\nSince start_order is not being used any longer we can remove it (and its\ninclusions that are not used anywhere else):\n1) start_order.yml\n$ grep -ir start_order\ntasks/podman/start_order.yml:- name: ""Batching items for start_order {{ order }}""\n\n2) The manage.yml\n$ grep -ir -e yml -e yaml tasks/podman/start_order.yml\n  include_tasks: podman/manage.yml\n$ grep -ir manage.yml\ntasks/podman/start_order.yml:  include_tasks: podman/manage.yml\n$\n\n3) The exec and create yml files in manage.yml:\n$ grep -ir -e yml -e yaml tasks/podman/manage.yml\n  include_tasks: podman/exec.yml\n  include_tasks: podman/create.yml\n$ grep -ir exec.yml\ntasks/podman/manage.yml:  include_tasks: podman/exec.yml\n$ grep -ir create.yml\ntasks/main.yml:      include_tasks: create.yml #\ntasks/podman/manage.yml:  include_tasks: podman/create.yml\n\nAlso verified that THT does not manually include any of the tasks we\'re\nremoving here:\n$ grep -ir -e \'start_order.yaml\' -e \'manage.yml\' -e \'create.yml\' -e \'exec.yml\' tripleo-heat-templates\n$\n\nAlso deployed a BGP test env with this change and was able to deploy the\novercloud correctly.\n\nChange-Id: I1abb75eb1bd62df2cf57b7376da9c50bb922db12\n'}]",0,803224,5e2ad759cd302bf62871c47f85f46b598db16180,11,4,2,20172,,,0,"Cleanup tripleo_container_manage

Via I214127ebeddbef2b85cc8deb3c108c8de907ee0a (""Container manage module"") we stopped
calling tasks/podman/start_order.yml.
Since start_order is not being used any longer we can remove it (and its
inclusions that are not used anywhere else):
1) start_order.yml
$ grep -ir start_order
tasks/podman/start_order.yml:- name: ""Batching items for start_order {{ order }}""

2) The manage.yml
$ grep -ir -e yml -e yaml tasks/podman/start_order.yml
  include_tasks: podman/manage.yml
$ grep -ir manage.yml
tasks/podman/start_order.yml:  include_tasks: podman/manage.yml
$

3) The exec and create yml files in manage.yml:
$ grep -ir -e yml -e yaml tasks/podman/manage.yml
  include_tasks: podman/exec.yml
  include_tasks: podman/create.yml
$ grep -ir exec.yml
tasks/podman/manage.yml:  include_tasks: podman/exec.yml
$ grep -ir create.yml
tasks/main.yml:      include_tasks: create.yml #
tasks/podman/manage.yml:  include_tasks: podman/create.yml

Also verified that THT does not manually include any of the tasks we're
removing here:
$ grep -ir -e 'start_order.yaml' -e 'manage.yml' -e 'create.yml' -e 'exec.yml' tripleo-heat-templates
$

Also deployed a BGP test env with this change and was able to deploy the
overcloud correctly.

Change-Id: I1abb75eb1bd62df2cf57b7376da9c50bb922db12
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/803224/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/manage.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/start_order.yml']",4,991ea1c9026e25be3209986addadcadd36e9a1ca,cleanup,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Gather podman infos containers.podman.podman_container_info: {} register: podman_containers no_log: ""{{ tripleo_container_manage_hide_sensitive_logs | bool }}"" when: - tripleo_container_manage_cli == 'podman' - name: ""Batching items for start_order {{ order }}"" include_tasks: podman/manage.yml loop: ""{{ data | batch(tripleo_container_manage_concurrency) | list }}"" loop_control: loop_var: batched_container_data ",0,219
openstack%2Ftripleo-ansible~master~I6e0455e13a2f1351b072f11c98dfc79fecf847fb,openstack/tripleo-ansible,master,I6e0455e13a2f1351b072f11c98dfc79fecf847fb,Create SG rule for Octavia log offloading,MERGED,2021-07-21 13:51:07.000000000,2021-08-06 00:20:38.000000000,2021-08-06 00:20:38.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-21 13:51:07.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4843f8b6a20eb06a43cc7ffde009a93402630aa3', 'message': ""Create SG rule for Octavia log offloading\n\nA SG rule for Octavia log offloading (syslog on UDP 514) was\nmissing, and now that the security-group has been added to the\nmanagement port, it's required for receiving the amphora logs.\n\nChange-Id: I6e0455e13a2f1351b072f11c98dfc79fecf847fb\n""}]",0,801627,4843f8b6a20eb06a43cc7ffde009a93402630aa3,14,6,1,29244,,,0,"Create SG rule for Octavia log offloading

A SG rule for Octavia log offloading (syslog on UDP 514) was
missing, and now that the security-group has been added to the
management port, it's required for receiving the amphora logs.

Change-Id: I6e0455e13a2f1351b072f11c98dfc79fecf847fb
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/801627/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml'],1,4843f8b6a20eb06a43cc7ffde009a93402630aa3,," - name: create security group rule for log offloading openstack.cloud.security_group_rule: security_group: ""{{ lb_health_mgr_sec_grp_name }}"" protocol: udp port_range_min: 514 port_range_max: 514 remote_ip_prefix: 0.0.0.0/0 environment: OS_USERNAME: ""{{ auth_username }}"" OS_PASSWORD: ""{{ auth_password }}"" OS_PROJECT_NAME: ""{{ auth_project_name }}""",,12,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ia0898c022604040a87b027f35a5878086ff80b50,openstack/tripleo-ansible,stable/train,Ia0898c022604040a87b027f35a5878086ff80b50,Remove the usage of ansible_date_time,MERGED,2021-08-03 07:46:04.000000000,2021-08-06 00:20:37.000000000,2021-08-06 00:20:37.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-08-03 07:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2870ee03d4d46946f6cf713f036109fd0c35fd34', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)\n'}, {'number': 2, 'created': '2021-08-03 07:49:44.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/backup/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f64814d143f92b6867d979321cfd04f8f3111355', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\nNot a clean cherry-pick due to the renaming of the role from\nbackup_and_restore to backup-and-restore.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)\n'}]",0,803277,f64814d143f92b6867d979321cfd04f8f3111355,9,6,2,32968,,,0,"Remove the usage of ansible_date_time

As this playbook is mainly intended to be used from the openstack CLI,
whose ansible runner has purposely disabled inject_facts_as_vars[1],
along with the default usage of the ""smart"" gathering_policy that does
not updates the facts on every run (which destroys the purpose of
attaching timestamps to files to get keep different files from different
runs), it seems better to re-introduce the previous way of implementing
dynamic (timestamped based) names[2]

This way uses the ""date"" OS command to obtain always a different
timestamp without mandating a new gather_facts every execution nor
having to use facts not injected as vars.

Not a clean cherry-pick due to the renaming of the role from
backup_and_restore to backup-and-restore.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37
[2]
https://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43

Change-Id: Ia0898c022604040a87b027f35a5878086ff80b50
(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)
(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/803277/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,2870ee03d4d46946f6cf713f036109fd0c35fd34,change-803277-1,"<<<<<<< HEAD (6132dd Merge ""Allow for cron programming of backups"" into stable/tr) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # All variables intended for modification should be placed in this file. tripleo_backup_and_restore_hide_sensitive_logs: ""{{ hide_sensitive_logs | default(true) }}"" tripleo_backup_and_restore_debug: ""{{ ((ansible_verbosity | int) >= 2) | bool }}"" # Set the container command line entry-point tripleo_container_cli: ""{{ container_cli | default('podman') }}"" # Stop and start all running services before backup is ran. tripleo_backup_and_restore_service_manager: true # If this is false, backup of the overcloud is taken by stopping it completely. Enable it to do a # backup stopping only one node at a time, maintaining the controller active during the backup duration. tripleo_backup_and_restore_enable_snapshots: true # Set the name of the mysql container tripleo_backup_and_restore_mysql_container: mysql # Default name for the Undercloud mysql DB backup file tripleo_backup_and_restore_mysql_backup_file: ""openstack-backup-mysql.sql"" # Default name for the Undercloud mysql DB grants file tripleo_backup_and_restore_mysql_grants_file: ""openstack-backup-mysql-grants.sql"" # All variables within this role should have a prefix of ""tripleo_backup_and_restore"" # By default this should be the Undercloud node tripleo_backup_and_restore_nfs_server: 192.168.24.1 tripleo_backup_and_restore_nfs_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_nfs_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24'] tripleo_backup_and_restore_rear_simulate: false tripleo_backup_and_restore_using_uefi_bootloader: 0 tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_nfs_storage_folder }}/*'] tripleo_backup_and_restore_exclude_paths_controller_non_bootrapnode: true tripleo_backup_and_restore_exclude_paths_controller: ['/var/lib/mysql/*'] tripleo_backup_and_restore_exclude_paths_compute: ['/var/lib/nova/instances/*'] tripleo_backup_and_restore_hiera_config_file: ""/etc/puppet/hiera.yaml"" # This var is a dictionary of the configuration of the /etc/rear/local.conf # The key:value will be interpreted as key=value on the configuration file. # To set that the value is a string, it needs to be single quoted followed by # double quoted as it will be interpreted by BASH. tripleo_backup_and_restore_local_config: ISO_DEFAULT: '""automatic""' USING_UEFI_BOOTLOADER: 0 OUTPUT: ISO BACKUP: NETFS BACKUP_PROG_COMPRESS_OPTIONS: '( --gzip)' BACKUP_PROG_COMPRESS_SUFFIX: '"".gz""' # This var is a dictionary of the configuration of the /etc/rear/rescue.conf # The key:value will be interpreted as key=value on the configuration file. # To set that the value is a string, it needs to be single quoted followed by # double quoted as it will be interpreted by BASH. tripleo_backup_and_restore_rescue_config: {} tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}/ctl_plane_backups"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}/ctl_plane_backups"" # Ceph authentication backup file tripleo_backup_and_restore_ceph_auth_file: ""ceph_auth_export.bak"" # If there is a firewalld active, setup the zone where the NFS server ports need to be opened tripleo_backup_and_restore_firewalld_zone: ""libvirt"" # The ReaR rpm installs a cronjob at 1:30 each day by default. This variable deactivate that behaviour. tripleo_backup_and_restore_remove_default_cronjob: true # Skip the ping test to the NFS server on rear setup tripleo_backup_and_restore_skip_nfs_test: false # How many seconds do we want to wait fir pcs cluster stop to finish tripleo_backup_and_restore_pcs_timeout: 3600 # Date argument to get the string of the backup tripleo_backup_and_restore_date_argument: '%Y%m%d%H%M' # Enable historical backups tripleo_backup_and_restore_historical: true # Cron programming, by default, run cron weekly at midnight on Sundays tripleo_backup_and_restore_cron: ""0 0 * * 0"" # The user that will run the backup command. If empty, root will run the backup command tripleo_backup_and_restore_cron_user: ""stack"" # Any extra parameters that will be added to the backup command when it is executed by cron tripleo_backup_and_restore_cron_extra: """" >>>>>>> CHANGE (6c3ec3 Remove the usage of ansible_date_time) ",,210,0
openstack%2Ftripleo-ansible~master~Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea,openstack/tripleo-ansible,master,Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea,Enable security group on the Octavia management port,MERGED,2021-07-21 13:51:07.000000000,2021-08-06 00:20:35.000000000,2021-08-06 00:20:35.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-21 13:51:07.000000000', 'files': ['tripleo_ansible/roles/octavia_controller_config/tasks/netport.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a767d65dbcd5f4523fb570c87c54f58de7cb10ae', 'message': 'Enable security group on the Octavia management port\n\nA dedicated security group (lb-health-mgr-sec-grp) is created for the\nOctavia management port but it was unused as the port was created with\nno-security-groups.\nThis commit enables this security group of the health-manager port.\n\nChange-Id: Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea\n'}]",0,801626,a767d65dbcd5f4523fb570c87c54f58de7cb10ae,12,4,1,29244,,,0,"Enable security group on the Octavia management port

A dedicated security group (lb-health-mgr-sec-grp) is created for the
Octavia management port but it was unused as the port was created with
no-security-groups.
This commit enables this security group of the health-manager port.

Change-Id: Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/801626/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_controller_config/tasks/netport.yml'],1,a767d65dbcd5f4523fb570c87c54f58de7cb10ae,, --security-group {{ lb_health_mgr_sec_grp_name }} \, --no-security-groups \ --port-security-enabled=False \,1,2
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ia0898c022604040a87b027f35a5878086ff80b50,openstack/tripleo-ansible,stable/victoria,Ia0898c022604040a87b027f35a5878086ff80b50,Remove the usage of ansible_date_time,MERGED,2021-07-21 08:00:22.000000000,2021-08-06 00:20:34.000000000,2021-08-06 00:20:34.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-21 08:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b65f48ff90e44e554b74574deafc4c40bf2e002', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n'}, {'number': 2, 'created': '2021-08-02 08:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/99900250ae281ce24f499e8372095f9398f93e42', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\nNot a clean cherry-pick due to the fact that the original, non-working\nfix[3] was not cherry-picked.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n[3] https://review.opendev.org/c/openstack/tripleo-ansible/+/795330\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)\n'}, {'number': 3, 'created': '2021-08-03 07:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d2d5183d98ae7e2e70197c59c9c19ee3593a72f', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\nNot a clean cherry-pick due to a conflict with variables.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)\n'}, {'number': 4, 'created': '2021-08-03 08:05:14.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/92d6579d523a645cff0e6168650f97a7eebbed0b', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\nNot a clean cherry-pick due to a conflict with variables.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)\n'}]",2,801579,92d6579d523a645cff0e6168650f97a7eebbed0b,20,6,4,32968,,,0,"Remove the usage of ansible_date_time

As this playbook is mainly intended to be used from the openstack CLI,
whose ansible runner has purposely disabled inject_facts_as_vars[1],
along with the default usage of the ""smart"" gathering_policy that does
not updates the facts on every run (which destroys the purpose of
attaching timestamps to files to get keep different files from different
runs), it seems better to re-introduce the previous way of implementing
dynamic (timestamped based) names[2]

This way uses the ""date"" OS command to obtain always a different
timestamp without mandating a new gather_facts every execution nor
having to use facts not injected as vars.

Not a clean cherry-pick due to a conflict with variables.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37
[2]
https://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43

Change-Id: Ia0898c022604040a87b027f35a5878086ff80b50
(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)
(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/801579/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,0b65f48ff90e44e554b74574deafc4c40bf2e002,change-801579-3,"<<<<<<< HEAD (ada1b4 Merge ""Remove become: true from the role"" into stable/victor) ======= # How many seconds do we want to wait fir pcs cluster stop to finish tripleo_backup_and_restore_pcs_timeout: 3600 # Date argument to get the string of the backup tripleo_backup_and_restore_date_argument: '%Y%m%d%H%M' # Enable historical backups tripleo_backup_and_restore_historical: true >>>>>>> CHANGE (be78f7 Remove the usage of ansible_date_time)",,52,0
openstack%2Ftripleo-ansible~stable%2Fussuri~Ia0898c022604040a87b027f35a5878086ff80b50,openstack/tripleo-ansible,stable/ussuri,Ia0898c022604040a87b027f35a5878086ff80b50,Remove the usage of ansible_date_time,MERGED,2021-08-03 07:44:22.000000000,2021-08-06 00:20:32.000000000,2021-08-06 00:20:32.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-08-03 07:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e7920e7ea9c68fdade4f394844ef2e868375696', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\nNot a clean cherry-pick due to a conflict with variables.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)\n'}, {'number': 2, 'created': '2021-08-03 07:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c3ec32cb496c9f84ee15f7bd681b7100da06feb', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)\n'}, {'number': 3, 'created': '2021-08-03 08:04:27.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a15bb9b7cd68094083f5864df1d1892633145503', 'message': 'Remove the usage of ansible_date_time\n\nAs this playbook is mainly intended to be used from the openstack CLI,\nwhose ansible runner has purposely disabled inject_facts_as_vars[1],\nalong with the default usage of the ""smart"" gathering_policy that does\nnot updates the facts on every run (which destroys the purpose of\nattaching timestamps to files to get keep different files from different\nruns), it seems better to re-introduce the previous way of implementing\ndynamic (timestamped based) names[2]\n\nThis way uses the ""date"" OS command to obtain always a different\ntimestamp without mandating a new gather_facts every execution nor\nhaving to use facts not injected as vars.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37\n[2]\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43\n\nChange-Id: Ia0898c022604040a87b027f35a5878086ff80b50\n(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)\n(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)\n'}]",0,803276,a15bb9b7cd68094083f5864df1d1892633145503,11,6,3,32968,,,0,"Remove the usage of ansible_date_time

As this playbook is mainly intended to be used from the openstack CLI,
whose ansible runner has purposely disabled inject_facts_as_vars[1],
along with the default usage of the ""smart"" gathering_policy that does
not updates the facts on every run (which destroys the purpose of
attaching timestamps to files to get keep different files from different
runs), it seems better to re-introduce the previous way of implementing
dynamic (timestamped based) names[2]

This way uses the ""date"" OS command to obtain always a different
timestamp without mandating a new gather_facts every execution nor
having to use facts not injected as vars.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/800934/1/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#37
[2]
https://review.opendev.org/c/openstack/tripleo-ansible/+/795330/3/tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml#43

Change-Id: Ia0898c022604040a87b027f35a5878086ff80b50
(cherry picked from commit be78f721245e5b47c58273e2c2744d34c71bb393)
(cherry picked from commit 86bb76a6d1ab5ad80d1d5e97ac6c36fc32452b6e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/803276/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,9e7920e7ea9c68fdade4f394844ef2e868375696,change-803276-2,"# Date argument to get the string of the backup tripleo_backup_and_restore_date_argument: '%Y%m%d%H%M' # Enable historical backups tripleo_backup_and_restore_historical: true tripleo_backup_and_restore_cron_extra: """"","tripleo_backup_and_restore_cron_extra: """" ",44,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I879abd53a17402a0860557d8e0e31ab0c560fcd4,openstack/tripleo-ansible,stable/train,I879abd53a17402a0860557d8e0e31ab0c560fcd4,Online backup of the galera database must desynchronize the node before backup,MERGED,2021-07-22 10:37:48.000000000,2021-08-06 00:12:50.000000000,2021-08-06 00:12:50.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-22 10:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b688e425127226f1c7c3cd2effe331ae80a1288', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n(cherry picked from commit dea5ae05694a64634bfc3df63bc176a1cbeab585)\n(cherry picked from commit bf60d71718f442296280080215f2de75cb8271ac)\n(cherry picked from commit 69a4efe4bfed592e187faa41609ba07c526a8fae)\n'}, {'number': 2, 'created': '2021-07-22 10:40:47.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/backup/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/48c0d5ff852e15c65450e343503438ecc7dbb51f', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\nNot a clean cherry pick due to different naming of the role directory.\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n(cherry picked from commit dea5ae05694a64634bfc3df63bc176a1cbeab585)\n(cherry picked from commit bf60d71718f442296280080215f2de75cb8271ac)\n(cherry picked from commit 69a4efe4bfed592e187faa41609ba07c526a8fae)\n'}]",0,801730,48c0d5ff852e15c65450e343503438ecc7dbb51f,26,7,2,32968,,,0,"Online backup of the galera database must desynchronize the node before backup

This fix aims to desynchonize the current node of the galera database to
avoid receiving any writes or syncs from the master node while the
backup is being performed, ensuring the consistency of the dump.

This procedure is specified on the product manual [1].

Not a clean cherry pick due to different naming of the role directory.

[1] https://galeracluster.com/library/training/tutorials/galera-backup.html

Closes-Bug: #1934654

Change-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4
(cherry picked from commit dea5ae05694a64634bfc3df63bc176a1cbeab585)
(cherry picked from commit bf60d71718f442296280080215f2de75cb8271ac)
(cherry picked from commit 69a4efe4bfed592e187faa41609ba07c526a8fae)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/801730/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'],1,0b688e425127226f1c7c3cd2effe331ae80a1288,change-801730-1,"<<<<<<< HEAD (5daaea Merge ""Move the snapshots feature to optional/beta"" into sta) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Create a backup for each database into seperate files. - name: Get database root password command: | hiera -c '{{ tripleo_backup_and_restore_hiera_config_file }}' 'mysql::server::root_password' when: mysql_password is undefined register: mysql_password no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" become: true tags: - bar_create_recover_image - name: Get galera bind_address command: | hiera -c '{{ tripleo_backup_and_restore_hiera_config_file }}' 'tripleo::profile::pacemaker::database::mysql::bind_address' when: tripleo_backup_and_restore_pacemaker_galera_bind_address is undefined register: tripleo_backup_and_restore_pacemaker_galera_bind_address become: true tags: - bar_create_recover_image - name: Disable galera when there is no pacemaker mysql bind address set_fact: enabled_galera: false when: tripleo_backup_and_restore_pacemaker_galera_bind_address.stdout == 'nil' tags: - bar_create_recover_image - name: Enable galera when there is pacemaker mysql bind address set_fact: enabled_galera: true when: tripleo_backup_and_restore_pacemaker_galera_bind_address.stdout != 'nil' tags: - bar_create_recover_image - name: Enable pacemaker if it is stopped command: pcs cluster start --all when: - enabled_galera - tripleo_backup_and_restore_service_manager|bool - not tripleo_backup_and_restore_enable_snapshots|bool run_once: true tags: - bar_create_recover_image - name: Wait until pacemaker has Galera up&running shell: | set -o pipefail ss -tunlp | grep "":3306 "" | sed -e 's/.*\///' register: mysql_result retries: 300 until: mysql_result is search('mysqld') delay: 5 when: - enabled_galera - tripleo_backup_and_restore_service_manager|bool - not tripleo_backup_and_restore_enable_snapshots|bool tags: - bar_create_recover_image - name: Get the mysql container id when galera is enabled shell: | set -o pipefail {{ tripleo_container_cli }} ps -a | grep galera | awk '{print $1}' when: enabled_galera register: galera_container_id become: true tags: - bar_create_recover_image - name: Set the tripleo_backup_and_restore_mysql_container id set_fact: tripleo_backup_and_restore_mysql_container: ""{{ galera_container_id.stdout }}"" when: enabled_galera tags: - bar_create_recover_image - name: Unpause mysql for backup if it is paused command: ""{{ tripleo_container_cli }} unpause {{ tripleo_backup_and_restore_mysql_container }}"" when: - mysql_password.stderr is defined - tripleo_backup_and_restore_mysql_container == ""mysql"" - not enabled_galera - tripleo_backup_and_restore_service_manager|bool failed_when: false tags: - bar_create_recover_image - name: Galera desync the MySQL node shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -p -u root \ -p{{ mysql_password.stdout }} --execute 'SET GLOBAL wsrep_desync = ON'"" when: - mysql_password.stderr is defined - enabled_galera - tripleo_backup_and_restore_enable_snapshots|bool or not tripleo_backup_and_restore_service_manager|bool tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: MySQL Grants backup shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -uroot \ -p{{ mysql_password.stdout }} -s -N \ -e \""SELECT CONCAT('\\\""SHOW GRANTS FOR ''',user,'''@''',host,''';\\\""') \ FROM mysql.user where (length(user) > 0 and user NOT LIKE 'root')\"" | xargs -n1 mysql \ -uroot -p{{ mysql_password.stdout }} -s -N -e | sed 's/$/;/' "" > {{ tripleo_backup_and_restore_mysql_grants_file }} when: mysql_password.stderr is defined tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: MySQL BBDDs backup shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -uroot \ -p{{ mysql_password.stdout }} -s -N \ -e \""select distinct table_schema from information_schema.tables \ where engine='innodb' and table_schema != 'mysql';\"" | xargs mysqldump -uroot \ -p{{ mysql_password.stdout }} --single-transaction --databases"" > {{ tripleo_backup_and_restore_mysql_backup_file }} when: mysql_password.stderr is defined tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: Galera sync the MySQL node shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -p -u root \ -p{{ mysql_password.stdout }} --execute 'SET GLOBAL wsrep_desync = OFF'"" when: - mysql_password.stderr is defined - enabled_galera - tripleo_backup_and_restore_enable_snapshots|bool or not tripleo_backup_and_restore_service_manager|bool tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: Pause mysql. command: ""{{ tripleo_container_cli }} pause {{ tripleo_backup_and_restore_mysql_container }}"" when: - mysql_password.stderr is defined - tripleo_backup_and_restore_mysql_container == ""mysql"" - not enabled_galera - tripleo_backup_and_restore_service_manager|bool - not tripleo_backup_and_restore_enable_snapshots|bool tags: - bar_create_recover_image - name: Stop pacemaker command: pcs cluster stop --all when: - enabled_galera - tripleo_backup_and_restore_service_manager|bool - not tripleo_backup_and_restore_enable_snapshots|bool run_once: true tags: - bar_create_recover_image >>>>>>> CHANGE (69a4ef Online backup of the galera database must desynchronize the ) ",,178,0
openstack%2Ftripleo-ansible~master~Iac6c0acb49582aeddead718834a8fe9d84babb15,openstack/tripleo-ansible,master,Iac6c0acb49582aeddead718834a8fe9d84babb15,frr: Add entry points to be able to customize the config,MERGED,2021-07-30 08:13:09.000000000,2021-08-06 00:00:57.000000000,2021-08-06 00:00:57.000000000,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-30 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d244f277ef9a32a42e844ed572d7a3a79719bb4c', 'message': 'WIP frr: Add template entry points to customize the config a bit\n\nChange-Id: Iac6c0acb49582aeddead718834a8fe9d84babb15\n'}, {'number': 2, 'created': '2021-08-02 07:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/294e2d6c9753e7078ec2730a991b77261be2a385', 'message': 'WIP frr: Add template entry points to customize the config a bit\n\nChange-Id: Iac6c0acb49582aeddead718834a8fe9d84babb15\n'}, {'number': 3, 'created': '2021-08-02 11:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/771b31e0ce6eea1427c8f9fcf1d6ba3af69eda86', 'message': 'frr: Add template entry points to customize the config a bit\n\nFor example, this can be useful to inject some custom lines\nat different points. Tested with increasing debug level for frr:\n  ControllerExtraGroupVars:\n    tripleo_frr_conf_custom_globals: |\n      debug bfd peer\n      debug bfd network\n      debug bfd zebra\n      debug bgp graceful-restart\n      debug bgp neighbor-events\n      debug bgp updates\n      debug bgp update-groups\n\nAnd correctly got the lines in frr.conf\n\nChange-Id: Iac6c0acb49582aeddead718834a8fe9d84babb15\n'}, {'number': 4, 'created': '2021-08-02 16:08:36.000000000', 'files': ['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/43ad812e60b303456af6ee2bb604402cc70ca0a5', 'message': 'frr: Add entry points to be able to customize the config\n\nFor example, this can be useful to inject some custom lines\nat different points. Tested with increasing debug level for frr:\n  ControllerExtraGroupVars:\n    tripleo_frr_conf_custom_globals: |\n      debug bfd peer\n      debug bfd network\n      debug bfd zebra\n      debug bgp graceful-restart\n      debug bgp neighbor-events\n      debug bgp updates\n      debug bgp update-groups\n\nAnd correctly got the lines in frr.conf:\n[root@ctrl-1-0 frr]# grep -B2 ^debug /var/lib/config-data/ansible-generated/frr/etc/frr/frr.conf |head -n5\nservice integrated-vtysh-config\nline vty\ndebug bfd peer\ndebug bfd network\ndebug bfd zebra\n\nChange-Id: Iac6c0acb49582aeddead718834a8fe9d84babb15\n'}]",0,802993,43ad812e60b303456af6ee2bb604402cc70ca0a5,19,6,4,20172,,,0,"frr: Add entry points to be able to customize the config

For example, this can be useful to inject some custom lines
at different points. Tested with increasing debug level for frr:
  ControllerExtraGroupVars:
    tripleo_frr_conf_custom_globals: |
      debug bfd peer
      debug bfd network
      debug bfd zebra
      debug bgp graceful-restart
      debug bgp neighbor-events
      debug bgp updates
      debug bgp update-groups

And correctly got the lines in frr.conf:
[root@ctrl-1-0 frr]# grep -B2 ^debug /var/lib/config-data/ansible-generated/frr/etc/frr/frr.conf |head -n5
service integrated-vtysh-config
line vty
debug bfd peer
debug bfd network
debug bfd zebra

Change-Id: Iac6c0acb49582aeddead718834a8fe9d84babb15
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/802993/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_frr/defaults/main.yml', 'tripleo_ansible/roles/tripleo_frr/templates/frr.conf.j2']",2,d244f277ef9a32a42e844ed572d7a3a79719bb4c,frr-custom-entries,{{ tripleo_frr_conf_custom_globals }} {{ tripleo_frr_conf_custom_router_bgp }}{{ tripleo_frr_conf_custom_ipv4 }}{{ tripleo_frr_conf_custom_ipv6 }},,8,0
openstack%2Ftripleo-ci~master~I8fc972a1c1b3c7fd52ae24acc8c8334d7b7e32d2,openstack/tripleo-ci,master,I8fc972a1c1b3c7fd52ae24acc8c8334d7b7e32d2,CI: Test ironic puppet manifests in standalone job,MERGED,2021-07-14 16:06:45.000000000,2021-08-05 23:46:24.000000000,2021-08-05 23:46:24.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-14 16:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d3638cd34f867ad835d0d4e3de31474de0bac0b', 'message': 'CI: Test ironic puppet manifests in standalone job\n\nThis change ensures that any change in puppet-tripleo related to Ironic\ntriggers the senario 012 standalone job which enables Ironic.\n\nChange-Id: I8fc972a1c1b3c7fd52ae24acc8c8334d7b7e32d2\n'}, {'number': 2, 'created': '2021-07-14 16:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e1e21c1a5dba8d01dba8fe76a51045495b31e1d', 'message': 'CI: Test ironic puppet manifests in standalone job\n\nThis change ensures that any change in puppet-tripleo related to Ironic\ntriggers the senario 012 standalone job which enables Ironic.\n\nChange-Id: I8fc972a1c1b3c7fd52ae24acc8c8334d7b7e32d2\n'}, {'number': 3, 'created': '2021-07-24 04:57:19.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e63114c2d2962d1a0820c6cce169312d3a03373', 'message': 'CI: Test ironic puppet manifests in standalone job\n\nThis change ensures that any change in puppet-tripleo related to Ironic\ntriggers the senario 012 standalone job which enables Ironic.\n\nChange-Id: I8fc972a1c1b3c7fd52ae24acc8c8334d7b7e32d2\n'}]",2,800807,2e63114c2d2962d1a0820c6cce169312d3a03373,19,4,3,9816,,,0,"CI: Test ironic puppet manifests in standalone job

This change ensures that any change in puppet-tripleo related to Ironic
triggers the senario 012 standalone job which enables Ironic.

Change-Id: I8fc972a1c1b3c7fd52ae24acc8c8334d7b7e32d2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/07/800807/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,2d3638cd34f867ad835d0d4e3de31474de0bac0b,standalone-trigger, - ^manifests/profile/(base|pacemaker)/ironic\.pp$ - ^manifests/profile/(base|pacemaker)/ironic/.*$,,2,0
openstack%2Ftripleo-ci~master~I1bff7d664aac833fc5704ede5fd58f7fac0f3e4b,openstack/tripleo-ci,master,I1bff7d664aac833fc5704ede5fd58f7fac0f3e4b,CI: Trigger standalone job for changes related to iscsid,MERGED,2021-07-14 15:55:49.000000000,2021-08-05 23:44:48.000000000,2021-08-05 23:44:48.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-14 15:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a8229e75e1341ecbf4d7293da6e352f60a721994', 'message': 'Trigger standalone job for any changes related to iscsid\n\nThis change ensures that the standalone job with cinder iscsi(lvm)\nbackend is executed when any template or puppet manifest for iscsid\nservice is updated.\n\nChange-Id: I1bff7d664aac833fc5704ede5fd58f7fac0f3e4b\n'}, {'number': 2, 'created': '2021-07-14 16:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b9f40bf4ff72699b2f10fdc4afbfd322798420ae', 'message': 'CI: Trigger standalone job for any changes related to iscsid\n\nThis change ensures that the standalone job with cinder iscsi(lvm)\nbackend is executed when any template or puppet manifest for iscsid\nservice is updated.\n\nChange-Id: I1bff7d664aac833fc5704ede5fd58f7fac0f3e4b\n'}, {'number': 3, 'created': '2021-07-14 16:09:26.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ed2ff622cdba177c6d39753be0239ae6c5847707', 'message': 'CI: Trigger standalone job for changes related to iscsid\n\nThis change ensures that the standalone job with cinder iscsi(lvm)\nbackend is executed when any template or puppet manifest for iscsid\nservice is updated.\n\nChange-Id: I1bff7d664aac833fc5704ede5fd58f7fac0f3e4b\n'}]",0,800805,ed2ff622cdba177c6d39753be0239ae6c5847707,15,4,3,9816,,,0,"CI: Trigger standalone job for changes related to iscsid

This change ensures that the standalone job with cinder iscsi(lvm)
backend is executed when any template or puppet manifest for iscsid
service is updated.

Change-Id: I1bff7d664aac833fc5704ede5fd58f7fac0f3e4b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/05/800805/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,a8229e75e1341ecbf4d7293da6e352f60a721994,standalone-trigger, - ^((docker|puppet)/services|deployment)/.*iscsid.*$ - ^manifests/profile/(base|pacemaker)/iscsid.*$,,2,0
openstack%2Fcinder~master~Ic73ee64257aeb024383c6cb79f2e8c04810aaf69,openstack/cinder,master,Ic73ee64257aeb024383c6cb79f2e8c04810aaf69,Remove file locks once we delete a resource,MERGED,2019-10-18 14:41:48.000000000,2021-08-05 23:20:42.000000000,2021-08-05 15:59:16.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28522}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 32159}, {'_account_id': 32291}]","[{'number': 1, 'created': '2019-10-18 14:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/73ff876f0692068a4a02d5bc4993f8aa4272b46d', 'message': ""WIP: Remove file locks once we delete a volume\n\nTo avoid leaving leftover locks we delete them on volume and snapshot\ndeletion.\n\nRight now this is only relevant for Active-Passive deployments, because\nActive-Active deployments don't use dynamic file locks (may change if\ndrivers start using them) and TooZ non-file drivers tend to clean up\nafter themselves (ie: etcd3).\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs at startup and\ncleans of the locks directory before the OpenStack services are started.\n\nPS: Path is missing unit tests, manual testing, and release note\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n""}, {'number': 2, 'created': '2020-06-08 16:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c5102896741a09e180c8ec1d47b7ae00bfcb997', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 3, 'created': '2020-06-23 12:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5dc9788055033c0992c31ea699a83ea963d221c', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 4, 'created': '2020-09-16 10:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4db88b1cac653165d780f8aeb1f4643d984e6e8', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 5, 'created': '2020-09-16 11:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77e5f4668e143829e55cdc3af18c82342de16c57', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 6, 'created': '2020-11-03 18:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6497eb7b214f340901f273b82e9379ed4a139850', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 7, 'created': '2021-01-15 14:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/be7d390fd0793da35809b164f9225a79ceda8ca5', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 8, 'created': '2021-03-22 17:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/628189f045bcbe9d7edb118a4cf314e95a5ae55b', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 9, 'created': '2021-03-26 10:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18d64b63b590e48626761cd60b9a13228e27f78d', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 10, 'created': '2021-04-15 14:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba3314273abd8408141e58e53f7467bdff454ebc', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 11, 'created': '2021-05-13 15:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c83dff860e51e037f9bb1747424948872d7c0fdc', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 12, 'created': '2021-05-13 15:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/be7420314d24f5027cdb3bd082adf2b828515ea4', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 13, 'created': '2021-05-17 11:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/af5a7feb20cee93b3fe6e7068f06e318ebef7282', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 14, 'created': '2021-06-24 11:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/43b40ad860d5a80dc617667c0dcaf40502dc6514', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}, {'number': 15, 'created': '2021-08-04 14:42:09.000000000', 'files': ['cinder/volume/manager.py', 'cinder/coordination.py', 'cinder/tests/unit/volume/test_snapshot.py', 'doc/source/contributor/high_availability.rst', 'cinder/volume/flows/manager/create_volume.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/tests/unit/volume/__init__.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'releasenotes/notes/clean-file-locks-on-remove-e5898012f4114d3c.yaml', 'cinder/tests/unit/test_utils.py', 'cinder/tests/unit/test_coordination.py', 'cinder/utils.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2f6ec5569b1c1b68f567392cfc03a6476169b4b', 'message': 'Remove file locks once we delete a resource\n\nFile locks are never removed from the system, so they keep increasing in\nthe locks directory, which can become problematic.\n\nIn this patch we start trying to delete these lock files when we delete\na volume or a snapshot.\n\nThis affects the 2 type of file locks we currently have:\n- Using oslo lockutils synchronized with external=True\n- Using coordination.synchronized when deployed in Active-Passive and no\n  DLM\n\nThis will alleviate the ever increasing files in the locks directory.\nDeployment tools should implement a service that runs when the host is\nbooting and cleans of the locks directory before the OpenStack services\nare started.\n\nPartial-Bug: #1432387\nChange-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69\n'}]",16,689486,d2f6ec5569b1c1b68f567392cfc03a6476169b4b,379,46,15,9535,,,0,"Remove file locks once we delete a resource

File locks are never removed from the system, so they keep increasing in
the locks directory, which can become problematic.

In this patch we start trying to delete these lock files when we delete
a volume or a snapshot.

This affects the 2 type of file locks we currently have:
- Using oslo lockutils synchronized with external=True
- Using coordination.synchronized when deployed in Active-Passive and no
  DLM

This will alleviate the ever increasing files in the locks directory.
Deployment tools should implement a service that runs when the host is
booting and cleans of the locks directory before the OpenStack services
are started.

Partial-Bug: #1432387
Change-Id: Ic73ee64257aeb024383c6cb79f2e8c04810aaf69
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/689486/10 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/flows/manager/create_volume.py', 'cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'cinder/utils.py', 'cinder/volume/api.py']",7,73ff876f0692068a4a02d5bc4993f8aa4272b46d,remove-locks, # Cleanup the lock of the remove attachment if attachment.connector: utils.synchronized_remove('attachment_update-' + volume.id + '-' + attachment.connector['host']),,66,14
openstack%2Fnova~master~Ic28d2e53d5f50e89635e19df08699f2b8c5cea84,openstack/nova,master,Ic28d2e53d5f50e89635e19df08699f2b8c5cea84,Restore original time override in test_archive_task_logs,MERGED,2021-07-31 16:08:28.000000000,2021-08-05 23:07:06.000000000,2021-08-02 14:43:11.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-31 16:08:28.000000000', 'files': ['nova/tests/functional/test_nova_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39ef1ad774859562183190f74831a115698e6836', 'message': 'Restore original time override in test_archive_task_logs\n\nChange I9b16a3a849937aba5b90ed1ab9a80b7f0103f673 attempted to fix a\nnon-determinstic failure in the test_archive_task_logs functional test\nby adding a time override. That fix however missed that the\nosloutils_fixture.TimeFixture clears the time override when it exits\nand that does not mean a previous time override will be restored.\n\nThis removes usage of the osloutils_fixture.TimeFixture and instead\nsets time overrides and restores previous time overrides. Restoration\nof the original time overrides also made an adjustment to the --before\noption value necessary in order to pick up the first task_log record.\n\nCloses-Bug: #1934519\n\nChange-Id: Ic28d2e53d5f50e89635e19df08699f2b8c5cea84\n'}]",4,803106,39ef1ad774859562183190f74831a115698e6836,16,4,1,4690,,,0,"Restore original time override in test_archive_task_logs

Change I9b16a3a849937aba5b90ed1ab9a80b7f0103f673 attempted to fix a
non-determinstic failure in the test_archive_task_logs functional test
by adding a time override. That fix however missed that the
osloutils_fixture.TimeFixture clears the time override when it exits
and that does not mean a previous time override will be restored.

This removes usage of the osloutils_fixture.TimeFixture and instead
sets time overrides and restores previous time overrides. Restoration
of the original time overrides also made an adjustment to the --before
option value necessary in order to pick up the first task_log record.

Closes-Bug: #1934519

Change-Id: Ic28d2e53d5f50e89635e19df08699f2b8c5cea84
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/803106/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_nova_manage.py'],1,39ef1ad774859562183190f74831a115698e6836,bug/1934519," self.faketoday = datetime.datetime(2021, 7, 1) self.useFixture(test.TimeOverride(override_time=self.faketoday)) # Create a few servers for the periodic task to process. timeutils.set_time_override(future) # task_log records are generated by the _instance_usage_audit # periodic task. compute.manager._instance_usage_audit(ctxt) # Audit period defaults to 1 month, the last audit period will # be the previous calendar month. begin, end = nova_utils.last_completed_audit_period() # Verify that we have 1 task_log record per audit period. task_logs = objects.TaskLogList.get_all( ctxt, 'instance_usage_audit', begin, end) self.assertEqual(1, len(task_logs)) # Restore original time override. timeutils.set_time_override(self.faketoday) # The task_log records were created/updated on 2021-08-01, 2021-09-01, # and 2021-10-01. So to archive one record, we need to use # before > 2021-08-01. 2021-07-01 + 31 + 1 = 2021-08-02 before = timeutils.utcnow() + datetime.timedelta(days=31 + 1) self.faketoday = datetime.datetime(2021, 7, 1) self.useFixture(test.TimeOverride(override_time=self.faketoday)) # Create servers for the periodic task to process. timeutils.set_time_override(future) # task_log records are generated by the _instance_usage_audit # periodic task. with context.target_cell( ctxt, self.cell_mappings['cell1']) as cctxt: self.compute1.manager._instance_usage_audit(cctxt) with context.target_cell( ctxt, self.cell_mappings['cell2']) as cctxt: self.compute2.manager._instance_usage_audit(ctxt) # Audit period defaults to 1 month, the last audit period will # be the previous calendar month. begin, end = nova_utils.last_completed_audit_period() # Restore original time override. timeutils.set_time_override(self.faketoday) # The task_log records were created/updated on 2021-08-01, 2021-09-01, # and 2021-10-01. So to archive one record, we need to use # before > 2021-08-01. 2021-07-01 + 31 + 1 = 2021-08-02 before = timeutils.utcnow() + datetime.timedelta(days=31 + 1)","from oslo_utils import fixture as osloutils_fixture faketoday = datetime.datetime(2021, 7, 1) self.useFixture(test.TimeOverride(override_time=faketoday)) # Create a few servers so the for the periodic task to process. with osloutils_fixture.TimeFixture(future): # task_log records are generated by the _instance_usage_audit # periodic task. compute.manager._instance_usage_audit(ctxt) # Audit period defaults to 1 month, the last audit period will # be the previous calendar month. begin, end = nova_utils.last_completed_audit_period() # Verify that we have 1 task_log record per audit period. task_logs = objects.TaskLogList.get_all( ctxt, 'instance_usage_audit', begin, end) self.assertEqual(1, len(task_logs)) before = timeutils.utcnow() + datetime.timedelta(days=31) faketoday = datetime.datetime(2021, 7, 1) self.useFixture(test.TimeOverride(override_time=faketoday)) # Create servers so the for the periodic task to process. with osloutils_fixture.TimeFixture(future): # task_log records are generated by the _instance_usage_audit # periodic task. with context.target_cell( ctxt, self.cell_mappings['cell1']) as cctxt: self.compute1.manager._instance_usage_audit(cctxt) with context.target_cell( ctxt, self.cell_mappings['cell2']) as cctxt: self.compute2.manager._instance_usage_audit(ctxt) # Audit period defaults to 1 month, the last audit period will # be the previous calendar month. begin, end = nova_utils.last_completed_audit_period() before = timeutils.utcnow() + datetime.timedelta(days=31)",41,32
openstack%2Fneutron~master~Ib8be66c3068309832e08066af4e0b75c30e8163a,openstack/neutron,master,Ib8be66c3068309832e08066af4e0b75c30e8163a,Skip DVR binding for ports with invalid OFPORT,MERGED,2021-08-02 13:51:12.000000000,2021-08-05 22:27:41.000000000,2021-08-04 16:34:19.000000000,"[{'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-02 13:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d4c8a15b8e86b807a4f43c37a4f5251f47cf2a7', 'message': '[DNM] Test DVR-HA job with reduced ofctl timeout\n\nRelated-Bug: #1938685\nChange-Id: Ib8be66c3068309832e08066af4e0b75c30e8163a\n'}, {'number': 2, 'created': '2021-08-03 10:56:23.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/63a2a65bbe9ab2ec054f47f581b505dfeb441307', 'message': 'Skip DVR binding for ports with invalid OFPORT\n\nInvalid OFPORT (-1) causes ofctl errors and timeouts if set\nit as output in a flow rule.\n\nCloses-Bug: #1938685\nChange-Id: Ib8be66c3068309832e08066af4e0b75c30e8163a\n'}]",1,803211,63a2a65bbe9ab2ec054f47f581b505dfeb441307,34,6,2,5948,,,0,"Skip DVR binding for ports with invalid OFPORT

Invalid OFPORT (-1) causes ofctl errors and timeouts if set
it as output in a flow rule.

Closes-Bug: #1938685
Change-Id: Ib8be66c3068309832e08066af4e0b75c30e8163a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/803211/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/plugins/ml2/drivers/ovs_conf.py'],1,1d4c8a15b8e86b807a4f43c37a4f5251f47cf2a7,bug/1938685," cfg.IntOpt('of_request_timeout', default=30,"," cfg.IntOpt('of_request_timeout', default=300,",1,1
openstack%2Fopenstack-helm-infra~master~I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f,openstack/openstack-helm-infra,master,I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f,cert-rotation: New chart for certificate rotation,MERGED,2021-04-26 18:26:47.000000000,2021-08-05 22:15:10.000000000,2021-08-05 22:13:57.000000000,"[{'_account_id': 18213}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28719}, {'_account_id': 29585}, {'_account_id': 30495}, {'_account_id': 30515}, {'_account_id': 33282}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-04-26 18:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e7abe1a92b2e8e3cbe83886334d59c1138718512', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 2, 'created': '2021-04-26 19:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d97347cbe17d7d897c5b3e4069b430ca58e24031', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 3, 'created': '2021-04-28 21:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e270f63731d0e93a7f8059bf25299e2205ca50e8', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 4, 'created': '2021-04-28 21:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d4b9ecdffb64be729c2985f76f034bea990cf99e', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 5, 'created': '2021-05-07 19:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b4900b38b4176f612aeb8be0bc61323cf3611ff8', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 6, 'created': '2021-05-08 01:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e595e0577d0fd5c291cb77d967091144206a3b8', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 7, 'created': '2021-06-16 20:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21290254a5f9370e8342553a172849a0b7f41ad5', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 8, 'created': '2021-06-18 21:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0eb536891937742e5b22db2ed74f8711c9becda5', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 9, 'created': '2021-06-18 21:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff72c3ad2bc1d6e10ba5c77f097b617572bddc08', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 10, 'created': '2021-07-07 19:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97004eac9d9652199bb0a9a860a43f733a9d662c', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 11, 'created': '2021-07-07 19:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d292289a8726526b6bfd8faae464717e0ecb4f85', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 12, 'created': '2021-07-13 16:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f218d9723ecdbd988f86839ee79df9e1bd77acf', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 13, 'created': '2021-07-27 18:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0af285bcc35cf87a344853d63a1a8282276ed836', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 14, 'created': '2021-07-27 19:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9f9ee37e0b394efd697246a4d533d79c050907fa', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 15, 'created': '2021-08-03 21:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd7243285a360b8f1a16e03cf69712dfc8306459', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 16, 'created': '2021-08-03 21:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ecfc7145c86e6e6f2d5a94accb69e9569a9beaf', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 17, 'created': '2021-08-03 21:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bfe83ed73be59ea12a45b63cfa0576afe116909', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 18, 'created': '2021-08-04 18:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6984f2e7bca18e8587f7f04da2cb92a1594e2fd4', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 19, 'created': '2021-08-05 14:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8b8b21d17cc533d29966bb6257b14f357344789e', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 20, 'created': '2021-08-05 16:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9c0b464e4ce6561695faf8a85171953b19e31f73', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}, {'number': 21, 'created': '2021-08-05 17:46:20.000000000', 'files': ['cert-rotation/templates/configmap-bin.yaml', 'releasenotes/notes/cert-rotation.yaml', 'cert-rotation/Chart.yaml', 'cert-rotation/templates/job-cert-rotate.yaml', 'cert-rotation/requirements.yaml', 'cert-rotation/values.yaml', 'cert-rotation/templates/bin/_rotate-certs.sh.tpl', 'cert-rotation/templates/cron-job-cert-rotate.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f94aed3c7a0cbef1b3ad3362a511ac7ab56315cc', 'message': 'cert-rotation: New chart for certificate rotation\n\nThis chart creates a cronjob which monitors the expiry of the\ncertificates created by jetstack cert-manager. It rotates the\ncertificates and restarts the pods that mounts the certificate\nsecrets so that the new certificate can take effect.\n\nChange-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f\n'}]",56,788061,f94aed3c7a0cbef1b3ad3362a511ac7ab56315cc,121,15,21,24780,,,0,"cert-rotation: New chart for certificate rotation

This chart creates a cronjob which monitors the expiry of the
certificates created by jetstack cert-manager. It rotates the
certificates and restarts the pods that mounts the certificate
secrets so that the new certificate can take effect.

Change-Id: I492b5f319cf0f2e7ccbbcf516953e17aafc1c59f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/788061/11 && git format-patch -1 --stdout FETCH_HEAD,"['cert-rotation/Chart.yaml', 'cert-rotation/templates/configmap-bin.yaml', 'releasenotes/notes/cert-rotation.yaml', 'cert-rotation/requirements.yaml', 'cert-rotation/templates/bin/_rotate-certs.sh.tpl', 'cert-rotation/values.yaml', 'cert-rotation/templates/cron-job-cert-rotate.yaml']",7,e7abe1a92b2e8e3cbe83886334d59c1138718512,change-788061-9,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.cron_job_cert_rotate}} {{- $envAll := . }} {{- $serviceAccountName := ""cert-rotate-cron"" }} {{ tuple $envAll ""cert_rotate"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: rbac.authorization.k8s.io/v1 kind: Role metadata: name: {{ $serviceAccountName }} rules: - apiGroups: - cert-manager.io resources: - certificates verbs: - get - list - update - patch - apiGroups: - """" resources: - pods - secrets verbs: - get - list - update - patch - delete --- apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: {{ $serviceAccountName }} roleRef: apiGroup: rbac.authorization.k8s.io kind: Role name: {{ $serviceAccountName }} subjects: - kind: ServiceAccount name: {{ $serviceAccountName }} namespace: {{ $envAll.Release.Namespace }} --- apiVersion: batch/v1beta1 kind: CronJob metadata: name: cert-rotate annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" }} labels: {{ tuple $envAll ""cert-manager"" ""cert-rotate"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} spec: schedule: {{ .Values.jobs.rotate.cron | quote }} successfulJobsHistoryLimit: {{ .Values.jobs.rotate.history.success }} failedJobsHistoryLimit: {{ .Values.jobs.rotate.history.failed }} {{- if .Values.jobs.rotate.starting_deadline }} startingDeadlineSeconds: {{ .Values.jobs.rotate.starting_deadline }} {{- end }} concurrencyPolicy: Forbid jobTemplate: metadata: labels: {{ tuple $envAll ""cert-manager"" ""cert-rotate"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} spec: template: metadata: labels: {{ tuple $envAll ""cert-manager"" ""cert-rotate"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 12 }} spec: serviceAccountName: {{ $serviceAccountName }} {{ dict ""envAll"" $envAll ""application"" ""cert-rotate"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 10 }} restartPolicy: OnFailure nodeSelector: {{ .Values.labels.job.node_selector_key }}: {{ .Values.labels.job.node_selector_value }} initContainers: {{ tuple $envAll ""cert_rotate"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 12 }} containers: - name: cert-rotate {{ tuple $envAll ""cert_rotation"" | include ""helm-toolkit.snippets.image"" | indent 14 }} {{ tuple $envAll $envAll.Values.pod.resources.jobs.cert_rotate | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 14 }} {{ dict ""envAll"" $envAll ""application"" ""cert_rotate"" ""container"" ""cert_rotate"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 14 }} command: [""/bin/sh"", ""-ec"", ""sleep 540""] volumeMounts: - name: pod-tmp mountPath: /tmp - name: cert-rotate-bin mountPath: /tmp/rotate-certs.sh subPath: rotate-certs.sh readOnly: true volumes: - name: pod-tmp emptyDir: {} - name: cert-rotate-bin configMap: name: cert-rotate-bin defaultMode: 0555 {{- end }} ",,323,0
openstack%2Fcinder~master~I82d067a9a22080a6c69d85bc42613bf2e7c46f84,openstack/cinder,master,I82d067a9a22080a6c69d85bc42613bf2e7c46f84,trivial: Fix note indentation in volume-encryption docs,ABANDONED,2021-03-08 21:26:56.000000000,2021-08-05 21:56:13.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-08 21:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff803e81590f600f19b882fc23fdcf62c88a9f44', 'message': ""trivial: Fix note indendataion in volume-encryption docs\n\nThe volume encryption does have a code snippet above a note. The\nrendered version of the document doesn't actually render the note\nbecause it's translated as configuration ini format.\n\nChange-Id: I82d067a9a22080a6c69d85bc42613bf2e7c46f84\n""}, {'number': 2, 'created': '2021-03-08 21:27:20.000000000', 'files': ['doc/source/configuration/block-storage/volume-encryption.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc203ed61b8887c01fc7088f969f5a61c348a072', 'message': ""trivial: Fix note indentation in volume-encryption docs\n\nThe volume encryption does have a code snippet above a note. The\nrendered version of the document doesn't actually render the note\nbecause it's translated as configuration ini format.\n\nChange-Id: I82d067a9a22080a6c69d85bc42613bf2e7c46f84\n""}]",3,779367,cc203ed61b8887c01fc7088f969f5a61c348a072,28,3,2,5046,,,0,"trivial: Fix note indentation in volume-encryption docs

The volume encryption does have a code snippet above a note. The
rendered version of the document doesn't actually render the note
because it's translated as configuration ini format.

Change-Id: I82d067a9a22080a6c69d85bc42613bf2e7c46f84
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/779367/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/volume-encryption.rst'],1,ff803e81590f600f19b882fc23fdcf62c88a9f44,,.. note:: Use a '#' prefix to comment out the line in this section that begins with 'fixed_key'., .. note:: Use a '#' prefix to comment out the line in this section that begins with 'fixed_key'.,3,3
openstack%2Fglance~master~Ib6540223468421776f07745010e5d4afe5d58774,openstack/glance,master,Ib6540223468421776f07745010e5d4afe5d58774,Make property protection tests use member role,MERGED,2021-05-05 15:59:21.000000000,2021-08-05 21:53:13.000000000,2021-07-16 16:18:32.000000000,"[{'_account_id': 5046}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/14451ba55c8679995bc7d23cb23f789806322d82', 'message': 'WIP: Make property protection tests use member\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, but I think that\nis likely a case of ""test the current behavior not the desired one"",\nbut I could be mistaken.\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 2, 'created': '2021-06-02 19:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f6ac5139087590cd8e0503a4af0f4ae35a878f28', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 3, 'created': '2021-06-11 21:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3fdfdc8e60fa2061f0f19b3f54779b7e177315cf', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 4, 'created': '2021-06-23 17:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/439af9f93472a789bff96c572bb6a64fc62dd6fb', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 5, 'created': '2021-06-25 10:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d6c6545ffa84bf13fc625c20a08e21189c16983c', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 6, 'created': '2021-06-28 17:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1f8c317ed87b18198b0e91504e464cda746a26b7', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 7, 'created': '2021-07-02 14:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/784ee8c074f1c36ca6447330dc755631e14ca2bb', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 8, 'created': '2021-07-06 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/193b6e903686788e7c49f34ef8d97e4c14f88869', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 9, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/662229ce16af78096c4ed0e101b29ae7d29f5ea5', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 10, 'created': '2021-07-14 14:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/566d3429109f4ea14de5ada8e54421980b4d7b21', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 11, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/721be05cc578ba97a07ed3b6bedf40d01e795b0d', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}, {'number': 12, 'created': '2021-07-16 13:56:40.000000000', 'files': ['glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/76162a7222c3d2c5eeae03ca7a710cd6401b36da', 'message': 'Make property protection tests use member role\n\nIn order to avoid overriding the default policy in tests to be\ncompletely unrestricted (as they are today), the property protection\ntests need to add the member role into the roles being used to\ntest the additional permissions. This is because the actual default\npolicies require ""admin or project member"" permissions to do anything,\nand just using one of the special roles will get blocked by the\nregular policy before property protections are checked.\n\nThis could also be fixed by constructing a very complex policy for\nthese tests which allows those special roles to do their thing in\naddition to member, but I do not believe this is how real deployments\nwould actually implement it.\n\nThese should definitely be reviewed with scrutiny to make sure that\nall the assertions are still valid, and make sure we don\'t need more\nthan are already here.\n\nNote that there are a couple assertions that were looking for CONFLICT\ninstead of FORBIDDEN on the special role attempt, that seems to be\na case of ""test the current behavior not the desired one"".\n\nChange-Id: Ib6540223468421776f07745010e5d4afe5d58774\n'}]",9,789914,76162a7222c3d2c5eeae03ca7a710cd6401b36da,43,6,12,4393,,,0,"Make property protection tests use member role

In order to avoid overriding the default policy in tests to be
completely unrestricted (as they are today), the property protection
tests need to add the member role into the roles being used to
test the additional permissions. This is because the actual default
policies require ""admin or project member"" permissions to do anything,
and just using one of the special roles will get blocked by the
regular policy before property protections are checked.

This could also be fixed by constructing a very complex policy for
these tests which allows those special roles to do their thing in
addition to member, but I do not believe this is how real deployments
would actually implement it.

These should definitely be reviewed with scrutiny to make sure that
all the assertions are still valid, and make sure we don't need more
than are already here.

Note that there are a couple assertions that were looking for CONFLICT
instead of FORBIDDEN on the special role attempt, that seems to be
a case of ""test the current behavior not the desired one"".

Change-Id: Ib6540223468421776f07745010e5d4afe5d58774
",git fetch https://review.opendev.org/openstack/glance refs/changes/14/789914/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images.py'],1,14451ba55c8679995bc7d23cb23f789806322d82,metadef-policy-poc," 'X-Roles': 'member,spl_role'}) 'X-Roles': 'member,spl_role'}) 'X-Roles': 'member,spl_role'}) 'X-Roles': 'member,spl_role'}) 'X-Roles': 'member,spl_role'}) 'X-Roles': 'member, spl_role, admin'}) 'X-Roles': 'member,spl_role'}) 'X-Roles': 'member,joe_soap'}) 'X-Roles': 'member,joe_soap'}) 'X-Roles': 'member,joe_soap'}) # FIXME(danms): This was expecting CONFLICT, but ... should it # not be the same as the admin case above? self.assertEqual(http.FORBIDDEN, response.status_code, response.text) 'X-Roles': 'member,joe_soap'}) # FIXME(danms): This was expecting CONFLICT, but ... should it # not be the same as the admin case above? self.assertEqual(http.FORBIDDEN, response.status_code, response.text) 'X-Roles': 'member,joe_soap'}) 'X-Roles': 'member,joe_soap'}) 'X-Roles': 'member,joe_soap'}) 'X-Roles': 'member,joe_soap'}) 'X-Roles': 'member,joe_soap'}) 'X-Roles': 'member,joe_soap'}) 'X-Roles': 'member,joe_soap'})"," 'X-Roles': 'spl_role'}) 'X-Roles': 'spl_role'}) 'X-Roles': 'spl_role'}) 'X-Roles': 'spl_role'}) 'X-Roles': 'spl_role'}) 'X-Roles': 'spl_role, admin'}) 'X-Roles': 'spl_role'}) 'X-Roles': 'joe_soap'}) 'X-Roles': 'joe_soap'}) 'X-Roles': 'joe_soap'}) self.assertEqual(http.CONFLICT, response.status_code, response.text) 'X-Roles': 'joe_soap'}) self.assertEqual(http.CONFLICT, response.status_code, response.text) 'X-Roles': 'joe_soap'}) 'X-Roles': 'joe_soap'}) 'X-Roles': 'joe_soap'}) 'X-Roles': 'joe_soap'}) 'X-Roles': 'joe_soap'}) 'X-Roles': 'joe_soap'}) 'X-Roles': 'joe_soap'})",24,20
openstack%2Fopenstack-helm~master~Ia9598095456f35585eafa68f665d2a763e208571,openstack/openstack-helm,master,Ia9598095456f35585eafa68f665d2a763e208571,Allow Barbican to talk to TLS'd mariadb,MERGED,2021-06-29 18:51:39.000000000,2021-08-05 21:27:18.000000000,2021-08-05 21:25:33.000000000,"[{'_account_id': 19391}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-06-29 18:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0516714a029381275f983c9f700be4b401d366c8', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 2, 'created': '2021-06-29 18:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6d3bf582140b5809097e2fb58368c588b74ae680', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 3, 'created': '2021-07-01 13:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a34436943fd7b9f36402c65e47b6f2e8e2cbcfa0', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 4, 'created': '2021-07-02 16:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7095fdd0e249ad1f1bd3d6533c57271b231cce4', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 5, 'created': '2021-07-02 16:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aab67c8d9f45a822dae4000d7b148d4dffd11da4', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 6, 'created': '2021-07-02 16:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f62d86a9b9e2984d5fceb59d7bcd209301e7219a', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 7, 'created': '2021-07-02 18:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4775d4a54b50342eb10838d2661b8e502362ca39', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 8, 'created': '2021-07-06 14:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec16b285d9e42f61c8ac8dad8077bc9132dcaaa6', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 9, 'created': '2021-07-06 20:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6cbb0f2909643b02659d178172564a36d05f08af', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 10, 'created': '2021-07-06 20:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/390c1a09a62dae7fe9fbe9d137e7571bc85846d6', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 11, 'created': '2021-07-06 21:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0bc60e633dc111b87b14e6c55118b4d2accb24d', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 12, 'created': '2021-07-07 13:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/41bfd079789e7c8e19d3436b67e76b309fd547c3', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 13, 'created': '2021-07-07 14:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a952621994cf9bdd7fbcbd819b5127a6679b8f52', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 14, 'created': '2021-07-07 15:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/30d734603b94a96f7a6f2dbdd20f0ec15e696bb8', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 15, 'created': '2021-07-07 15:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f094be25747a1d650a18108b82de7bfdffac743a', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 16, 'created': '2021-07-07 17:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33ceee2087c9300a1842ab5bc9e86409935637a0', 'message': ""[WIP] Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 17, 'created': '2021-07-07 17:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f3ae0f85e6a866afa2fa856cc8a9aa09bb15643f', 'message': ""Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 18, 'created': '2021-07-08 21:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2420c0a39b151583ac0842482300c826f44adee5', 'message': ""[DNM]\n\nAllow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 19, 'created': '2021-07-13 17:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28a4fd0617d48ad18307c813d6f1163d958bdc7a', 'message': ""[DNM]\n\nAllow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 20, 'created': '2021-08-03 15:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/66768d7795423bda52ba7372d6b0f7e41adc0117', 'message': ""[DNM]\n\nAllow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 21, 'created': '2021-08-03 15:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f432a1636eaeb6c22637dadc42d094c42a5ec1b1', 'message': ""[DNM]\n\nAllow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 22, 'created': '2021-08-03 16:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a224952e97dd97f3933622d510b9cbda045fd83', 'message': ""[DNM]\n\nAllow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 23, 'created': '2021-08-04 05:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c97ed9a91075ee074f26be08777009394a8c3d1d', 'message': ""Allow Barbican to talk to TLS'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}, {'number': 24, 'created': '2021-08-05 16:06:11.000000000', 'files': ['barbican/templates/job-db-drop.yaml', 'releasenotes/notes/barbican.yaml', 'barbican/templates/job-db-init.yaml', 'barbican/values.yaml', 'barbican/templates/job-db-sync.yaml', 'barbican/Chart.yaml', 'barbican/templates/secret-db.yaml', 'barbican/templates/deployment-api.yaml', 'barbican/templates/configmap-etc.yaml', 'barbican/values_overrides/tls.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/040aa3b774bf6f5149970dce45157550984b161d', 'message': ""Allow Barbican to talk to TLS'd mariadb\n\nBarbican is NOT tls'ed, this is only for communicating with tls'd mariadb\n\nChange-Id: Ia9598095456f35585eafa68f665d2a763e208571\n""}]",0,798738,040aa3b774bf6f5149970dce45157550984b161d,64,4,24,30495,,,0,"Allow Barbican to talk to TLS'd mariadb

Barbican is NOT tls'ed, this is only for communicating with tls'd mariadb

Change-Id: Ia9598095456f35585eafa68f665d2a763e208571
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/798738/21 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/templates/job-db-drop.yaml', 'releasenotes/notes/barbican.yaml', 'barbican/templates/job-db-init.yaml', 'barbican/values.yaml', 'barbican/Chart.yaml', 'barbican/templates/job-db-sync.yaml', 'barbican/templates/secret-db.yaml']",7,0516714a029381275f983c9f700be4b401d366c8,,"{{- $connection := tuple ""oslo_db"" ""internal"" $userClass ""mysql"" $envAll | include ""helm-toolkit.endpoints.authenticated_endpoint_uri_lookup"" }}{{- if $envAll.Values.manifests.certificates }} DB_CONNECTION: {{ (printf ""%s?charset=utf8&ssl_ca=/etc/mysql/certs/ca.crt&ssl_key=/etc/mysql/certs/tls.key&ssl_cert=/etc/mysql/certs/tls.crt&ssl_verify_cert"" $connection ) | b64enc -}} {{- else }} DB_CONNECTION: {{ $connection | b64enc -}} {{- end }}"," DB_CONNECTION: {{ tuple ""oslo_db"" ""internal"" $userClass ""mysql"" $envAll | include ""helm-toolkit.endpoints.authenticated_endpoint_uri_lookup"" | b64enc -}}",21,3
openstack%2Fopenstack-helm~master~I5c697c1748b62a81b43e7b0d6c7f89d374a50d94,openstack/openstack-helm,master,I5c697c1748b62a81b43e7b0d6c7f89d374a50d94,keystone: Make internal TLS more robust,MERGED,2021-07-08 00:30:22.000000000,2021-08-05 21:26:00.000000000,2021-08-05 21:24:04.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30495}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-07-08 00:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f41d50bea12168e6701263198880babf33353fdc', 'message': 'keystone: [DNM] Adding more checks to internal TLS\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 2, 'created': '2021-07-08 00:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3db3efe578fed09193444b5e1b6c2d1b1bdb98b8', 'message': 'keystone: [DNM] Adding more checks to internal TLS\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 3, 'created': '2021-07-08 17:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/19fdb6b8927055a20ceba7166f76d14d6d5593f9', 'message': 'keystone: [DNM] Adding more checks to internal TLS\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 4, 'created': '2021-07-08 18:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/96d2251e3d2625fb8e3b63e63c6b0b821211b470', 'message': 'keystone: [DNM] Adding more checks to internal TLS\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 5, 'created': '2021-07-08 20:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d7904e0d375636e20dc1876d518a3021286b6529', 'message': 'keystone: [DNM] Adding more checks to internal TLS\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 6, 'created': '2021-07-08 20:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1595551b660707057968105448ac9fc9811d00a4', 'message': 'keystone: [DNM] Adding more checks to internal TLS\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 7, 'created': '2021-07-08 20:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/96bd338bfd1deeb02ea7eb7c9fdae9f0abd01355', 'message': 'keystone: [DNM] Adding more checks to internal TLS\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 8, 'created': '2021-07-08 20:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ee4c70bb288ac06bb30f73c6847a4e2ad4a92df3', 'message': 'keystone: Make internal TLS more robust\n\nKeystone may communicate with other components that do not support TLS. This\npatchset makes keystone more flexible and enable it to communicate successfully\nwith such components\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 9, 'created': '2021-07-08 21:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cbb632aa164b7619c914e42c07a616ab6b2515be', 'message': '[DNM]\n\nkeystone: Make internal TLS more robust\n\nKeystone may communicate with other components that do not support TLS. This\npatchset makes keystone more flexible and enable it to communicate successfully\nwith such components\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 10, 'created': '2021-07-13 17:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8e967c0394b9eb34091fab73fdb18e90a01a13c', 'message': '[DNM]\n\nkeystone: Make internal TLS more robust\n\nKeystone may communicate with other components that do not support TLS. This\npatchset makes keystone more flexible and enable it to communicate successfully\nwith such components\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 11, 'created': '2021-08-03 16:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f13b080669fa41de36d73b362612041347e27d51', 'message': '[DNM]\n\nkeystone: Make internal TLS more robust\n\nKeystone may communicate with other components that do not support TLS. This\npatchset makes keystone more flexible and enable it to communicate successfully\nwith such components\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 12, 'created': '2021-08-03 16:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9bdae6f0ce615a59e7bf3da440215a9cc1d39ef', 'message': '[DNM]\n\nkeystone: Make internal TLS more robust\n\nKeystone may communicate with other components that do not support TLS. This\npatchset makes keystone more flexible and enable it to communicate successfully\nwith such components\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 13, 'created': '2021-08-03 16:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cf2c893e8884b9746190ca4e3772493e587247d8', 'message': '[DNM]\n\nkeystone: Make internal TLS more robust\n\nKeystone may communicate with other components that do not support TLS. This\npatchset makes keystone more flexible and enable it to communicate successfully\nwith such components\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 14, 'created': '2021-08-03 16:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/264b926403573bc14bfcc8677a1e16698aa3daf3', 'message': '[DNM]\n\nkeystone: Make internal TLS more robust\n\nKeystone may communicate with other components that do not support TLS. This\npatchset makes keystone more flexible and enable it to communicate successfully\nwith such components\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}, {'number': 15, 'created': '2021-08-04 05:28:14.000000000', 'files': ['keystone/templates/configmap-etc.yaml', 'keystone/templates/job-db-sync.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/templates/job-credential-cleanup.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/templates/pod-rally-test.yaml', 'keystone/templates/job-rabbit-init.yaml', 'keystone/templates/secret-rabbitmq.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/job-bootstrap.yaml', 'keystone/templates/certificates.yaml', 'keystone/templates/job-db-init.yaml', 'keystone/templates/job-db-drop.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2d248874dde562b2086ba208cf6f674fd41b7256', 'message': 'keystone: Make internal TLS more robust\n\nKeystone may communicate with other components that do not support TLS. This\npatchset makes keystone more flexible and enable it to communicate successfully\nwith such components\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097\n\nChange-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94\n'}]",0,799928,2d248874dde562b2086ba208cf6f674fd41b7256,36,4,15,24780,,,0,"keystone: Make internal TLS more robust

Keystone may communicate with other components that do not support TLS. This
patchset makes keystone more flexible and enable it to communicate successfully
with such components

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/800097

Change-Id: I5c697c1748b62a81b43e7b0d6c7f89d374a50d94
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/28/799928/9 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/configmap-etc.yaml', 'keystone/templates/job-db-sync.yaml', 'keystone/templates/job-credential-cleanup.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/templates/pod-rally-test.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'keystone/templates/job-rabbit-init.yaml', 'keystone/templates/secret-rabbitmq.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/job-bootstrap.yaml', 'keystone/templates/certificates.yaml', 'keystone/templates/job-db-init.yaml', 'zuul.d/project.yaml', 'keystone/templates/job-db-drop.yaml', 'keystone/values_overrides/tls.yaml']",15,f41d50bea12168e6701263198880babf33353fdc,,endpoints: oslo_messaging: secret: tls: internal: null secrets: tls: identity: api: internal: null,"network: api: ingress: annotations: nginx.ingress.kubernetes.io/rewrite-target: null nginx.ingress.kubernetes.io/backend-protocol: ""https""conf: software: apache2: a2enmod: - ssl keystone: oslo_messaging_rabbit: ssl: true ssl_ca_file: /etc/rabbitmq/certs/ca.crt ssl_cert_file: /etc/rabbitmq/certs/tls.crt ssl_key_file: /etc/rabbitmq/certs/tls.key wsgi_keystone: | {{- $portInt := tuple ""identity"" ""internal"" ""api"" $ | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} {{- $vh := tuple ""identity"" ""internal"" . | include ""helm-toolkit.endpoints.hostname_short_endpoint_lookup"" }} Listen 0.0.0.0:{{ $portInt }} LogFormat ""%h %l %u %t \""%r\"" %>s %b \""%{Referer}i\"" \""%{User-Agent}i\"""" combined LogFormat ""%{X-Forwarded-For}i %l %u %t \""%r\"" %>s %b \""%{Referer}i\"" \""%{User-Agent}i\"""" proxy SetEnvIf X-Forwarded-For ""^.*\..*\..*\..*"" forwarded CustomLog /dev/stdout combined env=!forwarded CustomLog /dev/stdout proxy env=forwarded <VirtualHost *:{{ tuple ""identity"" ""internal"" ""api"" $ | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }}> ServerName {{ printf ""%s.%s.svc.%s"" ""keystone-api"" .Release.Namespace .Values.endpoints.cluster_domain_suffix }} WSGIDaemonProcess keystone-public processes=1 threads=1 user=keystone group=keystone display-name=%{GROUP} WSGIProcessGroup keystone-public WSGIScriptAlias / /var/www/cgi-bin/keystone/keystone-wsgi-public WSGIApplicationGroup %{GLOBAL} WSGIPassAuthorization On <IfVersion >= 2.4> ErrorLogFormat ""%{cu}t %M"" </IfVersion> ErrorLog /dev/stdout SetEnvIf X-Forwarded-For ""^.*\..*\..*\..*"" forwarded CustomLog /dev/stdout combined env=!forwarded CustomLog /dev/stdout proxy env=forwarded SSLEngine on SSLCertificateFile /etc/keystone/certs/tls.crt SSLCertificateKeyFile /etc/keystone/certs/tls.key SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1 SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256 SSLHonorCipherOrder on </VirtualHost> endpoints: identity: cacert: /etc/ssl/certs/openstack-helm.crt test: cacert: /etc/ssl/certs/openstack-helm.crt host_fqdn_override: default: tls: secretName: keystone-tls-api issuerRef: name: ca-issuer kind: ClusterIssuer scheme: default: https public: https port: api: default: 443 oslo_messaging: port: https: default: 15680",80,92
openstack%2Ftempest~master~Ie7381ee1a90fa8e075ca246c065eaec3c92e1092,openstack/tempest,master,Ie7381ee1a90fa8e075ca246c065eaec3c92e1092,Fix test_network_quota_exceeding test,MERGED,2021-06-22 14:46:53.000000000,2021-08-05 21:13:35.000000000,2021-07-14 11:03:50.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-22 14:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/db6e3d8dbe35bda73ebc43acd517a0ee9ef80cdd', 'message': 'WIP: Fix test_network_quota_exceeding test\n\nThis patch makes sure that the test cleanes up properly\ncreated security groups.\n\nChange-Id: Ie7381ee1a90fa8e075ca246c065eaec3c92e1092\nCloses-Bug: 1925132\nCo-authored-by: Aleksey Myltsev\n'}, {'number': 2, 'created': '2021-06-23 09:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8f3c70f520f274e2000be9c1066599b780514f8c', 'message': 'Fix test_network_quota_exceeding test\n\nThis patch makes sure that the test cleanes up properly\ncreated security groups.\n\nBefore, the test deleted only project and left the\nsecurity groups unremoved.\n\nChange-Id: Ie7381ee1a90fa8e075ca246c065eaec3c92e1092\nCloses-Bug: 1925132\nCo-authored-by: Aleksey Myltsev\n'}, {'number': 3, 'created': '2021-06-23 12:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/529c66800411d3f326cac2006f9870bed229629f', 'message': 'Fix test_network_quota_exceeding test\n\nThis patch makes sure that the test cleans up properly\ncreated security groups.\n\nBefore, the test deleted only project and left the\nsecurity groups unremoved.\n\nChange-Id: Ie7381ee1a90fa8e075ca246c065eaec3c92e1092\nCloses-Bug: 1925132\nCo-authored-by: Aleksey Myltsev\n'}, {'number': 4, 'created': '2021-06-24 12:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7d73304e521745bf24356c045382e4ea2ed0d0ee', 'message': 'Fix test_network_quota_exceeding test\n\nThis patch makes sure that the test cleans up properly\ndefault security group which gets created with the\nnew project from the setUp function.\n\nBefore, the test deleted only project and left the\nsecurity group unremoved.\n\nThe reason why the project is created in setUp function\nis explained in [1][2].\n\n[1] https://github.com/openstack/tempest/commit/e094bbade2b719fd531c2c8a7284ebfb1fb32efc\n[2] https://bugs.launchpad.net/tempest/+bug/1789938\n\nChange-Id: Ie7381ee1a90fa8e075ca246c065eaec3c92e1092\nCloses-Bug: 1925132\nCo-authored-by: Aleksey Myltsev\n'}, {'number': 5, 'created': '2021-06-24 13:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5cdb276e6ac6f5496ab2c4931ab5c5554f2250a0', 'message': 'Fix test_network_quota_exceeding test\n\nThis patch makes sure that the test cleans up properly\ndefault security group which gets created with the\nnew project from the setUp function.\n\nBefore, the test deleted only project and left the\nsecurity group unremoved.\n\nThe reason why the project is created in setUp function\nis explained in [1][2].\n\n[1] https://github.com/openstack/tempest/commit/e094bbade2b719fd531c2c8a7284ebfb1fb32efc\n[2] https://bugs.launchpad.net/tempest/+bug/1789938\n\nChange-Id: Ie7381ee1a90fa8e075ca246c065eaec3c92e1092\nCloses-Bug: 1925132\nCo-authored-by: Aleksey Myltsev\n'}, {'number': 6, 'created': '2021-06-28 08:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2770fcffec97db536e1437531420f009a3870490', 'message': 'Fix test_network_quota_exceeding test\n\nThis patch makes sure that the test cleans up properly\ndefault security group which gets created with the\nnew project from the setUp function.\n\nBefore, the test deleted only project and left the\nsecurity group unremoved.\n\nThe reason why the project is created in setUp function\nis explained in [1][2].\n\n[1] https://github.com/openstack/tempest/commit/e094bbade2b719fd531c2c8a7284ebfb1fb32efc\n[2] https://bugs.launchpad.net/tempest/+bug/1789938\n\nChange-Id: Ie7381ee1a90fa8e075ca246c065eaec3c92e1092\nCloses-Bug: 1925132\nCo-authored-by: Aleksey Myltsev\n'}, {'number': 7, 'created': '2021-07-08 09:46:35.000000000', 'files': ['tempest/lib/common/dynamic_creds.py', 'tempest/api/network/admin/test_negative_quotas.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/619e0f4161fdc1c4feb97c71e0fd2a7f70b7372c', 'message': 'Fix test_network_quota_exceeding test\n\nThis patch makes sure that the test cleans up properly\ndefault security group which gets created with the\nnew project from the setUp function.\n\nBefore, the test deleted only project and left the\nsecurity group unremoved.\n\nThe reason why the project is created in setUp function\nis explained in [1][2].\n\n[1] https://github.com/openstack/tempest/commit/e094bbade2b719fd531c2c8a7284ebfb1fb32efc\n[2] https://bugs.launchpad.net/tempest/+bug/1789938\n\nChange-Id: Ie7381ee1a90fa8e075ca246c065eaec3c92e1092\nCloses-Bug: 1925132\nCo-authored-by: Aleksey Myltsev\n'}]",6,797466,619e0f4161fdc1c4feb97c71e0fd2a7f70b7372c,35,4,7,30674,,,0,"Fix test_network_quota_exceeding test

This patch makes sure that the test cleans up properly
default security group which gets created with the
new project from the setUp function.

Before, the test deleted only project and left the
security group unremoved.

The reason why the project is created in setUp function
is explained in [1][2].

[1] https://github.com/openstack/tempest/commit/e094bbade2b719fd531c2c8a7284ebfb1fb32efc
[2] https://bugs.launchpad.net/tempest/+bug/1789938

Change-Id: Ie7381ee1a90fa8e075ca246c065eaec3c92e1092
Closes-Bug: 1925132
Co-authored-by: Aleksey Myltsev
",git fetch https://review.opendev.org/openstack/tempest refs/changes/66/797466/7 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/admin/test_negative_quotas.py'],1,db6e3d8dbe35bda73ebc43acd517a0ee9ef80cdd,fix/test_network_quota_exceeding," self.admin_quotas_client.update_quotas( self.os_adm.credentials.tenant_id, network=2) project_id=self.os_adm.credentials.tenant_id) project_id=self.os_adm.credentials.tenant_id) project_id=self.os_adm.credentials.tenant_id)"," name = data_utils.rand_name('test_project_') description = data_utils.rand_name('desc_') self.project = identity.identity_utils(self.os_admin).create_project( name=name, description=description) self.addCleanup(identity.identity_utils(self.os_admin).delete_project, self.project['id']) self.admin_quotas_client.update_quotas(self.project['id'], network=2) project_id=self.project['id']) project_id=self.project['id']) project_id=self.project['id'])",5,10
openstack%2Foslo.messaging~master~I9764da7995c198597661ecbea27efba9f76e53e3,openstack/oslo.messaging,master,I9764da7995c198597661ecbea27efba9f76e53e3,Disable AMQP 1.0 SSL unit tests,MERGED,2017-05-12 15:12:18.000000000,2021-08-05 20:33:06.000000000,2017-05-12 19:47:30.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 8770}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-12 15:12:18.000000000', 'files': ['oslo_messaging/tests/drivers/test_amqp_driver.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8f5cfda6642ea7f75206d3183c2507e2e83c5693', 'message': 'Disable AMQP 1.0 SSL unit tests\n\nSomething broke in the way SSL certs are generated. Disable these\ntests for now to unblock the gate.\n\nChange-Id: I9764da7995c198597661ecbea27efba9f76e53e3\n'}]",0,464220,8f5cfda6642ea7f75206d3183c2507e2e83c5693,8,4,1,8770,,,0,"Disable AMQP 1.0 SSL unit tests

Something broke in the way SSL certs are generated. Disable these
tests for now to unblock the gate.

Change-Id: I9764da7995c198597661ecbea27efba9f76e53e3
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/20/464220/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_amqp_driver.py'],1,8f5cfda6642ea7f75206d3183c2507e2e83c5693,disable-ssl,"# SSL_ENABLED = (_proton and getattr(_proton.SSL, ""present"", lambda: False)()) SSL_ENABLED = False","SSL_ENABLED = (_proton and getattr(_proton.SSL, ""present"", lambda: False)())",2,1
openstack%2Fswift~master~I599268931b2f8c9f7828f78c08832ac6acd9bbe4,openstack/swift,master,I599268931b2f8c9f7828f78c08832ac6acd9bbe4,"Move ""Client disconnected"" message to ECAppIter",NEW,2021-08-05 18:57:04.000000000,2021-08-05 20:27:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-05 18:57:04.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a1b8be0f5f5e0c18e3159d2e57cd91935f37f7c2', 'message': 'Move ""Client disconnected"" message to ECAppIter\n\nPreviously we would log it once for each ECFragGetter, which is rather\nnoisy.\n\nChange-Id: I599268931b2f8c9f7828f78c08832ac6acd9bbe4\n'}]",0,803643,a1b8be0f5f5e0c18e3159d2e57cd91935f37f7c2,3,1,1,15343,,,0,"Move ""Client disconnected"" message to ECAppIter

Previously we would log it once for each ECFragGetter, which is rather
noisy.

Change-Id: I599268931b2f8c9f7828f78c08832ac6acd9bbe4
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/803643/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/proxy/controllers/obj.py']",2,a1b8be0f5f5e0c18e3159d2e57cd91935f37f7c2,," :param req: swob.Request object :param frag_getters: list of the ECFragGetters for the backend GET responses. For an M+K erasure code, the caller must supply M such getters. def __init__(self, req, policy, internal_parts_iters, frag_getters, range_specs, fa_length, obj_length, logger): self.req = req self.path = req.swift_entity_path self.frag_getters = frag_getters if not self.req.environ.get('swift.non_client_disconnect') and any( not getter.fully_consumed for getter in self.frag_getters): self.logger.warning( 'Client disconnected on read of EC obj %r', self.path) self.fully_consumed = False self.fully_consumed = True self.fully_consumed = True frag_responses = best_bucket.get_responses() req, [p_iter for _getter, p_iter in frag_responses], [getter for getter, _p_iter in frag_responses],"," :param path: object's path, sans v1 (e.g. /a/c/o) def __init__(self, path, policy, internal_parts_iters, range_specs, fa_length, obj_length, logger): self.path = path warn = True warn = False if not req.environ.get('swift.non_client_disconnect') and warn: self.app.logger.warning( 'Client disconnected on read of EC frag %r', self.path) req.swift_entity_path, [p_iter for _getter, p_iter in best_bucket.get_responses()],",25,14
openstack%2Fcinder~master~I7aa9d603f69ba4424da7ae6f98192a888da1071c,openstack/cinder,master,I7aa9d603f69ba4424da7ae6f98192a888da1071c,Run cinder-mypy job in the check,MERGED,2021-05-21 14:46:28.000000000,2021-08-05 20:23:45.000000000,2021-08-04 17:25:31.000000000,"[{'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-05-21 14:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a2549032ef7d0f8423ae4ad62275d3553af9963', 'message': 'Run cinder-mypy job in the check\n\nPromote the mypy job from experimental to a nonvoting check job.\n\nChange-Id: I7aa9d603f69ba4424da7ae6f98192a888da1071c\n'}, {'number': 2, 'created': '2021-07-09 17:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94859ca58ff2384f25f3b33ca4ae55ff792d9d28', 'message': 'Run cinder-mypy job in the check\n\nPromote the mypy job from experimental to a nonvoting check job.\n\nChange-Id: I7aa9d603f69ba4424da7ae6f98192a888da1071c\n'}, {'number': 3, 'created': '2021-07-09 20:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/658e5ab76e69af62c179356651b8ad3921a4ed5a', 'message': 'Run cinder-mypy job in the check\n\nPromote the mypy job from experimental to a nonvoting check job.\n\nChange-Id: I7aa9d603f69ba4424da7ae6f98192a888da1071c\n'}, {'number': 4, 'created': '2021-07-12 14:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a71b5cb91924d9b6c789d9713d43519c09e2148', 'message': 'Run cinder-mypy job in the check\n\nPromote the mypy job from experimental to a nonvoting check job.\n\nChange-Id: I7aa9d603f69ba4424da7ae6f98192a888da1071c\n'}, {'number': 5, 'created': '2021-07-12 17:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52fa450c1810b890fd589e790c0ee7fb0cf34b84', 'message': 'Run cinder-mypy job in the check\n\nPromote the mypy job from experimental to a nonvoting check job.\n\nChange-Id: I7aa9d603f69ba4424da7ae6f98192a888da1071c\n'}, {'number': 6, 'created': '2021-07-15 18:03:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc6b499d23229c94f9a9bc6b272ec93dd94b6cba', 'message': 'Run cinder-mypy job in the check\n\nPromote the mypy job from experimental to a nonvoting check job.\n\nChange-Id: I7aa9d603f69ba4424da7ae6f98192a888da1071c\n'}]",0,792642,cc6b499d23229c94f9a9bc6b272ec93dd94b6cba,153,7,6,5314,,,0,"Run cinder-mypy job in the check

Promote the mypy job from experimental to a nonvoting check job.

Change-Id: I7aa9d603f69ba4424da7ae6f98192a888da1071c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/792642/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3a2549032ef7d0f8423ae4ad62275d3553af9963,mypy, - cinder-mypy: voting: false, - cinder-mypy,2,1
openstack%2Fglance~master~I65b82d60fb31c8004e44c7a054e3d24cb28654fd,openstack/glance,master,I65b82d60fb31c8004e44c7a054e3d24cb28654fd,Move Tasks policy checks in the API,ABANDONED,2021-08-05 12:09:40.000000000,2021-08-05 20:19:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-05 12:09:40.000000000', 'files': ['glance/tests/functional/v2/test_tasks_api_policy.py', 'glance/api/v2/tasks.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7fbd5a7236a57106e550f6dbba930c5f4d65ea6a', 'message': 'Move Tasks policy checks in the API\n\nThis change uses new policy module to enforce tasks_api_access\npolicy check and excludes policy enforcement from the policy layer.\n\nNOTE: Since we are excluding policy enforcement at policy layer, removed\nbelow unit tests as those were checking controller methods and we no longer\nenforcing policies at policy layer.\ntest_create_task_unauthorized\ntest_index_unauthorized\ntest_get_unauthorized\n\nPartially implements: blueprint policy-refactor\nChange-Id: I670c076527b7bce55696b294d2283121dab5c707\n\nChange-Id: I65b82d60fb31c8004e44c7a054e3d24cb28654fd\n'}]",0,803590,7fbd5a7236a57106e550f6dbba930c5f4d65ea6a,3,1,1,9303,,,0,"Move Tasks policy checks in the API

This change uses new policy module to enforce tasks_api_access
policy check and excludes policy enforcement from the policy layer.

NOTE: Since we are excluding policy enforcement at policy layer, removed
below unit tests as those were checking controller methods and we no longer
enforcing policies at policy layer.
test_create_task_unauthorized
test_index_unauthorized
test_get_unauthorized

Partially implements: blueprint policy-refactor
Change-Id: I670c076527b7bce55696b294d2283121dab5c707

Change-Id: I65b82d60fb31c8004e44c7a054e3d24cb28654fd
",git fetch https://review.opendev.org/openstack/glance refs/changes/90/803590/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_tasks_api_policy.py', 'glance/api/v2/tasks.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py']",5,7fbd5a7236a57106e550f6dbba930c5f4d65ea6a,policy-refactor," class TestTasksAPIPolicy(APIPolicyBase): def setUp(self): super(TestTasksAPIPolicy, self).setUp() self.enforcer = mock.MagicMock() self.context = mock.MagicMock() self.policy = policy.TasksAPIPolicy(self.context, enforcer=self.enforcer) def test_tasks_api_access(self): self.policy.tasks_api_access() self.enforcer.enforce.assert_called_once_with(self.context, 'tasks_api_access', mock.ANY)",,164,30
openstack%2Fbarbican-tempest-plugin~master~I863ca223d6732b43dd6baa1510d4206b34bfb19e,openstack/barbican-tempest-plugin,master,I863ca223d6732b43dd6baa1510d4206b34bfb19e,Let the orders complete before using them,MERGED,2021-06-24 18:59:23.000000000,2021-08-05 18:50:07.000000000,2021-08-05 18:50:07.000000000,"[{'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 31661}]","[{'number': 1, 'created': '2021-06-24 18:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/99b4cf4921a0c6d96be25debe82bbf3befd8e23c', 'message': 'Let the orders complete before using them\n\nThis patch changes a test to wait a few seconds for the orders to be\nprocessed by Barbican.  Currently there are intermittent failures when\nthe test executes faster than Barbican can process orders.\n\nChange-Id: I863ca223d6732b43dd6baa1510d4206b34bfb19e\n'}, {'number': 2, 'created': '2021-07-15 22:19:11.000000000', 'files': ['barbican_tempest_plugin/tests/api/test_orders.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/6d4e995e7250715fa8b17daf69ccd5d90de26246', 'message': 'Let the orders complete before using them\n\nThis patch changes a test to wait a few seconds for the orders to be\nprocessed by Barbican.  Currently there are intermittent failures when\nthe test executes faster than Barbican can process orders.\n\nChange-Id: I863ca223d6732b43dd6baa1510d4206b34bfb19e\n'}]",0,798008,6d4e995e7250715fa8b17daf69ccd5d90de26246,10,4,2,7973,,,0,"Let the orders complete before using them

This patch changes a test to wait a few seconds for the orders to be
processed by Barbican.  Currently there are intermittent failures when
the test executes faster than Barbican can process orders.

Change-Id: I863ca223d6732b43dd6baa1510d4206b34bfb19e
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/08/798008/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/api/test_orders.py'],1,99b4cf4921a0c6d96be25debe82bbf3befd8e23c,,import time # Wait for orders to process time.sleep(10) ,,5,0
openstack%2Ftripleo-heat-templates~master~Ibe23adfeb6ad3c6938ef510127b31fb7be9235b8,openstack/tripleo-heat-templates,master,Ibe23adfeb6ad3c6938ef510127b31fb7be9235b8,Replace the deprecated nova::scheduler::filter::scheduler_max_attempts,MERGED,2021-04-26 12:31:20.000000000,2021-08-05 18:31:26.000000000,2021-08-05 18:31:26.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 12:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d14f29df1d2a86f89e1499310084b0c6cc18055', 'message': 'Replace the deprecated nova::scheduler::filter::scheduler_max_attempts\n\n... by the new nova::scheduler::max_attempts parameter.\n\nDepends-on: https://review.opendev.org/755263\nChange-Id: Ibe23adfeb6ad3c6938ef510127b31fb7be9235b8\n'}, {'number': 2, 'created': '2021-04-26 12:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8e45f440931f07fd138fd0de47f0a5e65ec6eb5', 'message': 'Replace the deprecated nova::scheduler::filter::scheduler_max_attempts\n\n... by the new nova::scheduler::max_attempts parameter.\n\nDepends-on: https://review.opendev.org/755263\nChange-Id: Ibe23adfeb6ad3c6938ef510127b31fb7be9235b8\n'}, {'number': 3, 'created': '2021-07-24 10:37:51.000000000', 'files': ['deployment/nova/nova-scheduler-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65b1f4290a27690cd33d02f03ae89d44c37743f6', 'message': 'Replace the deprecated nova::scheduler::filter::scheduler_max_attempts\n\n... by the new nova::scheduler::max_attempts parameter.\n\nDepends-on: https://review.opendev.org/755263\nChange-Id: Ibe23adfeb6ad3c6938ef510127b31fb7be9235b8\n'}]",0,787962,65b1f4290a27690cd33d02f03ae89d44c37743f6,17,4,3,9816,,,0,"Replace the deprecated nova::scheduler::filter::scheduler_max_attempts

... by the new nova::scheduler::max_attempts parameter.

Depends-on: https://review.opendev.org/755263
Change-Id: Ibe23adfeb6ad3c6938ef510127b31fb7be9235b8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/787962/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-scheduler-container-puppet.yaml'],1,5d14f29df1d2a86f89e1499310084b0c6cc18055,scheduler-opts, nova::scheduler::filter::max_attempts: {get_param: NovaSchedulerMaxAttempts}, nova::scheduler::filter::scheduler_max_attempts: {get_param: NovaSchedulerMaxAttempts},1,1
openstack%2Fmanila~master~I49efb7042d38257416875f40c03923e974b2eb8e,openstack/manila,master,I49efb7042d38257416875f40c03923e974b2eb8e,Deprecate create snapshot from share group in CephFS,MERGED,2021-07-19 14:50:05.000000000,2021-08-05 18:25:22.000000000,2021-08-05 18:24:03.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32594}]","[{'number': 1, 'created': '2021-07-19 14:50:05.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'doc/source/admin/cephfs_driver.rst', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-1871252-cephfs-doesnt-support-subvolume-group-snapshots-344efbb9ba74e05c.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/cf4af616383fe416a11732d4247e48bdb6941f16', 'message': 'Deprecate create snapshot from share group in CephFS\n\nDeprecate the create snapshot from share group feature\nin CephFS drivers (both Native and NFS Ganesha).\n\nThis needs to be done since the subvolume group snapshot\nfeature is no longer supported in mainline CephFS, meaning that,\nif we leave the call in place, an exception will be raised\nfrom the backend and lead to an error status for the attempted\nsnapshot from share group.\n\nExisting group snapshots can still be listed and deleted, so these\noperations stay the same.\n\nCloses-Bug: #1925332\nChange-Id: I49efb7042d38257416875f40c03923e974b2eb8e\n'}]",0,801336,cf4af616383fe416a11732d4247e48bdb6941f16,12,4,1,6413,,,0,"Deprecate create snapshot from share group in CephFS

Deprecate the create snapshot from share group feature
in CephFS drivers (both Native and NFS Ganesha).

This needs to be done since the subvolume group snapshot
feature is no longer supported in mainline CephFS, meaning that,
if we leave the call in place, an exception will be raised
from the backend and lead to an error status for the attempted
snapshot from share group.

Existing group snapshots can still be listed and deleted, so these
operations stay the same.

Closes-Bug: #1925332
Change-Id: I49efb7042d38257416875f40c03923e974b2eb8e
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/801336/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/driver.py', 'doc/source/admin/cephfs_driver.rst', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-1871252-cephfs-doesnt-support-subvolume-group-snapshots-344efbb9ba74e05c.yaml']",4,cf4af616383fe416a11732d4247e48bdb6941f16,bug/1925332,--- deprecations: - | Create share group snapshot feature is no longer supported in manila CephFS drivers (both Native and NFS Ganesha) since the subvolume group snapshot feature is no longer supported in mainline CephFS (existing group snapshots can still be listed and deleted). ,,27,30
openstack%2Fcinder~master~I336a8c92bfdd852cab42c9e5f992a30f3632bfaf,openstack/cinder,master,I336a8c92bfdd852cab42c9e5f992a30f3632bfaf,[SVF]: Fix extend issue for a clone of rep-volume,MERGED,2021-03-23 10:48:25.000000000,2021-08-05 18:16:49.000000000,2021-08-05 18:12:03.000000000,"[{'_account_id': 7198}, {'_account_id': 14806}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32036}, {'_account_id': 32171}, {'_account_id': 32266}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-03-23 10:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9966e7550f56092104dc4ccfb35d229750500393', 'message': '[SVF]: Fix extend issue for a clone of rep-volume\n\n[Spectrum Virtualize Family] During extend operation the flashcopy mapping\nbetween clone volume and its source volume was not being deleted after\ncopying, hence extend operation is failing.\n\nThis fix is to properly stop the flashcopy mappings before extending.\n\nChange-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf\n'}, {'number': 2, 'created': '2021-03-23 10:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8ce54a3d0599c95df623151c2cfe657b697fb8d', 'message': '[SVF]: Fix extend issue for a clone of rep-volume\n\n[Spectrum Virtualize Family] During extend operation the flashcopy mapping\nbetween clone volume and its source volume having snapshots, was not being\ndeleted after copying, hence extend operation is failing.\n\nThis fix is to properly stop the flashcopy mappings before extending.\n\nCloses-bug: https://bugs.launchpad.net/cinder/+bug/1920099\n\nChange-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf\n'}, {'number': 3, 'created': '2021-03-23 16:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e243399cc74b61e309342e6aea5041292ad882b', 'message': '[SVF]: Fix extend issue for a clone of rep-volume\n\n[Spectrum Virtualize Family] During extend operation the flashcopy\nmapping between clone volume and its source volume having snapshots,\nwas not being deleted after copying, hence extend operation is failing.\n\nThis fix is to properly stop the flashcopy mappings before extending.\n\nCloses-bug: https://bugs.launchpad.net/cinder/+bug/1920099\n\nChange-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf\n'}, {'number': 4, 'created': '2021-03-24 16:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a1620d16a516d6cc08de9255c0a29ea0fe8a1cd', 'message': '[SVF]: Fix extend issue for a clone of rep-volume\n\n[Spectrum Virtualize Family] During extend operation the flashcopy mapping\nbetween clone volume and its source volume having snapshots, was not being\ndeleted after copying, hence extend operation is failing.\n\nThis fix is to properly stop the flashcopy mappings before extending.\n\nCloses-bug: https://bugs.launchpad.net/cinder/+bug/1920099\n\nChange-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf\n'}, {'number': 5, 'created': '2021-04-05 17:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc52650eb70e2bba9d6769b37dfc2b35d8973b42', 'message': '[SVF]: Fix extend issue for a clone of rep-volume\n\n[Spectrum Virtualize Family] During extend operation the flashcopy\nmapping between clone volume and its source volume having snapshots,\nwas not being deleted after copying, hence extend operation\nis failing.\n\nThis fix is to properly stop the flashcopy mappings before extending.\n\nCloses-Bug: #1920099\n\nChange-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf\n'}, {'number': 6, 'created': '2021-05-05 12:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4cc69561b3e62785255fe1a15b7c4d8bd013a2b', 'message': '[SVF]: Fix extend issue for a clone of rep-volume\n\n[Spectrum Virtualize Family] During extend operation the flashcopy\nmapping between clone volume and its source volume having snapshots,\nwas not being deleted after copying, hence extend operation\nis failing.\n\nThis fix is to properly stop the flashcopy mappings before extending.\n\nCloses-Bug: #1920099\n\nChange-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf\n'}, {'number': 7, 'created': '2021-05-05 13:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d1fff8c3cbabd81b420bb98cce033a1ba8090d3', 'message': '[SVF]: Fix extend issue for a clone of rep-volume\n\n[Spectrum Virtualize Family] During extend operation the flashcopy\nmapping between clone volume and its source volume having snapshots,\nwas not being deleted after copying, hence extend operation\nis failing.\n\nThis fix is to properly stop the flashcopy mappings before extending.\n\nCloses-Bug: #1920099\n\nChange-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf\n'}, {'number': 8, 'created': '2021-05-19 05:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3320670d45aa05d876ca878031e00668ed41d795', 'message': '[SVF]: Fix extend issue for a clone of rep-volume\n\n[Spectrum Virtualize Family] During extend operation the flashcopy\nmapping between clone volume and its source volume having snapshots,\nwas not being deleted after copying, hence extend operation\nis failing.\n\nThis fix is to properly stop the flashcopy mappings before extending.\n\nCloses-Bug: #1920099\n\nChange-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf\n'}, {'number': 9, 'created': '2021-05-19 16:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7d3a2dedd8c2839e40d474802bacd568dfd3a66', 'message': '[SVF]: Fix extend issue for a clone of rep-volume\n\n[Spectrum Virtualize Family] During extend operation the flashcopy\nmapping between clone volume and its source volume having snapshots,\nwas not being deleted after copying, hence extend operation\nis failing.\n\nThis fix is to properly stop the flashcopy mappings before extending.\n\nCloses-Bug: #1920099\n\nChange-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf\n'}, {'number': 10, 'created': '2021-06-01 10:04:31.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1920099-ibm-svf-fix_extend_to_clone_rep_volumes-015e030332f2e714.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/020944bada1f00e0180d8da6fedc7236ba6445b6', 'message': '[SVF]: Fix extend issue for a clone of rep-volume\n\n[Spectrum Virtualize Family] During extend operation the flashcopy\nmapping between clone volume and its source volume having snapshots,\nwas not being deleted after copying, hence extend operation\nis failing.\n\nThis fix is to properly stop the flashcopy mappings before extending.\n\nCloses-Bug: #1920099\n\nChange-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf\n'}]",4,782405,020944bada1f00e0180d8da6fedc7236ba6445b6,239,8,10,32075,,,0,"[SVF]: Fix extend issue for a clone of rep-volume

[Spectrum Virtualize Family] During extend operation the flashcopy
mapping between clone volume and its source volume having snapshots,
was not being deleted after copying, hence extend operation
is failing.

This fix is to properly stop the flashcopy mappings before extending.

Closes-Bug: #1920099

Change-Id: I336a8c92bfdd852cab42c9e5f992a30f3632bfaf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/782405/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,9966e7550f56092104dc4ccfb35d229750500393,bug/1920099," rel_info = self.get_relationship_info(name) force = False if rel_info: force = True self.ssh.stopfcmap(map_id, force)", self.ssh.stopfcmap(map_id),5,1
openstack%2Fcinder~master~I3f734e55efeabcfdeca4c4f3e87bc4a5a0481875,openstack/cinder,master,I3f734e55efeabcfdeca4c4f3e87bc4a5a0481875,[SVF]:Bulk create Hyperswap volume is failing.,MERGED,2021-03-08 10:05:23.000000000,2021-08-05 18:15:29.000000000,2021-08-05 18:11:59.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 14806}, {'_account_id': 22348}, {'_account_id': 32036}]","[{'number': 1, 'created': '2021-03-08 10:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e78fd71b9cea9a046b811cff5928cb3dae04a791', 'message': '[SVF]:Bulk create Hyperswap volume is failing.\n\n[Spectrum Virtualize Family] During HyperSwap create volume\nthere is multiple lsmdiskgrp calls, which is causing more\nconcurrent calls on SVC.\n\nThis patch fixes the issue by caching the site information during\ninitialization and checking for HyperSwap pool site information.\n\nCloses-Bug: #1917605\nChange-Id: I3f734e55efeabcfdeca4c4f3e87bc4a5a0481875\n'}, {'number': 2, 'created': '2021-04-21 06:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f23e30030290dab4112cd1b830182554b10f8e74', 'message': '[SVF]:Bulk create Hyperswap volume is failing.\n\n[Spectrum Virtualize Family] During HyperSwap create volume\nthere is multiple lsmdiskgrp calls, which is causing more\nconcurrent calls on SVC.\n\nThis patch fixes the issue by caching the site information during\ninitialization and checking for HyperSwap pool site information.\n\nCloses-Bug: #1917605\nChange-Id: I3f734e55efeabcfdeca4c4f3e87bc4a5a0481875\n'}, {'number': 3, 'created': '2021-06-01 09:24:34.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1917605-ibm-svf_Bulk_create_Hyperswap_volume_is_failing-79a9ec2108612240.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6ad644046b441f041afaab177936b9d50c3dd36', 'message': '[SVF]:Bulk create Hyperswap volume is failing.\n\n[Spectrum Virtualize Family] During HyperSwap create volume\nthere is multiple lsmdiskgrp calls, which is causing more\nconcurrent calls on SVC.\n\nThis patch fixes the issue by caching the site information during\ninitialization and checking for HyperSwap pool site information.\n\nCloses-Bug: #1917605\nChange-Id: I3f734e55efeabcfdeca4c4f3e87bc4a5a0481875\n'}]",6,779194,e6ad644046b441f041afaab177936b9d50c3dd36,92,5,3,32171,,,0,"[SVF]:Bulk create Hyperswap volume is failing.

[Spectrum Virtualize Family] During HyperSwap create volume
there is multiple lsmdiskgrp calls, which is causing more
concurrent calls on SVC.

This patch fixes the issue by caching the site information during
initialization and checking for HyperSwap pool site information.

Closes-Bug: #1917605
Change-Id: I3f734e55efeabcfdeca4c4f3e87bc4a5a0481875
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/779194/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,e78fd71b9cea9a046b811cff5928cb3dae04a791,bug/1917605," pool_attr = None peer_pool_attr = None for stat_pool in self.stats.get('pools', []): if stat_pool['pool_name'] == pool: pool_attr = stat_pool elif stat_pool['pool_name'] == peer_pool: peer_pool_attr = stat_pool if pool_attr is None: pool_attr = self.get_pool_attrs(pool) if peer_pool_attr is None: peer_pool_attr = self.get_pool_attrs(peer_pool) def _get_backend_peer_pool(self): if not self._active_backend_id: return self.configuration.storwize_peer_pool if self._helpers.is_system_topology_hyperswap(self._state): peer_pool = self._get_backend_peer_pool() data['pools'].append(self._build_pool_stats(peer_pool)) 'site_id': pool_data['site_id'], 'site_name': pool_data['site_name'], 'site_id': None, 'site_name': None,", pool_attr = self.get_pool_attrs(pool) peer_pool_attr = self.get_pool_attrs(peer_pool),38,10
openstack%2Ftripleo-heat-templates~master~Id65f0eef7249588d6038883f703d8e587826a4ac,openstack/tripleo-heat-templates,master,Id65f0eef7249588d6038883f703d8e587826a4ac,Revert change to use community pacemaker_cluster module,MERGED,2021-08-05 01:46:21.000000000,2021-08-05 18:09:06.000000000,2021-08-05 18:09:06.000000000,"[{'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-05 01:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1143dba9212e31d68630e83ab80ab42fd5b85135', 'message': 'Fix pacemaker_cluster args and formatting\n\nThis task was using old arguments that dont\nexist for the community.general.pacemaker_cluster\nmodule:\nhttps://docs.ansible.com/ansible/latest/collections/community/general/pacemaker_cluster_module.html\n\nThis change is removing the check_and_fail argument\nwhich is not valid.\n\nCloses-Bug: #1938967\nChange-Id: Id65f0eef7249588d6038883f703d8e587826a4ac\n'}, {'number': 2, 'created': '2021-08-05 01:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3775f1acb4f905628aca35f1f87ff2ddd704d10', 'message': 'Fix pacemaker_cluster args and formatting\n\nThis task was using old arguments that dont\nexist for the community.general.pacemaker_cluster\nmodule:\nhttps://docs.ansible.com/ansible/latest/collections/community/general/pacemaker_cluster_module.html\n\nThis change is removing the check_and_fail argument\nwhich is not valid.\n\nCloses-Bug: #1938967\nChange-Id: Id65f0eef7249588d6038883f703d8e587826a4ac\n'}, {'number': 3, 'created': '2021-08-05 09:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7950187bdf767295c0efb2223751f6cb4c939d6', 'message': 'Revert change to use community pacemaker_cluster module\n\nThe community pacemaker_cluster module is not in sync\nwith the real pacemaker_cluster module causing failures.\n\nhttps://github.com/ansible-collections/community.general/blob/main/plugins/modules/clustering/pacemaker_cluster.py#L19-L39\nvs\nhttps://github.com/redhat-openstack/ansible-pacemaker/blob/master/modules/pacemaker_cluster.py#L32-L58\n\nThis causes failures in the minor update process.\n\nRelated: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7\nCloses-Bug: #1938967\nChange-Id: Id65f0eef7249588d6038883f703d8e587826a4ac\n'}, {'number': 4, 'created': '2021-08-05 09:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cdd973c1f2698989867c6277ccac97331ffd40a', 'message': 'Revert change to use community pacemaker_cluster module\n\nThe community pacemaker_cluster module is not in sync\nwith the real pacemaker_cluster module causing failures.\n\nhttps://github.com/ansible-collections/community.general/blob/main/plugins/modules/clustering/pacemaker_cluster.py#L19-L39\nvs\nhttps://github.com/redhat-openstack/ansible-pacemaker/blob/master/modules/pacemaker_cluster.py#L32-L58\n\nThis causes failures in the minor update process.\n\nRelated: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7\nCloses-Bug: #1938967\nChange-Id: Id65f0eef7249588d6038883f703d8e587826a4ac\n'}, {'number': 5, 'created': '2021-08-05 09:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4ffffc3be8c4a2eef7ed6cbb3abcbab9763d1ae', 'message': 'Revert change to use community pacemaker_cluster module\n\nThe community pacemaker_cluster module is not in sync\nwith the real pacemaker_cluster module causing failures.\n\nhttps://github.com/ansible-collections/community.general/blob/main/plugins/modules/clustering/pacemaker_cluster.py#L19-L39\nvs\nhttps://github.com/redhat-openstack/ansible-pacemaker/blob/master/modules/pacemaker_cluster.py#L32-L58\n\nThis causes failures in the minor update process.\n\nRelated: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7\nCloses-Bug: #1938967\nChange-Id: Id65f0eef7249588d6038883f703d8e587826a4ac\n'}, {'number': 6, 'created': '2021-08-05 09:54:09.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0caee4753efd5f5d0f769d73bb8826dc8466de2', 'message': 'Revert change to use community pacemaker_cluster module\n\nThe community pacemaker_cluster module is not in sync\nwith the real pacemaker_cluster module causing failures.\n\nhttps://github.com/ansible-collections/community.general/blob/main/plugins/modules/clustering/pacemaker_cluster.py#L19-L39\nvs\nhttps://github.com/redhat-openstack/ansible-pacemaker/blob/master/modules/pacemaker_cluster.py#L32-L58\n\nThis causes failures in the minor update process.\n\nRelated: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7\nCloses-Bug: #1938967\nChange-Id: Id65f0eef7249588d6038883f703d8e587826a4ac\n'}]",3,803534,b0caee4753efd5f5d0f769d73bb8826dc8466de2,25,6,6,30073,,,0,"Revert change to use community pacemaker_cluster module

The community pacemaker_cluster module is not in sync
with the real pacemaker_cluster module causing failures.

https://github.com/ansible-collections/community.general/blob/main/plugins/modules/clustering/pacemaker_cluster.py#L19-L39
vs
https://github.com/redhat-openstack/ansible-pacemaker/blob/master/modules/pacemaker_cluster.py#L32-L58

This causes failures in the minor update process.

Related: Ie96b3d35cea61370b1f98d7e060d696c4807c6b7
Closes-Bug: #1938967
Change-Id: Id65f0eef7249588d6038883f703d8e587826a4ac
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/803534/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,1143dba9212e31d68630e83ab80ab42fd5b85135,fix_pacemaker_cluster_args, community.general.pacemaker_cluster: state: online community.general.pacemaker_cluster: state: online, community.general.pacemaker_cluster: state=online check_and_fail=true community.general.pacemaker_cluster: state=online check_and_fail=true,4,2
openstack%2Fglance~master~Idb78cd2935a9ea5a1b1bc3ee6153311190422ca5,openstack/glance,master,Idb78cd2935a9ea5a1b1bc3ee6153311190422ca5,Clean out deprecations from paste.ini,MERGED,2021-07-29 12:01:12.000000000,2021-08-05 17:36:22.000000000,2021-08-05 17:34:57.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 12:01:12.000000000', 'files': ['doc/source/configuration/configuring.rst', 'etc/glance-api-paste.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/04541ae72b4b032960e2a2a218f7b9f18602e0c8', 'message': 'Clean out deprecations from paste.ini\n\nThe etc/glance-api-paste.ini had still couple of pipelines left\nbehind from registry and osprofile options deprecated in 2015.\n\nThis change clears those and removes the reference note from\nconfiguring doc.\n\nChange-Id: Idb78cd2935a9ea5a1b1bc3ee6153311190422ca5\n'}]",0,802867,04541ae72b4b032960e2a2a218f7b9f18602e0c8,9,3,1,5202,,,0,"Clean out deprecations from paste.ini

The etc/glance-api-paste.ini had still couple of pipelines left
behind from registry and osprofile options deprecated in 2015.

This change clears those and removes the reference note from
configuring doc.

Change-Id: Idb78cd2935a9ea5a1b1bc3ee6153311190422ca5
",git fetch https://review.opendev.org/openstack/glance refs/changes/67/802867/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/configuring.rst', 'etc/glance-api-paste.ini']",2,04541ae72b4b032960e2a2a218f7b9f18602e0c8,clean_dep_pasteini,,# Use this pipeline for authZ only. This means that the registry will treat a # user as authenticated without making requests to keystone to reauthenticate # the user. [pipeline:glance-api-trusted-auth] pipeline = cors healthcheck http_proxy_to_wsgi versionnegotiation osprofiler context rootapp # Use this pipeline for authZ only. This means that the registry will treat a # user as authenticated without making requests to keystone to reauthenticate # the user and uses cache management [pipeline:glance-api-trusted-auth+cachemanagement] pipeline = cors healthcheck http_proxy_to_wsgi versionnegotiation osprofiler context cache cachemanage rootapp hmac_keys = SECRET_KEY #DEPRECATED enabled = yes #DEPRECATED,0,20
openstack%2Fpython-tripleoclient~master~Ie3c7d0926e365d6d7fd3a4af17b31e84b1def4f5,openstack/python-tripleoclient,master,Ie3c7d0926e365d6d7fd3a4af17b31e84b1def4f5,Replacing MD5 use to comply with FIPS,ABANDONED,2021-07-20 12:44:58.000000000,2021-08-05 17:03:48.000000000,,"[{'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-20 12:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c0fa87f13169e796511ab2d6408e2b3837ab9fd', 'message': 'Replacing MD5 use to comply with FIPS\n\nMD5 hash calculated for images, was replaced with SHA256\nwhich is approved under the FIPS.[0][1]\n\nMD5 hash, while fast, is no longer considered sufficient,\nas it is susceptible to collisions.[2]\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie3c7d0926e365d6d7fd3a4af17b31e84b1def4f5\n'}, {'number': 2, 'created': '2021-07-23 09:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/68f0c111caefa0b2a8bb46964756818e989af962', 'message': 'Replacing MD5 use to comply with FIPS\n\nMD5 hash calculated for images, was replaced with SHA256\nwhich is approved under the FIPS.[0][1]\n\nMD5 hash, while fast, is no longer considered sufficient,\nas it is susceptible to collisions.[2]\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie3c7d0926e365d6d7fd3a4af17b31e84b1def4f5\n'}, {'number': 3, 'created': '2021-08-02 18:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/81070c470a837a5d6b2529f2aee5668d96cc3b7e', 'message': 'Replacing MD5 use to comply with FIPS\n\nMD5 hash calculated for images, was replaced with SHA256\nwhich is approved under the FIPS.[0][1]\n\nMD5 hash, while fast, is no longer considered sufficient,\nas it is susceptible to collisions.[2]\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie3c7d0926e365d6d7fd3a4af17b31e84b1def4f5\n'}, {'number': 4, 'created': '2021-08-03 06:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/35ea41a17edebb7d1ff9cba83b28e3290c27e729', 'message': 'Replacing MD5 use to comply with FIPS\n\nMD5 hash calculated for images, was replaced with SHA256\nwhich is approved under the FIPS.[0][1]\n\nMD5 hash, while fast, is no longer considered sufficient,\nas it is susceptible to collisions.[2]\n\nTests were updated accordingly.\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie3c7d0926e365d6d7fd3a4af17b31e84b1def4f5\n'}, {'number': 5, 'created': '2021-08-03 06:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9620fe26f4ba2f3593d8274be86a4a4013a3d401', 'message': 'Replacing MD5 use to comply with FIPS\n\nMD5 hash calculated for images, was replaced with SHA256\nwhich is approved under the FIPS.[0][1]\n\nMD5 hash, while fast, is no longer considered sufficient,\nas it is susceptible to collisions.[2]\n\nTests were updated accordingly.\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie3c7d0926e365d6d7fd3a4af17b31e84b1def4f5\n'}, {'number': 6, 'created': '2021-08-03 14:16:11.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1f03687100dae7e634b7abcfbb144af103d65e1c', 'message': 'Replacing MD5 use to comply with FIPS\n\nMD5 hash calculated for images, was replaced with SHA256\nwhich is approved under the FIPS.[0][1]\n\nMD5 hash, while fast, is no longer considered sufficient,\nas it is susceptible to collisions.[2]\n\nTests were updated accordingly.\n\n[0] - https://csrc.nist.gov/projects/hash-functions\n[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final\n[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie3c7d0926e365d6d7fd3a4af17b31e84b1def4f5\n'}]",2,801460,1f03687100dae7e634b7abcfbb144af103d65e1c,24,6,6,32926,,,0,"Replacing MD5 use to comply with FIPS

MD5 hash calculated for images, was replaced with SHA256
which is approved under the FIPS.[0][1]

MD5 hash, while fast, is no longer considered sufficient,
as it is susceptible to collisions.[2]

Tests were updated accordingly.

[0] - https://csrc.nist.gov/projects/hash-functions
[1] - https://csrc.nist.gov/publications/detail/fips/180/4/final
[2] - https://www.win.tue.nl/~bdeweger/CollidingCertificates/

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie3c7d0926e365d6d7fd3a4af17b31e84b1def4f5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/801460/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py']",2,5c0fa87f13169e796511ab2d6408e2b3837ab9fd,add_fips_job," """"""Calculate sha256 hash on file checksum = hashlib.sha256()"," """"""Calculate md5 checksum on file checksum = hashlib.md5() checksum.update(fragment)",12,7
openstack%2Fcharm-nova-compute~master~I51916eed45c526991685e95b667804e2a490b5a9,openstack/charm-nova-compute,master,I51916eed45c526991685e95b667804e2a490b5a9,Reword security-checklist action definition,MERGED,2021-07-20 12:40:25.000000000,2021-08-05 17:01:56.000000000,2021-08-05 17:01:56.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-20 12:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e51cbf0fdb7dee2ccb8145ec7bbea8cef6d46dda', 'message': ""Reword security-checklist action definition\n\nBe specific about what action 'security-checklist'\nactually does.\n\nWill be used for the other ten charms that support this\naction.\n\nChange-Id: I51916eed45c526991685e95b667804e2a490b5a9\n""}, {'number': 2, 'created': '2021-08-04 10:08:21.000000000', 'files': ['actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b3c463b668ed53d29f3be511c04776a4eae11922', 'message': ""Reword security-checklist action definition\n\nBe specific about what action 'security-checklist'\nactually does.\n\nWill be used for the other ten charms that support this\naction.\n\nChange-Id: I51916eed45c526991685e95b667804e2a490b5a9\n""}]",0,801458,b3c463b668ed53d29f3be511c04776a4eae11922,16,3,2,30561,,,0,"Reword security-checklist action definition

Be specific about what action 'security-checklist'
actually does.

Will be used for the other ten charms that support this
action.

Change-Id: I51916eed45c526991685e95b667804e2a490b5a9
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/58/801458/1 && git format-patch -1 --stdout FETCH_HEAD,['actions.yaml'],1,e51cbf0fdb7dee2ccb8145ec7bbea8cef6d46dda,improve-sec-action, Validate the running configuration against the OpenStack Security Guide project checklist: https://docs.openstack.org/security-guide/checklist.html, Validate the running configuration against OpenStack security guidelines.,2,1
openstack%2Fpython-cinderclient~master~I33399b4c094af2cc059da6e332f4c0a91e6ab57e,openstack/python-cinderclient,master,I33399b4c094af2cc059da6e332f4c0a91e6ab57e,Unset tempest.lib timeout in functional tests,MERGED,2021-07-29 22:13:46.000000000,2021-08-05 16:28:43.000000000,2021-08-05 16:27:04.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 22:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/eb886c5e728f32a621626d4f1122d85c599fcd4c', 'message': ""Unset tempest.lib timeout in functional-py36\n\nThe test_cli.CinderBackupTests.test_backup_create_and_delete test\nis hitting timeout errors in the python-cinderclient-functional-py36\nzuul job.  This is happening because it's inheriting the\nOS_TEST_TIMEOUT value of 60 from the base testenv, and that value is\nbeing used by the tempest.lib class we inherit from as a timeout for\neach test.  This is a problem for test_backup_create_and_delete\nbecause it creates a volume, waits for available, creates a backup,\nwaits for available, deletes the volume, waits for deletion, deletes\nthe backup, waits for deletion.\n\nOur functional tests have their own timeout handling, so turn off\nthe tempest.lib timeout and use ours.  An alternative to turning it\noff is to set it at a value that respects our timeout for our longest\ntest, which would be:\n- time-to-available: 120 sec (x2)\n- time-to-deleted: 60 sec (x2)\nthat is, 360 sec.\n\nThis only seems to be happening for the functional-py36 job, so this\npatch only makes the change for that tox testenv.\n\nChange-Id: I33399b4c094af2cc059da6e332f4c0a91e6ab57e\n""}, {'number': 2, 'created': '2021-07-30 02:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/023f2cad453ca3f2bb9f0031a94aa8f74a40630d', 'message': ""Unset tempest.lib timeout in functional tests\n\nThe test_cli.CinderBackupTests.test_backup_create_and_delete test\nis hitting timeout errors in the python-cinderclient-functional-py36\nzuul job.  This is happening because it's inheriting the\nOS_TEST_TIMEOUT value of 60 from the base testenv, and that value is\nbeing used by the tempest.lib class we inherit from as a timeout for\neach test.  This is a problem for test_backup_create_and_delete\nbecause it creates a volume, waits for available, creates a backup,\nwaits for available, deletes the volume, waits for deletion, deletes\nthe backup, waits for deletion.\n\nOur functional tests have their own timeout handling, so turn off\nthe tempest.lib timeout and use ours.  An alternative to turning it\noff is to set it at a value that respects our timeout for our longest\ntest, which would be:\n- time-to-available: 120 sec (x2)\n- time-to-deleted: 60 sec (x2)\nthat is, 360 sec.\n\nChange-Id: I33399b4c094af2cc059da6e332f4c0a91e6ab57e\n""}, {'number': 3, 'created': '2021-07-30 02:04:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/d04ded6a6ff4cc9ba8377a1b025493e939047b2c', 'message': ""Unset tempest.lib timeout in functional tests\n\nThe test_cli.CinderBackupTests.test_backup_create_and_delete test\nis hitting timeout errors in the python-cinderclient-functional-py36\nzuul job.  This is happening because it's inheriting the\nOS_TEST_TIMEOUT value of 60 from the base testenv, and that value is\nbeing used by the tempest.lib class we inherit from as a timeout for\neach test.  This is a problem for test_backup_create_and_delete\nbecause it creates a volume, waits for available, creates a backup,\nwaits for available, deletes the volume, waits for deletion, deletes\nthe backup, waits for deletion.\n\nOur functional tests have their own timeout handling, so turn off\nthe tempest.lib timeout and use ours.  An alternative to turning it\noff is to set it at a value that respects our timeout for our longest\ntest, which would be:\n- time-to-available: 120 sec (x2)\n- time-to-deleted: 60 sec (x2)\nthat is, 360 sec.\n\nChange-Id: I33399b4c094af2cc059da6e332f4c0a91e6ab57e\n""}]",0,802966,d04ded6a6ff4cc9ba8377a1b025493e939047b2c,15,4,3,5314,,,0,"Unset tempest.lib timeout in functional tests

The test_cli.CinderBackupTests.test_backup_create_and_delete test
is hitting timeout errors in the python-cinderclient-functional-py36
zuul job.  This is happening because it's inheriting the
OS_TEST_TIMEOUT value of 60 from the base testenv, and that value is
being used by the tempest.lib class we inherit from as a timeout for
each test.  This is a problem for test_backup_create_and_delete
because it creates a volume, waits for available, creates a backup,
waits for available, deletes the volume, waits for deletion, deletes
the backup, waits for deletion.

Our functional tests have their own timeout handling, so turn off
the tempest.lib timeout and use ours.  An alternative to turning it
off is to set it at a value that respects our timeout for our longest
test, which would be:
- time-to-available: 120 sec (x2)
- time-to-deleted: 60 sec (x2)
that is, 360 sec.

Change-Id: I33399b4c094af2cc059da6e332f4c0a91e6ab57e
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/66/802966/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eb886c5e728f32a621626d4f1122d85c599fcd4c,change-timeout,"setenv = {[testenv:functional]setenv} # Our functional tests contain their own timeout handling, so # turn off the timeout handling provided by the # tempest.lib.base.BaseTestCase that our ClientTestBase class # inherits from. Only doing this for the functional-py36 testev # because it doesn't seem to be a problem for functional-py38. OS_TEST_TIMEOUT=0",setenv = {[testenv:functional]setenv},8,1
openstack%2Fkayobe~master~I68332411e53c1d50ed56ddba3f46ee37db22f976,openstack/kayobe,master,I68332411e53c1d50ed56ddba3f46ee37db22f976,Remove references to resolv.conf workaround,MERGED,2021-08-04 10:35:35.000000000,2021-08-05 16:05:54.000000000,2021-08-05 16:04:27.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-08-04 10:35:35.000000000', 'files': ['playbooks/kayobe-seed-upgrade-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/769ec55de55808f4e378de40bc5423fd4d33520f', 'message': 'Remove references to resolv.conf workaround\n\nChange-Id: I68332411e53c1d50ed56ddba3f46ee37db22f976\n'}]",0,803459,769ec55de55808f4e378de40bc5423fd4d33520f,12,4,1,15197,,,0,"Remove references to resolv.conf workaround

Change-Id: I68332411e53c1d50ed56ddba3f46ee37db22f976
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/59/803459/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-seed-upgrade-base/overrides.yml.j2'],1,769ec55de55808f4e378de40bc5423fd4d33520f,remove-resolv-workaround,,"# NOTE(mgoddard): We're using a cirros image, which doesn't require the # resolv.conf work around used for CentOS. # NOTE(piotrp): to be removed after Wallaby is released overcloud_host_image_workaround_resolv_enabled: false ",0,5
openstack%2Fheat-templates~master~Id40407adab666a9b7591612fe0ae237aa07c9175,openstack/heat-templates,master,Id40407adab666a9b7591612fe0ae237aa07c9175,[ussuri][goal] Update contributor documentation,MERGED,2021-05-14 20:57:58.000000000,2021-08-05 15:57:31.000000000,2021-08-05 15:57:31.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 20:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/dd420213b2d8733d485691c92d59985465d14bc1', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38524\nChange-Id: Id40407adab666a9b7591612fe0ae237aa07c9175\n'}, {'number': 2, 'created': '2021-05-31 20:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/f76ce80e696d3620eb11597c8bd75b422d725612', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38524\nChange-Id: Id40407adab666a9b7591612fe0ae237aa07c9175\n'}, {'number': 3, 'created': '2021-06-01 02:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/2057f4b51ff2734c5e5115c54b12b54cad6e9f96', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38524\nChange-Id: Id40407adab666a9b7591612fe0ae237aa07c9175\n'}, {'number': 4, 'created': '2021-07-22 22:39:29.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/e4c433dacbac7f975994b9c023610205f9f9ab93', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nAdding noop jobs also to merge these *.rst only changes.\n\nStory: #2007236\nTask: #38524\nChange-Id: Id40407adab666a9b7591612fe0ae237aa07c9175\n'}]",0,791548,e4c433dacbac7f975994b9c023610205f9f9ab93,12,2,4,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Adding noop jobs also to merge these *.rst only changes.

Story: #2007236
Task: #38524
Change-Id: Id40407adab666a9b7591612fe0ae237aa07c9175
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/48/791548/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst']",2,dd420213b2d8733d485691c92d59985465d14bc1,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/heat-templates Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Storyboard,: For more specific information about contributing to this repository, see the heat-templates contributor guide: https://opendev.org/openstack/heat-templates/src/branch/master/doc/source/contributor/contributing.rst","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html Once those steps have been completed, changes to OpenStack should be submitted for review via the Gerrit tool, following the workflow documented at: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Storyboard, not GitHub:",59,9
openstack%2Foslo.messaging~master~Ied2c881c71930dc631919113adc00112648f9d72,openstack/oslo.messaging,master,Ied2c881c71930dc631919113adc00112648f9d72,Display the reply queue's name in timeout logs,NEW,2020-09-24 09:43:33.000000000,2021-08-05 15:45:41.000000000,,"[{'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-09-24 09:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d19582a16364aa1f40c6bbc1050c87fe9e9299e8', 'message': 'Display the reply queue\'s name in timeout logs\n\nIt would be helpful if ""Timed out waiting for <service>"" log messages at least\nspecified on which `reply_q` it was waited for.\n\nExample without the reply_q:\n\n```\n12228 2020-09-14 14:56:37.187 7 WARNING nova.conductor.api\n[req-1e081db6-808b-4af1-afc1-b87db7839394 - - - - -] Timed out waiting for\nnova-conductor.  Is it running? Or did this service start before\nnova-conductor?  Reattempting establishment of nova-conductor connection...:\noslo_messaging.exceptions.MessagingTimeout: Timed out waiting for a reply to\nmessage ID 1640e7ef6f314451ba9a75d9ff6136ad\n```\n\nExample after adding the reply_q:\n\n```\n12228 2020-09-14 14:56:37.187 7 WARNING nova.conductor.api\n[req-1e081db6-808b-4af1-afc1-b87db7839394 - - - - -] Timed out waiting for\nnova-conductor.  Is it running? Or did this service start before\nnova-conductor?  Reattempting establishment of nova-conductor connection...:\noslo_messaging.exceptions.MessagingTimeout: Timed out waiting for a reply\n(reply_2882766a63b540dabaf7d019cf0c0cda)\nto message ID 1640e7ef6f314451ba9a75d9ff6136ad\n```\n\nIt could help us to more merely debug and observe if something went\nwrong with a reply queue.\n\nChange-Id: Ied2c881c71930dc631919113adc00112648f9d72\nCloses-Bug: #1896925\n'}, {'number': 2, 'created': '2021-01-05 19:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6e2ff09b571d870fc4134e9bc1966f5d2e87f528', 'message': 'Display the reply queue\'s name in timeout logs\n\nIt would be helpful if ""Timed out waiting for <service>"" log messages at least\nspecified on which `reply_q` it was waited for.\n\nExample without the reply_q:\n\n```\n12228 2020-09-14 14:56:37.187 7 WARNING nova.conductor.api\n[req-1e081db6-808b-4af1-afc1-b87db7839394 - - - - -] Timed out waiting for\nnova-conductor.  Is it running? Or did this service start before\nnova-conductor?  Reattempting establishment of nova-conductor connection...:\noslo_messaging.exceptions.MessagingTimeout: Timed out waiting for a reply to\nmessage ID 1640e7ef6f314451ba9a75d9ff6136ad\n```\n\nExample after adding the reply_q:\n\n```\n12228 2020-09-14 14:56:37.187 7 WARNING nova.conductor.api\n[req-1e081db6-808b-4af1-afc1-b87db7839394 - - - - -] Timed out waiting for\nnova-conductor.  Is it running? Or did this service start before\nnova-conductor?  Reattempting establishment of nova-conductor connection...:\noslo_messaging.exceptions.MessagingTimeout: Timed out waiting for a reply\n(reply_2882766a63b540dabaf7d019cf0c0cda)\nto message ID 1640e7ef6f314451ba9a75d9ff6136ad\n```\n\nIt could help us to more merely debug and observe if something went\nwrong with a reply queue.\n\nChange-Id: Ied2c881c71930dc631919113adc00112648f9d72\nCloses-Bug: #1896925\n'}, {'number': 3, 'created': '2021-06-01 10:55:45.000000000', 'files': ['releasenotes/notes/reply_q-timeout-e3c3bae636e8bc74.yaml', 'oslo_messaging/_drivers/amqpdriver.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/740e4f8306e9329da727f94af137c48fbe299040', 'message': 'Display the reply queue\'s name in timeout logs\n\nIt would be helpful if ""Timed out waiting for <service>"" log messages at least\nspecified on which `reply_q` it was waited for.\n\nExample without the reply_q:\n\n```\n12228 2020-09-14 14:56:37.187 7 WARNING nova.conductor.api\n[req-1e081db6-808b-4af1-afc1-b87db7839394 - - - - -] Timed out waiting for\nnova-conductor.  Is it running? Or did this service start before\nnova-conductor?  Reattempting establishment of nova-conductor connection...:\noslo_messaging.exceptions.MessagingTimeout: Timed out waiting for a reply to\nmessage ID 1640e7ef6f314451ba9a75d9ff6136ad\n```\n\nExample after adding the reply_q:\n\n```\n12228 2020-09-14 14:56:37.187 7 WARNING nova.conductor.api\n[req-1e081db6-808b-4af1-afc1-b87db7839394 - - - - -] Timed out waiting for\nnova-conductor.  Is it running? Or did this service start before\nnova-conductor?  Reattempting establishment of nova-conductor connection...:\noslo_messaging.exceptions.MessagingTimeout: Timed out waiting for a reply\n(reply_2882766a63b540dabaf7d019cf0c0cda)\nto message ID 1640e7ef6f314451ba9a75d9ff6136ad\n```\n\nIt could help us to more merely debug and observe if something went\nwrong with a reply queue.\n\nChange-Id: Ied2c881c71930dc631919113adc00112648f9d72\nCloses-Bug: #1896925\n'}]",3,754049,740e4f8306e9329da727f94af137c48fbe299040,70,7,3,28522,,,0,"Display the reply queue's name in timeout logs

It would be helpful if ""Timed out waiting for <service>"" log messages at least
specified on which `reply_q` it was waited for.

Example without the reply_q:

```
12228 2020-09-14 14:56:37.187 7 WARNING nova.conductor.api
[req-1e081db6-808b-4af1-afc1-b87db7839394 - - - - -] Timed out waiting for
nova-conductor.  Is it running? Or did this service start before
nova-conductor?  Reattempting establishment of nova-conductor connection...:
oslo_messaging.exceptions.MessagingTimeout: Timed out waiting for a reply to
message ID 1640e7ef6f314451ba9a75d9ff6136ad
```

Example after adding the reply_q:

```
12228 2020-09-14 14:56:37.187 7 WARNING nova.conductor.api
[req-1e081db6-808b-4af1-afc1-b87db7839394 - - - - -] Timed out waiting for
nova-conductor.  Is it running? Or did this service start before
nova-conductor?  Reattempting establishment of nova-conductor connection...:
oslo_messaging.exceptions.MessagingTimeout: Timed out waiting for a reply
(reply_2882766a63b540dabaf7d019cf0c0cda)
to message ID 1640e7ef6f314451ba9a75d9ff6136ad
```

It could help us to more merely debug and observe if something went
wrong with a reply queue.

Change-Id: Ied2c881c71930dc631919113adc00112648f9d72
Closes-Bug: #1896925
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/49/754049/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/reply_q-timeout-e3c3bae636e8bc74.yaml', 'oslo_messaging/_drivers/amqpdriver.py']",2,d19582a16364aa1f40c6bbc1050c87fe9e9299e8,reply_q_log," def _raise_timeout_exception(msg_id, reply_q): 'Timed out waiting for a reply %(reply_q)s ' 'to message ID %(msg_id)s.', {'msg_id': msg_id, 'reply_q': reply_q}) def wait(self, msg_id, timeout, call_monitor_timeout, reply_q): timeout = timer.check_return( self._raise_timeout_exception, msg_id, reply_q ) self._raise_timeout_exception, msg_id, reply_q ) self._raise_timeout_exception( msg_id, reply_q ) reply_q = self._get_reply_q() msg.update({'_reply_q': reply_q}) call_monitor_timeout, reply_q)"," def _raise_timeout_exception(msg_id): 'Timed out waiting for a reply to message ID %s.', msg_id) def wait(self, msg_id, timeout, call_monitor_timeout): timeout = timer.check_return(self._raise_timeout_exception, msg_id) self._raise_timeout_exception, msg_id) self._raise_timeout_exception(msg_id) msg.update({'_reply_q': self._get_reply_q()}) call_monitor_timeout)",25,8
openstack%2Fglance~master~I729c0433a6e68bdf7354a7779c508e74f6ab7b2a,openstack/glance,master,I729c0433a6e68bdf7354a7779c508e74f6ab7b2a,Adding gate job for file backend thin provisioning,NEW,2021-02-17 08:08:36.000000000,2021-08-05 15:36:13.000000000,,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 08:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c5ba7a810a9f9f483c01b3de5688f370fb76cb6a', 'message': 'Adding gate job for file backend thin provisioning\n\nChange-Id: I729c0433a6e68bdf7354a7779c508e74f6ab7b2a\n'}, {'number': 2, 'created': '2021-02-17 08:23:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/6ee254a1444ba9ea7e90092869c3346f2f196f1a', 'message': 'Adding gate job for file backend thin provisioning\n\nChange-Id: I729c0433a6e68bdf7354a7779c508e74f6ab7b2a\n'}]",1,775968,6ee254a1444ba9ea7e90092869c3346f2f196f1a,10,4,2,19138,,,0,"Adding gate job for file backend thin provisioning

Change-Id: I729c0433a6e68bdf7354a7779c508e74f6ab7b2a
",git fetch https://review.opendev.org/openstack/glance refs/changes/68/775968/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c5ba7a810a9f9f483c01b3de5688f370fb76cb6a,sparse-image-upload,"- job: name: glance-filesystem-thin-provisioning parent: tempest-integrated-storage-import description: | Just like glance-ceph-thin-provisioning, but with filesystem thin provisioning enabled required-projects: - name: openstack/glance_store vars: devstack_local_conf: post-config: $GLANCE_API_CONF: glance_store: filesystem_thin_provisioning: True - glance-filesystem-thin-provisioning: voting: false irrelevant-files: &tempest-irrelevant-files - ^(test-|)requirements.txt$ - ^lower-constraints.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^glance/hacking/.*$ - ^glance/locale/.*$ - ^glance/tests/.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^tools/.*$ - ^tox.ini$ - ^\.zuul\.yaml$",,29,0
openstack%2Fglance~master~I9356bceb914327f526da7b727fa58522ae18856e,openstack/glance,master,I9356bceb914327f526da7b727fa58522ae18856e,Remove SSL configuration section from docs,MERGED,2021-07-29 12:10:01.000000000,2021-08-05 14:49:14.000000000,2021-08-05 14:47:30.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 12:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a93d6986d0a03eaf2565a1552e3f54ab061d0636', 'message': 'Remove SSL configuration section from docs\n\nSince supporting only PY3 (Ussuri) Glance has not been supporting\ntermination of encrypted connection to the service [0]. The\nsection was left behind on the configuring doc.\n\n[0] https://docs.openstack.org/releasenotes/glance/ussuri.html#security-issues\n\nChange-Id: I9356bceb914327f526da7b727fa58522ae18856e\nCloses-Bug: #1938441\n'}, {'number': 2, 'created': '2021-07-29 12:27:48.000000000', 'files': ['doc/source/configuration/configuring.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/652780d0299d5734cbc6d21eea74c4fd11797cd1', 'message': 'Remove SSL configuration section from docs\n\nSince supporting only PY3 (Ussuri) Glance has not been supporting\ntermination of encrypted connection to the service [0]. The\nsection was left behind on the configuring doc.\n\n[0] https://docs.openstack.org/releasenotes/glance/ussuri.html#security-issues\n\nChange-Id: I9356bceb914327f526da7b727fa58522ae18856e\nCloses-Bug: #1930597\n'}]",0,802868,652780d0299d5734cbc6d21eea74c4fd11797cd1,11,3,2,5202,,,0,"Remove SSL configuration section from docs

Since supporting only PY3 (Ussuri) Glance has not been supporting
termination of encrypted connection to the service [0]. The
section was left behind on the configuring doc.

[0] https://docs.openstack.org/releasenotes/glance/ussuri.html#security-issues

Change-Id: I9356bceb914327f526da7b727fa58522ae18856e
Closes-Bug: #1930597
",git fetch https://review.opendev.org/openstack/glance refs/changes/68/802868/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/configuring.rst'],1,a93d6986d0a03eaf2565a1552e3f54ab061d0636,rm_ssl_conf_doc,,Configuring SSL Support ~~~~~~~~~~~~~~~~~~~~~~~ ``cert_file=PATH`` Path to the certificate file the server should use when binding to an SSL-wrapped socket. Optional. Default: not enabled. ``key_file=PATH`` Path to the private key file the server should use when binding to an SSL-wrapped socket. Optional. Default: not enabled. ``ca_file=PATH`` Path to the CA certificate file the server should use to validate client certificates provided during an SSL handshake. This is ignored if ``cert_file`` and ''key_file`` are not set. Optional. Default: not enabled. ,0,22
openstack%2Fkolla-ansible~stable%2Fwallaby~Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa,openstack/kolla-ansible,stable/wallaby,Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa,Do not run timesync checks on deployment host,MERGED,2021-06-23 13:51:07.000000000,2021-08-05 14:38:38.000000000,2021-08-05 14:37:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-23 13:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/698aeb1929e91f991c65eb34066eee4c87e99deb', 'message': 'Do not try to get container facts on deployment host\n\nKolla-ansible install python docker library in role/baremetal\nto group/baremetal, because of this get container facts\nis failing on deployment host.\n\nThis patch adding when conditional, so deployment host\nwill be skipped.\n\nCloses-Bug: #1933347\nChange-Id: Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa\n'}, {'number': 2, 'created': '2021-08-04 09:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d80eb9a3e74b5c6e92425af7d559cfb4cd71805a', 'message': 'Do not try to get container facts on deployment host\n\nKolla-ansible install python docker library in role/baremetal\nto group/baremetal, because of this get container facts\nis failing on deployment host.\n\nThis patch adding when conditional, so deployment host\nwill be skipped.\n\nCloses-Bug: #1933347\nChange-Id: Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa\n'}, {'number': 3, 'created': '2021-08-04 09:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29e897f5896e3e2345cd80499a15591f818472c4', 'message': 'Do not run timesync checks on deployment host\n\nKolla-ansible install python docker library in role/baremetal\nto group/baremetal, because of this get container facts\nfor timesync checks is failing on deployment host.\n\nThis patch adding when conditional, so deployment host\nwill be skipped as there is no need to run timesync\nchecks.\n\nCloses-Bug: #1933347\nChange-Id: Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa\n'}, {'number': 4, 'created': '2021-08-04 19:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b14ca8b36805aeb8c1756becb04bfa2ed4b045c3', 'message': 'Do not run timesync checks on deployment host\n\nKolla-ansible install python docker library in role/baremetal\nto group/baremetal, because of this get container facts\nfor timesync checks is failing on deployment host.\n\nThis patch adding when conditional, so deployment host\nwill be skipped as there is no need to run timesync\nchecks.\n\nCloses-Bug: #1933347\nChange-Id: Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa\n(cherry picked from commit 281c9935da076eb7a744136e3738084468692278)\n'}, {'number': 5, 'created': '2021-08-04 19:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9e10ac55d4e7e1c563ee78df8ae73ae56199021', 'message': 'Do not run timesync checks on deployment host\n\nKolla-ansible install python docker library in role/baremetal\nto group/baremetal, because of this get container facts\nfor timesync checks is failing on deployment host.\n\nThis patch adding when conditional, so deployment host\nwill be skipped as there is no need to run timesync\nchecks.\n\nCloses-Bug: #1933347\nChange-Id: Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa\n'}, {'number': 6, 'created': '2021-08-04 19:57:37.000000000', 'files': ['ansible/roles/prechecks/tasks/main.yml', 'releasenotes/notes/bug-1933347-4031d94ef7decb3c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b6d8eefb8ea934dccd3cbeeb15d5d0d8e18fca68', 'message': 'Do not run timesync checks on deployment host\n\nKolla-ansible install python docker library in role/baremetal\nto group/baremetal, because of this get container facts\nfor timesync checks is failing on deployment host.\n\nThis patch adding when conditional, so deployment host\nwill be skipped as there is no need to run timesync\nchecks.\n\nCloses-Bug: #1933347\nChange-Id: Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa\n(cherry picked from commit 281c9935da076eb7a744136e3738084468692278)\n'}]",0,797584,b6d8eefb8ea934dccd3cbeeb15d5d0d8e18fca68,31,4,6,27339,,,0,"Do not run timesync checks on deployment host

Kolla-ansible install python docker library in role/baremetal
to group/baremetal, because of this get container facts
for timesync checks is failing on deployment host.

This patch adding when conditional, so deployment host
will be skipped as there is no need to run timesync
checks.

Closes-Bug: #1933347
Change-Id: Ifefb9c74ee6a80cdbc458992d0196850ddfe7ffa
(cherry picked from commit 281c9935da076eb7a744136e3738084468692278)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/797584/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/main.yml'],1,698aeb1929e91f991c65eb34066eee4c87e99deb,bug/1933347-stable/wallaby, - inventory_hostname not in groups['deployment']|default([]),,1,0
openstack%2Fpuppet-zaqar~master~I9ec4a576b576b6eea50a81846f1590ece73350d9,openstack/puppet-zaqar,master,I9ec4a576b576b6eea50a81846f1590ece73350d9,Drop Fedora support,MERGED,2021-06-12 07:11:04.000000000,2021-08-05 14:31:13.000000000,2021-06-19 02:49:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 07:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/8ae3db06e012d0d471fb525c40aa65577a1ee98a', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I9ec4a576b576b6eea50a81846f1590ece73350d9\n""}, {'number': 2, 'created': '2021-06-12 14:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/1569e713cbab9256c94c7ab2aa3ddbc705f8db6a', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I9ec4a576b576b6eea50a81846f1590ece73350d9\n""}, {'number': 3, 'created': '2021-06-15 11:34:09.000000000', 'files': ['spec/classes/zaqar_wsgi_apache_spec.rb', 'releasenotes/notes/drop-fedora-7ea493ab73fa8a0f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/e1b0c4eaa1206621d53097623683d8fac10364e1', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I9ec4a576b576b6eea50a81846f1590ece73350d9\n""}]",0,796104,e1b0c4eaa1206621d53097623683d8fac10364e1,15,3,3,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I9ec4a576b576b6eea50a81846f1590ece73350d9
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/04/796104/3 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-7ea493ab73fa8a0f.yaml']",2,8ae3db06e012d0d471fb525c40aa65577a1ee98a,drop-fedora,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Foslo.messaging~master~I41024382edcfc212ccc4b1b787bd10b514b4f5a5,openstack/oslo.messaging,master,I41024382edcfc212ccc4b1b787bd10b514b4f5a5,Support oslo.metrics in oslo.messaging,ABANDONED,2020-05-26 10:35:08.000000000,2021-08-05 14:24:53.000000000,,"[{'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-26 10:35:08.000000000', 'files': ['oslo_messaging/metrics/__init__.py', 'oslo_messaging/rpc/dispatcher.py', 'oslo_messaging/rpc/client.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8fcbfc39f956417925ab94840eef9852cd8142b4', 'message': 'Support oslo.metrics in oslo.messaging\n\nThis patch is a sample code to support oslo.metrics from\noslo.messaging side. This patch lacks test cases because of\nPoC for the metrics support.\n\nDepends-On: I9434d11466e7626fdbebd1340a8bb3d664518bd1\nChange-Id: I41024382edcfc212ccc4b1b787bd10b514b4f5a5\nCo-Authored-By: Yuki Nishiwaki <yuki.nishiwaki@linecorp.com>\n'}]",8,730755,8fcbfc39f956417925ab94840eef9852cd8142b4,3,2,1,8878,,,0,"Support oslo.metrics in oslo.messaging

This patch is a sample code to support oslo.metrics from
oslo.messaging side. This patch lacks test cases because of
PoC for the metrics support.

Depends-On: I9434d11466e7626fdbebd1340a8bb3d664518bd1
Change-Id: I41024382edcfc212ccc4b1b787bd10b514b4f5a5
Co-Authored-By: Yuki Nishiwaki <yuki.nishiwaki@linecorp.com>
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/55/730755/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/metrics/__init__.py', 'oslo_messaging/rpc/dispatcher.py', 'oslo_messaging/rpc/client.py']",3,8fcbfc39f956417925ab94840eef9852cd8142b4,oslo-metrics-support,"import timeimport sixfrom oslo_messaging import metrics self.metrics_api = metrics.get_metrics_collector() cctxt = self.prepare() metrics.METRICS_COLLECTOR.rpc_client_count_for_invocation_start(cctxt, method, ""cast"") start_time = time.time() try: cctxt.cast(ctxt, method, **kwargs) except Exception as e: metrics.METRICS_COLLECTOR.rpc_client_exception( cctxt, method, ""cast"", e.__class__.__name__) raise finally: metrics.METRICS_COLLECTOR.rpc_client_processing_time( cctxt, method, ""cast"", time.time() - start_time) metrics.METRICS_COLLECTOR.rpc_client_count_for_invocation_end( cctxt, method, ""cast"") cctxt = self.prepare() self.metrics_api.rpc_client_count_for_invocation_start(cctxt, method, ""call"") start_time = time.time() try: return cctxt.call(ctxt, method, **kwargs) except Exception as e: self.metrics_api.rpc_client_exception( cctxt, method, ""call"", e.__class__.__name__) raise finally: self.metrics_api.rpc_client_processing_time( cctxt, method, ""call"", time.time() - start_time) self.metrics_api.rpc_client_count_for_invocation_end( cctxt, method, ""call"")"," self.prepare().cast(ctxt, method, **kwargs) return self.prepare().call(ctxt, method, **kwargs)",260,5
openstack%2Fvalidations-common~master~I91782aa91948c6391cdfb50cb1cf143b878a93f2,openstack/validations-common,master,I91782aa91948c6391cdfb50cb1cf143b878a93f2,Removing validations-libs from test-requirements,MERGED,2021-07-28 10:26:23.000000000,2021-08-05 14:21:58.000000000,2021-08-05 14:21:58.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-28 10:26:23.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f2822098a41bc4972f0221feabdd93285d8e7693', 'message': 'Removing validations-libs from test-requirements\n\nThe tests no longer require the validations-libs\npackage to run. Therefore, it was removed from the dependency list.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I91782aa91948c6391cdfb50cb1cf143b878a93f2\n'}]",0,802680,f2822098a41bc4972f0221feabdd93285d8e7693,10,6,1,32926,,,0,"Removing validations-libs from test-requirements

The tests no longer require the validations-libs
package to run. Therefore, it was removed from the dependency list.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I91782aa91948c6391cdfb50cb1cf143b878a93f2
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/80/802680/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f2822098a41bc4972f0221feabdd93285d8e7693,,,validations-libs>=1.0.4 # Apache-2.0,0,1
openstack%2Ftripleo-validations~master~Ib5fc841e23001816612dcdfd8c3335ae99ba2722,openstack/tripleo-validations,master,Ib5fc841e23001816612dcdfd8c3335ae99ba2722,Ansible lint custom rule expansion,MERGED,2021-06-29 10:33:09.000000000,2021-08-05 14:21:57.000000000,2021-08-05 14:21:57.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-06-29 10:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a8299355fc8bee92a6ac9ac6e0c19f2b93b57a11', 'message': 'Ansible lint custom rule expansion\n\nExpands the existing ansible lint rule to aling\nwith proposed metadata changes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722\n'}, {'number': 2, 'created': '2021-06-30 10:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b17a8429f796e2566481ea9458748259a83b09d7', 'message': 'Ansible lint custom rule expansion\n\nExpands the existing ansible lint rule to aling\nwith proposed metadata changes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722\n'}, {'number': 3, 'created': '2021-07-12 14:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c4def5de81f0f2f1af186c38a211b055101c6780', 'message': 'Ansible lint custom rule expansion\n\nExpands the existing ansible lint rule to aling\nwith proposed metadata changes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722\n'}, {'number': 4, 'created': '2021-07-22 10:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9a56cc09236c8ffa9aa886dfc3ac617d58c337c9', 'message': 'Ansible lint custom rule expansion\n\nExpands the existing ansible lint rule to aling\nwith proposed metadata changes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722\n'}, {'number': 5, 'created': '2021-07-27 13:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9152c6dad11469ea3e78533b7a097ab2ceafca7d', 'message': 'Ansible lint custom rule expansion\n\nExpands the existing ansible lint rule to aling\nwith proposed metadata changes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722\n'}, {'number': 6, 'created': '2021-07-27 15:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2f7ebc47c98078da76a6f4bb0cfc8a04819a4328', 'message': 'Ansible lint custom rule expansion\n\nExpands the existing ansible lint rule to aling\nwith proposed metadata changes.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/800721\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722\n'}, {'number': 7, 'created': '2021-07-28 06:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bcc49aa07e07b4b8b8eda96222e91d4cf7df9285', 'message': 'Ansible lint custom rule expansion\n\nExpands the existing ansible lint rule to aling\nwith proposed metadata changes.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/800721\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722\n'}, {'number': 8, 'created': '2021-07-28 09:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/003cbe4dee9c80508167be9147c9795bee2b5651', 'message': 'Ansible lint custom rule expansion\n\nExpands the existing ansible lint rule to aling\nwith proposed metadata changes.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/800721\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722\n'}, {'number': 9, 'created': '2021-07-28 11:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/07cf77f98c1223f233b4e1a656b7664ff56b7b46', 'message': 'Ansible lint custom rule expansion\n\nExpands the existing ansible lint rule to aling\nwith proposed metadata changes.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/800721\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722\n'}, {'number': 10, 'created': '2021-07-29 06:26:53.000000000', 'files': ['.ansible-lint_rules/ValidationHasMetadataRule.py', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/84c91cfcf4b1acd3503b44af317715be58d8bf4f', 'message': 'Ansible lint custom rule expansion\n\nExpands the existing ansible lint rule to aling\nwith proposed metadata changes.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/800721\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722\n'}]",6,798636,84c91cfcf4b1acd3503b44af317715be58d8bf4f,32,12,10,32926,,,0,"Ansible lint custom rule expansion

Expands the existing ansible lint rule to aling
with proposed metadata changes.

Depends-On: https://review.opendev.org/c/openstack/validations-libs/+/800721

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib5fc841e23001816612dcdfd8c3335ae99ba2722
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/36/798636/10 && git format-patch -1 --stdout FETCH_HEAD,"['.ansible-lint_rules/ValidationHasMetadataRule.py', '.ansible-lint']",2,a8299355fc8bee92a6ac9ac6e0c19f2b93b57a11,ansiblelint-newkeys,, - playbooks/ceph-pg.yaml,102,58
openstack%2Foslo.messaging~master~I00872541844323a95ffb5ef60ca41cf36a75560c,openstack/oslo.messaging,master,I00872541844323a95ffb5ef60ca41cf36a75560c,Update requirements and lower-constraints,ABANDONED,2020-12-14 12:58:47.000000000,2021-08-05 14:18:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-14 12:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c68df3c5157ffd6023ecb59f5d674a59f4fb3290', 'message': ""Update requirements and lower-constraints\n\nBring the versions specified in requirements.txt and test-req.txt\ncloser to what's actually being used in the py36 and py38 testenvs,\nand update lower-constraints to reflect the updated requirements.\n\nWhat has made this necessary right now is that the latest pip has\nintroduced a much stricter resolver, and the oslo lower-constraints\njob is failing because oslo is imposing some constraints which are\ntoo low for some dependencies, and we can't get away with that under\nthe stricter resolver.\n\nChange-Id: I00872541844323a95ffb5ef60ca41cf36a75560c\n""}, {'number': 2, 'created': '2020-12-14 14:22:01.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e734bcbe0d4559267f241941d085a7a1e28c9a34', 'message': ""Update requirements and lower-constraints\n\nBring the versions specified in requirements.txt and test-req.txt\ncloser to what's actually being used in the py36 and py38 testenvs,\nand update lower-constraints to reflect the updated requirements.\n\nWhat has made this necessary right now is that the latest pip has\nintroduced a much stricter resolver, and the oslo lower-constraints\njob is failing because oslo is imposing some constraints which are\ntoo low for some dependencies, and we can't get away with that under\nthe stricter resolver.\n\nChange-Id: I00872541844323a95ffb5ef60ca41cf36a75560c\n""}]",0,766946,e734bcbe0d4559267f241941d085a7a1e28c9a34,4,1,2,28522,,,0,"Update requirements and lower-constraints

Bring the versions specified in requirements.txt and test-req.txt
closer to what's actually being used in the py36 and py38 testenvs,
and update lower-constraints to reflect the updated requirements.

What has made this necessary right now is that the latest pip has
introduced a much stricter resolver, and the oslo lower-constraints
job is failing because oslo is imposing some constraints which are
too low for some dependencies, and we can't get away with that under
the stricter resolver.

Change-Id: I00872541844323a95ffb5ef60ca41cf36a75560c
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/46/766946/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,c68df3c5157ffd6023ecb59f5d674a59f4fb3290,fix-lc,bandit==1.6.0eventlet==0.25.2oslo.service==2.4.0 oslo.utils==3.40.2PyYAML==5.3.1,bandit==1.1.0eventlet==0.23.0oslo.service==1.24.0 oslo.utils==3.37.0PyYAML==3.13,6,6
openstack%2Foslo.messaging~stable%2Frocky~I2ae53340783e4044dab58035bc0992dc08145b53,openstack/oslo.messaging,stable/rocky,I2ae53340783e4044dab58035bc0992dc08145b53,Cancel consumer if queue down,ABANDONED,2020-09-01 07:35:05.000000000,2021-08-05 14:08:29.000000000,,"[{'_account_id': 5055}, {'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 24849}, {'_account_id': 28522}, {'_account_id': 29071}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-09-01 07:35:05.000000000', 'files': ['oslo_messaging/tests/functional/test_rabbitmq.py', 'releasenotes/notes/add-enable_cancel_on_failover-22ac472b93dd3a23.yaml', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c49667d54ab792bd017989b245ec37e711fc81e3', 'message': 'Cancel consumer if queue down\n\nPreviously, we have switched to use default exchanges\nto avoid excessive amounts of exchange not found messages.\nBut it does not actually solve the problem because\nreply_* queue is already gone and agent will not receive callbacks.\n\nafter some debugging, I found under some circumstances\nseems rabbitmq consumer does not receive basic cancel\nsignal when queue is already gone. This might due to\nrabbitmq try to restart consumer when queue is down\n(for example when split brain). In such cases,\nit might be better to fail early.\n\nby reading the code, seems like x-cancel-on-ha-failover\nis not dedicated to mirror queues only, https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1894,\nhttps://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1926.\n\nBy failing early, in my own test setup,\nI could solve a certain case of exchange not found problem.\n\nChange-Id: I2ae53340783e4044dab58035bc0992dc08145b53\nRelated-bug: #1789177\nDepends-On: https://review.opendev.org/#/c/749193/\n(cherry picked from commit 196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1)\n(cherry picked from commit 0a432c7fb107d04f7a41199fe9a8c4fbd344d009)\n(cherry picked from commit 5de11fa752ab8e37b95b1785f4c71210bf473f0c)\n(cherry picked from commit 56bab1deab167e621d0a263f3fcf95b75c7d1bad)\n'}]",0,749194,c49667d54ab792bd017989b245ec37e711fc81e3,17,9,1,28522,,,0,"Cancel consumer if queue down

Previously, we have switched to use default exchanges
to avoid excessive amounts of exchange not found messages.
But it does not actually solve the problem because
reply_* queue is already gone and agent will not receive callbacks.

after some debugging, I found under some circumstances
seems rabbitmq consumer does not receive basic cancel
signal when queue is already gone. This might due to
rabbitmq try to restart consumer when queue is down
(for example when split brain). In such cases,
it might be better to fail early.

by reading the code, seems like x-cancel-on-ha-failover
is not dedicated to mirror queues only, https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1894,
https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1926.

By failing early, in my own test setup,
I could solve a certain case of exchange not found problem.

Change-Id: I2ae53340783e4044dab58035bc0992dc08145b53
Related-bug: #1789177
Depends-On: https://review.opendev.org/#/c/749193/
(cherry picked from commit 196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1)
(cherry picked from commit 0a432c7fb107d04f7a41199fe9a8c4fbd344d009)
(cherry picked from commit 5de11fa752ab8e37b95b1785f4c71210bf473f0c)
(cherry picked from commit 56bab1deab167e621d0a263f3fcf95b75c7d1bad)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/94/749194/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/functional/test_rabbitmq.py', 'releasenotes/notes/add-enable_cancel_on_failover-22ac472b93dd3a23.yaml', 'oslo_messaging/_drivers/impl_rabbit.py']",3,c49667d54ab792bd017989b245ec37e711fc81e3,rocky-cancel-consumer," cfg.BoolOpt('enable_cancel_on_failover', default=False, help=""Enable x-cancel-on-ha-failover flag so that "" ""rabbitmq server will cancel and notify consumers"" ""when queue is down"") nowait=False, rabbit_ha_queues=None, rabbit_queue_ttl=0, enable_cancel_on_failover=False): self.enable_cancel_on_failover = enable_cancel_on_failover consumer_arguments = None if self.enable_cancel_on_failover: consumer_arguments = { ""x-cancel-on-ha-failover"": True} queue_arguments=self.queue_arguments, consumer_arguments=consumer_arguments ) self.enable_cancel_on_failover = driver_conf.enable_cancel_on_failover consumer = Consumer( exchange_name=topic, queue_name=topic, routing_key=topic, type='direct', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl, enable_cancel_on_failover=self.enable_cancel_on_failover) consumer = Consumer( exchange_name=exchange_name, queue_name=queue_name or topic, routing_key=topic, type='topic', durable=self.amqp_durable_queues, exchange_auto_delete=self.amqp_auto_delete, queue_auto_delete=self.amqp_auto_delete, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, enable_cancel_on_failover=self.enable_cancel_on_failover) consumer = Consumer( exchange_name=exchange_name, queue_name=queue_name, routing_key=topic, type='fanout', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl, enable_cancel_on_failover=self.enable_cancel_on_failover)"," nowait=False, rabbit_ha_queues=None, rabbit_queue_ttl=0): queue_arguments=self.queue_arguments) consumer = Consumer(exchange_name=topic, queue_name=topic, routing_key=topic, type='direct', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl) consumer = Consumer(exchange_name=exchange_name, queue_name=queue_name or topic, routing_key=topic, type='topic', durable=self.amqp_durable_queues, exchange_auto_delete=self.amqp_auto_delete, queue_auto_delete=self.amqp_auto_delete, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues) consumer = Consumer(exchange_name=exchange_name, queue_name=queue_name, routing_key=topic, type='fanout', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl)",65,31
openstack%2Fcinder~master~I6587c12adfe2a346d220d14880a3010d05d1c900,openstack/cinder,master,I6587c12adfe2a346d220d14880a3010d05d1c900,Comply with nas_secure_file_operations for qemu-img info,ABANDONED,2021-03-10 16:56:06.000000000,2021-08-05 13:28:42.000000000,,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 29074}]","[{'number': 1, 'created': '2021-03-10 16:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/52e49210ce2537d5760b5d4342f09b6529554e08', 'message': 'Comply with nas_secure_file_operations for qemu-img info\n\nThe operator can set nas_secure_file_operations to true if all operations\non the volume backend should be done without a root user.\nFor some reason the call to qemu-img info was forced to use the root user and\nignore this setting. This will render it impossible to use\nnas_secure_file_operations without changes on the cinder rootwrap config.\n\nTherefor we fix this here so that nas_secure_file_operations becomes usable.\n\nChange-Id: I6587c12adfe2a346d220d14880a3010d05d1c900\n'}, {'number': 2, 'created': '2021-03-11 07:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a6a0c9c94fa1bede3a6f503ae017a8e241cae70', 'message': 'Comply with nas_secure_file_operations for qemu-img info\n\nThe operator can set nas_secure_file_operations to true if all operations\non the volume backend should be done without a root user.\nFor some reason the call to qemu-img info was forced to use the root user and\nignore this setting. This will render it impossible to use\nnas_secure_file_operations without changes on the cinder rootwrap config.\n\nTherefor we fix this here so that nas_secure_file_operations becomes usable.\n\nChange-Id: I6587c12adfe2a346d220d14880a3010d05d1c900\n'}, {'number': 3, 'created': '2021-03-12 10:38:28.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8464c74b5e847b97a680fe23408e2474f194123e', 'message': 'Comply with nas_secure_file_operations for qemu-img info\n\nThe operator can set nas_secure_file_operations to true if all operations\non the volume backend should be done without a root user.\nFor some reason the call to qemu-img info was forced to use the root user and\nignore this setting. This will render it impossible to use\nnas_secure_file_operations without changes on the cinder rootwrap config.\n\nTherefor we fix this here so that nas_secure_file_operations becomes usable.\n\nChange-Id: I6587c12adfe2a346d220d14880a3010d05d1c900\n'}]",5,779834,8464c74b5e847b97a680fe23408e2474f194123e,50,4,3,29074,,,0,"Comply with nas_secure_file_operations for qemu-img info

The operator can set nas_secure_file_operations to true if all operations
on the volume backend should be done without a root user.
For some reason the call to qemu-img info was forced to use the root user and
ignore this setting. This will render it impossible to use
nas_secure_file_operations without changes on the cinder rootwrap config.

Therefor we fix this here so that nas_secure_file_operations becomes usable.

Change-Id: I6587c12adfe2a346d220d14880a3010d05d1c900
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/779834/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py']",2,52e49210ce2537d5760b5d4342f09b6529554e08,skip_sudo_for_qemu_info, run_as_root=self._execute_as_root), run_as_root=True),9,1
openstack%2Fkeystone~stable%2Frocky~I68a7cfe4cb5cc524c92a713686c8648683c98d60,openstack/keystone,stable/rocky,I68a7cfe4cb5cc524c92a713686c8648683c98d60,DNM: Checking Rocky gate,ABANDONED,2021-07-30 12:46:26.000000000,2021-08-05 13:22:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-30 12:46:26.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/keystone/commit/399eaa6e89ee00b9ffd1efbc5ba9fa70d84127c4', 'message': 'DNM: Checking Rocky gate\n\nChange-Id: I68a7cfe4cb5cc524c92a713686c8648683c98d60\n'}]",0,803006,399eaa6e89ee00b9ffd1efbc5ba9fa70d84127c4,4,1,1,9816,,,0,"DNM: Checking Rocky gate

Change-Id: I68a7cfe4cb5cc524c92a713686c8648683c98d60
",git fetch https://review.opendev.org/openstack/keystone refs/changes/06/803006/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,399eaa6e89ee00b9ffd1efbc5ba9fa70d84127c4,,,,0,0
openstack%2Fcharm-cinder~stable%2F21.04~I0bae8222c687e45cb2ffa72e01f35b07ee137f7c,openstack/charm-cinder,stable/21.04,I0bae8222c687e45cb2ffa72e01f35b07ee137f7c,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:02:25.000000000,2021-08-05 12:58:06.000000000,2021-08-05 12:58:06.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/3fdcfaa6c323f19bc1ad6d9fbc38a09c61665a8c', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I0bae8222c687e45cb2ffa72e01f35b07ee137f7c\n'}, {'number': 2, 'created': '2021-07-05 11:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/585f5737fc2f1bb6e1198202909eddfb71992754', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I0bae8222c687e45cb2ffa72e01f35b07ee137f7c\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 3, 'created': '2021-08-03 12:58:30.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/f8cb667d7df2310c473d7f6c1472e7c090341cd7', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I0bae8222c687e45cb2ffa72e01f35b07ee137f7c\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799256,f8cb667d7df2310c473d7f6c1472e7c090341cd7,26,5,3,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I0bae8222c687e45cb2ffa72e01f35b07ee137f7c
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/56/799256/3 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,3fdcfaa6c323f19bc1ad6d9fbc38a09c61665a8c,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fansible-collections-openstack~master~I172caf360e6e342dd54865da5a5b72b0dc0205c8,openstack/ansible-collections-openstack,master,I172caf360e6e342dd54865da5a5b72b0dc0205c8,Only add or remove router interfaces when needed,MERGED,2021-01-11 14:10:13.000000000,2021-08-05 12:37:33.000000000,2021-08-05 12:37:33.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2021-01-11 14:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e1568f556774e7ce34b06c02570416dbdee9301b', 'message': ""Only add or remove router interfaces when needed\n\nPreviously, when updating a router all its interfaces where removed and\nreadded by Ansible's os_router module. As a unwanted side effect all\nactive connections of the router and nat'ed devices where dropped,\nclosing e.g. all active tcp sessions. Now, only necessary changes\nare applied.\n\nTask: 40136\nStory: 2007845\nChange-Id: I172caf360e6e342dd54865da5a5b72b0dc0205c8\n""}, {'number': 2, 'created': '2021-01-12 07:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/377cf9621decfe436314858e3fbae4e5d63b0547', 'message': ""Only add or remove router interfaces when needed\n\nPreviously, when updating a router all its interfaces where removed and\nreadded by Ansible's os_router module. As a unwanted side effect all\nactive connections of the router and nat'ed devices where dropped,\nclosing e.g. all active tcp sessions. Now, only necessary changes\nare applied.\n\nTask: 40136\nStory: 2007845\nChange-Id: I172caf360e6e342dd54865da5a5b72b0dc0205c8\n""}, {'number': 3, 'created': '2021-01-12 09:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/54e5ae099489a086feb6279343bba8b8c9970714', 'message': ""Only add or remove router interfaces when needed\n\nPreviously, when updating a router all its interfaces where removed and\nreadded by Ansible's os_router module. As a unwanted side effect all\nactive connections of the router and nat'ed devices where dropped,\nclosing e.g. all active tcp sessions. Now, only necessary changes\nare applied.\n\nTask: 40136\nStory: 2007845\nChange-Id: I172caf360e6e342dd54865da5a5b72b0dc0205c8\n""}, {'number': 4, 'created': '2021-01-12 11:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e583ed0ce00408de4a90c8c042d8b6419115e973', 'message': ""Only add or remove router interfaces when needed\n\nPreviously, when updating a router all its interfaces where removed and\nreadded by Ansible's os_router module. As a unwanted side effect all\nactive connections of the router and nat'ed devices where dropped,\nclosing e.g. all active tcp sessions. Now, only necessary changes\nare applied.\n\nTask: 40136\nStory: 2007845\nChange-Id: I172caf360e6e342dd54865da5a5b72b0dc0205c8\n""}, {'number': 5, 'created': '2021-06-23 10:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9c629dec0deaa0691aefc8e60b37214d74328818', 'message': ""Only add or remove router interfaces when needed\n\nPreviously, when updating a router all its interfaces where removed and\nreadded by Ansible's os_router module. As a unwanted side effect all\nactive connections of the router and nat'ed devices where dropped,\nclosing e.g. all active tcp sessions. Now, only necessary changes\nare applied.\n\nTask: 40136\nStory: 2007845\nChange-Id: I172caf360e6e342dd54865da5a5b72b0dc0205c8\n""}, {'number': 6, 'created': '2021-07-30 08:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4a5abba4d696ae65d65a640edc389efbd0d8636d', 'message': ""Only add or remove router interfaces when needed\n\nPreviously, when updating a router all its interfaces where removed and\nreadded by Ansible's os_router module. As a unwanted side effect all\nactive connections of the router and nat'ed devices where dropped,\nclosing e.g. all active tcp sessions. Now, only necessary changes\nare applied.\n\nTask: 40136\nStory: 2007845\nChange-Id: I172caf360e6e342dd54865da5a5b72b0dc0205c8\n""}, {'number': 7, 'created': '2021-08-03 13:22:13.000000000', 'files': ['ci/roles/router/tasks/main.yml', 'plugins/modules/router.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0e370b2c5184352415beaa2af9ec8e0ccf9121d8', 'message': ""Only add or remove router interfaces when needed\n\nPreviously, when updating a router all its interfaces where removed and\nreadded by Ansible's os_router module. As a unwanted side effect all\nactive connections of the router and nat'ed devices where dropped,\nclosing e.g. all active tcp sessions. Now, only necessary changes\nare applied.\n\nTask: 40136\nStory: 2007845\nChange-Id: I172caf360e6e342dd54865da5a5b72b0dc0205c8\n""}]",4,770125,0e370b2c5184352415beaa2af9ec8e0ccf9121d8,29,8,7,32962,,,0,"Only add or remove router interfaces when needed

Previously, when updating a router all its interfaces where removed and
readded by Ansible's os_router module. As a unwanted side effect all
active connections of the router and nat'ed devices where dropped,
closing e.g. all active tcp sessions. Now, only necessary changes
are applied.

Task: 40136
Story: 2007845
Change-Id: I172caf360e6e342dd54865da5a5b72b0dc0205c8
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/25/770125/5 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/router.py'],1,e1568f556774e7ce34b06c02570416dbdee9301b,story_2007845_fix_os_router,"import itertools def _get_subnet_ids_from_ports(self, ports): return [fixed_ip['subnet_id'] for fixed_ip in itertools.chain.from_iterable(port['fixed_ips'] for port in ports if 'fixed_ips' in port)] def _needs_update(self, router, net, missing_port_ids, requested_subnet_ids, existing_subnet_ids, router_ifs_cfg, filters=None): """"""Decide if the given router needs an update."""""" if net: elif router['external_gateway_info']['network_id'] != net['id']: # check if external_fixed_ip has to be added for external_fixed_ip in router_ifs_cfg['external_fixed_ips']: exists = False # compare the requested interface with existing, looking for an existing match for existing_if in router['external_gateway_info']['external_fixed_ips']: if existing_if['subnet_id'] == external_fixed_ip['subnet_id']: if 'ip' in external_fixed_ip: if existing_if['ip_address'] == external_fixed_ip['ip']: # both subnet id and ip address match exists = True break else: # only the subnet was given, so ip doesn't matter exists = True break # this interface isn't present on the existing router if not exists: return True # check if external_fixed_ip has to be removed if router_ifs_cfg['external_fixed_ips']: for external_fixed_ip in router['external_gateway_info']['external_fixed_ips']: obsolete = True # compare the existing interface with requested, looking for an requested match for requested_if in router_ifs_cfg['external_fixed_ips']: if external_fixed_ip['subnet_id'] == requested_if['subnet_id']: if 'ip' in requested_if: if external_fixed_ip['ip_address'] == requested_if['ip']: obsolete = False obsolete = False if obsolete: else: # no external fixed ips requested if len(router['external_gateway_info']['external_fixed_ips']) > 1: # but router has several external fixed ips # check if internal port has to be added if router_ifs_cfg['internal_ports_missing']: if missing_port_ids: return True # check if internal subnet has to be added or removed if set(requested_subnet_ids) != set(existing_subnet_ids): return True def _build_kwargs(self, router, net): if net: kwargs['ext_gateway_net_id'] = net['id'] else: # no external fixed ips requested if router and len(router['external_gateway_info']['external_fixed_ips']) > 1: # but router has several external fixed ips # keep first external fixed ip only fip = router['external_gateway_info']['external_fixed_ips'][0] kwargs['ext_fixed_ips'] = [fip] def _build_router_interface_config(self, filters=None): external_fixed_ips = [] internal_subnets = [] internal_ports = [] internal_ports_missing = [] # Build external interface configuration subnet = self.conn.get_subnet(iface['subnet'], filters) if not subnet: self.fail(msg='subnet %s not found' % iface['subnet']) new_external_fixed_ip = {'subnet_name': subnet.name, 'subnet_id': subnet.id} if 'ip' in iface: new_external_fixed_ip['ip'] = iface['ip'] external_fixed_ips.append(new_external_fixed_ip) # Build internal interface configuration if self.params['interfaces']: internal_ips = [] internal_subnets.append(subnet) if ""portip"" not in iface: # portip not set, add any ip from subnet internal_subnets.append(subnet) elif not iface['portip']: # portip is set but has invalid value self.fail(msg='put an ip in portip or remove it from list to assign default port to router') else: # portip has valid value # look for ports whose fixed_ips.ip_address matchs portip # portip exists in net already internal_ports.append(existing_port) internal_ips.append(fixed_ip['ip_address']) if iface['portip'] not in internal_ips: # no port with portip exists hence create a new port internal_ports_missing.append({ 'network_id': net.id, 'fixed_ips': [{'ip_address': iface['portip'], 'subnet_id': subnet.id}] }) return { 'external_fixed_ips': external_fixed_ips, 'internal_subnets': internal_subnets, 'internal_ports': internal_ports, 'internal_ports_missing': internal_ports_missing } self.fail(msg='network is required when supplying external_fixed_ips') router_ifs_cfg = self._build_router_interface_config(filters) requested_subnet_ids = [subnet.id for subnet in router_ifs_cfg['internal_subnets']] + \ self._get_subnet_ids_from_ports(router_ifs_cfg['internal_ports']) requested_port_ids = [i['id'] for i in router_ifs_cfg['internal_ports']] if router: router_ifs_internal = self.conn.list_router_interfaces(router, 'internal') existing_subnet_ids = self._get_subnet_ids_from_ports(router_ifs_internal) obsolete_subnet_ids = set(existing_subnet_ids) - set(requested_subnet_ids) existing_port_ids = [i['id'] for i in router_ifs_internal] else: router_ifs_internal = [] existing_subnet_ids = [] obsolete_subnet_ids = [] existing_port_ids = [] missing_port_ids = set(requested_port_ids) - set(existing_port_ids) if self.ansible.check_mode: # Check if the system state would be changed if state == 'absent' and router: changed = True elif state == 'absent' and not router: changed = False elif state == 'present' and not router: changed = True else: # if state == 'present' and router changed = self._needs_update(router, net, missing_port_ids, requested_subnet_ids, existing_subnet_ids, router_ifs_cfg, filters) self.exit_json(changed=changed) changed = True # add interface by subnet id, because user did not specify a port id for subnet in router_ifs_cfg['internal_subnets']: self.conn.add_router_interface(router, subnet_id=subnet.id) # add interface by port id if user did specify a valid port id for port in router_ifs_cfg['internal_ports']: self.conn.add_router_interface(router, port_id=port.id) # add port and interface if user did specify an ip address but port is missing yet for missing_internal_port in router_ifs_cfg['internal_ports_missing']: p = self.conn.create_port(**missing_internal_port) if p: self.conn.add_router_interface(router, port_id=p.id) else: if self._needs_update(router, net, missing_port_ids, requested_subnet_ids, existing_subnet_ids, router_ifs_cfg, filters): changed = True # Protect against update_router() not actually updating the router. else: # delete internal subnets i.e. ports if obsolete_subnet_ids: for port in router_ifs_internal: if 'fixed_ips' in port: for fip in port['fixed_ips']: if fip['subnet_id'] in obsolete_subnet_ids: self.conn.remove_router_interface(router, port_id=port['id']) changed = True # add new internal interface by subnet id, because user did not specify a port id for subnet in router_ifs_cfg['internal_subnets']: if subnet.id not in existing_subnet_ids: self.conn.add_router_interface(router, subnet_id=subnet.id) changed = True # add new internal interface by port id if user did specify a valid port id for port_id in missing_port_ids: self.conn.add_router_interface(router, port_id=port_id) # add new port and new internal interface if user did specify an ip address but port is missing yet for missing_internal_port in router_ifs_cfg['internal_ports_missing']: p = self.conn.create_port(**missing_internal_port) if p: self.conn.add_router_interface(router, port_id=p.id) changed = True self.exit_json(changed=changed, router=router) self.exit_json(changed=False) else: # We need to detach all internal interfaces on a router # before we will be allowed to delete it. Deletion can # still fail if e.g. floating ips are attached to the # router. for port in router_ifs_internal: self.conn.delete_router(router['id']) self.exit_json(changed=True, router=router)"," ROUTER_INTERFACE_OWNERS = set([ 'network:router_interface', 'network:router_interface_distributed', 'network:ha_router_replicated_interface' ]) def _router_internal_interfaces(self, router): for port in self.conn.list_router_interfaces(router, 'internal'): if port['device_owner'] in ROUTER_INTERFACE_OWNERS: yield port def _needs_update(self, router, network, internal_subnet_ids, internal_port_ids, filters=None): """"""Decide if the given router needs an update. """""" if network: elif router['external_gateway_info']['network_id'] != network['id']: # check external interfaces if self.params['external_fixed_ips']: for new_iface in self.params['external_fixed_ips']: subnet = self.conn.get_subnet(new_iface['subnet'], filters) exists = False # compare the requested interface with existing, looking for an existing match for existing_iface in router['external_gateway_info']['external_fixed_ips']: if existing_iface['subnet_id'] == subnet['id']: if 'ip' in new_iface: if existing_iface['ip_address'] == new_iface['ip']: exists = True exists = True if not exists: # check internal interfaces if self.params['interfaces']: existing_subnet_ids = [] for port in self._router_internal_interfaces(router): if 'fixed_ips' in port: for fixed_ip in port['fixed_ips']: existing_subnet_ids.append(fixed_ip['subnet_id']) for iface in self.params['interfaces']: if isinstance(iface, dict): for p_id in internal_port_ids: p = self.conn.get_port(name_or_id=p_id) if 'fixed_ips' in p: for fip in p['fixed_ips']: internal_subnet_ids.append(fip['subnet_id']) if set(internal_subnet_ids) != set(existing_subnet_ids): return False def _system_state_change(self, router, network, internal_ids, internal_portids, filters=None): """"""Check if the system state would be changed."""""" state = self.params['state'] if state == 'absent' and router: if state == 'present': if not router: return True return self._needs_update(router, network, internal_ids, internal_portids, filters) def _build_kwargs(self, router, network): if network: kwargs['ext_gateway_net_id'] = network['id'] def _validate_subnets(self, filters=None): external_subnet_ids = [] internal_subnet_ids = [] internal_port_ids = [] existing_port_ips = [] subnet = self.conn.get_subnet(iface['subnet']) if not subnet: self.fail_json(msg='subnet %s not found' % iface['subnet']) external_subnet_ids.append(subnet['id']) if self.params['interfaces']: internal_subnet_ids.append(subnet['id']) if ""portip"" not in iface: internal_subnet_ids.append(subnet['id']) elif not iface['portip']: self.fail(msg='put an ip in portip or remove it from list to assign default port to router') else: internal_port_ids.append(existing_port.id) existing_port_ips.append(fixed_ip['ip_address']) if iface['portip'] not in existing_port_ips: p = self.conn.create_port(network_id=net.id, fixed_ips=[ { 'ip_address': iface['portip'], 'subnet_id': subnet.id } ]) if p: internal_port_ids.append(p.id) return external_subnet_ids, internal_subnet_ids, internal_port_ids self.fail_json(msg='network is required when supplying external_fixed_ips') external_ids, subnet_internal_ids, internal_portids = self._validate_subnets(filters) if self.ansible.check_mode: self.exit_json( changed=self._system_state_change(router, net, subnet_internal_ids, internal_portids, filters) ) for int_s_id in subnet_internal_ids: self.conn.add_router_interface(router, subnet_id=int_s_id) # add interface by port id as well for int_p_id in internal_portids: self.conn.add_router_interface(router, port_id=int_p_id) changed = True else: if self._needs_update(router, net, subnet_internal_ids, internal_portids, filters): # Protect against update_router() not actually # updating the router. # On a router update, if any internal interfaces were supplied, # just detach all existing internal interfaces and attach the new. if internal_portids or subnet_internal_ids: ports = self._router_internal_interfaces(router) for port in ports: self.conn.remove_router_interface(router, port_id=port['id']) if internal_portids: external_ids, subnet_internal_ids, internal_portids = self._validate_subnets(filters) for int_p_id in internal_portids: self.conn.add_router_interface(router, port_id=int_p_id) changed = True if subnet_internal_ids: for s_id in subnet_internal_ids: self.conn.add_router_interface(router, subnet_id=s_id) self.exit(changed=changed, router=router, id=router['id']) self.exit(changed=False) else: # We need to detach all internal interfaces on a router before # we will be allowed to delete it. ports = self._router_internal_interfaces(router) router_id = router['id'] for port in ports: self.conn.delete_router(router_id) self.exit_json(changed=True)",206,121
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c,openstack/tripleo-heat-templates,stable/train,If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c,Support cinder image conversion on an NFS share,MERGED,2021-07-23 17:29:25.000000000,2021-08-05 12:29:23.000000000,2021-08-05 12:27:58.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-23 17:29:25.000000000', 'files': ['releasenotes/notes/cinder-nfs-conversion-dir-ba9b8dce515808ce.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ca27801d72ee3ac5899b1081ace6083de1be99d', 'message': ""Support cinder image conversion on an NFS share\n\nNew CinderImageConversionNfsShare and CinderImageConversionNfsOptions\nparameters add support for mounting an external NFS share for cinder\nto use when converting glance images to or from another format (e.g.\nqcow2 versus raw).\n\nThis feature is useful in preventing the node's root disk from filling\nup in situations where the available disk space is too small, which\ncan happen in deployments that utilize very large glance images.\n\nChange-Id: If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c\n(cherry picked from commit 2225f9666b157de773fc1dadf195034e24e2577b)\n(cherry picked from commit d5b8ced547f5bf163b7ef76ef82a687af61434f9)\n(cherry picked from commit 0b5b09c123a40a3f68cd8fb6be2f8da9fe91f31a)\n(cherry picked from commit b303b509135f35d6c9cce1f6146292e5ff8d7bc2)\n""}]",0,802076,6ca27801d72ee3ac5899b1081ace6083de1be99d,33,3,1,21129,,,0,"Support cinder image conversion on an NFS share

New CinderImageConversionNfsShare and CinderImageConversionNfsOptions
parameters add support for mounting an external NFS share for cinder
to use when converting glance images to or from another format (e.g.
qcow2 versus raw).

This feature is useful in preventing the node's root disk from filling
up in situations where the available disk space is too small, which
can happen in deployments that utilize very large glance images.

Change-Id: If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c
(cherry picked from commit 2225f9666b157de773fc1dadf195034e24e2577b)
(cherry picked from commit d5b8ced547f5bf163b7ef76ef82a687af61434f9)
(cherry picked from commit 0b5b09c123a40a3f68cd8fb6be2f8da9fe91f31a)
(cherry picked from commit b303b509135f35d6c9cce1f6146292e5ff8d7bc2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/802076/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-nfs-conversion-dir-ba9b8dce515808ce.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml']",3,6ca27801d72ee3ac5899b1081ace6083de1be99d,cinder-nfs-conversion-dir," CinderImageConversionNfsShare: default: '' description: When set, the NFS share to be used for Cinder's image conversion directory. type: string CinderImageConversionNfsOptions: default: '_netdev,bg,intr,context=system_u:object_r:container_file_t:s0' description: NFS mount options when using an NFS share for Cinder's image conversion directory. type: string cinder_nfs_conversion_dir_enabled: not: equals: - {get_param: CinderImageConversionNfsShare} - '' cinder_image_conversion_nfs_dir: description: The directory where cinder does its image conversion when the directory is backed by an NFS share. value: &cinder_image_conversion_nfs_dir # Avoid SELinux conflicts by choosing a location outside /var/lib/cinder /var/lib/cinder_image_conversion - - name: Support using an NFS share for cinder image conversion vars: image_conversion_nfs_enabled: {if: [cinder_nfs_conversion_dir_enabled, true, false]} when: - image_conversion_nfs_enabled|bool block: - name: Create cinder image conversion directory file: path: *cinder_image_conversion_nfs_dir state: directory - name: Mount cinder's image conversion NFS share vars: image_conversion_nfs_share: {get_param: CinderImageConversionNfsShare} image_conversion_nfs_options: {get_param: CinderImageConversionNfsOptions} mount: path: *cinder_image_conversion_nfs_dir state: mounted fstype: nfs4 src: ""{{ image_conversion_nfs_share }}"" opts: ""{{ image_conversion_nfs_options }}"" cinder_volume_config_settings: description: Config settings for the cinder-volume container (HA or non-HA) value: if: - cinder_nfs_conversion_dir_enabled - cinder::image_conversion_dir: *cinder_image_conversion_nfs_dir - {} - if: - cinder_nfs_conversion_dir_enabled - - str_replace: # Use slave propagation so if the mount is delayed on the host # it will also be updated within the cinder-volume container. template: DIR:DIR:slave params: DIR: *cinder_image_conversion_nfs_dir - []", -,70,2
openstack%2Fsushy-oem-idrac~master~Iaf6fc196cd87de2e7423cfda6df79660b6b2c5f7,openstack/sushy-oem-idrac,master,Iaf6fc196cd87de2e7423cfda6df79660b6b2c5f7,Add Flake8 W503 ignore,MERGED,2021-08-04 07:39:49.000000000,2021-08-05 12:16:54.000000000,2021-08-05 12:16:54.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 31616}]","[{'number': 1, 'created': '2021-08-04 07:39:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/a9ab0b8051f364c022faa0829b73e1657956fa74', 'message': 'Add Flake8 W503 ignore\n\nChange-Id: Iaf6fc196cd87de2e7423cfda6df79660b6b2c5f7\n'}]",0,803425,a9ab0b8051f364c022faa0829b73e1657956fa74,7,4,1,27909,,,0,"Add Flake8 W503 ignore

Change-Id: Iaf6fc196cd87de2e7423cfda6df79660b6b2c5f7
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/25/803425/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a9ab0b8051f364c022faa0829b73e1657956fa74,flake8,"# [W503] Line break before binary operator.ignore = E123,E125,W503","ignore = E123,E125",2,1
openstack%2Fpython-tripleoclient~master~Iec23801a9eec1830469a53ab5ffc641125b5d3ff,openstack/python-tripleoclient,master,Iec23801a9eec1830469a53ab5ffc641125b5d3ff,Fail the overcloud deploy is ceph-ansible.yaml is included,MERGED,2021-06-24 10:10:37.000000000,2021-08-05 12:05:11.000000000,2021-08-05 12:03:49.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-24 10:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1d34f0c1e78e1bff661a2a7cc371d380a4694871', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file can be used in the upgrade context but not\nduring regular overcloud deploy or stack updates.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n'}, {'number': 2, 'created': '2021-06-24 10:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b5992785bd0fe2021e42d03baa9e724a783fd550', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file can be used in the upgrade context but not\nduring regular overcloud deploy or stack updates.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n'}, {'number': 3, 'created': '2021-06-24 11:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/37b72944a3c7aeae9867eb22abe968566bcf95a1', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file can be used in the upgrade context but not\nduring regular overcloud deploy or stack updates.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n'}, {'number': 4, 'created': '2021-06-24 12:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9026726efef84a7c49fc11585cbea5970756b4e6', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file can be used in the upgrade context but not\nduring regular overcloud deploy or stack updates.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n'}, {'number': 5, 'created': '2021-06-24 12:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7a06eb2f4a96f278a24cbef52b272a51c248e26', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file can be used in the upgrade context but not\nduring regular overcloud deploy or stack updates.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n'}, {'number': 6, 'created': '2021-06-24 12:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/61664cd6e5eb0aaf4e4cc896175e9c3bf7e3e04c', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file can be used in the upgrade context but not\nduring regular overcloud deploy or stack updates.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n'}, {'number': 7, 'created': '2021-07-21 09:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ba95d554e7c5936c47d3e9c9c5ef064dab794f4b', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file and the related registry resources can be used\nduring the update/upgrade context but not when a regular overcloud\ndeploy or stack updates are executed.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n'}, {'number': 8, 'created': '2021-07-21 16:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4343e9f90df8d1472061e1eeb8ca0cf4e207458f', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file and the related registry resources can be used\nduring the update/upgrade context but not when a regular overcloud\ndeploy or stack updates are executed.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n'}, {'number': 9, 'created': '2021-07-21 16:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a47c250bdad168b6661ee719f7d6fa6236c83e64', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file and the related registry resources can be used\nduring the update/upgrade context but not when a regular overcloud\ndeploy or stack updates are executed.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n'}, {'number': 10, 'created': '2021-07-22 07:03:59.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c455a4142c18409d9f5207cd17222d176f4ae71c', 'message': 'Fail the overcloud deploy is ceph-ansible.yaml is included\n\nTripleO recently concluded the migration to the new ceph deployment\ntool (cephadm). The ceph-ansible.yaml environment file, however, is\nstill relevant in an upgrade context, where ceph-ansible rolling\nupdate playbook is executed.\nFor this reason, this patch introduces a new validation to make sure\nthis environment file and the related registry resources can be used\nduring the update/upgrade context but not when a regular overcloud\ndeploy or stack updates are executed.\n\nChange-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff\n'}]",11,797867,c455a4142c18409d9f5207cd17222d176f4ae71c,42,9,10,25402,,,0,"Fail the overcloud deploy is ceph-ansible.yaml is included

TripleO recently concluded the migration to the new ceph deployment
tool (cephadm). The ceph-ansible.yaml environment file, however, is
still relevant in an upgrade context, where ceph-ansible rolling
update playbook is executed.
For this reason, this patch introduces a new validation to make sure
this environment file and the related registry resources can be used
during the update/upgrade context but not when a regular overcloud
deploy or stack updates are executed.

Change-Id: Iec23801a9eec1830469a53ab5ffc641125b5d3ff
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/67/797867/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",2,1d34f0c1e78e1bff661a2a7cc371d380a4694871,ceph_ansible_cleanup," # check if ceph-ansible env is present utils.fail_if_ceph_ansible(parsed_args.environment_files, self.__class__.__name__)",,24,0
openstack%2Fansible-collections-openstack~master~Idf56b01acda81e2bc211ac1979024fa59a59d352,openstack/ansible-collections-openstack,master,Idf56b01acda81e2bc211ac1979024fa59a59d352,Migrating volume_snapshot from AnsibleModule to OpenStackModule,ABANDONED,2020-12-21 01:08:39.000000000,2021-08-05 11:40:26.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-21 01:08:39.000000000', 'files': ['plugins/modules/volume_snapshot.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ea9a4dd6d1073b12178f1757489f5f9ac0d52294', 'message': 'Migrating volume_snapshot from AnsibleModule to OpenStackModule\n\nChange-Id: Idf56b01acda81e2bc211ac1979024fa59a59d352\n'}]",1,768029,ea9a4dd6d1073b12178f1757489f5f9ac0d52294,4,2,1,32675,,,0,"Migrating volume_snapshot from AnsibleModule to OpenStackModule

Change-Id: Idf56b01acda81e2bc211ac1979024fa59a59d352
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/29/768029/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/volume_snapshot.py'],1,ea9a4dd6d1073b12178f1757489f5f9ac0d52294,volume_snapshot_migration,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class VolumeSnapshotModule(OpenStackModule): argument_spec = dict( display_name=dict(required=True, aliases=['name'], type='str'), display_description=dict(aliases=['description'], type='str'), volume=dict(required=True, type='str'), force=dict(required=False, default=False, type='bool'), state=dict(default='present', choices=['absent', 'present'], type='str'), ) module_kwargs = dict(supports_check_mode=True) def _present_volume_snapshot(self, volume, snapshot): if not snapshot: snapshot = self.conn.create_volume_snapshot(volume.id, force=self.params['force'], wait=self.params['wait'], timeout=self.params[ 'timeout'], name=self.params['display_name'], description=self.params.get( 'display_description') ) self.exit_json(changed=True, snapshot=snapshot) else: self.exit_json(changed=False, snapshot=snapshot) def _absent_volume_snapshot(self, snapshot): if not snapshot: self.exit_json(changed=False) else: self.conn.delete_volume_snapshot(name_or_id=snapshot.id, wait=self.params['wait'], timeout=self.params['timeout'], ) self.exit_json(changed=True, snapshot_id=snapshot.id) def _system_state_change(self, snapshot): state = self.params['state'] if state == 'present': return snapshot is None if state == 'absent': return snapshot is not None def run(self): state = self.params['state'] if self.conn.volume_exists(self.params['volume']): volume = self.conn.get_volume(self.params['volume']) snapshot = self.conn.get_volume_snapshot(self.params['display_name'], filters={'volume_id': volume.id}) if self.ansible.check_mode: self.exit_json(changed=self._system_state_change(snapshot)) if state == 'present': self._present_volume_snapshot(volume, snapshot) if state == 'absent': self._absent_volume_snapshot(snapshot) else: self.fail_json( msg=""No volume with name or id '{0}' was found."".format( self.params['volume'])) module = VolumeSnapshotModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module, ) def _present_volume_snapshot(module, cloud): volume = cloud.get_volume(module.params['volume']) snapshot = cloud.get_volume_snapshot(module.params['display_name'], filters={'volume_id': volume.id}) if not snapshot: snapshot = cloud.create_volume_snapshot(volume.id, force=module.params['force'], wait=module.params['wait'], timeout=module.params[ 'timeout'], name=module.params['display_name'], description=module.params.get( 'display_description') ) module.exit_json(changed=True, snapshot=snapshot) else: module.exit_json(changed=False, snapshot=snapshot) def _absent_volume_snapshot(module, cloud): volume = cloud.get_volume(module.params['volume']) snapshot = cloud.get_volume_snapshot(module.params['display_name'], filters={'volume_id': volume.id}) if not snapshot: module.exit_json(changed=False) else: cloud.delete_volume_snapshot(name_or_id=snapshot.id, wait=module.params['wait'], timeout=module.params['timeout'], ) module.exit_json(changed=True, snapshot_id=snapshot.id) def _system_state_change(module, cloud): volume = cloud.get_volume(module.params['volume']) snapshot = cloud.get_volume_snapshot(module.params['display_name'], filters={'volume_id': volume.id}) state = module.params['state'] if state == 'present': return snapshot is None if state == 'absent': return snapshot is not None argument_spec = openstack_full_argument_spec( display_name=dict(required=True, aliases=['name']), display_description=dict(default=None, aliases=['description']), volume=dict(required=True), force=dict(required=False, default=False, type='bool'), state=dict(default='present', choices=['absent', 'present']), ) module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) sdk, cloud = openstack_cloud_from_module(module) state = module.params['state'] try: if cloud.volume_exists(module.params['volume']): if module.check_mode: module.exit_json(changed=_system_state_change(module, cloud)) if state == 'present': _present_volume_snapshot(module, cloud) if state == 'absent': _absent_volume_snapshot(module, cloud) else: module.fail_json( msg=""No volume with name or id '{0}' was found."".format( module.params['volume'])) except (sdk.exceptions.OpenStackCloudException, sdk.exceptions.ResourceTimeout) as e: module.fail_json(msg=e.message)",61,75
openstack%2Fansible-collections-openstack~master~I0fd13cc98c161067b614dddde29a01372672db01,openstack/ansible-collections-openstack,master,I0fd13cc98c161067b614dddde29a01372672db01,[WIP] Add parameter to flavor recreation on update,ABANDONED,2020-12-18 13:38:33.000000000,2021-08-05 11:40:13.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 30158}]","[{'number': 1, 'created': '2020-12-18 13:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f905397bd2a0a974a0d41573db6fe173141ad5db', 'message': 'Remove flavor update and add param for it\n\nThis commit remove the default flavor update when a flavor exists\nand a change is required, which consist of deleting and recreating\nthe flavor with the same name.\n\nIt could be hurtful on some operations as deleting a flavor with\nvirtual machines still spawned on it would remove the information.\n\nThis change alse add a param `update_flavor` (default to no/False)\nwhich if set to yes/True restore the previous behavior.\n\nSign-off-by: Cyril Grosjean <cyril.grosjean@wifirst.fr>\nChange-Id: I0fd13cc98c161067b614dddde29a01372672db01\n'}, {'number': 2, 'created': '2020-12-18 14:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d9848499a44470decbe9c1aecaaec5246f723679', 'message': 'Remove flavor update and add param for it\n\nThis commit remove the default flavor update when a flavor exists\nand a change is required, which consist of deleting and recreating\nthe flavor with the same name.\n\nIt could be hurtful on some operations as deleting a flavor with\nvirtual machines still spawned on it would remove the information.\n\nThis change alse add a param `update_flavor` (default to no/False)\nwhich if set to yes/True restore the previous behavior.\n\nSign-off-by: Cyril Grosjean <cyril.grosjean@wifirst.fr>\nChange-Id: I0fd13cc98c161067b614dddde29a01372672db01\n'}, {'number': 3, 'created': '2020-12-24 09:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8241eb21a500421c1dcd531364d484afe1b3059e', 'message': '[WIP] Add parameter to flavor recreation on update\n\nThis commit add a parameter `recreate_flavor` that if set to false\nwill make the module fail if a flavor already exist and needs to be\nupdated\n\nThis recreation process could be hurtful on some production envs,\nas deleting a flavor with virtual machines still spawned on it\nwould remove the flavor information on the VM.\n\nSign-off-by: Cyril Grosjean <cyril.grosjean@wifirst.fr>\nChange-Id: I0fd13cc98c161067b614dddde29a01372672db01\n'}, {'number': 4, 'created': '2020-12-24 09:40:02.000000000', 'files': ['plugins/modules/compute_flavor.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5dd93e63f85632a3f04f7475e7673ea1f5cd47bc', 'message': '[WIP] Add parameter to flavor recreation on update\n\nThis commit add a parameter `recreate_flavor` that if set to false\nwill make the module fail if a flavor already exist and needs to be\nupdated\n\nThis recreation process could be hurtful on some production envs,\nas deleting a flavor with virtual machines still spawned on it\nwould remove the flavor information on the VM.\n\nSign-off-by: Cyril Grosjean <cyril.grosjean@wifirst.fr>\nChange-Id: I0fd13cc98c161067b614dddde29a01372672db01\n'}]",6,767719,5dd93e63f85632a3f04f7475e7673ea1f5cd47bc,14,3,4,30158,,,0,"[WIP] Add parameter to flavor recreation on update

This commit add a parameter `recreate_flavor` that if set to false
will make the module fail if a flavor already exist and needs to be
updated

This recreation process could be hurtful on some production envs,
as deleting a flavor with virtual machines still spawned on it
would remove the flavor information on the VM.

Sign-off-by: Cyril Grosjean <cyril.grosjean@wifirst.fr>
Change-Id: I0fd13cc98c161067b614dddde29a01372672db01
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/19/767719/4 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/compute_flavor.py'],1,f905397bd2a0a974a0d41573db6fe173141ad5db,remove-update-nova-flavor," update_flavor: description: - If this parameter is yes, will remove and recreate the flavor on the cloud. default: ""no"" type: bool update_flavor=dict(required=False, default=False, type='bool'), update_flavor = module.params['update_flavor'] if require_update and not update_flavor: module.fail_json(msg=""Flavor update isn't enabled on module's parameters"") if flavor and require_update and update_flavor:", if flavor and require_update:,10,1
openstack%2Fansible-collections-openstack~master~I497c064b940f83642eaea80c5a7e27d7e2e049a4,openstack/ansible-collections-openstack,master,I497c064b940f83642eaea80c5a7e27d7e2e049a4,New Module: volume_type,ABANDONED,2020-10-12 13:23:25.000000000,2021-08-05 11:40:02.000000000,,"[{'_account_id': 14369}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-12 13:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/20caf081a1fb1ff8fc9d980f6d0e3d42264d7338', 'message': 'New Module: volume_type\n\nAdd support for managing Cinder (Block Storage) volume types\n\nChange-Id: I497c064b940f83642eaea80c5a7e27d7e2e049a4\n'}, {'number': 2, 'created': '2020-10-12 13:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d0c1508f9ad1a1c3dab1dd6fbb8a5ad52ebd4978', 'message': 'New Module: volume_type\n\nAdd support for managing Cinder (Block Storage) volume types\n\nChange-Id: I497c064b940f83642eaea80c5a7e27d7e2e049a4\n'}, {'number': 3, 'created': '2020-10-12 13:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7433558ed7db563d91f05f855f500c5f56a94268', 'message': 'New Module: volume_type\n\nAdd support for managing Cinder (Block Storage) volume types\n\nChange-Id: I497c064b940f83642eaea80c5a7e27d7e2e049a4\n'}, {'number': 4, 'created': '2020-10-13 18:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8cc2e77790725703ef58d7ae39a70b08827ff53d', 'message': 'New Module: volume_type\n\nAdd support for managing Cinder (Block Storage) volume types\n\nChange-Id: I497c064b940f83642eaea80c5a7e27d7e2e049a4\n'}, {'number': 5, 'created': '2020-11-24 08:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/084cbc9f7c3b37c7a7256cb1472c6329dbf9fa0b', 'message': 'New Module: volume_type\n\nAdd support for managing Cinder (Block Storage) volume types\n\nDepends-On: https://review.opendev.org/#/c/757891/\nChange-Id: I497c064b940f83642eaea80c5a7e27d7e2e049a4\n'}, {'number': 6, 'created': '2020-11-24 08:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1cfe41740f9b132c6a243b575de7c573d73eaaea', 'message': 'New Module: volume_type\n\nAdd support for managing Cinder (Block Storage) volume types\n\nChange-Id: I497c064b940f83642eaea80c5a7e27d7e2e049a4\n'}, {'number': 7, 'created': '2020-12-15 06:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b40600e381b9e8733a4b4a01db635de37b1a0dc8', 'message': 'New Module: volume_type\n\nAdd support for managing Cinder (Block Storage) volume types\n\nChange-Id: I497c064b940f83642eaea80c5a7e27d7e2e049a4\n'}, {'number': 8, 'created': '2020-12-15 12:22:55.000000000', 'files': ['ci/roles/volume_type/defaults/main.yml', 'plugins/modules/volume_type.py', 'meta/runtime.yml', 'ci/roles/volume_type/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1966b27e1aacaf7c46d7d7acd098c549e69465ac', 'message': 'New Module: volume_type\n\nAdd support for managing Cinder (Block Storage) volume types\n\nChange-Id: I497c064b940f83642eaea80c5a7e27d7e2e049a4\n'}]",4,757562,1966b27e1aacaf7c46d7d7acd098c549e69465ac,20,2,8,14369,,,0,"New Module: volume_type

Add support for managing Cinder (Block Storage) volume types

Change-Id: I497c064b940f83642eaea80c5a7e27d7e2e049a4
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/62/757562/7 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/volume_type/defaults/main.yml', 'plugins/modules/volume_type.py', 'meta/runtime.yml', 'ci/roles/volume_type/tasks/main.yml']",4,20caf081a1fb1ff8fc9d980f6d0e3d42264d7338,ansible/volume_type,"--- # General run of tests # - Make change - Check mode # - Make change # - Retry change (noop) - Check mode # - Retry change (noop) # - collections: - openstack.cloud module_defaults: # meta/action_groups.yml glue seems to be missing # group/os: # cloud: '{{ cloud }}' volume_type: cloud: '{{ cloud }}' block: # ======================================================================== # Create simple Volume Type - name: 'Create Basic volume type - CheckMode' check_mode: True volume_type: name: 'temporary_name' register: result - assert: that: - result is changed - name: 'Create Basic volume type' volume_type: name: 'temporary_name' register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is changed - '""volume_type"" in result' - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == None - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 0 - volume_type.is_public is sameas True - volume_type.name == 'temporary_name' - set_fact: # Make sure we're consistently getting the same object back volume_type_id_basic: '{{ result.volume_type.id }}' - name: 'Create Basic volume type - Idempotency - CheckMode' check_mode: True volume_type: name: 'temporary_name' register: result - assert: that: - result is not changed - name: 'Create Basic volume type - Idempotency' volume_type: name: 'temporary_name' register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is not changed - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == None - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 0 - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == 'temporary_name' # ======================================================================== # Update name - name: 'Update volume type name - CheckMode' check_mode: True volume_type: id: '{{ volume_type_id_basic }}' name: '{{ type_name }}' register: result - assert: that: - result is changed - name: 'Update volume type name' volume_type: id: '{{ volume_type_id_basic }}' name: '{{ type_name }}' register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is changed - '""volume_type"" in result' - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == None - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 0 - volume_type.is_public is sameas True - volume_type.name == type_name - set_fact: # Make sure we're consistently getting the same object back volume_type_id_basic: '{{ result.volume_type.id }}' - name: 'Update volume type name - Idempotency - CheckMode' check_mode: True volume_type: id: '{{ volume_type_id_basic }}' name: '{{ type_name }}' register: result - assert: that: - result is not changed - name: 'Update volume type name - Idempotency' volume_type: id: '{{ volume_type_id_basic }}' name: '{{ type_name }}' register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is not changed - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == None - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 0 - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name # ======================================================================== # Update Description - name: 'Update volume type description - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' description: ""A description"" register: result - assert: that: - result is changed - name: 'Update volume type description' volume_type: name: '{{ type_name }}' description: ""A description"" register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is changed - '""volume_type"" in result' - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == ""A description"" - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 0 - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name - name: 'Update volume type description - Idempotency - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' description: ""A description"" register: result - assert: that: - result is not changed - name: 'Update volume type description - Idempotency' volume_type: name: '{{ type_name }}' description: ""A description"" register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is not changed - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == ""A description"" - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 0 - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name # ======================================================================== # Update extra_specs - name: 'Update volume type extra_specs - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' extra_specs: Example: Sample register: result - assert: that: - result is changed - name: 'Update volume type extra_specs' volume_type: name: '{{ type_name }}' extra_specs: Example: Sample register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is changed - '""volume_type"" in result' - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == ""A description"" - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 1 - '""Example"" in volume_type.extra_specs' - volume_type.extra_specs.Example == ""Sample"" - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name - name: 'Update volume type extra_specs - Idempotency - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' extra_specs: Example: Sample register: result - assert: that: - result is not changed - name: 'Update volume type extra_specs - Idempotency' volume_type: name: '{{ type_name }}' extra_specs: Example: Sample register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is not changed - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == ""A description"" - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 1 - '""Example"" in volume_type.extra_specs' - volume_type.extra_specs.Example == ""Sample"" - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name - name: 'Update volume type extra_specs (no purge) - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' extra_specs: second: subsequent register: result - assert: that: - result is changed - name: 'Update volume type extra_specs (no purge)' volume_type: name: '{{ type_name }}' extra_specs: second: subsequent register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is changed - '""volume_type"" in result' - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == ""A description"" - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 2 - '""Example"" in volume_type.extra_specs' - '""second"" in volume_type.extra_specs' - volume_type.extra_specs.Example == ""Sample"" - volume_type.extra_specs.second == ""subsequent"" - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name - name: 'Update volume type extra_specs (no purge) - Idempotency - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' extra_specs: second: subsequent register: result - assert: that: - result is not changed - name: 'Update volume type extra_specs (no purge) - Idempotency' volume_type: name: '{{ type_name }}' extra_specs: second: subsequent register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is not changed - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == ""A description"" - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 2 - '""second"" in volume_type.extra_specs' - volume_type.extra_specs.Example == ""Sample"" - volume_type.extra_specs.second == ""subsequent"" - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name - name: 'Update volume type extra_specs (purge) - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' extra_specs: second: subsequent purge_extra_specs: True register: result - assert: that: - result is changed - name: 'Update volume type extra_specs (purge)' volume_type: name: '{{ type_name }}' extra_specs: second: subsequent purge_extra_specs: True register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is changed - '""volume_type"" in result' - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == ""A description"" - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 1 - '""second"" in volume_type.extra_specs' - volume_type.extra_specs.second == ""subsequent"" - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name - name: 'Update volume type extra_specs (purge) - Idempotency - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' extra_specs: second: subsequent purge_extra_specs: True register: result - assert: that: - result is not changed - name: 'Update volume type extra_specs (purge) - Idempotency' volume_type: name: '{{ type_name }}' extra_specs: second: subsequent purge_extra_specs: True register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is not changed - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == ""A description"" - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 1 - '""second"" in volume_type.extra_specs' - volume_type.extra_specs.second == ""subsequent"" - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name - name: 'Update volume type extra_specs (purge all) - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' extra_specs: {} purge_extra_specs: True register: result - assert: that: - result is changed - name: 'Update volume type extra_specs (purge all)' volume_type: name: '{{ type_name }}' extra_specs: {} purge_extra_specs: True register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is changed - '""volume_type"" in result' - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == ""A description"" - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 0 - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name - name: 'Update volume type extra_specs (purge all) - Idempotency - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' extra_specs: {} purge_extra_specs: True register: result - assert: that: - result is not changed - name: 'Update volume type extra_specs (purge all) - Idempotency' volume_type: name: '{{ type_name }}' extra_specs: {} purge_extra_specs: True register: result - vars: volume_type: '{{ result.volume_type }}' assert: that: - result is not changed - '""description"" in volume_type' - '""encrypted"" in volume_type' - '""encryption_control_location"" not in volume_type' - '""encryption_key_size"" not in volume_type' - '""encryption_provider"" not in volume_type' - '""extra_specs"" in volume_type' - '""id"" in volume_type' - '""is_public"" in volume_type' - '""name"" in volume_type' - volume_type.description == ""A description"" - volume_type.encrypted is sameas False - volume_type.extra_specs.keys()|length == 0 - volume_type.id == volume_type_id_basic - volume_type.is_public is sameas True - volume_type.name == type_name # ======================================================================== # Delete simple Volume Type - name: 'Delete volume type - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' state: absent register: result - assert: that: - result is changed - name: 'Delete volume type' volume_type: name: '{{ type_name }}' state: absent register: result - assert: that: - result is changed - name: 'Delete volume type - Idempotency - CheckMode' check_mode: True volume_type: name: '{{ type_name }}' state: absent register: result - assert: that: - result is not changed - name: 'Delete volume type - Idempotency' volume_type: name: '{{ type_name }}' state: absent register: result - assert: that: - result is not changed always: # ======================================================================== # Cleanup - name: 'Cleanup - Delete Volume Type' volume_type: state: 'absent' name: '{{ item }}' ignore_errors: yes loop: - '{{ type_name }}' - 'temporary_name' ",,1011,0
openstack%2Fansible-collections-openstack~master~If8b34a613b59a55f128e12819ed01988bf4e522b,openstack/ansible-collections-openstack,master,If8b34a613b59a55f128e12819ed01988bf4e522b,WIP: Add application credentials module.,ABANDONED,2020-10-12 13:13:00.000000000,2021-08-05 11:38:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-12 13:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b2b43a1c62c5addbaa29cc6bd414b3b192e4eb7f', 'message': 'WIP: Add application credentials module.\n\nChange-Id: If8b34a613b59a55f128e12819ed01988bf4e522b\n'}, {'number': 2, 'created': '2020-10-12 13:13:34.000000000', 'files': ['plugins/modules/application_credentials.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2a6fac826c5333ef0dd9e5dabad2c0818d0dd9c1', 'message': 'WIP: Add application credentials module.\n\nChange-Id: If8b34a613b59a55f128e12819ed01988bf4e522b\n'}]",0,757556,2a6fac826c5333ef0dd9e5dabad2c0818d0dd9c1,4,1,2,8297,,,0,"WIP: Add application credentials module.

Change-Id: If8b34a613b59a55f128e12819ed01988bf4e522b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/56/757556/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/application_credentials.py'],1,b2b43a1c62c5addbaa29cc6bd414b3b192e4eb7f,,"#!/usr/bin/python # coding: utf-8 -*- # Copyright (c) 2020, Sofer Athlan-Guyot <sathlang@redhat.com> # GNU General Public License v3.0+ (see COPYING or # https://www.gnu.org/licenses/gpl-3.0.txt) from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule import yaml DOCUMENTATION = ''' --- module: os_application_credentials short_description: Manage application credentials in openstack. author: OpenStack Ansible SIG description: - Manage application credentials in openstack. options: name: description: - name of the application credential. required: true type: str description: description: - description of application credential's purpose. default: None required: false type: str secret: description: - secret that application credential will be created with, if any. we cannot check if it has changed. You need to destroy/create if you want to change it. default: None required: false type: str state: description: - which state: present, absent default: present required: false type: str project_id: description: - ID of the project required: false default: None type: str requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' RETURN = ''' json: description: json returned by the api returned: always type: json changed: description: Was the ovs package update or not. returned: always type: bool ''' EXAMPLES = ''' # What modules does for example - os_application_credentials: action: pause auth: auth_url: https://identity.example.com username: admin password: admin project_name: admin server: vm1 timeout: 200 ''' class OsApplicationCredentialsModule(OpenStackModule): argument_spec = yaml.safe_load(DOCUMENTATION)['options'] module_kwargs = dict( required_if=[ [""state"", ""present"", [""name"", ""project_id""]], [""state"", ""absent"", [""name""]], ], supports_check_mode=True, ) # you main funciton is here def run(self): """"""Create, delete or update the application credentials. """""" self.diff = {} self.app_creds = self.conn.identity.find_application_credential( self.conn.current_user_id, self.params['name'] ) # check if we need to run or the resource is in desired state already must_run = self.check_mode_test() if not must_run: return {'diff': self.diff, 'changed': False} return self.execute() def check_mode_test(self): # check the idempotency - does module should do anything or # it's already in the desired state? must_run = False if not self.app_creds: # No application credential found. self.diff['before'] = {} if self.params['state'] == 'absent': self.diff['after'] = {} else: must_run = True else: # Application credential found. self.diff['before'] = self._get_app_creds_vars(self.app_creds) if self._need_update(): must_run = True else: self.diff['after'] = self._get_app_creds_vars(self.app_creds) # Take check_mode into account. if must_run and self.ansible.check_mode: self.diff['after'] = self._get_app_creds_vars(self.params) must_run = False return must_run def execute(self): actions_map = { 'present': self._present_resource, 'absent': self._absent_resource, } actions_map[self.params['state']]() self.diff['after'] = self._get_app_creds_vars(self.app_creds) return {'changed': True, 'diff': self.diff, 'app_creds': self.app_creds, 'id': self.app_creds['id']} def _present_resource(self): params = [self.conn.current_user_id, self.params['name']] kwargs = { 'secret': self.params['secret'], 'description': self.params['description'], 'project_id': self.params['project_id'] } if self.app_creds: # Update, done by delete/create self._absent_resource() self.app_creds = self.conn.identity.create_application_credential( *params, **kwargs, ) def _absent_resource(self): # We reach here only if the resource already exist. self.conn.identity.delete_application_credential( self.conn.current_user_id, self.app_creds['id'] ) def _need_update(self): need_update = False options = yaml.safe_load(DOCUMENTATION)['options'] for check in [x for x in options.keys() if x not in ['state', 'secret']]: if self.app_creds.get(check) != self.params[check]: need_update = True break return need_update @staticmethod def _get_app_creds_vars(app_creds): info = {} for col in ['description', 'id', 'name', 'project_id']: if col in app_creds: info.update({col: app_creds.get(col)}) if 'secret' in app_creds: info.update({'secret': '***'}) return info def main(): module = OsApplicationCredentialsModule() module() if __name__ == '__main__': main() ",,203,0
openstack%2Fansible-collections-openstack~master~I4dbb2ad0b554780e99ea92dba1a0f421ee812d80,openstack/ansible-collections-openstack,master,I4dbb2ad0b554780e99ea92dba1a0f421ee812d80,Adds option 'filters' to openstack inventory,ABANDONED,2020-09-06 19:27:33.000000000,2021-08-05 11:38:24.000000000,,"[{'_account_id': 10068}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32390}]","[{'number': 1, 'created': '2020-09-06 19:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c80c59992479b228f88a92a5901efdd0413cd9da', 'message': 'Adds option \'filters\' to openstack inventory\n\nAdds option \'filters\'. Openstack SDK filters can be used to get\nonly subset of hosts matching metadata. Ansible variables\ncan be used to match hosts:\n\n---\nplugin: openstack\nfilters:\n  metadata:\n    external_stack_id: \'{{ lookup(""env"", ""TEST_ENV_STACK_ID"") }}\'\n\nThis is ported from original PR to ansible core:\nhttps://github.com/ansible/ansible/pull/51401\n\nChange-Id: I4dbb2ad0b554780e99ea92dba1a0f421ee812d80\n'}, {'number': 2, 'created': '2020-09-07 04:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a10af43d39b21caa18800932e019d8d89e6c6f0b', 'message': 'Adds option \'filters\' to openstack inventory\n\nAdds option \'filters\'. Openstack SDK filters can be used to get\nonly subset of hosts matching metadata. Ansible variables\ncan be used to match hosts:\n\n---\nplugin: openstack\nfilters:\n  metadata:\n    external_stack_id: \'{{ lookup(""env"", ""TEST_ENV_STACK_ID"") }}\'\n\nThis is ported from original PR to ansible core:\nhttps://github.com/ansible/ansible/pull/51401\n\nChange-Id: I4dbb2ad0b554780e99ea92dba1a0f421ee812d80\n'}, {'number': 3, 'created': '2020-09-25 00:24:28.000000000', 'files': ['plugins/inventory/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ab18224fcd14a32898592166e19e3ea4cf78f30a', 'message': 'Adds option \'filters\' to openstack inventory\n\nAdds option \'filters\'. Openstack SDK filters can be used to get\nonly subset of hosts matching metadata. Ansible variables\ncan be used to match hosts:\n\n---\nplugin: openstack\nfilters:\n  metadata:\n    external_stack_id: \'{{ lookup(""env"", ""TEST_ENV_STACK_ID"") }}\'\n\nThis is ported from original PR to ansible core:\nhttps://github.com/ansible/ansible/pull/51401\n\nChange-Id: I4dbb2ad0b554780e99ea92dba1a0f421ee812d80\n'}]",12,750110,ab18224fcd14a32898592166e19e3ea4cf78f30a,14,4,3,32390,,,0,"Adds option 'filters' to openstack inventory

Adds option 'filters'. Openstack SDK filters can be used to get
only subset of hosts matching metadata. Ansible variables
can be used to match hosts:

---
plugin: openstack
filters:
  metadata:
    external_stack_id: '{{ lookup(""env"", ""TEST_ENV_STACK_ID"") }}'

This is ported from original PR to ansible core:
https://github.com/ansible/ansible/pull/51401

Change-Id: I4dbb2ad0b554780e99ea92dba1a0f421ee812d80
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/10/750110/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/inventory/openstack.py'],1,c80c59992479b228f88a92a5901efdd0413cd9da,openstack_inventory_filters," note: if 'filters' are defined this option is always 'yes'. Lists servers from all projects. Not used with 'filters'. filters: description: | Match hosts with metadata. Use dictionary or a string containing a jmespath expression for further filtering. note: 'fail_on_errors' is always 'yes' when using filters and 'all_projects' is not used. type: dictionary or string default: None # filter hosts with dictionary plugin: openstack filters: metadata: custom_metadata_key: custom_metadata_valuefrom ansible.module_utils.six import string_types filters = self.templar.template(self._config_data.get('filters', None)) ) if isinstance(filters, dict) or isinstance(filters, string_types): source_data = cloud_inventory.search_hosts( expand=expand_hostvars, filters=filters) else: source_data = cloud_inventory.list_hosts( expand=expand_hostvars, fail_on_cloud_config=fail_on_errors, all_projects=all_projects)", Lists servers from all projects all_projects=all_projects),26,2
openstack%2Fansible-collections-openstack~master~Ia52845b922877809a830201c54e572c10cb139ed,openstack/ansible-collections-openstack,master,Ia52845b922877809a830201c54e572c10cb139ed,WIP Log openstacksdk logging to ansible logging,ABANDONED,2020-07-09 13:40:05.000000000,2021-08-05 11:37:59.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-07-09 13:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/48e0f35fe5e770ac4e8b6493151bd04a15e698fb', 'message': 'WIP Log openstacksdk logging to ansible logging\n\nDepends-On: https://review.opendev.org/740288\nChange-Id: Ia52845b922877809a830201c54e572c10cb139ed\n'}, {'number': 2, 'created': '2020-07-09 13:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9922dc14888ce9e9beef0f74713b2f9b8e676fac', 'message': 'WIP Log openstacksdk logging to ansible logging\n\nDepends-On: https://review.opendev.org/740288\nChange-Id: Ia52845b922877809a830201c54e572c10cb139ed\n'}, {'number': 3, 'created': '2020-07-09 14:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/aea33fc13b7cc3ff34059d693b9f792f2fc81d24', 'message': 'WIP Log openstacksdk logging to ansible logging\n\nDepends-On: https://review.opendev.org/740288\nChange-Id: Ia52845b922877809a830201c54e572c10cb139ed\n'}, {'number': 4, 'created': '2020-07-09 15:44:07.000000000', 'files': ['plugins/module_utils/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8cf0f1cdd71e46fb24e42c6394773c2baaf84adb', 'message': 'WIP Log openstacksdk logging to ansible logging\n\nDepends-On: https://review.opendev.org/740288\nChange-Id: Ia52845b922877809a830201c54e572c10cb139ed\n'}]",12,740290,8cf0f1cdd71e46fb24e42c6394773c2baaf84adb,10,3,4,2,,,0,"WIP Log openstacksdk logging to ansible logging

Depends-On: https://review.opendev.org/740288
Change-Id: Ia52845b922877809a830201c54e572c10cb139ed
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/90/740290/4 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/openstack.py'],1,48e0f35fe5e770ac4e8b6493151bd04a15e698fb,,"import loggingclass AnsibleHandler(logging.StreamHandler): def __init__(self, ansible): super().__init__() self.ansible = ansible def emit(self, record): msg = self.format(record) self.ansible.log(msg) log_handler = AnsibleHandler(self.ansible) openstack.enable_logging(handlers=[log_handler])",,13,0
openstack%2Fansible-collections-openstack~master~Idb88923b4a51ac3966a49ba5e2b37fe5496a123c,openstack/ansible-collections-openstack,master,Idb88923b4a51ac3966a49ba5e2b37fe5496a123c,Fix H301 and remove exclusion,ABANDONED,2019-12-09 18:52:29.000000000,2021-08-05 11:37:49.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-09 18:52:29.000000000', 'files': ['plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_project_facts.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_server_facts.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_subnets_facts.py', 'plugins/modules/os_keystone_domain_facts.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_port_facts.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_nova_host_aggregate.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'tox.ini', 'plugins/modules/os_image.py', 'plugins/modules/os_image_facts.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_flavor_facts.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_facts.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_networks_facts.py', 'plugins/modules/os_object.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1584a7aaa1bd22c92fca7f7830ae1a5b0c21133b', 'message': 'Fix H301 and remove exclusion\n\nChange-Id: Idb88923b4a51ac3966a49ba5e2b37fe5496a123c\n'}]",0,698068,1584a7aaa1bd22c92fca7f7830ae1a5b0c21133b,7,2,1,2,,,0,"Fix H301 and remove exclusion

Change-Id: Idb88923b4a51ac3966a49ba5e2b37fe5496a123c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/68/698068/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_project_facts.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_server_facts.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_subnets_facts.py', 'plugins/modules/os_keystone_domain_facts.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_port_facts.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_nova_host_aggregate.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'tox.ini', 'plugins/modules/os_image.py', 'plugins/modules/os_image_facts.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_flavor_facts.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_facts.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_networks_facts.py', 'plugins/modules/os_object.py']",54,1584a7aaa1bd22c92fca7f7830ae1a5b0c21133b,,from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_cloud_from_module from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_module_kwargs,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module",161,72
openstack%2Fansible-collections-openstack~master~I990098a5a33e0ccfbef9f853d3df7a1c30be7c8b,openstack/ansible-collections-openstack,master,I990098a5a33e0ccfbef9f853d3df7a1c30be7c8b,Only remove/add interfaces when needed.,ABANDONED,2020-06-23 12:28:25.000000000,2021-08-05 11:37:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-23 12:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4fc9da53804d233bd2b6eaff65554632aafadb44', 'message': 'Only remove/add interfaces when needed.\n\nThis is a first stab at the problem. I have reused some principles from\na fix for the same problem in a much older version of this module.\n\nI\'m not quite sure about the criteria for deleting a port. According to\nthe data structures, a port can have multiple (fixed ip, subnet) pairs.\nHowever, given the description of a port (""A port is a connection point\nfor attaching a single device, such as the NIC of a server, to a\nnetwork.""), multiple subnets make no sense (and multiple IP addresses on\na single subnet ony marginally). So some guidance here would be welcome.\n\nChange-Id: I990098a5a33e0ccfbef9f853d3df7a1c30be7c8b\nStory: 2007845\n'}, {'number': 2, 'created': '2020-06-23 18:42:25.000000000', 'files': ['plugins/modules/router.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/47316b579b3a907ae2f0205502cd13a54de7bf48', 'message': 'Only remove/add interfaces when needed.\n\nThis is a first stab at the problem. I have reused some principles from\na fix for the same problem in a much older version of this module.\n\nI\'m not quite sure about the criteria for deleting a port. According to\nthe data structures, a port can have multiple (fixed ip, subnet) pairs.\nHowever, given the description of a port (""A port is a connection point\nfor attaching a single device, such as the NIC of a server, to a\nnetwork.""), multiple subnets make no sense (and multiple IP addresses on\na single subnet ony marginally). So some guidance here would be welcome.\n\nChange-Id: I990098a5a33e0ccfbef9f853d3df7a1c30be7c8b\nStory: 2007845\n'}]",18,737519,47316b579b3a907ae2f0205502cd13a54de7bf48,5,1,2,31975,,,0,"Only remove/add interfaces when needed.

This is a first stab at the problem. I have reused some principles from
a fix for the same problem in a much older version of this module.

I'm not quite sure about the criteria for deleting a port. According to
the data structures, a port can have multiple (fixed ip, subnet) pairs.
However, given the description of a port (""A port is a connection point
for attaching a single device, such as the NIC of a server, to a
network.""), multiple subnets make no sense (and multiple IP addresses on
a single subnet ony marginally). So some guidance here would be welcome.

Change-Id: I990098a5a33e0ccfbef9f853d3df7a1c30be7c8b
Story: 2007845
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/19/737519/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/router.py'],1,4fc9da53804d233bd2b6eaff65554632aafadb44,bug/2007845,"def _existing_subnets_of_port(port): existing_subnet_ids = [] if 'fixed_ips' in port: for fixed_ip in port['fixed_ips']: existing_subnet_ids.append(fixed_ip['subnet_id']) return existing_subnet_ids def _existing_subnets(cloud, router): existing_subnet_ids = [] existing_port_ids = [] for port in _router_internal_interfaces(cloud, router): existing_port_ids.append(port['id']) existing_subnet_ids.extend(_existing_subnets_of_port(port)) return existing_subnet_ids, existing_port_ids existing_subnet_ids, _ = _existing_subnets(cloud, router) """""" NOTE: this function may create ports, and it gets called before we know if this is allowed. """""" existing_subnet_ids, existing_port_ids = _existing_subnets(cloud, router) if internal_portids or subnet_internal_ids: # I'm not quite sure we need to call this AGAIN #external_ids, subnet_internal_ids, internal_portids = _validate_subnets(module, cloud, filters) if (port['id'] not in internal_portids and # XXX: check for no overlap between these. # Can a port actually have multiple subnets? # Given the description it seems to make no sense but the # data structure allows it. (set(_existing_subnets_of_port(port)) - set(subnet_internal_ids))): cloud.remove_router_interface(router, port_id=port['id']) if internal_portids: for int_p_id in internal_portids: if int_p_id not in existing_port_ids: cloud.add_router_interface(router, port_id=int_p_id) if s_id not in existing_subnet_ids: cloud.add_router_interface(router, subnet_id=s_id)"," existing_subnet_ids = [] for port in _router_internal_interfaces(cloud, router): if 'fixed_ips' in port: for fixed_ip in port['fixed_ips']: existing_subnet_ids.append(fixed_ip['subnet_id']) if internal_portids or subnet_internal_ids: cloud.remove_router_interface(router, port_id=port['id']) if internal_portids: external_ids, subnet_internal_ids, internal_portids = _validate_subnets(module, cloud, filters) for int_p_id in internal_portids: cloud.add_router_interface(router, port_id=int_p_id) cloud.add_router_interface(router, subnet_id=s_id)",35,9
openstack%2Fansible-collections-openstack~master~I007a849b66f4b58863a3428a17765f7f914eedbb,openstack/ansible-collections-openstack,master,I007a849b66f4b58863a3428a17765f7f914eedbb,Add trunk module,ABANDONED,2020-06-21 19:09:36.000000000,2021-08-05 11:37:06.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-21 19:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/671bf745f3b16c9f2987cf93096850c88b5a17b7', 'message': 'Add trunk module\n\nAdd a new trunk module to allow creation and deletions of\nOpenStack network trunks.\n\nChange-Id: I007a849b66f4b58863a3428a17765f7f914eedbb\n'}, {'number': 2, 'created': '2020-06-23 18:42:58.000000000', 'files': ['plugins/modules/trunk.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/61f6414029214a2c1071b35cb12be13f45bf9180', 'message': 'Add trunk module\n\nAdd a new trunk module to allow creation and deletions of\nOpenStack network trunks.\n\nChange-Id: I007a849b66f4b58863a3428a17765f7f914eedbb\n'}]",2,737190,61f6414029214a2c1071b35cb12be13f45bf9180,6,2,2,27032,,,0,"Add trunk module

Add a new trunk module to allow creation and deletions of
OpenStack network trunks.

Change-Id: I007a849b66f4b58863a3428a17765f7f914eedbb
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/90/737190/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/trunk.py'],1,671bf745f3b16c9f2987cf93096850c88b5a17b7,add-trunk-module,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright 2020 Red Hat, Inc. and/or its affiliates # and other contributors as indicated by the @author tags. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. DOCUMENTATION = ''' --- module: trunk short_description: Creates/Deletes a Network trunk author: ""Maysa de Macedo Souza <mdemaced@redhat.com>"" description: - Create or delete a Network Trunk for a parent port options: name: description: - The name of the trunk that should be created/deleted. required: true port_id: description: - ID of the parent port - Required when I(state) is 'present' state: description: - Indicate desired state of the resource choices: ['present', 'absent'] default: present ''' EXAMPLES = ''' # Create a new network trunk for the specified parent port - openstack.cloud.trunk: name: trunk1 port_id: ""ba4e00ac-c871-4d44-b6e5-8a45332d9819"" state: present # Delete a network trunk - openstack.cloud.trunk: state: absent name: trunk1 ''' from ansible.module_utils.basic import AnsibleModule from ansible.module_utils.openstack import openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module def main(): ''' Main module function ''' argument_spec = openstack_full_argument_spec( name=dict(type='str', required=True), port_id=dict(type='str'), state=dict(default='present', choices=['absent', 'present'])) module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, **module_kwargs) name = module.params['name'] port_id = module.params['port_id'] state = module.params['state'] sdk, cloud = openstack_cloud_from_module(module) try: trunk = cloud.network.find_trunk(name_or_id=name) if state == 'present': if not trunk: if not port_id: module.fail_json(msg='port_id required with present state') trunk = cloud.network.create_trunk(name=name, port_id=port_id) changed = True else: changed = False module.exit_json(changed=changed, trunk=trunk, id=trunk['id']) elif state == 'absent': if not trunk: changed = False else: cloud.network.delete_trunk(trunk) changed = True module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e)) if __name__ == '__main__': main() ",,100,0
openstack%2Fansible-collections-openstack~master~I52b406fc7cc6207a5e89b6ff31205ae6016862c7,openstack/ansible-collections-openstack,master,I52b406fc7cc6207a5e89b6ff31205ae6016862c7,if any changes has been made to the os_router then it was deleting the interfaces. It causes the module failure.,ABANDONED,2020-04-21 12:17:19.000000000,2021-08-05 11:36:36.000000000,,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 22578}, {'_account_id': 31975}]","[{'number': 1, 'created': '2020-04-21 12:17:19.000000000', 'files': ['plugins/modules/os_router.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f06ca82152733ad2f420e35209c465c48e0d1ea0', 'message': 'if any changes has been made to the os_router then it was\ndeleting the interfaces. It causes the module failure.\n\nFixes: GH 68208\n\nChange-Id: I52b406fc7cc6207a5e89b6ff31205ae6016862c7\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",3,721591,f06ca82152733ad2f420e35209c465c48e0d1ea0,8,5,1,30750,,,0,"if any changes has been made to the os_router then it was
deleting the interfaces. It causes the module failure.

Fixes: GH 68208

Change-Id: I52b406fc7cc6207a5e89b6ff31205ae6016862c7
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/91/721591/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/os_router.py'],1,f06ca82152733ad2f420e35209c465c48e0d1ea0,issue_68208,," # On a router update, if any internal interfaces were supplied, # just detach all existing internal interfaces and attach the new. if internal_portids or subnet_internal_ids: router = updated_router ports = _router_internal_interfaces(cloud, router) for port in ports: cloud.remove_router_interface(router, port_id=port['id'])",0,7
openstack%2Fansible-collections-openstack~master~I70a7d7cea14c1c9f0f7c94bf93cf6ba7cbe3ee4f,openstack/ansible-collections-openstack,master,I70a7d7cea14c1c9f0f7c94bf93cf6ba7cbe3ee4f,WIP: build ansible collection before release,ABANDONED,2020-02-18 12:29:13.000000000,2021-08-05 11:36:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-18 12:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c8d9dcdf5f12bb4a04e2943cd2bc87b4d6287c53', 'message': 'WIP: build ansible collection before release\n\nChange-Id: I70a7d7cea14c1c9f0f7c94bf93cf6ba7cbe3ee4f\n'}, {'number': 2, 'created': '2020-02-18 13:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b36d78874a32394bbd8bdb06926fcd41d2c83ebf', 'message': 'WIP: build ansible collection before release\n\nChange-Id: I70a7d7cea14c1c9f0f7c94bf93cf6ba7cbe3ee4f\n'}, {'number': 3, 'created': '2020-02-18 14:48:51.000000000', 'files': ['ci/playbooks/roles/build-ansible-collection/defaults/main.yml', 'zuul.yaml', 'ci/playbooks/roles/build-ansible-collection/tasks/main.yml', 'ci/playbooks/build-pre.yml', 'ci/playbooks/build-run.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f4db44ea901b822cabd41a33f555ea85185626e4', 'message': 'WIP: build ansible collection before release\n\nChange-Id: I70a7d7cea14c1c9f0f7c94bf93cf6ba7cbe3ee4f\n'}]",0,708372,f4db44ea901b822cabd41a33f555ea85185626e4,7,1,3,10969,,,0,"WIP: build ansible collection before release

Change-Id: I70a7d7cea14c1c9f0f7c94bf93cf6ba7cbe3ee4f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/72/708372/3 && git format-patch -1 --stdout FETCH_HEAD,"['ci/playbooks/roles/build-ansible-collection/defaults/main.yml', 'zuul.yaml', 'ci/playbooks/roles/build-ansible-collection/tasks/main.yml', 'ci/playbooks/build-pre.yml', 'ci/playbooks/build-run.yml']",5,c8d9dcdf5f12bb4a04e2943cd2bc87b4d6287c53,release,"--- - hosts: all tasks: - name: Setup tox role include_role: name: tox vars: tox_extra_args: -vv --notest tox_install_siblings: false zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/ansible-collections-openstack'].src_dir }}"" # - name: Generate version number for ansible collection # args: # chdir: ""{{ ansible_user_dir }}/{{ item.src_dir }}"" # shell: ""if test -f 'galaxy.yml'; then {{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/ansible-collections-openstack'].src_dir }}/.tox/venv/bin/generate-ansible-collection; fi"" # with_items: ""{{ zuul.projects.values() | list }}"" - name: Run build-ansible-collection role include_role: name: build-ansible-collection vars: ansible_galaxy_executable: ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/ansible-collections-openstack'].src_dir }}/.tox/venv/bin/ansible-galaxy"" ansible_galaxy_output_path: ""{{ ansible_user_dir }}/artifacts"" zuul_work_dir: ""{{ ansible_user_dir }}/{{ item.src_dir }}"" with_items: ""{{ zuul.projects.values() | list }}"" ",,65,0
openstack%2Fansible-collections-openstack~master~I618d6d88a27492025e5b642ce3f382a50ac72e69,openstack/ansible-collections-openstack,master,I618d6d88a27492025e5b642ce3f382a50ac72e69,os_image: Add tags parameter,ABANDONED,2020-02-02 08:14:48.000000000,2021-08-05 11:36:07.000000000,,"[{'_account_id': 10068}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 31557}]","[{'number': 1, 'created': '2020-02-02 08:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0365796a3beba1a4181d6af9a9e38fe413a4519f', 'message': 'os_image: Add tags parameter\n\nThat patch adds feature to setup tags for the image.\n\nIssue on ansible github: https://github.com/ansible/ansible/issues/30923\nPrevious PR: https://github.com/ansible/ansible/pull/60365\n\nChange-Id: I618d6d88a27492025e5b642ce3f382a50ac72e69\nSigned-off-by: Vladimir Ermakov <vooon341@gmail.com>\n'}, {'number': 2, 'created': '2020-02-09 07:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/44a2065a37ca4dcb9f6b6a807a919fd0ed3daba9', 'message': 'os_image: Add tags parameter\n\nThat patch adds feature to setup tags for the image.\n\nIssue on ansible github: https://github.com/ansible/ansible/issues/30923\nPrevious PR: https://github.com/ansible/ansible/pull/60365\n\nChange-Id: I618d6d88a27492025e5b642ce3f382a50ac72e69\nSigned-off-by: Vladimir Ermakov <vooon341@gmail.com>\n'}, {'number': 3, 'created': '2020-02-09 09:16:14.000000000', 'files': ['plugins/modules/os_image.py', 'ci/roles/image/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a0e12f207154487c352e93ccfac4561efab338ee', 'message': 'os_image: Add tags parameter\n\nThat patch adds feature to setup tags for the image.\n\nIssue on ansible github: https://github.com/ansible/ansible/issues/30923\nPrevious PR: https://github.com/ansible/ansible/pull/60365\n\nChange-Id: I618d6d88a27492025e5b642ce3f382a50ac72e69\nSigned-off-by: Vladimir Ermakov <vooon341@gmail.com>\n'}]",6,705343,a0e12f207154487c352e93ccfac4561efab338ee,13,5,3,31557,,,0,"os_image: Add tags parameter

That patch adds feature to setup tags for the image.

Issue on ansible github: https://github.com/ansible/ansible/issues/30923
Previous PR: https://github.com/ansible/ansible/pull/60365

Change-Id: I618d6d88a27492025e5b642ce3f382a50ac72e69
Signed-off-by: Vladimir Ermakov <vooon341@gmail.com>
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/43/705343/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/os_image.py'],1,0365796a3beba1a4181d6af9a9e38fe413a4519f,," tags: description: - Tags to be associated with this image tags=dict(type='list', default=None), if module.params['tags'] is not None: # NOTE: In theory all what you need - pass `tags` to function above. # Unfortunately i always got 400 Bad Request with SDK 0.33.0. # cloud.image.add/remove_tags works, but raise AttributeError # *after* the successful call is done. existing_tags = set(image.tags) required_tags = set(module.params['tags']) for tag in existing_tags.difference(required_tags): changed = True try: cloud.image.remove_tag(image.id, tag) except AttributeError: pass for tag in required_tags.difference(existing_tags): changed = True try: cloud.image.add_tag(image.id, tag) except AttributeError: pass",,24,0
openstack%2Fcharm-ceph-osd~stable%2F21.04~I06b9090968f151b6c9cd82acf9ad38a9a5e848d7,openstack/charm-ceph-osd,stable/21.04,I06b9090968f151b6c9cd82acf9ad38a9a5e848d7,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:02:05.000000000,2021-08-05 11:28:01.000000000,2021-08-05 11:28:01.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/62a1e6e36e6a31fb88d8af8fe70c7cb0b244928c', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I06b9090968f151b6c9cd82acf9ad38a9a5e848d7\n'}, {'number': 2, 'created': '2021-08-03 14:41:52.000000000', 'files': ['lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'lib/charms_ceph/crush_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/7217b38d5dbfeadb96d2664e387d2df590095395', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I06b9090968f151b6c9cd82acf9ad38a9a5e848d7\n'}]",0,799233,7217b38d5dbfeadb96d2664e387d2df590095395,25,5,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I06b9090968f151b6c9cd82acf9ad38a9a5e848d7
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/33/799233/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'lib/charms_ceph/crush_utils.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",5,62a1e6e36e6a31fb88d8af8fe70c7cb0b244928c,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",155,19
openstack%2Fdevstack~master~I95f7f100dc958565037c132366ba6fb119dce322,openstack/devstack,master,I95f7f100dc958565037c132366ba6fb119dce322,WIP. Do not create  Cinder APIv2 endpoint,NEW,2020-12-08 15:13:35.000000000,2021-08-05 10:37:43.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-08 15:13:35.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/de282123a7e936cbbed97be456c296aa9898569e', 'message': 'WIP. Do not create  Cinder APIv2 endpoint\n\nChange-Id: I95f7f100dc958565037c132366ba6fb119dce322\n'}]",0,766017,de282123a7e936cbbed97be456c296aa9898569e,6,2,1,1736,,,0,"WIP. Do not create  Cinder APIv2 endpoint

Change-Id: I95f7f100dc958565037c132366ba6fb119dce322
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/766017/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,de282123a7e936cbbed97be456c296aa9898569e,disable-cinder-v2,"# get_or_create_service ""cinderv2"" ""volumev2"" ""Cinder Volume Service V2"" # get_or_create_endpoint \ # ""volumev2"" \ # ""$REGION_NAME"" \ # ""$CINDER_SERVICE_PROTOCOL://$CINDER_SERVICE_HOST:$CINDER_SERVICE_PORT/v2/\$(project_id)s""# get_or_create_service ""cinderv2"" ""volumev2"" ""Cinder Volume Service V2"" # get_or_create_endpoint \ # ""volumev2"" \ # ""$REGION_NAME"" \ # ""$CINDER_SERVICE_PROTOCOL://$CINDER_SERVICE_HOST/volume/v2/\$(project_id)s"""," get_or_create_service ""cinderv2"" ""volumev2"" ""Cinder Volume Service V2"" get_or_create_endpoint \ ""volumev2"" \ ""$REGION_NAME"" \ ""$CINDER_SERVICE_PROTOCOL://$CINDER_SERVICE_HOST:$CINDER_SERVICE_PORT/v2/\$(project_id)s"" get_or_create_service ""cinderv2"" ""volumev2"" ""Cinder Volume Service V2"" get_or_create_endpoint \ ""volumev2"" \ ""$REGION_NAME"" \ ""$CINDER_SERVICE_PROTOCOL://$CINDER_SERVICE_HOST/volume/v2/\$(project_id)s""",10,10
openstack%2Fskyline-apiserver~master~I492483c3b1223551c42907028d7e0b74bc5441ad,openstack/skyline-apiserver,master,I492483c3b1223551c42907028d7e0b74bc5441ad,docs: add mascot description,MERGED,2021-08-05 10:06:25.000000000,2021-08-05 10:08:48.000000000,2021-08-05 10:08:48.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-05 10:06:25.000000000', 'files': ['README-zh_CN.md', 'README.md', 'docs/images/nine-color-deer-64.png'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/988f38cc410df0f8f9ac90ee34686a61f967e2c2', 'message': 'docs: add mascot description\n\n1. add mascot nine-color-deer description\n\nChange-Id: I492483c3b1223551c42907028d7e0b74bc5441ad\n'}]",0,803549,988f38cc410df0f8f9ac90ee34686a61f967e2c2,6,2,1,6282,,,0,"docs: add mascot description

1. add mascot nine-color-deer description

Change-Id: I492483c3b1223551c42907028d7e0b74bc5441ad
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/49/803549/1 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'README.md', 'docs/images/nine-color-deer-64.png']",3,988f38cc410df0f8f9ac90ee34686a61f967e2c2,,,,9,1
openstack%2Ftripleo-heat-templates~master~I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52,openstack/tripleo-heat-templates,master,I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52,Replace deprecated glance::api::database_connection,MERGED,2021-08-04 23:23:49.000000000,2021-08-05 09:58:53.000000000,2021-08-05 09:58:53.000000000,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-08-04 23:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26eea65b02f7f8cf314c39967a55bd73c52896c7', 'message': 'Replace deprecated glance::api::database_connection\n\nDatabase parameters in glance::api were deprecated in favor of\nduplicated parameters in glance::api::db[1].\n\n[1] 10f14f29b10d3cb427e74ef2ad2c45be1ae97842\n\nCloses-Bug: #1938932\nChange-Id: I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52\n'}, {'number': 2, 'created': '2021-08-05 02:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0b233df7e3054e85b0e9e106e67c2d2c73d9c81', 'message': 'Replace deprecated database_connection of puppet base classes\n\nDatabase parameters in base classes were deprecated in favor of\nduplicated parameters in independent db classes.\n\nCloses-Bug: #1938932\nChange-Id: I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52\n'}, {'number': 3, 'created': '2021-08-05 02:57:02.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/169e4e98347c00c30f9827e0e3ac3e1ccaa6d155', 'message': 'Replace deprecated glance::api::database_connection\n\nDatabase parameters in glance::api were deprecated in favor of\nduplicated parameters in glance::api::db[1].\n\n[1] 10f14f29b10d3cb427e74ef2ad2c45be1ae97842\n\nCloses-Bug: #1938932\nChange-Id: I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52\n'}]",0,803526,169e4e98347c00c30f9827e0e3ac3e1ccaa6d155,13,6,3,9816,,,0,"Replace deprecated glance::api::database_connection

Database parameters in glance::api were deprecated in favor of
duplicated parameters in glance::api::db[1].

[1] 10f14f29b10d3cb427e74ef2ad2c45be1ae97842

Closes-Bug: #1938932
Change-Id: I8a0515e2d4e99fef7f4b3fa8fe0990f3f061cb52
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/803526/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,26eea65b02f7f8cf314c39967a55bd73c52896c7,bug/1938932, - glance::api::db::database_connection:, - glance::api::database_connection:,1,1
openstack%2Fskyline-apiserver~master~I6c29bdacae09ac5fec40d60b92c57c8786c0aa52,openstack/skyline-apiserver,master,I6c29bdacae09ac5fec40d60b92c57c8786c0aa52,fix: add quick start with sqlite in README doc,MERGED,2021-08-05 07:58:12.000000000,2021-08-05 09:04:47.000000000,2021-08-05 09:04:47.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-08-05 07:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/7c3795febb071ac16722c6799284753eb2ad7933', 'message': 'fix: Update README doc\n\nUpdate README doc\n\nChange-Id: I6c29bdacae09ac5fec40d60b92c57c8786c0aa52\n'}, {'number': 2, 'created': '2021-08-05 08:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/193ec540c6139ed0d6c580d24b468e0766ef62ea', 'message': 'fix: Update README doc\n\nUpdate README doc\n\nChange-Id: I6c29bdacae09ac5fec40d60b92c57c8786c0aa52\n'}, {'number': 3, 'created': '2021-08-05 08:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/84b01ebb29c3bdfd3b480197d728ead1dab6fa08', 'message': 'fix: Update README doc\n\nUpdate README doc\n\nChange-Id: I6c29bdacae09ac5fec40d60b92c57c8786c0aa52\n'}, {'number': 4, 'created': '2021-08-05 08:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/2e3144a9f334d882613ea40af4c718e71b71a416', 'message': 'fix: Update README doc\n\nUpdate README doc\n\nChange-Id: I6c29bdacae09ac5fec40d60b92c57c8786c0aa52\n'}, {'number': 5, 'created': '2021-08-05 09:00:52.000000000', 'files': ['README-zh_CN.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/3a1fab608504c63de3ed74dd9d9ad657fa76b790', 'message': 'fix: add quick start with sqlite in README doc\n\n1. add quick launch steps for skyline docker image with sqlite\n\nChange-Id: I6c29bdacae09ac5fec40d60b92c57c8786c0aa52\n'}]",0,803543,3a1fab608504c63de3ed74dd9d9ad657fa76b790,14,3,5,6282,,,0,"fix: add quick start with sqlite in README doc

1. add quick launch steps for skyline docker image with sqlite

Change-Id: I6c29bdacae09ac5fec40d60b92c57c8786c0aa52
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/43/803543/4 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,7c3795febb071ac16722c6799284753eb2ad7933,docs,"### Configure 1. Edit the `/etc/skyline/skyline.yaml` file in linux server You can refer to the [sample file](etc/skyline.yaml.sample), and modify the following parameters according to the actual environment - database_url - keystone_url - default_region - interface_type - system_project_domain - system_project - system_user_domain - system_user_name - system_user_password ### Deployment with Sqlite 1. Run the skyline_bootstrap container to bootstrap ```bash rm -rf /tmp/skyline && mkdir /tmp/skyline docker run -d --name skyline_bootstrap -e KOLLA_BOOTSTRAP="""" -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml -v /tmp/skyline:/tmp --net=host 99cloud/skyline:latest # Check bootstrap is normal `exit 0` docker logs skyline_bootstrap ``` 1. Run the skyline service after bootstrap is complete ```bash docker rm -f skyline_bootstrap docker run -d --name skyline --restart=always -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml -v /tmp/skyline:/tmp --net=host 99cloud/skyline:latest ``` ### Deployment with MariaDB 1. Connect to database of the OpenStack environment and create the `skyline` database ```bash $ mysql -u root -p MariaDB [(none)]> CREATE DATABASE IF NOT EXISTS skyline DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci; Query OK, 1 row affected (0.001 sec) ``` 1. Grant proper access to the databases Replace `SKYLINE_DBPASS` with a suitable password. ```bash MariaDB [(none)]> GRANT ALL PRIVILEGES ON skyline.* TO 'skyline'@'localhost' IDENTIFIED BY 'SKYLINE_DBPASS'; Query OK, 0 rows affected (0.001 sec) MariaDB [(none)]> GRANT ALL PRIVILEGES ON skyline.* TO 'skyline'@'%' IDENTIFIED BY 'SKYLINE_DBPASS'; Query OK, 0 rows affected (0.001 sec) ``` 1. Create skyline service credentials ```bash # Source the admin credentials $ source admin-openrc # Create the skyline user $ openstack user create --domain default --password-prompt skyline User Password: Repeat User Password: +---------------------+----------------------------------+ | Field | Value | +---------------------+----------------------------------+ | domain_id | default | | enabled | True | | id | 1qaz2wsx3edc4rfv5tgb6yhn7ujm8ikl | | name | skyline | | options | {} | | password_expires_at | 2020-08-08T08:08:08.123456 | +---------------------+----------------------------------+ # Add the admin role to the skyline user: $ openstack role add --project service --user skyline admin ``` 1. Run the skyline_bootstrap container to bootstrap ```bash docker run -d --name skyline_bootstrap -e KOLLA_BOOTSTRAP="""" -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host 99cloud/skyline:latest # Check bootstrap is normal `exit 0` docker logs skyline_bootstrap ``` 1. Run the skyline service after bootstrap is complete ```bash docker rm -f skyline_bootstrap docker run -d --name skyline --restart=always -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host 99cloud/skyline:latest ``` ### Test Access- python >= 3.8 - poetry >= 1.1.0 ([Installation Guide](https://python-poetry.org/docs/#installation)) - node >= 10.22.0 - yarn >= 1.22.41. Installing dependency packages ```bash make install ``` 1. Set skyline.yaml config file ```bash cp etc/skyline.yaml.sample etc/skyline.yaml export OS_CONFIG_DIR=$(pwd)/etc ``` Maybe you should change the params with your real environment as followed: ```yaml - database_url - keystone_url - default_region - interface_type - system_project_domain - system_project - system_user_domain - system_user_name - system_user_password ``` > If you set such as `sqlite:////tmp/skyline.db` for `database_url` , just do as followed. > If you set such as `mysql://root:root@localhost:3306/skyline` for `database_url` , you should refer to steps `1` and `2` of the chapter `Configure and deployment` at first. 1. Init skyline database ```bash pushd libs/skyline-apiserver/ make db_sync popd ``` 1. Run skyline-apiserver ```bash $ poetry run uvicorn --reload --reload-dir libs/skyline-apiserver/skyline_apiserver --port 28000 --log-level debug skyline_apiserver.main:app INFO: Uvicorn running on http://127.0.0.1:28000 (Press CTRL+C to quit) INFO: Started reloader process [154033] using statreload INFO: Started server process [154037] INFO: Waiting for application startup. INFO: Application startup complete. ``` You can now access the online API documentation: `http://127.0.0.1:28000/docs` 1. Build Image ```bash make build ```","### Configure and deployment #### 1. Connect to database of the OpenStack environment and create the `skyline` database ```bash $ mysql -u root -p MariaDB [(none)]> CREATE DATABASE IF NOT EXISTS skyline DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci; Query OK, 1 row affected (0.001 sec) ``` #### 2. Grant proper access to the databases Replace `SKYLINE_DBPASS` with a suitable password. ```bash MariaDB [(none)]> GRANT ALL PRIVILEGES ON skyline.* TO 'skyline'@'localhost' IDENTIFIED BY 'SKYLINE_DBPASS'; Query OK, 0 rows affected (0.001 sec) MariaDB [(none)]> GRANT ALL PRIVILEGES ON skyline.* TO 'skyline'@'%' IDENTIFIED BY 'SKYLINE_DBPASS'; Query OK, 0 rows affected (0.001 sec) ``` #### 3. Create skyline service credentials ```bash # Source the admin credentials $ source admin-openrc # Create the skyline user $ openstack user create --domain default --password-prompt skyline User Password: Repeat User Password: +---------------------+----------------------------------+ | Field | Value | +---------------------+----------------------------------+ | domain_id | default | | enabled | True | | id | 1qaz2wsx3edc4rfv5tgb6yhn7ujm8ikl | | name | skyline | | options | {} | | password_expires_at | 2020-08-08T08:08:08.123456 | +---------------------+----------------------------------+ # Add the admin role to the skyline user: $ openstack role add --project service --user skyline admin ``` #### 4. Edit the `/etc/skyline/skyline.yaml` file in linux server You can refer to the [sample file](etc/skyline.yaml.sample), and modify the following parameters according to the actual environment - database_url - keystone_url - default_region - interface_type - system_project_domain - system_project - system_user_domain - system_user_name - system_user_password #### 5. Run the skyline_bootstrap container to bootstrap ```bash docker run -d --name skyline_bootstrap -e KOLLA_BOOTSTRAP="""" -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host skyline:latest # Check bootstrap is normal `exit 0` docker logs skyline_bootstrap ``` #### 5. Run the skyline service after bootstrap is complete ```bash docker rm -f skyline_bootstrap docker run -d --name skyline --restart=always -v /etc/skyline/skyline.yaml:/etc/skyline/skyline.yaml --net=host skyline:latest ``` #### 6. finish installation- python >= 3.8 - yarn >= 1.22.4 - node >= 10.22.0- poetry >= 1.1.0 ([Installation Guide](https://python-poetry.org/docs/#installation))#### 1. Installing dependency packages ```bash make install ``` #### 2. Set skyline.yaml config file ```bash cp etc/skyline.yaml.sample etc/skyline.yaml export OS_CONFIG_DIR=$(pwd)/etc ``` Maybe you should change the params with your real environment as followed: ```yaml - database_url - keystone_url - default_region - interface_type - system_project_domain - system_project - system_user_domain - system_user_name - system_user_password ``` > If you set such as `sqlite:////tmp/skyline.db` for `database_url` , just do as followed. > If you set such as `mysql://root:root@localhost:3306/skyline` for `database_url` , you should refer to steps `1` and `2` of the chapter `Configure and deployment` at first. #### 3. Init skyline database ```bash pushd libs/skyline-apiserver/ make db_sync popd ``` #### 4. Run skyline-apiserver ```bash $ poetry run uvicorn --reload --reload-dir libs/skyline-apiserver/skyline_apiserver --port 28000 --log-level debug skyline_apiserver.main:app INFO: Uvicorn running on http://127.0.0.1:28000 (Press CTRL+C to quit) INFO: Started reloader process [154033] using statreload INFO: Started server process [154037] INFO: Waiting for application startup. INFO: Application startup complete. ``` You can now access the online API documentation: `http://127.0.0.1:28000/docs` ",131,103
openstack%2Fnova~stable%2Ftrain~I2620dc2c0cdaa376679f9391ac6d8ba80bb5a8ea,openstack/nova,stable/train,I2620dc2c0cdaa376679f9391ac6d8ba80bb5a8ea,DNM: devstack-gate test,ABANDONED,2021-08-03 14:10:27.000000000,2021-08-05 08:58:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-03 14:10:27.000000000', 'files': ['nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/af654dafdf10ac1abc986bb659e9be18182a49a2', 'message': 'DNM: devstack-gate test\n\nDepends-On: https://review.opendev.org/803346\nChange-Id: I2620dc2c0cdaa376679f9391ac6d8ba80bb5a8ea\n'}]",0,803351,af654dafdf10ac1abc986bb659e9be18182a49a2,5,1,1,17685,,,0,"DNM: devstack-gate test

Depends-On: https://review.opendev.org/803346
Change-Id: I2620dc2c0cdaa376679f9391ac6d8ba80bb5a8ea
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/803351/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/utils.py'],1,af654dafdf10ac1abc986bb659e9be18182a49a2,,# dummy change,,1,0
openstack%2Fneutron-specs~master~I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a,openstack/neutron-specs,master,I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a,BFD support for Neutron,MERGED,2020-12-16 11:02:15.000000000,2021-08-05 08:50:40.000000000,2021-06-27 23:16:09.000000000,"[{'_account_id': 4694}, {'_account_id': 9361}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-16 11:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1f9e0f1c12de828a9c9d54f1ac187517a894b116', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 2, 'created': '2020-12-16 11:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5139a08704f37e1ead7d0841de5f053582c7127f', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 3, 'created': '2021-01-05 16:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a8b46477af39c7f309a96d5808b89bb82d6cf98c', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 4, 'created': '2021-01-05 16:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6f7c4625b3f9406289f428c4195bcdd8dac162ae', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 5, 'created': '2021-01-06 12:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3ff9c0a22293579905c5cd2a735af3ba0d1aeb2c', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 6, 'created': '2021-01-13 14:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/02786e25dad5d616e3df298eaf0ae0a6c1c70035', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 7, 'created': '2021-01-19 08:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d2b0573153fc52d059861330ea0b1a3ecc421fd7', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 8, 'created': '2021-01-29 16:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2ee7e0c4f3e22fbc361262781f5df4c79057beb5', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 9, 'created': '2021-02-05 13:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cddfed8baed722e5ec0d179e8e5b3e08286ce712', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 10, 'created': '2021-02-12 16:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f43db003984b032461009927da4ce28188b6ea28', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 11, 'created': '2021-02-16 06:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ec047ddf1b9c14eb2b61eae3e85c1e8ed56f297c', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 12, 'created': '2021-02-16 06:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/64ab51f798c37fa759cbefee057ac79d3b3d3ac4', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 13, 'created': '2021-03-18 16:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1f6728aeae97b47d835e80c3a08c18e59519dec3', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 14, 'created': '2021-03-31 15:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0427c198c3be6b8f393202980b5c9718c54eb6c5', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 15, 'created': '2021-03-31 15:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4595750cfe93e3fea35a1331c531430a66dbbf01', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 16, 'created': '2021-04-01 14:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f7e249d3d35776517148b3e84fd1e4bd2941d579', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 17, 'created': '2021-04-01 14:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1907c6d363c527b5620021bcc2cbbf91e2d71fe3', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 18, 'created': '2021-04-07 07:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1fa85e5e624b07b203fbe882db0e386b9dd23bda', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 19, 'created': '2021-04-14 13:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/687e8a73234bd1254c219ba0e103cd12a75f4a5b', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}, {'number': 20, 'created': '2021-06-23 15:40:11.000000000', 'files': ['specs/xena/bfd_support.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e35a6606f093cd87f72becabbdfcba0729187d18', 'message': 'BFD support for Neutron\n\nChange-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a\nRelated-Bug: #1907089\n'}]",246,767337,e35a6606f093cd87f72becabbdfcba0729187d18,88,8,20,8313,,,0,"BFD support for Neutron

Change-Id: I2fa8d9b4f19080c7ab8ed954aff7525bb1dbc35a
Related-Bug: #1907089
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/37/767337/7 && git format-patch -1 --stdout FETCH_HEAD,"['specs/wallaby/index.rst', 'doc/source/index.rst', 'specs/wallaby/bfd_support.rst']",3,1f9e0f1c12de828a9c9d54f1ac187517a894b116,bug/1907089,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================= BFD support for Neutron ======================= https://bugs.launchpad.net/neutron/+bug/1907089 Add possibility to define BDF monitors in Neutron and associate it with routes. Problem Description =================== BFD (Bidirectional Forwarding Detection) is used to detect link failures between routers. BFD can be used to provide quick, low-overhead link failure detection between adjacent forwarding engines [1]_: * if an extra route (a nexthop-destination pair) is alive or not, and change routes accordingly. * or can help routing protocols like ECMP or BGP to change routing decisions based on link status. :: This spec is not covering other usecases like tunnel monitoring and HA or DVR router monitoring. Proposed Change =============== The goal of this spec is to add API to manage bfd_monitor instances, fetch their status, associate a monitor to an extra route or assign it to a bgp_peer. This gives possibility to the operators to monitor the routes (destination - nexthop pairs) added for a router, and based on the monitoring status expect that the routing table in the backend is changed. Monitoring scenarios -------------------- * Two different nexthops for the same destination, like ecmp route legs +------+----------+------+ | dst1 | nexthop1 | bfd1 | +------+----------+------+ | dst1 | nexthop2 | bfd2 | +------+----------+------+ :: ____nexthop1 ____ __/ \ ____dst1 \____nexthop2____ / * monitoring 2 different destinations through the same nexthop +------+----------+------+ | dst3 | nexthop3 | bfd3 | +------+----------+------+ | dst4 | nexthop3 | bfd4 | +------+----------+------+ :: ____dst3 _____nexthop3_____/ \____dst4 * 2 different moitor for the same destination-nexthop pair in case of HA router setup +------+----------+------+ | dst5 | nexthop5 | bfd5 | +------+----------+------+ | dst5 | nexthop5 | bfd6 | +------+----------+------+ REST API Impact --------------- New bfd monitor API ~~~~~~~~~~~~~~~~~~~ * Create bfd_monitor:: POST /v2.0/bfd_monitors { ""bfd_monitor"": { ""name"": ""bfd1"", ""mode"": ""asynchronous"", ""type"": ""singlehop"", ""min_rx"": 1000, ""min_tx"": 100, ""multiplier"": 3, ""router"": {router_id}, } } * List bfd_monitors * Show bfd_monitor:: GET /v2.0/bfd_monitors/{monitor_id} { ""bfd_monitor"": { ""name"": ""bfd1"", ""project_id"": ""{project_id}"", ""description"": """", ""mode"": ""asynchronous"", ""type"": ""singlehop"", ""min_rx"": 1000, ""min_tx"": 100, ""multiplier"": 3, ""router"": {router_id}, ""src_ip"": ""169.254.112.144"", ""dst_ip"": ""10.0.0.13"", } } * Update a bfd_monitor:: PUT /v2.0/bfd_monitors/{monitor_id} { ""bfd_monitor"": { ""name"": ""bfd_monitor1"" ""description"": ""foo"", ""min_rx"": 2000, ""min_tx"": 200, ""multiplier"": 4 } } * Delete bfd_monitor:: GET /v2.0/bfd_monitors/{monitor_id} Only an unassigned bfd_monitor can be deleted. +-------------------+---------+-------+------+---------------------------------------+ | Attribute | Type | Req | CRUD | Description | +===================+=========+=======+======+=======================================+ | name | String | No | CRU | Human readable name for the | | | | | | bfd_monitor (255 characters limit). | | | | | | Does not have to be unique. | +-------------------+---------+-------+------+---------------------------------------+ | description | String | No | CRU | Human readable description for the | | | | | | bfd_monitor (255 characters limit). | +-------------------+---------+-------+------+---------------------------------------+ | project_id | uuid-str| No | CR | Owner of the bfd_monitor. | +-------------------+---------+-------+------+---------------------------------------+ | mode | String | No | CR | Can be ``asynchronous`` (default | | | | | | common echo mode of BFD) or | | | | | | ``demand`` (some other mechanism is | | | | | | used to detect link state) and can | | | | | | accept future types like | | | | | | ``one-arm-echo`` see [2]_ . | +-------------------+---------+-------+------+---------------------------------------+ | type | String | No | CR | Can be ``singlehop``, ``multihop`` | | | | | | and accepts future types. | +-------------------+---------+-------+------+---------------------------------------+ | dst_ip | String | No | CR | The destination IP address to be | | | | | | monitored. In case of singlehop bfd | | | | | | this is the nexthop ip of the route. | +-------------------+---------+-------+------+---------------------------------------+ | src_ip | String | N/A | R | IP address used as source for | | | | | | transmitted BFD packets. A read only | | | | | | field that practically shows the IP | | | | | | set on the interface, like on on | | | | | | qg-xyz. | +-------------------+---------+-------+------+---------------------------------------+ | min_rx | Integer | Yes | CRU | The shortest interval, in millisecs, | | | | | | at which this BFD session offers to | | | | | | receive BFD control messages. At | | | | | | least 1. | +-------------------+---------+-------+------+---------------------------------------+ | min_tx | Integer | Yes | CRU | The shortest interval, in millisecs, | | | | | | at which this BFD session is | | | | | | willing to transmit BFD control | | | | | | messages. At least 1. | +-------------------+---------+-------+------+---------------------------------------+ | multiplier | Integer | Yes | CRU | The BFD detection multiplier, An | | | | | | endpoint signals a connectivity | | | | | | fault if the given number of | | | | | | consecutive BFD control messages fail | | | | | | to arrive. | +-------------------+---------+-------+------+---------------------------------------+ | router | uuid-str| Yes? | CR | The id of the router to which the | | | | | | monitor will be attached. Note: The | | | | | | monitoring will only start (the | | | | | | backend eactions will take place) when| | | | | | the bfd_monitor is attached to a | | | | | | specific route. | +-------------------+---------+-------+------+---------------------------------------+ * Show bfd_monitor status (For details see [1]_, State Variables section):: GET /v2.0/bfd_monitors/{monitor_id}/monitor_status { ""bfd_monitor_status"": { ""SessionState"": ""Init, Up, Down, or AdminDown"", ""RemoteSessionState"": """", ""LocalDiscr"": """", ""RemoteDiscr"": , ""LocalDiag"": """", ""RemoteDiag"": """", ""DesiredMinTxInterval"": """", ""RequiredMinRxInterval"": """", ""RemoteMinRxInterval"": """", ""DemandMode"": """", ""RemoteDemandMode"": """", ""DetectMult"": """", ""AuthType"": """", ""RcvAuthSeq"": """", ""XmitAuthSeq"": """", ""AuthSeqKnown"": """", ""router"": { ""id"": {router_id}, ""route"": { ""destination"": ""10.0.3.0/24"", ""nexthop"": ""10.0.0.1"" } }, ""bgp_speaker"": { ""id"": {bgp_speaker_id}, ""routes"": [ {""cidr"": """", ""nexthop"": """"}, ] } } } Changes to Router API ~~~~~~~~~~~~~~~~~~~~~ * Changes to Add extra routes to router or Update router:: PUT /v2.0/routers/{router_id} { ""router"": { ""routes"": [ { ""destination"": ""179.24.1.0/24"", ""nexthop"": ""172.24.3.99"" ""bfd_monitor"": {bfd_monitor_uuid} }, ] } } PUT /v2.0/routers/{router_id}/add_extraroutes { ""router"" : { ""routes"" : [ { ""destination"" : ""10.0.3.0/24"", ""nexthop"" : ""10.0.0.13"", ""bfd_monitor"": {bfd_monitor_uuid} }, { ""destination"" : ""10.0.4.0/24"", ""nexthop"" : ""10.0.0.14"" } ] } } * Get routes status:: GET /v2.0/routers/{router_id}/routes_status { ""router"": { ""routes"": [ { ""destination"" : ""10.0.3.0/24"", ""nexthop"" : ""10.0.0.13"", ""bfd_monitor_status"": ""UP"" }, ] } } BFD itself and fetching bfd_monitor status information can be quite resource intensive operation (the information must be fetched from the backend), so new API endpoint is proposed to fetch the status of monitoring to not overload or affect ordinary router API operations. The routes_status API endpoint gives feedback to the user if the bfd_monitor was succesfully created at the backend for the given route and if the monitored link is up. If the bfd_monitor_status is DOWN the given route should be removed in the backend (on the command line: ip r delete....), and set back if the monitor is UP again. A common way from switch vendors (I checked Cisco, Juniper and Extreme, see [4]_, [5]_, [6]_) to add options to the bgp peer creation to enable and set BFD as well, and in case BFD detects link failure BGP can change the routing accordingly. The bfd_monitor instance in the backend is created when the bfd_monitor is associated with the given extra route, and it is deleted in the backend when the extra route updated to have the bfd_monitor association removed. Changes to bgp_peer API ~~~~~~~~~~~~~~~~~~~~~~~ * Create BGP Peer:: POST /v2.0/bgp-peers { ""bgp_peer"":{ ""auth_type"":""none"", ""remote_as"":""1001"", ""name"":""bgp-peer"", ""peer_ip"":""10.0.0.3"", ""bfd_monitor"": {bfd_monitor_uuid} } } The bfd_monitoring instance in the backend is created when the bgp_peer is associated to the bgp_speaker. The BFD session is created between the routers' north legs and the nexthops from the advertised_routes list as destinations. * get advertised routes BFD status:: GET /v2.0/bgp-speakers/{bgp-speaker-id}/advertised_routes_status { ""routes_status"": { ""routes"": [ { ""cidr"" : ""10.0.3.0/24"", ""nexthop"" : ""10.0.0.13"", ""bfd_monitor_status"": ""UP"" }, ] } } Backend ~~~~~~~ OVS is able to handle BFD, see [3]_, it's possible to set BFD on an interface, and check the status of it. The manual process is something like this: .. code-block:: bash $ sudo ovs-vsctl set interface ens5 bfd:bfd_src_ip=192.168.122.237 bfd:bfd_dst_ip=192.168.122.57 bfd:enable=true $ #.... Do the same on the remote end .... $ sudo ovs-vsctl get interface ens5 bfd_status {diagnostic=""Control Detection Time Expired"", flap_count=""7"", forwarding=""true"", remote_diagnostic=""Neighbor Signaled Session Down"", remote_state=up, state=up} OVS limitations +++++++++++++++ * OVS supports 1 BFD monitor to be set up for 1 interface. This gives a limit to the backend implementation * One option can be to that the 1st nexthop can be selected as bfd dst_ip which is common for all routes. In the below setup nexthopA can be the BFD dst_ip. In case the bfd_monitor is created with ``type:singlehop``, even if mutiple bfd_monitors are created for the given router's extra routes BFD can be created only for the first (common) nexthop. :: _____nexthopB / qr-xyz___nexthopA__/_______ nexthopC \ \________ nexthopD . * Another possibility can be to add infrastructure interfaces for extra bfd instances. In case the ``type:multihop`` is used for the bfd_monitor this can be considered. * alternative: in case of OVS backend reject multihop BFD and give background to the user in documentation. * OVS supports only ``asynchronous`` mode where the endpoints exchange BFD Hello packets. * Demand mode is a way to detect link aliveness not just with BFD Hello packets. (OVS has a setting `forwarding_if_rx`, but that's not exactly ``demand`` mode.) neutron-dynamic-routing and QUAGGA limitations ++++++++++++++++++++++++++++++++++++++++++++++ As neutron-dynamic-routing uses QUAGGA (see [7]_) as backend, and QUAGGA has no support for BFD, this dynamism (to make the routes changed based on BFD status) is not straigth-forward. Data Model Impact ----------------- New table is created for bfd_monitors, routers table is changed to make it possible to associate a bfd_monitor to an extra route (a ``nexthop`` - ``destination`` pair). Security Impact --------------- None Performance Impact ------------------ BFD and fetching bfd_monitor status information can be quite resource intensive operation as it can be fetched from the backend, it must be carefully documented. Implementation ============== Assignee(s) ----------- Primary assignee: Lajos Katona <katonalala@gmail.com> (IRC: lajoskatona) Work Items ---------- * REST API update. * DB schema update. * L3 agent update to handle BFD: * RPC change to send BFD data to l3 agent. * RPC change to fetch BFD status information from l3 agent. * CLI update. * Documentation. * Tests and CI related changes. Testing ======= * Unit Test * Functional test * API test Perhaps this is something that can be easily tested end-to-end with fullstack tests. Need more investigation. Documentation Impact ==================== User Documentation ------------------ New API and changes to legacy APIs like routers must be documented. References ========== .. [1] https://tools.ietf.org/html/rfc5880 .. [2] https://tools.ietf.org/html/draft-wang-bfd-one-arm-use-case-00 .. [3] https://www.freebsd.org/cgi/man.cgi?query=ovs-vswitchd.conf.db&apropos=0&sektion=5&manpath=FreeBSD+Ports+9.0-RELEASE&arch=default&format=html .. [4] https://www.cisco.com/c/en/us/td/docs/ios/12_0s/feature/guide/fs_bfd.html#wp1153100 .. [5] https://www.juniper.net/documentation/en_US/junos/topics/topic-map/bfd-for-bgp-session.html .. [6] https://gtacknowledge.extremenetworks.com/articles/How_To/How-to-enable-Bidirectional-Forwarding-Detection-BFD-protection-of-BGP-peering-sessions .. [7] https://www.quagga.net/docs/quagga.html ",,491,0
openstack%2Ftripleo-upgrade~stable%2Fussuri~I84f2a7b9aae674d1971b4f64628ca59bf40419ad,openstack/tripleo-upgrade,stable/ussuri,I84f2a7b9aae674d1971b4f64628ca59bf40419ad,Make the gerrit_url of patches configurable,MERGED,2021-08-04 09:21:06.000000000,2021-08-05 08:17:56.000000000,2021-08-05 08:17:56.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-08-04 09:21:06.000000000', 'files': ['templates/workarounds.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5ef03d7cfd75bd5309bb5e2636364c5446d92c39', 'message': ""Make the gerrit_url of patches configurable\n\nCurrently patches must come from review.openstack.org but it may\nbe useful to also source them from an alternative gerrit.\n\nThis patch adds a new parameter called 'gerrit_url' which is the\nURL to the gerrit where the patch should be sourced from. The\ndefault value is 'https://review.opendev.org' to ensure that it\nmaintains the current behaviour for backwards compatibility.\n\nChange-Id: I84f2a7b9aae674d1971b4f64628ca59bf40419ad\n(cherry picked from commit d93341dc6898ec807119e6fd1d92690b9f47bfa9)\n""}]",0,803435,5ef03d7cfd75bd5309bb5e2636364c5446d92c39,10,4,1,6816,,,0,"Make the gerrit_url of patches configurable

Currently patches must come from review.openstack.org but it may
be useful to also source them from an alternative gerrit.

This patch adds a new parameter called 'gerrit_url' which is the
URL to the gerrit where the patch should be sourced from. The
default value is 'https://review.opendev.org' to ensure that it
maintains the current behaviour for backwards compatibility.

Change-Id: I84f2a7b9aae674d1971b4f64628ca59bf40419ad
(cherry picked from commit d93341dc6898ec807119e6fd1d92690b9f47bfa9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/35/803435/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workarounds.sh.j2'],1,5ef03d7cfd75bd5309bb5e2636364c5446d92c39,," local gerrit_url=$5 curl -4 --retry 5 ${gerrit_url}/changes/${patch_id}/revisions/${patch_revision}/patch?download | \ echo ""Failed to download patch ${gerrit_url}/${patch_id}""{% set _gerrit_url = value.gerrit_url | default('https://review.opendev.org', True) -%} apply_patch {{ value.basedir }} {{ value.id }} {{ _patch_revision }} {{ _patch_strip }} {{ _gerrit_url }}"," curl -4 --retry 5 https://review.opendev.org/changes/${patch_id}/revisions/${patch_revision}/patch?download | \ echo ""Failed to download patch https://review.opendev.org/#/c/${patch_id}/""apply_patch {{ value.basedir }} {{ value.id }} {{ _patch_revision }} {{ _patch_strip }}",5,3
openstack%2Fcyborg~master~I810cf892545eccd6255b01813a44e2c069ae5a7a,openstack/cyborg,master,I810cf892545eccd6255b01813a44e2c069ae5a7a,update oslo.db version to 10.0.0,MERGED,2021-07-29 08:45:00.000000000,2021-08-05 08:08:36.000000000,2021-08-05 08:07:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-07-29 08:45:00.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d74b897208143693314afbc70b7e4944857b757a', 'message': 'update oslo.db version to 10.0.0\n\nThis patch[1] added handler for mysql 8.0.19 duplicate key error update,\nand in device_profile create progress, we should distinguish the name\nand uuid duplicate exception, so update oslo.db version to adapt.\n\n[1] https://review.opendev.org/c/openstack/oslo.db/+/792124\n\nChange-Id: I810cf892545eccd6255b01813a44e2c069ae5a7a\n'}]",0,802839,d74b897208143693314afbc70b7e4944857b757a,8,4,1,31412,,,0,"update oslo.db version to 10.0.0

This patch[1] added handler for mysql 8.0.19 duplicate key error update,
and in device_profile create progress, we should distinguish the name
and uuid duplicate exception, so update oslo.db version to adapt.

[1] https://review.opendev.org/c/openstack/oslo.db/+/792124

Change-Id: I810cf892545eccd6255b01813a44e2c069ae5a7a
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/39/802839/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d74b897208143693314afbc70b7e4944857b757a,,oslo.db>=10.0.0 # Apache-2.0,oslo.db>=4.44.0 # Apache-2.0,1,1
openstack%2Fskyline-apiserver~master~Ie769037872dcc64f2f83013869f98028846b242f,openstack/skyline-apiserver,master,Ie769037872dcc64f2f83013869f98028846b242f,fix: Update README doc and fix dependency,MERGED,2021-08-05 06:05:37.000000000,2021-08-05 06:42:48.000000000,2021-08-05 06:41:46.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-08-05 06:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/5cbc838c015d89cdaf7c2f779b88c4bf4eb19a5b', 'message': 'fix: Update README doc and fix dependency\n\nUpdate the develop chapter of README doc.\nAlso fix the aiosqlite dependency if skyline-apiserver.\n\nChange-Id: Ie769037872dcc64f2f83013869f98028846b242f\n'}, {'number': 2, 'created': '2021-08-05 06:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/70b71401270440d763b1bc08a8fad7962576da33', 'message': 'fix: Update README doc and fix dependency\n\nUpdate the develop chapter of README doc.\nAlso fix the aiosqlite dependency if skyline-apiserver.\n\nChange-Id: Ie769037872dcc64f2f83013869f98028846b242f\n'}, {'number': 3, 'created': '2021-08-05 06:31:23.000000000', 'files': ['README-zh_CN.md', 'libs/skyline-apiserver/pyproject.toml', 'libs/skyline-apiserver/poetry.lock', 'poetry.lock', 'README.md'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/c78ef2f5225ae37756706a2d05e2e427d518af20', 'message': 'fix: Update README doc and fix dependency\n\nUpdate the develop chapter of README doc.\nAlso fix the aiosqlite dependency if skyline-apiserver.\n\nChange-Id: Ie769037872dcc64f2f83013869f98028846b242f\n'}]",1,803539,c78ef2f5225ae37756706a2d05e2e427d518af20,12,3,3,28706,,,0,"fix: Update README doc and fix dependency

Update the develop chapter of README doc.
Also fix the aiosqlite dependency if skyline-apiserver.

Change-Id: Ie769037872dcc64f2f83013869f98028846b242f
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/39/803539/1 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'libs/skyline-apiserver/pyproject.toml', 'libs/skyline-apiserver/poetry.lock', 'poetry.lock', 'README.md']",5,5cbc838c015d89cdaf7c2f779b88c4bf4eb19a5b,,- python >= 3.8 - yarn >= 1.22.4 - node >= 10.22.0pushd libs/skyline-apiserver/,pushd /skyline/libs/skyline-apiserver/,54,16
openstack%2Fglance~master~I92d3792602a69922078d109095ad8ac9afc89d14,openstack/glance,master,I92d3792602a69922078d109095ad8ac9afc89d14,Add a member field to Image when appropriate,MERGED,2021-06-11 21:39:01.000000000,2021-08-05 06:41:09.000000000,2021-08-05 06:39:03.000000000,"[{'_account_id': 5046}, {'_account_id': 7973}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 21:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c483d68115ac562afcd3cd469c1ac76cd2a1b770', 'message': 'WIP: Make ImageTarget calculate our member\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 2, 'created': '2021-06-16 23:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a9f6b708900eb8141364aa5110a187d7d939fc0e', 'message': 'WIP: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 3, 'created': '2021-06-23 17:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4949fbf8f2bac64a83f8420b95bc300b0a332aca', 'message': 'WIP: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 4, 'created': '2021-06-25 10:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3e4782edb0a4e95b2196ce337e2c3895a561a560', 'message': 'WIP: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 5, 'created': '2021-06-28 17:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/53cb5eeffeb12d19fad2e3203925621c3ab66e0b', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 6, 'created': '2021-07-02 14:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/344fa559bb6ab1b29a455a19621613e2cc17640f', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 7, 'created': '2021-07-02 15:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/278becc2def866ed61ce0ff78bd721f3451737e5', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 8, 'created': '2021-07-06 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/62a1438eb3c224528c230a3f1dd320a1a88c9678', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 9, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ac1f23227250f7e1881f9a4b2b77151affb36ac9', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 10, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0349fb6b7b8e6e284b5bd1560630ee1e9e3d5ba1', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 11, 'created': '2021-07-16 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0a2703d36b46aaf819b00788d272d66eec462ae1', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 12, 'created': '2021-07-16 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/13b4b435a7029c18385906554a35f84e0443760a', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 13, 'created': '2021-07-16 17:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cec2ff5e5c2721d1a9ebec7aa4b11b620d2ddca1', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 14, 'created': '2021-07-16 18:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6dd76743ccce34a35d4a65095bdc2870df9cfe10', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 15, 'created': '2021-07-19 19:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bc774c266d20570e093cea0013f9b9c97f6b70fa', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 16, 'created': '2021-07-20 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1a740ed0af9753a1c55c2ea44a5e60e395be6068', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 17, 'created': '2021-07-20 18:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/99e131ec562db1ef7646f160c763691f25d796c8', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 18, 'created': '2021-07-26 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/60be8298ec6aecc5da8f6c2d6d02bf80811cdb27', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 19, 'created': '2021-07-27 18:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/192b275383c1112808d8160e87d2b6be6bf8d87b', 'message': 'POC: Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nNOTE: This is far from done at the moment; just enough to work on test\nfailures in the next patch.\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 20, 'created': '2021-07-28 15:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bdfbcaf0883112ce0d94b7f0bb0363684e381690', 'message': 'Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 21, 'created': '2021-08-02 17:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/32db51d203136d78997ccf57eb9461cae4a54ecd', 'message': 'Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 22, 'created': '2021-08-03 18:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9611dcc8ffb8a518ae1c12f1519943e96e48f97f', 'message': 'Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}, {'number': 23, 'created': '2021-08-04 13:54:02.000000000', 'files': ['glance/api/authorization.py', 'glance/tests/unit/test_policy.py', 'glance/tests/unit/test_db.py', 'glance/tests/unit/test_cache_middleware.py', 'glance/api/policy.py', 'glance/db/__init__.py', 'glance/tests/unit/test_gateway.py', 'glance/domain/proxy.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/8ddbdb95268bf923f0b1ba941f11097d17e84eb4', 'message': 'Add a member field to Image when appropriate\n\nAs noted by lbragstad, we need to make ImageTarget contain a member\nfield so that we can generically apply policies and be able to\nproperly include images for which we are a member. This was hacked\ninto place for ImageRepoProxy.get() but in order to apply it generally\nto listing and other ops, we need to formalize that.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I92d3792602a69922078d109095ad8ac9afc89d14\n'}]",3,796066,8ddbdb95268bf923f0b1ba941f11097d17e84eb4,67,5,23,4393,,,0,"Add a member field to Image when appropriate

As noted by lbragstad, we need to make ImageTarget contain a member
field so that we can generically apply policies and be able to
properly include images for which we are a member. This was hacked
into place for ImageRepoProxy.get() but in order to apply it generally
to listing and other ops, we need to formalize that.

Partially-Implements: blueprint policy-refactor

Change-Id: I92d3792602a69922078d109095ad8ac9afc89d14
",git fetch https://review.opendev.org/openstack/glance refs/changes/66/796066/17 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/policy.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/domain/proxy.py', 'glance/domain/__init__.py', 'glance/api/v2/policy.py']",6,c483d68115ac562afcd3cd469c1ac76cd2a1b770,bp/policy-refactor," self._target = policy.ImageTarget(image, context)", self._target = policy.ImageTarget(image),37,5
openstack%2Fswift~master~I309767b2c6352e097d9572053c08d8377806809c,openstack/swift,master,I309767b2c6352e097d9572053c08d8377806809c,Quiet more deprecation warnings on py2,MERGED,2021-03-30 21:02:50.000000000,2021-08-05 05:48:05.000000000,2021-08-05 05:46:39.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 21:02:50.000000000', 'files': ['swift/__init__.py', 'test/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0d44328c7500d688f7b398181ce7e6625d6fd178', 'message': 'Quiet more deprecation warnings on py2\n\nChange-Id: I309767b2c6352e097d9572053c08d8377806809c\n'}]",0,783968,0d44328c7500d688f7b398181ce7e6625d6fd178,7,2,1,15343,,,0,"Quiet more deprecation warnings on py2

Change-Id: I309767b2c6352e097d9572053c08d8377806809c
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/783968/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/__init__.py', 'test/__init__.py']",2,0d44328c7500d688f7b398181ce7e6625d6fd178,,"warnings.filterwarnings('ignore', module='cryptography|OpenSSL', message=( 'Python 2 is no longer supported by the Python core team. ' 'Support for it is now deprecated in cryptography, ' 'and will be removed in the next release.'))",,8,0
openstack%2Fneutron~master~I4a52c773d3f753c918df0986f1d261083156651c,openstack/neutron,master,I4a52c773d3f753c918df0986f1d261083156651c,Use payloads for ROUTER callbacks,MERGED,2021-07-30 12:58:29.000000000,2021-08-05 04:47:05.000000000,2021-08-03 19:29:54.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-07-30 12:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/526bc2a34b8b2b4ab40279fe0b5c2993737da2e2', 'message': 'Use payloads for ROUTER callbacks\n\nThis patch switches over to callback payloads for ROUTER\nBEFORE_CREATE, PRECOMMIT_CREATE, BEFORE_UPDATE and\nPRECOMMIT_DELETE events.\n\nChange-Id: I4a52c773d3f753c918df0986f1d261083156651c\n'}, {'number': 2, 'created': '2021-07-31 09:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f568a93740600489e98d87482e3313a2ba751e0', 'message': 'Use payloads for ROUTER callbacks\n\nThis patch switches over to callback payloads for ROUTER\nBEFORE_CREATE, PRECOMMIT_CREATE, BEFORE_UPDATE and\nPRECOMMIT_DELETE events.\n\nChange-Id: I4a52c773d3f753c918df0986f1d261083156651c\n'}, {'number': 3, 'created': '2021-08-02 09:32:53.000000000', 'files': ['neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/agent/linux/test_pd.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py', 'neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/agent/l3/agent.py', 'neutron/db/availability_zone/router.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/40c8f60ee3125faaa16d130766782c9f79f75762', 'message': 'Use payloads for ROUTER callbacks\n\nThis patch switches over to callback payloads for ROUTER\nBEFORE_CREATE, PRECOMMIT_CREATE, BEFORE_UPDATE and\nPRECOMMIT_DELETE events.\n\nChange-Id: I4a52c773d3f753c918df0986f1d261083156651c\n'}]",12,803009,40c8f60ee3125faaa16d130766782c9f79f75762,43,5,3,32667,,,0,"Use payloads for ROUTER callbacks

This patch switches over to callback payloads for ROUTER
BEFORE_CREATE, PRECOMMIT_CREATE, BEFORE_UPDATE and
PRECOMMIT_DELETE events.

Change-Id: I4a52c773d3f753c918df0986f1d261083156651c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/803009/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/agent/linux/test_pd.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py', 'neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/agent/l3/agent.py', 'neutron/db/availability_zone/router.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/agent/linux/pd.py']",13,526bc2a34b8b2b4ab40279fe0b5c2993737da2e2,router_payload,"def add_router(resource, event, l3_agent, payload): added_router = payload.latest_state","def add_router(resource, event, l3_agent, **kwargs): added_router = kwargs['router']",119,51
openstack%2Fglance~master~I6fcb14ad240105ed0b1b9086c6c6c95034b4dd42,openstack/glance,master,I6fcb14ad240105ed0b1b9086c6c6c95034b4dd42,Fix failing copy_image flow init,MERGED,2021-08-04 14:17:59.000000000,2021-08-05 04:33:25.000000000,2021-08-04 17:39:08.000000000,"[{'_account_id': 9303}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 14:17:59.000000000', 'files': ['glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ded8ecf3828fa9afd7382f8ba850505ae0541e2c', 'message': 'Fix failing copy_image flow init\n\nThe new networkx requirement apparently causes us to fail the\ntest_init_copy_flow_as_non_owner test because a None value can not be\nadded to the flow graph. This just mocks out the glance_store call\nthat is failing to get the staging store to avoid us choking there\nso we can proceed. We are just testing get_flow so we never use it\nanyway.\n\nChange-Id: I6fcb14ad240105ed0b1b9086c6c6c95034b4dd42\n'}]",0,803484,ded8ecf3828fa9afd7382f8ba850505ae0541e2c,12,3,1,4393,,,0,"Fix failing copy_image flow init

The new networkx requirement apparently causes us to fail the
test_init_copy_flow_as_non_owner test because a None value can not be
added to the flow graph. This just mocks out the glance_store call
that is failing to get the staging store to avoid us choking there
so we can proceed. We are just testing get_flow so we never use it
anyway.

Change-Id: I6fcb14ad240105ed0b1b9086c6c6c95034b4dd42
",git fetch https://review.opendev.org/openstack/glance refs/changes/84/803484/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/test_api_image_import.py'],1,ded8ecf3828fa9afd7382f8ba850505ae0541e2c,fix-networx," @mock.patch('glance_store.get_store_from_store_identifier') def test_init_copy_flow_as_non_owner(self, mock_gs, mock_import):"," def test_init_copy_flow_as_non_owner(self, mock_import):",2,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4b40d73ab329dc219ee7a387201b0747a6233ed4,openstack/tripleo-heat-templates,stable/wallaby,I4b40d73ab329dc219ee7a387201b0747a6233ed4,Do not fail if haproxy container UUID changes,MERGED,2021-07-28 10:34:58.000000000,2021-08-05 03:56:07.000000000,2021-08-05 03:56:07.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-28 10:34:58.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c3034532545468188da1990539b4f31f117c8f4', 'message': 'Do not fail if haproxy container UUID changes\n\nThere is a possibility that haproxy container crashed and restarted\nwith another UUID, while the deployment is trying to reload it\nafter reconfiguring the certificates, by sending a\n`kill -HUP <uuid-of-the-container>`. In that case, ingore errors\nfor the commands block, since there is no longer need to reload the\nnewly created container.\n\nRelated rhbz#1973674\n\nChange-Id: I4b40d73ab329dc219ee7a387201b0747a6233ed4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 810b81991fd0ae48fa0a0e2049780f35dddbc8c6)\n'}]",0,802470,5c3034532545468188da1990539b4f31f117c8f4,13,3,1,6926,,,0,"Do not fail if haproxy container UUID changes

There is a possibility that haproxy container crashed and restarted
with another UUID, while the deployment is trying to reload it
after reconfiguring the certificates, by sending a
`kill -HUP <uuid-of-the-container>`. In that case, ingore errors
for the commands block, since there is no longer need to reload the
newly created container.

Related rhbz#1973674

Change-Id: I4b40d73ab329dc219ee7a387201b0747a6233ed4
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 810b81991fd0ae48fa0a0e2049780f35dddbc8c6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/802470/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,5c3034532545468188da1990539b4f31f117c8f4,," register: container_kill_result failed_when: - (""no such container"" not in container_kill_result.stderr) - (""container state improper"" not in container_kill_result.stderr)",,4,0
openstack%2Ftripleo-quickstart-extras~master~I808f39bba76f908d473bb935805070477d185b8e,openstack/tripleo-quickstart-extras,master,I808f39bba76f908d473bb935805070477d185b8e,Bump nautilus containers to v4.0.19,MERGED,2021-08-04 14:17:36.000000000,2021-08-05 03:56:05.000000000,2021-08-05 03:56:05.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-04 14:17:36.000000000', 'files': ['roles/extras-common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0735e3916e76adcb01779fe933e2082142d04c52', 'message': 'Bump nautilus containers to v4.0.19\n\nThe purpose of this review is moving from v4.0.13 to v4.0.19 tag, which\nhas the latest released content.\n\nChange-Id: I808f39bba76f908d473bb935805070477d185b8e\n'}]",0,803483,0735e3916e76adcb01779fe933e2082142d04c52,11,7,1,25402,,,0,"Bump nautilus containers to v4.0.19

The purpose of this review is moving from v4.0.13 to v4.0.19 tag, which
has the latest released content.

Change-Id: I808f39bba76f908d473bb935805070477d185b8e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/83/803483/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/extras-common/defaults/main.yml'],1,0735e3916e76adcb01779fe933e2082142d04c52,, v4.0.19-stable-4.0-nautilus-centos-7-x86_64, v4.0.13-stable-4.0-nautilus-centos-7-x86_64,1,1
openstack%2Fglance~master~I43dbc88a9f3fd4c6b2a10c2534ccee9283663282,openstack/glance,master,I43dbc88a9f3fd4c6b2a10c2534ccee9283663282,Make image update check policy at API layer,MERGED,2021-05-05 15:59:21.000000000,2021-08-05 03:36:00.000000000,2021-08-04 17:25:24.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 7973}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c0af9937e0b2d610e7437b97ed69f1e91045304c', 'message': ""WIP: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: I have not fixed the property protection-related unit tests\nhere yet, so those will fail as expected.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 2, 'created': '2021-06-02 19:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a84e306234127e4d974b1028f8fd04e4e94edf64', 'message': ""WIP: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 3, 'created': '2021-06-11 21:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/063ec0f9031a255a620289772bda2a42cd13c5a3', 'message': ""WIP: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 4, 'created': '2021-06-16 23:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/52e7b464d64d605be048a04714e11a2bc7e6f16c', 'message': ""WIP: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 5, 'created': '2021-06-23 17:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1811d2bfbe99dd0654374efde856b922cb15ccb4', 'message': ""WIP: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 6, 'created': '2021-06-25 10:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ce264f7968ec4c1e33d63fbc51892de2af3aded5', 'message': ""WIP: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 7, 'created': '2021-06-28 17:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f8b471ad957ce31f64bf01ccbed1f8dbe8a04455', 'message': ""POC: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 8, 'created': '2021-07-02 14:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3e34eb9702c7fafc7fe94327a819756a79d2d282', 'message': ""POC: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 9, 'created': '2021-07-02 15:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/93fba05e3c12fc8af0dc11d6f9caf148338b82f7', 'message': ""POC: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 10, 'created': '2021-07-06 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b7baa63ae17e22b91729efc9f6ffc07c71f8f070', 'message': ""POC: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 11, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1732193f19adf9916cad34f61fff10c4fafd0597', 'message': ""POC: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 12, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2b537dc56e5ee941677479320e78d26163c295ec', 'message': ""POC: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 13, 'created': '2021-07-16 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d94384f00cedfdcaedd60ee4f19fbaec0ead3dc1', 'message': ""POC: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 14, 'created': '2021-07-16 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7dc43b61b54637b0c215ba88dbfe1fa4081f4091', 'message': ""POC: Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 15, 'created': '2021-07-16 17:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e25d0f49ab0e86e5ad5d989758d80e049cc58212', 'message': ""Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 16, 'created': '2021-07-16 18:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/da567802505b30a53871ef69562fe80ac3d45cd1', 'message': ""Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 17, 'created': '2021-07-19 19:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9f37434412bf0fd1f7454d1b8456c0d0c9d6ce4d', 'message': ""Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 18, 'created': '2021-07-20 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a65140761fa5005de4b20e44753b5ace4237bdfb', 'message': ""Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 19, 'created': '2021-07-26 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6169b8256e860705fca40574af1b2618751a1e70', 'message': ""Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 20, 'created': '2021-07-27 18:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9944ef46b337533a700125935d96c9d52f7a0608', 'message': ""Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 21, 'created': '2021-08-02 17:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9119a0c5833467516d995926e7b91d92435ecca9', 'message': ""Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 22, 'created': '2021-08-03 18:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/31d74cc3e139f102ab2e628f65f3a875c2374445', 'message': ""Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nThe ImageAPIPolicy module will raise Forbidden for cases where an\noperation is forbidden, but the image would be otherwise visible to\nthe user, and NotFound otherwise to obscure the existence of images\nthat the user can not otherwise see.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}, {'number': 23, 'created': '2021-08-04 13:54:02.000000000', 'files': ['glance/tests/functional/v2/test_images_api_policy.py', 'glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/api/v2/policy.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/3825d2111aa89a2af56fa404c3cae7278b5721b5', 'message': ""Make image update check policy at API layer\n\nThis implements the proposal at the PTG that makes the image update\nAPI our first one to do all policy checks at the API layer instead\nof the lower ones.\n\nThere are still some things that have to be resolved, like the image\nrepo will still check get_image even though we don't want it to.\n\nHowever, this adds a new v2/policy module to encapsulate these checks\nand adds them into the various places of the update call. It also\nmakes our test policy for modify_image match that of our actual\ndefault, which is a major step in making sure our tests actually run\nwith the policy we expect at runtime.\n\nNOTE: db.ImageRepo.save() was raising NotFound in cases where\nForbidden was raised by _check_mutate_authorization(). This means\nthat we could not tell the difference at the higher layers between\nan actual NotFound and the 404 generated by an auth failure.\n\nThe ImageAPIPolicy module will raise Forbidden for cases where an\noperation is forbidden, but the image would be otherwise visible to\nthe user, and NotFound otherwise to obscure the existence of images\nthat the user can not otherwise see.\n\nPartially-Implements: blueprint policy-refactor\n\nChange-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282\n""}]",26,789915,3825d2111aa89a2af56fa404c3cae7278b5721b5,90,7,23,4393,,,0,"Make image update check policy at API layer

This implements the proposal at the PTG that makes the image update
API our first one to do all policy checks at the API layer instead
of the lower ones.

There are still some things that have to be resolved, like the image
repo will still check get_image even though we don't want it to.

However, this adds a new v2/policy module to encapsulate these checks
and adds them into the various places of the update call. It also
makes our test policy for modify_image match that of our actual
default, which is a major step in making sure our tests actually run
with the policy we expect at runtime.

NOTE: db.ImageRepo.save() was raising NotFound in cases where
Forbidden was raised by _check_mutate_authorization(). This means
that we could not tell the difference at the higher layers between
an actual NotFound and the 404 generated by an auth failure.

The ImageAPIPolicy module will raise Forbidden for cases where an
operation is forbidden, but the image would be otherwise visible to
the user, and NotFound otherwise to obscure the existence of images
that the user can not otherwise see.

Partially-Implements: blueprint policy-refactor

Change-Id: I43dbc88a9f3fd4c6b2a10c2534ccee9283663282
",git fetch https://review.opendev.org/openstack/glance refs/changes/15/789915/15 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/api/v2/policy.py', 'glance/tests/etc/policy.yaml']",3,c0af9937e0b2d610e7437b97ed69f1e91045304c,bp/policy-refactor,"""modify_image"": ""role:admin or (role:member and project_id:%(project_id)s)""","""modify_image"": """"",69,6
openstack%2Fglance~master~I70100cd7f01da803e9740cea1f7ce7ae18ad6919,openstack/glance,master,I70100cd7f01da803e9740cea1f7ce7ae18ad6919,Check get_image(s) in the API,MERGED,2021-06-11 21:39:01.000000000,2021-08-05 02:18:09.000000000,2021-08-05 02:16:21.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 7973}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 21:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3019662be8fc2aed6994ccb358266053d29c7f67', 'message': 'WIP: Check get_image(s) in the API\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n'}, {'number': 2, 'created': '2021-06-16 23:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ffc27d15a48e3ccd0c22472c5fa20a873348ca30', 'message': 'WIP: Check get_image(s) in the API\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n'}, {'number': 3, 'created': '2021-06-17 13:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/02f1f0ac5ed6703fab579f865836483d72b56c8c', 'message': ""WIP: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 4, 'created': '2021-06-23 17:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eb1725eed7b6035fb896f7dee4ebcc99578b7162', 'message': ""WIP: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 5, 'created': '2021-06-25 10:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0e33158cab85c182d43434bd147498fa98b3fe43', 'message': ""WIP: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 6, 'created': '2021-06-28 17:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/28aae090d957667cebcdd0984add97dd1bc272ca', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 7, 'created': '2021-07-02 14:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6707e9389cb3a3ca3929ddae573d3bf63c8f80b1', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 8, 'created': '2021-07-02 15:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2b0bedd01b233a8a1b5ca5f6393b0828eec40bee', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 9, 'created': '2021-07-06 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7d7a16d4d9bfbcbec1afdd0a113b20c663d9dee4', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 10, 'created': '2021-07-06 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c31d280f62eb327f8affc3a6cf8b8a4d9f39a7c7', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 11, 'created': '2021-07-14 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/97da196fbb78a89c76f2e607e812f84afc9ee7c4', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 12, 'created': '2021-07-16 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fbdcfaa77d2bb2b9965426f607f1e1adff57ddfd', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 13, 'created': '2021-07-16 15:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d93b3a05c50fa2a24a518ec94cc9c987232c00df', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 14, 'created': '2021-07-16 17:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/639773a7f511e07bafbed57b7bee0ca5de825fd2', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 15, 'created': '2021-07-16 18:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5c4a9ce7ecf0a8bf260252bd8880d044cf4fe1a4', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 16, 'created': '2021-07-19 19:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c317224e9d0ba940672d2c343d0604c36eb708a7', 'message': ""POC: Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nNOTE: This has changes to make existing tests pass, but likely needs\nadditional coverage for full verification\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 17, 'created': '2021-07-20 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1fd9681388754f9e47fc2d2dcd153a6cd4e408be', 'message': ""Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 18, 'created': '2021-07-20 18:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/46d9f27cadf07bee52c35a082b6e4b256a4c04b7', 'message': ""Check get_image(s) in the API\n\nNote, this includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn't matter\nbecause they weren't really being honored strictly.\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n""}, {'number': 19, 'created': '2021-07-26 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cf3995cebf4f89e6bff68380adfc7cd225f9285f', 'message': 'Check get_image(s) in the API\n\nThis includes a change to catch Forbidden and convert to NotFound.\nThe previous Forbidden handler was not only correct (it shoud hide\nthe permissions error with ""not found"") but it was actually dead code,\nsince the DB was performing its own checks and would never raise\nForbidden.\n\nThis also includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn\'t matter\nbecause they weren\'t really being honored strictly.\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n'}, {'number': 20, 'created': '2021-07-27 18:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/76cef3fb92dbb0fcf785cfe70b31e3de2af4fa86', 'message': 'Check get_image(s) in the API\n\nThis includes a change to catch Forbidden and convert to NotFound.\nThe previous Forbidden handler was not only correct (it shoud hide\nthe permissions error with ""not found"") but it was actually dead code,\nsince the DB was performing its own checks and would never raise\nForbidden.\n\nThis also includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn\'t matter\nbecause they weren\'t really being honored strictly.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n'}, {'number': 21, 'created': '2021-08-02 17:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b14ddca049e7a5210a4941284ea0dd97a8e3158d', 'message': 'Check get_image(s) in the API\n\nThis includes a change to catch Forbidden and convert to NotFound.\nThe previous Forbidden handler was not only correct (it shoud hide\nthe permissions error with ""not found"") but it was actually dead code,\nsince the DB was performing its own checks and would never raise\nForbidden.\n\nThis also includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn\'t matter\nbecause they weren\'t really being honored strictly.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n'}, {'number': 22, 'created': '2021-08-03 18:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1c3e1003e7b3b84a699ad6550b6fc52a07d8974c', 'message': 'Check get_image(s) in the API\n\nThis includes a change to catch Forbidden and convert to NotFound.\nThe previous Forbidden handler was not only correct (it shoud hide\nthe permissions error with ""not found"") but it was actually dead code,\nsince the DB was performing its own checks and would never raise\nForbidden.\n\nThis also includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn\'t matter\nbecause they weren\'t really being honored strictly.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n'}, {'number': 23, 'created': '2021-08-04 13:54:02.000000000', 'files': ['glance/tests/functional/v2/test_images_api_policy.py', 'glance/tests/functional/v2/test_images.py', 'glance/tests/unit/test_policy.py', 'glance/api/v2/images.py', 'glance/tests/unit/utils.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/api/v2/policy.py', 'glance/policies/base.py', 'glance/tests/unit/v2/test_v2_policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ba37ea322777bb1efb210f4cbb72cae2f2c541d2', 'message': 'Check get_image(s) in the API\n\nThis includes a change to catch Forbidden and convert to NotFound.\nThe previous Forbidden handler was not only correct (it shoud hide\nthe permissions error with ""not found"") but it was actually dead code,\nsince the DB was performing its own checks and would never raise\nForbidden.\n\nThis also includes a change of the default policy for get_images\nto include the other states, like get_image does. I think this was\njust an oversight in the original RBAC patches, which didn\'t matter\nbecause they weren\'t really being honored strictly.\n\nPartially implements: blueprint policy-refactor\n\nChange-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919\n'}]",30,796067,ba37ea322777bb1efb210f4cbb72cae2f2c541d2,77,6,23,4393,,,0,"Check get_image(s) in the API

This includes a change to catch Forbidden and convert to NotFound.
The previous Forbidden handler was not only correct (it shoud hide
the permissions error with ""not found"") but it was actually dead code,
since the DB was performing its own checks and would never raise
Forbidden.

This also includes a change of the default policy for get_images
to include the other states, like get_image does. I think this was
just an oversight in the original RBAC patches, which didn't matter
because they weren't really being honored strictly.

Partially implements: blueprint policy-refactor

Change-Id: I70100cd7f01da803e9740cea1f7ce7ae18ad6919
",git fetch https://review.opendev.org/openstack/glance refs/changes/67/796067/7 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/api/v2/images.py', 'glance/gateway.py', 'glance/api/v2/policy.py', 'glance/tests/etc/policy.yaml']",5,3019662be8fc2aed6994ccb358266053d29c7f67,bp/policy-refactor,"""get_image"": >- role:admin or (role:reader and (project_id:%(project_id)s or project_id:%(member_id)s or ""community"":%(visibility)s or ""shared"":%(visibility)s or ""public"":%(visibility)s))""get_images"": >- role:admin or (role:reader and (project_id:%(project_id)s or project_id:%(member_id)s or ""community"":%(visibility)s or ""shared"":%(visibility)s or ""public"":%(visibility)s))","""get_image"": """"""get_images"": """"",95,42
openstack%2Ftempest~master~I24087607a9f0129b7b3d21473196fab1b5f08cd4,openstack/tempest,master,I24087607a9f0129b7b3d21473196fab1b5f08cd4,Changes to ensure delete_containers is done at class level tear down,MERGED,2021-07-26 19:17:21.000000000,2021-08-05 02:18:09.000000000,2021-08-05 02:16:18.000000000,"[{'_account_id': 8556}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22214}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 30495}, {'_account_id': 30746}]","[{'number': 1, 'created': '2021-07-26 19:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/80e6fd9221d461a2cb2c6f2187a9a4304509fe23', 'message': ""Remove container name from the list when container is deleted\n\n  When container is deleted, the container name needs to be removed\nfrom the internal 'containers' list, and needs to be removed prior\nto the wait/condense. Otherwise, 1) unnecessary requests are being\nsent again in the tearDown for the subsequent methods, 2) race\ncondition can likely happen between methods during the tearDown.\n\nChange-Id: I24087607a9f0129b7b3d21473196fab1b5f08cd4\n""}, {'number': 2, 'created': '2021-07-27 01:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/12e52a792536bd098817560c87b29809ecfc60cc', 'message': ""Remove container name from the list when container is deleted\n\n  When container is deleted, the container name needs to be removed\nfrom the internal 'containers' list, and needs to be removed prior\nto the wait/condense. Otherwise, 1) unnecessary requests are being\nsent again in the tearDown for the subsequent methods, 2) race\ncondition can likely happen between methods during the tearDown.\n\nChange-Id: I24087607a9f0129b7b3d21473196fab1b5f08cd4\n""}, {'number': 3, 'created': '2021-07-28 11:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3c5f39312819677f3a930752ff1520640cb18902', 'message': ""Remove container name from the list when container is deleted\n\n  When container is deleted, the container name needs to be removed\nfrom the internal 'containers' list, and needs to be removed prior\nto the wait/condense. Otherwise, 1) unnecessary requests are being\nsent again in the tearDown for the subsequent methods, 2) race\ncondition can likely happen between methods during the tearDown.\n\nChange-Id: I24087607a9f0129b7b3d21473196fab1b5f08cd4\n""}, {'number': 4, 'created': '2021-07-28 11:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3fe3cef7b7967bfb53abc1fc4a4a1ded32d68347', 'message': ""Remove container name from the list when container is deleted\n\n  When container is deleted, the container name needs to be removed\nfrom the internal 'containers' list, and needs to be removed prior\nto the wait/condense. Otherwise, 1) unnecessary requests are being\nsent again in the tearDown for the subsequent methods, 2) race\ncondition can likely happen between methods during the tearDown.\n\nChange-Id: I24087607a9f0129b7b3d21473196fab1b5f08cd4\n""}, {'number': 5, 'created': '2021-08-03 18:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c026cf10849f8b6ff66f3f8b88659c8d07a2d156', 'message': ""Remove container name from the list when container is deleted\n\n  When container is deleted, the container name needs to be removed\nfrom the internal 'containers' list, and needs to be removed prior\nto the wait/condense. Otherwise, 1) unnecessary requests are being\nsent again in the tearDown for the subsequent methods, 2) race\ncondition can likely happen between methods during the tearDown.\n\nCloses-Bug: #1938593\n\nChange-Id: I24087607a9f0129b7b3d21473196fab1b5f08cd4\n""}, {'number': 6, 'created': '2021-08-04 18:11:16.000000000', 'files': ['tempest/api/object_storage/test_container_acl.py', 'tempest/api/object_storage/test_container_acl_negative.py', 'tempest/api/object_storage/test_container_services.py', 'tempest/api/object_storage/test_container_quotas.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3c7159d2e3974f74547969f45a317e2d2b47d678', 'message': 'Changes to ensure delete_containers is done at class level tear down\n\n  Invoking delete containers at test level tearDown caused:\n1) unnecessary requests are being sent again in the tearDown for\nthe subsequent methods,\n2) possible race condition can happen between methods during the\ntearDown.\n\nCloses-Bug: #1938593\n\nChange-Id: I24087607a9f0129b7b3d21473196fab1b5f08cd4\n'}]",11,802388,3c7159d2e3974f74547969f45a317e2d2b47d678,41,8,6,33282,,,0,"Changes to ensure delete_containers is done at class level tear down

  Invoking delete containers at test level tearDown caused:
1) unnecessary requests are being sent again in the tearDown for
the subsequent methods,
2) possible race condition can happen between methods during the
tearDown.

Closes-Bug: #1938593

Change-Id: I24087607a9f0129b7b3d21473196fab1b5f08cd4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/88/802388/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/object_storage/base.py'],1,80e6fd9221d461a2cb2c6f2187a9a4304509fe23,bug/1938593, # Remove the container name from the list containers.remove(cont),,2,0
openstack%2Fpuppet-ironic~master~I86612e45c6d5d7d675098b7beb1c19ff903a53db,openstack/puppet-ironic,master,I86612e45c6d5d7d675098b7beb1c19ff903a53db,Add support for oslo_policy/enforce_new_defaults,MERGED,2021-03-24 07:40:10.000000000,2021-08-05 01:52:39.000000000,2021-03-24 16:57:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 07:40:10.000000000', 'files': ['releasenotes/notes/policy-enforce_new_defaults-e1f45e71242055f8.yaml', 'manifests/policy.pp', 'spec/classes/ironic_policy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f83af35e66bc428dd536dc3239c96196ad9d9207', 'message': 'Add support for oslo_policy/enforce_new_defaults\n\nDepends-on: https://review.opendev.org/781428\nChange-Id: I86612e45c6d5d7d675098b7beb1c19ff903a53db\n'}]",0,782649,f83af35e66bc428dd536dc3239c96196ad9d9207,10,3,1,9816,,,0,"Add support for oslo_policy/enforce_new_defaults

Depends-on: https://review.opendev.org/781428
Change-Id: I86612e45c6d5d7d675098b7beb1c19ff903a53db
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/49/782649/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-enforce_new_defaults-e1f45e71242055f8.yaml', 'manifests/policy.pp', 'spec/classes/ironic_policy_spec.rb']",3,f83af35e66bc428dd536dc3239c96196ad9d9207,enforce_new_defaults," :enforce_scope => false, :enforce_new_defaults => false, :policy_path => '/etc/ironic/policy.yaml', :policies => { :enforce_scope => false, :enforce_new_defaults => false, :policy_file => '/etc/ironic/policy.yaml',"," :enforce_scope => false, :policy_path => '/etc/ironic/policy.yaml', :policies => { :enforce_scope => false, :policy_file => '/etc/ironic/policy.yaml',",24,10
openstack%2Fdevstack~master~I508eceb00d7501ffcfac73d7bc2272badb241494,openstack/devstack,master,I508eceb00d7501ffcfac73d7bc2272badb241494,Fix Usage of rdo-release rpm,MERGED,2021-07-30 14:02:54.000000000,2021-08-05 01:38:06.000000000,2021-08-05 01:36:47.000000000,"[{'_account_id': 1}, {'_account_id': 1921}, {'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 5314}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-30 14:02:54.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0456baaee5309431cd1f88ba4a0ceaa7f050b743', 'message': 'Fix Usage of rdo-release rpm\n\nrdo-release.el8.rpm rpm points to latest RDO release,\nso use it for master, for stable releases use corresponding\nrelease rpm.\n\nChange-Id: I508eceb00d7501ffcfac73d7bc2272badb241494\n'}]",0,803039,0456baaee5309431cd1f88ba4a0ceaa7f050b743,26,14,1,13861,,,0,"Fix Usage of rdo-release rpm

rdo-release.el8.rpm rpm points to latest RDO release,
so use it for master, for stable releases use corresponding
release rpm.

Change-Id: I508eceb00d7501ffcfac73d7bc2272badb241494
",git fetch https://review.opendev.org/openstack/devstack refs/changes/39/803039/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,0456baaee5309431cd1f88ba4a0ceaa7f050b743,," if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then # rdo-release.el8.rpm points to latest RDO release, use that for master sudo dnf -y install https://rdoproject.org/repos/rdo-release.el8.rpm else # For stable branches use corresponding release rpm rdo_release=$(echo $TARGET_BRANCH | sed ""s|stable/||g"") sudo dnf -y install https://rdoproject.org/repos/openstack-${rdo_release}/rdo-release-${rdo_release}.el8.rpm fi"," # NOTE(ianw) 2020-04-30 : when we have future branches, we # probably want to install the relevant branch RDO release as # well. But for now it's all master. sudo dnf -y install https://rdoproject.org/repos/rdo-release.el8.rpm",8,4
openstack%2Fpython-glanceclient~master~Ie4288262e408192310cbbc240bd1779b265a64fd,openstack/python-glanceclient,master,Ie4288262e408192310cbbc240bd1779b265a64fd,Fix undesirable raw Python error,MERGED,2021-08-03 10:46:24.000000000,2021-08-05 01:32:12.000000000,2021-08-05 01:30:57.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-08-03 10:46:24.000000000', 'files': ['glanceclient/tests/unit/test_shell.py', 'glanceclient/shell.py', 'releasenotes/notes/fix-undesirable-raw-python-error-66e3ddaca7b72ae2.yaml'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1eb0bbbed7c5ce12aee5f26be7a7aec51ae9ef55', 'message': ""Fix undesirable raw Python error\n\nUsing the glanceclient without a subcommand while\npassing an optional argument triggers the raw Python\nerror `ERROR: 'Namespace' object has no attribute\n'func'`. This bug can be reproduced by issuing the\ncommand `glance --os-image-api-version 2`.\nAdded a default value to `func` as placeholder\nso that a help message is shown instead of the Python error.\n\nCloses-Bug: #1903727\nChange-Id: Ie4288262e408192310cbbc240bd1779b265a64fd\n""}]",1,803326,1eb0bbbed7c5ce12aee5f26be7a7aec51ae9ef55,9,4,1,33765,,,0,"Fix undesirable raw Python error

Using the glanceclient without a subcommand while
passing an optional argument triggers the raw Python
error `ERROR: 'Namespace' object has no attribute
'func'`. This bug can be reproduced by issuing the
command `glance --os-image-api-version 2`.
Added a default value to `func` as placeholder
so that a help message is shown instead of the Python error.

Closes-Bug: #1903727
Change-Id: Ie4288262e408192310cbbc240bd1779b265a64fd
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/26/803326/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/test_shell.py', 'glanceclient/shell.py', 'releasenotes/notes/fix-undesirable-raw-python-error-66e3ddaca7b72ae2.yaml']",3,1eb0bbbed7c5ce12aee5f26be7a7aec51ae9ef55,,"--- fixes: - | `Bug #1903727 <https://bugs.launchpad.net/python-glanceclient/+bug/1903727>`_: Fixed raw Python error message when using ``glance`` without a subcommand while passing an optional argument, such as ``--os-image-api-version``. ",,17,0
openstack%2Fcharm-guide~master~Ia7c9dc8265e04cfb00ab33287a0685d7d26eee57,openstack/charm-guide,master,Ia7c9dc8265e04cfb00ab33287a0685d7d26eee57,Hide the extra H1 heading in the docs,MERGED,2021-08-04 23:41:47.000000000,2021-08-05 00:30:50.000000000,2021-08-05 00:29:30.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-08-04 23:41:47.000000000', 'files': ['doc/source/conf.py', 'doc/source/_static/css/custom.css'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b1095aca29f7284853370f9fb3e64fdf3fc5c4ee', 'message': ""Hide the extra H1 heading in the docs\n\nHide the extra heading in the docs so we don't have double headers\nshowing up on each of the pages. Something changed in the wallaby\nrelease that causes multiple headers to show. This patch introduces\nsome custom css to hide it for the time being.\n\nChange-Id: Ia7c9dc8265e04cfb00ab33287a0685d7d26eee57\n""}]",0,803528,b1095aca29f7284853370f9fb3e64fdf3fc5c4ee,8,2,1,8992,,,0,"Hide the extra H1 heading in the docs

Hide the extra heading in the docs so we don't have double headers
showing up on each of the pages. Something changed in the wallaby
release that causes multiple headers to show. This patch introduces
some custom css to hide it for the time being.

Change-Id: Ia7c9dc8265e04cfb00ab33287a0685d7d26eee57
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/28/803528/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/source/_static/css/custom.css']",2,b1095aca29f7284853370f9fb3e64fdf3fc5c4ee,double-headings,"/* Get rid of the double header on the page. This should really be fixed * in the openstackdocstheme, but this is a temporary fix. */ .docs-body h1 { display: none; } ",,11,1
openstack%2Fcharm-deployment-guide~master~I5994bacda8a420db2d095cb98d75347fdd5e3f6d,openstack/charm-deployment-guide,master,I5994bacda8a420db2d095cb98d75347fdd5e3f6d,Hide the extra H1 heading in the docs,MERGED,2021-08-04 23:47:07.000000000,2021-08-05 00:27:46.000000000,2021-08-05 00:26:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-08-04 23:47:07.000000000', 'files': ['deploy-guide/source/_static/css/custom.css', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6396896684fb6170a7fbdab232a36dbb6eab3b43', 'message': ""Hide the extra H1 heading in the docs\n\nHide the extra heading in the docs so we don't have double headers\nshowing up on each of the pages. Something changed in the wallaby\nrelease that causes multiple headers to show. This patch introduces\nsome custom css to hide it for the time being.\n\nChange-Id: I5994bacda8a420db2d095cb98d75347fdd5e3f6d\n""}]",0,803531,6396896684fb6170a7fbdab232a36dbb6eab3b43,8,2,1,8992,,,0,"Hide the extra H1 heading in the docs

Hide the extra heading in the docs so we don't have double headers
showing up on each of the pages. Something changed in the wallaby
release that causes multiple headers to show. This patch introduces
some custom css to hide it for the time being.

Change-Id: I5994bacda8a420db2d095cb98d75347fdd5e3f6d
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/31/803531/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_static/css/custom.css', 'deploy-guide/source/conf.py']",2,6396896684fb6170a7fbdab232a36dbb6eab3b43,double-headings,"html_static_path = ['_static'] html_css_files = [ 'css/custom.css', ]",# html_static_path = [],11,1
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I84f2a7b9aae674d1971b4f64628ca59bf40419ad,openstack/tripleo-upgrade,stable/victoria,I84f2a7b9aae674d1971b4f64628ca59bf40419ad,Make the gerrit_url of patches configurable,MERGED,2021-08-04 09:21:21.000000000,2021-08-04 23:23:06.000000000,2021-08-04 23:23:06.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-08-04 09:21:21.000000000', 'files': ['templates/workarounds.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4b20f908c57299808b3b3e1c20ff0601d8d4069b', 'message': ""Make the gerrit_url of patches configurable\n\nCurrently patches must come from review.openstack.org but it may\nbe useful to also source them from an alternative gerrit.\n\nThis patch adds a new parameter called 'gerrit_url' which is the\nURL to the gerrit where the patch should be sourced from. The\ndefault value is 'https://review.opendev.org' to ensure that it\nmaintains the current behaviour for backwards compatibility.\n\nChange-Id: I84f2a7b9aae674d1971b4f64628ca59bf40419ad\n(cherry picked from commit d93341dc6898ec807119e6fd1d92690b9f47bfa9)\n""}]",0,803436,4b20f908c57299808b3b3e1c20ff0601d8d4069b,6,4,1,6816,,,0,"Make the gerrit_url of patches configurable

Currently patches must come from review.openstack.org but it may
be useful to also source them from an alternative gerrit.

This patch adds a new parameter called 'gerrit_url' which is the
URL to the gerrit where the patch should be sourced from. The
default value is 'https://review.opendev.org' to ensure that it
maintains the current behaviour for backwards compatibility.

Change-Id: I84f2a7b9aae674d1971b4f64628ca59bf40419ad
(cherry picked from commit d93341dc6898ec807119e6fd1d92690b9f47bfa9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/36/803436/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workarounds.sh.j2'],1,4b20f908c57299808b3b3e1c20ff0601d8d4069b,," local gerrit_url=$5 curl -4 --retry 5 ${gerrit_url}/changes/${patch_id}/revisions/${patch_revision}/patch?download | \ echo ""Failed to download patch ${gerrit_url}/${patch_id}""{% set _gerrit_url = value.gerrit_url | default('https://review.opendev.org', True) -%} apply_patch {{ value.basedir }} {{ value.id }} {{ _patch_revision }} {{ _patch_strip }} {{ _gerrit_url }}"," curl -4 --retry 5 https://review.opendev.org/changes/${patch_id}/revisions/${patch_revision}/patch?download | \ echo ""Failed to download patch https://review.opendev.org/#/c/${patch_id}/""apply_patch {{ value.basedir }} {{ value.id }} {{ _patch_revision }} {{ _patch_strip }}",5,3
openstack%2Ftripleo-heat-templates~master~Id6f991fc1fdb83341148ad653e16e24061c07e73,openstack/tripleo-heat-templates,master,Id6f991fc1fdb83341148ad653e16e24061c07e73,Replace deprecated glance::api::database_connection,ABANDONED,2021-08-04 23:14:01.000000000,2021-08-04 23:21:25.000000000,,[],"[{'number': 1, 'created': '2021-08-04 23:14:01.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed0745961bead6c99668282f1b5c2897f1677c44', 'message': 'Replace deprecated glance::api::database_connection\n\nDatabase parameters in glance::api were deprecated in favor of\nduplicated parameters in glance::api::db[1].\n\n[1] 10f14f29b10d3cb427e74ef2ad2c45be1ae97842\n\nChange-Id: Id6f991fc1fdb83341148ad653e16e24061c07e73\n'}]",0,803525,ed0745961bead6c99668282f1b5c2897f1677c44,2,0,1,9816,,,0,"Replace deprecated glance::api::database_connection

Database parameters in glance::api were deprecated in favor of
duplicated parameters in glance::api::db[1].

[1] 10f14f29b10d3cb427e74ef2ad2c45be1ae97842

Change-Id: Id6f991fc1fdb83341148ad653e16e24061c07e73
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/803525/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,ed0745961bead6c99668282f1b5c2897f1677c44,glance-db, - glance::api::db::database_connection:, - glance::api::database_connection:,1,1
openstack%2Fproject-config~master~Ifdc116115c9ef7773276aef5a6a69d4cf0b73367,openstack/project-config,master,Ifdc116115c9ef7773276aef5a6a69d4cf0b73367,Rename x/tap-as-a-service to openstack/tap-as-a-service,MERGED,2021-08-04 23:01:42.000000000,2021-08-04 23:17:01.000000000,2021-08-04 23:17:01.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 23:01:42.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/df7bfd672dc093284566f9ce04a78b142323e17d', 'message': ""Rename x/tap-as-a-service to openstack/tap-as-a-service\n\nWe missed one location in Zuul configs where this is listed as a\nrequired project. We need to update this name so that we can make\nchanges to project-config's zuul config.\n\nChange-Id: Ifdc116115c9ef7773276aef5a6a69d4cf0b73367\n""}]",0,803524,df7bfd672dc093284566f9ce04a78b142323e17d,6,2,1,4146,,,0,"Rename x/tap-as-a-service to openstack/tap-as-a-service

We missed one location in Zuul configs where this is listed as a
required project. We need to update this name so that we can make
changes to project-config's zuul config.

Change-Id: Ifdc116115c9ef7773276aef5a6a69d4cf0b73367
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/803524/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,df7bfd672dc093284566f9ce04a78b142323e17d,rename-tapaas, - openstack/tap-as-a-service, - x/tap-as-a-service,1,1
